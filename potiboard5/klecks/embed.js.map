{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@swc/helpers/src/_async_to_generator.mjs","node_modules/@swc/helpers/src/_object_spread.mjs","node_modules/@swc/helpers/src/_define_property.mjs","node_modules/@swc/helpers/src/_object_spread_props.mjs","node_modules/tslib/tslib.es6.js","node_modules/@swc/helpers/src/_type_of.mjs","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","src/app/script/language/language.ts","node_modules/@swc/helpers/src/_class_call_check.mjs","node_modules/@swc/helpers/src/_create_class.mjs","src/app/languages/languages.ts","src/app/languages/en.json","node_modules/@parcel/runtime-js/lib/runtime-65c46f39fc4854d3.js","node_modules/@parcel/runtime-js/lib/helpers/browser/js-loader.js","node_modules/@parcel/runtime-js/lib/helpers/cacheLoader.js","node_modules/@parcel/runtime-js/lib/runtime-7549403afd21ba99.js","node_modules/@parcel/runtime-js/lib/runtime-659081a7ca178eab.js","node_modules/@parcel/runtime-js/lib/runtime-4972370ba6e19b42.js","node_modules/@parcel/runtime-js/lib/runtime-4da88b21013e4c36.js","src/app/script/theme/theme.ts","src/app/script/bb/base/base.ts","node_modules/@swc/helpers/src/_sliced_to_array.mjs","node_modules/@swc/helpers/src/_array_with_holes.mjs","node_modules/@swc/helpers/src/_iterable_to_array.mjs","node_modules/@swc/helpers/src/_non_iterable_rest.mjs","node_modules/@swc/helpers/src/_unsupported_iterable_to_array.mjs","node_modules/@swc/helpers/src/_array_like_to_array.mjs","node_modules/@parcel/runtime-js/lib/runtime-20e7228a8012a8f2.js","node_modules/@parcel/runtime-js/lib/runtime-6f24b64c598f46fa.js","node_modules/@parcel/runtime-js/lib/helpers/browser/css-loader.js","node_modules/@parcel/runtime-js/lib/runtime-b59da534c1aaad98.js","src/app/script/embed/bootstrap/embed-wrapper.ts","src/app/script/embed/bootstrap/get-embed-url.ts","node_modules/@parcel/runtime-js/lib/runtime-9347f17d12902786.js","src/embed.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n","import defineProperty from './_define_property.mjs';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\n\nexport default function _objectSpreadProps(target, source) {\n  source = source != null ? source : {}\n  if (Object.getOwnPropertyDescriptors) {\n    Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n  } else {\n    ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(\n        target,\n        key,\n        Object.getOwnPropertyDescriptor(source, key)\n      );\n    });\n  }\n\n  return target;\n}","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.push(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.push(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","export default function _typeof(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","import {english, languages, loadLanguage, TTranslationCode} from '../../languages/languages';\r\n\r\nexport const LS_LANGUAGE_KEY = 'klecks-language';\r\n\r\nclass LanguageStrings {\r\n    private data: any;\r\n    private listeners: (() => void)[] = [];\r\n    private code: string;\r\n\r\n    // --- public ----\r\n    constructor () {\r\n        // need to use setLanguage for a different language\r\n        this.data = {...english};\r\n        this.code = 'en';\r\n    }\r\n\r\n    async setLanguage (langCode: string): Promise<void> {\r\n        if (langCode === 'en') {\r\n            this.data = {...english};\r\n        } else {\r\n            this.data = {...english, ...(await loadLanguage(langCode))};\r\n        }\r\n        this.code = langCode;\r\n        document.documentElement.setAttribute('lang', langCode);\r\n        this.listeners.forEach(item => {\r\n            item();\r\n        });\r\n    }\r\n\r\n    get (code: TTranslationCode): string {\r\n        if (!(code in this.data)) {\r\n            throw new Error('translation code doesn\\'t exist: ' + code);\r\n        }\r\n        return this.data[code];\r\n    }\r\n\r\n    getLanguage (): {code: string; name: string} {\r\n        return languages.find(item => {\r\n            return item.code === this.code;\r\n        })!;\r\n    }\r\n\r\n    getAutoLanguage (): {code: string; name: string} {\r\n        const autoCode = getLanguage(false);\r\n        return languages.find(item => {\r\n            return item.code === autoCode;\r\n        })!;\r\n    }\r\n\r\n    getCode (): string {\r\n        return this.code;\r\n    }\r\n\r\n    // get notified on language change\r\n    subscribe (subscriber: () => void) {\r\n        if (this.listeners.includes(subscriber)) {\r\n            return;\r\n        }\r\n        this.listeners.push(subscriber);\r\n    }\r\n\r\n    unsubscribe (subscriber: () => void) {\r\n        for (let i = 0; i < this.listeners.length; i++) {\r\n            if (subscriber === this.listeners[i]) {\r\n                this.listeners.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function getLanguage (useLocalStorage?: boolean): string {\r\n\r\n    let result: string = 'en';\r\n\r\n    const langs: string[] = []; // from highest to lowest priority\r\n    const navLangs = navigator.languages ? navigator.languages : [navigator.language];\r\n    navLangs.forEach(item => {\r\n        const split = item.split('-');\r\n        langs.push(item);\r\n        if (split.length === 2) {\r\n            langs.push(split[0]);\r\n        }\r\n    });\r\n\r\n    if (useLocalStorage) {\r\n        try {\r\n            if (localStorage.getItem(LS_LANGUAGE_KEY)) {\r\n                langs.unshift(localStorage.getItem(LS_LANGUAGE_KEY));\r\n            }\r\n        } catch (e) {\r\n            // likely cookies disabled in Safari\r\n        }\r\n    }\r\n\r\n    for (let i = 0; i < langs.length; i++) {\r\n        const lang = langs[i];\r\n        const found = languages.find(item => {\r\n            return item.code.toLowerCase() === lang.toLowerCase();\r\n        });\r\n        if (found) {\r\n            result = found.code;\r\n            break;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nconst activeLanguageCode = getLanguage(true);\r\nexport const languageStrings = new LanguageStrings();\r\n\r\nexport const LANG = (code: TTranslationCode | null, replace?: {[key: string]: string}): string => {\r\n    if (replace) {\r\n        let result = languageStrings.get(code);\r\n        const keyArr = Object.keys(replace);\r\n        keyArr.forEach(key => {\r\n            result = result.replace(`{${key}}`, replace[key]);\r\n        });\r\n        return result;\r\n    } else {\r\n        return languageStrings.get(code);\r\n    }\r\n};\r\n\r\nexport const initLANG = () => languageStrings.setLanguage(activeLanguageCode);","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","// generated from src/languages. \"npm run lang:build\" to update\n\nimport dataEn from './en.json';\n\nexport const english = dataEn;\nexport const languages: {code: string; name: string}[] = [\n    {\n        code: 'en',\n        name: 'English',\n    },\n    {\n        code: 'de',\n        name: 'Deutsch',\n    },\n    {\n        code: 'fr',\n        name: 'Français',\n    },\n    {\n        code: 'ja',\n        name: '日本語',\n    },\n    {\n        code: 'zh-CN',\n        name: '简体中文',\n    },\n    {\n        code: 'zh-TW',\n        name: '繁體中文',\n    },\n];\nexport const loadLanguage = async (code: string): Promise<Record<TTranslationCode, string>> => {\n    if (code === 'en') {\n        return english;\n    } else if (code === 'de') {\n        return await import('./de.json');\n    } else if (code === 'fr') {\n        return await import('./fr.json');\n    } else if (code === 'ja') {\n        return await import('./ja.json');\n    } else if (code === 'zh-CN') {\n        return await import('./zh-CN.json');\n    } else if (code === 'zh-TW') {\n        return await import('./zh-TW.json');\n    }\n    throw new Error('unknown language code');\n};\n\nexport type TTranslationCode = 'switch-ui-left-right' | // Switch left/right UI\n    'toggle-show-tools' | // Show/Hide Tools\n    'scroll' | // Scroll\n    'donate' | // Donate\n    'home' | // Home\n    'modal-new-tab' | // Open in new tab\n    'tab-edit' | // Edit\n    'tab-file' | // File\n    'tool-brush' | // Brush\n    'tool-paint-bucket' | // Paint Bucket\n    'tool-gradient' | // Gradient\n    'tool-shape' | // Shape\n    'tool-text' | // Text\n    'tool-hand' | // Hand Tool\n    'tool-zoom' | // Zoom\n    'undo' | // Undo\n    'redo' | // Redo\n    'brush-pen' | // Pen\n    'brush-blend' | // Blend\n    'brush-sketchy' | // Sketchy\n    'brush-pixel' | // Pixel\n    'brush-chemy' | // Chemy\n    'brush-smudge' | // Smudge\n    'brush-size' | // Size\n    'brush-blending' | // Blending\n    'brush-toggle-pressure' | // Toggle Pressure Sensitivity\n    'brush-pen-circle' | // Circle\n    'brush-pen-chalk' | // Chalk\n    'brush-pen-calligraphy' | // Calligraphy\n    'brush-pen-square' | // Square\n    'brush-sketchy-scale' | // Scale\n    'brush-pixel-dither' | // Dither\n    'brush-chemy-fill' | // Fill\n    'brush-chemy-stroke' | // Stroke\n    'brush-chemy-mirror-x' | // Horizontal Symmetry\n    'brush-chemy-mirror-y' | // Vertical Symmetry\n    'brush-chemy-gradient' | // Gradient\n    'brush-eraser-transparent-bg' | // Transparent Background\n    'stabilizer' | // Stabilizer\n    'stabilizer-title' | // Stroke Stabilizer\n    'eyedropper' | // Eyedropper\n    'secondary-color' | // Secondary Color\n    'manual-color-input' | // Manual Color Input\n    'mci-hex' | // Hex\n    'mci-copy' | // Copy\n    'modal-ok' | // Ok\n    'modal-cancel' | // Cancel\n    'modal-close' | // Close\n    'layers-active-layer' | // Active Layer\n    'layers-layer' | // Layer\n    'layers-copy' | // copy\n    'layers-blending' | // Blending\n    'layers-new' | // New Layer\n    'layers-remove' | // Remove Layer\n    'layers-duplicate' | // Duplicate Layer\n    'layers-merge' | // Merge with layer below\n    'layers-rename' | // Rename\n    'layers-blend-normal' | // normal\n    'layers-blend-darken' | // darken\n    'layers-blend-multiply' | // multiply\n    'layers-blend-color-burn' | // color burn\n    'layers-blend-lighten' | // lighten\n    'layers-blend-screen' | // screen\n    'layers-blend-color-dodge' | // color dodge\n    'layers-blend-overlay' | // overlay\n    'layers-blend-soft-light' | // soft light\n    'layers-blend-hard-light' | // hard light\n    'layers-blend-difference' | // difference\n    'layers-blend-exclusion' | // exclusion\n    'layers-blend-hue' | // hue\n    'layers-blend-saturation' | // saturation\n    'layers-blend-color' | // color\n    'layers-blend-luminosity' | // luminosity\n    'layers-rename-title' | // Rename Layer\n    'layers-rename-name' | // Name\n    'layers-rename-clear' | // Clear Name\n    'layers-rename-sketch' | // Sketch\n    'layers-rename-colors' | // Colors\n    'layers-rename-shading' | // Shading\n    'layers-rename-lines' | // Lines\n    'layers-rename-effects' | // Effects\n    'layers-rename-foreground' | // Foreground\n    'layers-merge-modal-title' | // Merge/Mix Layers\n    'layers-merge-description' | // Merges the selected layer with the one underneath. Select the mix mode:\n    'file-no-autosave' | // No autosave, no cloud storage\n    'file-new' | // New\n    'file-import' | // Import\n    'file-save' | // Save\n    'file-format' | // File Format\n    'file-copy' | // Copy\n    'file-copy-title' | // Copy To Clipboard\n    'file-share' | // Share\n    'file-storage' | // Browser Storage\n    'file-storage-thumb-title' | // Restores when reopening page\n    'file-storage-about' | // About Browser Storage\n    'file-storage-cant-access' | // Can't access\n    'file-storage-empty' | // Empty\n    'file-storage-store' | // Store\n    'file-storage-clear' | // Clear\n    'file-storage-storing' | // Storing\n    'file-storage-overwrite' | // Overwrite\n    'file-storage-min-ago' | // {x}min ago\n    'file-storage-hours-ago' | // {x}h ago\n    'file-storage-days-ago' | // {x}d ago\n    'file-storage-month-ago' | // > 1month ago\n    'file-storage-restored' | // Restored from Browser Storage\n    'file-storage-stored' | // Stored to Browser Storage\n    'file-storage-failed' | // Failed to store to Browser Storage\n    'file-storage-failed-1' | // Failed to store. Possible causes:\n    'file-storage-failed-2' | // Out of disk space\n    'file-storage-failed-3' | // Storage disabled in incognito tab\n    'file-storage-failed-4' | // Browser doesn't support storage\n    'file-storage-failed-clear' | // Failed to clear.\n    'file-upload' | // Upload\n    'cleared-layer' | // Cleared layer\n    'filled' | // Filled\n    'new-title' | // New Image\n    'new-current' | // Current\n    'new-fit' | // Fit\n    'new-oversize' | // Oversize\n    'new-square' | // Square\n    'new-landscape' | // Landscape\n    'new-portrait' | // Portrait\n    'new-screen' | // Screen\n    'new-video' | // Video\n    'new-din-paper' | // DIN Paper\n    'new-px' | // px\n    'new-ratio' | // Ratio\n    'upload-title' | // Upload to Imgur\n    'upload-link-notice' | // Anyone with the link to your uploaded image will be able to view it.\n    'upload-name' | // Title\n    'upload-title-untitled' | // Untitled\n    'upload-caption' | // Caption\n    'upload-submit' | // Upload\n    'upload-uploading' | // Uploading...\n    'upload-success' | // Upload Successful\n    'upload-failed' | // Upload failed.\n    'upload-delete' | // To delete your image from Imgur visit:\n    'cropcopy-title-copy' | // Copy To Clipboard\n    'cropcopy-title-crop' | // Crop\n    'cropcopy-click-hold' | // Right-click or press hold to copy.\n    'cropcopy-btn-copy' | // To Clipboard\n    'cropcopy-copied' | // Copied.\n    'cropcopy-btn-crop' | // Apply Crop\n    'crop-drag-to-crop' | // Drag to crop\n    'filter-crop-extend' | // Crop/Extend\n    'filter-flip' | // Flip\n    'filter-perspective' | // Perspective\n    'filter-resize' | // Resize\n    'filter-rotate' | // Rotate\n    'filter-transform' | // Transform\n    'filter-bright-contrast' | // Bright/Contrast\n    'filter-curves' | // Curves\n    'filter-hue-sat' | // Hue/Saturation\n    'filter-invert' | // Invert\n    'filter-tilt-shift' | // Tilt Shift\n    'filter-to-alpha' | // To Alpha\n    'filter-triangle-blur' | // Triangle Blur\n    'filter-unsharp-mask' | // Unsharp Mask\n    'filter-crop-title' | // Crop / Extend\n    'filter-crop-description' | // Crop or extend the image.\n    'filter-crop-left' | // Left\n    'filter-crop-right' | // Right\n    'filter-crop-top' | // Top\n    'filter-crop-bottom' | // Bottom\n    'filter-crop-rule-thirds' | // Rule of Thirds\n    'filter-crop-fill' | // Fill\n    'filter-flip-title' | // Flip\n    'filter-flip-description' | // Flips layer or whole image.\n    'filter-flip-horizontal' | // Horizontal\n    'filter-flip-vertical' | // Vertical\n    'filter-flip-image' | // Flip Image\n    'filter-flip-layer' | // Flip Layer\n    'filter-perspective-title' | // Perspective\n    'filter-perspective-description' | // Transforms the selected layer.\n    'filter-resize-title' | // Resize\n    'filter-resize-description' | // Resizes the image.\n    'filter-rotate-title' | // Rotate\n    'filter-rotate-description' | // Rotates the image.\n    'filter-transform-empty' | // Layer is empty.\n    'filter-transform-title' | // Transform\n    'filter-transform-description' | // Transforms selected layer. Hold Shift for additional behavior.\n    'filter-transform-rotation' | // Rotation\n    'filter-transform-flip' | // Flip\n    'filter-transform-center' | // Center\n    'filter-transform-constrain' | // Constrain\n    'filter-transform-snap' | // Snap\n    'filter-transform-snap-title' | // Snap Rotation And Position\n    'filter-bright-contrast-title' | // Brightness / Contrast\n    'filter-bright-contrast-description' | // Change brightness and contrast for the selected layer.\n    'filter-bright-contrast-brightness' | // Brightness\n    'filter-bright-contrast-contrast' | // Contrast\n    'filter-curves-title' | // Curves\n    'filter-curves-description' | // Apply curves on the selected layer.\n    'filter-curves-all' | // All\n    'filter-hue-sat-title' | // Hue / Saturation\n    'filter-hue-sat-description' | // Change hue and saturation for the selected layer.\n    'filter-hue-sat-hue' | // Hue\n    'filter-hue-sat-saturation' | // Saturation\n    'filter-applied' | // applied\n    'filter-tilt-shift-title' | // Tilt Shift\n    'filter-tilt-shift-description' | // Applies tilt shift on the selected layer.\n    'filter-tilt-shift-blur' | // Blur Radius\n    'filter-tilt-shift-gradient' | // Gradient Radius\n    'filter-to-alpha-title' | // To Alpha\n    'filter-to-alpha-description' | // Generates alpha channel for selected layer from:\n    'filter-to-alpha-inverted-lum' | // Inverted Luminance\n    'filter-to-alpha-lum' | // Luminance\n    'filter-to-alpha-replace' | // Replace RGB\n    'filter-triangle-blur-title' | // Triangle Blur\n    'filter-triangle-blur-description' | // Applies triangle blur on the selected layer.\n    'filter-unsharp-mask-title' | // Unsharp Mask\n    'filter-unsharp-mask-description' | // Sharpens the selected layer by scaling pixels away from the average of their neighbors.\n    'filter-unsharp-mask-strength' | // Strength\n    'filter-grid' | // Grid\n    'filter-grid-description' | // Draws grid on selected layer.\n    'filter-noise' | // Noise\n    'filter-noise-description' | // Adds noise to selected layer.\n    'filter-noise-scale' | // Scale\n    'filter-noise-alpha' | // Alpha\n    'filter-pattern' | // Pattern\n    'filter-pattern-description' | // Generates pattern on selected layer. Drag the preview for further controls.\n    'filter-distort' | // Distort\n    'filter-distort-description' | // Distorts the selected layer.\n    'filter-distort-phase' | // Phase\n    'filter-distort-stepsize' | // Step Size\n    'filter-distort-sync-xy' | // Sync XY\n    'filter-vanish-point' | // Vanish Point\n    'filter-vanish-point-title' | // Vanishing Point\n    'filter-vanish-point-description' | // Adds vanishing point to selected layer. Drag preview to move.\n    'filter-vanish-point-lines' | // Lines\n    'import-opening' | // Opening file...\n    'import-title' | // Import Image\n    'import-too-large' | // Image too large, will be downscaled.\n    'import-btn-as-layer' | // As Layer\n    'import-btn-as-image' | // As Image\n    'import-as-layer-title' | // Import Image as New Layer\n    'import-as-layer-description' | // Adjust the position of the imported image.\n    'import-as-layer-limit-reached' | // Layer limit reached. Image will be placed on existing layer.\n    'import-as-layer-fit' | // Fit\n    'import-flatten' | // Flatten image\n    'import-unsupported-file' | // Unsupported file type. See Help for supported types.\n    'import-broken-file' | // Couldn't load image. File might be corrupted.\n    'import-psd-unsupported' | // Unsupported features. PSD had to be flattened.\n    'import-psd-limited-support' | // PSD support is limited. Flattened will more likely look correct.\n    'import-psd-too-large' | // Image exceeds maximum dimensions of {x} x {x} pixels. Unable to import.\n    'import-psd-size' | // Image size\n    'hand-reset' | // Reset\n    'hand-fit' | // Fit\n    'bucket-tolerance' | // Tolerance\n    'bucket-sample' | // Sample\n    'bucket-sample-title' | // Which layers to sample color from\n    'bucket-sample-all' | // All\n    'bucket-sample-active' | // Active\n    'bucket-sample-above' | // Above\n    'bucket-grow' | // Grow\n    'bucket-grow-title' | // Grow filled area (in pixels)\n    'bucket-contiguous' | // Contiguous\n    'bucket-contiguous-title' | // Only fill connected areas\n    'gradient-linear' | // Linear\n    'gradient-linear-mirror' | // Linear-Mirror\n    'gradient-radial' | // Radial\n    'shape-stroke' | // Stroke\n    'shape-fill' | // Fill\n    'shape-rect' | // Rectangle\n    'shape-ellipse' | // Ellipse\n    'shape-line' | // Line\n    'shape-line-width' | // Line Width\n    'shape-outwards' | // Outwards\n    'shape-fixed' | // Fixed 1:1\n    'text-instruction' | // Click canvas to place text\n    'text-title' | // Add Text\n    'text-placeholder' | // Your text (multiline Shift+Enter)\n    'text-color' | // Color\n    'text-size' | // Size\n    'text-left' | // Left\n    'text-center' | // Center\n    'text-right' | // Right\n    'text-italic' | // Italic\n    'text-bold' | // Bold\n    'save-reminder-title' | // Unsaved Work\n    'save-reminder-text' | // Image was not saved in {a} minutes{b}. Save now to prevent eventual loss.\n    'save-reminder-save-psd' | // Save As PSD\n    'save-reminder-psd-layers' | // PSD will remember all layers.\n    'submit' | // Submit\n    'submit-title' | // Submit Drawing\n    'submit-prompt' | // Submit drawing?\n    'submit-submitting' | // Submitting\n    'embed-init-loading' | // Loading app\n    'embed-init-waiting' | // Waiting for image\n    'unsaved' | // Unsaved\n    'help' | // Help\n    'tab-settings' | // Settings\n    'settings-language' | // Language\n    'settings-language-reload' | // Will update after reloading.\n    'settings-theme' | // Theme\n    'theme-dark' | // Dark\n    'theme-light' | // Light\n    'terms-of-service' | // Terms of Service\n    'licenses' | // Licenses\n    'source-code' | // Source Code\n    'auto' | // auto\n    'zoom-in' | // Zoom In\n    'zoom-out' | // Zoom Out\n    'radius' | // Radius\n    'constrain-proportions' | // Constrain Proportions\n    'width' | // Width\n    'height' | // Height\n    'opacity' | // Opacity\n    'red' | // Red\n    'green' | // Green\n    'blue' | // Blue\n    'eraser' | // Eraser\n    'center' | // Center\n    'layers' | // Layers\n    'background' | // Background\n    'scaling-algorithm' | // Scaling Algorithm\n    'algorithm-smooth' | // Smooth\n    'algorithm-pixelated' | // Pixelated\n    'preview' | // Preview\n    'angle-snap' | // Snap\n    'angle-snap-title' | // 45° Angle Snapping\n    'lock-alpha' | // Lock Alpha\n    'lock-alpha-title' | // Locks layer's alpha channel\n    'reverse' | // Reverse\n    'compare-before' | // Before\n    'compare-after'; // After\n","{\"switch-ui-left-right\":\"Switch left/right UI\",\"toggle-show-tools\":\"Show/Hide Tools\",\"scroll\":\"Scroll\",\"donate\":\"Donate\",\"home\":\"Home\",\"modal-new-tab\":\"Open in new tab\",\"tab-edit\":\"Edit\",\"tab-file\":\"File\",\"tool-brush\":\"Brush\",\"tool-paint-bucket\":\"Paint Bucket\",\"tool-gradient\":\"Gradient\",\"tool-shape\":\"Shape\",\"tool-text\":\"Text\",\"tool-hand\":\"Hand Tool\",\"tool-zoom\":\"Zoom\",\"undo\":\"Undo\",\"redo\":\"Redo\",\"brush-pen\":\"Pen\",\"brush-blend\":\"Blend\",\"brush-sketchy\":\"Sketchy\",\"brush-pixel\":\"Pixel\",\"brush-chemy\":\"Chemy\",\"brush-smudge\":\"Smudge\",\"brush-size\":\"Size\",\"brush-blending\":\"Blending\",\"brush-toggle-pressure\":\"Toggle Pressure Sensitivity\",\"brush-pen-circle\":\"Circle\",\"brush-pen-chalk\":\"Chalk\",\"brush-pen-calligraphy\":\"Calligraphy\",\"brush-pen-square\":\"Square\",\"brush-sketchy-scale\":\"Scale\",\"brush-pixel-dither\":\"Dither\",\"brush-chemy-fill\":\"Fill\",\"brush-chemy-stroke\":\"Stroke\",\"brush-chemy-mirror-x\":\"Horizontal Symmetry\",\"brush-chemy-mirror-y\":\"Vertical Symmetry\",\"brush-chemy-gradient\":\"Gradient\",\"brush-eraser-transparent-bg\":\"Transparent Background\",\"stabilizer\":\"Stabilizer\",\"stabilizer-title\":\"Stroke Stabilizer\",\"eyedropper\":\"Eyedropper\",\"secondary-color\":\"Secondary Color\",\"manual-color-input\":\"Manual Color Input\",\"mci-hex\":\"Hex\",\"mci-copy\":\"Copy\",\"modal-ok\":\"Ok\",\"modal-cancel\":\"Cancel\",\"modal-close\":\"Close\",\"layers-active-layer\":\"Active Layer\",\"layers-layer\":\"Layer\",\"layers-copy\":\"copy\",\"layers-blending\":\"Blending\",\"layers-new\":\"New Layer\",\"layers-remove\":\"Remove Layer\",\"layers-duplicate\":\"Duplicate Layer\",\"layers-merge\":\"Merge with layer below\",\"layers-rename\":\"Rename\",\"layers-blend-normal\":\"normal\",\"layers-blend-darken\":\"darken\",\"layers-blend-multiply\":\"multiply\",\"layers-blend-color-burn\":\"color burn\",\"layers-blend-lighten\":\"lighten\",\"layers-blend-screen\":\"screen\",\"layers-blend-color-dodge\":\"color dodge\",\"layers-blend-overlay\":\"overlay\",\"layers-blend-soft-light\":\"soft light\",\"layers-blend-hard-light\":\"hard light\",\"layers-blend-difference\":\"difference\",\"layers-blend-exclusion\":\"exclusion\",\"layers-blend-hue\":\"hue\",\"layers-blend-saturation\":\"saturation\",\"layers-blend-color\":\"color\",\"layers-blend-luminosity\":\"luminosity\",\"layers-rename-title\":\"Rename Layer\",\"layers-rename-name\":\"Name\",\"layers-rename-clear\":\"Clear Name\",\"layers-rename-sketch\":\"Sketch\",\"layers-rename-colors\":\"Colors\",\"layers-rename-shading\":\"Shading\",\"layers-rename-lines\":\"Lines\",\"layers-rename-effects\":\"Effects\",\"layers-rename-foreground\":\"Foreground\",\"layers-merge-modal-title\":\"Merge/Mix Layers\",\"layers-merge-description\":\"Merges the selected layer with the one underneath. Select the mix mode:\",\"file-no-autosave\":\"No autosave, no cloud storage\",\"file-new\":\"New\",\"file-import\":\"Import\",\"file-save\":\"Save\",\"file-format\":\"File Format\",\"file-copy\":\"Copy\",\"file-copy-title\":\"Copy To Clipboard\",\"file-share\":\"Share\",\"file-storage\":\"Browser Storage\",\"file-storage-thumb-title\":\"Restores when reopening page\",\"file-storage-about\":\"About Browser Storage\",\"file-storage-cant-access\":\"Can't access\",\"file-storage-empty\":\"Empty\",\"file-storage-store\":\"Store\",\"file-storage-clear\":\"Clear\",\"file-storage-storing\":\"Storing\",\"file-storage-overwrite\":\"Overwrite\",\"file-storage-min-ago\":\"{x}min ago\",\"file-storage-hours-ago\":\"{x}h ago\",\"file-storage-days-ago\":\"{x}d ago\",\"file-storage-month-ago\":\"> 1month ago\",\"file-storage-restored\":\"Restored from Browser Storage\",\"file-storage-stored\":\"Stored to Browser Storage\",\"file-storage-failed\":\"Failed to store to Browser Storage\",\"file-storage-failed-1\":\"Failed to store. Possible causes:\",\"file-storage-failed-2\":\"Out of disk space\",\"file-storage-failed-3\":\"Storage disabled in incognito tab\",\"file-storage-failed-4\":\"Browser doesn't support storage\",\"file-storage-failed-clear\":\"Failed to clear.\",\"file-upload\":\"Upload\",\"cleared-layer\":\"Cleared layer\",\"filled\":\"Filled\",\"new-title\":\"New Image\",\"new-current\":\"Current\",\"new-fit\":\"Fit\",\"new-oversize\":\"Oversize\",\"new-square\":\"Square\",\"new-landscape\":\"Landscape\",\"new-portrait\":\"Portrait\",\"new-screen\":\"Screen\",\"new-video\":\"Video\",\"new-din-paper\":\"DIN Paper\",\"new-px\":\"px\",\"new-ratio\":\"Ratio\",\"upload-title\":\"Upload to Imgur\",\"upload-link-notice\":\"Anyone with the link to your uploaded image will be able to view it.\",\"upload-name\":\"Title\",\"upload-title-untitled\":\"Untitled\",\"upload-caption\":\"Caption\",\"upload-submit\":\"Upload\",\"upload-uploading\":\"Uploading...\",\"upload-success\":\"Upload Successful\",\"upload-failed\":\"Upload failed.\",\"upload-delete\":\"To delete your image from Imgur visit:\",\"cropcopy-title-copy\":\"Copy To Clipboard\",\"cropcopy-title-crop\":\"Crop\",\"cropcopy-click-hold\":\"Right-click or press hold to copy.\",\"cropcopy-btn-copy\":\"To Clipboard\",\"cropcopy-copied\":\"Copied.\",\"cropcopy-btn-crop\":\"Apply Crop\",\"crop-drag-to-crop\":\"Drag to crop\",\"filter-crop-extend\":\"Crop/Extend\",\"filter-flip\":\"Flip\",\"filter-perspective\":\"Perspective\",\"filter-resize\":\"Resize\",\"filter-rotate\":\"Rotate\",\"filter-transform\":\"Transform\",\"filter-bright-contrast\":\"Bright/Contrast\",\"filter-curves\":\"Curves\",\"filter-hue-sat\":\"Hue/Saturation\",\"filter-invert\":\"Invert\",\"filter-tilt-shift\":\"Tilt Shift\",\"filter-to-alpha\":\"To Alpha\",\"filter-triangle-blur\":\"Triangle Blur\",\"filter-unsharp-mask\":\"Unsharp Mask\",\"filter-crop-title\":\"Crop / Extend\",\"filter-crop-description\":\"Crop or extend the image.\",\"filter-crop-left\":\"Left\",\"filter-crop-right\":\"Right\",\"filter-crop-top\":\"Top\",\"filter-crop-bottom\":\"Bottom\",\"filter-crop-rule-thirds\":\"Rule of Thirds\",\"filter-crop-fill\":\"Fill\",\"filter-flip-title\":\"Flip\",\"filter-flip-description\":\"Flips layer or whole image.\",\"filter-flip-horizontal\":\"Horizontal\",\"filter-flip-vertical\":\"Vertical\",\"filter-flip-image\":\"Flip Image\",\"filter-flip-layer\":\"Flip Layer\",\"filter-perspective-title\":\"Perspective\",\"filter-perspective-description\":\"Transforms the selected layer.\",\"filter-resize-title\":\"Resize\",\"filter-resize-description\":\"Resizes the image.\",\"filter-rotate-title\":\"Rotate\",\"filter-rotate-description\":\"Rotates the image.\",\"filter-transform-empty\":\"Layer is empty.\",\"filter-transform-title\":\"Transform\",\"filter-transform-description\":\"Transforms selected layer. Hold Shift for additional behavior.\",\"filter-transform-rotation\":\"Rotation\",\"filter-transform-flip\":\"Flip\",\"filter-transform-center\":\"Center\",\"filter-transform-constrain\":\"Constrain\",\"filter-transform-snap\":\"Snap\",\"filter-transform-snap-title\":\"Snap Rotation And Position\",\"filter-bright-contrast-title\":\"Brightness / Contrast\",\"filter-bright-contrast-description\":\"Change brightness and contrast for the selected layer.\",\"filter-bright-contrast-brightness\":\"Brightness\",\"filter-bright-contrast-contrast\":\"Contrast\",\"filter-curves-title\":\"Curves\",\"filter-curves-description\":\"Apply curves on the selected layer.\",\"filter-curves-all\":\"All\",\"filter-hue-sat-title\":\"Hue / Saturation\",\"filter-hue-sat-description\":\"Change hue and saturation for the selected layer.\",\"filter-hue-sat-hue\":\"Hue\",\"filter-hue-sat-saturation\":\"Saturation\",\"filter-applied\":\"applied\",\"filter-tilt-shift-title\":\"Tilt Shift\",\"filter-tilt-shift-description\":\"Applies tilt shift on the selected layer.\",\"filter-tilt-shift-blur\":\"Blur Radius\",\"filter-tilt-shift-gradient\":\"Gradient Radius\",\"filter-to-alpha-title\":\"To Alpha\",\"filter-to-alpha-description\":\"Generates alpha channel for selected layer from:\",\"filter-to-alpha-inverted-lum\":\"Inverted Luminance\",\"filter-to-alpha-lum\":\"Luminance\",\"filter-to-alpha-replace\":\"Replace RGB\",\"filter-triangle-blur-title\":\"Triangle Blur\",\"filter-triangle-blur-description\":\"Applies triangle blur on the selected layer.\",\"filter-unsharp-mask-title\":\"Unsharp Mask\",\"filter-unsharp-mask-description\":\"Sharpens the selected layer by scaling pixels away from the average of their neighbors.\",\"filter-unsharp-mask-strength\":\"Strength\",\"filter-grid\":\"Grid\",\"filter-grid-description\":\"Draws grid on selected layer.\",\"filter-noise\":\"Noise\",\"filter-noise-description\":\"Adds noise to selected layer.\",\"filter-noise-scale\":\"Scale\",\"filter-noise-alpha\":\"Alpha\",\"filter-pattern\":\"Pattern\",\"filter-pattern-description\":\"Generates pattern on selected layer. Drag the preview for further controls.\",\"filter-distort\":\"Distort\",\"filter-distort-description\":\"Distorts the selected layer.\",\"filter-distort-phase\":\"Phase\",\"filter-distort-stepsize\":\"Step Size\",\"filter-distort-sync-xy\":\"Sync XY\",\"filter-vanish-point\":\"Vanish Point\",\"filter-vanish-point-title\":\"Vanishing Point\",\"filter-vanish-point-description\":\"Adds vanishing point to selected layer. Drag preview to move.\",\"filter-vanish-point-lines\":\"Lines\",\"import-opening\":\"Opening file...\",\"import-title\":\"Import Image\",\"import-too-large\":\"Image too large, will be downscaled.\",\"import-btn-as-layer\":\"As Layer\",\"import-btn-as-image\":\"As Image\",\"import-as-layer-title\":\"Import Image as New Layer\",\"import-as-layer-description\":\"Adjust the position of the imported image.\",\"import-as-layer-limit-reached\":\"Layer limit reached. Image will be placed on existing layer.\",\"import-as-layer-fit\":\"Fit\",\"import-flatten\":\"Flatten image\",\"import-unsupported-file\":\"Unsupported file type. See Help for supported types.\",\"import-broken-file\":\"Couldn't load image. File might be corrupted.\",\"import-psd-unsupported\":\"Unsupported features. PSD had to be flattened.\",\"import-psd-limited-support\":\"PSD support is limited. Flattened will more likely look correct.\",\"import-psd-too-large\":\"Image exceeds maximum dimensions of {x} x {x} pixels. Unable to import.\",\"import-psd-size\":\"Image size\",\"hand-reset\":\"Reset\",\"hand-fit\":\"Fit\",\"bucket-tolerance\":\"Tolerance\",\"bucket-sample\":\"Sample\",\"bucket-sample-title\":\"Which layers to sample color from\",\"bucket-sample-all\":\"All\",\"bucket-sample-active\":\"Active\",\"bucket-sample-above\":\"Above\",\"bucket-grow\":\"Grow\",\"bucket-grow-title\":\"Grow filled area (in pixels)\",\"bucket-contiguous\":\"Contiguous\",\"bucket-contiguous-title\":\"Only fill connected areas\",\"gradient-linear\":\"Linear\",\"gradient-linear-mirror\":\"Linear-Mirror\",\"gradient-radial\":\"Radial\",\"shape-stroke\":\"Stroke\",\"shape-fill\":\"Fill\",\"shape-rect\":\"Rectangle\",\"shape-ellipse\":\"Ellipse\",\"shape-line\":\"Line\",\"shape-line-width\":\"Line Width\",\"shape-outwards\":\"Outwards\",\"shape-fixed\":\"Fixed 1:1\",\"text-instruction\":\"Click canvas to place text\",\"text-title\":\"Add Text\",\"text-placeholder\":\"Your text (multiline Shift+Enter)\",\"text-color\":\"Color\",\"text-size\":\"Size\",\"text-left\":\"Left\",\"text-center\":\"Center\",\"text-right\":\"Right\",\"text-italic\":\"Italic\",\"text-bold\":\"Bold\",\"save-reminder-title\":\"Unsaved Work\",\"save-reminder-text\":\"Image was not saved in {a} minutes{b}. Save now to prevent eventual loss.\",\"save-reminder-save-psd\":\"Save As PSD\",\"save-reminder-psd-layers\":\"PSD will remember all layers.\",\"submit\":\"Submit\",\"submit-title\":\"Submit Drawing\",\"submit-prompt\":\"Submit drawing?\",\"submit-submitting\":\"Submitting\",\"embed-init-loading\":\"Loading app\",\"embed-init-waiting\":\"Waiting for image\",\"unsaved\":\"Unsaved\",\"help\":\"Help\",\"tab-settings\":\"Settings\",\"settings-language\":\"Language\",\"settings-language-reload\":\"Will update after reloading.\",\"settings-theme\":\"Theme\",\"theme-dark\":\"Dark\",\"theme-light\":\"Light\",\"terms-of-service\":\"Terms of Service\",\"licenses\":\"Licenses\",\"source-code\":\"Source Code\",\"auto\":\"auto\",\"zoom-in\":\"Zoom In\",\"zoom-out\":\"Zoom Out\",\"radius\":\"Radius\",\"constrain-proportions\":\"Constrain Proportions\",\"width\":\"Width\",\"height\":\"Height\",\"opacity\":\"Opacity\",\"red\":\"Red\",\"green\":\"Green\",\"blue\":\"Blue\",\"eraser\":\"Eraser\",\"center\":\"Center\",\"layers\":\"Layers\",\"background\":\"Background\",\"scaling-algorithm\":\"Scaling Algorithm\",\"algorithm-smooth\":\"Smooth\",\"algorithm-pixelated\":\"Pixelated\",\"preview\":\"Preview\",\"angle-snap\":\"Snap\",\"angle-snap-title\":\"45° Angle Snapping\",\"lock-alpha\":\"Lock Alpha\",\"lock-alpha-title\":\"Locks layer's alpha channel\",\"reverse\":\"Reverse\",\"compare-before\":\"Before\",\"compare-after\":\"After\"}","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('dGDZJ') + require('./helpers/bundle-manifest').resolve(\"5RGAp\"))).then(() => parcelRequire('fz5vW'));","\"use strict\";\n\nvar cacheLoader = require('../cacheLoader');\n\nmodule.exports = cacheLoader(function (bundle) {\n  return new Promise(function (resolve, reject) {\n    // Don't insert the same script twice (e.g. if it was already in the HTML)\n    var existingScripts = document.getElementsByTagName('script');\n\n    if ([].concat(existingScripts).some(function isCurrentBundle(script) {\n      return script.src === bundle;\n    })) {\n      resolve();\n      return;\n    }\n\n    var preloadLink = document.createElement('link');\n    preloadLink.href = bundle;\n    preloadLink.rel = 'preload';\n    preloadLink.as = 'script';\n    document.head.appendChild(preloadLink);\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.src = bundle;\n\n    script.onerror = function (e) {\n      var error = new TypeError(\"Failed to fetch dynamically imported module: \".concat(bundle, \". Error: \").concat(e.message));\n      script.onerror = script.onload = null;\n      script.remove();\n      reject(error);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n});","\"use strict\";\n\nvar cachedBundles = {};\nvar cachedPreloads = {};\nvar cachedPrefetches = {};\n\nfunction getCache(type) {\n  switch (type) {\n    case 'preload':\n      return cachedPreloads;\n\n    case 'prefetch':\n      return cachedPrefetches;\n\n    default:\n      return cachedBundles;\n  }\n}\n\nmodule.exports = function (loader, type) {\n  return function (bundle) {\n    var cache = getCache(type);\n\n    if (cache[bundle]) {\n      return cache[bundle];\n    }\n\n    return cache[bundle] = loader.apply(null, arguments).catch(function (e) {\n      delete cache[bundle];\n      throw e;\n    });\n  };\n};","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('dGDZJ') + require('./helpers/bundle-manifest').resolve(\"2bKIP\"))).then(() => parcelRequire('iGIhP'));","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('dGDZJ') + require('./helpers/bundle-manifest').resolve(\"y5edP\"))).then(() => parcelRequire('7ZPTi'));","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('dGDZJ') + require('./helpers/bundle-manifest').resolve(\"dsJ3g\"))).then(() => parcelRequire('blNy6'));","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('dGDZJ') + require('./helpers/bundle-manifest').resolve(\"lF1Tu\"))).then(() => parcelRequire('iRLcJ'));","import {addIsDarkListener, isDark} from '../bb/base/base';\r\n\r\nconst LS_THEME_KEY = 'klecks-theme';\r\n\r\nexport type TTheme = 'dark' | 'light';\r\ntype TThemeListener = () => void;\r\n\r\nclass Theme {\r\n\r\n    private storedTheme: TTheme | undefined;\r\n    // initialization will be overwritten.\r\n    private mediaQueryTheme: TTheme = 'light'; // prefers-color-scheme\r\n    private theme: TTheme = 'light';\r\n    private readonly listeners: TThemeListener[] = [];\r\n\r\n    private updateTheme (): void {\r\n        const oldTheme = this.theme;\r\n        this.theme = this.storedTheme || this.mediaQueryTheme;\r\n\r\n        if (this.theme === oldTheme) {\r\n            return;\r\n        }\r\n        document.body.classList.toggle('kl-theme-dark', this.theme === 'dark');\r\n        this.listeners.forEach(item => item());\r\n    }\r\n\r\n    private readLocalStorage (): TTheme | undefined {\r\n        let result = localStorage.getItem(LS_THEME_KEY) as unknown;\r\n        if (!result || (typeof result === 'string' && !['dark', 'light'].includes(result))) {\r\n            result = undefined;\r\n            localStorage.removeItem(LS_THEME_KEY); // reset because invalid\r\n        }\r\n        return result as (TTheme | undefined);\r\n    }\r\n\r\n    // ---- public ----\r\n    constructor () {\r\n\r\n        // init media query\r\n        this.mediaQueryTheme = isDark() ? 'dark' : 'light';\r\n        addIsDarkListener(() => {\r\n            this.mediaQueryTheme = isDark() ? 'dark' : 'light';\r\n            this.updateTheme();\r\n        });\r\n\r\n        // init local storage\r\n        this.storedTheme = this.readLocalStorage();\r\n        addEventListener('storage', (e) => {\r\n            if (e.key === LS_THEME_KEY) {\r\n                this.storedTheme = this.readLocalStorage();\r\n                this.updateTheme();\r\n            }\r\n        });\r\n\r\n        this.updateTheme();\r\n    }\r\n\r\n    isDark (): boolean {\r\n        return this.theme === 'dark';\r\n    }\r\n\r\n    addIsDarkListener (func: TThemeListener): void {\r\n        if (this.listeners.includes(func)) {\r\n            return;\r\n        }\r\n        this.listeners.push(func);\r\n    }\r\n\r\n    removeIsDarkListener (func: TThemeListener): void {\r\n        for (let i = 0; i < this.listeners.length; i++) {\r\n            if (this.listeners[i] === func) {\r\n                this.listeners.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    getMediaQueryTheme (): TTheme {\r\n        return this.mediaQueryTheme;\r\n    }\r\n\r\n    getStoredTheme (): TTheme | undefined {\r\n        return this.storedTheme;\r\n    }\r\n\r\n    setStoredTheme (theme: TTheme | undefined): void {\r\n        if (theme) {\r\n            localStorage.setItem(LS_THEME_KEY, theme);\r\n        } else {\r\n            localStorage.removeItem(LS_THEME_KEY);\r\n        }\r\n        this.storedTheme = theme;\r\n        this.updateTheme();\r\n    }\r\n\r\n}\r\n\r\nexport const theme = new Theme();","import {IKeyString, IKeyStringOptional, ISize2D, ISVG, IVector2D} from '../bb-types';\r\n\r\nexport function insertAfter (referenceNode: Element, newNode: Element): void {\r\n    if (referenceNode.parentNode) {\r\n        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\r\n    }\r\n}\r\n\r\nexport function loadImage (im: HTMLImageElement, callback: () => void): void {\r\n    let counter = 0;\r\n\r\n    function check (): void {\r\n        if (counter === 1000) {\r\n            alert(\"couldn't load\");\r\n            return;\r\n        }\r\n        if (im.complete) {\r\n            counter++;\r\n            callback();\r\n        } else {\r\n            setTimeout(check, 1);\r\n        }\r\n    }\r\n\r\n    check();\r\n}\r\n\r\nexport function css (el: HTMLElement | SVGElement, styleObj: IKeyStringOptional): void {\r\n    const keyArr = Object.keys(styleObj);\r\n    let keyStr: string;\r\n    const style = (el.style as unknown) as IKeyStringOptional;\r\n    for (let i = 0; i < keyArr.length; i++) {\r\n        keyStr = keyArr[i];\r\n        style[keyStr] = styleObj[keyStr];\r\n        if (keyStr === 'userSelect') {\r\n            style.webkitUserSelect = styleObj[keyStr]; // safari\r\n        }\r\n    }\r\n}\r\n\r\nexport function setAttributes (el: Element, attrObj: IKeyString): void {\r\n    const keyArr = Object.keys(attrObj);\r\n    let keyStr;\r\n    for (let i = 0; i < keyArr.length; i++) {\r\n        keyStr = keyArr[i];\r\n        el.setAttribute(keyStr, attrObj[keyStr]);\r\n    }\r\n}\r\n\r\n/**\r\n * append a list to DOM element\r\n */\r\nexport function append (target: HTMLElement, els: (HTMLElement | string | undefined)[]): void {\r\n    const fragment = document.createDocumentFragment();\r\n    els.forEach(item => item && fragment.append(item));\r\n    target.append(fragment);\r\n}\r\n\r\n/**\r\n * a needs to fit into b\r\n */\r\nexport function fitInto (aw: number, ah: number, bw: number, bh: number, min?: number): ISize2D {\r\n    let width = aw * bw, height = ah * bw;\r\n    if (width > bw) {\r\n        height = bw / width * height;\r\n        width = bw;\r\n    }\r\n    if (height > bh) {\r\n        width = bh / height * width;\r\n        height = bh;\r\n    }\r\n    if (min) {\r\n        width = Math.max(min, width);\r\n        height = Math.max(min, height);\r\n    }\r\n    return {width, height};\r\n}\r\n\r\n/**\r\n * center b in a\r\n * @param aw\r\n * @param ah\r\n * @param bw\r\n * @param bh\r\n */\r\nexport function centerWithin (aw: number, ah: number, bw: number, bh: number): IVector2D {\r\n    return {\r\n        x: aw / 2 - bw / 2,\r\n        y: ah / 2 - bh / 2,\r\n    };\r\n}\r\n\r\nexport function getDate (): string {\r\n    const date = new Date();\r\n    const year = date.getFullYear();\r\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n    const day = date.getDate().toString().padStart(2, '0');\r\n    const minutes = (date.getHours() * 60 + date.getMinutes()).toString(36).padStart(3, '0');\r\n\r\n    return year + '_' + month + '_' + day + '_' + minutes + '_';\r\n}\r\n\r\nexport function gcd (a: number, b: number): number {\r\n    return b ? gcd(b, a % b) : a;\r\n}\r\n\r\nexport function reduce (numerator: number, denominator: number): [number, number] {\r\n    const g = gcd(numerator, denominator);\r\n    return [numerator / g, denominator / g];\r\n}\r\n\r\nexport function decToFraction (decimalNumber: number): [number, number] {\r\n    const len = decimalNumber.toString().length - 2;\r\n    const denominator = Math.pow(10, len);\r\n    const numerator = decimalNumber * denominator;\r\n    return reduce(numerator, denominator);\r\n}\r\n\r\n/**\r\n * blobObj isn't always a Blob, but rather an object, because Blob doesn't exist.\r\n * @param blobObj\r\n * @returns {string}\r\n */\r\nexport function imageBlobToUrl (blobObj: Blob): string {\r\n    if (!blobObj) {\r\n        throw new Error('blobObj is undefined or null');\r\n    }\r\n    if (window.Blob && blobObj instanceof Blob) {\r\n        return URL.createObjectURL(blobObj); // object url\r\n    } else if (blobObj.constructor.name === 'Object') {\r\n        const fauxBlob = (blobObj as unknown) as {type: string; encoding: string; data: string};\r\n        return 'data:' + fauxBlob.type + ';' + fauxBlob.encoding + ',' + fauxBlob.data; // data url\r\n    } else {\r\n        throw new Error('unknown blob format');\r\n    }\r\n}\r\n\r\nexport function dateDayDifference (dateA: string | Date, dateB: string | Date): number {\r\n    dateA = new Date(dateA);\r\n    dateB = new Date(dateB);\r\n    dateA.setHours(0, 0, 0, 0);\r\n    dateB.setHours(0, 0, 0, 0);\r\n    return (dateB.getTime() - dateA.getTime()) / (1000 * 60 * 60 * 24);\r\n}\r\n\r\nexport function copyObj<T> (obj: T): T {\r\n    return JSON.parse(JSON.stringify(obj));\r\n}\r\n\r\n/**\r\n * triggers Web Share API - share feature on mobile devices\r\n * Only works if they support file sharing - e.g. Safari can't do this yet\r\n * only call if BB.canShareFiles() -> true\r\n *\r\n * p = {\r\n *     canvas: Canvas,\r\n *     fileName: string,\r\n *     title: string\r\n * }\r\n *\r\n * @param p\r\n */\r\nexport function shareCanvas (p: {canvas: HTMLCanvasElement; fileName:string; title: string; callback: () => void}): void {\r\n    const mimetype = 'image/png';\r\n    const err = (): void => alert('sharing not supported');\r\n    p.canvas.toBlob(function (blob) {\r\n        if (!blob) {\r\n            err();\r\n            p.callback();\r\n            return;\r\n        }\r\n        try {\r\n            const filesArray = [new File([blob], p.fileName, {type: mimetype})];\r\n            navigator.share({\r\n                title: p.title,\r\n                files: filesArray,\r\n            } as any)\r\n                .then(() => {})\r\n                .catch(() => {\r\n                    err();\r\n            });\r\n        } catch(e) {\r\n            err();\r\n        }\r\n        p.callback();\r\n    }, mimetype);\r\n}\r\n\r\n/**\r\n * Prevent ipad from zooming in when double tapping. iPadOS 13 bug.\r\n * Give it your click event\r\n *\r\n * @param clickEvent\r\n * @returns {boolean}\r\n */\r\nexport function handleClick (clickEvent: MouseEvent): boolean {\r\n    const target: HTMLElement | null = clickEvent.target as HTMLElement;\r\n    if (!target) {\r\n        return false;\r\n    }\r\n    if (['A', 'LABEL', 'INPUT'].includes(target.tagName) || (target as any).allowClick) {\r\n        return true;\r\n    }\r\n    clickEvent.preventDefault();\r\n    return false;\r\n}\r\n\r\n\r\nexport function createSvg (p: ISVG): SVGElement {\r\n    const result = document.createElementNS('http://www.w3.org/2000/svg', p.elementType);\r\n    Object.entries(p).forEach(([keyStr, item]) => {\r\n        if (keyStr === 'childrenArr') {\r\n            (item as ISVG[]).forEach(child => {\r\n                result.append(createSvg(child));\r\n            });\r\n        } else if (keyStr !== 'elementType') {\r\n            result.setAttribute(keyStr, item as string);\r\n        }\r\n    });\r\n    return result;\r\n}\r\n\r\nexport function throwIfNull<T> (v: T | null): T {\r\n    // eslint-disable-next-line no-null/no-null\r\n    if (v === null) {\r\n        throw new Error('value is null');\r\n    }\r\n    return v;\r\n}\r\n\r\nconst matchMediaDark = ('matchMedia' in window) ? window.matchMedia('(prefers-color-scheme: dark)') : false;\r\n\r\nexport function isDark (): boolean {\r\n    return matchMediaDark && matchMediaDark.matches;\r\n}\r\n\r\nexport function addIsDarkListener (func: () => void): void {\r\n    matchMediaDark && 'addEventListener' in matchMediaDark && matchMediaDark.addEventListener('change', func);\r\n}\r\n\r\nexport function removeIsDarkListener (func: () => void): void {\r\n    matchMediaDark && 'removeEventListener' in matchMediaDark && matchMediaDark.removeEventListener('change', func);\r\n}","import arrayWithHoles from './_array_with_holes.mjs';\nimport iterableToArrayLimit from './_iterable_to_array.mjs';\nimport nonIterableRest from './_non_iterable_rest.mjs';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array.mjs';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('dGDZJ') + require('./helpers/bundle-manifest').resolve(\"dafOa\"))).then(() => parcelRequire('6NgYC'));","module.exports = (require(\"./helpers/browser/css-loader\")(require('./helpers/bundle-url').getBundleURL('dGDZJ') + require('./helpers/bundle-manifest').resolve(\"4GTbM\")));","\"use strict\";\n\nvar cacheLoader = require('../cacheLoader');\n\nmodule.exports = cacheLoader(function (bundle) {\n  return new Promise(function (resolve, reject) {\n    // Don't insert the same link element twice (e.g. if it was already in the HTML)\n    var existingLinks = document.getElementsByTagName('link');\n\n    if ([].concat(existingLinks).some(function isCurrentBundle(link) {\n      return link.href === bundle && link.rel.indexOf('stylesheet') > -1;\n    })) {\n      resolve();\n      return;\n    }\n\n    var link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = bundle;\n\n    link.onerror = function (e) {\n      link.onerror = link.onload = null;\n      link.remove();\n      reject(e);\n    };\n\n    link.onload = function () {\n      link.onerror = link.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(link);\n  });\n});","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"dGDZJ\\\":\\\"embed.js\\\",\\\"6Sfz2\\\":\\\"klecks-logo.77be0db3.png\\\",\\\"5RGAp\\\":\\\"de.3d17e69d.js\\\",\\\"2bKIP\\\":\\\"fr.a995e737.js\\\",\\\"y5edP\\\":\\\"ja.6652c840.js\\\",\\\"dsJ3g\\\":\\\"zh-CN.179c94c5.js\\\",\\\"lF1Tu\\\":\\\"zh-TW.bc5b1d67.js\\\",\\\"dafOa\\\":\\\"main-embed.6aa19314.js\\\",\\\"hWwEP\\\":\\\"cancel.5edb67d5.svg\\\",\\\"83Fnk\\\":\\\"check.42e17e77.svg\\\",\\\"h8ubb\\\":\\\"brush-pressure.f4437531.svg\\\",\\\"htADd\\\":\\\"copy.4adadd0c.svg\\\",\\\"ffKNP\\\":\\\"tool-picker.d0e69c3a.svg\\\",\\\"iqIgb\\\":\\\"angle.f0b557ac.svg\\\",\\\"1twgF\\\":\\\"remove-layer.4e9b2b7d.svg\\\",\\\"70WHw\\\":\\\"add-layer.ce1078bb.svg\\\",\\\"3huo1\\\":\\\"duplicate-layer.3314e3c7.svg\\\",\\\"1AvFX\\\":\\\"merge-layers.19da79a6.svg\\\",\\\"ftA1L\\\":\\\"rename-layer.7c31d4f4.svg\\\",\\\"ayl5b\\\":\\\"cursor-picker.db2f5b39.png\\\",\\\"8Sx0P\\\":\\\"cursor-zoom-ew.fbb85406.png\\\",\\\"ixtEz\\\":\\\"cursor-fill.8027a243.png\\\",\\\"3iHbP\\\":\\\"cursor-text.dcaa5de5.png\\\",\\\"fcdZI\\\":\\\"cursor-rotate.5b164044.png\\\",\\\"eaJmh\\\":\\\"new-image.2d692480.svg\\\",\\\"kV8IH\\\":\\\"import.7a68c844.svg\\\",\\\"SROeX\\\":\\\"export.2deb9ff8.svg\\\",\\\"lFrok\\\":\\\"share.454898d1.svg\\\",\\\"cvYlU\\\":\\\"help.208e9032.svg\\\",\\\"dW3eU\\\":\\\"tool-paint.f73a8943.svg\\\",\\\"fnumN\\\":\\\"tool-fill.3358320a.svg\\\",\\\"6J8A8\\\":\\\"tool-gradient.64486254.svg\\\",\\\"da34V\\\":\\\"tool-text.1cbd0325.svg\\\",\\\"eStsa\\\":\\\"tool-shape.3de78c3f.svg\\\",\\\"eW5wL\\\":\\\"caret-down.68d4cd16.svg\\\",\\\"b30IN\\\":\\\"tool-hand.e7fc81b9.svg\\\",\\\"jYhj7\\\":\\\"tool-zoom-in.d413f042.svg\\\",\\\"44EC1\\\":\\\"tool-zoom-out.299f4d1f.svg\\\",\\\"1YnIA\\\":\\\"tool-undo.540bf765.svg\\\",\\\"6ae9h\\\":\\\"inverted-border.3353c7f3.svg\\\",\\\"8l03e\\\":\\\"edit-rotate.fd0e572a.svg\\\",\\\"8K12o\\\":\\\"ui-collapse.2b5dfc6a.svg\\\",\\\"2WSh2\\\":\\\"align-left.4876a845.svg\\\",\\\"lHK8L\\\":\\\"align-center.6f56d4bd.svg\\\",\\\"3kjmQ\\\":\\\"align-right.1521d61c.svg\\\",\\\"g8nvA\\\":\\\"typo-italic.7ab32910.svg\\\",\\\"axEKL\\\":\\\"typo-bold.5c790c89.svg\\\",\\\"7tOPd\\\":\\\"edit-brightness-contrast.8430cb26.svg\\\",\\\"fduLu\\\":\\\"edit-crop.16c534dd.svg\\\",\\\"ijSd4\\\":\\\"edit-curves.bbdb97b2.svg\\\",\\\"3lCpH\\\":\\\"edit-flip.00fd2c6b.svg\\\",\\\"hhylW\\\":\\\"edit-hue-saturation.6e36cf05.svg\\\",\\\"kV0ed\\\":\\\"edit-invert.fa435c66.png\\\",\\\"dNk9L\\\":\\\"edit-perspective.e23100db.svg\\\",\\\"aj5Gc\\\":\\\"edit-resize.56391e2b.svg\\\",\\\"6D2tK\\\":\\\"edit-tilt-shift.dd20efff.png\\\",\\\"7nesm\\\":\\\"edit-to-alpha.f7a2065a.svg\\\",\\\"leHUT\\\":\\\"edit-transform.c8795430.svg\\\",\\\"3lP2j\\\":\\\"edit-triangle-blur.9df2dbef.png\\\",\\\"7G4sY\\\":\\\"edit-unsharp-mask.c58e988c.png\\\",\\\"7n1Rt\\\":\\\"edit-grid.e900ce7b.svg\\\",\\\"ijwf0\\\":\\\"edit-noise.51bd751c.svg\\\",\\\"18gIG\\\":\\\"edit-pattern.1a06e094.svg\\\",\\\"786LQ\\\":\\\"edit-vanish-point.fc5858e4.svg\\\",\\\"kcnOE\\\":\\\"edit-distort.bdb643f2.svg\\\",\\\"6218s\\\":\\\"brush-pen.49a7b91e.svg\\\",\\\"50oCU\\\":\\\"brush-blend.3706e8a1.svg\\\",\\\"jDYzC\\\":\\\"brush-sketchy.9e5d0120.png\\\",\\\"j07R3\\\":\\\"brush-pixel.673f3e4c.svg\\\",\\\"fvqmo\\\":\\\"brush-eraser.a9e10dce.svg\\\",\\\"gNPk4\\\":\\\"brush-smudge.45852bcd.svg\\\",\\\"371uF\\\":\\\"brush-chemy.a5a188f6.svg\\\",\\\"gJzzT\\\":\\\"upload.5289e924.svg\\\",\\\"c3ZSC\\\":\\\"loading.7ff8a2ac.gif\\\",\\\"kNYzr\\\":\\\"dist.fd67ab5f.js\\\",\\\"hTlU7\\\":\\\"bitbof-logo.bc5e3ed5.svg\\\",\\\"hxlHN\\\":\\\"ui-swap-lr.7f474f51.svg\\\",\\\"79hnx\\\":\\\"licenses.fa0a4b09.js\\\",\\\"c92cL\\\":\\\"constrain.62f04e45.svg\\\",\\\"kycpJ\\\":\\\"tab-settings.be84ac7c.svg\\\",\\\"TzbtI\\\":\\\"tab-layers.c8a104e7.svg\\\",\\\"4GTbM\\\":\\\"embed.016a06d0.css\\\",\\\"9clYo\\\":\\\"error.abae1a5e.svg\\\",\\\"bLSjr\\\":\\\"ok.398afd66.svg\\\",\\\"8eSFI\\\":\\\"warning.7472a070.svg\\\",\\\"d56Qw\\\":\\\"upload-large.bb0f452b.svg\\\"}\"));","import {IEmbedParams, IReadPSD} from '../../main-embed';\r\nimport {IKlProject} from '../../klecks/kl-types';\r\nimport logoImg from '/src/app/img/klecks-logo.png';\r\nimport {getEmbedUrl} from './get-embed-url';\r\nimport {initLANG, LANG} from '../../language/language';\r\nimport {theme} from '../../theme/theme';\r\n\r\nlet wrapperInstance: boolean = false;\r\n\r\n// lazy load rest of library, show a loading screen, expose Embed interface\r\nexport function EmbedWrapper (p: IEmbedParams) {\r\n    if (wrapperInstance) {\r\n        throw new Error('Already created an embed');\r\n    }\r\n    wrapperInstance = true;\r\n\r\n    p = {\r\n        ...p,\r\n        embedUrl: p.embedUrl ? p.embedUrl : getEmbedUrl(),\r\n    };\r\n\r\n    let project: IKlProject;\r\n    let errorStr: string;\r\n    const psds: IReadPSD[] = []; // if instance not loaded yet, these are psds to be read\r\n    let instance; // instance of loaded Embed\r\n\r\n    (async () => {\r\n        await initLANG();\r\n\r\n        // loading screen\r\n        const loadingScreen = document.createElement('div');\r\n        const loadingStyleArr = [\r\n            ['position', 'fixed'],\r\n            ['left', '0'],\r\n            ['top', '0'],\r\n            ['width', '100vw'],\r\n            ['height', '100vh'],\r\n\r\n            ['display', 'flex'],\r\n            ['alignItems', 'center'],\r\n            ['justifyContent', 'center'],\r\n            ['flexDirection', 'column'],\r\n\r\n            ['background', theme.isDark() ? 'rgb(33, 33, 33)' : 'rgb(158,158,158)'],\r\n\r\n            ['fontFamily', 'Arial, sans-serif'],\r\n            ['fontSize', '30px'],\r\n            ['color', '#e3e3e3'],\r\n        ];\r\n        for (let i = 0; i < loadingStyleArr.length; i++) {\r\n            loadingScreen.style[loadingStyleArr[i][0]] = loadingStyleArr[i][1];\r\n        }\r\n        loadingScreen.id = 'loading-screen';\r\n        const logoStyle = theme.isDark() && !p.logoImg ? ' style=\"filter: invert(1)\"' : '';\r\n        loadingScreen.innerHTML = '<img width=\"150\" height=\"54\"' + logoStyle + ' src=\"' + (p.logoImg ? p.logoImg : logoImg) + '\" alt=\"Logo\"/>\\n' +\r\n            '<div style=\"margin: 15px 0 0 0; display: flex; align-items: center\">\\n' +\r\n            '<div class=\"spinner\"></div>\\n' +\r\n            '<span id=\"loading-screen-text\">' + LANG('embed-init-loading') + '</span>' +\r\n            '</div>';\r\n        document.body.appendChild(loadingScreen);\r\n\r\n        const mainEmbed = await import('../../main-embed');\r\n        instance = new mainEmbed.Embed(p);\r\n\r\n        this.openProject = instance.openProject;\r\n        this.getPNG = instance.getPNG;\r\n        this.getPSD = instance.getPSD;\r\n        this.initError = instance.initError;\r\n\r\n        if (project) {\r\n            instance.openProject(project);\r\n        }\r\n        if (errorStr) {\r\n            instance.initError(errorStr);\r\n        }\r\n        if (psds.length) {\r\n            instance.readPSDs(psds);\r\n        }\r\n    })();\r\n\r\n    this.openProject = (k: IKlProject) => {\r\n        if (project) {\r\n            throw new Error('Already called openProject');\r\n        }\r\n        project = k;\r\n    };\r\n    this.initError = (error: string) => {\r\n        errorStr = error;\r\n    };\r\n    this.readPSD = async (blob: Blob) => {\r\n        const promise = new Promise((resolve, reject) => {\r\n            const item: IReadPSD = {\r\n                blob,\r\n                callback: (k: IKlProject) => {\r\n                    psds.splice(psds.indexOf(item), 1);\r\n                    if (k) {\r\n                        resolve(k);\r\n                    } else {\r\n                        reject();\r\n                    }\r\n                },\r\n            };\r\n            if (instance) {\r\n                instance.readPSDs([item]);\r\n            } else {\r\n                psds.push(item);\r\n            }\r\n        });\r\n        return promise;\r\n    };\r\n}","\r\n\r\nlet embedUrl: string;\r\n\r\nfunction getBaseURL (url: string): string {\r\n    return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\r\n}\r\n\r\nexport function getEmbedUrl (): string {\r\n    if (embedUrl) {\r\n        return embedUrl;\r\n    }\r\n\r\n    let match: string[];\r\n    try {\r\n        throw new Error();\r\n    } catch (e) {\r\n        match = ('' + e.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\r\n    }\r\n    let index = 0;\r\n    match.forEach((item, i) => {\r\n        if (item.indexOf('embed.js') !== -1) {\r\n            index = i;\r\n        }\r\n    });\r\n    embedUrl = getBaseURL(match[index]);\r\n    return embedUrl;\r\n}","module.exports = require('./helpers/bundle-url').getBundleURL('dGDZJ') + require('./helpers/bundle-manifest').resolve(\"6Sfz2\");","import {EmbedWrapper} from './app/script/embed/bootstrap/embed-wrapper';\r\n/**\r\n * by bitbof (bitbof.com)\r\n */\r\n// Important to keep the initial bundle small so there can be a loading screen\r\n\r\nimport('./app/style/embed.scss'); // loading like this gives it a hash\r\nObject.defineProperty(window, 'Klecks', {\r\n    value: EmbedWrapper,\r\n});"],"names":["$1a05858528f80b13$export$6503ec6e8aabbaf","$1a05858528f80b13$export$f7ad0328861e2f03","$1a05858528f80b13$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$b1b207e1de20dd0f$var$asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","$b1b207e1de20dd0f$export$2e2bcd8739ae039","fn","self","this","args","arguments","apply","err","undefined","$7U0Ew","parcelRequire","$0657fd26404e60dc$export$2e2bcd8739ae039","target","source","ownKeys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","default","$9549ebb4c033eda9$export$2e2bcd8739ae039","obj","defineProperty","configurable","writable","$9494622ae4143df8$export$2e2bcd8739ae039","getOwnPropertyDescriptors","defineProperties","object","enumerableOnly","symbols","push","$9494622ae4143df8$var$ownKeys","$1a7940c44f23ed27$export$67ebef60e6f28a6","thisArg","body","f","y","t","g","verb","n","v","step","op","TypeError","_","call","next","label","ops","pop","trys","e","sent","throw","return","Symbol","iterator","create","$1fb4f258832d46e8$export$2e2bcd8739ae039","constructor","$affee43d05afb4fc$export$bdfd709ae4826697","$affee43d05afb4fc$var$bundleURL","$affee43d05afb4fc$var$getBaseURL","url","replace","matches","stack","match","$affee43d05afb4fc$var$getBundleURL","$3kC7t","$8d7403abedf7cefa$export$991796128b2ca217","$8d7403abedf7cefa$var$LanguageStrings","LanguageStrings","data","$3Rl3W","$fgfvl","english","code","langCode","_this","loadLanguage","_tmp","_state","document","documentElement","setAttribute","listeners","item","languages","find","autoCode","$8d7403abedf7cefa$export$64783e31db14f0ba","subscriber","includes","splice","useLocalStorage","lang","langs","found","toLowerCase","result","navigator","language","split","localStorage","getItem","unshift","$8d7403abedf7cefa$var$activeLanguageCode","$8d7403abedf7cefa$export$ea44c9eff2c31da6","$8d7403abedf7cefa$export$ce37e184d908d785","get","$8d7403abedf7cefa$export$7a2ea9f2e4d199d3","setLanguage","$d53a9c4e105ff8f7$export$2e2bcd8739ae039","instance","Constructor","$ac161f635391fb95$var$_defineProperties","props","descriptor","$ac161f635391fb95$export$2e2bcd8739ae039","protoProps","staticProps","prototype","$90c6410f4b764e9c$export$33e6c23ebe2ee669","$parcel$interopDefault","$90c6410f4b764e9c$export$d0d68bb9ed2c643d","name","$90c6410f4b764e9c$export$f02cbd868e2f57cf","module","exports","JSON","parse","getBundleURL","$5Y6Bl","bundle","existingScripts","getElementsByTagName","some","script","src","preloadLink","createElement","href","rel","as","head","appendChild","async","type","onerror","message","onload","remove","$4587ad3ed31b7baa$var$cachedBundles","$4587ad3ed31b7baa$var$cachedPreloads","$4587ad3ed31b7baa$var$cachedPrefetches","loader","cache","$4587ad3ed31b7baa$var$getCache","catch","$gFgFC","$e3b2ff8d1f8c5253$var$LS_THEME_KEY","$e3b2ff8d1f8c5253$export$bca14c5b3b88a9c9","Theme","mediaQueryTheme","$7jh4K","isDark","addIsDarkListener","updateTheme","storedTheme","readLocalStorage","addEventListener","oldTheme","theme","classList","toggle","removeItem","func","setItem","$4R9ai","$2bd9b7b9bc92046d$export$c4f94c8b3850a5a9","referenceNode","newNode","parentNode","insertBefore","nextSibling","$2bd9b7b9bc92046d$export$fe58198efe02b173","im","callback","counter","check","complete","setTimeout","alert","$2bd9b7b9bc92046d$export$dbf350e5966cf602","el","styleObj","keyStr","keyArr","style","webkitUserSelect","$2bd9b7b9bc92046d$export$74da2cba014bdc09","attrObj","$2bd9b7b9bc92046d$export$10d8903dec122b9d","els","fragment","createDocumentFragment","append","$2bd9b7b9bc92046d$export$fa55905620c22535","aw","ah","bw","bh","min","width","height","Math","max","$2bd9b7b9bc92046d$export$76d0c1a172b67a61","x","$2bd9b7b9bc92046d$export$aa350b96d91cd94","date","Date","getFullYear","getMonth","toString","padStart","getDate","getHours","getMinutes","$2bd9b7b9bc92046d$export$f81847884871263e","a","b","$2bd9b7b9bc92046d$export$533b26079ad0b4b","numerator","denominator","$2bd9b7b9bc92046d$export$8215e6b900906daa","decimalNumber","len","pow","$2bd9b7b9bc92046d$export$5063ec57a23c4f2e","blobObj","window","Blob","URL","createObjectURL","fauxBlob","encoding","$2bd9b7b9bc92046d$export$1093707c159148e8","dateA","dateB","setHours","getTime","$2bd9b7b9bc92046d$export$af0d87255f3cfd7e","stringify","$2bd9b7b9bc92046d$export$331c30fd60da0115","p","mimetype","canvas","toBlob","blob","filesArray","File","fileName","share","title","files","$2bd9b7b9bc92046d$export$b981489921ee18cd","clickEvent","tagName","allowClick","preventDefault","$2bd9b7b9bc92046d$export$c54fe3b9ecaa84cf","createElementNS","elementType","entries","param","_param","child","$2bd9b7b9bc92046d$export$b813e062795b89b5","$2bd9b7b9bc92046d$var$matchMediaDark","matchMedia","$2bd9b7b9bc92046d$export$a79ad82046afa44e","$2bd9b7b9bc92046d$export$a9dfd81f95a8a526","$bzM49","$cd4b5047459ec7a4$export$2e2bcd8739ae039","arr","$8XIsj","$jBmMa","$ayP15","$6f60ecfc669da8ce$export$2e2bcd8739ae039","Array","isArray","$318727c94b999310$export$2e2bcd8739ae039","iter","from","$2525466e83297f71$export$2e2bcd8739ae039","$apgdg","$8bd39701afb62d1d$export$2e2bcd8739ae039","o","minLen","slice","test","$040a5f08eff5d1ca$export$2e2bcd8739ae039","arr2","existingLinks","link","indexOf","register","$331bd445235135e6$var$embedUrl","$331bd445235135e6$export$bc5948d2034163b0","index","$e037d35d83be7975$exports","$857b3526238e92d2$var$wrapperInstance","project","errorStr","$a7ch7","embedUrl","psds","loadingScreen","loadingStyleArr","logoStyle","mainEmbed","$1mH1z","initLANG","$1C8RU","logoImg","innerHTML","LANG","Embed","openProject","getPNG","getPSD","initError","readPSDs","k","readPSD"],"version":3,"file":"embed.js.map"}