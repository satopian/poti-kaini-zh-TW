/*
    ChickenPaint

    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.

    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/
/*
 Bootstrap v5.3.0 (https://getbootstrap.com/)
 Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 jQuery throttle / debounce - v1.1 - 3/7/2010
 http://benalman.com/projects/jquery-throttle-debounce-plugin/

 Copyright (c) 2010 "Cowboy" Ben Alman
 Dual licensed under the MIT and GPL licenses.
 http://benalman.com/about/license/
 jQuery JavaScript Library v3.7.1
 https://jquery.com/

 Copyright OpenJS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2023-08-28T13:37Z
 PEP v0.4.3 | https://github.com/jquery/PEP
 Copyright jQuery Foundation and other contributors | http://jquery.org/license
 EventEmitter v5.2.9 - git.io/ee
 Unlicense - http://unlicense.org/
 Oliver Caldwell - https://oli.me.uk/
 @preserve
*/
!function(g,K){"object"==typeof exports&&"undefined"!=typeof module?module.exports=K():"function"==typeof define&&define.amd?define(K):(g="undefined"!=typeof globalThis?globalThis:g||self).bootstrap=K()}(this,function(){function g(t,M){return M&&`${M}::${Ya++}`||t.uidEvent||Ya++}function K(t){const M=g(t);return t.uidEvent=M,La[M]=La[M]||{},La[M]}function D(t,M,W=null){return Object.values(t).find(oa=>oa.callable===M&&oa.delegationSelector===W)}function y(t,M,W){const oa="string"==typeof M;M=oa?W:
M||W;W=E(t);return Ma.has(W)||(W=t),[oa,M,W]}function k(t,M,W,oa,l){if("string"==typeof M&&t){var [x,F,L]=y(M,W,oa);M in Da&&(F=(V=>function(X){if(!X.relatedTarget||X.relatedTarget!==X.delegateTarget&&!X.delegateTarget.contains(X.relatedTarget))return V.call(this,X)})(F));oa=K(t);oa=oa[L]||(oa[L]={});var S=D(oa,F,x?W:null);if(S)return void(S.oneOff=S.oneOff&&l);M=g(F,M.replace(jb,""));S=x?function(V,X,na){return function Fa(ea){const Na=V.querySelectorAll(X);for(let {target:Sa}=ea;Sa&&Sa!==this;Sa=
Sa.parentNode)for(const hb of Na)if(hb===Sa)return b(ea,{delegateTarget:Sa}),Fa.oneOff&&Ha.off(V,ea.type,X,na),na.apply(Sa,[ea])}}(t,W,F):function(V,X){return function ea(da){return b(da,{delegateTarget:V}),ea.oneOff&&Ha.off(V,da.type,X),X.apply(V,[da])}}(t,F);S.delegationSelector=x?W:null;S.callable=F;S.oneOff=l;S.uidEvent=M;oa[M]=S;t.addEventListener(L,S,x)}}function v(t,M,W,oa,l){(oa=D(M[W],oa,l))&&(t.removeEventListener(W,oa,!!l),delete M[W][oa.uidEvent])}function E(t){return t=t.replace(pa,""),
Da[t]||t}function b(t,M={}){for(const [W,oa]of Object.entries(M))try{t[W]=oa}catch(l){Object.defineProperty(t,W,{configurable:!0,get:()=>oa})}return t}function d(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(M){return t}}function w(t){return t.replace(/[A-Z]/g,M=>`-${M.toLowerCase()}`)}function a(t){return t?(t.nodeName||"").toLowerCase():
null}function m(t){return null==t?window:"[object Window]"!==t.toString()?(t=t.ownerDocument)&&t.defaultView||window:t}function q(t){return t instanceof m(t).Element||t instanceof Element}function r(t){return t instanceof m(t).HTMLElement||t instanceof HTMLElement}function h(t){return"undefined"!=typeof ShadowRoot&&(t instanceof m(t).ShadowRoot||t instanceof ShadowRoot)}function c(t){return t.split("-")[0]}function f(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?
t.brands.map(function(M){return M.brand+"/"+M.version}).join(" "):navigator.userAgent}function n(){return!/^((?!chrome|android).)*safari/i.test(f())}function e(t,M,W){void 0===M&&(M=!1);void 0===W&&(W=!1);var oa=t.getBoundingClientRect(),l=1,x=1;M&&r(t)&&(l=0<t.offsetWidth&&kb(oa.width)/t.offsetWidth||1,x=0<t.offsetHeight&&kb(oa.height)/t.offsetHeight||1);t=(q(t)?m(t):window).visualViewport;M=!n()&&W;W=(oa.left+(M&&t?t.offsetLeft:0))/l;t=(oa.top+(M&&t?t.offsetTop:0))/x;l=oa.width/l;oa=oa.height/x;
return{width:l,height:oa,top:t,right:W+l,bottom:t+oa,left:W,x:W,y:t}}function p(t){var M=e(t),W=t.offsetWidth,oa=t.offsetHeight;return 1>=Math.abs(M.width-W)&&(W=M.width),1>=Math.abs(M.height-oa)&&(oa=M.height),{x:t.offsetLeft,y:t.offsetTop,width:W,height:oa}}function u(t,M){var W=M.getRootNode&&M.getRootNode();if(t.contains(M))return!0;if(W&&h(W)){do{if(M&&t.isSameNode(M))return!0;M=M.parentNode||M.host}while(M)}return!1}function B(t){return m(t).getComputedStyle(t)}function C(t){return((q(t)?t.ownerDocument:
t.document)||window.document).documentElement}function A(t){return"html"===a(t)?t:t.assignedSlot||t.parentNode||(h(t)?t.host:null)||C(t)}function I(t){return r(t)&&"fixed"!==B(t).position?t.offsetParent:null}function O(t){for(var M=m(t),W=I(t);W&&0<=["table","td","th"].indexOf(a(W))&&"static"===B(W).position;)W=I(W);if(!W||"html"!==a(W)&&("body"!==a(W)||"static"!==B(W).position)){if(!W)a:{W=/firefox/i.test(f());if(!/Trident/i.test(f())||!r(t)||"fixed"!==B(t).position)for(t=A(t),h(t)&&(t=t.host);r(t)&&
0>["html","body"].indexOf(a(t));){var oa=B(t);if("none"!==oa.transform||"none"!==oa.perspective||"paint"===oa.contain||-1!==["transform","perspective"].indexOf(oa.willChange)||W&&"filter"===oa.willChange||W&&oa.filter&&"none"!==oa.filter){W=t;break a}t=t.parentNode}W=null}M=W||M}return M}function z(t){return 0<=["top","bottom"].indexOf(t)?"x":"y"}function G(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function H(t,M){return M.reduce(function(W,oa){return W[oa]=t,W},{})}function N(t){return t.split("-")[1]}
function J(t){var M,W=t.popper,oa=t.popperRect,l=t.placement,x=t.variation,F=t.offsets,L=t.position,S=t.gpuAcceleration,V=t.adaptive,X=t.roundOffsets,na=t.isFixed;t=F.x;t=void 0===t?0:t;var da=F.y;da=void 0===da?0:da;da="function"==typeof X?X({x:t,y:da}):{x:t,y:da};t=da.x;da=da.y;var ea=F.hasOwnProperty("x");F=F.hasOwnProperty("y");var Fa="left",Na="top",Sa=window;if(V){var hb=O(W),ib="clientHeight",Bb="clientWidth";hb===m(W)&&"static"!==B(hb=C(W)).position&&"absolute"===L&&(ib="scrollHeight",Bb=
"scrollWidth");("top"===l||("left"===l||"right"===l)&&"end"===x)&&(Na="bottom",da-=(na&&hb===Sa&&Sa.visualViewport?Sa.visualViewport.height:hb[ib])-oa.height,da*=S?1:-1);"left"!==l&&("top"!==l&&"bottom"!==l||"end"!==x)||(Fa="right",t-=(na&&hb===Sa&&Sa.visualViewport?Sa.visualViewport.width:hb[Bb])-oa.width,t*=S?1:-1)}var Cb;oa=Object.assign({position:L},V&&vc);!0===X?(X=t,l=da,W=m(W).devicePixelRatio||1,W={x:kb(X*W)/W||0,y:kb(l*W)/W||0}):W={x:t,y:da};return t=W.x,da=W.y,S?Object.assign({},oa,((Cb=
{})[Na]=F?"0":"",Cb[Fa]=ea?"0":"",Cb.transform=1>=(Sa.devicePixelRatio||1)?"translate("+t+"px, "+da+"px)":"translate3d("+t+"px, "+da+"px, 0)",Cb)):Object.assign({},oa,((M={})[Na]=F?da+"px":"",M[Fa]=ea?t+"px":"",M.transform="",M))}function R(t){return t.replace(/left|right|bottom|top/g,function(M){return gc[M]})}function fa(t){return t.replace(/start|end/g,function(M){return nc[M]})}function Y(t){t=m(t);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function sa(t){return e(C(t)).left+Y(t).scrollLeft}
function ka(t){t=B(t);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function Q(t){return 0<=["html","body","#document"].indexOf(a(t))?t.ownerDocument.body:r(t)&&ka(t)?t:Q(A(t))}function ja(t,M){var W;void 0===M&&(M=[]);var oa=Q(t);t=oa===(null==(W=t.ownerDocument)?void 0:W.body);W=m(oa);oa=t?[W].concat(W.visualViewport||[],ka(oa)?oa:[]):oa;M=M.concat(oa);return t?M:M.concat(ja(A(oa)))}function ca(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+
t.height})}function ua(t,M,W){return"viewport"===M?ca(function(oa,l){var x=m(oa),F=C(oa);x=x.visualViewport;var L=F.clientWidth;F=F.clientHeight;var S=0,V=0;if(x){L=x.width;F=x.height;var X=n();(X||!X&&"fixed"===l)&&(S=x.offsetLeft,V=x.offsetTop)}return{width:L,height:F,x:S+sa(oa),y:V}}(t,W)):q(M)?function(oa,l){l=e(oa,!1,"fixed"===l);return l.top+=oa.clientTop,l.left+=oa.clientLeft,l.bottom=l.top+oa.clientHeight,l.right=l.left+oa.clientWidth,l.width=oa.clientWidth,l.height=oa.clientHeight,l.x=l.left,
l.y=l.top,l}(M,W):ca(function(oa){var l,x=C(oa),F=Y(oa),L=null==(l=oa.ownerDocument)?void 0:l.body;l=rb(x.scrollWidth,x.clientWidth,L?L.scrollWidth:0,L?L.clientWidth:0);var S=rb(x.scrollHeight,x.clientHeight,L?L.scrollHeight:0,L?L.clientHeight:0);oa=-F.scrollLeft+sa(oa);F=-F.scrollTop;return"rtl"===B(L||x).direction&&(oa+=rb(x.clientWidth,L?L.clientWidth:0)-l),{width:l,height:S,x:oa,y:F}}(C(t)))}function qa(t){var M=t.reference,W=t.element,oa=(t=t.placement)?c(t):null;t=t?N(t):null;var l=M.x+M.width/
2-W.width/2;var x=M.y+M.height/2-W.height/2;switch(oa){case "top":l={x:l,y:M.y-W.height};break;case "bottom":l={x:l,y:M.y+M.height};break;case "right":l={x:M.x+M.width,y:x};break;case "left":l={x:M.x-W.width,y:x};break;default:l={x:M.x,y:M.y}}oa=oa?z(oa):null;if(null!=oa)switch(x="y"===oa?"height":"width",t){case "start":l[oa]-=M[x]/2-W[x]/2;break;case "end":l[oa]+=M[x]/2-W[x]/2}return l}function ya(t,M){void 0===M&&(M={});var W=M;M=W.placement;M=void 0===M?t.placement:M;var oa=W.strategy,l=void 0===
oa?t.strategy:oa;oa=W.boundary;var x=void 0===oa?"clippingParents":oa;oa=W.rootBoundary;var F=void 0===oa?"viewport":oa;oa=W.elementContext;oa=void 0===oa?"popper":oa;var L=W.altBoundary,S=void 0!==L&&L;W=W.padding;W=void 0===W?0:W;W=G("number"!=typeof W?W:H(W,Fb));L=t.rects.popper;S=t.elements[S?"popper"===oa?"reference":"popper":oa];l=function(na,da,ea,Fa){da="clippingParents"===da?function(Na){var Sa=ja(A(Na)),hb=0<=["absolute","fixed"].indexOf(B(Na).position)&&r(Na)?O(Na):Na;return q(hb)?Sa.filter(function(ib){return q(ib)&&
u(ib,hb)&&"body"!==a(ib)}):[]}(na):[].concat(da);ea=[].concat(da,[ea]);ea=ea.reduce(function(Na,Sa){Sa=ua(na,Sa,Fa);return Na.top=rb(Sa.top,Na.top),Na.right=Vb(Sa.right,Na.right),Na.bottom=Vb(Sa.bottom,Na.bottom),Na.left=rb(Sa.left,Na.left),Na},ua(na,ea[0],Fa));return ea.width=ea.right-ea.left,ea.height=ea.bottom-ea.top,ea.x=ea.left,ea.y=ea.top,ea}(q(S)?S:S.contextElement||C(t.elements.popper),x,F,l);x=e(t.elements.reference);F=qa({reference:x,element:L,strategy:"absolute",placement:M});F=ca(Object.assign({},
L,F));x="popper"===oa?F:x;var V={top:l.top-x.top+W.top,bottom:x.bottom-l.bottom+W.bottom,left:l.left-x.left+W.left,right:x.right-l.right+W.right};t=t.modifiersData.offset;if("popper"===oa&&t){var X=t[M];Object.keys(V).forEach(function(na){var da=0<=["right","bottom"].indexOf(na)?1:-1,ea=0<=["top","bottom"].indexOf(na)?"y":"x";V[na]+=X[ea]*da})}return V}function ma(t,M){void 0===M&&(M={});var W=M.boundary,oa=M.rootBoundary,l=M.padding,x=M.flipVariations,F=M.allowedAutoPlacements,L=void 0===F?Ob:F,
S=N(M.placement);M=S?x?Sb:Sb.filter(function(X){return N(X)===S}):Fb;x=M.filter(function(X){return 0<=L.indexOf(X)});0===x.length&&(x=M);var V=x.reduce(function(X,na){return X[na]=ya(t,{placement:na,boundary:W,rootBoundary:oa,padding:l})[c(na)],X},{});return Object.keys(V).sort(function(X,na){return V[X]-V[na]})}function Oa(t,M,W){return void 0===W&&(W={x:0,y:0}),{top:t.top-M.height-W.y,right:t.right-M.width+W.x,bottom:t.bottom-M.height+W.y,left:t.left-M.width-W.x}}function fb(t){return["top","right",
"bottom","left"].some(function(M){return 0<=t[M]})}function ab(t,M,W){void 0===W&&(W=!1);var oa=r(M),l;if(l=r(M)){var x=M.getBoundingClientRect();l=kb(x.width)/M.offsetWidth||1;x=kb(x.height)/M.offsetHeight||1;l=1!==l||1!==x}x=l;l=C(M);t=e(t,x,W);x={scrollLeft:0,scrollTop:0};var F={x:0,y:0};return(oa||!oa&&!W)&&(("body"!==a(M)||ka(l))&&(x=M!==m(M)&&r(M)?{scrollLeft:M.scrollLeft,scrollTop:M.scrollTop}:Y(M)),r(M)?((F=e(M,!0)).x+=M.clientLeft,F.y+=M.clientTop):l&&(F.x=sa(l))),{x:t.left+x.scrollLeft-
F.x,y:t.top+x.scrollTop-F.y,width:t.width,height:t.height}}function T(t){function M(x){oa.add(x.name);[].concat(x.requires||[],x.requiresIfExists||[]).forEach(function(F){oa.has(F)||(F=W.get(F))&&M(F)});l.push(x)}var W=new Map,oa=new Set,l=[];return t.forEach(function(x){W.set(x.name,x)}),t.forEach(function(x){oa.has(x.name)||M(x)}),l}function Z(){for(var t=arguments.length,M=Array(t),W=0;W<t;W++)M[W]=arguments[W];return!M.some(function(oa){return!(oa&&"function"==typeof oa.getBoundingClientRect)})}
function ra(t){void 0===t&&(t={});var M=t.defaultModifiers,W=void 0===M?[]:M;t=t.defaultOptions;var oa=void 0===t?Cc:t;return function(l,x,F){function L(){na.forEach(function(Fa){return Fa()});na=[]}void 0===F&&(F=oa);var S,V,X={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cc,oa),modifiersData:{},elements:{reference:l,popper:x},attributes:{},styles:{}},na=[],da=!1,ea={state:X,setOptions:function(Fa){Fa="function"==typeof Fa?Fa(X.options):Fa;L();X.options=Object.assign({},oa,X.options,
Fa);X.scrollParents={reference:q(l)?ja(l):l.contextElement?ja(l.contextElement):[],popper:ja(x)};var Na,Sa;Fa=function(hb){var ib=T(hb);return Tb.reduce(function(Bb,Cb){return Bb.concat(ib.filter(function($b){return $b.phase===Cb}))},[])}((Na=[].concat(W,X.options.modifiers),Sa=Na.reduce(function(hb,ib){var Bb=hb[ib.name];return hb[ib.name]=Bb?Object.assign({},Bb,ib,{options:Object.assign({},Bb.options,ib.options),data:Object.assign({},Bb.data,ib.data)}):ib,hb},{}),Object.keys(Sa).map(function(hb){return Sa[hb]})));
return X.orderedModifiers=Fa.filter(function(hb){return hb.enabled}),X.orderedModifiers.forEach(function(hb){var ib=hb.name,Bb=hb.options;Bb=void 0===Bb?{}:Bb;hb=hb.effect;"function"==typeof hb&&(ib=hb({state:X,name:ib,instance:ea,options:Bb}),na.push(ib||function(){}))}),ea.update()},forceUpdate:function(){if(!da){var Fa=X.elements,Na=Fa.reference;Fa=Fa.popper;if(Z(Na,Fa))for(X.rects={reference:ab(Na,O(Fa),"fixed"===X.options.strategy),popper:p(Fa)},X.reset=!1,X.placement=X.options.placement,X.orderedModifiers.forEach(function(ib){return X.modifiersData[ib.name]=
Object.assign({},ib.data)}),Na=0;Na<X.orderedModifiers.length;Na++)if(!0!==X.reset){var Sa=X.orderedModifiers[Na];Fa=Sa.fn;var hb=Sa.options;hb=void 0===hb?{}:hb;Sa=Sa.name;"function"==typeof Fa&&(X=Fa({state:X,options:hb,name:Sa,instance:ea})||X)}else X.reset=!1,Na=-1}},update:(S=function(){return new Promise(function(Fa){ea.forceUpdate();Fa(X)})},function(){return V||=new Promise(function(Fa){Promise.resolve().then(function(){V=void 0;Fa(S())})}),V}),destroy:function(){L();da=!0}};return Z(l,x)?
(ea.setOptions(F).then(function(Fa){!da&&F.onFirstUpdate&&F.onFirstUpdate(Fa)}),ea):ea}}const Ca=new Map,Ra={set(t,M,W){Ca.has(t)||Ca.set(t,new Map);t=Ca.get(t);t.has(M)||0===t.size?t.set(M,W):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(t.keys())[0]}.`)},get:(t,M)=>Ca.has(t)&&Ca.get(t).get(M)||null,remove(t,M){if(Ca.has(t)){var W=Ca.get(t);W.delete(M);0===W.size&&Ca.delete(t)}}},xb=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,
(M,W)=>`#${CSS.escape(W)}`)),t),Ib=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),Ga=t=>Ib(t)?t.jquery?t[0]:t:"string"==typeof t&&0<t.length?document.querySelector(xb(t)):null,la=t=>{if(!Ib(t)||0===t.getClientRects().length)return!1;const M="visible"===getComputedStyle(t).getPropertyValue("visibility"),W=t.closest("details:not([open])");return W?W!==t&&((t=t.closest("summary"))&&t.parentNode!==W||null===t)?!1:M:M},Ia=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||
(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),Ba=t=>document.documentElement.attachShadow?"function"==typeof t.getRootNode?(t=t.getRootNode(),t instanceof ShadowRoot?t:null):t instanceof ShadowRoot?t:t.parentNode?Ba(t.parentNode):null:null,cb=()=>{},sb=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ub=[],Pa=t=>{var M=()=>{const W=sb();if(W){const oa=t.NAME,l=W.fn[oa];W.fn[oa]=t.jQueryInterface;W.fn[oa].Constructor=
t;W.fn[oa].noConflict=()=>(W.fn[oa]=l,t.jQueryInterface)}};"loading"===document.readyState?(ub.length||document.addEventListener("DOMContentLoaded",()=>{for(const W of ub)W()}),ub.push(M)):M()},ta=(t,M=[],W=t)=>"function"==typeof t?t(...M):W,Wa=(t,M,W=!0)=>{if(!W)return void ta(t);W=(x=>{if(!x)return 0;let {transitionDuration:F,transitionDelay:L}=window.getComputedStyle(x);x=Number.parseFloat(F);const S=Number.parseFloat(L);return x||S?(F=F.split(",")[0],L=L.split(",")[0],1E3*(Number.parseFloat(F)+
Number.parseFloat(L))):0})(M)+5;let oa=!1;const l=({target:x})=>{x===M&&(oa=!0,M.removeEventListener("transitionend",l),ta(t))};M.addEventListener("transitionend",l);setTimeout(()=>{oa||M.dispatchEvent(new Event("transitionend"))},W)},nb=(t,M,W,oa)=>{const l=t.length;M=t.indexOf(M);return-1===M?!W&&oa?t[l-1]:t[0]:(M+=W?1:-1,oa&&(M=(M+l)%l),t[Math.max(0,Math.min(M,l-1))])},jb=/[^.]*(?=\..*)\.|.*/,pa=/\..*/,Ea=/::\d+$/,La={};let Ya=1;const Da={mouseenter:"mouseover",mouseleave:"mouseout"},Ma=new Set("click dblclick mouseup mousedown contextmenu mousewheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange touchstart touchmove touchend touchcancel pointerdown pointermove pointerup pointerleave pointercancel gesturestart gesturechange gestureend focus blur change reset select submit focusin focusout load unload beforeunload resize move DOMContentLoaded readystatechange error abort scroll".split(" ")),
Ha={on(t,M,W,oa){k(t,M,W,oa,!1)},one(t,M,W,oa){k(t,M,W,oa,!0)},off(t,M,W,oa){if("string"==typeof M&&t){var [l,x,F]=y(M,W,oa);oa=F!==M;var L=K(t),S=L[F]||{},V=M.startsWith(".");if(void 0===x){if(V)for(var X of Object.keys(L)){W=t;V=M.slice(1);const na=L[X]||{};for(const [da,ea]of Object.entries(na))da.includes(V)&&v(W,L,X,ea.callable,ea.delegationSelector)}for(const [na,da]of Object.entries(S))X=na.replace(Ea,""),oa&&!M.includes(X)||v(t,L,F,da.callable,da.delegationSelector)}else Object.keys(S).length&&
v(t,L,F,x,l?W:null)}},trigger(t,M,W){if("string"!=typeof M||!t)return null;const oa=sb();let l=null,x=!0,F=!0,L=!1;M!==E(M)&&oa&&(l=oa.Event(M,W),oa(t).trigger(l),x=!l.isPropagationStopped(),F=!l.isImmediatePropagationStopped(),L=l.isDefaultPrevented());M=b(new Event(M,{bubbles:x,cancelable:!0}),W);return L&&M.preventDefault(),F&&t.dispatchEvent(M),M.defaultPrevented&&l&&l.preventDefault(),M}},qb={setDataAttribute(t,M,W){t.setAttribute(`data-bs-${w(M)}`,W)},removeDataAttribute(t,M){t.removeAttribute(`data-bs-${w(M)}`)},
getDataAttributes(t){if(!t)return{};const M={};var W=Object.keys(t.dataset).filter(oa=>oa.startsWith("bs")&&!oa.startsWith("bsConfig"));for(const oa of W)W=oa.replace(/^bs/,""),W=W.charAt(0).toLowerCase()+W.slice(1,W.length),M[W]=d(t.dataset[oa]);return M},getDataAttribute:(t,M)=>d(t.getAttribute(`data-bs-${w(M)}`))};class fc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!');}_getConfig(t){return t=
this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,M){const W=Ib(M)?qb.getDataAttribute(M,"config"):{};return{...this.constructor.Default,...("object"==typeof W?W:{}),...(Ib(M)?qb.getDataAttributes(M):{}),...("object"==typeof t?t:{})}}_typeCheckConfig(t,M=this.constructor.DefaultType){for(const [oa,l]of Object.entries(M))if(M=t[oa],M=Ib(M)?"element":null==(W=M)?`${W}`:Object.prototype.toString.call(W).match(/\s([a-z]+)/i)[1].toLowerCase(),
!(new RegExp(l)).test(M))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${oa}" provided type "${M}" but expected type "${l}".`);var W}}class vb extends fc{constructor(t,M){super();(t=Ga(t))&&(this._element=t,this._config=this._getConfig(M),Ra.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ra.remove(this._element,this.constructor.DATA_KEY);Ha.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,
M,W=!0){Wa(t,M,W)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Ra.get(Ga(t),this.DATA_KEY)}static getOrCreateInstance(t,M={}){return this.getInstance(t)||new this(t,"object"==typeof M?M:null)}static get VERSION(){return"5.3.0"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const P=t=>{let M=t.getAttribute("data-bs-target");
if(!M||"#"===M){t=t.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`);M=t&&"#"!==t?t.trim():null}return xb(M)},mb={find:(t,M=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(M,t)),findOne:(t,M=document.documentElement)=>Element.prototype.querySelector.call(M,t),children:(t,M)=>[].concat(...t.children).filter(W=>W.matches(M)),parents(t,M){const W=[];for(t=t.parentNode.closest(M);t;)W.push(t),
t=t.parentNode.closest(M);return W},prev(t,M){for(t=t.previousElementSibling;t;){if(t.matches(M))return[t];t=t.previousElementSibling}return[]},next(t,M){for(t=t.nextElementSibling;t;){if(t.matches(M))return[t];t=t.nextElementSibling}return[]},focusableChildren(t){const M='a button input textarea select details [tabindex] [contenteditable="true"]'.split(" ").map(W=>`${W}:not([tabindex^="-"])`).join(",");return this.find(M,t).filter(W=>!Ia(W)&&la(W))},getSelectorFromElement(t){return(t=P(t))&&mb.findOne(t)?
t:null},getElementFromSelector(t){return(t=P(t))?mb.findOne(t):null},getMultipleElementsFromSelector(t){return(t=P(t))?mb.find(t):[]}},qc=(t,M="hide")=>{const W=t.NAME;Ha.on(document,`click.dismiss${t.EVENT_KEY}`,`[data-bs-dismiss="${W}"]`,function(oa){(["A","AREA"].includes(this.tagName)&&oa.preventDefault(),Ia(this))||(oa=mb.getElementFromSelector(this)||this.closest(`.${W}`),t.getOrCreateInstance(oa)[M]())})};class jc extends vb{static get NAME(){return"alert"}close(){if(!Ha.trigger(this._element,
"close.bs.alert").defaultPrevented){this._element.classList.remove("show");var t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}}_destroyElement(){this._element.remove();Ha.trigger(this._element,"closed.bs.alert");this.dispose()}static jQueryInterface(t){return this.each(function(){const M=jc.getOrCreateInstance(this);if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);
M[t](this)}})}}qc(jc,"close");Pa(jc);class Qb extends vb{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const M=Qb.getOrCreateInstance(this);"toggle"===t&&M[t]()})}}Ha.on(document,"click.bs.button.data-api",'[data-bs-toggle="button"]',t=>{t.preventDefault();t=t.target.closest('[data-bs-toggle="button"]');Qb.getOrCreateInstance(t).toggle()});Pa(Qb);const eb={endCallback:null,
leftCallback:null,rightCallback:null},bc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ua extends fc{constructor(t,M){super();(this._element=t)&&Ua.isSupported()&&(this._config=this._getConfig(M),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return eb}static get DefaultType(){return bc}static get NAME(){return"swipe"}dispose(){Ha.off(this._element,".bs.swipe")}_start(t){this._supportPointerEvents?
this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX);this._handleSwipe();ta(this._config.endCallback)}_move(t){this._deltaX=t.touches&&1<t.touches.length?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){var t=Math.abs(this._deltaX);40>=t||(t/=this._deltaX,this._deltaX=0,t&&ta(0<t?this._config.rightCallback:this._config.leftCallback))}_initEvents(){this._supportPointerEvents?(Ha.on(this._element,
"pointerdown.bs.swipe",t=>this._start(t)),Ha.on(this._element,"pointerup.bs.swipe",t=>this._end(t)),this._element.classList.add("pointer-event")):(Ha.on(this._element,"touchstart.bs.swipe",t=>this._start(t)),Ha.on(this._element,"touchmove.bs.swipe",t=>this._move(t)),Ha.on(this._element,"touchend.bs.swipe",t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||
0<navigator.maxTouchPoints}}const tb={ArrowLeft:"right",ArrowRight:"left"},Hb={interval:5E3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},cc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Mb extends vb{constructor(t,M){super(t,M);this._activeElement=this._interval=null;this._isSliding=!1;this._swipeHelper=this.touchTimeout=null;this._indicatorsElement=mb.findOne(".carousel-indicators",this._element);this._addEventListeners();
"carousel"===this._config.ride&&this.cycle()}static get Default(){return Hb}static get DefaultType(){return cc}static get NAME(){return"carousel"}next(){this._slide("next")}nextWhenVisible(){!document.hidden&&la(this._element)&&this.next()}prev(){this._slide("prev")}pause(){this._isSliding&&this._element.dispatchEvent(new Event("transitionend"));this._clearInterval()}cycle(){this._clearInterval();this._updateInterval();this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&
(this._isSliding?Ha.one(this._element,"slid.bs.carousel",()=>this.cycle()):this.cycle())}to(t){const M=this._getItems();if(!(t>M.length-1||0>t)){if(this._isSliding)return void Ha.one(this._element,"slid.bs.carousel",()=>this.to(t));var W=this._getItemIndex(this._getActive());W!==t&&this._slide(t>W?"next":"prev",M[t])}}dispose(){this._swipeHelper&&this._swipeHelper.dispose();super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Ha.on(this._element,
"keydown.bs.carousel",t=>this._keydown(t));"hover"===this._config.pause&&(Ha.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),Ha.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle()));this._config.touch&&Ua.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of mb.find(".carousel-item img",this._element))Ha.on(t,"dragstart.bs.carousel",M=>M.preventDefault());this._swipeHelper=new Ua(this._element,{leftCallback:()=>this._slide(this._directionToOrder("left")),
rightCallback:()=>this._slide(this._directionToOrder("right")),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(!/input|textarea/i.test(t.target.tagName)){var M=tb[t.key];M&&(t.preventDefault(),this._slide(this._directionToOrder(M)))}}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(this._indicatorsElement){var M=
mb.findOne(".active",this._indicatorsElement);M.classList.remove("active");M.removeAttribute("aria-current");(t=mb.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement))&&(t.classList.add("active"),t.setAttribute("aria-current","true"))}}_updateInterval(){var t=this._activeElement||this._getActive();t&&(t=Number.parseInt(t.getAttribute("data-bs-interval"),10),this._config.interval=t||this._config.defaultInterval)}_slide(t,M=null){if(!this._isSliding){var W=this._getActive(),oa="next"===t,l=
M||nb(this._getItems(),W,oa,this._config.wrap);if(l!==W){var x=this._getItemIndex(l),F=V=>Ha.trigger(this._element,V,{relatedTarget:l,direction:this._orderToDirection(t),from:this._getItemIndex(W),to:x});if(!F("slide.bs.carousel").defaultPrevented&&W&&l){M=!!this._interval;this.pause();this._isSliding=!0;this._setActiveIndicatorElement(x);this._activeElement=l;var L=oa?"carousel-item-start":"carousel-item-end",S=oa?"carousel-item-next":"carousel-item-prev";l.classList.add(S);l.offsetHeight;W.classList.add(L);
l.classList.add(L);this._queueCallback(()=>{l.classList.remove(L,S);l.classList.add("active");W.classList.remove("active",S,L);this._isSliding=!1;F("slid.bs.carousel")},W,this._isAnimated());M&&this.cycle()}}}}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return mb.findOne(".active.carousel-item",this._element)}_getItems(){return mb.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return"rtl"===
document.documentElement.dir?"left"===t?"prev":"next":"left"===t?"next":"prev"}_orderToDirection(t){return"rtl"===document.documentElement.dir?"prev"===t?"left":"right":"prev"===t?"right":"left"}static jQueryInterface(t){return this.each(function(){const M=Mb.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);M[t]()}}else M.to(t)})}}Ha.on(document,"click.bs.carousel.data-api",
"[data-bs-slide], [data-bs-slide-to]",function(t){var M=mb.getElementFromSelector(this);if(M&&M.classList.contains("carousel"))return t.preventDefault(),t=Mb.getOrCreateInstance(M),(M=this.getAttribute("data-bs-slide-to"))?(t.to(M),void t._maybeEnableCycle()):"next"===qb.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())});Ha.on(window,"load.bs.carousel.data-api",()=>{const t=mb.find('[data-bs-ride="carousel"]');for(const M of t)Mb.getOrCreateInstance(M)});
Pa(Mb);const tc={parent:null,toggle:!0},rc={parent:"(null|element)",toggle:"boolean"};class wc extends vb{constructor(t,M){super(t,M);this._isTransitioning=!1;this._triggerArray=[];t=mb.find('[data-bs-toggle="collapse"]');for(const W of t)t=mb.getSelectorFromElement(W),M=mb.find(t).filter(oa=>oa===this._element),null!==t&&M.length&&this._triggerArray.push(W);this._initializeChildren();this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown());this._config.toggle&&this.toggle()}static get Default(){return tc}static get DefaultType(){return rc}static get NAME(){return"collapse"}toggle(){this._isShown()?
this.hide():this.show()}show(){if(!this._isTransitioning&&!this._isShown()){var t=[];if((this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(W=>W!==this._element).map(W=>wc.getOrCreateInstance(W,{toggle:!1}))),!t.length||!t[0]._isTransitioning)&&!Ha.trigger(this._element,"show.bs.collapse").defaultPrevented){for(const W of t)W.hide();var M=this._getDimension();this._element.classList.remove("collapse");this._element.classList.add("collapsing");this._element.style[M]=
0;this._addAriaAndCollapsedClass(this._triggerArray,!0);this._isTransitioning=!0;t=`scroll${M[0].toUpperCase()+M.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1;this._element.classList.remove("collapsing");this._element.classList.add("collapse","show");this._element.style[M]="";Ha.trigger(this._element,"shown.bs.collapse")},this._element,!0);this._element.style[M]=`${this._element[t]}px`}}}hide(){if(!this._isTransitioning&&this._isShown()&&!Ha.trigger(this._element,"hide.bs.collapse").defaultPrevented){var t=
this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`;this._element.offsetHeight;this._element.classList.add("collapsing");this._element.classList.remove("collapse","show");for(const M of this._triggerArray){const W=mb.getElementFromSelector(M);W&&!this._isShown(W)&&this._addAriaAndCollapsedClass([M],!1)}this._isTransitioning=!0;this._element.style[t]="";this._queueCallback(()=>{this._isTransitioning=!1;this._element.classList.remove("collapsing");this._element.classList.add("collapse");
Ha.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}}_isShown(t=this._element){return t.classList.contains("show")}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Ga(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent){var t=this._getFirstLevelChildren('[data-bs-toggle="collapse"]');for(const M of t)(t=mb.getElementFromSelector(M))&&this._addAriaAndCollapsedClass([M],this._isShown(t))}}_getFirstLevelChildren(t){const M=
mb.find(":scope .collapse .collapse",this._config.parent);return mb.find(t,this._config.parent).filter(W=>!M.includes(W))}_addAriaAndCollapsedClass(t,M){if(t.length)for(const W of t)W.classList.toggle("collapsed",!M),W.setAttribute("aria-expanded",M)}static jQueryInterface(t){const M={};return"string"==typeof t&&/show|hide/.test(t)&&(M.toggle=!1),this.each(function(){const W=wc.getOrCreateInstance(this,M);if("string"==typeof t){if(void 0===W[t])throw new TypeError(`No method named "${t}"`);W[t]()}})}}
Ha.on(document,"click.bs.collapse.data-api",'[data-bs-toggle="collapse"]',function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const M of mb.getMultipleElementsFromSelector(this))wc.getOrCreateInstance(M,{toggle:!1}).toggle()});Pa(wc);var Fb=["top","bottom","right","left"],Sb=Fb.reduce(function(t,M){return t.concat([M+"-start",M+"-end"])},[]),Ob=[].concat(Fb,["auto"]).reduce(function(t,M){return t.concat([M,M+"-start",M+"-end"])},[]),Tb="beforeRead read afterRead beforeMain main afterMain beforeWrite write afterWrite".split(" ");
const Rb={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var M=t.state;Object.keys(M.elements).forEach(function(W){var oa=M.styles[W]||{},l=M.attributes[W]||{},x=M.elements[W];r(x)&&a(x)&&(Object.assign(x.style,oa),Object.keys(l).forEach(function(F){var L=l[F];!1===L?x.removeAttribute(F):x.setAttribute(F,!0===L?"":L)}))})},effect:function(t){var M=t.state,W={popper:{position:M.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(M.elements.popper.style,
W.popper),M.styles=W,M.elements.arrow&&Object.assign(M.elements.arrow.style,W.arrow),function(){Object.keys(M.elements).forEach(function(oa){var l=M.elements[oa],x=M.attributes[oa]||{};oa=Object.keys(M.styles.hasOwnProperty(oa)?M.styles[oa]:W[oa]).reduce(function(F,L){return F[L]="",F},{});r(l)&&a(l)&&(Object.assign(l.style,oa),Object.keys(x).forEach(function(F){l.removeAttribute(F)}))})}},requires:["computeStyles"]};var rb=Math.max,Vb=Math.min,kb=Math.round;const ac={name:"arrow",enabled:!0,phase:"main",
fn:function(t){var M,W=t.state,oa=t.name,l=t.options,x=W.elements.arrow,F=W.modifiersData.popperOffsets,L=c(W.placement);t=z(L);L=0<=["left","right"].indexOf(L)?"height":"width";if(x&&F){var S=l.padding;l=G("number"!=typeof(S="function"==typeof S?S(Object.assign({},W.rects,{placement:W.placement})):S)?S:H(S,Fb));S=p(x);var V="y"===t?"top":"left",X="y"===t?"bottom":"right",na=W.rects.reference[L]+W.rects.reference[t]-F[t]-W.rects.popper[L];F=F[t]-W.rects.reference[t];x=(x=O(x))?"y"===t?x.clientHeight||
0:x.clientWidth||0:0;F=x/2-S[L]/2+(na/2-F/2);L=rb(l[V],Vb(F,x-S[L]-l[X]));W.modifiersData[oa]=((M={})[t]=L,M.centerOffset=L-F,M)}},effect:function(t){var M=t.state;t=t.options.element;t=void 0===t?"[data-popper-arrow]":t;null!=t&&("string"!=typeof t||(t=M.elements.popper.querySelector(t)))&&u(M.elements.popper,t)&&(M.elements.arrow=t)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};var vc={top:"auto",right:"auto",bottom:"auto",left:"auto"};const kc={name:"computeStyles",enabled:!0,
phase:"beforeWrite",fn:function(t){var M=t.state,W=t.options;t=W.gpuAcceleration;t=void 0===t||t;var oa=W.adaptive;oa=void 0===oa||oa;W=W.roundOffsets;W=void 0===W||W;t={placement:c(M.placement),variation:N(M.placement),popper:M.elements.popper,popperRect:M.rects.popper,gpuAcceleration:t,isFixed:"fixed"===M.options.strategy};null!=M.modifiersData.popperOffsets&&(M.styles.popper=Object.assign({},M.styles.popper,J(Object.assign({},t,{offsets:M.modifiersData.popperOffsets,position:M.options.strategy,
adaptive:oa,roundOffsets:W}))));null!=M.modifiersData.arrow&&(M.styles.arrow=Object.assign({},M.styles.arrow,J(Object.assign({},t,{offsets:M.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:W}))));M.attributes.popper=Object.assign({},M.attributes.popper,{"data-popper-placement":M.placement})},data:{}};var lc={passive:!0};const hc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var M=t.state,W=t.instance;t=t.options;var oa=t.scroll,l=void 0===oa||
oa;t=t.resize;var x=void 0===t||t,F=m(M.elements.popper),L=[].concat(M.scrollParents.reference,M.scrollParents.popper);return l&&L.forEach(function(S){S.addEventListener("scroll",W.update,lc)}),x&&F.addEventListener("resize",W.update,lc),function(){l&&L.forEach(function(S){S.removeEventListener("scroll",W.update,lc)});x&&F.removeEventListener("resize",W.update,lc)}},data:{}};var gc={left:"right",right:"left",bottom:"top",top:"bottom"},nc={start:"end",end:"start"};const xc={name:"flip",enabled:!0,
phase:"main",fn:function(t){var M=t.state,W=t.options;t=t.name;if(!M.modifiersData[t]._skip){var oa=W.mainAxis;oa=void 0===oa||oa;var l=W.altAxis;l=void 0===l||l;var x=W.fallbackPlacements,F=W.padding,L=W.boundary,S=W.rootBoundary,V=W.altBoundary,X=W.flipVariations,na=void 0===X||X,da=W.allowedAutoPlacements;W=M.options.placement;X=c(W);x=x||(X!==W&&na?function(Kb){if("auto"===c(Kb))return[];var Ub=R(Kb);return[fa(Kb),Ub,fa(Ub)]}(W):[R(W)]);var ea=[W].concat(x).reduce(function(Kb,Ub){return Kb.concat("auto"===
c(Ub)?ma(M,{placement:Ub,boundary:L,rootBoundary:S,padding:F,flipVariations:na,allowedAutoPlacements:da}):Ub)},[]);W=M.rects.reference;x=M.rects.popper;var Fa=new Map;X=!0;for(var Na=ea[0],Sa=0;Sa<ea.length;Sa++){var hb=ea[Sa],ib=c(hb),Bb="start"===N(hb),Cb=0<=["top","bottom"].indexOf(ib),$b=Cb?"width":"height",zb=ya(M,{placement:hb,boundary:L,rootBoundary:S,altBoundary:V,padding:F});Bb=Cb?Bb?"right":"left":Bb?"bottom":"top";W[$b]>x[$b]&&(Bb=R(Bb));$b=R(Bb);Cb=[];if(oa&&Cb.push(0>=zb[ib]),l&&Cb.push(0>=
zb[Bb],0>=zb[$b]),Cb.every(function(Kb){return Kb})){Na=hb;X=!1;break}Fa.set(hb,Cb)}if(X)for(oa=function(Kb){var Ub=ea.find(function(yb){if(yb=Fa.get(yb))return yb.slice(0,Kb).every(function(Wb){return Wb})});if(Ub)return Na=Ub,"break"},l=na?3:1;0<l&&"break"!==oa(l);l--);M.placement!==Na&&(M.modifiersData[t]._skip=!0,M.placement=Na,M.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Mc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var M=t.state;t=
t.name;var W=M.rects.reference,oa=M.rects.popper,l=M.modifiersData.preventOverflow,x=ya(M,{elementContext:"reference"}),F=ya(M,{altBoundary:!0});W=Oa(x,W);oa=Oa(F,oa,l);l=fb(W);F=fb(oa);M.modifiersData[t]={referenceClippingOffsets:W,popperEscapeOffsets:oa,isReferenceHidden:l,hasPopperEscaped:F};M.attributes.popper=Object.assign({},M.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":F})}},yc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var M=
t.state,W=t.name;t=t.options.offset;var oa=void 0===t?[0,0]:t;t=Ob.reduce(function(F,L){var S=M.rects,V=c(L),X=0<=["left","top"].indexOf(V)?-1:1;var na="function"==typeof oa?oa(Object.assign({},S,{placement:L})):oa;S=na[0];var da=na[1];na=(S=S||0,da=(da||0)*X,0<=["left","right"].indexOf(V)?{x:da,y:S}:{x:S,y:da});return F[L]=na,F},{});var l=t[M.placement],x=l.x;l=l.y;null!=M.modifiersData.popperOffsets&&(M.modifiersData.popperOffsets.x+=x,M.modifiersData.popperOffsets.y+=l);M.modifiersData[W]=t}},
Dc={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var M=t.state;M.modifiersData[t.name]=qa({reference:M.rects.reference,element:M.rects.popper,strategy:"absolute",placement:M.placement})},data:{}},zc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var M=t.state,W=t.options;t=t.name;var oa=W.mainAxis,l=void 0===oa||oa;oa=W.altAxis;var x=void 0!==oa&&oa;oa=W.tether;var F=void 0===oa||oa;oa=W.tetherOffset;var L=void 0===oa?0:oa,S=ya(M,{boundary:W.boundary,rootBoundary:W.rootBoundary,
padding:W.padding,altBoundary:W.altBoundary}),V=c(M.placement),X=N(M.placement),na=!X,da=z(V);W="x"===da?"y":"x";oa=M.modifiersData.popperOffsets;var ea=M.rects.reference,Fa=M.rects.popper;L="function"==typeof L?L(Object.assign({},M.rects,{placement:M.placement})):L;var Na="number"==typeof L?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),Sa=M.modifiersData.offset?M.modifiersData.offset[M.placement]:null;L={x:0,y:0};if(oa){if(l){var hb,ib="y"===da?"top":"left",Bb="y"===da?"bottom":
"right",Cb="y"===da?"height":"width";l=oa[da];var $b=l+S[ib],zb=l-S[Bb],Kb=F?-Fa[Cb]/2:0,Ub="start"===X?ea[Cb]:Fa[Cb];X="start"===X?-Fa[Cb]:-ea[Cb];var yb=M.elements.arrow;yb=F&&yb?p(yb):{width:0,height:0};var Wb=M.modifiersData["arrow#persistent"]?M.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0};ib=Wb[ib];Bb=Wb[Bb];yb=rb(0,Vb(ea[Cb],yb[Cb]));Ub=na?ea[Cb]/2-Kb-yb-ib-Na.mainAxis:Ub-yb-ib-Na.mainAxis;na=na?-ea[Cb]/2+Kb+yb+Bb+Na.mainAxis:X+yb+Bb+Na.mainAxis;Cb=(Cb=M.elements.arrow&&
O(M.elements.arrow))?"y"===da?Cb.clientTop||0:Cb.clientLeft||0:0;Kb=null!=(hb=null==Sa?void 0:Sa[da])?hb:0;hb=l+na-Kb;$b=F?Vb($b,l+Ub-Kb-Cb):$b;hb=F?rb(zb,hb):zb;hb=rb($b,Vb(l,hb));oa[da]=hb;L[da]=hb-l}if(x){var Zb;x=oa[W];l="y"===W?"height":"width";hb=x+S["x"===da?"top":"left"];S=x-S["x"===da?"bottom":"right"];V=-1!==["top","left"].indexOf(V);da=null!=(Zb=null==Sa?void 0:Sa[W])?Zb:0;Zb=V?hb:x-ea[l]-Fa[l]-da+Na.altAxis;ea=V?x+ea[l]+Fa[l]-da-Na.altAxis:S;F&&V?(Zb=rb(Zb,Vb(x,ea)),Zb=Zb>ea?ea:Zb):Zb=
rb(F?Zb:hb,Vb(x,F?ea:S));oa[W]=Zb;L[W]=Zb-x}M.modifiersData[t]=L}},requiresIfExists:["offset"]};var Cc={placement:"bottom",modifiers:[],strategy:"absolute"},aa=ra(),za=ra({defaultModifiers:[hc,Dc,kc,Rb]}),Qa=ra({defaultModifiers:[hc,Dc,kc,Rb,yc,xc,zc,ac,Mc]});const bb=Object.freeze(Object.defineProperty({__proto__:null,afterMain:"afterMain",afterRead:"afterRead",afterWrite:"afterWrite",applyStyles:Rb,arrow:ac,auto:"auto",basePlacements:Fb,beforeMain:"beforeMain",beforeRead:"beforeRead",beforeWrite:"beforeWrite",
bottom:"bottom",clippingParents:"clippingParents",computeStyles:kc,createPopper:Qa,createPopperBase:aa,createPopperLite:za,detectOverflow:ya,end:"end",eventListeners:hc,flip:xc,hide:Mc,left:"left",main:"main",modifierPhases:Tb,offset:yc,placements:Ob,popper:"popper",popperGenerator:ra,popperOffsets:Dc,preventOverflow:zc,read:"read",reference:"reference",right:"right",start:"start",top:"top",variationPlacements:Sb,viewport:"viewport",write:"write"},Symbol.toStringTag,{value:"Module"})),ob="rtl"===
document.documentElement.dir?"top-end":"top-start",U="rtl"===document.documentElement.dir?"top-start":"top-end",ia="rtl"===document.documentElement.dir?"bottom-end":"bottom-start",Aa="rtl"===document.documentElement.dir?"bottom-start":"bottom-end",ba="rtl"===document.documentElement.dir?"left-start":"right-start",va="rtl"===document.documentElement.dir?"right-start":"left-start",Ja={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Va={autoClose:"(boolean|string)",
boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ka extends vb{constructor(t,M){super(t,M);this._popper=null;this._parent=this._element.parentNode;this._menu=mb.next(this._element,".dropdown-menu")[0]||mb.prev(this._element,".dropdown-menu")[0]||mb.findOne(".dropdown-menu",this._parent);this._inNavbar=this._detectNavbar()}static get Default(){return Ja}static get DefaultType(){return Va}static get NAME(){return"dropdown"}toggle(){return this._isShown()?
this.hide():this.show()}show(){if(!Ia(this._element)&&!this._isShown()){var t={relatedTarget:this._element};if(!Ha.trigger(this._element,"show.bs.dropdown",t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const M of[].concat(...document.body.children))Ha.on(M,"mouseover",cb);this._element.focus();this._element.setAttribute("aria-expanded",!0);this._menu.classList.add("show");this._element.classList.add("show");Ha.trigger(this._element,
"shown.bs.dropdown",t)}}}hide(){!Ia(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy();super.dispose()}update(){this._inNavbar=this._detectNavbar();this._popper&&this._popper.update()}_completeHide(t){if(!Ha.trigger(this._element,"hide.bs.dropdown",t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const M of[].concat(...document.body.children))Ha.off(M,"mouseover",cb);this._popper&&this._popper.destroy();
this._menu.classList.remove("show");this._element.classList.remove("show");this._element.setAttribute("aria-expanded","false");qb.removeDataAttribute(this._menu,"popper");Ha.trigger(this._element,"hidden.bs.dropdown",t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Ib(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError('DROPDOWN: Option "reference" provided type "object" without a required "getBoundingClientRect" method.');return t}_createPopper(){if(void 0===
bb)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Ib(this._config.reference)?t=Ga(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const M=this._getPopperConfig();this._popper=Qa(t,this._menu,M)}_isShown(){return this._menu.classList.contains("show")}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return ba;if(t.classList.contains("dropstart"))return va;
if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const M="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?M?U:ob:M?Aa:ia}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const {offset:t}=this._config;return"string"==typeof t?t.split(",").map(M=>Number.parseInt(M,10)):"function"==typeof t?M=>t(M,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),
modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(qb.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...ta(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:M}){const W=mb.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(oa=>la(oa));W.length&&nb(W,M,"ArrowDown"===
t,!W.includes(M)).focus()}static jQueryInterface(t){return this.each(function(){const M=Ka.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===M[t])throw new TypeError(`No method named "${t}"`);M[t]()}})}static clearMenus(t){if(2!==t.button&&("keyup"!==t.type||"Tab"===t.key)){var M=mb.find('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled).show');for(const oa of M){M=Ka.getInstance(oa);if(!M||!1===M._config.autoClose)continue;var W=t.composedPath();const l=W.includes(M._menu);W.includes(M._element)||
"inside"===M._config.autoClose&&!l||"outside"===M._config.autoClose&&l||M._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName))||(W={relatedTarget:M._element},"click"===t.type&&(W.clickEvent=t),M._completeHide(W))}}}static dataApiKeydownHandler(t){var M=/input|textarea/i.test(t.target.tagName),W="Escape"===t.key;const oa=["ArrowUp","ArrowDown"].includes(t.key);if(oa||W)if(!M||W){t.preventDefault();M=this.matches('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')?
this:mb.prev(this,'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')[0]||mb.next(this,'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')[0]||mb.findOne('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',t.delegateTarget.parentNode);W=Ka.getOrCreateInstance(M);if(oa)return t.stopPropagation(),W.show(),void W._selectMenuItem(t);W._isShown()&&(t.stopPropagation(),W.hide(),M.focus())}}}Ha.on(document,"keydown.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',
Ka.dataApiKeydownHandler);Ha.on(document,"keydown.bs.dropdown.data-api",".dropdown-menu",Ka.dataApiKeydownHandler);Ha.on(document,"click.bs.dropdown.data-api",Ka.clearMenus);Ha.on(document,"keyup.bs.dropdown.data-api",Ka.clearMenus);Ha.on(document,"click.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',function(t){t.preventDefault();Ka.getOrCreateInstance(this).toggle()});Pa(Ka);const Za={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},
$a={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class lb extends fc{constructor(t){super();this._config=this._getConfig(t);this._isAppended=!1;this._element=null}static get Default(){return Za}static get DefaultType(){return $a}static get NAME(){return"backdrop"}show(t){if(!this._config.isVisible)return void ta(t);this._append();const M=this._getElement();this._config.isAnimated&&M.offsetHeight;M.classList.add("show");
this._emulateAnimation(()=>{ta(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose();ta(t)})):ta(t)}dispose(){this._isAppended&&(Ha.off(this._element,"mousedown.bs.backdrop"),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className;this._config.isAnimated&&t.classList.add("fade");this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=
Ga(t.rootElement),t}_append(){if(!this._isAppended){var t=this._getElement();this._config.rootElement.append(t);Ha.on(t,"mousedown.bs.backdrop",()=>{ta(this._config.clickCallback)});this._isAppended=!0}}_emulateAnimation(t){Wa(t,this._getElement(),this._config.isAnimated)}}const Lb={autofocus:!0,trapElement:null},Db={autofocus:"boolean",trapElement:"element"};class Nb extends fc{constructor(t){super();this._config=this._getConfig(t);this._isActive=!1;this._lastTabNavDirection=null}static get Default(){return Lb}static get DefaultType(){return Db}static get NAME(){return"focustrap"}activate(){this._isActive||
(this._config.autofocus&&this._config.trapElement.focus(),Ha.off(document,".bs.focustrap"),Ha.on(document,"focusin.bs.focustrap",t=>this._handleFocusin(t)),Ha.on(document,"keydown.tab.bs.focustrap",t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ha.off(document,".bs.focustrap"))}_handleFocusin(t){const {trapElement:M}=this._config;t.target===document||t.target===M||M.contains(t.target)||(t=mb.focusableChildren(M),0===t.length?M.focus():"backward"===this._lastTabNavDirection?
t[t.length-1].focus():t[0].focus())}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?"backward":"forward")}}class oc{constructor(){this._element=document.body}getWidth(){return Math.abs(window.innerWidth-document.documentElement.clientWidth)}hide(){const t=this.getWidth();this._disableOverFlow();this._setElementAttributes(this._element,"padding-right",M=>M+t);this._setElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","padding-right",M=>M+t);this._setElementAttributes(".sticky-top",
"margin-right",M=>M-t)}reset(){this._resetElementAttributes(this._element,"overflow");this._resetElementAttributes(this._element,"padding-right");this._resetElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","padding-right");this._resetElementAttributes(".sticky-top","margin-right")}isOverflowing(){return 0<this.getWidth()}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow");this._element.style.overflow="hidden"}_setElementAttributes(t,M,W){const oa=this.getWidth();
this._applyManipulationCallback(t,l=>{if(!(l!==this._element&&window.innerWidth>l.clientWidth+oa)){this._saveInitialAttribute(l,M);var x=window.getComputedStyle(l).getPropertyValue(M);l.style.setProperty(M,`${W(Number.parseFloat(x))}px`)}})}_saveInitialAttribute(t,M){const W=t.style.getPropertyValue(M);W&&qb.setDataAttribute(t,M,W)}_resetElementAttributes(t,M){this._applyManipulationCallback(t,W=>{const oa=qb.getDataAttribute(W,M);null!==oa?(qb.removeDataAttribute(W,M),W.style.setProperty(M,oa)):
W.style.removeProperty(M)})}_applyManipulationCallback(t,M){if(Ib(t))M(t);else for(const W of mb.find(t,this._element))M(W)}}const dd={backdrop:!0,focus:!0,keyboard:!0},ed={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ac extends vb{constructor(t,M){super(t,M);this._dialog=mb.findOne(".modal-dialog",this._element);this._backdrop=this._initializeBackDrop();this._focustrap=this._initializeFocusTrap();this._isTransitioning=this._isShown=!1;this._scrollBar=new oc;this._addEventListeners()}static get Default(){return dd}static get DefaultType(){return ed}static get NAME(){return"modal"}toggle(t){return this._isShown?
this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Ha.trigger(this._element,"show.bs.modal",{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add("modal-open"),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){this._isShown&&!this._isTransitioning&&(Ha.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),
this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Ha.off(window,".bs.modal");Ha.off(this._dialog,".bs.modal");this._backdrop.dispose();this._focustrap.deactivate();super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new lb({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Nb({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||
document.body.append(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.setAttribute("aria-modal",!0);this._element.setAttribute("role","dialog");this._element.scrollTop=0;const M=mb.findOne(".modal-body",this._dialog);M&&(M.scrollTop=0);this._element.offsetHeight;this._element.classList.add("show");this._queueCallback(()=>{this._config.focus&&this._focustrap.activate();this._isTransitioning=!1;Ha.trigger(this._element,"shown.bs.modal",{relatedTarget:t})},
this._dialog,this._isAnimated())}_addEventListeners(){Ha.on(this._element,"keydown.dismiss.bs.modal",t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())});Ha.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()});Ha.on(this._element,"mousedown.dismiss.bs.modal",t=>{Ha.one(this._element,"click.dismiss.bs.modal",M=>{this._element===t.target&&this._element===M.target&&("static"!==this._config.backdrop?this._config.backdrop&&
this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");this._isTransitioning=!1;this._backdrop.hide(()=>{document.body.classList.remove("modal-open");this._resetAdjustments();this._scrollBar.reset();Ha.trigger(this._element,"hidden.bs.modal")})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(!Ha.trigger(this._element,
"hidePrevented.bs.modal").defaultPrevented){var t=this._element.scrollHeight>document.documentElement.clientHeight,M=this._element.style.overflowY;"hidden"===M||this._element.classList.contains("modal-static")||(t||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static"),this._queueCallback(()=>{this._element.classList.remove("modal-static");this._queueCallback(()=>{this._element.style.overflowY=M},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){const t=
this._element.scrollHeight>document.documentElement.clientHeight,M=this._scrollBar.getWidth(),W=0<M;W&&!t&&(this._element.style["rtl"===document.documentElement.dir?"paddingLeft":"paddingRight"]=`${M}px`);!W&&t&&(this._element.style["rtl"===document.documentElement.dir?"paddingRight":"paddingLeft"]=`${M}px`)}_resetAdjustments(){this._element.style.paddingLeft="";this._element.style.paddingRight=""}static jQueryInterface(t,M){return this.each(function(){const W=Ac.getOrCreateInstance(this,t);if("string"==
typeof t){if(void 0===W[t])throw new TypeError(`No method named "${t}"`);W[t](M)}})}}Ha.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(t){const M=mb.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault();Ha.one(M,"show.bs.modal",W=>{W.defaultPrevented||Ha.one(M,"hidden.bs.modal",()=>{la(this)&&this.focus()})});(t=mb.findOne(".modal.show"))&&Ac.getInstance(t).hide();Ac.getOrCreateInstance(M).toggle(this)});qc(Ac);Pa(Ac);const fd={backdrop:!0,
keyboard:!0,scroll:!1},gd={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Gc extends vb{constructor(t,M){super(t,M);this._isShown=!1;this._backdrop=this._initializeBackDrop();this._focustrap=this._initializeFocusTrap();this._addEventListeners()}static get Default(){return fd}static get DefaultType(){return gd}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||Ha.trigger(this._element,"show.bs.offcanvas",{relatedTarget:t}).defaultPrevented||
(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new oc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("showing"),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate();this._element.classList.add("show");this._element.classList.remove("showing");Ha.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&(Ha.trigger(this._element,
"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding");this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");this._config.scroll||(new oc).reset();Ha.trigger(this._element,"hidden.bs.offcanvas")},this._element,!0)))}dispose(){this._backdrop.dispose();this._focustrap.deactivate();super.dispose()}_initializeBackDrop(){const t=
!!this._config.backdrop;return new lb({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():Ha.trigger(this._element,"hidePrevented.bs.offcanvas")}:null})}_initializeFocusTrap(){return new Nb({trapElement:this._element})}_addEventListeners(){Ha.on(this._element,"keydown.dismiss.bs.offcanvas",t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():Ha.trigger(this._element,"hidePrevented.bs.offcanvas"))})}static jQueryInterface(t){return this.each(function(){const M=
Gc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);M[t](this)}})}}Ha.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(t){const M=mb.getElementFromSelector(this);(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ia(this))||(Ha.one(M,"hidden.bs.offcanvas",()=>{la(this)&&this.focus()}),(t=mb.findOne(".offcanvas.show"))&&t!==M&&Gc.getInstance(t).hide(),Gc.getOrCreateInstance(M).toggle(this))});
Ha.on(window,"load.bs.offcanvas.data-api",()=>{for(const t of mb.find(".offcanvas.show"))Gc.getOrCreateInstance(t).show()});Ha.on(window,"resize.bs.offcanvas",()=>{for(const t of mb.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&Gc.getOrCreateInstance(t).hide()});qc(Gc);Pa(Gc);const Vc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],
h5:[],h6:[],i:[],img:"src srcset alt title width height".split(" "),li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Oc=new Set("background cite href itemtype longdesc poster src xlink:href".split(" ")),Wc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Sc=(t,M)=>{const W=t.nodeName.toLowerCase();return M.includes(W)?!Oc.has(W)||!!Wc.test(t.nodeValue):M.filter(oa=>oa instanceof RegExp).some(oa=>oa.test(W))},Xc={allowList:Vc,content:{},extraClass:"",html:!1,
sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},hd={entry:"(string|element|function|null)",selector:"(string|element)"};class Zc extends fc{constructor(t){super();this._config=this._getConfig(t)}static get Default(){return Xc}static get DefaultType(){return Yc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>
this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return 0<this.getContent().length}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){var t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const [W,oa]of Object.entries(this._config.content))this._setContent(t,oa,W);t=t.children[0];const M=this._resolvePossibleFunction(this._config.extraClass);return M&&t.classList.add(...M.split(" ")),
t}_typeCheckConfig(t){super._typeCheckConfig(t);this._checkContent(t.content)}_checkContent(t){for(const [M,W]of Object.entries(t))super._typeCheckConfig({selector:M,entry:W},hd)}_setContent(t,M,W){(t=mb.findOne(W,t))&&((M=this._resolvePossibleFunction(M))?Ib(M)?this._putElementInTemplate(Ga(M),t):this._config.html?t.innerHTML=this._maybeSanitize(M):t.textContent=M:t.remove())}_maybeSanitize(t){if(this._config.sanitize){var M=this._config.allowList;var W=this._config.sanitizeFn;if(t.length)if(W&&
"function"==typeof W)M=W(t);else{t=(new window.DOMParser).parseFromString(t,"text/html");W=[].concat(...t.body.querySelectorAll("*"));for(const l of W){var oa=l.nodeName.toLowerCase();if(Object.keys(M).includes(oa)){W=[].concat(...l.attributes);oa=[].concat(M["*"]||[],M[oa]||[]);for(const x of W)Sc(x,oa)||l.removeAttribute(x.nodeName)}else l.remove()}M=t.body.innerHTML}else M=t}else M=t;return M}_resolvePossibleFunction(t){return ta(t,[this])}_putElementInTemplate(t,M){if(this._config.html)return M.innerHTML=
"",void M.append(t);M.textContent=t.textContent}}const id=new Set(["sanitize","allowList","sanitizeFn"]),jd={AUTO:"auto",TOP:"top",RIGHT:"rtl"===document.documentElement.dir?"left":"right",BOTTOM:"bottom",LEFT:"rtl"===document.documentElement.dir?"right":"left"},kd={allowList:Vc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,
template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ld={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",
selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Nc extends vb{constructor(t,M){if(void 0===bb)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,M);this._isEnabled=!0;this._timeout=0;this._isHovered=null;this._activeTrigger={};this.tip=this._newContent=this._templateFactory=this._popper=null;this._setListeners();this._config.selector||this._fixTitle()}static get Default(){return kd}static get DefaultType(){return ld}static get NAME(){return"tooltip"}enable(){this._isEnabled=
!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout);Ha.off(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler);this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title"));this._disposePopper();super.dispose()}show(){if("none"===
this._element.style.display)throw Error("Please use show on visible elements");if(this._isWithContent()&&this._isEnabled){var t=Ha.trigger(this._element,this.constructor.eventName("show")),M=(Ba(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(!t.defaultPrevented&&M){this._disposePopper();t=this._getTipElement();this._element.setAttribute("aria-describedby",t.getAttribute("id"));({container:M}=this._config);if(this._element.ownerDocument.documentElement.contains(this.tip)||
(M.append(t),Ha.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(t),t.classList.add("show"),"ontouchstart"in document.documentElement)for(const W of[].concat(...document.body.children))Ha.on(W,"mouseover",cb);this._queueCallback(()=>{Ha.trigger(this._element,this.constructor.eventName("shown"));!1===this._isHovered&&this._leave();this._isHovered=!1},this.tip,this._isAnimated())}}}hide(){if(this._isShown()&&!Ha.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove("show"),
"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))Ha.off(t,"mouseover",cb);this._activeTrigger.click=!1;this._activeTrigger.focus=!1;this._activeTrigger.hover=!1;this._isHovered=null;this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ha.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||
(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){t=this._getTemplateFactory(t).toHtml();if(!t)return null;t.classList.remove("fade","show");t.classList.add(`bs-${this.constructor.NAME}-auto`);var M=this.constructor.NAME;do M+=Math.floor(1E6*Math.random());while(document.getElementById(M));return t.setAttribute("id",M.toString()),this._isAnimated()&&t.classList.add("fade"),t}setContent(t){this._newContent=t;this._isShown()&&(this._disposePopper(),
this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Zc({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,
this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains("fade")}_isShown(){return this.tip&&this.tip.classList.contains("show")}_createPopper(t){var M=ta(this._config.placement,[this,t,this._element]);M=jd[M.toUpperCase()];return Qa(this._element,t,this._getPopperConfig(M))}_getOffset(){const {offset:t}=this._config;return"string"==typeof t?t.split(",").map(M=>Number.parseInt(M,10)):"function"==typeof t?M=>t(M,this._element):t}_resolvePossibleFunction(t){return ta(t,
[this._element])}_getPopperConfig(t){t={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:M=>{this._getTipElement().setAttribute("data-popper-placement",M.state.placement)}}]};return{...t,...ta(this._config.popperConfig,
[t])}}_setListeners(){var t=this._config.trigger.split(" ");for(const M of t)if("click"===M)Ha.on(this._element,this.constructor.eventName("click"),this._config.selector,W=>{this._initializeOnDelegatedTarget(W).toggle()});else if("manual"!==M){t="hover"===M?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin");const W="hover"===M?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Ha.on(this._element,t,this._config.selector,oa=>{const l=this._initializeOnDelegatedTarget(oa);
l._activeTrigger["focusin"===oa.type?"focus":"hover"]=!0;l._enter()});Ha.on(this._element,W,this._config.selector,oa=>{const l=this._initializeOnDelegatedTarget(oa);l._activeTrigger["focusout"===oa.type?"focus":"hover"]=l._element.contains(oa.relatedTarget);l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()};Ha.on(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||
this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,M){clearTimeout(this._timeout);
this._timeout=setTimeout(t,M)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const M=qb.getDataAttributes(this._element);for(const W of Object.keys(M))id.has(W)&&delete M[W];return t={...M,...("object"==typeof t&&t?t:{})},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Ga(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==
typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const [M,W]of Object.entries(this._config))this.constructor.Default[M]!==W&&(t[M]=W);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null);this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const M=Nc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===
M[t])throw new TypeError(`No method named "${t}"`);M[t]()}})}}Pa(Nc);const md={...Nc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},nd={...Nc.DefaultType,content:"(null|string|element|function)"};class Tc extends Nc{static get Default(){return md}static get DefaultType(){return nd}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||
this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const M=Tc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===M[t])throw new TypeError(`No method named "${t}"`);M[t]()}})}}Pa(Tc);const $c={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Uc={offset:"(number|null)",
rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Pc extends vb{constructor(t,M){super(t,M);this._targetLinks=new Map;this._observableSections=new Map;this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element;this._observer=this._activeTarget=null;this._previousScrollData={visibleEntryTop:0,parentScrollTop:0};this.refresh()}static get Default(){return $c}static get DefaultType(){return Uc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables();
this._maybeEnableSmoothScroll();this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect();super.dispose()}_configAfterMerge(t){return t.target=Ga(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(M=>Number.parseFloat(M))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&
(Ha.off(this._config.target,"click.bs.scrollspy"),Ha.on(this._config.target,"click.bs.scrollspy","[href]",t=>{var M=this._observableSections.get(t.target.hash);if(M){t.preventDefault();t=this._rootElement||window;M=M.offsetTop-this._element.offsetTop;if(t.scrollTo)return void t.scrollTo({top:M,behavior:"smooth"});t.scrollTop=M}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const M=
x=>this._targetLinks.get(`#${x.target.id}`),W=x=>{this._previousScrollData.visibleEntryTop=x.target.offsetTop;this._process(M(x))},oa=(this._rootElement||document.documentElement).scrollTop,l=oa>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=oa;for(const x of t)if(x.isIntersecting)if(t=x.target.offsetTop>=this._previousScrollData.visibleEntryTop,l&&t){if(W(x),!oa)break}else l||t||W(x);else this._activeTarget=null,this._clearActiveClass(M(x))}_initializeTargetsAndObservables(){this._targetLinks=
new Map;this._observableSections=new Map;var t=mb.find("[href]",this._config.target);for(const M of t)M.hash&&!Ia(M)&&(t=mb.findOne(decodeURI(M.hash),this._element),la(t)&&(this._targetLinks.set(decodeURI(M.hash),M),this._observableSections.set(M.hash,t)))}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add("active"),this._activateParents(t),Ha.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))mb.findOne(".dropdown-toggle",
t.closest(".dropdown")).classList.add("active");else for(const M of mb.parents(t,".nav, .list-group"))for(const W of mb.prev(M,".nav-link, .nav-item > .nav-link, .list-group-item"))W.classList.add("active")}_clearActiveClass(t){t.classList.remove("active");t=mb.find("[href].active",t);for(const M of t)M.classList.remove("active")}static jQueryInterface(t){return this.each(function(){const M=Pc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===
t)throw new TypeError(`No method named "${t}"`);M[t]()}})}}Ha.on(window,"load.bs.scrollspy.data-api",()=>{for(const t of mb.find('[data-bs-spy="scroll"]'))Pc.getOrCreateInstance(t)});Pa(Pc);class Hc extends vb{constructor(t){super(t);(this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'))&&(this._setInitialAttributes(this._parent,this._getChildren()),Ha.on(this._element,"keydown.bs.tab",M=>this._keydown(M)))}static get NAME(){return"tab"}show(){const t=this._element;if(!this._elemIsActive(t)){var M=
this._getActiveElem(),W=M?Ha.trigger(M,"hide.bs.tab",{relatedTarget:t}):null;Ha.trigger(t,"show.bs.tab",{relatedTarget:M}).defaultPrevented||W&&W.defaultPrevented||(this._deactivate(M,t),this._activate(t,M))}}_activate(t,M){t&&(t.classList.add("active"),this._activate(mb.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Ha.trigger(t,"shown.bs.tab",{relatedTarget:M})):t.classList.add("show")},
t,t.classList.contains("fade")))}_deactivate(t,M){t&&(t.classList.remove("active"),t.blur(),this._deactivate(mb.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Ha.trigger(t,"hidden.bs.tab",{relatedTarget:M})):t.classList.remove("show")},t,t.classList.contains("fade")))}_keydown(t){if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(t.key)){t.stopPropagation();
t.preventDefault();var M=["ArrowRight","ArrowDown"].includes(t.key);(t=nb(this._getChildren().filter(W=>!Ia(W)),t.target,M,!0))&&(t.focus({preventScroll:!0}),Hc.getOrCreateInstance(t).show())}}_getChildren(){return mb.find('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,
M){this._setAttributeIfNotExists(t,"role","tablist");for(const W of M)this._setInitialAttributesOnChild(W)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const M=this._elemIsActive(t),W=this._getOuterElement(t);t.setAttribute("aria-selected",M);W!==t&&this._setAttributeIfNotExists(W,"role","presentation");M||t.setAttribute("tabindex","-1");this._setAttributeIfNotExists(t,"role","tab");this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const M=mb.getElementFromSelector(t);
M&&(this._setAttributeIfNotExists(M,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(M,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,M){t=this._getOuterElement(t);if(t.classList.contains("dropdown")){var W=mb.findOne(".dropdown-toggle",t);W&&W.classList.toggle("active",M);(W=mb.findOne(".dropdown-menu",t))&&W.classList.toggle("show",M);t.setAttribute("aria-expanded",M)}}_setAttributeIfNotExists(t,M,W){t.hasAttribute(M)||t.setAttribute(M,W)}_elemIsActive(t){return t.classList.contains("active")}_getInnerElement(t){return t.matches('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]')?
t:mb.findOne('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const M=Hc.getOrCreateInstance(this);if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);M[t]()}})}}Ha.on(document,
"click.bs.tab",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault();Ia(this)||Hc.getOrCreateInstance(this).show()});Ha.on(window,"load.bs.tab",()=>{for(const t of mb.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Hc.getOrCreateInstance(t)});Pa(Hc);const od={animation:"boolean",autohide:"boolean",delay:"number"},Qc={animation:!0,autohide:!0,delay:5E3};class Rc extends vb{constructor(t,
M){super(t,M);this._timeout=null;this._hasKeyboardInteraction=this._hasMouseInteraction=!1;this._setListeners()}static get Default(){return Qc}static get DefaultType(){return od}static get NAME(){return"toast"}show(){Ha.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.offsetHeight,this._element.classList.add("show","showing"),this._queueCallback(()=>{this._element.classList.remove("showing");
Ha.trigger(this._element,"shown.bs.toast");this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Ha.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add("showing"),this._queueCallback(()=>{this._element.classList.add("hide");this._element.classList.remove("showing","show");Ha.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout();this.isShown()&&this._element.classList.remove("show");
super.dispose()}isShown(){return this._element.classList.contains("show")}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,M){switch(t.type){case "mouseover":case "mouseout":this._hasMouseInteraction=M;break;case "focusin":case "focusout":this._hasKeyboardInteraction=M}if(M)return void this._clearTimeout();t=t.relatedTarget;this._element===t||this._element.contains(t)||
this._maybeScheduleHide()}_setListeners(){Ha.on(this._element,"mouseover.bs.toast",t=>this._onInteraction(t,!0));Ha.on(this._element,"mouseout.bs.toast",t=>this._onInteraction(t,!1));Ha.on(this._element,"focusin.bs.toast",t=>this._onInteraction(t,!0));Ha.on(this._element,"focusout.bs.toast",t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout);this._timeout=null}static jQueryInterface(t){return this.each(function(){const M=Rc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===
M[t])throw new TypeError(`No method named "${t}"`);M[t](this)}})}}return qc(Rc),Pa(Rc),{Alert:jc,Button:Qb,Carousel:Mb,Collapse:wc,Dropdown:Ka,Modal:Ac,Offcanvas:Gc,Popover:Tc,ScrollSpy:Pc,Tab:Hc,Toast:Rc,Tooltip:Nc}});
(function(g){"object"===typeof exports&&"undefined"!==typeof module?module.exports=g():"function"===typeof define&&define.amd?define([],g):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).ChickenPaint=g()})(function(){return function(){function g(K,D,y){function k(b,d){if(!D[b]){if(!K[b]){var w="function"==typeof require&&require;if(!d&&w)return w(b,!0);if(v)return v(b,!0);d=Error("Cannot find module '"+b+"'");throw d.code="MODULE_NOT_FOUND",
d;}d=D[b]={exports:{}};K[b][0].call(d.exports,function(a){return k(K[b][1][a]||a)},d,d.exports,g,K,D,y)}return D[b].exports}for(var v="function"==typeof require&&require,E=0;E<y.length;E++)k(y[E]);return k}return g}()({1:[function(g,K,D){function y(N){return N&&N.__esModule?N:{default:N}}function k(N){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==
Symbol.prototype?"symbol":typeof J},k(N)}function v(){if(!((0,C.isCanvasSupported)()&&"Uint8Array"in window))throw new b.UnsupportedBrowserException;var N=(-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("iPod")||-1!=navigator.userAgent.indexOf("iPhone"))&&-1!=navigator.userAgent.indexOf(" OS 8_0 "),J=-1==navigator.userAgent.indexOf("CriOS")&&-1!=navigator.userAgent.indexOf("Safari");if(N&&J)throw new b.UnsupportedBrowserException("You are using Safari 8.0.0, which is unable to upload drawings. That bug was fixed in the iOS 8.0.2 update, or in Chrome for iOS.");
return!0}function E(){var N=Array(b.T_MAX);N[b.T_PENCIL]=new w.default({toolNb:b.T_PENCIL,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_OPACITY});N[b.T_ERASER]=new w.default({toolNb:b.T_ERASER,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!1,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_ERASE,paintMode:w.default.PAINT_MODE_OPACITY});
N[b.T_PEN]=new w.default({toolNb:b.T_PEN,size:2,alpha:128,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!0,pressureAlpha:!1,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.5});N[b.T_SOFTERASER]=new w.default({toolNb:b.T_SOFTERASER,size:16,alpha:64,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_ERASE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});
N[b.T_AIRBRUSH]=new w.default({toolNb:b.T_AIRBRUSH,size:50,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});N[b.T_DODGE]=new w.default({toolNb:b.T_DODGE,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_DODGE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});
N[b.T_BURN]=new w.default({toolNb:b.T_BURN,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_BURN,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});N[b.T_WATER]=new w.default({toolNb:b.T_WATER,size:30,alpha:70,isAA:!1,minSpacing:.5,spacing:.02,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_WATER,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,resat:.3,
bleed:.6});N[b.T_BLUR]=new w.default({toolNb:b.T_BLUR,size:20,alpha:255,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_PIXEL,brushMode:w.default.BRUSH_MODE_BLUR,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});N[b.T_SMUDGE]=new w.default({toolNb:b.T_SMUDGE,size:20,alpha:128,isAA:!1,minSpacing:.5,spacing:.01,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_SMUDGE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,
resat:0,bleed:1});N[b.T_BLENDER]=new w.default({toolNb:b.T_BLENDER,size:20,alpha:60,isAA:!1,minSpacing:.5,spacing:.1,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_OIL,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,resat:0,bleed:.07});return N}function b(N){function J(ta){this.palName=ta}function R(ta){this.toolNum=ta}function fa(ta){this.modeNum=ta}function Y(ta){ra=ta==a.default.EDITING_MODE_IMAGE?b.COLOR_MODE_RGB:b.COLOR_MODE_GREYSCALE;ma.emitEvent("colorModeChange",
[ta==a.default.EDITING_MODE_IMAGE?"rgb":"greyscale"]);switch(ra){case b.COLOR_MODE_RGB:var Wa=T.clone();break;case b.COLOR_MODE_GREYSCALE:Wa=new A.default(A.default.greyToRGB(Z))}ma.artwork.setForegroundColor(Wa.getRgb());ma.emitEvent("colorChange",[Wa])}function sa(){ma.emitEvent("toolChange",[Ca,Ia[Ca]])}function ka(ta){Ra!=ta&&(ta==b.M_TRANSFORM&&(xb=Ra),Ra=ta,ma.emitEvent("modeChange",[Ra]))}function Q(ta){ka(b.M_DRAW);Ca=ta;ma.artwork.setBrush(Ia[ta]);sa()}function ja(){var ta=new q.default({artwork:ma.getArtwork(),
rotation:fb.getRotation90(),swatches:ab.getSwatches()});ta.on("savingComplete",function(){ma.artwork.setHasUnsavedChanges(!1)});ta.on("savingFailure",function(){alert((0,G._)("Sorry, your drawing could not be saved, please try again later."))});ta.save()}function ca(){if(ma.isActionSupported("CPContinue")||confirm((0,G._)("Are you sure you want to send your drawing to the server and finish drawing now?"))){var ta=new q.default({artwork:ma.getArtwork(),rotation:fb.getRotation90(),swatches:ab.getSwatches(),
url:N.saveUrl}),Wa=new B.default(ma,Oa,ta);ta.on("savingComplete",function(){ma.artwork.setHasUnsavedChanges(!1);!ma.isActionSupported("CPContinue")&&ma.isActionSupported("CPPost")&&ma.actionPerformed({action:"CPPost"})});ta.on("savingFailure",function(){alert((0,G._)("Sorry, your drawing could not be saved, please try again later."))});Wa.on("shown",function(){ta.save()});Wa.show()}}function ua(){if((0,C.isEventSupported)("onbeforeunload"))window.addEventListener("beforeunload",function(ta){if(ma.artwork.getHasUnsavedChanges())return ta.returnValue=
"Your drawing has unsaved changes!"});else(0,d.default)("a").on("click",function(ta){if("#"!=this.getAttribute("href")&&ma.artwork.getHasUnsavedChanges())return confirm("Your drawing has unsaved changes! Are you sure to want to navigate away?")})}function qa(ta,Wa){Oa&&(Oa.addEventListener("dblclick",function(nb){nb.preventDefault();nb.stopPropagation()}),ma.artwork.on("editModeChanged",Y),ab=new h.default(ma,Oa),ma.emitEvent("fullScreen",[la]),ma.emitEvent("smallScreen",[Ga]),Ba.load(),Q(b.T_PEN),
ab.arrangePalettes(),ta&&ab.setSwatches(ta),Wa&&ab.setRotation90(Wa),I.default.getRef().detectTablet(),ua(),ma.artwork.on("unsavedChanges",function(nb){N.allowMultipleSends&&ma.emitEvent("unsavedChanges",[nb])}))}var ya=this;(0,G.guessLanguage)();N.language&&(0,G.setLanguage)(N.language);var ma=this,Oa=N.uiElem,fb,ab,T=new A.default(0),Z=255,ra=b.COLOR_MODE_RGB,Ca=b.T_PENCIL,Ra=b.M_DRAW,xb=Ra,Ib=[4278190080,4294967295],Ga=!1,la=!1,Ia=E(),Ba=new H.default,cb,sb,ub={CPFullScreen:{action:function(){ma.setFullScreen(!la)},
isSupported:function(){return!("disable"===N.fullScreenMode||"force"===N.fullScreenMode||!1===N.allowFullScreen)},modifies:{gui:!0}},CPZoomIn:{action:function(){fb.zoomIn()},modifies:{gui:!0}},CPZoomOut:{action:function(){fb.zoomOut()},modifies:{gui:!0}},CPZoom100:{action:function(){fb.zoom100()},modifies:{gui:!0}},CPToolbarStyle:{action:function(){ma.setToolbarStyle("new"===Ba.toolbarStyle?"old":"new")},modifies:{gui:!0}},CPUndo:{action:function(){ma.artwork.undo()},modifies:{document:!0},allowed:"isUndoAllowed"},
CPRedo:{action:function(){ma.artwork.redo()},modifies:{document:!0},allowed:"isRedoAllowed"},CPClearHistory:{action:function(){confirm("You're about to clear the current Undo/Redo history.\nThis operation cannot be undone, are you sure you want to do that?")&&ma.artwork.clearHistory()},modifies:{document:!0}},CPPencil:new R(b.T_PENCIL),CPPen:new R(b.T_PEN),CPEraser:new R(b.T_ERASER),CPSoftEraser:new R(b.T_SOFTERASER),CPAirbrush:new R(b.T_AIRBRUSH),CPDodge:new R(b.T_DODGE),CPBurn:new R(b.T_BURN),CPWater:new R(b.T_WATER),
CPBlur:new R(b.T_BLUR),CPSmudge:new R(b.T_SMUDGE),CPBlender:new R(b.T_BLENDER),CPFloodFill:new fa(b.M_FLOODFILL),CPGradientFill:new fa(b.M_GRADIENTFILL),CPRectSelection:new fa(b.M_RECT_SELECTION),CPMoveTool:new fa(b.M_MOVE_TOOL),CPRotateCanvas:new fa(b.M_ROTATE_CANVAS),CPPanCanvas:new fa(b.M_PAN_CANVAS),CPColorPicker:new fa(b.M_COLOR_PICKER),CPTransform:{action:function(){var ta=ma.artwork.getActiveLayer();ta.visible?0==ta.alpha?ma.showLayerNotification(ta,(0,G._)("Whoops! This layer's opacity is currently 0%"),
"opacity"):null==ma.artwork.transformAffineBegin()?ma.showLayerNotification(ta,(0,G._)("Whoops! All of the selected pixels are transparent!"),"layer"):ka(b.M_TRANSFORM):ma.showLayerNotification(ta,(0,G._)("Whoops! This layer is currently hidden"),"layer")},modifies:{mode:!0},allowed:function(){return 0!=ma.artwork.getActiveLayer().getEffectiveAlpha()}},CPTransformAccept:{action:function(){Ra==b.M_TRANSFORM&&(ma.artwork.transformAffineFinish(),ka(xb))},modifies:{mode:!0}},CPTransformReject:{action:function(){Ra==
b.M_TRANSFORM&&(ma.artwork.transformAffineAbort(),ka(xb))},modifies:{document:!0,mode:!0}},CPFreeHand:{action:function(){Ia[Ca].strokeMode=w.default.STROKE_MODE_FREEHAND;sa()},modifies:{tool:!0}},CPLine:{action:function(){Ia[Ca].strokeMode=w.default.STROKE_MODE_LINE;sa()},modifies:{tool:!0}},CPBezier:{action:function(){Ia[Ca].strokeMode=w.default.STROKE_MODE_BEZIER;sa()},modifies:{tool:!0}},CPAbout:{action:function(){(new c.default(Oa)).show()},modifies:{}},CPShortcuts:{action:function(){(new n.default(Oa)).show()},
modifies:{}},CPTabletSupport:{action:function(){(new p.default(Oa)).show()},modifies:{}},CPLayerDuplicate:{action:function(){ma.artwork.duplicateLayer()},modifies:{document:!0}},CPLayerMergeDown:{action:function(){ma.artwork.mergeDown()},modifies:{document:!0},allowed:"isMergeDownAllowed"},CPGroupMerge:{action:function(){ma.artwork.mergeGroup()},modifies:{document:!0},allowed:"isMergeGroupAllowed"},CPLayerMergeAll:{action:function(){ma.artwork.mergeAllLayers()},modifies:{document:!0},allowed:"isMergeAllLayersAllowed"},
CPExpandLayerGroup:{action:function(ta){ma.artwork.expandLayerGroup(ta.group,ta.expand)},modifies:{document:!0}},CPFill:{action:function(){ma.artwork.fill(ma.getCurColor().getRgb()|4278190080)},modifies:{document:!0},requiresDrawable:!0},CPClear:{action:function(){ma.artwork.clear()},modifies:{document:!0},requiresDrawable:!0},CPSelectAll:{action:function(){ma.artwork.rectangleSelection(ma.artwork.getBounds());fb.repaintAll()},modifies:{document:!0}},CPDeselectAll:{action:function(){ma.artwork.rectangleSelection(new O.default(0,
0,0,0));fb.repaintAll()},modifies:{document:!0}},CPHFlip:{action:function(){ma.artwork.hFlip()},modifies:{document:!0},requiresDrawable:!0},CPVFlip:{action:function(){ma.artwork.vFlip()},modifies:{document:!0},requiresDrawable:!0},CPMNoise:{action:function(){ma.artwork.monochromaticNoise()},modifies:{document:!0},requiresDrawable:!0},CPCNoise:{action:function(){ma.artwork.colorNoise()},modifies:{document:!0},allowed:"isColorNoiseAllowed"},CPFXBoxBlur:{action:function(){cb||=new e.default(Oa,ma);cb.show()},
modifies:{document:!0},requiresDrawable:!0},CPFXInvert:{action:function(){ma.artwork.invert()},modifies:{document:!0},requiresDrawable:!0},CPCut:{action:function(){ma.artwork.cutSelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCutSelectionAllowed"},CPCopy:{action:function(){ma.artwork.copySelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCopySelectionAllowed"},CPCopyMerged:{action:function(){ma.artwork.copySelectionMerged()},modifies:{document:!0},allowed:"isCopySelectionMergedAllowed"},
CPPaste:{action:function(){ma.artwork.pasteClipboard()},modifies:{document:!0},allowed:"isPasteClipboardAllowed"},CPToggleGrid:{action:function(ta){fb.showGrid(ta.selected)},modifies:{gui:!0}},CPGridOptions:{action:function(){sb||=new u.default(Oa,fb);sb.show()},modifies:{gui:!0}},CPLinearInterpolation:{action:function(ta){fb.setInterpolation(ta.selected)},modifies:{gui:!0},isSupported:function(){return(0,C.isCanvasInterpolationSupported)()}},CPResetCanvasRotation:{action:function(){fb.resetRotation()},
modifies:{gui:!0}},CPAddLayer:{action:function(){ma.artwork.addLayer("layer")},modifies:{document:!0}},CPAddGroup:{action:function(){ma.artwork.addLayer("group")},modifies:{document:!0}},CPAddLayerMask:{action:function(){ma.artwork.addLayerMask()},modifies:{document:!0},allowed:"isAddLayerMaskAllowed"},CPApplyLayerMask:{action:function(){ma.artwork.applyLayerMask(!0)},modifies:{document:!0},allowed:"isApplyLayerMaskAllowed"},CPRemoveLayerMask:{action:function(){ma.artwork.removeLayerMask(!1)},modifies:{document:!0},
allowed:"isRemoveLayerMaskAllowed"},CPRemoveLayer:{action:function(){ma.artwork.removeLayer()||alert("Sorry, you can't remove the last remaining layer in the drawing.")},modifies:{document:!0},allowed:"isRemoveLayerAllowed"},CPCreateClippingMask:{action:function(){ma.artwork.createClippingMask()},modifies:{document:!0},allowed:"isCreateClippingMaskAllowed"},CPReleaseClippingMask:{action:function(){ma.artwork.releaseClippingMask()},modifies:{document:!0},allowed:"isReleaseClippingMaskAllowed"},CPRelocateLayer:{action:function(ta){ma.artwork.relocateLayer(ta.layer,
ta.toGroup,ta.toIndex)},modifies:{document:!0}},CPSetActiveLayer:{action:function(ta){ta.mask&&ta.layer.mask&&!ta.layer.maskVisible&&ma.artwork.setLayerMaskVisible(ta.layer,!0);ma.artwork.setActiveLayer(ta.layer,ta.mask);ma.artwork.performIdleTasks()},modifies:{document:!0}},CPToggleMaskView:{action:function(){var ta=ma.artwork.toggleMaskView();ta&&ma.emitEvent("maskViewOpened",[ta])},modifies:{gui:!0}},CPSetMaskVisible:{action:function(ta){ma.artwork.setLayerMaskVisible(ta.layer,ta.visible)},modifies:{layerProp:!0}},
CPSetLayerVisibility:{action:function(ta){ma.artwork.setLayerVisibility(ta.layer,ta.visible)},modifies:{layerProp:!0}},CPSetLayerName:{action:function(ta){ma.artwork.setLayerName(ta.layer,ta.name)},modifies:{layerProp:!0}},CPSetLayerBlendMode:{action:function(ta){ma.artwork.setLayerBlendMode(ta.blendMode)},modifies:{layerProp:!0}},CPSetLayerAlpha:{action:function(ta){ma.artwork.setLayerAlpha(ta.alpha)},modifies:{layerProp:!0}},CPSetLayerLockAlpha:{action:function(ta){ma.artwork.setLayerLockAlpha(ta.lock)},
modifies:{layerProp:!0}},CPPalColor:new J("color"),CPPalBrush:new J("brush"),CPPalLayers:new J("layers"),CPPalStroke:new J("stroke"),CPPalSwatches:new J("swatches"),CPPalTool:new J("tool"),CPPalMisc:new J("misc"),CPPalTextures:new J("textures"),CPTogglePalettes:{action:function(){ab.togglePalettes()},modifies:{gui:!0}},CPArrangePalettes:{action:function(){ab.arrangePalettes()},modifies:{gui:!0}},CPSave:{action:function(){ja()},isSupported:function(){return!1!==N.allowDownload},modifies:{document:!0}},
CPSend:{action:function(){ca()},isSupported:function(){return!!N.saveUrl},modifies:{document:!0}},CPPost:{action:function(){window.location=N.postUrl},isSupported:function(){return!!N.postUrl},modifies:{document:!0}},CPContinue:{action:function(){},isSupported:function(){return!!N.allowMultipleSends}},CPExit:{action:function(){window.location=N.exitUrl},isSupported:function(){return!!N.exitUrl},modifies:{}}};J.prototype.action=function(ta){ab.showPalette(this.palName,ta.selected)};J.prototype.modifies=
{gui:!0};R.prototype.action=function(){Q(this.toolNum)};R.prototype.modifies={mode:!0,tool:!0};R.prototype.requiresDrawable=!0;fa.prototype.action=function(){ka(this.modeNum)};fa.prototype.modifies={mode:!0};this.callToolListeners=function(){sa()};this.getArtwork=function(){return this.artwork};this.setCanvas=function(ta){fb=ta};this.setTransformInterpolation=function(ta){this.artwork.setTransformInterpolation(ta)};this.setCurColor=function(ta){switch(ra){case b.COLOR_MODE_RGB:T.isEqual(ta)||(T.copyFrom(ta),
this.artwork.setForegroundColor(ta.getRgb()),this.emitEvent("colorChange",[ta]));break;case b.COLOR_MODE_GREYSCALE:if(ta=ta.getValue(),Z!=ta){var Wa=A.default.greyToRGB(ta);this.artwork.setForegroundColor(Wa);Z=ta;this.emitEvent("colorChange",[new A.default(Wa)])}}};this.getCurColor=function(){switch(ra){case b.COLOR_MODE_RGB:return T.clone();case b.COLOR_MODE_GREYSCALE:return new A.default(A.default.greyToRGB(Z))}};this.setCurGradient=function(ta){Ib=ta.slice(0);this.emitEvent("gradientChange",[Ib])};
this.getCurGradient=function(){return Ib.slice(0)};this.setBrushSize=function(ta){Ia[Ca].size=Math.max(1,Math.min(200,ta));sa()};this.getBrushSize=function(){return Ia[Ca].size};this.setAlpha=function(ta){Ia[Ca].alpha=ta;sa()};this.getAlpha=function(){return Ia[Ca].alpha};this.getCurMode=function(){return Ra};this.getCurTool=function(){return Ca};this.getBrushInfo=function(){return Ia[Ca]};this.isActionSupported=function(ta){if(ub[ta]){var Wa=k(ub[ta].isSupported);return"function"==Wa?ub[ta].isSupported():
"undefined"==Wa?!0:ub[ta].isSupported}return!1};this.isActionAllowed=function(ta){return(ta=ub[ta])?"function"==typeof ta.allowed?ta.allowed():"string"==typeof ta.allowed?this.artwork[ta.allowed]():!ta.requiresDrawable||this.artwork.isActiveLayerDrawable():!1};this.showLayerNotification=function(ta,Wa,nb){this.emitEvent("layerNotification",[ta,Wa,nb])};this.actionPerformed=function(ta){if(null!=this.artwork&&null!=fb){var Wa=ub[ta.action];Wa&&(Ra==b.M_TRANSFORM&&(Wa.modifies.document||Wa.modifies.mode)&&
-1==["CPTransformAccept","CPTransformReject"].indexOf(ta.action)?"CPUndo"==ta.action?ub.CPTransformReject.action():"CPTransform"!=ta.action&&(Wa=new f.default(Oa,this),Wa.on("accept",this.actionPerformed.bind(this,ta)),Wa.on("reject",this.actionPerformed.bind(this,ta)),Wa.show()):Wa.action(ta))}};this.setSmallScreenMode=function(ta){Ga!==ta&&(Ga=ta,(0,d.default)(Oa).toggleClass("chickenpaint-small-screen",Ga),ma.emitEvent("smallScreen",[Ga]))};this.getSmallScreenMode=function(){return Ga};this.setFullScreen=
function(ta){la!==ta&&(la=ta,(0,d.default)("body").toggleClass("chickenpaint-full-screen",la),(0,d.default)(Oa).toggleClass("chickenpaint-full-screen",la),la&&0===(0,d.default)("head meta[name=viewport]").length?((0,d.default)("head").append('<meta name="viewport" content="width=device-width,user-scalable=no">'),setTimeout(function(){return ma.emitEvent("fullScreen",[la])},200)):ma.emitEvent("fullScreen",[la]))};this.isFullScreen=function(){return la};this.setToolbarStyle=function(ta){Ba.set("toolbarStyle",
ta);Ba.save()};this.getToolbarStyle=function(){return Ba.get("toolbarStyle")};this.getResourcesRoot=function(){return N.resourcesRoot};v();Oa&&((0,C.isFlexboxSupported)()||(Oa.className+=" no-flexbox"),Oa.className+=" chickenpaint chickenpaint-lang-"+(0,G.currentLanguage)());N.resourcesRoot=N.resourcesRoot||"chickenpaint/";N.disableBootstrapAPI&&(0,d.default)(document).off(".data-api");this.setSmallScreenMode(430>(0,d.default)(window).width()||430>(0,d.default)(window).height());switch(N.fullScreenMode){case "force":this.setFullScreen(!0);
break;case "auto":this.setFullScreen(Ga)}Ba.on("toolbarStyle",function(ta){return ya.emitEvent("toolbarStyleChange",[ta])});if(N.loadImageUrl||N.loadChibiFileUrl){var Pa=new m.default(N);new r.default(Oa,Pa,N.resourcesRoot);Pa.on("loadingComplete",function(ta){ma.artwork=ta.layers||ta.flat;qa(ta.swatches,N.rotation);if(N.onLoaded)N.onLoaded(this)});Pa.load()}else if(N.artwork?this.artwork=N.artwork:(this.artwork=new a.default(N.canvasWidth||800,N.canvasHeight||600),this.artwork.addBackgroundLayer()),
qa(),N.onLoaded)N.onLoaded(this)}Object.defineProperty(D,"__esModule",{value:!0});D.default=b;g("core-js/stable/symbol/index.js");g("core-js/stable/promise/index.js");g("core-js/stable/map/index.js");g("core-js/stable/set/index.js");g("core-js/stable/typed-array/slice.js");g("core-js/stable/typed-array/fill.js");g("core-js/stable/array/iterator.js");g("core-js/stable/array/fill.js");g("core-js/stable/string/ends-with.js");var d=y(g("jquery"));g("../lib/raf.js");var w=y(g("./engine/CPBrushInfo.js")),
a=y(g("./engine/CPArtwork.js")),m=y(g("./engine/CPResourceLoader.js")),q=y(g("./engine/CPResourceSaver.js")),r=y(g("./gui/CPSplashScreen.js")),h=y(g("./gui/CPMainGUI.js")),c=y(g("./gui/CPAboutDialog.js")),f=y(g("./gui/CPConfirmTransformDialog.js")),n=y(g("./gui/CPShortcutsDialog.js")),e=y(g("./gui/CPBoxBlurDialog.js")),p=y(g("./gui/CPTabletDialog.js")),u=y(g("./gui/CPGridDialog.js")),B=y(g("./gui/CPSendDialog.js")),C=g("./util/CPPolyfill.js"),A=y(g("./util/CPColor.js")),I=y(g("./util/CPWacomTablet.js")),
O=y(g("./util/CPRect.js")),z=y(g("wolfy87-eventemitter")),G=g("./languages/lang.js"),H=y(g("./gui/CPUserPreferences.js"));window.PointerEvent&&(window.hasNativePointerEvents=!0);g("pepjs");b.prototype=Object.create(z.default.prototype);b.prototype.constructor=b;b.UnsupportedBrowserException=function(N){this.message=N};b.UnsupportedBrowserException.prototype.toString=function(){var N="Sorry, your web browser does not support ChickenPaint.";return N=this.message?N+(" "+this.message):N+" Please try a modern browser like Chrome, Safari, Firefox, or Edge."};
b.M_DRAW=0;b.M_FLOODFILL=1;b.M_RECT_SELECTION=2;b.M_MOVE_TOOL=3;b.M_ROTATE_CANVAS=4;b.M_COLOR_PICKER=5;b.M_GRADIENTFILL=6;b.M_TRANSFORM=7;b.M_PAN_CANVAS=8;b.T_PENCIL=0;b.T_ERASER=1;b.T_PEN=2;b.T_SOFTERASER=3;b.T_AIRBRUSH=4;b.T_DODGE=5;b.T_BURN=6;b.T_WATER=7;b.T_BLUR=8;b.T_SMUDGE=9;b.T_BLENDER=10;b.T_MAX=11;b.COLOR_MODE_RGB=0;b.COLOR_MODE_GREYSCALE=1;K.exports=D.default},{"../lib/raf.js":69,"./engine/CPArtwork.js":3,"./engine/CPBrushInfo.js":8,"./engine/CPResourceLoader.js":20,"./engine/CPResourceSaver.js":21,
"./gui/CPAboutDialog.js":23,"./gui/CPBoxBlurDialog.js":24,"./gui/CPConfirmTransformDialog.js":32,"./gui/CPGridDialog.js":34,"./gui/CPMainGUI.js":36,"./gui/CPSendDialog.js":42,"./gui/CPShortcutsDialog.js":43,"./gui/CPSplashScreen.js":45,"./gui/CPTabletDialog.js":48,"./gui/CPUserPreferences.js":51,"./languages/lang.js":54,"./util/CPColor.js":58,"./util/CPPolyfill.js":60,"./util/CPRect.js":63,"./util/CPWacomTablet.js":66,"core-js/stable/array/fill.js":286,"core-js/stable/array/iterator.js":287,"core-js/stable/map/index.js":288,
"core-js/stable/promise/index.js":289,"core-js/stable/set/index.js":290,"core-js/stable/string/ends-with.js":291,"core-js/stable/symbol/index.js":292,"core-js/stable/typed-array/fill.js":293,"core-js/stable/typed-array/slice.js":294,jquery:296,pepjs:313,"wolfy87-eventemitter":314}],2:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.createCanvas=function(y,k){var v=document.createElement("canvas");v.width=y;v.height=k;return v};D.createImageData=function(y,k){return document.createElement("canvas").getContext("2d").createImageData(y,
k)}},{}],3:[function(g,K,D){function y(qa){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ya){return typeof ya}:function(ya){return ya&&"function"==typeof Symbol&&ya.constructor===Symbol&&ya!==Symbol.prototype?"symbol":typeof ya},y(qa)}function k(qa){return qa&&qa.__esModule?qa:{default:qa}}function v(){v="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(qa,ya,ma){var Oa;for(Oa=qa;!Object.prototype.hasOwnProperty.call(Oa,
ya)&&(Oa=r(Oa),null!==Oa););if(Oa)return Oa=Object.getOwnPropertyDescriptor(Oa,ya),Oa.get?Oa.get.call(3>arguments.length?qa:ma):Oa.value};return v.apply(this,arguments)}function E(qa,ya){if(!(qa instanceof ya))throw new TypeError("Cannot call a class as a function");}function b(qa,ya){for(var ma=0;ma<ya.length;ma++){var Oa=ya[ma];Oa.enumerable=Oa.enumerable||!1;Oa.configurable=!0;"value"in Oa&&(Oa.writable=!0);var fb=Object,ab=fb.defineProperty;a:{var T=Oa.key;if("object"===y(T)&&null!==T){var Z=
T[Symbol.toPrimitive];if(void 0!==Z){T=Z.call(T,"string");if("object"!==y(T))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}T=String(T)}}T="symbol"===y(T)?T:String(T);ab.call(fb,qa,T,Oa)}}function d(qa,ya,ma){ya&&b(qa.prototype,ya);ma&&b(qa,ma);Object.defineProperty(qa,"prototype",{writable:!1});return qa}function w(qa,ya){if("function"!==typeof ya&&null!==ya)throw new TypeError("Super expression must either be null or a function");qa.prototype=Object.create(ya&&ya.prototype,
{constructor:{value:qa,writable:!0,configurable:!0}});Object.defineProperty(qa,"prototype",{writable:!1});ya&&a(qa,ya)}function a(qa,ya){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ma,Oa){ma.__proto__=Oa;return ma};return a(qa,ya)}function m(qa){var ya=q();return function(){var ma=r(qa);if(ya){var Oa=r(this).constructor;ma=Reflect.construct(ma,arguments,Oa)}else ma=ma.apply(this,arguments);if(!ma||"object"!==y(ma)&&"function"!==typeof ma){if(void 0!==ma)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");ma=this}return ma}}function q(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(qa){return!1}}function r(qa){r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ya){return ya.__proto__||Object.getPrototypeOf(ya)};return r(qa)}
function h(qa,ya){var ma="undefined"!==typeof Symbol&&qa[Symbol.iterator]||qa["@@iterator"];if(!ma){if(Array.isArray(qa)||(ma=c(qa))||ya&&qa&&"number"===typeof qa.length){ma&&(qa=ma);var Oa=0;ya=function(){};return{s:ya,n:function(){return Oa>=qa.length?{done:!0}:{done:!1,value:qa[Oa++]}},e:function(Z){throw Z;},f:ya}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var fb=!0,ab=!1,T;return{s:function(){ma=
ma.call(qa)},n:function(){var Z=ma.next();fb=Z.done;return Z},e:function(Z){ab=!0;T=Z},f:function(){try{fb||null==ma.return||ma.return()}finally{if(ab)throw T;}}}}function c(qa,ya){if(qa){if("string"===typeof qa)return f(qa,ya);var ma=Object.prototype.toString.call(qa).slice(8,-1);"Object"===ma&&qa.constructor&&(ma=qa.constructor.name);if("Map"===ma||"Set"===ma)return Array.from(qa);if("Arguments"===ma||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ma))return f(qa,ya)}}function f(qa,ya){if(null==
ya||ya>qa.length)ya=qa.length;for(var ma=0,Oa=Array(ya);ma<ya;ma++)Oa[ma]=qa[ma];return Oa}function n(qa){return qa.substring(0,1).toUpperCase()+qa.substring(1)}function e(qa,ya){return qa+ya}function p(qa){return qa?qa.width*qa.height*4:0}function u(qa,ya){function ma(U){vc=!1;if(0<lc.size||0<kc.size)U?Z():hc||setTimeout(Z,1E3)}function Oa(){eb.emitEvent("changeSelection",[])}function fb(U){eb.emitEvent("updateRegion",[U])}function ab(){eb.emitEvent("changeStructure");qb.resetTree();Ia();fb(eb.getBounds())}
function T(U,ia,Aa){eb.emitEvent("changeLayer",[U]);Aa||(qb.layerPropertyChanged(U,ia),fb(eb.getBounds()))}function Z(){var U=h(lc),ia;try{for(U.s();!(ia=U.n()).done;){var Aa=ia.value;Aa.rebuildImageThumbnail();eb.emitEvent("changeLayerImageThumb",[Aa])}}catch(Ja){U.e(Ja)}finally{U.f()}U=h(kc);var ba;try{for(U.s();!(ba=U.n()).done;){var va=ba.value;va.rebuildMaskThumbnail();eb.emitEvent("changeLayerMaskThumb",[va])}}catch(Ja){U.e(Ja)}finally{U.f()}lc.clear();hc&&(clearTimeout(hc),hc=null)}function ra(U,
ia,Aa,ba){Array.isArray(U)||(U=[U]);U.forEach(function(Ka){return qb.invalidateLayerRect(Ka,ia)});var va=!1;if(Aa){vb.union(ia);Aa=h(U);var Ja;try{for(Aa.s();!(Ja=Aa.n()).done;){var Va=Ja.value;Va instanceof B.default&&(lc.add(Va),va=!0)}}catch(Ka){Aa.e(Ka)}finally{Aa.f()}}ba&&(mb.union(ia),U.forEach(function(Ka){kc.add(Ka);Hb&&Hb.layer==Ka&&Hb.invalidateRect(ia)}),va=!0);va&&(hc&&(clearTimeout(hc),hc=null),vc||(hc=setTimeout(Z,1E3)));fb(ia)}function Ca(U,ia){ra(U,ia,!tb,tb)}function Ra(){return tb?
Ua.mask:Ua.image}function xb(){if(!jc.isEmpty()){if(tb){var U=Ua.mask;Rb.brushMode==N.default.BRUSH_MODE_ERASE?bc[N.default.BRUSH_MODE_PAINT].mergeOntoMask(U,P,4278190080):bc[Rb.brushMode].mergeOntoMask(U,P,gc&255)}else{U=Ua.image;var ia=Ua.getLockAlpha();Rb.brushMode==N.default.BRUSH_MODE_ERASE&&ia?bc[N.default.BRUSH_MODE_PAINT].mergeOntoImage(U,fc,16777215):bc[Rb.brushMode].mergeOntoImage(U,fc,gc);ia&&U.copyAlphaFrom(fc,jc)}jc.makeEmpty()}}function Ib(){Ua instanceof B.default&&!vb.isEmpty()&&(fc.copyBitmapRect(Ua.image,
vb.left,vb.top,vb),vb.makeEmpty())}function Ga(){Ua.mask&&!mb.isEmpty()&&(P.copyBitmapRect(Ua.mask,mb.left,mb.top,mb),mb.makeEmpty())}function la(){tb?Ga():Ib()}function Ia(){var U=eb.getBounds();vb.set(U);mb.set(U)}function Ba(U){eb.setHasUnsavedChanges(!0);0<Tb.length&&(Tb=[]);0!==Ob.length&&Ob[Ob.length-1].merge(U)?Ob[Ob.length-1].noChange()&&Ob.pop():(30<=Ob.length&&Ob.shift(),eb.compactUndo(),Ob.push(U))}function cb(U,ia){U||ia||(U=!tb,ia=tb);var Aa=cc.clone(),ba=U?fc.copyRectXOR(Ua.image,Aa):
null,va=ia?P.copyRectXOR(Ua.mask,Aa):null;this.layer=Ua;cc.makeEmpty();this.redo=this.undo=function(){ba&&this.layer.image.setRectXOR(ba,Aa);va&&this.layer.mask.setRectXOR(va,Aa);ra(this.layer,Aa,null!=ba,null!=va)};this.getMemoryUsed=function(Ja,Va){return(ba?ba.length:0)+(va?va.length:0)}}function sb(U){var ia=U.maskLinked,Aa=U.maskVisible;this.undo=function(){U.setMask(null);U.maskLinked=ia;U.maskVisible=Aa;ab();eb.setActiveLayer(U,!1)};this.redo=function(){var ba=new I.default(eb.width,eb.height,
8);ba.clearAll(255);U.maskLinked=!0;U.maskVisible=!0;U.setMask(ba);ab();eb.setActiveLayer(U,!0)};this.redo()}function ub(U,ia){var Aa=U.mask,ba=!1;var va=ia&&U instanceof B.default?U.image.clone():null;ba=Ua==U&&tb;this.undo=function(){U.setMask(Aa);va&&(U.image.copyPixelsFrom(va),ra(U,U.image.getBounds(),!0,!1));ba&&eb.setActiveLayer(U,!0);ab()};this.redo=function(){va&&(A.default.multiplyAlphaByMask(U.image,100,U.mask),ra(U,eb.getBounds(),!0,!1));ba&&eb.setActiveLayer(U,!1);U.setMask(null);ab()};
this.redo()}function Pa(U,ia,Aa){var ba=Aa instanceof B.default&&Aa.clip,va=U.layers[ia],Ja=va instanceof B.default&&va.clip,Va=tb;this.undo=function(){U.removeLayer(Aa);var Ka=U.layers[ia-1]||U.layers[0]||U;va instanceof B.default&&(va.clip=Ja);Aa instanceof B.default&&(Aa.clip=ba);ab();eb.setActiveLayer(Ka,Va)};this.redo=function(){U.insertLayer(ia,Aa);Ja&&(Aa instanceof B.default?Aa.clip=!0:va.clip=!1);ab();eb.setActiveLayer(Aa,!1)};this.redo()}function ta(U){var ia=U.clone(),Aa=tb;this.undo=function(){ia.parent.removeLayer(ia);
ab();eb.setActiveLayer(U,Aa)};this.redo=function(){var ba=U.name;ba.endsWith(" Copy")||(ba+=" Copy");ia.name=ba;U.parent.insertLayer(U.parent.indexOf(U)+1,ia);ab();eb.setActiveLayer(ia,!1)};this.redo()}function Wa(U){var ia=U.parent,Aa=ia.indexOf(U),ba=tb,va=0;if(U instanceof B.default&&!U.clip)for(var Ja=Aa+1;Ja<ia.layers.length;Ja++)if(ia.layers[Ja]instanceof B.default&&ia.layers[Ja].clip)va++;else break;this.undo=function(){ia.insertLayer(Aa,U);for(var Va=0;Va<va;Va++)ia.layers[Va+Aa+1].clip=!0;
ab();eb.setActiveLayer(U,ba)};this.redo=function(){for(var Va=0;Va<va;Va++)ia.layers[Va+Aa+1].clip=!1;ia.removeLayerAtIndex(Aa);Va=0==ia.layers.length?U.parent:ia.layers[Math.max(Aa-1,0)];ab();eb.setActiveLayer(Va,!1)};this.getMemoryUsed=function(Va,Ka){return Va?0:U.getMemoryUsed()};this.redo()}function nb(U){var ia=U.parent.indexOf(U),Aa=tb,ba=new B.default(eb.width,eb.height,"");this.undo=function(){U.parent.setLayerAtIndex(ia,U);ab();eb.setActiveLayer(U,Aa)};this.redo=function(){U.parent.setLayerAtIndex(ia,
ba);ab();eb.setActiveLayer(ba,!1)};this.getMemoryUsed=function(Ja,Va){return Ja?0:U.getMemoryUsed()};var va=new O.default(U,eb.width,eb.height,!1);va.buildTree();va=va.blendTree();ba.name=U.name;ba.alpha=va.alpha;ba.image=va.image;ba.blendMode=va.blendMode;ba.mask=va.mask;ba.blendMode==A.default.LM_PASSTHROUGH&&(ba.blendMode=A.default.LM_NORMAL);this.redo()}function jb(U){var ia=U.parent,Aa=ia.layers[ia.indexOf(U)-1],ba=new B.default(eb.width,eb.height,""),va=tb;this.undo=function(){var Ja=ia.indexOf(ba);
ia.removeLayerAtIndex(Ja);ia.insertLayer(Ja,U);ia.insertLayer(Ja,Aa);ab();eb.setActiveLayer(U,va)};this.redo=function(){ba.copyFrom(Aa);0<U.getEffectiveAlpha()&&(ba.mask?(A.default.multiplyAlphaByMask(ba.image,ba.alpha,ba.mask),ba.mask=null):A.default.multiplyAlphaBy(ba.image,ba.alpha),ba.alpha=100,A.default.fuseImageOntoImage(ba.image,!0,U.image,U.alpha,U.blendMode,U.getBounds(),U.mask));var Ja=ia.indexOf(Aa);ia.removeLayerAtIndex(Ja);ia.removeLayerAtIndex(Ja);ia.insertLayer(Ja,ba);ab();eb.setActiveLayer(ba,
!1)};this.getMemoryUsed=function(Ja,Va){return Ja?0:U.getMemoryUsed()+ba.getMemoryUsed()};this.redo()}function pa(){var U=eb.getActiveLayer(),ia=Ha.layers.slice(0),Aa=new B.default(eb.width,eb.height,"");this.undo=function(){Ha.layers=ia.slice(0);ab();eb.setActiveLayer(U,!1)};this.redo=function(){var ba=eb.fusionLayers();Aa.copyImageFrom(ba);Ha.clearLayers();Aa.setName(eb.getDefaultLayerName(!1));Ha.addLayer(Aa);ab();eb.setActiveLayer(Aa,!1)};this.getMemoryUsed=function(ba,va){return ia.map(function(Ja){return Ja.getMemoryUsed()}).reduce(e,
0)};this.redo()}function Ea(U,ia,Aa){var ba=U.parent,va=U.parent.indexOf(U),Ja=tb,Va=ba.layers[ba.indexOf(U)+1],Ka=ia.layers[Aa],Za=U instanceof B.default&&U.clip,$a=Za?U.getClippingBase():!1,lb=0,Lb=0;if(U instanceof B.default&&!U.clip)for(var Db=va+1;Db<ba.layers.length;Db++)if(ba.layers[Db]instanceof B.default&&ba.layers[Db].clip)lb++;else break;else if(U instanceof C.default)for(Db=Aa;Db<ia.layers.length;Db++)if(ia.layers[Db]instanceof B.default&&ia.layers[Db].clip)Lb++;else break;this.undo=function(){U.parent.removeLayer(U);
var Nb=Va?ba.indexOf(Va):ba.layers.length;ba.insertLayer(Nb,U);U instanceof B.default&&(U.clip=Za);for(Nb=0;Nb<lb;Nb++)ba.layers[Nb+va+1].clip=!0;for(Nb=0;Nb<Lb;Nb++)ia.layers[Nb+Aa].clip=!0;ab();eb.setActiveLayer(U,Ja)};this.redo=function(){for(var Nb=0;Nb<lb;Nb++)ba.layers[Nb+va+1].clip=!1;U.parent.removeLayer(U);Nb=Ka?ia.indexOf(Ka):ia.layers.length;ia.insertLayer(Nb,U);for(var oc=0;oc<Lb;oc++)ia.layers[oc+Nb+1].clip=!1;U instanceof B.default&&(U.clip&&U.getClippingBase()!=$a&&(U.clip=!1),Ka instanceof
B.default&&Ka.clip&&(U.clip=!0));for(oc=0;oc<Lb;oc++)ia.layers[oc+Nb+1].clip=!1;ab();eb.setActiveLayer(U,!1)};this.redo()}function La(U,ia){var Aa=n(U),ba=function(va,Ja){Array.isArray(va)||(va=[va]);this.layers=va;this.from=this.layers.map(function(Va){return Va["get"+Aa]()});this.to=Ja;this.redo()};ba.prototype=Object.create(J.default.prototype);ba.prototype.constructor=ba;ba.prototype.undo=function(){var va=this;this.layers.forEach(function(Ja,Va){return Ja["set"+Aa](va.from[Va])});this.layers.forEach(function(Ja){return T(Ja,
U,!ia)})};ba.prototype.redo=function(){var va=this;this.layers.forEach(function(Ja){return Ja["set"+Aa](va.to)});this.layers.forEach(function(Ja){return T(Ja,U,!ia)})};ba.prototype.merge=function(va){var Ja;if(Ja=va instanceof ba)a:{Ja=this.layers;var Va=va.layers;if(Ja.length!=Va.length)Ja=!1;else{for(var Ka=0;Ka<Ja.length;Ka++)if(Ja[Ka]!=Va[Ka]){Ja=!1;break a}Ja=!0}}return Ja?(this.to=va.to,!0):!1};ba.prototype.noChange=function(){for(var va=0;va<this.from.length;va++)if(this.from[va]!=this.to)return!1;
return!0};return ba}function Ya(U,ia){U=U.clone();ia=ia.clone();this.undo=function(){eb.setSelection(U);fb(eb.getBounds())};this.redo=function(){eb.setSelection(ia);fb(eb.getBounds())};this.noChange=function(){return U.equals(ia)}}function Da(U,ia,Aa){var ba=ia?U.mask:U.image,va=ba.cloneRect(Aa);Aa=Aa.clone();this.undo=function(){ba.copyBitmapRect(va,Aa.left,Aa.top,va.getBounds());eb.setActiveLayer(U,ia);eb.setSelection(Aa);ra(U,Aa,!ia,ia)};this.redo=function(){ia?ba.clearRect(Aa,0):ba.clearRect(Aa,
16777215);Sb=new R.default(va,Aa.left,Aa.top);eb.setActiveLayer(U,ia);eb.emptySelection();ra(U,Aa,!ia,ia)};this.getMemoryUsed=function(Ja,Va){return va==Va?0:va.getMemorySize()};this.redo()}function Ma(U){var ia=eb.getSelection(),Aa=tb,ba=new B.default(eb.width,eb.height,eb.getDefaultLayerName(!1)),va=Ua,Ja=va.parent;this.undo=function(){Ja.removeLayer(ba);eb.setSelection(ia);ab();eb.setActiveLayer(va,Aa)};this.redo=function(){var Va=Ja.indexOf(va),Ka=U.bmp.getBounds();Ja.insertLayer(Va+1,ba);if(Ka.isInside(eb.getBounds())){Va=
U.x;var Za=U.y}else Va=(eb.width-U.bmp.width)/2|0,Za=(eb.height-U.bmp.height)/2|0;if(U.bmp instanceof I.default){var $a=new G.default(U.bmp.width,U.bmp.height);$a.copyPixelsFromGreyscale(U.bmp);ba.image.copyBitmapRect($a,Va,Za,Ka)}else ba.image.copyBitmapRect(U.bmp,Va,Za,Ka);eb.emptySelection();ab();eb.setActiveLayer(ba,!1)};this.getMemoryUsed=function(Va,Ka){return U.bmp==Ka?0:U.bmp.getMemorySize()};this.redo()}qa|=0;ya|=0;var Ha=new C.default("Root",A.default.LM_NORMAL),qb=new O.default(Ha,qa,ya,
!0),fc=new G.default(qa,ya),vb=new Y.default(0,0,qa,ya),P=new I.default(qa,ya,8),mb=new Y.default(0,0,qa,ya),qc=new I.default(qa,ya,32),jc=new Y.default(0,0,0,0),Qb=new H.default,eb=this,bc=[],Ua=Ha,tb=!1,Hb=null,cc=new Y.default(0,0,0,0),Mb=!1,tc=new Y.default(0,0,0,0),rc=null,wc=new sa.default,Fb=null,Sb=null,Ob=[],Tb=[],Rb=null,rb=0,Vb=0,kb=0,ac=!1,vc=!1,kc=new Set,lc=new Set,hc=null,gc=0,nc="smooth";this.getLayersRoot=function(){return Ha};this.getSelectionAutoSelect=function(){return tc.isEmpty()?
this.getBounds():this.getSelection()};this.getSelection=function(){return tc.clone()};this.setHasUnsavedChanges=function(U){U!=Mb&&(Mb=U,this.emitEvent("unsavedChanges",[U]))};this.getHasUnsavedChanges=function(){return Mb};this.isAddLayerMaskAllowed=function(){return!Ua.mask};this.addLayerMask=function(){this.isAddLayerMaskAllowed()&&Ba(new sb(Ua))};this.isRemoveLayerMaskAllowed=function(){return null!==Ua.mask};this.removeLayerMask=function(){this.isRemoveLayerMaskAllowed()&&Ba(new ub(Ua,!1))};
this.isApplyLayerMaskAllowed=function(){return null!==Ua.mask&&Ua instanceof B.default};this.applyLayerMask=function(U){this.isApplyLayerMaskAllowed()&&Ba(new ub(Ua,!0))};this.addLayer=function(U){if(Ua instanceof C.default&&Ua.expanded){var ia=Ua;var Aa=Ua.layers.length}else ia=Ua.parent,Aa=ia.layers.indexOf(Ua)+1;switch(U){case "group":for(;ia.layers[Aa]instanceof B.default&&ia.layers[Aa].clip;)Aa++;U=new C.default(this.getDefaultLayerName(!0),A.default.LM_PASSTHROUGH);break;default:U=new B.default(this.width,
this.height,this.getDefaultLayerName(!1)),U.image.clearAll(16777215)}Ba(new Pa(ia,Aa,U));return U};this.addLayerObject=function(U,ia){U.addLayer(ia);U==Ha&&1==Ha.layers.length&&(Ua=ia);ab()};this.addLayerGroupObject=function(U,ia,Aa){for(var ba=[],va=0;va<Aa;va++)ba.unshift(U.layers.pop());ba.forEach(function(Ja){return ia.addLayer(Ja)});this.addLayerObject(U,ia)};this.isRemoveLayerAllowed=function(){return Ua instanceof B.default?Ha.getLinearizedLayerList(!1).some(function(U){return U instanceof
B.default&&U!=Ua}):Ua instanceof C.default?Ha.getLinearizedLayerList(!1).some(function(U){return U instanceof B.default&&!U.hasAncestor(Ua)}):!1};this.removeLayer=function(){return this.isRemoveLayerAllowed()?(Ba(new Wa(Ua)),!0):!1};this.duplicateLayer=function(){Ba(new ta(Ua))};this.isMergeDownAllowed=function(){var U=Ua.parent.indexOf(Ua);return 0<U&&Ua instanceof B.default&&Ua.parent.layers[U-1]instanceof B.default};this.mergeDown=function(){this.isMergeDownAllowed()&&Ba(new jb(Ua))};this.isMergeGroupAllowed=
function(){return Ua instanceof C.default&&0<Ua.getEffectiveAlpha()};this.mergeGroup=function(){this.isMergeGroupAllowed()&&Ba(new nb(Ua))};this.isMergeAllLayersAllowed=function(){return 1<Ha.getLinearizedLayerList(!1).length};this.mergeAllLayers=function(){this.isMergeAllLayersAllowed()&&Ba(new pa)};this.relocateLayer=function(U,ia,Aa){U&&ia&&U!=ia&&!ia.hasAncestor(U)&&Ba(new Ea(U,ia,Aa))};this.setLayerVisibility=function(U,ia){var Aa=[];if(U.ancestorsAreVisible())U.visible!=ia&&Ba(new yc(U,ia));
else{for(;null!=U;U=U.parent)U.visible||Aa.push(U);Ba(new yc(Aa,!0))}};this.expandLayerGroup=function(U,ia){U.expanded!=ia&&(U.expanded=ia,!ia&&Ua.hasAncestor(U)&&this.setActiveLayer(U,!1),T(U,"expanded",!0))};this.setLayerAlpha=function(U){Ua.getAlpha()!=U&&Ba(new xc(Ua,U))};this.setLayerMaskLinked=function(U){Ua.maskLinked!=U&&Ba(new za(Ua,U))};this.setLayerMaskVisible=function(U,ia){U.maskVisible!=ia&&Ba(new zc(U,ia))};this.setLayerBlendMode=function(U){Ua.getBlendMode()!=U&&(U!=A.default.LM_PASSTHROUGH||
Ua instanceof C.default)&&Ba(new Mc(Ua,U))};this.setLayerName=function(U,ia){U.getName()!=ia&&Ba(new Cc(U,ia))};this.paintDab=function(U,ia,Aa){Rb.applyPressure(Aa);0<Rb.scattering&&(U+=wc.nextGaussian()*Rb.curScattering/4,ia+=wc.nextGaussian()*Rb.curScattering/4);Aa=bc[Rb.brushMode];U=Qb.getDab(U,ia,Rb);ia=new Y.default(0,0,U.width,U.height);var ba=new Y.default(0,0,U.width,U.height);ba.translate(U.x,U.y);eb.getBounds().clipSourceDest(ia,ba);if(!ba.isEmpty()){cc.union(ba);var va=tb?Ua.mask:Ua.image;
Aa.paintDab(va,ba,ac&&!tb?rc:va,Rb,ia,U,gc);!tb&&Aa.noMergePhase&&Ua.getLockAlpha()&&va.copyAlphaFrom(fc,ba);Aa.wantsOutputAsInput&&(xb(),ac&&!tb&&eb.fusionLayers());Ca(Ua,ba)}};this.getDefaultLayerName=function(U){var ia=U?"Group ":"Layer ";U=U?/^Group [0-9]+$/:/^Layer [0-9]+$/;for(var Aa=0,ba=Ha.getLinearizedLayerList(!1),va=0;va<ba.length;va++){var Ja=ba[va];U.test(Ja.name)&&(Aa=Math.max(Aa,parseInt(Ja.name.substring(ia.length),10)))}return ia+(Aa+1)};this.addBackgroundLayer=function(){var U=new B.default(eb.width,
eb.height,this.getDefaultLayerName(!1));U.image.clearAll(4294967295);this.addLayerObject(this.getLayersRoot(),U)};this.fusionLayers=function(){xb();qb.buildTree();return rc=qb.blendTree().image};this.upgradeMultiplyLayers=function(U){for(var ia=this.getLayersRoot().getLinearizedLayerList(!1,[]),Aa=-1,ba=0;ba<ia.length;ba++){var va=ia[ba];if(!(va instanceof B.default)||va.mask||va.blendMode>A.default.LM_LAST_CHIBIPAINT)throw Error("Bad layer type during multiply upgrade");va.blendMode===A.default.LM_MULTIPLY&&
(Aa=ba)}if(-1!==Aa){ba=new G.default(this.width,this.height);var Ja=va=!0,Va=this.getBounds();ba.clearAll(Va,16777215);for(var Ka=0;Ka<=Aa;Ka++){var Za=ia[Ka];Ja||(va=va&&ba.hasAlphaInRect(Va));if(Za.blendMode===A.default.LM_MULTIPLY)switch(U){case "bake":!va&&0<Za.getEffectiveAlpha()&&(100===Za.alpha?A.default.upgradeMultiplyOfOpaqueLayer(ba,Za.image,100,Va):A.default.upgradeMultiplyOfTransparentLayer(ba,Za.image,Za.alpha,Va),Za.setBlendMode(A.default.LM_MULTIPLY2));break;default:va&&Za.setBlendMode(A.default.LM_MULTIPLY2)}0<
Za.getEffectiveAlpha()&&(Ja=!1,A.default.fuseImageOntoImage(ba,va,Za.image,Za.alpha,Za.blendMode,Va,null))}}};this.isCreateClippingMaskAllowed=function(){var U=Ua.parent.indexOf(Ua);U=Ua.parent.layers[U-1];return Ua instanceof B.default&&!Ua.clip&&U instanceof B.default};this.createClippingMask=function(){this.isCreateClippingMaskAllowed()&&Ba(new Dc(Ua,!0))};this.isReleaseClippingMaskAllowed=function(){return Ua instanceof B.default&&Ua.clip};this.releaseClippingMask=function(){this.isReleaseClippingMaskAllowed()&&
Ba(new Dc(Ua,!1))};this.setActiveLayer=function(U,ia){if(U){ia=U.mask&&ia;var Aa=ia!=tb;if(Ua!=U||Aa){var ba=Ua;Ua=U;tb=ia;Ia();this.emitEvent("changeActiveLayer",[ba,U,tb]);Aa&&this.emitEvent("editModeChanged",[tb?u.EDITING_MODE_MASK:u.EDITING_MODE_IMAGE]);Hb&&Hb.layer==ba&&(ia?Hb.setLayer(U):this.closeMaskView())}}};this.closeMaskView=function(){Hb.close();Hb=null};this.toggleMaskView=function(){null!=Hb&&Hb.isOpen()?this.closeMaskView():Hb=Ua.mask?new z.default(Ua,xb):null;return Hb};this.selectTopmostVisibleLayer=
function(){for(var U=Ha.getLinearizedLayerList(!1),ia=U.length-1;0<=ia;ia--)if(U[ia]instanceof B.default&&0<U[ia].getEffectiveAlpha()){this.setActiveLayer(U[ia],!1);return}for(ia=U.length-1;0<=ia;ia--)if(U[ia]instanceof B.default){this.setActiveLayer(U[ia],!1);return}this.setActiveLayer(U[U.length-1],!1)};this.getActiveLayer=function(){return Ua};this.isEditingMask=function(){return tb};this.isActiveLayerDrawable=function(){return tb&&Ua.mask||!tb&&Ua instanceof B.default};this.getUndoMemoryUsed=
function(){for(var U=0,ia=0,Aa=Tb;ia<Aa.length;ia++)U+=Aa[ia].getMemoryUsed(!0,null);ia=0;for(Aa=Ob;ia<Aa.length;ia++)U+=Aa[ia].getMemoryUsed(!1,null);return U};this.isUndoAllowed=function(){return 0<Ob.length};this.isRedoAllowed=function(){return 0<Tb.length};this.undo=function(){if(this.isUndoAllowed()){this.setHasUnsavedChanges(!0);var U=Ob.pop();U.undo();Tb.push(U)}};this.redo=function(){if(this.isRedoAllowed()){this.setHasUnsavedChanges(!0);var U=Tb.pop();U.redo();Ob.push(U)}};this.performIdleTasks=
function(){la();xb();qb.buildTree()};this.compactUndo=function(){0<Ob.length&&Ob[Ob.length-1].compact()};this.clearHistory=function(){Ob=[];Tb=[]};this.colorPicker=function(U,ia){return tb&&Ua.mask?fa.default.greyToRGB(Ua.mask.getPixel(~~U,~~ia)):rc.getPixel(~~U,~~ia)&16777215};this.setSelection=function(U){tc.set(U);tc.roundNearest();tc.clipTo(this.getBounds())};this.emptySelection=function(){tc.makeEmpty()};this.floodFill=function(U,ia){var Aa=Ra();Aa&&(la(),cc=this.getBounds(),Aa.floodFill(~~U,
~~ia,gc|4278190080),Ba(new cb),Ca(Ua,this.getBounds()))};this.gradientFill=function(U,ia,Aa,ba,va){var Ja=this.getSelectionAutoSelect(),Va=Ra();Va&&(la(),cc=Ja.clone(),Va.gradient(Ja,U,ia,Aa,ba,va,!1),this.getLayerLockAlpha()&&Va instanceof G.default&&Va.copyAlphaFrom(fc,Ja),Ba(new cb),Ca(Ua,Ja))};this.fill=function(U){var ia=this.getSelectionAutoSelect(),Aa=Ra();Aa&&(la(),cc=ia.clone(),Aa.clearRect(ia,U),Ba(new cb),Ca(Ua,ia))};this.clear=function(){tb?this.fill(0):this.fill(16777215)};this.flip=
function(U){var ia=this.getSelection(),Aa=ia.isEmpty(),ba=Aa&&Ua instanceof B.default&&Ua.mask&&Ua.maskLinked,va=(!tb||ba)&&Ua instanceof B.default;ba=(tb||ba)&&Ua.mask;U=U?"copyRegionHFlip":"copyRegionVFlip";if(va||ba)Aa&&(ia=this.getBounds()),cc=ia.clone(),va&&(Ib(),Ua.image[U](ia,fc)),ba&&(Ga(),Ua.mask[U](ia,P)),Ba(new cb(va,ba)),ra(Ua,ia,va,ba)};this.hFlip=function(){this.flip(!0)};this.vFlip=function(){this.flip(!1)};this.monochromaticNoise=function(){var U=this.getSelectionAutoSelect(),ia=Ra();
ia&&(la(),cc=U.clone(),ia.fillWithNoise(U),Ba(new cb),Ca(Ua,U))};this.isColorNoiseAllowed=function(){return!this.isEditingMask()&&this.isActiveLayerDrawable()};this.colorNoise=function(){if(this.isColorNoiseAllowed()){var U=this.getSelectionAutoSelect();la();cc=U.clone();Ua.image.fillWithColorNoise(U);Ba(new cb(!0,!1));ra(Ua,U,!0,!1)}};this.invert=function(){var U=this.getSelectionAutoSelect(),ia=Ra();ia&&(la(),cc=U.clone(),ia.invert(U),Ba(new cb),Ca(Ua,U))};this.boxBlur=function(U,ia,Aa){var ba=
this.getSelectionAutoSelect(),va=Ra();if(va){la();cc=ba.clone();for(var Ja=0;Ja<Aa;Ja++)va.boxBlur(ba,U,ia);Ba(new cb);Ca(Ua,ba)}};this.rectangleSelection=function(U){U=U.clone();U.clipTo(this.getBounds());Ba(new Ya(this.getSelection(),U));this.setSelection(U)};this.move=function(U,ia,Aa){U|=0;ia|=0;if(0!=U||0!=ia){var ba=0<Ob.length?Ob[Ob.length-1]:null;!Aa&&ba instanceof ob&&ba.layer==this.getActiveLayer()?(ba.amend(U,ia),Tb=[],this.setHasUnsavedChanges(!0)):(U=new ob(U,ia,Aa),Ba(U),U.redo())}};
this.setTransformInterpolation=function(U){nc=U;Fb instanceof bb&&Fb.setInterpolation(U)};this.transformAffineAbort=function(){Fb instanceof bb&&(Fb.undo(),Fb=null,ma(!0))};this.transformAffineBegin=function(){if(Fb instanceof bb)return{transform:Fb.getTransform(),rect:Fb.getInitialTransformRect(),selection:Fb.getInitialSelectionRect()};var U=new ka.default;var ia=new bb(U,nc);if(ia.getInitialTransformRect().isEmpty())return null;Fb=ia;vc=!0;return{transform:U,rect:ia.getInitialTransformRect(),selection:ia.getInitialSelectionRect()}};
this.transformAffineFinish=function(){Fb instanceof bb&&(Ba(Fb),Fb=null,ma(!0))};this.transformAffineAmend=function(U){Fb instanceof bb&&Fb.amend(U)};this.isCopySelectionAllowed=this.isCutSelectionAllowed=function(){return!this.getSelection().isEmpty()&&null!==Ra()};this.cutSelection=function(){this.isCutSelectionAllowed()&&Ba(new Da(Ua,tb,this.getSelection()))};this.copySelection=function(){if(this.isCopySelectionAllowed()){var U=eb.getSelection(),ia=Ra();Sb=new R.default(ia.cloneRect(U),U.left,
U.top)}};this.isCopySelectionMergedAllowed=function(){return!this.getSelection().isEmpty()};this.copySelectionMerged=function(){if(this.isCopySelectionMergedAllowed()){var U=eb.getSelection();Sb=new R.default(this.fusionLayers().cloneRect(U),U.left,U.top)}};this.isPasteClipboardAllowed=function(){return!this.isClipboardEmpty()};this.pasteClipboard=function(){this.isPasteClipboardAllowed()&&Ba(new Ma(Sb))};this.getClipboard=function(){return Sb};this.setClipboard=function(U){Sb=U};this.isClipboardEmpty=
function(){return null==Sb};this.setSampleAllLayers=function(U){ac=U};this.getLayerLockAlpha=function(){return this.getActiveLayer().getLockAlpha()};this.setLayerLockAlpha=function(U){Ua.getLockAlpha()!=U&&Ba(new aa(Ua,U))};this.setForegroundColor=function(U){gc=U};this.setBrush=function(U){Rb=U};this.setBrushTexture=function(U){Qb.setTexture(U)};this.beginStroke=function(U,ia,Aa){if(null===Rb||!this.isActiveLayerDrawable())return!1;la();cc.makeEmpty();qc.clearAll(0);jc.makeEmpty();rb=U;Vb=ia;kb=
Aa;vc=!0;bc[Rb.brushMode].beginStroke();this.paintDab(U,ia,Aa);return!0};this.continueStroke=function(U,ia,Aa){if(null!=Rb){var ba=Math.sqrt((rb-U)*(rb-U)+(Vb-ia)*(Vb-ia)),va=Math.max(Rb.minSpacing,Rb.curSize*Rb.spacing);if(ba>va){var Ja=rb,Va=Vb,Ka=kb;for(va=ba=(va-.001)/ba;1>=va;va+=ba)Ja=va*U+(1-va)*rb,Va=va*ia+(1-va)*Vb,Ka=va*Aa+(1-va)*kb,this.paintDab(Ja,Va,Ka);rb=Ja;Vb=Va;kb=Ka}}};this.endStroke=function(){null!=Rb&&(xb(),bc[Rb.brushMode].endStroke(),cc.clipTo(this.getBounds()),cc.isEmpty()||
(Ba(new cb),la()),ma(!1))};this.hasAlpha=function(){return rc.hasAlpha()};this.getFlatPNG=function(U){this.fusionLayers();return rc.getAsPNG(U)};this.getFlatPNGBuffer=function(U){this.fusionLayers();return rc.getAsPNGBuffer(U)};this.isSimpleDrawing=function(){return 1==Ha.layers.length&&Ha.layers[0]instanceof B.default&&!Ha.layers[0].mask&&100==Ha.layers[0].getEffectiveAlpha()};cb.prototype=Object.create(J.default.prototype);cb.prototype.constructor=cb;sb.prototype=Object.create(J.default.prototype);
sb.prototype.constructor=sb;ub.prototype=Object.create(J.default.prototype);ub.prototype.constructor=ub;Pa.prototype=Object.create(J.default.prototype);Pa.prototype.constructor=Pa;ta.prototype=Object.create(J.default.prototype);ta.prototype.constructor=ta;Wa.prototype=Object.create(J.default.prototype);Wa.prototype.constructor=Wa;nb.prototype=Object.create(J.default.prototype);nb.prototype.constructor=nb;jb.prototype=Object.create(J.default.prototype);jb.prototype.constructor=jb;pa.prototype=Object.create(J.default.prototype);
pa.prototype.constructor=pa;Ea.prototype=Object.create(J.default.prototype);Ea.prototype.constructor=Ea;var xc=La("alpha",!0),Mc=La("blendMode",!0),yc=La("visible",!0),Dc=La("clip",!0),zc=La("maskVisible",!0),Cc=La("name",!1),aa=La("lockAlpha",!1),za=La("maskLinked",!1);Ya.prototype=Object.create(J.default.prototype);Ya.prototype.constructor=Ya;var Qa=function(U){function ia(){E(this,ia);var ba=Aa.call(this);ba.layer=Ua;ba.fromSelection=eb.getSelection();ba.fromMaskMode=tb;ba.movingWholeLayer=ba.fromSelection.isEmpty();
ba.movingImage=!tb||ba.movingWholeLayer&&ba.layer.maskLinked;ba.movingMask=tb||ba.movingWholeLayer&&ba.layer.maskLinked;ba.hasFullUndo=!1;ba.erasesSourceRect=!1;ba.dstRect=new Y.default(0,0,0,0);ba.movingLayers=[{layer:ba.layer,moveImage:ba.layer instanceof B.default&&ba.movingImage,moveMask:null!==ba.layer.mask&&ba.movingMask,imageRect:new Map,maskRect:new Map}];ba.layer instanceof C.default&&ba.movingImage&&ba.movingWholeLayer&&(ba.movingLayers=ba.movingLayers.concat(ba.layer.getLinearizedLayerList(!1).map(function(Ka){return{layer:Ka,
moveImage:Ka instanceof B.default,moveMask:null!==Ka.mask&&Ka.maskLinked,imageRect:new Map,maskRect:new Map}})));var va=new Y.default(0,0,0,0);if(ba.movingWholeLayer){ba.srcRect=eb.getBounds();for(var Ja=0;Ja<ba.movingLayers.length&&!va.equals(ba.srcRect);Ja++){var Va=ba.movingLayers[Ja];Va.moveMask&&va.union(Va.layer.mask.getValueBounds(ba.srcRect,255));Va.moveImage&&va.union(Va.layer.image.getNonTransparentBounds(ba.srcRect))}}else for(ba.srcRect=ba.fromSelection.clone(),Ja=0;Ja<ba.movingLayers.length&&
!va.equals(ba.srcRect);Ja++)Va=ba.movingLayers[Ja],Va.moveMask&&va.union(Va.layer.mask.getValueBounds(ba.srcRect,0)),Va.moveImage&&va.union(Va.layer.image.getNonTransparentBounds(ba.srcRect));ba.srcRect=va;return ba}w(ia,U);var Aa=m(ia);d(ia,[{key:"undo",value:function(){var ba=this,va=[];this.dstRect.isEmpty()||va.push(this.dstRect);this.erasesSourceRect&&(va.push(this.srcRect),va=Y.default.union(va));this.movingLayers.forEach(function(Ja){ba.hasFullUndo?va.forEach(function(Va){Ja.moveImage&&Ja.layer.image.copyBitmapRect(Ja.imageUndo,
Va.left,Va.top,Va);Ja.moveMask&&Ja.layer.mask.copyBitmapRect(Ja.maskUndo,Va.left,Va.top,Va)}):(Ja.moveImage&&Ja.imageRect.forEach(function(Va,Ka){Ja.layer.image.copyBitmapRect(Va,Ka.left,Ka.top,Va.getBounds())}),Ja.moveMask&&Ja.maskRect.forEach(function(Va,Ka){Ja.layer.mask.copyBitmapRect(Va,Ka.left,Ka.top,Va.getBounds())}))});ra(this.movingLayers.map(function(Ja){return Ja.layer}),va.reduce(function(Ja,Va){return Ja.getUnion(Va)},new Y.default(0,0,0,0)),!0,!0);this.dstRect.makeEmpty();eb.setSelection(this.fromSelection);
eb.setActiveLayer(this.layer,this.fromMaskMode);Oa()}},{key:"getMemoryUsed",value:function(ba,va){return this.movingLayers.map(function(Ja){return[Ja.imageUndo,Ja.maskUndo,Ja.imageRect,Ja.maskRect].map(function(Va){return Va?Va.getMemorySize():0}).reduce(e,0)}).reduce(e,0)}},{key:"buildFullUndo",value:function(){this.hasFullUndo||(this.movingLayers.forEach(function(ba){ba.moveImage&&(ba.imageUndo=ba.layer.image.clone());ba.moveMask&&(ba.maskUndo=ba.layer.mask.clone());ba.imageRect.clear();ba.maskRect.clear()}),
this.hasFullUndo=!0)}},{key:"compact",value:function(){if(this.hasFullUndo){var ba=[];this.dstRect.isEmpty()||ba.push(this.dstRect);this.erasesSourceRect&&(ba.push(this.srcRect),ba=Y.default.union(ba));this.movingLayers.forEach(function(va){va.imageRect.clear();va.maskRect.clear();ba.forEach(function(Ja){va.moveImage&&va.imageRect.set(Ja,va.imageUndo.cloneRect(Ja));va.moveMask&&va.maskRect.set(Ja,va.maskUndo.cloneRect(Ja))});va.imageUndo=null;va.maskUndo=null});this.hasFullUndo=!1}}}]);return ia}(J.default),
bb=function(U){function ia(ba,va){E(this,ia);var Ja=Aa.call(this);Ja.erasesSourceRect=!0;Ja.affineTransform=ba.clone();Ja.interpolation=va||"smooth";Ja.composeCanvas=null;Ja.composeCanvasContext=null;return Ja}w(ia,U);var Aa=m(ia);d(ia,[{key:"buildFullUndo",value:function(){var ba=this;this.hasFullUndo||(v(r(ia.prototype),"buildFullUndo",this).call(this),this.movingLayers.forEach(function(va){if(va.moveImage){var Ja=(0,ja.createCanvas)(ba.srcRect.getWidth(),ba.srcRect.getHeight());Ja.getContext("2d").putImageData(va.layer.image.getImageData(),
-ba.srcRect.left,-ba.srcRect.top,ba.srcRect.left,ba.srcRect.top,ba.srcRect.getWidth(),ba.srcRect.getHeight());va.imageSourceCanvas=Ja}va.moveMask&&(Ja=(0,ja.createCanvas)(ba.srcRect.getWidth(),ba.srcRect.getHeight()),Ja.getContext("2d").putImageData(va.layer.mask.getImageData(ba.srcRect.left,ba.srcRect.top,ba.srcRect.getWidth(),ba.srcRect.getHeight()),0,0),va.maskSourceCanvas=Ja)}),this.composeCanvas=(0,ja.createCanvas)(eb.width,eb.height),this.composeCanvasContext=this.composeCanvas.getContext("2d",
{willReadFrequently:!0}),(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.junk=this.composeCanvasContext.getImageData(0,0,1,1))}},{key:"redo",value:function(){var ba=this;this.buildFullUndo();var va=this.dstRect.clone(),Ja=this.srcRect.toPoints();this.affineTransform.transformPoints(Ja);this.dstRect.set(Y.default.createBoundingBox(Ja).roundContain().clipTo(eb.getBounds()));var Va=Y.default.subtract(this.dstRect,this.srcRect),Ka=Y.default.subtract(va.isEmpty()?
this.srcRect:this.srcRect.getIntersection(va),this.dstRect),Za=this.srcRect.getIntersection(this.dstRect),$a=Y.default.subtract(va,[this.dstRect,this.srcRect]);va=this.srcRect.getUnion(this.dstRect).getUnion(va);this.movingLayers.forEach(function(lb){Ka.forEach(function(Db){lb.moveImage&&lb.layer.image.clearRect(Db,16777215);lb.moveMask&&(ba.movingWholeLayer?lb.layer.mask.clearRect(Db,255):lb.layer.mask.clearRect(Db,0))});if(!ba.dstRect.isEmpty()){if(lb.moveImage){var Lb=lb.imageUndo.getImageData();
Va.forEach(function(Db){ba.composeCanvasContext.putImageData(Lb,0,0,Db.left,Db.top,Db.getWidth(),Db.getHeight())});ba.composeCanvasContext.clearRect(Za.left,Za.top,Za.getWidth(),Za.getHeight());ba.composeCanvasContext.save();ba.composeCanvasContext.setTransform(ba.affineTransform.m[0],ba.affineTransform.m[1],ba.affineTransform.m[2],ba.affineTransform.m[3],ba.affineTransform.m[4],ba.affineTransform.m[5]);ba.composeCanvasContext.drawImage(lb.imageSourceCanvas,ba.srcRect.left,ba.srcRect.top);ba.composeCanvasContext.restore();
lb.layer.image.copyBitmapRect(new G.default(ba.composeCanvasContext.getImageData(ba.dstRect.left,ba.dstRect.top,ba.dstRect.getWidth(),ba.dstRect.getHeight())),ba.dstRect.left,ba.dstRect.top,new Y.default(0,0,ba.dstRect.getWidth(),ba.dstRect.getHeight()))}lb.moveMask&&(Va.forEach(function(Db){ba.composeCanvasContext.putImageData(lb.layer.mask.getImageData(Db.left,Db.top,Db.getWidth(),Db.getHeight()),Db.left,Db.top)}),ba.composeCanvasContext.fillStyle=ba.movingWholeLayer?"#FFF":"#000",ba.composeCanvasContext.fillRect(Za.left,
Za.top,Za.getWidth(),Za.getHeight()),ba.composeCanvasContext.save(),ba.composeCanvasContext.setTransform(ba.affineTransform.m[0],ba.affineTransform.m[1],ba.affineTransform.m[2],ba.affineTransform.m[3],ba.affineTransform.m[4],ba.affineTransform.m[5]),ba.composeCanvasContext.drawImage(lb.maskSourceCanvas,ba.srcRect.left,ba.srcRect.top),ba.composeCanvasContext.restore(),lb.layer.mask.pasteImageData(ba.composeCanvasContext.getImageData(ba.dstRect.left,ba.dstRect.top,ba.dstRect.getWidth(),ba.dstRect.getHeight()),
ba.dstRect.left,ba.dstRect.top))}$a.forEach(function(Db){lb.moveImage&&lb.layer.image.copyBitmapRect(lb.imageUndo,Db.left,Db.top,Db);lb.moveMask&&lb.layer.mask.copyBitmapRect(lb.maskUndo,Db.left,Db.top,Db)})});ra(this.movingLayers.map(function(lb){return lb.layer}),va,!0,!0);this.fromSelection.isEmpty()||(va=this.fromSelection.toPoints(),this.affineTransform.transformPoints(va),va=Y.default.createBoundingBox(va),va.roundNearest(),eb.setSelection(va),Oa());eb.setActiveLayer(this.layer,this.fromMaskMode)}},
{key:"amend",value:function(ba){this.hasFullUndo||this.undo();this.affineTransform=ba.clone();this.redo()}},{key:"setInterpolation",value:function(ba){ba!=this.interpolation&&(this.interpolation=ba,this.composeCanvasContext&&(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.undo(),this.redo())}},{key:"compact",value:function(){v(r(ia.prototype),"compact",this).call(this);this.composeCanvasContext=this.composeCanvas=null;this.movingLayers.forEach(function(ba){return ba.imageSourceCanvas=
null})}},{key:"getMemoryUsed",value:function(ba,va){ba=v(r(ia.prototype),"getMemoryUsed",this).call(this,ba,va);ba+=p(this.composeCanvas);return ba+=this.movingLayers.map(function(Ja){return p(Ja.imageSourceCanvas)}).reduce(e,0)}},{key:"getTransform",value:function(){return this.affineTransform.clone()}},{key:"getInitialTransformRect",value:function(){return this.srcRect.clone()}},{key:"getInitialSelectionRect",value:function(){return this.fromSelection.clone()}}]);return ia}(Qa),ob=function(U){function ia(ba,
va,Ja){E(this,ia);var Va=Aa.call(this);Va.offsetX=ba;Va.offsetY=va;Va.erasesSourceRect=!Ja;return Va}w(ia,U);var Aa=m(ia);d(ia,[{key:"redo",value:function(){var ba=this,va=this.dstRect.clone(),Ja=va.clone(),Va=null;this.buildFullUndo();this.dstRect.set(this.srcRect);this.dstRect.translate(this.offsetX,this.offsetY);var Ka=this.dstRect.clone();this.dstRect.clipTo(eb.getBounds());if(this.erasesSourceRect){Va=va.isEmpty()?this.srcRect:this.srcRect.getIntersection(va);Ja.union(Va);var Za=va.subtract(this.srcRect)}else Za=
[va];this.movingLayers.forEach(function($a){Va&&($a.moveImage&&$a.layer.image.clearRect(Va,16777215),$a.moveMask&&$a.layer.mask.clearRect(Va,ba.movingWholeLayer?255:0));Za.forEach(function(lb){$a.moveImage&&$a.layer.image.copyBitmapRect($a.imageUndo,lb.left,lb.top,lb);$a.moveMask&&$a.layer.mask.copyBitmapRect($a.maskUndo,lb.left,lb.top,lb)});$a.moveImage&&A.default.normalFuseImageOntoImageAtPosition($a.layer.image,$a.imageUndo,Ka.left,Ka.top,ba.srcRect);$a.moveMask&&$a.layer.mask.copyBitmapRect($a.maskUndo,
Ka.left,Ka.top,ba.srcRect)});Ja.union(this.dstRect);ra(this.movingLayers.map(function($a){return $a.layer}),Ja,!0,!0);this.fromSelection.isEmpty()||(va=this.fromSelection.clone(),va.translate(this.offsetX,this.offsetY),eb.setSelection(va),Oa())}},{key:"amend",value:function(ba,va){this.hasFullUndo||this.undo();this.offsetX+=ba;this.offsetY+=va;this.redo()}}]);return ia}(Qa);Da.prototype=Object.create(J.default.prototype);Da.prototype.constructor=Da;Ma.prototype=Object.create(J.default.prototype);
Ma.prototype.constructor=Ma;bc=[ua.CPBrushTool,ua.CPBrushToolEraser,ua.CPBrushToolDodge,ua.CPBrushToolBurn,ua.CPBrushToolWatercolor,ua.CPBrushToolBlur,ua.CPBrushToolSmudge,ua.CPBrushToolOil].map(function(U){return new U(qc,jc)});this.width=qa;this.height=ya}Object.defineProperty(D,"__esModule",{value:!0});D.default=u;var B=k(g("./CPImageLayer.js")),C=k(g("./CPLayerGroup.js")),A=k(g("./CPBlend.js"));g("./CPBlendAdditional.js");var I=k(g("./CPGreyBmp.js")),O=k(g("./CPBlendTree.js")),z=k(g("./CPMaskView.js")),
G=k(g("./CPColorBmp.js")),H=k(g("./CPBrushManager.js")),N=k(g("./CPBrushInfo.js")),J=k(g("./CPUndo.js")),R=k(g("./CPClip.js")),fa=k(g("../util/CPColor.js")),Y=k(g("../util/CPRect.js")),sa=k(g("../util/CPRandom.js")),ka=k(g("../util/CPTransform.js")),Q=g("../util/CPPolyfill.js"),ja=g("../util/Canvas.js"),ca=k(g("wolfy87-eventemitter")),ua=g("./CPBrushTool.js");u.prototype=Object.create(ca.default.prototype);u.prototype.constructor=u;u.prototype.getBounds=function(){return new Y.default(0,0,this.width,
this.height)};u.prototype.isPointWithin=function(qa,ya){return 0<=qa&&0<=ya&&qa<this.width&&ya<this.height};u.EDITING_MODE_IMAGE=0;u.EDITING_MODE_MASK=1;K.exports=D.default},{"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPRandom.js":62,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/Canvas.js":2,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPBlendTree.js":7,"./CPBrushInfo.js":8,"./CPBrushManager.js":9,"./CPBrushTool.js":10,"./CPClip.js":12,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,
"./CPImageLayer.js":15,"./CPLayerGroup.js":17,"./CPMaskView.js":19,"./CPUndo.js":22,"wolfy87-eventemitter":314}],4:[function(g,K,D){function y(v,E){this.width=v|0;this.height=E|0}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;var k=function(v){return v&&v.__esModule?v:{default:v}}(g("../util/CPRect.js"));y.prototype.getBounds=function(){return new k.default(0,0,this.width,this.height)};y.prototype.isInside=function(v,E){return 0<=v&&0<=E&&v<this.width&&E<this.height};K.exports=D.default},
{"../util/CPRect.js":63}],5:[function(g,K,D){function y(b){return b&&b.__esModule?b:{default:b}}function k(){}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;y(g("./CPColorBmp.js"));y(g("./CPGreyBmp.js"));y(g("./CPLayer.js"));y(g("../util/CPRect.js"));var v=Array(256),E=Array(256);k.multiplyOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=
d.data[a+3];if(c){var f=b.data[a];b.data[a]=f-((d.data[a]^255)*f*c/65025|0);f=b.data[a+1];b.data[a+1]=f-((d.data[a+1]^255)*f*c/65025|0);f=b.data[a+2];b.data[a+2]=f-((d.data[a+2]^255)*f*c/65025|0)}}};k.multiplyOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a];b.data[a]=n-((d.data[a]^255)*n*f/65025|0);n=b.data[a+
1];b.data[a+1]=n-((d.data[a+1]^255)*n*f/65025|0);n=b.data[a+2];b.data[a+2]=n-((d.data[a+2]^255)*n*f/65025|0)}}};k.multiplyOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*p+f*u+(c*f*e/255|0))/n|0;c=d.data[a+
1];f=b.data[a+1];b.data[a+1]=(c*p+f*u+(c*f*e/255|0))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*p+f*u+(c*f*e/255|0))/n|0;b.data[a+3]=n}}};k.multiplyOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=
(f*u+n*B+(f*n*p/255|0))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(f*u+n*B+(f*n*p/255|0))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(f*u+n*B+(f*n*p/255|0))/e|0;b.data[a+3]=e}}};k.multiplyOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h];
b.data[h]=p-((d.data[h]^255)*p*e/65025|0);p=b.data[h+1];b.data[h+1]=p-((d.data[h+1]^255)*p*e/65025|0);p=b.data[h+2];b.data[h+2]=p-((d.data[h+2]^255)*p*e/65025|0)}}};k.multiplyOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c];b.data[c]=
u-((d.data[c]^255)*u*p/65025|0);u=b.data[c+1];b.data[c+1]=u-((d.data[c+1]^255)*u*p/65025|0);u=b.data[c+2];b.data[c+2]=u-((d.data[c+2]^255)*u*p/65025|0)}}};k.multiplyOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|
0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(e*C+p*A+(e*p*B/255|0))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(e*C+p*A+(e*p*B/255|0))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(e*C+p*A+(e*p*B/255|0))/u|0;b.data[h+3]=u}}};k.multiplyOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,
c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(p*A+u*I+(p*u*C/255|0))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(p*A+u*I+(p*u*C/255|0))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(p*A+u*I+(p*u*C/255|0))/B|0;b.data[c+3]=B}}};k.multiply2OntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-
m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a];b.data[a]=f-Math.ceil((d.data[a]^255)*f*c/65025);f=b.data[a+1];b.data[a+1]=f-Math.ceil((d.data[a+1]^255)*f*c/65025);f=b.data[a+2];b.data[a+2]=f-Math.ceil((d.data[a+2]^255)*f*c/65025)}}};k.multiply2OntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=
0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a];b.data[a]=n-Math.ceil((d.data[a]^255)*n*f/65025);n=b.data[a+1];b.data[a+1]=n-Math.ceil((d.data[a+1]^255)*n*f/65025);n=b.data[a+2];b.data[a+2]=n-Math.ceil((d.data[a+2]^255)*n*f/65025)}}};k.multiply2OntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=
c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*p+f*u+(c*f*e/255|0))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*p+f*u+(c*f*e/255|0))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*p+f*u+(c*f*e/255|0))/n|0;b.data[a+3]=n}}};k.multiply2OntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+
3]*w/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(f*u+n*B+(f*n*p/255|0))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(f*u+n*B+(f*n*p/255|0))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(f*u+n*B+(f*n*p/255|0))/e|0;b.data[a+3]=e}}};k.multiply2OntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h];b.data[h]=p-Math.ceil((d.data[h]^255)*p*e/65025);p=b.data[h+1];b.data[h+1]=p-Math.ceil((d.data[h+1]^255)*p*e/65025);p=b.data[h+2];b.data[h+2]=p-Math.ceil((d.data[h+2]^255)*p*e/65025)}}};k.multiply2OntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c];b.data[c]=u-Math.ceil((d.data[c]^255)*u*p/65025);u=b.data[c+1];b.data[c+1]=u-Math.ceil((d.data[c+1]^255)*u*p/65025);u=b.data[c+2];b.data[c+2]=u-Math.ceil((d.data[c+2]^255)*u*p/65025)}}};k.multiply2OntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(e*C+p*A+(e*p*B/255|0))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(e*C+p*A+(e*p*B/255|0))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(e*C+p*A+(e*p*B/255|0))/u|0;b.data[h+3]=u}}};k.multiply2OntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|
0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(p*A+u*I+(p*u*C/255|0))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(p*A+u*I+(p*u*C/255|0))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(p*A+u*I+(p*u*C/255|
0))/B|0;b.data[c+3]=B}}};k.normalOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c)if(255==c)b.data[a]=d.data[a],b.data[a+1]=d.data[a+1],b.data[a+2]=d.data[a+2];else{var f=255-c;var n=d.data[a];b.data[a]=(n*c+b.data[a]*f)/255|0;n=d.data[a+1];b.data[a+1]=(n*c+b.data[a+1]*f)/255|0;n=d.data[a+2];b.data[a+2]=(n*c+b.data[a+2]*f)/255|0}}};k.normalOntoOpaqueFusionWithTransparentLayer=
function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=255-f;var e=d.data[a];b.data[a]=(e*f+b.data[a]*n)/255|0;e=d.data[a+1];b.data[a+1]=(e*f+b.data[a+1]*n)/255|0;e=d.data[a+2];b.data[a+2]=(e*f+b.data[a+2]*n)/255|0}}};k.normalOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];f=c+f-(c*f/255|0)|0;c=255*c/f|0;var n=255-c;b.data[a]=(d.data[a]*c+b.data[a]*n)/255|0;b.data[a+1]=(d.data[a+1]*c+b.data[a+1]*n)/255|0;b.data[a+2]=(d.data[a+2]*c+b.data[a+2]*n)/255|0;b.data[a+3]=f}}};k.normalOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,
a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a+3];n=f+n-(f*n/255|0)|0;f=255*f/n|0;var e=255-f;b.data[a]=(d.data[a]*f+b.data[a]*e)/255|0;b.data[a+1]=(d.data[a+1]*f+b.data[a+1]*e)/255|0;b.data[a+2]=(d.data[a+2]*f+b.data[a+2]*e)/255|0;b.data[a+3]=n}}};k.normalOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<
q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e)if(255==e)b.data[h]=d.data[h],b.data[h+1]=d.data[h+1],b.data[h+2]=d.data[h+2];else{var p=255-e;var u=d.data[h];b.data[h]=(u*e+b.data[h]*p)/255|0;u=d.data[h+1];b.data[h+1]=(u*e+b.data[h+1]*p)/255|0;u=d.data[h+2];b.data[h+2]=(u*e+b.data[h+2]*p)/255|0}}};k.normalOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=255-p;var B=d.data[c];b.data[c]=(B*p+b.data[c]*u)/255|0;B=d.data[c+1];b.data[c+1]=(B*p+b.data[c+1]*u)/255|0;B=d.data[c+2];b.data[c+2]=(B*p+b.data[c+2]*u)/255|0}}};k.normalOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=
0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];p=e+p-(e*p/255|0)|0;e=255*e/p|0;var u=255-e;b.data[h]=(d.data[h]*e+b.data[h]*u)/255|0;b.data[h+1]=(d.data[h+1]*e+b.data[h+1]*u)/255|0;b.data[h+2]=(d.data[h+2]*e+b.data[h+2]*u)/255|0;b.data[h+3]=p}}};k.normalOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];u=p+u-(p*u/255|0)|0;p=255*p/u|0;var B=255-p;b.data[c]=(d.data[c]*p+b.data[c]*B)/255|0;b.data[c+1]=(d.data[c+1]*p+b.data[c+1]*B)/255|0;b.data[c+2]=(d.data[c+2]*p+b.data[c+2]*B)/255|0;b.data[c+3]=u}}};k.addOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=
0;h<m;h++,a+=4){var c=d.data[a+3];c&&(b.data[a]=b.data[a]+c*d.data[a]/255|0,b.data[a+1]=b.data[a+1]+c*d.data[a+1]/255|0,b.data[a+2]=b.data[a+2]+c*d.data[a+2]/255|0)}};k.addOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;f&&(b.data[a]=b.data[a]+f*d.data[a]/255|0,b.data[a+1]=b.data[a+1]+f*d.data[a+1]/255|0,b.data[a+2]=b.data[a+
2]+f*d.data[a+2]/255|0)}};k.addOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0;b.data[a]=(f*b.data[a]+c*d.data[a])/n|0;b.data[a+1]=(f*b.data[a+1]+c*d.data[a+1])/n|0;b.data[a+2]=(f*b.data[a+2]+c*d.data[a+2])/n|0;b.data[a+3]=n}}};k.addOntoTransparentFusionWithTransparentLayer=function(b,
d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0;b.data[a]=(n*b.data[a]+f*d.data[a])/e|0;b.data[a+1]=(n*b.data[a+1]+f*d.data[a+1])/e|0;b.data[a+2]=(n*b.data[a+2]+f*d.data[a+2])/e|0;b.data[a+3]=e}}};k.addOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,
a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;e&&(b.data[h]=b.data[h]+e*d.data[h]/255|0,b.data[h+1]=b.data[h+1]+e*d.data[h+1]/255|0,b.data[h+2]=b.data[h+2]+e*d.data[h+2]/255|0)}};k.addOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=
0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;p&&(b.data[c]=b.data[c]+p*d.data[c]/255|0,b.data[c+1]=b.data[c+1]+p*d.data[c+1]/255|0,b.data[c+2]=b.data[c+2]+p*d.data[c+2]/255|0)}};k.addOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+
3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0;b.data[h]=(p*b.data[h]+e*d.data[h])/u|0;b.data[h+1]=(p*b.data[h+1]+e*d.data[h+1])/u|0;b.data[h+2]=(p*b.data[h+2]+e*d.data[h+2])/u|0;b.data[h+3]=u}}};k.addOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+
3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0;b.data[c]=(u*b.data[c]+p*d.data[c])/B|0;b.data[c+1]=(u*b.data[c+1]+p*d.data[c+1])/B|0;b.data[c+2]=(u*b.data[c+2]+p*d.data[c+2])/B|0;b.data[c+3]=B}}};k.subtractOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];c&&(b.data[a]=b.data[a]+c*d.data[a]/255-c|0,b.data[a+1]=b.data[a+
1]+c*d.data[a+1]/255-c|0,b.data[a+2]=b.data[a+2]+c*d.data[a+2]/255-c|0)}};k.subtractOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;f&&(b.data[a]=b.data[a]+f*d.data[a]/255-f|0,b.data[a+1]=b.data[a+1]+f*d.data[a+1]/255-f|0,b.data[a+2]=b.data[a+2]+f*d.data[a+2]/255-f|0)}};k.subtractOntoTransparentFusionWithOpaqueLayer=function(b,
d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f;b.data[a]=(f*b.data[a]+c*d.data[a]-e)/n|0;b.data[a+1]=(f*b.data[a+1]+c*d.data[a+1]-e)/n|0;b.data[a+2]=(f*b.data[a+2]+c*d.data[a+2]-e)/n|0;b.data[a+3]=n}}};k.subtractOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|
0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n;b.data[a]=(n*b.data[a]+f*d.data[a]-p)/e|0;b.data[a+1]=(n*b.data[a+1]+f*d.data[a+1]-p)/e|0;b.data[a+2]=(n*b.data[a+2]+f*d.data[a+2]-p)/e|0;b.data[a+3]=e}}};k.subtractOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;e&&(b.data[h]=b.data[h]+e*d.data[h]/255-e|0,b.data[h+1]=b.data[h+1]+e*d.data[h+1]/255-e|0,b.data[h+2]=b.data[h+2]+e*d.data[h+2]/255-e|0)}};k.subtractOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,
c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;p&&(b.data[c]=b.data[c]+p*d.data[c]/255-p|0,b.data[c+1]=b.data[c+1]+p*d.data[c+1]/255-p|0,b.data[c+2]=b.data[c+2]+p*d.data[c+2]/255-p|0)}};k.subtractOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=
b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p;b.data[h]=(p*b.data[h]+e*d.data[h]-B)/u|0;b.data[h+1]=(p*b.data[h+1]+e*d.data[h+1]-B)/u|0;b.data[h+2]=(p*b.data[h+2]+e*d.data[h+2]-B)/u|0;b.data[h+3]=u}}};k.subtractOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*
w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u;b.data[c]=(u*b.data[c]+p*d.data[c]-C)/B|0;b.data[c+1]=(u*b.data[c+1]+p*d.data[c+1]-C)/B|0;b.data[c+2]=(u*b.data[c+2]+p*d.data[c+2]-C)/B|0;b.data[c+3]=B}}};k.screenOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=b.data[a];b.data[a]=255^((n^255)*f+(d.data[a]^
255)*(n^255)*c/255)/255;n=b.data[a+1];b.data[a+1]=255^((n^255)*f+(d.data[a+1]^255)*(n^255)*c/255)/255;n=b.data[a+2];b.data[a+2]=255^((n^255)*f+(d.data[a+2]^255)*(n^255)*c/255)/255}}};k.screenOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=f^255;var e=b.data[a];b.data[a]=255^((e^255)*n+(d.data[a]^255)*(e^255)*f/255)/
255;e=b.data[a+1];b.data[a+1]=255^((e^255)*n+(d.data[a+1]^255)*(e^255)*f/255)/255;e=b.data[a+2];b.data[a+2]=255^((e^255)*n+(d.data[a+2]^255)*(e^255)*f/255)/255}}};k.screenOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];
b.data[a]=255^((c^255)*p+(f^255)*u+(c^255)*(f^255)*e/255)/n;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=255^((c^255)*p+(f^255)*u+(c^255)*(f^255)*e/255)/n;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=255^((c^255)*p+(f^255)*u+(c^255)*(f^255)*e/255)/n;b.data[a+3]=n}}};k.screenOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=
b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=255^((f^255)*u+(n^255)*B+(f^255)*(n^255)*p/255)/e;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=255^((f^255)*u+(n^255)*B+(f^255)*(n^255)*p/255)/e;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=255^((f^255)*u+(n^255)*B+(f^255)*(n^255)*p/255)/e;b.data[a+3]=e}}};k.screenOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,
a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=b.data[h];b.data[h]=255^((u^255)*p+(d.data[h]^255)*(u^255)*e/255)/255;u=b.data[h+1];b.data[h+1]=255^((u^255)*p+(d.data[h+1]^255)*(u^255)*e/255)/255;u=b.data[h+2];b.data[h+2]=255^((u^255)*p+(d.data[h+2]^255)*(u^255)*e/255)/255}}};k.screenOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|
0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=p^255;var B=b.data[c];b.data[c]=255^((B^255)*u+(d.data[c]^255)*(B^255)*p/255)/255;B=b.data[c+1];b.data[c+1]=255^((B^255)*u+(d.data[c+1]^255)*(B^255)*p/255)/255;B=b.data[c+2];b.data[c+2]=255^((B^255)*u+(d.data[c+2]^255)*(B^255)*p/255)/255}}};k.screenOntoTransparentFusionWithOpaqueLayerMasked=
function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=255^((e^255)*C+(p^255)*A+(e^255)*(p^255)*B/255)/u;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=255^((e^255)*C+(p^255)*A+(e^
255)*(p^255)*B/255)/u;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=255^((e^255)*C+(p^255)*A+(e^255)*(p^255)*B/255)/u;b.data[h+3]=u}}};k.screenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,
A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=255^((p^255)*A+(u^255)*I+(p^255)*(u^255)*C/255)/B;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=255^((p^255)*A+(u^255)*I+(p^255)*(u^255)*C/255)/B;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=255^((p^255)*A+(u^255)*I+(p^255)*(u^255)*C/255)/B;b.data[c+3]=B}}};k.lightenOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=
0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=e>=n?e:(e*f+n*c)/255|0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=e>=n?e:(e*f+n*c)/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=e>=n?e:(e*f+n*c)/255|0}}};k.lightenOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=f^255;var e=
d.data[a];var p=b.data[a];b.data[a]=p>=e?p:(p*n+e*f)/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=p>=e?p:(p*n+e*f)/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=p>=e?p:(p*n+e*f)/255|0}}};k.lightenOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=f*(c^255)/n|0,p=e^255,u=c*(f^255)/n|0,B=
u^255;c=d.data[a];f=b.data[a];b.data[a]=(f>=c?c*u+f*B:f*e+c*p)/255|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(f>=c?c*u+f*B:f*e+c*p)/255|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(f>=c?c*u+f*B:f*e+c*p)/255|0;b.data[a+3]=n}}};k.lightenOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|
0)|0,p=n*(f^255)/e|0,u=p^255,B=f*(n^255)/e|0,C=B^255;f=d.data[a];n=b.data[a];b.data[a]=(n>=f?f*B+n*C:n*p+f*u)/255|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(n>=f?f*B+n*C:n*p+f*u)/255|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(n>=f?f*B+n*C:n*p+f*u)/255|0;b.data[a+3]=e}}};k.lightenOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,
a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=B>=u?B:(B*p+u*e)/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=B>=u?B:(B*p+u*e)/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=B>=u?B:(B*p+u*e)/255|0}}};k.lightenOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=
0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=C>=B?C:(C*u+B*p)/255|0;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=C>=B?C:(C*u+B*p)/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=C>=B?C:(C*u+B*p)/255|0}}};k.lightenOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=p*(e^255)/u|0,C=B^255,A=e*(p^255)/u|0,I=A^255;e=d.data[h];p=b.data[h];b.data[h]=(p>=e?e*A+p*I:p*B+e*C)/255|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(p>=e?e*A+p*I:p*B+e*C)/255|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(p>=e?e*A+p*I:p*B+e*C)/255|0;b.data[h+3]=u}}};k.lightenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|
0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=u*(p^255)/B|0,A=C^255,I=p*(u^255)/B|0,O=I^255;p=d.data[c];u=b.data[c];b.data[c]=(u>=p?p*I+u*O:u*C+p*A)/255|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(u>=p?p*I+u*O:u*C+p*A)/255|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(u>=p?p*I+u*O:u*
C+p*A)/255|0;b.data[c+3]=B}}};k.darkenOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=e>=n?(e*f+n*c)/255|0:e;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=e>=n?(e*f+n*c)/255|0:e;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=e>=n?(e*f+n*c)/255|0:e}}};k.darkenOntoOpaqueFusionWithTransparentLayer=
function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=p>=e?(p*n+e*f)/255|0:p;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=p>=e?(p*n+e*f)/255|0:p;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=p>=e?(p*n+e*f)/255|0:p}}};k.darkenOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=
4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*(f^255)/n|0,p=e^255,u=f*(c^255)/n|0,B=u^255;c=d.data[a];f=b.data[a];b.data[a]=(f>=c?f*u+c*B:c*e+f*p)/255|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(f>=c?f*u+c*B:c*e+f*p)/255|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(f>=c?f*u+c*B:c*e+f*p)/255|0;b.data[a+3]=n}}};k.darkenOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=
a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*(n^255)/e|0,u=p^255,B=n*(f^255)/e|0,C=B^255;f=d.data[a];n=b.data[a];b.data[a]=(n>=f?n*B+f*C:f*p+n*u)/255|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(n>=f?n*B+f*C:f*p+n*u)/255|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(n>=f?n*B+f*C:f*p+n*u)/255|0;b.data[a+3]=e}}};k.darkenOntoOpaqueFusionWithOpaqueLayerMasked=
function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=B>=u?(B*p+u*e)/255|0:B;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=B>=u?(B*p+u*e)/255|0:B;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=B>=u?(B*p+u*e)/255|0:B}}};k.darkenOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=C>=B?(C*u+B*p)/255|0:C;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=C>=B?(C*u+B*p)/255|0:C;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=C>=B?(C*u+B*p)/255|0:C}}};k.darkenOntoTransparentFusionWithOpaqueLayerMasked=
function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*(p^255)/u|0,C=B^255,A=p*(e^255)/u|0,I=A^255;e=d.data[h];p=b.data[h];b.data[h]=(p>=e?p*A+e*I:e*B+p*C)/255|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(p>=e?p*A+e*I:e*B+p*C)/255|0;e=d.data[h+2];p=b.data[h+
2];b.data[h+2]=(p>=e?p*A+e*I:e*B+p*C)/255|0;b.data[h+3]=u}}};k.darkenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*(u^255)/B|0,A=C^255,I=u*(p^255)/B|0,O=I^255;p=d.data[c];u=b.data[c];b.data[c]=
(u>=p?u*I+p*O:p*C+u*A)/255|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(u>=p?u*I+p*O:p*C+u*A)/255|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(u>=p?u*I+p*O:p*C+u*A)/255|0;b.data[c+3]=B}}};k.dodgeOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(e*f+c*(255==n?255:Math.min(255,255*e/(n^
255)|0)))/255|0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(e*f+c*(255==n?255:Math.min(255,255*e/(n^255)|0)))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=(e*f+c*(255==n?255:Math.min(255,255*e/(n^255)|0)))/255|0}}};k.dodgeOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=
(p*n+f*(255==e?255:Math.min(255,255*p/(e^255)|0)))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(p*n+f*(255==e?255:Math.min(255,255*p/(e^255)|0)))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(p*n+f*(255==e?255:Math.min(255,255*p/(e^255)|0)))/255|0}}};k.dodgeOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=
c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*p+f*u+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*p+f*u+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*p+f*u+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/n|0;b.data[a+3]=n}}};k.dodgeOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(f*u+n*B+p*(255==f?255:Math.min(255,255*n/(f^255)|0)))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(f*u+n*B+p*(255==f?255:Math.min(255,255*n/(f^255)|0)))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(f*u+n*B+p*(255==f?255:Math.min(255,255*n/(f^255)|0)))/e|0;b.data[a+3]=e}}};k.dodgeOntoOpaqueFusionWithOpaqueLayerMasked=
function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=(B*p+e*(255==u?255:Math.min(255,255*B/(u^255)|0)))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(B*p+e*(255==u?255:Math.min(255,255*B/(u^255)|0)))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+
2]=(B*p+e*(255==u?255:Math.min(255,255*B/(u^255)|0)))/255|0}}};k.dodgeOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(C*u+p*(255==B?255:Math.min(255,255*C/(B^255)|0)))/255|0;B=d.data[c+1];
C=b.data[c+1];b.data[c+1]=(C*u+p*(255==B?255:Math.min(255,255*C/(B^255)|0)))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=(C*u+p*(255==B?255:Math.min(255,255*C/(B^255)|0)))/255|0}}};k.dodgeOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+
3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(e*C+p*A+B*(255==e?255:Math.min(255,255*p/(e^255)|0)))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(e*C+p*A+B*(255==e?255:Math.min(255,255*p/(e^255)|0)))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(e*C+p*A+B*(255==e?255:Math.min(255,255*p/(e^255)|0)))/u|0;b.data[h+3]=u}}};k.dodgeOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*
(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(p*A+u*I+C*(255==p?255:Math.min(255,255*u/(p^255)|0)))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(p*A+u*I+C*(255==p?255:Math.min(255,255*u/(p^255)|0)))/B|0;p=d.data[c+2];u=b.data[c+
2];b.data[c+2]=(p*A+u*I+C*(255==p?255:Math.min(255,255*u/(p^255)|0)))/B|0;b.data[c+3]=B}}};k.burnOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(e*f+c*(0==n?0:Math.min(255,255*(e^255)/n)^255))/255|0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(e*f+c*(0==n?0:Math.min(255,255*(e^255)/
n)^255))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=(e*f+c*(0==n?0:Math.min(255,255*(e^255)/n)^255))/255|0}}};k.burnOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=(p*n+f*(0==e?0:Math.min(255,255*(p^255)/e)^255))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(p*n+
f*(0==e?0:Math.min(255,255*(p^255)/e)^255))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(p*n+f*(0==e?0:Math.min(255,255*(p^255)/e)^255))/255|0}}};k.burnOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*
p+f*u+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*p+f*u+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*p+f*u+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/n|0;b.data[a+3]=n}}};k.burnOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=
b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(f*u+n*B+p*(0==f?0:Math.min(255,255*(n^255)/f)^255))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(f*u+n*B+p*(0==f?0:Math.min(255,255*(n^255)/f)^255))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(f*u+n*B+p*(0==f?0:Math.min(255,255*(n^255)/f)^255))/e|0;b.data[a+3]=e}}};k.burnOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-
q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=(B*p+e*(0==u?0:Math.min(255,255*(B^255)/u)^255))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(B*p+e*(0==u?0:Math.min(255,255*(B^255)/u)^255))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=(B*p+e*(0==u?0:Math.min(255,255*(B^255)/u)^255))/255|0}}};k.burnOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(C*u+p*(0==B?0:Math.min(255,255*(C^255)/B)^255))/255|0;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=(C*u+p*(0==B?0:Math.min(255,255*(C^255)/B)^255))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+
2]=(C*u+p*(0==B?0:Math.min(255,255*(C^255)/B)^255))/255|0}}};k.burnOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(e*C+p*A+
B*(0==e?0:Math.min(255,255*(p^255)/e)^255))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(e*C+p*A+B*(0==e?0:Math.min(255,255*(p^255)/e)^255))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(e*C+p*A+B*(0==e?0:Math.min(255,255*(p^255)/e)^255))/u|0;b.data[h+3]=u}}};k.burnOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=
0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(p*A+u*I+C*(0==p?0:Math.min(255,255*(u^255)/p)^255))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(p*A+u*I+C*(0==p?0:Math.min(255,255*(u^255)/p)^255))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(p*A+u*I+C*(0==p?0:Math.min(255,255*(u^255)/p)^255))/B|0;b.data[c+3]=B}}};k.overlayOntoOpaqueFusionWithOpaqueLayer=function(b,
d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=e?2*c*n*e/255:c*(2*(n^255)*(e^255)/255^255)))/255|0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=e?2*c*n*e/255:c*(2*(n^255)*(e^255)/255^255)))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+(127>=e?2*c*n*e/255:c*(2*(n^255)*(e^255)/255^255)))/255|0}}};k.overlayOntoOpaqueFusionWithTransparentLayer=
function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=(n*p+(127>=p?2*f*e*p/255:f*(2*(e^255)*(p^255)/255^255)))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(n*p+(127>=p?2*f*e*p/255:f*(2*(e^255)*(p^255)/255^255)))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(n*p+(127>=p?2*f*e*p/255:f*(2*(e^255)*(p^255)/255^
255)))/255|0}}};k.overlayOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(p*c+u*f+(127>=f?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(p*c+u*f+(127>=f?2*e*c*f/255:
e*(2*(c^255)*(f^255)/255^255)))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(p*c+u*f+(127>=f?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/n|0;b.data[a+3]=n}}};k.overlayOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];
n=b.data[a];b.data[a]=(u*f+B*n+(127>=n?2*p*f*n/255:p*(2*(f^255)*(n^255)/255^255)))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(u*f+B*n+(127>=n?2*p*f*n/255:p*(2*(f^255)*(n^255)/255^255)))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(u*f+B*n+(127>=n?2*p*f*n/255:p*(2*(f^255)*(n^255)/255^255)))/e|0;b.data[a+3]=e}}};k.overlayOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=(p*B+(127>=B?2*e*u*B/255:e*(2*(u^255)*(B^255)/255^255)))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(p*B+(127>=B?2*e*u*B/255:e*(2*(u^255)*(B^255)/255^255)))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=(p*B+(127>=B?2*e*u*B/255:e*(2*(u^255)*(B^255)/255^255)))/255|0}}};k.overlayOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,
a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(u*C+(127>=C?2*p*B*C/255:p*(2*(B^255)*(C^255)/255^255)))/255|0;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+(127>=C?2*p*B*C/255:p*(2*(B^255)*(C^255)/255^255)))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+
2]=(u*C+(127>=C?2*p*B*C/255:p*(2*(B^255)*(C^255)/255^255)))/255|0}}};k.overlayOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=
(C*e+A*p+(127>=p?2*B*e*p/255:B*(2*(e^255)*(p^255)/255^255)))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(C*e+A*p+(127>=p?2*B*e*p/255:B*(2*(e^255)*(p^255)/255^255)))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(C*e+A*p+(127>=p?2*B*e*p/255:B*(2*(e^255)*(p^255)/255^255)))/u|0;b.data[h+3]=u}}};k.overlayOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|
0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(A*p+I*u+(127>=u?2*C*p*u/255:C*(2*(p^255)*(u^255)/255^255)))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(A*p+I*u+(127>=u?2*C*p*u/255:C*(2*(p^255)*(u^255)/255^255)))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(A*p+I*u+(127>=u?2*C*p*u/255:C*(2*(p^255)*(u^255)/255^255)))/
B|0;b.data[c+3]=B}}};k.hardLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=n?2*c*n*e/255:c*(2*(n^255)*(e^255)/255^255)))/255|0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=n?2*c*n*e/255:c*(2*(n^255)*(e^255)/255^255)))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+
2]=(f*e+(127>=n?2*c*n*e/255:c*(2*(n^255)*(e^255)/255^255)))/255|0}}};k.hardLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=(n*p+(127>=e?2*f*e*p/255:f*(2*(e^255)*(p^255)/255^255)))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(n*p+(127>=e?2*f*e*p/255:f*(2*(e^255)*
(p^255)/255^255)))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(n*p+(127>=e?2*f*e*p/255:f*(2*(e^255)*(p^255)/255^255)))/255|0}}};k.hardLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(p*c+u*f+(127>=
c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(p*c+u*f+(127>=c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(p*c+u*f+(127>=c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/n|0;b.data[a+3]=n}}};k.hardLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+
3]*w/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(u*f+B*n+(127>=f?2*p*f*n/255:p*(2*(f^255)*(n^255)/255^255)))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(u*f+B*n+(127>=f?2*p*f*n/255:p*(2*(f^255)*(n^255)/255^255)))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(u*f+B*n+(127>=f?2*p*f*n/255:p*(2*(f^255)*(n^255)/255^255)))/e|0;b.data[a+3]=e}}};k.hardLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=
a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=(p*B+(127>=u?2*e*u*B/255:e*(2*(u^255)*(B^255)/255^255)))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(p*B+(127>=u?2*e*u*B/255:e*(2*(u^255)*(B^255)/255^255)))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=(p*B+
(127>=u?2*e*u*B/255:e*(2*(u^255)*(B^255)/255^255)))/255|0}}};k.hardLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(u*C+(127>=B?2*p*B*C/255:p*(2*(B^255)*(C^255)/255^255)))/255|0;B=d.data[c+
1];C=b.data[c+1];b.data[c+1]=(u*C+(127>=B?2*p*B*C/255:p*(2*(B^255)*(C^255)/255^255)))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+(127>=B?2*p*B*C/255:p*(2*(B^255)*(C^255)/255^255)))/255|0}}};k.hardLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|
0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(C*e+A*p+(127>=e?2*B*e*p/255:B*(2*(e^255)*(p^255)/255^255)))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(C*e+A*p+(127>=e?2*B*e*p/255:B*(2*(e^255)*(p^255)/255^255)))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(C*e+A*p+(127>=e?2*B*e*p/255:B*(2*(e^255)*(p^255)/255^255)))/u|0;b.data[h+3]=u}}};k.hardLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=
a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(A*p+I*u+(127>=p?2*C*p*u/255:C*(2*(p^255)*(u^255)/255^255)))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(A*p+I*u+(127>=p?2*C*p*u/255:C*(2*(p^
255)*(u^255)/255^255)))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(A*p+I*u+(127>=p?2*C*p*u/255:C*(2*(p^255)*(u^255)/255^255)))/B|0;b.data[c+3]=B}}};k.softLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(f*e+c*(127>=n?((2*n-255)*v[e]/255|0)+e:((2*n-255)*E[e]/255|0)+e))/255|
0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+c*(127>=n?((2*n-255)*v[e]/255|0)+e:((2*n-255)*E[e]/255|0)+e))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+c*(127>=n?((2*n-255)*v[e]/255|0)+e:((2*n-255)*E[e]/255|0)+e))/255|0}}};k.softLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=f^255;var e=d.data[a];var p=
b.data[a];b.data[a]=(n*p+f*(127>=e?((2*e-255)*v[p]/255|0)+p:((2*e-255)*E[p]/255|0)+p))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(n*p+f*(127>=e?((2*e-255)*v[p]/255|0)+p:((2*e-255)*E[p]/255|0)+p))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(n*p+f*(127>=e?((2*e-255)*v[p]/255|0)+p:((2*e-255)*E[p]/255|0)+p))/255|0}}};k.softLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=
q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(p*c+u*f+(127>=c?e*(((2*c-255)*v[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(p*c+u*f+(127>=c?e*(((2*c-255)*v[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(p*c+u*f+(127>=c?e*(((2*c-255)*v[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/n|0;b.data[a+
3]=n}}};k.softLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(u*f+B*n+(127>=f?p*(((2*f-255)*v[n]/255|0)+n):p*(((2*f-255)*E[n]/255|0)+n)))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(u*
f+B*n+(127>=f?p*(((2*f-255)*v[n]/255|0)+n):p*(((2*f-255)*E[n]/255|0)+n)))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(u*f+B*n+(127>=f?p*(((2*f-255)*v[n]/255|0)+n):p*(((2*f-255)*E[n]/255|0)+n)))/e|0;b.data[a+3]=e}}};k.softLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*
m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=(p*B+e*(127>=u?((2*u-255)*v[B]/255|0)+B:((2*u-255)*E[B]/255|0)+B))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(p*B+e*(127>=u?((2*u-255)*v[B]/255|0)+B:((2*u-255)*E[B]/255|0)+B))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=(p*B+e*(127>=u?((2*u-255)*v[B]/255|0)+B:((2*u-255)*E[B]/255|0)+B))/255|0}}};k.softLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-
r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(u*C+p*(127>=B?((2*B-255)*v[C]/255|0)+C:((2*B-255)*E[C]/255|0)+C))/255|0;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+p*(127>=B?((2*B-255)*v[C]/255|0)+C:((2*B-255)*E[C]/255|0)+C))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+p*(127>=B?((2*B-255)*v[C]/
255|0)+C:((2*B-255)*E[C]/255|0)+C))/255|0}}};k.softLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(C*e+A*p+(127>=e?B*
(((2*e-255)*v[p]/255|0)+p):B*(((2*e-255)*E[p]/255|0)+p)))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(C*e+A*p+(127>=e?B*(((2*e-255)*v[p]/255|0)+p):B*(((2*e-255)*E[p]/255|0)+p)))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(C*e+A*p+(127>=e?B*(((2*e-255)*v[p]/255|0)+p):B*(((2*e-255)*E[p]/255|0)+p)))/u|0;b.data[h+3]=u}}};k.softLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-
r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(A*p+I*u+(127>=p?C*(((2*p-255)*v[u]/255|0)+u):C*(((2*p-255)*E[u]/255|0)+u)))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(A*p+I*u+(127>=p?C*(((2*p-255)*v[u]/255|0)+u):C*(((2*p-255)*E[u]/255|0)+u)))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+
2]=(A*p+I*u+(127>=p?C*(((2*p-255)*v[u]/255|0)+u):C*(((2*p-255)*E[u]/255|0)+u)))/B|0;b.data[c+3]=B}}};k.vividLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=n?c*(0==n?0:255-Math.min(255,255*(255-e)/(2*n)|0)):c*(255==n?255:Math.min(255,255*e/(2*(255-n))|0))))/255|0;
n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=n?c*(0==n?0:255-Math.min(255,255*(255-e)/(2*n)|0)):c*(255==n?255:Math.min(255,255*e/(2*(255-n))|0))))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+(127>=n?c*(0==n?0:255-Math.min(255,255*(255-e)/(2*n)|0)):c*(255==n?255:Math.min(255,255*e/(2*(255-n))|0))))/255|0}}};k.vividLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=
r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=(n*p+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-p)/(2*e)|0)):f*(255==e?255:Math.min(255,255*p/(2*(255-e))|0))))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(n*p+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-p)/(2*e)|0)):f*(255==e?255:Math.min(255,255*p/(2*(255-e))|0))))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(n*p+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-p)/(2*e)|0)):f*(255==
e?255:Math.min(255,255*p/(2*(255-e))|0))))/255|0}}};k.vividLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(p*c+u*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,
255*f/(2*(255-c))|0))))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(p*c+u*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,255*f/(2*(255-c))|0))))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(p*c+u*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,255*f/(2*(255-c))|0))))/n|0;b.data[a+3]=n}}};k.vividLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(u*f+B*n+(127>=f?p*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):p*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(u*f+B*n+(127>=f?p*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):p*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/e|0;f=d.data[a+
2];n=b.data[a+2];b.data[a+2]=(u*f+B*n+(127>=f?p*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):p*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/e|0;b.data[a+3]=e}}};k.vividLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];
var B=b.data[h];b.data[h]=(p*B+(127>=u?e*(0==u?0:255-Math.min(255,255*(255-B)/(2*u)|0)):e*(255==u?255:Math.min(255,255*B/(2*(255-u))|0))))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(p*B+(127>=u?e*(0==u?0:255-Math.min(255,255*(255-B)/(2*u)|0)):e*(255==u?255:Math.min(255,255*B/(2*(255-u))|0))))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=(p*B+(127>=u?e*(0==u?0:255-Math.min(255,255*(255-B)/(2*u)|0)):e*(255==u?255:Math.min(255,255*B/(2*(255-u))|0))))/255|0}}};k.vividLightOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(u*C+(127>=B?p*(0==B?0:255-Math.min(255,255*(255-C)/(2*B)|0)):p*(255==B?255:Math.min(255,255*C/(2*(255-B))|0))))/255|0;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+(127>=B?p*(0==B?0:255-
Math.min(255,255*(255-C)/(2*B)|0)):p*(255==B?255:Math.min(255,255*C/(2*(255-B))|0))))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+(127>=B?p*(0==B?0:255-Math.min(255,255*(255-C)/(2*B)|0)):p*(255==B?255:Math.min(255,255*C/(2*(255-B))|0))))/255|0}}};k.vividLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=
0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(C*e+A*p+(127>=e?B*(0==e?0:255-Math.min(255,255*(255-p)/(2*e)|0)):B*(255==e?255:Math.min(255,255*p/(2*(255-e))|0))))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(C*e+A*p+(127>=e?B*(0==e?0:255-Math.min(255,255*(255-p)/(2*e)|0)):B*(255==e?255:Math.min(255,255*p/(2*(255-e))|0))))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+
2]=(C*e+A*p+(127>=e?B*(0==e?0:255-Math.min(255,255*(255-p)/(2*e)|0)):B*(255==e?255:Math.min(255,255*p/(2*(255-e))|0))))/u|0;b.data[h+3]=u}}};k.vividLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|
0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(A*p+I*u+(127>=p?C*(0==p?0:255-Math.min(255,255*(255-u)/(2*p)|0)):C*(255==p?255:Math.min(255,255*u/(2*(255-p))|0))))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(A*p+I*u+(127>=p?C*(0==p?0:255-Math.min(255,255*(255-u)/(2*p)|0)):C*(255==p?255:Math.min(255,255*u/(2*(255-p))|0))))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(A*p+I*u+(127>=p?C*(0==p?0:255-Math.min(255,255*(255-u)/(2*p)|0)):C*(255==p?255:Math.min(255,
255*u/(2*(255-p))|0))))/B|0;b.data[c+3]=B}}};k.linearLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=b.data[a];b.data[a]=(f*n+c*Math.min(255,Math.max(0,n+2*d.data[a]-255)))/255|0;n=b.data[a+1];b.data[a+1]=(f*n+c*Math.min(255,Math.max(0,n+2*d.data[a+1]-255)))/255|0;n=b.data[a+2];b.data[a+2]=(f*n+c*Math.min(255,
Math.max(0,n+2*d.data[a+2]-255)))/255|0}}};k.linearLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=f^255;var e=b.data[a];b.data[a]=(n*e+f*Math.min(255,Math.max(0,e+2*d.data[a]-255)))/255|0;e=b.data[a+1];b.data[a+1]=(n*e+f*Math.min(255,Math.max(0,e+2*d.data[a+1]-255)))/255|0;e=b.data[a+2];b.data[a+2]=(n*e+f*Math.min(255,
Math.max(0,e+2*d.data[a+2]-255)))/255|0}}};k.linearLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(p*c+u*f+e*Math.min(255,Math.max(0,f+2*c-255)))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(p*c+u*f+
e*Math.min(255,Math.max(0,f+2*c-255)))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(p*c+u*f+e*Math.min(255,Math.max(0,f+2*c-255)))/n|0;b.data[a+3]=n}}};k.linearLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];
n=b.data[a];b.data[a]=(u*f+B*n+p*Math.min(255,Math.max(0,n+2*f-255)))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(u*f+B*n+p*Math.min(255,Math.max(0,n+2*f-255)))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(u*f+B*n+p*Math.min(255,Math.max(0,n+2*f-255)))/e|0;b.data[a+3]=e}}};k.linearLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,
h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=b.data[h];b.data[h]=(p*u+e*Math.min(255,Math.max(0,u+2*d.data[h]-255)))/255|0;u=b.data[h+1];b.data[h+1]=(p*u+e*Math.min(255,Math.max(0,u+2*d.data[h+1]-255)))/255|0;u=b.data[h+2];b.data[h+2]=(p*u+e*Math.min(255,Math.max(0,u+2*d.data[h+2]-255)))/255|0}}};k.linearLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,
a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=p^255;var B=b.data[c];b.data[c]=(u*B+p*Math.min(255,Math.max(0,B+2*d.data[c]-255)))/255|0;B=b.data[c+1];b.data[c+1]=(u*B+p*Math.min(255,Math.max(0,B+2*d.data[c+1]-255)))/255|0;B=b.data[c+2];b.data[c+2]=(u*B+p*Math.min(255,Math.max(0,B+2*d.data[c+2]-255)))/255|0}}};k.linearLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,
w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(C*e+A*p+B*Math.min(255,Math.max(0,p+2*e-255)))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(C*e+A*p+B*Math.min(255,Math.max(0,p+2*
e-255)))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(C*e+A*p+B*Math.min(255,Math.max(0,p+2*e-255)))/u|0;b.data[h+3]=u}}};k.linearLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=
p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(A*p+I*u+C*Math.min(255,Math.max(0,u+2*p-255)))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(A*p+I*u+C*Math.min(255,Math.max(0,u+2*p-255)))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(A*p+I*u+C*Math.min(255,Math.max(0,u+2*p-255)))/B|0;b.data[c+3]=B}}};k.pinLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=
0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(f*e+c*(e>=2*n?2*n:e<=2*n-255?2*n-255:e))/255|0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+c*(e>=2*n?2*n:e<=2*n-255?2*n-255:e))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+c*(e>=2*n?2*n:e<=2*n-255?2*n-255:e))/255|0}}};k.pinLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=
0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=(n*p+f*(p>=2*e?2*e:p<=2*e-255?2*e-255:p))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(n*p+f*(p>=2*e?2*e:p<=2*e-255?2*e-255:p))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(n*p+f*(p>=2*e?2*e:p<=2*e-255?2*e-255:p))/255|0}}};k.pinLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,
a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(p*c+u*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(p*c+u*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(p*c+u*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/n|0;b.data[a+3]=n}}};k.pinLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=
a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(u*f+B*n+p*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(u*f+B*n+p*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(u*f+B*n+p*(n>=2*f?2*f:n<=2*f-
255?2*f-255:n))/e|0;b.data[a+3]=e}}};k.pinLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=(p*B+e*(B>=2*u?2*u:B<=2*u-255?2*u-255:B))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(p*B+e*(B>=2*u?
2*u:B<=2*u-255?2*u-255:B))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=(p*B+e*(B>=2*u?2*u:B<=2*u-255?2*u-255:B))/255|0}}};k.pinLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(u*C+p*
(C>=2*B?2*B:C<=2*B-255?2*B-255:C))/255|0;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+p*(C>=2*B?2*B:C<=2*B-255?2*B-255:C))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+p*(C>=2*B?2*B:C<=2*B-255?2*B-255:C))/255|0}}};k.pinLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+
3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(C*e+A*p+B*(p>=2*e?2*e:p<=2*e-255?2*e-255:p))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(C*e+A*p+B*(p>=2*e?2*e:p<=2*e-255?2*e-255:p))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(C*e+A*p+B*(p>=2*e?2*e:p<=2*e-255?2*e-255:p))/u|0;b.data[h+3]=u}}};k.pinLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|
0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(A*p+I*u+C*(u>=2*p?2*p:u<=2*p-255?2*p-255:u))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(A*p+I*u+C*(u>=2*p?2*p:u<=2*p-255?2*p-255:u))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+
2]=(A*p+I*u+C*(u>=2*p?2*p:u<=2*p-255?2*p-255:u))/B|0;b.data[c+3]=B}}};k.passthroughOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3],n=w/100,e=1-n,p=f*n+255*e;b.data[a]=(d.data[a]*f*n+255*b.data[a]*e)/p|0;b.data[a+1]=(d.data[a+1]*f*n+255*b.data[a+1]*e)/p|0;b.data[a+2]=(d.data[a+2]*f*n+255*b.data[a+2]*e)/p|0;b.data[a+3]=p}};k.passthroughOntoOpaqueFusionWithOpaqueLayer=
k.passthroughOntoOpaqueFusionWithTransparentLayer;k.passthroughOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3],n=b.data[a+3],e=w/100,p=1-e,u=f*e+n*p;b.data[a]=(d.data[a]*f*e+b.data[a]*n*p)/u|0;b.data[a+1]=(d.data[a+1]*f*e+b.data[a+1]*n*p)/u|0;b.data[a+2]=(d.data[a+2]*f*e+b.data[a+2]*n*p)/u|0;b.data[a+3]=u}};k.passthroughOntoTransparentFusionWithOpaqueLayer=
k.passthroughOntoTransparentFusionWithTransparentLayer;k.passthroughOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3],u=m.data[a]*w/25500,B=1-u,C=p*u+255*B;b.data[c]=(d.data[c]*p*u+255*b.data[c]*B)/C|0;b.data[c+1]=(d.data[c+1]*p*u+255*b.data[c+1]*B)/C|0;b.data[c+2]=(d.data[c+
2]*p*u+255*b.data[c+2]*B)/C|0;b.data[c+3]=C}};k.passthroughOntoOpaqueFusionWithOpaqueLayerMasked=k.passthroughOntoOpaqueFusionWithTransparentLayerMasked;k.passthroughOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3],u=b.data[c+3],B=m.data[a]*w/25500,C=1-B,A=p*B+u*C;
b.data[c]=(d.data[c]*p*B+b.data[c]*u*C)/A|0;b.data[c+1]=(d.data[c+1]*p*B+b.data[c+1]*u*C)/A|0;b.data[c+2]=(d.data[c+2]*p*B+b.data[c+2]*u*C)/A|0;b.data[c+3]=A}};k.passthroughOntoTransparentFusionWithOpaqueLayerMasked=k.passthroughOntoTransparentFusionWithTransparentLayerMasked;k.replaceOntoFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|
0;b.data[a]=d.data[a];b.data[a+1]=d.data[a+1];b.data[a+2]=d.data[a+2];b.data[a+3]=f}};k.replaceOntoFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];b.data[a]=d.data[a];b.data[a+1]=d.data[a+1];b.data[a+2]=d.data[a+2];b.data[a+3]=c}};k.replaceOntoFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-
r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*w/25500|0;b.data[c]=d.data[c];b.data[c+1]=d.data[c+1];b.data[c+2]=d.data[c+2];b.data[c+3]=p}};k.replaceOntoFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=
0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;b.data[h]=d.data[h];b.data[h+1]=d.data[h+1];b.data[h+2]=d.data[h+2];b.data[h+3]=e}};k.replaceAlphaOntoFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4)b.data[a+3]=d.data[a+3]*w/100|0};k.replaceAlphaOntoFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|
0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++)b.data[c+3]=d.data[c+3]*m.data[a]*w/25500|0};k.replaceAlphaOntoFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4)b.data[a+3]=d.data[a+3]};k.replaceAlphaOntoFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=
a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++)b.data[h+3]=d.data[h+3]*m.data[a]/255|0};k.upgradeMultiplyOfOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=d.data[a];var n=b.data[a];d.data[a]=f+Math.ceil((255-f)*n*c%65025/
(n*c));f=d.data[a+1];n=b.data[a+1];d.data[a+1]=f+Math.ceil((255-f)*n*c%65025/(n*c));f=d.data[a+2];n=b.data[a+2];d.data[a+2]=f+Math.ceil((255-f)*n*c%65025/(n*c))}}};k.upgradeMultiplyOfTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var n=d.data[a];var e=b.data[a];d.data[a]=n+Math.ceil((255-n)*e*f%65025/(e*f));n=d.data[a+1];e=b.data[a+1];d.data[a+
1]=n+Math.ceil((255-n)*e*f%65025/(e*f));n=d.data[a+2];e=b.data[a+2];d.data[a+2]=n+Math.ceil((255-n)*e*f%65025/(e*f))}}};k._normalFuseImageOntoImageAtPosition=function(b,d,w,a,m,q){w=a.getHeight()|0;var r=a.getWidth()|0,h=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;var c=4*(b.width-r)|0;m=b.offsetOfPixel(m,q)|0;for(q=0;q<w;q++,a+=h,m+=c)for(var f=0;f<r;f++,a+=4,m+=4){var n=d.data[a+3];if(n){var e=b.data[m+3];e=n+e-(n*e/255|0)|0;n=255*n/e|0;var p=255-n;b.data[m]=(d.data[a]*n+b.data[m]*p)/255|
0;b.data[m+1]=(d.data[a+1]*n+b.data[m+1]*p)/255|0;b.data[m+2]=(d.data[a+2]*n+b.data[m+2]*p)/255|0;b.data[m+3]=e}}};k.LM_NORMAL=0;k.LM_MULTIPLY=1;k.LM_ADD=2;k.LM_SCREEN=3;k.LM_LIGHTEN=4;k.LM_DARKEN=5;k.LM_SUBTRACT=6;k.LM_DODGE=7;k.LM_BURN=8;k.LM_OVERLAY=9;k.LM_HARDLIGHT=10;k.LM_SOFTLIGHT=11;k.LM_VIVIDLIGHT=12;k.LM_LINEARLIGHT=13;k.LM_PINLIGHT=14;k.LM_PASSTHROUGH=15;k.LM_MULTIPLY2=16;k.LM_FIRST=0;k.LM_LAST=16;k.LM_LAST_CHIBIPAINT=k.LM_PINLIGHT;k.BLEND_MODE_CODENAMES="normal multiply add screen lighten darken subtract dodge burn overlay hardLight softLight vividLight linearLight pinLight passthrough multiply2".split(" ");
k.BLEND_MODE_DISPLAY_NAMES="Normal;Multiply;Add;Screen;Lighten;Darken;Subtract;Dodge;Burn;Overlay;Hard Light;Soft Light;Vivid Light;Linear Light;Pin Light;Passthrough;Multiply".split(";");(function(){for(var b=0;256>b;b++){var d=b/255;v[b]=255*(d-d*d)|0}for(b=0;256>b;b++)d=b/255,E[b]=255*(Math.sqrt(d)-d)|0})();K.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPLayer.js":16}],6:[function(g,K,D){function y(b){return b&&b.__esModule?b:{default:b}}var k=y(g("./CPBlend.js")),
v=y(g("../util/CPRect.js")),E=y(g("./CPColorBmp.js"));y(g("./CPGreyBmp.js"));k.default.blendFunctionNameForParameters=function(b,d,w,a){w=k.default.BLEND_MODE_CODENAMES[w]+"Onto";w=b?w+"TransparentFusion":w+"OpaqueFusion";w=100==d?w+"WithOpaqueLayer":w+"WithTransparentLayer";a&&(w+="Masked");return w};k.default.fuseImageOntoImage=function(b,d,w,a,m,q,r){0>=a||(d=k.default.blendFunctionNameForParameters(d,a,m,null!=r),q=b.getBounds().clipTo(q),this[d](b,w,a,q,r))};k.default.normalFuseImageOntoImageAtPosition=
function(b,d,w,a,m){m=m.clone();w=new v.default(w,a,0,0);b.getBounds().clipSourceDest(m,w);this._normalFuseImageOntoImageAtPosition(b,d,100,m,w.left,w.top)};k.default.multiplyAlphaBy=function(b,d){if(100>d)if(0==d)b.clearAll(0);else{b=b.data;for(var w=3;w<b.length;w+=4)b[w]=Math.round(b[w]*d/100)}};k.default.multiplyAlphaByMask=function(b,d,w){d/=25500;for(var a=E.default.ALPHA_BYTE_OFFSET,m=0;a<b.data.length;a+=E.default.BYTES_PER_PIXEL,m++)b.data[a]=Math.round(b.data[a]*w.data[m]*d)};k.default.copyAndMultiplyAlphaBy=
function(b,d,w,a){if(100==w)b.copyBitmapRect(d,a.left,a.top,a);else if(0==w)b.clearRect(a,0);else for(b=d.data,d=0;d<b.length;d+=4)b[d]=b[d],b[d+1]=b[d+1],b[d+2]=b[d+2],b[d+3]=Math.round(b[d+3]*w/100)}},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],7:[function(g,K,D){function y(r){return r&&r.__esModule?r:{default:r}}function k(r,h){var c="undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!c){if(Array.isArray(r)||(c=v(r))||h&&r&&"number"===typeof r.length){c&&
(r=c);var f=0;h=function(){};return{s:h,n:function(){return f>=r.length?{done:!0}:{done:!1,value:r[f++]}},e:function(u){throw u;},f:h}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var n=!0,e=!1,p;return{s:function(){c=c.call(r)},n:function(){var u=c.next();n=u.done;return u},e:function(u){e=!0;p=u},f:function(){try{n||null==c.return||c.return()}finally{if(e)throw p;}}}}function v(r,h){if(r){if("string"===
typeof r)return E(r,h);var c=Object.prototype.toString.call(r).slice(8,-1);"Object"===c&&r.constructor&&(c=r.constructor.name);if("Map"===c||"Set"===c)return Array.from(r);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return E(r,h)}}function E(r,h){if(null==h||h>r.length)h=r.length;for(var c=0,f=Array(h);c<h;c++)f[c]=r[c];return f}function b(r,h,c){c?(this.isGroup=c instanceof w.default,this.image=c.image,this.mask=c.getEffectiveMask(),this.layer=c,this.blendMode=c.blendMode,
this.alpha=c.alpha,this.visible=c.visible):(this.isGroup=!0,this.layer=this.mask=this.image=null,this.blendMode=d.default.LM_PASSTHROUGH,this.alpha=100,this.visible=!0);this.dirtyRect=new q.default(0,0,r,h);this.layers=[];this.parent=null;this.clip=!1}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(r,h,c,f){function n(){return 0<O.length?O.pop():new a.default(h,c)}function e(G){if(0==G.layers.length)return null;if(1==G.layers.length&&(null==G.mask||null==G.layers[0].mask)){var H=
G.layers[0];H.alpha=Math.round(G.alpha*H.alpha/100);G.blendMode!=d.default.LM_PASSTHROUGH&&(H.blendMode=G.blendMode);H.mask=G.mask||H.mask;G.layer&&z.set(G.layer,H);return H}if(G.blendMode==d.default.LM_PASSTHROUGH&&100==G.alpha&&null==G.mask)return G.layers;G.image=n();return G}function p(G){var H=new b(h,c,G);z.set(G,H);return H}function u(G){if(0==G.getEffectiveAlpha())return null;for(var H=p(G),N=0;N<G.layers.length;N++){var J=G.layers[N],R=G.layers[N+1];if(J instanceof m.default&&R&&R.clip){R=
new b(h,c,null);R.blendMode=J.blendMode;R.alpha=100;R.clip=!0;R.addChildren(p(J));for(N+=1;N<G.layers.length;N++)if(G.layers[N].clip)0<G.layers[N].getEffectiveAlpha()&&R.addChildren(p(G.layers[N]));else break;0<J.getEffectiveAlpha()&&H.addChildren(e(R));--N}else J instanceof w.default?H.addChildren(u(J)):0<J.getEffectiveAlpha()&&H.addChildren(p(J))}return e(H)}function B(G,H){G&&(G.dirtyRect.union(H),B(G.parent,H))}function C(G){if(G.isGroup){G.image&&O.push(G.image);G=k(G.layers);var H;try{for(G.s();!(H=
G.n()).done;)C(H.value)}catch(N){G.e(N)}finally{G.f()}}}function A(G){if(!G||!G.isGroup)return G;var H=G.dirtyRect,N=!0,J=!0;G.blendMode==d.default.LM_PASSTHROUGH&&G.parent&&H.union(G.parent.dirtyRect);if(H.isEmpty())return G;if(G.blendMode==d.default.LM_PASSTHROUGH&&G.parent){N=!1;var R=G.image,fa=G.parent.image;H.getWidth()==R.width&&H.getHeight()==R.height?R.copyPixelsFrom(fa):d.default.replaceOntoFusionWithOpaqueLayer(R,fa,100,H)}for(R=0;R<G.layers.length;R++){var Y=A(G.layers[R]);if(N){N=G.image;
fa=Y.image;var sa=Y.alpha,ka=H;Y=Y.mask;if(100!=sa||Y||ka.getWidth()!=N.width||ka.getHeight()!=N.height){var Q="replaceOntoFusionWith";Q=100==sa?Q+"OpaqueLayer":Q+"TransparentLayer";Y&&(Q+="Masked");d.default[Q](N,fa,sa,ka,Y)}else N.copyPixelsFrom(fa);N=!1}else J=J&&G.image.hasAlphaInRect(H),d.default.fuseImageOntoImage(G.image,J,Y.image,Y.alpha,Y.blendMode,H,Y.mask)}G.clip&&(J=G.layers[0],100>J.alpha?J.mask?d.default.replaceAlphaOntoFusionWithTransparentLayerMasked(G.image,J.image,J.alpha,H,J.mask):
d.default.replaceAlphaOntoFusionWithTransparentLayer(G.image,J.image,J.alpha,H):J.mask?d.default.replaceAlphaOntoFusionWithOpaqueLayerMasked(G.image,J.image,100,H,J.mask):d.default.replaceAlphaOntoFusionWithOpaqueLayer(G.image,J.image,100,H));G.dirtyRect.makeEmpty();return G}var I,O=[],z=new Map;this.invalidateLayerRect=function(G,H){G=z.get(G);B(G,H)};this.buildTree=function(){if(!I){I=u(r);if(!I)I=new b(h,c,{image:n(),blendMode:d.default.LM_NORMAL,alpha:100,getEffectiveMask:function(){return null},
visible:!0}),I.image.clearAll(0);else if(Array.isArray(I)||f&&(100>I.alpha||I.mask)){var G=I;I=new b(h,c);I.blendMode=Array.isArray(G)?d.default.LM_NORMAL:G.blendMode;I.alpha=100;I.image=n();I.addChildren(G)}O=[]}};this.resetTree=function(){I&&(C(I),I=null,z.clear())};this.layerPropertyChanged=function(G,H){var N=z.get(G);N&&N.visible==G.visible&&N.alpha==G.alpha&&null==N.mask==(null==G.getEffectiveMask())&&N.blendMode==d.default.LM_PASSTHROUGH==(G.blendMode==d.default.LM_PASSTHROUGH)&&"clip"!==H?
(N.blendMode=G.blendMode,B(N,new q.default(0,0,h,c))):this.resetTree()};this.blendTree=function(){return A(I)}};var d=y(g("./CPBlend.js"));g("./CPBlendAdditional.js");y(g("./CPLayer.js"));var w=y(g("./CPLayerGroup.js")),a=y(g("./CPColorBmp.js")),m=y(g("./CPImageLayer.js")),q=y(g("../util/CPRect.js"));b.prototype.addChildren=function(r){var h=this;null!=r&&(Array.isArray(r)?(r.forEach(function(c){return c.parent=h}),this.layers=this.layers.concat(r)):(r.parent=this,this.layers.push(r)))};K.exports=
D.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"./CPLayer.js":16,"./CPLayerGroup.js":17}],8:[function(g,K,D){function y(k){for(var v in y.DEFAULTS)y.DEFAULTS.hasOwnProperty(v)&&(this[v]=y.DEFAULTS[v]);for(v in k)k.hasOwnProperty(v)&&(this[v]=k[v])}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.STROKE_MODE_FREEHAND=0;y.STROKE_MODE_LINE=1;y.STROKE_MODE_BEZIER=2;y.TIP_ROUND_PIXEL=0;y.TIP_ROUND_AA=1;y.TIP_ROUND_AIRBRUSH=
2;y.TIP_SQUARE_PIXEL=3;y.TIP_SQUARE_AA=4;y.BRUSH_MODE_PAINT=0;y.BRUSH_MODE_ERASE=1;y.BRUSH_MODE_DODGE=2;y.BRUSH_MODE_BURN=3;y.BRUSH_MODE_WATER=4;y.BRUSH_MODE_BLUR=5;y.BRUSH_MODE_SMUDGE=6;y.BRUSH_MODE_OIL=7;y.PAINT_MODE_OPACITY=0;y.PAINT_MODE_FLOW=1;y.DEFAULTS={isAA:!1,minSpacing:0,spacing:0,pressureSize:!0,pressureAlpha:!1,pressureScattering:!1,alphaScale:1,tip:y.TIP_ROUND_PIXEL,brushMode:y.BRUSH_MODE_PAINT,paintMode:y.PAINT_MODE_OPACITY,strokeMode:y.STROKE_MODE_FREEHAND,resat:1,bleed:0,texture:1,
size:0,curSize:0,alpha:0,curAlpha:0,scattering:0,curScattering:0,squeeze:0,curSqueeze:0,angle:Math.PI,curAngle:0,smoothing:0};y.prototype.applyPressure=function(k){this.curSize=this.pressureSize&&this.brushMode!=y.BRUSH_MODE_SMUDGE&&this.brushMode!=y.BRUSH_MODE_OIL?Math.max(.1,this.size*k):Math.max(.1,this.size);16<this.curSize&&(this.curSize=Math.floor(this.curSize));this.curSize=Math.min(this.curSize,400);this.curAlpha=this.pressureAlpha?Math.floor(this.alpha*Math.min(k,1)):this.alpha;this.curSqueeze=
this.squeeze;this.curAngle=this.angle;this.curScattering=this.scattering*this.curSize*(this.pressureScattering?k:1)};y.prototype.clone=function(){return new y(this)};K.exports=D.default},{}],9:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){function v(c){if(null!=w&&c.curSize==a&&c.curSqueeze==m&&c.curAngle==q&&c.tip==r)return w;switch(c.tip){case y.default.TIP_ROUND_AIRBRUSH:for(var f=E,n=Math.ceil(c.curSize),e=n/2,p=c.curSize/2*(c.curSize/2),u=1+c.curSqueeze*
k,B=Math.cos(c.curAngle),C=Math.sin(c.curAngle),A=0,I=0;I<n;I++)for(var O=0;O<n;O++){var z=O+.5-e,G=I+.5-e,H=(z*B-G*C)*u;z=G*B+z*C;H=H*H+z*z;H<=p?f[A++]=~~(255*(1-H/p)):f[A++]=0}break;case y.default.TIP_ROUND_AA:f=E;n=Math.ceil(c.curSize);e=n/2;p=c.curSize/2*(c.curSize/2);u=(c.curSize-2)/2*((c.curSize-2)/2);B=(c.curSize+2)/2*((c.curSize+2)/2);C=1+c.curSqueeze*k;A=Math.cos(c.curAngle);I=Math.sin(c.curAngle);for(H=O=0;H<n;H++)for(z=0;z<n;z++){var N=z+.5-e,J=H+.5-e,R=(N*A-J*I)*C;N=J*A+N*I;R=R*R+N*N;
if(R<=u)f[O++]=255;else if(R>B)f[O++]=0;else{for(var fa=G=0;4>fa;fa++)for(var Y=0;4>Y;Y++)N=z+.25*Y-e,J=H+.25*fa-e,R=(N*A-J*I)*C,N=J*A+N*I,R=R*R+N*N,R<=p&&(G+=1);f[O++]=Math.min(16*G,255)}}break;case y.default.TIP_ROUND_PIXEL:f=E;n=Math.ceil(c.curSize);e=n/2;p=c.curSize/2*(c.curSize/2);u=1+c.curSqueeze*k;B=Math.cos(c.curAngle);C=Math.sin(c.curAngle);for(I=A=0;I<n;I++)for(O=0;O<n;O++)z=O+.5-e,G=I+.5-e,H=(z*B-G*C)*u,z=G*B+z*C,H*H+z*z<=p?f[A++]=255:f[A++]=0;break;case y.default.TIP_SQUARE_AA:f=E;n=Math.ceil(c.curSize);
e=n/2;u=c.curSize*Math.sin(Math.PI/4);p=u/2/(1+c.curSqueeze*k);u/=2;B=p-1;C=u-1;A=p+1;I=u+1;O=Math.cos(c.curAngle);H=Math.sin(c.curAngle);for(G=z=0;G<n;G++)for(fa=0;fa<n;fa++){var sa=fa+.5-e,ka=G+.5-e;Y=Math.abs(sa*O-ka*H);sa=Math.abs(ka*O+sa*H);if(Y<=B&&sa<=C)f[z++]=255;else if(Y>A||sa>I)f[z++]=0;else{for(N=R=0;4>N;N++)for(J=0;4>J;J++)sa=fa+.25*J-e,ka=G+.25*N-e,Y=Math.abs(sa*O-ka*H),sa=Math.abs(ka*O+sa*H),Y<=p&&sa<=u&&R++;f[z++]=Math.min(16*R,255)}}break;case y.default.TIP_SQUARE_PIXEL:for(f=E,n=
Math.ceil(c.curSize),e=n/2,u=c.curSize*Math.sin(Math.PI/4),p=u/2/(1+c.curSqueeze*k),u/=2,B=Math.cos(c.curAngle),C=Math.sin(c.curAngle),I=A=0;I<n;I++)for(O=0;O<n;O++)H=O+.5-e,z=I+.5-e,G=Math.abs(z*B+H*C),Math.abs(H*B-z*C)<=p&&G<=u?f[A++]=255:f[A++]=0}w=E;a=c.curSize;r=c.tip;m=c.curSqueeze;q=c.curAngle;return E}var E=new Uint8Array(160801),b=new Uint8Array(161604),d=[new Float32Array(402),new Float32Array(402)],w=null,a,m,q,r,h=this;this.getDab=function(c,f,n){var e={alpha:n.curAlpha,width:Math.ceil(n.curSize),
height:Math.ceil(n.curSize)},p=n.isAA&&n.tip!=y.default.TIP_ROUND_PIXEL;p&&(e.width++,e.height++);var u=c-e.width/2+.5,B=f-e.height/2+.5;f=Math.floor(u);c=Math.floor(B);if(p){var C=u-f,A=B-c;u=v(n);B=Math.ceil(n.curSize);p=Math.ceil(n.curSize)+1;var I=(1-C)*(1-A),O=C*(1-A),z=C*A,G=(1-C)*A,H=0;C=0;A=d[0];var N=d[1],J;A.fill(0);for(var R=0;R<B;R++){for(J=N[0]=0;J<B;J++,H++,C++){var fa=u[H];b[C]=A[J]+fa*I+.5|0;A[J+1]+=fa*O;N[J]+=fa*G;N[J+1]=fa*z}b[C++]=A[J]+.5|0;J=A;A=N;N=J}for(u=0;u<p;u++,C++)b[C]=
A[u]+.5|0;e.brush=b}else e.brush=v(n);e.x=f;e.y=c;if(0<n.texture&&null!=this.texture)for(e.brush==E&&(b.set(E),e.brush=b),n=Math.floor(255*n.texture),f=h.texture,c=e.x%f.width,p=e.y%f.height,u=0,0>c&&(c+=f.width),0>p&&(p+=f.height),O=0;O<e.height;O++){B=p*f.width+c;I=p*f.width+f.width;for(z=0;z<e.width;z++)e.brush[u]=~~(e.brush[u]*(f.data[B]*n/255^255)/255),u++,B++,B==I&&(B-=f.width);p++;p==f.height&&(p=0)}return e};this.setTexture=function(c){this.texture=c}};var y=function(v){return v&&v.__esModule?
v:{default:v}}(g("./CPBrushInfo.js")),k=10;K.exports=D.default},{"./CPBrushInfo.js":8}],10:[function(g,K,D){function y(B){return B&&B.__esModule?B:{default:B}}function k(B){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},k(B)}function v(B,C){if("function"!==typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");
B.prototype=Object.create(C&&C.prototype,{constructor:{value:B,writable:!0,configurable:!0}});Object.defineProperty(B,"prototype",{writable:!1});C&&E(B,C)}function E(B,C){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,I){A.__proto__=I;return A};return E(B,C)}function b(B){var C=d();return function(){var A=w(B);if(C){var I=w(this).constructor;A=Reflect.construct(A,arguments,I)}else A=A.apply(this,arguments);if(!A||"object"!==k(A)&&"function"!==typeof A){if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");A=this}return A}}function d(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(B){return!1}}function w(B){w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)};return w(B)}
function a(B,C){if(!(B instanceof C))throw new TypeError("Cannot call a class as a function");}function m(B,C){for(var A=0;A<C.length;A++){var I=C[A];I.enumerable=I.enumerable||!1;I.configurable=!0;"value"in I&&(I.writable=!0);var O=Object,z=O.defineProperty;a:{var G=I.key;if("object"===k(G)&&null!==G){var H=G[Symbol.toPrimitive];if(void 0!==H){G=H.call(G,"string");if("object"!==k(G))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}G=String(G)}}G="symbol"===k(G)?G:String(G);
z.call(O,B,G,I)}}function q(B,C,A){C&&m(B.prototype,C);A&&m(B,A);Object.defineProperty(B,"prototype",{writable:!1});return B}function r(B){for(var C=0,A=0;A<B.length;A++)C+=B[A];return C/B.length}function h(B){for(var C=new p.default(0,0,0),A=0;A<B.length;A++){var I=B[A];C.r+=I.r;C.g+=I.g;C.b+=I.b}C.r/=B.length;C.g/=B.length;C.b/=B.length;return C}function c(B,C){var A=B.data;if(0<C.left)for(var I=C.top;I<C.bottom;I++){var O=I*B.width,z=O;O=A[O+C.left];for(var G=0;G<C.left;G++,z++)A[z]=O}if(C.right<
B.width)for(I=C.top;I<C.bottom;I++)for(z=I*B.width+C.right,O=A[z-1],G=C.right;G<B.width;G++,z++)A[z]=O;for(z=I=0;z<C.top;z++)for(O=C.top*B.width,G=0;G<B.width;G++,O++,I++)A[I]=A[O];I=C.bottom*B.width;for(z=C.bottom;z<B.width;z++)for(O=(C.bottom-1)*B.width,G=0;G<B.width;G++,O++,I++)A[I]=A[O]}Object.defineProperty(D,"__esModule",{value:!0});D.CPBrushToolWatercolor=D.CPBrushToolSmudge=D.CPBrushToolOil=D.CPBrushToolEraser=D.CPBrushToolDodge=D.CPBrushToolBurn=D.CPBrushToolBlur=D.CPBrushTool=void 0;var f=
y(g("./CPColorBmp.js")),n=y(g("./CPGreyBmp.js")),e=y(g("./CPBrushInfo.js")),p=y(g("../util/CPColorFloat.js"));g=D.CPBrushTool=function(){function B(C,A){a(this,B);this._strokeBuffer=C;this._strokedRegion=A;this.wantsOutputAsInput=!0}q(B,[{key:"paintDab",value:function(C,A,I,O,z,G,H){C=Math.max(1,Math.ceil(G.alpha*O.alphaScale));switch(O.paintMode){case e.default.PAINT_MODE_FLOW:this._paintFlow(z,A,G.brush,G.width,C);break;case e.default.PAINT_MODE_OPACITY:this._paintOpacity(z,A,G.brush,G.width,C)}}},
{key:"mergeOntoImage",value:function(C,A,I){var O=this._strokeBuffer.data,z=this._strokedRegion;A=A.data;var G=C.data,H=I>>16&255,N=I>>8&255;I&=255;var J=z.getWidth()|0,R=z.getHeight()|0,fa=this._strokeBuffer.offsetOfPixel(z.left,z.top);z=C.offsetOfPixel(z.left,z.top);var Y=this._strokeBuffer.width-J|0;C=(C.width-J)*f.default.BYTES_PER_PIXEL|0;for(var sa=0;sa<R;sa++,fa+=Y,z+=C)for(var ka=0;ka<J;ka++,fa++,z+=f.default.BYTES_PER_PIXEL){var Q=O[fa]/255+.5|0;if(0<Q){var ja=Q+A[z+f.default.ALPHA_BYTE_OFFSET]*
(255-Q)/255|0;Q=255*Q/ja|0;var ca=255-Q;G[z]=(H*Q+A[z]*ca)/255&255;G[z+1]=(N*Q+A[z+1]*ca)/255&255;G[z+2]=(I*Q+A[z+2]*ca)/255&255;G[z+3]=ja}}}},{key:"mergeOntoMask",value:function(C,A,I){var O=this._strokeBuffer.data,z=this._strokedRegion;A=A.data;var G=C.data,H=z.getWidth()|0,N=z.getHeight()|0,J=C.offsetOfPixel(z.left,z.top);z=this._strokeBuffer.offsetOfPixel(z.left,z.top);var R=this._strokeBuffer.width-H|0;C=C.width-H|0;for(var fa=0;fa<N;fa++,z+=R,J+=C)for(var Y=0;Y<H;Y++,z++,J++){var sa=O[z]/255|
0;0<sa&&(G[J]=(I*sa+A[J]*(255-sa))/255)}}},{key:"_paintFlow",value:function(C,A,I,O,z){var G=this._strokeBuffer.data;C=C.left+C.top*O;var H=this._strokeBuffer.offsetOfPixel(A.left,A.top),N=A.getHeight(),J=A.getWidth();O-=J;var R=this._strokeBuffer.width-J;this._strokedRegion.union(A);for(A=0;A<N;A++,C+=O,H+=R)for(var fa=0;fa<J;fa++,C++,H++){var Y=I[C]*z;0!=Y&&(G[H]=Math.min(65025,G[H]+(255-G[H]/255)*Y/255))}}},{key:"_paintOpacity",value:function(C,A,I,O,z){var G=this._strokeBuffer.data;C=C.left+C.top*
O;var H=this._strokeBuffer.offsetOfPixel(A.left,A.top),N=A.getWidth();O-=N;var J=this._strokeBuffer.width-N;z=Math.min(255,z);this._strokedRegion.union(A);for(var R=A.top;R<A.bottom;R++,C+=O,H+=J)for(var fa=0;fa<N;fa++,C++,H++)G[H]=Math.max(I[C]*z,G[H])}},{key:"beginStroke",value:function(){}},{key:"endStroke",value:function(){}}]);return B}();D.CPBrushToolEraser=function(B){function C(){a(this,C);return A.apply(this,arguments)}v(C,B);var A=b(C);q(C,[{key:"mergeOntoImage",value:function(I,O,z){z=
this._strokeBuffer.data;var G=this._strokedRegion;O=O.data;for(var H=I.data,N=G.top;N<G.bottom;N++)for(var J=I.offsetOfPixel(G.left,N)+f.default.ALPHA_BYTE_OFFSET,R=this._strokeBuffer.offsetOfPixel(G.left,N),fa=G.left;fa<G.right;fa++,J+=f.default.BYTES_PER_PIXEL){var Y=z[R++]/255|0;0<Y&&(H[J]=O[J]*(255-Y)/255)}}}]);return C}(g);D.CPBrushToolDodge=function(B){function C(){a(this,C);return A.apply(this,arguments)}v(C,B);var A=b(C);q(C,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;
var G=this._strokedRegion,H=G.getWidth(),N=G.getHeight(),J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=(I.width-H)*f.default.BYTES_PER_PIXEL,fa=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var Y=0;Y<N;Y++,G+=fa,J+=R)for(var sa=0;sa<H;sa++,G++,J+=f.default.BYTES_PER_PIXEL){var ka=z[G]/255|0;0<ka&&0!=O[J+f.default.ALPHA_BYTE_OFFSET]&&(ka=(ka+255)/255,I[J+f.default.RED_BYTE_OFFSET]=O[J+f.default.RED_BYTE_OFFSET]*ka,I[J+f.default.GREEN_BYTE_OFFSET]=O[J+f.default.GREEN_BYTE_OFFSET]*
ka,I[J+f.default.BLUE_BYTE_OFFSET]=O[J+f.default.BLUE_BYTE_OFFSET]*ka)}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),N=G.getHeight(),J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=I.width-H,fa=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var Y=0;Y<N;Y++,G+=fa,J+=R)for(var sa=0;sa<H;sa++,G++,J++){var ka=z[G]/255|0;0<ka&&(I[J]=Math.min((ka+255)/255*O[J],255))}}}]);return C}(g);D.CPBrushToolBurn=
function(B){function C(){a(this,C);return A.apply(this,arguments)}v(C,B);var A=b(C);q(C,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),N=G.getHeight(),J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=(I.width-H)*f.default.BYTES_PER_PIXEL,fa=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var Y=0;Y<N;Y++,G+=fa,J+=R)for(var sa=0;sa<H;sa++,G++,J+=f.default.BYTES_PER_PIXEL){var ka=z[G]/255|0;0<ka&&
0!=O[J+f.default.ALPHA_BYTE_OFFSET]&&(I[J+f.default.RED_BYTE_OFFSET]=O[J+f.default.RED_BYTE_OFFSET]-(260-O[J+f.default.RED_BYTE_OFFSET])*ka/255|0,I[J+f.default.GREEN_BYTE_OFFSET]=O[J+f.default.GREEN_BYTE_OFFSET]-(260-O[J+f.default.GREEN_BYTE_OFFSET])*ka/255|0,I[J+f.default.BLUE_BYTE_OFFSET]=O[J+f.default.BLUE_BYTE_OFFSET]-(260-O[J+f.default.BLUE_BYTE_OFFSET])*ka/255|0)}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),N=G.getHeight(),
J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=I.width-H,fa=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var Y=0;Y<N;Y++,G+=fa,J+=R)for(var sa=0;sa<H;sa++,G++,J++){var ka=z[G]/255|0;0<ka&&(I[J]=Math.max(O[J]-(260-O[J])*ka/255,0))}}}]);return C}(g);D.CPBrushToolBlur=function(B){function C(){a(this,C);return A.apply(this,arguments)}v(C,B);var A=b(C);q(C,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=O.data;
I=I.data;var N=G.getWidth(),J=O.width*f.default.BYTES_PER_PIXEL,R=O.offsetOfPixel(G.left,G.top),fa=this._strokeBuffer.offsetOfPixel(G.left,G.top),Y=(O.width-N)*f.default.BYTES_PER_PIXEL;N=this._strokeBuffer.width-N;for(var sa,ka,Q,ja,ca=function(Oa){sa+=H[Oa+f.default.RED_BYTE_OFFSET];ka+=H[Oa+f.default.GREEN_BYTE_OFFSET];Q+=H[Oa+f.default.BLUE_BYTE_OFFSET];ja+=H[Oa+f.default.ALPHA_BYTE_OFFSET]},ua=G.top;ua<G.bottom;ua++,R+=Y,fa+=N)for(var qa=G.left;qa<G.right;qa++,R+=f.default.BYTES_PER_PIXEL,fa++){var ya=
z[fa]/255|0;if(0<ya){ya=64+-63*ya/255|0;var ma=ya+4;sa=ya*H[R+f.default.RED_BYTE_OFFSET];ka=ya*H[R+f.default.GREEN_BYTE_OFFSET];Q=ya*H[R+f.default.BLUE_BYTE_OFFSET];ja=ya*H[R+f.default.ALPHA_BYTE_OFFSET];ca(0<ua?R-J:R);ca(ua<O.height-1?R+J:R);ca(0<qa?R-f.default.BYTES_PER_PIXEL:R);ca(qa<O.width-1?R+f.default.BYTES_PER_PIXEL:R);ja/=ma;sa/=ma;ka/=ma;Q/=ma;I[R+f.default.RED_BYTE_OFFSET]=sa|0;I[R+f.default.GREEN_BYTE_OFFSET]=ka|0;I[R+f.default.BLUE_BYTE_OFFSET]=Q|0;I[R+f.default.ALPHA_BYTE_OFFSET]=ja|
0}}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=O.data;I=I.data;var N=G.getWidth(),J=O.width,R=O.offsetOfPixel(G.left,G.top),fa=this._strokeBuffer.offsetOfPixel(G.left,G.top),Y=O.width-N;N=this._strokeBuffer.width-N;for(var sa,ka=G.top;ka<G.bottom;ka++,R+=Y,fa+=N)for(var Q=G.left;Q<G.right;Q++,R++,fa++){var ja=z[fa]/255|0;0<ja&&(sa=64+-63*ja/255|0,ja=sa+4,sa*=H[R],sa+=H[0<ka?R-J:R],sa+=H[ka<O.height-1?R+J:R],sa+=H[0<Q?R-1:R],sa+=H[Q<O.width-1?
R+1:R],I[R]=sa/ja|0)}}}]);return C}(g);g=function(B){function C(){a(this,C);return A.apply(this,arguments)}v(C,B);var A=b(C);q(C,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion;O=O.data;var H=I.data,N=this._strokeBuffer.offsetOfPixel(G.left,G.top),J=I.offsetOfPixel(G.left,G.top),R=G.getWidth()|0;G=G.getHeight()|0;var fa=this._strokeBuffer.width-R|0;I=(I.width-R)*f.default.BYTES_PER_PIXEL|0;for(var Y=0;Y<G;Y++,N+=fa,J+=I)for(var sa=0;sa<R;sa++,N++,J+=
f.default.BYTES_PER_PIXEL){var ka=z[N],Q=ka>>>24;if(0<Q){var ja=O[J+f.default.ALPHA_BYTE_OFFSET];ja=Q+ja-Q*ja/255|0;Q=255*Q/ja|0;var ca=255-Q;H[J]=((ka>>16&255)*Q+O[J]*ca)/255|0;H[J+1]=((ka>>8&255)*Q+O[J+1]*ca)/255|0;H[J+2]=((ka&255)*Q+O[J+2]*ca)/255|0;H[J+3]=ja}}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion;O=O.data;var H=I.data,N=this._strokeBuffer.offsetOfPixel(G.left,G.top),J=I.offsetOfPixel(G.left,G.top),R=G.getWidth()|0;G=G.getHeight()|0;var fa=
this._strokeBuffer.width-R|0;I=I.width-R|0;for(var Y=0;Y<G;Y++,N+=fa,J+=I)for(var sa=0;sa<R;sa++,N++,J++){var ka=z[N],Q=ka>>8;0<Q&&(H[J]=((ka&255)*Q+O[J]*(255-Q))/255|0)}}}]);return C}(g);var u=2/6;D.CPBrushToolWatercolor=function(B){function C(I,O){a(this,C);I=A.call(this,I,O);I.wantsOutputAsInput=!0;return I}v(C,B);var A=b(C);q(C,[{key:"_paintToColorStrokeBuffer",value:function(I,O,z,G,H,N){var J=this._strokeBuffer.data,R=O.getWidth(),fa=O.getHeight(),Y=this._strokeBuffer.width-R,sa=G-R;I=I.left+
I.top*G;G=this._strokeBuffer.offsetOfPixel(O.left,O.top);this._strokedRegion.union(O);for(O=0;O<fa;O++,I+=sa,G+=Y)for(var ka=0;ka<R;ka++,I++,G++){var Q=z[I]*H/255|0;if(0<Q){var ja=J[G],ca=ja>>>24;ca=Q+ca-Q*ca/255|0;Q=255-(255*Q/ca|0);J[G]=ca<<24|(N>>16&255)+((ja>>16&255)*Q-(N>>16&255)*Q)/255<<16|(N>>8&255)+((ja>>8&255)*Q-(N>>8&255)*Q)/255<<8|(N&255)+((ja&255)*Q-(N&255)*Q)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(I,O,z,G,H,N){var J=this._strokeBuffer.data;this._strokedRegion.union(O);
for(var R=O.top,fa=I.top;R<O.bottom;R++,fa++)for(var Y=I.left+fa*G,sa=this._strokeBuffer.offsetOfPixel(O.left,R),ka=O.left;ka<O.right;ka++,Y++,sa++){var Q=z[Y]*H/255|0;if(!(0>=Q)){var ja=J[sa],ca=ja>>8;ca=Q+ca-Q*ca/255|0;0<ca&&(Q=255-(255*Q/ca|0),J[sa]=ca<<8|N+((ja&255)*Q-N*Q)/255)}}}},{key:"beginStroke",value:function(){this._previousSamples=null}},{key:"paintDab",value:function(I,O,z,G,H,N,J){I=Math.max(1,N.alpha/4);var R=(O.left+O.right)/2,fa=(O.top+O.bottom)/2,Y=Math.max(1,Math.min(64,O.getWidth()*
u)),sa=Math.max(1,Math.min(64,O.getHeight()*u));if(z instanceof n.default){null==this._previousSamples&&(this._previousSamples=Array(50),this._previousSamples.fill(C._sampleGrey(z,R,fa,Y,sa)));var ka=r(this._previousSamples),Q=G.resat*G.resat;J=ka=ka*(1-Q)+(J&255)*Q;z=C._sampleGrey(z,R,fa,Y,sa);G=G.bleed;this._previousSamples.push(ka*(1-G)+z*G);this._previousSamples.shift();this._paintToGreyscaleStrokeBuffer(H,O,N.brush,N.width,I,Math.round(J))}else null==this._previousSamples&&(this._previousSamples=
Array(50),this._previousSamples.fill(C._sampleRGB(z,R,fa,Y,sa))),ka=h(this._previousSamples),ka.mixWith(p.default.createFromInt(J),G.resat*G.resat),J=ka.toInt(),ka.mixWith(C._sampleRGB(z,R,fa,Y,sa),G.bleed),this._previousSamples.push(ka),this._previousSamples.shift(),this._paintToColorStrokeBuffer(H,O,N.brush,N.width,I,J)}}],[{key:"_sampleGrey",value:function(I,O,z,G,H){O|=0;z|=0;for(var N=[{x:O,y:z}],J=.25;1.001>J;J+=.25)Array.prototype.push.apply(N,[{x:~~(O+J*G),y:z},{x:~~(O-J*G),y:z},{x:O,y:~~(z+
J*H)},{x:O,y:~~(z-J*H)},{x:~~(O+.7*J*G),y:~~(z+.7*J*H)},{x:~~(O+.7*J*G),y:~~(z-.7*J*H)},{x:~~(O-.7*J*G),y:~~(z+.7*J*H)},{x:~~(O-.7*J*G),y:~~(z-.7*J*H)}]);return r(N.map(function(R){return I.getPixel(R.x,R.y)}))}},{key:"_sampleRGB",value:function(I,O,z,G,H){O|=0;z|=0;for(var N=[{x:O,y:z}],J=.25;1.001>J;J+=.25)Array.prototype.push.apply(N,[{x:~~(O+J*G),y:z},{x:~~(O-J*G),y:z},{x:O,y:~~(z+J*H)},{x:O,y:~~(z-J*H)},{x:~~(O+.7*J*G),y:~~(z+.7*J*H)},{x:~~(O+.7*J*G),y:~~(z-.7*J*H)},{x:~~(O-.7*J*G),y:~~(z+.7*
J*H)},{x:~~(O-.7*J*G),y:~~(z-.7*J*H)}]);return h(N.map(function(R){return p.default.createFromInt(I.getPixel(R.x,R.y))}))}}]);return C}(g);D.CPBrushToolOil=function(B){function C(I,O){a(this,C);I=A.call(this,I,O);I.wantsOutputAsInput=!0;return I}v(C,B);var A=b(C);q(C,[{key:"_accumulatePaintFromMask",value:function(I,O,z,G){var H=this._brushBuffer.data,N=I.data,J=z.getWidth(),R=z.getHeight();O=O.left+O.top*this._brushBuffer.width;z=I.offsetOfPixel(z.left,z.top);var fa=this._brushBuffer.width-J;I=I.width-
J;if(!(0>=G))for(var Y=0;Y<R;Y++,O+=fa,z+=I)for(var sa=0;sa<J;sa++,O++,z++){var ka=N[z],Q=H[O],ja=Q>>8;ja=G+ja-G*ja/255|0;var ca=255-(255*G/ja|0);H[O]=ja<<8|ka+((Q&255)*ca-ka*ca)/255}}},{key:"_resaturateBrushWithGrey",value:function(I,O,z){if(!(0>=O)){var G=this._brushBuffer.data,H=I.getWidth(),N=I.getHeight();I=I.left+I.top*this._brushBuffer.width;for(var J=this._brushBuffer.width-H,R=0;R<N;R++,I+=J)for(var fa=0;fa<H;fa++,I++){var Y=G[I],sa=Y>>8;sa=O+sa-O*sa/255|0;var ka=255-(255*O/sa|0);G[I]=sa<<
8|z+((Y&255)*ka-z*ka)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(I,O,z,G,H){var N=this._strokeBuffer.data,J=this._brushBuffer.data,R=I.data;this._strokedRegion.union(z);for(var fa=z.top,Y=O.top;fa<z.bottom;fa++,Y++)for(var sa=this._brushBuffer.offsetOfPixel(O.left,Y),ka=this._strokeBuffer.offsetOfPixel(z.left,fa),Q=I.offsetOfPixel(z.left,fa),ja=z.left;ja<z.right;ja++,sa++,Q++,ka++){var ca=J[sa],ua=(ca>>8)*G[sa]*H/65025|0;0<ua&&(ua=255-ua,N[ka]=65280|(ca&255)+(R[Q]*ua-(ca&255)*ua)/
255)}}},{key:"_accumulatePaintFromImage",value:function(I,O,z,G){var H=this._brushBuffer.data,N=I.data,J=z.getWidth(),R=z.getHeight();O=O.left+O.top*this._brushBuffer.width;z=I.offsetOfPixel(z.left,z.top);var fa=this._brushBuffer.width-J;I=(I.width-J)*f.default.BYTES_PER_PIXEL;for(var Y=0;Y<R;Y++,O+=fa,z+=I)for(var sa=0;sa<J;sa++,O++,z+=f.default.BYTES_PER_PIXEL){var ka=N[z+f.default.ALPHA_BYTE_OFFSET]*G/255|0;if(0<ka){var Q=H[O],ja=Q>>>24;ja=ka+ja-ka*ja/255|0;ka=255-(255*ka/ja|0);var ca=N[z+f.default.RED_BYTE_OFFSET],
ua=N[z+f.default.GREEN_BYTE_OFFSET],qa=N[z+f.default.BLUE_BYTE_OFFSET];H[O]=ja<<24|ca+((Q>>16&255)*ka-ca*ka)/255<<16|ua+((Q>>8&255)*ka-ua*ka)/255<<8|qa+((Q&255)*ka-qa*ka)/255}}}},{key:"_resaturateBrushWithColor",value:function(I,O,z){if(!(0>=O)){var G=this._brushBuffer.data,H=I.getWidth(),N=I.getHeight();I=I.left+I.top*this._brushBuffer.width;for(var J=this._brushBuffer.width-H,R=0;R<N;R++,I+=J)for(var fa=0;fa<H;fa++,I++){var Y=G[I],sa=Y>>>24;sa=O+sa-O*sa/255|0;var ka=255-(255*O/sa|0);G[I]=sa<<24|
(z>>>16&255)+((Y>>>16&255)*ka-(z>>>16&255)*ka)/255<<16|(z>>>8&255)+((Y>>>8&255)*ka-(z>>>8&255)*ka)/255<<8|(z&255)+((Y&255)*ka-(z&255)*ka)/255}}}},{key:"_paintToColorStrokeBuffer",value:function(I,O,z,G,H){var N=this._strokeBuffer.data,J=this._brushBuffer.data,R=I.data;this._strokedRegion.union(z);for(var fa=z.top,Y=O.top;fa<z.bottom;fa++,Y++)for(var sa=this._brushBuffer.offsetOfPixel(O.left,Y),ka=this._strokeBuffer.offsetOfPixel(z.left,fa),Q=I.offsetOfPixel(z.left,fa),ja=z.left;ja<z.right;ja++,sa++,
Q+=f.default.BYTES_PER_PIXEL,ka++){var ca=J[sa],ua=(ca>>>24)*G[sa]*H/65025|0;if(0<ua){var qa=R[Q+f.default.ALPHA_BYTE_OFFSET];qa=ua+qa-ua*qa/255|0;ua=255-(255*ua/qa|0);N[ka]=qa<<24|(ca>>16&255)+(R[Q+f.default.RED_BYTE_OFFSET]*ua-(ca>>16&255)*ua)/255<<16|(ca>>8&255)+(R[Q+f.default.GREEN_BYTE_OFFSET]*ua-(ca>>8&255)*ua)/255<<8|(ca&255)+(R[Q+f.default.BLUE_BYTE_OFFSET]*ua-(ca&255)*ua)/255}}}},{key:"paintDab",value:function(I,O,z,G,H,N,J){I instanceof f.default?null==this._brushBuffer?(this._brushBuffer=
new n.default(N.width,N.height,32),this._accumulatePaintFromImage(z,H,O,255)):(this._resaturateBrushWithColor(H,~~(0>=G.resat?0:Math.max(1,G.resat*G.resat*255)),J&16777215),this._paintToColorStrokeBuffer(I,H,O,N.brush,N.alpha),this._accumulatePaintFromImage(z,H,O,~~(255*G.bleed))):null==this._brushBuffer?(this._brushBuffer=new n.default(N.width,N.height,16),this._accumulatePaintFromMask(z,H,O,255)):(this._resaturateBrushWithGrey(H,~~(0>=G.resat?0:Math.max(1,G.resat*G.resat*255)),J&255),this._paintToGreyscaleStrokeBuffer(I,
H,O,N.brush,N.alpha),this._accumulatePaintFromMask(z,H,O,~~(255*G.bleed)))}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return C}(g);D.CPBrushToolSmudge=function(B){function C(I,O){a(this,C);I=A.call(this,I,O);I._brushBuffer=null;I.wantsOutputAsInput=!0;I.noMergePhase=!0;return I}v(C,B);var A=b(C);q(C,[{key:"_sampleFromMask",value:function(I,O,z,G){var H=this._brushBuffer.data,N=O.getWidth(),J=O.getHeight(),R=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,
z.top);var fa=this._brushBuffer.width-N,Y=I.width-N,sa=255-G;if(255!=G){for(var ka=0;ka<J;ka++,R+=fa,z+=Y)for(var Q=0;Q<N;Q++,R++,z++){var ja=I.data[z],ca=H[R],ua=(ja*sa+(ca&255)*G)/255,qa=(255*sa+(ca>>8)*G)/255<<8|ua;qa==ca&&(ja>ua?qa++:ja<ua&&qa--);H[R]=qa}c(this._brushBuffer,O)}}},{key:"_paintToMask",value:function(I,O,z,G){var H=O.getWidth(),N=O.getHeight();O=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,z.top);var J=this._brushBuffer.width-H,R=I.width-H;I=I.data;for(var fa=
this._brushBuffer.data,Y=0;Y<N;Y++,z+=R,O+=J)for(var sa=0;sa<H;sa++,O++,z++){var ka=fa[O],Q=ka&255;0<((ka>>8)*G[O]/255|0)&&(I[z]=Q)}}},{key:"_sampleFromImage",value:function(I,O,z,G){var H=this._brushBuffer.data,N=O.getWidth(),J=O.getHeight(),R=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,z.top);var fa=this._brushBuffer.width-N,Y=(I.width-N)*f.default.BYTES_PER_PIXEL,sa=255-G;if(255!=G){for(var ka=0;ka<J;ka++,R+=fa,z+=Y)for(var Q=0;Q<N;Q++,R++,z+=f.default.BYTES_PER_PIXEL){var ja=
I.data[z+f.default.RED_BYTE_OFFSET],ca=I.data[z+f.default.GREEN_BYTE_OFFSET],ua=I.data[z+f.default.BLUE_BYTE_OFFSET],qa=H[R],ya=(I.data[z+f.default.ALPHA_BYTE_OFFSET]*sa+(qa>>24&255)*G)/255<<24&4278190080|(ja*sa+(qa>>16&255)*G)/255<<16&16711680|(ca*sa+(qa>>8&255)*G)/255<<8&65280|(ua*sa+(qa&255)*G)/255&255;if(ya==qa){qa=(ya&16711680)>>16;var ma=(ya&65280)>>8,Oa=ya&255;ja>qa?ya+=65536:ja<qa&&(ya-=65536);ca>ma?ya+=256:ca<ma&&(ya-=256);ua>Oa?ya+=1:ua<Oa&&--ya}H[R]=ya}c(this._brushBuffer,O)}}},{key:"_paintToImage",
value:function(I,O,z,G){var H=O.getWidth(),N=O.getHeight();O=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,z.top);var J=this._brushBuffer.width-H,R=(I.width-H)*f.default.BYTES_PER_PIXEL;I=I.data;for(var fa=this._brushBuffer.data,Y=0;Y<N;Y++,z+=R,O+=J)for(var sa=0;sa<H;sa++,O++,z+=f.default.BYTES_PER_PIXEL){var ka=fa[O];0<((ka>>>24)*G[O]/255|0)&&(I[z+f.default.RED_BYTE_OFFSET]=ka>>16&255,I[z+f.default.GREEN_BYTE_OFFSET]=ka>>8&255,I[z+f.default.BLUE_BYTE_OFFSET]=ka&255,I[z+
f.default.ALPHA_BYTE_OFFSET]=ka>>24&255)}}},{key:"paintDab",value:function(I,O,z,G,H,N,J){I instanceof f.default?null==this._brushBuffer?(this._brushBuffer=new n.default(N.width,N.height,32),this._sampleFromImage(z,H,O,0)):(this._sampleFromImage(z,H,O,N.alpha),this._paintToImage(I,H,O,N.brush)):null==this._brushBuffer?(this._brushBuffer=new n.default(N.width,N.height,16),this._sampleFromMask(z,H,O,0)):(this._sampleFromMask(z,H,O,N.alpha),this._paintToMask(I,H,O,N.brush))}},{key:"mergeOntoImage",value:function(I,
O,z){}},{key:"mergeOntoMask",value:function(I,O,z){}},{key:"beginStroke",value:function(){this._brushBuffer=null}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return C}(g)},{"../util/CPColorFloat.js":59,"./CPBrushInfo.js":8,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],11:[function(g,K,D){function y(Ga){return Ga&&Ga.__esModule?Ga:{default:Ga}}function k(Ga,la){var Ia="undefined"!==typeof Symbol&&Ga[Symbol.iterator]||Ga["@@iterator"];if(!Ia){if(Array.isArray(Ga)||(Ia=v(Ga))||la&&Ga&&
"number"===typeof Ga.length){Ia&&(Ga=Ia);var Ba=0;la=function(){};return{s:la,n:function(){return Ba>=Ga.length?{done:!0}:{done:!1,value:Ga[Ba++]}},e:function(Pa){throw Pa;},f:la}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var cb=!0,sb=!1,ub;return{s:function(){Ia=Ia.call(Ga)},n:function(){var Pa=Ia.next();cb=Pa.done;return Pa},e:function(Pa){sb=!0;ub=Pa},f:function(){try{cb||null==Ia.return||
Ia.return()}finally{if(sb)throw ub;}}}}function v(Ga,la){if(Ga){if("string"===typeof Ga)return E(Ga,la);var Ia=Object.prototype.toString.call(Ga).slice(8,-1);"Object"===Ia&&Ga.constructor&&(Ia=Ga.constructor.name);if("Map"===Ia||"Set"===Ia)return Array.from(Ga);if("Arguments"===Ia||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ia))return E(Ga,la)}}function E(Ga,la){if(null==la||la>Ga.length)la=Ga.length;for(var Ia=0,Ba=Array(la);Ia<la;Ia++)Ba[Ia]=Ga[Ia];return Ba}function b(){b="undefined"!==typeof Reflect&&
Reflect.get?Reflect.get.bind():function(Ga,la,Ia){var Ba;for(Ba=Ga;!Object.prototype.hasOwnProperty.call(Ba,la)&&(Ba=q(Ba),null!==Ba););if(Ba)return Ba=Object.getOwnPropertyDescriptor(Ba,la),Ba.get?Ba.get.call(3>arguments.length?Ga:Ia):Ba.value};return b.apply(this,arguments)}function d(Ga,la){if("function"!==typeof la&&null!==la)throw new TypeError("Super expression must either be null or a function");Ga.prototype=Object.create(la&&la.prototype,{constructor:{value:Ga,writable:!0,configurable:!0}});
Object.defineProperty(Ga,"prototype",{writable:!1});la&&w(Ga,la)}function w(Ga,la){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ia,Ba){Ia.__proto__=Ba;return Ia};return w(Ga,la)}function a(Ga){var la=m();return function(){var Ia=q(Ga);if(la){var Ba=q(this).constructor;Ia=Reflect.construct(Ia,arguments,Ba)}else Ia=Ia.apply(this,arguments);if(!Ia||"object"!==r(Ia)&&"function"!==typeof Ia){if(void 0!==Ia)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");Ia=this}return Ia}}function m(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ga){return!1}}function q(Ga){q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(la){return la.__proto__||Object.getPrototypeOf(la)};return q(Ga)}
function r(Ga){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(la){return typeof la}:function(la){return la&&"function"==typeof Symbol&&la.constructor===Symbol&&la!==Symbol.prototype?"symbol":typeof la},r(Ga)}function h(Ga,la){if(!(Ga instanceof la))throw new TypeError("Cannot call a class as a function");}function c(Ga,la){for(var Ia=0;Ia<la.length;Ia++){var Ba=la[Ia];Ba.enumerable=Ba.enumerable||!1;Ba.configurable=!0;"value"in Ba&&(Ba.writable=
!0);var cb=Object,sb=cb.defineProperty;a:{var ub=Ba.key;if("object"===r(ub)&&null!==ub){var Pa=ub[Symbol.toPrimitive];if(void 0!==Pa){ub=Pa.call(ub,"string");if("object"!==r(ub))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}ub=String(ub)}}ub="symbol"===r(ub)?ub:String(ub);sb.call(cb,Ga,ub,Ba)}}function f(Ga,la,Ia){la&&c(Ga.prototype,la);Ia&&c(Ga,Ia);Object.defineProperty(Ga,"prototype",{writable:!1});return Ga}function n(Ga){this.version=Ga.readU32BE();this.width=Ga.readU32BE();
this.height=Ga.readU32BE();this.layersNb=Ga.readU32BE()}function e(Ga){for(var la=Array(4),Ia=0;Ia<la.length;Ia++)la[Ia]=String.fromCharCode(Ga.readByte());this.chunkType=la.join("");this.chunkSize=Ga.readU32BE();if(Ga.eof)throw"Truncated chunk";}function p(Ga){return{major:Ga>>16&65535,minor:Ga&65535}}function u(Ga){Ga=p(Ga);return 0===Ga.major&&0===Ga.minor?"ChibiPaint v0.0":"ChickenPaint v"+Ga.major+"."+Ga.minor}function B(Ga){Ga=k(Ga.getLayersRoot().getLinearizedLayerList(!1));var la;try{for(Ga.s();!(la=
Ga.n()).done;){var Ia=la.value;if(Ia instanceof N.default||Ia.mask||Ia.clip||Ia.blendMode>R.default.LM_LAST_CHIBIPAINT||Ia.blendMode===R.default.LM_MULTIPLY)return Y<<16|sa}}catch(Ba){Ga.e(Ba)}finally{Ga.f()}return 0}function C(Ga,la){var Ia=new Uint8Array(e.HEADER_LENGTH+la);Ia=new H.default(Ia);Ia.writeString(Ga);Ia.writeU32BE(la);return Ia}function A(Ga,la,Ia){var Ba=C(ja,n.FIXED_HEADER_LENGTH);Ba.writeU32BE(la);Ba.writeU32BE(Ga.width);Ba.writeU32BE(Ga.height);Ba.writeU32BE(Ia);return Ba.getAsDataArray()}
function I(Ga){for(var la=0;la<Q.length;la++)if(Ga[la]!=Q.charCodeAt(la))return!1;return!0}Object.defineProperty(D,"__esModule",{value:!0});D.load=function(Ga,la){function Ia(pa){var Ea=jb;if(null===Ea||0===Ea.length)jb=pa;else if(null===pa||0===pa.length)jb=Ea;else{var La=new Uint8Array(Ea.length+pa.length);La.set(Ea,0);La.set(pa,Ea.length);jb=La}for(;;){if(jb)if(ta<jb.length)jb=jb.subarray(ta),ta=0;else{ta-=jb.length;jb=null;break}else break;switch(cb){case 0:if(jb.length<e.HEADER_LENGTH)break;
pa=new H.default(jb);nb=new e(pa);jb=jb.subarray(pa.pos);if(Wa)if(nb.chunkType==qa)cb=45;else{nb.chunkType==ca?(cb=2,Pa=new Ca(nb,Wa.width,Wa.height)):nb.chunkType==ua?(cb=3,Pa=new Ra(nb,Wa.width,Wa.height)):(console.log("Unknown chunk type '"+nb.chunkType+"', attempting to skip..."),ta=nb.chunkSize);continue}else if(nb.chunkType==ja){cb=1;continue}else cb=5;break;case 1:if(jb.length<nb.chunkSize)break;pa=new H.default(jb);Wa=new n(pa);if(p(Wa.version).major>ka){cb=5;break}sb=new O.default(Wa.width,
Wa.height);ub=sb.getLayersRoot();ta=nb.chunkSize;cb=0;continue;case 2:jb=Pa.decode(jb);if(Pa.done){sb.addLayerObject(ub,Pa.layer);cb=0;continue}break;case 3:if(jb=Pa.decode(jb),Pa.done){sb.addLayerGroupObject(ub,Pa.layer,Pa.childLayers);cb=0;continue}}break}}la=la||{};var Ba=new fa.default.Inflate({}),cb=0,sb=null,ub=null,Pa,ta=0,Wa=null,nb=null,jb=null;return(new Promise(function(pa){if(Ga instanceof ArrayBuffer)pa(Ga);else{var Ea=new FileReader;Ea.onload=function(){pa(this.result)};Ea.readAsArrayBuffer(Ga)}})).then(function(pa){return new Promise(function(Ea,
La){var Ya=new Uint8Array(pa);I(Ya)?(Ya=Ya.subarray(Q.length),Ba.onData=Ia,Ba.onEnd=function(Da){0===Da&&45==cb?(!1!==la.upgradeMultiplyLayers&&Wa.version<(Y<<16|sa)&&sb.upgradeMultiplyLayers(la.upgradeMultiplyLayers),sb.selectTopmostVisibleLayer(),Ea(sb)):La("Fatal error decoding ChibiFile: "+Da)},Ba.push(Ya,!0)):La("This doesn't appear to be a ChibiPaint layers file, is it damaged?")})})};D.save=function(Ga,la){la=la||{};return Promise.resolve().then(function(){var Ia=new fa.default.Deflate({level:7}),
Ba=[],cb=new Uint8Array(Q.length),sb=Ga.getLayersRoot().getLinearizedLayerList(!1),ub=la.forceOldVersion?0:B(Ga),Pa=u(ub),ta=Promise.resolve();Ia.onData=function(jb){Ba.push(jb)};for(var Wa=0;Wa<Q.length;Wa++)cb[Wa]=Q.charCodeAt(Wa);Ba.push(cb);Ia.push(A(Ga,ub,sb.length),!1);cb=k(sb);var nb;try{for(sb=function(){var jb=nb.value;ta=ta.then(function(){return new Promise(function(pa){var Ea=Ia.push,La=jb instanceof z.default;var Ya=4*(La?5:6);var Da=jb.name.length,Ma=Ya+Da;Ya=C(La?ca:ua,Ya+Da+((La?jb.image.data.length:
0)+(jb.mask?jb.mask.data.length:0)));Da=0;jb.visible&&(Da|=ya);La&&jb.clip&&(Da|=ma);jb.mask&&(Da|=Oa);jb.maskLinked&&(Da|=fb);jb.maskVisible&&(Da|=ab);jb.lockAlpha&&(Da|=Z);!La&&jb.expanded&&(Da|=T);if(jb.blendMode===R.default.LM_MULTIPLY2){var Ha=R.default.LM_MULTIPLY;Da|=ra}else Ha=jb.blendMode;Ya.writeU32BE(Ma);Ya.writeU32BE(Ha);Ya.writeU32BE(jb.alpha);Ya.writeU32BE(Da);Ya.writeU32BE(jb.name.length);La||Ya.writeU32BE(jb.layers.length);Ya.writeString(jb.name);if(La){La=Ya.pos;Ma=Ya.data;Da=jb.image.data;
for(Ha=0;Ha<Da.length;Ha+=G.default.BYTES_PER_PIXEL)Ma[La++]=Da[Ha+G.default.ALPHA_BYTE_OFFSET],Ma[La++]=Da[Ha+G.default.RED_BYTE_OFFSET],Ma[La++]=Da[Ha+G.default.GREEN_BYTE_OFFSET],Ma[La++]=Da[Ha+G.default.BLUE_BYTE_OFFSET];Ya.pos=La}jb.mask&&(La=jb.mask,Ya.data.set(La.data,Ya.pos),Ya.pos+=La.data.length);Ya=Ya.getAsDataArray();Ea.call(Ia,Ya,!1);setTimeout(pa,10)})})},cb.s();!(nb=cb.n()).done;)sb()}catch(jb){cb.e(jb)}finally{cb.f()}return ta.then(function(){return new Promise(function(jb,pa){Ia.onEnd=
function(Ea){if(0===Ea)if("undefined"!==typeof Blob)jb({bytes:new Blob(Ba,{type:"application/octet-stream"}),version:Pa});else{Ea=Ba.map(function(Ma){return Ma.byteLength}).reduce(function(Ma,Ha){return Ma+Ha},0);Ea=new Uint8Array(Ea);for(var La=0,Ya=0;Ya<Ba.length;Ya++){var Da=Ba[Ya];Ea.set(Da,La);La+=Da.byteLength}jb({bytes:Ea,version:Pa})}else pa(Ea)};Ia.push(C(qa,0).getAsDataArray(),!0)})})})};var O=y(g("./CPArtwork.js")),z=y(g("./CPImageLayer.js")),G=y(g("./CPColorBmp.js")),H=y(g("../util/ArrayDataStream.js")),
N=y(g("./CPLayerGroup.js")),J=y(g("./CPGreyBmp.js")),R=y(g("./CPBlend.js")),fa=y(g("pako")),Y=0,sa=10,ka=Y,Q="CHIBIOEK",ja="HEAD",ca="LAYR",ua="GRUP",qa="ZEND";n.FIXED_HEADER_LENGTH=16;e.HEADER_LENGTH=8;var ya=1,ma=2,Oa=4,fb=8,ab=16,T=32,Z=64,ra=128;g=function(){function Ga(la,Ia,Ba){h(this,Ga);this.chunkHeader=la;this.width=Ia;this.height=Ba;this.nameLength=this.skipBytes=this.payloadOffset=this.state=0;this.done=!1;this.maskDecoder=this.colorDecoder=null}f(Ga,[{key:"readFixedHeader",value:function(la){this.payloadOffset=
la.readU32BE();this.blendMode=la.readU32BE();this.alpha=la.readU32BE();var Ia=la.readU32BE();this.visible=0!=(Ia&ya);this.clip=0!=(Ia&ma);this.hasMask=0!=(Ia&Oa);this.maskLinked=0!=(Ia&fb);this.maskVisible=0!=(Ia&ab);this.expanded=0!=(Ia&T);this.lockAlpha=0!=(Ia&Z);this.blendMode===R.default.LM_MULTIPLY&&0!==(Ia&ra)&&(this.blendMode=R.default.LM_MULTIPLY2);this.nameLength=la.readU32BE()}},{key:"getFixedHeaderLen",value:function(){return 20}},{key:"getVariableHeaderLen",value:function(){return this.nameLength}},
{key:"readVariableSizeHeader",value:function(la){this.name=la.readString(this.nameLength)}},{key:"decode",value:function(la){for(var Ia;;){if(0<this.skipBytes){if(this.skipBytes>=la.length)return this.skipBytes-=la.length,null;la=la.subarray(this.skipBytes);this.skipBytes=0}switch(this.state){case 0:if(la.length<this.getFixedHeaderLen())break;Ia=new H.default(la);this.readFixedHeader(Ia);la=la.subarray(Ia.pos);this.state=1;continue;case 1:if(la.length<this.getVariableHeaderLen())break;Ia=new H.default(la);
this.readVariableSizeHeader(Ia);this.layer=this.createLayer();this.hasMask&&(this.layer.setMask(new J.default(this.width,this.height,8)),this.maskDecoder=new Ib(this.layer.mask));this.layer instanceof z.default&&(this.colorDecoder=new xb(this.layer.image));this.skipBytes=this.payloadOffset-this.getFixedHeaderLen();this.state=this.colorDecoder?3:this.maskDecoder?4:5;continue;case 3:la=this.colorDecoder.decode(la);if(this.colorDecoder.done){this.state=this.maskDecoder?4:5;continue}break;case 4:la=this.maskDecoder.decode(la);
if(this.maskDecoder.done){this.state=5;continue}break;case 5:Ia=this.payloadOffset;this.colorDecoder&&(Ia+=this.colorDecoder.bytesTotal);this.maskDecoder&&(Ia+=this.maskDecoder.bytesTotal);this.state=6;this.skipBytes=this.chunkHeader.chunkSize-Ia;continue;case 6:this.done=!0}break}return la}}]);return Ga}();var Ca=function(Ga){function la(){h(this,la);return Ia.apply(this,arguments)}d(la,Ga);var Ia=a(la);f(la,[{key:"createLayer",value:function(){var Ba=new z.default(this.width,this.height,this.name);
Ba.setBlendMode(this.blendMode);Ba.setAlpha(this.alpha);Ba.setVisible(this.visible);Ba.setClip(this.clip);Ba.setMaskLinked(this.maskLinked);Ba.setMaskVisible(this.maskVisible);Ba.setLockAlpha(this.lockAlpha);return Ba}}]);return la}(g),Ra=function(Ga){function la(Ba,cb,sb){h(this,la);Ba=Ia.call(this,Ba,cb,sb);Ba.childLayers=0;return Ba}d(la,Ga);var Ia=a(la);f(la,[{key:"readFixedHeader",value:function(Ba){b(q(la.prototype),"readFixedHeader",this).call(this,Ba);this.childLayers=Ba.readU32BE()}},{key:"getFixedHeaderLen",
value:function(){return b(q(la.prototype),"getFixedHeaderLen",this).call(this)+4}},{key:"createLayer",value:function(){var Ba=new N.default(this.name,this.blendMode);Ba.setAlpha(this.alpha);Ba.setVisible(this.visible);Ba.setExpanded(this.expanded);Ba.setMaskLinked(this.maskLinked);Ba.setMaskVisible(this.maskVisible);return Ba}}]);return la}(g),xb=function(){function Ga(la){h(this,Ga);this.bytesRead=0;this.bytesTotal=la.width*la.height*G.default.BYTES_PER_PIXEL;this.output=la.data;this.done=!1}f(Ga,
[{key:"decode",value:function(la){if(null==la)return null;for(var Ia=this.bytesRead%G.default.BYTES_PER_PIXEL,Ba=this.bytesRead-Ia,cb=0,sb=[G.default.ALPHA_BYTE_OFFSET,G.default.RED_BYTE_OFFSET,G.default.GREEN_BYTE_OFFSET,G.default.BLUE_BYTE_OFFSET];Ia<G.default.BYTES_PER_PIXEL&&cb<la.length;Ia++)this.output[Ba+sb[Ia]]=la[cb],cb++;this.bytesRead+=cb;var ub=Math.min(la.length-cb,this.bytesTotal-this.bytesRead)|0;Ia=ub/G.default.BYTES_PER_PIXEL|0;ub%=G.default.BYTES_PER_PIXEL;for(Ba=0;Ba<Ia;Ba++)this.output[this.bytesRead+
G.default.ALPHA_BYTE_OFFSET]=la[cb],this.output[this.bytesRead+G.default.RED_BYTE_OFFSET]=la[cb+1],this.output[this.bytesRead+G.default.GREEN_BYTE_OFFSET]=la[cb+2],this.output[this.bytesRead+G.default.BLUE_BYTE_OFFSET]=la[cb+3],this.bytesRead+=G.default.BYTES_PER_PIXEL,cb+=G.default.BYTES_PER_PIXEL;Ba=this.bytesRead;for(Ia=0;Ia<ub;Ia++)this.output[Ba+sb[Ia]]=la[cb],cb++;this.bytesRead+=ub;this.bytesRead>=this.bytesTotal&&(this.done=!0);return cb<la.length?la.subarray(cb):null}}]);return Ga}(),Ib=
function(){function Ga(la){h(this,Ga);this.bytesRead=0;this.bytesTotal=la.width*la.height;this.output=la.data;this.done=!1}f(Ga,[{key:"decode",value:function(la){if(null==la)return null;var Ia=Math.min(la.length,this.bytesTotal-this.bytesRead)|0,Ba=this.bytesRead,cb;for(cb=0;cb<Ia;cb++,Ba++)this.output[Ba]=la[cb];this.bytesRead=Ba;this.bytesRead>=this.bytesTotal&&(this.done=!0);return cb<la.length?la.subarray(cb):null}}]);return Ga}()},{"../util/ArrayDataStream.js":56,"./CPArtwork.js":3,"./CPBlend.js":5,
"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPImageLayer.js":15,"./CPLayerGroup.js":17,pako:297}],12:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(y,k,v){this.bmp=y;this.x=k;this.y=v};K.exports=D.default},{}],13:[function(g,K,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a,m){"number"==typeof a?(b.default.call(this,a,m),this.imageData=(0,w.createImageData)(this.width,this.height)):(b.default.call(this,a.width,a.height),this.imageData=a);this.data=
this.imageData.data}function v(a,m,q,r){var h=0,c=[0,0,0,0],f,n;for(n=f=0;n<r&&n<q;n++){for(var e=0;e<k.BYTES_PER_PIXEL;e++)c[e]+=a[f++];h++}for(e=n=0;e<q;e++){if(e+r<q){f=(e+r)*k.BYTES_PER_PIXEL;for(var p=0;p<k.BYTES_PER_PIXEL;p++)c[p]+=a[f++];h++}for(f=0;f<k.BYTES_PER_PIXEL;f++)m[n++]=Math.round(c[f]/h);if(0<=e-r){f=(e-r)*k.BYTES_PER_PIXEL;for(p=0;p<k.BYTES_PER_PIXEL;p++)c[p]-=a[f++];h--}}}function E(a,m){m%=4;if(0==m)return a;var q=(0,w.createCanvas)(0,0),r=q.getContext("2d");0==m%2?(q.width=a.width,
q.height=a.height):(q.width=a.height,q.height=a.width);switch(m){case 1:r.rotate(Math.PI/2);r.drawImage(a,0,-a.height);break;case 2:r.rotate(Math.PI);r.drawImage(a,-a.width,-a.height);break;case 3:r.rotate(-Math.PI/2);r.drawImage(a,-a.width,0);break;default:return a}return q}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;D.getRotatedCanvas=E;var b=y(g("./CPBitmap.js")),d=y(g("../util/CPRect.js")),w=g("../util/Canvas.js");k.prototype=Object.create(b.default.prototype);k.prototype.constructor=
k;k.BYTES_PER_PIXEL=4;k.RED_BYTE_OFFSET=0;k.GREEN_BYTE_OFFSET=1;k.BLUE_BYTE_OFFSET=2;k.ALPHA_BYTE_OFFSET=3;k.prototype.clone=function(){return this.cloneRect(this.getBounds())};k.prototype.cloneRect=function(a){var m=new k(a.getWidth(),a.getHeight());m.copyBitmapRect(this,0,0,a);return m};k.prototype.getPixel=function(a,m){a=Math.max(0,Math.min(this.width-1,a));m=Math.max(0,Math.min(this.height-1,m));a=this.offsetOfPixel(a,m);return this.data[a+k.ALPHA_BYTE_OFFSET]<<24|this.data[a+k.RED_BYTE_OFFSET]<<
16|this.data[a+k.GREEN_BYTE_OFFSET]<<8|this.data[a+k.BLUE_BYTE_OFFSET]};k.prototype.copyRectXOR=function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth(),r=m.getHeight();r=new Uint8Array(q*r*k.BYTES_PER_PIXEL);var h=0,c=this.offsetOfPixel(m.left,m.top),f=a.offsetOfPixel(m.left,m.top),n=(this.width-q)*k.BYTES_PER_PIXEL,e=(a.width-q)*k.BYTES_PER_PIXEL;q*=k.BYTES_PER_PIXEL;for(var p=m.top;p<m.bottom;p++,c+=n,f+=e)for(var u=0;u<q;u++,h++,c++,f++)r[h]=this.data[c]^a.data[f];return r};k.prototype.setRectXOR=
function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth(),r=m.getHeight();m=this.offsetOfPixel(m.left,m.top);var h=0,c=(this.width-q)*k.BYTES_PER_PIXEL;q*=k.BYTES_PER_PIXEL;for(var f=0;f<r;f++){for(var n=0;n<q;n++)this.data[m++]^=a[h++];m+=c}};k.prototype.copyBitmapRect=function(a,m,q,r){var h=new d.default(m,q,0,0);r=r.clone();this.getBounds().clipSourceDest(r,h);m=h.getWidth()|0;q=h.getHeight()|0;if(0==h.left&&0==h.top&&m==this.width&&q==this.height&&m==a.width&&q==a.height)this.copyPixelsFrom(a);
else{h=this.offsetOfPixel(h.left,h.top);var c=(this.width-m)*k.BYTES_PER_PIXEL;r=a.offsetOfPixel(r.left,r.top);for(var f=(a.width-m)*k.BYTES_PER_PIXEL,n=0;n<q;n++,r+=f,h+=c)for(var e=0;e<m;e++,r+=k.BYTES_PER_PIXEL,h+=k.BYTES_PER_PIXEL)this.data[h]=a.data[r],this.data[h+1]=a.data[r+1],this.data[h+2]=a.data[r+2],this.data[h+3]=a.data[r+3]}};k.prototype.copyAlphaFrom=function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth()|0,r=m.getHeight()|0;m=this.offsetOfPixel(m.left,m.top)+k.ALPHA_BYTE_OFFSET|
0;for(var h=(this.width-q)*k.BYTES_PER_PIXEL|0,c=0;c<r;c++,m+=h)for(var f=0;f<q;f++,m+=k.BYTES_PER_PIXEL)this.data[m]=a.data[m]};k.prototype.setToSize=function(a){if(a.width!=this.width||a.height!=this.height)this.width=a.width,this.height=a.height,this.imageData=(0,w.createImageData)(this.width,this.height),this.data=this.imageData.data};k.prototype.copyPixelsFrom=function(a){this.setToSize(a);if("set"in this.data)this.data.set(a.data);else for(var m=0;m<this.data.length;m++)this.data[m]=a.data[m]};
k.prototype.copyPixelsFromGreyscale=function(a){var m,q=0,r=a.width*a.height;this.setToSize(a);for(m=0;m<r;m++,q+=k.BYTES_PER_PIXEL)this.data[q+k.RED_BYTE_OFFSET]=a.data[m],this.data[q+k.GREEN_BYTE_OFFSET]=a.data[m],this.data[q+k.BLUE_BYTE_OFFSET]=a.data[m],this.data[q+k.ALPHA_BYTE_OFFSET]=255};k.prototype.copyScaledNearestNeighbor=function(a){for(var m=0,q=a.width/this.width,r=a.height/this.height,h,c=0,f=0;c<this.height;c++,f+=r){h=a.offsetOfPixel(0,Math.round(f));for(var n=0,e=0;n<this.width;n++,
m+=k.BYTES_PER_PIXEL,e+=q){var p=h+Math.round(e)*k.BYTES_PER_PIXEL;this.data[m]=a.data[p];this.data[m+1]=a.data[p+1];this.data[m+2]=a.data[p+2];this.data[m+k.ALPHA_BYTE_OFFSET]=a.data[p+k.ALPHA_BYTE_OFFSET]}}};k.prototype.createThumbnailFrom=function(a){var m=Math.min(Math.floor(a.width/this.width),3);if(2>m)this.copyScaledNearestNeighbor(a);else{var q=new Uint16Array(5*this.width),r=a.width*k.BYTES_PER_PIXEL,h=Math.floor(a.width/this.width)*k.BYTES_PER_PIXEL,c=Math.floor(a.width/this.width/m)*k.BYTES_PER_PIXEL,
f=h-c*m,n=Math.floor(a.height/this.height/m);h=n*r-h*this.width;r*=Math.floor(a.height/this.height)-n*m;for(var e=n=0,p=0;p<this.height;p++,n+=r){var u;q.fill(0);for(var B=0;B<m;B++,n+=h)for(var C=u=0;C<this.width;C++,u+=5,n+=f)for(var A=0;A<m;A++,n+=c){var I=a.data[n+k.ALPHA_BYTE_OFFSET],O=I/255;q[u]+=a.data[n]*O;q[u+1]+=a.data[n+1]*O;q[u+2]+=a.data[n+2]*O;q[u+k.ALPHA_BYTE_OFFSET]+=I;q[u+4]=Math.max(q[u+4],I)}for(B=u=0;B<this.width;B++,u+=5,e+=k.BYTES_PER_PIXEL)C=q[u+4],0==C?this.data[e+k.ALPHA_BYTE_OFFSET]=
0:(A=C/q[u+k.ALPHA_BYTE_OFFSET],this.data[e]=q[u]*A,this.data[e+1]=q[u+1]*A,this.data[e+2]=q[u+2]*A,this.data[e+k.ALPHA_BYTE_OFFSET]=C)}}};k.prototype.floodFill=function(a,m,q){if(this.isInside(a,m)){var r=this.getPixel(a,m),h=r>>24&255,c=r>>16&255,f=r>>8&255,n=r&255,e=q>>24&255,p=q>>16&255,u=q>>8&255,B=q&255,C=[],A=this.getBounds(),I=this.data;A.left*=k.BYTES_PER_PIXEL;A.right*=k.BYTES_PER_PIXEL;C.push({x1:a*k.BYTES_PER_PIXEL,x2:a*k.BYTES_PER_PIXEL,y:m,dy:-1});C.push({x1:a*k.BYTES_PER_PIXEL,x2:a*
k.BYTES_PER_PIXEL,y:m+1,dy:1});if(0==h){if(0!=e)for(;0<C.length;)if(c=C.pop(),!(c.y<A.top||c.y>=A.bottom)){f=this.offsetOfPixel(0,c.y);for(n=c.x1;n>=A.left&&0==I[n+f+k.ALPHA_BYTE_OFFSET];)I[n+f+k.RED_BYTE_OFFSET]=p,I[n+f+k.GREEN_BYTE_OFFSET]=u,I[n+f+k.BLUE_BYTE_OFFSET]=B,I[n+f+k.ALPHA_BYTE_OFFSET]=e,n-=k.BYTES_PER_PIXEL;if(n>=c.x1){for(;n<=c.x2&&I[n+f+k.ALPHA_BYTE_OFFSET]!=h;)n+=k.BYTES_PER_PIXEL;a=n+k.BYTES_PER_PIXEL;if(n>c.x2)continue}else n+=k.BYTES_PER_PIXEL,n<c.x1&&C.push({x1:n,x2:c.x1-k.BYTES_PER_PIXEL,
y:c.y-c.dy,dy:-c.dy}),a=c.x1+k.BYTES_PER_PIXEL;do{I[n+f+k.RED_BYTE_OFFSET]=p;I[n+f+k.GREEN_BYTE_OFFSET]=u;I[n+f+k.BLUE_BYTE_OFFSET]=B;for(I[n+f+k.ALPHA_BYTE_OFFSET]=e;a<A.right&&I[a+f+k.ALPHA_BYTE_OFFSET]==h;)I[a+f+k.RED_BYTE_OFFSET]=p,I[a+f+k.GREEN_BYTE_OFFSET]=u,I[a+f+k.BLUE_BYTE_OFFSET]=B,I[a+f+k.ALPHA_BYTE_OFFSET]=e,a+=k.BYTES_PER_PIXEL;C.push({x1:n,x2:a-k.BYTES_PER_PIXEL,y:c.y+c.dy,dy:c.dy});a-k.BYTES_PER_PIXEL>c.x2&&C.push({x1:c.x2+k.BYTES_PER_PIXEL,x2:a-k.BYTES_PER_PIXEL,y:c.y-c.dy,dy:-c.dy});
for(n=a+k.BYTES_PER_PIXEL;n<=c.x2&&I[n+f+k.ALPHA_BYTE_OFFSET]!=h;)n+=k.BYTES_PER_PIXEL;a=n+k.BYTES_PER_PIXEL}while(n<=c.x2)}}else if(q!=r)for(;0<C.length;)if(a=C.pop(),!(a.y<A.top||a.y>=A.bottom)){m=this.offsetOfPixel(0,a.y);for(q=a.x1;q>=A.left&&I[q+m+k.RED_BYTE_OFFSET]==c&&I[q+m+k.GREEN_BYTE_OFFSET]==f&&I[q+m+k.BLUE_BYTE_OFFSET]==n&&I[q+m+k.ALPHA_BYTE_OFFSET]==h;)I[q+m+k.RED_BYTE_OFFSET]=p,I[q+m+k.GREEN_BYTE_OFFSET]=u,I[q+m+k.BLUE_BYTE_OFFSET]=B,I[q+m+k.ALPHA_BYTE_OFFSET]=e,q-=k.BYTES_PER_PIXEL;
if(q>=a.x1){for(;q<=a.x2&&(I[q+m+k.RED_BYTE_OFFSET]!=c||I[q+m+k.GREEN_BYTE_OFFSET]!=f||I[q+m+k.BLUE_BYTE_OFFSET]!=n||I[q+m+k.ALPHA_BYTE_OFFSET]!=h);)q+=k.BYTES_PER_PIXEL;r=q+k.BYTES_PER_PIXEL;if(q>a.x2)continue}else q+=k.BYTES_PER_PIXEL,q<a.x1&&C.push({x1:q,x2:a.x1-k.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy}),r=a.x1+k.BYTES_PER_PIXEL;do{I[q+m+k.RED_BYTE_OFFSET]=p;I[q+m+k.GREEN_BYTE_OFFSET]=u;I[q+m+k.BLUE_BYTE_OFFSET]=B;for(I[q+m+k.ALPHA_BYTE_OFFSET]=e;r<A.right&&I[r+m+k.RED_BYTE_OFFSET]==c&&I[r+m+k.GREEN_BYTE_OFFSET]==
f&&I[r+m+k.BLUE_BYTE_OFFSET]==n&&I[r+m+k.ALPHA_BYTE_OFFSET]==h;)I[r+m+k.RED_BYTE_OFFSET]=p,I[r+m+k.GREEN_BYTE_OFFSET]=u,I[r+m+k.BLUE_BYTE_OFFSET]=B,I[r+m+k.ALPHA_BYTE_OFFSET]=e,r+=k.BYTES_PER_PIXEL;C.push({x1:q,x2:r-k.BYTES_PER_PIXEL,y:a.y+a.dy,dy:a.dy});r-k.BYTES_PER_PIXEL>a.x2&&C.push({x1:a.x2+k.BYTES_PER_PIXEL,x2:r-k.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy});for(q=r+k.BYTES_PER_PIXEL;q<=a.x2&&(I[q+m+k.RED_BYTE_OFFSET]!=c||I[q+m+k.GREEN_BYTE_OFFSET]!=f||I[q+m+k.BLUE_BYTE_OFFSET]!=n||I[q+m+k.ALPHA_BYTE_OFFSET]!=
h);)q+=k.BYTES_PER_PIXEL;r=q+k.BYTES_PER_PIXEL}while(q<=a.x2)}}};k.prototype.copyPixelColumnToArray=function(a,m,q,r){var h=(this.width-1)*k.BYTES_PER_PIXEL,c=0;a=this.offsetOfPixel(a,m);for(m=0;m<q;m++){for(var f=0;f<k.BYTES_PER_PIXEL;f++)r[c++]=this.data[a++];a+=h}};k.prototype.copyArrayToPixelColumn=function(a,m,q,r){var h=(this.width-1)*k.BYTES_PER_PIXEL,c=0;a=this.offsetOfPixel(a,m);for(m=0;m<q;m++){for(var f=0;f<k.BYTES_PER_PIXEL;f++)this.data[a++]=r[c++];a+=h}};k.prototype.boxBlur=function(a,
m,q){a=this.getBounds().clipTo(a);var r=a.getWidth(),h=r*k.BYTES_PER_PIXEL,c=a.getHeight(),f=Math.max(r,c),n=new Uint8Array(f*k.BYTES_PER_PIXEL);f=new Uint8Array(f*k.BYTES_PER_PIXEL);for(var e=a.top;e<a.bottom;e++){for(var p=this.offsetOfPixel(a.left,e),u=0;u<h;u++)n[u]=this.data[p++];p=n;u=r;for(var B=0,C=0;C<u;C++){for(var A=p[B+k.ALPHA_BYTE_OFFSET],I=0;3>I;I++,B++)p[B]=Math.round(p[B]*A/255);B++}v(n,f,r,m);p=this.offsetOfPixel(a.left,e);for(u=0;u<h;u++)this.data[p++]=f[u]}for(m=a.left;m<a.right;m++){this.copyPixelColumnToArray(m,
a.top,c,n);v(n,f,c,q);r=f;h=c;for(p=e=0;p<h;p++)if(u=r[e+k.ALPHA_BYTE_OFFSET],0!=u){u=255/u;for(B=0;3>B;B++,e++)r[e]=Math.min(Math.round(r[e]*u),255);e++}else e+=k.BYTES_PER_PIXEL;this.copyArrayToPixelColumn(m,a.top,c,f)}};k.prototype.offsetOfPixel=function(a,m){return 4*(m*this.width+a)|0};k.prototype.getMemorySize=function(){return this.data.length};k.prototype.getImageData=function(){return this.imageData};k.prototype.setImageData=function(a){this.width=a.width;this.height=a.height;this.imageData=
a;this.data=a.data};k.prototype.clearAll=function(a){if(0==a&&"fill"in this.data)this.data.fill(0);else{var m=a>>24&255,q=a>>16&255,r=a>>8&255;a&=255;for(var h=0;h<this.width*this.height*k.BYTES_PER_PIXEL;)this.data[h++]=q,this.data[h++]=r,this.data[h++]=a,this.data[h++]=m}};k.prototype.clearRect=function(a,m){a=this.getBounds().clipTo(a);var q=m>>24&255,r=m>>16&255,h=m>>8&255;m&=255;for(var c=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top),n=a.top;n<a.bottom;n++,f+=
c)for(var e=a.left;e<a.right;e++)this.data[f++]=r,this.data[f++]=h,this.data[f++]=m,this.data[f++]=q};k.prototype.copyRegionHFlip=function(a,m){a=this.getBounds().clipTo(a);for(var q=a.top;q<a.bottom;q++)for(var r=this.offsetOfPixel(a.left,q),h=m.offsetOfPixel(a.right-1,q),c=a.left;c<a.right;c++,h-=2*k.BYTES_PER_PIXEL)for(var f=0;f<k.BYTES_PER_PIXEL;f++)this.data[r++]=m.data[h++]};k.prototype.copyRegionVFlip=function(a,m){a=this.getBounds().clipTo(a);for(var q=a.getWidth()*k.BYTES_PER_PIXEL,r=a.top;r<
a.bottom;r++)for(var h=this.offsetOfPixel(a.left,r),c=m.offsetOfPixel(a.left,a.bottom-1-(r-a.top)),f=0;f<q;f++)this.data[h++]=m.data[c++]};k.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var m,q=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,r=this.offsetOfPixel(a.left,a.top),h=a.top;h<a.bottom;h++,r+=q)for(var c=a.left;c<a.right;c++,r+=k.BYTES_PER_PIXEL)m=256*Math.random()|0,this.data[r+k.RED_BYTE_OFFSET]=m,this.data[r+k.GREEN_BYTE_OFFSET]=m,this.data[r+k.BLUE_BYTE_OFFSET]=m,
this.data[r+k.ALPHA_BYTE_OFFSET]=255};k.prototype.gradientHorzReplace=function(a,m,q,r){var h={r:r[0]>>16&255,g:r[0]>>8&255,b:r[0]&255,a:r[0]>>24&255};r={r:r[1]>>16&255,g:r[1]>>8&255,b:r[1]&255,a:r[1]>>24&255};var c=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top)|0,n=a.bottom-a.top|0;if(q<m){var e=q;q=m;m=e;e=h;h=r;r=e}var p=q-m|0;e=(r.r-h.r)/p;var u=(r.g-h.g)/p,B=(r.b-h.b)/p;p=(r.a-h.a)/p;for(var C=Math.max(a.left-m,0),A=0;A<n;A++,f+=c){for(var I=a.left,O=Math.min(m,
a.right)|0;I<O;I++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=h.r,this.data[f+k.GREEN_BYTE_OFFSET]=h.g,this.data[f+k.BLUE_BYTE_OFFSET]=h.b,this.data[f+k.ALPHA_BYTE_OFFSET]=h.a;var z=h.r+e*C,G=h.g+u*C,H=h.b+B*C,N=h.a+p*C;for(O=Math.min(q,a.right)|0;I<O;I++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=z,this.data[f+k.GREEN_BYTE_OFFSET]=G,this.data[f+k.BLUE_BYTE_OFFSET]=H,this.data[f+k.ALPHA_BYTE_OFFSET]=N,z+=e,G+=u,H+=B,N+=p;for(;I<a.right;I++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=
r.r,this.data[f+k.GREEN_BYTE_OFFSET]=r.g,this.data[f+k.BLUE_BYTE_OFFSET]=r.b,this.data[f+k.ALPHA_BYTE_OFFSET]=r.a}};k.prototype.gradientVertReplace=function(a,m,q,r){var h={r:r[0]>>16&255,g:r[0]>>8&255,b:r[0]&255,a:r[0]>>24&255};r={r:r[1]>>16&255,g:r[1]>>8&255,b:r[1]&255,a:r[1]>>24&255};var c=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top)|0,n=a.right-a.left|0;if(q<m){var e=q;q=m;m=e;e=h;h=r;r=e}e=a.top;for(var p=Math.min(a.bottom,m)|0;e<p;e++,f+=c)for(var u=0;u<n;u++,
f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=h.r,this.data[f+k.GREEN_BYTE_OFFSET]=h.g,this.data[f+k.BLUE_BYTE_OFFSET]=h.b,this.data[f+k.ALPHA_BYTE_OFFSET]=h.a;var B=q-m|0;p=(r.r-h.r)/B;u=(r.g-h.g)/B;var C=(r.b-h.b)/B;B=(r.a-h.a)/B;var A=Math.max(e-m,0);m=h.r+p*A;var I=h.g+u*A,O=h.b+C*A;h=h.a+B*A;for(q=Math.min(a.bottom,q)|0;e<q;e++,f+=c){for(A=0;A<n;A++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=m,this.data[f+k.GREEN_BYTE_OFFSET]=I,this.data[f+k.BLUE_BYTE_OFFSET]=O,this.data[f+k.ALPHA_BYTE_OFFSET]=
h;m+=p;I+=u;O+=C;h+=B}for(;e<a.bottom;e++,f+=c)for(q=0;q<n;q++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=r.r,this.data[f+k.GREEN_BYTE_OFFSET]=r.g,this.data[f+k.BLUE_BYTE_OFFSET]=r.b,this.data[f+k.ALPHA_BYTE_OFFSET]=r.a};k.prototype.gradientReplace=function(a,m,q,r,h,c){var f=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,n=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,p=c[0]>>16&255,u=c[0]>>8&255,B=c[0]&255,C=c[0]>>24&255,A=c[1]>>16&255,I=c[1]>>8&255,O=c[1]&255;c=c[1]>>24&255;var z=
h-q+(r-m)*(r-m)/(h-q);r=r-m+(h-q)*(h-q)/(r-m);h=1/r;for(var G=a.top;G<a.bottom;G++,n+=f)for(var H=(a.left-m)/r+(G-q)/z,N=0;N<e;N++,n+=k.BYTES_PER_PIXEL){var J=Math.min(Math.max(H,0),1),R=1-J;this.data[n+k.RED_BYTE_OFFSET]=p*R+A*J;this.data[n+k.GREEN_BYTE_OFFSET]=u*R+I*J;this.data[n+k.BLUE_BYTE_OFFSET]=B*R+O*J;this.data[n+k.ALPHA_BYTE_OFFSET]=C*R+c*J;H+=h}};k.prototype.gradientAlpha=function(a,m,q,r,h,c){var f=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,n=this.offsetOfPixel(a.left,a.top)|0,e=a.right-
a.left|0,p=c[0]>>16&255,u=c[0]>>8&255,B=c[0]&255,C=c[0]>>24&255,A=c[1]>>16&255,I=c[1]>>8&255,O=c[1]&255;c=c[1]>>24&255;var z=h-q+(r-m)*(r-m)/(h-q);r=r-m+(h-q)*(h-q)/(r-m);h=1/r;for(var G=a.top;G<a.bottom;G++,n+=f)for(var H=(a.left-m)/r+(G-q)/z,N=0;N<e;N++,n+=k.BYTES_PER_PIXEL){var J=Math.min(Math.max(H,0),1),R=1-J,fa=p*R+A*J,Y=u*R+I*J,sa=B*R+O*J;R=C*R+c*J;J=this.data[n+k.ALPHA_BYTE_OFFSET];J=R+J-R*J/255|0;if(0<J){R=255*R/J|0;var ka=255-R;this.data[n+k.RED_BYTE_OFFSET]=(fa*R+this.data[n+k.RED_BYTE_OFFSET]*
ka)/255|0;this.data[n+k.GREEN_BYTE_OFFSET]=(Y*R+this.data[n+k.GREEN_BYTE_OFFSET]*ka)/255|0;this.data[n+k.BLUE_BYTE_OFFSET]=(sa*R+this.data[n+k.BLUE_BYTE_OFFSET]*ka)/255|0;this.data[n+k.ALPHA_BYTE_OFFSET]=J}H+=h}};k.prototype.gradient=function(a,m,q,r,h,c,f){a=this.getBounds().clipTo(a);if(m!=r||q!=h)f||255==c[0]>>>24&&255==c[1]>>>24?m==r?this.gradientVertReplace(a,q,h,c):q==h?this.gradientHorzReplace(a,m,r,c):this.gradientReplace(a,m,q,r,h,c):this.gradientAlpha(a,m,q,r,h,c)};k.prototype.fillWithColorNoise=
function(a){a=this.getBounds().clipTo(a);for(var m,q=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,r=this.offsetOfPixel(a.left,a.top),h=a.top;h<a.bottom;h++,r+=q)for(var c=a.left;c<a.right;c++,r+=k.BYTES_PER_PIXEL)m=16777216*Math.random()|0,this.data[r+k.RED_BYTE_OFFSET]=m>>16&255,this.data[r+k.GREEN_BYTE_OFFSET]=m>>8&255,this.data[r+k.BLUE_BYTE_OFFSET]=m&255,this.data[r+k.ALPHA_BYTE_OFFSET]=255};k.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var m=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,
q=this.offsetOfPixel(a.left,a.top),r=a.top;r<a.bottom;r++,q+=m)for(var h=a.left;h<a.right;h++,q+=k.BYTES_PER_PIXEL)this.data[q+k.RED_BYTE_OFFSET]^=255,this.data[q+k.GREEN_BYTE_OFFSET]^=255,this.data[q+k.BLUE_BYTE_OFFSET]^=255};k.prototype.getNonTransparentBounds=function(a){var m=a.clone(),q,r;var h=(this.width-m.getWidth())*k.BYTES_PER_PIXEL;a=this.offsetOfPixel(m.left,m.top)+k.ALPHA_BYTE_OFFSET;for(r=m.top;r<m.bottom;r++,a+=h){var c=0;for(q=m.left;q<m.right;q++,a+=k.BYTES_PER_PIXEL)c|=this.data[a];
if(0!=c)break}m.top=r;if(m.top==m.bottom)return m;a=this.offsetOfPixel(m.right-1,m.bottom-1)+k.ALPHA_BYTE_OFFSET;for(r=m.bottom-1;r>=m.top;r--,a-=h){c=0;for(q=m.right-1;q>=m.left;q--,a-=k.BYTES_PER_PIXEL)c|=this.data[a];if(0!=c)break}m.bottom=r+1;h=k.BYTES_PER_PIXEL*this.width;for(q=m.left;q<m.right;q++){a=this.offsetOfPixel(q,m.top)+k.ALPHA_BYTE_OFFSET;c=0;for(r=m.top;r<m.bottom;r++,a+=h)c|=this.data[a];if(0!=c)break}m.left=q;for(q=m.right-1;q>=m.left;q--){a=this.offsetOfPixel(q,m.top)+k.ALPHA_BYTE_OFFSET;
c=0;for(r=m.top;r<m.bottom;r++,a+=h)c|=this.data[a];if(0!=c)break}m.right=q+1;return m};k.prototype.getAsCanvas=function(a){var m=(0,w.createCanvas)(this.imageData.width,this.imageData.height);m.getContext("2d").putImageData(this.imageData,0,0);return E(m,a||0)};k.prototype.getAsPNG=function(a){a=this.getAsCanvas(a).toDataURL("image/png");a="string"===typeof a&&a.match(/^data:image\/png;base64,/i)?window.atob(a.substring(22)):!1;return a};k.prototype.getAsPNGBuffer=function(a){return this.getAsCanvas(a).toBuffer("image/png")};
k.prototype.hasAlphaInRect=function(a){a=this.getBounds().clipTo(a);for(var m=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,q=this.offsetOfPixel(a.left,a.top)+k.ALPHA_BYTE_OFFSET,r=a.top;r<a.bottom;r++,q+=m){for(var h=255,c=a.left;c<a.right;c++,q+=k.BYTES_PER_PIXEL)h&=this.data[q];if(255!=h)return!0}return!1};k.prototype.hasAlpha=function(){return this.hasAlphaInRect(this.getBounds())};k.createFromImage=function(a){var m=(0,w.createCanvas)(a.width,a.height).getContext("2d");m.globalCompositeOperation=
"copy";m.drawImage(a,0,0);return new k(m.getImageData(0,0,a.width,a.height))};k.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var m=0;m<this.data.length;m+=k.BYTES_PER_PIXEL)if(0!=this.data[m+k.ALPHA_BYTE_OFFSET]||0!=a.data[m+k.ALPHA_BYTE_OFFSET])if(this.data[m]!=a.data[m]||this.data[m+1]!=a.data[m+1]||this.data[m+2]!=a.data[m+2]||this.data[m+3]!=a.data[m+3])return!1;return!0}},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4}],14:[function(g,
K,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a,m,q){E.default.call(this,a,m);this.createBitmap(a,m,q)}function v(a,m,q,r){var h=0,c=0,f;for(f=0;f<r&&f<q;f++)c+=a[f],h++;for(var n=f=0;n<q;n++)n+r<q&&(c+=a[n+r],h++),m[f++]=Math.round(c/h),0<=n-r&&(c-=a[n-r],h--)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var E=y(g("./CPBitmap.js")),b=y(g("../util/CPRect.js")),d=g("../util/Canvas.js"),w=g("./CPColorBmp.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=
k;k.prototype.createBitmap=function(a,m,q){this.bitDepth=q;switch(q){case 32:this.data=new Uint32Array(a*m);break;case 16:this.data=new Uint16Array(a*m);break;default:this.data=new Uint8Array(a*m)}};k.prototype.clone=function(){var a=new k(this.width,this.height,this.bitDepth);a.copyPixelsFrom(this);return a};k.prototype.cloneRect=function(a){var m=new k(a.getWidth(),a.getHeight(),this.bitDepth);m.copyBitmapRect(this,0,0,a);return m};k.prototype.getPixel=function(a,m){a=Math.max(0,Math.min(this.width-
1,a));m=Math.max(0,Math.min(this.height-1,m));return this.data[this.offsetOfPixel(a,m)]};k.prototype.clearAll=function(a){this.data.fill(a)};k.prototype.clearRect=function(a,m){a=this.getBounds().clipTo(a);if(a.equals(this.getBounds()))this.clearAll(m);else for(var q=this.width,r=a.right-a.left,h=this.offsetOfPixel(a.left,a.top),c=a.top;c<a.bottom;c++,h+=q)this.data.fill(m,h,h+r)};k.prototype.copyScaledNearestNeighbor=function(a){for(var m=0,q=a.width/this.width,r=a.height/this.height,h,c=0,f=0;c<
this.height;c++,f+=r){h=a.offsetOfPixel(0,Math.round(f));for(var n=0,e=0;n<this.width;n++,m++,e+=q)this.data[m]=a.data[h+Math.round(e)]}};k.prototype.floodFill=function(a,m,q){if(this.isInside(a,m)){q&=255;var r=this.getPixel(a,m),h=[],c=this.getBounds(),f=this.data;h.push({x1:a,x2:a,y:m,dy:-1});h.push({x1:a,x2:a,y:m+1,dy:1});if(q!=r)for(;0<h.length;)if(a=h.pop(),!(a.y<c.top||a.y>=c.bottom)){m=this.offsetOfPixel(0,a.y);for(var n=a.x1,e;n>=c.left&&f[n+m]==r;)f[n+m]=q,n--;if(n>=a.x1){for(;n<=a.x2&&
f[n+m]!=r;)n++;e=n+1;if(n>a.x2)continue}else n++,n<a.x1&&h.push({x1:n,x2:a.x1-1,y:a.y-a.dy,dy:-a.dy}),e=a.x1+1;do{for(f[n+m]=q;e<c.right&&f[e+m]==r;)f[e+m]=q,e++;h.push({x1:n,x2:e-1,y:a.y+a.dy,dy:a.dy});e-1>a.x2&&h.push({x1:a.x2+1,x2:e-1,y:a.y-a.dy,dy:-a.dy});for(n=e+1;n<=a.x2&&f[n+m]!=r;)n++;e=n+1}while(n<=a.x2)}}};k.prototype.createThumbnailFrom=function(a){var m=Math.min(Math.floor(a.width/this.width),3);if(2>m)this.copyScaledNearestNeighbor(a);else{var q=new Uint16Array(this.width),r=a.width,
h=Math.floor(a.width/this.width),c=Math.floor(a.width/this.width/m),f=h-c*m,n=Math.floor(a.height/this.height/m);h=n*r-h*this.width;r*=Math.floor(a.height/this.height)-n*m;for(var e=n=0,p=0;p<this.height;p++,n+=r){var u;q.fill(0);for(var B=0;B<m;B++,n+=h)for(var C=u=0;C<this.width;C++,u++,n+=f)for(var A=0;A<m;A++,n+=c)q[u]+=a.data[n];for(B=u=0;B<this.width;B++,u++,e++)this.data[e]=q[u]/(m*m)}}};k.prototype.mirrorHorizontally=function(){for(var a=this.width,m=this.height,q=new Uint8Array(a*m),r=0,
h=a,c=0;c<m;c++,h+=a+a)for(var f=0;f<a;f++)q[r++]=this.data[--h];this.data=q};k.prototype.applyLUT=function(a){for(var m=0;m<this.data.length;m++)this.data[m]=a.table[this.data[m]]};k.prototype.getAsCanvas=function(a){var m=this.getImageData(0,0,this.width,this.height),q=(0,d.createCanvas)(this.width,this.height);q.getContext("2d").putImageData(m,0,0);return(0,w.getRotatedCanvas)(q,a||0)};k.prototype.getImageData=function(a,m,q,r){var h=(0,d.createImageData)(q,r);a=this.offsetOfPixel(a,m);m=0;for(var c=
this.width-q,f=0;f<r;f++,a+=c)for(var n=0;n<q;n++,a++)h.data[m++]=this.data[a],h.data[m++]=this.data[a],h.data[m++]=this.data[a],h.data[m++]=255;return h};k.prototype.pasteImageData=function(a,m,q){var r=0;m=this.offsetOfPixel(m,q);q=this.width-a.width;for(var h=0;h<a.height;h++,m+=q)for(var c=0;c<a.width;c++,r+=4,m++)this.data[m]=a.data[r];return a};k.prototype.copyPixelsFrom=function(a){a.width!=this.width||a.height!=this.height||a.bitDepth!=this.bitDepth?(this.data=a.data.slice(0),this.width=a.width,
this.height=a.height,this.bitDepth=a.bitDepth):this.data.set(a.data)};k.prototype.copyRectXOR=function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth(),r=m.getHeight();r=new Uint8Array(q*r);for(var h=0,c=this.offsetOfPixel(m.left,m.top),f=a.offsetOfPixel(m.left,m.top),n=this.width-q,e=a.width-q,p=m.top;p<m.bottom;p++,c+=n,f+=e)for(var u=0;u<q;u++,h++,c++,f++)r[h]=this.data[c]^a.data[f];return r};k.prototype.setRectXOR=function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth(),r=m.getHeight();
m=this.offsetOfPixel(m.left,m.top);for(var h=0,c=this.width-q,f=0;f<r;f++){for(var n=0;n<q;n++)this.data[m++]^=a[h++];m+=c}};k.prototype.copyBitmapRect=function(a,m,q,r){var h=new b.default(m,q,0,0);r=r.clone();this.getBounds().clipSourceDest(r,h);m=h.getWidth()|0;q=h.getHeight()|0;if(0==h.left&&0==h.top&&m==this.width&&q==this.height&&m==a.width&&q==a.height)this.copyPixelsFrom(a);else{h=this.offsetOfPixel(h.left,h.top);var c=this.width-m;r=a.offsetOfPixel(r.left,r.top);for(var f=a.width-m,n=0;n<
q;n++,r+=f,h+=c)for(var e=0;e<m;e++,r++,h++)this.data[h]=a.data[r]}};k.prototype.copyRegionHFlip=function(a,m){a=this.getBounds().clipTo(a);for(var q=a.top;q<a.bottom;q++)for(var r=this.offsetOfPixel(a.left,q),h=m.offsetOfPixel(a.right-1,q),c=a.left;c<a.right;c++,h-=2)this.data[r++]=m.data[h++]};k.prototype.copyRegionVFlip=function(a,m){a=this.getBounds().clipTo(a);for(var q=a.getWidth(),r=a.top;r<a.bottom;r++)for(var h=this.offsetOfPixel(a.left,r),c=m.offsetOfPixel(a.left,a.bottom-1-(r-a.top)),f=
0;f<q;f++)this.data[h++]=m.data[c++]};k.prototype.copyPixelColumnToArray=function(a,m,q,r){var h=this.width,c=0;a=this.offsetOfPixel(a,m);for(m=0;m<q;m++)r[c]=this.data[a],a+=h,c++};k.prototype.copyArrayToPixelColumn=function(a,m,q,r){var h=this.width,c=0;a=this.offsetOfPixel(a,m);for(m=0;m<q;m++)this.data[a]=r[c],a+=h,c++};k.prototype.boxBlur=function(a,m,q){a=this.getBounds().clipTo(a);var r=a.getWidth(),h=a.getHeight(),c=Math.max(r,h),f=new this.data.constructor(c);c=new this.data.constructor(c);
for(var n=a.top;n<a.bottom;n++){for(var e=this.offsetOfPixel(a.left,n),p=0;p<r;p++)f[p]=this.data[e++];v(f,c,r,m);e=this.offsetOfPixel(a.left,n);for(p=0;p<r;p++)this.data[e++]=c[p]}for(m=a.left;m<a.right;m++)this.copyPixelColumnToArray(m,a.top,h,f),v(f,c,h,q),this.copyArrayToPixelColumn(m,a.top,h,c)};k.prototype.offsetOfPixel=function(a,m){return m*this.width+a};k.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var m=this.width-a.getWidth(),q=this.offsetOfPixel(a.left,a.top),
r=a.top;r<a.bottom;r++,q+=m)for(var h=a.left;h<a.right;h++,q++)this.data[q]=256*Math.random()|0};k.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var m=this.width-a.getWidth(),q=this.offsetOfPixel(a.left,a.top),r=a.top;r<a.bottom;r++,q+=m)for(var h=a.left;h<a.right;h++,q++)this.data[q]=~this.data[q]};k.prototype.getValueBounds=function(a,m){var q=a.clone(),r,h;var c=this.width-q.getWidth();a=this.offsetOfPixel(q.left,q.top);for(h=q.top;h<q.bottom;h++,a+=c){var f=!1;for(r=q.left;r<q.right;r++,
a++)if(this.data[a]!=m){f=!0;break}if(f)break}q.top=h;if(q.top==q.bottom)return q;a=this.offsetOfPixel(q.right-1,q.bottom-1);for(h=q.bottom-1;h>=q.top;h--,a-=c){f=!1;for(r=q.right-1;r>=q.left;r--,a--)if(this.data[a]!=m){f=!0;break}if(f)break}q.bottom=h+1;c=this.width;for(r=q.left;r<q.right;r++){a=this.offsetOfPixel(r,q.top);f=!1;for(h=q.top;h<q.bottom;h++,a+=c)if(this.data[a]!=m){f=!0;break}if(f)break}q.left=r;for(r=q.right-1;r>=q.left;r--){a=this.offsetOfPixel(r,q.top);f=!1;for(h=q.top;h<q.bottom;h++,
a+=c)if(this.data[a]!=m){f=!0;break}if(f)break}q.right=r+1;return q};k.prototype.gradientHorzReplace=function(a,m,q,r){var h=r[0]&255;r=r[1]&255;var c=this.width-a.getWidth(),f=this.offsetOfPixel(a.left,a.top)|0,n=a.bottom-a.top|0;if(q<m){var e=q;q=m;m=e;e=h;h=r;r=e}e=(r-h)/(q-m|0);for(var p=Math.max(a.left-m,0),u=0;u<n;u++,f+=c){for(var B=a.left,C=Math.min(m,a.right)|0;B<C;B++,f++)this.data[f]=h;var A=h+e*p;for(C=Math.min(q,a.right)|0;B<C;B++,f++)this.data[f]=A,A+=e;for(;B<a.right;B++,f++)this.data[f]=
r}};k.prototype.gradientVertReplace=function(a,m,q,r){var h=r[0]&255;r=r[1]&255;var c=this.width-a.getWidth(),f=this.offsetOfPixel(a.left,a.top)|0,n=a.right-a.left|0;if(q<m){var e=q;q=m;m=e;e=h;h=r;r=e}e=a.top;for(var p=Math.min(a.bottom,m)|0;e<p;e++,f+=c)for(var u=0;u<n;u++,f++)this.data[f]=h;p=(r-h)/(q-m|0);m=h+p*Math.max(e-m,0);for(q=Math.min(a.bottom,q)|0;e<q;e++,f+=c){for(h=0;h<n;h++,f++)this.data[f]=m;m+=p}for(;e<a.bottom;e++,f+=c)for(q=0;q<n;q++,f++)this.data[f]=r};k.prototype.gradientReplace=
function(a,m,q,r,h,c){var f=this.width-a.getWidth(),n=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,p=c[0]&255;c=c[1]&255;var u=h-q+(r-m)*(r-m)/(h-q);r=r-m+(h-q)*(h-q)/(r-m);h=1/r;for(var B=a.top;B<a.bottom;B++,n+=f)for(var C=(a.left-m)/r+(B-q)/u,A=0;A<e;A++,n++){var I=Math.min(Math.max(C,0),1);this.data[n]=p*(1-I)+c*I;C+=h}};k.prototype.gradientAlpha=function(a,m,q,r,h,c){var f=this.width-a.getWidth(),n=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,p=c[0]&255,u=c[0]>>24&255,B=c[1]&
255;c=c[1]>>24&255;var C=h-q+(r-m)*(r-m)/(h-q);r=r-m+(h-q)*(h-q)/(r-m);h=1/r;for(var A=a.top;A<a.bottom;A++,n+=f)for(var I=(a.left-m)/r+(A-q)/C,O=0;O<e;O++,n++){var z=Math.min(Math.max(I,0),1),G=1-z,H=u*G+c*z;this.data[n]=((p*G+B*z)*H+this.data[n]*(255-H))/255|0;I+=h}};k.prototype.gradient=function(a,m,q,r,h,c,f){a=this.getBounds().clipTo(a);if(m!=r||q!=h)f||255==c[0]>>>24&&255==c[1]>>>24?m==r?this.gradientVertReplace(a,q,h,c):q==h?this.gradientHorzReplace(a,m,r,c):this.gradientReplace(a,m,q,r,h,
c):this.gradientAlpha(a,m,q,r,h,c)};k.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var m=0;m<this.data.length;m++)if(this.data[m]!=a.data[m])return!1;return!0};K.exports=D.default},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4,"./CPColorBmp.js":13}],15:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d,w,a){E.default.call(this,a);this.image=0<d&&0<w?new v.default(d,w):null;this.clip=!1;this.imageThumbnail=null}
Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("./CPColorBmp.js")),E=y(g("./CPLayer.js")),b=y(g("../util/CPRect.js"));k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;k.createFromImage=function(d,w){w=new k(0,0,w);w.image=d;return w};k.prototype.clone=function(){var d=new k(0,0,this.name);d.copyFrom(this);return d};k.prototype.copyFrom=function(d){E.default.prototype.copyFrom.call(this,d);this.clip=d.clip;this.image?this.image.copyPixelsFrom(d.image):
this.image=d.image.clone()};k.prototype.hasAlpha=function(){return 100!=this.alpha?!0:this.image.hasAlpha()};k.prototype.hasAlphaInRect=function(d){return 100!=this.alpha?!0:this.image.hasAlphaInRect(d)};k.prototype.copyImageFrom=function(d){this.image.copyPixelsFrom(d)};k.prototype.getClippingBase=function(){if(this.clip&&this.parent)for(var d=this.parent.indexOf(this)-1;0<=d;d--)if(this.parent.layers[d]instanceof k){if(!this.parent.layers[d].clip)return this.parent.layers[d]}else break;return null};
k.prototype.getClip=function(){return this.clip};k.prototype.setClip=function(d){this.clip=d};k.prototype.getNonTransparentBounds=function(d){return this.image.getNonTransparentBounds(d)};k.prototype.getBounds=function(){return new b.default(0,0,this.image.width,this.image.height)};k.prototype.getMemoryUsed=function(){return this.image?this.image.getMemorySize():0};k.prototype.rebuildImageThumbnail=function(){if(!this.imageThumbnail){var d=Math.ceil(Math.max(this.image.width/E.default.LAYER_THUMBNAIL_WIDTH,
this.image.height/E.default.LAYER_THUMBNAIL_HEIGHT));this.imageThumbnail=new v.default(Math.floor(this.image.width/d),Math.floor(this.image.height/d))}this.imageThumbnail.createThumbnailFrom(this.image)};k.prototype.getImageThumbnail=function(){this.imageThumbnail||this.rebuildImageThumbnail();return this.imageThumbnail};K.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPLayer.js":16}],16:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d){this.name=
d||"";this.parent=null;this.lockAlpha=!1;this.alpha=100;this.visible=!0;this.blendMode=v.default.LM_NORMAL;this.mask=null;this.maskVisible=this.maskLinked=!0;this.maskThumbnail=null;this.useLegacyMultiply=!1}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;y(g("./CPLayerGroup.js"));var v=y(g("./CPBlend.js")),E=y(g("./CPGreyBmp.js")),b=y(g("../util/CPRect.js"));k.prototype.copyFrom=function(d){this.name=d.name;this.blendMode=d.blendMode;this.useLegacyMultiply=d.useLegacyMultiply;this.alpha=
d.alpha;this.visible=d.visible;this.parent=d.parent;this.lockAlpha=d.lockAlpha;d.mask?this.mask?this.mask.copyPixelsFrom(d.mask):this.mask=d.mask.clone():this.mask=null;this.maskLinked=d.maskLinked;this.maskVisible=d.maskVisible;d.maskThumbnail?this.maskThumbnail?this.maskThumbnail.copyPixelsFrom(d.maskThumbnail):this.maskThumbnail=d.maskThumbnail.clone():this.maskThumbnail=null};k.prototype.setMask=function(d){this.mask=d;d||(this.maskThumbnail=null)};k.prototype.setAlpha=function(d){this.alpha=
d};k.prototype.getAlpha=function(){return this.alpha};k.prototype.getEffectiveAlpha=function(){return this.visible?this.alpha:0};k.prototype.getEffectiveMask=function(){return this.maskVisible?this.mask:null};k.prototype.setName=function(d){this.name=d};k.prototype.getName=function(){return this.name};k.prototype.setBlendMode=function(d){this.blendMode=d;d===v.default.LM_MULTIPLY?this.useLegacyMultiply=!0:d===v.default.LM_MULTIPLY2&&(this.useLegacyMultiply=!1)};k.prototype.getBlendMode=function(){return this.blendMode};
k.prototype.getLockAlpha=function(){return this.lockAlpha};k.prototype.setLockAlpha=function(d){this.lockAlpha=d};k.prototype.setVisible=function(d){this.visible=d};k.prototype.getVisible=function(){return this.visible};k.prototype.isVisible=k.prototype.getVisible;k.prototype.setMaskLinked=function(d){this.maskLinked=d};k.prototype.getMaskLinked=function(){return this.maskLinked};k.prototype.setMaskVisible=function(d){this.maskVisible=d};k.prototype.getMaskVisible=function(){return this.maskVisible};
k.prototype.getMemoryUsed=function(){return 0};k.prototype.getDepth=function(){return null==this.parent?0:this.parent.getDepth()+1};k.prototype.ancestorsAreVisible=function(){return null==this.parent||this.parent.visible&&this.parent.ancestorsAreVisible()};k.prototype.hasAncestor=function(d){return this.parent==d||this.parent&&this.parent.hasAncestor(d)};k.prototype.clone=function(){throw"Pure virtual CPLayer.clone() call";};k.prototype.getNonTransparentBounds=function(d){return new b.default(0,0,
0,0)};k.prototype.rebuildMaskThumbnail=function(){if(this.mask){if(!this.maskThumbnail){var d=Math.ceil(Math.max(this.mask.width/k.LAYER_THUMBNAIL_WIDTH,this.mask.height/k.LAYER_THUMBNAIL_HEIGHT));this.maskThumbnail=new E.default(Math.floor(this.mask.width/d),Math.floor(this.mask.height/d),8)}this.maskThumbnail.createThumbnailFrom(this.mask)}else this.maskThumbnail=null};k.prototype.getMaskThumbnail=function(){!this.maskThumbnail&&this.mask&&this.rebuildMaskThumbnail();return this.maskThumbnail};
k.LAYER_THUMBNAIL_WIDTH=80;k.LAYER_THUMBNAIL_HEIGHT=50;K.exports=D.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPGreyBmp.js":14,"./CPLayerGroup.js":17}],17:[function(g,K,D){function y(m){return m&&m.__esModule?m:{default:m}}function k(m,q){var r="undefined"!==typeof Symbol&&m[Symbol.iterator]||m["@@iterator"];if(!r){if(Array.isArray(m)||(r=v(m))||q&&m&&"number"===typeof m.length){r&&(m=r);var h=0;q=function(){};return{s:q,n:function(){return h>=m.length?{done:!0}:{done:!1,value:m[h++]}},
e:function(e){throw e;},f:q}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var c=!0,f=!1,n;return{s:function(){r=r.call(m)},n:function(){var e=r.next();c=e.done;return e},e:function(e){f=!0;n=e},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw n;}}}}function v(m,q){if(m){if("string"===typeof m)return E(m,q);var r=Object.prototype.toString.call(m).slice(8,-1);"Object"===
r&&m.constructor&&(r=m.constructor.name);if("Map"===r||"Set"===r)return Array.from(m);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(m,q)}}function E(m,q){if(null==q||q>m.length)q=m.length;for(var r=0,h=Array(q);r<q;r++)h[r]=m[r];return h}function b(m,q){w.default.call(this,m);this.layers=[];this.expanded=!0;this.blendMode=q}function d(m,q){return m+q}Object.defineProperty(D,"__esModule",{value:!0});D.default=b;var w=y(g("./CPLayer.js")),a=y(g("../util/CPRect.js"));
b.prototype=Object.create(w.default.prototype);b.prototype.constructor=b;b.prototype.getLinearizedLayerList=function(m,q){q=q||[];var r=k(this.layers),h;try{for(r.s();!(h=r.n()).done;){var c=h.value;c instanceof b&&(c.expanded||!m)&&c.getLinearizedLayerList(m,q);q.push(c)}}catch(f){r.e(f)}finally{r.f()}return q};b.prototype.clearLayers=function(){this.layers=[]};b.prototype.addLayer=function(m){m.parent=this;this.layers.push(m)};b.prototype.insertLayer=function(m,q){q.parent=this;this.layers.splice(m,
0,q)};b.prototype.removeLayer=function(m){m=this.layers.indexOf(m);-1<m&&this.layers.splice(m,1)};b.prototype.removeLayerAtIndex=function(m){var q=this.layers[m];q&&this.layers.splice(m,1);return q};b.prototype.setLayerAtIndex=function(m,q){var r=this.layers[m];q.parent=this;this.layers[m]=q;return r};b.prototype.setExpanded=function(m){this.expanded=m};b.prototype.getExpanded=function(){return this.expanded};b.prototype.indexOf=function(m){return this.layers.indexOf(m)};b.prototype.getMemoryUsed=
function(){return this.layers.map(function(m){return m.getMemoryUsed()}).reduce(d,0)};b.prototype.clone=function(){var m=new b(this.name,this.blendMode);w.default.prototype.copyFrom.call(m,this);m.expanded=this.expanded;m.layers=this.layers.map(function(q){return q.clone()});m.layers.forEach(function(q){return q.parent=m});return m};b.prototype.getNonTransparentBounds=function(m){var q=new a.default(0,0,0,0);this.layers.forEach(function(r){return q.union(r.getNonTransparentBounds(m))});return q};
K.exports=D.default},{"../util/CPRect.js":63,"./CPLayer.js":16}],18:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){this.table=new Uint8Array(256);this.loadIdentity=function(){for(var y=0;256>y;y++)this.table[y]=y};this.loadBrightnessContrast=function(y,k){k=0<k?1/(1.0001-k):1+k;y=.5-.5*k+y;for(var v=0;256>v;v++)this.table[v]=Math.min(255,Math.max(~~(255*(v/255*k+y)),0))};this.invert=function(){for(var y=0;256>y;y++)this.table[y]=255-this.table[y]}};K.exports=
D.default},{}],19:[function(g,K,D){function y(h){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},y(h)}function k(h){return h&&h.__esModule?h:{default:h}}function v(h,c){for(var f=0;f<c.length;f++){var n=c[f];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);var e=Object,p=e.defineProperty;
a:{var u=n.key;if("object"===y(u)&&null!==u){var B=u[Symbol.toPrimitive];if(void 0!==B){u=B.call(u,"string");if("object"!==y(u))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}u=String(u)}}u="symbol"===y(u)?u:String(u);p.call(e,h,u,n)}}function E(h,c,f){c&&v(h.prototype,c);f&&v(h,f);Object.defineProperty(h,"prototype",{writable:!1});return h}function b(h,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");h.prototype=
Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}});Object.defineProperty(h,"prototype",{writable:!1});c&&d(h,c)}function d(h,c){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,n){f.__proto__=n;return f};return d(h,c)}function w(h){var c=a();return function(){var f=m(h);if(c){var n=m(this).constructor;f=Reflect.construct(f,arguments,n)}else f=f.apply(this,arguments);if(!f||"object"!==y(f)&&"function"!==typeof f){if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=this}return f}}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(h){return!1}}function m(h){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)};return m(h)}
Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var q=k(g("../util/CPRect.js")),r=k(g("./CPColorBmp.js"));k(g("./CPGreyBmp.js"));g=k(g("wolfy87-eventemitter"));D.default=function(h){function c(n,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var p=f.call(this);p.layer=n;p.buffer=n.mask.getImageData(0,0,n.mask.width,n.mask.height);p.invalidRect=new q.default(0,0,0,0);p.prepareMask=e;return p}b(c,h);var f=w(c);E(c,[{key:"close",value:function(){this.layer=
this.buffer=null;this.emitEvent("changeLayer")}},{key:"setLayer",value:function(n){this.layer=n;this.invalidRect=n.getBounds();this.emitEvent("changeLayer")}},{key:"isOpen",value:function(){return null!=this.layer}},{key:"invalidateRect",value:function(n){this.invalidRect.union(n)}},{key:"getImageData",value:function(){this.prepareMask();if(!this.invalidRect.isEmpty()&&this.layer&&this.layer.mask){var n=this.buffer,e=this.layer.mask,p=this.invalidRect,u=p.top*e.width+p.left,B=u*r.default.BYTES_PER_PIXEL,
C=p.getWidth();p=p.getHeight();for(var A=e.width-C,I=A*r.default.BYTES_PER_PIXEL,O=0;O<p;O++,u+=A,B+=I)for(var z=0;z<C;z++,u++,B+=r.default.BYTES_PER_PIXEL)n.data[B+r.default.RED_BYTE_OFFSET]=e.data[u],n.data[B+r.default.GREEN_BYTE_OFFSET]=e.data[u],n.data[B+r.default.BLUE_BYTE_OFFSET]=e.data[u],n.data[B+r.default.ALPHA_BYTE_OFFSET]=255;this.invalidRect.makeEmpty()}return this.buffer}}]);return c}(g.default);K.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"wolfy87-eventemitter":314}],
20:[function(g,K,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a){function m(f,n){switch(f.name){case "flat":return new Promise(function(e,p){var u=new Blob([n],{type:"image/png"}),B=window.URL.createObjectURL(u);if(B){var C=new Image;C.onload=function(){var A=new E.default(this.width,this.height),I=new d.default(0,0,"Layer 1");I.image=b.default.createFromImage(C);A.addLayerObject(A.getLayersRoot(),I);C=null;window.URL.revokeObjectURL(B);e(A)};C.src=B}else p(null)});case "swatches":return(f=
(new w.default).read(n))?Promise.resolve(f):Promise.reject(null);case "layers":return(0,v.load)(n);default:return Promise.reject("Unexpected resource type '"+f.name+"'")}}function q(f,n){null===n?c.emitEvent("loadingProgress",[1,"Loading your "+f.friendly+"..."]):c.emitEvent("loadingProgress",[n,"Loading your "+f.friendly+" ("+Math.round(100*n)+"%)..."])}var r=[],h={},c=this;a.loadChibiFileUrl&&0<(""+a.loadChibiFileUrl).length?r.push({url:a.loadChibiFileUrl,friendly:"drawing layers",name:"layers",
required:!0}):a.loadImageUrl&&0<(""+a.loadImageUrl).length&&r.push({url:a.loadImageUrl,friendly:"drawing",name:"flat",required:!0});a.loadSwatchesUrl&&r.push({url:a.loadSwatchesUrl,friendly:"color swatches",name:"swatches",required:!1,noProgress:!0});this.load=function(){function f(){n.required?c.emitEvent("loadingFailure",["Failed to load your "+n.friendly+", please try again later."]):c.load()}if(0==r.length)c.emitEvent("loadingComplete",[h]);else{var n=r.shift(),e=new XMLHttpRequest;e.addEventListener("progress",
function(p){q(n,p.lengthComputable&&!n.noProgress?p.loaded/p.total:null)},!1);e.addEventListener("load",function(p){if(200==this.status){var u=this.response;c.emitEvent("loadingProgress",[1,"Starting ChickenPaint..."]);setTimeout(function(){m(n,u).then(function(B){h[n.name]=B;c.load()},function(){c.emitEvent("loadingFailure",["Failed to read your "+n.friendly])})},0)}else f()},!1);e.addEventListener("error",f);q(n,n.noProgress?null:0);e.open("GET",n.url,!0);e.responseType="arraybuffer";e.send()}}}
Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=g("../../js/engine/CPChibiFile.js"),E=y(g("./CPArtwork.js")),b=y(g("./CPColorBmp.js")),d=y(g("./CPImageLayer.js")),w=y(g("../util/AdobeColorTable.js"));g=y(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../../js/engine/CPChibiFile.js":11,"../util/AdobeColorTable.js":55,"./CPArtwork.js":3,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"wolfy87-eventemitter":314}],
21:[function(g,K,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a){for(var m=new Uint8Array(a.length),q=0;q<a.length;q++)m[q]=a.charCodeAt(q);return m}function v(a){function m(c){null===c?r.emitEvent("savingProgress",[1,(0,w._)("Saving drawing...")]):r.emitEvent("savingProgress",[c,(0,w._)("Saving drawing...")+" ("+Math.round(100*c)+"%)"])}function q(c){c={method:"POST",mode:"same-origin",headers:{"X-Requested-With":"chickenpaint"},body:c};m(.5);fetch(a.url,c).then(function(f){if(!f.ok)throw Error("Network response was not ok (".concat(f.status,
")"));return f.text()}).then(function(f){/^CHIBIOK/.test(f)?(m(1),r.emitEvent("savingComplete")):r.emitEvent("savingFailure",[f])}).catch(function(f){r.emitEvent("savingFailure",[f.message])})}var r=this,h=!1;a.rotation=a.rotation||0;this.save=function(){var c;var f=k(a.artwork.getFlatPNG(a.rotation));var n=new Blob([f],{type:"image/png"});f=null;(a.artwork.isSimpleDrawing()?Promise.resolve(null):(0,E.save)(a.artwork)).then(function(e){if(h)r.emitEvent("savingFailure");else{if(a.swatches){var p=new b.default;
c=new Blob([p.write(a.swatches)],{type:"application/octet-stream"})}else c=null;a.url?(p=new FormData,p.append("beginMarker","This marker ensures the upload wasn't truncated"),p.append("painter","ChickenPaint v2.0"),p.append("picture",n),n=null,e?(p.append("chibifileFormat",e.version),p.append("chibifile",e.bytes),p.append("rotation",""+a.rotation)):p.append("rotation","0"),c&&(p.append("swatches",c),c=null),p.append("endMarker","This marker ensures the upload wasn't truncated"),q(p)):(d.default.saveAs(n,
"oekaki.png"),e&&d.default.saveAs(e.bytes,"oekaki.chi"),c&&d.default.saveAs(c,"oekaki.aco"))}}).catch(function(e){r.emitEvent("savingFailure")})};this.cancel=function(){h=!0}}Object.defineProperty(D,"__esModule",{value:!0});D.binaryStringToByteArray=k;D.default=v;var E=g("../../js/engine/CPChibiFile.js"),b=y(g("../util/AdobeColorTable.js"));K=y(g("wolfy87-eventemitter"));var d=y(g("file-saver")),w=g("../languages/lang.js");v.prototype=Object.create(K.default.prototype);v.prototype.constructor=v},
{"../../js/engine/CPChibiFile.js":11,"../languages/lang.js":54,"../util/AdobeColorTable.js":55,"file-saver":295,"wolfy87-eventemitter":314}],22:[function(g,K,D){function y(E){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},y(E)}function k(E,b){for(var d=0;d<b.length;d++){var w=b[d];w.enumerable=w.enumerable||!1;
w.configurable=!0;"value"in w&&(w.writable=!0);var a=Object,m=a.defineProperty;a:{var q=w.key;if("object"===y(q)&&null!==q){var r=q[Symbol.toPrimitive];if(void 0!==r){q=r.call(q,"string");if("object"!==y(q))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}q=String(q)}}q="symbol"===y(q)?q:String(q);m.call(a,E,q,w)}}function v(E,b,d){b&&k(E.prototype,b);d&&k(E,d);Object.defineProperty(E,"prototype",{writable:!1});return E}Object.defineProperty(D,"__esModule",{value:!0});
D.default=void 0;D.default=function(){function E(){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");}v(E,[{key:"merge",value:function(b){return!1}},{key:"noChange",value:function(){return!1}},{key:"getMemoryUsed",value:function(b,d){return 0}},{key:"compact",value:function(){}}]);return E}();K.exports=D.default},{}],23:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(k){var v=(0,y.default)('<div class="modal fade chickenpaint-about-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">About ChickenPaint v2</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <a class="chickenpaint-on-github" target="_blank" href="https://github.com/thenickdude/chickenpaint"><span class="fab fa-github"></span> ChickenPaint on GitHub</a>\n                            \n                            <p>\n                                ChickenPaint is a translation of <a href="https://github.com/thenickdude/chibipaint" target="_blank">ChibiPaint</a>\n                                from Java to JavaScript by Nicholas Sherlock / Chicken Smoothie\n                            </p>\n                            <p>\n                                ChibiPaint is Copyright (c) 2006-2008 Marc Schefer. All Rights Reserved\n                            </p>\n                            <p>\n                                ChickenPaint is free software: you can redistribute it and/or modify\n                                it under the terms of the GNU General Public License as published by\n                                the Free Software Foundation, either version 3 of the License, or\n                                (at your option) any later version.\n                            </p>\n        \n                            <p>\n                                ChickenPaint is distributed in the hope that it will be useful,\n                                but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                <a target="_blank" href="https://www.gnu.org/licenses/">GNU General Public License</a> for more details.\n                            </p>\n        \n                            <pre class="pre-scrollable chickenpaint-third-party-licenses">Toolbar icons designed by <a target="_blank" href="https://github.com/Anteira">Miglena Lapavicheva (Anteira)</a>\n    These icons are dual-licensed under <a target="_blank" href="https://spdx.org/licenses/GPL-3.0-or-later.html">GPL-3.0-or-later</a> and <a target="_blank" href="https://creativecommons.org/licenses/by/3.0/">CC-BY-3.0</a>\n\nIncludes icons from the <a target="_blank" href="https://extensions.libreoffice.org/en/extensions/show/tango-icon-theme-for-libreoffice">Tango Icon Theme for LibreOffice</a>:\n    All artwork is licensed under the Creative Commons Attribution-Share Alike 3.0\n    United States License. To view a copy of this licence, visit\n    https://creativecommons.org/licenses/by-sa/3.0/ or send a letter to Creative\n    Commons, 171 Second Street, Suite 300, San Francisco, California 94105, USA.\n    \n    Credit for icons imported from git://git.gnome.org/gnome-icon-theme or derivatives\n    of these goes to the GNOME project (https://www.gnome.org)\n    Derivatives and new icons were created by Alexander Wilms &lt;f.alexander.wilms@gmail.com> \n    and Miroslav Mazel &lt;mazelm@gmail.com>\n    \nIncludes these MIT-licensed libraries:\n\n    Includes the <a target="_blank" href="https://github.com/eligrey/FileSaver.js">FileSaver.js library</a>\n    FileSaver.js Copyright \u00a9 2015 <a target="_blank" href="https://eligrey.com/">Eli Grey</a>\n\n    Includes the <a target="_blank" href="https://github.com/nodeca/pako">Pako zlib compression library</a>\n    Copyright (C) 2014-2015 by Vitaly Puzrin\n    \n    Includes the <a target="_blank" href="https://github.com/madrobby/keymaster">keymaster.js</a> keyboard library\n    Copyright (c) 2011-2013 Thomas Fuchs\n\n    Includes the <a target="_blank" href="https://github.com/stefanpenner/es6-promise">es6-promise</a> library\n    Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n\n    Includes the <a target="_blank" href="https://benalman.com/projects/jquery-throttle-debounce-plugin/">jQuery throttle-debounce</a> library\n    Copyright (c) 2010 "Cowboy" Ben Alman\n\n    Permission is hereby granted, free of charge, to any person\n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use,\n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://www.jquery.com/" target="_blank">jQuery library</a> \nCopyright <a href="https://jquery.org/" target="_blank">jQuery Foundation and other contributors</a>\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/jquery\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n    \n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://github.com/jquery/PEP/" target="_blank">jQuery PEP library</a>\nCopyright jQuery Foundation and other contributors, https://jquery.org/\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/PEP\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation \n    files (the "Software"), to deal in the Software without \n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or \n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following \n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND \n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, \n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING \n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR \n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes Font Awesome by Dave Gandy - <a href="https://fontawesome.io" target="_blank">https://fontawesome.io</a>\n                    </pre>\n                </div>\n            </div>\n        </div>\n    ');
v.on("hidden.bs.modal",function(b){v.remove()});var E=new bootstrap.Modal(v[0]);k.appendChild(v[0]);this.show=function(){E.show()}};var y=function(k){return k&&k.__esModule?k:{default:k}}(g("jquery"));K.exports=D.default},{jquery:296}],24:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(v,E){var b=(0,y.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,k._)("Box blur"),
'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Blur amount (pixels)"),'</label>\n                                    <input type="number" class="form-control chickenpaint-blur-amount" value="3">\n                                </div>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Iterations (1-8, larger gives smoother blur)"),
'</label>\n                                    <input type="number" class="form-control chickenpaint-blur-iterations" value="1">\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,k._)("Cancel"),'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-box-blur" data-bs-dismiss="modal">').concat((0,k._)("Ok"),
"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),d=(0,y.default)(".chickenpaint-blur-amount",b),w=(0,y.default)(".chickenpaint-blur-iterations",b),a=(0,y.default)(".chickenpaint-apply-box-blur",b);this.show=function(){(new bootstrap.Modal(b[0])).show()};a.on("click",function(m){m=Math.max(parseInt(d.val(),10),1);var q=Math.min(Math.max(parseInt(w.val(),10),1),8);E.getArtwork().boxBlur(m,m,q)});b.on("shown.bs.modal",function(){d.trigger("focus")});
(0,y.default)(document).on("keypress",function(m){"Enter"===m.key&&b.hasClass("show")&&a.trigger("click")});v.appendChild(b[0])};var y=function(v){return v&&v.__esModule?v:{default:v}}(g("jquery")),k=g("../languages/lang.js");K.exports=D.default},{"../languages/lang.js":54,jquery:296}],25:[function(g,K,D){function y(A){return A&&A.__esModule?A:{default:A}}function k(A,I){var O=document.createElement("div");O.className="chickenpaint-checkbox-slider-group";O.appendChild(A.getElement());O.appendChild(I.getElement());
return O}function v(A,I){for(var O in I)if(I.hasOwnProperty(O)){var z=document.createElement("option");z.appendChild(document.createTextNode((0,C._)(I[O])));z.value=O;A.appendChild(z)}}function E(A){function I(){H.gradient(H.getBounds(),0,0,H.width,0,R,!0);J.putImageData(H.imageData,0,0,0,0,150,32);z.fillRect(0,0,O.width,O.height);z.drawImage(N,0,0)}var O=document.createElement("canvas"),z=O.getContext("2d"),G=(0,f.createCheckerboardPattern)(z),H=new n.default(150,32),N=document.createElement("canvas"),
J=N.getContext("2d"),R=A.getCurGradient();this.getElement=function(){return O};A.on("gradientChange",function(fa){R=fa;I()});O.width=N.width=150;O.height=N.height=32;O.className="chickenpaint-gradient-preview";z.fillStyle=G;I()}function b(A){q.default.call(this,A,"brush","Tool options");var I=new d(A),O=new w(A),z=new a(A),G=this.getBodyElement();G.appendChild(I.getElement());G.appendChild(O.getElement());G.appendChild(z.getElement());A.on("modeChange",function(H){I.getElement().style.display="none";
O.getElement().style.display="none";z.getElement().style.display="none";switch(H){case m.default.M_GRADIENTFILL:O.getElement().style.display="block";break;case m.default.M_TRANSFORM:z.getElement().style.display="block";break;default:I.getElement().style.display="block"}})}function d(A){var I=[1,2,3,4,5,6,7,8,9,10,15,20,25,30,35,40,45,50,60,70,80,90,100,125,150,175,200],O=document.createElement("div"),z=document.createElement("select"),G=new r.default(!1,(0,C._)("Control brush opacity with pen pressure")),
H=new c.default(1,255),N=new r.default(!0,(0,C._)("Control brush size with pen pressure")),J=new c.default(1,200,!1,!0),R=new r.default(!1,(0,C._)("Control brush scattering with pen pressure")),fa=new c.default(0,1E3,!1,!0),Y=new c.default(0,100,!1,!0),sa=new c.default(0,100,!1,!0),ka=new c.default(0,100,!1,!0),Q=new c.default(0,100,!1,!0),ja=new b.CPBrushPreview(A);this.getElement=function(){return O};H.title=function(ca){return(0,C._)("Opacity")+": "+ca};H.on("valueChange",function(ca){A.setAlpha(ca)});
J.title=function(ca){return(0,C._)("Brush size")+": "+ca};J.on("valueChange",function(ca){A.setBrushSize(ca)});Y.title=function(ca){return(0,C._)("Color")+": "+ca+"%"};Y.on("valueChange",function(ca){A.getBrushInfo().resat=ca/100;A.callToolListeners()});sa.title=function(ca){return(0,C._)("Blend")+": "+ca+"%"};sa.on("valueChange",function(ca){A.getBrushInfo().bleed=ca/100;A.callToolListeners()});ka.title=function(ca){return(0,C._)("Spacing")+": "+ca+"%"};ka.on("valueChange",function(ca){A.getBrushInfo().spacing=
ca/100;A.callToolListeners()});fa.title=function(ca){return(0,C._)("Scattering")+": "+ca+"%"};fa.on("valueChange",function(ca){A.getBrushInfo().scattering=ca/100;A.callToolListeners()});Q.title=function(ca){return(0,C._)("Smoothing")+": "+ca+"%"};Q.on("valueChange",function(ca){A.getBrushInfo().smoothing=ca/100;A.callToolListeners()});R.on("valueChange",function(ca){A.getBrushInfo().pressureScattering=ca;A.callToolListeners()});G.on("valueChange",function(ca){A.getBrushInfo().pressureAlpha=ca;A.callToolListeners()});
N.on("valueChange",function(ca){A.getBrushInfo().pressureSize=ca;A.callToolListeners()});z.addEventListener("change",function(ca){A.getBrushInfo().tip=parseInt(z.value,10)});z.className="form-control form-control-sm";v(z,["Round Pixelated","Round Hard Edge","Round Soft","Square Pixelated","Square Hard Edge"]);O.appendChild(z);O.appendChild(ja.getElement());O.appendChild(k(N,J));O.appendChild(k(G,H));O.appendChild(Y.getElement());O.appendChild(sa.getElement());O.appendChild(ka.getElement());O.appendChild(k(R,
fa));O.appendChild(Q.getElement());G.setValue(A.getBrushInfo().pressureAlpha);H.setValue(A.getAlpha());N.setValue(A.getBrushInfo().pressureSize);J.setValue(A.getBrushSize());R.setValue(A.getBrushInfo().pressureScattering);fa.setValue(~~(100*A.getBrushInfo().scattering));z.value=A.getBrushInfo().tip;Y.setValue(~~(100*A.getBrushInfo().resat));sa.setValue(~~(100*A.getBrushInfo().bleed));ka.setValue(~~(100*A.getBrushInfo().spacing));Q.setValue(~~(100*A.getBrushInfo().smoothing));A.on("toolChange",function(ca,
ua){H.setValue(ua.alpha);J.setValue(ua.size);N.setValue(ua.pressureSize);G.setValue(ua.pressureAlpha);z.value=ua.tip;R.setValue(ua.pressureScattering);~~(100*ua.resat)!=Y.value&&Y.setValue(~~(100*ua.resat));~~(100*ua.bleed)!=sa.value&&sa.setValue(~~(100*ua.bleed));~~(100*ua.spacing)!=ka.value&&ka.setValue(~~(100*ua.spacing));~~(100*ua.scattering)!=fa.value&&fa.setValue(~~(100*ua.scattering));~~(100*ua.smoothing)!=Q.value&&Q.setValue(~~(100*ua.smoothing))});(0,B.default)("1,2,3,4,5,6,7,8,9,0",function(ca,
ua){ca=parseInt(ua.shortcut,10);0==ca&&(ca=10);A.setAlpha(Math.round(ca/10*255))});(0,B.default)("{,[",function(){for(var ca=A.getBrushSize(),ua=I.length-1;0<=ua;ua--)if(ca>I[ua]){A.setBrushSize(I[ua]);break}});(0,B.default)("},]",function(){for(var ca=A.getBrushSize(),ua=0;ua<I.length;ua++)if(ca<I[ua]){A.setBrushSize(I[ua]);break}})}function w(A){function I(){var J=[G.getAlpha()<<24|G.getColorRgb(),H.getAlpha()<<24|H.getColorRgb()];A.setCurGradient(J)}var O=document.createElement("div"),z=new E(A),
G=new h.default(new e.default(A.getCurGradient()[0]&16777215),A.getCurGradient()[0]>>>24,O),H=new h.default(new e.default(A.getCurGradient()[1]&16777215),A.getCurGradient()[1]>>>24,O);this.getElement=function(){return O};O.className="chickenpaint-gradient-panel";O.style.display="none";G.on("colorChange",I);G.on("alphaChange",I);H.on("colorChange",I);H.on("alphaChange",I);var N=document.createElement("p");N.innerHTML=(0,C._)("Gradient");O.appendChild(N);O.appendChild(z.getElement());z=document.createElement("div");
z.className="chickenpaint-gradient-colors";N=document.createElement("div");N.className="chickenpaint-gradient-start-color";N.appendChild(G.getElement());z.appendChild(N);N=document.createElement("div");N.className="chickenpaint-gradient-end-color";N.appendChild(H.getElement());z.appendChild(N);O.appendChild(z)}function a(A){var I={smooth:(0,C._)("Smooth"),sharp:(0,C._)("Sharp")},O=document.createElement("div"),z=document.createElement("button"),G=document.createElement("button"),H=document.createElement("select");
this.getElement=function(){return O};O.className="chickenpaint-transform-panel";O.style.display="none";z.type="button";G.type="button";z.className="btn btn-primary btn-block";G.className="btn btn-light btn-block";z.innerHTML=(0,C._)("Apply transform");G.innerHTML=(0,C._)("Cancel");H.addEventListener("change",function(J){A.setTransformInterpolation(this.value)});H.className="form-control chickenpaint-transform-interpolation";v(H,I);if((0,p.isCanvasInterpolationSupported)()){I=document.createElement("div");
var N=document.createElement("label");N.innerHTML=(0,C._)("Transform style");I.className="form-group";I.appendChild(N);I.appendChild(H);O.appendChild(I)}H=document.createElement("div");H.appendChild(z);H.appendChild(G);H.className="form-group";O.appendChild(H);z.addEventListener("click",function(J){A.actionPerformed({action:"CPTransformAccept"});J.preventDefault()});G.addEventListener("click",function(J){A.actionPerformed({action:"CPTransformReject"});J.preventDefault()})}Object.defineProperty(D,
"__esModule",{value:!0});D.default=b;var m=y(g("../ChickenPaint.js")),q=y(g("./CPPalette.js")),r=y(g("./CPCheckbox.js")),h=y(g("./CPColorSwatch.js")),c=y(g("./CPSlider.js")),f=g("./CPGUIUtils.js"),n=y(g("../engine/CPColorBmp.js")),e=y(g("../util/CPColor.js")),p=g("../util/CPPolyfill.js"),u=y(g("jquery")),B=y(g("../../lib/keymaster.js")),C=g("../languages/lang");b.prototype=Object.create(q.default.prototype);b.prototype.constructor=b;b.CPBrushPreview=function(A){function I(){N.clearRect(0,0,H.width,
H.height);N.beginPath();N.arc(H.width/2,H.height/2,G/2*window.devicePixelRatio,0,2*Math.PI);N.stroke()}function O(R){var fa=(0,u.default)(H).offset(),Y=R.pageY-fa.top;R=R.pageX-fa.left-(0,u.default)(H).width()/2;Y-=(0,u.default)(H).height()/2;G=Math.max(1,Math.min(200,Math.round(2*Math.sqrt(R*R+Y*Y))));I();A.setBrushSize(G)}function z(R){J&&(J=!1,window.removeEventListener("mouseup",z),window.removeEventListener("mousemove",O))}var G=16,H=document.createElement("canvas"),N=H.getContext("2d"),J=!1;
this.getElement=function(){return H};H.addEventListener("mousedown",function(R){J||(J=!0,window.addEventListener("mouseup",z),window.addEventListener("mousemove",O),O(R))});A.on("toolChange",function(R,fa){fa.size!=G&&(G=fa.size,I())});H.width=64;H.height=64;1<window.devicePixelRatio&&(H.style.width=H.width+"px",H.style.height=H.height+"px",H.width*=window.devicePixelRatio,H.height*=window.devicePixelRatio);H.className="chickenpaint-brush-preview";N.strokeStyle="black";N.lineWidth=1*window.devicePixelRatio;
I()};K.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../engine/CPColorBmp.js":13,"../languages/lang":54,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"./CPCheckbox.js":27,"./CPColorSwatch.js":31,"./CPGUIUtils.js":33,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296}],26:[function(g,K,D){function y(J){return J&&J.__esModule?J:{default:J}}function k(){this.modes=[]}function v(J){function R(){}function fa(){}function Y(){this.shouldPaintBrushPreview=!1;this.oldPreviewRect=
null}function sa(){Y.call(this);this.smoothMouse={x:0,y:0}}function ka(){var aa,za;this.mouseDown=function(Qa,bb,ob){if(!this.capture&&0==bb&&!Qa.altKey&&!w.default.isPressed("space")&&Z())return this.capture=!0,aa=za={x:tb+.5,y:Hb+.5},this.eraseBrushPreview(),!0};this.mouseDrag=function(Qa){if(this.capture){var bb=new a.default(Math.min(aa.x,za.x)-1-1,Math.min(aa.y,za.y)-1-1,Math.max(aa.x,za.x)+1+1+1,Math.max(aa.y,za.y)+1+1+1);za={x:tb+.5,y:Hb+.5};if(Qa.shiftKey){var ob=Math.PI/4;Qa=Math.round(Math.atan2(za.y-
aa.y,za.x-aa.x)/ob);switch(Qa){case 0:case 4:za.y=aa.y;break;case 2:case 6:za.x=aa.x;break;default:Qa*=ob,ob=Math.sqrt((za.y-aa.y)*(za.y-aa.y)+(za.x-aa.x)*(za.x-aa.x)),za.x=aa.x+ob*Math.cos(Qa),za.y=aa.y+ob*Math.sin(Qa)}}bb.union(new a.default(Math.min(aa.x,za.x)-1-1,Math.min(aa.y,za.y)-1-1,Math.max(aa.x,za.x)+1+1+1,Math.max(aa.y,za.y)+1+1+1));nb(bb);return!0}this.mouseMove.call(this,Qa)};this.mouseUp=function(Qa,bb,ob){if(this.capture&&0==bb)return Qa=Ra(aa),bb=Ra(za),this.capture=!1,this.drawLine(Qa,
bb),Qa=new a.default(Math.min(aa.x,za.x)-1-1,Math.min(aa.y,za.y)-1-1,Math.max(aa.x,za.x)+1+1+1,Math.max(aa.y,za.y)+1+1+1),nb(Qa),!0};this.paint=function(){this.capture?(Ma.lineWidth=1,Ma.beginPath(),Ma.moveTo(aa.x,aa.y),Ma.lineTo(za.x,za.y),Ma.stroke()):Y.prototype.paint.call(this)};Y.call(this)}function Q(){var aa=0,za,Qa,bb,ob;this.mouseDown=function(U,ia,Aa){if(!this.capture&&0==ia&&!U.altKey&&!w.default.isPressed("space")&&Z())return U=Ra({x:tb,y:Hb}),aa=0,za=Qa=bb=ob=U,this.capture=!0,this.eraseBrushPreview(),
!0};this.mouseDrag=function(U){if(this.capture&&0===aa)return bb=ob=Ra({x:tb,y:Hb}),pa.repaintAll(),!0;this.mouseMove.call(this,U)};this.mouseUp=function(U,ia,Aa){if(this.capture&&0==ia){switch(aa){case 0:aa=1;break;case 1:aa=2;break;case 2:this.capture=!1;ia=za;Aa=Qa;var ba=bb,va=ob;U=new r.default;U.x0=ia.x;U.y0=ia.y;U.x1=Aa.x;U.y1=Aa.y;U.x2=ba.x;U.y2=ba.y;U.x3=va.x;U.y3=va.y;ia=Array(500);Aa=Array(500);U.compute(ia,Aa,500);vb.beginStroke(ia[0],Aa[0],1);for(U=1;500>U;U++)vb.continueStroke(ia[U],
Aa[U],1);vb.endStroke();pa.repaintAll()}return!0}};this.mouseMove=function(U,ia){if(this.capture)return U=Ra({x:tb,y:Hb}),1==aa?Qa=U:2==aa&&(bb=U),pa.repaintAll(),!0;Y.prototype.mouseMove.call(this,U,ia)};this.paint=function(){if(this.capture){var U=new r.default,ia=Ga(za),Aa=Ga(Qa),ba=Ga(bb),va=Ga(ob);U.x0=ia.x;U.y0=ia.y;U.x1=Aa.x;U.y1=Aa.y;U.x2=ba.x;U.y2=ba.y;U.x3=va.x;U.y3=va.y;var Ja=Array(100),Va=Array(100);U.compute(Ja,Va,100);Ma.beginPath();Ma.moveTo(Ja[0],Va[0]);for(U=1;100>U;U++)Ma.lineTo(Ja[U],
Va[U]);Ma.moveTo(~~ia.x,~~ia.y);Ma.lineTo(~~Aa.x,~~Aa.y);Ma.moveTo(~~ba.x,~~ba.y);Ma.lineTo(~~va.x,~~va.y);Ma.stroke()}else Y.prototype.paint.call(this)};Y.call(this)}function ja(){var aa;this.mouseDown=function(za,Qa,bb){if(this.capture)return!0;if(w.default.isPressed("space")||(0!=Qa||this.transient&&!za.altKey)&&2!=Qa)this.transient&&rb.pop();else return aa=Qa,this.capture=!0,ab("crosshair"),this.mouseDrag(za),!0};this.mouseDrag=function(za){if(this.capture)return za=Ra({x:tb,y:Hb}),vb.isPointWithin(za.x,
za.y)&&J.setCurColor(new A.default(vb.colorPicker(za.x,za.y))),!0};this.mouseUp=function(za,Qa,bb){if(this.capture&&Qa==aa)return aa=-1,this.capture=!1,ab("default"),this.transient&&rb.pop(),!0};this.enter=function(){R.prototype.enter.call(this);aa=-1}}function ca(){var aa,za,Qa,bb;this.keyDown=function(ob){if(" "===ob.key)return this.capture||ab("grab"),!0};this.keyUp=function(ob){if(this.transient&&1!=bb&&" "===ob.key)return ab("default"),rb.pop(),!0};this.mouseDown=function(ob,U,ia){if(this.capture)return!0;
if(1==U||w.default.isPressed("space")&&0==U||!this.transient&&0==U)return this.capture=!0,bb=U,aa=ob.pageX,za=ob.pageY,Qa=pa.getOffset(),ab("grabbing"),!0;this.transient&&rb.pop()};this.mouseDrag=function(ob){if(this.capture)return pa.setOffset(Qa.x+ob.pageX-aa,Qa.y+ob.pageY-za),!0};this.mouseUp=function(ob,U,ia){if(this.capture&&U==bb)return bb=-1,this.capture=!1,this.transient&&!w.default.isPressed("space")&&(ab("default"),rb.pop()),!0};this.enter=function(){ab("grab")}}function ua(){}function qa(){var aa,
za=new a.default(0,0,0,0),Qa=-1;this.mouseDown=function(bb,ob,U){if(!this.capture&&0==ob&&!bb.altKey&&!w.default.isPressed("space"))return bb=xb({x:tb,y:Hb}),Qa=ob,za.makeEmpty(),aa=bb,pa.repaintAll(),this.capture=!0};this.mouseDrag=function(bb){if(!this.capture)return!1;var ob=xb({x:tb,y:Hb});bb=bb.shiftKey;var U=~~Math.max(Math.abs(ob.x-aa.x),Math.abs(ob.y-aa.y));ob.x>=aa.x?(za.left=aa.x,za.right=(bb?aa.x+U:ob.x)+1):(za.left=bb?aa.x-U:ob.x,za.right=aa.x+1);ob.y>=aa.y?(za.top=aa.y,za.bottom=(bb?
aa.y+U:ob.y)+1):(za.top=bb?aa.y-U:ob.y,za.bottom=aa.y+1);pa.repaintAll();return!0};this.mouseUp=function(bb,ob,U){if(this.capture&&ob==Qa)return vb.rectangleSelection(za),za.makeEmpty(),pa.repaintAll(),this.capture=!1,Qa=-1,!0};this.paint=function(){za.isEmpty()||(Ma.lineWidth=1,Ba(Ma,Ia(za)))}}function ya(){var aa,za,Qa=!1;this.mouseDown=function(bb,ob,U){if(!this.capture&&0==ob&&!w.default.isPressed("space")&&T())return aa=Ra({x:tb,y:Hb}),za=bb.altKey,this.capture=Qa=!0};this.mouseDrag=(0,h.throttle)(25,
function(bb){if(this.capture){bb=Ra({x:tb,y:Hb});var ob=bb.x-aa.x,U=bb.y-aa.y,ia=~~ob,Aa=~~U;if(0!=ia||0!=Aa)vb.move(ia,Aa,za&&Qa),Qa=!1;aa.x=bb.x-(ob-ia);aa.y=bb.y-(U-Aa);return!0}});this.mouseUp=function(bb,ob,U){if(this.capture&&0==ob)return this.capture=!1,this.transient&&rb.pop(),!0}}function ma(){function aa(Ka,Za){return{x:(Ka.x+Za.x)/2,y:(Ka.y+Za.y)/2}}function za(Ka){return{x:Math.round(Ka.x),y:Math.round(Ka.y)}}function Qa(Ka,Za){for(var $a=0;$a<Ka.points.length;$a++)if(49>=(Za.x-Ka.points[$a].x)*
(Za.x-Ka.points[$a].x)+(Za.y-Ka.points[$a].y)*(Za.y-Ka.points[$a].y))return 2*$a;for($a=0;$a<Ka.points.length;$a++){var lb=Ka.points[$a],Lb=Ka.points[($a+1)%Ka.points.length];Lb=new n.default(Lb.x-lb.x,Lb.y-lb.y);lb=new n.default(Za.x-lb.x,Za.y-lb.y);var Db=Lb.getLength(),Nb=Lb.getScaled(1/Db);Db=lb.getScaled(1/Db);Nb=Nb.getDotProduct(Db);if(0<=Nb&&1>=Nb&&(Lb.scale(Nb),49>=(Lb.x-lb.x)*(Lb.x-lb.x)+(Lb.y-lb.y)*(Lb.y-lb.y)))return 2*$a+1}return Ka.containsPoint(Za)?-3:-2}function bb(){var Ka=Aa.getTransformed(Qb),
Za=Qa(Ka,{x:tb,y:Hb});switch(Za){case 0:case 2:case 4:case 6:Za=~~(Za/2);var $a=Ka.points[Za],lb=Ka.points[(Za+1)%4];Ka=n.default.subtractPoints(Ka.points[(Za+3)%4],$a).normalize().add(n.default.subtractPoints(lb,$a).normalize());ob(Ka);break;case 1:case 3:case 5:case 7:Ka=n.default.subtractPoints(Ka.points[(~~(Za/2)+1)%4],Ka.points[~~(Za/2)]).getPerpendicular();ob(Ka);break;case -3:ab("move");break;case -2:ab("default");break;default:ab("default")}}function ob(Ka){Ka=Math.floor(Math.atan2(-Ka.y,
Ka.x)/(Math.PI/4)+.5);0>Ka&&(Ka+=4);switch(Ka){default:Ka="ew-resize";break;case 1:Ka="nesw-resize";break;case 2:Ka="ns-resize";break;case 3:Ka="nwse-resize"}ab(Ka)}var U,ia,Aa,ba=-1,va,Ja,Va;this.mouseDown=function(Ka,Za,$a){if(!this.capture&&0==Za&&!Ka.altKey&&!w.default.isPressed("space"))return Ka=Aa.getTransformed(Qb),ba=Qa(Ka,{x:tb,y:Hb}),va={x:tb,y:Hb},Ja=Ra(va),this.capture=!0,bb(),!0};this.mouseDrag=(0,h.throttle)(40,function(Ka){if(this.capture){var Za={x:tb,y:Hb};switch(ba){case -3:Ka=
za(Ra(Za));var $a=n.default.subtractPoints(Ka,Ja);Za=$a.getTruncated();$a=$a.subtract(Za);var lb=new m.default;lb.translate(Za.x,Za.y);U.preMultiply(lb);Ja=n.default.subtractPoints(Ka,$a);break;case -2:lb=Math.PI/4;$a=Aa.getCenter();var Lb=Ga($a),Db=Math.atan2(Za.y-Lb.y,Za.x-Lb.x)-Math.atan2(va.y-Lb.y,va.x-Lb.x);Lb=new m.default;Va+=Db;Ka=Ka.shiftKey?-U.decompose().rotate+Math.round(Va/lb)*lb:Db;Lb.rotateAroundPoint(Ka,$a.x,$a.y);U.preMultiply(Lb);va=Za;break;case 0:case 2:case 4:case 6:lb=~~(ba/
2);$a=ia.points[lb];Lb=U.getInverted().getTransformedPoint(za(Ra(Za)));Za=ia.points[(lb+2)%4];lb=(Lb.x-Za.x)/($a.x-Za.x);$a=(Lb.y-Za.y)/($a.y-Za.y);if(.001>Math.abs(lb)||.001>Math.abs($a)||isNaN(lb)||isNaN($a))return!0;Ka.shiftKey&&($a=lb=Ka=Math.max(lb,$a));U.scaleAroundPoint(lb,$a,Za.x,Za.y);break;case 1:case 5:case 3:case 7:Ka=~~(ba/2);$a=aa(ia.points[Ka],ia.points[(Ka+1)%4]);Za=U.getInverted().getTransformedPoint(za(Ra(Za)));Ka=aa(ia.points[(Ka+2)%4],ia.points[(Ka+3)%4]);$a=n.default.subtractPoints($a,
Ka);Za=n.default.subtractPoints(Za,Ka);lb=$a.getLength();$a=$a.getDotProduct(Za)/lb/lb;if(.001>Math.abs($a)||isNaN($a))return!0;1==ba||5==ba?Za=1:(Za=$a,$a=1);U.scaleAroundPoint(Za,$a,Ka.x,Ka.y)}Aa=ia.getTransformed(U);vb.transformAffineAmend(U);pa.repaintAll();return!0}});this.mouseUp=function(Ka,Za,$a){if(this.capture&&0==Za)return this.capture=!1,ba=-1,!0};this.mouseMove=function(){this.capture||bb()};this.paint=function(){for(var Ka=Aa.getTransformed(Qb).points,Za=Array(2*Ka.length),$a=0;$a<Ka.length;$a++)Za[$a]=
Ka[$a];for($a=0;$a<Ka.length;$a++){var lb=Ka[$a],Lb=Ka[($a+1)%Ka.length];Za[$a+Ka.length]={x:(lb.x+Lb.x)/2,y:(lb.y+Lb.y)/2}}(0,B.setContrastingDrawStyle)(Ma,"fill");for($a=0;$a<Za.length;$a++)Ma.fillRect(Za[$a].x-3,Za[$a].y-3,7,7);Ba(Ma,Ka)};this.keyDown=function(Ka){if("Enter"===Ka.key)return J.actionPerformed({action:"CPTransformAccept"}),!0;if("Escape"===Ka.key)return J.actionPerformed({action:"CPTransformReject"}),!0};this.enter=function(){R.prototype.enter.call(this);var Ka=vb.transformAffineBegin();
U=Ka.transform;var Za=Ka.selection;Za.isEmpty()&&(Za=Ka.rect.clone());ia=new c.default(Za.toPoints());Aa=ia.getTransformed(U);ba=-1;Va=0;pa.repaintAll()};this.leave=function(){R.prototype.leave.call(this);pa.repaintAll()}}function Oa(){var aa,za,Qa=0,bb,ob=!1,U=-1;this.mouseDown=function(ia,Aa,ba){if(this.capture)return!0;if(!this.transient&&0==Aa&&!ia.altKey&&!w.default.isPressed("space")||0==Aa&&!ia.altKey&&!w.default.isPressed("space")&&w.default.isPressed("r"))return aa=tb,za=Hb,Qa=pa.getRotation(),
bb=Qb.clone(),ob=!1,this.capture=!0,U=Aa,!0;this.transient&&rb.pop()};this.mouseDrag=function(ia){if(this.capture){var Aa=tb,ba=Hb,va=(0,d.default)(Da).width()/2,Ja=(0,d.default)(Da).height()/2;ia=Da.width/2;var Va=Da.height/2;Aa=Math.atan2(ba-Ja,Aa-va)-Math.atan2(za-Ja,aa-va);ba=new m.default;ba.rotateAroundPoint(Aa,ia,Va);ba.multiply(bb);pa.setRotation(Qa+Aa);pa.setOffset(~~ba.getTranslateX(),~~ba.getTranslateY());return ob=!0}};this.mouseUp=function(ia,Aa,ba){if(this.capture&&Aa==U){if(ob){ia=
Math.round(jc/(Math.PI/2))*Math.PI/2;if(Math.abs(jc-ia)<5/180*Math.PI){ia-=Qa;Aa=Da.width/2;ba=Da.height/2;var va=new m.default;va.rotateAroundPoint(ia,Aa,ba);va.multiply(bb);pa.setRotation(Qa+ia);pa.setOffset(~~va.getTranslateX(),~~va.getTranslateY());pa.repaintAll()}pa.emitEvent("canvasRotated90",[pa.getRotation90()])}else pa.resetRotation();this.capture=!1;this.transient&&!w.default.isPressed("r")&&rb.pop();return!0}};this.keyUp=function(ia){if(this.transient&&1!=U&&" "===ia.key)return ab("default"),
rb.pop(),!0};this.keyDown=function(ia){if("r"===ia.key.toLowerCase())return!0}}function fb(){ka.call(this)}function ab(aa){Da.getAttribute("data-cursor")!=aa&&Da.setAttribute("data-cursor",aa)}function T(){var aa=vb.getActiveLayer();return aa.visible&&aa.ancestorsAreVisible()?0==aa.alpha?(J.showLayerNotification(aa,(0,E._)("Whoops! This layer's opacity is currently 0%"),"opacity"),!1):!0:(J.showLayerNotification(aa,(0,E._)("Whoops! This layer is currently hidden"),"layer"),!1)}function Z(){var aa=
vb.getActiveLayer();return aa instanceof u.default&&!vb.isEditingMask()?(J.showLayerNotification(aa,(0,E._)("Whoops! You can't draw on a group"),"layer"),!1):T()}function ra(aa,za,Qa,bb,ob){aa.setValues(-ob,bb,za-bb-ob+Qa/4,za+Qa-ob-Qa/4);aa.setBlockIncrement(Math.max(1,~~(.66*bb)));aa.setUnitIncrement(Math.max(1,~~(.05*bb)))}function Ca(){Qb.setToIdentity();Qb.translate(mb,qc);Qb.scale(P,P);Qb.rotate(jc);if(null!=Vb&&null!=kb&&!Vb.getValueIsAdjusting()&&!kb.getValueIsAdjusting()){var aa=cb(new a.default(0,
0,Ha.width,Ha.height));ra(Vb,aa.left,aa.getWidth(),(0,d.default)(Da).width(),pa.getOffset().x);ra(kb,aa.top,aa.getHeight(),(0,d.default)(Da).height(),pa.getOffset().y)}pa.repaintAll()}function Ra(aa){return Qb.getInverted().getTransformedPoint(aa)}function xb(aa){aa=Ra(aa);aa.x=Math.floor(aa.x);aa.y=Math.floor(aa.y);return aa}function Ib(aa){var za=Da.getBoundingClientRect();return{x:aa.x-za.left-window.pageXOffset,y:aa.y-za.top-window.pageYOffset}}function Ga(aa){return Qb.getTransformedPoint(aa)}
function la(aa){aa=Ga(aa);aa.x=Math.round(aa.x);aa.y=Math.round(aa.y);return aa}function Ia(aa){var za=Ga({x:(aa.left+aa.right)/2,y:(aa.top+aa.bottom)/2});aa=aa.toPoints();for(var Qa=0;Qa<aa.length;Qa++)aa[Qa]=la(aa[Qa]),aa[Qa].x+=.5*Math.sign(za.x-aa[Qa].x),aa[Qa].y+=.5*Math.sign(za.y-aa[Qa].y);return aa}function Ba(aa,za){aa.beginPath();aa.moveTo(za[0].x,za[0].y);for(var Qa=1;Qa<za.length;Qa++)aa.lineTo(za[Qa].x,za[Qa].y);aa.lineTo(za[0].x,za[0].y);aa.stroke()}function cb(aa){var za=la({x:aa.left-
1,y:aa.top-1}),Qa=la({x:aa.left-1,y:aa.bottom}),bb=la({x:aa.right,y:aa.top-1});aa=la({x:aa.right,y:aa.bottom});za=new a.default(Math.min(Math.min(za.x,Qa.x),Math.min(bb.x,aa.x)),Math.min(Math.min(za.y,Qa.y),Math.min(bb.y,aa.y)),Math.max(Math.max(za.x,Qa.x),Math.max(bb.x,aa.x))+1,Math.max(Math.max(za.y,Qa.y),Math.max(bb.y,aa.y))+1);za.grow(2,2);return za}function sb(){var aa=Da.width,za=Da.height,Qa=Ga({x:vb.width/2,y:vb.height/2});pa.setOffset(Math.round(mb+aa/2-Qa.x),Math.round(qc+za/2-Qa.y))}function ub(aa,
za,Qa){aa=Math.max(.1,Math.min(16,aa));if(pa.getZoom()!=aa){var bb=pa.getOffset();pa.setOffset(bb.x+~~((za-bb.x)*(1-aa/pa.getZoom())),bb.y+~~((Qa-bb.y)*(1-aa/pa.getZoom())));pa.setZoom(aa);pa.repaintAll()}}function Pa(aa){var za=(0,d.default)(Da).width(),Qa=(0,d.default)(Da).height();ub(aa,za/2,Qa/2)}function ta(aa){return tc?ac.getPressure():"mouse"===aa.pointerType&&0!==aa.buttons&&0===aa.pressure?1:"touch"===aa.pointerType?(0!==aa.pressure&&(wc=!0),wc?2*aa.pressure:1):2*aa.pressure}function Wa(){Ob||
(Ob=!0,window.requestAnimationFrame(function(){pa.paint()}))}function nb(aa){Sb.union(aa);Wa()}function jb(){Fb=vb.getBounds();pa.repaintAll()}var pa=this,Ea=document.createElement("div"),La=document.createElement("div"),Ya=document.createElement("div"),Da=document.createElement("canvas"),Ma=Da.getContext("2d"),Ha=document.createElement("canvas"),qb=Ha.getContext("2d"),fc=(0,B.createCheckerboardPattern)(Ma),vb=J.getArtwork(),P=1,mb=0,qc=0,jc=0,Qb=new m.default,eb=!1,bc=!1,Ua=32,tb=0,Hb=0,cc=!1,Mb=
[!1,!1,!1],tc=!1,rc=!1,wc=!1,Fb=vb.getBounds(),Sb=new a.default(0,0,0,0),Ob=!1,Tb,Rb=[],rb=new k,Vb=new C.default(!1),kb=new C.default(!0),ac=q.default.getRef();Math.sign=Math.sign||function(aa){aa=+aa;return 0===aa||isNaN(aa)?aa:0<aa?1:-1};R.prototype.transient=!1;R.prototype.capture=!1;R.prototype.enter=function(){ab("default")};R.prototype.leave=function(){this.capture=!1};R.prototype.mouseMove=R.prototype.paint=R.prototype.mouseDown=R.prototype.mouseDrag=R.prototype.mouseUp=R.prototype.keyDown=
R.prototype.suspend=R.prototype.resume=R.prototype.keyUp=function(){};fa.prototype=Object.create(R.prototype);fa.prototype.constructor=fa;fa.prototype.mouseDown=function(aa,za,Qa){var bb=w.default.isPressed("space");if(!bb&&(2==za||0==za&&aa.altKey))rb.push(hc,!0),rb.peek().mouseDown(aa,za,Qa);else if(!bb&&0==za&&!aa.altKey&&w.default.isPressed("r"))rb.push(nc,!0),rb.peek().mouseDown(aa,za,Qa);else if(1==za||!aa.altKey&&bb&&0==za)rb.push(gc,!0),rb.peek().mouseDown(aa,za,Qa)};fa.prototype.keyDown=
function(aa){if("r"===aa.key.toLowerCase()&&" "!==aa.key)rb.push(nc,!0),rb.peek().keyDown(aa);else if("r"!==aa.key.toLowerCase()&&" "===aa.key&&!aa.altKey)return rb.push(gc,!0),rb.peek().keyDown(aa),!0};Y.prototype=Object.create(R.prototype);Y.prototype.constructor=Y;Y.prototype.getBrushPreviewOval=function(){var aa=J.getBrushSize()*P;return new a.default(tb-aa/2,Hb-aa/2,tb+aa/2,Hb+aa/2)};Y.prototype.queueBrushPreview=function(){if(rb.peek()==this){this.shouldPaintBrushPreview=!0;var aa=this.getBrushPreviewOval();
aa.grow(2,2);null!=this.oldPreviewRect&&(aa.union(this.oldPreviewRect),this.oldPreviewRect=null);nb(aa)}};Y.prototype.eraseBrushPreview=function(){this.shouldPaintBrushPreview=!1;null!=this.oldPreviewRect&&(nb(this.oldPreviewRect),this.oldPreviewRect=null)};Y.prototype.mouseMove=function(aa,za){this.queueBrushPreview()};Y.prototype.enter=function(){R.prototype.enter.call(this);cc&&this.queueBrushPreview()};Y.prototype.leave=function(){R.prototype.leave.call(this);this.eraseBrushPreview()};Y.prototype.suspend=
Y.prototype.leave;Y.prototype.resume=Y.prototype.enter;Y.prototype.paint=function(){if(this.shouldPaintBrushPreview){this.shouldPaintBrushPreview=!1;var aa=this.getBrushPreviewOval();Ma.beginPath();Ma.arc((aa.left+aa.right)/2,(aa.top+aa.bottom)/2,aa.getWidth()/2,0,2*Math.PI);Ma.stroke();aa.grow(2,2);null==this.oldPreviewRect?this.oldPreviewRect=aa:this.oldPreviewRect.union(aa)}};sa.prototype=Object.create(Y.prototype);sa.prototype.constructor=sa;sa.prototype.mouseDown=function(aa,za,Qa){if(!this.capture&&
0==za&&!aa.altKey&&!w.default.isPressed("space")&&Z()&&(aa=Ra({x:tb,y:Hb}),this.eraseBrushPreview(),vb.beginStroke(aa.x,aa.y,Qa)))return this.capture=!0,this.smoothMouse=aa,!0};sa.prototype.mouseDrag=function(aa,za){(!navigator.maxTouchPoints||2>navigator.maxTouchPoints)&&Y.prototype.mouseMove.call(this,aa,za);if(this.capture){aa=Ra({x:tb,y:Hb});var Qa=Math.min(.999,Math.pow(J.getBrushInfo().smoothing,.3));this.smoothMouse.x=(1-Qa)*aa.x+Qa*this.smoothMouse.x;this.smoothMouse.y=(1-Qa)*aa.y+Qa*this.smoothMouse.y;
vb.continueStroke(this.smoothMouse.x,this.smoothMouse.y,za);return!0}this.mouseMove(aa)};sa.prototype.mouseUp=function(aa,za,Qa){if(this.capture)return 0==za&&(this.capture=!1,vb.endStroke()),!0};ka.prototype=Object.create(Y.prototype);ka.prototype.constructor=ka;ka.prototype.drawLine=function(aa,za){vb.beginStroke(aa.x,aa.y,1);vb.continueStroke(za.x,za.y,1);vb.endStroke()};Q.prototype=Object.create(Y.prototype);Q.prototype.constructor=Q;ja.prototype=Object.create(R.prototype);ja.prototype.constructor=
ja;ca.prototype=Object.create(R.prototype);ca.prototype.constructor=ca;ua.prototype=Object.create(R.prototype);ua.prototype.constructor=ua;ua.prototype.mouseDown=function(aa,za,Qa){if(0==za&&!aa.altKey&&!w.default.isPressed("space")&&Z())return aa=Ra({x:tb,y:Hb}),vb.isPointWithin(aa.x,aa.y)&&(vb.floodFill(aa.x,aa.y),pa.repaintAll()),!0};qa.prototype=Object.create(R.prototype);qa.prototype.constructor=qa;ya.prototype=Object.create(R.prototype);ya.prototype.constructor=ya;ya.prototype.mouseMove=function(aa){if(!w.default.isPressed("r"))return ab("move"),
!0};ya.prototype.enter=function(){ab("move")};ma.prototype=Object.create(R.prototype);ma.prototype.constructor=ma;Oa.prototype=Object.create(R.prototype);Oa.prototype.constructor=Oa;fb.prototype=Object.create(ka.prototype);fb.prototype.constructor=fb;fb.prototype.drawLine=function(aa,za){vb.gradientFill(Math.round(aa.x),Math.round(aa.y),Math.round(za.x),Math.round(za.y),J.getCurGradient())};fb.prototype.queueBrushPreview=function(){};this.setZoom=function(aa){P=aa;Ca()};this.getZoom=function(){return P};
this.setGridSize=function(aa){Ua=Math.max(Math.round(aa),1);this.repaintAll()};this.getGridSize=function(){return Ua};this.setOffset=function(aa,za){isNaN(aa)||isNaN(za)?console.log("Bad offset"):(mb=aa,qc=za,Ca())};this.getOffset=function(){return{x:mb,y:qc}};this.setInterpolation=function(aa){eb=aa;(0,f.setCanvasInterpolation)(Ma,aa);this.repaintAll()};this.setRotation=function(aa){jc=aa%(2*Math.PI);Ca()};this.getRotation=function(){return jc};this.getRotation90=function(){var aa=Math.round(this.getRotation()/
Math.PI*2);aa%=4;0>aa&&(aa+=4);return aa};this.zoomIn=function(){Pa(2*this.getZoom())};this.zoomOut=function(){Pa(.5*this.getZoom())};this.zoom100=function(){Pa(1);sb()};this.resetRotation=function(){var aa=Da.width/2,za=Da.height/2,Qa=new m.default;Qa.rotateAroundPoint(-this.getRotation(),aa,za);Qa.multiply(Qb);this.setOffset(~~Qa.getTranslateX(),~~Qa.getTranslateY());this.setRotation(0);pa.emitEvent("canvasRotated90",[0])};var vc=!1,kc;this.getElement=function(){return Ea};this.repaintAll=function(){Sb.left=
0;Sb.top=0;Sb.right=Da.width;Sb.bottom=Da.height;Wa()};this.paint=function(){var aa=!1;Ob=!1;Sb.isEmpty()||(Ma.save(),Ma.clipTo&&(Ma.beginPath(),Sb.left|=0,Sb.top|=0,Ma.rect(Sb.left,Sb.top,Math.ceil(Sb.getWidth()),Math.ceil(Sb.getHeight())),Ma.clip()),aa=!0);if(!Fb.isEmpty()){var za=Tb&&Tb.isOpen()?Tb.getImageData():vb.fusionLayers().getImageData();qb.putImageData(za,0,0,Fb.left,Fb.top,Fb.getWidth(),Fb.getHeight());Fb.makeEmpty()}Ma.fillStyle="#606060";Ma.fillRect(0,0,Da.width,Da.height);Ma.save();
Ma.setTransform(Qb.m[0],Qb.m[1],Qb.m[2],Qb.m[3],Qb.m[4],Qb.m[5]);Ma.fillStyle=fc;Ma.fillRect(0,0,vb.width,vb.height);Ma.drawImage(Ha,0,0,Ha.width,Ha.height);Ma.restore();(0,B.setContrastingDrawStyle)(Ma,"stroke");Ma.lineWidth=1;vb.getSelection().isEmpty()||rb.peek()instanceof qa&&rb.peek().capture||(Ma.setLineDash([3,2]),za=vb.getSelection(),Ba(Ma,Ia(za)),Ma.setLineDash([]));if(bc&&(za=vb.getBounds(),2<P*Ua)){Ma.beginPath();for(var Qa=Ua-1;Qa<za.right;Qa+=Ua){var bb=Ga({x:Qa,y:za.top}),ob=Ga({x:Qa,
y:za.bottom});Ma.moveTo(bb.x+.5,bb.y+.5);Ma.lineTo(ob.x+.5,ob.y+.5)}for(Qa=Ua-1;Qa<za.bottom;Qa+=Ua)bb=Ga({x:0,y:Qa}),ob=Ga({x:za.right,y:Qa}),Ma.moveTo(bb.x+.5,bb.y+.5),Ma.lineTo(ob.x+.5,ob.y+.5);Ma.stroke()}rb.paint(Ma);Ma.globalCompositeOperation="source-over";aa&&(Sb.makeEmpty(),Ma.restore())};this.showGrid=function(aa){bc=aa;this.repaintAll()};this.resize=function(aa,za){aa-=(0,d.default)(Ya).outerHeight();(0,d.default)(Da).css("height",aa+"px");Da.width=(0,d.default)(Da).width();Da.height=aa;
kc=null;za||sb();this.setInterpolation(eb);this.repaintAll()};J.on("toolChange",function(aa,za){aa=Rb[za.strokeMode];for(za=0;za<rb.modes.length;za++)if(rb.modes[za]instanceof Y){rb.modes[za].leave();rb.modes[za]=aa;rb.modes[za].enter();break}Cc=aa});J.on("modeChange",function(aa){switch(aa){case e.default.M_DRAW:var za=Cc;break;case e.default.M_FLOODFILL:za=xc;break;case e.default.M_GRADIENTFILL:za=Mc;break;case e.default.M_RECT_SELECTION:za=yc;break;case e.default.M_MOVE_TOOL:za=Dc;break;case e.default.M_ROTATE_CANVAS:za=
nc;break;case e.default.M_PAN_CANVAS:za=gc;break;case e.default.M_COLOR_PICKER:za=hc;break;case e.default.M_TRANSFORM:za=zc}rb.setUserMode(za)});J.on("maskViewOpened",function(aa){Tb&&Tb.off("changeLayer",jb);Tb=aa;Tb.on("changeLayer",jb);jb()});var lc=new fa;var hc=new ja;var gc=new ca;var nc=new Oa;var xc=new ua;var Mc=new fb;var yc=new qa;var Dc=new ya;var zc=new ma;Rb=[new sa,new ka,new Q];var Cc=Rb[p.default.STROKE_MODE_FREEHAND];rb.setDefaultMode(lc);rb.setUserMode(Cc);Ha.width=vb.width;Ha.height=
vb.height;Da.width=800;Da.height=900;Da.className="chickenpaint-canvas";Da.setAttribute("touch-action","none");Ma.setLineDash||(Ma.setLineDash=function(){});Da.addEventListener("contextmenu",function(aa){aa.preventDefault()});Da.addEventListener("mouseenter",function(){cc=!0});Da.addEventListener("mouseleave",function(){cc=!1;Mb[0]||Mb[2]||Mb[1]||pa.repaintAll()});Da.addEventListener("pointerdown",function(aa){rc&&"touch"===aa.pointerType||(Da.setPointerCapture(aa.pointerId),kc=Da.getBoundingClientRect(),
tb=aa.clientX-kc.left,Hb=aa.clientY-kc.top,tc=ac.isPen(),Mb[0]=!1,Mb[2]=!1,Mb[1]=!1,Mb[aa.button]=!0,rb.mouseDown(aa,aa.button,ta(aa)))});Da.addEventListener("pointermove",function(aa){kc||=Da.getBoundingClientRect();if(!rc||"touch"!==aa.pointerType){tb=aa.clientX-kc.left;Hb=aa.clientY-kc.top;var za=0!==aa.buttons,Qa=za?ta(aa):0;if(0!==(aa.buttons&1)!=Mb[0]){if(.5===aa.mozPressure)return;Mb[0]=!Mb[0];Mb[0]?rb.mouseDown(aa,0,Qa):rb.mouseUp(aa,0,Qa)}0!==(aa.buttons&2)!=Mb[2]&&(Mb[2]=!Mb[2],Mb[2]?rb.mouseDown(aa,
2,Qa):rb.mouseUp(aa,2,Qa));0!==(aa.buttons&4)!=Mb[1]&&(Mb[1]=!Mb[1],Mb[1]?rb.mouseDown(aa,1,Qa):rb.mouseUp(aa,1,Qa));za?rb.mouseDrag(aa,Qa):rb.mouseMove(aa,Qa);rc||"pen"!==aa.pointerType||(rc=!0)}});Da.addEventListener("pointerup",function(aa){Mb[0]=!1;Mb[2]=!1;tc=Mb[1]=!1;rb.mouseUp(aa,aa.button,0);Da.releasePointerCapture(aa.pointerId)});Da.addEventListener("wheel",function(aa){if(0!=aa.deltaY){if(!vc||20<Math.abs(aa.deltaY)){var za=0<aa.deltaY?1/1.15:1.15;var Qa=Ib({x:aa.pageX,y:aa.pageY}),bb=
Ra(Qa);vb.isPointWithin(bb.x,bb.y)?ub(pa.getZoom()*za,Qa.x,Qa.y):ub(pa.getZoom()*za,mb+~~(vb.width*P/2),qc+~~(vb.height*P/2));vc=vc||setTimeout(function(){vc=!1},50)}aa.preventDefault()}});document.addEventListener("keydown",function(aa){rb.keyDown(aa)});document.addEventListener("keyup",function(aa){"alt"===aa.key.toLowerCase()&&aa.preventDefault();rb.keyUp(aa)});document.addEventListener("visibilitychange",function(){var aa=Da.height+(0,d.default)(Ya).outerHeight();Da.width=1;Da.height=1;pa.resize(aa,
!0)},!1);window.addEventListener("scroll",function(){kc=null});Da.addEventListener("mousedown",function(aa){1==aa.button&&aa.preventDefault()});vb.on("changeSelection",function(){pa.repaintAll()});vb.on("updateRegion",function(aa){Fb.union(aa);nb(cb(Fb))});Vb.on("valueChanged",function(aa){var za=pa.getOffset();pa.setOffset(-aa,za.y)});kb.on("valueChanged",function(aa){var za=pa.getOffset();pa.setOffset(za.x,-aa)});this.setInterpolation(!1);lc=document.createElement("div");lc.className="chickenpaint-canvas-container-wrapper";
lc.appendChild(Da);La.className="chickenpaint-canvas-container-top";La.appendChild(lc);La.appendChild(kb.getElement());Ya.className="chickenpaint-canvas-container-bottom";Ya.appendChild(Vb.getElement());Ea.appendChild(La);Ea.appendChild(Ya);J.setCanvas(this)}Object.defineProperty(D,"__esModule",{value:!0});D.default=v;var E=g("../languages/lang.js"),b=y(g("wolfy87-eventemitter")),d=y(g("jquery")),w=y(g("../../lib/keymaster.js")),a=y(g("../util/CPRect.js")),m=y(g("../util/CPTransform.js")),q=y(g("../util/CPWacomTablet.js")),
r=y(g("../util/CPBezier.js")),h=g("../util/throttle-debounce"),c=y(g("../util/CPPolygon.js")),f=g("../util/CPPolyfill.js"),n=y(g("../util/CPVector.js")),e=y(g("../ChickenPaint.js")),p=y(g("../engine/CPBrushInfo.js")),u=y(g("../engine/CPLayerGroup.js"));y(g("../engine/CPMaskView.js"));var B=g("./CPGUIUtils.js"),C=y(g("./CPScrollbar.js")),A=y(g("../util/CPColor.js"));k.MODE_INDEX_DEFAULT=0;k.MODE_INDEX_USER=1;k.prototype.setMode=function(J,R){var fa=this.modes[J];fa!=R&&(fa&&fa.leave(),this.modes[J]=
R,R.enter())};k.prototype.setDefaultMode=function(J){J.transient=!1;J.capture=!1;this.setMode(k.MODE_INDEX_DEFAULT,J)};k.prototype.setUserMode=function(J){for(var R=this.modes.length-1;R>k.MODE_INDEX_USER;R--)this.modes[R].leave(),this.modes.splice(R,1);J.transient=!1;J.capture=!1;this.setMode(k.MODE_INDEX_USER,J)};k.prototype.deliverEvent=function(J,R){for(var fa=this.modes.length-1;0<=fa;fa--){var Y=this.modes[fa];if(Y[J].apply(Y,R)||Y.capture&&"paint"!=J)return!0}return!1};g=function(){var J=O[I];
k.prototype[J]=function(R,fa,Y){this.deliverEvent(J,[R,fa,Y])}};for(var I=0,O=["mouseDown","mouseUp"];I<O.length;I++)g();g=function(){var J=G[z];k.prototype[J]=function(R,fa){this.deliverEvent(J,[R,fa])}};for(var z=0,G=["mouseDrag","mouseMove"];z<G.length;z++)g();g=function(){var J=N[H];k.prototype[J]=function(R){this.deliverEvent(J,[R])&&R.preventDefault()}};for(var H=0,N=["keyDown","keyUp"];H<N.length;H++)g();k.prototype.paint=function(J){this.deliverEvent("paint",[J])};k.prototype.push=function(J,
R){var fa=this.peek();fa&&fa.suspend();J.transient=R;J.capture=!1;J.enter();this.modes.push(J)};k.prototype.peek=function(){return 0<this.modes.length?this.modes[this.modes.length-1]:null};k.prototype.pop=function(){var J=this.modes.pop(),R=this.peek();J&&J.leave();R&&R.resume();return R};v.prototype=Object.create(b.default.prototype);v.prototype.constructor=v;K.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../engine/CPBrushInfo.js":8,"../engine/CPLayerGroup.js":17,"../engine/CPMaskView.js":19,
"../languages/lang.js":54,"../util/CPBezier.js":57,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPPolygon.js":61,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/CPVector.js":65,"../util/CPWacomTablet.js":66,"../util/throttle-debounce":67,"./CPGUIUtils.js":33,"./CPScrollbar.js":41,jquery:296,"wolfy87-eventemitter":314}],27:[function(g,K,D){function y(k,v){function E(){var a=b.width;d.clearRect(0,0,a,b.height);d.beginPath();d.arc(a/2+1,a/2+1,Math.max(a/2,1)-2,0,2*Math.PI);
w.state?d.fill():d.stroke()}var b=document.createElement("canvas"),d=b.getContext("2d"),w=this;this.state=k||!1;this.setValue=function(a){this.state!=a&&(this.state=a,this.emitEvent("valueChange",[a]),E())};this.getElement=function(){return b};b.addEventListener("mousedown",function(a){w.setValue(!w.state)});b.title=v||"";b.className="chickenpaint-checkbox";b.width=20;b.height=20;b.fillStyle="black";b.strokeStyle="black";E()}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;g=function(k){return k&&
k.__esModule?k:{default:k}}(g("wolfy87-eventemitter"));y.prototype=Object.create(g.default.prototype);y.prototype.constructor=y;K.exports=D.default},{"wolfy87-eventemitter":314}],28:[function(g,K,D){function y(m){return m&&m.__esModule?m:{default:m}}function k(m){E.default.call(this,m,"color","Color (picker)");var q=new b.default(m),r=new d.default(m,q);m=new v(m);var h=this.getBodyElement(),c=document.createElement("div");c.className="chickenpaint-colorpicker-top";c.appendChild(q.getElement());c.appendChild(r.getElement());
h.appendChild(c);h.appendChild(m.getElement())}function v(m){function q(f,n,e){for(;f.length<e;)f=n+f;return f}function r(){c.style.backgroundColor="#"+q(Number(h).toString(16),"0",6)}var h=0,c=document.createElement("div");this.getElement=function(){return c};m.on("colorChange",function(f){h=f.getRgb();r()});c.className="chickenpaint-colorpicker-show";c.addEventListener("click",function(f){f.preventDefault();f="#"+q(Number(h).toString(16),"0",6);f=window.prompt((0,a._)("Please enter a color in hex format"),
f);if(null!=f)try{if(f.match(/^#/)||f.match(/^$/))f=f.substring(1);var n=parseInt(f,16);m.setCurColor(new w.default(n))}catch(e){}});r()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var E=y(g("./CPPalette.js")),b=y(g("./CPColorSelect.js")),d=y(g("./CPColorSlider.js")),w=y(g("../util/CPColor.js")),a=g("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang":54,"../util/CPColor.js":58,"./CPColorSelect.js":29,
"./CPColorSlider.js":30,"./CPPalette.js":39}],29:[function(g,K,D){function y(f){return f&&f.__esModule?f:{default:f}}function k(f){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},k(f)}function v(f,n){for(var e=0;e<n.length;e++){var p=n[e];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=
!0);Object.defineProperty(f,d(p.key),p)}}function E(f,n,e){n&&v(f.prototype,n);e&&v(f,e);Object.defineProperty(f,"prototype",{writable:!1});return f}function b(f,n,e){n=d(n);n in f?Object.defineProperty(f,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):f[n]=e;return f}function d(f){a:if("object"===k(f)&&null!==f){var n=f[Symbol.toPrimitive];if(void 0!==n){f=n.call(f,"string");if("object"!==k(f))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}f=String(f)}return"symbol"===
k(f)?f:String(f)}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var w=y(g("jquery")),a=y(g("../util/CPColor.js")),m=y(g("../engine/CPColorBmp.js")),q=g("./CPGUIUtils.js"),r=window.devicePixelRatio||1,h=Math.round(128*r),c=Math.round(128*r);D.default=function(){function f(n,e){var p=this;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");b(this,"_controller",void 0);b(this,"_canvas",void 0);b(this,"_canvasContext",void 0);b(this,"_imageData",void 0);
b(this,"_bitmapInvalid",!0);b(this,"_capturedMouse",!1);b(this,"_greyscale",!1);b(this,"color",new a.default(0));this._controller=n;var u=document.createElement("canvas");this._canvas=u;u.className="chickenpaint-colorpicker-select";u.setAttribute("touch-action","none");u.width=h;u.height=c;u.style.width="128px";u.style.height="128px";this._canvasContext=u.getContext("2d");this._imageData=this._canvasContext.createImageData(h,c);this._canvasContext.getImageData(0,0,1,1);this._handleEndDrag=this._endDrag.bind(this);
this._handleMousePickColor=this._mousePickColor.bind(this);u.addEventListener("pointerdown",function(B){return p._startDrag(B)});e&&this.color.copyFrom(e);n.on("colorChange",function(B){p.color.copyFrom(B);p._bitmapInvalid=!0;p.paint()});n.on("colorModeChange",function(B){p._greyscale="greyscale"==B;p._bitmapInvalid=!0;p.paint()});this.paint()}E(f,[{key:"_makeBitmap",value:function(){if(this._bitmapInvalid){var n=0,e=this._imageData.data;if(this._greyscale)for(var p=0;p<c;p++)for(var u=255-Math.round(p/
(c-1)*255),B=0;B<h;B++)e[n+m.default.RED_BYTE_OFFSET]=u,e[n+m.default.GREEN_BYTE_OFFSET]=u,e[n+m.default.BLUE_BYTE_OFFSET]=u,e[n+m.default.ALPHA_BYTE_OFFSET]=255,n+=m.default.BYTES_PER_PIXEL;else for(p=this.color.clone(),u=0;u<c;u++)for(p.setValue(255-~~(u/(c-1)*255)),B=0;B<h;B++)p.setSaturation(Math.round(B/(h-1)*255)),e[n+m.default.RED_BYTE_OFFSET]=p.rgb>>16&255,e[n+m.default.GREEN_BYTE_OFFSET]=p.rgb>>8&255,e[n+m.default.BLUE_BYTE_OFFSET]=p.rgb&255,e[n+m.default.ALPHA_BYTE_OFFSET]=255,n+=m.default.BYTES_PER_PIXEL;
this._bitmapInvalid=!1}}},{key:"paint",value:function(){this._makeBitmap();this._canvasContext.putImageData(this._imageData,0,0);var n=this.color.getSaturation()/255*(h-1),e=(255-this.color.getValue())/255*(c-1);(0,q.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5*r;this._canvasContext.beginPath();this._greyscale?(this._canvasContext.moveTo(0,e),this._canvasContext.lineTo(h,e)):this._canvasContext.arc(n,e,5*r,0,2*Math.PI);this._canvasContext.stroke();this._canvasContext.globalCompositeOperation=
"source-over"}},{key:"_mousePickColor",value:function(n){var e=n.pageX-(0,w.default)(this._canvas).offset().left;n=n.pageY-(0,w.default)(this._canvas).offset().top;n=Math.max(Math.min(255-~~(255*n/127),255),0);this._greyscale?this.color.setGreyscale(n):(e=Math.max(Math.min(~~(255*e/127),255),0),this.color.setHsv(this.color.getHue(),e,n));this.paint();this._controller.setCurColor(this.color)}},{key:"_endDrag",value:function(n){this._canvas.releasePointerCapture(n.pointerId);this._capturedMouse=!1;
this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(n){this._capturedMouse||(this._capturedMouse=!0,this._canvas.setPointerCapture(n.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(n)}},{key:"setHue",value:function(n){this.color.getHue()!=n&&(this.color.setHue(n),
this._controller.setCurColor(this.color))}},{key:"getElement",value:function(){return this._canvas}}]);return f}();K.exports=D.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:296}],30:[function(g,K,D){function y(h){return h&&h.__esModule?h:{default:h}}function k(h){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&
c!==Symbol.prototype?"symbol":typeof c},k(h)}function v(h,c){for(var f=0;f<c.length;f++){var n=c[f];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(h,d(n.key),n)}}function E(h,c,f){c&&v(h.prototype,c);f&&v(h,f);Object.defineProperty(h,"prototype",{writable:!1});return h}function b(h,c,f){c=d(c);c in h?Object.defineProperty(h,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[c]=f;return h}function d(h){a:if("object"===k(h)&&null!==h){var c=
h[Symbol.toPrimitive];if(void 0!==c){h=c.call(h,"string");if("object"!==k(h))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}h=String(h)}return"symbol"===k(h)?h:String(h)}function w(h){for(var c=new m.default(65535),f=0,n=h.data,e=0;e<h.height;e++){c.setHue(359*e/h.height);for(var p=0;p<h.width;p++)n[f+q.default.RED_BYTE_OFFSET]=c.rgb>>16&255,n[f+q.default.GREEN_BYTE_OFFSET]=c.rgb>>8&255,n[f+q.default.BLUE_BYTE_OFFSET]=c.rgb&255,n[f+q.default.ALPHA_BYTE_OFFSET]=255,f+=
q.default.BYTES_PER_PIXEL}}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var a=y(g("jquery")),m=y(g("../util/CPColor.js")),q=y(g("../engine/CPColorBmp.js")),r=g("./CPGUIUtils.js");D.default=function(){function h(c,f,n){var e=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");b(this,"hue",void 0);b(this,"selecter",void 0);b(this,"_canvas",void 0);b(this,"_canvasContext",void 0);b(this,"_imageData",void 0);b(this,"_capturedMouse",!1);this.selecter=
f;this.hue=n||0;var p=document.createElement("canvas");this._canvas=p;c.on("colorChange",function(u){e.setHue(u.getHue())});c.on("colorModeChange",function(u){p.style.display="greyscale"==u?"none":"block"});p.setAttribute("touch-action","none");p.addEventListener("pointerdown",function(u){return e._startDrag(u)});p.width=24;p.height=128;p.className="chickenpaint-colorpicker-slider";this._canvasContext=p.getContext("2d");this._imageData=this._canvasContext.createImageData(24,128);this._canvasContext.getImageData(0,
0,1,1);this._handleEndDrag=this._endDrag.bind(this);this._handleMousePickColor=this._mousePickColor.bind(this);w(this._imageData);this.paint()}E(h,[{key:"paint",value:function(){this._canvasContext.putImageData(this._imageData,0,0);var c=128*this.hue/360;(0,r.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5;this._canvasContext.beginPath();this._canvasContext.moveTo(0,c);this._canvasContext.lineTo(24,c);this._canvasContext.stroke();this._canvasContext.globalCompositeOperation=
"source-over"}},{key:"_mousePickColor",value:function(c){c=~~(360*(c.pageY-(0,a.default)(this._canvas).offset().top)/128);this.hue=Math.max(0,Math.min(359,c));this.paint();this.selecter&&this.selecter.setHue(this.hue)}},{key:"_endDrag",value:function(c){this._canvas.releasePointerCapture(c.pointerId);this._capturedMouse=!1;this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(c){this._capturedMouse||
(this._capturedMouse=!0,this._canvas.setPointerCapture(c.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(c)}},{key:"getElement",value:function(){return this._canvas}},{key:"setHue",value:function(c){this.hue=c;this.paint()}}]);return h}();K.exports=D.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:296}],31:[function(g,K,D){function y(a){return a&&
a.__esModule?a:{default:a}}function k(a,m,q){function r(){for(var B=e.style,C=Number(f.getRgb()).toString(16);6>C.length;)C="0"+C;B.backgroundColor="#"+C}function h(){var B=document.createElement("div"),C=document.createElement("div"),A=new d.default(c,f),I=new w.default(c,A,f.getHue()),O=new b.default(0,255);B.className="chickenpaint-color-pick-panel";C.className="chickenpaint-colorpicker-top";C.appendChild(A.getElement());C.appendChild(I.getElement());B.appendChild(C);O.value=n;O.title=function(z){return(0,v._)("Opacity: ")+
z};O.on("valueChange",function(z){c.setAlpha(z)});B.appendChild(O.getElement());setTimeout(function(){O.resize()},0);return B}var c=this,f=new E.default(0),n=255,e=document.createElement("div");this.getElement=function(){return e};this.setColor=function(B){f.isEqual(B)||(f.copyFrom(B),r(),this.emitEvent("colorChange",[f]))};this.setAlpha=function(B){B!=n&&(n=B,r(),this.emitEvent("alphaChange",[n]))};this.getColorRgb=function(){return f.getRgb()};this.getAlpha=function(){return n};this.setCurColor=
this.setColor;e.className="chickenpaint-color-pick-swatch";a&&f.copyFrom(a);m&&(n=m);var p=new bootstrap.Popover(e,{html:!0,content:function(){window.addEventListener("mousedown",u);return h()},trigger:"manual",placement:"bottom",container:q||!1}),u=function(B){var C=B.target;C=C.closest(".popover-body")||C.classList.contains("chickenpaint-color-pick-panel")||C.classList.contains("chickenpaint-colorpicker-select")||C.classList.contains("chickenpaint-colorpicker-slider");B.preventDefault();C||p.hide()};
e.addEventListener("click",function(B){B.preventDefault();p.toggle()});e.addEventListener("hidden.bs.popover",function(){window.removeEventListener("mousedown",u)});r()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;y(g("jquery"));var v=g("../languages/lang.js"),E=y(g("../util/CPColor.js")),b=y(g("./CPSlider.js")),d=y(g("./CPColorSelect.js")),w=y(g("./CPColorSlider.js"));g=y(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;K.exports=
D.default},{"../languages/lang.js":54,"../util/CPColor.js":58,"./CPColorSelect.js":29,"./CPColorSlider.js":30,"./CPSlider.js":44,jquery:296,"wolfy87-eventemitter":314}],32:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d,w){var a=(0,E.default)('<div class="modal fade" tabindex="-1" role="dialog">\n\t            <div class="modal-dialog">\n\t                <div class="modal-content">\n\t                    <div class="modal-header">\n\t                        <h5 class="modal-title">'.concat((0,b._)("Complete transform"),
'</h5>\n\t                        <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n\t                        </button>\n\t                    </div>\n\t                    <div class="modal-body">\n\t                        <p>\n\t\t\t\t\t\t\t').concat((0,b._)("You need to finish transforming this layer before you can do that. What would you like to do with the transform?"),'\n\t\t\t\t\t\t\t</p>\n\t                    </div>\n\t                    <div class="modal-footer">\n\t                        <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,b._)("Cancel"),
'</button>\n\t                        <button type="button" class="btn btn-light chickenpaint-reject-transform" data-bs-dismiss="modal">').concat((0,b._)("Undo transform"),'</button>\n\t                        <button type="button" class="btn btn-primary chickenpaint-accept-transform" data-bs-dismiss="modal">').concat((0,b._)("Apply transform"),"</button>\n\t                    </div>\n\t                </div>\n\t            </div>\n\t        </div>\n\t    ")),m=this,q=(0,E.default)(".chickenpaint-accept-transform",
a),r=(0,E.default)(".chickenpaint-reject-transform",a);q.on("click",function(c){w.actionPerformed({action:"CPTransformAccept"});m.emitEvent("accept")});r.on("click",function(c){w.actionPerformed({action:"CPTransformReject"});m.emitEvent("reject")});d.appendChild(a[0]);var h=new bootstrap.Modal(a[0]);this.show=function(){h.show()};d.appendChild(a[0])}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("wolfy87-eventemitter")),E=y(g("jquery")),b=g("../languages/lang.js");k.prototype=
Object.create(v.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang.js":54,jquery:296,"wolfy87-eventemitter":314}],33:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.createCheckerboardPattern=function(y){for(var k=document.createElement("canvas"),v=k.getContext("2d"),E=v.createImageData(64,64),b=E.data,d=0,w=0;64>w;w++)for(var a=0;64>a;a++)0!=(a&8)^0!=(w&8)?(b[d++]=255,b[d++]=255,b[d++]=255):(b[d++]=204,b[d++]=204,b[d++]=204),b[d++]=255;k.width=
64;k.height=64;v.putImageData(E,0,0);return y.createPattern(k,"repeat")};D.setContrastingDrawStyle=function(y,k){k+="Style";y.globalCompositeOperation="exclusion";"exclusion"==y.globalCompositeOperation?y[k]="white":(y.globalCompositeOperation="difference",y[k]="#888","difference"!=y.globalCompositeOperation&&(y[k]="black"))}},{}],34:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(v,E){var b=(0,y.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,k._)("Grid options"),
'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Grid size"),'</label>\n                                    <input type="number" class="form-control chickenpaint-grid-size" value="" autofocus>\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,k._)("Cancel"),
'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-grid-settings" data-bs-dismiss="modal">').concat((0,k._)("Ok"),"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),d=(0,y.default)(".chickenpaint-grid-size",b),w=(0,y.default)(".chickenpaint-apply-grid-settings",b);this.show=function(){(new bootstrap.Modal(b[0])).show()};d.val(E.getGridSize());w.on("click",function(a){a=
parseInt(d.val(),10);E.setGridSize(a);bootstrap.Modal.getInstance(b[0]).hide()});b.on("shown.bs.modal",function(){d.trigger("focus")});b.on("keypress",function(a){"Enter"===a.key&&(a.preventDefault(),w.trigger("click"))});v.appendChild(b[0])};var y=function(v){return v&&v.__esModule?v:{default:v}}(g("jquery")),k=g("../languages/lang.js");K.exports=D.default},{"../languages/lang.js":54,jquery:296}],35:[function(g,K,D){function y(n){return n&&n.__esModule?n:{default:n}}function k(n){n.preventDefault();
n.stopPropagation()}function v(n){var e=document.createElement("span");e.className="fa "+n;return e}function E(n){var e=document.createElement("span");e.className="chickenpaint-icon chickenpaint-icon-"+n;return e}function b(n,e){var p=document.createElement("div"),u=document.createElement("label");p.className="form-check";n.className="form-check-input";u.className="form-check-label";u.setAttribute("for",n.id);u.appendChild(n);u.appendChild(document.createTextNode(e));p.appendChild(n);p.appendChild(u);
return p}function d(n){return{"image-layer":n instanceof c.default,"layer-group":n instanceof h.default,"clipping-mask":n instanceof c.default&&n.clip,"no-clipping-mask":n instanceof c.default&&!n.clip,"no-clipping-mask-or-is-group":!(n instanceof c.default)||!n.clip,mask:n&&null!==n.mask,"no-mask":n&&null===n.mask,"mask-enabled":n&&null!==n.mask&&n.maskVisible,"mask-disabled":n&&null!==n.mask&&!n.maskVisible}}function w(n){function e(){var ca=A.getActiveLayer();ca=d(ca);for(var ua=0,qa=["clipping-mask",
"no-clipping-mask-or-is-group"];ua<qa.length;ua++){var ya=qa[ua];(0,a.default)(".chickenpaint-action-require-"+ya,ja).css("display",ca[ya]?"inline-block":"none")}(0,a.default)("[data-action]",ja).each(function(){var ma=this.getAttribute("data-action");(0,a.default)(this).toggleClass("disabled",!n.isActionAllowed(ma))})}function p(){var ca=A.getActiveLayer();ca.getAlpha()!=H.value&&H.setValue(ca.getAlpha());for(var ua=A.getActiveLayer();N.lastChild;)N.removeChild(N.lastChild);for(var qa=q.default.LM_FIRST;qa<=
q.default.LM_LAST;qa++)if(qa!=q.default.LM_MULTIPLY2&&(qa==ua.blendMode||qa===q.default.LM_PASSTHROUGH&&ua instanceof h.default||qa<=q.default.LM_LAST_CHIBIPAINT)){var ya=document.createElement("option");ya.appendChild(document.createTextNode((0,f._)(q.default.BLEND_MODE_DISPLAY_NAMES[qa])));ya.value=qa!==q.default.LM_MULTIPLY||ua.blendMode===qa||ua.useLegacyMultiply?qa:q.default.LM_MULTIPLY2;N.appendChild(ya)}ca.getBlendMode()!=parseInt(N.value,10)&&(N.value=ca.getBlendMode());ca.getLockAlpha()!=
fa.checked&&(fa.checked=ca.getLockAlpha());e()}function u(){A=this;G.resize();p()}var B=this;m.default.call(this,n,"layers","Layers",{resizeHorz:!0,resizeVert:!0});var C=this,A=n.getArtwork(),I=null,O=this.getBodyElement(),z=this.getElement(),G=new function(){var ca;function ua(pa){"button"in pa&&0!==pa.button||(Ga(),(0,a.default)(this).off("click",ua))}function qa(pa){var Ea=(0,a.default)(".chickenpaint-layer",Ba);return Ea.get(Ea.length-1-pa)}function ya(pa){pa=(0,a.default)(pa).closest(".chickenpaint-layer");
if(pa.length){var Ea=(0,a.default)(".chickenpaint-layer",Ba);return Ea.length-1-Ea.index(pa)}return-1}function ma(pa,Ea){var La=(0,a.default)(".chickenpaint-layer",Ba);pa={layer:I[I.length-1],displayIndex:I.length-1,direction:"over"};for(var Ya=0;Ya<La.length;Ya++){var Da=La[La.length-1-Ya].getBoundingClientRect();if(0===Ya&&Ea>Da.bottom){pa=A.getLayersRoot().layers[0];pa={layer:pa,displayIndex:I.indexOf(pa),direction:"under"};break}else if(Ea>=Da.top){La=I[Ya];var Ma=Da.bottom-Da.top;pa={layer:La,
displayIndex:Ya};La instanceof h.default?Ea>=Da.top+.75*Ma?La.expanded&&0<La.layers.length?(pa.layer=La.layers[La.layers.length-1],pa.displayIndex--,pa.direction="over"):pa.direction="under":Ea>=Da.top+.25*Ma?La.expanded&&0<La.layers.length?(pa.layer=La.layers[La.layers.length-1],pa.displayIndex--,pa.direction="over"):pa.direction="inside":pa.direction="over":pa.direction=Ea>=Da.top+.5*Ma?"under":"over";break}}return pa.layer.parent==la.layer.parent&&("over"==pa.direction||"under"==pa.direction)&&
(Ea=pa.layer.parent,Ya=Ea.indexOf(pa.layer),"over"==pa.direction&&Ea.layers[Ya+1]==la.layer||"under"==pa.direction&&Ea.layers[Ya-1]==la.layer||pa.layer==la.layer)?null:la.layer instanceof h.default&&(pa.layer==la.layer&&"inside"==pa.direction||pa.layer.hasAncestor(la.layer))?null:pa}function Oa(){if(2===la.state){var pa=z.getBoundingClientRect(),Ea=!0,La=!0;la.dropTarget=ma(la.dragX,la.dragY);if(la.dropTarget){var Ya=qa(la.dropTarget.displayIndex);switch(la.dropTarget.direction){case "over":case "under":Ba.appendChild(la.dropBetweenMarkerElem);
Ea=la.dropTarget.layer.getDepth()-1;var Da;Ya=Ya.getBoundingClientRect();if("under"==la.dropTarget.direction&&la.dropTarget.layer instanceof h.default&&la.dropTarget.layer.expanded){for(Da=la.dropTarget.displayIndex-1;0<=Da&&I[Da].hasAncestor(la.dropTarget.layer);Da--);Da=qa(Da+1).getBoundingClientRect().bottom}else Da=Ya.bottom;Ea=Ya.left-pa.left+(0<Ea?26+16*Ea:0);la.dropBetweenMarkerElem.style.left=Ea+"px";la.dropBetweenMarkerElem.style.width=Ya.right-pa.left-Ea+"px";la.dropBetweenMarkerElem.style.top=
("over"==la.dropTarget.direction?Ya.top-1:Da+1)-pa.top+"px";(0,a.default)(".chickenpaint-layer-drop-target",Ba).removeClass("chickenpaint-layer-drop-target");Ea=!1;break;case "inside":var Ma=(0,a.default)(".chickenpaint-layer",Ba);Ma.each(function(Ha){(0,a.default)(this).toggleClass("chickenpaint-layer-drop-target",Ma.length-1-Ha==la.dropTarget.displayIndex)});La=!1}}La&&(0,a.default)(".chickenpaint-layer-drop-target",Ba).removeClass("chickenpaint-layer-drop-target");Ea&&(0,a.default)(la.dropBetweenMarkerElem).remove();
la.frameElem.style.top=la.dragY-pa.top-parseInt(la.frameElem.style.height,10)/2+"px"}else(0,a.default)(la.dropBetweenMarkerElem).remove(),(0,a.default)(la.frameElem).remove()}function fb(pa){var Ea=pa.getImageThumbnail().getAsCanvas(ub);Ea.title=(0,f._)("Image");Ea.className="chickenpaint-layer-thumbnail chickenpaint-layer-image-thumbnail";Ea.style.maxWidth=Ea.width/Ea.height*25+"px";pa!=A.getActiveLayer()||A.isEditingMask()||(Ea.className+=" active");return Ea}function ab(pa){var Ea=pa.getMaskThumbnail().getAsCanvas(ub);
Ea.title=(0,f._)("Layer mask");Ea.className="chickenpaint-layer-thumbnail chickenpaint-layer-mask-thumbnail";Ea.style.maxWidth=Ea.width/Ea.height*25+"px";pa==A.getActiveLayer()&&A.isEditingMask()&&(Ea.className+=" active");pa.maskVisible||(Ea.className+=" disabled",pa=Ea.getContext("2d"),pa.strokeStyle="red",pa.lineWidth=3,pa.moveTo(5,5),pa.lineTo(Ea.width-5,Ea.height-5),pa.moveTo(Ea.width-5,5),pa.lineTo(5,Ea.height-5),pa.stroke());return Ea}function T(pa,Ea){var La=document.createElement("div"),
Ya=document.createElement("div"),Da=document.createElement("div"),Ma=document.createElement("div"),Ha=document.createElement("div"),qb=document.createElement("div"),fc=document.createElement("div");La.className="chickenpaint-layer list-group-item";Ea==A.getActiveLayer()&&(La.className+=" active");Ya.className="chickenpaint-layer-eye";Ea.ancestorsAreVisible()||(Ya.className+=" chickenpaint-layer-eye-hidden-ancestors");Ya.style.marginRight=2+16*(Ea.getDepth()-1)+"px";Ea.visible?(La.className+=" chickenpaint-layer-visible",
Ya.appendChild(v("fa-eye"))):(La.className+=" chickenpaint-layer-hidden",Ya.appendChild(v("fa-eye-slash")));La.appendChild(Ya);Da.className="chickenpaint-layer-description";Ea instanceof c.default?(Ea.clip&&(La.className+=" chickenpaint-layer-clipped",Ma.appendChild(v("fa-level-down-alt fa-flip-horizontal"))),Ea.lockAlpha&&(Ya=E("lock-alpha"),Ya.title=(0,f._)("Transparency locked"),qb.appendChild(Ya))):Ea instanceof h.default&&(La.className+=" chickenpaint-layer-group",Ea.expanded?(La.className+=
" chickenpaint-layer-group-expanded",Ma.appendChild(v("fa-folder-open chickenpaint-layer-group-toggle"))):(La.className+=" chickenpaint-layer-group-collapsed",Ma.appendChild(v("fa-folder chickenpaint-layer-group-toggle"))));Ma.childNodes.length&&(Ma.className="chickenpaint-layer-icons",La.appendChild(Ma));try{Ea instanceof c.default&&La.appendChild(fb(Ea)),Ea.mask&&La.appendChild(ab(Ea))}catch(vb){console.log("Failed to create layer thumb")}Ma=Ea.name&&0<Ea.name.length?Ea.name:"(unnamed "+(Ea instanceof
h.default?"group":"layer")+")";Ha.innerText=Ma;Ha.setAttribute("title",Ma);Ha.className="chickenpaint-layer-name";fc.innerText=(0,f._)(q.default.BLEND_MODE_DISPLAY_NAMES[Ea.blendMode])+": "+Ea.alpha+"%";fc.className="chickenpaint-layer-blend";Da.appendChild(Ha);Da.appendChild(fc);La.appendChild(Da);qb.className="chickenpaint-layer-status";La.appendChild(qb);La.setAttribute("data-display-index",""+pa);La.setAttribute("data-toggle","dropdown");La.setAttribute("data-target","#chickenpaint-layer-pop");
return La}function Z(pa){if(-1<pa){var Ea=I[pa];pa=qa(pa);Ea&&pa&&J.show(Ea,pa)}}function ra(pa){var Ea=ya(pa.target);if(-1!=Ea){var La=A.getActiveLayer(),Ya=d(La);Pa=La;ca=pa.clientX;pa=0;for(La=["image-layer","layer-group","clipping-mask","no-clipping-mask","no-mask"];pa<La.length;pa++){var Da=La[pa];(0,a.default)(".chickenpaint-action-require-"+Da,sb).toggle(Ya[Da])}pa=0;for(La=["mask","mask-enabled","mask-disabled"];pa<La.length;pa++)Da=La[pa],(0,a.default)(".chickenpaint-action-require-"+Da,
sb).toggle(ta&&Ya[Da]);(0,a.default)("[data-action]",sb).each(function(){var Ma=this.getAttribute("data-action");(0,a.default)(this).parent().toggleClass("disabled","CPRenameLayer"!==Ma&&!n.isActionAllowed(Ma))});Ea=(0,a.default)(qa(Ea));(new bootstrap.Dropdown(Ea.get(0))).toggle()}}function Ca(pa){switch(la.state){case 2:(0,a.default)(la.layerElem).removeClass("chickenpaint-layer-dragging");la.dropTarget&&("inside"==la.dropTarget.direction?n.actionPerformed({action:"CPRelocateLayer",layer:la.layer,
toGroup:la.dropTarget.layer,toIndex:la.dropTarget.layer.layers.length}):n.actionPerformed({action:"CPRelocateLayer",layer:la.layer,toGroup:la.dropTarget.layer.parent,toIndex:la.dropTarget.layer.parent.indexOf(la.dropTarget.layer)+("over"==la.dropTarget.direction?1:0)}));la.dropTarget=null;la.state=0;Oa();break;default:la.state=0}Wa&&(clearTimeout(Wa),Wa=null);Ba.releasePointerCapture(pa.pointerId);Ba.removeEventListener("pointermove",xb);Ba.removeEventListener("pointerup",Ca)}function Ra(){la.state=
2;la.frameElem=document.createElement("div");la.frameElem.className="chickenpaint-layer-drag-frame";la.frameElem.style.width=(0,a.default)(la.layerElem).outerWidth(!1)+"px";la.frameElem.style.height=(0,a.default)(la.layerElem).outerHeight(!1)+"px";la.dropBetweenMarkerElem=document.createElement("div");la.dropBetweenMarkerElem.className="chickenpaint-layer-drop-between-mark";la.layerElem.className+=" chickenpaint-layer-dragging";Ba.appendChild(la.frameElem)}function xb(pa){pa=pa.clientY;switch(la.state){case 3:if(5<
Math.abs(pa-la.dragY))la.state=4;else break;case 4:cb.scrollTop=la.initialScrollTop+la.dragY-pa;break;case 1:if(5<Math.abs(pa-la.dragY))Ra();else break;case 2:la.dragY=pa,Oa()}}function Ib(pa,Ea,La){try{La?(0,a.default)(".chickenpaint-layer-mask-thumbnail",pa).replaceWith(ab(Ea)):(0,a.default)(".chickenpaint-layer-image-thumbnail",pa).replaceWith(fb(Ea))}catch(Ya){}}function Ga(){(0,a.default)(z).hasClass("show")&&((new bootstrap.Collapse(z)).hide(),(0,a.default)(z).collapse("hide").off("click"))}
var la={state:0,layer:null,layerElem:null,dragX:0,dragY:0,initialScrollTop:0,dropTarget:null,dropBetweenMarkerElem:null,frameElem:null},Ia=document.createElement("div"),Ba=document.createElement("div"),cb=Ba,sb=function(){var pa=document.createElement("div");pa.className="dropdown-menu";for(var Ea=0,La=[{title:"Rename...",action:"CPRenameLayer"},{require:["image-layer"],title:"Delete layer",action:"CPRemoveLayer"},{require:["layer-group"],title:"Delete group",action:"CPRemoveLayer"},{require:["image-layer",
"no-clipping-mask"],title:"Clip to the layer below",action:"CPCreateClippingMask"},{require:["image-layer","clipping-mask"],title:"Unclip from the layer below",action:"CPReleaseClippingMask"},{require:["no-mask"],title:"Add mask",action:"CPAddLayerMask"},{require:["mask"],title:"Delete mask",action:"CPRemoveLayerMask"},{require:["mask"],title:"Apply mask",action:"CPApplyLayerMask"},{require:["layer-group"],title:"Merge group",action:"CPGroupMerge"},{require:["mask-enabled"],title:"Disable mask",action:"CPSetMaskVisible",
actionData:{visible:"false"}},{require:["mask-disabled"],title:"Enable mask",action:"CPSetMaskVisible",actionData:{visible:"true"}}];Ea<La.length;Ea++){var Ya=La[Ea],Da=document.createElement("a");Da.className="dropdown-item";Ya.require&&(Da.className=Da.className+" "+Ya.require.map(function(Ha){return"chickenpaint-action-require-"+Ha}).join(" "));Da.href="#";Da.innerHTML=(0,f._)(Ya.title);Da.setAttribute("data-action",Ya.action);if(Ya.actionData)for(var Ma in Ya.actionData)Ya.actionData.hasOwnProperty(Ma)&&
Da.setAttribute("data-action-"+Ma,Ya.actionData[Ma]);pa.appendChild(Da)}return pa}(),ub=ca=0,Pa=null,ta=!1,Wa=null;this.buildLayers=function(){I=A.getLayersRoot().getLinearizedLayerList(!0);var pa=I.map(function(Ya,Da){return T(Da,Ya)}),Ea=document.createDocumentFragment();(0,a.default)(Ba).empty();for(var La=pa.length-1;0<=La;La--)Ea.appendChild(pa[La]);Ba.appendChild(Ea);Oa()};this.layerChanged=function(pa){var Ea=I.indexOf(pa),La=(0,a.default)(qa(Ea));0===La.length||pa instanceof h.default&&(pa.expanded!=
(0,a.default)(La).hasClass("chickenpaint-layer-group-expanded")||pa.visible!=(0,a.default)(La).hasClass("chickenpaint-layer-visible"))?this.buildLayers():La.replaceWith(T(Ea,pa))};this.setRotation90=function(pa){if(ub!=pa)for(ub=pa,pa=0;pa<I.length;pa++){var Ea=I[pa],La=(0,a.default)(qa(pa));0<La.length&&(Ib(La,Ea,!1),Ea.mask&&Ib(La,Ea,!0))}};this.layerImageThumbChanged=function(pa){var Ea=I.indexOf(pa);Ea=(0,a.default)(qa(Ea));0<Ea.length&&Ib(Ea,pa,!1)};this.layerMaskThumbChanged=function(pa){var Ea=
I.indexOf(pa);Ea=(0,a.default)(qa(Ea));0<Ea.length&&(pa.mask?Ib(Ea,pa,!0):(0,a.default)(".chickenpaint-layer-mask-thumbnail",Ea).remove())};this.activeLayerChanged=function(pa,Ea){(0,a.default)(".active",Ba).removeClass("active");pa=(0,a.default)(qa(I.indexOf(pa)));pa.addClass("active");(0,a.default)(".chickenpaint-layer-image-thumbnail",pa).toggleClass("active",!Ea);(0,a.default)(".chickenpaint-layer-mask-thumbnail",pa).toggleClass("active",Ea)};this.resize=function(){C.dismissNotification();this.buildLayers()};
this.getElement=function(){return Ia};this.revealLayer=function(pa){pa=qa(pa);var Ea=pa.getBoundingClientRect(),La=Ba.getBoundingClientRect();cb.scrollTop=Math.max(Math.min(Math.max(cb.scrollTop,cb.scrollTop+Ea.bottom-La.bottom),cb.scrollTop+Ea.top-La.top),0);return pa};z.id="chickenpaint-layer-pop";Ia.className="chickenpaint-layers-widget well";Ia.addEventListener("contextmenu",function(pa){return pa.preventDefault()},!0);sb.addEventListener("click",function(pa){var Ea=pa.target.getAttribute("data-action");
if(Ea){pa.preventDefault();Ga();n.actionPerformed({action:"CPSetActiveLayer",layer:Pa,mask:A.isEditingMask()});var La={action:Ea,layer:Pa};pa=pa.target.attributes;for(var Ya=0;Ya<pa.length;Ya++){var Da=pa[Ya].name.match(/^data-action-(.+)/);Da&&(La[Da[1]]=JSON.parse(pa[Ya].value))}"CPRenameLayer"===Ea?Z(I.indexOf(Pa)):n.actionPerformed(La)}});Ba.className="list-group";Ba.addEventListener("dblclick",function(pa){0===pa.button&&0<(0,a.default)(pa.target).closest(".chickenpaint-layer-description").length&&
0===(0,a.default)(pa.target).closest("input").length&&(Z(ya(pa.target)),pa.preventDefault())});Ba.addEventListener("pointerdown",function(pa){var Ea=(0,a.default)(pa.target).closest(".chickenpaint-layer")[0];Ea=ya(Ea);if(-1!=Ea){var La=I[Ea];if(0==pa.button&&(0,a.default)(pa.target).closest(".chickenpaint-layer-eye").length)n.actionPerformed({action:"CPSetLayerVisibility",layer:La,visible:!La.visible});else if(0==pa.button&&La instanceof h.default&&(0,a.default)(pa.target).closest(".chickenpaint-layer-group-toggle").length)n.actionPerformed({action:"CPExpandLayerGroup",
group:La,expand:!La.expanded});else{var Ya=A.getActiveLayer()!=La;ta=0<(0,a.default)(pa.target).closest(".chickenpaint-layer-mask-thumbnail").length||La instanceof h.default&&null!==La.mask&&Ya;if(0==pa.button&&pa.shiftKey&&ta)n.actionPerformed({action:"CPSetMaskVisible",layer:La,visible:!La.maskVisible});else{var Da=0==pa.button||Ya?ta:A.isEditingMask();var Ma=A.isEditingMask()!=Da;(Ya||Ma)&&n.actionPerformed({action:"CPSetActiveLayer",layer:La,mask:Da});Da&&pa.altKey?n.actionPerformed({action:"CPToggleMaskView"}):
0==pa.button?("pen"===pa.pointerType||"touch"===pa.pointerType?(la.state=3,la.initialScrollTop=cb.scrollTop,Wa&&clearTimeout(Wa),Wa=setTimeout(function(){3===la.state&&(Ra(),la.dragY=pa.clientY,Oa())},800)):la.state=1,la.dropTarget=null,la.layer=La,la.layerElem=qa(Ea),la.dragX=pa.clientX,la.dragY=pa.clientY,Ba.setPointerCapture(pa.pointerId),Ba.addEventListener("pointermove",xb),Ba.addEventListener("pointerup",Ca)):2==pa.button&&(pa.preventDefault(),ra(pa))}}}});Ba.setAttribute("touch-action","none");
for(var nb=0,jb=["ontouchstart","ontouchmove","ontouchend","ontouchcancel"];nb<jb.length;nb++)Ba.addEventListener(jb[nb],k);Ia.appendChild(Ba);Ia.appendChild(sb);(0,a.default)(z).on("show.bs.dropdown",function(pa){var Ea=(0,a.default)(pa.relatedTarget)[0];pa=(0,a.default)(z).find(".dropdown-menu");Ea=Ea.getBoundingClientRect();var La=z.getBoundingClientRect();pa.css({left:ca-pa.outerWidth(!0)-La.left+1+"px",top:Ea.top-pa.outerHeight(!0)/2-La.top+"px"});(0,a.default)(document).on("click",ua)})},H=
new r.default(0,100),N=document.createElement("select"),J=new function(){var ca=null,ua="",qa=document.createElement("input"),ya=this;this.hide=function(){ca=null;var ma=(0,a.default)(qa).parent();ma&&((0,a.default)(qa).remove(),ma.text(ua))};this.renameAndHide=function(){ca&&ca.name!=qa.value&&n.actionPerformed({action:"CPSetLayerName",layer:ca,name:qa.value});this.hide()};this.show=function(ma,Oa){ca=ma;ua=ca.name;qa.value=ua;(0,a.default)(".chickenpaint-layer-name",Oa).empty().append(qa);qa.select()};
qa.type="text";qa.className="chickenpaint-layer-rename form-control input-sm";qa.addEventListener("keydown",function(ma){ma.stopPropagation()});qa.addEventListener("keypress",function(ma){"Enter"===ma.key&&ya.renameAndHide();ma.stopPropagation()});qa.addEventListener("keyup",function(ma){"Escape"===ma.key&&ya.hide();ma.stopPropagation()});qa.addEventListener("blur",function(ma){ca&&ya.renameAndHide()})},R=document.createElement("input"),fa=document.createElement("input"),Y=!1,sa=this.setSize,ka=this.setWidth,
Q=this.setHeight;this.setSize=function(ca,ua){sa.call(this,ca,ua);this.dismissNotification();H.resize()};this.setWidth=function(ca){ka.call(this,ca);H.resize();G.resize()};this.setHeight=function(ca){Q.call(this,ca);G.resize()};this.setRotation90=function(ca){G.setRotation90(ca)};this.dismissNotification=function(){(0,a.default)(".chickenpaint-layer[aria-describedby],.chickenpaint-slider[aria-describedby]",O).each(function(ca,ua){ua=(0,a.default)(ua);(ca=bootstrap.Popover.getInstance(ua[0]))&&ca.dispose()});
Y&&(clearTimeout(Y),Y=!1)};this.showNotification=function(ca,ua,qa){var ya=I.indexOf(ca);ca=A.getActiveLayer()==ca&&"opacity"==qa?H.getElement():G.revealLayer(ya);B.dismissNotification();(new bootstrap.Popover(ca,{html:!1,content:ua,placement:"left",trigger:"manual",fallbackPlacement:[],boundary:"window",container:C.getElement()})).show();Y=setTimeout(function(){Y=!1;B.dismissNotification()},Math.max(Math.round(70*ua.length),3E3))};N.className="form-control form-control-sm";N.title=(0,f._)("Layer blending mode");
N.addEventListener("change",function(ca){n.actionPerformed({action:"CPSetLayerBlendMode",blendMode:parseInt(N.value,10)})});O.appendChild(N);H.title=function(ca){return(0,f._)("Opacity")+": "+ca+"%"};H.on("valueChange",function(ca){n.actionPerformed({action:"CPSetLayerAlpha",alpha:ca})});O.appendChild(H.getElement());R.id="chickenpaint-chk-sample-all-layers";R.type="checkbox";R.addEventListener("click",function(ca){A.setSampleAllLayers(R.checked)});O.appendChild(b(R,(0,f._)("Sample all layers")));
fa.id="chickenpaint-chk-lock-alpha";fa.type="checkbox";fa.addEventListener("click",function(ca){n.actionPerformed({action:"CPSetLayerLockAlpha",lock:fa.checked})});O.appendChild(b(fa,(0,f._)("Lock transparency")));O.appendChild(G.getElement());var ja=function(){var ca=[{title:"Add layer",icon:v("fa-file"),action:"CPAddLayer"},{title:"Add group",icon:v("fa-folder"),action:"CPAddGroup"},{title:"Add layer mask",icon:E("mask"),action:"CPAddLayerMask"},{title:"Clip to the layer below",icon:v("fa-level-down-alt fa-flip-horizontal"),
action:"CPCreateClippingMask",require:"no-clipping-mask-or-is-group"},{title:"Unclip from the layer below",icon:v("fa-level-down-alt fa-flip-horizontal"),action:"CPReleaseClippingMask",require:"clipping-mask"},{title:"Delete layer",icon:v("fa-trash"),action:"CPRemoveLayer"}],ua=document.createElement("ul");ua.className="chickenpaint-layer-buttons list-unstyled";for(var qa=function(){var Oa=ma[ya],fb=document.createElement("li");fb.setAttribute("data-action",Oa.action);fb.className="chickenpaint-small-toolbar-button "+
(Oa.require?"chickenpaint-action-require-"+Oa.require:"");fb.title=(0,f._)(Oa.title);fb.appendChild(Oa.icon);fb.addEventListener("click",function(){n.actionPerformed({action:Oa.action})});ua.appendChild(fb)},ya=0,ma=ca;ya<ma.length;ya++)qa();return ua}();O.appendChild(ja);A.on("changeActiveLayer",function(ca,ua,qa){G.activeLayerChanged(ua,qa);p()});A.on("changeLayer",function(ca){A=this;C.dismissNotification();G.layerChanged(ca);p()});A.on("changeStructure",u);A.on("changeLayerMaskThumb",function(ca){A=
this;G.layerMaskThumbChanged(ca)});A.on("changeLayerImageThumb",function(ca){A=this;G.layerImageThumbChanged(ca)});n.on("layerNotification",this.showNotification.bind(this));u.call(A)}Object.defineProperty(D,"__esModule",{value:!0});D.default=w;var a=y(g("jquery")),m=y(g("./CPPalette.js")),q=y(g("../engine/CPBlend.js")),r=y(g("./CPSlider.js")),h=y(g("../engine/CPLayerGroup.js"));y(g("../engine/CPLayer.js"));var c=y(g("../engine/CPImageLayer.js")),f=g("../languages/lang.js");w.prototype=Object.create(m.default.prototype);
w.prototype.constructor=w;K.exports=D.default},{"../engine/CPBlend.js":5,"../engine/CPImageLayer.js":15,"../engine/CPLayer.js":16,"../engine/CPLayerGroup.js":17,"../languages/lang.js":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296}],36:[function(g,K,D){function y(w){return w&&w.__esModule?w:{default:w}}function k(w,a){var m=this,q=document.createElement("div"),r=new E.default(w),h=new b.default(w),c=!1,f=this;this.togglePalettes=function(){h.togglePalettes()};this.arrangePalettes=function(){setTimeout(h.arrangePalettes.bind(h),
0)};this.constrainPalettes=function(){h.constrainPalettes()};this.showPalette=function(e,p){h.showPaletteByName(e,p)};this.getSwatches=function(){return h.palettes.swatches.getSwatches()};this.setSwatches=function(e){h.palettes.swatches.setSwatches(e)};this.getPaletteManager=function(){return h};this.setRotation90=function(e){r.setRotation(e*Math.PI/2);h.palettes.layers.setRotation90(e)};this.setFullScreenMode=function(e){c!==e&&(c=e,f.resize(),f.arrangePalettes())};this.resize=function(){var e=(0,v.default)(window).height(),
p=(0,v.default)(n.getElement()).outerHeight();r.resize(c?e-p:Math.min(Math.max(e-p-65,500),850),!1);f.constrainPalettes()};var n=new d.default(w,this);a.appendChild(n.getElement());q.className="chickenpaint-main-section";q.appendChild(r.getElement());q.appendChild(h.getElement());a.appendChild(q);r.on("canvasRotated90",function(e){h.palettes.layers.setRotation90(e)});window.addEventListener("resize",this.resize.bind(this));w.on("fullScreen",function(e){return m.setFullScreenMode(e)});w.on("toolbarStyleChange",
function(e){(0,v.default)(a).toggleClass("chickenpaint-toolbar-style-old","old"===e)});w.on("unsavedChanges",function(e){(0,v.default)(a).toggleClass("chickenpaint-unsaved",e)});setTimeout(this.resize.bind(this),0)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("./CPCanvas.js")),b=y(g("./CPPaletteManager.js")),d=y(g("./CPMainMenu.js"));g=y(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;K.exports=D.default},
{"./CPCanvas.js":26,"./CPMainMenu.js":37,"./CPPaletteManager.js":40,jquery:296,"wolfy87-eventemitter":314}],37:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(d,w){function a(n){var e=n.data("action"),p=n.data("checkbox");d.isActionAllowed(e)&&(p?(n.toggleClass("selected"),n=n.hasClass("selected")):n=!1,d.actionPerformed({action:e,checkbox:p,selected:n}))}function m(n){n=n.toUpperCase();n=n.replace(/(,.+)$/,"");
n=n.replace("ctrl+=","ctrl++");n=n.replace("\u2318+=","\u2318++");return n=h?n.replace(/([^+])\+/g,"$1"):n.replace(/([^+])\+/g,"$1 ")}function q(n){(0,k.default)("[data-action]",n).each(function(){var B=(0,k.default)(this),C=this.getAttribute("data-action");C=d.isActionAllowed(C);B.toggleClass("disabled",!C).toggleClass("hidden",!C&&!0===B.data("hideIfNotAvailable"))});(0,k.default)(".dropdown-divider",n).removeClass("hidden");n=(0,k.default)(".dropdown-item:not(.hidden),.dropdown-divider:not(.hidden)",
n);for(var e=null,p=0;p<n.length;p++){var u=(0,k.default)(n[p]);u.hasClass("dropdown-divider")?0===p||e?u.addClass("hidden"):e=u:e=null}e&&e.addClass("hidden")}var r=(0,k.default)('<nav class="navbar navbar-expand-md navbar-light bg-light"><a class="navbar-brand" href="#">ChickenPaint</a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#chickenpaint-main-menu-content" aria-controls="chickenpaint-main-menu-content" aria-expanded="false" aria-label="Toggle main menu"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="chickenpaint-main-menu-content"><ul class="navbar-nav mr-auto"></ul></div><div class="widget-nav" id="chickenpaint-palette-toggler-content"></div></nav>'),
h=/^Mac/i.test(navigator.platform);this.getElement=function(){return r[0]};(function(n,e){n.append(e.map(function(p){var u=(0,k.default)('<li class="nav-item dropdown"><a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">'+(0,E._)(p.name)+'</a><div class="dropdown-menu"></div></li>'),B=(0,k.default)(".dropdown-toggle",u),C=(0,k.default)(".dropdown-menu",u),A=new bootstrap.Dropdown(B[0]);u.on("show.bs.dropdown",function(){q(u);
(0,k.default)(document).one("click",function(){C.hasClass("show")&&A.hide()})});C.append(p.children.map(function(I){if(!I.action||d.isActionSupported(I.action)){"CPSend"!=I.action||d.isActionSupported("CPContinue")||(I.name=(0,E._)("Post Oekaki"),I.shortcut="ctrl+p");if("-"==I.name)var O=(0,k.default)('<hr class="dropdown-divider"></hr>');else O=(0,k.default)('<a class="dropdown-item" href="#" data-action="'+I.action+'"><span>'+(0,E._)(I.name)+"</span></a>"),I.checkbox&&O.data("checkbox",!0).toggleClass("selected",
!!I.checked),I.hideIfNotAvailable&&O.data("hideIfNotAvailable",!0);I.title&&O.attr("title",(0,E._)(I.title));if(I.shortcut){var z=O,G=document.createElement("small");h&&(I.shortcut=I.shortcut.replace(/SHIFT/im,"\u21e7"),I.shortcut=I.shortcut.replace(/ALT/im,"\u2325"),I.shortcut=I.shortcut.replace(/CTRL/im,"\u2318"));G.className="chickenpaint-shortcut";G.innerHTML=m(I.shortcut);z.append(G);(0,v.default)(I.shortcut,function(H){a(z);H.preventDefault();H.stopPropagation();return!1})}return O}}));return u}))})((0,k.default)(".navbar-nav",
r),b);(function(n,e){n.append(e.filter(function(p){return!!p.mnemonic&&d.isActionSupported(p.action)}).map(function(p){var u=(0,k.default)('<button class="widget-toggler selected" type="button" data-action="'.concat(p.action,'" data-checkbox="true" data-selected="').concat(!p.checked,'">')+"<span>"+p.mnemonic+"</span></button>");u.on("click",function(B){a(u);B.preventDefault()});return u}))})((0,k.default)(".widget-nav",r),b[5].children);(0,k.default)(r).on("click","a:not(.dropdown-toggle)",function(n){a((0,k.default)(this));
n.preventDefault()});(0,k.default)(".navbar-toggler",r).on("click",function(n){n.preventDefault()});w.getPaletteManager().on("paletteVisChange",function(n,e){(0,k.default)('[data-action="CPPal'+n.substring(0,1).toUpperCase()+n.substring(1)+'"]',r).toggleClass("selected",e)});var c=(0,k.default)(".dropdown-item[data-action=CPFullScreen]",r),f=(0,k.default)(".dropdown-item[data-action=CPToolbarStyle]",r);d.on("fullScreen",function(n){return c.toggleClass("selected",n)});c.toggleClass("selected",d.isFullScreen());
d.on("toolbarStyleChange",function(n){return f.toggleClass("selected","old"===n)});f.toggleClass("selected","old"===d.getToolbarStyle())};var k=y(g("jquery")),v=y(g("../../lib/keymaster.js")),E=g("../languages/lang.js"),b=[{name:"File",mnemonic:"F",children:[{name:"Save to my computer",action:"CPSave",mnemonic:"S",shortcut:"ctrl+s"},{name:"Save Oekaki",action:"CPSend",mnemonic:"S",shortcut:"ctrl+s"}]},{name:"Edit",mnemonic:"E",children:[{name:"Undo",action:"CPUndo",mnemonic:"U",shortcut:"ctrl+z",
title:"Undoes the most recent action"},{name:"Redo",action:"CPRedo",mnemonic:"R",shortcut:"shift+ctrl+z",title:"Redoes a previously undone action"},{name:"Clear history",action:"CPClearHistory",mnemonic:"H",title:"Removes all undo/redo information to regain memory"},{name:"-"},{name:"Cut",action:"CPCut",mnemonic:"T",shortcut:"ctrl+x"},{name:"Copy",action:"CPCopy",mnemonic:"C",shortcut:"ctrl+c"},{name:"Copy merged",action:"CPCopyMerged",mnemonic:"Y",shortcut:"shift+ctrl+c"},{name:"Paste",action:"CPPaste",
mnemonic:"P",shortcut:"ctrl+v"},{name:"-"},{name:"Select all",action:"CPSelectAll",mnemonic:"A",shortcut:"ctrl+a"},{name:"Deselect",action:"CPDeselectAll",mnemonic:"D",shortcut:"ctrl+d"},{name:"-"},{name:"Transform",action:"CPTransform",mnemonic:"T",shortcut:"ctrl+y"}]},{name:"Layers",mnemonic:"L",children:[{name:"Duplicate",action:"CPLayerDuplicate",mnemonic:"D",shortcut:"shift+ctrl+d",title:"Creates a copy of the currently selected layer"},{name:"-"},{name:"Merge down",action:"CPLayerMergeDown",
mnemonic:"E",shortcut:"ctrl+e",title:"Merges the currently selected layer with the one directly below it"},{name:"Merge group",action:"CPGroupMerge",mnemonic:"G",title:"Merges the contents of the selected group"},{name:"Merge all layers",action:"CPLayerMergeAll",mnemonic:"A",title:"Merges all the layers"},{name:"-"},{hideIfNotAvailable:!0,name:"Add layer mask",action:"CPAddLayerMask"},{hideIfNotAvailable:!0,name:"Delete layer mask",action:"CPRemoveLayerMask"},{hideIfNotAvailable:!0,name:"Apply layer mask",
action:"CPApplyLayerMask"},{name:"-"},{hideIfNotAvailable:!0,name:"Clip to the layer below",action:"CPCreateClippingMask"},{hideIfNotAvailable:!0,name:"Unclip from the layer below",action:"CPReleaseClippingMask"}]},{name:"Effects",mnemonic:"E",children:[{name:"Clear",action:"CPClear",mnemonic:"D",shortcut:"del,backspace",title:"Clears the selected area"},{name:"Fill",action:"CPFill",mnemonic:"F",shortcut:"ctrl+f",title:"Fills the selected area with the current color"},{name:"Flip horizontal",action:"CPHFlip",
mnemonic:"H",shortcut:"h",title:"Flips the current selected area horizontally"},{name:"Flip vertical",action:"CPVFlip",mnemonic:"V",title:"Flips the current selected area vertically"},{name:"Invert",action:"CPFXInvert",mnemonic:"I",title:"Invert the image colors"},{name:"-"},{name:"Box blur...",action:"CPFXBoxBlur",mnemonic:"B",title:"Blur effect"},{name:"-"},{name:"Monochromatic noise",action:"CPMNoise",mnemonic:"M",title:"Fills the selection with noise"},{name:"Color noise",action:"CPCNoise",mnemonic:"C",
title:"Fills the selection with colored noise"}]},{name:"View",mnemonic:"V",children:[{name:"Full-screen mode",action:"CPFullScreen",mnemonic:"F",checkbox:!0,checked:!1},{name:"Zoom in",action:"CPZoomIn",mnemonic:"I",shortcut:"ctrl+=",title:"Zooms in"},{name:"Zoom out",action:"CPZoomOut",mnemonic:"O",shortcut:"ctrl+-",title:"Zooms out"},{name:"Zoom 100%",action:"CPZoom100",mnemonic:"1",shortcut:"ctrl+0",title:"Resets the zoom factor to 100%"},{action:"CPLinearInterpolation",name:"-"},{name:"Smooth-out zoomed canvas",
action:"CPLinearInterpolation",mnemonic:"L",title:"Linear interpolation is used to give a smoothed looked to the picture when zoomed in",checkbox:!0},{name:"-"},{name:"Show grid",action:"CPToggleGrid",mnemonic:"G",shortcut:"ctrl+g",title:"Displays a grid over the image",checkbox:!0,checked:!1},{name:"Grid options...",action:"CPGridOptions",mnemonic:"D",title:"Shows the grid options dialog box"}]},{name:"Palettes",mnemonic:"P",children:[{name:"Rearrange",action:"CPArrangePalettes",title:"Rearrange the palette windows"},
{name:"Toggle palettes",action:"CPTogglePalettes",mnemonic:"P",shortcut:"tab",title:"Hides or shows all palettes"},{name:"Use old icons",action:"CPToolbarStyle",checkbox:!0,checked:!1},{name:"-"},{name:"Show tools",action:"CPPalTool",mnemonic:"T",checkbox:!0,checked:!0},{name:"Show color",action:"CPPalColor",mnemonic:"C",checkbox:!0,checked:!0},{name:"Show stroke",action:"CPPalStroke",mnemonic:"S",checkbox:!0,checked:!0},{name:"Show misc",action:"CPPalMisc",mnemonic:"M",checkbox:!0,checked:!0},{name:"Show swatches",
action:"CPPalSwatches",mnemonic:"W",checkbox:!0,checked:!0},{name:"Show textures",action:"CPPalTextures",mnemonic:"X",checkbox:!0,checked:!0},{name:"Show tool options",action:"CPPalBrush",mnemonic:"B",checkbox:!0,checked:!0},{name:"Show layers",action:"CPPalLayers",mnemonic:"L",checkbox:!0,checked:!0}]},{name:"Help",mnemonic:"H",children:[{name:"Tablet support",mnemonic:"T",action:"CPTabletSupport",title:"Help with getting a drawing tablet working"},{name:"Shortcuts",mnemonic:"S",action:"CPShortcuts",
title:"List of keyboard and mouse shortcuts"},{name:"-"},{name:"About",mnemonic:"A",action:"CPAbout",title:"Displays some information about ChickenPaint"}]}];K.exports=D.default},{"../../lib/keymaster.js":68,"../languages/lang.js":54,jquery:296}],38:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d){E.default.call(this,d,"misc","Misc");var w=this,a=[{className:"chickenpaint-tool-zoom-in",command:"CPZoomIn",toolTip:"Zoom in"},{className:"chickenpaint-tool-zoom-out",command:"CPZoomOut",
toolTip:"Zoom out"},{className:"chickenpaint-tool-zoom-100",command:"CPZoom100",toolTip:"Zoom 100%"},{className:"chickenpaint-tool-undo",command:"CPUndo",toolTip:"Undo"},{className:"chickenpaint-tool-redo",command:"CPRedo",toolTip:"Redo"},{className:"chickenpaint-tool-send",command:"CPSend",toolTip:"Save Oekaki"}];(function(){var m=w.getBodyElement(),q=document.createElement("ul");q.className="chickenpaint-misc-tools list-unstyled";for(var r in a){var h=a[r],c=document.createElement("li"),f=document.createElement("div");
"CPSend"!=h.command||d.isActionSupported("CPContinue")||(h.toolTip="Post Oekaki",h.className="chickenpaint-tool-send-and-end");c.className="chickenpaint-toolbar-button "+h.className;c.setAttribute("data-buttonIndex",r);c.setAttribute("title",(0,b._)(h.toolTip));f.className="chickenpaint-toolbar-button-icon";c.appendChild(f);q.appendChild(c)}(0,v.default)(q).on("mousedown","li",function(n){(0,v.default)(this).addClass("selected")}).on("mouseup","li",function(n){(0,v.default)(this).removeClass("selected")}).on("click",
"li",function(n){n=a[parseInt(this.getAttribute("data-buttonIndex"),10)];d.actionPerformed({action:n.command})});m.appendChild(q)})()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("./CPPalette.js")),b=g("../languages/lang.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang.js":54,"./CPPalette.js":39,jquery:296}],39:[function(g,K,D){function y(w){return w&&w.__esModule?w:{default:w}}function k(w,
a,m,q){var r,h,c,f;function n(fa){"vertResize"==N&&J.setHeight(fa.pageY-(0,v.default)(A).offset().top)}function e(fa){G.releasePointerCapture(fa.pointerId);N=!1}function p(fa){N="vertResize";G.setPointerCapture(fa.pointerId)}function u(fa){"horzResize"==N&&J.setWidth(fa.pageX-(0,v.default)(A).offset().left)}function B(fa){H.releasePointerCapture(fa.pointerId);N=!1}function C(fa){N="horzResize";H.setPointerCapture(fa.pointerId)}w.getSmallScreenMode()&&(0,b._)(m+" (shorter)")!==m+" (shorter)"?this.title=
(0,b._)(m+" (shorter)"):this.title=(0,b._)(m);q=q||{};this.name=a;this.resizeVert=q.resizeVert||!1;this.resizeHorz=q.resizeHorz||!1;var A=document.createElement("div");m=document.createElement("div");var I=document.createElement("i"),O=document.createElement("button"),z=document.createElement("div"),G=null,H=null,N,J=this;this.getElement=function(){return A};this.getBodyElement=function(){return z};this.getWidth=function(){return(0,v.default)(A).outerWidth()};this.getHeight=function(){return(0,v.default)(A).outerHeight()};
this.getX=function(){return parseInt(A.style.left,10)||0};this.getY=function(){return parseInt(A.style.top,10)||0};this.setLocation=function(fa,Y){A.style.left=fa+"px";A.style.top=Y+"px"};this.setWidth=function(fa){A.style.width=fa+"px"};this.setHeight=function(fa){A.style.height=fa+"px"};this.setSize=function(fa,Y){this.setWidth(fa);this.setHeight(Y)};this.setCollapseDownwards=function(fa){q.collapseDownwards=fa};this.toggleCollapse=function(fa){var Y=(0,v.default)(A);if(void 0===fa)fa=!Y.hasClass("collapsed");
else if(Y.hasClass("collapsed")==fa)return;var sa=Y.parents(".chickenpaint").find(".chickenpaint-canvas").height(),ka=this.getHeight();ka=this.getY()+ka;Y.toggleClass("collapsed",fa);(0,v.default)(I).toggleClass("fa-angle-down",!fa).toggleClass("fa-angle-up",fa);fa?q.collapseDownwards&&this.setLocation(this.getX(),Math.min(ka,sa)-this.getHeight()):(fa=this.getHeight(),q.collapseDownwards?this.setLocation(this.getX(),Math.max(ka-fa,0)):this.getY()+fa>sa&&this.setLocation(this.getX(),Math.max(sa-fa,
0)))};this.userIsDoneWithUs=function(){w.getSmallScreenMode()&&this.toggleCollapse(!0)};I.className="collapse-icon fas fa-angle-down";O.type="button";O.className="btn btn-close";O.innerHTML="";A.className="chickenpaint-palette chickenpaint-palette-"+a;m.className="chickenpaint-palette-head";m.setAttribute("touch-action","none");a=document.createElement("div");var R=document.createElement("h5");a.className="modal-header";R.className="modal-title";R.appendChild(document.createTextNode(this.title));
R.appendChild(I);a.appendChild(R);a.appendChild(O);m.appendChild(a);z.className="chickenpaint-palette-body";A.appendChild(m);A.appendChild(z);this.resizeVert&&(G=document.createElement("div"),G.className="chickenpaint-resize-handle-vert",G.addEventListener("pointerdown",p),G.addEventListener("pointermove",n),G.addEventListener("pointerup",e),A.appendChild(G));this.resizeHorz&&(H=document.createElement("div"),H.className="chickenpaint-resize-handle-horz",H.addEventListener("pointerdown",C),H.addEventListener("pointermove",
u),H.addEventListener("pointerup",B),A.appendChild(H));m.addEventListener("pointerdown",function(fa){0==fa.button&&(fa.stopPropagation(),fa.preventDefault(),"BUTTON"==fa.target.nodeName?J.emitEvent("paletteVisChange",[J,!1]):(c=parseInt(A.style.left,10)||0,f=parseInt(A.style.top,10)||0,r=fa.pageX-(0,v.default)(A).position().left,h=fa.pageY-(0,v.default)(A).position().top,N=w.getSmallScreenMode()?"dragStart":"dragging",fa.target.setPointerCapture(fa.pointerId)))});m.addEventListener("pointermove",
function(fa){if(("dragStart"===N||"dragging"===N)&&0!==fa.buttons){var Y=fa.pageX-r;fa=fa.pageY-h;"dragStart"==N&&(Y-c)*(Y-c)+(fa-f)*(fa-f)>d*d&&(N="dragging");"dragging"==N&&J.setLocation(Y,fa)}});m.addEventListener("pointerup",function(fa){if("dragging"===N||"dragStart"===N){"dragStart"===N&&(fa.stopPropagation(),fa.preventDefault(),setTimeout(function(){J.setLocation(c,f);J.toggleCollapse()},100));N=!1;try{fa.target.releasePointerCapture(fa.pointerId)}catch(Y){console.error(Y)}}})}Object.defineProperty(D,
"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("wolfy87-eventemitter")),b=g("../languages/lang"),d=5;k.prototype=Object.create(E.default.prototype);k.prototype.constructor=E.default;K.exports=D.default},{"../languages/lang":54,jquery:296,"wolfy87-eventemitter":314}],40:[function(g,K,D){function y(c){return c&&c.__esModule?c:{default:c}}function k(c){function f(){var N=(0,v.default)(B).parents(".chickenpaint").find(".chickenpaint-canvas");return{width:N.width(),height:N.height()}}
function n(N,J){var R=N.getElement();J?B.contains(R)||B.appendChild(R):B.contains(R)&&B.removeChild(R);C.emitEvent("paletteVisChange",[N.name,J])}var e={tool:new b.default(c),misc:new d.default(c),stroke:new w.default(c),color:new a.default(c),brush:new m.default(c),layers:new q.default(c),textures:new r.default(c),swatches:new h.default(c)},p={tool:!1,color:!1,misc:!1},u={color:!0,textures:!0,layers:!0},B=document.createElement("div"),C=this,A=[],I=[];this.palettes=e;this.showPaletteByName=function(N,
J){(N=e[N])&&n(N,J)};this.togglePalettes=function(){if(0==I.length)(0,v.default)("> .chickenpaint-palette",B).each(function(){C.showPaletteByName(this.getAttribute("data-paletteName"),!1);I.push(this)});else{for(var N=0;N<I.length;N++)C.showPaletteByName(I[N].getAttribute("data-paletteName"),!0);I=[]}};this.constrainPalettes=function(){var N=f();for(R in e){var J=e[R];J.getX()+J.getWidth()/2>N.width&&J.setLocation(N.width-J.getWidth(),J.getY());J.getY()+J.getHeight()/2>N.height&&J.setLocation(J.getX(),
N.height-J.getHeight())}var R=0<N.width-e.tool.getWidth()-e.misc.getWidth()-e.stroke.getWidth()-e.color.getWidth()-e.brush.getWidth()-15;e.swatches.getX()+e.swatches.getWidth()==e.brush.getX()+e.brush.getWidth()&&20>Math.abs(e.swatches.getY()-e.brush.getY())&&e.swatches.setLocation(e.brush.getX()-e.swatches.getWidth()-(R?5:1),0);e.layers.getY()+e.layers.getHeight()>N.height&&e.layers.setHeight(Math.max(N.height-e.layers.getY(),200))};this.arrangePalettes=function(){var N=f();if(c.getSmallScreenMode())e.tool.setLocation(0,
0),e.misc.setLocation(e.tool.getX()+e.tool.getWidth()+1,0),e.brush.setLocation(N.width-e.brush.getWidth()-15,e.misc.getY()+e.misc.getHeight()+1),e.textures.setWidth(N.width-e.textures.getX()),e.layers.setLocation(e.brush.getX()+e.brush.getWidth()-e.layers.getWidth(),e.textures.getY()-e.layers.getHeight()),e.layers.setHeight(e.textures.getY()-330-1),e.stroke.setLocation(e.misc.getX(),e.misc.getY()+e.misc.getHeight()+1),e.swatches.setLocation(e.stroke.getX(),e.stroke.getY()+e.stroke.getHeight()+1);
else{var J=0<N.width-e.tool.getWidth()-e.misc.getWidth()-e.stroke.getWidth()-e.color.getWidth()-e.brush.getWidth()-15;e.brush.setLocation(N.width-e.brush.getWidth()-15,0);var R=e.brush.getY()+e.brush.getHeight();R=300<N.height-R?R+2:R;e.layers.setSize(e.brush.getWidth()+(J?30:0),N.height-R);e.layers.setLocation(e.brush.getX()+e.brush.getWidth()-e.layers.getWidth(),R);e.tool.setLocation(0,0);e.misc.setLocation(e.tool.getX()+e.tool.getWidth()+(J?5:1),0);J?e.stroke.setLocation(e.misc.getX()+e.misc.getWidth()+
(J?5:1),0):e.stroke.setLocation(e.misc.getX(),e.misc.getY()+e.misc.getHeight()+1);e.swatches.setLocation(Math.max(e.brush.getX()-e.swatches.getWidth()-(J?5:1),e.tool.getX()+e.tool.getWidth()),0);e.textures.setWidth(Math.min(e.layers.getX()-e.textures.getX(),490))}e.textures.setLocation(e.color.getX()+e.color.getWidth()+4,N.height-e.textures.getHeight());e.color.setLocation(0,Math.max(e.tool.getY()+e.tool.getHeight(),N.height-e.color.getHeight()))};c.on("smallScreen",function(N){if(N)for(var J in e)e[J].toggleCollapse(N&&
(!(J in p)||p[J]))});this.getElement=function(){return B};B.className="chickenpaint-palettes";for(var O in e){var z=e[O],G=z.getElement();z.on("paletteVisChange",function(){n(this,!1)});O in u&&z.setCollapseDownwards(!0);G.setAttribute("data-paletteName",O);A.push(G)}for(var H in e)u=e[H].getElement(),B.appendChild(u)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("wolfy87-eventemitter")),b=y(g("./CPToolPalette.js")),d=y(g("./CPMiscPalette.js")),w=y(g("./CPStrokePalette.js")),
a=y(g("./CPColorPalette.js")),m=y(g("./CPBrushPalette.js")),q=y(g("./CPLayersPalette.js")),r=y(g("./CPTexturePalette.js")),h=y(g("./CPSwatchesPalette.js"));k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"./CPBrushPalette.js":25,"./CPColorPalette.js":28,"./CPLayersPalette.js":35,"./CPMiscPalette.js":38,"./CPStrokePalette.js":46,"./CPSwatchesPalette.js":47,"./CPTexturePalette.js":49,"./CPToolPalette.js":50,jquery:296,"wolfy87-eventemitter":314}],41:[function(g,
K,D){function y(E){return E&&E.__esModule?E:{default:E}}function k(E){function b(){var B=E?(0,v.default)(d).height():(0,v.default)(d).width();n=h/(q-m)*B;B=(r-m)/(q-m)*(B-n);a.style[E?"height":"width"]=n+"px";w.style[E?"height":"width"]=n+"px";w.style[E?"top":"left"]=B+"px"}var d=document.createElement("div"),w=document.createElement("div"),a=document.createElement("div"),m=0,q=1,r=0,h=1,c=10,f=!1,n=1,e=!1,p,u=this;this.setValues=function(B,C,A,I){r=B;h=C;m=A;q=I;b()};this.setBlockIncrement=function(B){c=
B};this.setUnitIncrement=function(B){};this.getElement=function(){return d};this.getValueIsAdjusting=function(){return f};d.className="chickenpaint-scrollbar "+(E?"chickenpaint-scrollbar-vertical":"chickenpaint-scrollbar-horizontal");w.className="chickenpaint-scrollbar-handle";w.setAttribute("touch-action","none");a.className="chickenpaint-scrollbar-handle-inner";w.appendChild(a);d.appendChild(w);w.addEventListener("pointerdown",function(B){B.stopPropagation();p=E?B.pageY-(0,v.default)(d).offset().top:
B.pageX-(0,v.default)(d).offset().left;w.setPointerCapture(B.pointerId);(0,v.default)(w).addClass("dragging");e=!0});w.addEventListener("pointermove",function(B){if(e){f=!0;var C=E?(0,v.default)(d).height():(0,v.default)(d).width();B=E?B.pageY-(0,v.default)(d).offset().top:B.pageX-(0,v.default)(d).offset().left;r+=(B-p)*(q-m)/(C-n);r=Math.min(Math.max(r,m),q);p=B;u.emitEvent("valueChanged",[r]);b();f=!1}});w.addEventListener("pointerup",function(B){B.stopPropagation();if(e){try{w.releasePointerCapture(B.pointerId)}catch(C){}(0,v.default)(w).removeClass("dragging");
e=!1}});w.addEventListener("click",function(B){B.stopPropagation()});d.addEventListener("click",function(B){if(this==d){B=E?B.pageY-(0,v.default)(d).offset().top:B.pageX-(0,v.default)(d).offset().left;var C=parseInt(w.style[E?"top":"left"],10);r=B<C?r-c:r+c;u.emitEvent("valueChanged",[r]);b()}})}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery"));g=y(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;K.exports=D.default},
{jquery:296,"wolfy87-eventemitter":314}],42:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d,w,a){var m=(0,v.default)('<div class="modal fade chickenpaint-send-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content" data-stage="saving">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,b._)("Saving drawing..."),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-saving-progress-message">').concat((0,b._)("Preparing your drawing to be saved, please wait..."),
'</p>\n                            <pre class="chickenpaint-saving-error-message pre-scrollable"></pre>\n                            <div class="progress">\n                                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>\n                            </div>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light chickenpaint-send-cancel" data-bs-dismiss="modal">').concat((0,b._)("Cancel"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-not-previously-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">').concat((0,b._)("Drawing saved!"),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, would you like to post it to the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-bs-dismiss="modal">').concat((0,b._)("Yes, post it now"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-bs-dismiss="modal">').concat((0,b._)("No, keep drawing"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-exit" data-bs-dismiss="modal">').concat((0,b._)("No, quit and I'll finish it later"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-already-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, would you like to view it on the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-bs-dismiss="modal">').concat((0,b._)("Yes, view the post"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-bs-dismiss="modal">').concat((0,b._)("No, keep drawing"),'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-redirect" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, redirecting you to view your new post now..."),
"</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),q=(0,v.default)(".chickenpaint-saving-progress-message",m),r=(0,v.default)(".chickenpaint-saving-error-message",m),h=(0,v.default)(".progress-bar",m),c=this;a.on("savingProgress",function(n,e){n*=100;q.text(e);(0,v.default)(h).attr("aria-valuenow",n).css("width",n+"%")});a.on("savingComplete",function(){(0,v.default)(".modal-content[data-stage='saving']",m).hide();d.isActionSupported("CPContinue")?
d.isActionSupported("CPExit")?(0,v.default)(".modal-content[data-stage='success-not-previously-posted']",m).show():(0,v.default)(".modal-content[data-stage='success-already-posted']",m).show():(0,v.default)(".modal-content[data-stage='success-redirect']",m).show()});a.on("savingFailure",function(n){h.addClass("progress-bar-danger");var e=(0,b._)("Sorry, your drawing could not be saved, please try again later.");n&&(n=n.replace(/^CHIBIERROR\s*/,""),0<n.length&&(e+="<br><br>The error returned from the server was:",
r.text(n).show()),q.html(e))});(0,v.default)(".chickenpaint-post-drawing",m).on("click",function(){d.actionPerformed({action:"CPPost"})});(0,v.default)(".chickenpaint-exit",m).toggle(d.isActionSupported("CPExit")).on("click",function(){alert("When you want to come back and finish your drawing, just click the 'new drawing' button again and you can choose to continue this drawing.");d.actionPerformed({action:"CPExit"})});(0,v.default)(".chickenpaint-send-cancel",m).on("click",function(){a.cancel()});
m.on("hidden.bs.modal",function(n){m.remove()});m.appendTo(w);var f=new bootstrap.Modal(m[0]);this.show=function(){f.show();c.emitEvent("shown")}}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("wolfy87-eventemitter")),b=g("../languages/lang.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang.js":54,jquery:296,"wolfy87-eventemitter":314}],43:[function(g,K,D){Object.defineProperty(D,"__esModule",
{value:!0});D.default=function(k){var v=(0,y.default)('<div class="modal fade chickenpaint-shortcuts-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog modal-lg">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Shortcuts</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>\n                                Many of the menu options and painting tools have keyboard shortcuts which are\n                                written next to them or appear when you hover.\n                            </p>\n                            <p>\n                                Here are some other shortcuts which are not as obvious!\n                            </p>\n                            <div class="chickenpaint-shortcuts-sections">\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Color swatches palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Use as the drawing color\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right</span>\n                                                </dt>\n                                                <dd>\n                                                    Remove or replace a color swatch\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Line drawing mode</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Snap line to nearest 45 degrees\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Painting tools</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">1</span> - <span class="chickenpaint-shortcut-key">9</span> , <span class="chickenpaint-shortcut-key">0</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush opacity\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">[</span> , <span class="chickenpaint-shortcut-key">]</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush size\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Brush palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right drag</span>\n                                                </dt>\n                                                <dd>\n                                                    Adjust brush sliders more precisely\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Drawing canvas</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Middle</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Space</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Move the canvas around\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">R</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Rotate the canvas\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Sample the color under the cursor\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Layers palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Double click</span>\n                                                </dt>\n                                                <dd>\n                                                    Rename layer\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ');
v.on("hidden.bs.modal",function(b){v.remove()});var E=new bootstrap.Modal(v[0]);k.appendChild(v[0]);this.show=function(){E.show()}};var y=function(k){return k&&k.__esModule?k:{default:k}}(g("jquery"));K.exports=D.default},{jquery:296}],44:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d,w,a,m){function q(){var C=c.width,A=c.height,I="string"===typeof B.title?(0,b._)(B.title):B.title(B.value),O=3*window.devicePixelRatio,z=.75*c.height;if(a)f.save(),f.fillStyle="white",
f.fillRect(0,0,C,A),f.fillStyle="black",f.fillText(I,O,z),f.beginPath(),B.value>=n/2?f.rect(C/2,0,(B.value-n/2)*C/n,A):f.rect(B.value*C/n,0,(n/2-B.value)*C/n,A),f.fill(),f.clip(),f.fillStyle="white";else{var G=(B.value-d)/n;m&&(G=Math.pow(G,1/1.5));G*=C;f.save();f.save();f.fillStyle="black";f.beginPath();f.rect(0,0,G,A);f.fill();f.clip();f.fillStyle="white";f.fillText(I,O,z);f.restore();f.fillStyle="white";f.beginPath();f.rect(G,0,C,A);f.fill();f.clip();f.fillStyle="black"}f.fillText(I,O,z);f.restore()}
function r(C){var A=(0,v.default)(c).width(),I=(0,v.default)(c).offset().left;C=(C.pageX-I)/A;m&&(C=Math.pow(Math.max(C,0),1.5));B.setValue(C*n+d)}function h(C){switch(e){case 1:r(C);break;case 2:var A=(C.pageX-p)/4;if(0!==A){A=B.value+A;var I=A|0;B.setValue(I);p=C.pageX-4*(A-I)}}}var c=document.createElement("canvas"),f=c.getContext("2d"),n=w-d,e=0,p,u=!1,B=this;this.value=void 0;this.title="";a=a||!1;this.setValue=function(C){C=~~Math.max(d,Math.min(w,C));this.value!=C&&(this.value=C,this.emitEvent("valueChange",
[this.value]),u?q():(u=!0,this.resize()))};this.getElement=function(){return c};this.resize=function(){c.width=(0,v.default)(c).width()||150;c.height=(0,v.default)(c).height()||20;1<window.devicePixelRatio&&(c.style.height=c.height+"px",c.width*=window.devicePixelRatio,c.height*=window.devicePixelRatio);f.font=.47*c.height+"pt sans-serif";q()};c.addEventListener("pointerdown",function(C){if(0===e){switch(C.button){case 0:e=1;r(C);break;case 2:e=2;p=C.pageX;break;default:return}c.setPointerCapture(C.pointerId);
c.addEventListener("pointermove",h)}});c.addEventListener("pointerup",function(C){if(0!==e){switch(e){case 1:0===C.button&&(e=0);break;case 2:2==C.button&&(e=0);break;default:return}0===e&&(c.releasePointerCapture(C.pointerId),c.removeEventListener("pointermove",h))}});c.addEventListener("contextmenu",function(C){C.preventDefault()});c.setAttribute("touch-action","none");c.className="chickenpaint-slider";"devicePixelRatio"in window||(window.devicePixelRatio=1)}Object.defineProperty(D,"__esModule",
{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("wolfy87-eventemitter")),b=g("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang":54,jquery:296,"wolfy87-eventemitter":314}],45:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(y,k,v){function E(){var z=d.width/2,G=d.height/2;w.fillStyle="white";w.fillRect(0,0,d.width,d.height);if(e==n.length){var H=r.width,N=r.height,J=Math.round(z-
H/2),R=Math.round(G-N/2);w.drawImage(r,J,R);var fa=A;p||(p=document.createElement("canvas"),p.width=H,p.height=N,B=p.getContext("2d"));B.globalCompositeOperation="copy";B.drawImage(a,0,0);u||(u=document.createElement("canvas"),u.width=H,u.height=N,C=u.getContext("2d"));C.globalCompositeOperation="copy";C.drawImage(f,0,0);C.globalCompositeOperation="source-in";C.drawImage(f,0,Math.round(170*fa));B.globalCompositeOperation="source-over";B.drawImage(u,0,0);B.drawImage(m,0,0);B.globalCompositeOperation=
"screen";B.drawImage(c,0,0);B.globalCompositeOperation="multiply";B.drawImage(h,0,0);w.globalAlpha=.88;w.drawImage(p,J,R);w.globalAlpha=1;w.drawImage(q,J,R);G=Math.round(G+N/2+2)}if(""!=I)for(w.fillStyle="black",H=I.split("\n"),N=0;N<H.length;N++)J=H[N],R=w.measureText(J).width,G+=28,w.fillText(J,z-R/2,G)}function b(){d.width=d.clientWidth;d.height=d.clientHeight;w.font="14pt sans-serif";E()}var d=document.createElement("canvas"),w=d.getContext("2d"),a=new Image,m=new Image,q=new Image,r=new Image,
h=new Image,c=new Image,f=new Image,n=[a,m,q,r,h,c,f],e=0,p,u,B,C,A=0,I="";v+="splash/";for(var O=0;O<n.length;O++)n[O].onload=function(){e++;e==n.length&&E()};a.src=v+"cup.png";c.src=v+"highlights.png";m.src=v+"lid.png";q.src=v+"lines.png";h.src=v+"shading.png";f.src=v+"smoothie.png";r.src=v+"text.png";k.on("loadingProgress",function(z,G){A=z;I=G;E()});k.on("loadingFailure",function(z){A=0;I=z;E()});k.on("loadingComplete",function(){window.removeEventListener("resize",b);y.removeChild(d)});window.addEventListener("resize",
b);d.className="chickenpaint-splash-screen";y.appendChild(d);b()};K.exports=D.default},{}],46:[function(g,K,D){function y(w){return w&&w.__esModule?w:{default:w}}function k(w){E.default.call(this,w,"stroke","Stroke");var a=this,m=[{className:"chickenpaint-tool-freehand",command:"CPFreeHand",toolTip:(0,d._)("Free-hand"),selected:!0},{className:"chickenpaint-tool-line",command:"CPLine",toolTip:(0,d._)("Straight line")},{className:"chickenpaint-tool-bezier",command:"CPBezier",toolTip:(0,d._)("Bezier curve")}],
q=a.getBodyElement();(function(){var r=document.createElement("ul");r.className="chickenpaint-stroke-tools list-unstyled";for(var h in m){var c=m[h],f=document.createElement("li"),n=document.createElement("div");f.className="chickenpaint-toolbar-button "+c.className;f.setAttribute("data-buttonIndex",h);f.setAttribute("title",c.toolTip);c.selected&&(f.className+=" selected");n.className="chickenpaint-toolbar-button-icon";f.appendChild(n);r.appendChild(f)}(0,v.default)(r).on("click","li",function(e){e=
m[parseInt(this.getAttribute("data-buttonIndex"),10)];(0,v.default)("li",r).removeClass("selected");(0,v.default)(this).addClass("selected");w.actionPerformed({action:e.command});a.userIsDoneWithUs()});q.appendChild(r)})();w.on("toolChange",function(r,h){(0,v.default)(".chickenpaint-tool-freehand",q).toggleClass("selected",h.strokeMode==b.default.STROKE_MODE_FREEHAND);(0,v.default)(".chickenpaint-tool-line",q).toggleClass("selected",h.strokeMode==b.default.STROKE_MODE_LINE);(0,v.default)(".chickenpaint-tool-bezier",
q).toggleClass("selected",h.strokeMode==b.default.STROKE_MODE_BEZIER)})}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("./CPPalette.js")),b=y(g("../engine/CPBrushInfo.js")),d=g("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../engine/CPBrushInfo.js":8,"../languages/lang":54,"./CPPalette.js":39,jquery:296}],47:[function(g,K,D){function y(m){return m&&m.__esModule?m:{default:m}}function k(m){function q(C){var A=
document.createElement("div"),I=document.createElement("a"),O=document.createElement("ul"),z=document.createElement("a"),G=document.createElement("a"),H=this;this.getElement=function(){return A};this.setColor=function(N){I.setAttribute("data-color",N);var J=I.style;for(N=""+Number(N).toString(16);6>N.length;)N="0"+N;J.backgroundColor="#"+N};this.setColor(C);I.href="#";I.className="chickenpaint-color-swatch dropdown-toggle";I.setAttribute("data-toggle","dropdown");z.className="dropdown-item";z.href=
"#";z.innerHTML=(0,a._)("Remove");z.addEventListener("click",function(N){N.preventDefault();(0,v.default)(A).remove();n=!0});G.className="dropdown-item";G.href="#";G.innerHTML=(0,a._)("Replace with current color");G.addEventListener("click",function(N){N.preventDefault();H.setColor(m.getCurColor().getRgb());n=!0});O.className="dropdown-menu";O.appendChild(z);O.appendChild(G);A.className="chickenpaint-color-swatch-wrapper";A.appendChild(I);A.appendChild(O);(0,v.default)(A).on("show.bs.dropdown",function(){var N=
(0,v.default)(this).find(".dropdown-toggle");(0,v.default)(this).find(".dropdown-menu").css({top:N.position().top+N.outerHeight(!0)+"px",left:N.position().left+"px"})})}function r(C){C=new q(C);e.appendChild(C.getElement())}function h(){u.onchange=function(){var C=this.files;if(!(1>C.length)){C=C[0];var A=new FileReader;A.onload=function(){var I=(new w.default).read(this.result);null!=I&&0<I.length?B.setSwatches(I):alert((0,a._)("The swatches could not be read, did you select an .aco file?"))};A.readAsArrayBuffer(C)}};
u.click()}function c(C){var A=document.createElement("span");A.className="fa fa-"+C;return A}b.default.call(this,m,"swatches","Color swatches");var f=[16777215,0,16711680,65280,255,16776960],n=!1,e=document.createElement("ul"),p=document.createElement("div"),u,B=this;this.getSwatches=function(){for(var C=(0,v.default)(".chickenpaint-color-swatch",e),A=Array(C.length),I=0;I<C.length;I++)A[I]=parseInt(C.get(I).getAttribute("data-color"),10);return A};this.setSwatches=function(C){for(;e.lastChild;)e.removeChild(e.lastChild);
for(var A=0;A<C.length;A++)r(C[A]);n=!0};this.isModified=function(){return n};(function(){e.className="chickenpaint-color-swatches list-unstyled";for(var C=0;C<f.length;C++)e.appendChild((new q(f[C])).getElement());e.addEventListener("click",function(A){var I=A.target;/^<a data-color=/i.test(I.outerHTML)&&/chickenpaint-color-swatch/.test(I.className)&&0==A.button&&void 0!==I.getAttribute("data-color")&&(m.setCurColor(new d.default(parseInt(I.getAttribute("data-color"),10))),A.stopPropagation(),A.preventDefault(),
B.userIsDoneWithUs())});e.addEventListener("contextmenu",function(A){var I=A.target;if(/^<a data-color=/i.test(I.outerHTML)&&/chickenpaint-color-swatch/.test(I.className)){A.preventDefault();var O=new bootstrap.Dropdown((0,v.default)(I),{autoClose:!1});O.toggle();document.addEventListener("click",function H(G){(0,v.default)(I).find(G.target).length||(O.hide(),document.removeEventListener("click",H))})}})})();this.getBodyElement().appendChild(e);(function(){var C=document.createElement("button"),A=
document.createElement("button"),I=document.createElement("div"),O=document.createElement("a"),z=document.createElement("a");A.type="button";A.title=(0,a._)("Add the current brush color as a new swatch");A.className="btn chickenpaint-small-toolbar-button chickenpaint-color-swatch-add";A.appendChild(c("plus"));C.type="button";C.className="btn dropdown-toggle chickenpaint-small-toolbar-button chickenpaint-color-swatch-settings";C.setAttribute("data-toggle","dropdown");C.appendChild(c("cog"));O.className=
"dropdown-item";O.href="#";O.innerHTML=(0,a._)("Save swatches to your computer...");O.addEventListener("click",function(N){N.preventDefault();N=(new w.default).write(B.getSwatches());N=new Blob([N],{type:"application/octet-stream"});E.default.saveAs(N,"oekakiswatches.aco")});z.className="dropdown-item";z.href="#";z.innerHTML=(0,a._)("Load swatches from your computer...");z.addEventListener("click",function(N){N.preventDefault();h()});I.className="dropdown-menu";I.appendChild(O);I.appendChild(z);var G=
document.createElement("div");G.className="btn-group dropright";G.appendChild(C);G.appendChild(I);var H=new bootstrap.Dropdown((0,v.default)(C));C.addEventListener("click",function(){H.toggle()});C.addEventListener("show.bs.dropdown",function(N){Array.from(G.querySelectorAll(".dropdown-item")).forEach(function(J){J.addEventListener("click",function(){H.hide()})})});A.addEventListener("click",function(N){r(m.getCurColor().getRgb());n=!0});p.className="chickenpaint-color-swatches-buttons";window.File&&
window.FileReader&&window.FileList&&window.Blob&&(u=document.createElement("input"),u.type="file",u.multiple=!1,u.style.display="none",p.appendChild(G),p.appendChild(u));p.appendChild(A)})();this.getBodyElement().appendChild(p)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("file-saver")),b=y(g("./CPPalette.js")),d=y(g("../util/CPColor.js")),w=y(g("../util/AdobeColorTable.js")),a=g("../languages/lang");k.prototype=Object.create(b.default.prototype);k.prototype.constructor=
k;K.exports=D.default},{"../languages/lang":54,"../util/AdobeColorTable.js":55,"../util/CPColor.js":58,"./CPPalette.js":39,"file-saver":295,jquery:296}],48:[function(g,K,D){function y(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(E){var b=(0,k.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog" role="document">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing tablet support</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-tablet-there-are-two-options">\n                                There are two ways you could use your tablet\'s pen pressure support with ChickenPaint.\n                            </p>\n                            <div class="chickenpaint-tablet-support chickenpaint-wacom-support">\n                                <h5>\n                                    Plugin for Wacom tablets\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-internet-explorer"></span>\n                                        IE 10, 11\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (32-bit only)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-safari"></span>\n                                        Safari\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-opera"></span>\n                                        Opera\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-installed">\n                                    The plugin for Wacom tablets doesn\'t seem to be installed in your browser yet.\n                                </p>\n                                <p class="chickenpaint-not-installed">\n                                    Please make sure that you\'ve installed the latest drivers for your tablet from the \n                                    <a href="http://www.wacom.com/en-us/support/product-support/drivers" target="_blank">Wacom drivers page</a>,\n                                    then restart your browser.\n                                </p>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t support the Wacom tablet plugin, please \n                                    try one of the browsers listed above instead.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    The Wacom tablet plugin is installed and working.\n                                </p>\n                            </div>\n                            <div class="chickenpaint-tablet-support chickenpaint-pointerevents-support">\n                                <h5>\n                                    Built-in support for most tablets.\n                                    <small>macOS, Windows 8 or newer</small>\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-internet-explorer"></span>\n                                        IE (Windows 8)\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-edge"></span>\n                                        Edge (Windows 10)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (<a href="https://github.com/thenickdude/chickenpaint/blob/master/help/Firefox pressure support.md" target="_blank">help <i class="fa fa-external-link-alt"></i></a>)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-chrome"></span>\n                                        Chrome\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t have built-in support for drawing tablets, please try\n                                    one of the other browsers listed above.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    Your browser has built-in support for drawing tablets!\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n       '),
d=(0,k.default)(".chickenpaint-wacom-support",b),w=(0,k.default)(".chickenpaint-pointerevents-support",b),a=(0,k.default)(".chickenpaint-tablet-there-are-two-options",b),m=v.default.getRef().isTabletPresent(),q=!!window.hasNativePointerEvents;d.toggleClass("supported",m);m?(w.hide(),a.hide()):((/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent))&&d.addClass("not-supported"),q&&(d.hide(),a.hide()));w.toggleClass("supported",
q);w.toggleClass("not-supported",!q);b.on("hidden.bs.modal",function(h){b.remove()});var r=new bootstrap.Modal(b[0]);E.appendChild(b[0]);this.show=function(){r.show()}};var k=y(g("jquery")),v=y(g("../util/CPWacomTablet.js"));K.exports=D.default},{"../util/CPWacomTablet.js":66,jquery:296}],49:[function(g,K,D){function y(r){return r&&r.__esModule?r:{default:r}}function k(r,h){var c=document.createElement("div"),f=document.createElement("label");c.className="form-check";r.className="form-check-input";
f.className="form-check-label";f.setAttribute("for",r.id);f.appendChild(r);f.appendChild(document.createTextNode(h));c.appendChild(r);c.appendChild(f);return c}function v(r,h,c,f,n){var e=new Image,p=[];e.onload=function(){var u=document.createElement("canvas"),B=u.getContext("2d",{willReadFrequently:!0});u.width=e.width;u.height=e.height;for(u=0;u<f;u++){B.drawImage(e,0,u*c,h,c,0,0,h,c);try{for(var C=B.getImageData(0,0,h,c),A=new d.default(h,c,8),I=0;I<h*c;I++)A.data[I]=C.data[4*I];p.push(A)}catch(O){console.log(O)}}n(p)};
e.src=r}function E(r){function h(J){for(var R=0;R<J.length;R++){var fa=new u(J[R],32,32);fa.on("click",function(){B=this.texture;p()});G.appendChild(fa.getElement())}}function c(J){for(var R=new d.default(J,J,8),fa=1;fa<J*J;fa++)R.data[fa]=255;return R}function f(J){for(var R=2*J,fa=new d.default(R,R,8),Y=0;Y<R;Y++)for(var sa=0;sa<R;sa++)fa.data[Y+sa*R]=0==(~~(Y/J)+~~(sa/J))%2?0:255;return fa}function n(J,R){for(var fa=new d.default(R,R,8),Y=0;Y<R*R;Y++)~~(Y%R)>=J&&(fa.data[Y]=255);return fa}function e(J,
R){for(var fa=new d.default(R,R,8),Y=0;Y<R*R;Y++)Y/R>=J&&(fa.data[Y]=255);return fa}function p(){if(null!=B){C=B.clone();A&&C.mirrorHorizontally();var J=new w.default;J.loadBrightnessContrast(O,z);I&&J.invert();C.applyLUT(J)}else C=null;r.getArtwork().setBrushTexture(C);null!=N&&N.updateTexture()}function u(J,R,fa){var Y=document.createElement("canvas"),sa=Y.getContext("2d"),ka=this;this.setTexture=function(Q){this.texture=Q;this.paint()};this.getElement=function(){return Y};this.paint=function(){sa.fillStyle=
null!=this.texture?sa.createPattern(this.texture.getAsCanvas(),"repeat"):"white";sa.fillRect(0,0,Y.width,Y.height)};Y.addEventListener("click",function(){ka.emit("click")});Y.width=R;Y.height=fa;this.setTexture(J)}a.default.call(this,r,"textures","Textures");var B,C,A=!1,I=!1,O=0,z=0,G=document.createElement("div"),H=this.getBodyElement();u.prototype=Object.create(b.default.prototype);u.prototype.constructor=u;var N=new function(){function J(){fa.checked=I;Y.checked=A;sa.setValue(100*O+100);ka.setValue(100*
z+100)}var R=document.createElement("div"),fa=document.createElement("input"),Y=document.createElement("input"),sa=new m.default(0,200,!0),ka=new m.default(0,200,!0),Q=new u(null,64,64),ja=document.createElement("button"),ca=new bootstrap.Popover(ja,{html:!0,content:function(){return ua},trigger:"manual",placement:"right",container:H});this.updateTexture=function(){ja.disabled=null==C;Q.setTexture(C)};this.getElement=function(){return R};R.className="chickenpaint-texture-options";R.appendChild(Q.getElement());
ja.type="button";ja.className="btn btn-light btn-sm";ja.setAttribute("data-bs-toggle","popover");ja.setAttribute("data-bs-placement","right");ja.innerHTML=(0,q._)("Customize");var ua=function(){var qa=document.createElement("div");qa.className="chickenpaint-texture-controls";fa.id="chickenpaint-chk-texture-invert";fa.type="checkbox";fa.addEventListener("click",function(Oa){I=this.checked;p()});qa.appendChild(k(fa,(0,q._)("Inverse")));Y.id="chickenpaint-chk-texture-mirror";Y.type="checkbox";Y.addEventListener("click",
function(Oa){A=this.checked;p()});qa.appendChild(k(Y,(0,q._)("Mirror")));sa.title=function(Oa){return(0,q._)("Brightness")+": "+(Oa-100)+"%"};sa.on("valueChange",function(Oa){O=(Oa-100)/100;p()});qa.appendChild(sa.getElement());ka.title=function(Oa){return(0,q._)("Contrast")+": "+(Oa-100)+"%"};ka.on("valueChange",function(Oa){z=(Oa-100)/100;p()});qa.appendChild(ka.getElement());var ya=document.createElement("button"),ma=document.createElement("button");ya.textContent="Ok";ya.className="btn btn-primary btn-sm";
ya.type="button";ya.addEventListener("click",function(Oa){ca.hide()});qa.appendChild(ya);qa.appendChild(document.createTextNode(" "));ma.textContent="Reset";ma.className="btn btn-secondary btn-sm";ma.type="button";ma.addEventListener("click",function(Oa){z=O=0;I=A=!1;J();p()});qa.appendChild(ma);J();return qa}();ja.addEventListener("click",function(){ca.toggle()});R.appendChild(ja);this.updateTexture()};H.appendChild(N.getElement());G.className="chickenpaint-texture-swatches";H.appendChild(G);h(function(){var J=
[null],R=new d.default(2,2,8);R.data[0]=255;R.data[3]=255;J.push(R);J.push(c(2));J.push(c(3));J.push(c(4));J.push(c(6));J.push(c(8));J.push(n(1,2));J.push(n(2,4));J.push(e(1,2));J.push(e(2,4));J.push(f(2));J.push(f(4));J.push(f(8));J.push(f(16));return J}());v(r.getResourcesRoot()+"gfx/textures32.png",32,32,2,function(J){h(J)})}Object.defineProperty(D,"__esModule",{value:!0});D.default=E;y(g("jquery"));var b=y(g("wolfy87-eventemitter")),d=y(g("../engine/CPGreyBmp.js")),w=y(g("../engine/CPLookUpTable.js")),
a=y(g("./CPPalette.js")),m=y(g("./CPSlider.js")),q=g("../languages/lang");E.prototype=Object.create(a.default.prototype);E.prototype.constructor=E;K.exports=D.default},{"../engine/CPGreyBmp.js":14,"../engine/CPLookUpTable.js":18,"../languages/lang":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296,"wolfy87-eventemitter":314}],50:[function(g,K,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a){function m(c){"LI"==this.nodeName&&(c=r[parseInt(this.getAttribute("data-buttonIndex"),
10)],a.actionPerformed({action:c.command}),q.userIsDoneWithUs())}b.default.call(this,a,"tool","Tools");var q=this,r=[{className:"chickenpaint-tool-rect-selection",command:"CPRectSelection",toolTip:"Marquee",shortcut:"m",mode:d.default.M_RECT_SELECTION},{className:"chickenpaint-tool-move",command:"CPMoveTool",toolTip:"Move tool",shortcut:"v",mode:d.default.M_MOVE_TOOL},{className:"chickenpaint-tool-flood-fill",command:"CPFloodFill",toolTip:"Flood fill",shortcut:"f",mode:d.default.M_FLOODFILL},{className:"chickenpaint-tool-gradient-fill",
command:"CPGradientFill",toolTip:"Gradient fill",shortcut:"g",mode:d.default.M_GRADIENTFILL},{className:"chickenpaint-tool-color-picker",command:"CPColorPicker",toolTip:"Color picker",shortcut:"i",mode:d.default.M_COLOR_PICKER},{className:"chickenpaint-tool-blur",command:"CPBlur",toolTip:"Blur",mode:d.default.M_DRAW,tool:d.default.T_BLUR},{className:"chickenpaint-tool-pencil",command:"CPPencil",toolTip:"Pencil",shortcut:"n",mode:d.default.M_DRAW,tool:d.default.T_PENCIL},{className:"chickenpaint-tool-pen",
command:"CPPen",toolTip:"Pen",selected:!0,shortcut:"b",mode:d.default.M_DRAW,tool:d.default.T_PEN},{className:"chickenpaint-tool-airbrush",command:"CPAirbrush",toolTip:"Airbrush",shortcut:"a",mode:d.default.M_DRAW,tool:d.default.T_AIRBRUSH},{className:"chickenpaint-tool-water",command:"CPWater",toolTip:"Waterpaint",shortcut:"w",mode:d.default.M_DRAW,tool:d.default.T_WATER},{className:"chickenpaint-tool-eraser",command:"CPEraser",toolTip:"Eraser",shortcut:"e",mode:d.default.M_DRAW,tool:d.default.T_ERASER},
{className:"chickenpaint-tool-soft-eraser",command:"CPSoftEraser",toolTip:"Soft eraser",shortcut:"s",mode:d.default.M_DRAW,tool:d.default.T_SOFTERASER},{className:"chickenpaint-tool-smudge",command:"CPSmudge",toolTip:"Smudge",shortcut:"d",mode:d.default.M_DRAW,tool:d.default.T_SMUDGE},{className:"chickenpaint-tool-blender",command:"CPBlender",toolTip:"Blender",shortcut:"c",mode:d.default.M_DRAW,tool:d.default.T_BLENDER},{className:"chickenpaint-tool-dodge",command:"CPDodge",toolTip:"Dodge (tool)",
shortcut:"o",mode:d.default.M_DRAW,tool:d.default.T_DODGE},{className:"chickenpaint-tool-burn",command:"CPBurn",toolTip:"Burn (tool)",shortcut:"p",mode:d.default.M_DRAW,tool:d.default.T_BURN},{className:"chickenpaint-tool-rotate-canvas",command:"CPRotateCanvas",commandDoubleClick:"CPResetCanvasRotation",toolTip:"Rotate canvas",mode:d.default.M_ROTATE_CANVAS},{className:"chickenpaint-tool-pan-canvas",command:"CPPanCanvas",toolTip:"Grab canvas",mode:d.default.M_PAN_CANVAS}],h=document.createElement("ul");
a.on("modeChange",function(c){var f=q.getBodyElement();(0,v.default)("li",f).removeClass("selected");c==d.default.M_DRAW?(0,v.default)("li[data-tool="+a.getCurTool()+"]",f).addClass("selected"):(0,v.default)("li[data-mode="+c+"]",f).addClass("selected")});a.on("toolChange",function(c){var f=q.getBodyElement();a.getCurMode()==d.default.M_DRAW&&((0,v.default)("li",f).removeClass("selected"),(0,v.default)("li[data-tool="+c+"]",f).addClass("selected"))});(function(){var c=q.getBodyElement();h.className=
"chickenpaint-tools list-unstyled";for(var f in r)(function(n){var e=r[n],p=document.createElement("li"),u=document.createElement("div");p.className="chickenpaint-toolbar-button "+e.className;p.setAttribute("data-buttonIndex",n);p.setAttribute("data-mode",e.mode);void 0!==e.tool&&p.setAttribute("data-tool",e.tool);p.title=(0,w._)(e.toolTip);e.shortcut&&(p.title+=" ("+e.shortcut.toUpperCase()+")",(0,E.default)(e.shortcut,function(){m.call(p);return!1}));e.selected&&(p.className+=" selected");u.className=
"chickenpaint-toolbar-button-icon";p.appendChild(u);h.appendChild(p)})(f);(0,v.default)(h).on("click","li",m).on("dblclick","li",function(n){n=r[parseInt(this.getAttribute("data-buttonIndex"),10)];n.commandDoubleClick&&a.actionPerformed({action:n.commandDoubleClick})});c.appendChild(h)})()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("../../lib/keymaster.js")),b=y(g("./CPPalette.js")),d=y(g("../ChickenPaint.js")),w=g("../languages/lang");k.prototype=Object.create(b.default.prototype);
k.prototype.constructor=k;K.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../languages/lang":54,"./CPPalette.js":39,jquery:296}],51:[function(g,K,D){function y(h){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},y(h)}function k(h,c){for(var f=0;f<c.length;f++){var n=c[f];n.enumerable=n.enumerable||
!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(h,q(n.key),n)}}function v(h,c,f){c&&k(h.prototype,c);f&&k(h,f);Object.defineProperty(h,"prototype",{writable:!1});return h}function E(h,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}});Object.defineProperty(h,"prototype",{writable:!1});c&&b(h,c)}function b(h,c){b=Object.setPrototypeOf?
Object.setPrototypeOf.bind():function(f,n){f.__proto__=n;return f};return b(h,c)}function d(h){var c=a();return function(){var f=m(h);if(c){var n=m(this).constructor;f=Reflect.construct(f,arguments,n)}else f=f.apply(this,arguments);if(!f||"object"!==y(f)&&"function"!==typeof f){if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");f=w(this)}return f}}function w(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return h}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(h){return!1}}function m(h){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)};return m(h)}function q(h){a:if("object"===y(h)&&null!==h){var c=h[Symbol.toPrimitive];if(void 0!==c){h=c.call(h,"string");if("object"!==
y(h))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}h=String(h)}return"symbol"===y(h)?h:String(h)}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;g=function(h){return h&&h.__esModule?h:{default:h}}(g("wolfy87-eventemitter"));var r={toolbarStyle:"new"};D.default=function(h){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var n=f.call(this);var e=w(n);var p=q("toolbarStyle");p in e?Object.defineProperty(e,
p,{value:void 0,enumerable:!0,configurable:!0,writable:!0}):e[p]=void 0;n.setDefaults();return n}E(c,h);var f=d(c);v(c,[{key:"setDefaults",value:function(){for(var n in r)r.hasOwnProperty(n)&&this.set(n,r[n])}},{key:"load",value:function(){var n={};try{n=JSON.parse(localStorage.getItem("chickenpaint-prefs"))}catch(p){console.error(p)}n&&"object"===y(n)||(n={});for(var e in r)if(r.hasOwnProperty(e))try{this.set(e,n.hasOwnProperty(e)?n[e]:r[e])}catch(p){console.error(p)}}},{key:"save",value:function(){try{var n=
!1,e;for(e in r)if(r.hasOwnProperty(e)&&this[e]!=r[e]){n=!0;break}n?localStorage.setItem("chickenpaint-prefs",JSON.stringify({toolbarStyle:this.toolbarStyle})):localStorage.removeItem("chickenpaint-prefs")}catch(p){console.error(p)}}},{key:"set",value:function(n,e){this[n]=e;this.emitEvent(n,[e])}},{key:"get",value:function(n){return this[n]}}]);return c}(g.default);K.exports=D.default},{"wolfy87-eventemitter":314}],52:[function(g,K,D){K.exports={"Dodge (tool)":"Dodge","Burn (tool)":"Burn","Color (picker)":"Color",
"Color swatches (shorter)":"Swatches"}},{}],53:[function(g,K,D){K.exports={File:"\u30d5\u30a1\u30a4\u30eb","Save to my computer":"PC\u306b\u4fdd\u5b58","Post Oekaki":"\u304a\u7d75\u304b\u304d\u3092\u6295\u7a3f",Edit:"\u7de8\u96c6",Undo:"\u53d6\u308a\u6d88\u3057",Redo:"\u3084\u308a\u76f4\u3057",Cut:"\u5207\u308a\u53d6\u308a",Copy:"\u30b3\u30d4\u30fc","Clear history":"\u5c65\u6b74\u524a\u9664","Copy merged":"\u7d50\u5408\u30b3\u30d4\u30fc",Paste:"\u8cbc\u308a\u4ed8\u3051","Select all":"\u3059\u3079\u3066\u9078\u629e",
Deselect:"\u9078\u629e\u89e3\u9664",Transform:"\u5909\u5f62",Layers:"\u30ec\u30a4\u30e4\u30fc",Duplicate:"\u8907\u88fd","Merge down":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3068\u7d50\u5408","Merge group":"\u30b0\u30eb\u30fc\u30d7\u7d50\u5408","Merge all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u7d50\u5408","Add layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0","Delete mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664","Delete layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664",
"Apply mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Apply layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Disable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u7121\u52b9\u5316","Enable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u6709\u52b9\u5316","Clip to the layer below":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3067\u30af\u30ea\u30c3\u30d4\u30f3\u30b0","Unclip from the layer below":"\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u89e3\u9664",Effects:"\u52b9\u679c",
Clear:"\u6d88\u53bb",Fill:"\u5857\u308a\u6f70\u3057","Flip horizontal":"\u5de6\u53f3\u53cd\u8ee2","Flip vertical":"\u4e0a\u4e0b\u53cd\u8ee2",Invert:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2","Box blur...":"\u307c\u304b\u3057","Blur amount (pixels)":"\u307c\u304b\u3057\u91cf(\u30d4\u30af\u30bb\u30eb\u5358\u4f4d)","Iterations (1-8, larger gives smoother blur)":"\u53cd\u5fa9(1-8,\u5927\u304d\u3044\u307b\u3069\u307c\u304b\u3057\u304c\u6ed1\u3089\u304b)","Monochromatic noise":"\u5358\u8272\u30ce\u30a4\u30ba",
"Color noise":"\u30ab\u30e9\u30fc\u30ce\u30a4\u30ba",View:"\u8868\u793a","Full-screen mode":"\u30d5\u30eb\u30b9\u30af\u30ea\u30fc\u30f3\u30e2\u30fc\u30c9","Zoom in":"\u62e1\u5927","Zoom out":"\u7e2e\u5c0f","Zoom 100%":"100%","Smooth-out zoomed canvas":"\u30ba\u30fc\u30e0\u3092\u306a\u3081\u3089\u304b\u306b\u8868\u793a\u3059\u308b","Show grid":"\u30b0\u30ea\u30c3\u30c9\u3092\u8868\u793a","Grid options...":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a",Palettes:"\u30d1\u30ec\u30c3\u30c8",Rearrange:"\u521d\u671f\u5316",
"Toggle palettes":"\u8868\u793a\u975e\u8868\u793a\u5207\u308a\u66ff\u3048","Use old icons":"\u53e4\u3044\u30a2\u30a4\u30b3\u30f3","Show tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Show color":"\u30ab\u30e9\u30fc","Show layers":"\u30ec\u30a4\u30e4\u30fc","Show misc":"\u64cd\u4f5c","Show stroke":"\u30b9\u30c8\u30ed\u30fc\u30af","Show swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Show textures":"\u30c6\u30af\u30b9\u30c1\u30e3","Show tools":"\u30c4\u30fc\u30eb",Help:"\u30d8\u30eb\u30d7",
"Tablet support":"\u30bf\u30d6\u30ec\u30c3\u30c8\u30b5\u30dd\u30fc\u30c8",Shortcuts:"\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8",About:"ChickenPaint\u306b\u3064\u3044\u3066",Misc:"\u64cd\u4f5c","Round Pixelated":"\u5186\u30d4\u30af\u30bb\u30eb","Round Hard Edge":"\u5186\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Round Soft":"\u5186\u30bd\u30d5\u30c8","Square Pixelated":"\u89d2\u30d4\u30af\u30bb\u30eb","Square Hard Edge":"\u89d2\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Color (picker)":"\u30ab\u30e9\u30fc",
"Tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Brush size":"\u30d6\u30e9\u30b7\u30b5\u30a4\u30ba",Opacity:"\u4e0d\u900f\u660e\u5ea6",Color:"\u8272\u88dc\u5145",Blend:"\u6df7\u8272",Spacing:"\u9593\u9694",Scattering:"\u6563\u4e71",Smoothing:"\u624b\u3076\u308c\u88dc\u6b63","Color swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Color swatches (shorter)":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8",Remove:"\u524a\u9664","Replace with current color":"\u9078\u629e\u4e2d\u306e\u8272\u306b\u7f6e\u304d\u63db\u3048",
"Save swatches to your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u306b\u4fdd\u5b58","Load swatches from your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u304b\u3089\u8aad\u307f\u8fbc\u307f","Add the current brush color as a new swatch":"\u9078\u629e\u4e2d\u306e\u8272\u3092\u8ffd\u52a0","Sample all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u6df7\u8272","Lock transparency":"\u900f\u660e\u90e8\u5206\u3092\u4fdd\u8b77",Textures:"\u30c6\u30af\u30b9\u30c1\u30e3",Customize:"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba",
Inverse:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2",Mirror:"\u5de6\u53f3\u53cd\u8ee2",Brightness:"\u8f1d\u5ea6",Contrast:"\u30b3\u30f3\u30c8\u30e9\u30b9\u30c8",Reset:"\u30ea\u30bb\u30c3\u30c8","Blending mode":"\u5408\u6210\u30e2\u30fc\u30c9",Normal:"\u901a\u5e38",Multiply:"\u4e57\u7b97",Add:"\u52a0\u7b97",Screen:"\u30b9\u30af\u30ea\u30fc\u30f3",Lighten:"\u6bd4\u8f03(\u660e)",Darken:"\u6bd4\u8f03(\u6697)",Subtract:"\u6e1b\u7b97",Dodge:"\u8986\u3044\u713c\u304d",Burn:"\u713c\u304d\u8fbc\u307f",Overlay:"\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4",
"Hard Light":"\u30cf\u30fc\u30c9\u30e9\u30a4\u30c8","Soft Light":"\u30bd\u30d5\u30c8\u30e9\u30a4\u30c8","Vivid Light":"\u30d3\u30d3\u30c3\u30c9\u30e9\u30a4\u30c8","Linear Light":"\u30ea\u30cb\u30a2\u30e9\u30a4\u30c8","Pin Light":"\u30d4\u30f3\u30e9\u30a4\u30c8",Passthrough:"\u901a\u904e",Stroke:"\u30b9\u30c8\u30ed\u30fc\u30af","Free-hand":"\u30d5\u30ea\u30fc\u30cf\u30f3\u30c9","Straight line":"\u76f4\u7dda","Bezier curve":"Bz\uff08\u30d9\u30b8\u30a7\uff09\u66f2\u7dda",Tools:"\u30c4\u30fc\u30eb",Marquee:"\u9078\u629e\u7bc4\u56f2",
"Move tool":"\u79fb\u52d5","Flood fill":"\u5857\u308a\u6f70\u3057","Gradient fill":"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3","Color picker":"\u30b9\u30dd\u30a4\u30c8","Rotate canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u56de\u8ee2","Grab canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u4f4d\u7f6e",Pencil:"\u925b\u7b46",Pen:"\u30da\u30f3",Airbrush:"\u30a8\u30a2\u30d6\u30e9\u30b7",Waterpaint:"\u6c34\u5f69",Eraser:"\u6d88\u3057\u30b4\u30e0","Soft eraser":"\u8584\u6d88\u3057",Smudge:"\u6307\u5148",
Blender:"\u6df7\u8272","Dodge (tool)":"\u8986\u3044\u713c\u304d","Burn (tool)":"\u713c\u304d\u8fbc\u307f",Blur:"\u307c\u304b\u3057","Grid options":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a","Grid size":"\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba","Rename...":"\u540d\u524d\u3092\u5909\u66f4","Add layer":"\u65b0\u898f\u30ec\u30a4\u30e4\u30fc","Delete layer":"\u30ec\u30a4\u30e4\u30fc\u524a\u9664","Add group":"\u65b0\u898f\u30b0\u30eb\u30fc\u30d7","Delete group":"\u30b0\u30eb\u30fc\u30d7\u524a\u9664",
"Add mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0",Gradient:"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210","Transform style":"\u5909\u5f62\u30b9\u30bf\u30a4\u30eb","Apply transform":"\u5909\u5f62\u78ba\u5b9a","Complete transform":"\u5909\u5f62\u3092\u5b8c\u4e86","Undo transform":"\u53d6\u308a\u6d88\u3057","You need to finish transforming this layer before you can do that. What would you like to do with the transform?":"\u7d9a\u884c\u3059\u308b\u305f\u3081\u306b\u5909\u5f62\u3092\u5b8c\u4e86\u3057\u307e\u3059\u3002",
Smooth:"\u30b9\u30e0\u30fc\u30ba",Sharp:"\u30b7\u30e3\u30fc\u30d7","Opacity: ":"\u4e0d\u900f\u660e\u5ea6:","Please enter a color in hex format":"16\u9032\u5f62\u5f0f\u3067\u8272\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\uff08#xxxxxx\u306e\u5f62\uff09",Cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",Ok:"OK",Okay:"OK",OK:"OK","Whoops! This layer is currently hidden":"\u975e\u8868\u793a\u30ec\u30a4\u30e4\u30fc\u3067\u3059\u3002","Whoops! This layer's opacity is currently 0%":"\u30ec\u30a4\u30e4\u30fc\u306e\u4e0d\u900f\u660e\u5ea6\u304c0%\u3067\u3059",
"Whoops! You can't draw on a group":"\u30ec\u30a4\u30e4\u30fc\u30b0\u30eb\u30fc\u30d7\u306b\u306f\u63cf\u3051\u307e\u305b\u3093","Whoops! All of the selected pixels are transparent!":"\u30ec\u30a4\u30e4\u30fc\u304c\u7a7a\u3067\u3059","Are you sure you want to send your drawing to the server and finish drawing now?":"\u304a\u7d75\u304b\u304d\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f","Your drawing has unsaved changes! Are you sure to want to navigate away?":"\u304a\u7d75\u304b\u304d\u306b\u672a\u4fdd\u5b58\u306e\u5909\u66f4\u304c\u3042\u308a\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",
"Save Oekaki":"\u4fdd\u5b58","Saving drawing...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u4e2d\u2026","Preparing your drawing to be saved, please wait...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3059\u308b\u6e96\u5099\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u2026","Drawing saved!":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\uff01","Your drawing has been saved, would you like to post it to the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f",
"Yes, post it now":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059","No, keep drawing":"\u307e\u3060\u63cf\u304d\u307e\u3059","No, quit and I'll finish it later":"\u30a2\u30d7\u30ea\u3092\u7d42\u4e86\u3057\u7d9a\u304d\u3092\u5f8c\u3067\u63cf\u304f","Your drawing has been saved, would you like to view it on the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f","Yes, view the post":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059\u3002",
"Your drawing has been saved, redirecting you to view your new post now...":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u6295\u7a3f\u5148\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002","Sorry, your drawing could not be saved, please try again later.":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u518d\u5ea6\u6295\u7a3f\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002"}},{}],54:[function(g,K,D){function y(h){"@babel/helpers - typeof";
return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},y(h)}function k(h){if("function"!=typeof WeakMap)return null;var c=new WeakMap,f=new WeakMap;return(k=function(n){return n?f:c})(h)}function v(h,c){if(!c&&h&&h.__esModule)return h;if(null===h||"object"!=y(h)&&"function"!=typeof h)return{default:h};if((c=k(c))&&c.has(h))return c.get(h);var f=
{__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in h)if("default"!==e&&Object.prototype.hasOwnProperty.call(h,e)){var p=n?Object.getOwnPropertyDescriptor(h,e):null;p&&(p.get||p.set)?Object.defineProperty(f,e,p):f[e]=h[e]}return f.default=h,c&&c.set(h,f),f}function E(h,c){var f="undefined"!==typeof Symbol&&h[Symbol.iterator]||h["@@iterator"];if(!f){if(Array.isArray(h)||(f=b(h))||c&&h&&"number"===typeof h.length){f&&(h=f);var n=0;c=function(){};return{s:c,n:function(){return n>=
h.length?{done:!0}:{done:!1,value:h[n++]}},e:function(B){throw B;},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var e=!0,p=!1,u;return{s:function(){f=f.call(h)},n:function(){var B=f.next();e=B.done;return B},e:function(B){p=!0;u=B},f:function(){try{e||null==f.return||f.return()}finally{if(p)throw u;}}}}function b(h,c){if(h){if("string"===typeof h)return d(h,c);var f=Object.prototype.toString.call(h).slice(8,
-1);"Object"===f&&h.constructor&&(f=h.constructor.name);if("Map"===f||"Set"===f)return Array.from(h);if("Arguments"===f||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return d(h,c)}}function d(h,c){if(null==c||c>h.length)c=h.length;for(var f=0,n=Array(c);f<c;f++)n[f]=h[f];return n}function w(h){h=h.split(/[-_]/,1)[0].toLowerCase();h in m?(q=m[h],r=h):(q=a,r="en")}Object.defineProperty(D,"__esModule",{value:!0});D._=function(h){return h in q?q[h]:h};D.currentLanguage=function(){return r};D.guessLanguage=
function(){try{if("undefined"!==typeof navigator){var h=navigator.languages;Array.isArray(h)||(h=[h]);var c=E(h),f;try{for(c.s();!(f=c.n()).done;){var n=f.value,e=/^(..)([-_].+)?$/.exec(n);if(e){e[1]=e[1].toLowerCase();if(e[1]in m){w(n);break}if("en"===e[1]){w("en");break}}}}catch(p){c.e(p)}finally{c.f()}}}catch(p){console.error(p)}};D.setLanguage=w;var a=v(g("./en.json")),m={ja:v(g("./ja.json")),en:a},q=a,r="en"},{"./en.json":52,"./ja.json":53}],55:[function(g,K,D){function y(){}Object.defineProperty(D,
"__esModule",{value:!0});D.default=y;var k=function(v){return v&&v.__esModule?v:{default:v}}(g("./ArrayDataStream.js"));y.prototype.read=function(v){if(null==v)return null;v=new k.default(new Uint8Array(v));var E=[];if(1!=v.readU16BE())return null;var b=v.readU16BE();for(var d=0;d<b;d++)if(0==v.readU16BE()){var w=255*v.readU16BE()/65535,a=255*v.readU16BE()/65535,m=255*v.readU16BE()/65535;v.readU16BE();E.push(w<<16|a<<8|m)}return E};y.prototype.write=function(v){var E=new Uint8Array(4+10*v.length);
E=new k.default(E);E.writeU16BE(1);E.writeU16BE(v.length);for(var b=0;b<v.length;b++){var d=v[b];E.writeU16BE(0);E.writeU16BE(257*(d>>16&255));E.writeU16BE(257*(d>>8&255));E.writeU16BE(257*(d&255));E.writeU16BE(0)}return E.getAsDataArray()};K.exports=D.default},{"./ArrayDataStream.js":56}],56:[function(g,K,D){function y(k,v,E){this.data=k;this.eof=!1;this.start=void 0===v?0:v;this.end=void 0===E?k.length:E;this.pos=this.start}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.prototype.readChar=
function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos++]);this.eof=!0;return-1};y.prototype.readByte=function(){if(this.pos<this.end)return this.data[this.pos++];this.eof=!0;return-1};y.prototype.readU8=y.prototype.readByte;y.prototype.readS8=function(){var k=this.readByte();return k&128?k|4294967040:k};y.prototype.unreadChar=function(k){this.pos--};y.prototype.peekChar=function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos]);this.eof=!0;return-1};y.prototype.readString=
function(k){var v=Array(k),E;for(E=0;E<k;E++)v[E]=this.readChar();return v.join("")};y.prototype.readS16=function(){var k=this.readByte(),v=this.readByte();k=k<<8|v;return k&32768?k|4294901760:k};y.prototype.readU16BE=function(){var k=this.readByte(),v=this.readByte();return k<<8|v};y.prototype.readU16LE=function(){var k=this.readByte();return this.readByte()<<8|k};y.prototype.readU32BE=function(){var k=this.readByte(),v=this.readByte(),E=this.readByte(),b=this.readByte();return(k<<24|v<<16|E<<8|
b)>>>0};y.prototype.readU32LE=function(){var k=this.readByte(),v=this.readByte(),E=this.readByte();return(this.readByte()<<24|E<<16|v<<8|k)>>>0};y.prototype.readBytes=function(k){var v=this.data.subarray(this.pos,this.pos+k);this.pos+=k;this.pos>this.end&&(this.eof=!0);return v};y.prototype.skip=function(k){this.pos+=k;this.pos>this.end&&(this.eof=!0)};y.prototype.seek=function(k){this.pos=k};y.prototype.writeBytes=function(k){for(var v=0;v<k.length;v++)this.data[this.pos++]=k[v]};y.prototype.writeByte=
function(k){this.data[this.pos++]=k};y.prototype.writeU8=y.prototype.writeByte;y.prototype.writeU16LE=function(k){this.data[this.pos++]=k;this.data[this.pos++]=k>>8};y.prototype.writeU16BE=function(k){this.data[this.pos++]=k>>8;this.data[this.pos++]=k};y.prototype.writeU32BE=function(k){this.data[this.pos++]=k>>24;this.data[this.pos++]=k>>16;this.data[this.pos++]=k>>8;this.data[this.pos++]=k};y.prototype.writeU32LE=function(k){this.data[this.pos++]=k;this.data[this.pos++]=k>>8;this.data[this.pos++]=
k>>16;this.data[this.pos++]=k>>24};y.prototype.writeDoubleBE=function(k){k=new Uint8Array((new Float64Array([k])).buffer);for(var v=k.length-1;0<=v;v--)this.writeByte(k[v])};y.prototype.writeFloatBE=function(k){k=new Uint8Array((new Float32Array([k])).buffer);for(var v=k.length-1;0<=v;v--)this.writeByte(k[v])};y.prototype.writeString=function(k){for(var v=0;v<k.length;v++)this.data[this.pos++]=k.charCodeAt(v)};y.prototype.writeUnsignedIntBE=function(k,v){void 0===v&&(v=this.measureUnsignedInt(k));
switch(v){case 5:this.writeU8(Math.floor(k/4294967296));case 4:this.writeU8(k>>24);case 3:this.writeU8(k>>16);case 2:this.writeU8(k>>8);case 1:this.writeU8(k);break;default:throw"Bad UINT size "+v;}};y.prototype.measureUnsignedInt=function(k){return 256>k?1:65536>k?2:16777216>k?3:4294967296>k?4:5};y.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw"ArrayDataStream's pos lies beyond end of buffer";
};y.prototype.EOF=-1;K.exports=D.default},{}],57:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){var y=this;this.x0=this.y0=this.x1=this.y1=this.x2=this.y2=this.x3=this.y3=0;var k,v,E,b,d,w,a,m;this.compute=function(q,r,h){var c=1/h,f=3*c,n=f*c;c*=c*c;var e=2*n,p=6*c,u=y.x0-2*y.x1+y.x2,B=y.y0-2*y.y1+y.y2,C=3*(y.x1-y.x2)-y.x0+y.x3,A=3*(y.y1-y.y2)-y.y0+y.y3;k=y.x0;d=y.y0;v=(y.x1-y.x0)*f+u*n+C*c;w=(y.y1-y.y0)*f+B*n+A*c;E=u*e+C*p;a=B*e+A*p;b=C*p;m=A*p;q[0]=k;r[0]=
d;for(f=1;f<h;f++)k+=v,d+=w,v+=E,w+=a,E+=b,a+=m,q[f]=k,r[f]=d}};K.exports=D.default},{}],58:[function(g,K,D){function y(v){if(0==v.saturation)return v.value<<16|v.value<<8|v.value;var E=v.hue/60;E-=Math.floor(E);var b=v.saturation/255,d=~~(v.value*(1-b)),w=~~(v.value*(1-b*E));E=~~(v.value*(1-b*(1-E)));switch(~~(v.hue/60)){case 0:return v.value<<16|E<<8|d;case 1:return w<<16|v.value<<8|d;case 2:return d<<16|v.value<<8|E;case 3:return d<<16|w<<8|v.value;case 4:return E<<16|d<<8|v.value;case 5:return v.value<<
16|d<<8|w;default:return 0}}function k(v){this.value=this.saturation=this.hue=this.rgb=0;this.setRgb(v||0)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;k.prototype.getRgb=function(){return this.rgb};k.prototype.getSaturation=function(){return this.saturation};k.prototype.getHue=function(){return this.hue};k.prototype.getValue=function(){return this.value};k.prototype.setRgbComponents=function(v,E,b){this.setRgb(v<<16|E<<8|b)};k.prototype.setRgb=function(v){this.rgb=v;var E=v>>16&255,
b=v>>8&255;v&=255;this.value=Math.max(E,Math.max(b,v));var d=Math.min(E,Math.min(b,v));this.saturation=0==this.value?0:~~((this.value-d)/this.value*255);if(0==this.saturation)this.hue=0;else{var w=(this.value-E)/(this.value-d),a=(this.value-b)/(this.value-d);d=(this.value-v)/(this.value-d);var m=0;this.value==E&&(m=d-a);this.value==b&&(m=2+w-d);this.value==v&&(m=4+a-w);m*=60;0>m&&(m+=360);this.hue=~~m}};k.prototype.setHsv=function(v,E,b){this.hue=v;this.saturation=E;this.value=b;this.rgb=y(this)};
k.prototype.setHue=function(v){this.hue=v;this.rgb=y(this)};k.prototype.setSaturation=function(v){this.saturation=v;this.rgb=y(this)};k.prototype.setValue=function(v){this.value=v;this.rgb=y(this)};k.prototype.setGreyscale=function(v){this.rgb=k.greyToRGB(v);this.saturation=this.hue=0;this.value=v};k.prototype.clone=function(){var v=new k(0);v.copyFrom(this);return v};k.prototype.copyFrom=function(v){this.rgb=v.rgb;this.hue=v.hue;this.saturation=v.saturation;this.value=v.value};k.prototype.isEqual=
function(v){return this.rgb==v.rgb&&this.hue==v.hue&&this.saturation==v.saturation&&this.value==v.value};k.greyToRGB=function(v){return v|v<<8|v<<16};K.exports=D.default},{}],59:[function(g,K,D){function y(k,v,E){this.r=k;this.g=v;this.b=E}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.prototype.toInt=function(){return Math.max(0,Math.min(255,Math.round(255*this.r)))<<16|Math.max(0,Math.min(255,Math.round(255*this.g)))<<8|Math.max(0,Math.min(255,Math.round(255*this.b)))};y.prototype.mixWith=
function(k,v){this.r=this.r*(1-v)+k.r*v;this.g=this.g*(1-v)+k.g*v;this.b=this.b*(1-v)+k.b*v};y.prototype.clone=function(){return new y(this.r,this.g,this.b)};y.createFromInt=function(k){return new y((k>>>16&255)/255,(k>>>8&255)/255,(k&255)/255)};K.exports=D.default},{}],60:[function(g,K,D){function y(v){for(var E=["imageSmoothingEnabled","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled"],b=0;b<E.length;b++)if(E[b]in v)return E[b];return null}Object.defineProperty(D,
"__esModule",{value:!0});D.isCanvasInterpolationSupported=function(){var v=(0,k.createCanvas)(0,0).getContext("2d");return!!y(v)};D.isCanvasSupported=function(){var v=(0,k.createCanvas)(0,0);return!(!v.getContext||!v.getContext("2d"))};D.isEventSupported=function(v){var E=v in window;E||(E=document.createElement("div"),E.setAttribute(v,"return;"),E="function"==typeof E[v]);return E};D.isFlexboxSupported=function(){return("string"==typeof document.body.style.flexBasis||"string"==typeof document.body.style.msFlexDirection)&&
!/Presto/.test(navigator.userAgent)};D.setCanvasInterpolation=function(v,E){var b=y(v);b&&(v[b]=E)};var k=g("./Canvas.js")},{"./Canvas.js":2}],61:[function(g,K,D){function y(k){this.points=k||[]}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;(function(k){return k&&k.__esModule?k:{default:k}})(g("./CPTransform.js"));y.prototype.clone=function(){for(var k=new y(Array(this.points.length)),v=0;v<this.points.length;v++)k.points[v]={x:this.points[v].x,y:this.points[v].y};return k};y.prototype.getTransformed=
function(k){for(var v=new y(Array(this.points.length)),E=0;E<this.points.length;E++)v.points[E]=k.getTransformedPoint(this.points[E]);return v};y.prototype.getCenter=function(){for(var k=this.points[0].x,v=this.points[0].y,E=1;E<this.points.length;E++)k+=this.points[E].x,v+=this.points[E].y;return{x:k/this.points.length,y:v/this.points.length}};y.prototype.containsPoint=function(k){var v,E=!1;var b=0;for(v=this.points.length-1;b<this.points.length;v=b++)this.points[b].y>k.y!=this.points[v].y>k.y&&
k.x<(this.points[v].x-this.points[b].x)*(k.y-this.points[b].y)/(this.points[v].y-this.points[b].y)+this.points[b].x&&(E=!E);return E};K.exports=D.default},{"./CPTransform.js":64}],62:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){var y,k=!1;this.nextGaussian=function(){if(k)return k=!1,y;do{var v=2*Math.random()-1;var E=2*Math.random()-1;var b=v*v+E*E}while(1<=b||0==b);b=Math.sqrt(-2*Math.log(b)/b);y=E*b;k=!0;return v*b}};K.exports=D.default},{}],63:[function(g,
K,D){function y(v){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},y(v)}function k(v,E,b,d){this.left=v;this.top=E;this.right=b;this.bottom=d}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;k.prototype.makeEmpty=function(){this.bottom=this.right=this.top=this.left=0};k.prototype.union=function(v){this.isEmpty()?
this.set(v):v.isEmpty()||(this.left=Math.min(this.left,v.left),this.top=Math.min(this.top,v.top),this.right=Math.max(this.right,v.right),this.bottom=Math.max(this.bottom,v.bottom))};k.prototype.getUnion=function(v){var E=this.clone();E.union(v);return E};k.prototype.getIntersection=function(v){return new k(Math.max(this.left,v.left),Math.max(this.top,v.top),Math.min(this.right,v.right),Math.min(this.bottom,v.bottom))};k.prototype.clipTo=function(v){this.isEmpty()||(v.isEmpty()?this.makeEmpty():(this.left=
Math.min(Math.max(this.left,v.left),v.right),this.top=Math.min(Math.max(this.top,v.top),v.bottom),this.right=Math.max(Math.min(this.right,v.right),v.left),this.bottom=Math.max(Math.min(this.bottom,v.bottom),v.top)));return this};k.prototype.containsPoint=function(v){return!(v.x<this.left||v.y<this.top||v.x>=this.right||v.y>=this.bottom)};k.prototype.isInside=function(v){return this.left>=v.left&&this.top>=v.top&&this.right<=v.right&&this.bottom<=v.bottom};k.prototype.clipSourceDest=function(v,E){E.right=
E.left+v.getWidth();E.bottom=E.top+v.getHeight();this.isEmpty()||E.left>=this.right||E.top>=this.bottom||E.right<=this.left||E.bottom<=this.top?(v.makeEmpty(),E.makeEmpty()):(E.right>this.right&&(v.right-=E.right-this.right,E.right=this.right),E.bottom>this.bottom&&(v.bottom-=E.bottom-this.bottom,E.bottom=this.bottom),E.left<this.left&&(v.left+=this.left-E.left,E.left=this.left),E.top<this.top&&(v.top+=this.top-E.top,E.top=this.top))};k.prototype.getWidth=function(){return this.right-this.left};k.prototype.getHeight=
function(){return this.bottom-this.top};k.prototype.getArea=function(){return this.getWidth()*this.getHeight()};k.prototype.isEmpty=function(){return this.right<=this.left||this.bottom<=this.top};k.prototype.set=function(v){this.left=v.left;this.top=v.top;this.right=v.right;this.bottom=v.bottom};k.prototype.clone=function(){return new k(this.left,this.top,this.right,this.bottom)};k.prototype.translate=function(v,E){this.left+=v;this.right+=v;this.top+=E;this.bottom+=E;return this};k.prototype.getTranslated=
function(v,E){var b=this.clone();b.translate(v,E);return b};k.prototype.moveTo=function(v,E){this.translate(v-this.left,E-this.top)};k.prototype.equals=function(v){return this.left==v.left&&this.right==v.right&&this.top==v.top&&this.bottom==v.bottom};k.prototype.grow=function(v,E){this.left-=v;this.right+=v;this.top-=E;this.bottom+=E};k.prototype.toString=function(){return"("+this.left+","+this.top+","+this.right+","+this.bottom+")"};k.prototype.toPoints=function(){return[{x:this.left,y:this.top},
{x:this.right,y:this.top},{x:this.right,y:this.bottom},{x:this.left,y:this.bottom}]};k.prototype.roundNearest=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);return this};k.prototype.roundContain=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);return this};k.createBoundingBox=function(v){if(0===v.length)return new k(0,
0,0,0);for(var E=new k(v[0].x,v[0].y,v[0].x,v[0].y),b=1;b<v.length;b++)E.left=Math.min(E.left,v[b].x),E.top=Math.min(E.top,v[b].y),E.right=Math.max(E.right,v[b].x),E.bottom=Math.max(E.bottom,v[b].y);return E};k.prototype.subtract=function(v){return k.subtract(this,v)};k.subtract=function(v,E){v instanceof k&&(v=[v]);E instanceof k&&(E=[E]);v=v.slice(0);for(var b=0;b<E.length;b++)for(var d=E[b],w=v.length,a=0;a<w;a++){var m=v[a];if(m){var q=m.getIntersection(d);if(!q.isEmpty()){var r=[];m.top<d.top&&
r.push(new k(m.left,m.top,m.right,q.top));m.bottom>d.bottom&&r.push(new k(m.left,q.bottom,m.right,m.bottom));m.left<d.left&&r.push(new k(m.left,q.top,q.left,q.bottom));m.right>d.right&&r.push(new k(q.right,q.top,m.right,q.bottom));r=r.filter(function(h){return!h.isEmpty()});if(0<r.length)for(v[a]=r[0],m=1;m<r.length;m++)v.push(r[m]);else v[a]=null}}}return v.filter(function(h){return null!=h})};k.union=function(v){if(v instanceof k)v=[v];else{v=v.slice(0);for(var E=0;E<v.length;E++){var b=v[E],d=
v.length;if(b)for(var w=E+1;w<d;w++){var a=v[w];if(a&&!b.getIntersection(a).isEmpty()){a=k.subtract(a,b);v[w]=a[0];for(var m=1;m<a.length;m++)v.push(a[m])}}}}return v.filter(function(q){return q&&!q.isEmpty()})};"object"==("undefined"===typeof window?"undefined":y(window))&&(window.cpRectGarbage=new k(1.5,2.5,3.5,4.5));K.exports=D.default},{}],64:[function(g,K,D){function y(){this.setToIdentity()}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.prototype.setToIdentity=function(){this.m=
[1,0,0,1,0,0]};y.prototype.multiply=function(k){var v=this.m[1]*k.m[0]+this.m[3]*k.m[1],E=this.m[0]*k.m[2]+this.m[2]*k.m[3],b=this.m[1]*k.m[2]+this.m[3]*k.m[3],d=this.m[0]*k.m[4]+this.m[2]*k.m[5]+this.m[4],w=this.m[1]*k.m[4]+this.m[3]*k.m[5]+this.m[5];this.m[0]=this.m[0]*k.m[0]+this.m[2]*k.m[1];this.m[1]=v;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=w};y.prototype.preMultiply=function(k){var v=k.m[1]*this.m[0]+k.m[3]*this.m[1],E=k.m[0]*this.m[2]+k.m[2]*this.m[3],b=k.m[1]*this.m[2]+k.m[3]*this.m[3],
d=k.m[0]*this.m[4]+k.m[2]*this.m[5]+k.m[4],w=k.m[1]*this.m[4]+k.m[3]*this.m[5]+k.m[5];this.m[0]=k.m[0]*this.m[0]+k.m[2]*this.m[1];this.m[1]=v;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=w};y.prototype.invert=function(){var k=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),v=-this.m[1]*k,E=-this.m[2]*k,b=this.m[0]*k,d=k*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),w=k*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=this.m[3]*k;this.m[1]=v;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=w};y.prototype.getInverted=
function(){var k=new y;k.m[0]=this.m[0];k.m[1]=this.m[1];k.m[2]=this.m[2];k.m[3]=this.m[3];k.m[4]=this.m[4];k.m[5]=this.m[5];k.invert();return k};y.prototype.rotate=function(k){var v=Math.cos(k);k=Math.sin(k);var E=this.m[1]*v+this.m[3]*k,b=this.m[0]*-k+this.m[2]*v,d=this.m[1]*-k+this.m[3]*v;this.m[0]=this.m[0]*v+this.m[2]*k;this.m[1]=E;this.m[2]=b;this.m[3]=d};y.prototype.rotateAroundPoint=function(k,v,E){this.translate(v,E);this.rotate(k);this.translate(-v,-E)};y.prototype.translate=function(k,
v){this.m[4]+=this.m[0]*k+this.m[2]*v;this.m[5]+=this.m[1]*k+this.m[3]*v};y.prototype.scale=function(k,v){this.m[0]*=k;this.m[1]*=k;this.m[2]*=v;this.m[3]*=v};y.prototype.scaleAroundPoint=function(k,v,E,b){this.translate(E,b);this.scale(k,v);this.translate(-E,-b)};y.prototype.shear=function(k,v){var E=this.m[1]+this.m[3]*v,b=this.m[2]+this.m[0]*k;k=this.m[3]+this.m[1]*k;this.m[0]+=this.m[2]*v;this.m[1]=E;this.m[2]=b;this.m[3]=k};y.prototype.getTransformedPoint=function(k){return{x:k.x*this.m[0]+k.y*
this.m[2]+this.m[4],y:k.x*this.m[1]+k.y*this.m[3]+this.m[5]}};y.prototype.transformPoints=function(k){for(var v=0;v<k.length;v++)k[v]=this.getTransformedPoint(k[v])};y.prototype.getTranslateX=function(){return this.m[4]};y.prototype.getTranslateY=function(){return this.m[5]};y.prototype.clone=function(){var k=new y;k.m[0]=this.m[0];k.m[1]=this.m[1];k.m[2]=this.m[2];k.m[3]=this.m[3];k.m[4]=this.m[4];k.m[5]=this.m[5];return k};y.prototype.getDeterminant=function(){return this.m[0]*this.m[3]-this.m[1]*
this.m[2]};y.prototype.decompose=function(){var k=this.getDeterminant(),v=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return{translate:{x:this.m[4],y:this.m[5]},rotate:Math.sign(this.m[1])*Math.acos(this.m[0]/v),scale:{x:v,y:k/v},shear:{x:Math.atan((this.m[0]*this.m[2]+this.m[1]*this.m[3])/(v*v)),y:0}}};y.prototype.toString=function(){return"["+this.m[0].toFixed(2)+" "+this.m[2].toFixed(2)+" "+this.m[4].toFixed(2)+"]\n["+this.m[1].toFixed(2)+" "+this.m[3].toFixed(2)+" "+this.m[5].toFixed(2)+
"]\n[0.00 0.00 1.00]"};Math.sign=Math.sign||function(k){k=+k;return 0===k||isNaN(k)?k:0<k?1:-1};K.exports=D.default},{}],65:[function(g,K,D){function y(k,v){this.x=k;this.y=v}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};y.prototype.normalize=function(){var k=this.getLength();this.x/=k;this.y/=k;return this};y.prototype.getDotProduct=function(k){return this.x*k.x+this.y*k.y};y.prototype.scale=function(k){this.x*=
k;this.y*=k;return this};y.prototype.getScaled=function(k){var v=new y(this.x,this.y);v.scale(k);return v};y.prototype.getRounded=function(){return new y(Math.round(this.x),Math.round(this.y))};y.prototype.getTruncated=function(){return new y(~~this.x,~~this.y)};y.prototype.getPerpendicular=function(){return new y(-this.y,this.x)};y.prototype.add=function(k){this.x+=k.x;this.y+=k.y;return this};y.prototype.subtract=function(k){this.x-=k.x;this.y-=k.y;return this};y.prototype.getSum=function(k){return new y(this.x+
k.x,this.y+k.y)};y.subtractPoints=function(k,v){return new y(k.x-v.x,k.y-v.y)};K.exports=D.default},{}],66:[function(g,K,D){function y(){var k=null,v,E=this;this.isPen=function(){if(k){var b=k.pointerType;return 1==b||3==b}return!1};this.getPressure=function(){return k?k.pressure:1};this.pluginLoaded=function(){console.log("Wacom tablet support loaded!");k=v.penAPI};this.isTabletPresent=function(){return!!k};this.detectTablet=function(){if(/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent))console.log("Not attempting to load Wacom tablet plugin, since this is Chrome");
else{console.log("Attempting to load Wacom tablet support...");v=document.createElement("object");if("classid"in v)v.classid="CLSID:092dfa86-5807-5a94-bf3b-5a53ba9e5308";else{var b=document.createElement("param");b.name="onload";b.value="onWacomPluginLoaded";v.appendChild(b);v.type="application/x-wacomtabletplugin"}v.style.position="absolute";v.style.visibility="hidden";v.onload="onWacomPluginLoaded";document.body.appendChild(v);setTimeout(function(){E.isTabletPresent()||console.log("Looks like the Wacom plugin isn't installed, or failed to load.")},
5E3)}}}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.getRef=function(){null==y.instance&&(y.instance=new y);return y.instance};window.onWacomPluginLoaded=function(){y.getRef().pluginLoaded()};K.exports=D.default},{}],67:[function(g,K,D){function y(k,v,E,b){var d,w=0;"boolean"!==typeof v&&(b=E,E=v,v=void 0);return function(){function a(){w=+new Date;E.apply(q,h)}function m(){d=void 0}var q=this,r=+new Date-w,h=arguments;b&&!d&&a();d&&clearTimeout(d);void 0===b&&r>k?a():!0!==v&&(d=
setTimeout(b?m:a,void 0===b?k-r:k))}}Object.defineProperty(D,"__esModule",{value:!0});D.debounce=function(k,v,E){return void 0===E?y(k,v,!1):y(k,E,!1!==v)};D.throttle=y},{}],68:[function(g,K,D){function y(k){for(var v={DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27," ":32,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,SHIFT:16,"[":219,"]":221,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"-":189,"=":187,"+":187,";":187,LEFTMETA:91,RIGHTMETA:91,ALT:18,ALTGRAPH:18,OPTION:18,CONTROL:17},E=65;90>=
E;E++){var b=String.fromCharCode(E);v[b]=E}k=k.toUpperCase();if(k in v)return v[k]}(function(k){function v(C,A){for(var I=C.length;I--;)if(C[I]===A)return I;return-1}function E(C){var A,I;var O=y(C.key);-1==v(p,O)&&p.push(O);if(O in h)for(A in h[O]=!0,f)f[A]==O&&(b[A]=!0);else{for(q in h)h[q]=C[u[q]];if(b.filter.call(this,C)&&O in r){var z=d();for(I=0;I<r[O].length;I++){var G=r[O][I];if(G.scope==z||"all"==G.scope){var H=0<G.mods.length;for(A in h)if(!h[A]&&-1<v(G.mods,+A)||h[A]&&-1==v(G.mods,+A))H=
!1;(0!=G.mods.length||h[16]||h[18]||h[17]||h[91])&&!H||!1!==G.method(C,G)||(C.preventDefault?C.preventDefault():C.returnValue=!1,C.stopPropagation&&C.stopPropagation(),C.cancelBubble&&(C.cancelBubble=!0))}}}}}function b(C,A,I){var O=w(C);void 0===I&&(I=A,A="all");for(var z=0;z<O.length;z++){var G=[];C=O[z].split("+");1<C.length&&(G=a(C),C=[C[C.length-1]]);C=C[0];C=e(C);C in r||(r[C]=[]);r[C].push({shortcut:O[z],scope:A,method:I,key:O[z],mods:G})}}function d(){return c||"all"}function w(C){C=C.replace(/\s/g,
"");C=C.split(",");""==C[C.length-1]&&(C[C.length-2]+=",");return C}function a(C){C=C.slice(0,C.length-1);for(var A=0;A<C.length;A++)C[A]=f[C[A]];return C}function m(C,A,I){C.addEventListener&&C.addEventListener(A,I,!1)}var q,r={},h={16:!1,18:!1,17:!1,91:!1},c="all",f={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},n={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,
home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},e=function(C){C=n[C]||C.toUpperCase().charCodeAt(0);return"function"===typeof C?C():C},p=[];for(q=1;20>q;q++)n["f"+q]=111+q;var u={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(q in f)b[q]=!1;m(document,"keydown",function(C){E(C)});m(document,"keyup",function(C){C=y(C.key);var A,I=v(p,C);0<=I&&p.splice(I,1);if(C in h)for(A in h[C]=!1,f)f[A]==C&&(b[A]=!1)});m(window,
"focus",function(){for(q in h)h[q]=!1;for(q in f)b[q]=!1});var B=k.key;k.key=b;k.key.setScope=function(C){c=C||"all"};k.key.getScope=d;k.key.deleteScope=function(C){var A,I;for(A in r){var O=r[A];for(I=0;I<O.length;)O[I].scope===C?O.splice(I,1):I++}};k.key.filter=function(C){C=(C.target||C.srcElement).tagName;return!("INPUT"==C||"SELECT"==C||"TEXTAREA"==C)};k.key.isPressed=function(C){"string"==typeof C&&(C=e(C));return-1!=v(p,C)};k.key.getPressedKeyCodes=function(){return p.slice(0)};k.key.noConflict=
function(){var C=k.key;k.key=B;return C};k.key.unbind=function(C,A){var I=[],O,z;var G=w(C);for(z=0;z<G.length;z++){C=G[z].split("+");1<C.length&&(I=a(C));C=C[C.length-1];C=e(C);void 0===A&&(A=d());if(!r[C])break;for(O=0;O<r[C].length;O++){var H=r[C][O];var N;if(N=H.scope===A)a:if(H=H.mods,H.length!=I.length)N=!1;else{for(N=0;N<H.length;N++)if(H[N]!==I[N]){N=!1;break a}N=!0}N&&(r[C][O]={})}}};"undefined"!==typeof K&&(K.exports=b)})({})},{}],69:[function(g,K,D){(function(){for(var y=0,k=["ms","moz",
"webkit","o"],v=0;v<k.length&&!window.requestAnimationFrame;++v)window.requestAnimationFrame=window[k[v]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[k[v]+"CancelAnimationFrame"]||window[k[v]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(E,b){var d=(new Date).getTime(),w=Math.max(0,16-(d-y));b=window.setTimeout(function(){E(d+w)},w);y=d+w;return b});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(E){clearTimeout(E)})})()},
{}],70:[function(g,K,D){g("../../modules/es.array.fill");g=g("../../internals/entry-unbind");K.exports=g("Array","fill")},{"../../internals/entry-unbind":126,"../../modules/es.array.fill":241}],71:[function(g,K,D){g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g=g("../../internals/entry-unbind");K.exports=g("Array","values")},{"../../internals/entry-unbind":126,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249}],72:[function(g,K,D){g("../../modules/es.array.iterator");
g("../../modules/es.map");g("../../modules/es.object.to-string");g("../../modules/es.string.iterator");g=g("../../internals/path");K.exports=g.Map},{"../../internals/path":199,"../../modules/es.array.iterator":242,"../../modules/es.map":246,"../../modules/es.object.to-string":249,"../../modules/es.string.iterator":264}],73:[function(g,K,D){g("../../modules/es.aggregate-error");g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g("../../modules/es.promise");g("../../modules/es.promise.all-settled");
g("../../modules/es.promise.any");g("../../modules/es.promise.finally");g("../../modules/es.string.iterator");g=g("../../internals/path");K.exports=g.Promise},{"../../internals/path":199,"../../modules/es.aggregate-error":239,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249,"../../modules/es.promise":256,"../../modules/es.promise.all-settled":250,"../../modules/es.promise.any":252,"../../modules/es.promise.finally":255,"../../modules/es.string.iterator":264}],74:[function(g,
K,D){g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g("../../modules/es.set");g("../../modules/es.string.iterator");g=g("../../internals/path");K.exports=g.Set},{"../../internals/path":199,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249,"../../modules/es.set":262,"../../modules/es.string.iterator":264}],75:[function(g,K,D){g("../../modules/es.string.ends-with");g=g("../../internals/entry-unbind");K.exports=g("String","endsWith")},{"../../internals/entry-unbind":126,
"../../modules/es.string.ends-with":263}],76:[function(g,K,D){g("../../modules/es.array.concat");g("../../modules/es.object.to-string");g("../../modules/es.symbol");g("../../modules/es.symbol.async-iterator");g("../../modules/es.symbol.description");g("../../modules/es.symbol.has-instance");g("../../modules/es.symbol.is-concat-spreadable");g("../../modules/es.symbol.iterator");g("../../modules/es.symbol.match");g("../../modules/es.symbol.match-all");g("../../modules/es.symbol.replace");g("../../modules/es.symbol.search");
g("../../modules/es.symbol.species");g("../../modules/es.symbol.split");g("../../modules/es.symbol.to-primitive");g("../../modules/es.symbol.to-string-tag");g("../../modules/es.symbol.unscopables");g("../../modules/es.json.to-string-tag");g("../../modules/es.math.to-string-tag");g("../../modules/es.reflect.to-string-tag");g=g("../../internals/path");K.exports=g.Symbol},{"../../internals/path":199,"../../modules/es.array.concat":240,"../../modules/es.json.to-string-tag":244,"../../modules/es.math.to-string-tag":247,
"../../modules/es.object.to-string":249,"../../modules/es.reflect.to-string-tag":260,"../../modules/es.symbol":272,"../../modules/es.symbol.async-iterator":265,"../../modules/es.symbol.description":267,"../../modules/es.symbol.has-instance":269,"../../modules/es.symbol.is-concat-spreadable":270,"../../modules/es.symbol.iterator":271,"../../modules/es.symbol.match":275,"../../modules/es.symbol.match-all":274,"../../modules/es.symbol.replace":276,"../../modules/es.symbol.search":277,"../../modules/es.symbol.species":278,
"../../modules/es.symbol.split":279,"../../modules/es.symbol.to-primitive":280,"../../modules/es.symbol.to-string-tag":281,"../../modules/es.symbol.unscopables":282}],77:[function(g,K,D){g("../../modules/es.typed-array.fill")},{"../../modules/es.typed-array.fill":283}],78:[function(g,K,D){g("../../modules/es.typed-array.slice")},{"../../modules/es.typed-array.slice":284}],79:[function(g,K,D){var y=g("../internals/is-callable"),k=g("../internals/try-to-string"),v=TypeError;K.exports=function(E){if(y(E))return E;
throw new v(k(E)+" is not a function");}},{"../internals/is-callable":161,"../internals/try-to-string":228}],80:[function(g,K,D){var y=g("../internals/is-constructor"),k=g("../internals/try-to-string"),v=TypeError;K.exports=function(E){if(y(E))return E;throw new v(k(E)+" is not a constructor");}},{"../internals/is-constructor":162,"../internals/try-to-string":228}],81:[function(g,K,D){var y=g("../internals/is-callable"),k=String,v=TypeError;K.exports=function(E){if("object"==typeof E||y(E))return E;
throw new v("Can't set "+k(E)+" as a prototype");}},{"../internals/is-callable":161}],82:[function(g,K,D){D=g("../internals/well-known-symbol");var y=g("../internals/object-create");g=g("../internals/object-define-property").f;var k=D("unscopables"),v=Array.prototype;void 0===v[k]&&g(v,k,{configurable:!0,value:y(null)});K.exports=function(E){v[k][E]=!0}},{"../internals/object-create":182,"../internals/object-define-property":184,"../internals/well-known-symbol":237}],83:[function(g,K,D){var y=g("../internals/object-is-prototype-of"),
k=TypeError;K.exports=function(v,E){if(y(E,v))return v;throw new k("Incorrect invocation");}},{"../internals/object-is-prototype-of":191}],84:[function(g,K,D){var y=g("../internals/is-object"),k=String,v=TypeError;K.exports=function(E){if(y(E))return E;throw new v(k(E)+" is not an object");}},{"../internals/is-object":165}],85:[function(g,K,D){K.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],86:[function(g,K,D){g=g("../internals/fails");K.exports=g(function(){if("function"==
typeof ArrayBuffer){var y=new ArrayBuffer(8);Object.isExtensible(y)&&Object.defineProperty(y,"a",{value:8})}})},{"../internals/fails":132}],87:[function(g,K,D){var y=g("../internals/array-buffer-basic-detection"),k=g("../internals/descriptors"),v=g("../internals/global"),E=g("../internals/is-callable"),b=g("../internals/is-object"),d=g("../internals/has-own-property"),w=g("../internals/classof"),a=g("../internals/try-to-string");D=g("../internals/create-non-enumerable-property");var m=g("../internals/define-built-in"),
q=g("../internals/define-built-in-accessor"),r=g("../internals/object-is-prototype-of"),h=g("../internals/object-get-prototype-of"),c=g("../internals/object-set-prototype-of"),f=g("../internals/well-known-symbol"),n=g("../internals/uid"),e=g("../internals/internal-state");g=e.enforce;var p=e.get,u=v.Int8Array,B=u&&u.prototype;e=(e=v.Uint8ClampedArray)&&e.prototype;var C=u&&h(u),A=B&&h(B);u=Object.prototype;var I=v.TypeError;f=f("toStringTag");var O=n("TYPED_ARRAY_TAG"),z=y&&!!c&&"Opera"!==w(v.opera);
y=!1;var G,H,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},J={BigInt64Array:8,BigUint64Array:8},R=function(Y){Y=h(Y);if(b(Y)){var sa=p(Y);return sa&&d(sa,"TypedArrayConstructor")?sa.TypedArrayConstructor:R(Y)}},fa=function(Y){if(!b(Y))return!1;Y=w(Y);return d(N,Y)||d(J,Y)};for(G in N)(H=(n=v[G])&&n.prototype)?g(H).TypedArrayConstructor=n:z=!1;for(G in J)(H=(n=v[G])&&n.prototype)&&(g(H).TypedArrayConstructor=n);
if(!z||!E(C)||C===Function.prototype)if(C=function(){throw new I("Incorrect invocation");},z)for(G in N)v[G]&&c(v[G],C);if(!z||!A||A===u)if(A=C.prototype,z)for(G in N)v[G]&&c(v[G].prototype,A);z&&h(e)!==A&&c(e,A);if(k&&!d(A,f))for(G in y=!0,q(A,f,{configurable:!0,get:function(){return b(this)?this[O]:void 0}}),N)v[G]&&D(v[G],O,G);K.exports={NATIVE_ARRAY_BUFFER_VIEWS:z,TYPED_ARRAY_TAG:y&&O,aTypedArray:function(Y){if(fa(Y))return Y;throw new I("Target is not a typed array");},aTypedArrayConstructor:function(Y){if(E(Y)&&
(!c||r(C,Y)))return Y;throw new I(a(Y)+" is not a typed array constructor");},exportTypedArrayMethod:function(Y,sa,ka,Q){if(k){if(ka)for(var ja in N){var ca=v[ja];if(ca&&d(ca.prototype,Y))try{delete ca.prototype[Y]}catch(ua){try{ca.prototype[Y]=sa}catch(qa){}}}A[Y]&&!ka||m(A,Y,ka?sa:z&&B[Y]||sa,Q)}},exportTypedArrayStaticMethod:function(Y,sa,ka){var Q,ja;if(k){if(c){if(ka)for(Q in N)if((ja=v[Q])&&d(ja,Y))try{delete ja[Y]}catch(ca){}if(!C[Y]||ka)try{return m(C,Y,ka?sa:z&&C[Y]||sa)}catch(ca){}else return}for(Q in N)ja=
v[Q],!ja||ja[Y]&&!ka||m(ja,Y,sa)}},getTypedArrayConstructor:R,isView:function(Y){if(!b(Y))return!1;Y=w(Y);return"DataView"===Y||d(N,Y)||d(J,Y)},isTypedArray:fa,TypedArray:C,TypedArrayPrototype:A}},{"../internals/array-buffer-basic-detection":85,"../internals/classof":98,"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/global":147,"../internals/has-own-property":148,"../internals/internal-state":158,
"../internals/is-callable":161,"../internals/is-object":165,"../internals/object-get-prototype-of":189,"../internals/object-is-prototype-of":191,"../internals/object-set-prototype-of":195,"../internals/try-to-string":228,"../internals/uid":230,"../internals/well-known-symbol":237}],88:[function(g,K,D){var y=g("../internals/to-object"),k=g("../internals/to-absolute-index"),v=g("../internals/length-of-array-like");K.exports=function(E){var b=y(this),d=v(b),w=arguments.length,a=k(1<w?arguments[1]:void 0,
d);w=2<w?arguments[2]:void 0;for(d=void 0===w?d:k(w,d);d>a;)b[a++]=E;return b}},{"../internals/length-of-array-like":175,"../internals/to-absolute-index":218,"../internals/to-object":223}],89:[function(g,K,D){var y=g("../internals/to-indexed-object"),k=g("../internals/to-absolute-index"),v=g("../internals/length-of-array-like");g=function(E){return function(b,d,w){b=y(b);var a=v(b);w=k(w,a);if(E&&d!==d)for(;a>w;){if(d=b[w++],d!==d)return!0}else for(;a>w;w++)if((E||w in b)&&b[w]===d)return E||w||0;
return!E&&-1}};K.exports={includes:g(!0),indexOf:g(!1)}},{"../internals/length-of-array-like":175,"../internals/to-absolute-index":218,"../internals/to-indexed-object":220}],90:[function(g,K,D){var y=g("../internals/function-bind-context");D=g("../internals/function-uncurry-this");var k=g("../internals/indexed-object"),v=g("../internals/to-object"),E=g("../internals/length-of-array-like"),b=g("../internals/array-species-create"),d=D([].push);g=function(w){var a=1===w,m=2===w,q=3===w,r=4===w,h=6===
w,c=7===w,f=5===w||h;return function(n,e,p,u){var B=v(n),C=k(B);e=y(e,p);p=E(C);var A=0;u=u||b;n=a?u(n,p):m||c?u(n,0):void 0;for(var I;p>A;A++)if(f||A in C)if(u=C[A],I=e(u,A,B),w)if(a)n[A]=I;else if(I)switch(w){case 3:return!0;case 5:return u;case 6:return A;case 2:d(n,u)}else switch(w){case 4:return!1;case 7:d(n,u)}return h?-1:q||r?r:n}};K.exports={forEach:g(0),map:g(1),filter:g(2),some:g(3),every:g(4),find:g(5),findIndex:g(6),filterReject:g(7)}},{"../internals/array-species-create":95,"../internals/function-bind-context":135,
"../internals/function-uncurry-this":141,"../internals/indexed-object":153,"../internals/length-of-array-like":175,"../internals/to-object":223}],91:[function(g,K,D){var y=g("../internals/fails");D=g("../internals/well-known-symbol");var k=g("../internals/engine-v8-version"),v=D("species");K.exports=function(E){return 51<=k||!y(function(){var b=[];(b.constructor={})[v]=function(){return{foo:1}};return 1!==b[E](Boolean).foo})}},{"../internals/engine-v8-version":125,"../internals/fails":132,"../internals/well-known-symbol":237}],
92:[function(g,K,D){var y=g("../internals/to-absolute-index"),k=g("../internals/length-of-array-like"),v=g("../internals/create-property"),E=Array,b=Math.max;K.exports=function(d,w,a){var m=k(d);w=y(w,m);a=y(void 0===a?m:a,m);m=E(b(a-w,0));for(var q=0;w<a;w++,q++)v(m,q,d[w]);m.length=q;return m}},{"../internals/create-property":107,"../internals/length-of-array-like":175,"../internals/to-absolute-index":218}],93:[function(g,K,D){g=g("../internals/function-uncurry-this");K.exports=g([].slice)},{"../internals/function-uncurry-this":141}],
94:[function(g,K,D){var y=g("../internals/is-array"),k=g("../internals/is-constructor"),v=g("../internals/is-object"),E=g("../internals/well-known-symbol")("species"),b=Array;K.exports=function(d){if(y(d)){var w=d.constructor;k(w)&&(w===b||y(w.prototype))?w=void 0:v(w)&&(w=w[E],null===w&&(w=void 0))}return void 0===w?b:w}},{"../internals/is-array":160,"../internals/is-constructor":162,"../internals/is-object":165,"../internals/well-known-symbol":237}],95:[function(g,K,D){var y=g("../internals/array-species-constructor");
K.exports=function(k,v){return new (y(k))(0===v?0:v)}},{"../internals/array-species-constructor":94}],96:[function(g,K,D){var y=g("../internals/well-known-symbol")("iterator"),k=!1;try{var v=0;g={next:function(){return{done:!!v++}},"return":function(){k=!0}};g[y]=function(){return this};Array.from(g,function(){throw 2;})}catch(E){}K.exports=function(E,b){if(!b&&!k)return!1;var d=!1;try{b={},b[y]=function(){return{next:function(){return{done:d=!0}}}},E(b)}catch(w){}return d}},{"../internals/well-known-symbol":237}],
97:[function(g,K,D){g=g("../internals/function-uncurry-this");var y=g({}.toString),k=g("".slice);K.exports=function(v){return k(y(v),8,-1)}},{"../internals/function-uncurry-this":141}],98:[function(g,K,D){D=g("../internals/to-string-tag-support");var y=g("../internals/is-callable"),k=g("../internals/classof-raw"),v=g("../internals/well-known-symbol")("toStringTag"),E=Object,b="Arguments"===k(function(){return arguments}());K.exports=D?k:function(d){var w;if(void 0===d)var a="Undefined";else{if(null===
d)var m="Null";else{a:{var q=d=E(d);try{m=q[v];break a}catch(r){}m=void 0}m="string"==typeof(a=m)?a:b?k(d):"Object"===(w=k(d))&&y(d.callee)?"Arguments":w}a=m}return a}},{"../internals/classof-raw":97,"../internals/is-callable":161,"../internals/to-string-tag-support":226,"../internals/well-known-symbol":237}],99:[function(g,K,D){var y=g("../internals/object-create"),k=g("../internals/define-built-in-accessor"),v=g("../internals/define-built-ins"),E=g("../internals/function-bind-context"),b=g("../internals/an-instance"),
d=g("../internals/is-null-or-undefined"),w=g("../internals/iterate"),a=g("../internals/iterator-define"),m=g("../internals/create-iter-result-object"),q=g("../internals/set-species"),r=g("../internals/descriptors"),h=g("../internals/internal-metadata").fastKey;g=g("../internals/internal-state");var c=g.set,f=g.getterFor;K.exports={getConstructor:function(n,e,p,u){n=n(function(O,z){b(O,B);c(O,{type:e,index:y(null),first:void 0,last:void 0,size:0});r||(O.size=0);d(z)||w(z,O[u],{that:O,AS_ENTRIES:p})});
var B=n.prototype,C=f(e),A=function(O,z,G){var H=C(O),N=I(O,z),J,R;N?N.value=G:(H.last=N={index:R=h(z,!0),key:z,value:G,previous:J=H.last,next:void 0,removed:!1},H.first||(H.first=N),J&&(J.next=N),r?H.size++:O.size++,"F"!==R&&(H.index[R]=N));return O},I=function(O,z){O=C(O);var G=h(z);if("F"!==G)return O.index[G];for(O=O.first;O;O=O.next)if(O.key===z)return O};v(B,{clear:function(){for(var O=C(this),z=O.index,G=O.first;G;)G.removed=!0,G.previous&&(G.previous=G.previous.next=void 0),delete z[G.index],
G=G.next;O.first=O.last=void 0;r?O.size=0:this.size=0},"delete":function(O){var z=C(this);if(O=I(this,O)){var G=O.next,H=O.previous;delete z.index[O.index];O.removed=!0;H&&(H.next=G);G&&(G.previous=H);z.first===O&&(z.first=G);z.last===O&&(z.last=H);r?z.size--:this.size--}return!!O},forEach:function(O){for(var z=C(this),G=E(O,1<arguments.length?arguments[1]:void 0),H;H=H?H.next:z.first;)for(G(H.value,H.key,this);H&&H.removed;)H=H.previous},has:function(O){return!!I(this,O)}});v(B,p?{get:function(O){return(O=
I(this,O))&&O.value},set:function(O,z){return A(this,0===O?0:O,z)}}:{add:function(O){return A(this,O=0===O?0:O,O)}});r&&k(B,"size",{configurable:!0,get:function(){return C(this).size}});return n},setStrong:function(n,e,p){var u=e+" Iterator",B=f(e),C=f(u);a(n,e,function(A,I){c(this,{type:u,target:A,state:B(A),kind:I,last:void 0})},function(){for(var A=C(this),I=A.kind,O=A.last;O&&O.removed;)O=O.previous;return A.target&&(A.last=O=O?O.next:A.state.first)?"keys"===I?m(O.key,!1):"values"===I?m(O.value,
!1):m([O.key,O.value],!1):(A.target=void 0,m(void 0,!0))},p?"entries":"values",!p,!0);q(e)}}},{"../internals/an-instance":83,"../internals/create-iter-result-object":104,"../internals/define-built-in-accessor":108,"../internals/define-built-ins":110,"../internals/descriptors":112,"../internals/function-bind-context":135,"../internals/internal-metadata":157,"../internals/internal-state":158,"../internals/is-null-or-undefined":164,"../internals/iterate":169,"../internals/iterator-define":172,"../internals/object-create":182,
"../internals/set-species":207}],100:[function(g,K,D){var y=g("../internals/export"),k=g("../internals/global"),v=g("../internals/function-uncurry-this"),E=g("../internals/is-forced"),b=g("../internals/define-built-in"),d=g("../internals/internal-metadata"),w=g("../internals/iterate"),a=g("../internals/an-instance"),m=g("../internals/is-callable"),q=g("../internals/is-null-or-undefined"),r=g("../internals/is-object"),h=g("../internals/fails"),c=g("../internals/check-correctness-of-iteration"),f=g("../internals/set-to-string-tag"),
n=g("../internals/inherit-if-required");K.exports=function(e,p,u){var B=-1!==e.indexOf("Map"),C=-1!==e.indexOf("Weak"),A=B?"set":"add",I=k[e],O=I&&I.prototype,z=I,G={},H=function(sa){var ka=v(O[sa]);b(O,sa,"add"===sa?function(Q){ka(this,0===Q?0:Q);return this}:"delete"===sa?function(Q){return C&&!r(Q)?!1:ka(this,0===Q?0:Q)}:"get"===sa?function(Q){return C&&!r(Q)?void 0:ka(this,0===Q?0:Q)}:"has"===sa?function(Q){return C&&!r(Q)?!1:ka(this,0===Q?0:Q)}:function(Q,ja){ka(this,0===Q?0:Q,ja);return this})};
if(E(e,!m(I)||!(C||O.forEach&&!h(function(){(new I).entries().next()}))))z=u.getConstructor(p,e,B,A),d.enable();else if(E(e,!0)){var N=new z,J=N[A](C?{}:-0,1)!==N,R=h(function(){N.has(1)}),fa=c(function(sa){new I(sa)}),Y=!C&&h(function(){for(var sa=new I,ka=5;ka--;)sa[A](ka,ka);return!sa.has(-0)});fa||(z=p(function(sa,ka){a(sa,O);sa=n(new I,sa,z);q(ka)||w(ka,sa[A],{that:sa,AS_ENTRIES:B});return sa}),z.prototype=O,O.constructor=z);if(R||Y)H("delete"),H("has"),B&&H("get");(Y||J)&&H(A);C&&O.clear&&delete O.clear}G[e]=
z;y({global:!0,constructor:!0,forced:z!==I},G);f(z,e);C||u.setStrong(z,e,B);return z}},{"../internals/an-instance":83,"../internals/check-correctness-of-iteration":96,"../internals/define-built-in":109,"../internals/export":131,"../internals/fails":132,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/inherit-if-required":154,"../internals/internal-metadata":157,"../internals/is-callable":161,"../internals/is-forced":163,"../internals/is-null-or-undefined":164,"../internals/is-object":165,
"../internals/iterate":169,"../internals/set-to-string-tag":208}],101:[function(g,K,D){var y=g("../internals/has-own-property"),k=g("../internals/own-keys"),v=g("../internals/object-get-own-property-descriptor"),E=g("../internals/object-define-property");K.exports=function(b,d,w){for(var a=k(d),m=E.f,q=v.f,r=0;r<a.length;r++){var h=a[r];y(b,h)||w&&y(w,h)||m(b,h,q(d,h))}}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/object-get-own-property-descriptor":185,
"../internals/own-keys":198}],102:[function(g,K,D){var y=g("../internals/well-known-symbol")("match");K.exports=function(k){var v=/./;try{"/./"[k](v)}catch(E){try{return v[y]=!1,"/./"[k](v)}catch(b){}}return!1}},{"../internals/well-known-symbol":237}],103:[function(g,K,D){g=g("../internals/fails");K.exports=!g(function(){function y(){}y.prototype.constructor=null;return Object.getPrototypeOf(new y)!==y.prototype})},{"../internals/fails":132}],104:[function(g,K,D){K.exports=function(y,k){return{value:y,
done:k}}},{}],105:[function(g,K,D){D=g("../internals/descriptors");var y=g("../internals/object-define-property"),k=g("../internals/create-property-descriptor");K.exports=D?function(v,E,b){return y.f(v,E,k(1,b))}:function(v,E,b){v[E]=b;return v}},{"../internals/create-property-descriptor":106,"../internals/descriptors":112,"../internals/object-define-property":184}],106:[function(g,K,D){K.exports=function(y,k){return{enumerable:!(y&1),configurable:!(y&2),writable:!(y&4),value:k}}},{}],107:[function(g,
K,D){var y=g("../internals/to-property-key"),k=g("../internals/object-define-property"),v=g("../internals/create-property-descriptor");K.exports=function(E,b,d){b=y(b);b in E?k.f(E,b,v(0,d)):E[b]=d}},{"../internals/create-property-descriptor":106,"../internals/object-define-property":184,"../internals/to-property-key":225}],108:[function(g,K,D){var y=g("../internals/make-built-in"),k=g("../internals/object-define-property");K.exports=function(v,E,b){b.get&&y(b.get,E,{getter:!0});b.set&&y(b.set,E,
{setter:!0});return k.f(v,E,b)}},{"../internals/make-built-in":176,"../internals/object-define-property":184}],109:[function(g,K,D){var y=g("../internals/is-callable"),k=g("../internals/object-define-property"),v=g("../internals/make-built-in"),E=g("../internals/define-global-property");K.exports=function(b,d,w,a){a||={};var m=a.enumerable,q=void 0!==a.name?a.name:d;y(w)&&v(w,q,a);if(a.global)m?b[d]=w:E(d,w);else{try{a.unsafe?b[d]&&(m=!0):delete b[d]}catch(r){}m?b[d]=w:k.f(b,d,{value:w,enumerable:!1,
configurable:!a.nonConfigurable,writable:!a.nonWritable})}return b}},{"../internals/define-global-property":111,"../internals/is-callable":161,"../internals/make-built-in":176,"../internals/object-define-property":184}],110:[function(g,K,D){var y=g("../internals/define-built-in");K.exports=function(k,v,E){for(var b in v)y(k,b,v[b],E);return k}},{"../internals/define-built-in":109}],111:[function(g,K,D){var y=g("../internals/global"),k=Object.defineProperty;K.exports=function(v,E){try{k(y,v,{value:E,
configurable:!0,writable:!0})}catch(b){y[v]=E}return E}},{"../internals/global":147}],112:[function(g,K,D){g=g("../internals/fails");K.exports=!g(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":132}],113:[function(g,K,D){g="object"==typeof document&&document.all;K.exports={all:g,IS_HTMLDDA:"undefined"==typeof g&&void 0!==g}},{}],114:[function(g,K,D){D=g("../internals/global");g=g("../internals/is-object");var y=D.document,k=g(y)&&g(y.createElement);
K.exports=function(v){return k?y.createElement(v):{}}},{"../internals/global":147,"../internals/is-object":165}],115:[function(g,K,D){var y=TypeError;K.exports=function(k){if(9007199254740991<k)throw y("Maximum allowed index exceeded");return k}},{}],116:[function(g,K,D){K.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,
MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],117:[function(g,K,D){g=(g=g("../internals/document-create-element")("span").classList)&&g.constructor&&g.constructor.prototype;K.exports=g===Object.prototype?void 0:g},{"../internals/document-create-element":114}],118:[function(g,
K,D){D=g("../internals/engine-is-deno");g=g("../internals/engine-is-node");K.exports=!D&&!g&&"object"==typeof window&&"object"==typeof document},{"../internals/engine-is-deno":119,"../internals/engine-is-node":122}],119:[function(g,K,D){K.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},{}],120:[function(g,K,D){g=g("../internals/engine-user-agent");K.exports=/ipad|iphone|ipod/i.test(g)&&"undefined"!=typeof Pebble},{"../internals/engine-user-agent":124}],121:[function(g,K,D){g=g("../internals/engine-user-agent");
K.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(g)},{"../internals/engine-user-agent":124}],122:[function(g,K,D){D=g("../internals/global");g=g("../internals/classof-raw");K.exports="process"===g(D.process)},{"../internals/classof-raw":97,"../internals/global":147}],123:[function(g,K,D){g=g("../internals/engine-user-agent");K.exports=/web0s(?!.*chrome)/i.test(g)},{"../internals/engine-user-agent":124}],124:[function(g,K,D){K.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||
""},{}],125:[function(g,K,D){D=g("../internals/global");g=g("../internals/engine-user-agent");var y=D.process;D=D.Deno;D=(D=y&&y.versions||D&&D.version)&&D.v8;if(D){D=D.split(".");var k=0<D[0]&&4>D[0]?1:+(D[0]+D[1])}!k&&g&&(D=g.match(/Edge\/(\d+)/),(!D||74<=D[1])&&(D=g.match(/Chrome\/(\d+)/))&&(k=+D[1]));K.exports=k},{"../internals/engine-user-agent":124,"../internals/global":147}],126:[function(g,K,D){var y=g("../internals/global"),k=g("../internals/function-uncurry-this");K.exports=function(v,E){return k(y[v].prototype[E])}},
{"../internals/function-uncurry-this":141,"../internals/global":147}],127:[function(g,K,D){K.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},{}],128:[function(g,K,D){g=g("../internals/function-uncurry-this");var y=Error,k=g("".replace);g=String((new y("zxcasd")).stack);var v=/\n\s*at [^:]*:[^\n]*/,E=v.test(g);K.exports=function(b,d){if(E&&"string"==typeof b&&!y.prepareStackTrace)for(;d--;)b=k(b,v,"");return b}},{"../internals/function-uncurry-this":141}],
129:[function(g,K,D){var y=g("../internals/create-non-enumerable-property"),k=g("../internals/error-stack-clear"),v=g("../internals/error-stack-installable"),E=Error.captureStackTrace;K.exports=function(b,d,w,a){v&&(E?E(b,d):y(b,"stack",k(w,a)))}},{"../internals/create-non-enumerable-property":105,"../internals/error-stack-clear":128,"../internals/error-stack-installable":130}],130:[function(g,K,D){D=g("../internals/fails");var y=g("../internals/create-property-descriptor");K.exports=!D(function(){var k=
Error("a");if(!("stack"in k))return!0;Object.defineProperty(k,"stack",y(1,7));return 7!==k.stack})},{"../internals/create-property-descriptor":106,"../internals/fails":132}],131:[function(g,K,D){var y=g("../internals/global"),k=g("../internals/object-get-own-property-descriptor").f,v=g("../internals/create-non-enumerable-property"),E=g("../internals/define-built-in"),b=g("../internals/define-global-property"),d=g("../internals/copy-constructor-properties"),w=g("../internals/is-forced");K.exports=
function(a,m){var q=a.target,r=a.global,h=a.stat,c,f,n;if(f=r?y:h?y[q]||b(q,{}):(y[q]||{}).prototype)for(n in m){var e=m[n];var p=a.dontCallGetSet?(c=k(f,n))&&c.value:f[n];c=w(r?n:q+(h?".":"#")+n,a.forced);if(!c&&void 0!==p){if(typeof e==typeof p)continue;d(e,p)}(a.sham||p&&p.sham)&&v(e,"sham",!0);E(f,n,e,a)}}},{"../internals/copy-constructor-properties":101,"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/define-global-property":111,"../internals/global":147,
"../internals/is-forced":163,"../internals/object-get-own-property-descriptor":185}],132:[function(g,K,D){K.exports=function(y){try{return!!y()}catch(k){return!0}}},{}],133:[function(g,K,D){g=g("../internals/fails");K.exports=!g(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":132}],134:[function(g,K,D){g=g("../internals/function-bind-native");D=Function.prototype;var y=D.apply,k=D.call;K.exports="object"==typeof Reflect&&Reflect.apply||(g?k.bind(y):function(){return k.apply(y,
arguments)})},{"../internals/function-bind-native":136}],135:[function(g,K,D){D=g("../internals/function-uncurry-this-clause");var y=g("../internals/a-callable"),k=g("../internals/function-bind-native"),v=D(D.bind);K.exports=function(E,b){y(E);return void 0===b?E:k?v(E,b):function(){return E.apply(b,arguments)}}},{"../internals/a-callable":79,"../internals/function-bind-native":136,"../internals/function-uncurry-this-clause":140}],136:[function(g,K,D){g=g("../internals/fails");K.exports=!g(function(){var y=
function(){}.bind();return"function"!=typeof y||y.hasOwnProperty("prototype")})},{"../internals/fails":132}],137:[function(g,K,D){g=g("../internals/function-bind-native");var y=Function.prototype.call;K.exports=g?y.bind(y):function(){return y.apply(y,arguments)}},{"../internals/function-bind-native":136}],138:[function(g,K,D){D=g("../internals/descriptors");var y=g("../internals/has-own-property");g=Function.prototype;var k=D&&Object.getOwnPropertyDescriptor,v=(y=y(g,"name"))&&"something"===function(){}.name;
D=y&&(!D||D&&k(g,"name").configurable);K.exports={EXISTS:y,PROPER:v,CONFIGURABLE:D}},{"../internals/descriptors":112,"../internals/has-own-property":148}],139:[function(g,K,D){var y=g("../internals/function-uncurry-this"),k=g("../internals/a-callable");K.exports=function(v,E,b){try{return y(k(Object.getOwnPropertyDescriptor(v,E)[b]))}catch(d){}}},{"../internals/a-callable":79,"../internals/function-uncurry-this":141}],140:[function(g,K,D){var y=g("../internals/classof-raw"),k=g("../internals/function-uncurry-this");
K.exports=function(v){if("Function"===y(v))return k(v)}},{"../internals/classof-raw":97,"../internals/function-uncurry-this":141}],141:[function(g,K,D){g=g("../internals/function-bind-native");D=Function.prototype;var y=D.call;D=g&&D.bind.bind(y,y);K.exports=g?D:function(k){return function(){return y.apply(k,arguments)}}},{"../internals/function-bind-native":136}],142:[function(g,K,D){var y=g("../internals/global"),k=g("../internals/is-callable");K.exports=function(v,E){if(2>arguments.length){var b=
y[v];b=k(b)?b:void 0}else b=y[v]&&y[v][E];return b}},{"../internals/global":147,"../internals/is-callable":161}],143:[function(g,K,D){var y=g("../internals/classof"),k=g("../internals/get-method"),v=g("../internals/is-null-or-undefined"),E=g("../internals/iterators"),b=g("../internals/well-known-symbol")("iterator");K.exports=function(d){if(!v(d))return k(d,b)||k(d,"@@iterator")||E[y(d)]}},{"../internals/classof":98,"../internals/get-method":146,"../internals/is-null-or-undefined":164,"../internals/iterators":174,
"../internals/well-known-symbol":237}],144:[function(g,K,D){var y=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/an-object"),E=g("../internals/try-to-string"),b=g("../internals/get-iterator-method"),d=TypeError;K.exports=function(w,a){var m=2>arguments.length?b(w):a;if(k(m))return v(y(m,w));throw new d(E(w)+" is not iterable");}},{"../internals/a-callable":79,"../internals/an-object":84,"../internals/function-call":137,"../internals/get-iterator-method":143,"../internals/try-to-string":228}],
145:[function(g,K,D){D=g("../internals/function-uncurry-this");var y=g("../internals/is-array"),k=g("../internals/is-callable"),v=g("../internals/classof-raw"),E=g("../internals/to-string"),b=D([].push);K.exports=function(d){if(k(d))return d;if(y(d)){for(var w=d.length,a=[],m=0;m<w;m++){var q=d[m];"string"==typeof q?b(a,q):("number"==typeof q||"Number"===v(q)||"String"===v(q))&&b(a,E(q))}var r=a.length,h=!0;return function(c,f){if(h)return h=!1,f;if(y(this))return f;for(var n=0;n<r;n++)if(a[n]===
c)return f}}}},{"../internals/classof-raw":97,"../internals/function-uncurry-this":141,"../internals/is-array":160,"../internals/is-callable":161,"../internals/to-string":227}],146:[function(g,K,D){var y=g("../internals/a-callable"),k=g("../internals/is-null-or-undefined");K.exports=function(v,E){v=v[E];return k(v)?void 0:y(v)}},{"../internals/a-callable":79,"../internals/is-null-or-undefined":164}],147:[function(g,K,D){(function(y){(function(){var k=function(v){return v&&v.Math===Math&&v};K.exports=
k("object"==typeof globalThis&&globalThis)||k("object"==typeof window&&window)||k("object"==typeof self&&self)||k("object"==typeof y&&y)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],148:[function(g,K,D){D=g("../internals/function-uncurry-this");var y=g("../internals/to-object"),k=D({}.hasOwnProperty);K.exports=Object.hasOwn||function(v,E){return k(y(v),
E)}},{"../internals/function-uncurry-this":141,"../internals/to-object":223}],149:[function(g,K,D){K.exports={}},{}],150:[function(g,K,D){K.exports=function(y,k){try{1===arguments.length?console.error(y):console.error(y,k)}catch(v){}}},{}],151:[function(g,K,D){g=g("../internals/get-built-in");K.exports=g("document","documentElement")},{"../internals/get-built-in":142}],152:[function(g,K,D){D=g("../internals/descriptors");var y=g("../internals/fails"),k=g("../internals/document-create-element");K.exports=
!D&&!y(function(){return 7!==Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":112,"../internals/document-create-element":114,"../internals/fails":132}],153:[function(g,K,D){D=g("../internals/function-uncurry-this");var y=g("../internals/fails"),k=g("../internals/classof-raw"),v=Object,E=D("".split);K.exports=y(function(){return!v("z").propertyIsEnumerable(0)})?function(b){return"String"===k(b)?E(b,""):v(b)}:v},{"../internals/classof-raw":97,"../internals/fails":132,
"../internals/function-uncurry-this":141}],154:[function(g,K,D){var y=g("../internals/is-callable"),k=g("../internals/is-object"),v=g("../internals/object-set-prototype-of");K.exports=function(E,b,d){var w,a;v&&y(w=b.constructor)&&w!==d&&k(a=w.prototype)&&a!==d.prototype&&v(E,a);return E}},{"../internals/is-callable":161,"../internals/is-object":165,"../internals/object-set-prototype-of":195}],155:[function(g,K,D){D=g("../internals/function-uncurry-this");var y=g("../internals/is-callable");g=g("../internals/shared-store");
var k=D(Function.toString);y(g.inspectSource)||(g.inspectSource=function(v){return k(v)});K.exports=g.inspectSource},{"../internals/function-uncurry-this":141,"../internals/is-callable":161,"../internals/shared-store":210}],156:[function(g,K,D){var y=g("../internals/is-object"),k=g("../internals/create-non-enumerable-property");K.exports=function(v,E){y(E)&&"cause"in E&&k(v,"cause",E.cause)}},{"../internals/create-non-enumerable-property":105,"../internals/is-object":165}],157:[function(g,K,D){var y=
g("../internals/export"),k=g("../internals/function-uncurry-this");D=g("../internals/hidden-keys");var v=g("../internals/is-object"),E=g("../internals/has-own-property"),b=g("../internals/object-define-property").f,d=g("../internals/object-get-own-property-names"),w=g("../internals/object-get-own-property-names-external"),a=g("../internals/object-is-extensible"),m=g("../internals/uid"),q=g("../internals/freezing"),r=!1,h=m("meta"),c=0,f=function(e){b(e,h,{value:{objectID:"O"+c++,weakData:{}}})},n=
K.exports={enable:function(){n.enable=function(){};r=!0;var e=d.f,p=k([].splice),u={};u[h]=1;e(u).length&&(d.f=function(B){B=e(B);for(var C=0,A=B.length;C<A;C++)if(B[C]===h){p(B,C,1);break}return B},y({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:w.f}))},fastKey:function(e,p){if(!v(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!E(e,h)){if(!a(e))return"F";if(!p)return"E";f(e)}return e[h].objectID},getWeakData:function(e,p){if(!E(e,h)){if(!a(e))return!0;if(!p)return!1;f(e)}return e[h].weakData},
onFreeze:function(e){q&&r&&a(e)&&!E(e,h)&&f(e);return e}};D[h]=!0},{"../internals/export":131,"../internals/freezing":133,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/is-object":165,"../internals/object-define-property":184,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-names-external":186,"../internals/object-is-extensible":190,"../internals/uid":230}],158:[function(g,K,D){D=g("../internals/weak-map-basic-detection");
var y=g("../internals/global"),k=g("../internals/is-object"),v=g("../internals/create-non-enumerable-property"),E=g("../internals/has-own-property"),b=g("../internals/shared-store"),d=g("../internals/shared-key");g=g("../internals/hidden-keys");var w=y.TypeError;y=y.WeakMap;if(D||b.state){var a=b.state||(b.state=new y);a.get=a.get;a.has=a.has;a.set=a.set;var m=function(c,f){if(a.has(c))throw new w("Object already initialized");f.facade=c;a.set(c,f);return f};var q=function(c){return a.get(c)||{}};
var r=function(c){return a.has(c)}}else{var h=d("state");g[h]=!0;m=function(c,f){if(E(c,h))throw new w("Object already initialized");f.facade=c;v(c,h,f);return f};q=function(c){return E(c,h)?c[h]:{}};r=function(c){return E(c,h)}}K.exports={set:m,get:q,has:r,enforce:function(c){return r(c)?q(c):m(c,{})},getterFor:function(c){return function(f){var n;if(!k(f)||(n=q(f)).type!==c)throw new w("Incompatible receiver, "+c+" required");return n}}}},{"../internals/create-non-enumerable-property":105,"../internals/global":147,
"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/is-object":165,"../internals/shared-key":209,"../internals/shared-store":210,"../internals/weak-map-basic-detection":234}],159:[function(g,K,D){D=g("../internals/well-known-symbol");var y=g("../internals/iterators"),k=D("iterator"),v=Array.prototype;K.exports=function(E){return void 0!==E&&(y.Array===E||v[k]===E)}},{"../internals/iterators":174,"../internals/well-known-symbol":237}],160:[function(g,K,D){var y=g("../internals/classof-raw");
K.exports=Array.isArray||function(k){return"Array"===y(k)}},{"../internals/classof-raw":97}],161:[function(g,K,D){g=g("../internals/document-all");var y=g.all;K.exports=g.IS_HTMLDDA?function(k){return"function"==typeof k||k===y}:function(k){return"function"==typeof k}},{"../internals/document-all":113}],162:[function(g,K,D){var y=g("../internals/function-uncurry-this");D=g("../internals/fails");var k=g("../internals/is-callable"),v=g("../internals/classof"),E=g("../internals/get-built-in"),b=g("../internals/inspect-source"),
d=function(){},w=[],a=E("Reflect","construct"),m=/^\s*(?:class|function)\b/,q=y(m.exec),r=!m.test(d),h=function(c){if(!k(c))return!1;try{return a(d,w,c),!0}catch(f){return!1}};g=function(c){if(!k(c))return!1;switch(v(c)){case "AsyncFunction":case "GeneratorFunction":case "AsyncGeneratorFunction":return!1}try{return r||!!q(m,b(c))}catch(f){return!0}};g.sham=!0;K.exports=!a||D(function(){var c;return h(h.call)||!h(Object)||!h(function(){c=!0})||c})?g:h},{"../internals/classof":98,"../internals/fails":132,
"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/inspect-source":155,"../internals/is-callable":161}],163:[function(g,K,D){var y=g("../internals/fails"),k=g("../internals/is-callable"),v=/#|\.prototype\./;g=function(a,m){a=b[E(a)];return a===w?!0:a===d?!1:k(m)?y(m):!!m};var E=g.normalize=function(a){return String(a).replace(v,".").toLowerCase()},b=g.data={},d=g.NATIVE="N",w=g.POLYFILL="P";K.exports=g},{"../internals/fails":132,"../internals/is-callable":161}],
164:[function(g,K,D){K.exports=function(y){return null===y||void 0===y}},{}],165:[function(g,K,D){var y=g("../internals/is-callable");g=g("../internals/document-all");var k=g.all;K.exports=g.IS_HTMLDDA?function(v){return"object"==typeof v?null!==v:y(v)||v===k}:function(v){return"object"==typeof v?null!==v:y(v)}},{"../internals/document-all":113,"../internals/is-callable":161}],166:[function(g,K,D){K.exports=!1},{}],167:[function(g,K,D){var y=g("../internals/is-object"),k=g("../internals/classof-raw"),
v=g("../internals/well-known-symbol")("match");K.exports=function(E){var b;return y(E)&&(void 0!==(b=E[v])?!!b:"RegExp"===k(E))}},{"../internals/classof-raw":97,"../internals/is-object":165,"../internals/well-known-symbol":237}],168:[function(g,K,D){var y=g("../internals/get-built-in"),k=g("../internals/is-callable"),v=g("../internals/object-is-prototype-of");g=g("../internals/use-symbol-as-uid");var E=Object;K.exports=g?function(b){return"symbol"==typeof b}:function(b){var d=y("Symbol");return k(d)&&
v(d.prototype,E(b))}},{"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/object-is-prototype-of":191,"../internals/use-symbol-as-uid":231}],169:[function(g,K,D){var y=g("../internals/function-bind-context"),k=g("../internals/function-call"),v=g("../internals/an-object"),E=g("../internals/try-to-string"),b=g("../internals/is-array-iterator-method"),d=g("../internals/length-of-array-like"),w=g("../internals/object-is-prototype-of"),a=g("../internals/get-iterator"),m=g("../internals/get-iterator-method"),
q=g("../internals/iterator-close"),r=TypeError,h=function(f,n){this.stopped=f;this.result=n},c=h.prototype;K.exports=function(f,n,e){var p=!(!e||!e.AS_ENTRIES),u=!(!e||!e.IS_RECORD),B=!(!e||!e.IS_ITERATOR),C=!(!e||!e.INTERRUPTED),A=y(n,e&&e.that),I,O=function(G){z&&q(z,"normal",G);return new h(!0,G)};n=function(G){return p?(v(G),C?A(G[0],G[1],O):A(G[0],G[1])):C?A(G,O):A(G)};if(u)var z=f.iterator;else if(B)z=f;else{B=m(f);if(!B)throw new r(E(f)+" is not iterable");if(b(B)){u=0;for(B=d(f);B>u;u++)if((I=
n(f[u]))&&w(c,I))return I;return new h(!1)}z=a(f,B)}for(f=u?f.next:z.next;!(u=k(f,z)).done;){try{I=n(u.value)}catch(G){q(z,"throw",G)}if("object"==typeof I&&I&&w(c,I))return I}return new h(!1)}},{"../internals/an-object":84,"../internals/function-bind-context":135,"../internals/function-call":137,"../internals/get-iterator":144,"../internals/get-iterator-method":143,"../internals/is-array-iterator-method":159,"../internals/iterator-close":170,"../internals/length-of-array-like":175,"../internals/object-is-prototype-of":191,
"../internals/try-to-string":228}],170:[function(g,K,D){var y=g("../internals/function-call"),k=g("../internals/an-object"),v=g("../internals/get-method");K.exports=function(E,b,d){k(E);try{var w=v(E,"return");if(!w){if("throw"===b)throw d;return d}w=y(w,E)}catch(m){var a=!0;w=m}if("throw"===b)throw d;if(a)throw w;k(w);return d}},{"../internals/an-object":84,"../internals/function-call":137,"../internals/get-method":146}],171:[function(g,K,D){var y=g("../internals/iterators-core").IteratorPrototype,
k=g("../internals/object-create"),v=g("../internals/create-property-descriptor"),E=g("../internals/set-to-string-tag"),b=g("../internals/iterators"),d=function(){return this};K.exports=function(w,a,m,q){a+=" Iterator";w.prototype=k(y,{next:v(+!q,m)});E(w,a,!1,!0);b[a]=d;return w}},{"../internals/create-property-descriptor":106,"../internals/iterators":174,"../internals/iterators-core":173,"../internals/object-create":182,"../internals/set-to-string-tag":208}],172:[function(g,K,D){var y=g("../internals/export"),
k=g("../internals/function-call"),v=g("../internals/is-pure");D=g("../internals/function-name");var E=g("../internals/is-callable"),b=g("../internals/iterator-create-constructor"),d=g("../internals/object-get-prototype-of"),w=g("../internals/object-set-prototype-of"),a=g("../internals/set-to-string-tag"),m=g("../internals/create-non-enumerable-property"),q=g("../internals/define-built-in"),r=g("../internals/well-known-symbol"),h=g("../internals/iterators");g=g("../internals/iterators-core");var c=
D.PROPER,f=D.CONFIGURABLE,n=g.IteratorPrototype,e=g.BUGGY_SAFARI_ITERATORS,p=r("iterator"),u=function(){return this};K.exports=function(B,C,A,I,O,z,G){b(A,C,I);I=function(Q){if(Q===O&&fa)return fa;if(!e&&Q&&Q in J)return J[Q];switch(Q){case "keys":return function(){return new A(this,Q)};case "values":return function(){return new A(this,Q)};case "entries":return function(){return new A(this,Q)}}return function(){return new A(this)}};var H=C+" Iterator",N=!1,J=B.prototype,R=J[p]||J["@@iterator"]||O&&
J[O],fa=!e&&R||I(O),Y="Array"===C?J.entries||R:R,sa;Y&&(B=d(Y.call(new B)),B!==Object.prototype&&B.next&&(v||d(B)===n||(w?w(B,n):E(B[p])||q(B,p,u)),a(B,H,!0,!0),v&&(h[H]=u)));c&&"values"===O&&R&&"values"!==R.name&&(!v&&f?m(J,"name","values"):(N=!0,fa=function(){return k(R,this)}));if(O){var ka={values:I("values"),keys:z?fa:I("keys"),entries:I("entries")};if(G)for(sa in ka)!e&&!N&&sa in J||q(J,sa,ka[sa]);else y({target:C,proto:!0,forced:e||N},ka)}v&&!G||J[p]===fa||q(J,p,fa,{name:O});h[C]=fa;return ka}},
{"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/export":131,"../internals/function-call":137,"../internals/function-name":138,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/iterator-create-constructor":171,"../internals/iterators":174,"../internals/iterators-core":173,"../internals/object-get-prototype-of":189,"../internals/object-set-prototype-of":195,"../internals/set-to-string-tag":208,"../internals/well-known-symbol":237}],
173:[function(g,K,D){D=g("../internals/fails");var y=g("../internals/is-callable"),k=g("../internals/is-object"),v=g("../internals/object-create"),E=g("../internals/object-get-prototype-of"),b=g("../internals/define-built-in"),d=g("../internals/well-known-symbol");g=g("../internals/is-pure");var w=d("iterator");d=!1;var a;if([].keys){var m=[].keys();"next"in m?(E=E(E(m)),E!==Object.prototype&&(a=E)):d=!0}!k(a)||D(function(){var q={};return a[w].call(q)!==q})?a={}:g&&(a=v(a));y(a[w])||b(a,w,function(){return this});
K.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:d}},{"../internals/define-built-in":109,"../internals/fails":132,"../internals/is-callable":161,"../internals/is-object":165,"../internals/is-pure":166,"../internals/object-create":182,"../internals/object-get-prototype-of":189,"../internals/well-known-symbol":237}],174:[function(g,K,D){arguments[4][149][0].apply(D,arguments)},{dup:149}],175:[function(g,K,D){var y=g("../internals/to-length");K.exports=function(k){return y(k.length)}},{"../internals/to-length":222}],
176:[function(g,K,D){D=g("../internals/function-uncurry-this");var y=g("../internals/fails"),k=g("../internals/is-callable"),v=g("../internals/has-own-property"),E=g("../internals/descriptors"),b=g("../internals/function-name").CONFIGURABLE,d=g("../internals/inspect-source");g=g("../internals/internal-state");var w=g.enforce,a=g.get,m=String,q=Object.defineProperty,r=D("".slice),h=D("".replace),c=D([].join),f=E&&!y(function(){return 8!==q(function(){},"length",{value:8}).length}),n=String(String).split("String");
K=K.exports=function(e,p,u){"Symbol("===r(m(p),0,7)&&(p="["+h(m(p),/^Symbol\(([^)]*)\)/,"$1")+"]");u&&u.getter&&(p="get "+p);u&&u.setter&&(p="set "+p);if(!v(e,"name")||b&&e.name!==p)E?q(e,"name",{value:p,configurable:!0}):e.name=p;f&&u&&v(u,"arity")&&e.length!==u.arity&&q(e,"length",{value:u.arity});try{u&&v(u,"constructor")&&u.constructor?E&&q(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(B){}u=w(e);v(u,"source")||(u.source=c(n,"string"==typeof p?p:""));return e};Function.prototype.toString=
K(function(){return k(this)&&a(this).source||d(this)},"toString")},{"../internals/descriptors":112,"../internals/fails":132,"../internals/function-name":138,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/inspect-source":155,"../internals/internal-state":158,"../internals/is-callable":161}],177:[function(g,K,D){var y=Math.ceil,k=Math.floor;K.exports=Math.trunc||function(v){v=+v;return(0<v?k:y)(v)}},{}],178:[function(g,K,D){var y=g("../internals/global");
D=g("../internals/function-bind-context");var k=g("../internals/object-get-own-property-descriptor").f,v=g("../internals/task").set,E=g("../internals/queue"),b=g("../internals/engine-is-ios"),d=g("../internals/engine-is-ios-pebble"),w=g("../internals/engine-is-webos-webkit"),a=g("../internals/engine-is-node"),m=y.MutationObserver||y.WebKitMutationObserver,q=y.document,r=y.process;g=y.Promise;k=(k=k(y,"queueMicrotask"))&&k.value;if(!k){var h=new E,c=function(){var u,B;for(a&&(u=r.domain)&&u.exit();B=
h.get();)try{B()}catch(C){throw h.head&&n(),C;}u&&u.enter()};if(b||a||w||!m||!q)if(!d&&g&&g.resolve){y=g.resolve(void 0);y.constructor=g;var f=D(y.then,y);var n=function(){f(c)}}else a?n=function(){r.nextTick(c)}:(v=D(v,y),n=function(){v(c)});else{var e=!0;var p=q.createTextNode("");(new m(c)).observe(p,{characterData:!0});n=function(){p.data=e=!e}}k=function(u){h.head||n();h.add(u)}}K.exports=k},{"../internals/engine-is-ios":121,"../internals/engine-is-ios-pebble":120,"../internals/engine-is-node":122,
"../internals/engine-is-webos-webkit":123,"../internals/function-bind-context":135,"../internals/global":147,"../internals/object-get-own-property-descriptor":185,"../internals/queue":205,"../internals/task":217}],179:[function(g,K,D){var y=g("../internals/a-callable"),k=TypeError,v=function(E){var b,d;this.promise=new E(function(w,a){if(void 0!==b||void 0!==d)throw new k("Bad Promise constructor");b=w;d=a});this.resolve=y(b);this.reject=y(d)};K.exports.f=function(E){return new v(E)}},{"../internals/a-callable":79}],
180:[function(g,K,D){var y=g("../internals/to-string");K.exports=function(k,v){return void 0===k?2>arguments.length?"":v:y(k)}},{"../internals/to-string":227}],181:[function(g,K,D){var y=g("../internals/is-regexp"),k=TypeError;K.exports=function(v){if(y(v))throw new k("The method doesn't accept regular expressions");return v}},{"../internals/is-regexp":167}],182:[function(g,K,D){var y=g("../internals/an-object"),k=g("../internals/object-define-properties"),v=g("../internals/enum-bug-keys");D=g("../internals/hidden-keys");
var E=g("../internals/html"),b=g("../internals/document-create-element"),d=g("../internals/shared-key")("IE_PROTO"),w=function(){},a=function(r){r.write("<script>\x3c/script>");r.close();return r.parentWindow.Object},m,q=function(){try{m=new ActiveXObject("htmlfile")}catch(h){}if("undefined"!=typeof document)if(document.domain&&m)var r=a(m);else r=b("iframe"),r.style.display="none",E.appendChild(r),r.src="javascript:",r=r.contentWindow.document,r.open(),r.write("<script>document.F=Object\x3c/script>"),
r.close(),r=r.F;else r=a(m);q=r;for(r=v.length;r--;)delete q.prototype[v[r]];return q()};D[d]=!0;K.exports=Object.create||function(r,h){if(null!==r){w.prototype=y(r);var c=new w;w.prototype=null;c[d]=r}else c=q();return void 0===h?c:k.f(c,h)}},{"../internals/an-object":84,"../internals/document-create-element":114,"../internals/enum-bug-keys":127,"../internals/hidden-keys":149,"../internals/html":151,"../internals/object-define-properties":183,"../internals/shared-key":209}],183:[function(g,K,D){K=
g("../internals/descriptors");var y=g("../internals/v8-prototype-define-bug"),k=g("../internals/object-define-property"),v=g("../internals/an-object"),E=g("../internals/to-indexed-object"),b=g("../internals/object-keys");D.f=K&&!y?Object.defineProperties:function(d,w){v(d);var a=E(w);w=b(w);for(var m=w.length,q=0,r;m>q;)k.f(d,r=w[q++],a[r]);return d}},{"../internals/an-object":84,"../internals/descriptors":112,"../internals/object-define-property":184,"../internals/object-keys":193,"../internals/to-indexed-object":220,
"../internals/v8-prototype-define-bug":232}],184:[function(g,K,D){K=g("../internals/descriptors");var y=g("../internals/ie8-dom-define"),k=g("../internals/v8-prototype-define-bug"),v=g("../internals/an-object"),E=g("../internals/to-property-key"),b=TypeError,d=Object.defineProperty,w=Object.getOwnPropertyDescriptor;D.f=K?k?function(a,m,q){v(a);m=E(m);v(q);if("function"===typeof a&&"prototype"===m&&"value"in q&&"writable"in q&&!q.writable){var r=w(a,m);r&&r.writable&&(a[m]=q.value,q={configurable:"configurable"in
q?q.configurable:r.configurable,enumerable:"enumerable"in q?q.enumerable:r.enumerable,writable:!1})}return d(a,m,q)}:d:function(a,m,q){v(a);m=E(m);v(q);if(y)try{return d(a,m,q)}catch(r){}if("get"in q||"set"in q)throw new b("Accessors not supported");"value"in q&&(a[m]=q.value);return a}},{"../internals/an-object":84,"../internals/descriptors":112,"../internals/ie8-dom-define":152,"../internals/to-property-key":225,"../internals/v8-prototype-define-bug":232}],185:[function(g,K,D){K=g("../internals/descriptors");
var y=g("../internals/function-call"),k=g("../internals/object-property-is-enumerable"),v=g("../internals/create-property-descriptor"),E=g("../internals/to-indexed-object"),b=g("../internals/to-property-key"),d=g("../internals/has-own-property"),w=g("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;D.f=K?a:function(m,q){m=E(m);q=b(q);if(w)try{return a(m,q)}catch(r){}if(d(m,q))return v(!y(k.f,m,q),m[q])}},{"../internals/create-property-descriptor":106,"../internals/descriptors":112,
"../internals/function-call":137,"../internals/has-own-property":148,"../internals/ie8-dom-define":152,"../internals/object-property-is-enumerable":194,"../internals/to-indexed-object":220,"../internals/to-property-key":225}],186:[function(g,K,D){var y=g("../internals/classof-raw"),k=g("../internals/to-indexed-object"),v=g("../internals/object-get-own-property-names").f,E=g("../internals/array-slice-simple"),b="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):
[];K.exports.f=function(d){if(b&&"Window"===y(d))try{var w=v(d)}catch(a){w=E(b)}else w=v(k(d));return w}},{"../internals/array-slice-simple":92,"../internals/classof-raw":97,"../internals/object-get-own-property-names":187,"../internals/to-indexed-object":220}],187:[function(g,K,D){var y=g("../internals/object-keys-internal"),k=g("../internals/enum-bug-keys").concat("length","prototype");D.f=Object.getOwnPropertyNames||function(v){return y(v,k)}},{"../internals/enum-bug-keys":127,"../internals/object-keys-internal":192}],
188:[function(g,K,D){D.f=Object.getOwnPropertySymbols},{}],189:[function(g,K,D){var y=g("../internals/has-own-property"),k=g("../internals/is-callable"),v=g("../internals/to-object");D=g("../internals/shared-key");g=g("../internals/correct-prototype-getter");var E=D("IE_PROTO"),b=Object,d=b.prototype;K.exports=g?b.getPrototypeOf:function(w){w=v(w);if(y(w,E))return w[E];var a=w.constructor;return k(a)&&w instanceof a?a.prototype:w instanceof b?d:null}},{"../internals/correct-prototype-getter":103,
"../internals/has-own-property":148,"../internals/is-callable":161,"../internals/shared-key":209,"../internals/to-object":223}],190:[function(g,K,D){D=g("../internals/fails");var y=g("../internals/is-object"),k=g("../internals/classof-raw"),v=g("../internals/array-buffer-non-extensible"),E=Object.isExtensible;g=D(function(){E(1)});K.exports=g||v?function(b){return!y(b)||v&&"ArrayBuffer"===k(b)?!1:E?E(b):!0}:E},{"../internals/array-buffer-non-extensible":86,"../internals/classof-raw":97,"../internals/fails":132,
"../internals/is-object":165}],191:[function(g,K,D){g=g("../internals/function-uncurry-this");K.exports=g({}.isPrototypeOf)},{"../internals/function-uncurry-this":141}],192:[function(g,K,D){D=g("../internals/function-uncurry-this");var y=g("../internals/has-own-property"),k=g("../internals/to-indexed-object"),v=g("../internals/array-includes").indexOf,E=g("../internals/hidden-keys"),b=D([].push);K.exports=function(d,w){d=k(d);var a=0,m=[],q;for(q in d)!y(E,q)&&y(d,q)&&b(m,q);for(;w.length>a;)y(d,
q=w[a++])&&(~v(m,q)||b(m,q));return m}},{"../internals/array-includes":89,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/to-indexed-object":220}],193:[function(g,K,D){var y=g("../internals/object-keys-internal"),k=g("../internals/enum-bug-keys");K.exports=Object.keys||function(v){return y(v,k)}},{"../internals/enum-bug-keys":127,"../internals/object-keys-internal":192}],194:[function(g,K,D){g={}.propertyIsEnumerable;var y=
Object.getOwnPropertyDescriptor;K=y&&!g.call({1:2},1);D.f=K?function(k){k=y(this,k);return!!k&&k.enumerable}:g},{}],195:[function(g,K,D){var y=g("../internals/function-uncurry-this-accessor"),k=g("../internals/an-object"),v=g("../internals/a-possible-prototype");K.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var E=!1,b={};try{var d=y(Object.prototype,"__proto__","set");d(b,[]);E=b instanceof Array}catch(w){}return function(w,a){k(w);v(a);E?d(w,a):w.__proto__=a;return w}}():void 0)},
{"../internals/a-possible-prototype":81,"../internals/an-object":84,"../internals/function-uncurry-this-accessor":139}],196:[function(g,K,D){D=g("../internals/to-string-tag-support");var y=g("../internals/classof");K.exports=D?{}.toString:function(){return"[object "+y(this)+"]"}},{"../internals/classof":98,"../internals/to-string-tag-support":226}],197:[function(g,K,D){var y=g("../internals/function-call"),k=g("../internals/is-callable"),v=g("../internals/is-object"),E=TypeError;K.exports=function(b,
d){var w,a;if("string"===d&&k(w=b.toString)&&!v(a=y(w,b))||k(w=b.valueOf)&&!v(a=y(w,b))||"string"!==d&&k(w=b.toString)&&!v(a=y(w,b)))return a;throw new E("Can't convert object to primitive value");}},{"../internals/function-call":137,"../internals/is-callable":161,"../internals/is-object":165}],198:[function(g,K,D){D=g("../internals/get-built-in");var y=g("../internals/function-uncurry-this"),k=g("../internals/object-get-own-property-names"),v=g("../internals/object-get-own-property-symbols"),E=g("../internals/an-object"),
b=y([].concat);K.exports=D("Reflect","ownKeys")||function(d){var w=k.f(E(d)),a=v.f;return a?b(w,a(d)):w}},{"../internals/an-object":84,"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-symbols":188}],199:[function(g,K,D){g=g("../internals/global");K.exports=g},{"../internals/global":147}],200:[function(g,K,D){K.exports=function(y){try{return{error:!1,value:y()}}catch(k){return{error:!0,value:k}}}},
{}],201:[function(g,K,D){D=g("../internals/global");var y=g("../internals/promise-native-constructor"),k=g("../internals/is-callable"),v=g("../internals/is-forced"),E=g("../internals/inspect-source"),b=g("../internals/well-known-symbol"),d=g("../internals/engine-is-browser"),w=g("../internals/engine-is-deno"),a=g("../internals/is-pure"),m=g("../internals/engine-v8-version"),q=y&&y.prototype,r=b("species"),h=!1,c=k(D.PromiseRejectionEvent);g=v("Promise",function(){var f=E(y),n=f!==String(y);if(!n&&
66===m||a&&(!q["catch"]||!q["finally"]))return!0;if(!m||51>m||!/native code/.test(f)){f=new y(function(p){p(1)});var e=function(p){p(function(){},function(){})};(f.constructor={})[r]=e;h=f.then(function(){})instanceof e;if(!h)return!0}return!n&&(d||w)&&!c});K.exports={CONSTRUCTOR:g,REJECTION_EVENT:c,SUBCLASSING:h}},{"../internals/engine-is-browser":118,"../internals/engine-is-deno":119,"../internals/engine-v8-version":125,"../internals/global":147,"../internals/inspect-source":155,"../internals/is-callable":161,
"../internals/is-forced":163,"../internals/is-pure":166,"../internals/promise-native-constructor":202,"../internals/well-known-symbol":237}],202:[function(g,K,D){g=g("../internals/global");K.exports=g.Promise},{"../internals/global":147}],203:[function(g,K,D){var y=g("../internals/an-object"),k=g("../internals/is-object"),v=g("../internals/new-promise-capability");K.exports=function(E,b){y(E);if(k(b)&&b.constructor===E)return b;E=v.f(E);var d=E.resolve;d(b);return E.promise}},{"../internals/an-object":84,
"../internals/is-object":165,"../internals/new-promise-capability":179}],204:[function(g,K,D){var y=g("../internals/promise-native-constructor");D=g("../internals/check-correctness-of-iteration");g=g("../internals/promise-constructor-detection").CONSTRUCTOR;K.exports=g||!D(function(k){y.all(k).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":96,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202}],205:[function(g,K,D){g=function(){this.tail=
this.head=null};g.prototype={add:function(y){y={item:y,next:null};var k=this.tail;k?k.next=y:this.head=y;this.tail=y},get:function(){var y=this.head;if(y)return null===(this.head=y.next)&&(this.tail=null),y.item}};K.exports=g},{}],206:[function(g,K,D){var y=g("../internals/is-null-or-undefined"),k=TypeError;K.exports=function(v){if(y(v))throw new k("Can't call method on "+v);return v}},{"../internals/is-null-or-undefined":164}],207:[function(g,K,D){var y=g("../internals/get-built-in"),k=g("../internals/define-built-in-accessor");
D=g("../internals/well-known-symbol");var v=g("../internals/descriptors"),E=D("species");K.exports=function(b){b=y(b);v&&b&&!b[E]&&k(b,E,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/get-built-in":142,"../internals/well-known-symbol":237}],208:[function(g,K,D){var y=g("../internals/object-define-property").f,k=g("../internals/has-own-property"),v=g("../internals/well-known-symbol")("toStringTag");K.exports=
function(E,b,d){E&&!d&&(E=E.prototype);E&&!k(E,v)&&y(E,v,{configurable:!0,value:b})}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/well-known-symbol":237}],209:[function(g,K,D){D=g("../internals/shared");var y=g("../internals/uid"),k=D("keys");K.exports=function(v){return k[v]||(k[v]=y(v))}},{"../internals/shared":211,"../internals/uid":230}],210:[function(g,K,D){D=g("../internals/global");g=g("../internals/define-global-property");g=D["__core-js_shared__"]||
g("__core-js_shared__",{});K.exports=g},{"../internals/define-global-property":111,"../internals/global":147}],211:[function(g,K,D){D=g("../internals/is-pure");var y=g("../internals/shared-store");(K.exports=function(k,v){return y[k]||(y[k]=void 0!==v?v:{})})("versions",[]).push({version:"3.33.2",mode:D?"pure":"global",copyright:"\u00a9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":166,
"../internals/shared-store":210}],212:[function(g,K,D){var y=g("../internals/an-object"),k=g("../internals/a-constructor"),v=g("../internals/is-null-or-undefined"),E=g("../internals/well-known-symbol")("species");K.exports=function(b,d){b=y(b).constructor;var w;return void 0===b||v(w=y(b)[E])?d:k(w)}},{"../internals/a-constructor":80,"../internals/an-object":84,"../internals/is-null-or-undefined":164,"../internals/well-known-symbol":237}],213:[function(g,K,D){D=g("../internals/function-uncurry-this");
var y=g("../internals/to-integer-or-infinity"),k=g("../internals/to-string"),v=g("../internals/require-object-coercible"),E=D("".charAt),b=D("".charCodeAt),d=D("".slice);g=function(w){return function(a,m){a=k(v(a));m=y(m);var q=a.length,r;if(0>m||m>=q)return w?"":void 0;var h=b(a,m);return 55296>h||56319<h||m+1===q||56320>(r=b(a,m+1))||57343<r?w?E(a,m):h:w?d(a,m,m+2):(h-55296<<10)+(r-56320)+65536}};K.exports={codeAt:g(!1),charAt:g(!0)}},{"../internals/function-uncurry-this":141,"../internals/require-object-coercible":206,
"../internals/to-integer-or-infinity":221,"../internals/to-string":227}],214:[function(g,K,D){var y=g("../internals/engine-v8-version");D=g("../internals/fails");var k=g("../internals/global").String;K.exports=!!Object.getOwnPropertySymbols&&!D(function(){var v=Symbol("symbol detection");return!k(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&y&&41>y})},{"../internals/engine-v8-version":125,"../internals/fails":132,"../internals/global":147}],215:[function(g,K,D){var y=g("../internals/function-call"),
k=g("../internals/get-built-in"),v=g("../internals/well-known-symbol"),E=g("../internals/define-built-in");K.exports=function(){var b=k("Symbol"),d=(b=b&&b.prototype)&&b.valueOf,w=v("toPrimitive");b&&!b[w]&&E(b,w,function(a){return y(d,this)},{arity:1})}},{"../internals/define-built-in":109,"../internals/function-call":137,"../internals/get-built-in":142,"../internals/well-known-symbol":237}],216:[function(g,K,D){g=g("../internals/symbol-constructor-detection");K.exports=g&&!!Symbol["for"]&&!!Symbol.keyFor},
{"../internals/symbol-constructor-detection":214}],217:[function(g,K,D){var y=g("../internals/global"),k=g("../internals/function-apply");D=g("../internals/function-bind-context");var v=g("../internals/is-callable"),E=g("../internals/has-own-property"),b=g("../internals/fails"),d=g("../internals/html"),w=g("../internals/array-slice"),a=g("../internals/document-create-element"),m=g("../internals/validate-arguments-length"),q=g("../internals/engine-is-ios"),r=g("../internals/engine-is-node");g=y.setImmediate;
var h=y.clearImmediate,c=y.process,f=y.Dispatch,n=y.Function,e=y.MessageChannel,p=y.String,u=0,B={},C;b(function(){C=y.location});var A=function(H){if(E(B,H)){var N=B[H];delete B[H];N()}},I=function(H){return function(){A(H)}},O=function(H){A(H.data)},z=function(H){y.postMessage(p(H),C.protocol+"//"+C.host)};if(!g||!h)if(g=function(H){m(arguments.length,1);var N=v(H)?H:n(H),J=w(arguments,1);B[++u]=function(){k(N,void 0,J)};G(u);return u},h=function(H){delete B[H]},r)var G=function(H){c.nextTick(I(H))};
else f&&f.now?G=function(H){f.now(I(H))}:e&&!q?(b=new e,q=b.port2,b.port1.onmessage=O,G=D(q.postMessage,q)):y.addEventListener&&v(y.postMessage)&&!y.importScripts&&C&&"file:"!==C.protocol&&!b(z)?(G=z,y.addEventListener("message",O,!1)):G="onreadystatechange"in a("script")?function(H){d.appendChild(a("script")).onreadystatechange=function(){d.removeChild(this);A(H)}}:function(H){setTimeout(I(H),0)};K.exports={set:g,clear:h}},{"../internals/array-slice":93,"../internals/document-create-element":114,
"../internals/engine-is-ios":121,"../internals/engine-is-node":122,"../internals/fails":132,"../internals/function-apply":134,"../internals/function-bind-context":135,"../internals/global":147,"../internals/has-own-property":148,"../internals/html":151,"../internals/is-callable":161,"../internals/validate-arguments-length":233}],218:[function(g,K,D){var y=g("../internals/to-integer-or-infinity"),k=Math.max,v=Math.min;K.exports=function(E,b){E=y(E);return 0>E?k(E+b,0):v(E,b)}},{"../internals/to-integer-or-infinity":221}],
219:[function(g,K,D){var y=g("../internals/to-primitive"),k=TypeError;K.exports=function(v){v=y(v,"number");if("number"==typeof v)throw new k("Can't convert number to bigint");return BigInt(v)}},{"../internals/to-primitive":224}],220:[function(g,K,D){var y=g("../internals/indexed-object"),k=g("../internals/require-object-coercible");K.exports=function(v){return y(k(v))}},{"../internals/indexed-object":153,"../internals/require-object-coercible":206}],221:[function(g,K,D){var y=g("../internals/math-trunc");
K.exports=function(k){k=+k;return k!==k||0===k?0:y(k)}},{"../internals/math-trunc":177}],222:[function(g,K,D){var y=g("../internals/to-integer-or-infinity"),k=Math.min;K.exports=function(v){return 0<v?k(y(v),9007199254740991):0}},{"../internals/to-integer-or-infinity":221}],223:[function(g,K,D){var y=g("../internals/require-object-coercible"),k=Object;K.exports=function(v){return k(y(v))}},{"../internals/require-object-coercible":206}],224:[function(g,K,D){var y=g("../internals/function-call"),k=
g("../internals/is-object"),v=g("../internals/is-symbol"),E=g("../internals/get-method"),b=g("../internals/ordinary-to-primitive");g=g("../internals/well-known-symbol");var d=TypeError,w=g("toPrimitive");K.exports=function(a,m){if(!k(a)||v(a))return a;var q=E(a,w);if(q){void 0===m&&(m="default");a=y(q,a,m);if(!k(a)||v(a))return a;throw new d("Can't convert object to primitive value");}void 0===m&&(m="number");return b(a,m)}},{"../internals/function-call":137,"../internals/get-method":146,"../internals/is-object":165,
"../internals/is-symbol":168,"../internals/ordinary-to-primitive":197,"../internals/well-known-symbol":237}],225:[function(g,K,D){var y=g("../internals/to-primitive"),k=g("../internals/is-symbol");K.exports=function(v){v=y(v,"string");return k(v)?v:v+""}},{"../internals/is-symbol":168,"../internals/to-primitive":224}],226:[function(g,K,D){g=g("../internals/well-known-symbol")("toStringTag");D={};D[g]="z";K.exports="[object z]"===String(D)},{"../internals/well-known-symbol":237}],227:[function(g,K,
D){var y=g("../internals/classof"),k=String;K.exports=function(v){if("Symbol"===y(v))throw new TypeError("Cannot convert a Symbol value to a string");return k(v)}},{"../internals/classof":98}],228:[function(g,K,D){var y=String;K.exports=function(k){try{return y(k)}catch(v){return"Object"}}},{}],229:[function(g,K,D){D=g("../internals/array-buffer-view-core");var y=g("../internals/species-constructor"),k=D.aTypedArrayConstructor,v=D.getTypedArrayConstructor;K.exports=function(E){return k(y(E,v(E)))}},
{"../internals/array-buffer-view-core":87,"../internals/species-constructor":212}],230:[function(g,K,D){g=g("../internals/function-uncurry-this");var y=0,k=Math.random(),v=g((1).toString);K.exports=function(E){return"Symbol("+(void 0===E?"":E)+")_"+v(++y+k,36)}},{"../internals/function-uncurry-this":141}],231:[function(g,K,D){g=g("../internals/symbol-constructor-detection");K.exports=g&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/symbol-constructor-detection":214}],232:[function(g,
K,D){D=g("../internals/descriptors");g=g("../internals/fails");K.exports=D&&g(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},{"../internals/descriptors":112,"../internals/fails":132}],233:[function(g,K,D){var y=TypeError;K.exports=function(k,v){if(k<v)throw new y("Not enough arguments");return k}},{}],234:[function(g,K,D){D=g("../internals/global");g=g("../internals/is-callable");D=D.WeakMap;K.exports=g(D)&&/native code/.test(String(D))},
{"../internals/global":147,"../internals/is-callable":161}],235:[function(g,K,D){var y=g("../internals/path"),k=g("../internals/has-own-property"),v=g("../internals/well-known-symbol-wrapped"),E=g("../internals/object-define-property").f;K.exports=function(b){var d=y.Symbol||(y.Symbol={});k(d,b)||E(d,b,{value:v.f(b)})}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/path":199,"../internals/well-known-symbol-wrapped":236}],236:[function(g,K,D){g=g("../internals/well-known-symbol");
D.f=g},{"../internals/well-known-symbol":237}],237:[function(g,K,D){D=g("../internals/global");var y=g("../internals/shared"),k=g("../internals/has-own-property"),v=g("../internals/uid"),E=g("../internals/symbol-constructor-detection");g=g("../internals/use-symbol-as-uid");var b=D.Symbol,d=y("wks"),w=g?b["for"]||b:b&&b.withoutSetter||v;K.exports=function(a){k(d,a)||(d[a]=E&&k(b,a)?b[a]:w("Symbol."+a));return d[a]}},{"../internals/global":147,"../internals/has-own-property":148,"../internals/shared":211,
"../internals/symbol-constructor-detection":214,"../internals/uid":230,"../internals/use-symbol-as-uid":231}],238:[function(g,K,D){K=g("../internals/export");var y=g("../internals/object-is-prototype-of"),k=g("../internals/object-get-prototype-of"),v=g("../internals/object-set-prototype-of");D=g("../internals/copy-constructor-properties");var E=g("../internals/object-create"),b=g("../internals/create-non-enumerable-property"),d=g("../internals/create-property-descriptor"),w=g("../internals/install-error-cause"),
a=g("../internals/error-stack-install"),m=g("../internals/iterate"),q=g("../internals/normalize-string-argument"),r=g("../internals/well-known-symbol")("toStringTag"),h=Error,c=[].push,f=function(e,p){var u=y(n,this);v?u=v(new h,u?k(this):n):(u=u?this:E(n),b(u,r,"Error"));void 0!==p&&b(u,"message",q(p));a(u,f,u.stack,1);2<arguments.length&&w(u,arguments[2]);var B=[];m(e,c,{that:B});b(u,"errors",B);return u};v?v(f,h):D(f,h,{name:!0});var n=f.prototype=E(h.prototype,{constructor:d(1,f),message:d(1,
""),name:d(1,"AggregateError")});K({global:!0,constructor:!0,arity:2},{AggregateError:f})},{"../internals/copy-constructor-properties":101,"../internals/create-non-enumerable-property":105,"../internals/create-property-descriptor":106,"../internals/error-stack-install":129,"../internals/export":131,"../internals/install-error-cause":156,"../internals/iterate":169,"../internals/normalize-string-argument":180,"../internals/object-create":182,"../internals/object-get-prototype-of":189,"../internals/object-is-prototype-of":191,
"../internals/object-set-prototype-of":195,"../internals/well-known-symbol":237}],239:[function(g,K,D){g("../modules/es.aggregate-error.constructor")},{"../modules/es.aggregate-error.constructor":238}],240:[function(g,K,D){K=g("../internals/export");D=g("../internals/fails");var y=g("../internals/is-array"),k=g("../internals/is-object"),v=g("../internals/to-object"),E=g("../internals/length-of-array-like"),b=g("../internals/does-not-exceed-safe-integer"),d=g("../internals/create-property"),w=g("../internals/array-species-create"),
a=g("../internals/array-method-has-species-support"),m=g("../internals/well-known-symbol");g=g("../internals/engine-v8-version");var q=m("isConcatSpreadable");g=!(51<=g||!D(function(){var r=[];r[q]=!1;return r.concat()[0]!==r}))||!a("concat");K({target:"Array",proto:!0,arity:1,forced:g},{concat:function(r){var h=v(this),c=w(h,0),f=0,n;var e=-1;for(n=arguments.length;e<n;e++){var p=-1===e?h:arguments[e];var u=p;if(k(u)){var B=u[q];u=void 0!==B?!!B:y(u)}else u=!1;if(u)for(B=E(p),b(f+B),u=0;u<B;u++,
f++)u in p&&d(c,f,p[u]);else b(f+1),d(c,f++,p)}c.length=f;return c}})},{"../internals/array-method-has-species-support":91,"../internals/array-species-create":95,"../internals/create-property":107,"../internals/does-not-exceed-safe-integer":115,"../internals/engine-v8-version":125,"../internals/export":131,"../internals/fails":132,"../internals/is-array":160,"../internals/is-object":165,"../internals/length-of-array-like":175,"../internals/to-object":223,"../internals/well-known-symbol":237}],241:[function(g,
K,D){K=g("../internals/export");D=g("../internals/array-fill");g=g("../internals/add-to-unscopables");K({target:"Array",proto:!0},{fill:D});g("fill")},{"../internals/add-to-unscopables":82,"../internals/array-fill":88,"../internals/export":131}],242:[function(g,K,D){var y=g("../internals/to-indexed-object");D=g("../internals/add-to-unscopables");var k=g("../internals/iterators"),v=g("../internals/internal-state"),E=g("../internals/object-define-property").f,b=g("../internals/iterator-define"),d=g("../internals/create-iter-result-object"),
w=g("../internals/is-pure");g=g("../internals/descriptors");var a=v.set,m=v.getterFor("Array Iterator");K.exports=b(Array,"Array",function(q,r){a(this,{type:"Array Iterator",target:y(q),index:0,kind:r})},function(){var q=m(this),r=q.target,h=q.index++;if(!r||h>=r.length)return q.target=void 0,d(void 0,!0);switch(q.kind){case "keys":return d(h,!1);case "values":return d(r[h],!1)}return d([h,r[h]],!1)},"values");K=k.Arguments=k.Array;D("keys");D("values");D("entries");if(!w&&g&&"values"!==K.name)try{E(K,
"name",{value:"values"})}catch(q){}},{"../internals/add-to-unscopables":82,"../internals/create-iter-result-object":104,"../internals/descriptors":112,"../internals/internal-state":158,"../internals/is-pure":166,"../internals/iterator-define":172,"../internals/iterators":174,"../internals/object-define-property":184,"../internals/to-indexed-object":220}],243:[function(g,K,D){K=g("../internals/export");var y=g("../internals/get-built-in"),k=g("../internals/function-apply"),v=g("../internals/function-call");
D=g("../internals/function-uncurry-this");var E=g("../internals/fails"),b=g("../internals/is-callable"),d=g("../internals/is-symbol"),w=g("../internals/array-slice"),a=g("../internals/get-json-replacer-function");g=g("../internals/symbol-constructor-detection");var m=String,q=y("JSON","stringify"),r=D(/./.exec),h=D("".charAt),c=D("".charCodeAt),f=D("".replace),n=D((1).toString),e=/[\uD800-\uDFFF]/g,p=/^[\uD800-\uDBFF]$/,u=/^[\uDC00-\uDFFF]$/,B=!g||E(function(){var O=y("Symbol")("stringify detection");
return"[null]"!==q([O])||"{}"!==q({a:O})||"{}"!==q(Object(O))}),C=E(function(){return'"\\udf06\\ud834"'!==q("\udf06\ud834")||'"\\udead"'!==q("\udead")}),A=function(O,z){var G=w(arguments),H=a(z);if(b(H)||void 0!==O&&!d(O))return G[1]=function(N,J){b(H)&&(J=v(H,this,m(N),J));if(!d(J))return J},k(q,null,G)},I=function(O,z,G){var H=h(G,z-1);z=h(G,z+1);return r(p,O)&&!r(u,z)||r(u,O)&&!r(p,H)?"\\u"+n(c(O,0),16):O};q&&K({target:"JSON",stat:!0,arity:3,forced:B||C},{stringify:function(O,z,G){var H=w(arguments);
H=k(B?A:q,null,H);return C&&"string"==typeof H?f(H,e,I):H}})},{"../internals/array-slice":93,"../internals/export":131,"../internals/fails":132,"../internals/function-apply":134,"../internals/function-call":137,"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/get-json-replacer-function":145,"../internals/is-callable":161,"../internals/is-symbol":168,"../internals/symbol-constructor-detection":214}],244:[function(g,K,D){K=g("../internals/global");g("../internals/set-to-string-tag")(K.JSON,
"JSON",!0)},{"../internals/global":147,"../internals/set-to-string-tag":208}],245:[function(g,K,D){K=g("../internals/collection");g=g("../internals/collection-strong");K("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":100,"../internals/collection-strong":99}],246:[function(g,K,D){g("../modules/es.map.constructor")},{"../modules/es.map.constructor":245}],247:[function(g,K,D){g("../internals/set-to-string-tag")(Math,"Math",!0)},
{"../internals/set-to-string-tag":208}],248:[function(g,K,D){K=g("../internals/export");D=g("../internals/symbol-constructor-detection");var y=g("../internals/fails"),k=g("../internals/object-get-own-property-symbols"),v=g("../internals/to-object");g=!D||y(function(){k.f(1)});K({target:"Object",stat:!0,forced:g},{getOwnPropertySymbols:function(E){var b=k.f;return b?b(v(E)):[]}})},{"../internals/export":131,"../internals/fails":132,"../internals/object-get-own-property-symbols":188,"../internals/symbol-constructor-detection":214,
"../internals/to-object":223}],249:[function(g,K,D){K=g("../internals/to-string-tag-support");D=g("../internals/define-built-in");g=g("../internals/object-to-string");K||D(Object.prototype,"toString",g,{unsafe:!0})},{"../internals/define-built-in":109,"../internals/object-to-string":196,"../internals/to-string-tag-support":226}],250:[function(g,K,D){K=g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/new-promise-capability"),E=g("../internals/perform"),
b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");K({target:"Promise",stat:!0,forced:g},{allSettled:function(d){var w=this,a=v.f(w),m=a.resolve,q=a.reject,r=E(function(){var h=k(w.resolve),c=[],f=0,n=1;b(d,function(e){var p=f++,u=!1;n++;y(h,w,e).then(function(B){u||(u=!0,c[p]={status:"fulfilled",value:B},--n||m(c))},function(B){u||(u=!0,c[p]={status:"rejected",reason:B},--n||m(c))})});--n||m(c)});r.error&&q(r.value);return a.promise}})},{"../internals/a-callable":79,
"../internals/export":131,"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],251:[function(g,K,D){K=g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/new-promise-capability"),E=g("../internals/perform"),b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");K({target:"Promise",
stat:!0,forced:g},{all:function(d){var w=this,a=v.f(w),m=a.resolve,q=a.reject,r=E(function(){var h=k(w.resolve),c=[],f=0,n=1;b(d,function(e){var p=f++,u=!1;n++;y(h,w,e).then(function(B){u||(u=!0,c[p]=B,--n||m(c))},q)});--n||m(c)});r.error&&q(r.value);return a.promise}})},{"../internals/a-callable":79,"../internals/export":131,"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],
252:[function(g,K,D){K=g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/get-built-in"),E=g("../internals/new-promise-capability"),b=g("../internals/perform"),d=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");K({target:"Promise",stat:!0,forced:g},{any:function(w){var a=this,m=v("AggregateError"),q=E.f(a),r=q.resolve,h=q.reject,c=b(function(){var f=k(a.resolve),n=[],e=0,p=1,u=!1;d(w,function(B){var C=e++,
A=!1;p++;y(f,a,B).then(function(I){A||u||(u=!0,r(I))},function(I){A||u||(A=!0,n[C]=I,--p||h(new m(n,"No one promise resolved")))})});--p||h(new m(n,"No one promise resolved"))});c.error&&h(c.value);return q.promise}})},{"../internals/a-callable":79,"../internals/export":131,"../internals/function-call":137,"../internals/get-built-in":142,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],253:[function(g,
K,D){K=g("../internals/export");D=g("../internals/is-pure");var y=g("../internals/promise-constructor-detection").CONSTRUCTOR,k=g("../internals/promise-native-constructor"),v=g("../internals/get-built-in"),E=g("../internals/is-callable");g=g("../internals/define-built-in");var b=k&&k.prototype;K({target:"Promise",proto:!0,forced:y,real:!0},{"catch":function(d){return this.then(void 0,d)}});!D&&E(k)&&(K=v("Promise").prototype["catch"],b["catch"]!==K&&g(b,"catch",K,{unsafe:!0}))},{"../internals/define-built-in":109,
"../internals/export":131,"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202}],254:[function(g,K,D){K=g("../internals/export");D=g("../internals/is-pure");var y=g("../internals/engine-is-node"),k=g("../internals/global"),v=g("../internals/function-call"),E=g("../internals/define-built-in"),b=g("../internals/object-set-prototype-of"),d=g("../internals/set-to-string-tag"),
w=g("../internals/set-species"),a=g("../internals/a-callable"),m=g("../internals/is-callable"),q=g("../internals/is-object"),r=g("../internals/an-instance"),h=g("../internals/species-constructor"),c=g("../internals/task").set,f=g("../internals/microtask"),n=g("../internals/host-report-errors"),e=g("../internals/perform"),p=g("../internals/queue"),u=g("../internals/internal-state"),B=g("../internals/promise-native-constructor"),C=g("../internals/promise-constructor-detection");g=g("../internals/new-promise-capability");
var A=C.CONSTRUCTOR,I=C.REJECTION_EVENT;C=C.SUBCLASSING;var O=u.getterFor("Promise"),z=u.set;u=B&&B.prototype;var G=B,H=u,N=k.TypeError,J=k.document,R=k.process,fa=g.f,Y=fa,sa=!!(J&&J.createEvent&&k.dispatchEvent),ka=function(Z){var ra;return q(Z)&&m(ra=Z.then)?ra:!1},Q=function(Z,ra){var Ca=ra.value,Ra=1===ra.state,xb=Ra?Z.ok:Z.fail,Ib=Z.resolve,Ga=Z.reject,la=Z.domain,Ia;try{if(xb){Ra||(2===ra.rejection&&qa(ra),ra.rejection=1);if(!0===xb)var Ba=Ca;else if(la&&la.enter(),Ba=xb(Ca),la){la.exit();
var cb=!0}Ba===Z.promise?Ga(new N("Promise-chain cycle")):(Ia=ka(Ba))?v(Ia,Ba,Ib,Ga):Ib(Ba)}else Ga(Ca)}catch(sb){la&&!cb&&la.exit(),Ga(sb)}},ja=function(Z,ra){Z.notified||(Z.notified=!0,f(function(){for(var Ca=Z.reactions,Ra;Ra=Ca.get();)Q(Ra,Z);Z.notified=!1;ra&&!Z.rejection&&ua(Z)}))},ca=function(Z,ra,Ca){var Ra;if(sa){var xb=J.createEvent("Event");xb.promise=ra;xb.reason=Ca;xb.initEvent(Z,!1,!0);k.dispatchEvent(xb)}else xb={promise:ra,reason:Ca};!I&&(Ra=k["on"+Z])?Ra(xb):"unhandledrejection"===
Z&&n("Unhandled promise rejection",Ca)},ua=function(Z){v(c,k,function(){var ra=Z.facade,Ca=Z.value;if(1!==Z.rejection&&!Z.parent){var Ra=e(function(){y?R.emit("unhandledRejection",Ca,ra):ca("unhandledrejection",ra,Ca)});Z.rejection=y||1!==Z.rejection&&!Z.parent?2:1;if(Ra.error)throw Ra.value;}})},qa=function(Z){v(c,k,function(){var ra=Z.facade;y?R.emit("rejectionHandled",ra):ca("rejectionhandled",ra,Z.value)})},ya=function(Z,ra,Ca){return function(Ra){Z(ra,Ra,Ca)}},ma=function(Z,ra,Ca){Z.done||(Z.done=
!0,Ca&&(Z=Ca),Z.value=ra,Z.state=2,ja(Z,!0))},Oa=function(Z,ra,Ca){if(!Z.done){Z.done=!0;Ca&&(Z=Ca);try{if(Z.facade===ra)throw new N("Promise can't be resolved itself");var Ra=ka(ra);Ra?f(function(){var xb={done:!1};try{v(Ra,ra,ya(Oa,xb,Z),ya(ma,xb,Z))}catch(Ib){ma(xb,Ib,Z)}}):(Z.value=ra,Z.state=1,ja(Z,!1))}catch(xb){ma({done:!1},xb,Z)}}};if(A){G=function(Z){r(this,H);a(Z);v(fb,this);var ra=O(this);try{Z(ya(Oa,ra),ya(ma,ra))}catch(Ca){ma(ra,Ca)}};H=G.prototype;var fb=function(Z){z(this,{type:"Promise",
done:!1,notified:!1,parent:!1,reactions:new p,rejection:!1,state:0,value:void 0})};fb.prototype=E(H,"then",function(Z,ra){var Ca=O(this),Ra=fa(h(this,G));Ca.parent=!0;Ra.ok=m(Z)?Z:!0;Ra.fail=m(ra)&&ra;Ra.domain=y?R.domain:void 0;0===Ca.state?Ca.reactions.add(Ra):f(function(){Q(Ra,Ca)});return Ra.promise});var ab=function(){var Z=new fb,ra=O(Z);this.promise=Z;this.resolve=ya(Oa,ra);this.reject=ya(ma,ra)};g.f=fa=function(Z){return Z===G||void 0===Z?new ab(Z):Y(Z)};if(!D&&m(B)&&u!==Object.prototype){var T=
u.then;C||E(u,"then",function(Z,ra){var Ca=this;return(new G(function(Ra,xb){v(T,Ca,Ra,xb)})).then(Z,ra)},{unsafe:!0});try{delete u.constructor}catch(Z){}b&&b(u,H)}}K({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:G});d(G,"Promise",!1,!0);w("Promise")},{"../internals/a-callable":79,"../internals/an-instance":83,"../internals/define-built-in":109,"../internals/engine-is-node":122,"../internals/export":131,"../internals/function-call":137,"../internals/global":147,"../internals/host-report-errors":150,
"../internals/internal-state":158,"../internals/is-callable":161,"../internals/is-object":165,"../internals/is-pure":166,"../internals/microtask":178,"../internals/new-promise-capability":179,"../internals/object-set-prototype-of":195,"../internals/perform":200,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202,"../internals/queue":205,"../internals/set-species":207,"../internals/set-to-string-tag":208,"../internals/species-constructor":212,"../internals/task":217}],
255:[function(g,K,D){K=g("../internals/export");D=g("../internals/is-pure");var y=g("../internals/promise-native-constructor"),k=g("../internals/fails"),v=g("../internals/get-built-in"),E=g("../internals/is-callable"),b=g("../internals/species-constructor"),d=g("../internals/promise-resolve");g=g("../internals/define-built-in");var w=y&&y.prototype;k=!!y&&k(function(){w["finally"].call({then:function(){}},function(){})});K({target:"Promise",proto:!0,real:!0,forced:k},{"finally":function(a){var m=
b(this,v("Promise")),q=E(a);return this.then(q?function(r){return d(m,a()).then(function(){return r})}:a,q?function(r){return d(m,a()).then(function(){throw r;})}:a)}});!D&&E(y)&&(K=v("Promise").prototype["finally"],w["finally"]!==K&&g(w,"finally",K,{unsafe:!0}))},{"../internals/define-built-in":109,"../internals/export":131,"../internals/fails":132,"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/promise-native-constructor":202,"../internals/promise-resolve":203,
"../internals/species-constructor":212}],256:[function(g,K,D){g("../modules/es.promise.constructor");g("../modules/es.promise.all");g("../modules/es.promise.catch");g("../modules/es.promise.race");g("../modules/es.promise.reject");g("../modules/es.promise.resolve")},{"../modules/es.promise.all":251,"../modules/es.promise.catch":253,"../modules/es.promise.constructor":254,"../modules/es.promise.race":257,"../modules/es.promise.reject":258,"../modules/es.promise.resolve":259}],257:[function(g,K,D){K=
g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/new-promise-capability"),E=g("../internals/perform"),b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");K({target:"Promise",stat:!0,forced:g},{race:function(d){var w=this,a=v.f(w),m=a.reject,q=E(function(){var r=k(w.resolve);b(d,function(h){y(r,w,h).then(a.resolve,m)})});q.error&&m(q.value);return a.promise}})},{"../internals/a-callable":79,"../internals/export":131,
"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],258:[function(g,K,D){K=g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/new-promise-capability");g=g("../internals/promise-constructor-detection").CONSTRUCTOR;K({target:"Promise",stat:!0,forced:g},{reject:function(v){var E=k.f(this);y(E.reject,void 0,v);return E.promise}})},{"../internals/export":131,
"../internals/function-call":137,"../internals/new-promise-capability":179,"../internals/promise-constructor-detection":201}],259:[function(g,K,D){K=g("../internals/export");D=g("../internals/get-built-in");var y=g("../internals/is-pure"),k=g("../internals/promise-native-constructor"),v=g("../internals/promise-constructor-detection").CONSTRUCTOR,E=g("../internals/promise-resolve"),b=D("Promise"),d=y&&!v;K({target:"Promise",stat:!0,forced:y||v},{resolve:function(w){return E(d&&this===b?k:this,w)}})},
{"../internals/export":131,"../internals/get-built-in":142,"../internals/is-pure":166,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202,"../internals/promise-resolve":203}],260:[function(g,K,D){K=g("../internals/export");D=g("../internals/global");g=g("../internals/set-to-string-tag");K({global:!0},{Reflect:{}});g(D.Reflect,"Reflect",!0)},{"../internals/export":131,"../internals/global":147,"../internals/set-to-string-tag":208}],261:[function(g,K,D){K=
g("../internals/collection");g=g("../internals/collection-strong");K("Set",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":100,"../internals/collection-strong":99}],262:[function(g,K,D){g("../modules/es.set.constructor")},{"../modules/es.set.constructor":261}],263:[function(g,K,D){K=g("../internals/export");D=g("../internals/function-uncurry-this-clause");var y=g("../internals/object-get-own-property-descriptor").f,k=g("../internals/to-length"),
v=g("../internals/to-string"),E=g("../internals/not-a-regexp"),b=g("../internals/require-object-coercible"),d=g("../internals/correct-is-regexp-logic");g=g("../internals/is-pure");var w=D("".endsWith),a=D("".slice),m=Math.min;D=d("endsWith");g=!g&&!D&&!!function(){var q=y(String.prototype,"endsWith");return q&&!q.writable}();K({target:"String",proto:!0,forced:!g&&!D},{endsWith:function(q){var r=v(b(this));E(q);var h=1<arguments.length?arguments[1]:void 0,c=r.length;h=void 0===h?c:m(k(h),c);c=v(q);
return w?w(r,c,h):a(r,h-c.length,h)===c}})},{"../internals/correct-is-regexp-logic":102,"../internals/export":131,"../internals/function-uncurry-this-clause":140,"../internals/is-pure":166,"../internals/not-a-regexp":181,"../internals/object-get-own-property-descriptor":185,"../internals/require-object-coercible":206,"../internals/to-length":222,"../internals/to-string":227}],264:[function(g,K,D){var y=g("../internals/string-multibyte").charAt,k=g("../internals/to-string");K=g("../internals/internal-state");
D=g("../internals/iterator-define");var v=g("../internals/create-iter-result-object"),E=K.set,b=K.getterFor("String Iterator");D(String,"String",function(d){E(this,{type:"String Iterator",string:k(d),index:0})},function(){var d=b(this),w=d.string,a=d.index;if(a>=w.length)return v(void 0,!0);w=y(w,a);d.index+=w.length;return v(w,!1)})},{"../internals/create-iter-result-object":104,"../internals/internal-state":158,"../internals/iterator-define":172,"../internals/string-multibyte":213,"../internals/to-string":227}],
265:[function(g,K,D){g("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":235}],266:[function(g,K,D){K=g("../internals/export");var y=g("../internals/global"),k=g("../internals/function-call"),v=g("../internals/function-uncurry-this");D=g("../internals/is-pure");var E=g("../internals/descriptors"),b=g("../internals/symbol-constructor-detection"),d=g("../internals/fails"),w=g("../internals/has-own-property"),a=g("../internals/object-is-prototype-of"),
m=g("../internals/an-object"),q=g("../internals/to-indexed-object"),r=g("../internals/to-property-key"),h=g("../internals/to-string"),c=g("../internals/create-property-descriptor"),f=g("../internals/object-create"),n=g("../internals/object-keys"),e=g("../internals/object-get-own-property-names"),p=g("../internals/object-get-own-property-names-external"),u=g("../internals/object-get-own-property-symbols"),B=g("../internals/object-get-own-property-descriptor"),C=g("../internals/object-define-property"),
A=g("../internals/object-define-properties"),I=g("../internals/object-property-is-enumerable"),O=g("../internals/define-built-in"),z=g("../internals/define-built-in-accessor"),G=g("../internals/shared"),H=g("../internals/shared-key"),N=g("../internals/hidden-keys"),J=g("../internals/uid"),R=g("../internals/well-known-symbol"),fa=g("../internals/well-known-symbol-wrapped"),Y=g("../internals/well-known-symbol-define"),sa=g("../internals/symbol-define-to-primitive"),ka=g("../internals/set-to-string-tag"),
Q=g("../internals/internal-state"),ja=g("../internals/array-iteration").forEach,ca=H("hidden"),ua=Q.set,qa=Q.getterFor("Symbol"),ya=Object.prototype,ma=(g=y.Symbol)&&g.prototype,Oa=y.RangeError,fb=y.TypeError;H=y.QObject;var ab=B.f,T=C.f,Z=p.f,ra=I.f,Ca=v([].push),Ra=G("symbols"),xb=G("op-symbols");v=G("wks");var Ib=!H||!H.prototype||!H.prototype.findChild,Ga=function(Pa,ta,Wa){var nb=ab(ya,ta);nb&&delete ya[ta];T(Pa,ta,Wa);nb&&Pa!==ya&&T(ya,ta,nb)},la=E&&d(function(){return 7!==f(T({},"a",{get:function(){return T(this,
"a",{value:7}).a}})).a})?Ga:T,Ia=function(Pa,ta){var Wa=Ra[Pa]=f(ma);ua(Wa,{type:"Symbol",tag:Pa,description:ta});E||(Wa.description=ta);return Wa},Ba=function(Pa,ta,Wa){Pa===ya&&Ba(xb,ta,Wa);m(Pa);ta=r(ta);m(Wa);return w(Ra,ta)?(Wa.enumerable?(w(Pa,ca)&&Pa[ca][ta]&&(Pa[ca][ta]=!1),Wa=f(Wa,{enumerable:c(0,!1)})):(w(Pa,ca)||T(Pa,ca,c(1,{})),Pa[ca][ta]=!0),la(Pa,ta,Wa)):T(Pa,ta,Wa)},cb=function(Pa,ta){m(Pa);var Wa=q(ta);ta=n(Wa).concat(ub(Wa));ja(ta,function(nb){E&&!k(sb,Wa,nb)||Ba(Pa,nb,Wa[nb])});
return Pa},sb=function(Pa){Pa=r(Pa);var ta=k(ra,this,Pa);return this===ya&&w(Ra,Pa)&&!w(xb,Pa)?!1:ta||!w(this,Pa)||!w(Ra,Pa)||w(this,ca)&&this[ca][Pa]?ta:!0};d=function(Pa,ta){Pa=q(Pa);ta=r(ta);if(Pa!==ya||!w(Ra,ta)||w(xb,ta)){var Wa=ab(Pa,ta);!Wa||!w(Ra,ta)||w(Pa,ca)&&Pa[ca][ta]||(Wa.enumerable=!0);return Wa}};G=function(Pa){Pa=Z(q(Pa));var ta=[];ja(Pa,function(Wa){w(Ra,Wa)||w(N,Wa)||Ca(ta,Wa)});return ta};var ub=function(Pa){var ta=Pa===ya;Pa=Z(ta?xb:q(Pa));var Wa=[];ja(Pa,function(nb){!w(Ra,nb)||
ta&&!w(ya,nb)||Ca(Wa,Ra[nb])});return Wa};b||(g=function(){if(a(ma,this))throw new fb("Symbol is not a constructor");var Pa=arguments.length&&void 0!==arguments[0]?h(arguments[0]):void 0,ta=J(Pa),Wa=function(nb){var jb=void 0===this?y:this;jb===ya&&k(Wa,xb,nb);w(jb,ca)&&w(jb[ca],ta)&&(jb[ca][ta]=!1);nb=c(1,nb);try{la(jb,ta,nb)}catch(pa){if(!(pa instanceof Oa))throw pa;Ga(jb,ta,nb)}};E&&Ib&&la(ya,ta,{configurable:!0,set:Wa});return Ia(ta,Pa)},ma=g.prototype,O(ma,"toString",function(){return qa(this).tag}),
O(g,"withoutSetter",function(Pa){return Ia(J(Pa),Pa)}),I.f=sb,C.f=Ba,A.f=cb,B.f=d,e.f=p.f=G,u.f=ub,fa.f=function(Pa){return Ia(R(Pa),Pa)},E&&(z(ma,"description",{configurable:!0,get:function(){return qa(this).description}}),D||O(ya,"propertyIsEnumerable",sb,{unsafe:!0})));K({global:!0,constructor:!0,wrap:!0,forced:!b,sham:!b},{Symbol:g});ja(n(v),function(Pa){Y(Pa)});K({target:"Symbol",stat:!0,forced:!b},{useSetter:function(){Ib=!0},useSimple:function(){Ib=!1}});K({target:"Object",stat:!0,forced:!b,
sham:!E},{create:function(Pa,ta){return void 0===ta?f(Pa):cb(f(Pa),ta)},defineProperty:Ba,defineProperties:cb,getOwnPropertyDescriptor:d});K({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:G});sa();ka(g,"Symbol");N[ca]=!0},{"../internals/an-object":84,"../internals/array-iteration":90,"../internals/create-property-descriptor":106,"../internals/define-built-in":109,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/export":131,"../internals/fails":132,
"../internals/function-call":137,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/internal-state":158,"../internals/is-pure":166,"../internals/object-create":182,"../internals/object-define-properties":183,"../internals/object-define-property":184,"../internals/object-get-own-property-descriptor":185,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-names-external":186,
"../internals/object-get-own-property-symbols":188,"../internals/object-is-prototype-of":191,"../internals/object-keys":193,"../internals/object-property-is-enumerable":194,"../internals/set-to-string-tag":208,"../internals/shared":211,"../internals/shared-key":209,"../internals/symbol-constructor-detection":214,"../internals/symbol-define-to-primitive":215,"../internals/to-indexed-object":220,"../internals/to-property-key":225,"../internals/to-string":227,"../internals/uid":230,"../internals/well-known-symbol":237,
"../internals/well-known-symbol-define":235,"../internals/well-known-symbol-wrapped":236}],267:[function(g,K,D){K=g("../internals/export");var y=g("../internals/descriptors"),k=g("../internals/global");D=g("../internals/function-uncurry-this");var v=g("../internals/has-own-property"),E=g("../internals/is-callable"),b=g("../internals/object-is-prototype-of"),d=g("../internals/to-string"),w=g("../internals/define-built-in-accessor");g=g("../internals/copy-constructor-properties");var a=k.Symbol,m=a&&
a.prototype;if(y&&E(a)&&(!("description"in m)||void 0!==a().description)){var q={};y=function(){var p=1>arguments.length||void 0===arguments[0]?void 0:d(arguments[0]),u=b(m,this)?new a(p):void 0===p?a():a(p);""===p&&(q[u]=!0);return u};g(y,a);y.prototype=m;m.constructor=y;var r="Symbol(description detection)"===String(a("description detection")),h=D(m.valueOf),c=D(m.toString),f=/^Symbol\((.*)\)[^)]+$/,n=D("".replace),e=D("".slice);w(m,"description",{configurable:!0,get:function(){var p=h(this);if(v(q,
p))return"";p=c(p);p=r?e(p,7,-1):n(p,f,"$1");return""===p?void 0:p}});K({global:!0,constructor:!0,forced:!0},{Symbol:y})}},{"../internals/copy-constructor-properties":101,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/export":131,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/has-own-property":148,"../internals/is-callable":161,"../internals/object-is-prototype-of":191,"../internals/to-string":227}],268:[function(g,K,D){K=
g("../internals/export");var y=g("../internals/get-built-in"),k=g("../internals/has-own-property"),v=g("../internals/to-string");D=g("../internals/shared");g=g("../internals/symbol-registry-detection");var E=D("string-to-symbol-registry"),b=D("symbol-to-string-registry");K({target:"Symbol",stat:!0,forced:!g},{"for":function(d){d=v(d);if(k(E,d))return E[d];var w=y("Symbol")(d);E[d]=w;b[w]=d;return w}})},{"../internals/export":131,"../internals/get-built-in":142,"../internals/has-own-property":148,
"../internals/shared":211,"../internals/symbol-registry-detection":216,"../internals/to-string":227}],269:[function(g,K,D){g("../internals/well-known-symbol-define")("hasInstance")},{"../internals/well-known-symbol-define":235}],270:[function(g,K,D){g("../internals/well-known-symbol-define")("isConcatSpreadable")},{"../internals/well-known-symbol-define":235}],271:[function(g,K,D){g("../internals/well-known-symbol-define")("iterator")},{"../internals/well-known-symbol-define":235}],272:[function(g,
K,D){g("../modules/es.symbol.constructor");g("../modules/es.symbol.for");g("../modules/es.symbol.key-for");g("../modules/es.json.stringify");g("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":243,"../modules/es.object.get-own-property-symbols":248,"../modules/es.symbol.constructor":266,"../modules/es.symbol.for":268,"../modules/es.symbol.key-for":273}],273:[function(g,K,D){K=g("../internals/export");var y=g("../internals/has-own-property"),k=g("../internals/is-symbol"),
v=g("../internals/try-to-string");D=g("../internals/shared");g=g("../internals/symbol-registry-detection");var E=D("symbol-to-string-registry");K({target:"Symbol",stat:!0,forced:!g},{keyFor:function(b){if(!k(b))throw new TypeError(v(b)+" is not a symbol");if(y(E,b))return E[b]}})},{"../internals/export":131,"../internals/has-own-property":148,"../internals/is-symbol":168,"../internals/shared":211,"../internals/symbol-registry-detection":216,"../internals/try-to-string":228}],274:[function(g,K,D){g("../internals/well-known-symbol-define")("matchAll")},
{"../internals/well-known-symbol-define":235}],275:[function(g,K,D){g("../internals/well-known-symbol-define")("match")},{"../internals/well-known-symbol-define":235}],276:[function(g,K,D){g("../internals/well-known-symbol-define")("replace")},{"../internals/well-known-symbol-define":235}],277:[function(g,K,D){g("../internals/well-known-symbol-define")("search")},{"../internals/well-known-symbol-define":235}],278:[function(g,K,D){g("../internals/well-known-symbol-define")("species")},{"../internals/well-known-symbol-define":235}],
279:[function(g,K,D){g("../internals/well-known-symbol-define")("split")},{"../internals/well-known-symbol-define":235}],280:[function(g,K,D){K=g("../internals/well-known-symbol-define");g=g("../internals/symbol-define-to-primitive");K("toPrimitive");g()},{"../internals/symbol-define-to-primitive":215,"../internals/well-known-symbol-define":235}],281:[function(g,K,D){K=g("../internals/get-built-in");D=g("../internals/well-known-symbol-define");g=g("../internals/set-to-string-tag");D("toStringTag");
g(K("Symbol"),"Symbol")},{"../internals/get-built-in":142,"../internals/set-to-string-tag":208,"../internals/well-known-symbol-define":235}],282:[function(g,K,D){g("../internals/well-known-symbol-define")("unscopables")},{"../internals/well-known-symbol-define":235}],283:[function(g,K,D){D=g("../internals/array-buffer-view-core");var y=g("../internals/array-fill"),k=g("../internals/to-big-int"),v=g("../internals/classof"),E=g("../internals/function-call");K=g("../internals/function-uncurry-this");
g=g("../internals/fails");var b=D.aTypedArray;D=D.exportTypedArrayMethod;var d=K("".slice);g=g(function(){var w=0;(new Int8Array(2)).fill({valueOf:function(){return w++}});return 1!==w});D("fill",function(w){var a=arguments.length;b(this);var m="Big"===d(v(this),0,3)?k(w):+w;return E(y,this,m,1<a?arguments[1]:void 0,2<a?arguments[2]:void 0)},g)},{"../internals/array-buffer-view-core":87,"../internals/array-fill":88,"../internals/classof":98,"../internals/fails":132,"../internals/function-call":137,
"../internals/function-uncurry-this":141,"../internals/to-big-int":219}],284:[function(g,K,D){D=g("../internals/array-buffer-view-core");var y=g("../internals/typed-array-species-constructor");K=g("../internals/fails");var k=g("../internals/array-slice"),v=D.aTypedArray;g=D.exportTypedArrayMethod;K=K(function(){(new Int8Array(1)).slice()});g("slice",function(E,b){E=k(v(this),E,b);var d=y(this);b=0;var w=E.length;for(d=new d(w);w>b;)d[b]=E[b++];return d},K)},{"../internals/array-buffer-view-core":87,
"../internals/array-slice":93,"../internals/fails":132,"../internals/typed-array-species-constructor":229}],285:[function(g,K,D){K=g("../internals/global");var y=g("../internals/dom-iterables");D=g("../internals/dom-token-list-prototype");var k=g("../modules/es.array.iterator"),v=g("../internals/create-non-enumerable-property");g=g("../internals/well-known-symbol");var E=g("iterator"),b=g("toStringTag"),d=k.values;g=function(a,m){if(a){if(a[E]!==d)try{v(a,E,d)}catch(r){a[E]=d}a[b]||v(a,b,m);if(y[m])for(var q in k)if(a[q]!==
k[q])try{v(a,q,k[q])}catch(r){a[q]=k[q]}}};for(var w in y)g(K[w]&&K[w].prototype,w);g(D,"DOMTokenList")},{"../internals/create-non-enumerable-property":105,"../internals/dom-iterables":116,"../internals/dom-token-list-prototype":117,"../internals/global":147,"../internals/well-known-symbol":237,"../modules/es.array.iterator":242}],286:[function(g,K,D){g=g("../../es/array/fill");K.exports=g},{"../../es/array/fill":70}],287:[function(g,K,D){g=g("../../es/array/iterator");K.exports=g},{"../../es/array/iterator":71}],
288:[function(g,K,D){D=g("../../es/map");g("../../modules/web.dom-collections.iterator");K.exports=D},{"../../es/map":72,"../../modules/web.dom-collections.iterator":285}],289:[function(g,K,D){D=g("../../es/promise");g("../../modules/web.dom-collections.iterator");K.exports=D},{"../../es/promise":73,"../../modules/web.dom-collections.iterator":285}],290:[function(g,K,D){D=g("../../es/set");g("../../modules/web.dom-collections.iterator");K.exports=D},{"../../es/set":74,"../../modules/web.dom-collections.iterator":285}],
291:[function(g,K,D){g=g("../../es/string/ends-with");K.exports=g},{"../../es/string/ends-with":75}],292:[function(g,K,D){D=g("../../es/symbol");g("../../modules/web.dom-collections.iterator");K.exports=D},{"../../es/symbol":76,"../../modules/web.dom-collections.iterator":285}],293:[function(g,K,D){g=g("../../es/typed-array/fill");K.exports=g},{"../../es/typed-array/fill":77}],294:[function(g,K,D){g=g("../../es/typed-array/slice");K.exports=g},{"../../es/typed-array/slice":78}],295:[function(g,K,
D){(function(y){(function(){(function(k,v){"undefined"!=typeof D?v():(v(),k.FileSaver={})})(this,function(){function k(m,q){return"undefined"==typeof q?q={autoBom:!1}:"object"!=typeof q&&(console.warn("Deprecated: Expected third argument to be a object"),q={autoBom:!q}),q.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\ufeff",m],{type:m.type}):m}function v(m,q,r){var h=new XMLHttpRequest;h.open("GET",m);h.responseType="blob";h.onload=
function(){a(h.response,q,r)};h.onerror=function(){console.error("could not download file")};h.send()}function E(m){var q=new XMLHttpRequest;q.open("HEAD",m,!1);try{q.send()}catch(r){}return 200<=q.status&&299>=q.status}function b(m){try{m.dispatchEvent(new MouseEvent("click"))}catch(r){var q=document.createEvent("MouseEvents");q.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);m.dispatchEvent(q)}}var d="object"==typeof window&&window.window===window?window:"object"==typeof self&&
self.self===self?self:"object"==typeof y&&y.global===y?y:void 0,w=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=d.saveAs||("object"!=typeof window||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!w?function(m,q,r){var h=d.URL||d.webkitURL,c=document.createElement("a");q=q||m.name||"download";c.download=q;c.rel="noopener";"string"==typeof m?(c.href=m,c.origin===location.origin?b(c):E(c.href)?v(m,
q,r):b(c,c.target="_blank")):(c.href=h.createObjectURL(m),setTimeout(function(){h.revokeObjectURL(c.href)},4E4),setTimeout(function(){b(c)},0))}:"msSaveOrOpenBlob"in navigator?function(m,q,r){if(q=q||m.name||"download","string"!=typeof m)navigator.msSaveOrOpenBlob(k(m,r),q);else if(E(m))v(m,q,r);else{var h=document.createElement("a");h.href=m;h.target="_blank";setTimeout(function(){b(h)})}}:function(m,q,r,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),
"string"==typeof m)return v(m,q,r);q="application/octet-stream"===m.type;r=/constructor/i.test(d.HTMLElement)||d.safari;var c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||q&&r||w)&&"undefined"!=typeof FileReader){var f=new FileReader;f.onloadend=function(){var p=f.result;p=c?p:p.replace(/^data:[^;]*;/,"data:attachment/file;");h?h.location.href=p:location=p;h=null};f.readAsDataURL(m)}else{var n=d.URL||d.webkitURL,e=n.createObjectURL(m);h?h.location=e:location.href=e;h=null;setTimeout(function(){n.revokeObjectURL(e)},
4E4)}});d.saveAs=a.saveAs=a;"undefined"!=typeof K&&(K.exports=a)})}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],296:[function(g,K,D){(function(y,k){"object"===typeof K&&"object"===typeof K.exports?K.exports=y.document?k(y,!0):function(v){if(!v.document)throw Error("jQuery requires a window with a document");return k(v)}:k(y)})("undefined"!==typeof window?window:this,function(y,k){function v(l,x,F){F=F||qb;var L,
S=F.createElement("script");S.text=l;if(x)for(L in fc)(l=x[L]||x.getAttribute&&x.getAttribute(L))&&S.setAttribute(L,l);F.head.appendChild(S).parentNode.removeChild(S)}function E(l){return null==l?l+"":"object"===typeof l||"function"===typeof l?jb[pa.call(l)]||"object":typeof l}function b(l){var x=!!l&&"length"in l&&l.length,F=E(l);return Ma(l)||Ha(l)?!1:"array"===F||0===x||"number"===typeof x&&0<x&&x-1 in l}function d(l,x){return l.nodeName&&l.nodeName.toLowerCase()===x.toLowerCase()}function w(l,
x){return x?"\x00"===l?"\ufffd":l.slice(0,-1)+"\\"+l.charCodeAt(l.length-1).toString(16)+" ":"\\"+l}function a(l,x,F){return Ma(x)?P.grep(l,function(L,S){return!!x.call(L,S,L)!==F}):x.nodeType?P.grep(l,function(L){return L===x!==F}):"string"!==typeof x?P.grep(l,function(L){return-1<nb.call(x,L)!==F}):P.filter(x,l,F)}function m(l,x){for(;(l=l[x])&&1!==l.nodeType;);return l}function q(l){var x={};P.each(l.match(Fb)||[],function(F,L){x[L]=!0});return x}function r(l){return l}function h(l){throw l;}function c(l,
x,F,L){var S;try{l&&Ma(S=l.promise)?S.call(l).done(x).fail(F):l&&Ma(S=l.then)?S.call(l,x,F):x.apply(void 0,[l].slice(L))}catch(V){F.apply(void 0,[V])}}function f(){qb.removeEventListener("DOMContentLoaded",f);y.removeEventListener("load",f);P.ready()}function n(l,x){return x.toUpperCase()}function e(l){return l.replace(Rb,"ms-").replace(rb,n)}function p(){this.expando=P.expando+p.uid++}function u(l,x,F){if(void 0===F&&1===l.nodeType)if(F="data-"+x.replace(kc,"-$&").toLowerCase(),F=l.getAttribute(F),
"string"===typeof F){try{var L=F;F="true"===L?!0:"false"===L?!1:"null"===L?null:L===+L+""?+L:vc.test(L)?JSON.parse(L):L}catch(S){}ac.set(l,x,F)}else F=void 0;return F}function B(l,x,F,L){var S,V=20,X=L?function(){return L.cur()}:function(){return P.css(l,x,"")},na=X(),da=F&&F[3]||(P.cssNumber[x]?"":"px"),ea=l.nodeType&&(P.cssNumber[x]||"px"!==da&&+na)&&hc.exec(P.css(l,x));if(ea&&ea[3]!==da){na/=2;da=da||ea[3];for(ea=+na||1;V--;)P.style(l,x,ea+da),0>=(1-S)*(1-(S=X()/na||.5))&&(V=0),ea/=S;ea*=2;P.style(l,
x,ea+da);F=F||[]}if(F){ea=+ea||+na||0;var Fa=F[1]?ea+(F[1]+1)*F[2]:+F[2];L&&(L.unit=da,L.start=ea,L.end=Fa)}return Fa}function C(l,x){for(var F,L,S=[],V=0,X=l.length;V<X;V++)if(L=l[V],L.style)if(F=L.style.display,x){if("none"===F&&(S[V]=kb.get(L,"display")||null,S[V]||(L.style.display="")),""===L.style.display&&yc(L)){F=V;var na=L.ownerDocument;L=L.nodeName;var da=Dc[L];da||(na=na.body.appendChild(na.createElement(L)),da=P.css(na,"display"),na.parentNode.removeChild(na),"none"===da&&(da="block"),
Dc[L]=da);na=da;S[F]=na}}else"none"!==F&&(S[V]="none",kb.set(L,"display",F));for(V=0;V<X;V++)null!=S[V]&&(l[V].style.display=S[V]);return l}function A(l,x){var F="undefined"!==typeof l.getElementsByTagName?l.getElementsByTagName(x||"*"):"undefined"!==typeof l.querySelectorAll?l.querySelectorAll(x||"*"):[];return void 0===x||x&&d(l,x)?P.merge([l],F):F}function I(l,x){for(var F=0,L=l.length;F<L;F++)kb.set(l[F],"globalEval",!x||kb.get(x[F],"globalEval"))}function O(l,x,F,L,S){for(var V,X,na,da=x.createDocumentFragment(),
ea=[],Fa=0,Na=l.length;Fa<Na;Fa++)if((V=l[Fa])||0===V)if("object"===E(V))P.merge(ea,V.nodeType?[V]:V);else if(Qa.test(V)){X=X||da.appendChild(x.createElement("div"));na=(Cc.exec(V)||["",""])[1].toLowerCase();na=za[na]||za._default;X.innerHTML=na[1]+P.htmlPrefilter(V)+na[2];for(na=na[0];na--;)X=X.lastChild;P.merge(ea,X.childNodes);X=da.firstChild;X.textContent=""}else ea.push(x.createTextNode(V));da.textContent="";for(Fa=0;V=ea[Fa++];)if(L&&-1<P.inArray(V,L))S&&S.push(V);else if(l=xc(V),X=A(da.appendChild(V),
"script"),l&&I(X),F)for(na=0;V=X[na++];)aa.test(V.type||"")&&F.push(V);return da}function z(){return!0}function G(){return!1}function H(l,x,F,L,S,V){var X;if("object"===typeof x){"string"!==typeof F&&(L=L||F,F=void 0);for(X in x)H(l,X,F,L,x[X],V);return l}null==L&&null==S?(S=F,L=F=void 0):null==S&&("string"===typeof F?(S=L,L=void 0):(S=L,L=F,F=void 0));if(!1===S)S=G;else if(!S)return l;if(1===V){var na=S;S=function(da){P().off(da);return na.apply(this,arguments)};S.guid=na.guid||(na.guid=P.guid++)}return l.each(function(){P.event.add(this,
x,S,L,F)})}function N(l,x,F){F?(kb.set(l,x,!1),P.event.add(l,x,{namespace:!1,handler:function(L){var S=kb.get(this,x);if(L.isTrigger&1&&this[x])if(S)(P.event.special[x]||{}).delegateType&&L.stopPropagation();else{S=Pa.call(arguments);kb.set(this,x,S);this[x]();var V=kb.get(this,x);kb.set(this,x,!1);if(S!==V)return L.stopImmediatePropagation(),L.preventDefault(),V}else S&&(kb.set(this,x,P.event.trigger(S[0],S.slice(1),this)),L.stopPropagation(),L.isImmediatePropagationStopped=z)}})):void 0===kb.get(l,
x)&&P.event.add(l,x,z)}function J(l,x){return d(l,"table")&&d(11!==x.nodeType?x:x.firstChild,"tr")?P(l).children("tbody")[0]||l:l}function R(l){l.type=(null!==l.getAttribute("type"))+"/"+l.type;return l}function fa(l){"true/"===(l.type||"").slice(0,5)?l.type=l.type.slice(5):l.removeAttribute("type");return l}function Y(l,x){var F,L,S;if(1===x.nodeType){if(kb.hasData(l)){var V=kb.get(l);if(S=V.events)for(L in kb.remove(x,"handle events"),S)for(V=0,F=S[L].length;V<F;V++)P.event.add(x,L,S[L][V])}ac.hasData(l)&&
(l=ac.access(l),l=P.extend({},l),ac.set(x,l))}}function sa(l,x,F,L){x=ta(x);var S,V=0,X=l.length,na=X-1,da=x[0],ea=Ma(da);if(ea||1<X&&"string"===typeof da&&!Da.checkClone&&U.test(da))return l.each(function(hb){var ib=l.eq(hb);ea&&(x[0]=da.call(this,hb,ib.html()));sa(ib,x,F,L)});if(X){var Fa=O(x,l[0].ownerDocument,!1,l,L);var Na=Fa.firstChild;1===Fa.childNodes.length&&(Fa=Na);if(Na||L){Na=P.map(A(Fa,"script"),R);for(S=Na.length;V<X;V++){var Sa=Fa;V!==na&&(Sa=P.clone(Sa,!0,!0),S&&P.merge(Na,A(Sa,"script")));
F.call(l[V],Sa,V)}if(S)for(Fa=Na[Na.length-1].ownerDocument,P.map(Na,fa),V=0;V<S;V++)Sa=Na[V],aa.test(Sa.type||"")&&!kb.access(Sa,"globalEval")&&P.contains(Fa,Sa)&&(Sa.src&&"module"!==(Sa.type||"").toLowerCase()?P._evalUrl&&!Sa.noModule&&P._evalUrl(Sa.src,{nonce:Sa.nonce||Sa.getAttribute("nonce")},Fa):v(Sa.textContent.replace(ia,""),Sa,Fa))}}return l}function ka(l,x,F){for(var L=x?P.filter(x,l):l,S=0;null!=(x=L[S]);S++)F||1!==x.nodeType||P.cleanData(A(x)),x.parentNode&&(F&&xc(x)&&I(A(x,"script")),
x.parentNode.removeChild(x));return l}function Q(l,x,F){var L=ba.test(x);var S=l.style;if(F=F||va(l)){var V=F.getPropertyValue(x)||F[x];L&&V&&(V=V.replace(Qb,"$1")||void 0);""!==V||xc(l)||(V=P.style(l,x));!Da.pixelBoxStyles()&&Aa.test(V)&&Va.test(x)&&(l=S.width,x=S.minWidth,L=S.maxWidth,S.minWidth=S.maxWidth=S.width=V,V=F.width,S.width=l,S.minWidth=x,S.maxWidth=L)}return void 0!==V?V+"":V}function ja(l,x){return{get:function(){if(l())delete this.get;else return(this.get=x).apply(this,arguments)}}}
function ca(l){var x=P.cssProps[l]||$a[l];if(x)return x;if(l in Za)return l;a:{x=l;for(var F=x[0].toUpperCase()+x.slice(1),L=Ka.length;L--;)if(x=Ka[L]+F,x in Za)break a;x=void 0}return $a[l]=x||l}function ua(l,x,F){return(l=hc.exec(x))?Math.max(0,l[2]-(F||0))+(l[3]||"px"):x}function qa(l,x,F,L,S,V){var X="width"===x?1:0,na=0,da=0,ea=0;if(F===(L?"border":"content"))return 0;for(;4>X;X+=2)"margin"===F&&(ea+=P.css(l,F+gc[X],!0,S)),L?("content"===F&&(da-=P.css(l,"padding"+gc[X],!0,S)),"margin"!==F&&(da-=
P.css(l,"border"+gc[X]+"Width",!0,S))):(da+=P.css(l,"padding"+gc[X],!0,S),"padding"!==F?da+=P.css(l,"border"+gc[X]+"Width",!0,S):na+=P.css(l,"border"+gc[X]+"Width",!0,S));!L&&0<=V&&(da+=Math.max(0,Math.ceil(l["offset"+x[0].toUpperCase()+x.slice(1)]-V-da-na-.5))||0);return da+ea}function ya(l,x,F){var L=va(l),S=(!Da.boxSizingReliable()||F)&&"border-box"===P.css(l,"boxSizing",!1,L),V=S,X=Q(l,x,L),na="offset"+x[0].toUpperCase()+x.slice(1);if(Aa.test(X)){if(!F)return X;X="auto"}(!Da.boxSizingReliable()&&
S||!Da.reliableTrDimensions()&&d(l,"tr")||"auto"===X||!parseFloat(X)&&"inline"===P.css(l,"display",!1,L))&&l.getClientRects().length&&(S="border-box"===P.css(l,"boxSizing",!1,L),(V=na in l)&&(X=l[na]));X=parseFloat(X)||0;return X+qa(l,x,F||(S?"border":"content"),V,L,X)+"px"}function ma(l,x,F,L,S){return new ma.prototype.init(l,x,F,L,S)}function Oa(){oc&&(!1===qb.hidden&&y.requestAnimationFrame?y.requestAnimationFrame(Oa):y.setTimeout(Oa,P.fx.interval),P.fx.tick())}function fb(){y.setTimeout(function(){Nb=
void 0});return Nb=Date.now()}function ab(l,x){var F=0,L={height:l};for(x=x?1:0;4>F;F+=2-x){var S=gc[F];L["margin"+S]=L["padding"+S]=l}x&&(L.opacity=L.width=l);return L}function T(l,x,F){for(var L,S=(ra.tweeners[x]||[]).concat(ra.tweeners["*"]),V=0,X=S.length;V<X;V++)if(L=S[V].call(F,x,l))return L}function Z(l,x){var F,L;for(F in l){var S=e(F);var V=x[S];var X=l[F];Array.isArray(X)&&(V=X[1],X=l[F]=X[0]);F!==S&&(l[S]=X,delete l[F]);if((L=P.cssHooks[S])&&"expand"in L)for(F in X=L.expand(X),delete l[S],
X)F in l||(l[F]=X[F],x[F]=V);else x[S]=V}}function ra(l,x,F){var L,S=0,V=ra.prefilters.length,X=P.Deferred().always(function(){delete na.elem}),na=function(){if(L)return!1;var ea=Nb||fb();ea=Math.max(0,da.startTime+da.duration-ea);for(var Fa=1-(ea/da.duration||0),Na=0,Sa=da.tweens.length;Na<Sa;Na++)da.tweens[Na].run(Fa);X.notifyWith(l,[da,Fa,ea]);if(1>Fa&&Sa)return ea;Sa||X.notifyWith(l,[da,1,0]);X.resolveWith(l,[da]);return!1},da=X.promise({elem:l,props:P.extend({},x),opts:P.extend(!0,{specialEasing:{},
easing:P.easing._default},F),originalProperties:x,originalOptions:F,startTime:Nb||fb(),duration:F.duration,tweens:[],createTween:function(ea,Fa){ea=P.Tween(l,da.opts,ea,Fa,da.opts.specialEasing[ea]||da.opts.easing);da.tweens.push(ea);return ea},stop:function(ea){var Fa=0,Na=ea?da.tweens.length:0;if(L)return this;for(L=!0;Fa<Na;Fa++)da.tweens[Fa].run(1);ea?(X.notifyWith(l,[da,1,0]),X.resolveWith(l,[da,ea])):X.rejectWith(l,[da,ea]);return this}});F=da.props;for(Z(F,da.opts.specialEasing);S<V;S++)if(x=
ra.prefilters[S].call(da,l,F,da.opts))return Ma(x.stop)&&(P._queueHooks(da.elem,da.opts.queue).stop=x.stop.bind(x)),x;P.map(F,T,da);Ma(da.opts.start)&&da.opts.start.call(l,da);da.progress(da.opts.progress).done(da.opts.done,da.opts.complete).fail(da.opts.fail).always(da.opts.always);P.fx.timer(P.extend(na,{elem:l,anim:da,queue:da.opts.queue}));return da}function Ca(l){return(l.match(Fb)||[]).join(" ")}function Ra(l){return l.getAttribute&&l.getAttribute("class")||""}function xb(l){return Array.isArray(l)?
l:"string"===typeof l?l.match(Fb)||[]:[]}function Ib(l,x,F,L){var S;if(Array.isArray(x))P.each(x,function(V,X){F||hd.test(l)?L(l,X):Ib(l+"["+("object"===typeof X&&null!=X?V:"")+"]",X,F,L)});else if(F||"object"!==E(x))L(l,x);else for(S in x)Ib(l+"["+S+"]",x[S],F,L)}function Ga(l){return function(x,F){"string"!==typeof x&&(F=x,x="*");var L=0,S=x.toLowerCase().match(Fb)||[];if(Ma(F))for(;x=S[L++];)"+"===x[0]?(x=x.slice(1)||"*",(l[x]=l[x]||[]).unshift(F)):(l[x]=l[x]||[]).push(F)}}function la(l,x,F,L){function S(na){var da;
V[na]=!0;P.each(l[na]||[],function(ea,Fa){ea=Fa(x,F,L);if("string"===typeof ea&&!X&&!V[ea])return x.dataTypes.unshift(ea),S(ea),!1;if(X)return!(da=ea)});return da}var V={},X=l===Uc;return S(x.dataTypes[0])||!V["*"]&&S("*")}function Ia(l,x){var F,L,S=P.ajaxSettings.flatOptions||{};for(F in x)void 0!==x[F]&&((S[F]?l:L||={})[F]=x[F]);L&&P.extend(!0,l,L);return l}function Ba(l,x,F){for(var L,S,V,X,na=l.contents,da=l.dataTypes;"*"===da[0];)da.shift(),void 0===L&&(L=l.mimeType||x.getResponseHeader("Content-Type"));
if(L)for(S in na)if(na[S]&&na[S].test(L)){da.unshift(S);break}if(da[0]in F)V=da[0];else{for(S in F){if(!da[0]||l.converters[S+" "+da[0]]){V=S;break}X||=S}V=V||X}if(V)return V!==da[0]&&da.unshift(V),F[V]}function cb(l,x,F,L){var S,V,X={},na=l.dataTypes.slice();if(na[1])for(ea in l.converters)X[ea.toLowerCase()]=l.converters[ea];for(V=na.shift();V;){l.responseFields[V]&&(F[l.responseFields[V]]=x);!da&&L&&l.dataFilter&&(x=l.dataFilter(x,l.dataType));var da=V;if(V=na.shift())if("*"===V)V=da;else if("*"!==
da&&da!==V){var ea=X[da+" "+V]||X["* "+V];if(!ea)for(S in X){var Fa=S.split(" ");if(Fa[1]===V&&(ea=X[da+" "+Fa[0]]||X["* "+Fa[0]])){!0===ea?ea=X[S]:!0!==X[S]&&(V=Fa[0],na.unshift(Fa[1]));break}}if(!0!==ea)if(ea&&l.throws)x=ea(x);else try{x=ea(x)}catch(Na){return{state:"parsererror",error:ea?Na:"No conversion from "+da+" to "+V}}}}return{state:"success",data:x}}var sb=[],ub=Object.getPrototypeOf,Pa=sb.slice,ta=sb.flat?function(l){return sb.flat.call(l)}:function(l){return sb.concat.apply([],l)},Wa=
sb.push,nb=sb.indexOf,jb={},pa=jb.toString,Ea=jb.hasOwnProperty,La=Ea.toString,Ya=La.call(Object),Da={},Ma=function(l){return"function"===typeof l&&"number"!==typeof l.nodeType&&"function"!==typeof l.item},Ha=function(l){return null!=l&&l===l.window},qb=y.document,fc={type:!0,src:!0,nonce:!0,noModule:!0},vb=/HTML$/i,P=function(l,x){return new P.fn.init(l,x)};P.fn=P.prototype={jquery:"3.7.1",constructor:P,length:0,toArray:function(){return Pa.call(this)},get:function(l){return null==l?Pa.call(this):
0>l?this[l+this.length]:this[l]},pushStack:function(l){l=P.merge(this.constructor(),l);l.prevObject=this;return l},each:function(l){return P.each(this,l)},map:function(l){return this.pushStack(P.map(this,function(x,F){return l.call(x,F,x)}))},slice:function(){return this.pushStack(Pa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(l,x){return(x+1)%2}))},odd:function(){return this.pushStack(P.grep(this,
function(l,x){return x%2}))},eq:function(l){var x=this.length;l=+l+(0>l?x:0);return this.pushStack(0<=l&&l<x?[this[l]]:[])},end:function(){return this.prevObject||this.constructor()},push:Wa,sort:sb.sort,splice:sb.splice};P.extend=P.fn.extend=function(){var l,x,F,L=arguments[0]||{},S=1,V=arguments.length,X=!1;"boolean"===typeof L&&(X=L,L=arguments[S]||{},S++);"object"===typeof L||Ma(L)||(L={});S===V&&(L=this,S--);for(;S<V;S++)if(null!=(l=arguments[S]))for(x in l){var na=l[x];if("__proto__"!==x&&L!==
na)if(X&&na&&(P.isPlainObject(na)||(F=Array.isArray(na)))){var da=L[x];da=F&&!Array.isArray(da)?[]:F||P.isPlainObject(da)?da:{};F=!1;L[x]=P.extend(X,da,na)}else void 0!==na&&(L[x]=na)}return L};P.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(l){throw Error(l);},noop:function(){},isPlainObject:function(l){if(!l||"[object Object]"!==pa.call(l))return!1;l=ub(l);if(!l)return!0;l=Ea.call(l,"constructor")&&l.constructor;return"function"===typeof l&&La.call(l)===
Ya},isEmptyObject:function(l){for(var x in l)return!1;return!0},globalEval:function(l,x,F){v(l,{nonce:x&&x.nonce},F)},each:function(l,x){var F,L=0;if(b(l))for(F=l.length;L<F&&!1!==x.call(l[L],L,l[L]);L++);else for(L in l)if(!1===x.call(l[L],L,l[L]))break;return l},text:function(l){var x,F="",L=0,S=l.nodeType;if(!S)for(;x=l[L++];)F+=P.text(x);return 1===S||11===S?l.textContent:9===S?l.documentElement.textContent:3===S||4===S?l.nodeValue:F},makeArray:function(l,x){x=x||[];null!=l&&(b(Object(l))?P.merge(x,
"string"===typeof l?[l]:l):Wa.call(x,l));return x},inArray:function(l,x,F){return null==x?-1:nb.call(x,l,F)},isXMLDoc:function(l){var x=l&&(l.ownerDocument||l).documentElement;return!vb.test(l&&l.namespaceURI||x&&x.nodeName||"HTML")},merge:function(l,x){for(var F=+x.length,L=0,S=l.length;L<F;L++)l[S++]=x[L];l.length=S;return l},grep:function(l,x,F){for(var L=[],S=0,V=l.length,X=!F;S<V;S++)F=!x(l[S],S),F!==X&&L.push(l[S]);return L},map:function(l,x,F){var L,S=0,V=[];if(b(l))for(L=l.length;S<L;S++){var X=
x(l[S],S,F);null!=X&&V.push(X)}else for(S in l)X=x(l[S],S,F),null!=X&&V.push(X);return ta(V)},guid:1,support:Da});"function"===typeof Symbol&&(P.fn[Symbol.iterator]=sb[Symbol.iterator]);P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(l,x){jb["[object "+x+"]"]=x.toLowerCase()});var mb=sb.pop,qc=sb.sort,jc=sb.splice,Qb=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");P.contains=function(l,x){x=x&&x.parentNode;return l===
x||!!(x&&1===x.nodeType&&(l.contains?l.contains(x):l.compareDocumentPosition&&l.compareDocumentPosition(x)&16))};var eb=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;P.escapeSelector=function(l){return(l+"").replace(eb,w)};var bc=qb;(function(){function l(ha,xa,wa,Ta){var Xa,gb,pb,Eb,db=xa&&xa.ownerDocument;var Ab=xa?xa.nodeType:9;wa=wa||[];if("string"!==typeof ha||!ha||1!==Ab&&9!==Ab&&11!==Ab)return wa;if(!Ta&&(ea(xa),xa=xa||Jb,pc)){if(11!==Ab&&(Eb=xd.exec(ha)))if(Xa=Eb[1])if(9===Ab)if(gb=xa.getElementById(Xa)){if(gb.id===
Xa)return mc.call(wa,gb),wa}else return wa;else{if(db&&(gb=db.getElementById(Xa))&&l.contains(xa,gb)&&gb.id===Xa)return mc.call(wa,gb),wa}else{if(Eb[2])return mc.apply(wa,xa.getElementsByTagName(ha)),wa;if((Xa=Eb[3])&&xa.getElementsByClassName)return mc.apply(wa,xa.getElementsByClassName(Xa)),wa}if(!(ad[ha+" "]||sc&&sc.test(ha))){Xa=ha;db=xa;if(1===Ab&&(yd.test(ha)||td.test(ha))){db=pd.test(ha)&&da(xa.parentNode)||xa;db==xa&&Da.scope||((pb=xa.getAttribute("id"))?pb=P.escapeSelector(pb):xa.setAttribute("id",
pb=dc));Xa=Na(ha);for(Ab=Xa.length;Ab--;)Xa[Ab]=(pb?"#"+pb:":scope")+" "+Sa(Xa[Ab]);Xa=Xa.join(",")}try{return mc.apply(wa,db.querySelectorAll(Xa)),wa}catch(Gb){ad(ha,!0)}finally{pb===dc&&xa.removeAttribute("id")}}}return Ub(ha.replace(Qb,"$1"),xa,wa,Ta)}function x(){function ha(wa,Ta){xa.push(wa+" ")>Pb.cacheLength&&delete ha[xa.shift()];return ha[wa+" "]=Ta}var xa=[];return ha}function F(ha){ha[dc]=!0;return ha}function L(ha){var xa=Jb.createElement("fieldset");try{return!!ha(xa)}catch(wa){return!1}finally{xa.parentNode&&
xa.parentNode.removeChild(xa)}}function S(ha){return function(xa){return d(xa,"input")&&xa.type===ha}}function V(ha){return function(xa){return(d(xa,"input")||d(xa,"button"))&&xa.type===ha}}function X(ha){return function(xa){return"form"in xa?xa.parentNode&&!1===xa.disabled?"label"in xa?"label"in xa.parentNode?xa.parentNode.disabled===ha:xa.disabled===ha:xa.isDisabled===ha||xa.isDisabled!==!ha&&zd(xa)===ha:xa.disabled===ha:"label"in xa?xa.disabled===ha:!1}}function na(ha){return F(function(xa){xa=
+xa;return F(function(wa,Ta){for(var Xa,gb=ha([],wa.length,xa),pb=gb.length;pb--;)wa[Xa=gb[pb]]&&(wa[Xa]=!(Ta[Xa]=wa[Xa]))})})}function da(ha){return ha&&"undefined"!==typeof ha.getElementsByTagName&&ha}function ea(ha){var xa;ha=ha?ha.ownerDocument||ha:bc;if(ha==Jb||9!==ha.nodeType||!ha.documentElement)return Jb;Jb=ha;Bc=Jb.documentElement;pc=!P.isXMLDoc(Jb);qd=Bc.matches||Bc.webkitMatchesSelector||Bc.msMatchesSelector;Bc.msMatchesSelector&&bc!=Jb&&(xa=Jb.defaultView)&&xa.top!==xa&&xa.addEventListener("unload",
Ad);Da.getById=L(function(wa){Bc.appendChild(wa).id=P.expando;return!Jb.getElementsByName||!Jb.getElementsByName(P.expando).length});Da.disconnectedMatch=L(function(wa){return qd.call(wa,"*")});Da.scope=L(function(){return Jb.querySelectorAll(":scope")});Da.cssHas=L(function(){try{return Jb.querySelector(":has(*,:jqfake)"),!1}catch(wa){return!0}});Da.getById?(Pb.filter.ID=function(wa){var Ta=wa.replace(Jc,Kc);return function(Xa){return Xa.getAttribute("id")===Ta}},Pb.find.ID=function(wa,Ta){if("undefined"!==
typeof Ta.getElementById&&pc)return(wa=Ta.getElementById(wa))?[wa]:[]}):(Pb.filter.ID=function(wa){var Ta=wa.replace(Jc,Kc);return function(Xa){return(Xa="undefined"!==typeof Xa.getAttributeNode&&Xa.getAttributeNode("id"))&&Xa.value===Ta}},Pb.find.ID=function(wa,Ta){if("undefined"!==typeof Ta.getElementById&&pc){var Xa,gb=Ta.getElementById(wa);if(gb){if((Xa=gb.getAttributeNode("id"))&&Xa.value===wa)return[gb];var pb=Ta.getElementsByName(wa);for(Ta=0;gb=pb[Ta++];)if((Xa=gb.getAttributeNode("id"))&&
Xa.value===wa)return[gb]}return[]}});Pb.find.TAG=function(wa,Ta){return"undefined"!==typeof Ta.getElementsByTagName?Ta.getElementsByTagName(wa):Ta.querySelectorAll(wa)};Pb.find.CLASS=function(wa,Ta){if("undefined"!==typeof Ta.getElementsByClassName&&pc)return Ta.getElementsByClassName(wa)};sc=[];L(function(wa){Bc.appendChild(wa).innerHTML="<a id='"+dc+"' href='' disabled='disabled'></a><select id='"+dc+"-\r\\' disabled='disabled'><option selected=''></option></select>";wa.querySelectorAll("[selected]").length||
sc.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");wa.querySelectorAll("[id~="+dc+"-]").length||sc.push("~=");wa.querySelectorAll("a#"+dc+"+*").length||sc.push(".#.+[+~]");wa.querySelectorAll(":checked").length||sc.push(":checked");var Ta=Jb.createElement("input");Ta.setAttribute("type","hidden");wa.appendChild(Ta).setAttribute("name","D");Bc.appendChild(wa).disabled=!0;2!==wa.querySelectorAll(":disabled").length&&
sc.push(":enabled",":disabled");Ta=Jb.createElement("input");Ta.setAttribute("name","");wa.appendChild(Ta);wa.querySelectorAll("[name='']").length||sc.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")")});Da.cssHas||sc.push(":has");sc=sc.length&&new RegExp(sc.join("|"));rd=function(wa,Ta){if(wa===Ta)return uc=!0,0;var Xa=!wa.compareDocumentPosition-!Ta.compareDocumentPosition;if(Xa)return Xa;Xa=(wa.ownerDocument||wa)==(Ta.ownerDocument||Ta)?wa.compareDocumentPosition(Ta):
1;return Xa&1||!Da.sortDetached&&Ta.compareDocumentPosition(wa)===Xa?wa===Jb||wa.ownerDocument==bc&&l.contains(bc,wa)?-1:Ta===Jb||Ta.ownerDocument==bc&&l.contains(bc,Ta)?1:Zb?nb.call(Zb,wa)-nb.call(Zb,Ta):0:Xa&4?-1:1};return Jb}function Fa(){}function Na(ha,xa){var wa,Ta,Xa,gb,pb;if(gb=ud[ha+" "])return xa?0:gb.slice(0);gb=ha;var Eb=[];for(pb=Pb.preFilter;gb;){if(!db||(wa=Bd.exec(gb)))wa&&(gb=gb.slice(wa[0].length)||gb),Eb.push(Ta=[]);var db=!1;if(wa=td.exec(gb))db=wa.shift(),Ta.push({value:db,type:wa[0].replace(Qb,
" ")}),gb=gb.slice(db.length);for(Xa in Pb.filter)!(wa=bd[Xa].exec(gb))||pb[Xa]&&!(wa=pb[Xa](wa))||(db=wa.shift(),Ta.push({value:db,type:Xa,matches:wa}),gb=gb.slice(db.length));if(!db)break}return xa?gb.length:gb?l.error(ha):ud(ha,Eb).slice(0)}function Sa(ha){for(var xa=0,wa=ha.length,Ta="";xa<wa;xa++)Ta+=ha[xa].value;return Ta}function hb(ha,xa,wa){var Ta=xa.dir,Xa=xa.next,gb=Xa||Ta,pb=wa&&"parentNode"===gb,Eb=Cd++;return xa.first?function(db,Ab,Gb){for(;db=db[Ta];)if(1===db.nodeType||pb)return ha(db,
Ab,Gb);return!1}:function(db,Ab,Gb){var wb,Xb=[Lc,Eb];if(Gb)for(;db=db[Ta];){if((1===db.nodeType||pb)&&ha(db,Ab,Gb))return!0}else for(;db=db[Ta];)if(1===db.nodeType||pb){var ec=db[dc]||(db[dc]={});if(Xa&&d(db,Xa))db=db[Ta]||db;else{if((wb=ec[gb])&&wb[0]===Lc&&wb[1]===Eb)return Xb[2]=wb[2];ec[gb]=Xb;if(Xb[2]=ha(db,Ab,Gb))return!0}}return!1}}function ib(ha){return 1<ha.length?function(xa,wa,Ta){for(var Xa=ha.length;Xa--;)if(!ha[Xa](xa,wa,Ta))return!1;return!0}:ha[0]}function Bb(ha,xa,wa,Ta,Xa){for(var gb,
pb=[],Eb=0,db=ha.length,Ab=null!=xa;Eb<db;Eb++)if(gb=ha[Eb])if(!wa||wa(gb,Ta,Xa))pb.push(gb),Ab&&xa.push(Eb);return pb}function Cb(ha,xa,wa,Ta,Xa,gb){Ta&&!Ta[dc]&&(Ta=Cb(Ta));Xa&&!Xa[dc]&&(Xa=Cb(Xa,gb));return F(function(pb,Eb,db,Ab){var Gb,wb,Xb=[],ec=[],Ic=Eb.length;if(!(wb=pb)){wb=xa||"*";for(var ic=db.nodeType?[db]:db,Yb=[],Ec=0,cd=ic.length;Ec<cd;Ec++)l(wb,ic[Ec],Yb);wb=Yb}ic=!ha||!pb&&xa?wb:Bb(wb,Xb,ha,db,Ab);wa?(wb=Xa||(pb?ha:Ic||Ta)?[]:Eb,wa(ic,wb,db,Ab)):wb=ic;if(Ta){var Fc=Bb(wb,ec);Ta(Fc,
[],db,Ab);for(db=Fc.length;db--;)if(Gb=Fc[db])wb[ec[db]]=!(ic[ec[db]]=Gb)}if(pb){if(Xa||ha){if(Xa){Fc=[];for(db=wb.length;db--;)(Gb=wb[db])&&Fc.push(ic[db]=Gb);Xa(null,wb=[],Fc,Ab)}for(db=wb.length;db--;)(Gb=wb[db])&&-1<(Fc=Xa?nb.call(pb,Gb):Xb[db])&&(pb[Fc]=!(Eb[Fc]=Gb))}}else wb=Bb(wb===Eb?wb.splice(Ic,wb.length):wb),Xa?Xa(null,Eb,wb,Ab):mc.apply(Eb,wb)})}function $b(ha){var xa,wa,Ta=ha.length,Xa=Pb.relative[ha[0].type];var gb=Xa||Pb.relative[" "];for(var pb=Xa?1:0,Eb=hb(function(Gb){return Gb===
xa},gb,!0),db=hb(function(Gb){return-1<nb.call(xa,Gb)},gb,!0),Ab=[function(Gb,wb,Xb){Gb=!Xa&&(Xb||wb!=Wb)||((xa=wb).nodeType?Eb(Gb,wb,Xb):db(Gb,wb,Xb));xa=null;return Gb}];pb<Ta;pb++)if(gb=Pb.relative[ha[pb].type])Ab=[hb(ib(Ab),gb)];else{gb=Pb.filter[ha[pb].type].apply(null,ha[pb].matches);if(gb[dc]){for(wa=++pb;wa<Ta&&!Pb.relative[ha[wa].type];wa++);return Cb(1<pb&&ib(Ab),1<pb&&Sa(ha.slice(0,pb-1).concat({value:" "===ha[pb-2].type?"*":""})).replace(Qb,"$1"),gb,pb<wa&&$b(ha.slice(pb,wa)),wa<Ta&&$b(ha=
ha.slice(wa)),wa<Ta&&Sa(ha))}Ab.push(gb)}return ib(Ab)}function zb(ha,xa){var wa=0<xa.length,Ta=0<ha.length,Xa=function(gb,pb,Eb,db,Ab){var Gb,wb,Xb=0,ec="0",Ic=gb&&[],ic=[],Yb=Wb,Ec=gb||Ta&&Pb.find.TAG("*",Ab),cd=Lc+=null==Yb?1:Math.random()||.1,Fc=Ec.length;for(Ab&&(Wb=pb==Jb||pb||Ab);ec!==Fc&&null!=(Gb=Ec[ec]);ec++){if(Ta&&Gb){var sd=0;pb||Gb.ownerDocument==Jb||(ea(Gb),Eb=!pc);for(;wb=ha[sd++];)if(wb(Gb,pb||Jb,Eb)){mc.call(db,Gb);break}Ab&&(Lc=cd)}wa&&((Gb=!wb&&Gb)&&Xb--,gb&&Ic.push(Gb))}Xb+=ec;
if(wa&&ec!==Xb){for(sd=0;wb=xa[sd++];)wb(Ic,ic,pb,Eb);if(gb){if(0<Xb)for(;ec--;)Ic[ec]||ic[ec]||(ic[ec]=mb.call(db));ic=Bb(ic)}mc.apply(db,ic);Ab&&!gb&&0<ic.length&&1<Xb+xa.length&&P.uniqueSort(db)}Ab&&(Lc=cd,Wb=Yb);return Ic};return wa?F(Xa):Xa}function Kb(ha,xa){var wa,Ta=[],Xa=[],gb=vd[ha+" "];if(!gb){xa||=Na(ha);for(wa=xa.length;wa--;)gb=$b(xa[wa]),gb[dc]?Ta.push(gb):Xa.push(gb);gb=vd(ha,zb(Xa,Ta));gb.selector=ha}return gb}function Ub(ha,xa,wa,Ta){var Xa,gb,pb,Eb="function"===typeof ha&&ha,db=
!Ta&&Na(ha=Eb.selector||ha);wa=wa||[];if(1===db.length){var Ab=db[0]=db[0].slice(0);if(2<Ab.length&&"ID"===(gb=Ab[0]).type&&9===xa.nodeType&&pc&&Pb.relative[Ab[1].type]){xa=(Pb.find.ID(gb.matches[0].replace(Jc,Kc),xa)||[])[0];if(!xa)return wa;Eb&&(xa=xa.parentNode);ha=ha.slice(Ab.shift().value.length)}for(Xa=bd.needsContext.test(ha)?0:Ab.length;Xa--;){gb=Ab[Xa];if(Pb.relative[pb=gb.type])break;if(pb=Pb.find[pb])if(Ta=pb(gb.matches[0].replace(Jc,Kc),pd.test(Ab[0].type)&&da(xa.parentNode)||xa)){Ab.splice(Xa,
1);ha=Ta.length&&Sa(Ab);if(!ha)return mc.apply(wa,Ta),wa;break}}}(Eb||Kb(ha,db))(Ta,xa,!pc,wa,!xa||pd.test(ha)&&da(xa.parentNode)||xa);return wa}var yb,Wb,Zb,uc,mc=Wa,Jb,Bc,pc,sc,qd,dc=P.expando,Lc=0,Cd=0,wd=x(),ud=x(),vd=x(),ad=x(),rd=function(ha,xa){ha===xa&&(uc=!0);return 0},Dd=RegExp("[\\x20\\t\\r\\n\\f]+","g"),Bd=RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),td=RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),yd=RegExp("[\\x20\\t\\r\\n\\f]|>"),Ed=RegExp(":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
Fd=RegExp("^(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+$"),bd={ID:RegExp("^#((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),CLASS:RegExp("^\\.((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),TAG:RegExp("^((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+|[*])"),ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\]"),
PSEUDO:RegExp("^:((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},Gd=/^(?:input|select|textarea|button)$/i,Hd=/^h\d$/i,xd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pd=/[+~]/,Jc=RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),Kc=function(ha,xa){ha="0x"+ha.slice(1)-65536;return xa?xa:0>ha?String.fromCharCode(ha+65536):String.fromCharCode(ha>>10|55296,ha&1023|56320)},Ad=function(){ea()},zd=hb(function(ha){return!0===ha.disabled&&d(ha,"fieldset")},{dir:"parentNode",next:"legend"});try{mc.apply(sb=Pa.call(bc.childNodes),bc.childNodes),sb[bc.childNodes.length].nodeType}catch(ha){mc=
{apply:function(xa,wa){Wa.apply(xa,Pa.call(wa))},call:function(xa){Wa.apply(xa,Pa.call(arguments,1))}}}l.matches=function(ha,xa){return l(ha,null,null,xa)};l.matchesSelector=function(ha,xa){ea(ha);if(!(!pc||ad[xa+" "]||sc&&sc.test(xa)))try{var wa=qd.call(ha,xa);if(wa||Da.disconnectedMatch||ha.document&&11!==ha.document.nodeType)return wa}catch(Ta){ad(xa,!0)}return 0<l(xa,Jb,null,[ha]).length};l.contains=function(ha,xa){(ha.ownerDocument||ha)!=Jb&&ea(ha);return P.contains(ha,xa)};l.attr=function(ha,
xa){(ha.ownerDocument||ha)!=Jb&&ea(ha);var wa=Pb.attrHandle[xa.toLowerCase()];wa=wa&&Ea.call(Pb.attrHandle,xa.toLowerCase())?wa(ha,xa,!pc):void 0;return void 0!==wa?wa:ha.getAttribute(xa)};l.error=function(ha){throw Error("Syntax error, unrecognized expression: "+ha);};P.uniqueSort=function(ha){var xa,wa=[],Ta=0,Xa=0;uc=!Da.sortStable;Zb=!Da.sortStable&&Pa.call(ha,0);qc.call(ha,rd);if(uc){for(;xa=ha[Xa++];)xa===ha[Xa]&&(Ta=wa.push(Xa));for(;Ta--;)jc.call(ha,wa[Ta],1)}Zb=null;return ha};P.fn.uniqueSort=
function(){return this.pushStack(P.uniqueSort(Pa.apply(this)))};var Pb=P.expr={cacheLength:50,createPseudo:F,match:bd,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ha){ha[1]=ha[1].replace(Jc,Kc);ha[3]=(ha[3]||ha[4]||ha[5]||"").replace(Jc,Kc);"~="===ha[2]&&(ha[3]=" "+ha[3]+" ");return ha.slice(0,4)},CHILD:function(ha){ha[1]=ha[1].toLowerCase();"nth"===ha[1].slice(0,3)?
(ha[3]||l.error(ha[0]),ha[4]=+(ha[4]?ha[5]+(ha[6]||1):2*("even"===ha[3]||"odd"===ha[3])),ha[5]=+(ha[7]+ha[8]||"odd"===ha[3])):ha[3]&&l.error(ha[0]);return ha},PSEUDO:function(ha){var xa,wa=!ha[6]&&ha[2];if(bd.CHILD.test(ha[0]))return null;ha[3]?ha[2]=ha[4]||ha[5]||"":wa&&Ed.test(wa)&&(xa=Na(wa,!0))&&(xa=wa.indexOf(")",wa.length-xa)-wa.length)&&(ha[0]=ha[0].slice(0,xa),ha[2]=wa.slice(0,xa));return ha.slice(0,3)}},filter:{TAG:function(ha){var xa=ha.replace(Jc,Kc).toLowerCase();return"*"===ha?function(){return!0}:
function(wa){return d(wa,xa)}},CLASS:function(ha){var xa=wd[ha+" "];return xa||(xa=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+ha+"([\\x20\\t\\r\\n\\f]|$)"),wd(ha,function(wa){return xa.test("string"===typeof wa.className&&wa.className||"undefined"!==typeof wa.getAttribute&&wa.getAttribute("class")||"")}))},ATTR:function(ha,xa,wa){return function(Ta){Ta=l.attr(Ta,ha);if(null==Ta)return"!="===xa;if(!xa)return!0;Ta+="";return"="===xa?Ta===wa:"!="===xa?Ta!==wa:"^="===xa?wa&&0===Ta.indexOf(wa):"*="===xa?wa&&
-1<Ta.indexOf(wa):"$="===xa?wa&&Ta.slice(-wa.length)===wa:"~="===xa?-1<(" "+Ta.replace(Dd," ")+" ").indexOf(wa):"|="===xa?Ta===wa||Ta.slice(0,wa.length+1)===wa+"-":!1}},CHILD:function(ha,xa,wa,Ta,Xa){var gb="nth"!==ha.slice(0,3),pb="last"!==ha.slice(-4),Eb="of-type"===xa;return 1===Ta&&0===Xa?function(db){return!!db.parentNode}:function(db,Ab,Gb){var wb,Xb;Ab=gb!==pb?"nextSibling":"previousSibling";var ec=db.parentNode,Ic=Eb&&db.nodeName.toLowerCase(),ic=!Gb&&!Eb;var Yb=!1;if(ec){if(gb){for(;Ab;){for(wb=
db;wb=wb[Ab];)if(Eb?d(wb,Ic):1===wb.nodeType)return!1;var Ec=Ab="only"===ha&&!Ec&&"nextSibling"}return!0}Ec=[pb?ec.firstChild:ec.lastChild];if(pb&&ic)for(Gb=ec[dc]||(ec[dc]={}),Yb=Gb[ha]||[],Yb=(Xb=Yb[0]===Lc&&Yb[1])&&Yb[2],wb=Xb&&ec.childNodes[Xb];wb=++Xb&&wb&&wb[Ab]||(Yb=Xb=0)||Ec.pop();){if(1===wb.nodeType&&++Yb&&wb===db){Gb[ha]=[Lc,Xb,Yb];break}}else if(ic&&(Gb=db[dc]||(db[dc]={}),Yb=Gb[ha]||[],Yb=Xb=Yb[0]===Lc&&Yb[1]),!1===Yb)for(;(wb=++Xb&&wb&&wb[Ab]||(Yb=Xb=0)||Ec.pop())&&((Eb?!d(wb,Ic):1!==
wb.nodeType)||!++Yb||(ic&&(Gb=wb[dc]||(wb[dc]={}),Gb[ha]=[Lc,Yb]),wb!==db)););Yb-=Xa;return Yb===Ta||0===Yb%Ta&&0<=Yb/Ta}}},PSEUDO:function(ha,xa){var wa=Pb.pseudos[ha]||Pb.setFilters[ha.toLowerCase()]||l.error("unsupported pseudo: "+ha);if(wa[dc])return wa(xa);if(1<wa.length){var Ta=[ha,ha,"",xa];return Pb.setFilters.hasOwnProperty(ha.toLowerCase())?F(function(Xa,gb){for(var pb,Eb=wa(Xa,xa),db=Eb.length;db--;)pb=nb.call(Xa,Eb[db]),Xa[pb]=!(gb[pb]=Eb[db])}):function(Xa){return wa(Xa,0,Ta)}}return wa}},
pseudos:{not:F(function(ha){var xa=[],wa=[],Ta=Kb(ha.replace(Qb,"$1"));return Ta[dc]?F(function(Xa,gb,pb,Eb){Eb=Ta(Xa,null,Eb,[]);for(var db=Xa.length;db--;)if(pb=Eb[db])Xa[db]=!(gb[db]=pb)}):function(Xa,gb,pb){xa[0]=Xa;Ta(xa,null,pb,wa);xa[0]=null;return!wa.pop()}}),has:F(function(ha){return function(xa){return 0<l(ha,xa).length}}),contains:F(function(ha){ha=ha.replace(Jc,Kc);return function(xa){return-1<(xa.textContent||P.text(xa)).indexOf(ha)}}),lang:F(function(ha){Fd.test(ha||"")||l.error("unsupported lang: "+
ha);ha=ha.replace(Jc,Kc).toLowerCase();return function(xa){var wa;do if(wa=pc?xa.lang:xa.getAttribute("xml:lang")||xa.getAttribute("lang"))return wa=wa.toLowerCase(),wa===ha||0===wa.indexOf(ha+"-");while((xa=xa.parentNode)&&1===xa.nodeType);return!1}}),target:function(ha){var xa=y.location&&y.location.hash;return xa&&xa.slice(1)===ha.id},root:function(ha){return ha===Bc},focus:function(ha){a:{try{var xa=Jb.activeElement;break a}catch(wa){}xa=void 0}return ha===xa&&Jb.hasFocus()&&!!(ha.type||ha.href||
~ha.tabIndex)},enabled:X(!1),disabled:X(!0),checked:function(ha){return d(ha,"input")&&!!ha.checked||d(ha,"option")&&!!ha.selected},selected:function(ha){ha.parentNode&&ha.parentNode.selectedIndex;return!0===ha.selected},empty:function(ha){for(ha=ha.firstChild;ha;ha=ha.nextSibling)if(6>ha.nodeType)return!1;return!0},parent:function(ha){return!Pb.pseudos.empty(ha)},header:function(ha){return Hd.test(ha.nodeName)},input:function(ha){return Gd.test(ha.nodeName)},button:function(ha){return d(ha,"input")&&
"button"===ha.type||d(ha,"button")},text:function(ha){var xa;return d(ha,"input")&&"text"===ha.type&&(null==(xa=ha.getAttribute("type"))||"text"===xa.toLowerCase())},first:na(function(){return[0]}),last:na(function(ha,xa){return[xa-1]}),eq:na(function(ha,xa,wa){return[0>wa?wa+xa:wa]}),even:na(function(ha,xa){for(var wa=0;wa<xa;wa+=2)ha.push(wa);return ha}),odd:na(function(ha,xa){for(var wa=1;wa<xa;wa+=2)ha.push(wa);return ha}),lt:na(function(ha,xa,wa){for(xa=0>wa?wa+xa:wa>xa?xa:wa;0<=--xa;)ha.push(xa);
return ha}),gt:na(function(ha,xa,wa){for(wa=0>wa?wa+xa:wa;++wa<xa;)ha.push(wa);return ha})}};Pb.pseudos.nth=Pb.pseudos.eq;for(yb in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Pb.pseudos[yb]=S(yb);for(yb in{submit:!0,reset:!0})Pb.pseudos[yb]=V(yb);Fa.prototype=Pb.filters=Pb.pseudos;Pb.setFilters=new Fa;Da.sortStable=dc.split("").sort(rd).join("")===dc;ea();Da.sortDetached=L(function(ha){return ha.compareDocumentPosition(Jb.createElement("fieldset"))&1});P.find=l;P.expr[":"]=P.expr.pseudos;
P.unique=P.uniqueSort;l.compile=Kb;l.select=Ub;l.setDocument=ea;l.tokenize=Na;l.escape=P.escapeSelector;l.getText=P.text;l.isXML=P.isXMLDoc;l.selectors=P.expr;l.support=P.support;l.uniqueSort=P.uniqueSort})();var Ua=function(l,x,F){for(var L=[],S=void 0!==F;(l=l[x])&&9!==l.nodeType;)if(1===l.nodeType){if(S&&P(l).is(F))break;L.push(l)}return L},tb=function(l,x){for(var F=[];l;l=l.nextSibling)1===l.nodeType&&l!==x&&F.push(l);return F},Hb=P.expr.match.needsContext,cc=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
P.filter=function(l,x,F){var L=x[0];F&&(l=":not("+l+")");return 1===x.length&&1===L.nodeType?P.find.matchesSelector(L,l)?[L]:[]:P.find.matches(l,P.grep(x,function(S){return 1===S.nodeType}))};P.fn.extend({find:function(l){var x,F=this.length,L=this;if("string"!==typeof l)return this.pushStack(P(l).filter(function(){for(x=0;x<F;x++)if(P.contains(L[x],this))return!0}));var S=this.pushStack([]);for(x=0;x<F;x++)P.find(l,L[x],S);return 1<F?P.uniqueSort(S):S},filter:function(l){return this.pushStack(a(this,
l||[],!1))},not:function(l){return this.pushStack(a(this,l||[],!0))},is:function(l){return!!a(this,"string"===typeof l&&Hb.test(l)?P(l):l||[],!1).length}});var Mb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(l,x,F){if(!l)return this;F=F||tc;if("string"===typeof l){var L="<"===l[0]&&">"===l[l.length-1]&&3<=l.length?[null,l,null]:Mb.exec(l);if(!L||!L[1]&&x)return!x||x.jquery?(x||F).find(l):this.constructor(x).find(l);if(L[1]){if(x=x instanceof P?x[0]:x,P.merge(this,P.parseHTML(L[1],x&&
x.nodeType?x.ownerDocument||x:qb,!0)),cc.test(L[1])&&P.isPlainObject(x))for(L in x)if(Ma(this[L]))this[L](x[L]);else this.attr(L,x[L])}else if(l=qb.getElementById(L[2]))this[0]=l,this.length=1;return this}return l.nodeType?(this[0]=l,this.length=1,this):Ma(l)?void 0!==F.ready?F.ready(l):l(P):P.makeArray(l,this)}).prototype=P.fn;var tc=P(qb);var rc=/^(?:parents|prev(?:Until|All))/,wc={children:!0,contents:!0,next:!0,prev:!0};P.fn.extend({has:function(l){var x=P(l,this),F=x.length;return this.filter(function(){for(var L=
0;L<F;L++)if(P.contains(this,x[L]))return!0})},closest:function(l,x){var F,L=0,S=this.length,V=[],X="string"!==typeof l&&P(l);if(!Hb.test(l))for(;L<S;L++)for(F=this[L];F&&F!==x;F=F.parentNode)if(11>F.nodeType&&(X?-1<X.index(F):1===F.nodeType&&P.find.matchesSelector(F,l))){V.push(F);break}return this.pushStack(1<V.length?P.uniqueSort(V):V)},index:function(l){return l?"string"===typeof l?nb.call(P(l),this[0]):nb.call(this,l.jquery?l[0]:l):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},
add:function(l,x){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(l,x))))},addBack:function(l){return this.add(null==l?this.prevObject:this.prevObject.filter(l))}});P.each({parent:function(l){return(l=l.parentNode)&&11!==l.nodeType?l:null},parents:function(l){return Ua(l,"parentNode")},parentsUntil:function(l,x,F){return Ua(l,"parentNode",F)},next:function(l){return m(l,"nextSibling")},prev:function(l){return m(l,"previousSibling")},nextAll:function(l){return Ua(l,"nextSibling")},prevAll:function(l){return Ua(l,
"previousSibling")},nextUntil:function(l,x,F){return Ua(l,"nextSibling",F)},prevUntil:function(l,x,F){return Ua(l,"previousSibling",F)},siblings:function(l){return tb((l.parentNode||{}).firstChild,l)},children:function(l){return tb(l.firstChild)},contents:function(l){if(null!=l.contentDocument&&ub(l.contentDocument))return l.contentDocument;d(l,"template")&&(l=l.content||l);return P.merge([],l.childNodes)}},function(l,x){P.fn[l]=function(F,L){var S=P.map(this,x,F);"Until"!==l.slice(-5)&&(L=F);L&&
"string"===typeof L&&(S=P.filter(L,S));1<this.length&&(wc[l]||P.uniqueSort(S),rc.test(l)&&S.reverse());return this.pushStack(S)}});var Fb=/[^\x20\t\r\n\f]+/g;P.Callbacks=function(l){l="string"===typeof l?q(l):P.extend({},l);var x,F,L,S,V=[],X=[],na=-1,da=function(){S=S||l.once;for(L=x=!0;X.length;na=-1)for(F=X.shift();++na<V.length;)!1===V[na].apply(F[0],F[1])&&l.stopOnFalse&&(na=V.length,F=!1);l.memory||(F=!1);x=!1;S&&(V=F?[]:"")},ea={add:function(){V&&(F&&!x&&(na=V.length-1,X.push(F)),function Sa(Na){P.each(Na,
function(hb,ib){Ma(ib)?l.unique&&ea.has(ib)||V.push(ib):ib&&ib.length&&"string"!==E(ib)&&Sa(ib)})}(arguments),F&&!x&&da());return this},remove:function(){P.each(arguments,function(Fa,Na){for(var Sa;-1<(Sa=P.inArray(Na,V,Sa));)V.splice(Sa,1),Sa<=na&&na--});return this},has:function(Fa){return Fa?-1<P.inArray(Fa,V):0<V.length},empty:function(){V&&=[];return this},disable:function(){S=X=[];V=F="";return this},disabled:function(){return!V},lock:function(){S=X=[];F||x||(V=F="");return this},locked:function(){return!!S},
fireWith:function(Fa,Na){S||(Na=Na||[],Na=[Fa,Na.slice?Na.slice():Na],X.push(Na),x||da());return this},fire:function(){ea.fireWith(this,arguments);return this},fired:function(){return!!L}};return ea};P.extend({Deferred:function(l){var x=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],F="pending",L={state:function(){return F},
always:function(){S.done(arguments).fail(arguments);return this},"catch":function(V){return L.then(null,V)},pipe:function(){var V=arguments;return P.Deferred(function(X){P.each(x,function(na,da){var ea=Ma(V[da[4]])&&V[da[4]];S[da[1]](function(){var Fa=ea&&ea.apply(this,arguments);if(Fa&&Ma(Fa.promise))Fa.promise().progress(X.notify).done(X.resolve).fail(X.reject);else X[da[0]+"With"](this,ea?[Fa]:arguments)})});V=null}).promise()},then:function(V,X,na){function da(Fa,Na,Sa,hb){return function(){var ib=
this,Bb=arguments,Cb=function(){if(!(Fa<ea)){var zb=Sa.apply(ib,Bb);if(zb===Na.promise())throw new TypeError("Thenable self-resolution");var Kb=zb&&("object"===typeof zb||"function"===typeof zb)&&zb.then;Ma(Kb)?hb?Kb.call(zb,da(ea,Na,r,hb),da(ea,Na,h,hb)):(ea++,Kb.call(zb,da(ea,Na,r,hb),da(ea,Na,h,hb),da(ea,Na,r,Na.notifyWith))):(Sa!==r&&(ib=void 0,Bb=[zb]),(hb||Na.resolveWith)(ib,Bb))}},$b=hb?Cb:function(){try{Cb()}catch(zb){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(zb,$b.error),Fa+1>=ea&&
(Sa!==h&&(ib=void 0,Bb=[zb]),Na.rejectWith(ib,Bb))}};Fa?$b():(P.Deferred.getErrorHook?$b.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&($b.error=P.Deferred.getStackHook()),y.setTimeout($b))}}var ea=0;return P.Deferred(function(Fa){x[0][3].add(da(0,Fa,Ma(na)?na:r,Fa.notifyWith));x[1][3].add(da(0,Fa,Ma(V)?V:r));x[2][3].add(da(0,Fa,Ma(X)?X:h))}).promise()},promise:function(V){return null!=V?P.extend(V,L):L}},S={};P.each(x,function(V,X){var na=X[2],da=X[5];L[X[1]]=na.add;da&&na.add(function(){F=
da},x[3-V][2].disable,x[3-V][3].disable,x[0][2].lock,x[0][3].lock);na.add(X[3].fire);S[X[0]]=function(){S[X[0]+"With"](this===S?void 0:this,arguments);return this};S[X[0]+"With"]=na.fireWith});L.promise(S);l&&l.call(S,S);return S},when:function(l){var x=arguments.length,F=x,L=Array(F),S=Pa.call(arguments),V=P.Deferred(),X=function(na){return function(da){L[na]=this;S[na]=1<arguments.length?Pa.call(arguments):da;--x||V.resolveWith(L,S)}};if(1>=x&&(c(l,V.done(X(F)).resolve,V.reject,!x),"pending"===
V.state()||Ma(S[F]&&S[F].then)))return V.then();for(;F--;)c(S[F],X(F),V.reject);return V.promise()}});var Sb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(l,x){y.console&&y.console.warn&&l&&Sb.test(l.name)&&y.console.warn("jQuery.Deferred exception: "+l.message,l.stack,x)};P.readyException=function(l){y.setTimeout(function(){throw l;})};var Ob=P.Deferred();P.fn.ready=function(l){Ob.then(l).catch(function(x){P.readyException(x)});return this};P.extend({isReady:!1,
readyWait:1,ready:function(l){(!0===l?--P.readyWait:P.isReady)||(P.isReady=!0,!0!==l&&0<--P.readyWait||Ob.resolveWith(qb,[P]))}});P.ready.then=Ob.then;"complete"===qb.readyState||"loading"!==qb.readyState&&!qb.documentElement.doScroll?y.setTimeout(P.ready):(qb.addEventListener("DOMContentLoaded",f),y.addEventListener("load",f));var Tb=function(l,x,F,L,S,V,X){var na=0,da=l.length,ea=null==F;if("object"===E(F))for(na in S=!0,F)Tb(l,x,na,F[na],!0,V,X);else if(void 0!==L&&(S=!0,Ma(L)||(X=!0),ea&&(X?(x.call(l,
L),x=null):(ea=x,x=function(Fa,Na,Sa){return ea.call(P(Fa),Sa)})),x))for(;na<da;na++)x(l[na],F,X?L:L.call(l[na],na,x(l[na],F)));return S?l:ea?x.call(l):da?x(l[0],F):V},Rb=/^-ms-/,rb=/-([a-z])/g,Vb=function(l){return 1===l.nodeType||9===l.nodeType||!+l.nodeType};p.uid=1;p.prototype={cache:function(l){var x=l[this.expando];x||(x={},Vb(l)&&(l.nodeType?l[this.expando]=x:Object.defineProperty(l,this.expando,{value:x,configurable:!0})));return x},set:function(l,x,F){var L;l=this.cache(l);if("string"===
typeof x)l[e(x)]=F;else for(L in x)l[e(L)]=x[L];return l},get:function(l,x){return void 0===x?this.cache(l):l[this.expando]&&l[this.expando][e(x)]},access:function(l,x,F){if(void 0===x||x&&"string"===typeof x&&void 0===F)return this.get(l,x);this.set(l,x,F);return void 0!==F?F:x},remove:function(l,x){var F,L=l[this.expando];if(void 0!==L){if(void 0!==x)for(Array.isArray(x)?x=x.map(e):(x=e(x),x=x in L?[x]:x.match(Fb)||[]),F=x.length;F--;)delete L[x[F]];if(void 0===x||P.isEmptyObject(L))l.nodeType?
l[this.expando]=void 0:delete l[this.expando]}},hasData:function(l){l=l[this.expando];return void 0!==l&&!P.isEmptyObject(l)}};var kb=new p,ac=new p,vc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kc=/[A-Z]/g;P.extend({hasData:function(l){return ac.hasData(l)||kb.hasData(l)},data:function(l,x,F){return ac.access(l,x,F)},removeData:function(l,x){ac.remove(l,x)},_data:function(l,x,F){return kb.access(l,x,F)},_removeData:function(l,x){kb.remove(l,x)}});P.fn.extend({data:function(l,x){var F,L=this[0],S=L&&L.attributes;
if(void 0===l){if(this.length){var V=ac.get(L);if(1===L.nodeType&&!kb.get(L,"hasDataAttrs")){for(F=S.length;F--;)if(S[F]){var X=S[F].name;0===X.indexOf("data-")&&(X=e(X.slice(5)),u(L,X,V[X]))}kb.set(L,"hasDataAttrs",!0)}}return V}return"object"===typeof l?this.each(function(){ac.set(this,l)}):Tb(this,function(na){if(L&&void 0===na){var da=ac.get(L,l);if(void 0!==da)return da;da=u(L,l);if(void 0!==da)return da}else this.each(function(){ac.set(this,l,na)})},null,x,1<arguments.length,null,!0)},removeData:function(l){return this.each(function(){ac.remove(this,
l)})}});P.extend({queue:function(l,x,F){if(l){x=(x||"fx")+"queue";var L=kb.get(l,x);F&&(!L||Array.isArray(F)?L=kb.access(l,x,P.makeArray(F)):L.push(F));return L||[]}},dequeue:function(l,x){x=x||"fx";var F=P.queue(l,x),L=F.length,S=F.shift(),V=P._queueHooks(l,x),X=function(){P.dequeue(l,x)};"inprogress"===S&&(S=F.shift(),L--);S&&("fx"===x&&F.unshift("inprogress"),delete V.stop,S.call(l,X,V));!L&&V&&V.empty.fire()},_queueHooks:function(l,x){var F=x+"queueHooks";return kb.get(l,F)||kb.access(l,F,{empty:P.Callbacks("once memory").add(function(){kb.remove(l,
[x+"queue",F])})})}});P.fn.extend({queue:function(l,x){var F=2;"string"!==typeof l&&(x=l,l="fx",F--);return arguments.length<F?P.queue(this[0],l):void 0===x?this:this.each(function(){var L=P.queue(this,l,x);P._queueHooks(this,l);"fx"===l&&"inprogress"!==L[0]&&P.dequeue(this,l)})},dequeue:function(l){return this.each(function(){P.dequeue(this,l)})},clearQueue:function(l){return this.queue(l||"fx",[])},promise:function(l,x){var F,L=1,S=P.Deferred(),V=this,X=this.length,na=function(){--L||S.resolveWith(V,
[V])};"string"!==typeof l&&(x=l,l=void 0);for(l=l||"fx";X--;)(F=kb.get(V[X],l+"queueHooks"))&&F.empty&&(L++,F.empty.add(na));na();return S.promise(x)}});var lc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,hc=new RegExp("^(?:([+-])=|)("+lc+")([a-z%]*)$","i"),gc=["Top","Right","Bottom","Left"],nc=qb.documentElement,xc=function(l){return P.contains(l.ownerDocument,l)},Mc={composed:!0};nc.getRootNode&&(xc=function(l){return P.contains(l.ownerDocument,l)||l.getRootNode(Mc)===l.ownerDocument});var yc=function(l,
x){l=x||l;return"none"===l.style.display||""===l.style.display&&xc(l)&&"none"===P.css(l,"display")},Dc={};P.fn.extend({show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(l){return"boolean"===typeof l?l?this.show():this.hide():this.each(function(){yc(this)?P(this).show():P(this).hide()})}});var zc=/^(?:checkbox|radio)$/i,Cc=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,aa=/^$|^module$|\/(?:java|ecma)script/i;(function(){var l=qb.createDocumentFragment().appendChild(qb.createElement("div")),
x=qb.createElement("input");x.setAttribute("type","radio");x.setAttribute("checked","checked");x.setAttribute("name","t");l.appendChild(x);Da.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked;l.innerHTML="<textarea>x</textarea>";Da.noCloneChecked=!!l.cloneNode(!0).lastChild.defaultValue;l.innerHTML="<option></option>";Da.option=!!l.lastChild})();var za={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>",
"</tr></tbody></table>"],_default:[0,"",""]};za.tbody=za.tfoot=za.colgroup=za.caption=za.thead;za.th=za.td;Da.option||(za.optgroup=za.option=[1,"<select multiple='multiple'>","</select>"]);var Qa=/<|&#?\w+;/,bb=/^([^.]*)(?:\.(.+)|)/;P.event={global:{},add:function(l,x,F,L,S){var V,X,na,da;var ea=kb.get(l);if(Vb(l)){if(F.handler){var Fa=F;F=Fa.handler;S=Fa.selector}S&&P.find.matchesSelector(nc,S);F.guid||(F.guid=P.guid++);(X=ea.events)||(X=ea.events=Object.create(null));(V=ea.handle)||(V=ea.handle=
function(ib){return"undefined"!==typeof P&&P.event.triggered!==ib.type?P.event.dispatch.apply(l,arguments):void 0});x=(x||"").match(Fb)||[""];for(ea=x.length;ea--;){var Na=bb.exec(x[ea])||[];var Sa=na=Na[1];var hb=(Na[2]||"").split(".").sort();Sa&&(Na=P.event.special[Sa]||{},Sa=(S?Na.delegateType:Na.bindType)||Sa,Na=P.event.special[Sa]||{},na=P.extend({type:Sa,origType:na,data:L,handler:F,guid:F.guid,selector:S,needsContext:S&&P.expr.match.needsContext.test(S),namespace:hb.join(".")},Fa),(da=X[Sa])||
(da=X[Sa]=[],da.delegateCount=0,Na.setup&&!1!==Na.setup.call(l,L,hb,V)||l.addEventListener&&l.addEventListener(Sa,V)),Na.add&&(Na.add.call(l,na),na.handler.guid||(na.handler.guid=F.guid)),S?da.splice(da.delegateCount++,0,na):da.push(na),P.event.global[Sa]=!0)}}},remove:function(l,x,F,L,S){var V,X,na,da,ea,Fa=kb.hasData(l)&&kb.get(l);if(Fa&&(na=Fa.events)){x=(x||"").match(Fb)||[""];for(da=x.length;da--;){var Na=bb.exec(x[da])||[];var Sa=ea=Na[1];var hb=(Na[2]||"").split(".").sort();if(Sa){var ib=P.event.special[Sa]||
{};Sa=(L?ib.delegateType:ib.bindType)||Sa;var Bb=na[Sa]||[];Na=Na[2]&&new RegExp("(^|\\.)"+hb.join("\\.(?:.*\\.|)")+"(\\.|$)");for(X=V=Bb.length;V--;){var Cb=Bb[V];!S&&ea!==Cb.origType||F&&F.guid!==Cb.guid||Na&&!Na.test(Cb.namespace)||L&&L!==Cb.selector&&("**"!==L||!Cb.selector)||(Bb.splice(V,1),Cb.selector&&Bb.delegateCount--,ib.remove&&ib.remove.call(l,Cb))}X&&!Bb.length&&(ib.teardown&&!1!==ib.teardown.call(l,hb,Fa.handle)||P.removeEvent(l,Sa,Fa.handle),delete na[Sa])}else for(Sa in na)P.event.remove(l,
Sa+x[da],F,L,!0)}P.isEmptyObject(na)&&kb.remove(l,"handle events")}},dispatch:function(l){var x,F,L,S=Array(arguments.length),V=P.event.fix(l);var X=(kb.get(this,"events")||Object.create(null))[V.type]||[];var na=P.event.special[V.type]||{};S[0]=V;for(x=1;x<arguments.length;x++)S[x]=arguments[x];V.delegateTarget=this;if(!na.preDispatch||!1!==na.preDispatch.call(this,V)){var da=P.event.handlers.call(this,V,X);for(x=0;(L=da[x++])&&!V.isPropagationStopped();)for(V.currentTarget=L.elem,X=0;(F=L.handlers[X++])&&
!V.isImmediatePropagationStopped();)if(!V.rnamespace||!1===F.namespace||V.rnamespace.test(F.namespace))V.handleObj=F,V.data=F.data,F=((P.event.special[F.origType]||{}).handle||F.handler).apply(L.elem,S),void 0!==F&&!1===(V.result=F)&&(V.preventDefault(),V.stopPropagation());na.postDispatch&&na.postDispatch.call(this,V);return V.result}},handlers:function(l,x){var F,L=[],S=x.delegateCount,V=l.target;if(S&&V.nodeType&&!("click"===l.type&&1<=l.button))for(;V!==this;V=V.parentNode||this)if(1===V.nodeType&&
("click"!==l.type||!0!==V.disabled)){var X=[];var na={};for(F=0;F<S;F++){var da=x[F];var ea=da.selector+" ";void 0===na[ea]&&(na[ea]=da.needsContext?-1<P(ea,this).index(V):P.find(ea,this,null,[V]).length);na[ea]&&X.push(da)}X.length&&L.push({elem:V,handlers:X})}S<x.length&&L.push({elem:this,handlers:x.slice(S)});return L},addProp:function(l,x){Object.defineProperty(P.Event.prototype,l,{enumerable:!0,configurable:!0,get:Ma(x)?function(){if(this.originalEvent)return x(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[l]},
set:function(F){Object.defineProperty(this,l,{enumerable:!0,configurable:!0,writable:!0,value:F})}})},fix:function(l){return l[P.expando]?l:new P.Event(l)},special:{load:{noBubble:!0},click:{setup:function(l){l=this||l;zc.test(l.type)&&l.click&&d(l,"input")&&N(l,"click",!0);return!1},trigger:function(l){l=this||l;zc.test(l.type)&&l.click&&d(l,"input")&&N(l,"click");return!0},_default:function(l){l=l.target;return zc.test(l.type)&&l.click&&d(l,"input")&&kb.get(l,"click")||d(l,"a")}},beforeunload:{postDispatch:function(l){void 0!==
l.result&&l.originalEvent&&(l.originalEvent.returnValue=l.result)}}}};P.removeEvent=function(l,x,F){l.removeEventListener&&l.removeEventListener(x,F)};P.Event=function(l,x){if(!(this instanceof P.Event))return new P.Event(l,x);l&&l.type?(this.originalEvent=l,this.type=l.type,this.isDefaultPrevented=l.defaultPrevented||void 0===l.defaultPrevented&&!1===l.returnValue?z:G,this.target=l.target&&3===l.target.nodeType?l.target.parentNode:l.target,this.currentTarget=l.currentTarget,this.relatedTarget=l.relatedTarget):
this.type=l;x&&P.extend(this,x);this.timeStamp=l&&l.timeStamp||Date.now();this[P.expando]=!0};P.Event.prototype={constructor:P.Event,isDefaultPrevented:G,isPropagationStopped:G,isImmediatePropagationStopped:G,isSimulated:!1,preventDefault:function(){var l=this.originalEvent;this.isDefaultPrevented=z;l&&!this.isSimulated&&l.preventDefault()},stopPropagation:function(){var l=this.originalEvent;this.isPropagationStopped=z;l&&!this.isSimulated&&l.stopPropagation()},stopImmediatePropagation:function(){var l=
this.originalEvent;this.isImmediatePropagationStopped=z;l&&!this.isSimulated&&l.stopImmediatePropagation();this.stopPropagation()}};P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp);
P.each({focus:"focusin",blur:"focusout"},function(l,x){function F(L){if(qb.documentMode){var S=kb.get(this,"handle"),V=P.event.fix(L);V.type="focusin"===L.type?"focus":"blur";V.isSimulated=!0;S(L);V.target===V.currentTarget&&S(V)}else P.event.simulate(x,L.target,P.event.fix(L))}P.event.special[l]={setup:function(){var L;N(this,l,!0);if(qb.documentMode)(L=kb.get(this,x))||this.addEventListener(x,F),kb.set(this,x,(L||0)+1);else return!1},trigger:function(){N(this,l);return!0},teardown:function(){var L;
if(qb.documentMode)(L=kb.get(this,x)-1)?kb.set(this,x,L):(this.removeEventListener(x,F),kb.remove(this,x));else return!1},_default:function(L){return kb.get(L.target,l)},delegateType:x};P.event.special[x]={setup:function(){var L=this.ownerDocument||this.document||this,S=qb.documentMode?this:L,V=kb.get(S,x);V||(qb.documentMode?this.addEventListener(x,F):L.addEventListener(l,F,!0));kb.set(S,x,(V||0)+1)},teardown:function(){var L=this.ownerDocument||this.document||this,S=qb.documentMode?this:L,V=kb.get(S,
x)-1;V?kb.set(S,x,V):(qb.documentMode?this.removeEventListener(x,F):L.removeEventListener(l,F,!0),kb.remove(S,x))}}});P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(l,x){P.event.special[l]={delegateType:x,bindType:x,handle:function(F){var L=F.relatedTarget,S=F.handleObj;if(!L||L!==this&&!P.contains(this,L)){F.type=S.origType;var V=S.handler.apply(this,arguments);F.type=x}return V}}});P.fn.extend({on:function(l,x,F,L){return H(this,
l,x,F,L)},one:function(l,x,F,L){return H(this,l,x,F,L,1)},off:function(l,x,F){if(l&&l.preventDefault&&l.handleObj){var L=l.handleObj;P(l.delegateTarget).off(L.namespace?L.origType+"."+L.namespace:L.origType,L.selector,L.handler);return this}if("object"===typeof l){for(L in l)this.off(L,x,l[L]);return this}if(!1===x||"function"===typeof x)F=x,x=void 0;!1===F&&(F=G);return this.each(function(){P.event.remove(this,l,F,x)})}});var ob=/<script|<style|<link/i,U=/checked\s*(?:[^=]|=\s*.checked.)/i,ia=/^\s*<!\[CDATA\[|\]\]>\s*$/g;
P.extend({htmlPrefilter:function(l){return l},clone:function(l,x,F){var L,S=l.cloneNode(!0),V=xc(l);if(!(Da.noCloneChecked||1!==l.nodeType&&11!==l.nodeType||P.isXMLDoc(l))){var X=A(S);var na=A(l);var da=0;for(L=na.length;da<L;da++){var ea=na[da],Fa=X[da],Na=Fa.nodeName.toLowerCase();if("input"===Na&&zc.test(ea.type))Fa.checked=ea.checked;else if("input"===Na||"textarea"===Na)Fa.defaultValue=ea.defaultValue}}if(x)if(F)for(na=na||A(l),X=X||A(S),da=0,L=na.length;da<L;da++)Y(na[da],X[da]);else Y(l,S);
X=A(S,"script");0<X.length&&I(X,!V&&A(l,"script"));return S},cleanData:function(l){for(var x,F,L,S=P.event.special,V=0;void 0!==(F=l[V]);V++)if(Vb(F)){if(x=F[kb.expando]){if(x.events)for(L in x.events)S[L]?P.event.remove(F,L):P.removeEvent(F,L,x.handle);F[kb.expando]=void 0}F[ac.expando]&&(F[ac.expando]=void 0)}}});P.fn.extend({detach:function(l){return ka(this,l,!0)},remove:function(l){return ka(this,l)},text:function(l){return Tb(this,function(x){return void 0===x?P.text(this):this.empty().each(function(){if(1===
this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=x})},null,l,arguments.length)},append:function(){return sa(this,arguments,function(l){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||J(this,l).appendChild(l)})},prepend:function(){return sa(this,arguments,function(l){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var x=J(this,l);x.insertBefore(l,x.firstChild)}})},before:function(){return sa(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,
this)})},after:function(){return sa(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this.nextSibling)})},empty:function(){for(var l,x=0;null!=(l=this[x]);x++)1===l.nodeType&&(P.cleanData(A(l,!1)),l.textContent="");return this},clone:function(l,x){l=null==l?!1:l;x=null==x?l:x;return this.map(function(){return P.clone(this,l,x)})},html:function(l){return Tb(this,function(x){var F=this[0]||{},L=0,S=this.length;if(void 0===x&&1===F.nodeType)return F.innerHTML;if("string"===
typeof x&&!ob.test(x)&&!za[(Cc.exec(x)||["",""])[1].toLowerCase()]){x=P.htmlPrefilter(x);try{for(;L<S;L++)F=this[L]||{},1===F.nodeType&&(P.cleanData(A(F,!1)),F.innerHTML=x);F=0}catch(V){}}F&&this.empty().append(x)},null,l,arguments.length)},replaceWith:function(){var l=[];return sa(this,arguments,function(x){var F=this.parentNode;0>P.inArray(this,l)&&(P.cleanData(A(this)),F&&F.replaceChild(x,this))},l)}});P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(l,x){P.fn[l]=function(F){for(var L=[],S=P(F),V=S.length-1,X=0;X<=V;X++)F=X===V?this:this.clone(!0),P(S[X])[x](F),Wa.apply(L,F.get());return this.pushStack(L)}});var Aa=new RegExp("^("+lc+")(?!px)[a-z%]+$","i"),ba=/^--/,va=function(l){var x=l.ownerDocument.defaultView;x&&x.opener||(x=y);return x.getComputedStyle(l)},Ja=function(l,x,F){var L,S={};for(L in x)S[L]=l.style[L],l.style[L]=x[L];F=F.call(l);for(L in x)l.style[L]=S[L];return F},Va=new RegExp(gc.join("|"),"i");(function(){function l(){if(da){na.style.cssText=
"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";da.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";nc.appendChild(na).appendChild(da);var ea=y.getComputedStyle(da);x="1%"!==ea.top;X=12===Math.round(parseFloat(ea.marginLeft));da.style.right="60%";S=36===Math.round(parseFloat(ea.right));F=36===Math.round(parseFloat(ea.width));da.style.position="absolute";L=12===Math.round(parseFloat(da.offsetWidth/
3));nc.removeChild(na);da=null}}var x,F,L,S,V,X,na=qb.createElement("div"),da=qb.createElement("div");da.style&&(da.style.backgroundClip="content-box",da.cloneNode(!0).style.backgroundClip="",Da.clearCloneStyle="content-box"===da.style.backgroundClip,P.extend(Da,{boxSizingReliable:function(){l();return F},pixelBoxStyles:function(){l();return S},pixelPosition:function(){l();return x},reliableMarginLeft:function(){l();return X},scrollboxSize:function(){l();return L},reliableTrDimensions:function(){if(null==
V){var ea=qb.createElement("table");var Fa=qb.createElement("tr");var Na=qb.createElement("div");ea.style.cssText="position:absolute;left:-11111px;border-collapse:separate";Fa.style.cssText="box-sizing:content-box;border:1px solid";Fa.style.height="1px";Na.style.height="9px";Na.style.display="block";nc.appendChild(ea).appendChild(Fa).appendChild(Na);Na=y.getComputedStyle(Fa);V=parseInt(Na.height,10)+parseInt(Na.borderTopWidth,10)+parseInt(Na.borderBottomWidth,10)===Fa.offsetHeight;nc.removeChild(ea)}return V}}))})();
var Ka=["Webkit","Moz","ms"],Za=qb.createElement("div").style,$a={},lb=/^(none|table(?!-c[ea]).+)/,Lb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"};P.extend({cssHooks:{opacity:{get:function(l,x){if(x)return l=Q(l,"opacity"),""===l?"1":l}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,
gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(l,x,F,L){if(l&&3!==l.nodeType&&8!==l.nodeType&&l.style){var S,V=e(x),X=ba.test(x),na=l.style;X||(x=ca(V));var da=P.cssHooks[x]||P.cssHooks[V];if(void 0!==F){var ea=typeof F;"string"===ea&&(S=hc.exec(F))&&S[1]&&(F=B(l,x,S),ea="number");null!=F&&F===F&&("number"!==ea||X||(F+=S&&S[3]||(P.cssNumber[V]?
"":"px")),Da.clearCloneStyle||""!==F||0!==x.indexOf("background")||(na[x]="inherit"),da&&"set"in da&&void 0===(F=da.set(l,F,L))||(X?na.setProperty(x,F):na[x]=F))}else return da&&"get"in da&&void 0!==(S=da.get(l,!1,L))?S:na[x]}},css:function(l,x,F,L){var S;var V=e(x);ba.test(x)||(x=ca(V));(V=P.cssHooks[x]||P.cssHooks[V])&&"get"in V&&(S=V.get(l,!0,F));void 0===S&&(S=Q(l,x,L));"normal"===S&&x in Db&&(S=Db[x]);return""===F||F?(l=parseFloat(S),!0===F||isFinite(l)?l||0:S):S}});P.each(["height","width"],
function(l,x){P.cssHooks[x]={get:function(F,L,S){if(L)return!lb.test(P.css(F,"display"))||F.getClientRects().length&&F.getBoundingClientRect().width?ya(F,x,S):Ja(F,Lb,function(){return ya(F,x,S)})},set:function(F,L,S){var V,X=va(F),na=!Da.scrollboxSize()&&"absolute"===X.position,da=(na||S)&&"border-box"===P.css(F,"boxSizing",!1,X);S=S?qa(F,x,S,da,X):0;da&&na&&(S-=Math.ceil(F["offset"+x[0].toUpperCase()+x.slice(1)]-parseFloat(X[x])-qa(F,x,"border",!1,X)-.5));S&&(V=hc.exec(L))&&"px"!==(V[3]||"px")&&
(F.style[x]=L,L=P.css(F,x));return ua(F,L,S)}}});P.cssHooks.marginLeft=ja(Da.reliableMarginLeft,function(l,x){if(x)return(parseFloat(Q(l,"marginLeft"))||l.getBoundingClientRect().left-Ja(l,{marginLeft:0},function(){return l.getBoundingClientRect().left}))+"px"});P.each({margin:"",padding:"",border:"Width"},function(l,x){P.cssHooks[l+x]={expand:function(F){var L=0,S={};for(F="string"===typeof F?F.split(" "):[F];4>L;L++)S[l+gc[L]+x]=F[L]||F[L-2]||F[0];return S}};"margin"!==l&&(P.cssHooks[l+x].set=ua)});
P.fn.extend({css:function(l,x){return Tb(this,function(F,L,S){var V,X={},na=0;if(Array.isArray(L)){S=va(F);for(V=L.length;na<V;na++)X[L[na]]=P.css(F,L[na],!1,S);return X}return void 0!==S?P.style(F,L,S):P.css(F,L)},l,x,1<arguments.length)}});P.Tween=ma;ma.prototype={constructor:ma,init:function(l,x,F,L,S,V){this.elem=l;this.prop=F;this.easing=S||P.easing._default;this.options=x;this.start=this.now=this.cur();this.end=L;this.unit=V||(P.cssNumber[F]?"":"px")},cur:function(){var l=ma.propHooks[this.prop];
return l&&l.get?l.get(this):ma.propHooks._default.get(this)},run:function(l){var x,F=ma.propHooks[this.prop];this.pos=this.options.duration?x=P.easing[this.easing](l,this.options.duration*l,0,1,this.options.duration):x=l;this.now=(this.end-this.start)*x+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);F&&F.set?F.set(this):ma.propHooks._default.set(this);return this}};ma.prototype.init.prototype=ma.prototype;ma.propHooks={_default:{get:function(l){return 1!==l.elem.nodeType||
null!=l.elem[l.prop]&&null==l.elem.style[l.prop]?l.elem[l.prop]:(l=P.css(l.elem,l.prop,""))&&"auto"!==l?l:0},set:function(l){if(P.fx.step[l.prop])P.fx.step[l.prop](l);else 1!==l.elem.nodeType||!P.cssHooks[l.prop]&&null==l.elem.style[ca(l.prop)]?l.elem[l.prop]=l.now:P.style(l.elem,l.prop,l.now+l.unit)}}};ma.propHooks.scrollTop=ma.propHooks.scrollLeft={set:function(l){l.elem.nodeType&&l.elem.parentNode&&(l.elem[l.prop]=l.now)}};P.easing={linear:function(l){return l},swing:function(l){return.5-Math.cos(l*
Math.PI)/2},_default:"swing"};P.fx=ma.prototype.init;P.fx.step={};var Nb,oc,dd=/^(?:toggle|show|hide)$/,ed=/queueHooks$/;P.Animation=P.extend(ra,{tweeners:{"*":[function(l,x){var F=this.createTween(l,x);B(F.elem,l,hc.exec(x),F);return F}]},tweener:function(l,x){Ma(l)?(x=l,l=["*"]):l=l.match(Fb);for(var F,L=0,S=l.length;L<S;L++)F=l[L],ra.tweeners[F]=ra.tweeners[F]||[],ra.tweeners[F].unshift(x)},prefilters:[function(l,x,F){var L;var S="width"in x||"height"in x;var V=this,X={},na=l.style,da=l.nodeType&&
yc(l),ea=kb.get(l,"fxshow");if(!F.queue){var Fa=P._queueHooks(l,"fx");if(null==Fa.unqueued){Fa.unqueued=0;var Na=Fa.empty.fire;Fa.empty.fire=function(){Fa.unqueued||Na()}}Fa.unqueued++;V.always(function(){V.always(function(){Fa.unqueued--;P.queue(l,"fx").length||Fa.empty.fire()})})}for(L in x){var Sa=x[L];if(dd.test(Sa)){delete x[L];var hb=hb||"toggle"===Sa;if(Sa===(da?"hide":"show"))if("show"===Sa&&ea&&void 0!==ea[L])da=!0;else continue;X[L]=ea&&ea[L]||P.style(l,L)}}if((x=!P.isEmptyObject(x))||!P.isEmptyObject(X)){if(S&&
1===l.nodeType){F.overflow=[na.overflow,na.overflowX,na.overflowY];var ib=ea&&ea.display;null==ib&&(ib=kb.get(l,"display"));S=P.css(l,"display");"none"===S&&(ib?S=ib:(C([l],!0),ib=l.style.display||ib,S=P.css(l,"display"),C([l])));("inline"===S||"inline-block"===S&&null!=ib)&&"none"===P.css(l,"float")&&(x||(V.done(function(){na.display=ib}),null==ib&&(S=na.display,ib="none"===S?"":S)),na.display="inline-block")}F.overflow&&(na.overflow="hidden",V.always(function(){na.overflow=F.overflow[0];na.overflowX=
F.overflow[1];na.overflowY=F.overflow[2]}));x=!1;for(L in X)x||(ea?"hidden"in ea&&(da=ea.hidden):ea=kb.access(l,"fxshow",{display:ib}),hb&&(ea.hidden=!da),da&&C([l],!0),V.done(function(){da||C([l]);kb.remove(l,"fxshow");for(L in X)P.style(l,L,X[L])})),x=T(da?ea[L]:0,L,V),L in ea||(ea[L]=x.start,da&&(x.end=x.start,x.start=0))}}],prefilter:function(l,x){x?ra.prefilters.unshift(l):ra.prefilters.push(l)}});P.speed=function(l,x,F){var L=l&&"object"===typeof l?P.extend({},l):{complete:F||!F&&x||Ma(l)&&
l,duration:l,easing:F&&x||x&&!Ma(x)&&x};P.fx.off?L.duration=0:"number"!==typeof L.duration&&(L.duration=L.duration in P.fx.speeds?P.fx.speeds[L.duration]:P.fx.speeds._default);if(null==L.queue||!0===L.queue)L.queue="fx";L.old=L.complete;L.complete=function(){Ma(L.old)&&L.old.call(this);L.queue&&P.dequeue(this,L.queue)};return L};P.fn.extend({fadeTo:function(l,x,F,L){return this.filter(yc).css("opacity",0).show().end().animate({opacity:x},l,F,L)},animate:function(l,x,F,L){var S=P.isEmptyObject(l),
V=P.speed(x,F,L);x=function(){var X=ra(this,P.extend({},l),V);(S||kb.get(this,"finish"))&&X.stop(!0)};x.finish=x;return S||!1===V.queue?this.each(x):this.queue(V.queue,x)},stop:function(l,x,F){var L=function(S){var V=S.stop;delete S.stop;V(F)};"string"!==typeof l&&(F=x,x=l,l=void 0);x&&this.queue(l||"fx",[]);return this.each(function(){var S=!0,V=null!=l&&l+"queueHooks",X=P.timers,na=kb.get(this);if(V)na[V]&&na[V].stop&&L(na[V]);else for(V in na)na[V]&&na[V].stop&&ed.test(V)&&L(na[V]);for(V=X.length;V--;)X[V].elem!==
this||null!=l&&X[V].queue!==l||(X[V].anim.stop(F),S=!1,X.splice(V,1));!S&&F||P.dequeue(this,l)})},finish:function(l){!1!==l&&(l=l||"fx");return this.each(function(){var x=kb.get(this),F=x[l+"queue"];var L=x[l+"queueHooks"];var S=P.timers,V=F?F.length:0;x.finish=!0;P.queue(this,l,[]);L&&L.stop&&L.stop.call(this,!0);for(L=S.length;L--;)S[L].elem===this&&S[L].queue===l&&(S[L].anim.stop(!0),S.splice(L,1));for(L=0;L<V;L++)F[L]&&F[L].finish&&F[L].finish.call(this);delete x.finish})}});P.each(["toggle",
"show","hide"],function(l,x){var F=P.fn[x];P.fn[x]=function(L,S,V){return null==L||"boolean"===typeof L?F.apply(this,arguments):this.animate(ab(x,!0),L,S,V)}});P.each({slideDown:ab("show"),slideUp:ab("hide"),slideToggle:ab("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(l,x){P.fn[l]=function(F,L,S){return this.animate(x,F,L,S)}});P.timers=[];P.fx.tick=function(){var l=0,x=P.timers;for(Nb=Date.now();l<x.length;l++){var F=x[l];F()||x[l]!==F||x.splice(l--,
1)}x.length||P.fx.stop();Nb=void 0};P.fx.timer=function(l){P.timers.push(l);P.fx.start()};P.fx.interval=13;P.fx.start=function(){oc||(oc=!0,Oa())};P.fx.stop=function(){oc=null};P.fx.speeds={slow:600,fast:200,_default:400};P.fn.delay=function(l,x){l=P.fx?P.fx.speeds[l]||l:l;return this.queue(x||"fx",function(F,L){var S=y.setTimeout(F,l);L.stop=function(){y.clearTimeout(S)}})};(function(){var l=qb.createElement("input"),x=qb.createElement("select").appendChild(qb.createElement("option"));l.type="checkbox";
Da.checkOn=""!==l.value;Da.optSelected=x.selected;l=qb.createElement("input");l.value="t";l.type="radio";Da.radioValue="t"===l.value})();var Ac=P.expr.attrHandle;P.fn.extend({attr:function(l,x){return Tb(this,P.attr,l,x,1<arguments.length)},removeAttr:function(l){return this.each(function(){P.removeAttr(this,l)})}});P.extend({attr:function(l,x,F){var L,S,V=l.nodeType;if(3!==V&&8!==V&&2!==V){if("undefined"===typeof l.getAttribute)return P.prop(l,x,F);1===V&&P.isXMLDoc(l)||(S=P.attrHooks[x.toLowerCase()]||
(P.expr.match.bool.test(x)?fd:void 0));if(void 0!==F){if(null===F){P.removeAttr(l,x);return}if(S&&"set"in S&&void 0!==(L=S.set(l,F,x)))return L;l.setAttribute(x,F+"");return F}if(S&&"get"in S&&null!==(L=S.get(l,x)))return L;L=P.find.attr(l,x);return null==L?void 0:L}},attrHooks:{type:{set:function(l,x){if(!Da.radioValue&&"radio"===x&&d(l,"input")){var F=l.value;l.setAttribute("type",x);F&&(l.value=F);return x}}}},removeAttr:function(l,x){var F=0,L=x&&x.match(Fb);if(L&&1===l.nodeType)for(;x=L[F++];)l.removeAttribute(x)}});
var fd={set:function(l,x,F){!1===x?P.removeAttr(l,F):l.setAttribute(F,F);return F}};P.each(P.expr.match.bool.source.match(/\w+/g),function(l,x){var F=Ac[x]||P.find.attr;Ac[x]=function(L,S,V){var X=S.toLowerCase();if(!V){var na=Ac[X];Ac[X]=da;var da=null!=F(L,S,V)?X:null;Ac[X]=na}return da}});var gd=/^(?:input|select|textarea|button)$/i,Gc=/^(?:a|area)$/i;P.fn.extend({prop:function(l,x){return Tb(this,P.prop,l,x,1<arguments.length)},removeProp:function(l){return this.each(function(){delete this[P.propFix[l]||
l]})}});P.extend({prop:function(l,x,F){var L,S=l.nodeType;if(3!==S&&8!==S&&2!==S){if(1!==S||!P.isXMLDoc(l)){x=P.propFix[x]||x;var V=P.propHooks[x]}return void 0!==F?V&&"set"in V&&void 0!==(L=V.set(l,F,x))?L:l[x]=F:V&&"get"in V&&null!==(L=V.get(l,x))?L:l[x]}},propHooks:{tabIndex:{get:function(l){var x=P.find.attr(l,"tabindex");return x?parseInt(x,10):gd.test(l.nodeName)||Gc.test(l.nodeName)&&l.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});Da.optSelected||(P.propHooks.selected={get:function(l){(l=
l.parentNode)&&l.parentNode&&l.parentNode.selectedIndex;return null},set:function(l){if(l=l.parentNode)l.selectedIndex,l.parentNode&&l.parentNode.selectedIndex}});P.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){P.propFix[this.toLowerCase()]=this});P.fn.extend({addClass:function(l){var x,F,L,S,V;if(Ma(l))return this.each(function(na){P(this).addClass(l.call(this,na,Ra(this)))});var X=xb(l);return X.length?this.each(function(){F=
Ra(this);if(x=1===this.nodeType&&" "+Ca(F)+" "){for(S=0;S<X.length;S++)L=X[S],0>x.indexOf(" "+L+" ")&&(x+=L+" ");V=Ca(x);F!==V&&this.setAttribute("class",V)}}):this},removeClass:function(l){var x,F,L,S,V;if(Ma(l))return this.each(function(na){P(this).removeClass(l.call(this,na,Ra(this)))});if(!arguments.length)return this.attr("class","");var X=xb(l);return X.length?this.each(function(){F=Ra(this);if(x=1===this.nodeType&&" "+Ca(F)+" "){for(S=0;S<X.length;S++)for(L=X[S];-1<x.indexOf(" "+L+" ");)x=
x.replace(" "+L+" "," ");V=Ca(x);F!==V&&this.setAttribute("class",V)}}):this},toggleClass:function(l,x){var F,L,S,V=typeof l,X="string"===V||Array.isArray(l);if(Ma(l))return this.each(function(da){P(this).toggleClass(l.call(this,da,Ra(this),x),x)});if("boolean"===typeof x&&X)return x?this.addClass(l):this.removeClass(l);var na=xb(l);return this.each(function(){if(X)for(S=P(this),L=0;L<na.length;L++)F=na[L],S.hasClass(F)?S.removeClass(F):S.addClass(F);else if(void 0===l||"boolean"===V)(F=Ra(this))&&
kb.set(this,"__className__",F),this.setAttribute&&this.setAttribute("class",F||!1===l?"":kb.get(this,"__className__")||"")})},hasClass:function(l){var x,F=0;for(l=" "+l+" ";x=this[F++];)if(1===x.nodeType&&-1<(" "+Ca(Ra(x))+" ").indexOf(l))return!0;return!1}});var Vc=/\r/g;P.fn.extend({val:function(l){var x,F,L=this[0];if(arguments.length){var S=Ma(l);return this.each(function(V){1===this.nodeType&&(V=S?l.call(this,V,P(this).val()):l,null==V?V="":"number"===typeof V?V+="":Array.isArray(V)&&(V=P.map(V,
function(X){return null==X?"":X+""})),x=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()],x&&"set"in x&&void 0!==x.set(this,V,"value")||(this.value=V))})}if(L){if((x=P.valHooks[L.type]||P.valHooks[L.nodeName.toLowerCase()])&&"get"in x&&void 0!==(F=x.get(L,"value")))return F;F=L.value;return"string"===typeof F?F.replace(Vc,""):null==F?"":F}}});P.extend({valHooks:{option:{get:function(l){var x=P.find.attr(l,"value");return null!=x?x:Ca(P.text(l))}},select:{get:function(l){var x=l.options,
F=l.selectedIndex,L="select-one"===l.type,S=L?null:[],V=L?F+1:x.length;for(l=0>F?V:L?F:0;l<V;l++){var X=x[l];if(!(!X.selected&&l!==F||X.disabled||X.parentNode.disabled&&d(X.parentNode,"optgroup"))){X=P(X).val();if(L)return X;S.push(X)}}return S},set:function(l,x){for(var F,L=l.options,S=P.makeArray(x),V=L.length;V--;)if(x=L[V],x.selected=-1<P.inArray(P.valHooks.option.get(x),S))F=!0;F||(l.selectedIndex=-1);return S}}}});P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(l,x){if(Array.isArray(x))return l.checked=
-1<P.inArray(P(l).val(),x)}};Da.checkOn||(P.valHooks[this].get=function(l){return null===l.getAttribute("value")?"on":l.value})});var Oc=y.location,Wc=Date.now(),Sc=/\?/;P.parseXML=function(l){if(!l||"string"!==typeof l)return null;try{var x=(new y.DOMParser).parseFromString(l,"text/xml")}catch(L){}var F=x&&x.getElementsByTagName("parsererror")[0];x&&!F||P.error("Invalid XML: "+(F?P.map(F.childNodes,function(L){return L.textContent}).join("\n"):l));return x};var Xc=/^(?:focusinfocus|focusoutblur)$/,
Yc=function(l){l.stopPropagation()};P.extend(P.event,{trigger:function(l,x,F,L){var S,V,X,na=[F||qb],da=Ea.call(l,"type")?l.type:l;var ea=Ea.call(l,"namespace")?l.namespace.split("."):[];var Fa=X=S=F=F||qb;if(3!==F.nodeType&&8!==F.nodeType&&!Xc.test(da+P.event.triggered)){-1<da.indexOf(".")&&(ea=da.split("."),da=ea.shift(),ea.sort());var Na=0>da.indexOf(":")&&"on"+da;l=l[P.expando]?l:new P.Event(da,"object"===typeof l&&l);l.isTrigger=L?2:3;l.namespace=ea.join(".");l.rnamespace=l.namespace?new RegExp("(^|\\.)"+
ea.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;l.result=void 0;l.target||(l.target=F);x=null==x?[l]:P.makeArray(x,[l]);ea=P.event.special[da]||{};if(L||!ea.trigger||!1!==ea.trigger.apply(F,x)){if(!L&&!ea.noBubble&&!Ha(F)){var Sa=ea.delegateType||da;Xc.test(Sa+da)||(Fa=Fa.parentNode);for(;Fa;Fa=Fa.parentNode)na.push(Fa),S=Fa;S===(F.ownerDocument||qb)&&na.push(S.defaultView||S.parentWindow||y)}for(S=0;(Fa=na[S++])&&!l.isPropagationStopped();)X=Fa,l.type=1<S?Sa:ea.bindType||da,(V=(kb.get(Fa,"events")||Object.create(null))[l.type]&&
kb.get(Fa,"handle"))&&V.apply(Fa,x),(V=Na&&Fa[Na])&&V.apply&&Vb(Fa)&&(l.result=V.apply(Fa,x),!1===l.result&&l.preventDefault());l.type=da;L||l.isDefaultPrevented()||ea._default&&!1!==ea._default.apply(na.pop(),x)||!Vb(F)||!Na||!Ma(F[da])||Ha(F)||((S=F[Na])&&(F[Na]=null),P.event.triggered=da,l.isPropagationStopped()&&X.addEventListener(da,Yc),F[da](),l.isPropagationStopped()&&X.removeEventListener(da,Yc),P.event.triggered=void 0,S&&(F[Na]=S));return l.result}}},simulate:function(l,x,F){l=P.extend(new P.Event,
F,{type:l,isSimulated:!0});P.event.trigger(l,null,x)}});P.fn.extend({trigger:function(l,x){return this.each(function(){P.event.trigger(l,x,this)})},triggerHandler:function(l,x){var F=this[0];if(F)return P.event.trigger(l,x,F,!0)}});var hd=/\[\]$/,Zc=/\r?\n/g,id=/^(?:submit|button|image|reset|file)$/i,jd=/^(?:input|select|textarea|keygen)/i;P.param=function(l,x){var F,L=[],S=function(V,X){X=Ma(X)?X():X;L[L.length]=encodeURIComponent(V)+"="+encodeURIComponent(null==X?"":X)};if(null==l)return"";if(Array.isArray(l)||
l.jquery&&!P.isPlainObject(l))P.each(l,function(){S(this.name,this.value)});else for(F in l)Ib(F,l[F],x,S);return L.join("&")};P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var l=P.prop(this,"elements");return l?P.makeArray(l):this}).filter(function(){var l=this.type;return this.name&&!P(this).is(":disabled")&&jd.test(this.nodeName)&&!id.test(l)&&(this.checked||!zc.test(l))}).map(function(l,x){l=P(this).val();return null==
l?null:Array.isArray(l)?P.map(l,function(F){return{name:x.name,value:F.replace(Zc,"\r\n")}}):{name:x.name,value:l.replace(Zc,"\r\n")}}).get()}});var kd=/%20/g,ld=/#.*$/,Nc=/([?&])_=[^&]*/,md=/^(.*?):[ \t]*([^\r\n]*)$/mg,nd=/^(?:GET|HEAD)$/,Tc=/^\/\//,$c={},Uc={},Pc="*/".concat("*"),Hc=qb.createElement("a");Hc.href=Oc.href;P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Oc.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Oc.protocol),global:!0,processData:!0,
async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(l,x){return x?Ia(Ia(l,P.ajaxSettings),
x):Ia(P.ajaxSettings,l)},ajaxPrefilter:Ga($c),ajaxTransport:Ga(Uc),ajax:function(l,x){function F(yb,Wb,Zb,uc){var mc,Jb=Wb;if(!Ub){Ub=!0;X&&y.clearTimeout(X);L=void 0;S=uc||"";zb.readyState=0<yb?4:0;uc=200<=yb&&300>yb||304===yb;Zb&&(mc=Ba(ea,zb,Zb));!uc&&-1<P.inArray("script",ea.dataTypes)&&0>P.inArray("json",ea.dataTypes)&&(ea.converters["text script"]=function(){});mc=cb(ea,mc,zb,uc);if(uc)if(ea.ifModified&&((Zb=zb.getResponseHeader("Last-Modified"))&&(P.lastModified[Kb]=Zb),(Zb=zb.getResponseHeader("etag"))&&
(P.etag[Kb]=Zb)),204===yb||"HEAD"===ea.type)Jb="nocontent";else if(304===yb)Jb="notmodified";else{Jb=mc.state;var Bc=mc.data;var pc=mc.error;uc=!pc}else if(pc=Jb,yb||!Jb)Jb="error",0>yb&&(yb=0);zb.status=yb;zb.statusText=(Wb||Jb)+"";uc?Sa.resolveWith(Fa,[Bc,Jb,zb]):Sa.rejectWith(Fa,[zb,Jb,pc]);zb.statusCode(ib);ib=void 0;na&&Na.trigger(uc?"ajaxSuccess":"ajaxError",[zb,ea,uc?Bc:pc]);hb.fireWith(Fa,[zb,Jb]);na&&(Na.trigger("ajaxComplete",[zb,ea]),--P.active||P.event.trigger("ajaxStop"))}}"object"===
typeof l&&(x=l,l=void 0);x=x||{};var L,S,V,X,na,da,ea=P.ajaxSetup({},x),Fa=ea.context||ea,Na=ea.context&&(Fa.nodeType||Fa.jquery)?P(Fa):P.event,Sa=P.Deferred(),hb=P.Callbacks("once memory"),ib=ea.statusCode||{},Bb={},Cb={},$b="canceled",zb={readyState:0,getResponseHeader:function(yb){var Wb;if(Ub){if(!V)for(V={};Wb=md.exec(S);)V[Wb[1].toLowerCase()+" "]=(V[Wb[1].toLowerCase()+" "]||[]).concat(Wb[2]);Wb=V[yb.toLowerCase()+" "]}return null==Wb?null:Wb.join(", ")},getAllResponseHeaders:function(){return Ub?
S:null},setRequestHeader:function(yb,Wb){null==Ub&&(yb=Cb[yb.toLowerCase()]=Cb[yb.toLowerCase()]||yb,Bb[yb]=Wb);return this},overrideMimeType:function(yb){null==Ub&&(ea.mimeType=yb);return this},statusCode:function(yb){var Wb;if(yb)if(Ub)zb.always(yb[zb.status]);else for(Wb in yb)ib[Wb]=[ib[Wb],yb[Wb]];return this},abort:function(yb){yb=yb||$b;L&&L.abort(yb);F(0,yb);return this}};Sa.promise(zb);ea.url=((l||ea.url||Oc.href)+"").replace(Tc,Oc.protocol+"//");ea.type=x.method||x.type||ea.method||ea.type;
ea.dataTypes=(ea.dataType||"*").toLowerCase().match(Fb)||[""];if(null==ea.crossDomain){l=qb.createElement("a");try{l.href=ea.url,l.href=l.href,ea.crossDomain=Hc.protocol+"//"+Hc.host!==l.protocol+"//"+l.host}catch(yb){ea.crossDomain=!0}}ea.data&&ea.processData&&"string"!==typeof ea.data&&(ea.data=P.param(ea.data,ea.traditional));la($c,ea,x,zb);if(Ub)return zb;(na=P.event&&ea.global)&&0===P.active++&&P.event.trigger("ajaxStart");ea.type=ea.type.toUpperCase();ea.hasContent=!nd.test(ea.type);var Kb=
ea.url.replace(ld,"");ea.hasContent?ea.data&&ea.processData&&0===(ea.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ea.data=ea.data.replace(kd,"+")):(l=ea.url.slice(Kb.length),ea.data&&(ea.processData||"string"===typeof ea.data)&&(Kb+=(Sc.test(Kb)?"&":"?")+ea.data,delete ea.data),!1===ea.cache&&(Kb=Kb.replace(Nc,"$1"),l=(Sc.test(Kb)?"&":"?")+"_="+Wc++ +l),ea.url=Kb+l);ea.ifModified&&(P.lastModified[Kb]&&zb.setRequestHeader("If-Modified-Since",P.lastModified[Kb]),P.etag[Kb]&&zb.setRequestHeader("If-None-Match",
P.etag[Kb]));(ea.data&&ea.hasContent&&!1!==ea.contentType||x.contentType)&&zb.setRequestHeader("Content-Type",ea.contentType);zb.setRequestHeader("Accept",ea.dataTypes[0]&&ea.accepts[ea.dataTypes[0]]?ea.accepts[ea.dataTypes[0]]+("*"!==ea.dataTypes[0]?", "+Pc+"; q=0.01":""):ea.accepts["*"]);for(da in ea.headers)zb.setRequestHeader(da,ea.headers[da]);if(ea.beforeSend&&(!1===ea.beforeSend.call(Fa,zb,ea)||Ub))return zb.abort();$b="abort";hb.add(ea.complete);zb.done(ea.success);zb.fail(ea.error);if(L=
la(Uc,ea,x,zb)){zb.readyState=1;na&&Na.trigger("ajaxSend",[zb,ea]);if(Ub)return zb;ea.async&&0<ea.timeout&&(X=y.setTimeout(function(){zb.abort("timeout")},ea.timeout));try{var Ub=!1;L.send(Bb,F)}catch(yb){if(Ub)throw yb;F(-1,yb)}}else F(-1,"No Transport");return zb},getJSON:function(l,x,F){return P.get(l,x,F,"json")},getScript:function(l,x){return P.get(l,void 0,x,"script")}});P.each(["get","post"],function(l,x){P[x]=function(F,L,S,V){Ma(L)&&(V=V||S,S=L,L=void 0);return P.ajax(P.extend({url:F,type:x,
dataType:V,data:L,success:S},P.isPlainObject(F)&&F))}});P.ajaxPrefilter(function(l){for(var x in l.headers)"content-type"===x.toLowerCase()&&(l.contentType=l.headers[x]||"")});P._evalUrl=function(l,x,F){return P.ajax({url:l,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(L){P.globalEval(L,x,F)}})};P.fn.extend({wrapAll:function(l){this[0]&&(Ma(l)&&(l=l.call(this[0])),l=P(l,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&
l.insertBefore(this[0]),l.map(function(){for(var x=this;x.firstElementChild;)x=x.firstElementChild;return x}).append(this));return this},wrapInner:function(l){return Ma(l)?this.each(function(x){P(this).wrapInner(l.call(this,x))}):this.each(function(){var x=P(this),F=x.contents();F.length?F.wrapAll(l):x.append(l)})},wrap:function(l){var x=Ma(l);return this.each(function(F){P(this).wrapAll(x?l.call(this,F):l)})},unwrap:function(l){this.parent(l).not("body").each(function(){P(this).replaceWith(this.childNodes)});
return this}});P.expr.pseudos.hidden=function(l){return!P.expr.pseudos.visible(l)};P.expr.pseudos.visible=function(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)};P.ajaxSettings.xhr=function(){try{return new y.XMLHttpRequest}catch(l){}};var od={0:200,1223:204},Qc=P.ajaxSettings.xhr();Da.cors=!!Qc&&"withCredentials"in Qc;Da.ajax=Qc=!!Qc;P.ajaxTransport(function(l){var x,F;if(Da.cors||Qc&&!l.crossDomain)return{send:function(L,S){var V,X=l.xhr();X.open(l.type,l.url,l.async,l.username,
l.password);if(l.xhrFields)for(V in l.xhrFields)X[V]=l.xhrFields[V];l.mimeType&&X.overrideMimeType&&X.overrideMimeType(l.mimeType);l.crossDomain||L["X-Requested-With"]||(L["X-Requested-With"]="XMLHttpRequest");for(V in L)X.setRequestHeader(V,L[V]);x=function(na){return function(){x&&(x=F=X.onload=X.onerror=X.onabort=X.ontimeout=X.onreadystatechange=null,"abort"===na?X.abort():"error"===na?"number"!==typeof X.status?S(0,"error"):S(X.status,X.statusText):S(od[X.status]||X.status,X.statusText,"text"!==
(X.responseType||"text")||"string"!==typeof X.responseText?{binary:X.response}:{text:X.responseText},X.getAllResponseHeaders()))}};X.onload=x();F=X.onerror=X.ontimeout=x("error");void 0!==X.onabort?X.onabort=F:X.onreadystatechange=function(){4===X.readyState&&y.setTimeout(function(){x&&F()})};x=x("abort");try{X.send(l.hasContent&&l.data||null)}catch(na){if(x)throw na;}},abort:function(){x&&x()}}});P.ajaxPrefilter(function(l){l.crossDomain&&(l.contents.script=!1)});P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(l){P.globalEval(l);return l}}});P.ajaxPrefilter("script",function(l){void 0===l.cache&&(l.cache=!1);l.crossDomain&&(l.type="GET")});P.ajaxTransport("script",function(l){if(l.crossDomain||l.scriptAttrs){var x,F;return{send:function(L,S){x=P("<script>").attr(l.scriptAttrs||{}).prop({charset:l.scriptCharset,src:l.url}).on("load error",F=function(V){x.remove();F=null;V&&S("error"===V.type?404:200,V.type)});qb.head.appendChild(x[0])},
abort:function(){F&&F()}}}});var Rc=[],t=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var l=Rc.pop()||P.expando+"_"+Wc++;this[l]=!0;return l}});P.ajaxPrefilter("json jsonp",function(l,x,F){var L,S=!1!==l.jsonp&&(t.test(l.url)?"url":"string"===typeof l.data&&0===(l.contentType||"").indexOf("application/x-www-form-urlencoded")&&t.test(l.data)&&"data");if(S||"jsonp"===l.dataTypes[0]){var V=l.jsonpCallback=Ma(l.jsonpCallback)?l.jsonpCallback():l.jsonpCallback;S?l[S]=l[S].replace(t,
"$1"+V):!1!==l.jsonp&&(l.url+=(Sc.test(l.url)?"&":"?")+l.jsonp+"="+V);l.converters["script json"]=function(){L||P.error(V+" was not called");return L[0]};l.dataTypes[0]="json";var X=y[V];y[V]=function(){L=arguments};F.always(function(){void 0===X?P(y).removeProp(V):y[V]=X;l[V]&&(l.jsonpCallback=x.jsonpCallback,Rc.push(V));L&&Ma(X)&&X(L[0]);L=X=void 0});return"script"}});Da.createHTMLDocument=function(){var l=qb.implementation.createHTMLDocument("").body;l.innerHTML="<form></form><form></form>";return 2===
l.childNodes.length}();P.parseHTML=function(l,x,F){if("string"!==typeof l)return[];"boolean"===typeof x&&(F=x,x=!1);if(!x)if(Da.createHTMLDocument){x=qb.implementation.createHTMLDocument("");var L=x.createElement("base");L.href=qb.location.href;x.head.appendChild(L)}else x=qb;L=cc.exec(l);F=!F&&[];if(L)return[x.createElement(L[1])];L=O([l],x,F);F&&F.length&&P(F).remove();return P.merge([],L.childNodes)};P.fn.load=function(l,x,F){var L,S,V=this,X=l.indexOf(" ");if(-1<X){var na=Ca(l.slice(X));l=l.slice(0,
X)}Ma(x)?(F=x,x=void 0):x&&"object"===typeof x&&(L="POST");0<V.length&&P.ajax({url:l,type:L||"GET",dataType:"html",data:x}).done(function(da){S=arguments;V.html(na?P("<div>").append(P.parseHTML(da)).find(na):da)}).always(F&&function(da,ea){V.each(function(){F.apply(this,S||[da.responseText,ea,da])})});return this};P.expr.pseudos.animated=function(l){return P.grep(P.timers,function(x){return l===x.elem}).length};P.offset={setOffset:function(l,x,F){var L=P.css(l,"position"),S=P(l),V={};"static"===L&&
(l.style.position="relative");var X=S.offset();var na=P.css(l,"top");var da=P.css(l,"left");("absolute"===L||"fixed"===L)&&-1<(na+da).indexOf("auto")?(da=S.position(),na=da.top,da=da.left):(na=parseFloat(na)||0,da=parseFloat(da)||0);Ma(x)&&(x=x.call(l,F,P.extend({},X)));null!=x.top&&(V.top=x.top-X.top+na);null!=x.left&&(V.left=x.left-X.left+da);"using"in x?x.using.call(l,V):S.css(V)}};P.fn.extend({offset:function(l){if(arguments.length)return void 0===l?this:this.each(function(L){P.offset.setOffset(this,
l,L)});var x;if(x=this[0]){if(!x.getClientRects().length)return{top:0,left:0};var F=x.getBoundingClientRect();x=x.ownerDocument.defaultView;return{top:F.top+x.pageYOffset,left:F.left+x.pageXOffset}}},position:function(){if(this[0]){var l,x=this[0],F={top:0,left:0};if("fixed"===P.css(x,"position"))var L=x.getBoundingClientRect();else{L=this.offset();var S=x.ownerDocument;for(l=x.offsetParent||S.documentElement;l&&(l===S.body||l===S.documentElement)&&"static"===P.css(l,"position");)l=l.parentNode;l&&
l!==x&&1===l.nodeType&&(F=P(l).offset(),F.top+=P.css(l,"borderTopWidth",!0),F.left+=P.css(l,"borderLeftWidth",!0))}return{top:L.top-F.top-P.css(x,"marginTop",!0),left:L.left-F.left-P.css(x,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var l=this.offsetParent;l&&"static"===P.css(l,"position");)l=l.offsetParent;return l||nc})}});P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(l,x){var F="pageYOffset"===x;P.fn[l]=function(L){return Tb(this,function(S,V,
X){if(Ha(S))var na=S;else 9===S.nodeType&&(na=S.defaultView);if(void 0===X)return na?na[x]:S[V];na?na.scrollTo(F?na.pageXOffset:X,F?X:na.pageYOffset):S[V]=X},l,L,arguments.length)}});P.each(["top","left"],function(l,x){P.cssHooks[x]=ja(Da.pixelPosition,function(F,L){if(L)return L=Q(F,x),Aa.test(L)?P(F).position()[x]+"px":L})});P.each({Height:"height",Width:"width"},function(l,x){P.each({padding:"inner"+l,content:x,"":"outer"+l},function(F,L){P.fn[L]=function(S,V){var X=arguments.length&&(F||"boolean"!==
typeof S),na=F||(!0===S||!0===V?"margin":"border");return Tb(this,function(da,ea,Fa){return Ha(da)?0===L.indexOf("outer")?da["inner"+l]:da.document.documentElement["client"+l]:9===da.nodeType?(ea=da.documentElement,Math.max(da.body["scroll"+l],ea["scroll"+l],da.body["offset"+l],ea["offset"+l],ea["client"+l])):void 0===Fa?P.css(da,ea,na):P.style(da,ea,Fa,na)},x,X?S:void 0,X)}})});P.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(l,x){P.fn[x]=function(F){return this.on(x,
F)}});P.fn.extend({bind:function(l,x,F){return this.on(l,null,x,F)},unbind:function(l,x){return this.off(l,null,x)},delegate:function(l,x,F,L){return this.on(x,l,F,L)},undelegate:function(l,x,F){return 1===arguments.length?this.off(l,"**"):this.off(x,l||"**",F)},hover:function(l,x){return this.on("mouseenter",l).on("mouseleave",x||l)}});P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(l,x){P.fn[x]=function(F,L){return 0<arguments.length?this.on(x,null,F,L):this.trigger(x)}});var M=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(l,x){if("string"===typeof x){var F=l[x];x=l;l=F}if(Ma(l)){var L=Pa.call(arguments,2);F=function(){return l.apply(x||this,L.concat(Pa.call(arguments)))};F.guid=l.guid=l.guid||P.guid++;return F}};P.holdReady=function(l){l?P.readyWait++:P.ready(!0)};P.isArray=Array.isArray;P.parseJSON=JSON.parse;P.nodeName=d;P.isFunction=Ma;
P.isWindow=Ha;P.camelCase=e;P.type=E;P.now=Date.now;P.isNumeric=function(l){var x=P.type(l);return("number"===x||"string"===x)&&!isNaN(l-parseFloat(l))};P.trim=function(l){return null==l?"":(l+"").replace(M,"$1")};var W=y.jQuery,oa=y.$;P.noConflict=function(l){y.$===P&&(y.$=oa);l&&y.jQuery===P&&(y.jQuery=W);return P};"undefined"===typeof k&&(y.jQuery=y.$=P);return P})},{}],297:[function(g,K,D){D=g("./lib/utils/common").assign;var y=g("./lib/deflate"),k=g("./lib/inflate");g=g("./lib/zlib/constants");
var v={};D(v,y,k,g);K.exports=v},{"./lib/deflate":298,"./lib/inflate":299,"./lib/utils/common":300,"./lib/zlib/constants":303}],298:[function(g,K,D){function y(m){if(!(this instanceof y))return new y(m);m=this.options=E.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},m||{});m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&16>m.windowBits&&(m.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new w;this.strm.avail_out=
0;var q=v.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(0!==q)throw Error(d[q]);m.header&&v.deflateSetHeader(this.strm,m.header);if(m.dictionary){m="string"===typeof m.dictionary?b.string2buf(m.dictionary):"[object ArrayBuffer]"===a.call(m.dictionary)?new Uint8Array(m.dictionary):m.dictionary;q=v.deflateSetDictionary(this.strm,m);if(0!==q)throw Error(d[q]);this._dict_set=!0}}function k(m,q){q=new y(q);q.push(m,!0);if(q.err)throw q.msg||d[q.err];return q.result}var v=
g("./zlib/deflate"),E=g("./utils/common"),b=g("./utils/strings"),d=g("./zlib/messages"),w=g("./zlib/zstream"),a=Object.prototype.toString;y.prototype.push=function(m,q){var r=this.strm,h=this.options.chunkSize;if(this.ended)return!1;q=q===~~q?q:!0===q?4:0;"string"===typeof m?r.input=b.string2buf(m):"[object ArrayBuffer]"===a.call(m)?r.input=new Uint8Array(m):r.input=m;r.next_in=0;r.avail_in=r.input.length;do{0===r.avail_out&&(r.output=new E.Buf8(h),r.next_out=0,r.avail_out=h);m=v.deflate(r,q);if(1!==
m&&0!==m)return this.onEnd(m),this.ended=!0,!1;if(0===r.avail_out||0===r.avail_in&&(4===q||2===q))if("string"===this.options.to)this.onData(b.buf2binstring(E.shrinkBuf(r.output,r.next_out)));else this.onData(E.shrinkBuf(r.output,r.next_out))}while((0<r.avail_in||0===r.avail_out)&&1!==m);if(4===q)return m=v.deflateEnd(this.strm),this.onEnd(m),this.ended=!0,0===m;2===q&&(this.onEnd(0),r.avail_out=0);return!0};y.prototype.onData=function(m){this.chunks.push(m)};y.prototype.onEnd=function(m){0===m&&(this.result=
"string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=m;this.msg=this.strm.msg};D.Deflate=y;D.deflate=k;D.deflateRaw=function(m,q){q=q||{};q.raw=!0;return k(m,q)};D.gzip=function(m,q){q=q||{};q.gzip=!0;return k(m,q)}},{"./utils/common":300,"./utils/strings":301,"./zlib/deflate":305,"./zlib/messages":310,"./zlib/zstream":312}],299:[function(g,K,D){function y(r){if(!(this instanceof y))return new y(r);var h=this.options=E.assign({chunkSize:16384,windowBits:0,
to:""},r||{});h.raw&&0<=h.windowBits&&16>h.windowBits&&(h.windowBits=-h.windowBits,0===h.windowBits&&(h.windowBits=-15));!(0<=h.windowBits&&16>h.windowBits)||r&&r.windowBits||(h.windowBits+=32);15<h.windowBits&&48>h.windowBits&&0===(h.windowBits&15)&&(h.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new a;this.strm.avail_out=0;r=v.inflateInit2(this.strm,h.windowBits);if(r!==d.Z_OK)throw Error(w[r]);this.header=new m;v.inflateGetHeader(this.strm,this.header);if(h.dictionary&&
("string"===typeof h.dictionary?h.dictionary=b.string2buf(h.dictionary):"[object ArrayBuffer]"===q.call(h.dictionary)&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(r=v.inflateSetDictionary(this.strm,h.dictionary),r!==d.Z_OK)))throw Error(w[r]);}function k(r,h){h=new y(h);h.push(r,!0);if(h.err)throw h.msg||w[h.err];return h.result}var v=g("./zlib/inflate"),E=g("./utils/common"),b=g("./utils/strings"),d=g("./zlib/constants"),w=g("./zlib/messages"),a=g("./zlib/zstream"),m=g("./zlib/gzheader"),
q=Object.prototype.toString;y.prototype.push=function(r,h){var c=this.strm,f=this.options.chunkSize,n=this.options.dictionary,e=!1;if(this.ended)return!1;h=h===~~h?h:!0===h?d.Z_FINISH:d.Z_NO_FLUSH;"string"===typeof r?c.input=b.binstring2buf(r):"[object ArrayBuffer]"===q.call(r)?c.input=new Uint8Array(r):c.input=r;c.next_in=0;c.avail_in=c.input.length;do{0===c.avail_out&&(c.output=new E.Buf8(f),c.next_out=0,c.avail_out=f);r=v.inflate(c,d.Z_NO_FLUSH);r===d.Z_NEED_DICT&&n&&(r=v.inflateSetDictionary(this.strm,
n));r===d.Z_BUF_ERROR&&!0===e&&(r=d.Z_OK,e=!1);if(r!==d.Z_STREAM_END&&r!==d.Z_OK)return this.onEnd(r),this.ended=!0,!1;if(c.next_out&&(0===c.avail_out||r===d.Z_STREAM_END||0===c.avail_in&&(h===d.Z_FINISH||h===d.Z_SYNC_FLUSH)))if("string"===this.options.to){var p=b.utf8border(c.output,c.next_out);var u=c.next_out-p;var B=b.buf2string(c.output,p);c.next_out=u;c.avail_out=f-u;u&&E.arraySet(c.output,c.output,p,u,0);this.onData(B)}else this.onData(E.shrinkBuf(c.output,c.next_out));0===c.avail_in&&0===
c.avail_out&&(e=!0)}while((0<c.avail_in||0===c.avail_out)&&r!==d.Z_STREAM_END);r===d.Z_STREAM_END&&(h=d.Z_FINISH);if(h===d.Z_FINISH)return r=v.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===d.Z_OK;h===d.Z_SYNC_FLUSH&&(this.onEnd(d.Z_OK),c.avail_out=0);return!0};y.prototype.onData=function(r){this.chunks.push(r)};y.prototype.onEnd=function(r){r===d.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=r;this.msg=this.strm.msg};
D.Inflate=y;D.inflate=k;D.inflateRaw=function(r,h){h=h||{};h.raw=!0;return k(r,h)};D.ungzip=k},{"./utils/common":300,"./utils/strings":301,"./zlib/constants":303,"./zlib/gzheader":306,"./zlib/inflate":308,"./zlib/messages":310,"./zlib/zstream":312}],300:[function(g,K,D){g="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;D.assign=function(v){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var b=E.shift();if(b){if("object"!==typeof b)throw new TypeError(b+
"must be non-object");for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(v[d]=b[d])}}return v};D.shrinkBuf=function(v,E){if(v.length===E)return v;if(v.subarray)return v.subarray(0,E);v.length=E;return v};var y={arraySet:function(v,E,b,d,w){if(E.subarray&&v.subarray)v.set(E.subarray(b,b+d),w);else for(var a=0;a<d;a++)v[w+a]=E[b+a]},flattenChunks:function(v){var E,b;var d=b=0;for(E=v.length;d<E;d++)b+=v[d].length;var w=new Uint8Array(b);d=b=0;for(E=v.length;d<E;d++){var a=v[d];w.set(a,b);b+=
a.length}return w}},k={arraySet:function(v,E,b,d,w){for(var a=0;a<d;a++)v[w+a]=E[b+a]},flattenChunks:function(v){return[].concat.apply([],v)}};D.setTyped=function(v){v?(D.Buf8=Uint8Array,D.Buf16=Uint16Array,D.Buf32=Int32Array,D.assign(D,y)):(D.Buf8=Array,D.Buf16=Array,D.Buf32=Array,D.assign(D,k))};D.setTyped(g)},{}],301:[function(g,K,D){function y(d,w){if(65534>w&&(d.subarray&&E||!d.subarray&&v))return String.fromCharCode.apply(null,k.shrinkBuf(d,w));for(var a="",m=0;m<w;m++)a+=String.fromCharCode(d[m]);
return a}var k=g("./common"),v=!0,E=!0;try{String.fromCharCode.apply(null,[0])}catch(d){v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(d){E=!1}var b=new k.Buf8(256);for(g=0;256>g;g++)b[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;b[254]=b[254]=1;D.string2buf=function(d){var w,a,m=d.length,q=0;for(w=0;w<m;w++){var r=d.charCodeAt(w);if(55296===(r&64512)&&w+1<m){var h=d.charCodeAt(w+1);56320===(h&64512)&&(r=65536+(r-55296<<10)+(h-56320),w++)}q+=128>r?1:2048>r?2:65536>r?3:4}var c=
new k.Buf8(q);for(w=a=0;a<q;w++)r=d.charCodeAt(w),55296===(r&64512)&&w+1<m&&(h=d.charCodeAt(w+1),56320===(h&64512)&&(r=65536+(r-55296<<10)+(h-56320),w++)),128>r?c[a++]=r:(2048>r?c[a++]=192|r>>>6:(65536>r?c[a++]=224|r>>>12:(c[a++]=240|r>>>18,c[a++]=128|r>>>12&63),c[a++]=128|r>>>6&63),c[a++]=128|r&63);return c};D.buf2binstring=function(d){return y(d,d.length)};D.binstring2buf=function(d){for(var w=new k.Buf8(d.length),a=0,m=w.length;a<m;a++)w[a]=d.charCodeAt(a);return w};D.buf2string=function(d,w){var a,
m=w||d.length,q=Array(2*m);for(w=a=0;w<m;){var r=d[w++];if(128>r)q[a++]=r;else{var h=b[r];if(4<h)q[a++]=65533,w+=h-1;else{for(r&=2===h?31:3===h?15:7;1<h&&w<m;)r=r<<6|d[w++]&63,h--;1<h?q[a++]=65533:65536>r?q[a++]=r:(r-=65536,q[a++]=55296|r>>10&1023,q[a++]=56320|r&1023)}}}return y(q,a)};D.utf8border=function(d,w){var a;w=w||d.length;w>d.length&&(w=d.length);for(a=w-1;0<=a&&128===(d[a]&192);)a--;return 0>a||0===a?w:a+b[d[a]]>w?a:w}},{"./common":300}],302:[function(g,K,D){K.exports=function(y,k,v,E){var b=
y&65535|0;y=y>>>16&65535|0;for(var d;0!==v;){d=2E3<v?2E3:v;v-=d;do b=b+k[E++]|0,y=y+b|0;while(--d);b%=65521;y%=65521}return b|y<<16|0}},{}],303:[function(g,K,D){K.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,
Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],304:[function(g,K,D){var y=function(){for(var k,v=[],E=0;256>E;E++){k=E;for(var b=0;8>b;b++)k=k&1?3988292384^k>>>1:k>>>1;v[E]=k}return v}();K.exports=function(k,v,E,b){E=b+E;for(k^=-1;b<E;b++)k=k>>>8^y[(k^v[b])&255];return k^-1}},{}],305:[function(g,K,D){function y(z,G){z.msg=I[G];return G}function k(z){for(var G=z.length;0<=--G;)z[G]=0}function v(z){var G=z.state,H=G.pending;H>z.avail_out&&(H=z.avail_out);0!==H&&(u.arraySet(z.output,G.pending_buf,
G.pending_out,H,z.next_out),z.next_out+=H,G.pending_out+=H,z.total_out+=H,z.avail_out-=H,G.pending-=H,0===G.pending&&(G.pending_out=0))}function E(z,G){B._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,G);z.block_start=z.strstart;v(z.strm)}function b(z,G){z.pending_buf[z.pending++]=G}function d(z,G){z.pending_buf[z.pending++]=G>>>8&255;z.pending_buf[z.pending++]=G&255}function w(z,G){var H=z.max_chain_length,N=z.strstart,J=z.prev_length,R=z.nice_match,fa=z.strstart>z.w_size-
262?z.strstart-(z.w_size-262):0,Y=z.window,sa=z.w_mask,ka=z.prev,Q=z.strstart+258,ja=Y[N+J-1],ca=Y[N+J];z.prev_length>=z.good_match&&(H>>=2);R>z.lookahead&&(R=z.lookahead);do{var ua=G;if(Y[ua+J]===ca&&Y[ua+J-1]===ja&&Y[ua]===Y[N]&&Y[++ua]===Y[N+1]){N+=2;for(ua++;Y[++N]===Y[++ua]&&Y[++N]===Y[++ua]&&Y[++N]===Y[++ua]&&Y[++N]===Y[++ua]&&Y[++N]===Y[++ua]&&Y[++N]===Y[++ua]&&Y[++N]===Y[++ua]&&Y[++N]===Y[++ua]&&N<Q;);ua=258-(Q-N);N=Q-258;if(ua>J){z.match_start=G;J=ua;if(ua>=R)break;ja=Y[N+J-1];ca=Y[N+J]}}}while((G=
ka[G&sa])>fa&&0!==--H);return J<=z.lookahead?J:z.lookahead}function a(z){var G=z.w_size,H;do{var N=z.window_size-z.lookahead-z.strstart;if(z.strstart>=G+(G-262)){u.arraySet(z.window,z.window,G,G,0);z.match_start-=G;z.strstart-=G;z.block_start-=G;var J=H=z.hash_size;do{var R=z.head[--J];z.head[J]=R>=G?R-G:0}while(--H);J=H=G;do R=z.prev[--J],z.prev[J]=R>=G?R-G:0;while(--H);N+=G}if(0===z.strm.avail_in)break;J=z.strm;H=z.window;R=z.strstart+z.lookahead;var fa=J.avail_in;fa>N&&(fa=N);0===fa?H=0:(J.avail_in-=
fa,u.arraySet(H,J.input,J.next_in,fa,R),1===J.state.wrap?J.adler=C(J.adler,H,fa,R):2===J.state.wrap&&(J.adler=A(J.adler,H,fa,R)),J.next_in+=fa,J.total_in+=fa,H=fa);z.lookahead+=H;if(3<=z.lookahead+z.insert)for(N=z.strstart-z.insert,z.ins_h=z.window[N],z.ins_h=(z.ins_h<<z.hash_shift^z.window[N+1])&z.hash_mask;z.insert&&!(z.ins_h=(z.ins_h<<z.hash_shift^z.window[N+3-1])&z.hash_mask,z.prev[N&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=N,N++,z.insert--,3>z.lookahead+z.insert););}while(262>z.lookahead&&0!==
z.strm.avail_in)}function m(z,G){for(var H;;){if(262>z.lookahead){a(z);if(262>z.lookahead&&0===G)return 1;if(0===z.lookahead)break}H=0;3<=z.lookahead&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,H=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart);0!==H&&z.strstart-H<=z.w_size-262&&(z.match_length=w(z,H));if(3<=z.match_length)if(H=B._tr_tally(z,z.strstart-z.match_start,z.match_length-3),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&3<=
z.lookahead){z.match_length--;do z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart;while(0!==--z.match_length);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else H=B._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(H&&(E(z,!1),0===z.strm.avail_out))return 1}z.insert=2>
z.strstart?z.strstart:2;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===z.strm.avail_out)?1:2}function q(z,G){for(var H,N;;){if(262>z.lookahead){a(z);if(262>z.lookahead&&0===G)return 1;if(0===z.lookahead)break}H=0;3<=z.lookahead&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,H=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart);z.prev_length=z.match_length;z.prev_match=z.match_start;z.match_length=2;0!==H&&z.prev_length<z.max_lazy_match&&
z.strstart-H<=z.w_size-262&&(z.match_length=w(z,H),5>=z.match_length&&(1===z.strategy||3===z.match_length&&4096<z.strstart-z.match_start)&&(z.match_length=2));if(3<=z.prev_length&&z.match_length<=z.prev_length){N=z.strstart+z.lookahead-3;H=B._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-3);z.lookahead-=z.prev_length-1;z.prev_length-=2;do++z.strstart<=N&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart);
while(0!==--z.prev_length);z.match_available=0;z.match_length=2;z.strstart++;if(H&&(E(z,!1),0===z.strm.avail_out))return 1}else if(z.match_available){if((H=B._tr_tally(z,0,z.window[z.strstart-1]))&&E(z,!1),z.strstart++,z.lookahead--,0===z.strm.avail_out)return 1}else z.match_available=1,z.strstart++,z.lookahead--}z.match_available&&(B._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0);z.insert=2>z.strstart?z.strstart:2;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===
z.strm.avail_out)?1:2}function r(z,G){for(var H,N,J,R=z.window;;){if(258>=z.lookahead){a(z);if(258>=z.lookahead&&0===G)return 1;if(0===z.lookahead)break}z.match_length=0;if(3<=z.lookahead&&0<z.strstart&&(N=z.strstart-1,H=R[N],H===R[++N]&&H===R[++N]&&H===R[++N])){for(J=z.strstart+258;H===R[++N]&&H===R[++N]&&H===R[++N]&&H===R[++N]&&H===R[++N]&&H===R[++N]&&H===R[++N]&&H===R[++N]&&N<J;);z.match_length=258-(J-N);z.match_length>z.lookahead&&(z.match_length=z.lookahead)}3<=z.match_length?(H=B._tr_tally(z,
1,z.match_length-3),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(H=B._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++);if(H&&(E(z,!1),0===z.strm.avail_out))return 1}z.insert=0;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===z.strm.avail_out)?1:2}function h(z,G){for(var H;;){if(0===z.lookahead&&(a(z),0===z.lookahead)){if(0===G)return 1;break}z.match_length=0;H=B._tr_tally(z,0,z.window[z.strstart]);z.lookahead--;z.strstart++;if(H&&
(E(z,!1),0===z.strm.avail_out))return 1}z.insert=0;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===z.strm.avail_out)?1:2}function c(z,G,H,N,J){this.good_length=z;this.max_lazy=G;this.nice_length=H;this.max_chain=N;this.func=J}function f(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=
0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new u.Buf16(1146);this.dyn_dtree=new u.Buf16(122);this.bl_tree=new u.Buf16(78);k(this.dyn_ltree);k(this.dyn_dtree);k(this.bl_tree);this.bl_desc=this.d_desc=
this.l_desc=null;this.bl_count=new u.Buf16(16);this.heap=new u.Buf16(573);k(this.heap);this.heap_max=this.heap_len=0;this.depth=new u.Buf16(573);k(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function n(z){if(!z||!z.state)return y(z,-2);z.total_in=z.total_out=0;z.data_type=2;var G=z.state;G.pending=0;G.pending_out=0;0>G.wrap&&(G.wrap=-G.wrap);G.status=G.wrap?42:113;z.adler=2===G.wrap?0:1;G.last_flush=
0;B._tr_init(G);return 0}function e(z){var G=n(z);0===G&&(z=z.state,z.window_size=2*z.w_size,k(z.head),z.max_lazy_match=O[z.level].max_lazy,z.good_match=O[z.level].good_length,z.nice_match=O[z.level].nice_length,z.max_chain_length=O[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=2,z.match_available=0,z.ins_h=0);return G}function p(z,G,H,N,J,R){if(!z)return-2;var fa=1;-1===G&&(G=6);0>N?(fa=0,N=-N):15<N&&(fa=2,N-=16);if(1>J||9<J||8!==H||8>N||15<
N||0>G||9<G||0>R||4<R)return y(z,-2);8===N&&(N=9);var Y=new f;z.state=Y;Y.strm=z;Y.wrap=fa;Y.gzhead=null;Y.w_bits=N;Y.w_size=1<<Y.w_bits;Y.w_mask=Y.w_size-1;Y.hash_bits=J+7;Y.hash_size=1<<Y.hash_bits;Y.hash_mask=Y.hash_size-1;Y.hash_shift=~~((Y.hash_bits+3-1)/3);Y.window=new u.Buf8(2*Y.w_size);Y.head=new u.Buf16(Y.hash_size);Y.prev=new u.Buf16(Y.w_size);Y.lit_bufsize=1<<J+6;Y.pending_buf_size=4*Y.lit_bufsize;Y.pending_buf=new u.Buf8(Y.pending_buf_size);Y.d_buf=1*Y.lit_bufsize;Y.l_buf=3*Y.lit_bufsize;
Y.level=G;Y.strategy=R;Y.method=H;return e(z)}var u=g("../utils/common"),B=g("./trees"),C=g("./adler32"),A=g("./crc32"),I=g("./messages");var O=[new c(0,0,0,0,function(z,G){var H=65535;for(H>z.pending_buf_size-5&&(H=z.pending_buf_size-5);;){if(1>=z.lookahead){a(z);if(0===z.lookahead&&0===G)return 1;if(0===z.lookahead)break}z.strstart+=z.lookahead;z.lookahead=0;var N=z.block_start+H;if(0===z.strstart||z.strstart>=N)if(z.lookahead=z.strstart-N,z.strstart=N,E(z,!1),0===z.strm.avail_out)return 1;if(z.strstart-
z.block_start>=z.w_size-262&&(E(z,!1),0===z.strm.avail_out))return 1}z.insert=0;if(4===G)return E(z,!0),0===z.strm.avail_out?3:4;z.strstart>z.block_start&&E(z,!1);return 1}),new c(4,4,8,4,m),new c(4,5,16,8,m),new c(4,6,32,32,m),new c(4,4,16,16,q),new c(8,16,32,32,q),new c(8,16,128,128,q),new c(8,32,128,256,q),new c(32,128,258,1024,q),new c(32,258,258,4096,q)];D.deflateInit=function(z,G){return p(z,G,8,15,8,0)};D.deflateInit2=p;D.deflateReset=e;D.deflateResetKeep=n;D.deflateSetHeader=function(z,G){if(!z||
!z.state||2!==z.state.wrap)return-2;z.state.gzhead=G;return 0};D.deflate=function(z,G){if(!z||!z.state||5<G||0>G)return z?y(z,-2):-2;var H=z.state;if(!z.output||!z.input&&0!==z.avail_in||666===H.status&&4!==G)return y(z,0===z.avail_out?-5:-2);H.strm=z;var N=H.last_flush;H.last_flush=G;if(42===H.status)if(2===H.wrap)z.adler=0,b(H,31),b(H,139),b(H,8),H.gzhead?(b(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),b(H,H.gzhead.time&255),b(H,H.gzhead.time>>
8&255),b(H,H.gzhead.time>>16&255),b(H,H.gzhead.time>>24&255),b(H,9===H.level?2:2<=H.strategy||2>H.level?4:0),b(H,H.gzhead.os&255),H.gzhead.extra&&H.gzhead.extra.length&&(b(H,H.gzhead.extra.length&255),b(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(z.adler=A(z.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(b(H,0),b(H,0),b(H,0),b(H,0),b(H,0),b(H,9===H.level?2:2<=H.strategy||2>H.level?4:0),b(H,3),H.status=113);else{var J=8+(H.w_bits-8<<4)<<8;J|=(2<=H.strategy||2>H.level?0:6>H.level?
1:6===H.level?2:3)<<6;0!==H.strstart&&(J|=32);H.status=113;d(H,J+(31-J%31));0!==H.strstart&&(d(H,z.adler>>>16),d(H,z.adler&65535));z.adler=1}if(69===H.status)if(H.gzhead.extra){for(J=H.pending;H.gzindex<(H.gzhead.extra.length&65535)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>J&&(z.adler=A(z.adler,H.pending_buf,H.pending-J,J)),v(z),J=H.pending,H.pending!==H.pending_buf_size));)b(H,H.gzhead.extra[H.gzindex]&255),H.gzindex++;H.gzhead.hcrc&&H.pending>J&&(z.adler=A(z.adler,H.pending_buf,
H.pending-J,J));H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(73===H.status)if(H.gzhead.name){J=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>J&&(z.adler=A(z.adler,H.pending_buf,H.pending-J,J)),v(z),J=H.pending,H.pending===H.pending_buf_size)){var R=1;break}R=H.gzindex<H.gzhead.name.length?H.gzhead.name.charCodeAt(H.gzindex++)&255:0;b(H,R)}while(0!==R);H.gzhead.hcrc&&H.pending>J&&(z.adler=A(z.adler,H.pending_buf,H.pending-J,J));0===R&&
(H.gzindex=0,H.status=91)}else H.status=91;if(91===H.status)if(H.gzhead.comment){J=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>J&&(z.adler=A(z.adler,H.pending_buf,H.pending-J,J)),v(z),J=H.pending,H.pending===H.pending_buf_size)){R=1;break}R=H.gzindex<H.gzhead.comment.length?H.gzhead.comment.charCodeAt(H.gzindex++)&255:0;b(H,R)}while(0!==R);H.gzhead.hcrc&&H.pending>J&&(z.adler=A(z.adler,H.pending_buf,H.pending-J,J));0===R&&(H.status=103)}else H.status=103;103===H.status&&
(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&v(z),H.pending+2<=H.pending_buf_size&&(b(H,z.adler&255),b(H,z.adler>>8&255),z.adler=0,H.status=113)):H.status=113);if(0!==H.pending){if(v(z),0===z.avail_out)return H.last_flush=-1,0}else if(0===z.avail_in&&(G<<1)-(4<G?9:0)<=(N<<1)-(4<N?9:0)&&4!==G)return y(z,-5);if(666===H.status&&0!==z.avail_in)return y(z,-5);if(0!==z.avail_in||0!==H.lookahead||0!==G&&666!==H.status){N=2===H.strategy?h(H,G):3===H.strategy?r(H,G):O[H.level].func(H,G);if(3===N||4===N)H.status=
666;if(1===N||3===N)return 0===z.avail_out&&(H.last_flush=-1),0;if(2===N&&(1===G?B._tr_align(H):5!==G&&(B._tr_stored_block(H,0,0,!1),3===G&&(k(H.head),0===H.lookahead&&(H.strstart=0,H.block_start=0,H.insert=0))),v(z),0===z.avail_out))return H.last_flush=-1,0}if(4!==G)return 0;if(0>=H.wrap)return 1;2===H.wrap?(b(H,z.adler&255),b(H,z.adler>>8&255),b(H,z.adler>>16&255),b(H,z.adler>>24&255),b(H,z.total_in&255),b(H,z.total_in>>8&255),b(H,z.total_in>>16&255),b(H,z.total_in>>24&255)):(d(H,z.adler>>>16),
d(H,z.adler&65535));v(z);0<H.wrap&&(H.wrap=-H.wrap);return 0!==H.pending?0:1};D.deflateEnd=function(z){if(!z||!z.state)return-2;var G=z.state.status;if(42!==G&&69!==G&&73!==G&&91!==G&&103!==G&&113!==G&&666!==G)return y(z,-2);z.state=null;return 113===G?y(z,-3):0};D.deflateSetDictionary=function(z,G){var H=G.length;if(!z||!z.state)return-2;var N=z.state;var J=N.wrap;if(2===J||1===J&&42!==N.status||N.lookahead)return-2;1===J&&(z.adler=C(z.adler,G,H,0));N.wrap=0;if(H>=N.w_size){0===J&&(k(N.head),N.strstart=
0,N.block_start=0,N.insert=0);var R=new u.Buf8(N.w_size);u.arraySet(R,G,H-N.w_size,N.w_size,0);G=R;H=N.w_size}R=z.avail_in;var fa=z.next_in;var Y=z.input;z.avail_in=H;z.next_in=0;z.input=G;for(a(N);3<=N.lookahead;){G=N.strstart;H=N.lookahead-2;do N.ins_h=(N.ins_h<<N.hash_shift^N.window[G+3-1])&N.hash_mask,N.prev[G&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=G,G++;while(--H);N.strstart=G;N.lookahead=2;a(N)}N.strstart+=N.lookahead;N.block_start=N.strstart;N.insert=N.lookahead;N.lookahead=0;N.match_length=
N.prev_length=2;N.match_available=0;z.next_in=fa;z.input=Y;z.avail_in=R;N.wrap=J;return 0};D.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":300,"./adler32":302,"./crc32":304,"./messages":310,"./trees":311}],306:[function(g,K,D){K.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],307:[function(g,K,D){K.exports=function(y,k){var v=y.state;var E=y.next_in;var b=y.input;var d=E+(y.avail_in-
5);var w=y.next_out;var a=y.output;k=w-(k-y.avail_out);var m=w+(y.avail_out-257);var q=v.dmax;var r=v.wsize;var h=v.whave;var c=v.wnext;var f=v.window;var n=v.hold;var e=v.bits;var p=v.lencode;var u=v.distcode;var B=(1<<v.lenbits)-1;var C=(1<<v.distbits)-1;a:do{15>e&&(n+=b[E++]<<e,e+=8,n+=b[E++]<<e,e+=8);var A=p[n&B];b:for(;;){var I=A>>>24;n>>>=I;e-=I;I=A>>>16&255;if(0===I)a[w++]=A&65535;else if(I&16){var O=A&65535;if(I&=15)e<I&&(n+=b[E++]<<e,e+=8),O+=n&(1<<I)-1,n>>>=I,e-=I;15>e&&(n+=b[E++]<<e,e+=
8,n+=b[E++]<<e,e+=8);A=u[n&C];c:for(;;){I=A>>>24;n>>>=I;e-=I;I=A>>>16&255;if(I&16){A&=65535;I&=15;e<I&&(n+=b[E++]<<e,e+=8,e<I&&(n+=b[E++]<<e,e+=8));A+=n&(1<<I)-1;if(A>q){y.msg="invalid distance too far back";v.mode=30;break a}n>>>=I;e-=I;I=w-k;if(A>I){I=A-I;if(I>h&&v.sane){y.msg="invalid distance too far back";v.mode=30;break a}var z=0;var G=f;if(0===c){if(z+=r-I,I<O){O-=I;do a[w++]=f[z++];while(--I);z=w-A;G=a}}else if(c<I){if(z+=r+c-I,I-=c,I<O){O-=I;do a[w++]=f[z++];while(--I);z=0;if(c<O){I=c;O-=
I;do a[w++]=f[z++];while(--I);z=w-A;G=a}}}else if(z+=c-I,I<O){O-=I;do a[w++]=f[z++];while(--I);z=w-A;G=a}for(;2<O;)a[w++]=G[z++],a[w++]=G[z++],a[w++]=G[z++],O-=3;O&&(a[w++]=G[z++],1<O&&(a[w++]=G[z++]))}else{z=w-A;do a[w++]=a[z++],a[w++]=a[z++],a[w++]=a[z++],O-=3;while(2<O);O&&(a[w++]=a[z++],1<O&&(a[w++]=a[z++]))}}else if(0===(I&64)){A=u[(A&65535)+(n&(1<<I)-1)];continue c}else{y.msg="invalid distance code";v.mode=30;break a}break}}else if(0===(I&64)){A=p[(A&65535)+(n&(1<<I)-1)];continue b}else{I&32?
v.mode=12:(y.msg="invalid literal/length code",v.mode=30);break a}break}}while(E<d&&w<m);O=e>>3;E-=O;e-=O<<3;y.next_in=E;y.next_out=w;y.avail_in=E<d?5+(d-E):5-(E-d);y.avail_out=w<m?257+(m-w):257-(w-m);v.hold=n&(1<<e)-1;v.bits=e}},{}],308:[function(g,K,D){function y(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function k(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=
0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new a.Buf16(320);this.work=new a.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function v(e){if(!e||!e.state)return-2;var p=e.state;e.total_in=e.total_out=p.total=0;e.msg="";p.wrap&&(e.adler=p.wrap&1);p.mode=1;p.last=0;p.havedict=0;p.dmax=32768;p.head=null;p.hold=0;p.bits=
0;p.lencode=p.lendyn=new a.Buf32(852);p.distcode=p.distdyn=new a.Buf32(592);p.sane=1;p.back=-1;return 0}function E(e){if(!e||!e.state)return-2;var p=e.state;p.wsize=0;p.whave=0;p.wnext=0;return v(e)}function b(e,p){if(!e||!e.state)return-2;var u=e.state;if(0>p){var B=0;p=-p}else B=(p>>4)+1,48>p&&(p&=15);if(p&&(8>p||15<p))return-2;null!==u.window&&u.wbits!==p&&(u.window=null);u.wrap=B;u.wbits=p;return E(e)}function d(e,p){if(!e)return-2;var u=new k;e.state=u;u.window=null;p=b(e,p);0!==p&&(e.state=
null);return p}function w(e,p,u,B){var C=e.state;null===C.window&&(C.wsize=1<<C.wbits,C.wnext=0,C.whave=0,C.window=new a.Buf8(C.wsize));B>=C.wsize?(a.arraySet(C.window,p,u-C.wsize,C.wsize,0),C.wnext=0,C.whave=C.wsize):(e=C.wsize-C.wnext,e>B&&(e=B),a.arraySet(C.window,p,u-B,e,C.wnext),(B-=e)?(a.arraySet(C.window,p,u-B,B,0),C.wnext=B,C.whave=C.wsize):(C.wnext+=e,C.wnext===C.wsize&&(C.wnext=0),C.whave<C.wsize&&(C.whave+=e)));return 0}var a=g("../utils/common"),m=g("./adler32"),q=g("./crc32"),r=g("./inffast"),
h=g("./inftrees"),c=!0,f,n;D.inflateReset=E;D.inflateReset2=b;D.inflateResetKeep=v;D.inflateInit=function(e){return d(e,15)};D.inflateInit2=d;D.inflate=function(e,p){var u,B=new a.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;var A=e.state;12===A.mode&&(A.mode=13);var I=e.next_out;var O=e.output;var z=e.avail_out;var G=e.next_in;var H=e.input;var N=e.avail_in;var J=A.hold;var R=A.bits;var fa=N;var Y=z;var sa=0;a:for(;;)switch(A.mode){case 1:if(0===
A.wrap){A.mode=13;break}for(;16>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}if(A.wrap&2&&35615===J){A.check=0;B[0]=J&255;B[1]=J>>>8&255;A.check=q(A.check,B,2,0);R=J=0;A.mode=2;break}A.flags=0;A.head&&(A.head.done=!1);if(!(A.wrap&1)||(((J&255)<<8)+(J>>8))%31){e.msg="incorrect header check";A.mode=30;break}if(8!==(J&15)){e.msg="unknown compression method";A.mode=30;break}J>>>=4;R-=4;var ka=(J&15)+8;if(0===A.wbits)A.wbits=ka;else if(ka>A.wbits){e.msg="invalid window size";A.mode=30;break}A.dmax=1<<ka;
e.adler=A.check=1;A.mode=J&512?10:12;R=J=0;break;case 2:for(;16>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}A.flags=J;if(8!==(A.flags&255)){e.msg="unknown compression method";A.mode=30;break}if(A.flags&57344){e.msg="unknown header flags set";A.mode=30;break}A.head&&(A.head.text=J>>8&1);A.flags&512&&(B[0]=J&255,B[1]=J>>>8&255,A.check=q(A.check,B,2,0));R=J=0;A.mode=3;case 3:for(;32>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}A.head&&(A.head.time=J);A.flags&512&&(B[0]=J&255,B[1]=J>>>8&255,B[2]=J>>>16&
255,B[3]=J>>>24&255,A.check=q(A.check,B,4,0));R=J=0;A.mode=4;case 4:for(;16>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}A.head&&(A.head.xflags=J&255,A.head.os=J>>8);A.flags&512&&(B[0]=J&255,B[1]=J>>>8&255,A.check=q(A.check,B,2,0));R=J=0;A.mode=5;case 5:if(A.flags&1024){for(;16>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}A.length=J;A.head&&(A.head.extra_len=J);A.flags&512&&(B[0]=J&255,B[1]=J>>>8&255,A.check=q(A.check,B,2,0));R=J=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(A.flags&1024){var Q=
A.length;Q>N&&(Q=N);Q&&(A.head&&(ka=A.head.extra_len-A.length,A.head.extra||(A.head.extra=Array(A.head.extra_len)),a.arraySet(A.head.extra,H,G,Q,ka)),A.flags&512&&(A.check=q(A.check,H,Q,G)),N-=Q,G+=Q,A.length-=Q);if(A.length)break a}A.length=0;A.mode=7;case 7:if(A.flags&2048){if(0===N)break a;Q=0;do ka=H[G+Q++],A.head&&ka&&65536>A.length&&(A.head.name+=String.fromCharCode(ka));while(ka&&Q<N);A.flags&512&&(A.check=q(A.check,H,Q,G));N-=Q;G+=Q;if(ka)break a}else A.head&&(A.head.name=null);A.length=0;
A.mode=8;case 8:if(A.flags&4096){if(0===N)break a;Q=0;do ka=H[G+Q++],A.head&&ka&&65536>A.length&&(A.head.comment+=String.fromCharCode(ka));while(ka&&Q<N);A.flags&512&&(A.check=q(A.check,H,Q,G));N-=Q;G+=Q;if(ka)break a}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(A.flags&512){for(;16>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}if(J!==(A.check&65535)){e.msg="header crc mismatch";A.mode=30;break}R=J=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0);e.adler=A.check=0;A.mode=12;break;case 10:for(;32>
R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}e.adler=A.check=y(J);R=J=0;A.mode=11;case 11:if(0===A.havedict)return e.next_out=I,e.avail_out=z,e.next_in=G,e.avail_in=N,A.hold=J,A.bits=R,2;e.adler=A.check=1;A.mode=12;case 12:if(5===p||6===p)break a;case 13:if(A.last){J>>>=R&7;R-=R&7;A.mode=27;break}for(;3>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}A.last=J&1;J>>>=1;--R;switch(J&3){case 0:A.mode=14;break;case 1:ka=A;if(c){f=new a.Buf32(512);n=new a.Buf32(32);for(Q=0;144>Q;)ka.lens[Q++]=8;for(;256>Q;)ka.lens[Q++]=
9;for(;280>Q;)ka.lens[Q++]=7;for(;288>Q;)ka.lens[Q++]=8;h(1,ka.lens,0,288,f,0,ka.work,{bits:9});for(Q=0;32>Q;)ka.lens[Q++]=5;h(2,ka.lens,0,32,n,0,ka.work,{bits:5});c=!1}ka.lencode=f;ka.lenbits=9;ka.distcode=n;ka.distbits=5;A.mode=20;if(6===p){J>>>=2;R-=2;break a}break;case 2:A.mode=17;break;case 3:e.msg="invalid block type",A.mode=30}J>>>=2;R-=2;break;case 14:J>>>=R&7;for(R-=R&7;32>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}if((J&65535)!==(J>>>16^65535)){e.msg="invalid stored block lengths";A.mode=
30;break}A.length=J&65535;R=J=0;A.mode=15;if(6===p)break a;case 15:A.mode=16;case 16:if(Q=A.length){Q>N&&(Q=N);Q>z&&(Q=z);if(0===Q)break a;a.arraySet(O,H,G,Q,I);N-=Q;G+=Q;z-=Q;I+=Q;A.length-=Q;break}A.mode=12;break;case 17:for(;14>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}A.nlen=(J&31)+257;J>>>=5;R-=5;A.ndist=(J&31)+1;J>>>=5;R-=5;A.ncode=(J&15)+4;J>>>=4;R-=4;if(286<A.nlen||30<A.ndist){e.msg="too many length or distance symbols";A.mode=30;break}A.have=0;A.mode=18;case 18:for(;A.have<A.ncode;){for(;3>
R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}A.lens[C[A.have++]]=J&7;J>>>=3;R-=3}for(;19>A.have;)A.lens[C[A.have++]]=0;A.lencode=A.lendyn;A.lenbits=7;Q={bits:A.lenbits};sa=h(0,A.lens,0,19,A.lencode,0,A.work,Q);A.lenbits=Q.bits;if(sa){e.msg="invalid code lengths set";A.mode=30;break}A.have=0;A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;;){var ja=A.lencode[J&(1<<A.lenbits)-1];Q=ja>>>24;ja&=65535;if(Q<=R)break;if(0===N)break a;N--;J+=H[G++]<<R;R+=8}if(16>ja)J>>>=Q,R-=Q,A.lens[A.have++]=ja;else{if(16===
ja){for(ka=Q+2;R<ka;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}J>>>=Q;R-=Q;if(0===A.have){e.msg="invalid bit length repeat";A.mode=30;break}ka=A.lens[A.have-1];Q=3+(J&3);J>>>=2;R-=2}else if(17===ja){for(ka=Q+3;R<ka;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}J>>>=Q;R-=Q;ka=0;Q=3+(J&7);J>>>=3;R-=3}else{for(ka=Q+7;R<ka;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}J>>>=Q;R-=Q;ka=0;Q=11+(J&127);J>>>=7;R-=7}if(A.have+Q>A.nlen+A.ndist){e.msg="invalid bit length repeat";A.mode=30;break}for(;Q--;)A.lens[A.have++]=
ka}}if(30===A.mode)break;if(0===A.lens[256]){e.msg="invalid code -- missing end-of-block";A.mode=30;break}A.lenbits=9;Q={bits:A.lenbits};sa=h(1,A.lens,0,A.nlen,A.lencode,0,A.work,Q);A.lenbits=Q.bits;if(sa){e.msg="invalid literal/lengths set";A.mode=30;break}A.distbits=6;A.distcode=A.distdyn;Q={bits:A.distbits};sa=h(2,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,Q);A.distbits=Q.bits;if(sa){e.msg="invalid distances set";A.mode=30;break}A.mode=20;if(6===p)break a;case 20:A.mode=21;case 21:if(6<=N&&258<=
z){e.next_out=I;e.avail_out=z;e.next_in=G;e.avail_in=N;A.hold=J;A.bits=R;r(e,Y);I=e.next_out;O=e.output;z=e.avail_out;G=e.next_in;H=e.input;N=e.avail_in;J=A.hold;R=A.bits;12===A.mode&&(A.back=-1);break}for(A.back=0;;){ja=A.lencode[J&(1<<A.lenbits)-1];Q=ja>>>24;ka=ja>>>16&255;ja&=65535;if(Q<=R)break;if(0===N)break a;N--;J+=H[G++]<<R;R+=8}if(ka&&0===(ka&240)){var ca=Q;var ua=ka;for(u=ja;;){ja=A.lencode[u+((J&(1<<ca+ua)-1)>>ca)];Q=ja>>>24;ka=ja>>>16&255;ja&=65535;if(ca+Q<=R)break;if(0===N)break a;N--;
J+=H[G++]<<R;R+=8}J>>>=ca;R-=ca;A.back+=ca}J>>>=Q;R-=Q;A.back+=Q;A.length=ja;if(0===ka){A.mode=26;break}if(ka&32){A.back=-1;A.mode=12;break}if(ka&64){e.msg="invalid literal/length code";A.mode=30;break}A.extra=ka&15;A.mode=22;case 22:if(A.extra){for(ka=A.extra;R<ka;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}A.length+=J&(1<<A.extra)-1;J>>>=A.extra;R-=A.extra;A.back+=A.extra}A.was=A.length;A.mode=23;case 23:for(;;){ja=A.distcode[J&(1<<A.distbits)-1];Q=ja>>>24;ka=ja>>>16&255;ja&=65535;if(Q<=R)break;if(0===
N)break a;N--;J+=H[G++]<<R;R+=8}if(0===(ka&240)){ca=Q;ua=ka;for(u=ja;;){ja=A.distcode[u+((J&(1<<ca+ua)-1)>>ca)];Q=ja>>>24;ka=ja>>>16&255;ja&=65535;if(ca+Q<=R)break;if(0===N)break a;N--;J+=H[G++]<<R;R+=8}J>>>=ca;R-=ca;A.back+=ca}J>>>=Q;R-=Q;A.back+=Q;if(ka&64){e.msg="invalid distance code";A.mode=30;break}A.offset=ja;A.extra=ka&15;A.mode=24;case 24:if(A.extra){for(ka=A.extra;R<ka;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}A.offset+=J&(1<<A.extra)-1;J>>>=A.extra;R-=A.extra;A.back+=A.extra}if(A.offset>
A.dmax){e.msg="invalid distance too far back";A.mode=30;break}A.mode=25;case 25:if(0===z)break a;Q=Y-z;if(A.offset>Q){Q=A.offset-Q;if(Q>A.whave&&A.sane){e.msg="invalid distance too far back";A.mode=30;break}Q>A.wnext?(Q-=A.wnext,ka=A.wsize-Q):ka=A.wnext-Q;Q>A.length&&(Q=A.length);ca=A.window}else ca=O,ka=I-A.offset,Q=A.length;Q>z&&(Q=z);z-=Q;A.length-=Q;do O[I++]=ca[ka++];while(--Q);0===A.length&&(A.mode=21);break;case 26:if(0===z)break a;O[I++]=A.length;z--;A.mode=21;break;case 27:if(A.wrap){for(;32>
R;){if(0===N)break a;N--;J|=H[G++]<<R;R+=8}Y-=z;e.total_out+=Y;A.total+=Y;Y&&(e.adler=A.check=A.flags?q(A.check,O,Y,I-Y):m(A.check,O,Y,I-Y));Y=z;if((A.flags?J:y(J))!==A.check){e.msg="incorrect data check";A.mode=30;break}R=J=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;32>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}if(J!==(A.total&4294967295)){e.msg="incorrect length check";A.mode=30;break}R=J=0}A.mode=29;case 29:sa=1;break a;case 30:sa=-3;break a;case 31:return-4;default:return-2}e.next_out=I;e.avail_out=
z;e.next_in=G;e.avail_in=N;A.hold=J;A.bits=R;if((A.wsize||Y!==e.avail_out&&30>A.mode&&(27>A.mode||4!==p))&&w(e,e.output,e.next_out,Y-e.avail_out))return A.mode=31,-4;fa-=e.avail_in;Y-=e.avail_out;e.total_in+=fa;e.total_out+=Y;A.total+=Y;A.wrap&&Y&&(e.adler=A.check=A.flags?q(A.check,O,Y,e.next_out-Y):m(A.check,O,Y,e.next_out-Y));e.data_type=A.bits+(A.last?64:0)+(12===A.mode?128:0)+(20===A.mode||15===A.mode?256:0);(0===fa&&0===Y||4===p)&&0===sa&&(sa=-5);return sa};D.inflateEnd=function(e){if(!e||!e.state)return-2;
var p=e.state;p.window&&(p.window=null);e.state=null;return 0};D.inflateGetHeader=function(e,p){if(!e||!e.state)return-2;e=e.state;if(0===(e.wrap&2))return-2;e.head=p;p.done=!1;return 0};D.inflateSetDictionary=function(e,p){var u=p.length;if(!e||!e.state)return-2;var B=e.state;if(0!==B.wrap&&11!==B.mode)return-2;if(11===B.mode){var C=m(1,p,u,0);if(C!==B.check)return-3}if(w(e,p,u,u))return B.mode=31,-4;B.havedict=1;return 0};D.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":300,
"./adler32":302,"./crc32":304,"./inffast":307,"./inftrees":309}],309:[function(g,K,D){var y=g("../utils/common"),k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,
27,28,28,29,29,64,64];K.exports=function(d,w,a,m,q,r,h,c){var f=c.bits,n,e,p,u,B,C,A=0,I=new y.Buf16(16);var O=new y.Buf16(16);var z,G=0;for(n=0;15>=n;n++)I[n]=0;for(e=0;e<m;e++)I[w[a+e]]++;var H=f;for(p=15;1<=p&&0===I[p];p--);H>p&&(H=p);if(0===p)return q[r++]=20971520,q[r++]=20971520,c.bits=1,0;for(f=1;f<p&&0===I[f];f++);H<f&&(H=f);for(n=u=1;15>=n;n++)if(u<<=1,u-=I[n],0>u)return-1;if(0<u&&(0===d||1!==p))return-1;O[1]=0;for(n=1;15>n;n++)O[n+1]=O[n]+I[n];for(e=0;e<m;e++)0!==w[a+e]&&(h[O[w[a+e]]++]=
e);if(0===d){var N=z=h;var J=19}else 1===d?(N=k,A-=257,z=v,G-=257,J=256):(N=E,z=b,J=-1);e=B=0;n=f;var R=r;m=H;O=0;var fa=-1;var Y=1<<H;var sa=Y-1;if(1===d&&852<Y||2===d&&592<Y)return 1;for(;;){var ka=n-O;if(h[e]<J){var Q=0;var ja=h[e]}else h[e]>J?(Q=z[G+h[e]],ja=N[A+h[e]]):(Q=96,ja=0);u=1<<n-O;f=C=1<<m;do C-=u,q[R+(B>>O)+C]=ka<<24|Q<<16|ja|0;while(0!==C);for(u=1<<n-1;B&u;)u>>=1;0!==u?(B&=u-1,B+=u):B=0;e++;if(0===--I[n]){if(n===p)break;n=w[a+h[e]]}if(n>H&&(B&sa)!==fa){0===O&&(O=H);R+=f;m=n-O;for(u=
1<<m;m+O<p;){u-=I[m+O];if(0>=u)break;m++;u<<=1}Y+=1<<m;if(1===d&&852<Y||2===d&&592<Y)return 1;fa=B&sa;q[fa]=H<<24|m<<16|R-r|0}}0!==B&&(q[R+B]=n-O<<24|4194304);c.bits=H;return 0}},{"../utils/common":300}],310:[function(g,K,D){K.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],311:[function(g,K,D){function y(Q){for(var ja=Q.length;0<=--ja;)Q[ja]=0}function k(Q,ja,
ca,ua,qa){this.static_tree=Q;this.extra_bits=ja;this.extra_base=ca;this.elems=ua;this.max_length=qa;this.has_stree=Q&&Q.length}function v(Q,ja){this.dyn_tree=Q;this.max_code=0;this.stat_desc=ja}function E(Q,ja){Q.pending_buf[Q.pending++]=ja&255;Q.pending_buf[Q.pending++]=ja>>>8&255}function b(Q,ja,ca){Q.bi_valid>16-ca?(Q.bi_buf|=ja<<Q.bi_valid&65535,E(Q,Q.bi_buf),Q.bi_buf=ja>>16-Q.bi_valid,Q.bi_valid+=ca-16):(Q.bi_buf|=ja<<Q.bi_valid&65535,Q.bi_valid+=ca)}function d(Q,ja,ca){b(Q,ca[2*ja],ca[2*ja+
1])}function w(Q,ja){var ca=0;do ca|=Q&1,Q>>>=1,ca<<=1;while(0<--ja);return ca>>>1}function a(Q,ja,ca){var ua=Array(16),qa=0,ya;for(ya=1;15>=ya;ya++)ua[ya]=qa=qa+ca[ya-1]<<1;for(ca=0;ca<=ja;ca++)qa=Q[2*ca+1],0!==qa&&(Q[2*ca]=w(ua[qa]++,qa))}function m(Q){var ja;for(ja=0;286>ja;ja++)Q.dyn_ltree[2*ja]=0;for(ja=0;30>ja;ja++)Q.dyn_dtree[2*ja]=0;for(ja=0;19>ja;ja++)Q.bl_tree[2*ja]=0;Q.dyn_ltree[512]=1;Q.opt_len=Q.static_len=0;Q.last_lit=Q.matches=0}function q(Q){8<Q.bi_valid?E(Q,Q.bi_buf):0<Q.bi_valid&&
(Q.pending_buf[Q.pending++]=Q.bi_buf);Q.bi_buf=0;Q.bi_valid=0}function r(Q,ja,ca,ua){var qa=2*ja,ya=2*ca;return Q[qa]<Q[ya]||Q[qa]===Q[ya]&&ua[ja]<=ua[ca]}function h(Q,ja,ca){for(var ua=Q.heap[ca],qa=ca<<1;qa<=Q.heap_len;){qa<Q.heap_len&&r(ja,Q.heap[qa+1],Q.heap[qa],Q.depth)&&qa++;if(r(ja,ua,Q.heap[qa],Q.depth))break;Q.heap[ca]=Q.heap[qa];ca=qa;qa<<=1}Q.heap[ca]=ua}function c(Q,ja,ca){var ua=0;if(0!==Q.last_lit){do{var qa=Q.pending_buf[Q.d_buf+2*ua]<<8|Q.pending_buf[Q.d_buf+2*ua+1];var ya=Q.pending_buf[Q.l_buf+
ua];ua++;if(0===qa)d(Q,ya,ja);else{var ma=N[ya];d(Q,ma+256+1,ja);var Oa=C[ma];0!==Oa&&(ya-=J[ma],b(Q,ya,Oa));qa--;ma=256>qa?H[qa]:H[256+(qa>>>7)];d(Q,ma,ca);Oa=A[ma];0!==Oa&&(qa-=R[ma],b(Q,qa,Oa))}}while(ua<Q.last_lit)}d(Q,256,ja)}function f(Q,ja){var ca=ja.dyn_tree,ua=ja.stat_desc.static_tree,qa=ja.stat_desc.has_stree,ya=ja.stat_desc.elems,ma,Oa=-1;Q.heap_len=0;Q.heap_max=573;for(ma=0;ma<ya;ma++)0!==ca[2*ma]?(Q.heap[++Q.heap_len]=Oa=ma,Q.depth[ma]=0):ca[2*ma+1]=0;for(;2>Q.heap_len;){var fb=Q.heap[++Q.heap_len]=
2>Oa?++Oa:0;ca[2*fb]=1;Q.depth[fb]=0;Q.opt_len--;qa&&(Q.static_len-=ua[2*fb+1])}ja.max_code=Oa;for(ma=Q.heap_len>>1;1<=ma;ma--)h(Q,ca,ma);fb=ya;do ma=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],h(Q,ca,1),ua=Q.heap[1],Q.heap[--Q.heap_max]=ma,Q.heap[--Q.heap_max]=ua,ca[2*fb]=ca[2*ma]+ca[2*ua],Q.depth[fb]=(Q.depth[ma]>=Q.depth[ua]?Q.depth[ma]:Q.depth[ua])+1,ca[2*ma+1]=ca[2*ua+1]=fb,Q.heap[1]=fb++,h(Q,ca,1);while(2<=Q.heap_len);Q.heap[--Q.heap_max]=Q.heap[1];ma=ja.dyn_tree;fb=ja.max_code;ua=ja.stat_desc.static_tree;
qa=ja.stat_desc.has_stree;ya=ja.stat_desc.extra_bits;var ab=ja.stat_desc.extra_base,T=ja.stat_desc.max_length,Z,ra=0;for(Z=0;15>=Z;Z++)Q.bl_count[Z]=0;ma[2*Q.heap[Q.heap_max]+1]=0;for(ja=Q.heap_max+1;573>ja;ja++){var Ca=Q.heap[ja];Z=ma[2*ma[2*Ca+1]+1]+1;Z>T&&(Z=T,ra++);ma[2*Ca+1]=Z;if(!(Ca>fb)){Q.bl_count[Z]++;var Ra=0;Ca>=ab&&(Ra=ya[Ca-ab]);var xb=ma[2*Ca];Q.opt_len+=xb*(Z+Ra);qa&&(Q.static_len+=xb*(ua[2*Ca+1]+Ra))}}if(0!==ra){do{for(Z=T-1;0===Q.bl_count[Z];)Z--;Q.bl_count[Z]--;Q.bl_count[Z+1]+=
2;Q.bl_count[T]--;ra-=2}while(0<ra);for(Z=T;0!==Z;Z--)for(Ca=Q.bl_count[Z];0!==Ca;)ua=Q.heap[--ja],ua>fb||(ma[2*ua+1]!==Z&&(Q.opt_len+=(Z-ma[2*ua+1])*ma[2*ua],ma[2*ua+1]=Z),Ca--)}a(ca,Oa,Q.bl_count)}function n(Q,ja,ca){var ua,qa=-1,ya=ja[1],ma=0,Oa=7,fb=4;0===ya&&(Oa=138,fb=3);ja[2*(ca+1)+1]=65535;for(ua=0;ua<=ca;ua++){var ab=ya;ya=ja[2*(ua+1)+1];++ma<Oa&&ab===ya||(ma<fb?Q.bl_tree[2*ab]+=ma:0!==ab?(ab!==qa&&Q.bl_tree[2*ab]++,Q.bl_tree[32]++):10>=ma?Q.bl_tree[34]++:Q.bl_tree[36]++,ma=0,qa=ab,0===ya?
(Oa=138,fb=3):ab===ya?(Oa=6,fb=3):(Oa=7,fb=4))}}function e(Q,ja,ca){var ua,qa=-1,ya=ja[1],ma=0,Oa=7,fb=4;0===ya&&(Oa=138,fb=3);for(ua=0;ua<=ca;ua++){var ab=ya;ya=ja[2*(ua+1)+1];if(!(++ma<Oa&&ab===ya)){if(ma<fb){do d(Q,ab,Q.bl_tree);while(0!==--ma)}else 0!==ab?(ab!==qa&&(d(Q,ab,Q.bl_tree),ma--),d(Q,16,Q.bl_tree),b(Q,ma-3,2)):10>=ma?(d(Q,17,Q.bl_tree),b(Q,ma-3,3)):(d(Q,18,Q.bl_tree),b(Q,ma-11,7));ma=0;qa=ab;0===ya?(Oa=138,fb=3):ab===ya?(Oa=6,fb=3):(Oa=7,fb=4)}}}function p(Q){var ja=4093624447,ca;for(ca=
0;31>=ca;ca++,ja>>>=1)if(ja&1&&0!==Q.dyn_ltree[2*ca])return 0;if(0!==Q.dyn_ltree[18]||0!==Q.dyn_ltree[20]||0!==Q.dyn_ltree[26])return 1;for(ca=32;256>ca;ca++)if(0!==Q.dyn_ltree[2*ca])return 1;return 0}function u(Q,ja,ca,ua){b(Q,ua?1:0,3);q(Q);E(Q,ca);E(Q,~ca);B.arraySet(Q.pending_buf,Q.window,ja,ca,Q.pending);Q.pending+=ca}var B=g("../utils/common"),C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=Array(576);y(z);var G=Array(60);y(G);var H=Array(512);y(H);var N=Array(256);y(N);var J=Array(29);y(J);var R=Array(30);y(R);var fa,Y,sa,ka=!1;D._tr_init=function(Q){if(!ka){var ja,ca,ua,qa=Array(16);for(ua=ca=0;28>ua;ua++)for(J[ua]=ca,ja=0;ja<1<<C[ua];ja++)N[ca++]=ua;N[ca-1]=ua;for(ua=ca=0;16>ua;ua++)for(R[ua]=ca,ja=0;ja<1<<A[ua];ja++)H[ca++]=ua;for(ca>>=7;30>ua;ua++)for(R[ua]=ca<<7,ja=0;ja<1<<A[ua]-7;ja++)H[256+ca++]=
ua;for(ja=0;15>=ja;ja++)qa[ja]=0;for(ja=0;143>=ja;)z[2*ja+1]=8,ja++,qa[8]++;for(;255>=ja;)z[2*ja+1]=9,ja++,qa[9]++;for(;279>=ja;)z[2*ja+1]=7,ja++,qa[7]++;for(;287>=ja;)z[2*ja+1]=8,ja++,qa[8]++;a(z,287,qa);for(ja=0;30>ja;ja++)G[2*ja+1]=5,G[2*ja]=w(ja,5);fa=new k(z,C,257,286,15);Y=new k(G,A,0,30,15);sa=new k([],I,0,19,7);ka=!0}Q.l_desc=new v(Q.dyn_ltree,fa);Q.d_desc=new v(Q.dyn_dtree,Y);Q.bl_desc=new v(Q.bl_tree,sa);Q.bi_buf=0;Q.bi_valid=0;m(Q)};D._tr_stored_block=u;D._tr_flush_block=function(Q,ja,
ca,ua){var qa=0;if(0<Q.level){2===Q.strm.data_type&&(Q.strm.data_type=p(Q));f(Q,Q.l_desc);f(Q,Q.d_desc);n(Q,Q.dyn_ltree,Q.l_desc.max_code);n(Q,Q.dyn_dtree,Q.d_desc.max_code);f(Q,Q.bl_desc);for(qa=18;3<=qa&&0===Q.bl_tree[2*O[qa]+1];qa--);Q.opt_len+=3*(qa+1)+14;var ya=Q.opt_len+3+7>>>3;var ma=Q.static_len+3+7>>>3;ma<=ya&&(ya=ma)}else ya=ma=ca+5;if(ca+4<=ya&&-1!==ja)u(Q,ja,ca,ua);else if(4===Q.strategy||ma===ya)b(Q,2+(ua?1:0),3),c(Q,z,G);else{b(Q,4+(ua?1:0),3);ja=Q.l_desc.max_code+1;ca=Q.d_desc.max_code+
1;qa+=1;b(Q,ja-257,5);b(Q,ca-1,5);b(Q,qa-4,4);for(ya=0;ya<qa;ya++)b(Q,Q.bl_tree[2*O[ya]+1],3);e(Q,Q.dyn_ltree,ja-1);e(Q,Q.dyn_dtree,ca-1);c(Q,Q.dyn_ltree,Q.dyn_dtree)}m(Q);ua&&q(Q)};D._tr_tally=function(Q,ja,ca){Q.pending_buf[Q.d_buf+2*Q.last_lit]=ja>>>8&255;Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=ja&255;Q.pending_buf[Q.l_buf+Q.last_lit]=ca&255;Q.last_lit++;0===ja?Q.dyn_ltree[2*ca]++:(Q.matches++,ja--,Q.dyn_ltree[2*(N[ca]+256+1)]++,Q.dyn_dtree[2*(256>ja?H[ja]:H[256+(ja>>>7)])]++);return Q.last_lit===
Q.lit_bufsize-1};D._tr_align=function(Q){b(Q,2,3);d(Q,256,z);16===Q.bi_valid?(E(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf&255,Q.bi_buf>>=8,Q.bi_valid-=8)}},{"../utils/common":300}],312:[function(g,K,D){K.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],313:[function(g,K,D){(function(y,k){"object"===
typeof D&&"undefined"!==typeof K?K.exports=k():y.PointerEventsPolyfill=k()})(this,function(){function y(T,Z){Z=Z||Object.create(null);var ra=document.createEvent("Event");ra.initEvent(T,Z.bubbles||!1,Z.cancelable||!1);T=2;for(var Ca;T<m.length;T++)Ca=m[T],ra[Ca]=Z[Ca]||q[T];ra.buttons=Z.buttons||0;T=Z.pressure&&ra.buttons?Z.pressure:ra.buttons?.5:0;ra.x=ra.clientX;ra.y=ra.clientY;ra.pointerId=Z.pointerId||0;ra.width=Z.width||0;ra.height=Z.height||0;ra.pressure=T;ra.tiltX=Z.tiltX||0;ra.tiltY=Z.tiltY||
0;ra.twist=Z.twist||0;ra.tangentialPressure=Z.tangentialPressure||0;ra.pointerType=Z.pointerType||"";ra.hwTimestamp=Z.hwTimestamp||0;ra.isPrimary=Z.isPrimary||!1;return ra}function k(){this.array=[];this.size=0}function v(T,Z,ra,Ca){this.addCallback=T.bind(Ca);this.removeCallback=Z.bind(Ca);this.changedCallback=ra.bind(Ca);I&&(this.observer=new I(this.mutationWatcher.bind(this)))}function E(T){return"body /shadow-deep/ "+b(T)}function b(T){return'[touch-action="'+T+'"]'}function d(T){return"{ -ms-touch-action: "+
T+"; touch-action: "+T+"; }"}function w(T){if(!e.pointermap.has(T))throw T=Error("InvalidPointerId"),T.name="InvalidPointerId",T;}function a(T){for(var Z=T.parentNode;Z&&Z!==T.ownerDocument;)Z=Z.parentNode;if(!Z)throw T=Error("InvalidStateError"),T.name="InvalidStateError",T;}var m="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget pageX pageY".split(" "),q=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],r=window.Map&&window.Map.prototype.forEach?
Map:k;k.prototype={set:function(T,Z){if(void 0===Z)return this.delete(T);this.has(T)||this.size++;this.array[T]=Z},has:function(T){return void 0!==this.array[T]},delete:function(T){this.has(T)&&(delete this.array[T],this.size--)},get:function(T){return this.array[T]},clear:function(){this.size=this.array.length=0},forEach:function(T,Z){return this.array.forEach(function(ra,Ca){T.call(Z,ra,Ca,this)},this)}};var h="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget buttons pointerId width height pressure tiltX tiltY pointerType hwTimestamp isPrimary type target currentTarget which pageX pageY timeStamp".split(" "),
c=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],f={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},n="undefined"!==typeof SVGElementInstance,e={pointermap:new r,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(T,Z){var ra=Z.events;ra&&(ra.forEach(function(Ca){Z[Ca]&&(this.eventMap[Ca]=Z[Ca].bind(Z))},this),this.eventSources[T]=Z,this.eventSourceList.push(Z))},
register:function(T){for(var Z=this.eventSourceList.length,ra=0,Ca;ra<Z&&(Ca=this.eventSourceList[ra]);ra++)Ca.register.call(Ca,T)},unregister:function(T){for(var Z=this.eventSourceList.length,ra=0,Ca;ra<Z&&(Ca=this.eventSourceList[ra]);ra++)Ca.unregister.call(Ca,T)},contains:function(T,Z){try{return T.contains(Z)}catch(ra){return!1}},down:function(T){T.bubbles=!0;this.fireEvent("pointerdown",T)},move:function(T){T.bubbles=!0;this.fireEvent("pointermove",T)},up:function(T){T.bubbles=!0;this.fireEvent("pointerup",
T)},enter:function(T){T.bubbles=!1;this.fireEvent("pointerenter",T)},leave:function(T){T.bubbles=!1;this.fireEvent("pointerleave",T)},over:function(T){T.bubbles=!0;this.fireEvent("pointerover",T)},out:function(T){T.bubbles=!0;this.fireEvent("pointerout",T)},cancel:function(T){T.bubbles=!0;this.fireEvent("pointercancel",T)},leaveOut:function(T){this.out(T);this.propagate(T,this.leave,!1)},enterOver:function(T){this.over(T);this.propagate(T,this.enter,!0)},eventHandler:function(T){if(!T._handledByPE){var Z=
T.type;(Z=this.eventMap&&this.eventMap[Z])&&Z(T);T._handledByPE=!0}},listen:function(T,Z){Z.forEach(function(ra){this.addEvent(T,ra)},this)},unlisten:function(T,Z){Z.forEach(function(ra){this.removeEvent(T,ra)},this)},addEvent:function(T,Z){T.addEventListener(Z,this.boundHandler)},removeEvent:function(T,Z){T.removeEventListener(Z,this.boundHandler)},makeEvent:function(T,Z){this.captureInfo[Z.pointerId]&&(Z.relatedTarget=null);T=new y(T,Z);Z.preventDefault&&(T.preventDefault=Z.preventDefault);T._target=
T._target||Z.target;return T},fireEvent:function(T,Z){T=this.makeEvent(T,Z);return this.dispatchEvent(T)},cloneEvent:function(T){for(var Z=Object.create(null),ra,Ca=0;Ca<h.length;Ca++)ra=h[Ca],Z[ra]=T[ra]||c[Ca],n&&("target"===ra||"relatedTarget"===ra)&&Z[ra]instanceof SVGElementInstance&&(Z[ra]=Z[ra].correspondingUseElement);T.preventDefault&&(Z.preventDefault=function(){T.preventDefault()});return Z},getTarget:function(T){var Z=this.captureInfo[T.pointerId];if(!Z)return T._target;if(T._target===
Z||!(T.type in f))return Z},propagate:function(T,Z,ra){for(var Ca=T.target,Ra=[];Ca!==document&&!Ca.contains(T.relatedTarget);)if(Ra.push(Ca),Ca=Ca.parentNode,!Ca)return;ra&&Ra.reverse();Ra.forEach(function(xb){T.target=xb;Z.call(this,T)},this)},setCapture:function(T,Z,ra){this.captureInfo[T]&&this.releaseCapture(T,ra);this.captureInfo[T]=Z;this.implicitRelease=this.releaseCapture.bind(this,T,ra);document.addEventListener("pointerup",this.implicitRelease);document.addEventListener("pointercancel",
this.implicitRelease);var Ca=new y("gotpointercapture");Ca.pointerId=T;Ca._target=Z;ra||this.asyncDispatchEvent(Ca)},releaseCapture:function(T,Z){var ra=this.captureInfo[T];if(ra){this.captureInfo[T]=void 0;document.removeEventListener("pointerup",this.implicitRelease);document.removeEventListener("pointercancel",this.implicitRelease);var Ca=new y("lostpointercapture");Ca.pointerId=T;Ca._target=ra;Z||this.asyncDispatchEvent(Ca)}},dispatchEvent:function(T){var Z=this.getTarget(T);if(Z)return Z.dispatchEvent(T)},
asyncDispatchEvent:function(T){requestAnimationFrame(this.dispatchEvent.bind(this,T))}};e.boundHandler=e.eventHandler.bind(e);var p={shadow:function(T){if(T)return T.shadowRoot||T.webkitShadowRoot},canTarget:function(T){return T&&!!T.elementFromPoint},targetingShadow:function(T){T=this.shadow(T);if(this.canTarget(T))return T},olderShadow:function(T){var Z=T.olderShadowRoot;!Z&&(T=T.querySelector("shadow"))&&(Z=T.olderShadowRoot);return Z},allShadows:function(T){var Z=[];for(T=this.shadow(T);T;)Z.push(T),
T=this.olderShadow(T);return Z},searchRoot:function(T,Z,ra){if(T){var Ca=T.elementFromPoint(Z,ra),Ra;for(Ra=this.targetingShadow(Ca);Ra;){if(T=Ra.elementFromPoint(Z,ra))return Ca=this.targetingShadow(T),this.searchRoot(Ca,Z,ra)||T;Ra=this.olderShadow(Ra)}return Ca}},owner:function(T){for(;T.parentNode;)T=T.parentNode;T.nodeType!==Node.DOCUMENT_NODE&&T.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(T=document);return T},findTarget:function(T){var Z=T.clientX,ra=T.clientY;T=this.owner(T.target);T.elementFromPoint(Z,
ra)||(T=document);return this.searchRoot(T,Z,ra)}},u=Array.prototype.forEach.call.bind(Array.prototype.forEach),B=Array.prototype.map.call.bind(Array.prototype.map),C=Array.prototype.slice.call.bind(Array.prototype.slice),A=Array.prototype.filter.call.bind(Array.prototype.filter),I=window.MutationObserver||window.WebKitMutationObserver,O={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};v.prototype={watchSubtree:function(T){this.observer&&p.canTarget(T)&&
this.observer.observe(T,O)},enableOnSubtree:function(T){this.watchSubtree(T);T===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(T)},installNewSubtree:function(T){u(this.findElements(T),this.addElement,this)},findElements:function(T){return T.querySelectorAll?T.querySelectorAll("[touch-action]"):[]},removeElement:function(T){this.removeCallback(T)},addElement:function(T){this.addCallback(T)},elementChanged:function(T,Z){this.changedCallback(T,Z)},concatLists:function(T,
Z){return T.concat(C(Z))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(T){return T.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(T){var Z=B(T,this.findElements,this);Z.push(A(T,this.isElement));return Z.reduce(this.concatLists,[])},mutationWatcher:function(T){T.forEach(this.mutationHandler,this)},mutationHandler:function(T){"childList"===T.type?(this.flattenMutationTree(T.addedNodes).forEach(this.addElement,
this),this.flattenMutationTree(T.removedNodes).forEach(this.removeElement,this)):"attributes"===T.type&&this.elementChanged(T.target,T.oldValue)}};var z=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],G="",H=window.PointerEvent||window.MSPointerEvent,N=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,J=e.pointermap,R=[1,4,2,8,16],fa=!1;try{fa=1===(new MouseEvent("test",{buttons:1})).buttons}catch(T){}var Y={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown",
"mousemove","mouseup","mouseover","mouseout"],register:function(T){e.listen(T,this.events)},unregister:function(T){e.unlisten(T,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(T){var Z=this.lastTouches,ra=T.clientX;T=T.clientY;for(var Ca=0,Ra=Z.length,xb;Ca<Ra&&(xb=Z[Ca]);Ca++){var Ib=Math.abs(T-xb.y);if(25>=Math.abs(ra-xb.x)&&25>=Ib)return!0}},prepareEvent:function(T){var Z=e.cloneEvent(T),ra=Z.preventDefault;Z.preventDefault=function(){T.preventDefault();ra()};Z.pointerId=this.POINTER_ID;
Z.isPrimary=!0;Z.pointerType=this.POINTER_TYPE;return Z},prepareButtonsForMove:function(T,Z){var ra=J.get(this.POINTER_ID);T.buttons=0!==Z.which&&ra?ra.buttons:0;Z.buttons=T.buttons},mousedown:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=J.get(this.POINTER_ID),ra=this.prepareEvent(T);fa||(ra.buttons=R[ra.button],Z&&(ra.buttons|=Z.buttons),T.buttons=ra.buttons);J.set(this.POINTER_ID,T);Z&&0!==Z.buttons?e.move(ra):e.down(ra)}},mousemove:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=
this.prepareEvent(T);fa||this.prepareButtonsForMove(Z,T);Z.button=-1;J.set(this.POINTER_ID,T);e.move(Z)}},mouseup:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=J.get(this.POINTER_ID),ra=this.prepareEvent(T);if(!fa){var Ca=R[ra.button];ra.buttons=Z?Z.buttons&~Ca:0;T.buttons=ra.buttons}J.set(this.POINTER_ID,T);ra.buttons&=~R[ra.button];0===ra.buttons?e.up(ra):e.move(ra)}},mouseover:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=this.prepareEvent(T);fa||this.prepareButtonsForMove(Z,
T);Z.button=-1;J.set(this.POINTER_ID,T);e.enterOver(Z)}},mouseout:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=this.prepareEvent(T);fa||this.prepareButtonsForMove(Z,T);Z.button=-1;e.leaveOut(Z)}},cancel:function(T){T=this.prepareEvent(T);e.cancel(T);this.deactivateMouse()},deactivateMouse:function(){J.delete(this.POINTER_ID)}},sa=e.captureInfo,ka=p.findTarget.bind(p),Q=p.allShadows.bind(p),ja=e.pointermap,ca={events:["touchstart","touchmove","touchend","touchcancel"],register:function(T){ua.enableOnSubtree(T)},
unregister:function(){},elementAdded:function(T){var Z=T.getAttribute("touch-action"),ra=this.touchActionToScrollType(Z);ra&&(T._scrollType=ra,e.listen(T,this.events),Q(T).forEach(function(Ca){Ca._scrollType=ra;e.listen(Ca,this.events)},this))},elementRemoved:function(T){T._scrollType=void 0;e.unlisten(T,this.events);Q(T).forEach(function(Z){Z._scrollType=void 0;e.unlisten(Z,this.events)},this)},elementChanged:function(T,Z){var ra=T.getAttribute("touch-action"),Ca=this.touchActionToScrollType(ra);
Z=this.touchActionToScrollType(Z);Ca&&Z?(T._scrollType=Ca,Q(T).forEach(function(Ra){Ra._scrollType=Ca},this)):Z?this.elementRemoved(T):Ca&&this.elementAdded(T)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(T){var Z=this.scrollTypes;if("none"===T)return"none";if(T===Z.XSCROLLER)return"X";if(T===Z.YSCROLLER)return"Y";if(Z.SCROLLER.exec(T))return"XY"},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(T){return this.firstTouch===
T.identifier},setPrimaryTouch:function(T){if(0===ja.size||1===ja.size&&ja.has(1))this.firstTouch=T.identifier,this.firstXY={X:T.clientX,Y:T.clientY},this.scrolling=!1,this.cancelResetClickCount()},removePrimaryPointer:function(T){T.isPrimary&&(this.firstXY=this.firstTouch=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var T=function(){this.clickCount=0;this.resetId=null}.bind(this);this.resetId=setTimeout(T,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},
typeToButtons:function(T){var Z=0;if("touchstart"===T||"touchmove"===T)Z=1;return Z},touchToPointer:function(T){var Z=this.currentTouchEvent,ra=e.cloneEvent(T),Ca=ra.pointerId=T.identifier+2;ra.target=sa[Ca]||ka(ra);ra.bubbles=!0;ra.cancelable=!0;ra.detail=this.clickCount;ra.button=0;ra.buttons=this.typeToButtons(Z.type);ra.width=2*(T.radiusX||T.webkitRadiusX||0);ra.height=2*(T.radiusY||T.webkitRadiusY||0);ra.pressure=T.force||T.webkitForce||.5;ra.isPrimary=this.isPrimaryTouch(T);ra.pointerType=this.POINTER_TYPE;
ra.altKey=Z.altKey;ra.ctrlKey=Z.ctrlKey;ra.metaKey=Z.metaKey;ra.shiftKey=Z.shiftKey;var Ra=this;ra.preventDefault=function(){Ra.scrolling=!1;Ra.firstXY=null;Z.preventDefault()};return ra},processTouches:function(T,Z){var ra=T.changedTouches;this.currentTouchEvent=T;T=0;for(var Ca;T<ra.length;T++)Ca=ra[T],Z.call(this,this.touchToPointer(Ca))},shouldScroll:function(T){if(this.firstXY){var Z=T.currentTarget._scrollType;if("none"===Z)Z=!1;else if("XY"===Z)Z=!0;else{T=T.changedTouches[0];var ra="Y"===
Z?"X":"Y";Z=Math.abs(T["client"+Z]-this.firstXY[Z])>=Math.abs(T["client"+ra]-this.firstXY[ra])}this.firstXY=null;return Z}},findTouch:function(T,Z){for(var ra=0,Ca=T.length,Ra;ra<Ca&&(Ra=T[ra]);ra++)if(Ra.identifier===Z)return!0},vacuumTouches:function(T){var Z=T.touches;if(ja.size>=Z.length){var ra=[];ja.forEach(function(Ca,Ra){1===Ra||this.findTouch(Z,Ra-2)||ra.push(Ca.out)},this);ra.forEach(this.cancelOut,this)}},touchstart:function(T){this.vacuumTouches(T);this.setPrimaryTouch(T.changedTouches[0]);
this.dedupSynthMouse(T);this.scrolling||(this.clickCount++,this.processTouches(T,this.overDown))},overDown:function(T){ja.set(T.pointerId,{target:T.target,out:T,outTarget:T.target});e.enterOver(T);e.down(T)},touchmove:function(T){this.scrolling||(this.shouldScroll(T)?(this.scrolling=!0,this.touchcancel(T)):(T.preventDefault(),this.processTouches(T,this.moveOverOut)))},moveOverOut:function(T){var Z=ja.get(T.pointerId);if(Z){var ra=Z.out,Ca=Z.outTarget;e.move(T);ra&&Ca!==T.target&&(ra.relatedTarget=
T.target,T.relatedTarget=Ca,ra.target=Ca,T.target?(e.leaveOut(ra),e.enterOver(T)):(T.target=Ca,T.relatedTarget=null,this.cancelOut(T)));Z.out=T;Z.outTarget=T.target}},touchend:function(T){this.dedupSynthMouse(T);this.processTouches(T,this.upOut)},upOut:function(T){this.scrolling||(e.up(T),e.leaveOut(T));this.cleanUpPointer(T)},touchcancel:function(T){this.processTouches(T,this.cancelOut)},cancelOut:function(T){e.cancel(T);e.leaveOut(T);this.cleanUpPointer(T)},cleanUpPointer:function(T){ja.delete(T.pointerId);
this.removePrimaryPointer(T)},dedupSynthMouse:function(T){var Z=Y.lastTouches;T=T.changedTouches[0];this.isPrimaryTouch(T)&&(T={x:T.clientX,y:T.clientY},Z.push(T),Z=function(ra,Ca){Ca=ra.indexOf(Ca);-1<Ca&&ra.splice(Ca,1)}.bind(null,Z,T),setTimeout(Z,2500))}};var ua=new v(ca.elementAdded,ca.elementRemoved,ca.elementChanged,ca);var qa=e.pointermap,ya=window.MSPointerEvent&&"number"===typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,ma={events:"MSPointerDown MSPointerMove MSPointerUp MSPointerOut MSPointerOver MSPointerCancel MSGotPointerCapture MSLostPointerCapture".split(" "),
register:function(T){e.listen(T,this.events)},unregister:function(T){e.unlisten(T,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(T){var Z=T;ya&&(Z=e.cloneEvent(T),Z.pointerType=this.POINTER_TYPES[T.pointerType]);return Z},cleanup:function(T){qa.delete(T)},MSPointerDown:function(T){qa.set(T.pointerId,T);T=this.prepareEvent(T);e.down(T)},MSPointerMove:function(T){T=this.prepareEvent(T);e.move(T)},MSPointerUp:function(T){var Z=this.prepareEvent(T);e.up(Z);
this.cleanup(T.pointerId)},MSPointerOut:function(T){T=this.prepareEvent(T);e.leaveOut(T)},MSPointerOver:function(T){T=this.prepareEvent(T);e.enterOver(T)},MSPointerCancel:function(T){var Z=this.prepareEvent(T);e.cancel(Z);this.cleanup(T.pointerId)},MSLostPointerCapture:function(T){T=e.makeEvent("lostpointercapture",T);e.dispatchEvent(T)},MSGotPointerCapture:function(T){T=e.makeEvent("gotpointercapture",T);e.dispatchEvent(T)}};if(window.navigator.msPointerEnabled){var Oa=function(T){w(T);a(this);0!==
e.pointermap.get(T).buttons&&(e.setCapture(T,this,!0),this.msSetPointerCapture(T))};var fb=function(T){w(T);e.releaseCapture(T,!0);this.msReleasePointerCapture(T)}}else Oa=function(T){w(T);a(this);0!==e.pointermap.get(T).buttons&&e.setCapture(T,this)},fb=function(T){w(T);e.releaseCapture(T)};var ab=function(T){return!!e.captureInfo[T]};(function(){if(H){z.forEach(function(Z){String(Z)===Z?(G+=b(Z)+d(Z)+"\n",N&&(G+=E(Z)+d(Z)+"\n")):(G+=Z.selectors.map(b)+d(Z.rule)+"\n",N&&(G+=Z.selectors.map(E)+d(Z.rule)+
"\n"))});var T=document.createElement("style");T.textContent=G;document.head.appendChild(T)}})();window.PointerEvent||(window.PointerEvent=y,window.navigator.msPointerEnabled?(Object.defineProperty(window.navigator,"maxTouchPoints",{value:window.navigator.msMaxTouchPoints,enumerable:!0}),e.registerSource("ms",ma)):(Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),e.registerSource("mouse",Y),void 0!==window.ontouchstart&&e.registerSource("touch",ca)),e.register(document));
window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:Oa},releasePointerCapture:{value:fb},hasPointerCapture:{value:ab}});return{dispatcher:e,Installer:v,PointerEvent:y,PointerMap:r,targetFinding:p}})},{}],314:[function(g,K,D){(function(y){function k(){}function v(a,m){for(var q=a.length;q--;)if(a[q].listener===m)return q;return-1}function E(a){return function(){return this[a].apply(this,arguments)}}function b(a){return"function"===
typeof a||a instanceof RegExp?!0:a&&"object"===typeof a?b(a.listener):!1}var d=k.prototype,w=y.EventEmitter;d.getListeners=function(a){var m=this._getEvents(),q;if(a instanceof RegExp){var r={};for(q in m)m.hasOwnProperty(q)&&a.test(q)&&(r[q]=m[q])}else r=m[a]||(m[a]=[]);return r};d.flattenListeners=function(a){var m=[],q;for(q=0;q<a.length;q+=1)m.push(a[q].listener);return m};d.getListenersAsObject=function(a){var m=this.getListeners(a);if(m instanceof Array){var q={};q[a]=m}return q||m};d.addListener=
function(a,m){if(!b(m))throw new TypeError("listener must be a function");a=this.getListenersAsObject(a);var q="object"===typeof m,r;for(r in a)a.hasOwnProperty(r)&&-1===v(a[r],m)&&a[r].push(q?m:{listener:m,once:!1});return this};d.on=E("addListener");d.addOnceListener=function(a,m){return this.addListener(a,{listener:m,once:!0})};d.once=E("addOnceListener");d.defineEvent=function(a){this.getListeners(a);return this};d.defineEvents=function(a){for(var m=0;m<a.length;m+=1)this.defineEvent(a[m]);return this};
d.removeListener=function(a,m){a=this.getListenersAsObject(a);var q;for(q in a)if(a.hasOwnProperty(q)){var r=v(a[q],m);-1!==r&&a[q].splice(r,1)}return this};d.off=E("removeListener");d.addListeners=function(a,m){return this.manipulateListeners(!1,a,m)};d.removeListeners=function(a,m){return this.manipulateListeners(!0,a,m)};d.manipulateListeners=function(a,m,q){var r,h,c=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!==typeof m||m instanceof RegExp)for(r=
q.length;r--;)c.call(this,m,q[r]);else for(r in m)m.hasOwnProperty(r)&&(h=m[r])&&("function"===typeof h?c.call(this,r,h):a.call(this,r,h));return this};d.removeEvent=function(a){var m=typeof a,q=this._getEvents(),r;if("string"===m)delete q[a];else if(a instanceof RegExp)for(r in q)q.hasOwnProperty(r)&&a.test(r)&&delete q[r];else delete this._events;return this};d.removeAllListeners=E("removeEvent");d.emitEvent=function(a,m){var q=this.getListenersAsObject(a),r,h;for(h in q)if(q.hasOwnProperty(h)){var c=
q[h].slice(0);for(r=0;r<c.length;r++){var f=c[r];!0===f.once&&this.removeListener(a,f.listener);var n=f.listener.apply(this,m||[]);n===this._getOnceReturnValue()&&this.removeListener(a,f.listener)}}return this};d.trigger=E("emitEvent");d.emit=function(a){var m=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,m)};d.setOnceReturnValue=function(a){this._onceReturnValue=a;return this};d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:
!0};d._getEvents=function(){return this._events||(this._events={})};k.noConflict=function(){y.EventEmitter=w;return k};"object"===typeof K&&K.exports?K.exports=k:y.EventEmitter=k})("undefined"!==typeof window?window:this||{})},{}]},{},[1])(1)});
