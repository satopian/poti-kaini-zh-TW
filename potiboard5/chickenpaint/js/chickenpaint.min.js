/*
    ChickenPaint Be
    https://github.com/satopian/ChickenPaint_Be
    by satopian
    Customized from ChickenPaint by Nicholas Sherlock.
    GNU GENERAL PUBLIC LICENSE
    Version 3, 29 June 2007
    <http://www.gnu.org/licenses/>
*/
/*
    ChickenPaint

    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.

    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/
/*
 Bootstrap v5.3.0 (https://getbootstrap.com/)
 Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 jQuery throttle / debounce - v1.1 - 3/7/2010
 http://benalman.com/projects/jquery-throttle-debounce-plugin/

 Copyright (c) 2010 "Cowboy" Ben Alman
 Dual licensed under the MIT and GPL licenses.
 http://benalman.com/about/license/
 jQuery JavaScript Library v3.7.1
 https://jquery.com/

 Copyright OpenJS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2023-08-28T13:37Z
 PEP v0.4.3 | https://github.com/jquery/PEP
 Copyright jQuery Foundation and other contributors | http://jquery.org/license
 EventEmitter v5.2.9 - git.io/ee
 Unlicense - http://unlicense.org/
 Oliver Caldwell - https://oli.me.uk/
 @preserve
*/
!function(g,K){"object"==typeof exports&&"undefined"!=typeof module?module.exports=K():"function"==typeof define&&define.amd?define(K):(g="undefined"!=typeof globalThis?globalThis:g||self).bootstrap=K()}(this,function(){function g(t,M){return M&&`${M}::${zb++}`||t.uidEvent||zb++}function K(t){const M=g(t);return t.uidEvent=M,mb[M]=mb[M]||{},mb[M]}function D(t,M,W=null){return Object.values(t).find(oa=>oa.callable===M&&oa.delegationSelector===W)}function y(t,M,W){const oa="string"==typeof M;M=oa?W:
M||W;W=E(t);return Sa.has(W)||(W=t),[oa,M,W]}function k(t,M,W,oa,m){if("string"==typeof M&&t){var [x,F,L]=y(M,W,oa);M in Qa&&(F=(V=>function(X){if(!X.relatedTarget||X.relatedTarget!==X.delegateTarget&&!X.delegateTarget.contains(X.relatedTarget))return V.call(this,X)})(F));oa=K(t);oa=oa[L]||(oa[L]={});var S=D(oa,F,x?W:null);if(S)return void(S.oneOff=S.oneOff&&m);M=g(F,M.replace(Fa,""));S=x?function(V,X,la){return function Ea(ea){const La=V.querySelectorAll(X);for(let {target:Ta}=ea;Ta&&Ta!==this;Ta=
Ta.parentNode)for(const gb of La)if(gb===Ta)return b(ea,{delegateTarget:Ta}),Ea.oneOff&&Ja.off(V,ea.type,X,la),la.apply(Ta,[ea])}}(t,W,F):function(V,X){return function ea(da){return b(da,{delegateTarget:V}),ea.oneOff&&Ja.off(V,da.type,X),X.apply(V,[da])}}(t,F);S.delegationSelector=x?W:null;S.callable=F;S.oneOff=m;S.uidEvent=M;oa[M]=S;t.addEventListener(L,S,x)}}function u(t,M,W,oa,m){(oa=D(M[W],oa,m))&&(t.removeEventListener(W,oa,!!m),delete M[W][oa.uidEvent])}function E(t){return t=t.replace(Na,""),
Qa[t]||t}function b(t,M={}){for(const [W,oa]of Object.entries(M))try{t[W]=oa}catch(m){Object.defineProperty(t,W,{configurable:!0,get:()=>oa})}return t}function d(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(M){return t}}function w(t){return t.replace(/[A-Z]/g,M=>`-${M.toLowerCase()}`)}function a(t){return t?(t.nodeName||"").toLowerCase():
null}function l(t){return null==t?window:"[object Window]"!==t.toString()?(t=t.ownerDocument)&&t.defaultView||window:t}function r(t){return t instanceof l(t).Element||t instanceof Element}function q(t){return t instanceof l(t).HTMLElement||t instanceof HTMLElement}function h(t){return"undefined"!=typeof ShadowRoot&&(t instanceof l(t).ShadowRoot||t instanceof ShadowRoot)}function c(t){return t.split("-")[0]}function f(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?
t.brands.map(function(M){return M.brand+"/"+M.version}).join(" "):navigator.userAgent}function p(){return!/^((?!chrome|android).)*safari/i.test(f())}function e(t,M,W){void 0===M&&(M=!1);void 0===W&&(W=!1);var oa=t.getBoundingClientRect(),m=1,x=1;M&&q(t)&&(m=0<t.offsetWidth&&kb(oa.width)/t.offsetWidth||1,x=0<t.offsetHeight&&kb(oa.height)/t.offsetHeight||1);t=(r(t)?l(t):window).visualViewport;M=!p()&&W;W=(oa.left+(M&&t?t.offsetLeft:0))/m;t=(oa.top+(M&&t?t.offsetTop:0))/x;m=oa.width/m;oa=oa.height/x;
return{width:m,height:oa,top:t,right:W+m,bottom:t+oa,left:W,x:W,y:t}}function n(t){var M=e(t),W=t.offsetWidth,oa=t.offsetHeight;return 1>=Math.abs(M.width-W)&&(W=M.width),1>=Math.abs(M.height-oa)&&(oa=M.height),{x:t.offsetLeft,y:t.offsetTop,width:W,height:oa}}function v(t,M){var W=M.getRootNode&&M.getRootNode();if(t.contains(M))return!0;if(W&&h(W)){do{if(M&&t.isSameNode(M))return!0;M=M.parentNode||M.host}while(M)}return!1}function A(t){return l(t).getComputedStyle(t)}function C(t){return((r(t)?t.ownerDocument:
t.document)||window.document).documentElement}function B(t){return"html"===a(t)?t:t.assignedSlot||t.parentNode||(h(t)?t.host:null)||C(t)}function I(t){return q(t)&&"fixed"!==A(t).position?t.offsetParent:null}function O(t){for(var M=l(t),W=I(t);W&&0<=["table","td","th"].indexOf(a(W))&&"static"===A(W).position;)W=I(W);if(!W||"html"!==a(W)&&("body"!==a(W)||"static"!==A(W).position)){if(!W)a:{W=/firefox/i.test(f());if(!/Trident/i.test(f())||!q(t)||"fixed"!==A(t).position)for(t=B(t),h(t)&&(t=t.host);q(t)&&
0>["html","body"].indexOf(a(t));){var oa=A(t);if("none"!==oa.transform||"none"!==oa.perspective||"paint"===oa.contain||-1!==["transform","perspective"].indexOf(oa.willChange)||W&&"filter"===oa.willChange||W&&oa.filter&&"none"!==oa.filter){W=t;break a}t=t.parentNode}W=null}M=W||M}return M}function z(t){return 0<=["top","bottom"].indexOf(t)?"x":"y"}function G(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function H(t,M){return M.reduce(function(W,oa){return W[oa]=t,W},{})}function N(t){return t.split("-")[1]}
function J(t){var M,W=t.popper,oa=t.popperRect,m=t.placement,x=t.variation,F=t.offsets,L=t.position,S=t.gpuAcceleration,V=t.adaptive,X=t.roundOffsets,la=t.isFixed;t=F.x;t=void 0===t?0:t;var da=F.y;da=void 0===da?0:da;da="function"==typeof X?X({x:t,y:da}):{x:t,y:da};t=da.x;da=da.y;var ea=F.hasOwnProperty("x");F=F.hasOwnProperty("y");var Ea="left",La="top",Ta=window;if(V){var gb=O(W),hb="clientHeight",Cb="clientWidth";gb===l(W)&&"static"!==A(gb=C(W)).position&&"absolute"===L&&(hb="scrollHeight",Cb=
"scrollWidth");("top"===m||("left"===m||"right"===m)&&"end"===x)&&(La="bottom",da-=(la&&gb===Ta&&Ta.visualViewport?Ta.visualViewport.height:gb[hb])-oa.height,da*=S?1:-1);"left"!==m&&("top"!==m&&"bottom"!==m||"end"!==x)||(Ea="right",t-=(la&&gb===Ta&&Ta.visualViewport?Ta.visualViewport.width:gb[Cb])-oa.width,t*=S?1:-1)}var Db;oa=Object.assign({position:L},V&&vc);!0===X?(X=t,m=da,W=l(W).devicePixelRatio||1,W={x:kb(X*W)/W||0,y:kb(m*W)/W||0}):W={x:t,y:da};return t=W.x,da=W.y,S?Object.assign({},oa,((Db=
{})[La]=F?"0":"",Db[Ea]=ea?"0":"",Db.transform=1>=(Ta.devicePixelRatio||1)?"translate("+t+"px, "+da+"px)":"translate3d("+t+"px, "+da+"px, 0)",Db)):Object.assign({},oa,((M={})[La]=F?da+"px":"",M[Ea]=ea?t+"px":"",M.transform="",M))}function R(t){return t.replace(/left|right|bottom|top/g,function(M){return fc[M]})}function fa(t){return t.replace(/start|end/g,function(M){return nc[M]})}function Y(t){t=l(t);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function qa(t){return e(C(t)).left+Y(t).scrollLeft}
function ka(t){t=A(t);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function Q(t){return 0<=["html","body","#document"].indexOf(a(t))?t.ownerDocument.body:q(t)&&ka(t)?t:Q(B(t))}function aa(t,M){var W;void 0===M&&(M=[]);var oa=Q(t);t=oa===(null==(W=t.ownerDocument)?void 0:W.body);W=l(oa);oa=t?[W].concat(W.visualViewport||[],ka(oa)?oa:[]):oa;M=M.concat(oa);return t?M:M.concat(aa(B(oa)))}function ha(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+
t.height})}function ra(t,M,W){return"viewport"===M?ha(function(oa,m){var x=l(oa),F=C(oa);x=x.visualViewport;var L=F.clientWidth;F=F.clientHeight;var S=0,V=0;if(x){L=x.width;F=x.height;var X=p();(X||!X&&"fixed"===m)&&(S=x.offsetLeft,V=x.offsetTop)}return{width:L,height:F,x:S+qa(oa),y:V}}(t,W)):r(M)?function(oa,m){m=e(oa,!1,"fixed"===m);return m.top+=oa.clientTop,m.left+=oa.clientLeft,m.bottom=m.top+oa.clientHeight,m.right=m.left+oa.clientWidth,m.width=oa.clientWidth,m.height=oa.clientHeight,m.x=m.left,
m.y=m.top,m}(M,W):ha(function(oa){var m,x=C(oa),F=Y(oa),L=null==(m=oa.ownerDocument)?void 0:m.body;m=qb(x.scrollWidth,x.clientWidth,L?L.scrollWidth:0,L?L.clientWidth:0);var S=qb(x.scrollHeight,x.clientHeight,L?L.scrollHeight:0,L?L.clientHeight:0);oa=-F.scrollLeft+qa(oa);F=-F.scrollTop;return"rtl"===A(L||x).direction&&(oa+=qb(x.clientWidth,L?L.clientWidth:0)-m),{width:m,height:S,x:oa,y:F}}(C(t)))}function ta(t){var M=t.reference,W=t.element,oa=(t=t.placement)?c(t):null;t=t?N(t):null;var m=M.x+M.width/
2-W.width/2;var x=M.y+M.height/2-W.height/2;switch(oa){case "top":m={x:m,y:M.y-W.height};break;case "bottom":m={x:m,y:M.y+M.height};break;case "right":m={x:M.x+M.width,y:x};break;case "left":m={x:M.x-W.width,y:x};break;default:m={x:M.x,y:M.y}}oa=oa?z(oa):null;if(null!=oa)switch(x="y"===oa?"height":"width",t){case "start":m[oa]-=M[x]/2-W[x]/2;break;case "end":m[oa]+=M[x]/2-W[x]/2}return m}function xa(t,M){void 0===M&&(M={});var W=M;M=W.placement;M=void 0===M?t.placement:M;var oa=W.strategy,m=void 0===
oa?t.strategy:oa;oa=W.boundary;var x=void 0===oa?"clippingParents":oa;oa=W.rootBoundary;var F=void 0===oa?"viewport":oa;oa=W.elementContext;oa=void 0===oa?"popper":oa;var L=W.altBoundary,S=void 0!==L&&L;W=W.padding;W=void 0===W?0:W;W=G("number"!=typeof W?W:H(W,Gb));L=t.rects.popper;S=t.elements[S?"popper"===oa?"reference":"popper":oa];m=function(la,da,ea,Ea){da="clippingParents"===da?function(La){var Ta=aa(B(La)),gb=0<=["absolute","fixed"].indexOf(A(La).position)&&q(La)?O(La):La;return r(gb)?Ta.filter(function(hb){return r(hb)&&
v(hb,gb)&&"body"!==a(hb)}):[]}(la):[].concat(da);ea=[].concat(da,[ea]);ea=ea.reduce(function(La,Ta){Ta=ra(la,Ta,Ea);return La.top=qb(Ta.top,La.top),La.right=Vb(Ta.right,La.right),La.bottom=Vb(Ta.bottom,La.bottom),La.left=qb(Ta.left,La.left),La},ra(la,ea[0],Ea));return ea.width=ea.right-ea.left,ea.height=ea.bottom-ea.top,ea.x=ea.left,ea.y=ea.top,ea}(r(S)?S:S.contextElement||C(t.elements.popper),x,F,m);x=e(t.elements.reference);F=ta({reference:x,element:L,strategy:"absolute",placement:M});F=ha(Object.assign({},
L,F));x="popper"===oa?F:x;var V={top:m.top-x.top+W.top,bottom:x.bottom-m.bottom+W.bottom,left:m.left-x.left+W.left,right:x.right-m.right+W.right};t=t.modifiersData.offset;if("popper"===oa&&t){var X=t[M];Object.keys(V).forEach(function(la){var da=0<=["right","bottom"].indexOf(la)?1:-1,ea=0<=["top","bottom"].indexOf(la)?"y":"x";V[la]+=X[ea]*da})}return V}function na(t,M){void 0===M&&(M={});var W=M.boundary,oa=M.rootBoundary,m=M.padding,x=M.flipVariations,F=M.allowedAutoPlacements,L=void 0===F?Ob:F,
S=N(M.placement);M=S?x?Sb:Sb.filter(function(X){return N(X)===S}):Gb;x=M.filter(function(X){return 0<=L.indexOf(X)});0===x.length&&(x=M);var V=x.reduce(function(X,la){return X[la]=xa(t,{placement:la,boundary:W,rootBoundary:oa,padding:m})[c(la)],X},{});return Object.keys(V).sort(function(X,la){return V[X]-V[la]})}function Ma(t,M,W){return void 0===W&&(W={x:0,y:0}),{top:t.top-M.height-W.y,right:t.right-M.width+W.x,bottom:t.bottom-M.height+W.y,left:t.left-M.width-W.x}}function jb(t){return["top","right",
"bottom","left"].some(function(M){return 0<=t[M]})}function ab(t,M,W){void 0===W&&(W=!1);var oa=q(M),m;if(m=q(M)){var x=M.getBoundingClientRect();m=kb(x.width)/M.offsetWidth||1;x=kb(x.height)/M.offsetHeight||1;m=1!==m||1!==x}x=m;m=C(M);t=e(t,x,W);x={scrollLeft:0,scrollTop:0};var F={x:0,y:0};return(oa||!oa&&!W)&&(("body"!==a(M)||ka(m))&&(x=M!==l(M)&&q(M)?{scrollLeft:M.scrollLeft,scrollTop:M.scrollTop}:Y(M)),q(M)?((F=e(M,!0)).x+=M.clientLeft,F.y+=M.clientTop):m&&(F.x=qa(m))),{x:t.left+x.scrollLeft-
F.x,y:t.top+x.scrollTop-F.y,width:t.width,height:t.height}}function T(t){function M(x){oa.add(x.name);[].concat(x.requires||[],x.requiresIfExists||[]).forEach(function(F){oa.has(F)||(F=W.get(F))&&M(F)});m.push(x)}var W=new Map,oa=new Set,m=[];return t.forEach(function(x){W.set(x.name,x)}),t.forEach(function(x){oa.has(x.name)||M(x)}),m}function Z(){for(var t=arguments.length,M=Array(t),W=0;W<t;W++)M[W]=arguments[W];return!M.some(function(oa){return!(oa&&"function"==typeof oa.getBoundingClientRect)})}
function pa(t){void 0===t&&(t={});var M=t.defaultModifiers,W=void 0===M?[]:M;t=t.defaultOptions;var oa=void 0===t?Cc:t;return function(m,x,F){function L(){la.forEach(function(Ea){return Ea()});la=[]}void 0===F&&(F=oa);var S,V,X={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cc,oa),modifiersData:{},elements:{reference:m,popper:x},attributes:{},styles:{}},la=[],da=!1,ea={state:X,setOptions:function(Ea){Ea="function"==typeof Ea?Ea(X.options):Ea;L();X.options=Object.assign({},oa,X.options,
Ea);X.scrollParents={reference:r(m)?aa(m):m.contextElement?aa(m.contextElement):[],popper:aa(x)};var La,Ta;Ea=function(gb){var hb=T(gb);return Tb.reduce(function(Cb,Db){return Cb.concat(hb.filter(function($b){return $b.phase===Db}))},[])}((La=[].concat(W,X.options.modifiers),Ta=La.reduce(function(gb,hb){var Cb=gb[hb.name];return gb[hb.name]=Cb?Object.assign({},Cb,hb,{options:Object.assign({},Cb.options,hb.options),data:Object.assign({},Cb.data,hb.data)}):hb,gb},{}),Object.keys(Ta).map(function(gb){return Ta[gb]})));
return X.orderedModifiers=Ea.filter(function(gb){return gb.enabled}),X.orderedModifiers.forEach(function(gb){var hb=gb.name,Cb=gb.options;Cb=void 0===Cb?{}:Cb;gb=gb.effect;"function"==typeof gb&&(hb=gb({state:X,name:hb,instance:ea,options:Cb}),la.push(hb||function(){}))}),ea.update()},forceUpdate:function(){if(!da){var Ea=X.elements,La=Ea.reference;Ea=Ea.popper;if(Z(La,Ea))for(X.rects={reference:ab(La,O(Ea),"fixed"===X.options.strategy),popper:n(Ea)},X.reset=!1,X.placement=X.options.placement,X.orderedModifiers.forEach(function(hb){return X.modifiersData[hb.name]=
Object.assign({},hb.data)}),La=0;La<X.orderedModifiers.length;La++)if(!0!==X.reset){var Ta=X.orderedModifiers[La];Ea=Ta.fn;var gb=Ta.options;gb=void 0===gb?{}:gb;Ta=Ta.name;"function"==typeof Ea&&(X=Ea({state:X,options:gb,name:Ta,instance:ea})||X)}else X.reset=!1,La=-1}},update:(S=function(){return new Promise(function(Ea){ea.forceUpdate();Ea(X)})},function(){return V||=new Promise(function(Ea){Promise.resolve().then(function(){V=void 0;Ea(S())})}),V}),destroy:function(){L();da=!0}};return Z(m,x)?
(ea.setOptions(F).then(function(Ea){!da&&F.onFirstUpdate&&F.onFirstUpdate(Ea)}),ea):ea}}const Ca=new Map,Ra={set(t,M,W){Ca.has(t)||Ca.set(t,new Map);t=Ca.get(t);t.has(M)||0===t.size?t.set(M,W):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(t.keys())[0]}.`)},get:(t,M)=>Ca.has(t)&&Ca.get(t).get(M)||null,remove(t,M){if(Ca.has(t)){var W=Ca.get(t);W.delete(M);0===W.size&&Ca.delete(t)}}},xb=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,
(M,W)=>`#${CSS.escape(W)}`)),t),Va=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),Da=t=>Va(t)?t.jquery?t[0]:t:"string"==typeof t&&0<t.length?document.querySelector(xb(t)):null,ua=t=>{if(!Va(t)||0===t.getClientRects().length)return!1;const M="visible"===getComputedStyle(t).getPropertyValue("visibility"),W=t.closest("details:not([open])");return W?W!==t&&((t=t.closest("summary"))&&t.parentNode!==W||null===t)?!1:M:M},Ga=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||
(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),Ia=t=>document.documentElement.attachShadow?"function"==typeof t.getRootNode?(t=t.getRootNode(),t instanceof ShadowRoot?t:null):t instanceof ShadowRoot?t:t.parentNode?Ia(t.parentNode):null:null,db=()=>{},ub=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,rb=[],Pa=t=>{var M=()=>{const W=ub();if(W){const oa=t.NAME,m=W.fn[oa];W.fn[oa]=t.jQueryInterface;W.fn[oa].Constructor=
t;W.fn[oa].noConflict=()=>(W.fn[oa]=m,t.jQueryInterface)}};"loading"===document.readyState?(rb.length||document.addEventListener("DOMContentLoaded",()=>{for(const W of rb)W()}),rb.push(M)):M()},sa=(t,M=[],W=t)=>"function"==typeof t?t(...M):W,ma=(t,M,W=!0)=>{if(!W)return void sa(t);W=(x=>{if(!x)return 0;let {transitionDuration:F,transitionDelay:L}=window.getComputedStyle(x);x=Number.parseFloat(F);const S=Number.parseFloat(L);return x||S?(F=F.split(",")[0],L=L.split(",")[0],1E3*(Number.parseFloat(F)+
Number.parseFloat(L))):0})(M)+5;let oa=!1;const m=({target:x})=>{x===M&&(oa=!0,M.removeEventListener("transitionend",m),sa(t))};M.addEventListener("transitionend",m);setTimeout(()=>{oa||M.dispatchEvent(new Event("transitionend"))},W)},Aa=(t,M,W,oa)=>{const m=t.length;M=t.indexOf(M);return-1===M?!W&&oa?t[m-1]:t[0]:(M+=W?1:-1,oa&&(M=(M+m)%m),t[Math.max(0,Math.min(M,m-1))])},Fa=/[^.]*(?=\..*)\.|.*/,Na=/\..*/,ib=/::\d+$/,mb={};let zb=1;const Qa={mouseenter:"mouseover",mouseleave:"mouseout"},Sa=new Set("click dblclick mouseup mousedown contextmenu mousewheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange touchstart touchmove touchend touchcancel pointerdown pointermove pointerup pointerleave pointercancel gesturestart gesturechange gestureend focus blur change reset select submit focusin focusout load unload beforeunload resize move DOMContentLoaded readystatechange error abort scroll".split(" ")),
Ja={on(t,M,W,oa){k(t,M,W,oa,!1)},one(t,M,W,oa){k(t,M,W,oa,!0)},off(t,M,W,oa){if("string"==typeof M&&t){var [m,x,F]=y(M,W,oa);oa=F!==M;var L=K(t),S=L[F]||{},V=M.startsWith(".");if(void 0===x){if(V)for(var X of Object.keys(L)){W=t;V=M.slice(1);const la=L[X]||{};for(const [da,ea]of Object.entries(la))da.includes(V)&&u(W,L,X,ea.callable,ea.delegationSelector)}for(const [la,da]of Object.entries(S))X=la.replace(ib,""),oa&&!M.includes(X)||u(t,L,F,da.callable,da.delegationSelector)}else Object.keys(S).length&&
u(t,L,F,x,m?W:null)}},trigger(t,M,W){if("string"!=typeof M||!t)return null;const oa=ub();let m=null,x=!0,F=!0,L=!1;M!==E(M)&&oa&&(m=oa.Event(M,W),oa(t).trigger(m),x=!m.isPropagationStopped(),F=!m.isImmediatePropagationStopped(),L=m.isDefaultPrevented());M=b(new Event(M,{bubbles:x,cancelable:!0}),W);return L&&M.preventDefault(),F&&t.dispatchEvent(M),M.defaultPrevented&&m&&m.preventDefault(),M}},tb={setDataAttribute(t,M,W){t.setAttribute(`data-bs-${w(M)}`,W)},removeDataAttribute(t,M){t.removeAttribute(`data-bs-${w(M)}`)},
getDataAttributes(t){if(!t)return{};const M={};var W=Object.keys(t.dataset).filter(oa=>oa.startsWith("bs")&&!oa.startsWith("bsConfig"));for(const oa of W)W=oa.replace(/^bs/,""),W=W.charAt(0).toLowerCase()+W.slice(1,W.length),M[W]=d(t.dataset[oa]);return M},getDataAttribute:(t,M)=>d(t.getAttribute(`data-bs-${w(M)}`))};class ic{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!');}_getConfig(t){return t=
this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,M){const W=Va(M)?tb.getDataAttribute(M,"config"):{};return{...this.constructor.Default,...("object"==typeof W?W:{}),...(Va(M)?tb.getDataAttributes(M):{}),...("object"==typeof t?t:{})}}_typeCheckConfig(t,M=this.constructor.DefaultType){for(const [oa,m]of Object.entries(M))if(M=t[oa],M=Va(M)?"element":null==(W=M)?`${W}`:Object.prototype.toString.call(W).match(/\s([a-z]+)/i)[1].toLowerCase(),
!(new RegExp(m)).test(M))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${oa}" provided type "${M}" but expected type "${m}".`);var W}}class vb extends ic{constructor(t,M){super();(t=Da(t))&&(this._element=t,this._config=this._getConfig(M),Ra.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ra.remove(this._element,this.constructor.DATA_KEY);Ja.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,
M,W=!0){ma(t,M,W)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Ra.get(Da(t),this.DATA_KEY)}static getOrCreateInstance(t,M={}){return this.getInstance(t)||new this(t,"object"==typeof M?M:null)}static get VERSION(){return"5.3.0"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const P=t=>{let M=t.getAttribute("data-bs-target");
if(!M||"#"===M){t=t.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`);M=t&&"#"!==t?t.trim():null}return xb(M)},nb={find:(t,M=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(M,t)),findOne:(t,M=document.documentElement)=>Element.prototype.querySelector.call(M,t),children:(t,M)=>[].concat(...t.children).filter(W=>W.matches(M)),parents(t,M){const W=[];for(t=t.parentNode.closest(M);t;)W.push(t),
t=t.parentNode.closest(M);return W},prev(t,M){for(t=t.previousElementSibling;t;){if(t.matches(M))return[t];t=t.previousElementSibling}return[]},next(t,M){for(t=t.nextElementSibling;t;){if(t.matches(M))return[t];t=t.nextElementSibling}return[]},focusableChildren(t){const M='a button input textarea select details [tabindex] [contenteditable="true"]'.split(" ").map(W=>`${W}:not([tabindex^="-"])`).join(",");return this.find(M,t).filter(W=>!Ga(W)&&ua(W))},getSelectorFromElement(t){return(t=P(t))&&nb.findOne(t)?
t:null},getElementFromSelector(t){return(t=P(t))?nb.findOne(t):null},getMultipleElementsFromSelector(t){return(t=P(t))?nb.find(t):[]}},qc=(t,M="hide")=>{const W=t.NAME;Ja.on(document,`click.dismiss${t.EVENT_KEY}`,`[data-bs-dismiss="${W}"]`,function(oa){(["A","AREA"].includes(this.tagName)&&oa.preventDefault(),Ga(this))||(oa=nb.getElementFromSelector(this)||this.closest(`.${W}`),t.getOrCreateInstance(oa)[M]())})};class jc extends vb{static get NAME(){return"alert"}close(){if(!Ja.trigger(this._element,
"close.bs.alert").defaultPrevented){this._element.classList.remove("show");var t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}}_destroyElement(){this._element.remove();Ja.trigger(this._element,"closed.bs.alert");this.dispose()}static jQueryInterface(t){return this.each(function(){const M=jc.getOrCreateInstance(this);if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);
M[t](this)}})}}qc(jc,"close");Pa(jc);class Qb extends vb{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const M=Qb.getOrCreateInstance(this);"toggle"===t&&M[t]()})}}Ja.on(document,"click.bs.button.data-api",'[data-bs-toggle="button"]',t=>{t.preventDefault();t=t.target.closest('[data-bs-toggle="button"]');Qb.getOrCreateInstance(t).toggle()});Pa(Qb);const eb={endCallback:null,
leftCallback:null,rightCallback:null},bc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Wa extends ic{constructor(t,M){super();(this._element=t)&&Wa.isSupported()&&(this._config=this._getConfig(M),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return eb}static get DefaultType(){return bc}static get NAME(){return"swipe"}dispose(){Ja.off(this._element,".bs.swipe")}_start(t){this._supportPointerEvents?
this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX);this._handleSwipe();sa(this._config.endCallback)}_move(t){this._deltaX=t.touches&&1<t.touches.length?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){var t=Math.abs(this._deltaX);40>=t||(t/=this._deltaX,this._deltaX=0,t&&sa(0<t?this._config.rightCallback:this._config.leftCallback))}_initEvents(){this._supportPointerEvents?(Ja.on(this._element,
"pointerdown.bs.swipe",t=>this._start(t)),Ja.on(this._element,"pointerup.bs.swipe",t=>this._end(t)),this._element.classList.add("pointer-event")):(Ja.on(this._element,"touchstart.bs.swipe",t=>this._start(t)),Ja.on(this._element,"touchmove.bs.swipe",t=>this._move(t)),Ja.on(this._element,"touchend.bs.swipe",t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||
0<navigator.maxTouchPoints}}const sb={ArrowLeft:"right",ArrowRight:"left"},Ib={interval:5E3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},cc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Mb extends vb{constructor(t,M){super(t,M);this._activeElement=this._interval=null;this._isSliding=!1;this._swipeHelper=this.touchTimeout=null;this._indicatorsElement=nb.findOne(".carousel-indicators",this._element);this._addEventListeners();
"carousel"===this._config.ride&&this.cycle()}static get Default(){return Ib}static get DefaultType(){return cc}static get NAME(){return"carousel"}next(){this._slide("next")}nextWhenVisible(){!document.hidden&&ua(this._element)&&this.next()}prev(){this._slide("prev")}pause(){this._isSliding&&this._element.dispatchEvent(new Event("transitionend"));this._clearInterval()}cycle(){this._clearInterval();this._updateInterval();this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&
(this._isSliding?Ja.one(this._element,"slid.bs.carousel",()=>this.cycle()):this.cycle())}to(t){const M=this._getItems();if(!(t>M.length-1||0>t)){if(this._isSliding)return void Ja.one(this._element,"slid.bs.carousel",()=>this.to(t));var W=this._getItemIndex(this._getActive());W!==t&&this._slide(t>W?"next":"prev",M[t])}}dispose(){this._swipeHelper&&this._swipeHelper.dispose();super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Ja.on(this._element,
"keydown.bs.carousel",t=>this._keydown(t));"hover"===this._config.pause&&(Ja.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),Ja.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle()));this._config.touch&&Wa.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of nb.find(".carousel-item img",this._element))Ja.on(t,"dragstart.bs.carousel",M=>M.preventDefault());this._swipeHelper=new Wa(this._element,{leftCallback:()=>this._slide(this._directionToOrder("left")),
rightCallback:()=>this._slide(this._directionToOrder("right")),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(!/input|textarea/i.test(t.target.tagName)){var M=sb[t.key];M&&(t.preventDefault(),this._slide(this._directionToOrder(M)))}}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(this._indicatorsElement){var M=
nb.findOne(".active",this._indicatorsElement);M.classList.remove("active");M.removeAttribute("aria-current");(t=nb.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement))&&(t.classList.add("active"),t.setAttribute("aria-current","true"))}}_updateInterval(){var t=this._activeElement||this._getActive();t&&(t=Number.parseInt(t.getAttribute("data-bs-interval"),10),this._config.interval=t||this._config.defaultInterval)}_slide(t,M=null){if(!this._isSliding){var W=this._getActive(),oa="next"===t,m=
M||Aa(this._getItems(),W,oa,this._config.wrap);if(m!==W){var x=this._getItemIndex(m),F=V=>Ja.trigger(this._element,V,{relatedTarget:m,direction:this._orderToDirection(t),from:this._getItemIndex(W),to:x});if(!F("slide.bs.carousel").defaultPrevented&&W&&m){M=!!this._interval;this.pause();this._isSliding=!0;this._setActiveIndicatorElement(x);this._activeElement=m;var L=oa?"carousel-item-start":"carousel-item-end",S=oa?"carousel-item-next":"carousel-item-prev";m.classList.add(S);m.offsetHeight;W.classList.add(L);
m.classList.add(L);this._queueCallback(()=>{m.classList.remove(L,S);m.classList.add("active");W.classList.remove("active",S,L);this._isSliding=!1;F("slid.bs.carousel")},W,this._isAnimated());M&&this.cycle()}}}}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return nb.findOne(".active.carousel-item",this._element)}_getItems(){return nb.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return"rtl"===
document.documentElement.dir?"left"===t?"prev":"next":"left"===t?"next":"prev"}_orderToDirection(t){return"rtl"===document.documentElement.dir?"prev"===t?"left":"right":"prev"===t?"right":"left"}static jQueryInterface(t){return this.each(function(){const M=Mb.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);M[t]()}}else M.to(t)})}}Ja.on(document,"click.bs.carousel.data-api",
"[data-bs-slide], [data-bs-slide-to]",function(t){var M=nb.getElementFromSelector(this);if(M&&M.classList.contains("carousel"))return t.preventDefault(),t=Mb.getOrCreateInstance(M),(M=this.getAttribute("data-bs-slide-to"))?(t.to(M),void t._maybeEnableCycle()):"next"===tb.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())});Ja.on(window,"load.bs.carousel.data-api",()=>{const t=nb.find('[data-bs-ride="carousel"]');for(const M of t)Mb.getOrCreateInstance(M)});
Pa(Mb);const tc={parent:null,toggle:!0},rc={parent:"(null|element)",toggle:"boolean"};class wc extends vb{constructor(t,M){super(t,M);this._isTransitioning=!1;this._triggerArray=[];t=nb.find('[data-bs-toggle="collapse"]');for(const W of t)t=nb.getSelectorFromElement(W),M=nb.find(t).filter(oa=>oa===this._element),null!==t&&M.length&&this._triggerArray.push(W);this._initializeChildren();this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown());this._config.toggle&&this.toggle()}static get Default(){return tc}static get DefaultType(){return rc}static get NAME(){return"collapse"}toggle(){this._isShown()?
this.hide():this.show()}show(){if(!this._isTransitioning&&!this._isShown()){var t=[];if((this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(W=>W!==this._element).map(W=>wc.getOrCreateInstance(W,{toggle:!1}))),!t.length||!t[0]._isTransitioning)&&!Ja.trigger(this._element,"show.bs.collapse").defaultPrevented){for(const W of t)W.hide();var M=this._getDimension();this._element.classList.remove("collapse");this._element.classList.add("collapsing");this._element.style[M]=
0;this._addAriaAndCollapsedClass(this._triggerArray,!0);this._isTransitioning=!0;t=`scroll${M[0].toUpperCase()+M.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1;this._element.classList.remove("collapsing");this._element.classList.add("collapse","show");this._element.style[M]="";Ja.trigger(this._element,"shown.bs.collapse")},this._element,!0);this._element.style[M]=`${this._element[t]}px`}}}hide(){if(!this._isTransitioning&&this._isShown()&&!Ja.trigger(this._element,"hide.bs.collapse").defaultPrevented){var t=
this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`;this._element.offsetHeight;this._element.classList.add("collapsing");this._element.classList.remove("collapse","show");for(const M of this._triggerArray){const W=nb.getElementFromSelector(M);W&&!this._isShown(W)&&this._addAriaAndCollapsedClass([M],!1)}this._isTransitioning=!0;this._element.style[t]="";this._queueCallback(()=>{this._isTransitioning=!1;this._element.classList.remove("collapsing");this._element.classList.add("collapse");
Ja.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}}_isShown(t=this._element){return t.classList.contains("show")}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Da(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent){var t=this._getFirstLevelChildren('[data-bs-toggle="collapse"]');for(const M of t)(t=nb.getElementFromSelector(M))&&this._addAriaAndCollapsedClass([M],this._isShown(t))}}_getFirstLevelChildren(t){const M=
nb.find(":scope .collapse .collapse",this._config.parent);return nb.find(t,this._config.parent).filter(W=>!M.includes(W))}_addAriaAndCollapsedClass(t,M){if(t.length)for(const W of t)W.classList.toggle("collapsed",!M),W.setAttribute("aria-expanded",M)}static jQueryInterface(t){const M={};return"string"==typeof t&&/show|hide/.test(t)&&(M.toggle=!1),this.each(function(){const W=wc.getOrCreateInstance(this,M);if("string"==typeof t){if(void 0===W[t])throw new TypeError(`No method named "${t}"`);W[t]()}})}}
Ja.on(document,"click.bs.collapse.data-api",'[data-bs-toggle="collapse"]',function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const M of nb.getMultipleElementsFromSelector(this))wc.getOrCreateInstance(M,{toggle:!1}).toggle()});Pa(wc);var Gb=["top","bottom","right","left"],Sb=Gb.reduce(function(t,M){return t.concat([M+"-start",M+"-end"])},[]),Ob=[].concat(Gb,["auto"]).reduce(function(t,M){return t.concat([M,M+"-start",M+"-end"])},[]),Tb="beforeRead read afterRead beforeMain main afterMain beforeWrite write afterWrite".split(" ");
const Rb={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var M=t.state;Object.keys(M.elements).forEach(function(W){var oa=M.styles[W]||{},m=M.attributes[W]||{},x=M.elements[W];q(x)&&a(x)&&(Object.assign(x.style,oa),Object.keys(m).forEach(function(F){var L=m[F];!1===L?x.removeAttribute(F):x.setAttribute(F,!0===L?"":L)}))})},effect:function(t){var M=t.state,W={popper:{position:M.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(M.elements.popper.style,
W.popper),M.styles=W,M.elements.arrow&&Object.assign(M.elements.arrow.style,W.arrow),function(){Object.keys(M.elements).forEach(function(oa){var m=M.elements[oa],x=M.attributes[oa]||{};oa=Object.keys(M.styles.hasOwnProperty(oa)?M.styles[oa]:W[oa]).reduce(function(F,L){return F[L]="",F},{});q(m)&&a(m)&&(Object.assign(m.style,oa),Object.keys(x).forEach(function(F){m.removeAttribute(F)}))})}},requires:["computeStyles"]};var qb=Math.max,Vb=Math.min,kb=Math.round;const ac={name:"arrow",enabled:!0,phase:"main",
fn:function(t){var M,W=t.state,oa=t.name,m=t.options,x=W.elements.arrow,F=W.modifiersData.popperOffsets,L=c(W.placement);t=z(L);L=0<=["left","right"].indexOf(L)?"height":"width";if(x&&F){var S=m.padding;m=G("number"!=typeof(S="function"==typeof S?S(Object.assign({},W.rects,{placement:W.placement})):S)?S:H(S,Gb));S=n(x);var V="y"===t?"top":"left",X="y"===t?"bottom":"right",la=W.rects.reference[L]+W.rects.reference[t]-F[t]-W.rects.popper[L];F=F[t]-W.rects.reference[t];x=(x=O(x))?"y"===t?x.clientHeight||
0:x.clientWidth||0:0;F=x/2-S[L]/2+(la/2-F/2);L=qb(m[V],Vb(F,x-S[L]-m[X]));W.modifiersData[oa]=((M={})[t]=L,M.centerOffset=L-F,M)}},effect:function(t){var M=t.state;t=t.options.element;t=void 0===t?"[data-popper-arrow]":t;null!=t&&("string"!=typeof t||(t=M.elements.popper.querySelector(t)))&&v(M.elements.popper,t)&&(M.elements.arrow=t)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};var vc={top:"auto",right:"auto",bottom:"auto",left:"auto"};const kc={name:"computeStyles",enabled:!0,
phase:"beforeWrite",fn:function(t){var M=t.state,W=t.options;t=W.gpuAcceleration;t=void 0===t||t;var oa=W.adaptive;oa=void 0===oa||oa;W=W.roundOffsets;W=void 0===W||W;t={placement:c(M.placement),variation:N(M.placement),popper:M.elements.popper,popperRect:M.rects.popper,gpuAcceleration:t,isFixed:"fixed"===M.options.strategy};null!=M.modifiersData.popperOffsets&&(M.styles.popper=Object.assign({},M.styles.popper,J(Object.assign({},t,{offsets:M.modifiersData.popperOffsets,position:M.options.strategy,
adaptive:oa,roundOffsets:W}))));null!=M.modifiersData.arrow&&(M.styles.arrow=Object.assign({},M.styles.arrow,J(Object.assign({},t,{offsets:M.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:W}))));M.attributes.popper=Object.assign({},M.attributes.popper,{"data-popper-placement":M.placement})},data:{}};var lc={passive:!0};const gc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var M=t.state,W=t.instance;t=t.options;var oa=t.scroll,m=void 0===oa||
oa;t=t.resize;var x=void 0===t||t,F=l(M.elements.popper),L=[].concat(M.scrollParents.reference,M.scrollParents.popper);return m&&L.forEach(function(S){S.addEventListener("scroll",W.update,lc)}),x&&F.addEventListener("resize",W.update,lc),function(){m&&L.forEach(function(S){S.removeEventListener("scroll",W.update,lc)});x&&F.removeEventListener("resize",W.update,lc)}},data:{}};var fc={left:"right",right:"left",bottom:"top",top:"bottom"},nc={start:"end",end:"start"};const xc={name:"flip",enabled:!0,
phase:"main",fn:function(t){var M=t.state,W=t.options;t=t.name;if(!M.modifiersData[t]._skip){var oa=W.mainAxis;oa=void 0===oa||oa;var m=W.altAxis;m=void 0===m||m;var x=W.fallbackPlacements,F=W.padding,L=W.boundary,S=W.rootBoundary,V=W.altBoundary,X=W.flipVariations,la=void 0===X||X,da=W.allowedAutoPlacements;W=M.options.placement;X=c(W);x=x||(X!==W&&la?function(Kb){if("auto"===c(Kb))return[];var Ub=R(Kb);return[fa(Kb),Ub,fa(Ub)]}(W):[R(W)]);var ea=[W].concat(x).reduce(function(Kb,Ub){return Kb.concat("auto"===
c(Ub)?na(M,{placement:Ub,boundary:L,rootBoundary:S,padding:F,flipVariations:la,allowedAutoPlacements:da}):Ub)},[]);W=M.rects.reference;x=M.rects.popper;var Ea=new Map;X=!0;for(var La=ea[0],Ta=0;Ta<ea.length;Ta++){var gb=ea[Ta],hb=c(gb),Cb="start"===N(gb),Db=0<=["top","bottom"].indexOf(hb),$b=Db?"width":"height",Ab=xa(M,{placement:gb,boundary:L,rootBoundary:S,altBoundary:V,padding:F});Cb=Db?Cb?"right":"left":Cb?"bottom":"top";W[$b]>x[$b]&&(Cb=R(Cb));$b=R(Cb);Db=[];if(oa&&Db.push(0>=Ab[hb]),m&&Db.push(0>=
Ab[Cb],0>=Ab[$b]),Db.every(function(Kb){return Kb})){La=gb;X=!1;break}Ea.set(gb,Db)}if(X)for(oa=function(Kb){var Ub=ea.find(function(yb){if(yb=Ea.get(yb))return yb.slice(0,Kb).every(function(Wb){return Wb})});if(Ub)return La=Ub,"break"},m=la?3:1;0<m&&"break"!==oa(m);m--);M.placement!==La&&(M.modifiersData[t]._skip=!0,M.placement=La,M.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Mc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var M=t.state;t=
t.name;var W=M.rects.reference,oa=M.rects.popper,m=M.modifiersData.preventOverflow,x=xa(M,{elementContext:"reference"}),F=xa(M,{altBoundary:!0});W=Ma(x,W);oa=Ma(F,oa,m);m=jb(W);F=jb(oa);M.modifiersData[t]={referenceClippingOffsets:W,popperEscapeOffsets:oa,isReferenceHidden:m,hasPopperEscaped:F};M.attributes.popper=Object.assign({},M.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":F})}},yc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var M=
t.state,W=t.name;t=t.options.offset;var oa=void 0===t?[0,0]:t;t=Ob.reduce(function(F,L){var S=M.rects,V=c(L),X=0<=["left","top"].indexOf(V)?-1:1;var la="function"==typeof oa?oa(Object.assign({},S,{placement:L})):oa;S=la[0];var da=la[1];la=(S=S||0,da=(da||0)*X,0<=["left","right"].indexOf(V)?{x:da,y:S}:{x:S,y:da});return F[L]=la,F},{});var m=t[M.placement],x=m.x;m=m.y;null!=M.modifiersData.popperOffsets&&(M.modifiersData.popperOffsets.x+=x,M.modifiersData.popperOffsets.y+=m);M.modifiersData[W]=t}},
Dc={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var M=t.state;M.modifiersData[t.name]=ta({reference:M.rects.reference,element:M.rects.popper,strategy:"absolute",placement:M.placement})},data:{}},zc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var M=t.state,W=t.options;t=t.name;var oa=W.mainAxis,m=void 0===oa||oa;oa=W.altAxis;var x=void 0!==oa&&oa;oa=W.tether;var F=void 0===oa||oa;oa=W.tetherOffset;var L=void 0===oa?0:oa,S=xa(M,{boundary:W.boundary,rootBoundary:W.rootBoundary,
padding:W.padding,altBoundary:W.altBoundary}),V=c(M.placement),X=N(M.placement),la=!X,da=z(V);W="x"===da?"y":"x";oa=M.modifiersData.popperOffsets;var ea=M.rects.reference,Ea=M.rects.popper;L="function"==typeof L?L(Object.assign({},M.rects,{placement:M.placement})):L;var La="number"==typeof L?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),Ta=M.modifiersData.offset?M.modifiersData.offset[M.placement]:null;L={x:0,y:0};if(oa){if(m){var gb,hb="y"===da?"top":"left",Cb="y"===da?"bottom":
"right",Db="y"===da?"height":"width";m=oa[da];var $b=m+S[hb],Ab=m-S[Cb],Kb=F?-Ea[Db]/2:0,Ub="start"===X?ea[Db]:Ea[Db];X="start"===X?-Ea[Db]:-ea[Db];var yb=M.elements.arrow;yb=F&&yb?n(yb):{width:0,height:0};var Wb=M.modifiersData["arrow#persistent"]?M.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0};hb=Wb[hb];Cb=Wb[Cb];yb=qb(0,Vb(ea[Db],yb[Db]));Ub=la?ea[Db]/2-Kb-yb-hb-La.mainAxis:Ub-yb-hb-La.mainAxis;la=la?-ea[Db]/2+Kb+yb+Cb+La.mainAxis:X+yb+Cb+La.mainAxis;Db=(Db=M.elements.arrow&&
O(M.elements.arrow))?"y"===da?Db.clientTop||0:Db.clientLeft||0:0;Kb=null!=(gb=null==Ta?void 0:Ta[da])?gb:0;gb=m+la-Kb;$b=F?Vb($b,m+Ub-Kb-Db):$b;gb=F?qb(Ab,gb):Ab;gb=qb($b,Vb(m,gb));oa[da]=gb;L[da]=gb-m}if(x){var Zb;x=oa[W];m="y"===W?"height":"width";gb=x+S["x"===da?"top":"left"];S=x-S["x"===da?"bottom":"right"];V=-1!==["top","left"].indexOf(V);da=null!=(Zb=null==Ta?void 0:Ta[W])?Zb:0;Zb=V?gb:x-ea[m]-Ea[m]-da+La.altAxis;ea=V?x+ea[m]+Ea[m]-da-La.altAxis:S;F&&V?(Zb=qb(Zb,Vb(x,ea)),Zb=Zb>ea?ea:Zb):Zb=
qb(F?Zb:gb,Vb(x,F?ea:S));oa[W]=Zb;L[W]=Zb-x}M.modifiersData[t]=L}},requiresIfExists:["offset"]};var Cc={placement:"bottom",modifiers:[],strategy:"absolute"},ba=pa(),za=pa({defaultModifiers:[gc,Dc,kc,Rb]}),Oa=pa({defaultModifiers:[gc,Dc,kc,Rb,yc,xc,zc,ac,Mc]});const bb=Object.freeze(Object.defineProperty({__proto__:null,afterMain:"afterMain",afterRead:"afterRead",afterWrite:"afterWrite",applyStyles:Rb,arrow:ac,auto:"auto",basePlacements:Gb,beforeMain:"beforeMain",beforeRead:"beforeRead",beforeWrite:"beforeWrite",
bottom:"bottom",clippingParents:"clippingParents",computeStyles:kc,createPopper:Oa,createPopperBase:ba,createPopperLite:za,detectOverflow:xa,end:"end",eventListeners:gc,flip:xc,hide:Mc,left:"left",main:"main",modifierPhases:Tb,offset:yc,placements:Ob,popper:"popper",popperGenerator:pa,popperOffsets:Dc,preventOverflow:zc,read:"read",reference:"reference",right:"right",start:"start",top:"top",variationPlacements:Sb,viewport:"viewport",write:"write"},Symbol.toStringTag,{value:"Module"})),ob="rtl"===
document.documentElement.dir?"top-end":"top-start",U="rtl"===document.documentElement.dir?"top-start":"top-end",ja="rtl"===document.documentElement.dir?"bottom-end":"bottom-start",Ba="rtl"===document.documentElement.dir?"bottom-start":"bottom-end",ca="rtl"===document.documentElement.dir?"left-start":"right-start",va="rtl"===document.documentElement.dir?"right-start":"left-start",Ha={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Xa={autoClose:"(boolean|string)",
boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ka extends vb{constructor(t,M){super(t,M);this._popper=null;this._parent=this._element.parentNode;this._menu=nb.next(this._element,".dropdown-menu")[0]||nb.prev(this._element,".dropdown-menu")[0]||nb.findOne(".dropdown-menu",this._parent);this._inNavbar=this._detectNavbar()}static get Default(){return Ha}static get DefaultType(){return Xa}static get NAME(){return"dropdown"}toggle(){return this._isShown()?
this.hide():this.show()}show(){if(!Ga(this._element)&&!this._isShown()){var t={relatedTarget:this._element};if(!Ja.trigger(this._element,"show.bs.dropdown",t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const M of[].concat(...document.body.children))Ja.on(M,"mouseover",db);this._element.focus();this._element.setAttribute("aria-expanded",!0);this._menu.classList.add("show");this._element.classList.add("show");Ja.trigger(this._element,
"shown.bs.dropdown",t)}}}hide(){!Ga(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy();super.dispose()}update(){this._inNavbar=this._detectNavbar();this._popper&&this._popper.update()}_completeHide(t){if(!Ja.trigger(this._element,"hide.bs.dropdown",t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const M of[].concat(...document.body.children))Ja.off(M,"mouseover",db);this._popper&&this._popper.destroy();
this._menu.classList.remove("show");this._element.classList.remove("show");this._element.setAttribute("aria-expanded","false");tb.removeDataAttribute(this._menu,"popper");Ja.trigger(this._element,"hidden.bs.dropdown",t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Va(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError('DROPDOWN: Option "reference" provided type "object" without a required "getBoundingClientRect" method.');return t}_createPopper(){if(void 0===
bb)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Va(this._config.reference)?t=Da(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const M=this._getPopperConfig();this._popper=Oa(t,this._menu,M)}_isShown(){return this._menu.classList.contains("show")}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return ca;if(t.classList.contains("dropstart"))return va;
if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const M="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?M?U:ob:M?Ba:ja}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const {offset:t}=this._config;return"string"==typeof t?t.split(",").map(M=>Number.parseInt(M,10)):"function"==typeof t?M=>t(M,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),
modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(tb.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...sa(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:M}){const W=nb.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(oa=>ua(oa));W.length&&Aa(W,M,"ArrowDown"===
t,!W.includes(M)).focus()}static jQueryInterface(t){return this.each(function(){const M=Ka.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===M[t])throw new TypeError(`No method named "${t}"`);M[t]()}})}static clearMenus(t){if(2!==t.button&&("keyup"!==t.type||"Tab"===t.key)){var M=nb.find('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled).show');for(const oa of M){M=Ka.getInstance(oa);if(!M||!1===M._config.autoClose)continue;var W=t.composedPath();const m=W.includes(M._menu);W.includes(M._element)||
"inside"===M._config.autoClose&&!m||"outside"===M._config.autoClose&&m||M._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName))||(W={relatedTarget:M._element},"click"===t.type&&(W.clickEvent=t),M._completeHide(W))}}}static dataApiKeydownHandler(t){var M=/input|textarea/i.test(t.target.tagName),W="Escape"===t.key;const oa=["ArrowUp","ArrowDown"].includes(t.key);if(oa||W)if(!M||W){t.preventDefault();M=this.matches('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')?
this:nb.prev(this,'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')[0]||nb.next(this,'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')[0]||nb.findOne('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',t.delegateTarget.parentNode);W=Ka.getOrCreateInstance(M);if(oa)return t.stopPropagation(),W.show(),void W._selectMenuItem(t);W._isShown()&&(t.stopPropagation(),W.hide(),M.focus())}}}Ja.on(document,"keydown.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',
Ka.dataApiKeydownHandler);Ja.on(document,"keydown.bs.dropdown.data-api",".dropdown-menu",Ka.dataApiKeydownHandler);Ja.on(document,"click.bs.dropdown.data-api",Ka.clearMenus);Ja.on(document,"keyup.bs.dropdown.data-api",Ka.clearMenus);Ja.on(document,"click.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',function(t){t.preventDefault();Ka.getOrCreateInstance(this).toggle()});Pa(Ka);const Za={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},
$a={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class lb extends ic{constructor(t){super();this._config=this._getConfig(t);this._isAppended=!1;this._element=null}static get Default(){return Za}static get DefaultType(){return $a}static get NAME(){return"backdrop"}show(t){if(!this._config.isVisible)return void sa(t);this._append();const M=this._getElement();this._config.isAnimated&&M.offsetHeight;M.classList.add("show");
this._emulateAnimation(()=>{sa(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose();sa(t)})):sa(t)}dispose(){this._isAppended&&(Ja.off(this._element,"mousedown.bs.backdrop"),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className;this._config.isAnimated&&t.classList.add("fade");this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=
Da(t.rootElement),t}_append(){if(!this._isAppended){var t=this._getElement();this._config.rootElement.append(t);Ja.on(t,"mousedown.bs.backdrop",()=>{sa(this._config.clickCallback)});this._isAppended=!0}}_emulateAnimation(t){ma(t,this._getElement(),this._config.isAnimated)}}const Lb={autofocus:!0,trapElement:null},Eb={autofocus:"boolean",trapElement:"element"};class Nb extends ic{constructor(t){super();this._config=this._getConfig(t);this._isActive=!1;this._lastTabNavDirection=null}static get Default(){return Lb}static get DefaultType(){return Eb}static get NAME(){return"focustrap"}activate(){this._isActive||
(this._config.autofocus&&this._config.trapElement.focus(),Ja.off(document,".bs.focustrap"),Ja.on(document,"focusin.bs.focustrap",t=>this._handleFocusin(t)),Ja.on(document,"keydown.tab.bs.focustrap",t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ja.off(document,".bs.focustrap"))}_handleFocusin(t){const {trapElement:M}=this._config;t.target===document||t.target===M||M.contains(t.target)||(t=nb.focusableChildren(M),0===t.length?M.focus():"backward"===this._lastTabNavDirection?
t[t.length-1].focus():t[0].focus())}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?"backward":"forward")}}class oc{constructor(){this._element=document.body}getWidth(){return Math.abs(window.innerWidth-document.documentElement.clientWidth)}hide(){const t=this.getWidth();this._disableOverFlow();this._setElementAttributes(this._element,"padding-right",M=>M+t);this._setElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","padding-right",M=>M+t);this._setElementAttributes(".sticky-top",
"margin-right",M=>M-t)}reset(){this._resetElementAttributes(this._element,"overflow");this._resetElementAttributes(this._element,"padding-right");this._resetElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","padding-right");this._resetElementAttributes(".sticky-top","margin-right")}isOverflowing(){return 0<this.getWidth()}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow");this._element.style.overflow="hidden"}_setElementAttributes(t,M,W){const oa=this.getWidth();
this._applyManipulationCallback(t,m=>{if(!(m!==this._element&&window.innerWidth>m.clientWidth+oa)){this._saveInitialAttribute(m,M);var x=window.getComputedStyle(m).getPropertyValue(M);m.style.setProperty(M,`${W(Number.parseFloat(x))}px`)}})}_saveInitialAttribute(t,M){const W=t.style.getPropertyValue(M);W&&tb.setDataAttribute(t,M,W)}_resetElementAttributes(t,M){this._applyManipulationCallback(t,W=>{const oa=tb.getDataAttribute(W,M);null!==oa?(tb.removeDataAttribute(W,M),W.style.setProperty(M,oa)):
W.style.removeProperty(M)})}_applyManipulationCallback(t,M){if(Va(t))M(t);else for(const W of nb.find(t,this._element))M(W)}}const dd={backdrop:!0,focus:!0,keyboard:!0},ed={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ac extends vb{constructor(t,M){super(t,M);this._dialog=nb.findOne(".modal-dialog",this._element);this._backdrop=this._initializeBackDrop();this._focustrap=this._initializeFocusTrap();this._isTransitioning=this._isShown=!1;this._scrollBar=new oc;this._addEventListeners()}static get Default(){return dd}static get DefaultType(){return ed}static get NAME(){return"modal"}toggle(t){return this._isShown?
this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Ja.trigger(this._element,"show.bs.modal",{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add("modal-open"),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){this._isShown&&!this._isTransitioning&&(Ja.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),
this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Ja.off(window,".bs.modal");Ja.off(this._dialog,".bs.modal");this._backdrop.dispose();this._focustrap.deactivate();super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new lb({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Nb({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||
document.body.append(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.setAttribute("aria-modal",!0);this._element.setAttribute("role","dialog");this._element.scrollTop=0;const M=nb.findOne(".modal-body",this._dialog);M&&(M.scrollTop=0);this._element.offsetHeight;this._element.classList.add("show");this._queueCallback(()=>{this._config.focus&&this._focustrap.activate();this._isTransitioning=!1;Ja.trigger(this._element,"shown.bs.modal",{relatedTarget:t})},
this._dialog,this._isAnimated())}_addEventListeners(){Ja.on(this._element,"keydown.dismiss.bs.modal",t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())});Ja.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()});Ja.on(this._element,"mousedown.dismiss.bs.modal",t=>{Ja.one(this._element,"click.dismiss.bs.modal",M=>{this._element===t.target&&this._element===M.target&&("static"!==this._config.backdrop?this._config.backdrop&&
this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");this._isTransitioning=!1;this._backdrop.hide(()=>{document.body.classList.remove("modal-open");this._resetAdjustments();this._scrollBar.reset();Ja.trigger(this._element,"hidden.bs.modal")})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(!Ja.trigger(this._element,
"hidePrevented.bs.modal").defaultPrevented){var t=this._element.scrollHeight>document.documentElement.clientHeight,M=this._element.style.overflowY;"hidden"===M||this._element.classList.contains("modal-static")||(t||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static"),this._queueCallback(()=>{this._element.classList.remove("modal-static");this._queueCallback(()=>{this._element.style.overflowY=M},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){const t=
this._element.scrollHeight>document.documentElement.clientHeight,M=this._scrollBar.getWidth(),W=0<M;W&&!t&&(this._element.style["rtl"===document.documentElement.dir?"paddingLeft":"paddingRight"]=`${M}px`);!W&&t&&(this._element.style["rtl"===document.documentElement.dir?"paddingRight":"paddingLeft"]=`${M}px`)}_resetAdjustments(){this._element.style.paddingLeft="";this._element.style.paddingRight=""}static jQueryInterface(t,M){return this.each(function(){const W=Ac.getOrCreateInstance(this,t);if("string"==
typeof t){if(void 0===W[t])throw new TypeError(`No method named "${t}"`);W[t](M)}})}}Ja.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(t){const M=nb.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault();Ja.one(M,"show.bs.modal",W=>{W.defaultPrevented||Ja.one(M,"hidden.bs.modal",()=>{ua(this)&&this.focus()})});(t=nb.findOne(".modal.show"))&&Ac.getInstance(t).hide();Ac.getOrCreateInstance(M).toggle(this)});qc(Ac);Pa(Ac);const fd={backdrop:!0,
keyboard:!0,scroll:!1},gd={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Gc extends vb{constructor(t,M){super(t,M);this._isShown=!1;this._backdrop=this._initializeBackDrop();this._focustrap=this._initializeFocusTrap();this._addEventListeners()}static get Default(){return fd}static get DefaultType(){return gd}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||Ja.trigger(this._element,"show.bs.offcanvas",{relatedTarget:t}).defaultPrevented||
(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new oc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("showing"),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate();this._element.classList.add("show");this._element.classList.remove("showing");Ja.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&(Ja.trigger(this._element,
"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding");this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");this._config.scroll||(new oc).reset();Ja.trigger(this._element,"hidden.bs.offcanvas")},this._element,!0)))}dispose(){this._backdrop.dispose();this._focustrap.deactivate();super.dispose()}_initializeBackDrop(){const t=
!!this._config.backdrop;return new lb({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():Ja.trigger(this._element,"hidePrevented.bs.offcanvas")}:null})}_initializeFocusTrap(){return new Nb({trapElement:this._element})}_addEventListeners(){Ja.on(this._element,"keydown.dismiss.bs.offcanvas",t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():Ja.trigger(this._element,"hidePrevented.bs.offcanvas"))})}static jQueryInterface(t){return this.each(function(){const M=
Gc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);M[t](this)}})}}Ja.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(t){const M=nb.getElementFromSelector(this);(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ga(this))||(Ja.one(M,"hidden.bs.offcanvas",()=>{ua(this)&&this.focus()}),(t=nb.findOne(".offcanvas.show"))&&t!==M&&Gc.getInstance(t).hide(),Gc.getOrCreateInstance(M).toggle(this))});
Ja.on(window,"load.bs.offcanvas.data-api",()=>{for(const t of nb.find(".offcanvas.show"))Gc.getOrCreateInstance(t).show()});Ja.on(window,"resize.bs.offcanvas",()=>{for(const t of nb.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&Gc.getOrCreateInstance(t).hide()});qc(Gc);Pa(Gc);const Vc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],
h5:[],h6:[],i:[],img:"src srcset alt title width height".split(" "),li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Oc=new Set("background cite href itemtype longdesc poster src xlink:href".split(" ")),Wc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Sc=(t,M)=>{const W=t.nodeName.toLowerCase();return M.includes(W)?!Oc.has(W)||!!Wc.test(t.nodeValue):M.filter(oa=>oa instanceof RegExp).some(oa=>oa.test(W))},Xc={allowList:Vc,content:{},extraClass:"",html:!1,
sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},hd={entry:"(string|element|function|null)",selector:"(string|element)"};class Zc extends ic{constructor(t){super();this._config=this._getConfig(t)}static get Default(){return Xc}static get DefaultType(){return Yc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>
this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return 0<this.getContent().length}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){var t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const [W,oa]of Object.entries(this._config.content))this._setContent(t,oa,W);t=t.children[0];const M=this._resolvePossibleFunction(this._config.extraClass);return M&&t.classList.add(...M.split(" ")),
t}_typeCheckConfig(t){super._typeCheckConfig(t);this._checkContent(t.content)}_checkContent(t){for(const [M,W]of Object.entries(t))super._typeCheckConfig({selector:M,entry:W},hd)}_setContent(t,M,W){(t=nb.findOne(W,t))&&((M=this._resolvePossibleFunction(M))?Va(M)?this._putElementInTemplate(Da(M),t):this._config.html?t.innerHTML=this._maybeSanitize(M):t.textContent=M:t.remove())}_maybeSanitize(t){if(this._config.sanitize){var M=this._config.allowList;var W=this._config.sanitizeFn;if(t.length)if(W&&
"function"==typeof W)M=W(t);else{t=(new window.DOMParser).parseFromString(t,"text/html");W=[].concat(...t.body.querySelectorAll("*"));for(const m of W){var oa=m.nodeName.toLowerCase();if(Object.keys(M).includes(oa)){W=[].concat(...m.attributes);oa=[].concat(M["*"]||[],M[oa]||[]);for(const x of W)Sc(x,oa)||m.removeAttribute(x.nodeName)}else m.remove()}M=t.body.innerHTML}else M=t}else M=t;return M}_resolvePossibleFunction(t){return sa(t,[this])}_putElementInTemplate(t,M){if(this._config.html)return M.innerHTML=
"",void M.append(t);M.textContent=t.textContent}}const id=new Set(["sanitize","allowList","sanitizeFn"]),jd={AUTO:"auto",TOP:"top",RIGHT:"rtl"===document.documentElement.dir?"left":"right",BOTTOM:"bottom",LEFT:"rtl"===document.documentElement.dir?"right":"left"},kd={allowList:Vc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,
template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ld={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",
selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Nc extends vb{constructor(t,M){if(void 0===bb)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,M);this._isEnabled=!0;this._timeout=0;this._isHovered=null;this._activeTrigger={};this.tip=this._newContent=this._templateFactory=this._popper=null;this._setListeners();this._config.selector||this._fixTitle()}static get Default(){return kd}static get DefaultType(){return ld}static get NAME(){return"tooltip"}enable(){this._isEnabled=
!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout);Ja.off(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler);this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title"));this._disposePopper();super.dispose()}show(){if("none"===
this._element.style.display)throw Error("Please use show on visible elements");if(this._isWithContent()&&this._isEnabled){var t=Ja.trigger(this._element,this.constructor.eventName("show")),M=(Ia(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(!t.defaultPrevented&&M){this._disposePopper();t=this._getTipElement();this._element.setAttribute("aria-describedby",t.getAttribute("id"));({container:M}=this._config);if(this._element.ownerDocument.documentElement.contains(this.tip)||
(M.append(t),Ja.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(t),t.classList.add("show"),"ontouchstart"in document.documentElement)for(const W of[].concat(...document.body.children))Ja.on(W,"mouseover",db);this._queueCallback(()=>{Ja.trigger(this._element,this.constructor.eventName("shown"));!1===this._isHovered&&this._leave();this._isHovered=!1},this.tip,this._isAnimated())}}}hide(){if(this._isShown()&&!Ja.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove("show"),
"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))Ja.off(t,"mouseover",db);this._activeTrigger.click=!1;this._activeTrigger.focus=!1;this._activeTrigger.hover=!1;this._isHovered=null;this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ja.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||
(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){t=this._getTemplateFactory(t).toHtml();if(!t)return null;t.classList.remove("fade","show");t.classList.add(`bs-${this.constructor.NAME}-auto`);var M=this.constructor.NAME;do M+=Math.floor(1E6*Math.random());while(document.getElementById(M));return t.setAttribute("id",M.toString()),this._isAnimated()&&t.classList.add("fade"),t}setContent(t){this._newContent=t;this._isShown()&&(this._disposePopper(),
this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Zc({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,
this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains("fade")}_isShown(){return this.tip&&this.tip.classList.contains("show")}_createPopper(t){var M=sa(this._config.placement,[this,t,this._element]);M=jd[M.toUpperCase()];return Oa(this._element,t,this._getPopperConfig(M))}_getOffset(){const {offset:t}=this._config;return"string"==typeof t?t.split(",").map(M=>Number.parseInt(M,10)):"function"==typeof t?M=>t(M,this._element):t}_resolvePossibleFunction(t){return sa(t,
[this._element])}_getPopperConfig(t){t={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:M=>{this._getTipElement().setAttribute("data-popper-placement",M.state.placement)}}]};return{...t,...sa(this._config.popperConfig,
[t])}}_setListeners(){var t=this._config.trigger.split(" ");for(const M of t)if("click"===M)Ja.on(this._element,this.constructor.eventName("click"),this._config.selector,W=>{this._initializeOnDelegatedTarget(W).toggle()});else if("manual"!==M){t="hover"===M?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin");const W="hover"===M?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Ja.on(this._element,t,this._config.selector,oa=>{const m=this._initializeOnDelegatedTarget(oa);
m._activeTrigger["focusin"===oa.type?"focus":"hover"]=!0;m._enter()});Ja.on(this._element,W,this._config.selector,oa=>{const m=this._initializeOnDelegatedTarget(oa);m._activeTrigger["focusout"===oa.type?"focus":"hover"]=m._element.contains(oa.relatedTarget);m._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()};Ja.on(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||
this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,M){clearTimeout(this._timeout);
this._timeout=setTimeout(t,M)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const M=tb.getDataAttributes(this._element);for(const W of Object.keys(M))id.has(W)&&delete M[W];return t={...M,...("object"==typeof t&&t?t:{})},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Da(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==
typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const [M,W]of Object.entries(this._config))this.constructor.Default[M]!==W&&(t[M]=W);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null);this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const M=Nc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===
M[t])throw new TypeError(`No method named "${t}"`);M[t]()}})}}Pa(Nc);const md={...Nc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},nd={...Nc.DefaultType,content:"(null|string|element|function)"};class Tc extends Nc{static get Default(){return md}static get DefaultType(){return nd}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||
this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const M=Tc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===M[t])throw new TypeError(`No method named "${t}"`);M[t]()}})}}Pa(Tc);const $c={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Uc={offset:"(number|null)",
rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Pc extends vb{constructor(t,M){super(t,M);this._targetLinks=new Map;this._observableSections=new Map;this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element;this._observer=this._activeTarget=null;this._previousScrollData={visibleEntryTop:0,parentScrollTop:0};this.refresh()}static get Default(){return $c}static get DefaultType(){return Uc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables();
this._maybeEnableSmoothScroll();this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect();super.dispose()}_configAfterMerge(t){return t.target=Da(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(M=>Number.parseFloat(M))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&
(Ja.off(this._config.target,"click.bs.scrollspy"),Ja.on(this._config.target,"click.bs.scrollspy","[href]",t=>{var M=this._observableSections.get(t.target.hash);if(M){t.preventDefault();t=this._rootElement||window;M=M.offsetTop-this._element.offsetTop;if(t.scrollTo)return void t.scrollTo({top:M,behavior:"smooth"});t.scrollTop=M}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const M=
x=>this._targetLinks.get(`#${x.target.id}`),W=x=>{this._previousScrollData.visibleEntryTop=x.target.offsetTop;this._process(M(x))},oa=(this._rootElement||document.documentElement).scrollTop,m=oa>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=oa;for(const x of t)if(x.isIntersecting)if(t=x.target.offsetTop>=this._previousScrollData.visibleEntryTop,m&&t){if(W(x),!oa)break}else m||t||W(x);else this._activeTarget=null,this._clearActiveClass(M(x))}_initializeTargetsAndObservables(){this._targetLinks=
new Map;this._observableSections=new Map;var t=nb.find("[href]",this._config.target);for(const M of t)M.hash&&!Ga(M)&&(t=nb.findOne(decodeURI(M.hash),this._element),ua(t)&&(this._targetLinks.set(decodeURI(M.hash),M),this._observableSections.set(M.hash,t)))}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add("active"),this._activateParents(t),Ja.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))nb.findOne(".dropdown-toggle",
t.closest(".dropdown")).classList.add("active");else for(const M of nb.parents(t,".nav, .list-group"))for(const W of nb.prev(M,".nav-link, .nav-item > .nav-link, .list-group-item"))W.classList.add("active")}_clearActiveClass(t){t.classList.remove("active");t=nb.find("[href].active",t);for(const M of t)M.classList.remove("active")}static jQueryInterface(t){return this.each(function(){const M=Pc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===
t)throw new TypeError(`No method named "${t}"`);M[t]()}})}}Ja.on(window,"load.bs.scrollspy.data-api",()=>{for(const t of nb.find('[data-bs-spy="scroll"]'))Pc.getOrCreateInstance(t)});Pa(Pc);class Hc extends vb{constructor(t){super(t);(this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'))&&(this._setInitialAttributes(this._parent,this._getChildren()),Ja.on(this._element,"keydown.bs.tab",M=>this._keydown(M)))}static get NAME(){return"tab"}show(){const t=this._element;if(!this._elemIsActive(t)){var M=
this._getActiveElem(),W=M?Ja.trigger(M,"hide.bs.tab",{relatedTarget:t}):null;Ja.trigger(t,"show.bs.tab",{relatedTarget:M}).defaultPrevented||W&&W.defaultPrevented||(this._deactivate(M,t),this._activate(t,M))}}_activate(t,M){t&&(t.classList.add("active"),this._activate(nb.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Ja.trigger(t,"shown.bs.tab",{relatedTarget:M})):t.classList.add("show")},
t,t.classList.contains("fade")))}_deactivate(t,M){t&&(t.classList.remove("active"),t.blur(),this._deactivate(nb.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Ja.trigger(t,"hidden.bs.tab",{relatedTarget:M})):t.classList.remove("show")},t,t.classList.contains("fade")))}_keydown(t){if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(t.key)){t.stopPropagation();
t.preventDefault();var M=["ArrowRight","ArrowDown"].includes(t.key);(t=Aa(this._getChildren().filter(W=>!Ga(W)),t.target,M,!0))&&(t.focus({preventScroll:!0}),Hc.getOrCreateInstance(t).show())}}_getChildren(){return nb.find('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,
M){this._setAttributeIfNotExists(t,"role","tablist");for(const W of M)this._setInitialAttributesOnChild(W)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const M=this._elemIsActive(t),W=this._getOuterElement(t);t.setAttribute("aria-selected",M);W!==t&&this._setAttributeIfNotExists(W,"role","presentation");M||t.setAttribute("tabindex","-1");this._setAttributeIfNotExists(t,"role","tab");this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const M=nb.getElementFromSelector(t);
M&&(this._setAttributeIfNotExists(M,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(M,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,M){t=this._getOuterElement(t);if(t.classList.contains("dropdown")){var W=nb.findOne(".dropdown-toggle",t);W&&W.classList.toggle("active",M);(W=nb.findOne(".dropdown-menu",t))&&W.classList.toggle("show",M);t.setAttribute("aria-expanded",M)}}_setAttributeIfNotExists(t,M,W){t.hasAttribute(M)||t.setAttribute(M,W)}_elemIsActive(t){return t.classList.contains("active")}_getInnerElement(t){return t.matches('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]')?
t:nb.findOne('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const M=Hc.getOrCreateInstance(this);if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);M[t]()}})}}Ja.on(document,
"click.bs.tab",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault();Ga(this)||Hc.getOrCreateInstance(this).show()});Ja.on(window,"load.bs.tab",()=>{for(const t of nb.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Hc.getOrCreateInstance(t)});Pa(Hc);const od={animation:"boolean",autohide:"boolean",delay:"number"},Qc={animation:!0,autohide:!0,delay:5E3};class Rc extends vb{constructor(t,
M){super(t,M);this._timeout=null;this._hasKeyboardInteraction=this._hasMouseInteraction=!1;this._setListeners()}static get Default(){return Qc}static get DefaultType(){return od}static get NAME(){return"toast"}show(){Ja.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.offsetHeight,this._element.classList.add("show","showing"),this._queueCallback(()=>{this._element.classList.remove("showing");
Ja.trigger(this._element,"shown.bs.toast");this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Ja.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add("showing"),this._queueCallback(()=>{this._element.classList.add("hide");this._element.classList.remove("showing","show");Ja.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout();this.isShown()&&this._element.classList.remove("show");
super.dispose()}isShown(){return this._element.classList.contains("show")}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,M){switch(t.type){case "mouseover":case "mouseout":this._hasMouseInteraction=M;break;case "focusin":case "focusout":this._hasKeyboardInteraction=M}if(M)return void this._clearTimeout();t=t.relatedTarget;this._element===t||this._element.contains(t)||
this._maybeScheduleHide()}_setListeners(){Ja.on(this._element,"mouseover.bs.toast",t=>this._onInteraction(t,!0));Ja.on(this._element,"mouseout.bs.toast",t=>this._onInteraction(t,!1));Ja.on(this._element,"focusin.bs.toast",t=>this._onInteraction(t,!0));Ja.on(this._element,"focusout.bs.toast",t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout);this._timeout=null}static jQueryInterface(t){return this.each(function(){const M=Rc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===
M[t])throw new TypeError(`No method named "${t}"`);M[t](this)}})}}return qc(Rc),Pa(Rc),{Alert:jc,Button:Qb,Carousel:Mb,Collapse:wc,Dropdown:Ka,Modal:Ac,Offcanvas:Gc,Popover:Tc,ScrollSpy:Pc,Tab:Hc,Toast:Rc,Tooltip:Nc}});
(function(g){"object"===typeof exports&&"undefined"!==typeof module?module.exports=g():"function"===typeof define&&define.amd?define([],g):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).ChickenPaint=g()})(function(){return function(){function g(K,D,y){function k(b,d){if(!D[b]){if(!K[b]){var w="function"==typeof require&&require;if(!d&&w)return w(b,!0);if(u)return u(b,!0);d=Error("Cannot find module '"+b+"'");throw d.code="MODULE_NOT_FOUND",
d;}d=D[b]={exports:{}};K[b][0].call(d.exports,function(a){return k(K[b][1][a]||a)},d,d.exports,g,K,D,y)}return D[b].exports}for(var u="function"==typeof require&&require,E=0;E<y.length;E++)k(y[E]);return k}return g}()({1:[function(g,K,D){function y(N){return N&&N.__esModule?N:{default:N}}function k(N){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==
Symbol.prototype?"symbol":typeof J},k(N)}function u(){if(!((0,C.isCanvasSupported)()&&"Uint8Array"in window))throw new b.UnsupportedBrowserException;var N=(-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("iPod")||-1!=navigator.userAgent.indexOf("iPhone"))&&-1!=navigator.userAgent.indexOf(" OS 8_0 "),J=-1==navigator.userAgent.indexOf("CriOS")&&-1!=navigator.userAgent.indexOf("Safari");if(N&&J)throw new b.UnsupportedBrowserException("You are using Safari 8.0.0, which is unable to upload drawings. That bug was fixed in the iOS 8.0.2 update, or in Chrome for iOS.");
return!0}function E(){var N=Array(b.T_MAX);N[b.T_PENCIL]=new w.default({toolNb:b.T_PENCIL,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_OPACITY});N[b.T_ERASER]=new w.default({toolNb:b.T_ERASER,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!1,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_ERASE,paintMode:w.default.PAINT_MODE_OPACITY});
N[b.T_PEN]=new w.default({toolNb:b.T_PEN,size:2,alpha:128,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!0,pressureAlpha:!1,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.5});N[b.T_SOFTERASER]=new w.default({toolNb:b.T_SOFTERASER,size:16,alpha:64,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_ERASE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});
N[b.T_AIRBRUSH]=new w.default({toolNb:b.T_AIRBRUSH,size:50,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});N[b.T_DODGE]=new w.default({toolNb:b.T_DODGE,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_DODGE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});
N[b.T_BURN]=new w.default({toolNb:b.T_BURN,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_BURN,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});N[b.T_WATER]=new w.default({toolNb:b.T_WATER,size:30,alpha:70,isAA:!1,minSpacing:.5,spacing:.02,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_WATER,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,resat:.3,
bleed:.6});N[b.T_BLUR]=new w.default({toolNb:b.T_BLUR,size:20,alpha:255,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_PIXEL,brushMode:w.default.BRUSH_MODE_BLUR,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});N[b.T_SMUDGE]=new w.default({toolNb:b.T_SMUDGE,size:20,alpha:128,isAA:!1,minSpacing:.5,spacing:.01,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_SMUDGE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,
resat:0,bleed:1});N[b.T_BLENDER]=new w.default({toolNb:b.T_BLENDER,size:20,alpha:60,isAA:!1,minSpacing:.5,spacing:.1,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_OIL,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,resat:0,bleed:.07});return N}function b(N){function J(sa){this.palName=sa}function R(sa){this.toolNum=sa}function fa(sa){this.modeNum=sa}function Y(sa){pa=sa==a.default.EDITING_MODE_IMAGE?b.COLOR_MODE_RGB:b.COLOR_MODE_GREYSCALE;na.emitEvent("colorModeChange",
[sa==a.default.EDITING_MODE_IMAGE?"rgb":"greyscale"]);switch(pa){case b.COLOR_MODE_RGB:var ma=T.clone();break;case b.COLOR_MODE_GREYSCALE:ma=new B.default(B.default.greyToRGB(Z))}na.artwork.setForegroundColor(ma.getRgb());na.emitEvent("colorChange",[ma])}function qa(){na.emitEvent("toolChange",[Ca,Ga[Ca]])}function ka(sa){Ra!=sa&&(sa==b.M_TRANSFORM&&(xb=Ra),Ra=sa,na.emitEvent("modeChange",[Ra]))}function Q(sa){ka(b.M_DRAW);Ca=sa;na.artwork.setBrush(Ga[sa]);qa()}function aa(){var sa=new r.default({artwork:na.getArtwork(),
rotation:jb.getRotation90(),swatches:ab.getSwatches()});sa.on("savingComplete",function(){na.artwork.setHasUnsavedChanges(!1)});sa.on("savingFailure",function(){alert((0,G._)("Sorry, your drawing could not be saved, please try again later."))});sa.save()}function ha(){if(na.isActionSupported("CPContinue")||confirm((0,G._)("Are you sure you want to send your drawing to the server and finish drawing now?"))){var sa=new r.default({artwork:na.getArtwork(),rotation:jb.getRotation90(),swatches:ab.getSwatches(),
url:N.saveUrl}),ma=new A.default(na,Ma,sa);sa.on("savingComplete",function(){na.artwork.setHasUnsavedChanges(!1);!na.isActionSupported("CPContinue")&&na.isActionSupported("CPPost")&&na.actionPerformed({action:"CPPost"})});sa.on("savingFailure",function(){alert((0,G._)("Sorry, your drawing could not be saved, please try again later."))});ma.on("shown",function(){sa.save()});ma.show()}}function ra(){if((0,C.isEventSupported)("onbeforeunload"))window.addEventListener("beforeunload",function(sa){if(na.artwork.getHasUnsavedChanges())return sa.returnValue=
"Your drawing has unsaved changes!"});else(0,d.default)("a").on("click",function(sa){if("#"!=this.getAttribute("href")&&na.artwork.getHasUnsavedChanges())return confirm("Your drawing has unsaved changes! Are you sure to want to navigate away?")})}function ta(sa,ma){Ma&&(Ma.addEventListener("dblclick",function(Aa){Aa.preventDefault();Aa.stopPropagation()}),na.artwork.on("editModeChanged",Y),ab=new h.default(na,Ma),na.emitEvent("fullScreen",[ua]),na.emitEvent("smallScreen",[Da]),Ia.load(),Q(b.T_PEN),
ab.arrangePalettes(),sa&&ab.setSwatches(sa),ma&&ab.setRotation90(ma),I.default.getRef().detectTablet(),ra(),na.artwork.on("unsavedChanges",function(Aa){N.allowMultipleSends&&na.emitEvent("unsavedChanges",[Aa])}))}var xa=this;(0,G.guessLanguage)();N.language&&(0,G.setLanguage)(N.language);var na=this,Ma=N.uiElem,jb,ab,T=new B.default(0),Z=255,pa=b.COLOR_MODE_RGB,Ca=b.T_PENCIL,Ra=b.M_DRAW,xb=Ra,Va=[4278190080,4294967295],Da=!1,ua=!1,Ga=E(),Ia=new H.default,db,ub,rb={CPFullScreen:{action:function(){na.setFullScreen(!ua)},
isSupported:function(){return!("disable"===N.fullScreenMode||"force"===N.fullScreenMode||!1===N.allowFullScreen)},modifies:{gui:!0}},CPZoomIn:{action:function(){jb.zoomIn()},modifies:{gui:!0}},CPZoomOut:{action:function(){jb.zoomOut()},modifies:{gui:!0}},CPZoom100:{action:function(){jb.zoom100()},modifies:{gui:!0}},CPToolbarStyle:{action:function(){na.setToolbarStyle("new"===Ia.toolbarStyle?"old":"new")},modifies:{gui:!0}},CPUndo:{action:function(){na.artwork.undo()},modifies:{document:!0},allowed:"isUndoAllowed"},
CPRedo:{action:function(){na.artwork.redo()},modifies:{document:!0},allowed:"isRedoAllowed"},CPClearHistory:{action:function(){confirm("You're about to clear the current Undo/Redo history.\nThis operation cannot be undone, are you sure you want to do that?")&&na.artwork.clearHistory()},modifies:{document:!0}},CPPencil:new R(b.T_PENCIL),CPPen:new R(b.T_PEN),CPEraser:new R(b.T_ERASER),CPSoftEraser:new R(b.T_SOFTERASER),CPAirbrush:new R(b.T_AIRBRUSH),CPDodge:new R(b.T_DODGE),CPBurn:new R(b.T_BURN),CPWater:new R(b.T_WATER),
CPBlur:new R(b.T_BLUR),CPSmudge:new R(b.T_SMUDGE),CPBlender:new R(b.T_BLENDER),CPFloodFill:new fa(b.M_FLOODFILL),CPGradientFill:new fa(b.M_GRADIENTFILL),CPRectSelection:new fa(b.M_RECT_SELECTION),CPMoveTool:new fa(b.M_MOVE_TOOL),CPRotateCanvas:new fa(b.M_ROTATE_CANVAS),CPPanCanvas:new fa(b.M_PAN_CANVAS),CPColorPicker:new fa(b.M_COLOR_PICKER),CPTransform:{action:function(){var sa=na.artwork.getActiveLayer();null==na.artwork.transformAffineBegin()?na.showLayerNotification(sa,(0,G._)("Whoops! All of the selected pixels are transparent!"),
"layer"):ka(b.M_TRANSFORM)},modifies:{mode:!0},allowed:function(){var sa=na.artwork.getActiveLayer();if(sa.visible)if(0==sa.alpha)na.showLayerNotification(sa,(0,G._)("Whoops! This layer's opacity is currently 0%"),"opacity");else if(null==na.artwork.transformAffineBegin())na.showLayerNotification(sa,(0,G._)("Whoops! All of the selected pixels are transparent!"),"layer");else return 0!=sa.getEffectiveAlpha();else na.showLayerNotification(sa,(0,G._)("Whoops! This layer is currently hidden"),"layer")}},
CPTransformAccept:{action:function(){Ra==b.M_TRANSFORM&&(na.artwork.transformAffineFinish(),ka(xb))},modifies:{mode:!0}},CPTransformReject:{action:function(){Ra==b.M_TRANSFORM&&(na.artwork.transformAffineAbort(),ka(xb))},modifies:{document:!0,mode:!0}},CPFreeHand:{action:function(){Ga[Ca].strokeMode=w.default.STROKE_MODE_FREEHAND;qa()},modifies:{tool:!0}},CPLine:{action:function(){Ga[Ca].strokeMode=w.default.STROKE_MODE_LINE;qa()},modifies:{tool:!0}},CPBezier:{action:function(){Ga[Ca].strokeMode=
w.default.STROKE_MODE_BEZIER;qa()},modifies:{tool:!0}},CPAbout:{action:function(){(new c.default(Ma)).show()},modifies:{}},CPShortcuts:{action:function(){(new p.default(Ma)).show()},modifies:{}},CPTabletSupport:{action:function(){(new n.default(Ma)).show()},modifies:{}},CPLayerDuplicate:{action:function(){na.artwork.duplicateLayer()},modifies:{document:!0}},CPLayerMergeDown:{action:function(){na.artwork.mergeDown()},modifies:{document:!0},allowed:"isMergeDownAllowed"},CPGroupMerge:{action:function(){na.artwork.mergeGroup()},
modifies:{document:!0},allowed:"isMergeGroupAllowed"},CPLayerMergeAll:{action:function(){na.artwork.mergeAllLayers()},modifies:{document:!0},allowed:"isMergeAllLayersAllowed"},CPExpandLayerGroup:{action:function(sa){na.artwork.expandLayerGroup(sa.group,sa.expand)},modifies:{document:!0}},CPFill:{action:function(){na.artwork.fill(na.getCurColor().getRgb()|4278190080)},modifies:{document:!0},requiresDrawable:!0},CPClear:{action:function(){na.artwork.clear()},modifies:{document:!0},requiresDrawable:!0},
CPSelectAll:{action:function(){na.artwork.rectangleSelection(na.artwork.getBounds());jb.repaintAll()},modifies:{document:!0}},CPDeselectAll:{action:function(){na.artwork.rectangleSelection(new O.default(0,0,0,0));jb.repaintAll()},modifies:{document:!0}},CPHFlip:{action:function(){na.artwork.hFlip()},modifies:{document:!0},requiresDrawable:!0},CPVFlip:{action:function(){na.artwork.vFlip()},modifies:{document:!0},requiresDrawable:!0},CPMNoise:{action:function(){na.artwork.monochromaticNoise()},modifies:{document:!0},
requiresDrawable:!0},CPCNoise:{action:function(){na.artwork.colorNoise()},modifies:{document:!0},allowed:"isColorNoiseAllowed"},CPFXBoxBlur:{action:function(){db||=new e.default(Ma,na);db.show()},modifies:{document:!0},requiresDrawable:!0},CPFXInvert:{action:function(){na.artwork.invert()},modifies:{document:!0},requiresDrawable:!0},CPCut:{action:function(){na.artwork.cutSelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCutSelectionAllowed"},CPCopy:{action:function(){na.artwork.copySelection()},
modifies:{document:!0},requiresDrawable:!0,allowed:"isCopySelectionAllowed"},CPCopyMerged:{action:function(){na.artwork.copySelectionMerged()},modifies:{document:!0},allowed:"isCopySelectionMergedAllowed"},CPPaste:{action:function(){na.artwork.pasteClipboard()},modifies:{document:!0},allowed:"isPasteClipboardAllowed"},CPToggleGrid:{action:function(sa){jb.showGrid(sa.selected)},modifies:{gui:!0}},CPGridOptions:{action:function(){ub||=new v.default(Ma,jb);ub.show()},modifies:{gui:!0}},CPLinearInterpolation:{action:function(sa){jb.setInterpolation(sa.selected)},
modifies:{gui:!0},isSupported:function(){return(0,C.isCanvasInterpolationSupported)()}},CPResetCanvasRotation:{action:function(){jb.resetRotation()},modifies:{gui:!0}},CPAddLayer:{action:function(){na.artwork.addLayer("layer")},modifies:{document:!0}},CPAddGroup:{action:function(){na.artwork.addLayer("group")},modifies:{document:!0}},CPAddLayerMask:{action:function(){na.artwork.addLayerMask()},modifies:{document:!0},allowed:"isAddLayerMaskAllowed"},CPApplyLayerMask:{action:function(){na.artwork.applyLayerMask(!0)},
modifies:{document:!0},allowed:"isApplyLayerMaskAllowed"},CPRemoveLayerMask:{action:function(){na.artwork.removeLayerMask(!1)},modifies:{document:!0},allowed:"isRemoveLayerMaskAllowed"},CPRemoveLayer:{action:function(){na.artwork.removeLayer()||alert("Sorry, you can't remove the last remaining layer in the drawing.")},modifies:{document:!0},allowed:"isRemoveLayerAllowed"},CPCreateClippingMask:{action:function(){na.artwork.createClippingMask()},modifies:{document:!0},allowed:"isCreateClippingMaskAllowed"},
CPReleaseClippingMask:{action:function(){na.artwork.releaseClippingMask()},modifies:{document:!0},allowed:"isReleaseClippingMaskAllowed"},CPRelocateLayer:{action:function(sa){na.artwork.relocateLayer(sa.layer,sa.toGroup,sa.toIndex)},modifies:{document:!0}},CPSetActiveLayer:{action:function(sa){sa.mask&&sa.layer.mask&&!sa.layer.maskVisible&&na.artwork.setLayerMaskVisible(sa.layer,!0);na.artwork.setActiveLayer(sa.layer,sa.mask);na.artwork.performIdleTasks()},modifies:{document:!0}},CPToggleMaskView:{action:function(){var sa=
na.artwork.toggleMaskView();sa&&na.emitEvent("maskViewOpened",[sa])},modifies:{gui:!0}},CPSetMaskVisible:{action:function(sa){na.artwork.setLayerMaskVisible(sa.layer,sa.visible)},modifies:{layerProp:!0}},CPSetLayerVisibility:{action:function(sa){na.artwork.setLayerVisibility(sa.layer,sa.visible)},modifies:{layerProp:!0}},CPSetLayerName:{action:function(sa){na.artwork.setLayerName(sa.layer,sa.name)},modifies:{layerProp:!0}},CPSetLayerBlendMode:{action:function(sa){na.artwork.setLayerBlendMode(sa.blendMode)},
modifies:{layerProp:!0}},CPSetLayerAlpha:{action:function(sa){na.artwork.setLayerAlpha(sa.alpha)},modifies:{layerProp:!0}},CPSetLayerLockAlpha:{action:function(sa){na.artwork.setLayerLockAlpha(sa.lock)},modifies:{layerProp:!0}},CPPalColor:new J("color"),CPPalBrush:new J("brush"),CPPalLayers:new J("layers"),CPPalStroke:new J("stroke"),CPPalSwatches:new J("swatches"),CPPalTool:new J("tool"),CPPalMisc:new J("misc"),CPPalTextures:new J("textures"),CPTogglePalettes:{action:function(){ab.togglePalettes()},
modifies:{gui:!0}},CPArrangePalettes:{action:function(){ab.arrangePalettes()},modifies:{gui:!0}},CPSave:{action:function(){aa()},isSupported:function(){return!1!==N.allowDownload},modifies:{document:!0}},CPSend:{action:function(){ha()},isSupported:function(){return!!N.saveUrl},modifies:{document:!0}},CPPost:{action:function(){window.location=N.postUrl},isSupported:function(){return!!N.postUrl},modifies:{document:!0}},CPContinue:{action:function(){},isSupported:function(){return!!N.allowMultipleSends}},
CPExit:{action:function(){window.location=N.exitUrl},isSupported:function(){return!!N.exitUrl},modifies:{}}};J.prototype.action=function(sa){ab.showPalette(this.palName,sa.selected)};J.prototype.modifies={gui:!0};R.prototype.action=function(){Q(this.toolNum)};R.prototype.modifies={mode:!0,tool:!0};R.prototype.requiresDrawable=!0;fa.prototype.action=function(){ka(this.modeNum)};fa.prototype.modifies={mode:!0};this.callToolListeners=function(){qa()};this.getArtwork=function(){return this.artwork};this.setCanvas=
function(sa){jb=sa};this.setTransformInterpolation=function(sa){this.artwork.setTransformInterpolation(sa)};this.setCurColor=function(sa){switch(pa){case b.COLOR_MODE_RGB:T.isEqual(sa)||(T.copyFrom(sa),this.artwork.setForegroundColor(sa.getRgb()),this.emitEvent("colorChange",[sa]));break;case b.COLOR_MODE_GREYSCALE:if(sa=sa.getValue(),Z!=sa){var ma=B.default.greyToRGB(sa);this.artwork.setForegroundColor(ma);Z=sa;this.emitEvent("colorChange",[new B.default(ma)])}}};this.getCurColor=function(){switch(pa){case b.COLOR_MODE_RGB:return T.clone();
case b.COLOR_MODE_GREYSCALE:return new B.default(B.default.greyToRGB(Z))}};this.setCurGradient=function(sa){Va=sa.slice(0);this.emitEvent("gradientChange",[Va])};this.getCurGradient=function(){return Va.slice(0)};this.setBrushSize=function(sa){Ga[Ca].size=Math.max(1,Math.min(200,sa));qa()};this.getBrushSize=function(){return Ga[Ca].size};this.setAlpha=function(sa){Ga[Ca].alpha=sa;qa()};this.getAlpha=function(){return Ga[Ca].alpha};this.getCurMode=function(){return Ra};this.getCurTool=function(){return Ca};
this.getBrushInfo=function(){return Ga[Ca]};this.isActionSupported=function(sa){if(rb[sa]){var ma=k(rb[sa].isSupported);return"function"==ma?rb[sa].isSupported():"undefined"==ma?!0:rb[sa].isSupported}return!1};this.isActionAllowed=function(sa){return(sa=rb[sa])?"function"==typeof sa.allowed?sa.allowed():"string"==typeof sa.allowed?this.artwork[sa.allowed]():!sa.requiresDrawable||this.artwork.isActiveLayerDrawable():!1};this.showLayerNotification=function(sa,ma,Aa){this.emitEvent("layerNotification",
[sa,ma,Aa])};this.actionPerformed=function(sa){if(null!=this.artwork&&null!=jb){var ma=rb[sa.action];ma&&(Ra==b.M_TRANSFORM&&(ma.modifies.document||ma.modifies.mode)&&-1==["CPTransformAccept","CPTransformReject"].indexOf(sa.action)?"CPUndo"==sa.action?rb.CPTransformReject.action():"CPTransform"!=sa.action&&(ma=new f.default(Ma,this),ma.on("accept",this.actionPerformed.bind(this,sa)),ma.on("reject",this.actionPerformed.bind(this,sa)),ma.show()):ma.action(sa))}};this.setSmallScreenMode=function(sa){Da!==
sa&&(Da=sa,(0,d.default)(Ma).toggleClass("chickenpaint-small-screen",Da),na.emitEvent("smallScreen",[Da]))};this.getSmallScreenMode=function(){return Da};this.setFullScreen=function(sa){ua!==sa&&(ua=sa,(0,d.default)("body").toggleClass("chickenpaint-full-screen",ua),(0,d.default)(Ma).toggleClass("chickenpaint-full-screen",ua),ua&&0===(0,d.default)("head meta[name=viewport]").length?((0,d.default)("head").append('<meta name="viewport" content="width=device-width,user-scalable=no">'),setTimeout(function(){return na.emitEvent("fullScreen",
[ua])},200)):na.emitEvent("fullScreen",[ua]))};this.isFullScreen=function(){return ua};this.setToolbarStyle=function(sa){Ia.set("toolbarStyle",sa);Ia.save()};this.getToolbarStyle=function(){return Ia.get("toolbarStyle")};this.getResourcesRoot=function(){return N.resourcesRoot};u();Ma&&((0,C.isFlexboxSupported)()||(Ma.className+=" no-flexbox"),Ma.className+=" chickenpaint chickenpaint-lang-"+(0,G.currentLanguage)());N.resourcesRoot=N.resourcesRoot||"chickenpaint/";N.disableBootstrapAPI&&(0,d.default)(document).off(".data-api");
this.setSmallScreenMode(430>(0,d.default)(window).width()||430>(0,d.default)(window).height());switch(N.fullScreenMode){case "force":this.setFullScreen(!0);break;case "auto":this.setFullScreen(Da)}Ia.on("toolbarStyle",function(sa){return xa.emitEvent("toolbarStyleChange",[sa])});if(N.loadImageUrl||N.loadChibiFileUrl){var Pa=new l.default(N);new q.default(Ma,Pa,N.resourcesRoot);Pa.on("loadingComplete",function(sa){na.artwork=sa.layers||sa.flat;ta(sa.swatches,N.rotation);if(N.onLoaded)N.onLoaded(this)});
Pa.load()}else if(N.artwork?this.artwork=N.artwork:(this.artwork=new a.default(N.canvasWidth||800,N.canvasHeight||600),this.artwork.addBackgroundLayer()),ta(),N.onLoaded)N.onLoaded(this)}Object.defineProperty(D,"__esModule",{value:!0});D.default=b;g("core-js/stable/symbol/index.js");g("core-js/stable/promise/index.js");g("core-js/stable/map/index.js");g("core-js/stable/set/index.js");g("core-js/stable/typed-array/slice.js");g("core-js/stable/typed-array/fill.js");g("core-js/stable/array/iterator.js");
g("core-js/stable/array/fill.js");g("core-js/stable/string/ends-with.js");var d=y(g("jquery"));g("../lib/raf.js");var w=y(g("./engine/CPBrushInfo.js")),a=y(g("./engine/CPArtwork.js")),l=y(g("./engine/CPResourceLoader.js")),r=y(g("./engine/CPResourceSaver.js")),q=y(g("./gui/CPSplashScreen.js")),h=y(g("./gui/CPMainGUI.js")),c=y(g("./gui/CPAboutDialog.js")),f=y(g("./gui/CPConfirmTransformDialog.js")),p=y(g("./gui/CPShortcutsDialog.js")),e=y(g("./gui/CPBoxBlurDialog.js")),n=y(g("./gui/CPTabletDialog.js")),
v=y(g("./gui/CPGridDialog.js")),A=y(g("./gui/CPSendDialog.js")),C=g("./util/CPPolyfill.js"),B=y(g("./util/CPColor.js")),I=y(g("./util/CPWacomTablet.js")),O=y(g("./util/CPRect.js")),z=y(g("wolfy87-eventemitter")),G=g("./languages/lang.js"),H=y(g("./gui/CPUserPreferences.js"));window.PointerEvent&&(window.hasNativePointerEvents=!0);g("pepjs");b.prototype=Object.create(z.default.prototype);b.prototype.constructor=b;b.UnsupportedBrowserException=function(N){this.message=N};b.UnsupportedBrowserException.prototype.toString=
function(){var N="Sorry, your web browser does not support ChickenPaint.";return N=this.message?N+(" "+this.message):N+" Please try a modern browser like Chrome, Safari, Firefox, or Edge."};b.M_DRAW=0;b.M_FLOODFILL=1;b.M_RECT_SELECTION=2;b.M_MOVE_TOOL=3;b.M_ROTATE_CANVAS=4;b.M_COLOR_PICKER=5;b.M_GRADIENTFILL=6;b.M_TRANSFORM=7;b.M_PAN_CANVAS=8;b.T_PENCIL=0;b.T_ERASER=1;b.T_PEN=2;b.T_SOFTERASER=3;b.T_AIRBRUSH=4;b.T_DODGE=5;b.T_BURN=6;b.T_WATER=7;b.T_BLUR=8;b.T_SMUDGE=9;b.T_BLENDER=10;b.T_MAX=11;b.COLOR_MODE_RGB=
0;b.COLOR_MODE_GREYSCALE=1;K.exports=D.default},{"../lib/raf.js":69,"./engine/CPArtwork.js":3,"./engine/CPBrushInfo.js":8,"./engine/CPResourceLoader.js":20,"./engine/CPResourceSaver.js":21,"./gui/CPAboutDialog.js":23,"./gui/CPBoxBlurDialog.js":24,"./gui/CPConfirmTransformDialog.js":32,"./gui/CPGridDialog.js":34,"./gui/CPMainGUI.js":36,"./gui/CPSendDialog.js":42,"./gui/CPShortcutsDialog.js":43,"./gui/CPSplashScreen.js":45,"./gui/CPTabletDialog.js":48,"./gui/CPUserPreferences.js":51,"./languages/lang.js":54,
"./util/CPColor.js":58,"./util/CPPolyfill.js":60,"./util/CPRect.js":63,"./util/CPWacomTablet.js":66,"core-js/stable/array/fill.js":286,"core-js/stable/array/iterator.js":287,"core-js/stable/map/index.js":288,"core-js/stable/promise/index.js":289,"core-js/stable/set/index.js":290,"core-js/stable/string/ends-with.js":291,"core-js/stable/symbol/index.js":292,"core-js/stable/typed-array/fill.js":293,"core-js/stable/typed-array/slice.js":294,jquery:296,pepjs:313,"wolfy87-eventemitter":314}],2:[function(g,
K,D){Object.defineProperty(D,"__esModule",{value:!0});D.createCanvas=function(y,k){var u=document.createElement("canvas");u.width=y;u.height=k;return u};D.createImageData=function(y,k){return document.createElement("canvas").getContext("2d").createImageData(y,k)}},{}],3:[function(g,K,D){function y(ta){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(xa){return typeof xa}:function(xa){return xa&&"function"==typeof Symbol&&xa.constructor===Symbol&&
xa!==Symbol.prototype?"symbol":typeof xa},y(ta)}function k(ta){return ta&&ta.__esModule?ta:{default:ta}}function u(){u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(ta,xa,na){var Ma;for(Ma=ta;!Object.prototype.hasOwnProperty.call(Ma,xa)&&(Ma=q(Ma),null!==Ma););if(Ma)return Ma=Object.getOwnPropertyDescriptor(Ma,xa),Ma.get?Ma.get.call(3>arguments.length?ta:na):Ma.value};return u.apply(this,arguments)}function E(ta,xa){if(!(ta instanceof xa))throw new TypeError("Cannot call a class as a function");
}function b(ta,xa){for(var na=0;na<xa.length;na++){var Ma=xa[na];Ma.enumerable=Ma.enumerable||!1;Ma.configurable=!0;"value"in Ma&&(Ma.writable=!0);var jb=Object,ab=jb.defineProperty;a:{var T=Ma.key;if("object"===y(T)&&null!==T){var Z=T[Symbol.toPrimitive];if(void 0!==Z){T=Z.call(T,"string");if("object"!==y(T))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}T=String(T)}}T="symbol"===y(T)?T:String(T);ab.call(jb,ta,T,Ma)}}function d(ta,xa,na){xa&&b(ta.prototype,xa);na&&b(ta,
na);Object.defineProperty(ta,"prototype",{writable:!1});return ta}function w(ta,xa){if("function"!==typeof xa&&null!==xa)throw new TypeError("Super expression must either be null or a function");ta.prototype=Object.create(xa&&xa.prototype,{constructor:{value:ta,writable:!0,configurable:!0}});Object.defineProperty(ta,"prototype",{writable:!1});xa&&a(ta,xa)}function a(ta,xa){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(na,Ma){na.__proto__=Ma;return na};return a(ta,xa)}function l(ta){var xa=
r();return function(){var na=q(ta);if(xa){var Ma=q(this).constructor;na=Reflect.construct(na,arguments,Ma)}else na=na.apply(this,arguments);if(!na||"object"!==y(na)&&"function"!==typeof na){if(void 0!==na)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");na=this}return na}}function r(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;
if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ta){return!1}}function q(ta){q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xa){return xa.__proto__||Object.getPrototypeOf(xa)};return q(ta)}function h(ta,xa){var na="undefined"!==typeof Symbol&&ta[Symbol.iterator]||ta["@@iterator"];if(!na){if(Array.isArray(ta)||(na=c(ta))||xa&&ta&&"number"===typeof ta.length){na&&(ta=na);var Ma=0;xa=function(){};return{s:xa,
n:function(){return Ma>=ta.length?{done:!0}:{done:!1,value:ta[Ma++]}},e:function(Z){throw Z;},f:xa}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var jb=!0,ab=!1,T;return{s:function(){na=na.call(ta)},n:function(){var Z=na.next();jb=Z.done;return Z},e:function(Z){ab=!0;T=Z},f:function(){try{jb||null==na.return||na.return()}finally{if(ab)throw T;}}}}function c(ta,xa){if(ta){if("string"===
typeof ta)return f(ta,xa);var na=Object.prototype.toString.call(ta).slice(8,-1);"Object"===na&&ta.constructor&&(na=ta.constructor.name);if("Map"===na||"Set"===na)return Array.from(ta);if("Arguments"===na||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(na))return f(ta,xa)}}function f(ta,xa){if(null==xa||xa>ta.length)xa=ta.length;for(var na=0,Ma=Array(xa);na<xa;na++)Ma[na]=ta[na];return Ma}function p(ta){return ta.substring(0,1).toUpperCase()+ta.substring(1)}function e(ta,xa){return ta+xa}function n(ta){return ta?
ta.width*ta.height*4:0}function v(ta,xa){function na(U){vc=!1;if(0<lc.size||0<kc.size)U?Z():gc||setTimeout(Z,1E3)}function Ma(){eb.emitEvent("changeSelection",[])}function jb(U){eb.emitEvent("updateRegion",[U])}function ab(){eb.emitEvent("changeStructure");tb.resetTree();Ga();jb(eb.getBounds())}function T(U,ja,Ba){eb.emitEvent("changeLayer",[U]);Ba||(tb.layerPropertyChanged(U,ja),jb(eb.getBounds()))}function Z(){var U=h(lc),ja;try{for(U.s();!(ja=U.n()).done;){var Ba=ja.value;Ba.rebuildImageThumbnail();
eb.emitEvent("changeLayerImageThumb",[Ba])}}catch(Ha){U.e(Ha)}finally{U.f()}U=h(kc);var ca;try{for(U.s();!(ca=U.n()).done;){var va=ca.value;va.rebuildMaskThumbnail();eb.emitEvent("changeLayerMaskThumb",[va])}}catch(Ha){U.e(Ha)}finally{U.f()}lc.clear();gc&&(clearTimeout(gc),gc=null)}function pa(U,ja,Ba,ca){Array.isArray(U)||(U=[U]);U.forEach(function(Ka){return tb.invalidateLayerRect(Ka,ja)});var va=!1;if(Ba){vb.union(ja);Ba=h(U);var Ha;try{for(Ba.s();!(Ha=Ba.n()).done;){var Xa=Ha.value;Xa instanceof
A.default&&(lc.add(Xa),va=!0)}}catch(Ka){Ba.e(Ka)}finally{Ba.f()}}ca&&(nb.union(ja),U.forEach(function(Ka){kc.add(Ka);Ib&&Ib.layer==Ka&&Ib.invalidateRect(ja)}),va=!0);va&&(gc&&(clearTimeout(gc),gc=null),vc||(gc=setTimeout(Z,1E3)));jb(ja)}function Ca(U,ja){pa(U,ja,!sb,sb)}function Ra(){return sb?Wa.mask:Wa.image}function xb(){if(!jc.isEmpty()){if(sb){var U=Wa.mask;Rb.brushMode==N.default.BRUSH_MODE_ERASE?bc[N.default.BRUSH_MODE_PAINT].mergeOntoMask(U,P,4278190080):bc[Rb.brushMode].mergeOntoMask(U,
P,fc&255)}else{U=Wa.image;var ja=Wa.getLockAlpha();Rb.brushMode==N.default.BRUSH_MODE_ERASE&&ja?bc[N.default.BRUSH_MODE_PAINT].mergeOntoImage(U,ic,16777215):bc[Rb.brushMode].mergeOntoImage(U,ic,fc);ja&&U.copyAlphaFrom(ic,jc)}jc.makeEmpty()}}function Va(){Wa instanceof A.default&&!vb.isEmpty()&&(ic.copyBitmapRect(Wa.image,vb.left,vb.top,vb),vb.makeEmpty())}function Da(){Wa.mask&&!nb.isEmpty()&&(P.copyBitmapRect(Wa.mask,nb.left,nb.top,nb),nb.makeEmpty())}function ua(){sb?Da():Va()}function Ga(){var U=
eb.getBounds();vb.set(U);nb.set(U)}function Ia(U){eb.setHasUnsavedChanges(!0);0<Tb.length&&(Tb=[]);0!==Ob.length&&Ob[Ob.length-1].merge(U)?Ob[Ob.length-1].noChange()&&Ob.pop():(30<=Ob.length&&Ob.shift(),eb.compactUndo(),Ob.push(U))}function db(U,ja){U||ja||(U=!sb,ja=sb);var Ba=cc.clone(),ca=U?ic.copyRectXOR(Wa.image,Ba):null,va=ja?P.copyRectXOR(Wa.mask,Ba):null;this.layer=Wa;cc.makeEmpty();this.redo=this.undo=function(){ca&&this.layer.image.setRectXOR(ca,Ba);va&&this.layer.mask.setRectXOR(va,Ba);
pa(this.layer,Ba,null!=ca,null!=va)};this.getMemoryUsed=function(Ha,Xa){return(ca?ca.length:0)+(va?va.length:0)}}function ub(U){var ja=U.maskLinked,Ba=U.maskVisible;this.undo=function(){U.setMask(null);U.maskLinked=ja;U.maskVisible=Ba;ab();eb.setActiveLayer(U,!1)};this.redo=function(){var ca=new I.default(eb.width,eb.height,8);ca.clearAll(255);U.maskLinked=!0;U.maskVisible=!0;U.setMask(ca);ab();eb.setActiveLayer(U,!0)};this.redo()}function rb(U,ja){var Ba=U.mask,ca=!1;var va=ja&&U instanceof A.default?
U.image.clone():null;ca=Wa==U&&sb;this.undo=function(){U.setMask(Ba);va&&(U.image.copyPixelsFrom(va),pa(U,U.image.getBounds(),!0,!1));ca&&eb.setActiveLayer(U,!0);ab()};this.redo=function(){va&&(B.default.multiplyAlphaByMask(U.image,100,U.mask),pa(U,eb.getBounds(),!0,!1));ca&&eb.setActiveLayer(U,!1);U.setMask(null);ab()};this.redo()}function Pa(U,ja,Ba){var ca=Ba instanceof A.default&&Ba.clip,va=U.layers[ja],Ha=va instanceof A.default&&va.clip,Xa=sb;this.undo=function(){U.removeLayer(Ba);var Ka=U.layers[ja-
1]||U.layers[0]||U;va instanceof A.default&&(va.clip=Ha);Ba instanceof A.default&&(Ba.clip=ca);ab();eb.setActiveLayer(Ka,Xa)};this.redo=function(){U.insertLayer(ja,Ba);Ha&&(Ba instanceof A.default?Ba.clip=!0:va.clip=!1);ab();eb.setActiveLayer(Ba,!1)};this.redo()}function sa(U){var ja=U.clone(),Ba=sb;this.undo=function(){ja.parent.removeLayer(ja);ab();eb.setActiveLayer(U,Ba)};this.redo=function(){var ca=U.name;ca.endsWith(" Copy")||(ca+=" Copy");ja.name=ca;U.parent.insertLayer(U.parent.indexOf(U)+
1,ja);ab();eb.setActiveLayer(ja,!1)};this.redo()}function ma(U){var ja=U.parent,Ba=ja.indexOf(U),ca=sb,va=0;if(U instanceof A.default&&!U.clip)for(var Ha=Ba+1;Ha<ja.layers.length;Ha++)if(ja.layers[Ha]instanceof A.default&&ja.layers[Ha].clip)va++;else break;this.undo=function(){ja.insertLayer(Ba,U);for(var Xa=0;Xa<va;Xa++)ja.layers[Xa+Ba+1].clip=!0;ab();eb.setActiveLayer(U,ca)};this.redo=function(){for(var Xa=0;Xa<va;Xa++)ja.layers[Xa+Ba+1].clip=!1;ja.removeLayerAtIndex(Ba);Xa=0==ja.layers.length?
U.parent:ja.layers[Math.max(Ba-1,0)];ab();eb.setActiveLayer(Xa,!1)};this.getMemoryUsed=function(Xa,Ka){return Xa?0:U.getMemoryUsed()};this.redo()}function Aa(U){var ja=U.parent.indexOf(U),Ba=sb,ca=new A.default(eb.width,eb.height,"");this.undo=function(){U.parent.setLayerAtIndex(ja,U);ab();eb.setActiveLayer(U,Ba)};this.redo=function(){U.parent.setLayerAtIndex(ja,ca);ab();eb.setActiveLayer(ca,!1)};this.getMemoryUsed=function(Ha,Xa){return Ha?0:U.getMemoryUsed()};var va=new O.default(U,eb.width,eb.height,
!1);va.buildTree();va=va.blendTree();ca.name=U.name;ca.alpha=va.alpha;ca.image=va.image;ca.blendMode=va.blendMode;ca.mask=va.mask;ca.blendMode==B.default.LM_PASSTHROUGH&&(ca.blendMode=B.default.LM_NORMAL);this.redo()}function Fa(U){var ja=U.parent,Ba=ja.layers[ja.indexOf(U)-1],ca=new A.default(eb.width,eb.height,""),va=sb;this.undo=function(){var Ha=ja.indexOf(ca);ja.removeLayerAtIndex(Ha);ja.insertLayer(Ha,U);ja.insertLayer(Ha,Ba);ab();eb.setActiveLayer(U,va)};this.redo=function(){ca.copyFrom(Ba);
0<U.getEffectiveAlpha()&&(ca.mask?(B.default.multiplyAlphaByMask(ca.image,ca.alpha,ca.mask),ca.mask=null):B.default.multiplyAlphaBy(ca.image,ca.alpha),ca.alpha=100,B.default.fuseImageOntoImage(ca.image,!0,U.image,U.alpha,U.blendMode,U.getBounds(),U.mask));var Ha=ja.indexOf(Ba);ja.removeLayerAtIndex(Ha);ja.removeLayerAtIndex(Ha);ja.insertLayer(Ha,ca);ab();eb.setActiveLayer(ca,!1)};this.getMemoryUsed=function(Ha,Xa){return Ha?0:U.getMemoryUsed()+ca.getMemoryUsed()};this.redo()}function Na(){var U=eb.getActiveLayer(),
ja=Ja.layers.slice(0),Ba=new A.default(eb.width,eb.height,"");this.undo=function(){Ja.layers=ja.slice(0);ab();eb.setActiveLayer(U,!1)};this.redo=function(){var ca=eb.fusionLayers();Ba.copyImageFrom(ca);Ja.clearLayers();Ba.setName(eb.getDefaultLayerName(!1));Ja.addLayer(Ba);ab();eb.setActiveLayer(Ba,!1)};this.getMemoryUsed=function(ca,va){return ja.map(function(Ha){return Ha.getMemoryUsed()}).reduce(e,0)};this.redo()}function ib(U,ja,Ba){var ca=U.parent,va=U.parent.indexOf(U),Ha=sb,Xa=ca.layers[ca.indexOf(U)+
1],Ka=ja.layers[Ba],Za=U instanceof A.default&&U.clip,$a=Za?U.getClippingBase():!1,lb=0,Lb=0;if(U instanceof A.default&&!U.clip)for(var Eb=va+1;Eb<ca.layers.length;Eb++)if(ca.layers[Eb]instanceof A.default&&ca.layers[Eb].clip)lb++;else break;else if(U instanceof C.default)for(Eb=Ba;Eb<ja.layers.length;Eb++)if(ja.layers[Eb]instanceof A.default&&ja.layers[Eb].clip)Lb++;else break;this.undo=function(){U.parent.removeLayer(U);var Nb=Xa?ca.indexOf(Xa):ca.layers.length;ca.insertLayer(Nb,U);U instanceof
A.default&&(U.clip=Za);for(Nb=0;Nb<lb;Nb++)ca.layers[Nb+va+1].clip=!0;for(Nb=0;Nb<Lb;Nb++)ja.layers[Nb+Ba].clip=!0;ab();eb.setActiveLayer(U,Ha)};this.redo=function(){for(var Nb=0;Nb<lb;Nb++)ca.layers[Nb+va+1].clip=!1;U.parent.removeLayer(U);Nb=Ka?ja.indexOf(Ka):ja.layers.length;ja.insertLayer(Nb,U);for(var oc=0;oc<Lb;oc++)ja.layers[oc+Nb+1].clip=!1;U instanceof A.default&&(U.clip&&U.getClippingBase()!=$a&&(U.clip=!1),Ka instanceof A.default&&Ka.clip&&(U.clip=!0));for(oc=0;oc<Lb;oc++)ja.layers[oc+
Nb+1].clip=!1;ab();eb.setActiveLayer(U,!1)};this.redo()}function mb(U,ja){var Ba=p(U),ca=function(va,Ha){Array.isArray(va)||(va=[va]);this.layers=va;this.from=this.layers.map(function(Xa){return Xa["get"+Ba]()});this.to=Ha;this.redo()};ca.prototype=Object.create(J.default.prototype);ca.prototype.constructor=ca;ca.prototype.undo=function(){var va=this;this.layers.forEach(function(Ha,Xa){return Ha["set"+Ba](va.from[Xa])});this.layers.forEach(function(Ha){return T(Ha,U,!ja)})};ca.prototype.redo=function(){var va=
this;this.layers.forEach(function(Ha){return Ha["set"+Ba](va.to)});this.layers.forEach(function(Ha){return T(Ha,U,!ja)})};ca.prototype.merge=function(va){var Ha;if(Ha=va instanceof ca)a:{Ha=this.layers;var Xa=va.layers;if(Ha.length!=Xa.length)Ha=!1;else{for(var Ka=0;Ka<Ha.length;Ka++)if(Ha[Ka]!=Xa[Ka]){Ha=!1;break a}Ha=!0}}return Ha?(this.to=va.to,!0):!1};ca.prototype.noChange=function(){for(var va=0;va<this.from.length;va++)if(this.from[va]!=this.to)return!1;return!0};return ca}function zb(U,ja){U=
U.clone();ja=ja.clone();this.undo=function(){eb.setSelection(U);jb(eb.getBounds())};this.redo=function(){eb.setSelection(ja);jb(eb.getBounds())};this.noChange=function(){return U.equals(ja)}}function Qa(U,ja,Ba){var ca=ja?U.mask:U.image,va=ca.cloneRect(Ba);Ba=Ba.clone();this.undo=function(){ca.copyBitmapRect(va,Ba.left,Ba.top,va.getBounds());eb.setActiveLayer(U,ja);eb.setSelection(Ba);pa(U,Ba,!ja,ja)};this.redo=function(){ja?ca.clearRect(Ba,0):ca.clearRect(Ba,16777215);Sb=new R.default(va,Ba.left,
Ba.top);eb.setActiveLayer(U,ja);eb.emptySelection();pa(U,Ba,!ja,ja)};this.getMemoryUsed=function(Ha,Xa){return va==Xa?0:va.getMemorySize()};this.redo()}function Sa(U){var ja=eb.getSelection(),Ba=sb,ca=new A.default(eb.width,eb.height,eb.getDefaultLayerName(!1)),va=Wa,Ha=va.parent;this.undo=function(){Ha.removeLayer(ca);eb.setSelection(ja);ab();eb.setActiveLayer(va,Ba)};this.redo=function(){var Xa=Ha.indexOf(va),Ka=U.bmp.getBounds();Ha.insertLayer(Xa+1,ca);if(Ka.isInside(eb.getBounds())){Xa=U.x;var Za=
U.y}else Xa=(eb.width-U.bmp.width)/2|0,Za=(eb.height-U.bmp.height)/2|0;if(U.bmp instanceof I.default){var $a=new G.default(U.bmp.width,U.bmp.height);$a.copyPixelsFromGreyscale(U.bmp);ca.image.copyBitmapRect($a,Xa,Za,Ka)}else ca.image.copyBitmapRect(U.bmp,Xa,Za,Ka);eb.emptySelection();ab();eb.setActiveLayer(ca,!1)};this.getMemoryUsed=function(Xa,Ka){return U.bmp==Ka?0:U.bmp.getMemorySize()};this.redo()}ta|=0;xa|=0;var Ja=new C.default("Root",B.default.LM_NORMAL),tb=new O.default(Ja,ta,xa,!0),ic=new G.default(ta,
xa),vb=new Y.default(0,0,ta,xa),P=new I.default(ta,xa,8),nb=new Y.default(0,0,ta,xa),qc=new I.default(ta,xa,32),jc=new Y.default(0,0,0,0),Qb=new H.default,eb=this,bc=[],Wa=Ja,sb=!1,Ib=null,cc=new Y.default(0,0,0,0),Mb=!1,tc=new Y.default(0,0,0,0),rc=null,wc=new qa.default,Gb=null,Sb=null,Ob=[],Tb=[],Rb=null,qb=0,Vb=0,kb=0,ac=!1,vc=!1,kc=new Set,lc=new Set,gc=null,fc=0,nc="smooth";this.getLayersRoot=function(){return Ja};this.getSelectionAutoSelect=function(){return tc.isEmpty()?this.getBounds():this.getSelection()};
this.getSelection=function(){return tc.clone()};this.setHasUnsavedChanges=function(U){U!=Mb&&(Mb=U,this.emitEvent("unsavedChanges",[U]))};this.getHasUnsavedChanges=function(){return Mb};this.isAddLayerMaskAllowed=function(){return!Wa.mask};this.addLayerMask=function(){this.isAddLayerMaskAllowed()&&Ia(new ub(Wa))};this.isRemoveLayerMaskAllowed=function(){return null!==Wa.mask};this.removeLayerMask=function(){this.isRemoveLayerMaskAllowed()&&Ia(new rb(Wa,!1))};this.isApplyLayerMaskAllowed=function(){return null!==
Wa.mask&&Wa instanceof A.default};this.applyLayerMask=function(U){this.isApplyLayerMaskAllowed()&&Ia(new rb(Wa,!0))};this.addLayer=function(U){if(Wa instanceof C.default&&Wa.expanded){var ja=Wa;var Ba=Wa.layers.length}else ja=Wa.parent,Ba=ja.layers.indexOf(Wa)+1;switch(U){case "group":for(;ja.layers[Ba]instanceof A.default&&ja.layers[Ba].clip;)Ba++;U=new C.default(this.getDefaultLayerName(!0),B.default.LM_PASSTHROUGH);break;default:U=new A.default(this.width,this.height,this.getDefaultLayerName(!1)),
U.image.clearAll(16777215)}Ia(new Pa(ja,Ba,U));return U};this.addLayerObject=function(U,ja){U.addLayer(ja);U==Ja&&1==Ja.layers.length&&(Wa=ja);ab()};this.addLayerGroupObject=function(U,ja,Ba){for(var ca=[],va=0;va<Ba;va++)ca.unshift(U.layers.pop());ca.forEach(function(Ha){return ja.addLayer(Ha)});this.addLayerObject(U,ja)};this.isRemoveLayerAllowed=function(){return Wa instanceof A.default?Ja.getLinearizedLayerList(!1).some(function(U){return U instanceof A.default&&U!=Wa}):Wa instanceof C.default?
Ja.getLinearizedLayerList(!1).some(function(U){return U instanceof A.default&&!U.hasAncestor(Wa)}):!1};this.removeLayer=function(){return this.isRemoveLayerAllowed()?(Ia(new ma(Wa)),!0):!1};this.duplicateLayer=function(){Ia(new sa(Wa))};this.isMergeDownAllowed=function(){var U=Wa.parent.indexOf(Wa);return 0<U&&Wa instanceof A.default&&Wa.parent.layers[U-1]instanceof A.default};this.mergeDown=function(){this.isMergeDownAllowed()&&Ia(new Fa(Wa))};this.isMergeGroupAllowed=function(){return Wa instanceof
C.default&&0<Wa.getEffectiveAlpha()};this.mergeGroup=function(){this.isMergeGroupAllowed()&&Ia(new Aa(Wa))};this.isMergeAllLayersAllowed=function(){return 1<Ja.getLinearizedLayerList(!1).length};this.mergeAllLayers=function(){this.isMergeAllLayersAllowed()&&Ia(new Na)};this.relocateLayer=function(U,ja,Ba){U&&ja&&U!=ja&&!ja.hasAncestor(U)&&Ia(new ib(U,ja,Ba))};this.setLayerVisibility=function(U,ja){var Ba=[];if(U.ancestorsAreVisible())U.visible!=ja&&Ia(new yc(U,ja));else{for(;null!=U;U=U.parent)U.visible||
Ba.push(U);Ia(new yc(Ba,!0))}};this.expandLayerGroup=function(U,ja){U.expanded!=ja&&(U.expanded=ja,!ja&&Wa.hasAncestor(U)&&this.setActiveLayer(U,!1),T(U,"expanded",!0))};this.setLayerAlpha=function(U){Wa.getAlpha()!=U&&Ia(new xc(Wa,U))};this.setLayerMaskLinked=function(U){Wa.maskLinked!=U&&Ia(new za(Wa,U))};this.setLayerMaskVisible=function(U,ja){U.maskVisible!=ja&&Ia(new zc(U,ja))};this.setLayerBlendMode=function(U){Wa.getBlendMode()!=U&&(U!=B.default.LM_PASSTHROUGH||Wa instanceof C.default)&&Ia(new Mc(Wa,
U))};this.setLayerName=function(U,ja){U.getName()!=ja&&Ia(new Cc(U,ja))};this.paintDab=function(U,ja,Ba){Rb.applyPressure(Ba);0<Rb.scattering&&(U+=wc.nextGaussian()*Rb.curScattering/4,ja+=wc.nextGaussian()*Rb.curScattering/4);Ba=bc[Rb.brushMode];U=Qb.getDab(U,ja,Rb);ja=new Y.default(0,0,U.width,U.height);var ca=new Y.default(0,0,U.width,U.height);ca.translate(U.x,U.y);eb.getBounds().clipSourceDest(ja,ca);if(!ca.isEmpty()){cc.union(ca);var va=sb?Wa.mask:Wa.image;Ba.paintDab(va,ca,ac&&!sb?rc:va,Rb,
ja,U,fc);!sb&&Ba.noMergePhase&&Wa.getLockAlpha()&&va.copyAlphaFrom(ic,ca);Ba.wantsOutputAsInput&&(xb(),ac&&!sb&&eb.fusionLayers());Ca(Wa,ca)}};this.getDefaultLayerName=function(U){var ja=U?"Group ":"Layer ";U=U?/^Group [0-9]+$/:/^Layer [0-9]+$/;for(var Ba=0,ca=Ja.getLinearizedLayerList(!1),va=0;va<ca.length;va++){var Ha=ca[va];U.test(Ha.name)&&(Ba=Math.max(Ba,parseInt(Ha.name.substring(ja.length),10)))}return ja+(Ba+1)};this.addBackgroundLayer=function(){var U=new A.default(eb.width,eb.height,this.getDefaultLayerName(!1));
U.image.clearAll(4294967295);this.addLayerObject(this.getLayersRoot(),U)};this.fusionLayers=function(){xb();tb.buildTree();return rc=tb.blendTree().image};this.upgradeMultiplyLayers=function(U){for(var ja=this.getLayersRoot().getLinearizedLayerList(!1,[]),Ba=-1,ca=0;ca<ja.length;ca++){var va=ja[ca];if(!(va instanceof A.default)||va.mask||va.blendMode>B.default.LM_LAST_CHIBIPAINT)throw Error("Bad layer type during multiply upgrade");va.blendMode===B.default.LM_MULTIPLY&&(Ba=ca)}if(-1!==Ba){ca=new G.default(this.width,
this.height);var Ha=va=!0,Xa=this.getBounds();ca.clearAll(Xa,16777215);for(var Ka=0;Ka<=Ba;Ka++){var Za=ja[Ka];Ha||(va=va&&ca.hasAlphaInRect(Xa));if(Za.blendMode===B.default.LM_MULTIPLY)switch(U){case "bake":!va&&0<Za.getEffectiveAlpha()&&(100===Za.alpha?B.default.upgradeMultiplyOfOpaqueLayer(ca,Za.image,100,Xa):B.default.upgradeMultiplyOfTransparentLayer(ca,Za.image,Za.alpha,Xa),Za.setBlendMode(B.default.LM_MULTIPLY2));break;default:va&&Za.setBlendMode(B.default.LM_MULTIPLY2)}0<Za.getEffectiveAlpha()&&
(Ha=!1,B.default.fuseImageOntoImage(ca,va,Za.image,Za.alpha,Za.blendMode,Xa,null))}}};this.isCreateClippingMaskAllowed=function(){var U=Wa.parent.indexOf(Wa);U=Wa.parent.layers[U-1];return Wa instanceof A.default&&!Wa.clip&&U instanceof A.default};this.createClippingMask=function(){this.isCreateClippingMaskAllowed()&&Ia(new Dc(Wa,!0))};this.isReleaseClippingMaskAllowed=function(){return Wa instanceof A.default&&Wa.clip};this.releaseClippingMask=function(){this.isReleaseClippingMaskAllowed()&&Ia(new Dc(Wa,
!1))};this.setActiveLayer=function(U,ja){if(U){ja=U.mask&&ja;var Ba=ja!=sb;if(Wa!=U||Ba){var ca=Wa;Wa=U;sb=ja;Ga();this.emitEvent("changeActiveLayer",[ca,U,sb]);Ba&&this.emitEvent("editModeChanged",[sb?v.EDITING_MODE_MASK:v.EDITING_MODE_IMAGE]);Ib&&Ib.layer==ca&&(ja?Ib.setLayer(U):this.closeMaskView())}}};this.closeMaskView=function(){Ib.close();Ib=null};this.toggleMaskView=function(){null!=Ib&&Ib.isOpen()?this.closeMaskView():Ib=Wa.mask?new z.default(Wa,xb):null;return Ib};this.selectTopmostVisibleLayer=
function(){for(var U=Ja.getLinearizedLayerList(!1),ja=U.length-1;0<=ja;ja--)if(U[ja]instanceof A.default&&0<U[ja].getEffectiveAlpha()){this.setActiveLayer(U[ja],!1);return}for(ja=U.length-1;0<=ja;ja--)if(U[ja]instanceof A.default){this.setActiveLayer(U[ja],!1);return}this.setActiveLayer(U[U.length-1],!1)};this.getActiveLayer=function(){return Wa};this.isEditingMask=function(){return sb};this.isActiveLayerDrawable=function(){return sb&&Wa.mask||!sb&&Wa instanceof A.default};this.getUndoMemoryUsed=
function(){for(var U=0,ja=0,Ba=Tb;ja<Ba.length;ja++)U+=Ba[ja].getMemoryUsed(!0,null);ja=0;for(Ba=Ob;ja<Ba.length;ja++)U+=Ba[ja].getMemoryUsed(!1,null);return U};this.isUndoAllowed=function(){return 0<Ob.length};this.isRedoAllowed=function(){return 0<Tb.length};this.undo=function(){if(this.isUndoAllowed()){this.setHasUnsavedChanges(!0);var U=Ob.pop();U.undo();Tb.push(U)}};this.redo=function(){if(this.isRedoAllowed()){this.setHasUnsavedChanges(!0);var U=Tb.pop();U.redo();Ob.push(U)}};this.performIdleTasks=
function(){ua();xb();tb.buildTree()};this.compactUndo=function(){0<Ob.length&&Ob[Ob.length-1].compact()};this.clearHistory=function(){Ob=[];Tb=[]};this.colorPicker=function(U,ja){return sb&&Wa.mask?fa.default.greyToRGB(Wa.mask.getPixel(~~U,~~ja)):rc.getPixel(~~U,~~ja)&16777215};this.setSelection=function(U){tc.set(U);tc.roundNearest();tc.clipTo(this.getBounds())};this.emptySelection=function(){tc.makeEmpty()};this.floodFill=function(U,ja){var Ba=Ra();Ba&&(ua(),cc=this.getBounds(),Ba.floodFill(~~U,
~~ja,fc|4278190080),Ia(new db),Ca(Wa,this.getBounds()))};this.gradientFill=function(U,ja,Ba,ca,va){var Ha=this.getSelectionAutoSelect(),Xa=Ra();Xa&&(ua(),cc=Ha.clone(),Xa.gradient(Ha,U,ja,Ba,ca,va,!1),this.getLayerLockAlpha()&&Xa instanceof G.default&&Xa.copyAlphaFrom(ic,Ha),Ia(new db),Ca(Wa,Ha))};this.fill=function(U){var ja=this.getSelectionAutoSelect(),Ba=Ra();Ba&&(ua(),cc=ja.clone(),Ba.clearRect(ja,U),Ia(new db),Ca(Wa,ja))};this.clear=function(){sb?this.fill(0):this.fill(16777215)};this.flip=
function(U){var ja=this.getSelection(),Ba=ja.isEmpty(),ca=Ba&&Wa instanceof A.default&&Wa.mask&&Wa.maskLinked,va=(!sb||ca)&&Wa instanceof A.default;ca=(sb||ca)&&Wa.mask;U=U?"copyRegionHFlip":"copyRegionVFlip";if(va||ca)Ba&&(ja=this.getBounds()),cc=ja.clone(),va&&(Va(),Wa.image[U](ja,ic)),ca&&(Da(),Wa.mask[U](ja,P)),Ia(new db(va,ca)),pa(Wa,ja,va,ca)};this.hFlip=function(){this.flip(!0)};this.vFlip=function(){this.flip(!1)};this.monochromaticNoise=function(){var U=this.getSelectionAutoSelect(),ja=Ra();
ja&&(ua(),cc=U.clone(),ja.fillWithNoise(U),Ia(new db),Ca(Wa,U))};this.isColorNoiseAllowed=function(){return!this.isEditingMask()&&this.isActiveLayerDrawable()};this.colorNoise=function(){if(this.isColorNoiseAllowed()){var U=this.getSelectionAutoSelect();ua();cc=U.clone();Wa.image.fillWithColorNoise(U);Ia(new db(!0,!1));pa(Wa,U,!0,!1)}};this.invert=function(){var U=this.getSelectionAutoSelect(),ja=Ra();ja&&(ua(),cc=U.clone(),ja.invert(U),Ia(new db),Ca(Wa,U))};this.boxBlur=function(U,ja,Ba){var ca=
this.getSelectionAutoSelect(),va=Ra();if(va){ua();cc=ca.clone();for(var Ha=0;Ha<Ba;Ha++)va.boxBlur(ca,U,ja);Ia(new db);Ca(Wa,ca)}};this.rectangleSelection=function(U){U=U.clone();U.clipTo(this.getBounds());Ia(new zb(this.getSelection(),U));this.setSelection(U)};this.move=function(U,ja,Ba){U|=0;ja|=0;if(0!=U||0!=ja){var ca=0<Ob.length?Ob[Ob.length-1]:null;!Ba&&ca instanceof ob&&ca.layer==this.getActiveLayer()?(ca.amend(U,ja),Tb=[],this.setHasUnsavedChanges(!0)):(U=new ob(U,ja,Ba),Ia(U),U.redo())}};
this.setTransformInterpolation=function(U){nc=U;Gb instanceof bb&&Gb.setInterpolation(U)};this.transformAffineAbort=function(){Gb instanceof bb&&(Gb.undo(),Gb=null,na(!0))};this.transformAffineBegin=function(){if(Gb instanceof bb)return{transform:Gb.getTransform(),rect:Gb.getInitialTransformRect(),selection:Gb.getInitialSelectionRect()};var U=new ka.default;var ja=new bb(U,nc);if(ja.getInitialTransformRect().isEmpty())return null;Gb=ja;vc=!0;return{transform:U,rect:ja.getInitialTransformRect(),selection:ja.getInitialSelectionRect()}};
this.transformAffineFinish=function(){Gb instanceof bb&&(Ia(Gb),Gb=null,na(!0))};this.transformAffineAmend=function(U){Gb instanceof bb&&Gb.amend(U)};this.isCopySelectionAllowed=this.isCutSelectionAllowed=function(){return!this.getSelection().isEmpty()&&null!==Ra()};this.cutSelection=function(){this.isCutSelectionAllowed()&&Ia(new Qa(Wa,sb,this.getSelection()))};this.copySelection=function(){if(this.isCopySelectionAllowed()){var U=eb.getSelection(),ja=Ra();Sb=new R.default(ja.cloneRect(U),U.left,
U.top)}};this.isCopySelectionMergedAllowed=function(){return!this.getSelection().isEmpty()};this.copySelectionMerged=function(){if(this.isCopySelectionMergedAllowed()){var U=eb.getSelection();Sb=new R.default(this.fusionLayers().cloneRect(U),U.left,U.top)}};this.isPasteClipboardAllowed=function(){return!this.isClipboardEmpty()};this.pasteClipboard=function(){this.isPasteClipboardAllowed()&&Ia(new Sa(Sb))};this.getClipboard=function(){return Sb};this.setClipboard=function(U){Sb=U};this.isClipboardEmpty=
function(){return null==Sb};this.setSampleAllLayers=function(U){ac=U};this.getLayerLockAlpha=function(){return this.getActiveLayer().getLockAlpha()};this.setLayerLockAlpha=function(U){Wa.getLockAlpha()!=U&&Ia(new ba(Wa,U))};this.setForegroundColor=function(U){fc=U};this.setBrush=function(U){Rb=U};this.setBrushTexture=function(U){Qb.setTexture(U)};this.beginStroke=function(U,ja,Ba){if(null===Rb||!this.isActiveLayerDrawable())return!1;ua();cc.makeEmpty();qc.clearAll(0);jc.makeEmpty();qb=U;Vb=ja;kb=
Ba;vc=!0;bc[Rb.brushMode].beginStroke();this.paintDab(U,ja,Ba);return!0};this.continueStroke=function(U,ja,Ba){if(null!=Rb){var ca=Math.sqrt((qb-U)*(qb-U)+(Vb-ja)*(Vb-ja)),va=Math.max(Rb.minSpacing,Rb.curSize*Rb.spacing);if(ca>va){var Ha=qb,Xa=Vb,Ka=kb;for(va=ca=(va-.001)/ca;1>=va;va+=ca)Ha=va*U+(1-va)*qb,Xa=va*ja+(1-va)*Vb,Ka=va*Ba+(1-va)*kb,this.paintDab(Ha,Xa,Ka);qb=Ha;Vb=Xa;kb=Ka}}};this.endStroke=function(){null!=Rb&&(xb(),bc[Rb.brushMode].endStroke(),cc.clipTo(this.getBounds()),cc.isEmpty()||
(Ia(new db),ua()),na(!1))};this.hasAlpha=function(){return rc.hasAlpha()};this.getFlatPNG=function(U){this.fusionLayers();return rc.getAsPNG(U)};this.getFlatPNGBuffer=function(U){this.fusionLayers();return rc.getAsPNGBuffer(U)};this.isSimpleDrawing=function(){return 1==Ja.layers.length&&Ja.layers[0]instanceof A.default&&!Ja.layers[0].mask&&100==Ja.layers[0].getEffectiveAlpha()};db.prototype=Object.create(J.default.prototype);db.prototype.constructor=db;ub.prototype=Object.create(J.default.prototype);
ub.prototype.constructor=ub;rb.prototype=Object.create(J.default.prototype);rb.prototype.constructor=rb;Pa.prototype=Object.create(J.default.prototype);Pa.prototype.constructor=Pa;sa.prototype=Object.create(J.default.prototype);sa.prototype.constructor=sa;ma.prototype=Object.create(J.default.prototype);ma.prototype.constructor=ma;Aa.prototype=Object.create(J.default.prototype);Aa.prototype.constructor=Aa;Fa.prototype=Object.create(J.default.prototype);Fa.prototype.constructor=Fa;Na.prototype=Object.create(J.default.prototype);
Na.prototype.constructor=Na;ib.prototype=Object.create(J.default.prototype);ib.prototype.constructor=ib;var xc=mb("alpha",!0),Mc=mb("blendMode",!0),yc=mb("visible",!0),Dc=mb("clip",!0),zc=mb("maskVisible",!0),Cc=mb("name",!1),ba=mb("lockAlpha",!1),za=mb("maskLinked",!1);zb.prototype=Object.create(J.default.prototype);zb.prototype.constructor=zb;var Oa=function(U){function ja(){E(this,ja);var ca=Ba.call(this);ca.layer=Wa;ca.fromSelection=eb.getSelection();ca.fromMaskMode=sb;ca.movingWholeLayer=ca.fromSelection.isEmpty();
ca.movingImage=!sb||ca.movingWholeLayer&&ca.layer.maskLinked;ca.movingMask=sb||ca.movingWholeLayer&&ca.layer.maskLinked;ca.hasFullUndo=!1;ca.erasesSourceRect=!1;ca.dstRect=new Y.default(0,0,0,0);ca.movingLayers=[{layer:ca.layer,moveImage:ca.layer instanceof A.default&&ca.movingImage,moveMask:null!==ca.layer.mask&&ca.movingMask,imageRect:new Map,maskRect:new Map}];ca.layer instanceof C.default&&ca.movingImage&&ca.movingWholeLayer&&(ca.movingLayers=ca.movingLayers.concat(ca.layer.getLinearizedLayerList(!1).map(function(Ka){return{layer:Ka,
moveImage:Ka instanceof A.default,moveMask:null!==Ka.mask&&Ka.maskLinked,imageRect:new Map,maskRect:new Map}})));var va=new Y.default(0,0,0,0);if(ca.movingWholeLayer){ca.srcRect=eb.getBounds();for(var Ha=0;Ha<ca.movingLayers.length&&!va.equals(ca.srcRect);Ha++){var Xa=ca.movingLayers[Ha];Xa.moveMask&&va.union(Xa.layer.mask.getValueBounds(ca.srcRect,255));Xa.moveImage&&va.union(Xa.layer.image.getNonTransparentBounds(ca.srcRect))}}else for(ca.srcRect=ca.fromSelection.clone(),Ha=0;Ha<ca.movingLayers.length&&
!va.equals(ca.srcRect);Ha++)Xa=ca.movingLayers[Ha],Xa.moveMask&&va.union(Xa.layer.mask.getValueBounds(ca.srcRect,0)),Xa.moveImage&&va.union(Xa.layer.image.getNonTransparentBounds(ca.srcRect));ca.srcRect=va;return ca}w(ja,U);var Ba=l(ja);d(ja,[{key:"undo",value:function(){var ca=this,va=[];this.dstRect.isEmpty()||va.push(this.dstRect);this.erasesSourceRect&&(va.push(this.srcRect),va=Y.default.union(va));this.movingLayers.forEach(function(Ha){ca.hasFullUndo?va.forEach(function(Xa){Ha.moveImage&&Ha.layer.image.copyBitmapRect(Ha.imageUndo,
Xa.left,Xa.top,Xa);Ha.moveMask&&Ha.layer.mask.copyBitmapRect(Ha.maskUndo,Xa.left,Xa.top,Xa)}):(Ha.moveImage&&Ha.imageRect.forEach(function(Xa,Ka){Ha.layer.image.copyBitmapRect(Xa,Ka.left,Ka.top,Xa.getBounds())}),Ha.moveMask&&Ha.maskRect.forEach(function(Xa,Ka){Ha.layer.mask.copyBitmapRect(Xa,Ka.left,Ka.top,Xa.getBounds())}))});pa(this.movingLayers.map(function(Ha){return Ha.layer}),va.reduce(function(Ha,Xa){return Ha.getUnion(Xa)},new Y.default(0,0,0,0)),!0,!0);this.dstRect.makeEmpty();eb.setSelection(this.fromSelection);
eb.setActiveLayer(this.layer,this.fromMaskMode);Ma()}},{key:"getMemoryUsed",value:function(ca,va){return this.movingLayers.map(function(Ha){return[Ha.imageUndo,Ha.maskUndo,Ha.imageRect,Ha.maskRect].map(function(Xa){return Xa?Xa.getMemorySize():0}).reduce(e,0)}).reduce(e,0)}},{key:"buildFullUndo",value:function(){this.hasFullUndo||(this.movingLayers.forEach(function(ca){ca.moveImage&&(ca.imageUndo=ca.layer.image.clone());ca.moveMask&&(ca.maskUndo=ca.layer.mask.clone());ca.imageRect.clear();ca.maskRect.clear()}),
this.hasFullUndo=!0)}},{key:"compact",value:function(){if(this.hasFullUndo){var ca=[];this.dstRect.isEmpty()||ca.push(this.dstRect);this.erasesSourceRect&&(ca.push(this.srcRect),ca=Y.default.union(ca));this.movingLayers.forEach(function(va){va.imageRect.clear();va.maskRect.clear();ca.forEach(function(Ha){va.moveImage&&va.imageRect.set(Ha,va.imageUndo.cloneRect(Ha));va.moveMask&&va.maskRect.set(Ha,va.maskUndo.cloneRect(Ha))});va.imageUndo=null;va.maskUndo=null});this.hasFullUndo=!1}}}]);return ja}(J.default),
bb=function(U){function ja(ca,va){E(this,ja);var Ha=Ba.call(this);Ha.erasesSourceRect=!0;Ha.affineTransform=ca.clone();Ha.interpolation=va||"smooth";Ha.composeCanvas=null;Ha.composeCanvasContext=null;return Ha}w(ja,U);var Ba=l(ja);d(ja,[{key:"buildFullUndo",value:function(){var ca=this;this.hasFullUndo||(u(q(ja.prototype),"buildFullUndo",this).call(this),this.movingLayers.forEach(function(va){if(va.moveImage){var Ha=(0,aa.createCanvas)(ca.srcRect.getWidth(),ca.srcRect.getHeight());Ha.getContext("2d").putImageData(va.layer.image.getImageData(),
-ca.srcRect.left,-ca.srcRect.top,ca.srcRect.left,ca.srcRect.top,ca.srcRect.getWidth(),ca.srcRect.getHeight());va.imageSourceCanvas=Ha}va.moveMask&&(Ha=(0,aa.createCanvas)(ca.srcRect.getWidth(),ca.srcRect.getHeight()),Ha.getContext("2d").putImageData(va.layer.mask.getImageData(ca.srcRect.left,ca.srcRect.top,ca.srcRect.getWidth(),ca.srcRect.getHeight()),0,0),va.maskSourceCanvas=Ha)}),this.composeCanvas=(0,aa.createCanvas)(eb.width,eb.height),this.composeCanvasContext=this.composeCanvas.getContext("2d",
{willReadFrequently:!0}),(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.junk=this.composeCanvasContext.getImageData(0,0,1,1))}},{key:"redo",value:function(){var ca=this;this.buildFullUndo();var va=this.dstRect.clone(),Ha=this.srcRect.toPoints();this.affineTransform.transformPoints(Ha);this.dstRect.set(Y.default.createBoundingBox(Ha).roundContain().clipTo(eb.getBounds()));var Xa=Y.default.subtract(this.dstRect,this.srcRect),Ka=Y.default.subtract(va.isEmpty()?
this.srcRect:this.srcRect.getIntersection(va),this.dstRect),Za=this.srcRect.getIntersection(this.dstRect),$a=Y.default.subtract(va,[this.dstRect,this.srcRect]);va=this.srcRect.getUnion(this.dstRect).getUnion(va);this.movingLayers.forEach(function(lb){Ka.forEach(function(Eb){lb.moveImage&&lb.layer.image.clearRect(Eb,16777215);lb.moveMask&&(ca.movingWholeLayer?lb.layer.mask.clearRect(Eb,255):lb.layer.mask.clearRect(Eb,0))});if(!ca.dstRect.isEmpty()){if(lb.moveImage){var Lb=lb.imageUndo.getImageData();
Xa.forEach(function(Eb){ca.composeCanvasContext.putImageData(Lb,0,0,Eb.left,Eb.top,Eb.getWidth(),Eb.getHeight())});ca.composeCanvasContext.clearRect(Za.left,Za.top,Za.getWidth(),Za.getHeight());ca.composeCanvasContext.save();ca.composeCanvasContext.setTransform(ca.affineTransform.m[0],ca.affineTransform.m[1],ca.affineTransform.m[2],ca.affineTransform.m[3],ca.affineTransform.m[4],ca.affineTransform.m[5]);ca.composeCanvasContext.drawImage(lb.imageSourceCanvas,ca.srcRect.left,ca.srcRect.top);ca.composeCanvasContext.restore();
lb.layer.image.copyBitmapRect(new G.default(ca.composeCanvasContext.getImageData(ca.dstRect.left,ca.dstRect.top,ca.dstRect.getWidth(),ca.dstRect.getHeight())),ca.dstRect.left,ca.dstRect.top,new Y.default(0,0,ca.dstRect.getWidth(),ca.dstRect.getHeight()))}lb.moveMask&&(Xa.forEach(function(Eb){ca.composeCanvasContext.putImageData(lb.layer.mask.getImageData(Eb.left,Eb.top,Eb.getWidth(),Eb.getHeight()),Eb.left,Eb.top)}),ca.composeCanvasContext.fillStyle=ca.movingWholeLayer?"#FFF":"#000",ca.composeCanvasContext.fillRect(Za.left,
Za.top,Za.getWidth(),Za.getHeight()),ca.composeCanvasContext.save(),ca.composeCanvasContext.setTransform(ca.affineTransform.m[0],ca.affineTransform.m[1],ca.affineTransform.m[2],ca.affineTransform.m[3],ca.affineTransform.m[4],ca.affineTransform.m[5]),ca.composeCanvasContext.drawImage(lb.maskSourceCanvas,ca.srcRect.left,ca.srcRect.top),ca.composeCanvasContext.restore(),lb.layer.mask.pasteImageData(ca.composeCanvasContext.getImageData(ca.dstRect.left,ca.dstRect.top,ca.dstRect.getWidth(),ca.dstRect.getHeight()),
ca.dstRect.left,ca.dstRect.top))}$a.forEach(function(Eb){lb.moveImage&&lb.layer.image.copyBitmapRect(lb.imageUndo,Eb.left,Eb.top,Eb);lb.moveMask&&lb.layer.mask.copyBitmapRect(lb.maskUndo,Eb.left,Eb.top,Eb)})});pa(this.movingLayers.map(function(lb){return lb.layer}),va,!0,!0);this.fromSelection.isEmpty()||(va=this.fromSelection.toPoints(),this.affineTransform.transformPoints(va),va=Y.default.createBoundingBox(va),va.roundNearest(),eb.setSelection(va),Ma());eb.setActiveLayer(this.layer,this.fromMaskMode)}},
{key:"amend",value:function(ca){this.hasFullUndo||this.undo();this.affineTransform=ca.clone();this.redo()}},{key:"setInterpolation",value:function(ca){ca!=this.interpolation&&(this.interpolation=ca,this.composeCanvasContext&&(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.undo(),this.redo())}},{key:"compact",value:function(){u(q(ja.prototype),"compact",this).call(this);this.composeCanvasContext=this.composeCanvas=null;this.movingLayers.forEach(function(ca){return ca.imageSourceCanvas=
null})}},{key:"getMemoryUsed",value:function(ca,va){ca=u(q(ja.prototype),"getMemoryUsed",this).call(this,ca,va);ca+=n(this.composeCanvas);return ca+=this.movingLayers.map(function(Ha){return n(Ha.imageSourceCanvas)}).reduce(e,0)}},{key:"getTransform",value:function(){return this.affineTransform.clone()}},{key:"getInitialTransformRect",value:function(){return this.srcRect.clone()}},{key:"getInitialSelectionRect",value:function(){return this.fromSelection.clone()}}]);return ja}(Oa),ob=function(U){function ja(ca,
va,Ha){E(this,ja);var Xa=Ba.call(this);Xa.offsetX=ca;Xa.offsetY=va;Xa.erasesSourceRect=!Ha;return Xa}w(ja,U);var Ba=l(ja);d(ja,[{key:"redo",value:function(){var ca=this,va=this.dstRect.clone(),Ha=va.clone(),Xa=null;this.buildFullUndo();this.dstRect.set(this.srcRect);this.dstRect.translate(this.offsetX,this.offsetY);var Ka=this.dstRect.clone();this.dstRect.clipTo(eb.getBounds());if(this.erasesSourceRect){Xa=va.isEmpty()?this.srcRect:this.srcRect.getIntersection(va);Ha.union(Xa);var Za=va.subtract(this.srcRect)}else Za=
[va];this.movingLayers.forEach(function($a){Xa&&($a.moveImage&&$a.layer.image.clearRect(Xa,16777215),$a.moveMask&&$a.layer.mask.clearRect(Xa,ca.movingWholeLayer?255:0));Za.forEach(function(lb){$a.moveImage&&$a.layer.image.copyBitmapRect($a.imageUndo,lb.left,lb.top,lb);$a.moveMask&&$a.layer.mask.copyBitmapRect($a.maskUndo,lb.left,lb.top,lb)});$a.moveImage&&B.default.normalFuseImageOntoImageAtPosition($a.layer.image,$a.imageUndo,Ka.left,Ka.top,ca.srcRect);$a.moveMask&&$a.layer.mask.copyBitmapRect($a.maskUndo,
Ka.left,Ka.top,ca.srcRect)});Ha.union(this.dstRect);pa(this.movingLayers.map(function($a){return $a.layer}),Ha,!0,!0);this.fromSelection.isEmpty()||(va=this.fromSelection.clone(),va.translate(this.offsetX,this.offsetY),eb.setSelection(va),Ma())}},{key:"amend",value:function(ca,va){this.hasFullUndo||this.undo();this.offsetX+=ca;this.offsetY+=va;this.redo()}}]);return ja}(Oa);Qa.prototype=Object.create(J.default.prototype);Qa.prototype.constructor=Qa;Sa.prototype=Object.create(J.default.prototype);
Sa.prototype.constructor=Sa;bc=[ra.CPBrushTool,ra.CPBrushToolEraser,ra.CPBrushToolDodge,ra.CPBrushToolBurn,ra.CPBrushToolWatercolor,ra.CPBrushToolBlur,ra.CPBrushToolSmudge,ra.CPBrushToolOil].map(function(U){return new U(qc,jc)});this.width=ta;this.height=xa}Object.defineProperty(D,"__esModule",{value:!0});D.default=v;var A=k(g("./CPImageLayer.js")),C=k(g("./CPLayerGroup.js")),B=k(g("./CPBlend.js"));g("./CPBlendAdditional.js");var I=k(g("./CPGreyBmp.js")),O=k(g("./CPBlendTree.js")),z=k(g("./CPMaskView.js")),
G=k(g("./CPColorBmp.js")),H=k(g("./CPBrushManager.js")),N=k(g("./CPBrushInfo.js")),J=k(g("./CPUndo.js")),R=k(g("./CPClip.js")),fa=k(g("../util/CPColor.js")),Y=k(g("../util/CPRect.js")),qa=k(g("../util/CPRandom.js")),ka=k(g("../util/CPTransform.js")),Q=g("../util/CPPolyfill.js"),aa=g("../util/Canvas.js"),ha=k(g("wolfy87-eventemitter")),ra=g("./CPBrushTool.js");v.prototype=Object.create(ha.default.prototype);v.prototype.constructor=v;v.prototype.getBounds=function(){return new Y.default(0,0,this.width,
this.height)};v.prototype.isPointWithin=function(ta,xa){return 0<=ta&&0<=xa&&ta<this.width&&xa<this.height};v.EDITING_MODE_IMAGE=0;v.EDITING_MODE_MASK=1;K.exports=D.default},{"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPRandom.js":62,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/Canvas.js":2,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPBlendTree.js":7,"./CPBrushInfo.js":8,"./CPBrushManager.js":9,"./CPBrushTool.js":10,"./CPClip.js":12,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,
"./CPImageLayer.js":15,"./CPLayerGroup.js":17,"./CPMaskView.js":19,"./CPUndo.js":22,"wolfy87-eventemitter":314}],4:[function(g,K,D){function y(u,E){this.width=u|0;this.height=E|0}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;var k=function(u){return u&&u.__esModule?u:{default:u}}(g("../util/CPRect.js"));y.prototype.getBounds=function(){return new k.default(0,0,this.width,this.height)};y.prototype.isInside=function(u,E){return 0<=u&&0<=E&&u<this.width&&E<this.height};K.exports=D.default},
{"../util/CPRect.js":63}],5:[function(g,K,D){function y(b){return b&&b.__esModule?b:{default:b}}function k(){}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;y(g("./CPColorBmp.js"));y(g("./CPGreyBmp.js"));y(g("./CPLayer.js"));y(g("../util/CPRect.js"));var u=Array(256),E=Array(256);k.multiplyOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=
d.data[a+3];if(c){var f=b.data[a];b.data[a]=f-((d.data[a]^255)*f*c/65025|0);f=b.data[a+1];b.data[a+1]=f-((d.data[a+1]^255)*f*c/65025|0);f=b.data[a+2];b.data[a+2]=f-((d.data[a+2]^255)*f*c/65025|0)}}};k.multiplyOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a];b.data[a]=p-((d.data[a]^255)*p*f/65025|0);p=b.data[a+
1];b.data[a+1]=p-((d.data[a+1]^255)*p*f/65025|0);p=b.data[a+2];b.data[a+2]=p-((d.data[a+2]^255)*p*f/65025|0)}}};k.multiplyOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,v=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*n+f*v+(c*f*e/255|0))/p|0;c=d.data[a+
1];f=b.data[a+1];b.data[a+1]=(c*n+f*v+(c*f*e/255|0))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*n+f*v+(c*f*e/255|0))/p|0;b.data[a+3]=p}}};k.multiplyOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,v=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=
(f*v+p*A+(f*p*n/255|0))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(f*v+p*A+(f*p*n/255|0))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(f*v+p*A+(f*p*n/255|0))/e|0;b.data[a+3]=e}}};k.multiplyOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h];
b.data[h]=n-((d.data[h]^255)*n*e/65025|0);n=b.data[h+1];b.data[h+1]=n-((d.data[h+1]^255)*n*e/65025|0);n=b.data[h+2];b.data[h+2]=n-((d.data[h+2]^255)*n*e/65025|0)}}};k.multiplyOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c];b.data[c]=
v-((d.data[c]^255)*v*n/65025|0);v=b.data[c+1];b.data[c+1]=v-((d.data[c+1]^255)*v*n/65025|0);v=b.data[c+2];b.data[c+2]=v-((d.data[c+2]^255)*v*n/65025|0)}}};k.multiplyOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h+3];var v=e+n-(e*n/255|
0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(e*C+n*B+(e*n*A/255|0))/v|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(e*C+n*B+(e*n*A/255|0))/v|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(e*C+n*B+(e*n*A/255|0))/v|0;b.data[h+3]=v}}};k.multiplyOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,
c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0,C=n*v/255|0,B=n*(v^255)/255|0,I=(n^255)*v/255|0;n=d.data[c];v=b.data[c];b.data[c]=(n*B+v*I+(n*v*C/255|0))/A|0;n=d.data[c+1];v=b.data[c+1];b.data[c+1]=(n*B+v*I+(n*v*C/255|0))/A|0;n=d.data[c+2];v=b.data[c+2];b.data[c+2]=(n*B+v*I+(n*v*C/255|0))/A|0;b.data[c+3]=A}}};k.multiply2OntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-
l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a];b.data[a]=f-Math.ceil((d.data[a]^255)*f*c/65025);f=b.data[a+1];b.data[a+1]=f-Math.ceil((d.data[a+1]^255)*f*c/65025);f=b.data[a+2];b.data[a+2]=f-Math.ceil((d.data[a+2]^255)*f*c/65025)}}};k.multiply2OntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=
0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a];b.data[a]=p-Math.ceil((d.data[a]^255)*p*f/65025);p=b.data[a+1];b.data[a+1]=p-Math.ceil((d.data[a+1]^255)*p*f/65025);p=b.data[a+2];b.data[a+2]=p-Math.ceil((d.data[a+2]^255)*p*f/65025)}}};k.multiply2OntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=
c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,v=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*n+f*v+(c*f*e/255|0))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*n+f*v+(c*f*e/255|0))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*n+f*v+(c*f*e/255|0))/p|0;b.data[a+3]=p}}};k.multiply2OntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+
3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,v=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(f*v+p*A+(f*p*n/255|0))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(f*v+p*A+(f*p*n/255|0))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(f*v+p*A+(f*p*n/255|0))/e|0;b.data[a+3]=e}}};k.multiply2OntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h];b.data[h]=n-Math.ceil((d.data[h]^255)*n*e/65025);n=b.data[h+1];b.data[h+1]=n-Math.ceil((d.data[h+1]^255)*n*e/65025);n=b.data[h+2];b.data[h+2]=n-Math.ceil((d.data[h+2]^255)*n*e/65025)}}};k.multiply2OntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c];b.data[c]=v-Math.ceil((d.data[c]^255)*v*n/65025);v=b.data[c+1];b.data[c+1]=v-Math.ceil((d.data[c+1]^255)*v*n/65025);v=b.data[c+2];b.data[c+2]=v-Math.ceil((d.data[c+2]^255)*v*n/65025)}}};k.multiply2OntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h+3];var v=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(e*C+n*B+(e*n*A/255|0))/v|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(e*C+n*B+(e*n*A/255|0))/v|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(e*C+n*B+(e*n*A/255|0))/v|0;b.data[h+3]=v}}};k.multiply2OntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|
0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0,C=n*v/255|0,B=n*(v^255)/255|0,I=(n^255)*v/255|0;n=d.data[c];v=b.data[c];b.data[c]=(n*B+v*I+(n*v*C/255|0))/A|0;n=d.data[c+1];v=b.data[c+1];b.data[c+1]=(n*B+v*I+(n*v*C/255|0))/A|0;n=d.data[c+2];v=b.data[c+2];b.data[c+2]=(n*B+v*I+(n*v*C/255|
0))/A|0;b.data[c+3]=A}}};k.normalOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c)if(255==c)b.data[a]=d.data[a],b.data[a+1]=d.data[a+1],b.data[a+2]=d.data[a+2];else{var f=255-c;var p=d.data[a];b.data[a]=(p*c+b.data[a]*f)/255|0;p=d.data[a+1];b.data[a+1]=(p*c+b.data[a+1]*f)/255|0;p=d.data[a+2];b.data[a+2]=(p*c+b.data[a+2]*f)/255|0}}};k.normalOntoOpaqueFusionWithTransparentLayer=
function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=255-f;var e=d.data[a];b.data[a]=(e*f+b.data[a]*p)/255|0;e=d.data[a+1];b.data[a+1]=(e*f+b.data[a+1]*p)/255|0;e=d.data[a+2];b.data[a+2]=(e*f+b.data[a+2]*p)/255|0}}};k.normalOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];f=c+f-(c*f/255|0)|0;c=255*c/f|0;var p=255-c;b.data[a]=(d.data[a]*c+b.data[a]*p)/255|0;b.data[a+1]=(d.data[a+1]*c+b.data[a+1]*p)/255|0;b.data[a+2]=(d.data[a+2]*c+b.data[a+2]*p)/255|0;b.data[a+3]=f}}};k.normalOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,
a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];p=f+p-(f*p/255|0)|0;f=255*f/p|0;var e=255-f;b.data[a]=(d.data[a]*f+b.data[a]*e)/255|0;b.data[a+1]=(d.data[a+1]*f+b.data[a+1]*e)/255|0;b.data[a+2]=(d.data[a+2]*f+b.data[a+2]*e)/255|0;b.data[a+3]=p}}};k.normalOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<
r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e)if(255==e)b.data[h]=d.data[h],b.data[h+1]=d.data[h+1],b.data[h+2]=d.data[h+2];else{var n=255-e;var v=d.data[h];b.data[h]=(v*e+b.data[h]*n)/255|0;v=d.data[h+1];b.data[h+1]=(v*e+b.data[h+1]*n)/255|0;v=d.data[h+2];b.data[h+2]=(v*e+b.data[h+2]*n)/255|0}}};k.normalOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=255-n;var A=d.data[c];b.data[c]=(A*n+b.data[c]*v)/255|0;A=d.data[c+1];b.data[c+1]=(A*n+b.data[c+1]*v)/255|0;A=d.data[c+2];b.data[c+2]=(A*n+b.data[c+2]*v)/255|0}}};k.normalOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=
0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h+3];n=e+n-(e*n/255|0)|0;e=255*e/n|0;var v=255-e;b.data[h]=(d.data[h]*e+b.data[h]*v)/255|0;b.data[h+1]=(d.data[h+1]*e+b.data[h+1]*v)/255|0;b.data[h+2]=(d.data[h+2]*e+b.data[h+2]*v)/255|0;b.data[h+3]=n}}};k.normalOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];v=n+v-(n*v/255|0)|0;n=255*n/v|0;var A=255-n;b.data[c]=(d.data[c]*n+b.data[c]*A)/255|0;b.data[c+1]=(d.data[c+1]*n+b.data[c+1]*A)/255|0;b.data[c+2]=(d.data[c+2]*n+b.data[c+2]*A)/255|0;b.data[c+3]=v}}};k.addOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=
0;h<l;h++,a+=4){var c=d.data[a+3];c&&(b.data[a]=b.data[a]+c*d.data[a]/255|0,b.data[a+1]=b.data[a+1]+c*d.data[a+1]/255|0,b.data[a+2]=b.data[a+2]+c*d.data[a+2]/255|0)}};k.addOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;f&&(b.data[a]=b.data[a]+f*d.data[a]/255|0,b.data[a+1]=b.data[a+1]+f*d.data[a+1]/255|0,b.data[a+2]=b.data[a+
2]+f*d.data[a+2]/255|0)}};k.addOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0;b.data[a]=(f*b.data[a]+c*d.data[a])/p|0;b.data[a+1]=(f*b.data[a+1]+c*d.data[a+1])/p|0;b.data[a+2]=(f*b.data[a+2]+c*d.data[a+2])/p|0;b.data[a+3]=p}}};k.addOntoTransparentFusionWithTransparentLayer=function(b,
d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0;b.data[a]=(p*b.data[a]+f*d.data[a])/e|0;b.data[a+1]=(p*b.data[a+1]+f*d.data[a+1])/e|0;b.data[a+2]=(p*b.data[a+2]+f*d.data[a+2])/e|0;b.data[a+3]=e}}};k.addOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,
a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;e&&(b.data[h]=b.data[h]+e*d.data[h]/255|0,b.data[h+1]=b.data[h+1]+e*d.data[h+1]/255|0,b.data[h+2]=b.data[h+2]+e*d.data[h+2]/255|0)}};k.addOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=
0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;n&&(b.data[c]=b.data[c]+n*d.data[c]/255|0,b.data[c+1]=b.data[c+1]+n*d.data[c+1]/255|0,b.data[c+2]=b.data[c+2]+n*d.data[c+2]/255|0)}};k.addOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+
3]*l.data[a]/255|0;if(e){var n=b.data[h+3];var v=e+n-(e*n/255|0)|0;b.data[h]=(n*b.data[h]+e*d.data[h])/v|0;b.data[h+1]=(n*b.data[h+1]+e*d.data[h+1])/v|0;b.data[h+2]=(n*b.data[h+2]+e*d.data[h+2])/v|0;b.data[h+3]=v}}};k.addOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+
3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0;b.data[c]=(v*b.data[c]+n*d.data[c])/A|0;b.data[c+1]=(v*b.data[c+1]+n*d.data[c+1])/A|0;b.data[c+2]=(v*b.data[c+2]+n*d.data[c+2])/A|0;b.data[c+3]=A}}};k.subtractOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];c&&(b.data[a]=b.data[a]+c*d.data[a]/255-c|0,b.data[a+1]=b.data[a+
1]+c*d.data[a+1]/255-c|0,b.data[a+2]=b.data[a+2]+c*d.data[a+2]/255-c|0)}};k.subtractOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;f&&(b.data[a]=b.data[a]+f*d.data[a]/255-f|0,b.data[a+1]=b.data[a+1]+f*d.data[a+1]/255-f|0,b.data[a+2]=b.data[a+2]+f*d.data[a+2]/255-f|0)}};k.subtractOntoTransparentFusionWithOpaqueLayer=function(b,
d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f;b.data[a]=(f*b.data[a]+c*d.data[a]-e)/p|0;b.data[a+1]=(f*b.data[a+1]+c*d.data[a+1]-e)/p|0;b.data[a+2]=(f*b.data[a+2]+c*d.data[a+2]-e)/p|0;b.data[a+3]=p}}};k.subtractOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|
0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p;b.data[a]=(p*b.data[a]+f*d.data[a]-n)/e|0;b.data[a+1]=(p*b.data[a+1]+f*d.data[a+1]-n)/e|0;b.data[a+2]=(p*b.data[a+2]+f*d.data[a+2]-n)/e|0;b.data[a+3]=e}}};k.subtractOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;e&&(b.data[h]=b.data[h]+e*d.data[h]/255-e|0,b.data[h+1]=b.data[h+1]+e*d.data[h+1]/255-e|0,b.data[h+2]=b.data[h+2]+e*d.data[h+2]/255-e|0)}};k.subtractOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,
c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;n&&(b.data[c]=b.data[c]+n*d.data[c]/255-n|0,b.data[c+1]=b.data[c+1]+n*d.data[c+1]/255-n|0,b.data[c+2]=b.data[c+2]+n*d.data[c+2]/255-n|0)}};k.subtractOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=
b.data[h+3];var v=e+n-(e*n/255|0)|0,A=e*n;b.data[h]=(n*b.data[h]+e*d.data[h]-A)/v|0;b.data[h+1]=(n*b.data[h+1]+e*d.data[h+1]-A)/v|0;b.data[h+2]=(n*b.data[h+2]+e*d.data[h+2]-A)/v|0;b.data[h+3]=v}}};k.subtractOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*
w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0,C=n*v;b.data[c]=(v*b.data[c]+n*d.data[c]-C)/A|0;b.data[c+1]=(v*b.data[c+1]+n*d.data[c+1]-C)/A|0;b.data[c+2]=(v*b.data[c+2]+n*d.data[c+2]-C)/A|0;b.data[c+3]=A}}};k.screenOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=b.data[a];b.data[a]=255^((p^255)*f+(d.data[a]^
255)*(p^255)*c/255)/255;p=b.data[a+1];b.data[a+1]=255^((p^255)*f+(d.data[a+1]^255)*(p^255)*c/255)/255;p=b.data[a+2];b.data[a+2]=255^((p^255)*f+(d.data[a+2]^255)*(p^255)*c/255)/255}}};k.screenOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=b.data[a];b.data[a]=255^((e^255)*p+(d.data[a]^255)*(e^255)*f/255)/
255;e=b.data[a+1];b.data[a+1]=255^((e^255)*p+(d.data[a+1]^255)*(e^255)*f/255)/255;e=b.data[a+2];b.data[a+2]=255^((e^255)*p+(d.data[a+2]^255)*(e^255)*f/255)/255}}};k.screenOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,v=(c^255)*f/255|0;c=d.data[a];f=b.data[a];
b.data[a]=255^((c^255)*n+(f^255)*v+(c^255)*(f^255)*e/255)/p;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=255^((c^255)*n+(f^255)*v+(c^255)*(f^255)*e/255)/p;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=255^((c^255)*n+(f^255)*v+(c^255)*(f^255)*e/255)/p;b.data[a+3]=p}}};k.screenOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=
b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,v=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=255^((f^255)*v+(p^255)*A+(f^255)*(p^255)*n/255)/e;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=255^((f^255)*v+(p^255)*A+(f^255)*(p^255)*n/255)/e;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=255^((f^255)*v+(p^255)*A+(f^255)*(p^255)*n/255)/e;b.data[a+3]=e}}};k.screenOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,
a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=e^255;var v=b.data[h];b.data[h]=255^((v^255)*n+(d.data[h]^255)*(v^255)*e/255)/255;v=b.data[h+1];b.data[h+1]=255^((v^255)*n+(d.data[h+1]^255)*(v^255)*e/255)/255;v=b.data[h+2];b.data[h+2]=255^((v^255)*n+(d.data[h+2]^255)*(v^255)*e/255)/255}}};k.screenOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|
0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=n^255;var A=b.data[c];b.data[c]=255^((A^255)*v+(d.data[c]^255)*(A^255)*n/255)/255;A=b.data[c+1];b.data[c+1]=255^((A^255)*v+(d.data[c+1]^255)*(A^255)*n/255)/255;A=b.data[c+2];b.data[c+2]=255^((A^255)*v+(d.data[c+2]^255)*(A^255)*n/255)/255}}};k.screenOntoTransparentFusionWithOpaqueLayerMasked=
function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h+3];var v=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=255^((e^255)*C+(n^255)*B+(e^255)*(n^255)*A/255)/v;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=255^((e^255)*C+(n^255)*B+(e^
255)*(n^255)*A/255)/v;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=255^((e^255)*C+(n^255)*B+(e^255)*(n^255)*A/255)/v;b.data[h+3]=v}}};k.screenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0,C=n*v/255|0,
B=n*(v^255)/255|0,I=(n^255)*v/255|0;n=d.data[c];v=b.data[c];b.data[c]=255^((n^255)*B+(v^255)*I+(n^255)*(v^255)*C/255)/A;n=d.data[c+1];v=b.data[c+1];b.data[c+1]=255^((n^255)*B+(v^255)*I+(n^255)*(v^255)*C/255)/A;n=d.data[c+2];v=b.data[c+2];b.data[c+2]=255^((n^255)*B+(v^255)*I+(n^255)*(v^255)*C/255)/A;b.data[c+3]=A}}};k.lightenOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=
0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=e>=p?e:(e*f+p*c)/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=e>=p?e:(e*f+p*c)/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=e>=p?e:(e*f+p*c)/255|0}}};k.lightenOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=
d.data[a];var n=b.data[a];b.data[a]=n>=e?n:(n*p+e*f)/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=n>=e?n:(n*p+e*f)/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=n>=e?n:(n*p+e*f)/255|0}}};k.lightenOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=f*(c^255)/p|0,n=e^255,v=c*(f^255)/p|0,A=
v^255;c=d.data[a];f=b.data[a];b.data[a]=(f>=c?c*v+f*A:f*e+c*n)/255|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(f>=c?c*v+f*A:f*e+c*n)/255|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(f>=c?c*v+f*A:f*e+c*n)/255|0;b.data[a+3]=p}}};k.lightenOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|
0)|0,n=p*(f^255)/e|0,v=n^255,A=f*(p^255)/e|0,C=A^255;f=d.data[a];p=b.data[a];b.data[a]=(p>=f?f*A+p*C:p*n+f*v)/255|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(p>=f?f*A+p*C:p*n+f*v)/255|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(p>=f?f*A+p*C:p*n+f*v)/255|0;b.data[a+3]=e}}};k.lightenOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,
a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=e^255;var v=d.data[h];var A=b.data[h];b.data[h]=A>=v?A:(A*n+v*e)/255|0;v=d.data[h+1];A=b.data[h+1];b.data[h+1]=A>=v?A:(A*n+v*e)/255|0;v=d.data[h+2];A=b.data[h+2];b.data[h+2]=A>=v?A:(A*n+v*e)/255|0}}};k.lightenOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=
0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=C>=A?C:(C*v+A*n)/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=C>=A?C:(C*v+A*n)/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=C>=A?C:(C*v+A*n)/255|0}}};k.lightenOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h+3];var v=e+n-(e*n/255|0)|0,A=n*(e^255)/v|0,C=A^255,B=e*(n^255)/v|0,I=B^255;e=d.data[h];n=b.data[h];b.data[h]=(n>=e?e*B+n*I:n*A+e*C)/255|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(n>=e?e*B+n*I:n*A+e*C)/255|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(n>=e?e*B+n*I:n*A+e*C)/255|0;b.data[h+3]=v}}};k.lightenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|
0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0,C=v*(n^255)/A|0,B=C^255,I=n*(v^255)/A|0,O=I^255;n=d.data[c];v=b.data[c];b.data[c]=(v>=n?n*I+v*O:v*C+n*B)/255|0;n=d.data[c+1];v=b.data[c+1];b.data[c+1]=(v>=n?n*I+v*O:v*C+n*B)/255|0;n=d.data[c+2];v=b.data[c+2];b.data[c+2]=(v>=n?n*I+v*O:v*
C+n*B)/255|0;b.data[c+3]=A}}};k.darkenOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=e>=p?(e*f+p*c)/255|0:e;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=e>=p?(e*f+p*c)/255|0:e;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=e>=p?(e*f+p*c)/255|0:e}}};k.darkenOntoOpaqueFusionWithTransparentLayer=
function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=n>=e?(n*p+e*f)/255|0:n;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=n>=e?(n*p+e*f)/255|0:n;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=n>=e?(n*p+e*f)/255|0:n}}};k.darkenOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=
4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*(f^255)/p|0,n=e^255,v=f*(c^255)/p|0,A=v^255;c=d.data[a];f=b.data[a];b.data[a]=(f>=c?f*v+c*A:c*e+f*n)/255|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(f>=c?f*v+c*A:c*e+f*n)/255|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(f>=c?f*v+c*A:c*e+f*n)/255|0;b.data[a+3]=p}}};k.darkenOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=
a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*(p^255)/e|0,v=n^255,A=p*(f^255)/e|0,C=A^255;f=d.data[a];p=b.data[a];b.data[a]=(p>=f?p*A+f*C:f*n+p*v)/255|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(p>=f?p*A+f*C:f*n+p*v)/255|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(p>=f?p*A+f*C:f*n+p*v)/255|0;b.data[a+3]=e}}};k.darkenOntoOpaqueFusionWithOpaqueLayerMasked=
function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=e^255;var v=d.data[h];var A=b.data[h];b.data[h]=A>=v?(A*n+v*e)/255|0:A;v=d.data[h+1];A=b.data[h+1];b.data[h+1]=A>=v?(A*n+v*e)/255|0:A;v=d.data[h+2];A=b.data[h+2];b.data[h+2]=A>=v?(A*n+v*e)/255|0:A}}};k.darkenOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=C>=A?(C*v+A*n)/255|0:C;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=C>=A?(C*v+A*n)/255|0:C;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=C>=A?(C*v+A*n)/255|0:C}}};k.darkenOntoTransparentFusionWithOpaqueLayerMasked=
function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h+3];var v=e+n-(e*n/255|0)|0,A=e*(n^255)/v|0,C=A^255,B=n*(e^255)/v|0,I=B^255;e=d.data[h];n=b.data[h];b.data[h]=(n>=e?n*B+e*I:e*A+n*C)/255|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(n>=e?n*B+e*I:e*A+n*C)/255|0;e=d.data[h+2];n=b.data[h+
2];b.data[h+2]=(n>=e?n*B+e*I:e*A+n*C)/255|0;b.data[h+3]=v}}};k.darkenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0,C=n*(v^255)/A|0,B=C^255,I=v*(n^255)/A|0,O=I^255;n=d.data[c];v=b.data[c];b.data[c]=
(v>=n?v*I+n*O:n*C+v*B)/255|0;n=d.data[c+1];v=b.data[c+1];b.data[c+1]=(v>=n?v*I+n*O:n*C+v*B)/255|0;n=d.data[c+2];v=b.data[c+2];b.data[c+2]=(v>=n?v*I+n*O:n*C+v*B)/255|0;b.data[c+3]=A}}};k.dodgeOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(e*f+c*(255==p?255:Math.min(255,255*e/(p^
255)|0)))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(e*f+c*(255==p?255:Math.min(255,255*e/(p^255)|0)))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(e*f+c*(255==p?255:Math.min(255,255*e/(p^255)|0)))/255|0}}};k.dodgeOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=
(n*p+f*(255==e?255:Math.min(255,255*n/(e^255)|0)))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(n*p+f*(255==e?255:Math.min(255,255*n/(e^255)|0)))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(n*p+f*(255==e?255:Math.min(255,255*n/(e^255)|0)))/255|0}}};k.dodgeOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=
c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,v=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*n+f*v+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*n+f*v+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*n+f*v+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/p|0;b.data[a+3]=p}}};k.dodgeOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,v=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(f*v+p*A+n*(255==f?255:Math.min(255,255*p/(f^255)|0)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(f*v+p*A+n*(255==f?255:Math.min(255,255*p/(f^255)|0)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(f*v+p*A+n*(255==f?255:Math.min(255,255*p/(f^255)|0)))/e|0;b.data[a+3]=e}}};k.dodgeOntoOpaqueFusionWithOpaqueLayerMasked=
function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=e^255;var v=d.data[h];var A=b.data[h];b.data[h]=(A*n+e*(255==v?255:Math.min(255,255*A/(v^255)|0)))/255|0;v=d.data[h+1];A=b.data[h+1];b.data[h+1]=(A*n+e*(255==v?255:Math.min(255,255*A/(v^255)|0)))/255|0;v=d.data[h+2];A=b.data[h+2];b.data[h+
2]=(A*n+e*(255==v?255:Math.min(255,255*A/(v^255)|0)))/255|0}}};k.dodgeOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(C*v+n*(255==A?255:Math.min(255,255*C/(A^255)|0)))/255|0;A=d.data[c+1];
C=b.data[c+1];b.data[c+1]=(C*v+n*(255==A?255:Math.min(255,255*C/(A^255)|0)))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(C*v+n*(255==A?255:Math.min(255,255*C/(A^255)|0)))/255|0}}};k.dodgeOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h+
3];var v=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(e*C+n*B+A*(255==e?255:Math.min(255,255*n/(e^255)|0)))/v|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(e*C+n*B+A*(255==e?255:Math.min(255,255*n/(e^255)|0)))/v|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(e*C+n*B+A*(255==e?255:Math.min(255,255*n/(e^255)|0)))/v|0;b.data[h+3]=v}}};k.dodgeOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*
(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0,C=n*v/255|0,B=n*(v^255)/255|0,I=(n^255)*v/255|0;n=d.data[c];v=b.data[c];b.data[c]=(n*B+v*I+C*(255==n?255:Math.min(255,255*v/(n^255)|0)))/A|0;n=d.data[c+1];v=b.data[c+1];b.data[c+1]=(n*B+v*I+C*(255==n?255:Math.min(255,255*v/(n^255)|0)))/A|0;n=d.data[c+2];v=b.data[c+
2];b.data[c+2]=(n*B+v*I+C*(255==n?255:Math.min(255,255*v/(n^255)|0)))/A|0;b.data[c+3]=A}}};k.burnOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(e*f+c*(0==p?0:Math.min(255,255*(e^255)/p)^255))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(e*f+c*(0==p?0:Math.min(255,255*(e^255)/
p)^255))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(e*f+c*(0==p?0:Math.min(255,255*(e^255)/p)^255))/255|0}}};k.burnOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(n*p+f*(0==e?0:Math.min(255,255*(n^255)/e)^255))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(n*p+
f*(0==e?0:Math.min(255,255*(n^255)/e)^255))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(n*p+f*(0==e?0:Math.min(255,255*(n^255)/e)^255))/255|0}}};k.burnOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,v=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*
n+f*v+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*n+f*v+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*n+f*v+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/p|0;b.data[a+3]=p}}};k.burnOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=
b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,v=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(f*v+p*A+n*(0==f?0:Math.min(255,255*(p^255)/f)^255))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(f*v+p*A+n*(0==f?0:Math.min(255,255*(p^255)/f)^255))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(f*v+p*A+n*(0==f?0:Math.min(255,255*(p^255)/f)^255))/e|0;b.data[a+3]=e}}};k.burnOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-
r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=e^255;var v=d.data[h];var A=b.data[h];b.data[h]=(A*n+e*(0==v?0:Math.min(255,255*(A^255)/v)^255))/255|0;v=d.data[h+1];A=b.data[h+1];b.data[h+1]=(A*n+e*(0==v?0:Math.min(255,255*(A^255)/v)^255))/255|0;v=d.data[h+2];A=b.data[h+2];b.data[h+2]=(A*n+e*(0==v?0:Math.min(255,255*(A^255)/v)^255))/255|0}}};k.burnOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(C*v+n*(0==A?0:Math.min(255,255*(C^255)/A)^255))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(C*v+n*(0==A?0:Math.min(255,255*(C^255)/A)^255))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+
2]=(C*v+n*(0==A?0:Math.min(255,255*(C^255)/A)^255))/255|0}}};k.burnOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h+3];var v=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(e*C+n*B+
A*(0==e?0:Math.min(255,255*(n^255)/e)^255))/v|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(e*C+n*B+A*(0==e?0:Math.min(255,255*(n^255)/e)^255))/v|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(e*C+n*B+A*(0==e?0:Math.min(255,255*(n^255)/e)^255))/v|0;b.data[h+3]=v}}};k.burnOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=
0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0,C=n*v/255|0,B=n*(v^255)/255|0,I=(n^255)*v/255|0;n=d.data[c];v=b.data[c];b.data[c]=(n*B+v*I+C*(0==n?0:Math.min(255,255*(v^255)/n)^255))/A|0;n=d.data[c+1];v=b.data[c+1];b.data[c+1]=(n*B+v*I+C*(0==n?0:Math.min(255,255*(v^255)/n)^255))/A|0;n=d.data[c+2];v=b.data[c+2];b.data[c+2]=(n*B+v*I+C*(0==n?0:Math.min(255,255*(v^255)/n)^255))/A|0;b.data[c+3]=A}}};k.overlayOntoOpaqueFusionWithOpaqueLayer=function(b,
d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=e?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=e?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+(127>=e?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0}}};k.overlayOntoOpaqueFusionWithTransparentLayer=
function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(p*n+(127>=n?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^255)))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+(127>=n?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^255)))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+(127>=n?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^
255)))/255|0}}};k.overlayOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,v=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+v*f+(127>=f?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+v*f+(127>=f?2*e*c*f/255:
e*(2*(c^255)*(f^255)/255^255)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+v*f+(127>=f?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;b.data[a+3]=p}}};k.overlayOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,v=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];
p=b.data[a];b.data[a]=(v*f+A*p+(127>=p?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(v*f+A*p+(127>=p?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(v*f+A*p+(127>=p?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;b.data[a+3]=e}}};k.overlayOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=e^255;var v=d.data[h];var A=b.data[h];b.data[h]=(n*A+(127>=A?2*e*v*A/255:e*(2*(v^255)*(A^255)/255^255)))/255|0;v=d.data[h+1];A=b.data[h+1];b.data[h+1]=(n*A+(127>=A?2*e*v*A/255:e*(2*(v^255)*(A^255)/255^255)))/255|0;v=d.data[h+2];A=b.data[h+2];b.data[h+2]=(n*A+(127>=A?2*e*v*A/255:e*(2*(v^255)*(A^255)/255^255)))/255|0}}};k.overlayOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,
a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(v*C+(127>=C?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(v*C+(127>=C?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+
2]=(v*C+(127>=C?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0}}};k.overlayOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h+3];var v=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=
(C*e+B*n+(127>=n?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/v|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(C*e+B*n+(127>=n?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/v|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(C*e+B*n+(127>=n?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/v|0;b.data[h+3]=v}}};k.overlayOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|
0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0,C=n*v/255|0,B=n*(v^255)/255|0,I=(n^255)*v/255|0;n=d.data[c];v=b.data[c];b.data[c]=(B*n+I*v+(127>=v?2*C*n*v/255:C*(2*(n^255)*(v^255)/255^255)))/A|0;n=d.data[c+1];v=b.data[c+1];b.data[c+1]=(B*n+I*v+(127>=v?2*C*n*v/255:C*(2*(n^255)*(v^255)/255^255)))/A|0;n=d.data[c+2];v=b.data[c+2];b.data[c+2]=(B*n+I*v+(127>=v?2*C*n*v/255:C*(2*(n^255)*(v^255)/255^255)))/
A|0;b.data[c+3]=A}}};k.hardLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=p?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=p?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+
2]=(f*e+(127>=p?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0}}};k.hardLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(p*n+(127>=e?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^255)))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+(127>=e?2*f*e*n/255:f*(2*(e^255)*
(n^255)/255^255)))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+(127>=e?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^255)))/255|0}}};k.hardLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,v=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+v*f+(127>=
c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+v*f+(127>=c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+v*f+(127>=c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;b.data[a+3]=p}}};k.hardLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+
3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,v=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(v*f+A*p+(127>=f?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(v*f+A*p+(127>=f?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(v*f+A*p+(127>=f?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;b.data[a+3]=e}}};k.hardLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=
a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=e^255;var v=d.data[h];var A=b.data[h];b.data[h]=(n*A+(127>=v?2*e*v*A/255:e*(2*(v^255)*(A^255)/255^255)))/255|0;v=d.data[h+1];A=b.data[h+1];b.data[h+1]=(n*A+(127>=v?2*e*v*A/255:e*(2*(v^255)*(A^255)/255^255)))/255|0;v=d.data[h+2];A=b.data[h+2];b.data[h+2]=(n*A+
(127>=v?2*e*v*A/255:e*(2*(v^255)*(A^255)/255^255)))/255|0}}};k.hardLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(v*C+(127>=A?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0;A=d.data[c+
1];C=b.data[c+1];b.data[c+1]=(v*C+(127>=A?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(v*C+(127>=A?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0}}};k.hardLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|
0;if(e){var n=b.data[h+3];var v=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(C*e+B*n+(127>=e?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/v|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(C*e+B*n+(127>=e?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/v|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(C*e+B*n+(127>=e?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/v|0;b.data[h+3]=v}}};k.hardLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=
a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0,C=n*v/255|0,B=n*(v^255)/255|0,I=(n^255)*v/255|0;n=d.data[c];v=b.data[c];b.data[c]=(B*n+I*v+(127>=n?2*C*n*v/255:C*(2*(n^255)*(v^255)/255^255)))/A|0;n=d.data[c+1];v=b.data[c+1];b.data[c+1]=(B*n+I*v+(127>=n?2*C*n*v/255:C*(2*(n^
255)*(v^255)/255^255)))/A|0;n=d.data[c+2];v=b.data[c+2];b.data[c+2]=(B*n+I*v+(127>=n?2*C*n*v/255:C*(2*(n^255)*(v^255)/255^255)))/A|0;b.data[c+3]=A}}};k.softLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+c*(127>=p?((2*p-255)*u[e]/255|0)+e:((2*p-255)*E[e]/255|0)+e))/255|
0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+c*(127>=p?((2*p-255)*u[e]/255|0)+e:((2*p-255)*E[e]/255|0)+e))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+c*(127>=p?((2*p-255)*u[e]/255|0)+e:((2*p-255)*E[e]/255|0)+e))/255|0}}};k.softLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=
b.data[a];b.data[a]=(p*n+f*(127>=e?((2*e-255)*u[n]/255|0)+n:((2*e-255)*E[n]/255|0)+n))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+f*(127>=e?((2*e-255)*u[n]/255|0)+n:((2*e-255)*E[n]/255|0)+n))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+f*(127>=e?((2*e-255)*u[n]/255|0)+n:((2*e-255)*E[n]/255|0)+n))/255|0}}};k.softLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=
r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,v=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+v*f+(127>=c?e*(((2*c-255)*u[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+v*f+(127>=c?e*(((2*c-255)*u[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+v*f+(127>=c?e*(((2*c-255)*u[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/p|0;b.data[a+
3]=p}}};k.softLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,v=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(v*f+A*p+(127>=f?n*(((2*f-255)*u[p]/255|0)+p):n*(((2*f-255)*E[p]/255|0)+p)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(v*
f+A*p+(127>=f?n*(((2*f-255)*u[p]/255|0)+p):n*(((2*f-255)*E[p]/255|0)+p)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(v*f+A*p+(127>=f?n*(((2*f-255)*u[p]/255|0)+p):n*(((2*f-255)*E[p]/255|0)+p)))/e|0;b.data[a+3]=e}}};k.softLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*
l.data[a]/255|0;if(e){var n=e^255;var v=d.data[h];var A=b.data[h];b.data[h]=(n*A+e*(127>=v?((2*v-255)*u[A]/255|0)+A:((2*v-255)*E[A]/255|0)+A))/255|0;v=d.data[h+1];A=b.data[h+1];b.data[h+1]=(n*A+e*(127>=v?((2*v-255)*u[A]/255|0)+A:((2*v-255)*E[A]/255|0)+A))/255|0;v=d.data[h+2];A=b.data[h+2];b.data[h+2]=(n*A+e*(127>=v?((2*v-255)*u[A]/255|0)+A:((2*v-255)*E[A]/255|0)+A))/255|0}}};k.softLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-
q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(v*C+n*(127>=A?((2*A-255)*u[C]/255|0)+C:((2*A-255)*E[C]/255|0)+C))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(v*C+n*(127>=A?((2*A-255)*u[C]/255|0)+C:((2*A-255)*E[C]/255|0)+C))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(v*C+n*(127>=A?((2*A-255)*u[C]/
255|0)+C:((2*A-255)*E[C]/255|0)+C))/255|0}}};k.softLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h+3];var v=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(C*e+B*n+(127>=e?A*
(((2*e-255)*u[n]/255|0)+n):A*(((2*e-255)*E[n]/255|0)+n)))/v|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(C*e+B*n+(127>=e?A*(((2*e-255)*u[n]/255|0)+n):A*(((2*e-255)*E[n]/255|0)+n)))/v|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(C*e+B*n+(127>=e?A*(((2*e-255)*u[n]/255|0)+n):A*(((2*e-255)*E[n]/255|0)+n)))/v|0;b.data[h+3]=v}}};k.softLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-
q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0,C=n*v/255|0,B=n*(v^255)/255|0,I=(n^255)*v/255|0;n=d.data[c];v=b.data[c];b.data[c]=(B*n+I*v+(127>=n?C*(((2*n-255)*u[v]/255|0)+v):C*(((2*n-255)*E[v]/255|0)+v)))/A|0;n=d.data[c+1];v=b.data[c+1];b.data[c+1]=(B*n+I*v+(127>=n?C*(((2*n-255)*u[v]/255|0)+v):C*(((2*n-255)*E[v]/255|0)+v)))/A|0;n=d.data[c+2];v=b.data[c+2];b.data[c+
2]=(B*n+I*v+(127>=n?C*(((2*n-255)*u[v]/255|0)+v):C*(((2*n-255)*E[v]/255|0)+v)))/A|0;b.data[c+3]=A}}};k.vividLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=p?c*(0==p?0:255-Math.min(255,255*(255-e)/(2*p)|0)):c*(255==p?255:Math.min(255,255*e/(2*(255-p))|0))))/255|0;
p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=p?c*(0==p?0:255-Math.min(255,255*(255-e)/(2*p)|0)):c*(255==p?255:Math.min(255,255*e/(2*(255-p))|0))))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+(127>=p?c*(0==p?0:255-Math.min(255,255*(255-e)/(2*p)|0)):c*(255==p?255:Math.min(255,255*e/(2*(255-p))|0))))/255|0}}};k.vividLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=
q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(p*n+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):f*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):f*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):f*(255==
e?255:Math.min(255,255*n/(2*(255-e))|0))))/255|0}}};k.vividLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,v=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+v*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,
255*f/(2*(255-c))|0))))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+v*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,255*f/(2*(255-c))|0))))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+v*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,255*f/(2*(255-c))|0))))/p|0;b.data[a+3]=p}}};k.vividLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,v=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(v*f+A*p+(127>=f?n*(0==f?0:255-Math.min(255,255*(255-p)/(2*f)|0)):n*(255==f?255:Math.min(255,255*p/(2*(255-f))|0))))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(v*f+A*p+(127>=f?n*(0==f?0:255-Math.min(255,255*(255-p)/(2*f)|0)):n*(255==f?255:Math.min(255,255*p/(2*(255-f))|0))))/e|0;f=d.data[a+
2];p=b.data[a+2];b.data[a+2]=(v*f+A*p+(127>=f?n*(0==f?0:255-Math.min(255,255*(255-p)/(2*f)|0)):n*(255==f?255:Math.min(255,255*p/(2*(255-f))|0))))/e|0;b.data[a+3]=e}}};k.vividLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=e^255;var v=d.data[h];
var A=b.data[h];b.data[h]=(n*A+(127>=v?e*(0==v?0:255-Math.min(255,255*(255-A)/(2*v)|0)):e*(255==v?255:Math.min(255,255*A/(2*(255-v))|0))))/255|0;v=d.data[h+1];A=b.data[h+1];b.data[h+1]=(n*A+(127>=v?e*(0==v?0:255-Math.min(255,255*(255-A)/(2*v)|0)):e*(255==v?255:Math.min(255,255*A/(2*(255-v))|0))))/255|0;v=d.data[h+2];A=b.data[h+2];b.data[h+2]=(n*A+(127>=v?e*(0==v?0:255-Math.min(255,255*(255-A)/(2*v)|0)):e*(255==v?255:Math.min(255,255*A/(2*(255-v))|0))))/255|0}}};k.vividLightOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(v*C+(127>=A?n*(0==A?0:255-Math.min(255,255*(255-C)/(2*A)|0)):n*(255==A?255:Math.min(255,255*C/(2*(255-A))|0))))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(v*C+(127>=A?n*(0==A?0:255-
Math.min(255,255*(255-C)/(2*A)|0)):n*(255==A?255:Math.min(255,255*C/(2*(255-A))|0))))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(v*C+(127>=A?n*(0==A?0:255-Math.min(255,255*(255-C)/(2*A)|0)):n*(255==A?255:Math.min(255,255*C/(2*(255-A))|0))))/255|0}}};k.vividLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=
0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h+3];var v=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(C*e+B*n+(127>=e?A*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):A*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/v|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(C*e+B*n+(127>=e?A*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):A*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/v|0;e=d.data[h+2];n=b.data[h+2];b.data[h+
2]=(C*e+B*n+(127>=e?A*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):A*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/v|0;b.data[h+3]=v}}};k.vividLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|
0)|0,C=n*v/255|0,B=n*(v^255)/255|0,I=(n^255)*v/255|0;n=d.data[c];v=b.data[c];b.data[c]=(B*n+I*v+(127>=n?C*(0==n?0:255-Math.min(255,255*(255-v)/(2*n)|0)):C*(255==n?255:Math.min(255,255*v/(2*(255-n))|0))))/A|0;n=d.data[c+1];v=b.data[c+1];b.data[c+1]=(B*n+I*v+(127>=n?C*(0==n?0:255-Math.min(255,255*(255-v)/(2*n)|0)):C*(255==n?255:Math.min(255,255*v/(2*(255-n))|0))))/A|0;n=d.data[c+2];v=b.data[c+2];b.data[c+2]=(B*n+I*v+(127>=n?C*(0==n?0:255-Math.min(255,255*(255-v)/(2*n)|0)):C*(255==n?255:Math.min(255,
255*v/(2*(255-n))|0))))/A|0;b.data[c+3]=A}}};k.linearLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=b.data[a];b.data[a]=(f*p+c*Math.min(255,Math.max(0,p+2*d.data[a]-255)))/255|0;p=b.data[a+1];b.data[a+1]=(f*p+c*Math.min(255,Math.max(0,p+2*d.data[a+1]-255)))/255|0;p=b.data[a+2];b.data[a+2]=(f*p+c*Math.min(255,
Math.max(0,p+2*d.data[a+2]-255)))/255|0}}};k.linearLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=b.data[a];b.data[a]=(p*e+f*Math.min(255,Math.max(0,e+2*d.data[a]-255)))/255|0;e=b.data[a+1];b.data[a+1]=(p*e+f*Math.min(255,Math.max(0,e+2*d.data[a+1]-255)))/255|0;e=b.data[a+2];b.data[a+2]=(p*e+f*Math.min(255,
Math.max(0,e+2*d.data[a+2]-255)))/255|0}}};k.linearLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,v=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+v*f+e*Math.min(255,Math.max(0,f+2*c-255)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+v*f+
e*Math.min(255,Math.max(0,f+2*c-255)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+v*f+e*Math.min(255,Math.max(0,f+2*c-255)))/p|0;b.data[a+3]=p}}};k.linearLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,v=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];
p=b.data[a];b.data[a]=(v*f+A*p+n*Math.min(255,Math.max(0,p+2*f-255)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(v*f+A*p+n*Math.min(255,Math.max(0,p+2*f-255)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(v*f+A*p+n*Math.min(255,Math.max(0,p+2*f-255)))/e|0;b.data[a+3]=e}}};k.linearLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,
h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=e^255;var v=b.data[h];b.data[h]=(n*v+e*Math.min(255,Math.max(0,v+2*d.data[h]-255)))/255|0;v=b.data[h+1];b.data[h+1]=(n*v+e*Math.min(255,Math.max(0,v+2*d.data[h+1]-255)))/255|0;v=b.data[h+2];b.data[h+2]=(n*v+e*Math.min(255,Math.max(0,v+2*d.data[h+2]-255)))/255|0}}};k.linearLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,
a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=n^255;var A=b.data[c];b.data[c]=(v*A+n*Math.min(255,Math.max(0,A+2*d.data[c]-255)))/255|0;A=b.data[c+1];b.data[c+1]=(v*A+n*Math.min(255,Math.max(0,A+2*d.data[c+1]-255)))/255|0;A=b.data[c+2];b.data[c+2]=(v*A+n*Math.min(255,Math.max(0,A+2*d.data[c+2]-255)))/255|0}}};k.linearLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,
w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=b.data[h+3];var v=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(C*e+B*n+A*Math.min(255,Math.max(0,n+2*e-255)))/v|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(C*e+B*n+A*Math.min(255,Math.max(0,n+2*
e-255)))/v|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(C*e+B*n+A*Math.min(255,Math.max(0,n+2*e-255)))/v|0;b.data[h+3]=v}}};k.linearLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0,C=n*v/255|0,B=
n*(v^255)/255|0,I=(n^255)*v/255|0;n=d.data[c];v=b.data[c];b.data[c]=(B*n+I*v+C*Math.min(255,Math.max(0,v+2*n-255)))/A|0;n=d.data[c+1];v=b.data[c+1];b.data[c+1]=(B*n+I*v+C*Math.min(255,Math.max(0,v+2*n-255)))/A|0;n=d.data[c+2];v=b.data[c+2];b.data[c+2]=(B*n+I*v+C*Math.min(255,Math.max(0,v+2*n-255)))/A|0;b.data[c+3]=A}}};k.pinLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=
0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+c*(e>=2*p?2*p:e<=2*p-255?2*p-255:e))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+c*(e>=2*p?2*p:e<=2*p-255?2*p-255:e))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+c*(e>=2*p?2*p:e<=2*p-255?2*p-255:e))/255|0}}};k.pinLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=
0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(p*n+f*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+f*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+f*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/255|0}}};k.pinLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,
a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,v=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+v*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+v*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+v*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/p|0;b.data[a+3]=p}}};k.pinLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=
a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,v=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(v*f+A*p+n*(p>=2*f?2*f:p<=2*f-255?2*f-255:p))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(v*f+A*p+n*(p>=2*f?2*f:p<=2*f-255?2*f-255:p))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(v*f+A*p+n*(p>=2*f?2*f:p<=2*f-
255?2*f-255:p))/e|0;b.data[a+3]=e}}};k.pinLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;if(e){var n=e^255;var v=d.data[h];var A=b.data[h];b.data[h]=(n*A+e*(A>=2*v?2*v:A<=2*v-255?2*v-255:A))/255|0;v=d.data[h+1];A=b.data[h+1];b.data[h+1]=(n*A+e*(A>=2*v?
2*v:A<=2*v-255?2*v-255:A))/255|0;v=d.data[h+2];A=b.data[h+2];b.data[h+2]=(n*A+e*(A>=2*v?2*v:A<=2*v-255?2*v-255:A))/255|0}}};k.pinLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(v*C+n*
(C>=2*A?2*A:C<=2*A-255?2*A-255:C))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(v*C+n*(C>=2*A?2*A:C<=2*A-255?2*A-255:C))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(v*C+n*(C>=2*A?2*A:C<=2*A-255?2*A-255:C))/255|0}}};k.pinLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++){var e=d.data[h+
3]*l.data[a]/255|0;if(e){var n=b.data[h+3];var v=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(C*e+B*n+A*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/v|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(C*e+B*n+A*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/v|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(C*e+B*n+A*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/v|0;b.data[h+3]=v}}};k.pinLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|
0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var v=b.data[c+3];var A=n+v-(n*v/255|0)|0,C=n*v/255|0,B=n*(v^255)/255|0,I=(n^255)*v/255|0;n=d.data[c];v=b.data[c];b.data[c]=(B*n+I*v+C*(v>=2*n?2*n:v<=2*n-255?2*n-255:v))/A|0;n=d.data[c+1];v=b.data[c+1];b.data[c+1]=(B*n+I*v+C*(v>=2*n?2*n:v<=2*n-255?2*n-255:v))/A|0;n=d.data[c+2];v=b.data[c+2];b.data[c+
2]=(B*n+I*v+C*(v>=2*n?2*n:v<=2*n-255?2*n-255:v))/A|0;b.data[c+3]=A}}};k.passthroughOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3],p=w/100,e=1-p,n=f*p+255*e;b.data[a]=(d.data[a]*f*p+255*b.data[a]*e)/n|0;b.data[a+1]=(d.data[a+1]*f*p+255*b.data[a+1]*e)/n|0;b.data[a+2]=(d.data[a+2]*f*p+255*b.data[a+2]*e)/n|0;b.data[a+3]=n}};k.passthroughOntoOpaqueFusionWithOpaqueLayer=
k.passthroughOntoOpaqueFusionWithTransparentLayer;k.passthroughOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3],p=b.data[a+3],e=w/100,n=1-e,v=f*e+p*n;b.data[a]=(d.data[a]*f*e+b.data[a]*p*n)/v|0;b.data[a+1]=(d.data[a+1]*f*e+b.data[a+1]*p*n)/v|0;b.data[a+2]=(d.data[a+2]*f*e+b.data[a+2]*p*n)/v|0;b.data[a+3]=v}};k.passthroughOntoTransparentFusionWithOpaqueLayer=
k.passthroughOntoTransparentFusionWithTransparentLayer;k.passthroughOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3],v=l.data[a]*w/25500,A=1-v,C=n*v+255*A;b.data[c]=(d.data[c]*n*v+255*b.data[c]*A)/C|0;b.data[c+1]=(d.data[c+1]*n*v+255*b.data[c+1]*A)/C|0;b.data[c+2]=(d.data[c+
2]*n*v+255*b.data[c+2]*A)/C|0;b.data[c+3]=C}};k.passthroughOntoOpaqueFusionWithOpaqueLayerMasked=k.passthroughOntoOpaqueFusionWithTransparentLayerMasked;k.passthroughOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3],v=b.data[c+3],A=l.data[a]*w/25500,C=1-A,B=n*A+v*C;
b.data[c]=(d.data[c]*n*A+b.data[c]*v*C)/B|0;b.data[c+1]=(d.data[c+1]*n*A+b.data[c+1]*v*C)/B|0;b.data[c+2]=(d.data[c+2]*n*A+b.data[c+2]*v*C)/B|0;b.data[c+3]=B}};k.passthroughOntoTransparentFusionWithOpaqueLayerMasked=k.passthroughOntoTransparentFusionWithTransparentLayerMasked;k.replaceOntoFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|
0;b.data[a]=d.data[a];b.data[a+1]=d.data[a+1];b.data[a+2]=d.data[a+2];b.data[a+3]=f}};k.replaceOntoFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];b.data[a]=d.data[a];b.data[a+1]=d.data[a+1];b.data[a+2]=d.data[a+2];b.data[a+3]=c}};k.replaceOntoFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-
q)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;b.data[c]=d.data[c];b.data[c+1]=d.data[c+1];b.data[c+2]=d.data[c+2];b.data[c+3]=n}};k.replaceOntoFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=
0;p<r;p++,h+=4,a++){var e=d.data[h+3]*l.data[a]/255|0;b.data[h]=d.data[h];b.data[h+1]=d.data[h+1];b.data[h+2]=d.data[h+2];b.data[h+3]=e}};k.replaceAlphaOntoFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4)b.data[a+3]=d.data[a+3]*w/100|0};k.replaceAlphaOntoFusionWithTransparentLayerMasked=function(b,d,w,a,l){var r=a.getHeight()|0,q=a.getWidth()|0,h=4*(d.width-q)|
0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<r;p++,c+=h,a+=f)for(var e=0;e<q;e++,c+=4,a++)b.data[c+3]=d.data[c+3]*l.data[a]*w/25500|0};k.replaceAlphaOntoFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4)b.data[a+3]=d.data[a+3]};k.replaceAlphaOntoFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var r=
a.getWidth()|0,q=4*(d.width-r)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=q,a+=c)for(var p=0;p<r;p++,h+=4,a++)b.data[h+3]=d.data[h+3]*l.data[a]/255|0};k.upgradeMultiplyOfOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,r=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var h=0;h<l;h++,a+=4){var c=d.data[a+3];if(c){var f=d.data[a];var p=b.data[a];d.data[a]=f+Math.ceil((255-f)*p*c%65025/
(p*c));f=d.data[a+1];p=b.data[a+1];d.data[a+1]=f+Math.ceil((255-f)*p*c%65025/(p*c));f=d.data[a+2];p=b.data[a+2];d.data[a+2]=f+Math.ceil((255-f)*p*c%65025/(p*c))}}};k.upgradeMultiplyOfTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,r=a.getWidth()|0,q=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<l;h++,a+=q)for(var c=0;c<r;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=d.data[a];var e=b.data[a];d.data[a]=p+Math.ceil((255-p)*e*f%65025/(e*f));p=d.data[a+1];e=b.data[a+1];d.data[a+
1]=p+Math.ceil((255-p)*e*f%65025/(e*f));p=d.data[a+2];e=b.data[a+2];d.data[a+2]=p+Math.ceil((255-p)*e*f%65025/(e*f))}}};k._normalFuseImageOntoImageAtPosition=function(b,d,w,a,l,r){w=a.getHeight()|0;var q=a.getWidth()|0,h=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;var c=4*(b.width-q)|0;l=b.offsetOfPixel(l,r)|0;for(r=0;r<w;r++,a+=h,l+=c)for(var f=0;f<q;f++,a+=4,l+=4){var p=d.data[a+3];if(p){var e=b.data[l+3];e=p+e-(p*e/255|0)|0;p=255*p/e|0;var n=255-p;b.data[l]=(d.data[a]*p+b.data[l]*n)/255|
0;b.data[l+1]=(d.data[a+1]*p+b.data[l+1]*n)/255|0;b.data[l+2]=(d.data[a+2]*p+b.data[l+2]*n)/255|0;b.data[l+3]=e}}};k.LM_NORMAL=0;k.LM_MULTIPLY=1;k.LM_ADD=2;k.LM_SCREEN=3;k.LM_LIGHTEN=4;k.LM_DARKEN=5;k.LM_SUBTRACT=6;k.LM_DODGE=7;k.LM_BURN=8;k.LM_OVERLAY=9;k.LM_HARDLIGHT=10;k.LM_SOFTLIGHT=11;k.LM_VIVIDLIGHT=12;k.LM_LINEARLIGHT=13;k.LM_PINLIGHT=14;k.LM_PASSTHROUGH=15;k.LM_MULTIPLY2=16;k.LM_FIRST=0;k.LM_LAST=16;k.LM_LAST_CHIBIPAINT=k.LM_PINLIGHT;k.BLEND_MODE_CODENAMES="normal multiply add screen lighten darken subtract dodge burn overlay hardLight softLight vividLight linearLight pinLight passthrough multiply2".split(" ");
k.BLEND_MODE_DISPLAY_NAMES="Normal;Multiply;Add;Screen;Lighten;Darken;Subtract;Dodge;Burn;Overlay;Hard Light;Soft Light;Vivid Light;Linear Light;Pin Light;Passthrough;Multiply".split(";");(function(){for(var b=0;256>b;b++){var d=b/255;u[b]=255*(d-d*d)|0}for(b=0;256>b;b++)d=b/255,E[b]=255*(Math.sqrt(d)-d)|0})();K.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPLayer.js":16}],6:[function(g,K,D){function y(b){return b&&b.__esModule?b:{default:b}}var k=y(g("./CPBlend.js")),
u=y(g("../util/CPRect.js")),E=y(g("./CPColorBmp.js"));y(g("./CPGreyBmp.js"));k.default.blendFunctionNameForParameters=function(b,d,w,a){w=k.default.BLEND_MODE_CODENAMES[w]+"Onto";w=b?w+"TransparentFusion":w+"OpaqueFusion";w=100==d?w+"WithOpaqueLayer":w+"WithTransparentLayer";a&&(w+="Masked");return w};k.default.fuseImageOntoImage=function(b,d,w,a,l,r,q){0>=a||(d=k.default.blendFunctionNameForParameters(d,a,l,null!=q),r=b.getBounds().clipTo(r),this[d](b,w,a,r,q))};k.default.normalFuseImageOntoImageAtPosition=
function(b,d,w,a,l){l=l.clone();w=new u.default(w,a,0,0);b.getBounds().clipSourceDest(l,w);this._normalFuseImageOntoImageAtPosition(b,d,100,l,w.left,w.top)};k.default.multiplyAlphaBy=function(b,d){if(100>d)if(0==d)b.clearAll(0);else{b=b.data;for(var w=3;w<b.length;w+=4)b[w]=Math.round(b[w]*d/100)}};k.default.multiplyAlphaByMask=function(b,d,w){d/=25500;for(var a=E.default.ALPHA_BYTE_OFFSET,l=0;a<b.data.length;a+=E.default.BYTES_PER_PIXEL,l++)b.data[a]=Math.round(b.data[a]*w.data[l]*d)};k.default.copyAndMultiplyAlphaBy=
function(b,d,w,a){if(100==w)b.copyBitmapRect(d,a.left,a.top,a);else if(0==w)b.clearRect(a,0);else for(b=d.data,d=0;d<b.length;d+=4)b[d]=b[d],b[d+1]=b[d+1],b[d+2]=b[d+2],b[d+3]=Math.round(b[d+3]*w/100)}},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],7:[function(g,K,D){function y(q){return q&&q.__esModule?q:{default:q}}function k(q,h){var c="undefined"!==typeof Symbol&&q[Symbol.iterator]||q["@@iterator"];if(!c){if(Array.isArray(q)||(c=u(q))||h&&q&&"number"===typeof q.length){c&&
(q=c);var f=0;h=function(){};return{s:h,n:function(){return f>=q.length?{done:!0}:{done:!1,value:q[f++]}},e:function(v){throw v;},f:h}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var p=!0,e=!1,n;return{s:function(){c=c.call(q)},n:function(){var v=c.next();p=v.done;return v},e:function(v){e=!0;n=v},f:function(){try{p||null==c.return||c.return()}finally{if(e)throw n;}}}}function u(q,h){if(q){if("string"===
typeof q)return E(q,h);var c=Object.prototype.toString.call(q).slice(8,-1);"Object"===c&&q.constructor&&(c=q.constructor.name);if("Map"===c||"Set"===c)return Array.from(q);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return E(q,h)}}function E(q,h){if(null==h||h>q.length)h=q.length;for(var c=0,f=Array(h);c<h;c++)f[c]=q[c];return f}function b(q,h,c){c?(this.isGroup=c instanceof w.default,this.image=c.image,this.mask=c.getEffectiveMask(),this.layer=c,this.blendMode=c.blendMode,
this.alpha=c.alpha,this.visible=c.visible):(this.isGroup=!0,this.layer=this.mask=this.image=null,this.blendMode=d.default.LM_PASSTHROUGH,this.alpha=100,this.visible=!0);this.dirtyRect=new r.default(0,0,q,h);this.layers=[];this.parent=null;this.clip=!1}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(q,h,c,f){function p(){return 0<O.length?O.pop():new a.default(h,c)}function e(G){if(0==G.layers.length)return null;if(1==G.layers.length&&(null==G.mask||null==G.layers[0].mask)){var H=
G.layers[0];H.alpha=Math.round(G.alpha*H.alpha/100);G.blendMode!=d.default.LM_PASSTHROUGH&&(H.blendMode=G.blendMode);H.mask=G.mask||H.mask;G.layer&&z.set(G.layer,H);return H}if(G.blendMode==d.default.LM_PASSTHROUGH&&100==G.alpha&&null==G.mask)return G.layers;G.image=p();return G}function n(G){var H=new b(h,c,G);z.set(G,H);return H}function v(G){if(0==G.getEffectiveAlpha())return null;for(var H=n(G),N=0;N<G.layers.length;N++){var J=G.layers[N],R=G.layers[N+1];if(J instanceof l.default&&R&&R.clip){R=
new b(h,c,null);R.blendMode=J.blendMode;R.alpha=100;R.clip=!0;R.addChildren(n(J));for(N+=1;N<G.layers.length;N++)if(G.layers[N].clip)0<G.layers[N].getEffectiveAlpha()&&R.addChildren(n(G.layers[N]));else break;0<J.getEffectiveAlpha()&&H.addChildren(e(R));--N}else J instanceof w.default?H.addChildren(v(J)):0<J.getEffectiveAlpha()&&H.addChildren(n(J))}return e(H)}function A(G,H){G&&(G.dirtyRect.union(H),A(G.parent,H))}function C(G){if(G.isGroup){G.image&&O.push(G.image);G=k(G.layers);var H;try{for(G.s();!(H=
G.n()).done;)C(H.value)}catch(N){G.e(N)}finally{G.f()}}}function B(G){if(!G||!G.isGroup)return G;var H=G.dirtyRect,N=!0,J=!0;G.blendMode==d.default.LM_PASSTHROUGH&&G.parent&&H.union(G.parent.dirtyRect);if(H.isEmpty())return G;if(G.blendMode==d.default.LM_PASSTHROUGH&&G.parent){N=!1;var R=G.image,fa=G.parent.image;H.getWidth()==R.width&&H.getHeight()==R.height?R.copyPixelsFrom(fa):d.default.replaceOntoFusionWithOpaqueLayer(R,fa,100,H)}for(R=0;R<G.layers.length;R++){var Y=B(G.layers[R]);if(N){N=G.image;
fa=Y.image;var qa=Y.alpha,ka=H;Y=Y.mask;if(100!=qa||Y||ka.getWidth()!=N.width||ka.getHeight()!=N.height){var Q="replaceOntoFusionWith";Q=100==qa?Q+"OpaqueLayer":Q+"TransparentLayer";Y&&(Q+="Masked");d.default[Q](N,fa,qa,ka,Y)}else N.copyPixelsFrom(fa);N=!1}else J=J&&G.image.hasAlphaInRect(H),d.default.fuseImageOntoImage(G.image,J,Y.image,Y.alpha,Y.blendMode,H,Y.mask)}G.clip&&(J=G.layers[0],100>J.alpha?J.mask?d.default.replaceAlphaOntoFusionWithTransparentLayerMasked(G.image,J.image,J.alpha,H,J.mask):
d.default.replaceAlphaOntoFusionWithTransparentLayer(G.image,J.image,J.alpha,H):J.mask?d.default.replaceAlphaOntoFusionWithOpaqueLayerMasked(G.image,J.image,100,H,J.mask):d.default.replaceAlphaOntoFusionWithOpaqueLayer(G.image,J.image,100,H));G.dirtyRect.makeEmpty();return G}var I,O=[],z=new Map;this.invalidateLayerRect=function(G,H){G=z.get(G);A(G,H)};this.buildTree=function(){if(!I){I=v(q);if(!I)I=new b(h,c,{image:p(),blendMode:d.default.LM_NORMAL,alpha:100,getEffectiveMask:function(){return null},
visible:!0}),I.image.clearAll(0);else if(Array.isArray(I)||f&&(100>I.alpha||I.mask)){var G=I;I=new b(h,c);I.blendMode=Array.isArray(G)?d.default.LM_NORMAL:G.blendMode;I.alpha=100;I.image=p();I.addChildren(G)}O=[]}};this.resetTree=function(){I&&(C(I),I=null,z.clear())};this.layerPropertyChanged=function(G,H){var N=z.get(G);N&&N.visible==G.visible&&N.alpha==G.alpha&&null==N.mask==(null==G.getEffectiveMask())&&N.blendMode==d.default.LM_PASSTHROUGH==(G.blendMode==d.default.LM_PASSTHROUGH)&&"clip"!==H?
(N.blendMode=G.blendMode,A(N,new r.default(0,0,h,c))):this.resetTree()};this.blendTree=function(){return B(I)}};var d=y(g("./CPBlend.js"));g("./CPBlendAdditional.js");y(g("./CPLayer.js"));var w=y(g("./CPLayerGroup.js")),a=y(g("./CPColorBmp.js")),l=y(g("./CPImageLayer.js")),r=y(g("../util/CPRect.js"));b.prototype.addChildren=function(q){var h=this;null!=q&&(Array.isArray(q)?(q.forEach(function(c){return c.parent=h}),this.layers=this.layers.concat(q)):(q.parent=this,this.layers.push(q)))};K.exports=
D.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"./CPLayer.js":16,"./CPLayerGroup.js":17}],8:[function(g,K,D){function y(k){for(var u in y.DEFAULTS)y.DEFAULTS.hasOwnProperty(u)&&(this[u]=y.DEFAULTS[u]);for(u in k)k.hasOwnProperty(u)&&(this[u]=k[u])}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.STROKE_MODE_FREEHAND=0;y.STROKE_MODE_LINE=1;y.STROKE_MODE_BEZIER=2;y.TIP_ROUND_PIXEL=0;y.TIP_ROUND_AA=1;y.TIP_ROUND_AIRBRUSH=
2;y.TIP_SQUARE_PIXEL=3;y.TIP_SQUARE_AA=4;y.BRUSH_MODE_PAINT=0;y.BRUSH_MODE_ERASE=1;y.BRUSH_MODE_DODGE=2;y.BRUSH_MODE_BURN=3;y.BRUSH_MODE_WATER=4;y.BRUSH_MODE_BLUR=5;y.BRUSH_MODE_SMUDGE=6;y.BRUSH_MODE_OIL=7;y.PAINT_MODE_OPACITY=0;y.PAINT_MODE_FLOW=1;y.DEFAULTS={isAA:!1,minSpacing:0,spacing:0,pressureSize:!0,pressureAlpha:!1,pressureScattering:!1,alphaScale:1,tip:y.TIP_ROUND_PIXEL,brushMode:y.BRUSH_MODE_PAINT,paintMode:y.PAINT_MODE_OPACITY,strokeMode:y.STROKE_MODE_FREEHAND,resat:1,bleed:0,texture:1,
size:0,curSize:0,alpha:0,curAlpha:0,scattering:0,curScattering:0,squeeze:0,curSqueeze:0,angle:Math.PI,curAngle:0,smoothing:0};y.prototype.applyPressure=function(k){this.curSize=this.pressureSize&&this.brushMode!=y.BRUSH_MODE_SMUDGE&&this.brushMode!=y.BRUSH_MODE_OIL?Math.max(.1,this.size*k):Math.max(.1,this.size);16<this.curSize&&(this.curSize=Math.floor(this.curSize));this.curSize=Math.min(this.curSize,400);this.curAlpha=this.pressureAlpha?Math.floor(this.alpha*Math.min(k,1)):this.alpha;this.curSqueeze=
this.squeeze;this.curAngle=this.angle;this.curScattering=this.scattering*this.curSize*(this.pressureScattering?k:1)};y.prototype.clone=function(){return new y(this)};K.exports=D.default},{}],9:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){function u(c){if(null!=w&&c.curSize==a&&c.curSqueeze==l&&c.curAngle==r&&c.tip==q)return w;switch(c.tip){case y.default.TIP_ROUND_AIRBRUSH:for(var f=E,p=Math.ceil(c.curSize),e=p/2,n=c.curSize/2*(c.curSize/2),v=1+c.curSqueeze*
k,A=Math.cos(c.curAngle),C=Math.sin(c.curAngle),B=0,I=0;I<p;I++)for(var O=0;O<p;O++){var z=O+.5-e,G=I+.5-e,H=(z*A-G*C)*v;z=G*A+z*C;H=H*H+z*z;H<=n?f[B++]=~~(255*(1-H/n)):f[B++]=0}break;case y.default.TIP_ROUND_AA:f=E;p=Math.ceil(c.curSize);e=p/2;n=c.curSize/2*(c.curSize/2);v=(c.curSize-2)/2*((c.curSize-2)/2);A=(c.curSize+2)/2*((c.curSize+2)/2);C=1+c.curSqueeze*k;B=Math.cos(c.curAngle);I=Math.sin(c.curAngle);for(H=O=0;H<p;H++)for(z=0;z<p;z++){var N=z+.5-e,J=H+.5-e,R=(N*B-J*I)*C;N=J*B+N*I;R=R*R+N*N;
if(R<=v)f[O++]=255;else if(R>A)f[O++]=0;else{for(var fa=G=0;4>fa;fa++)for(var Y=0;4>Y;Y++)N=z+.25*Y-e,J=H+.25*fa-e,R=(N*B-J*I)*C,N=J*B+N*I,R=R*R+N*N,R<=n&&(G+=1);f[O++]=Math.min(16*G,255)}}break;case y.default.TIP_ROUND_PIXEL:f=E;p=Math.ceil(c.curSize);e=p/2;n=c.curSize/2*(c.curSize/2);v=1+c.curSqueeze*k;A=Math.cos(c.curAngle);C=Math.sin(c.curAngle);for(I=B=0;I<p;I++)for(O=0;O<p;O++)z=O+.5-e,G=I+.5-e,H=(z*A-G*C)*v,z=G*A+z*C,H*H+z*z<=n?f[B++]=255:f[B++]=0;break;case y.default.TIP_SQUARE_AA:f=E;p=Math.ceil(c.curSize);
e=p/2;v=c.curSize*Math.sin(Math.PI/4);n=v/2/(1+c.curSqueeze*k);v/=2;A=n-1;C=v-1;B=n+1;I=v+1;O=Math.cos(c.curAngle);H=Math.sin(c.curAngle);for(G=z=0;G<p;G++)for(fa=0;fa<p;fa++){var qa=fa+.5-e,ka=G+.5-e;Y=Math.abs(qa*O-ka*H);qa=Math.abs(ka*O+qa*H);if(Y<=A&&qa<=C)f[z++]=255;else if(Y>B||qa>I)f[z++]=0;else{for(N=R=0;4>N;N++)for(J=0;4>J;J++)qa=fa+.25*J-e,ka=G+.25*N-e,Y=Math.abs(qa*O-ka*H),qa=Math.abs(ka*O+qa*H),Y<=n&&qa<=v&&R++;f[z++]=Math.min(16*R,255)}}break;case y.default.TIP_SQUARE_PIXEL:for(f=E,p=
Math.ceil(c.curSize),e=p/2,v=c.curSize*Math.sin(Math.PI/4),n=v/2/(1+c.curSqueeze*k),v/=2,A=Math.cos(c.curAngle),C=Math.sin(c.curAngle),I=B=0;I<p;I++)for(O=0;O<p;O++)H=O+.5-e,z=I+.5-e,G=Math.abs(z*A+H*C),Math.abs(H*A-z*C)<=n&&G<=v?f[B++]=255:f[B++]=0}w=E;a=c.curSize;q=c.tip;l=c.curSqueeze;r=c.curAngle;return E}var E=new Uint8Array(160801),b=new Uint8Array(161604),d=[new Float32Array(402),new Float32Array(402)],w=null,a,l,r,q,h=this;this.getDab=function(c,f,p){var e={alpha:p.curAlpha,width:Math.ceil(p.curSize),
height:Math.ceil(p.curSize)},n=p.isAA&&p.tip!=y.default.TIP_ROUND_PIXEL;n&&(e.width++,e.height++);var v=c-e.width/2+.5,A=f-e.height/2+.5;f=Math.floor(v);c=Math.floor(A);if(n){var C=v-f,B=A-c;v=u(p);A=Math.ceil(p.curSize);n=Math.ceil(p.curSize)+1;var I=(1-C)*(1-B),O=C*(1-B),z=C*B,G=(1-C)*B,H=0;C=0;B=d[0];var N=d[1],J;B.fill(0);for(var R=0;R<A;R++){for(J=N[0]=0;J<A;J++,H++,C++){var fa=v[H];b[C]=B[J]+fa*I+.5|0;B[J+1]+=fa*O;N[J]+=fa*G;N[J+1]=fa*z}b[C++]=B[J]+.5|0;J=B;B=N;N=J}for(v=0;v<n;v++,C++)b[C]=
B[v]+.5|0;e.brush=b}else e.brush=u(p);e.x=f;e.y=c;if(0<p.texture&&null!=this.texture)for(e.brush==E&&(b.set(E),e.brush=b),p=Math.floor(255*p.texture),f=h.texture,c=e.x%f.width,n=e.y%f.height,v=0,0>c&&(c+=f.width),0>n&&(n+=f.height),O=0;O<e.height;O++){A=n*f.width+c;I=n*f.width+f.width;for(z=0;z<e.width;z++)e.brush[v]=~~(e.brush[v]*(f.data[A]*p/255^255)/255),v++,A++,A==I&&(A-=f.width);n++;n==f.height&&(n=0)}return e};this.setTexture=function(c){this.texture=c}};var y=function(u){return u&&u.__esModule?
u:{default:u}}(g("./CPBrushInfo.js")),k=10;K.exports=D.default},{"./CPBrushInfo.js":8}],10:[function(g,K,D){function y(A){return A&&A.__esModule?A:{default:A}}function k(A){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},k(A)}function u(A,C){if("function"!==typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");
A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,writable:!0,configurable:!0}});Object.defineProperty(A,"prototype",{writable:!1});C&&E(A,C)}function E(A,C){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,I){B.__proto__=I;return B};return E(A,C)}function b(A){var C=d();return function(){var B=w(A);if(C){var I=w(this).constructor;B=Reflect.construct(B,arguments,I)}else B=B.apply(this,arguments);if(!B||"object"!==k(B)&&"function"!==typeof B){if(void 0!==B)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");B=this}return B}}function d(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}function w(A){w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)};return w(A)}
function a(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function");}function l(A,C){for(var B=0;B<C.length;B++){var I=C[B];I.enumerable=I.enumerable||!1;I.configurable=!0;"value"in I&&(I.writable=!0);var O=Object,z=O.defineProperty;a:{var G=I.key;if("object"===k(G)&&null!==G){var H=G[Symbol.toPrimitive];if(void 0!==H){G=H.call(G,"string");if("object"!==k(G))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}G=String(G)}}G="symbol"===k(G)?G:String(G);
z.call(O,A,G,I)}}function r(A,C,B){C&&l(A.prototype,C);B&&l(A,B);Object.defineProperty(A,"prototype",{writable:!1});return A}function q(A){for(var C=0,B=0;B<A.length;B++)C+=A[B];return C/A.length}function h(A){for(var C=new n.default(0,0,0),B=0;B<A.length;B++){var I=A[B];C.r+=I.r;C.g+=I.g;C.b+=I.b}C.r/=A.length;C.g/=A.length;C.b/=A.length;return C}function c(A,C){var B=A.data;if(0<C.left)for(var I=C.top;I<C.bottom;I++){var O=I*A.width,z=O;O=B[O+C.left];for(var G=0;G<C.left;G++,z++)B[z]=O}if(C.right<
A.width)for(I=C.top;I<C.bottom;I++)for(z=I*A.width+C.right,O=B[z-1],G=C.right;G<A.width;G++,z++)B[z]=O;for(z=I=0;z<C.top;z++)for(O=C.top*A.width,G=0;G<A.width;G++,O++,I++)B[I]=B[O];I=C.bottom*A.width;for(z=C.bottom;z<A.width;z++)for(O=(C.bottom-1)*A.width,G=0;G<A.width;G++,O++,I++)B[I]=B[O]}Object.defineProperty(D,"__esModule",{value:!0});D.CPBrushToolWatercolor=D.CPBrushToolSmudge=D.CPBrushToolOil=D.CPBrushToolEraser=D.CPBrushToolDodge=D.CPBrushToolBurn=D.CPBrushToolBlur=D.CPBrushTool=void 0;var f=
y(g("./CPColorBmp.js")),p=y(g("./CPGreyBmp.js")),e=y(g("./CPBrushInfo.js")),n=y(g("../util/CPColorFloat.js"));g=D.CPBrushTool=function(){function A(C,B){a(this,A);this._strokeBuffer=C;this._strokedRegion=B;this.wantsOutputAsInput=!0}r(A,[{key:"paintDab",value:function(C,B,I,O,z,G,H){C=Math.max(1,Math.ceil(G.alpha*O.alphaScale));switch(O.paintMode){case e.default.PAINT_MODE_FLOW:this._paintFlow(z,B,G.brush,G.width,C);break;case e.default.PAINT_MODE_OPACITY:this._paintOpacity(z,B,G.brush,G.width,C)}}},
{key:"mergeOntoImage",value:function(C,B,I){var O=this._strokeBuffer.data,z=this._strokedRegion;B=B.data;var G=C.data,H=I>>16&255,N=I>>8&255;I&=255;var J=z.getWidth()|0,R=z.getHeight()|0,fa=this._strokeBuffer.offsetOfPixel(z.left,z.top);z=C.offsetOfPixel(z.left,z.top);var Y=this._strokeBuffer.width-J|0;C=(C.width-J)*f.default.BYTES_PER_PIXEL|0;for(var qa=0;qa<R;qa++,fa+=Y,z+=C)for(var ka=0;ka<J;ka++,fa++,z+=f.default.BYTES_PER_PIXEL){var Q=O[fa]/255+.5|0;if(0<Q){var aa=Q+B[z+f.default.ALPHA_BYTE_OFFSET]*
(255-Q)/255|0;Q=255*Q/aa|0;var ha=255-Q;G[z]=(H*Q+B[z]*ha)/255&255;G[z+1]=(N*Q+B[z+1]*ha)/255&255;G[z+2]=(I*Q+B[z+2]*ha)/255&255;G[z+3]=aa}}}},{key:"mergeOntoMask",value:function(C,B,I){var O=this._strokeBuffer.data,z=this._strokedRegion;B=B.data;var G=C.data,H=z.getWidth()|0,N=z.getHeight()|0,J=C.offsetOfPixel(z.left,z.top);z=this._strokeBuffer.offsetOfPixel(z.left,z.top);var R=this._strokeBuffer.width-H|0;C=C.width-H|0;for(var fa=0;fa<N;fa++,z+=R,J+=C)for(var Y=0;Y<H;Y++,z++,J++){var qa=O[z]/255|
0;0<qa&&(G[J]=(I*qa+B[J]*(255-qa))/255)}}},{key:"_paintFlow",value:function(C,B,I,O,z){var G=this._strokeBuffer.data;C=C.left+C.top*O;var H=this._strokeBuffer.offsetOfPixel(B.left,B.top),N=B.getHeight(),J=B.getWidth();O-=J;var R=this._strokeBuffer.width-J;this._strokedRegion.union(B);for(B=0;B<N;B++,C+=O,H+=R)for(var fa=0;fa<J;fa++,C++,H++){var Y=I[C]*z;0!=Y&&(G[H]=Math.min(65025,G[H]+(255-G[H]/255)*Y/255))}}},{key:"_paintOpacity",value:function(C,B,I,O,z){var G=this._strokeBuffer.data;C=C.left+C.top*
O;var H=this._strokeBuffer.offsetOfPixel(B.left,B.top),N=B.getWidth();O-=N;var J=this._strokeBuffer.width-N;z=Math.min(255,z);this._strokedRegion.union(B);for(var R=B.top;R<B.bottom;R++,C+=O,H+=J)for(var fa=0;fa<N;fa++,C++,H++)G[H]=Math.max(I[C]*z,G[H])}},{key:"beginStroke",value:function(){}},{key:"endStroke",value:function(){}}]);return A}();D.CPBrushToolEraser=function(A){function C(){a(this,C);return B.apply(this,arguments)}u(C,A);var B=b(C);r(C,[{key:"mergeOntoImage",value:function(I,O,z){z=
this._strokeBuffer.data;var G=this._strokedRegion;O=O.data;for(var H=I.data,N=G.top;N<G.bottom;N++)for(var J=I.offsetOfPixel(G.left,N)+f.default.ALPHA_BYTE_OFFSET,R=this._strokeBuffer.offsetOfPixel(G.left,N),fa=G.left;fa<G.right;fa++,J+=f.default.BYTES_PER_PIXEL){var Y=z[R++]/255|0;0<Y&&(H[J]=O[J]*(255-Y)/255)}}}]);return C}(g);D.CPBrushToolDodge=function(A){function C(){a(this,C);return B.apply(this,arguments)}u(C,A);var B=b(C);r(C,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;
var G=this._strokedRegion,H=G.getWidth(),N=G.getHeight(),J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=(I.width-H)*f.default.BYTES_PER_PIXEL,fa=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var Y=0;Y<N;Y++,G+=fa,J+=R)for(var qa=0;qa<H;qa++,G++,J+=f.default.BYTES_PER_PIXEL){var ka=z[G]/255|0;0<ka&&0!=O[J+f.default.ALPHA_BYTE_OFFSET]&&(ka=(ka+255)/255,I[J+f.default.RED_BYTE_OFFSET]=O[J+f.default.RED_BYTE_OFFSET]*ka,I[J+f.default.GREEN_BYTE_OFFSET]=O[J+f.default.GREEN_BYTE_OFFSET]*
ka,I[J+f.default.BLUE_BYTE_OFFSET]=O[J+f.default.BLUE_BYTE_OFFSET]*ka)}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),N=G.getHeight(),J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=I.width-H,fa=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var Y=0;Y<N;Y++,G+=fa,J+=R)for(var qa=0;qa<H;qa++,G++,J++){var ka=z[G]/255|0;0<ka&&(I[J]=Math.min((ka+255)/255*O[J],255))}}}]);return C}(g);D.CPBrushToolBurn=
function(A){function C(){a(this,C);return B.apply(this,arguments)}u(C,A);var B=b(C);r(C,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),N=G.getHeight(),J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=(I.width-H)*f.default.BYTES_PER_PIXEL,fa=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var Y=0;Y<N;Y++,G+=fa,J+=R)for(var qa=0;qa<H;qa++,G++,J+=f.default.BYTES_PER_PIXEL){var ka=z[G]/255|0;0<ka&&
0!=O[J+f.default.ALPHA_BYTE_OFFSET]&&(I[J+f.default.RED_BYTE_OFFSET]=O[J+f.default.RED_BYTE_OFFSET]-(260-O[J+f.default.RED_BYTE_OFFSET])*ka/255|0,I[J+f.default.GREEN_BYTE_OFFSET]=O[J+f.default.GREEN_BYTE_OFFSET]-(260-O[J+f.default.GREEN_BYTE_OFFSET])*ka/255|0,I[J+f.default.BLUE_BYTE_OFFSET]=O[J+f.default.BLUE_BYTE_OFFSET]-(260-O[J+f.default.BLUE_BYTE_OFFSET])*ka/255|0)}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),N=G.getHeight(),
J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=I.width-H,fa=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var Y=0;Y<N;Y++,G+=fa,J+=R)for(var qa=0;qa<H;qa++,G++,J++){var ka=z[G]/255|0;0<ka&&(I[J]=Math.max(O[J]-(260-O[J])*ka/255,0))}}}]);return C}(g);D.CPBrushToolBlur=function(A){function C(){a(this,C);return B.apply(this,arguments)}u(C,A);var B=b(C);r(C,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=O.data;
I=I.data;var N=G.getWidth(),J=O.width*f.default.BYTES_PER_PIXEL,R=O.offsetOfPixel(G.left,G.top),fa=this._strokeBuffer.offsetOfPixel(G.left,G.top),Y=(O.width-N)*f.default.BYTES_PER_PIXEL;N=this._strokeBuffer.width-N;for(var qa,ka,Q,aa,ha=function(Ma){qa+=H[Ma+f.default.RED_BYTE_OFFSET];ka+=H[Ma+f.default.GREEN_BYTE_OFFSET];Q+=H[Ma+f.default.BLUE_BYTE_OFFSET];aa+=H[Ma+f.default.ALPHA_BYTE_OFFSET]},ra=G.top;ra<G.bottom;ra++,R+=Y,fa+=N)for(var ta=G.left;ta<G.right;ta++,R+=f.default.BYTES_PER_PIXEL,fa++){var xa=
z[fa]/255|0;if(0<xa){xa=64+-63*xa/255|0;var na=xa+4;qa=xa*H[R+f.default.RED_BYTE_OFFSET];ka=xa*H[R+f.default.GREEN_BYTE_OFFSET];Q=xa*H[R+f.default.BLUE_BYTE_OFFSET];aa=xa*H[R+f.default.ALPHA_BYTE_OFFSET];ha(0<ra?R-J:R);ha(ra<O.height-1?R+J:R);ha(0<ta?R-f.default.BYTES_PER_PIXEL:R);ha(ta<O.width-1?R+f.default.BYTES_PER_PIXEL:R);aa/=na;qa/=na;ka/=na;Q/=na;I[R+f.default.RED_BYTE_OFFSET]=qa|0;I[R+f.default.GREEN_BYTE_OFFSET]=ka|0;I[R+f.default.BLUE_BYTE_OFFSET]=Q|0;I[R+f.default.ALPHA_BYTE_OFFSET]=aa|
0}}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=O.data;I=I.data;var N=G.getWidth(),J=O.width,R=O.offsetOfPixel(G.left,G.top),fa=this._strokeBuffer.offsetOfPixel(G.left,G.top),Y=O.width-N;N=this._strokeBuffer.width-N;for(var qa,ka=G.top;ka<G.bottom;ka++,R+=Y,fa+=N)for(var Q=G.left;Q<G.right;Q++,R++,fa++){var aa=z[fa]/255|0;0<aa&&(qa=64+-63*aa/255|0,aa=qa+4,qa*=H[R],qa+=H[0<ka?R-J:R],qa+=H[ka<O.height-1?R+J:R],qa+=H[0<Q?R-1:R],qa+=H[Q<O.width-1?
R+1:R],I[R]=qa/aa|0)}}}]);return C}(g);g=function(A){function C(){a(this,C);return B.apply(this,arguments)}u(C,A);var B=b(C);r(C,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion;O=O.data;var H=I.data,N=this._strokeBuffer.offsetOfPixel(G.left,G.top),J=I.offsetOfPixel(G.left,G.top),R=G.getWidth()|0;G=G.getHeight()|0;var fa=this._strokeBuffer.width-R|0;I=(I.width-R)*f.default.BYTES_PER_PIXEL|0;for(var Y=0;Y<G;Y++,N+=fa,J+=I)for(var qa=0;qa<R;qa++,N++,J+=
f.default.BYTES_PER_PIXEL){var ka=z[N],Q=ka>>>24;if(0<Q){var aa=O[J+f.default.ALPHA_BYTE_OFFSET];aa=Q+aa-Q*aa/255|0;Q=255*Q/aa|0;var ha=255-Q;H[J]=((ka>>16&255)*Q+O[J]*ha)/255|0;H[J+1]=((ka>>8&255)*Q+O[J+1]*ha)/255|0;H[J+2]=((ka&255)*Q+O[J+2]*ha)/255|0;H[J+3]=aa}}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion;O=O.data;var H=I.data,N=this._strokeBuffer.offsetOfPixel(G.left,G.top),J=I.offsetOfPixel(G.left,G.top),R=G.getWidth()|0;G=G.getHeight()|0;var fa=
this._strokeBuffer.width-R|0;I=I.width-R|0;for(var Y=0;Y<G;Y++,N+=fa,J+=I)for(var qa=0;qa<R;qa++,N++,J++){var ka=z[N],Q=ka>>8;0<Q&&(H[J]=((ka&255)*Q+O[J]*(255-Q))/255|0)}}}]);return C}(g);var v=2/6;D.CPBrushToolWatercolor=function(A){function C(I,O){a(this,C);I=B.call(this,I,O);I.wantsOutputAsInput=!0;return I}u(C,A);var B=b(C);r(C,[{key:"_paintToColorStrokeBuffer",value:function(I,O,z,G,H,N){var J=this._strokeBuffer.data,R=O.getWidth(),fa=O.getHeight(),Y=this._strokeBuffer.width-R,qa=G-R;I=I.left+
I.top*G;G=this._strokeBuffer.offsetOfPixel(O.left,O.top);this._strokedRegion.union(O);for(O=0;O<fa;O++,I+=qa,G+=Y)for(var ka=0;ka<R;ka++,I++,G++){var Q=z[I]*H/255|0;if(0<Q){var aa=J[G],ha=aa>>>24;ha=Q+ha-Q*ha/255|0;Q=255-(255*Q/ha|0);J[G]=ha<<24|(N>>16&255)+((aa>>16&255)*Q-(N>>16&255)*Q)/255<<16|(N>>8&255)+((aa>>8&255)*Q-(N>>8&255)*Q)/255<<8|(N&255)+((aa&255)*Q-(N&255)*Q)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(I,O,z,G,H,N){var J=this._strokeBuffer.data;this._strokedRegion.union(O);
for(var R=O.top,fa=I.top;R<O.bottom;R++,fa++)for(var Y=I.left+fa*G,qa=this._strokeBuffer.offsetOfPixel(O.left,R),ka=O.left;ka<O.right;ka++,Y++,qa++){var Q=z[Y]*H/255|0;if(!(0>=Q)){var aa=J[qa],ha=aa>>8;ha=Q+ha-Q*ha/255|0;0<ha&&(Q=255-(255*Q/ha|0),J[qa]=ha<<8|N+((aa&255)*Q-N*Q)/255)}}}},{key:"beginStroke",value:function(){this._previousSamples=null}},{key:"paintDab",value:function(I,O,z,G,H,N,J){I=Math.max(1,N.alpha/4);var R=(O.left+O.right)/2,fa=(O.top+O.bottom)/2,Y=Math.max(1,Math.min(64,O.getWidth()*
v)),qa=Math.max(1,Math.min(64,O.getHeight()*v));if(z instanceof p.default){null==this._previousSamples&&(this._previousSamples=Array(50),this._previousSamples.fill(C._sampleGrey(z,R,fa,Y,qa)));var ka=q(this._previousSamples),Q=G.resat*G.resat;J=ka=ka*(1-Q)+(J&255)*Q;z=C._sampleGrey(z,R,fa,Y,qa);G=G.bleed;this._previousSamples.push(ka*(1-G)+z*G);this._previousSamples.shift();this._paintToGreyscaleStrokeBuffer(H,O,N.brush,N.width,I,Math.round(J))}else null==this._previousSamples&&(this._previousSamples=
Array(50),this._previousSamples.fill(C._sampleRGB(z,R,fa,Y,qa))),ka=h(this._previousSamples),ka.mixWith(n.default.createFromInt(J),G.resat*G.resat),J=ka.toInt(),ka.mixWith(C._sampleRGB(z,R,fa,Y,qa),G.bleed),this._previousSamples.push(ka),this._previousSamples.shift(),this._paintToColorStrokeBuffer(H,O,N.brush,N.width,I,J)}}],[{key:"_sampleGrey",value:function(I,O,z,G,H){O|=0;z|=0;for(var N=[{x:O,y:z}],J=.25;1.001>J;J+=.25)Array.prototype.push.apply(N,[{x:~~(O+J*G),y:z},{x:~~(O-J*G),y:z},{x:O,y:~~(z+
J*H)},{x:O,y:~~(z-J*H)},{x:~~(O+.7*J*G),y:~~(z+.7*J*H)},{x:~~(O+.7*J*G),y:~~(z-.7*J*H)},{x:~~(O-.7*J*G),y:~~(z+.7*J*H)},{x:~~(O-.7*J*G),y:~~(z-.7*J*H)}]);return q(N.map(function(R){return I.getPixel(R.x,R.y)}))}},{key:"_sampleRGB",value:function(I,O,z,G,H){O|=0;z|=0;for(var N=[{x:O,y:z}],J=.25;1.001>J;J+=.25)Array.prototype.push.apply(N,[{x:~~(O+J*G),y:z},{x:~~(O-J*G),y:z},{x:O,y:~~(z+J*H)},{x:O,y:~~(z-J*H)},{x:~~(O+.7*J*G),y:~~(z+.7*J*H)},{x:~~(O+.7*J*G),y:~~(z-.7*J*H)},{x:~~(O-.7*J*G),y:~~(z+.7*
J*H)},{x:~~(O-.7*J*G),y:~~(z-.7*J*H)}]);return h(N.map(function(R){return n.default.createFromInt(I.getPixel(R.x,R.y))}))}}]);return C}(g);D.CPBrushToolOil=function(A){function C(I,O){a(this,C);I=B.call(this,I,O);I.wantsOutputAsInput=!0;return I}u(C,A);var B=b(C);r(C,[{key:"_accumulatePaintFromMask",value:function(I,O,z,G){var H=this._brushBuffer.data,N=I.data,J=z.getWidth(),R=z.getHeight();O=O.left+O.top*this._brushBuffer.width;z=I.offsetOfPixel(z.left,z.top);var fa=this._brushBuffer.width-J;I=I.width-
J;if(!(0>=G))for(var Y=0;Y<R;Y++,O+=fa,z+=I)for(var qa=0;qa<J;qa++,O++,z++){var ka=N[z],Q=H[O],aa=Q>>8;aa=G+aa-G*aa/255|0;var ha=255-(255*G/aa|0);H[O]=aa<<8|ka+((Q&255)*ha-ka*ha)/255}}},{key:"_resaturateBrushWithGrey",value:function(I,O,z){if(!(0>=O)){var G=this._brushBuffer.data,H=I.getWidth(),N=I.getHeight();I=I.left+I.top*this._brushBuffer.width;for(var J=this._brushBuffer.width-H,R=0;R<N;R++,I+=J)for(var fa=0;fa<H;fa++,I++){var Y=G[I],qa=Y>>8;qa=O+qa-O*qa/255|0;var ka=255-(255*O/qa|0);G[I]=qa<<
8|z+((Y&255)*ka-z*ka)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(I,O,z,G,H){var N=this._strokeBuffer.data,J=this._brushBuffer.data,R=I.data;this._strokedRegion.union(z);for(var fa=z.top,Y=O.top;fa<z.bottom;fa++,Y++)for(var qa=this._brushBuffer.offsetOfPixel(O.left,Y),ka=this._strokeBuffer.offsetOfPixel(z.left,fa),Q=I.offsetOfPixel(z.left,fa),aa=z.left;aa<z.right;aa++,qa++,Q++,ka++){var ha=J[qa],ra=(ha>>8)*G[qa]*H/65025|0;0<ra&&(ra=255-ra,N[ka]=65280|(ha&255)+(R[Q]*ra-(ha&255)*ra)/
255)}}},{key:"_accumulatePaintFromImage",value:function(I,O,z,G){var H=this._brushBuffer.data,N=I.data,J=z.getWidth(),R=z.getHeight();O=O.left+O.top*this._brushBuffer.width;z=I.offsetOfPixel(z.left,z.top);var fa=this._brushBuffer.width-J;I=(I.width-J)*f.default.BYTES_PER_PIXEL;for(var Y=0;Y<R;Y++,O+=fa,z+=I)for(var qa=0;qa<J;qa++,O++,z+=f.default.BYTES_PER_PIXEL){var ka=N[z+f.default.ALPHA_BYTE_OFFSET]*G/255|0;if(0<ka){var Q=H[O],aa=Q>>>24;aa=ka+aa-ka*aa/255|0;ka=255-(255*ka/aa|0);var ha=N[z+f.default.RED_BYTE_OFFSET],
ra=N[z+f.default.GREEN_BYTE_OFFSET],ta=N[z+f.default.BLUE_BYTE_OFFSET];H[O]=aa<<24|ha+((Q>>16&255)*ka-ha*ka)/255<<16|ra+((Q>>8&255)*ka-ra*ka)/255<<8|ta+((Q&255)*ka-ta*ka)/255}}}},{key:"_resaturateBrushWithColor",value:function(I,O,z){if(!(0>=O)){var G=this._brushBuffer.data,H=I.getWidth(),N=I.getHeight();I=I.left+I.top*this._brushBuffer.width;for(var J=this._brushBuffer.width-H,R=0;R<N;R++,I+=J)for(var fa=0;fa<H;fa++,I++){var Y=G[I],qa=Y>>>24;qa=O+qa-O*qa/255|0;var ka=255-(255*O/qa|0);G[I]=qa<<24|
(z>>>16&255)+((Y>>>16&255)*ka-(z>>>16&255)*ka)/255<<16|(z>>>8&255)+((Y>>>8&255)*ka-(z>>>8&255)*ka)/255<<8|(z&255)+((Y&255)*ka-(z&255)*ka)/255}}}},{key:"_paintToColorStrokeBuffer",value:function(I,O,z,G,H){var N=this._strokeBuffer.data,J=this._brushBuffer.data,R=I.data;this._strokedRegion.union(z);for(var fa=z.top,Y=O.top;fa<z.bottom;fa++,Y++)for(var qa=this._brushBuffer.offsetOfPixel(O.left,Y),ka=this._strokeBuffer.offsetOfPixel(z.left,fa),Q=I.offsetOfPixel(z.left,fa),aa=z.left;aa<z.right;aa++,qa++,
Q+=f.default.BYTES_PER_PIXEL,ka++){var ha=J[qa],ra=(ha>>>24)*G[qa]*H/65025|0;if(0<ra){var ta=R[Q+f.default.ALPHA_BYTE_OFFSET];ta=ra+ta-ra*ta/255|0;ra=255-(255*ra/ta|0);N[ka]=ta<<24|(ha>>16&255)+(R[Q+f.default.RED_BYTE_OFFSET]*ra-(ha>>16&255)*ra)/255<<16|(ha>>8&255)+(R[Q+f.default.GREEN_BYTE_OFFSET]*ra-(ha>>8&255)*ra)/255<<8|(ha&255)+(R[Q+f.default.BLUE_BYTE_OFFSET]*ra-(ha&255)*ra)/255}}}},{key:"paintDab",value:function(I,O,z,G,H,N,J){I instanceof f.default?null==this._brushBuffer?(this._brushBuffer=
new p.default(N.width,N.height,32),this._accumulatePaintFromImage(z,H,O,255)):(this._resaturateBrushWithColor(H,~~(0>=G.resat?0:Math.max(1,G.resat*G.resat*255)),J&16777215),this._paintToColorStrokeBuffer(I,H,O,N.brush,N.alpha),this._accumulatePaintFromImage(z,H,O,~~(255*G.bleed))):null==this._brushBuffer?(this._brushBuffer=new p.default(N.width,N.height,16),this._accumulatePaintFromMask(z,H,O,255)):(this._resaturateBrushWithGrey(H,~~(0>=G.resat?0:Math.max(1,G.resat*G.resat*255)),J&255),this._paintToGreyscaleStrokeBuffer(I,
H,O,N.brush,N.alpha),this._accumulatePaintFromMask(z,H,O,~~(255*G.bleed)))}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return C}(g);D.CPBrushToolSmudge=function(A){function C(I,O){a(this,C);I=B.call(this,I,O);I._brushBuffer=null;I.wantsOutputAsInput=!0;I.noMergePhase=!0;return I}u(C,A);var B=b(C);r(C,[{key:"_sampleFromMask",value:function(I,O,z,G){var H=this._brushBuffer.data,N=O.getWidth(),J=O.getHeight(),R=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,
z.top);var fa=this._brushBuffer.width-N,Y=I.width-N,qa=255-G;if(255!=G){for(var ka=0;ka<J;ka++,R+=fa,z+=Y)for(var Q=0;Q<N;Q++,R++,z++){var aa=I.data[z],ha=H[R],ra=(aa*qa+(ha&255)*G)/255,ta=(255*qa+(ha>>8)*G)/255<<8|ra;ta==ha&&(aa>ra?ta++:aa<ra&&ta--);H[R]=ta}c(this._brushBuffer,O)}}},{key:"_paintToMask",value:function(I,O,z,G){var H=O.getWidth(),N=O.getHeight();O=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,z.top);var J=this._brushBuffer.width-H,R=I.width-H;I=I.data;for(var fa=
this._brushBuffer.data,Y=0;Y<N;Y++,z+=R,O+=J)for(var qa=0;qa<H;qa++,O++,z++){var ka=fa[O],Q=ka&255;0<((ka>>8)*G[O]/255|0)&&(I[z]=Q)}}},{key:"_sampleFromImage",value:function(I,O,z,G){var H=this._brushBuffer.data,N=O.getWidth(),J=O.getHeight(),R=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,z.top);var fa=this._brushBuffer.width-N,Y=(I.width-N)*f.default.BYTES_PER_PIXEL,qa=255-G;if(255!=G){for(var ka=0;ka<J;ka++,R+=fa,z+=Y)for(var Q=0;Q<N;Q++,R++,z+=f.default.BYTES_PER_PIXEL){var aa=
I.data[z+f.default.RED_BYTE_OFFSET],ha=I.data[z+f.default.GREEN_BYTE_OFFSET],ra=I.data[z+f.default.BLUE_BYTE_OFFSET],ta=H[R],xa=(I.data[z+f.default.ALPHA_BYTE_OFFSET]*qa+(ta>>24&255)*G)/255<<24&4278190080|(aa*qa+(ta>>16&255)*G)/255<<16&16711680|(ha*qa+(ta>>8&255)*G)/255<<8&65280|(ra*qa+(ta&255)*G)/255&255;if(xa==ta){ta=(xa&16711680)>>16;var na=(xa&65280)>>8,Ma=xa&255;aa>ta?xa+=65536:aa<ta&&(xa-=65536);ha>na?xa+=256:ha<na&&(xa-=256);ra>Ma?xa+=1:ra<Ma&&--xa}H[R]=xa}c(this._brushBuffer,O)}}},{key:"_paintToImage",
value:function(I,O,z,G){var H=O.getWidth(),N=O.getHeight();O=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,z.top);var J=this._brushBuffer.width-H,R=(I.width-H)*f.default.BYTES_PER_PIXEL;I=I.data;for(var fa=this._brushBuffer.data,Y=0;Y<N;Y++,z+=R,O+=J)for(var qa=0;qa<H;qa++,O++,z+=f.default.BYTES_PER_PIXEL){var ka=fa[O];0<((ka>>>24)*G[O]/255|0)&&(I[z+f.default.RED_BYTE_OFFSET]=ka>>16&255,I[z+f.default.GREEN_BYTE_OFFSET]=ka>>8&255,I[z+f.default.BLUE_BYTE_OFFSET]=ka&255,I[z+
f.default.ALPHA_BYTE_OFFSET]=ka>>24&255)}}},{key:"paintDab",value:function(I,O,z,G,H,N,J){I instanceof f.default?null==this._brushBuffer?(this._brushBuffer=new p.default(N.width,N.height,32),this._sampleFromImage(z,H,O,0)):(this._sampleFromImage(z,H,O,N.alpha),this._paintToImage(I,H,O,N.brush)):null==this._brushBuffer?(this._brushBuffer=new p.default(N.width,N.height,16),this._sampleFromMask(z,H,O,0)):(this._sampleFromMask(z,H,O,N.alpha),this._paintToMask(I,H,O,N.brush))}},{key:"mergeOntoImage",value:function(I,
O,z){}},{key:"mergeOntoMask",value:function(I,O,z){}},{key:"beginStroke",value:function(){this._brushBuffer=null}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return C}(g)},{"../util/CPColorFloat.js":59,"./CPBrushInfo.js":8,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],11:[function(g,K,D){function y(Da){return Da&&Da.__esModule?Da:{default:Da}}function k(Da,ua){var Ga="undefined"!==typeof Symbol&&Da[Symbol.iterator]||Da["@@iterator"];if(!Ga){if(Array.isArray(Da)||(Ga=u(Da))||ua&&Da&&
"number"===typeof Da.length){Ga&&(Da=Ga);var Ia=0;ua=function(){};return{s:ua,n:function(){return Ia>=Da.length?{done:!0}:{done:!1,value:Da[Ia++]}},e:function(Pa){throw Pa;},f:ua}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var db=!0,ub=!1,rb;return{s:function(){Ga=Ga.call(Da)},n:function(){var Pa=Ga.next();db=Pa.done;return Pa},e:function(Pa){ub=!0;rb=Pa},f:function(){try{db||null==Ga.return||
Ga.return()}finally{if(ub)throw rb;}}}}function u(Da,ua){if(Da){if("string"===typeof Da)return E(Da,ua);var Ga=Object.prototype.toString.call(Da).slice(8,-1);"Object"===Ga&&Da.constructor&&(Ga=Da.constructor.name);if("Map"===Ga||"Set"===Ga)return Array.from(Da);if("Arguments"===Ga||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ga))return E(Da,ua)}}function E(Da,ua){if(null==ua||ua>Da.length)ua=Da.length;for(var Ga=0,Ia=Array(ua);Ga<ua;Ga++)Ia[Ga]=Da[Ga];return Ia}function b(){b="undefined"!==typeof Reflect&&
Reflect.get?Reflect.get.bind():function(Da,ua,Ga){var Ia;for(Ia=Da;!Object.prototype.hasOwnProperty.call(Ia,ua)&&(Ia=r(Ia),null!==Ia););if(Ia)return Ia=Object.getOwnPropertyDescriptor(Ia,ua),Ia.get?Ia.get.call(3>arguments.length?Da:Ga):Ia.value};return b.apply(this,arguments)}function d(Da,ua){if("function"!==typeof ua&&null!==ua)throw new TypeError("Super expression must either be null or a function");Da.prototype=Object.create(ua&&ua.prototype,{constructor:{value:Da,writable:!0,configurable:!0}});
Object.defineProperty(Da,"prototype",{writable:!1});ua&&w(Da,ua)}function w(Da,ua){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ga,Ia){Ga.__proto__=Ia;return Ga};return w(Da,ua)}function a(Da){var ua=l();return function(){var Ga=r(Da);if(ua){var Ia=r(this).constructor;Ga=Reflect.construct(Ga,arguments,Ia)}else Ga=Ga.apply(this,arguments);if(!Ga||"object"!==q(Ga)&&"function"!==typeof Ga){if(void 0!==Ga)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");Ga=this}return Ga}}function l(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Da){return!1}}function r(Da){r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ua){return ua.__proto__||Object.getPrototypeOf(ua)};return r(Da)}
function q(Da){"@babel/helpers - typeof";return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ua){return typeof ua}:function(ua){return ua&&"function"==typeof Symbol&&ua.constructor===Symbol&&ua!==Symbol.prototype?"symbol":typeof ua},q(Da)}function h(Da,ua){if(!(Da instanceof ua))throw new TypeError("Cannot call a class as a function");}function c(Da,ua){for(var Ga=0;Ga<ua.length;Ga++){var Ia=ua[Ga];Ia.enumerable=Ia.enumerable||!1;Ia.configurable=!0;"value"in Ia&&(Ia.writable=
!0);var db=Object,ub=db.defineProperty;a:{var rb=Ia.key;if("object"===q(rb)&&null!==rb){var Pa=rb[Symbol.toPrimitive];if(void 0!==Pa){rb=Pa.call(rb,"string");if("object"!==q(rb))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}rb=String(rb)}}rb="symbol"===q(rb)?rb:String(rb);ub.call(db,Da,rb,Ia)}}function f(Da,ua,Ga){ua&&c(Da.prototype,ua);Ga&&c(Da,Ga);Object.defineProperty(Da,"prototype",{writable:!1});return Da}function p(Da){this.version=Da.readU32BE();this.width=Da.readU32BE();
this.height=Da.readU32BE();this.layersNb=Da.readU32BE()}function e(Da){for(var ua=Array(4),Ga=0;Ga<ua.length;Ga++)ua[Ga]=String.fromCharCode(Da.readByte());this.chunkType=ua.join("");this.chunkSize=Da.readU32BE();if(Da.eof)throw"Truncated chunk";}function n(Da){return{major:Da>>16&65535,minor:Da&65535}}function v(Da){Da=n(Da);return 0===Da.major&&0===Da.minor?"ChibiPaint v0.0":"ChickenPaint v"+Da.major+"."+Da.minor}function A(Da){Da=k(Da.getLayersRoot().getLinearizedLayerList(!1));var ua;try{for(Da.s();!(ua=
Da.n()).done;){var Ga=ua.value;if(Ga instanceof N.default||Ga.mask||Ga.clip||Ga.blendMode>R.default.LM_LAST_CHIBIPAINT||Ga.blendMode===R.default.LM_MULTIPLY)return Y<<16|qa}}catch(Ia){Da.e(Ia)}finally{Da.f()}return 0}function C(Da,ua){var Ga=new Uint8Array(e.HEADER_LENGTH+ua);Ga=new H.default(Ga);Ga.writeString(Da);Ga.writeU32BE(ua);return Ga}function B(Da,ua,Ga){var Ia=C(aa,p.FIXED_HEADER_LENGTH);Ia.writeU32BE(ua);Ia.writeU32BE(Da.width);Ia.writeU32BE(Da.height);Ia.writeU32BE(Ga);return Ia.getAsDataArray()}
function I(Da){for(var ua=0;ua<Q.length;ua++)if(Da[ua]!=Q.charCodeAt(ua))return!1;return!0}Object.defineProperty(D,"__esModule",{value:!0});D.load=function(Da,ua){function Ga(Na){var ib=Fa;if(null===ib||0===ib.length)Fa=Na;else if(null===Na||0===Na.length)Fa=ib;else{var mb=new Uint8Array(ib.length+Na.length);mb.set(ib,0);mb.set(Na,ib.length);Fa=mb}for(;;){if(Fa)if(sa<Fa.length)Fa=Fa.subarray(sa),sa=0;else{sa-=Fa.length;Fa=null;break}else break;switch(db){case 0:if(Fa.length<e.HEADER_LENGTH)break;
Na=new H.default(Fa);Aa=new e(Na);Fa=Fa.subarray(Na.pos);if(ma)if(Aa.chunkType==ta)db=45;else{Aa.chunkType==ha?(db=2,Pa=new Ca(Aa,ma.width,ma.height)):Aa.chunkType==ra?(db=3,Pa=new Ra(Aa,ma.width,ma.height)):(console.log("Unknown chunk type '"+Aa.chunkType+"', attempting to skip..."),sa=Aa.chunkSize);continue}else if(Aa.chunkType==aa){db=1;continue}else db=5;break;case 1:if(Fa.length<Aa.chunkSize)break;Na=new H.default(Fa);ma=new p(Na);if(n(ma.version).major>ka){db=5;break}ub=new O.default(ma.width,
ma.height);rb=ub.getLayersRoot();sa=Aa.chunkSize;db=0;continue;case 2:Fa=Pa.decode(Fa);if(Pa.done){ub.addLayerObject(rb,Pa.layer);db=0;continue}break;case 3:if(Fa=Pa.decode(Fa),Pa.done){ub.addLayerGroupObject(rb,Pa.layer,Pa.childLayers);db=0;continue}}break}}ua=ua||{};var Ia=new fa.default.Inflate({}),db=0,ub=null,rb=null,Pa,sa=0,ma=null,Aa=null,Fa=null;return(new Promise(function(Na){if(Da instanceof ArrayBuffer)Na(Da);else{var ib=new FileReader;ib.onload=function(){Na(this.result)};ib.readAsArrayBuffer(Da)}})).then(function(Na){return new Promise(function(ib,
mb){var zb=new Uint8Array(Na);I(zb)?(zb=zb.subarray(Q.length),Ia.onData=Ga,Ia.onEnd=function(Qa){0===Qa&&45==db?(!1!==ua.upgradeMultiplyLayers&&ma.version<(Y<<16|qa)&&ub.upgradeMultiplyLayers(ua.upgradeMultiplyLayers),ub.selectTopmostVisibleLayer(),ib(ub)):mb("Fatal error decoding ChibiFile: "+Qa)},Ia.push(zb,!0)):mb("This doesn't appear to be a ChibiPaint layers file, is it damaged?")})})};D.save=function(Da,ua){ua=ua||{};return Promise.resolve().then(function(){var Ga=new fa.default.Deflate({level:7}),
Ia=[],db=new Uint8Array(Q.length),ub=Da.getLayersRoot().getLinearizedLayerList(!1),rb=ua.forceOldVersion?0:A(Da),Pa=v(rb),sa=Promise.resolve();Ga.onData=function(Fa){Ia.push(Fa)};for(var ma=0;ma<Q.length;ma++)db[ma]=Q.charCodeAt(ma);Ia.push(db);Ga.push(B(Da,rb,ub.length),!1);db=k(ub);var Aa;try{for(ub=function(){var Fa=Aa.value;sa=sa.then(function(){return new Promise(function(Na){var ib=Ga.push,mb=Fa instanceof z.default;var zb=4*(mb?5:6);var Qa=Fa.name.length,Sa=zb+Qa;zb=C(mb?ha:ra,zb+Qa+((mb?Fa.image.data.length:
0)+(Fa.mask?Fa.mask.data.length:0)));Qa=0;Fa.visible&&(Qa|=xa);mb&&Fa.clip&&(Qa|=na);Fa.mask&&(Qa|=Ma);Fa.maskLinked&&(Qa|=jb);Fa.maskVisible&&(Qa|=ab);Fa.lockAlpha&&(Qa|=Z);!mb&&Fa.expanded&&(Qa|=T);if(Fa.blendMode===R.default.LM_MULTIPLY2){var Ja=R.default.LM_MULTIPLY;Qa|=pa}else Ja=Fa.blendMode;zb.writeU32BE(Sa);zb.writeU32BE(Ja);zb.writeU32BE(Fa.alpha);zb.writeU32BE(Qa);zb.writeU32BE(Fa.name.length);mb||zb.writeU32BE(Fa.layers.length);zb.writeString(Fa.name);if(mb){mb=zb.pos;Sa=zb.data;Qa=Fa.image.data;
for(Ja=0;Ja<Qa.length;Ja+=G.default.BYTES_PER_PIXEL)Sa[mb++]=Qa[Ja+G.default.ALPHA_BYTE_OFFSET],Sa[mb++]=Qa[Ja+G.default.RED_BYTE_OFFSET],Sa[mb++]=Qa[Ja+G.default.GREEN_BYTE_OFFSET],Sa[mb++]=Qa[Ja+G.default.BLUE_BYTE_OFFSET];zb.pos=mb}Fa.mask&&(mb=Fa.mask,zb.data.set(mb.data,zb.pos),zb.pos+=mb.data.length);zb=zb.getAsDataArray();ib.call(Ga,zb,!1);setTimeout(Na,10)})})},db.s();!(Aa=db.n()).done;)ub()}catch(Fa){db.e(Fa)}finally{db.f()}return sa.then(function(){return new Promise(function(Fa,Na){Ga.onEnd=
function(ib){if(0===ib)if("undefined"!==typeof Blob)Fa({bytes:new Blob(Ia,{type:"application/octet-stream"}),version:Pa});else{ib=Ia.map(function(Sa){return Sa.byteLength}).reduce(function(Sa,Ja){return Sa+Ja},0);ib=new Uint8Array(ib);for(var mb=0,zb=0;zb<Ia.length;zb++){var Qa=Ia[zb];ib.set(Qa,mb);mb+=Qa.byteLength}Fa({bytes:ib,version:Pa})}else Na(ib)};Ga.push(C(ta,0).getAsDataArray(),!0)})})})};var O=y(g("./CPArtwork.js")),z=y(g("./CPImageLayer.js")),G=y(g("./CPColorBmp.js")),H=y(g("../util/ArrayDataStream.js")),
N=y(g("./CPLayerGroup.js")),J=y(g("./CPGreyBmp.js")),R=y(g("./CPBlend.js")),fa=y(g("pako")),Y=0,qa=10,ka=Y,Q="CHIBIOEK",aa="HEAD",ha="LAYR",ra="GRUP",ta="ZEND";p.FIXED_HEADER_LENGTH=16;e.HEADER_LENGTH=8;var xa=1,na=2,Ma=4,jb=8,ab=16,T=32,Z=64,pa=128;g=function(){function Da(ua,Ga,Ia){h(this,Da);this.chunkHeader=ua;this.width=Ga;this.height=Ia;this.nameLength=this.skipBytes=this.payloadOffset=this.state=0;this.done=!1;this.maskDecoder=this.colorDecoder=null}f(Da,[{key:"readFixedHeader",value:function(ua){this.payloadOffset=
ua.readU32BE();this.blendMode=ua.readU32BE();this.alpha=ua.readU32BE();var Ga=ua.readU32BE();this.visible=0!=(Ga&xa);this.clip=0!=(Ga&na);this.hasMask=0!=(Ga&Ma);this.maskLinked=0!=(Ga&jb);this.maskVisible=0!=(Ga&ab);this.expanded=0!=(Ga&T);this.lockAlpha=0!=(Ga&Z);this.blendMode===R.default.LM_MULTIPLY&&0!==(Ga&pa)&&(this.blendMode=R.default.LM_MULTIPLY2);this.nameLength=ua.readU32BE()}},{key:"getFixedHeaderLen",value:function(){return 20}},{key:"getVariableHeaderLen",value:function(){return this.nameLength}},
{key:"readVariableSizeHeader",value:function(ua){this.name=ua.readString(this.nameLength)}},{key:"decode",value:function(ua){for(var Ga;;){if(0<this.skipBytes){if(this.skipBytes>=ua.length)return this.skipBytes-=ua.length,null;ua=ua.subarray(this.skipBytes);this.skipBytes=0}switch(this.state){case 0:if(ua.length<this.getFixedHeaderLen())break;Ga=new H.default(ua);this.readFixedHeader(Ga);ua=ua.subarray(Ga.pos);this.state=1;continue;case 1:if(ua.length<this.getVariableHeaderLen())break;Ga=new H.default(ua);
this.readVariableSizeHeader(Ga);this.layer=this.createLayer();this.hasMask&&(this.layer.setMask(new J.default(this.width,this.height,8)),this.maskDecoder=new Va(this.layer.mask));this.layer instanceof z.default&&(this.colorDecoder=new xb(this.layer.image));this.skipBytes=this.payloadOffset-this.getFixedHeaderLen();this.state=this.colorDecoder?3:this.maskDecoder?4:5;continue;case 3:ua=this.colorDecoder.decode(ua);if(this.colorDecoder.done){this.state=this.maskDecoder?4:5;continue}break;case 4:ua=this.maskDecoder.decode(ua);
if(this.maskDecoder.done){this.state=5;continue}break;case 5:Ga=this.payloadOffset;this.colorDecoder&&(Ga+=this.colorDecoder.bytesTotal);this.maskDecoder&&(Ga+=this.maskDecoder.bytesTotal);this.state=6;this.skipBytes=this.chunkHeader.chunkSize-Ga;continue;case 6:this.done=!0}break}return ua}}]);return Da}();var Ca=function(Da){function ua(){h(this,ua);return Ga.apply(this,arguments)}d(ua,Da);var Ga=a(ua);f(ua,[{key:"createLayer",value:function(){var Ia=new z.default(this.width,this.height,this.name);
Ia.setBlendMode(this.blendMode);Ia.setAlpha(this.alpha);Ia.setVisible(this.visible);Ia.setClip(this.clip);Ia.setMaskLinked(this.maskLinked);Ia.setMaskVisible(this.maskVisible);Ia.setLockAlpha(this.lockAlpha);return Ia}}]);return ua}(g),Ra=function(Da){function ua(Ia,db,ub){h(this,ua);Ia=Ga.call(this,Ia,db,ub);Ia.childLayers=0;return Ia}d(ua,Da);var Ga=a(ua);f(ua,[{key:"readFixedHeader",value:function(Ia){b(r(ua.prototype),"readFixedHeader",this).call(this,Ia);this.childLayers=Ia.readU32BE()}},{key:"getFixedHeaderLen",
value:function(){return b(r(ua.prototype),"getFixedHeaderLen",this).call(this)+4}},{key:"createLayer",value:function(){var Ia=new N.default(this.name,this.blendMode);Ia.setAlpha(this.alpha);Ia.setVisible(this.visible);Ia.setExpanded(this.expanded);Ia.setMaskLinked(this.maskLinked);Ia.setMaskVisible(this.maskVisible);return Ia}}]);return ua}(g),xb=function(){function Da(ua){h(this,Da);this.bytesRead=0;this.bytesTotal=ua.width*ua.height*G.default.BYTES_PER_PIXEL;this.output=ua.data;this.done=!1}f(Da,
[{key:"decode",value:function(ua){if(null==ua)return null;for(var Ga=this.bytesRead%G.default.BYTES_PER_PIXEL,Ia=this.bytesRead-Ga,db=0,ub=[G.default.ALPHA_BYTE_OFFSET,G.default.RED_BYTE_OFFSET,G.default.GREEN_BYTE_OFFSET,G.default.BLUE_BYTE_OFFSET];Ga<G.default.BYTES_PER_PIXEL&&db<ua.length;Ga++)this.output[Ia+ub[Ga]]=ua[db],db++;this.bytesRead+=db;var rb=Math.min(ua.length-db,this.bytesTotal-this.bytesRead)|0;Ga=rb/G.default.BYTES_PER_PIXEL|0;rb%=G.default.BYTES_PER_PIXEL;for(Ia=0;Ia<Ga;Ia++)this.output[this.bytesRead+
G.default.ALPHA_BYTE_OFFSET]=ua[db],this.output[this.bytesRead+G.default.RED_BYTE_OFFSET]=ua[db+1],this.output[this.bytesRead+G.default.GREEN_BYTE_OFFSET]=ua[db+2],this.output[this.bytesRead+G.default.BLUE_BYTE_OFFSET]=ua[db+3],this.bytesRead+=G.default.BYTES_PER_PIXEL,db+=G.default.BYTES_PER_PIXEL;Ia=this.bytesRead;for(Ga=0;Ga<rb;Ga++)this.output[Ia+ub[Ga]]=ua[db],db++;this.bytesRead+=rb;this.bytesRead>=this.bytesTotal&&(this.done=!0);return db<ua.length?ua.subarray(db):null}}]);return Da}(),Va=
function(){function Da(ua){h(this,Da);this.bytesRead=0;this.bytesTotal=ua.width*ua.height;this.output=ua.data;this.done=!1}f(Da,[{key:"decode",value:function(ua){if(null==ua)return null;var Ga=Math.min(ua.length,this.bytesTotal-this.bytesRead)|0,Ia=this.bytesRead,db;for(db=0;db<Ga;db++,Ia++)this.output[Ia]=ua[db];this.bytesRead=Ia;this.bytesRead>=this.bytesTotal&&(this.done=!0);return db<ua.length?ua.subarray(db):null}}]);return Da}()},{"../util/ArrayDataStream.js":56,"./CPArtwork.js":3,"./CPBlend.js":5,
"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPImageLayer.js":15,"./CPLayerGroup.js":17,pako:297}],12:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(y,k,u){this.bmp=y;this.x=k;this.y=u};K.exports=D.default},{}],13:[function(g,K,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a,l){"number"==typeof a?(b.default.call(this,a,l),this.imageData=(0,w.createImageData)(this.width,this.height)):(b.default.call(this,a.width,a.height),this.imageData=a);this.data=
this.imageData.data}function u(a,l,r,q){var h=0,c=[0,0,0,0],f,p;for(p=f=0;p<q&&p<r;p++){for(var e=0;e<k.BYTES_PER_PIXEL;e++)c[e]+=a[f++];h++}for(e=p=0;e<r;e++){if(e+q<r){f=(e+q)*k.BYTES_PER_PIXEL;for(var n=0;n<k.BYTES_PER_PIXEL;n++)c[n]+=a[f++];h++}for(f=0;f<k.BYTES_PER_PIXEL;f++)l[p++]=Math.round(c[f]/h);if(0<=e-q){f=(e-q)*k.BYTES_PER_PIXEL;for(n=0;n<k.BYTES_PER_PIXEL;n++)c[n]-=a[f++];h--}}}function E(a,l){l%=4;if(0==l)return a;var r=(0,w.createCanvas)(0,0),q=r.getContext("2d");0==l%2?(r.width=a.width,
r.height=a.height):(r.width=a.height,r.height=a.width);switch(l){case 1:q.rotate(Math.PI/2);q.drawImage(a,0,-a.height);break;case 2:q.rotate(Math.PI);q.drawImage(a,-a.width,-a.height);break;case 3:q.rotate(-Math.PI/2);q.drawImage(a,-a.width,0);break;default:return a}return r}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;D.getRotatedCanvas=E;var b=y(g("./CPBitmap.js")),d=y(g("../util/CPRect.js")),w=g("../util/Canvas.js");k.prototype=Object.create(b.default.prototype);k.prototype.constructor=
k;k.BYTES_PER_PIXEL=4;k.RED_BYTE_OFFSET=0;k.GREEN_BYTE_OFFSET=1;k.BLUE_BYTE_OFFSET=2;k.ALPHA_BYTE_OFFSET=3;k.prototype.clone=function(){return this.cloneRect(this.getBounds())};k.prototype.cloneRect=function(a){var l=new k(a.getWidth(),a.getHeight());l.copyBitmapRect(this,0,0,a);return l};k.prototype.getPixel=function(a,l){a=Math.max(0,Math.min(this.width-1,a));l=Math.max(0,Math.min(this.height-1,l));a=this.offsetOfPixel(a,l);return this.data[a+k.ALPHA_BYTE_OFFSET]<<24|this.data[a+k.RED_BYTE_OFFSET]<<
16|this.data[a+k.GREEN_BYTE_OFFSET]<<8|this.data[a+k.BLUE_BYTE_OFFSET]};k.prototype.copyRectXOR=function(a,l){l=this.getBounds().clipTo(l);var r=l.getWidth(),q=l.getHeight();q=new Uint8Array(r*q*k.BYTES_PER_PIXEL);var h=0,c=this.offsetOfPixel(l.left,l.top),f=a.offsetOfPixel(l.left,l.top),p=(this.width-r)*k.BYTES_PER_PIXEL,e=(a.width-r)*k.BYTES_PER_PIXEL;r*=k.BYTES_PER_PIXEL;for(var n=l.top;n<l.bottom;n++,c+=p,f+=e)for(var v=0;v<r;v++,h++,c++,f++)q[h]=this.data[c]^a.data[f];return q};k.prototype.setRectXOR=
function(a,l){l=this.getBounds().clipTo(l);var r=l.getWidth(),q=l.getHeight();l=this.offsetOfPixel(l.left,l.top);var h=0,c=(this.width-r)*k.BYTES_PER_PIXEL;r*=k.BYTES_PER_PIXEL;for(var f=0;f<q;f++){for(var p=0;p<r;p++)this.data[l++]^=a[h++];l+=c}};k.prototype.copyBitmapRect=function(a,l,r,q){var h=new d.default(l,r,0,0);q=q.clone();this.getBounds().clipSourceDest(q,h);l=h.getWidth()|0;r=h.getHeight()|0;if(0==h.left&&0==h.top&&l==this.width&&r==this.height&&l==a.width&&r==a.height)this.copyPixelsFrom(a);
else{h=this.offsetOfPixel(h.left,h.top);var c=(this.width-l)*k.BYTES_PER_PIXEL;q=a.offsetOfPixel(q.left,q.top);for(var f=(a.width-l)*k.BYTES_PER_PIXEL,p=0;p<r;p++,q+=f,h+=c)for(var e=0;e<l;e++,q+=k.BYTES_PER_PIXEL,h+=k.BYTES_PER_PIXEL)this.data[h]=a.data[q],this.data[h+1]=a.data[q+1],this.data[h+2]=a.data[q+2],this.data[h+3]=a.data[q+3]}};k.prototype.copyAlphaFrom=function(a,l){l=this.getBounds().clipTo(l);var r=l.getWidth()|0,q=l.getHeight()|0;l=this.offsetOfPixel(l.left,l.top)+k.ALPHA_BYTE_OFFSET|
0;for(var h=(this.width-r)*k.BYTES_PER_PIXEL|0,c=0;c<q;c++,l+=h)for(var f=0;f<r;f++,l+=k.BYTES_PER_PIXEL)this.data[l]=a.data[l]};k.prototype.setToSize=function(a){if(a.width!=this.width||a.height!=this.height)this.width=a.width,this.height=a.height,this.imageData=(0,w.createImageData)(this.width,this.height),this.data=this.imageData.data};k.prototype.copyPixelsFrom=function(a){this.setToSize(a);if("set"in this.data)this.data.set(a.data);else for(var l=0;l<this.data.length;l++)this.data[l]=a.data[l]};
k.prototype.copyPixelsFromGreyscale=function(a){var l,r=0,q=a.width*a.height;this.setToSize(a);for(l=0;l<q;l++,r+=k.BYTES_PER_PIXEL)this.data[r+k.RED_BYTE_OFFSET]=a.data[l],this.data[r+k.GREEN_BYTE_OFFSET]=a.data[l],this.data[r+k.BLUE_BYTE_OFFSET]=a.data[l],this.data[r+k.ALPHA_BYTE_OFFSET]=255};k.prototype.copyScaledNearestNeighbor=function(a){for(var l=0,r=a.width/this.width,q=a.height/this.height,h,c=0,f=0;c<this.height;c++,f+=q){h=a.offsetOfPixel(0,Math.round(f));for(var p=0,e=0;p<this.width;p++,
l+=k.BYTES_PER_PIXEL,e+=r){var n=h+Math.round(e)*k.BYTES_PER_PIXEL;this.data[l]=a.data[n];this.data[l+1]=a.data[n+1];this.data[l+2]=a.data[n+2];this.data[l+k.ALPHA_BYTE_OFFSET]=a.data[n+k.ALPHA_BYTE_OFFSET]}}};k.prototype.createThumbnailFrom=function(a){var l=Math.min(Math.floor(a.width/this.width),3);if(2>l)this.copyScaledNearestNeighbor(a);else{var r=new Uint16Array(5*this.width),q=a.width*k.BYTES_PER_PIXEL,h=Math.floor(a.width/this.width)*k.BYTES_PER_PIXEL,c=Math.floor(a.width/this.width/l)*k.BYTES_PER_PIXEL,
f=h-c*l,p=Math.floor(a.height/this.height/l);h=p*q-h*this.width;q*=Math.floor(a.height/this.height)-p*l;for(var e=p=0,n=0;n<this.height;n++,p+=q){var v;r.fill(0);for(var A=0;A<l;A++,p+=h)for(var C=v=0;C<this.width;C++,v+=5,p+=f)for(var B=0;B<l;B++,p+=c){var I=a.data[p+k.ALPHA_BYTE_OFFSET],O=I/255;r[v]+=a.data[p]*O;r[v+1]+=a.data[p+1]*O;r[v+2]+=a.data[p+2]*O;r[v+k.ALPHA_BYTE_OFFSET]+=I;r[v+4]=Math.max(r[v+4],I)}for(A=v=0;A<this.width;A++,v+=5,e+=k.BYTES_PER_PIXEL)C=r[v+4],0==C?this.data[e+k.ALPHA_BYTE_OFFSET]=
0:(B=C/r[v+k.ALPHA_BYTE_OFFSET],this.data[e]=r[v]*B,this.data[e+1]=r[v+1]*B,this.data[e+2]=r[v+2]*B,this.data[e+k.ALPHA_BYTE_OFFSET]=C)}}};k.prototype.floodFill=function(a,l,r){if(this.isInside(a,l)){var q=this.getPixel(a,l),h=q>>24&255,c=q>>16&255,f=q>>8&255,p=q&255,e=r>>24&255,n=r>>16&255,v=r>>8&255,A=r&255,C=[],B=this.getBounds(),I=this.data;B.left*=k.BYTES_PER_PIXEL;B.right*=k.BYTES_PER_PIXEL;C.push({x1:a*k.BYTES_PER_PIXEL,x2:a*k.BYTES_PER_PIXEL,y:l,dy:-1});C.push({x1:a*k.BYTES_PER_PIXEL,x2:a*
k.BYTES_PER_PIXEL,y:l+1,dy:1});if(0==h){if(0!=e)for(;0<C.length;)if(c=C.pop(),!(c.y<B.top||c.y>=B.bottom)){f=this.offsetOfPixel(0,c.y);for(p=c.x1;p>=B.left&&0==I[p+f+k.ALPHA_BYTE_OFFSET];)I[p+f+k.RED_BYTE_OFFSET]=n,I[p+f+k.GREEN_BYTE_OFFSET]=v,I[p+f+k.BLUE_BYTE_OFFSET]=A,I[p+f+k.ALPHA_BYTE_OFFSET]=e,p-=k.BYTES_PER_PIXEL;if(p>=c.x1){for(;p<=c.x2&&I[p+f+k.ALPHA_BYTE_OFFSET]!=h;)p+=k.BYTES_PER_PIXEL;a=p+k.BYTES_PER_PIXEL;if(p>c.x2)continue}else p+=k.BYTES_PER_PIXEL,p<c.x1&&C.push({x1:p,x2:c.x1-k.BYTES_PER_PIXEL,
y:c.y-c.dy,dy:-c.dy}),a=c.x1+k.BYTES_PER_PIXEL;do{I[p+f+k.RED_BYTE_OFFSET]=n;I[p+f+k.GREEN_BYTE_OFFSET]=v;I[p+f+k.BLUE_BYTE_OFFSET]=A;for(I[p+f+k.ALPHA_BYTE_OFFSET]=e;a<B.right&&I[a+f+k.ALPHA_BYTE_OFFSET]==h;)I[a+f+k.RED_BYTE_OFFSET]=n,I[a+f+k.GREEN_BYTE_OFFSET]=v,I[a+f+k.BLUE_BYTE_OFFSET]=A,I[a+f+k.ALPHA_BYTE_OFFSET]=e,a+=k.BYTES_PER_PIXEL;C.push({x1:p,x2:a-k.BYTES_PER_PIXEL,y:c.y+c.dy,dy:c.dy});a-k.BYTES_PER_PIXEL>c.x2&&C.push({x1:c.x2+k.BYTES_PER_PIXEL,x2:a-k.BYTES_PER_PIXEL,y:c.y-c.dy,dy:-c.dy});
for(p=a+k.BYTES_PER_PIXEL;p<=c.x2&&I[p+f+k.ALPHA_BYTE_OFFSET]!=h;)p+=k.BYTES_PER_PIXEL;a=p+k.BYTES_PER_PIXEL}while(p<=c.x2)}}else if(r!=q)for(;0<C.length;)if(a=C.pop(),!(a.y<B.top||a.y>=B.bottom)){l=this.offsetOfPixel(0,a.y);for(r=a.x1;r>=B.left&&I[r+l+k.RED_BYTE_OFFSET]==c&&I[r+l+k.GREEN_BYTE_OFFSET]==f&&I[r+l+k.BLUE_BYTE_OFFSET]==p&&I[r+l+k.ALPHA_BYTE_OFFSET]==h;)I[r+l+k.RED_BYTE_OFFSET]=n,I[r+l+k.GREEN_BYTE_OFFSET]=v,I[r+l+k.BLUE_BYTE_OFFSET]=A,I[r+l+k.ALPHA_BYTE_OFFSET]=e,r-=k.BYTES_PER_PIXEL;
if(r>=a.x1){for(;r<=a.x2&&(I[r+l+k.RED_BYTE_OFFSET]!=c||I[r+l+k.GREEN_BYTE_OFFSET]!=f||I[r+l+k.BLUE_BYTE_OFFSET]!=p||I[r+l+k.ALPHA_BYTE_OFFSET]!=h);)r+=k.BYTES_PER_PIXEL;q=r+k.BYTES_PER_PIXEL;if(r>a.x2)continue}else r+=k.BYTES_PER_PIXEL,r<a.x1&&C.push({x1:r,x2:a.x1-k.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy}),q=a.x1+k.BYTES_PER_PIXEL;do{I[r+l+k.RED_BYTE_OFFSET]=n;I[r+l+k.GREEN_BYTE_OFFSET]=v;I[r+l+k.BLUE_BYTE_OFFSET]=A;for(I[r+l+k.ALPHA_BYTE_OFFSET]=e;q<B.right&&I[q+l+k.RED_BYTE_OFFSET]==c&&I[q+l+k.GREEN_BYTE_OFFSET]==
f&&I[q+l+k.BLUE_BYTE_OFFSET]==p&&I[q+l+k.ALPHA_BYTE_OFFSET]==h;)I[q+l+k.RED_BYTE_OFFSET]=n,I[q+l+k.GREEN_BYTE_OFFSET]=v,I[q+l+k.BLUE_BYTE_OFFSET]=A,I[q+l+k.ALPHA_BYTE_OFFSET]=e,q+=k.BYTES_PER_PIXEL;C.push({x1:r,x2:q-k.BYTES_PER_PIXEL,y:a.y+a.dy,dy:a.dy});q-k.BYTES_PER_PIXEL>a.x2&&C.push({x1:a.x2+k.BYTES_PER_PIXEL,x2:q-k.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy});for(r=q+k.BYTES_PER_PIXEL;r<=a.x2&&(I[r+l+k.RED_BYTE_OFFSET]!=c||I[r+l+k.GREEN_BYTE_OFFSET]!=f||I[r+l+k.BLUE_BYTE_OFFSET]!=p||I[r+l+k.ALPHA_BYTE_OFFSET]!=
h);)r+=k.BYTES_PER_PIXEL;q=r+k.BYTES_PER_PIXEL}while(r<=a.x2)}}};k.prototype.copyPixelColumnToArray=function(a,l,r,q){var h=(this.width-1)*k.BYTES_PER_PIXEL,c=0;a=this.offsetOfPixel(a,l);for(l=0;l<r;l++){for(var f=0;f<k.BYTES_PER_PIXEL;f++)q[c++]=this.data[a++];a+=h}};k.prototype.copyArrayToPixelColumn=function(a,l,r,q){var h=(this.width-1)*k.BYTES_PER_PIXEL,c=0;a=this.offsetOfPixel(a,l);for(l=0;l<r;l++){for(var f=0;f<k.BYTES_PER_PIXEL;f++)this.data[a++]=q[c++];a+=h}};k.prototype.boxBlur=function(a,
l,r){a=this.getBounds().clipTo(a);var q=a.getWidth(),h=q*k.BYTES_PER_PIXEL,c=a.getHeight(),f=Math.max(q,c),p=new Uint8Array(f*k.BYTES_PER_PIXEL);f=new Uint8Array(f*k.BYTES_PER_PIXEL);for(var e=a.top;e<a.bottom;e++){for(var n=this.offsetOfPixel(a.left,e),v=0;v<h;v++)p[v]=this.data[n++];n=p;v=q;for(var A=0,C=0;C<v;C++){for(var B=n[A+k.ALPHA_BYTE_OFFSET],I=0;3>I;I++,A++)n[A]=Math.round(n[A]*B/255);A++}u(p,f,q,l);n=this.offsetOfPixel(a.left,e);for(v=0;v<h;v++)this.data[n++]=f[v]}for(l=a.left;l<a.right;l++){this.copyPixelColumnToArray(l,
a.top,c,p);u(p,f,c,r);q=f;h=c;for(n=e=0;n<h;n++)if(v=q[e+k.ALPHA_BYTE_OFFSET],0!=v){v=255/v;for(A=0;3>A;A++,e++)q[e]=Math.min(Math.round(q[e]*v),255);e++}else e+=k.BYTES_PER_PIXEL;this.copyArrayToPixelColumn(l,a.top,c,f)}};k.prototype.offsetOfPixel=function(a,l){return 4*(l*this.width+a)|0};k.prototype.getMemorySize=function(){return this.data.length};k.prototype.getImageData=function(){return this.imageData};k.prototype.setImageData=function(a){this.width=a.width;this.height=a.height;this.imageData=
a;this.data=a.data};k.prototype.clearAll=function(a){if(0==a&&"fill"in this.data)this.data.fill(0);else{var l=a>>24&255,r=a>>16&255,q=a>>8&255;a&=255;for(var h=0;h<this.width*this.height*k.BYTES_PER_PIXEL;)this.data[h++]=r,this.data[h++]=q,this.data[h++]=a,this.data[h++]=l}};k.prototype.clearRect=function(a,l){a=this.getBounds().clipTo(a);var r=l>>24&255,q=l>>16&255,h=l>>8&255;l&=255;for(var c=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top),p=a.top;p<a.bottom;p++,f+=
c)for(var e=a.left;e<a.right;e++)this.data[f++]=q,this.data[f++]=h,this.data[f++]=l,this.data[f++]=r};k.prototype.copyRegionHFlip=function(a,l){a=this.getBounds().clipTo(a);for(var r=a.top;r<a.bottom;r++)for(var q=this.offsetOfPixel(a.left,r),h=l.offsetOfPixel(a.right-1,r),c=a.left;c<a.right;c++,h-=2*k.BYTES_PER_PIXEL)for(var f=0;f<k.BYTES_PER_PIXEL;f++)this.data[q++]=l.data[h++]};k.prototype.copyRegionVFlip=function(a,l){a=this.getBounds().clipTo(a);for(var r=a.getWidth()*k.BYTES_PER_PIXEL,q=a.top;q<
a.bottom;q++)for(var h=this.offsetOfPixel(a.left,q),c=l.offsetOfPixel(a.left,a.bottom-1-(q-a.top)),f=0;f<r;f++)this.data[h++]=l.data[c++]};k.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var l,r=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,q=this.offsetOfPixel(a.left,a.top),h=a.top;h<a.bottom;h++,q+=r)for(var c=a.left;c<a.right;c++,q+=k.BYTES_PER_PIXEL)l=256*Math.random()|0,this.data[q+k.RED_BYTE_OFFSET]=l,this.data[q+k.GREEN_BYTE_OFFSET]=l,this.data[q+k.BLUE_BYTE_OFFSET]=l,
this.data[q+k.ALPHA_BYTE_OFFSET]=255};k.prototype.gradientHorzReplace=function(a,l,r,q){var h={r:q[0]>>16&255,g:q[0]>>8&255,b:q[0]&255,a:q[0]>>24&255};q={r:q[1]>>16&255,g:q[1]>>8&255,b:q[1]&255,a:q[1]>>24&255};var c=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top)|0,p=a.bottom-a.top|0;if(r<l){var e=r;r=l;l=e;e=h;h=q;q=e}var n=r-l|0;e=(q.r-h.r)/n;var v=(q.g-h.g)/n,A=(q.b-h.b)/n;n=(q.a-h.a)/n;for(var C=Math.max(a.left-l,0),B=0;B<p;B++,f+=c){for(var I=a.left,O=Math.min(l,
a.right)|0;I<O;I++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=h.r,this.data[f+k.GREEN_BYTE_OFFSET]=h.g,this.data[f+k.BLUE_BYTE_OFFSET]=h.b,this.data[f+k.ALPHA_BYTE_OFFSET]=h.a;var z=h.r+e*C,G=h.g+v*C,H=h.b+A*C,N=h.a+n*C;for(O=Math.min(r,a.right)|0;I<O;I++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=z,this.data[f+k.GREEN_BYTE_OFFSET]=G,this.data[f+k.BLUE_BYTE_OFFSET]=H,this.data[f+k.ALPHA_BYTE_OFFSET]=N,z+=e,G+=v,H+=A,N+=n;for(;I<a.right;I++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=
q.r,this.data[f+k.GREEN_BYTE_OFFSET]=q.g,this.data[f+k.BLUE_BYTE_OFFSET]=q.b,this.data[f+k.ALPHA_BYTE_OFFSET]=q.a}};k.prototype.gradientVertReplace=function(a,l,r,q){var h={r:q[0]>>16&255,g:q[0]>>8&255,b:q[0]&255,a:q[0]>>24&255};q={r:q[1]>>16&255,g:q[1]>>8&255,b:q[1]&255,a:q[1]>>24&255};var c=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top)|0,p=a.right-a.left|0;if(r<l){var e=r;r=l;l=e;e=h;h=q;q=e}e=a.top;for(var n=Math.min(a.bottom,l)|0;e<n;e++,f+=c)for(var v=0;v<p;v++,
f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=h.r,this.data[f+k.GREEN_BYTE_OFFSET]=h.g,this.data[f+k.BLUE_BYTE_OFFSET]=h.b,this.data[f+k.ALPHA_BYTE_OFFSET]=h.a;var A=r-l|0;n=(q.r-h.r)/A;v=(q.g-h.g)/A;var C=(q.b-h.b)/A;A=(q.a-h.a)/A;var B=Math.max(e-l,0);l=h.r+n*B;var I=h.g+v*B,O=h.b+C*B;h=h.a+A*B;for(r=Math.min(a.bottom,r)|0;e<r;e++,f+=c){for(B=0;B<p;B++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=l,this.data[f+k.GREEN_BYTE_OFFSET]=I,this.data[f+k.BLUE_BYTE_OFFSET]=O,this.data[f+k.ALPHA_BYTE_OFFSET]=
h;l+=n;I+=v;O+=C;h+=A}for(;e<a.bottom;e++,f+=c)for(r=0;r<p;r++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=q.r,this.data[f+k.GREEN_BYTE_OFFSET]=q.g,this.data[f+k.BLUE_BYTE_OFFSET]=q.b,this.data[f+k.ALPHA_BYTE_OFFSET]=q.a};k.prototype.gradientReplace=function(a,l,r,q,h,c){var f=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,p=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,n=c[0]>>16&255,v=c[0]>>8&255,A=c[0]&255,C=c[0]>>24&255,B=c[1]>>16&255,I=c[1]>>8&255,O=c[1]&255;c=c[1]>>24&255;var z=
h-r+(q-l)*(q-l)/(h-r);q=q-l+(h-r)*(h-r)/(q-l);h=1/q;for(var G=a.top;G<a.bottom;G++,p+=f)for(var H=(a.left-l)/q+(G-r)/z,N=0;N<e;N++,p+=k.BYTES_PER_PIXEL){var J=Math.min(Math.max(H,0),1),R=1-J;this.data[p+k.RED_BYTE_OFFSET]=n*R+B*J;this.data[p+k.GREEN_BYTE_OFFSET]=v*R+I*J;this.data[p+k.BLUE_BYTE_OFFSET]=A*R+O*J;this.data[p+k.ALPHA_BYTE_OFFSET]=C*R+c*J;H+=h}};k.prototype.gradientAlpha=function(a,l,r,q,h,c){var f=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,p=this.offsetOfPixel(a.left,a.top)|0,e=a.right-
a.left|0,n=c[0]>>16&255,v=c[0]>>8&255,A=c[0]&255,C=c[0]>>24&255,B=c[1]>>16&255,I=c[1]>>8&255,O=c[1]&255;c=c[1]>>24&255;var z=h-r+(q-l)*(q-l)/(h-r);q=q-l+(h-r)*(h-r)/(q-l);h=1/q;for(var G=a.top;G<a.bottom;G++,p+=f)for(var H=(a.left-l)/q+(G-r)/z,N=0;N<e;N++,p+=k.BYTES_PER_PIXEL){var J=Math.min(Math.max(H,0),1),R=1-J,fa=n*R+B*J,Y=v*R+I*J,qa=A*R+O*J;R=C*R+c*J;J=this.data[p+k.ALPHA_BYTE_OFFSET];J=R+J-R*J/255|0;if(0<J){R=255*R/J|0;var ka=255-R;this.data[p+k.RED_BYTE_OFFSET]=(fa*R+this.data[p+k.RED_BYTE_OFFSET]*
ka)/255|0;this.data[p+k.GREEN_BYTE_OFFSET]=(Y*R+this.data[p+k.GREEN_BYTE_OFFSET]*ka)/255|0;this.data[p+k.BLUE_BYTE_OFFSET]=(qa*R+this.data[p+k.BLUE_BYTE_OFFSET]*ka)/255|0;this.data[p+k.ALPHA_BYTE_OFFSET]=J}H+=h}};k.prototype.gradient=function(a,l,r,q,h,c,f){a=this.getBounds().clipTo(a);if(l!=q||r!=h)f||255==c[0]>>>24&&255==c[1]>>>24?l==q?this.gradientVertReplace(a,r,h,c):r==h?this.gradientHorzReplace(a,l,q,c):this.gradientReplace(a,l,r,q,h,c):this.gradientAlpha(a,l,r,q,h,c)};k.prototype.fillWithColorNoise=
function(a){a=this.getBounds().clipTo(a);for(var l,r=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,q=this.offsetOfPixel(a.left,a.top),h=a.top;h<a.bottom;h++,q+=r)for(var c=a.left;c<a.right;c++,q+=k.BYTES_PER_PIXEL)l=16777216*Math.random()|0,this.data[q+k.RED_BYTE_OFFSET]=l>>16&255,this.data[q+k.GREEN_BYTE_OFFSET]=l>>8&255,this.data[q+k.BLUE_BYTE_OFFSET]=l&255,this.data[q+k.ALPHA_BYTE_OFFSET]=255};k.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var l=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,
r=this.offsetOfPixel(a.left,a.top),q=a.top;q<a.bottom;q++,r+=l)for(var h=a.left;h<a.right;h++,r+=k.BYTES_PER_PIXEL)this.data[r+k.RED_BYTE_OFFSET]^=255,this.data[r+k.GREEN_BYTE_OFFSET]^=255,this.data[r+k.BLUE_BYTE_OFFSET]^=255};k.prototype.getNonTransparentBounds=function(a){var l=a.clone(),r,q;var h=(this.width-l.getWidth())*k.BYTES_PER_PIXEL;a=this.offsetOfPixel(l.left,l.top)+k.ALPHA_BYTE_OFFSET;for(q=l.top;q<l.bottom;q++,a+=h){var c=0;for(r=l.left;r<l.right;r++,a+=k.BYTES_PER_PIXEL)c|=this.data[a];
if(0!=c)break}l.top=q;if(l.top==l.bottom)return l;a=this.offsetOfPixel(l.right-1,l.bottom-1)+k.ALPHA_BYTE_OFFSET;for(q=l.bottom-1;q>=l.top;q--,a-=h){c=0;for(r=l.right-1;r>=l.left;r--,a-=k.BYTES_PER_PIXEL)c|=this.data[a];if(0!=c)break}l.bottom=q+1;h=k.BYTES_PER_PIXEL*this.width;for(r=l.left;r<l.right;r++){a=this.offsetOfPixel(r,l.top)+k.ALPHA_BYTE_OFFSET;c=0;for(q=l.top;q<l.bottom;q++,a+=h)c|=this.data[a];if(0!=c)break}l.left=r;for(r=l.right-1;r>=l.left;r--){a=this.offsetOfPixel(r,l.top)+k.ALPHA_BYTE_OFFSET;
c=0;for(q=l.top;q<l.bottom;q++,a+=h)c|=this.data[a];if(0!=c)break}l.right=r+1;return l};k.prototype.getAsCanvas=function(a){var l=(0,w.createCanvas)(this.imageData.width,this.imageData.height);l.getContext("2d").putImageData(this.imageData,0,0);return E(l,a||0)};k.prototype.getAsPNG=function(a){a=this.getAsCanvas(a).toDataURL("image/png");a="string"===typeof a&&a.match(/^data:image\/png;base64,/i)?window.atob(a.substring(22)):!1;return a};k.prototype.getAsPNGBuffer=function(a){return this.getAsCanvas(a).toBuffer("image/png")};
k.prototype.hasAlphaInRect=function(a){a=this.getBounds().clipTo(a);for(var l=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,r=this.offsetOfPixel(a.left,a.top)+k.ALPHA_BYTE_OFFSET,q=a.top;q<a.bottom;q++,r+=l){for(var h=255,c=a.left;c<a.right;c++,r+=k.BYTES_PER_PIXEL)h&=this.data[r];if(255!=h)return!0}return!1};k.prototype.hasAlpha=function(){return this.hasAlphaInRect(this.getBounds())};k.createFromImage=function(a){var l=(0,w.createCanvas)(a.width,a.height).getContext("2d");l.globalCompositeOperation=
"copy";l.drawImage(a,0,0);return new k(l.getImageData(0,0,a.width,a.height))};k.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var l=0;l<this.data.length;l+=k.BYTES_PER_PIXEL)if(0!=this.data[l+k.ALPHA_BYTE_OFFSET]||0!=a.data[l+k.ALPHA_BYTE_OFFSET])if(this.data[l]!=a.data[l]||this.data[l+1]!=a.data[l+1]||this.data[l+2]!=a.data[l+2]||this.data[l+3]!=a.data[l+3])return!1;return!0}},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4}],14:[function(g,
K,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a,l,r){E.default.call(this,a,l);this.createBitmap(a,l,r)}function u(a,l,r,q){var h=0,c=0,f;for(f=0;f<q&&f<r;f++)c+=a[f],h++;for(var p=f=0;p<r;p++)p+q<r&&(c+=a[p+q],h++),l[f++]=Math.round(c/h),0<=p-q&&(c-=a[p-q],h--)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var E=y(g("./CPBitmap.js")),b=y(g("../util/CPRect.js")),d=g("../util/Canvas.js"),w=g("./CPColorBmp.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=
k;k.prototype.createBitmap=function(a,l,r){this.bitDepth=r;switch(r){case 32:this.data=new Uint32Array(a*l);break;case 16:this.data=new Uint16Array(a*l);break;default:this.data=new Uint8Array(a*l)}};k.prototype.clone=function(){var a=new k(this.width,this.height,this.bitDepth);a.copyPixelsFrom(this);return a};k.prototype.cloneRect=function(a){var l=new k(a.getWidth(),a.getHeight(),this.bitDepth);l.copyBitmapRect(this,0,0,a);return l};k.prototype.getPixel=function(a,l){a=Math.max(0,Math.min(this.width-
1,a));l=Math.max(0,Math.min(this.height-1,l));return this.data[this.offsetOfPixel(a,l)]};k.prototype.clearAll=function(a){this.data.fill(a)};k.prototype.clearRect=function(a,l){a=this.getBounds().clipTo(a);if(a.equals(this.getBounds()))this.clearAll(l);else for(var r=this.width,q=a.right-a.left,h=this.offsetOfPixel(a.left,a.top),c=a.top;c<a.bottom;c++,h+=r)this.data.fill(l,h,h+q)};k.prototype.copyScaledNearestNeighbor=function(a){for(var l=0,r=a.width/this.width,q=a.height/this.height,h,c=0,f=0;c<
this.height;c++,f+=q){h=a.offsetOfPixel(0,Math.round(f));for(var p=0,e=0;p<this.width;p++,l++,e+=r)this.data[l]=a.data[h+Math.round(e)]}};k.prototype.floodFill=function(a,l,r){if(this.isInside(a,l)){r&=255;var q=this.getPixel(a,l),h=[],c=this.getBounds(),f=this.data;h.push({x1:a,x2:a,y:l,dy:-1});h.push({x1:a,x2:a,y:l+1,dy:1});if(r!=q)for(;0<h.length;)if(a=h.pop(),!(a.y<c.top||a.y>=c.bottom)){l=this.offsetOfPixel(0,a.y);for(var p=a.x1,e;p>=c.left&&f[p+l]==q;)f[p+l]=r,p--;if(p>=a.x1){for(;p<=a.x2&&
f[p+l]!=q;)p++;e=p+1;if(p>a.x2)continue}else p++,p<a.x1&&h.push({x1:p,x2:a.x1-1,y:a.y-a.dy,dy:-a.dy}),e=a.x1+1;do{for(f[p+l]=r;e<c.right&&f[e+l]==q;)f[e+l]=r,e++;h.push({x1:p,x2:e-1,y:a.y+a.dy,dy:a.dy});e-1>a.x2&&h.push({x1:a.x2+1,x2:e-1,y:a.y-a.dy,dy:-a.dy});for(p=e+1;p<=a.x2&&f[p+l]!=q;)p++;e=p+1}while(p<=a.x2)}}};k.prototype.createThumbnailFrom=function(a){var l=Math.min(Math.floor(a.width/this.width),3);if(2>l)this.copyScaledNearestNeighbor(a);else{var r=new Uint16Array(this.width),q=a.width,
h=Math.floor(a.width/this.width),c=Math.floor(a.width/this.width/l),f=h-c*l,p=Math.floor(a.height/this.height/l);h=p*q-h*this.width;q*=Math.floor(a.height/this.height)-p*l;for(var e=p=0,n=0;n<this.height;n++,p+=q){var v;r.fill(0);for(var A=0;A<l;A++,p+=h)for(var C=v=0;C<this.width;C++,v++,p+=f)for(var B=0;B<l;B++,p+=c)r[v]+=a.data[p];for(A=v=0;A<this.width;A++,v++,e++)this.data[e]=r[v]/(l*l)}}};k.prototype.mirrorHorizontally=function(){for(var a=this.width,l=this.height,r=new Uint8Array(a*l),q=0,
h=a,c=0;c<l;c++,h+=a+a)for(var f=0;f<a;f++)r[q++]=this.data[--h];this.data=r};k.prototype.applyLUT=function(a){for(var l=0;l<this.data.length;l++)this.data[l]=a.table[this.data[l]]};k.prototype.getAsCanvas=function(a){var l=this.getImageData(0,0,this.width,this.height),r=(0,d.createCanvas)(this.width,this.height);r.getContext("2d").putImageData(l,0,0);return(0,w.getRotatedCanvas)(r,a||0)};k.prototype.getImageData=function(a,l,r,q){var h=(0,d.createImageData)(r,q);a=this.offsetOfPixel(a,l);l=0;for(var c=
this.width-r,f=0;f<q;f++,a+=c)for(var p=0;p<r;p++,a++)h.data[l++]=this.data[a],h.data[l++]=this.data[a],h.data[l++]=this.data[a],h.data[l++]=255;return h};k.prototype.pasteImageData=function(a,l,r){var q=0;l=this.offsetOfPixel(l,r);r=this.width-a.width;for(var h=0;h<a.height;h++,l+=r)for(var c=0;c<a.width;c++,q+=4,l++)this.data[l]=a.data[q];return a};k.prototype.copyPixelsFrom=function(a){a.width!=this.width||a.height!=this.height||a.bitDepth!=this.bitDepth?(this.data=a.data.slice(0),this.width=a.width,
this.height=a.height,this.bitDepth=a.bitDepth):this.data.set(a.data)};k.prototype.copyRectXOR=function(a,l){l=this.getBounds().clipTo(l);var r=l.getWidth(),q=l.getHeight();q=new Uint8Array(r*q);for(var h=0,c=this.offsetOfPixel(l.left,l.top),f=a.offsetOfPixel(l.left,l.top),p=this.width-r,e=a.width-r,n=l.top;n<l.bottom;n++,c+=p,f+=e)for(var v=0;v<r;v++,h++,c++,f++)q[h]=this.data[c]^a.data[f];return q};k.prototype.setRectXOR=function(a,l){l=this.getBounds().clipTo(l);var r=l.getWidth(),q=l.getHeight();
l=this.offsetOfPixel(l.left,l.top);for(var h=0,c=this.width-r,f=0;f<q;f++){for(var p=0;p<r;p++)this.data[l++]^=a[h++];l+=c}};k.prototype.copyBitmapRect=function(a,l,r,q){var h=new b.default(l,r,0,0);q=q.clone();this.getBounds().clipSourceDest(q,h);l=h.getWidth()|0;r=h.getHeight()|0;if(0==h.left&&0==h.top&&l==this.width&&r==this.height&&l==a.width&&r==a.height)this.copyPixelsFrom(a);else{h=this.offsetOfPixel(h.left,h.top);var c=this.width-l;q=a.offsetOfPixel(q.left,q.top);for(var f=a.width-l,p=0;p<
r;p++,q+=f,h+=c)for(var e=0;e<l;e++,q++,h++)this.data[h]=a.data[q]}};k.prototype.copyRegionHFlip=function(a,l){a=this.getBounds().clipTo(a);for(var r=a.top;r<a.bottom;r++)for(var q=this.offsetOfPixel(a.left,r),h=l.offsetOfPixel(a.right-1,r),c=a.left;c<a.right;c++,h-=2)this.data[q++]=l.data[h++]};k.prototype.copyRegionVFlip=function(a,l){a=this.getBounds().clipTo(a);for(var r=a.getWidth(),q=a.top;q<a.bottom;q++)for(var h=this.offsetOfPixel(a.left,q),c=l.offsetOfPixel(a.left,a.bottom-1-(q-a.top)),f=
0;f<r;f++)this.data[h++]=l.data[c++]};k.prototype.copyPixelColumnToArray=function(a,l,r,q){var h=this.width,c=0;a=this.offsetOfPixel(a,l);for(l=0;l<r;l++)q[c]=this.data[a],a+=h,c++};k.prototype.copyArrayToPixelColumn=function(a,l,r,q){var h=this.width,c=0;a=this.offsetOfPixel(a,l);for(l=0;l<r;l++)this.data[a]=q[c],a+=h,c++};k.prototype.boxBlur=function(a,l,r){a=this.getBounds().clipTo(a);var q=a.getWidth(),h=a.getHeight(),c=Math.max(q,h),f=new this.data.constructor(c);c=new this.data.constructor(c);
for(var p=a.top;p<a.bottom;p++){for(var e=this.offsetOfPixel(a.left,p),n=0;n<q;n++)f[n]=this.data[e++];u(f,c,q,l);e=this.offsetOfPixel(a.left,p);for(n=0;n<q;n++)this.data[e++]=c[n]}for(l=a.left;l<a.right;l++)this.copyPixelColumnToArray(l,a.top,h,f),u(f,c,h,r),this.copyArrayToPixelColumn(l,a.top,h,c)};k.prototype.offsetOfPixel=function(a,l){return l*this.width+a};k.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var l=this.width-a.getWidth(),r=this.offsetOfPixel(a.left,a.top),
q=a.top;q<a.bottom;q++,r+=l)for(var h=a.left;h<a.right;h++,r++)this.data[r]=256*Math.random()|0};k.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var l=this.width-a.getWidth(),r=this.offsetOfPixel(a.left,a.top),q=a.top;q<a.bottom;q++,r+=l)for(var h=a.left;h<a.right;h++,r++)this.data[r]=~this.data[r]};k.prototype.getValueBounds=function(a,l){var r=a.clone(),q,h;var c=this.width-r.getWidth();a=this.offsetOfPixel(r.left,r.top);for(h=r.top;h<r.bottom;h++,a+=c){var f=!1;for(q=r.left;q<r.right;q++,
a++)if(this.data[a]!=l){f=!0;break}if(f)break}r.top=h;if(r.top==r.bottom)return r;a=this.offsetOfPixel(r.right-1,r.bottom-1);for(h=r.bottom-1;h>=r.top;h--,a-=c){f=!1;for(q=r.right-1;q>=r.left;q--,a--)if(this.data[a]!=l){f=!0;break}if(f)break}r.bottom=h+1;c=this.width;for(q=r.left;q<r.right;q++){a=this.offsetOfPixel(q,r.top);f=!1;for(h=r.top;h<r.bottom;h++,a+=c)if(this.data[a]!=l){f=!0;break}if(f)break}r.left=q;for(q=r.right-1;q>=r.left;q--){a=this.offsetOfPixel(q,r.top);f=!1;for(h=r.top;h<r.bottom;h++,
a+=c)if(this.data[a]!=l){f=!0;break}if(f)break}r.right=q+1;return r};k.prototype.gradientHorzReplace=function(a,l,r,q){var h=q[0]&255;q=q[1]&255;var c=this.width-a.getWidth(),f=this.offsetOfPixel(a.left,a.top)|0,p=a.bottom-a.top|0;if(r<l){var e=r;r=l;l=e;e=h;h=q;q=e}e=(q-h)/(r-l|0);for(var n=Math.max(a.left-l,0),v=0;v<p;v++,f+=c){for(var A=a.left,C=Math.min(l,a.right)|0;A<C;A++,f++)this.data[f]=h;var B=h+e*n;for(C=Math.min(r,a.right)|0;A<C;A++,f++)this.data[f]=B,B+=e;for(;A<a.right;A++,f++)this.data[f]=
q}};k.prototype.gradientVertReplace=function(a,l,r,q){var h=q[0]&255;q=q[1]&255;var c=this.width-a.getWidth(),f=this.offsetOfPixel(a.left,a.top)|0,p=a.right-a.left|0;if(r<l){var e=r;r=l;l=e;e=h;h=q;q=e}e=a.top;for(var n=Math.min(a.bottom,l)|0;e<n;e++,f+=c)for(var v=0;v<p;v++,f++)this.data[f]=h;n=(q-h)/(r-l|0);l=h+n*Math.max(e-l,0);for(r=Math.min(a.bottom,r)|0;e<r;e++,f+=c){for(h=0;h<p;h++,f++)this.data[f]=l;l+=n}for(;e<a.bottom;e++,f+=c)for(r=0;r<p;r++,f++)this.data[f]=q};k.prototype.gradientReplace=
function(a,l,r,q,h,c){var f=this.width-a.getWidth(),p=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,n=c[0]&255;c=c[1]&255;var v=h-r+(q-l)*(q-l)/(h-r);q=q-l+(h-r)*(h-r)/(q-l);h=1/q;for(var A=a.top;A<a.bottom;A++,p+=f)for(var C=(a.left-l)/q+(A-r)/v,B=0;B<e;B++,p++){var I=Math.min(Math.max(C,0),1);this.data[p]=n*(1-I)+c*I;C+=h}};k.prototype.gradientAlpha=function(a,l,r,q,h,c){var f=this.width-a.getWidth(),p=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,n=c[0]&255,v=c[0]>>24&255,A=c[1]&
255;c=c[1]>>24&255;var C=h-r+(q-l)*(q-l)/(h-r);q=q-l+(h-r)*(h-r)/(q-l);h=1/q;for(var B=a.top;B<a.bottom;B++,p+=f)for(var I=(a.left-l)/q+(B-r)/C,O=0;O<e;O++,p++){var z=Math.min(Math.max(I,0),1),G=1-z,H=v*G+c*z;this.data[p]=((n*G+A*z)*H+this.data[p]*(255-H))/255|0;I+=h}};k.prototype.gradient=function(a,l,r,q,h,c,f){a=this.getBounds().clipTo(a);if(l!=q||r!=h)f||255==c[0]>>>24&&255==c[1]>>>24?l==q?this.gradientVertReplace(a,r,h,c):r==h?this.gradientHorzReplace(a,l,q,c):this.gradientReplace(a,l,r,q,h,
c):this.gradientAlpha(a,l,r,q,h,c)};k.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var l=0;l<this.data.length;l++)if(this.data[l]!=a.data[l])return!1;return!0};K.exports=D.default},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4,"./CPColorBmp.js":13}],15:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d,w,a){E.default.call(this,a);this.image=0<d&&0<w?new u.default(d,w):null;this.clip=!1;this.imageThumbnail=null}
Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var u=y(g("./CPColorBmp.js")),E=y(g("./CPLayer.js")),b=y(g("../util/CPRect.js"));k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;k.createFromImage=function(d,w){w=new k(0,0,w);w.image=d;return w};k.prototype.clone=function(){var d=new k(0,0,this.name);d.copyFrom(this);return d};k.prototype.copyFrom=function(d){E.default.prototype.copyFrom.call(this,d);this.clip=d.clip;this.image?this.image.copyPixelsFrom(d.image):
this.image=d.image.clone()};k.prototype.hasAlpha=function(){return 100!=this.alpha?!0:this.image.hasAlpha()};k.prototype.hasAlphaInRect=function(d){return 100!=this.alpha?!0:this.image.hasAlphaInRect(d)};k.prototype.copyImageFrom=function(d){this.image.copyPixelsFrom(d)};k.prototype.getClippingBase=function(){if(this.clip&&this.parent)for(var d=this.parent.indexOf(this)-1;0<=d;d--)if(this.parent.layers[d]instanceof k){if(!this.parent.layers[d].clip)return this.parent.layers[d]}else break;return null};
k.prototype.getClip=function(){return this.clip};k.prototype.setClip=function(d){this.clip=d};k.prototype.getNonTransparentBounds=function(d){return this.image.getNonTransparentBounds(d)};k.prototype.getBounds=function(){return new b.default(0,0,this.image.width,this.image.height)};k.prototype.getMemoryUsed=function(){return this.image?this.image.getMemorySize():0};k.prototype.rebuildImageThumbnail=function(){if(!this.imageThumbnail){var d=Math.ceil(Math.max(this.image.width/E.default.LAYER_THUMBNAIL_WIDTH,
this.image.height/E.default.LAYER_THUMBNAIL_HEIGHT));this.imageThumbnail=new u.default(Math.floor(this.image.width/d),Math.floor(this.image.height/d))}this.imageThumbnail.createThumbnailFrom(this.image)};k.prototype.getImageThumbnail=function(){this.imageThumbnail||this.rebuildImageThumbnail();return this.imageThumbnail};K.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPLayer.js":16}],16:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d){this.name=
d||"";this.parent=null;this.lockAlpha=!1;this.alpha=100;this.visible=!0;this.blendMode=u.default.LM_NORMAL;this.mask=null;this.maskVisible=this.maskLinked=!0;this.maskThumbnail=null;this.useLegacyMultiply=!1}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;y(g("./CPLayerGroup.js"));var u=y(g("./CPBlend.js")),E=y(g("./CPGreyBmp.js")),b=y(g("../util/CPRect.js"));k.prototype.copyFrom=function(d){this.name=d.name;this.blendMode=d.blendMode;this.useLegacyMultiply=d.useLegacyMultiply;this.alpha=
d.alpha;this.visible=d.visible;this.parent=d.parent;this.lockAlpha=d.lockAlpha;d.mask?this.mask?this.mask.copyPixelsFrom(d.mask):this.mask=d.mask.clone():this.mask=null;this.maskLinked=d.maskLinked;this.maskVisible=d.maskVisible;d.maskThumbnail?this.maskThumbnail?this.maskThumbnail.copyPixelsFrom(d.maskThumbnail):this.maskThumbnail=d.maskThumbnail.clone():this.maskThumbnail=null};k.prototype.setMask=function(d){this.mask=d;d||(this.maskThumbnail=null)};k.prototype.setAlpha=function(d){this.alpha=
d};k.prototype.getAlpha=function(){return this.alpha};k.prototype.getEffectiveAlpha=function(){return this.visible?this.alpha:0};k.prototype.getEffectiveMask=function(){return this.maskVisible?this.mask:null};k.prototype.setName=function(d){this.name=d};k.prototype.getName=function(){return this.name};k.prototype.setBlendMode=function(d){this.blendMode=d;d===u.default.LM_MULTIPLY?this.useLegacyMultiply=!0:d===u.default.LM_MULTIPLY2&&(this.useLegacyMultiply=!1)};k.prototype.getBlendMode=function(){return this.blendMode};
k.prototype.getLockAlpha=function(){return this.lockAlpha};k.prototype.setLockAlpha=function(d){this.lockAlpha=d};k.prototype.setVisible=function(d){this.visible=d};k.prototype.getVisible=function(){return this.visible};k.prototype.isVisible=k.prototype.getVisible;k.prototype.setMaskLinked=function(d){this.maskLinked=d};k.prototype.getMaskLinked=function(){return this.maskLinked};k.prototype.setMaskVisible=function(d){this.maskVisible=d};k.prototype.getMaskVisible=function(){return this.maskVisible};
k.prototype.getMemoryUsed=function(){return 0};k.prototype.getDepth=function(){return null==this.parent?0:this.parent.getDepth()+1};k.prototype.ancestorsAreVisible=function(){return null==this.parent||this.parent.visible&&this.parent.ancestorsAreVisible()};k.prototype.hasAncestor=function(d){return this.parent==d||this.parent&&this.parent.hasAncestor(d)};k.prototype.clone=function(){throw"Pure virtual CPLayer.clone() call";};k.prototype.getNonTransparentBounds=function(d){return new b.default(0,0,
0,0)};k.prototype.rebuildMaskThumbnail=function(){if(this.mask){if(!this.maskThumbnail){var d=Math.ceil(Math.max(this.mask.width/k.LAYER_THUMBNAIL_WIDTH,this.mask.height/k.LAYER_THUMBNAIL_HEIGHT));this.maskThumbnail=new E.default(Math.floor(this.mask.width/d),Math.floor(this.mask.height/d),8)}this.maskThumbnail.createThumbnailFrom(this.mask)}else this.maskThumbnail=null};k.prototype.getMaskThumbnail=function(){!this.maskThumbnail&&this.mask&&this.rebuildMaskThumbnail();return this.maskThumbnail};
k.LAYER_THUMBNAIL_WIDTH=80;k.LAYER_THUMBNAIL_HEIGHT=50;K.exports=D.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPGreyBmp.js":14,"./CPLayerGroup.js":17}],17:[function(g,K,D){function y(l){return l&&l.__esModule?l:{default:l}}function k(l,r){var q="undefined"!==typeof Symbol&&l[Symbol.iterator]||l["@@iterator"];if(!q){if(Array.isArray(l)||(q=u(l))||r&&l&&"number"===typeof l.length){q&&(l=q);var h=0;r=function(){};return{s:r,n:function(){return h>=l.length?{done:!0}:{done:!1,value:l[h++]}},
e:function(e){throw e;},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var c=!0,f=!1,p;return{s:function(){q=q.call(l)},n:function(){var e=q.next();c=e.done;return e},e:function(e){f=!0;p=e},f:function(){try{c||null==q.return||q.return()}finally{if(f)throw p;}}}}function u(l,r){if(l){if("string"===typeof l)return E(l,r);var q=Object.prototype.toString.call(l).slice(8,-1);"Object"===
q&&l.constructor&&(q=l.constructor.name);if("Map"===q||"Set"===q)return Array.from(l);if("Arguments"===q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return E(l,r)}}function E(l,r){if(null==r||r>l.length)r=l.length;for(var q=0,h=Array(r);q<r;q++)h[q]=l[q];return h}function b(l,r){w.default.call(this,l);this.layers=[];this.expanded=!0;this.blendMode=r}function d(l,r){return l+r}Object.defineProperty(D,"__esModule",{value:!0});D.default=b;var w=y(g("./CPLayer.js")),a=y(g("../util/CPRect.js"));
b.prototype=Object.create(w.default.prototype);b.prototype.constructor=b;b.prototype.getLinearizedLayerList=function(l,r){r=r||[];var q=k(this.layers),h;try{for(q.s();!(h=q.n()).done;){var c=h.value;c instanceof b&&(c.expanded||!l)&&c.getLinearizedLayerList(l,r);r.push(c)}}catch(f){q.e(f)}finally{q.f()}return r};b.prototype.clearLayers=function(){this.layers=[]};b.prototype.addLayer=function(l){l.parent=this;this.layers.push(l)};b.prototype.insertLayer=function(l,r){r.parent=this;this.layers.splice(l,
0,r)};b.prototype.removeLayer=function(l){l=this.layers.indexOf(l);-1<l&&this.layers.splice(l,1)};b.prototype.removeLayerAtIndex=function(l){var r=this.layers[l];r&&this.layers.splice(l,1);return r};b.prototype.setLayerAtIndex=function(l,r){var q=this.layers[l];r.parent=this;this.layers[l]=r;return q};b.prototype.setExpanded=function(l){this.expanded=l};b.prototype.getExpanded=function(){return this.expanded};b.prototype.indexOf=function(l){return this.layers.indexOf(l)};b.prototype.getMemoryUsed=
function(){return this.layers.map(function(l){return l.getMemoryUsed()}).reduce(d,0)};b.prototype.clone=function(){var l=new b(this.name,this.blendMode);w.default.prototype.copyFrom.call(l,this);l.expanded=this.expanded;l.layers=this.layers.map(function(r){return r.clone()});l.layers.forEach(function(r){return r.parent=l});return l};b.prototype.getNonTransparentBounds=function(l){var r=new a.default(0,0,0,0);this.layers.forEach(function(q){return r.union(q.getNonTransparentBounds(l))});return r};
K.exports=D.default},{"../util/CPRect.js":63,"./CPLayer.js":16}],18:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){this.table=new Uint8Array(256);this.loadIdentity=function(){for(var y=0;256>y;y++)this.table[y]=y};this.loadBrightnessContrast=function(y,k){k=0<k?1/(1.0001-k):1+k;y=.5-.5*k+y;for(var u=0;256>u;u++)this.table[u]=Math.min(255,Math.max(~~(255*(u/255*k+y)),0))};this.invert=function(){for(var y=0;256>y;y++)this.table[y]=255-this.table[y]}};K.exports=
D.default},{}],19:[function(g,K,D){function y(h){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},y(h)}function k(h){return h&&h.__esModule?h:{default:h}}function u(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);var e=Object,n=e.defineProperty;
a:{var v=p.key;if("object"===y(v)&&null!==v){var A=v[Symbol.toPrimitive];if(void 0!==A){v=A.call(v,"string");if("object"!==y(v))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}v=String(v)}}v="symbol"===y(v)?v:String(v);n.call(e,h,v,p)}}function E(h,c,f){c&&u(h.prototype,c);f&&u(h,f);Object.defineProperty(h,"prototype",{writable:!1});return h}function b(h,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");h.prototype=
Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}});Object.defineProperty(h,"prototype",{writable:!1});c&&d(h,c)}function d(h,c){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,p){f.__proto__=p;return f};return d(h,c)}function w(h){var c=a();return function(){var f=l(h);if(c){var p=l(this).constructor;f=Reflect.construct(f,arguments,p)}else f=f.apply(this,arguments);if(!f||"object"!==y(f)&&"function"!==typeof f){if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=this}return f}}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(h){return!1}}function l(h){l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)};return l(h)}
Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var r=k(g("../util/CPRect.js")),q=k(g("./CPColorBmp.js"));k(g("./CPGreyBmp.js"));g=k(g("wolfy87-eventemitter"));D.default=function(h){function c(p,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var n=f.call(this);n.layer=p;n.buffer=p.mask.getImageData(0,0,p.mask.width,p.mask.height);n.invalidRect=new r.default(0,0,0,0);n.prepareMask=e;return n}b(c,h);var f=w(c);E(c,[{key:"close",value:function(){this.layer=
this.buffer=null;this.emitEvent("changeLayer")}},{key:"setLayer",value:function(p){this.layer=p;this.invalidRect=p.getBounds();this.emitEvent("changeLayer")}},{key:"isOpen",value:function(){return null!=this.layer}},{key:"invalidateRect",value:function(p){this.invalidRect.union(p)}},{key:"getImageData",value:function(){this.prepareMask();if(!this.invalidRect.isEmpty()&&this.layer&&this.layer.mask){var p=this.buffer,e=this.layer.mask,n=this.invalidRect,v=n.top*e.width+n.left,A=v*q.default.BYTES_PER_PIXEL,
C=n.getWidth();n=n.getHeight();for(var B=e.width-C,I=B*q.default.BYTES_PER_PIXEL,O=0;O<n;O++,v+=B,A+=I)for(var z=0;z<C;z++,v++,A+=q.default.BYTES_PER_PIXEL)p.data[A+q.default.RED_BYTE_OFFSET]=e.data[v],p.data[A+q.default.GREEN_BYTE_OFFSET]=e.data[v],p.data[A+q.default.BLUE_BYTE_OFFSET]=e.data[v],p.data[A+q.default.ALPHA_BYTE_OFFSET]=255;this.invalidRect.makeEmpty()}return this.buffer}}]);return c}(g.default);K.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"wolfy87-eventemitter":314}],
20:[function(g,K,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a){function l(f,p){switch(f.name){case "flat":return new Promise(function(e,n){var v=new Blob([p],{type:"image/png"}),A=window.URL.createObjectURL(v);if(A){var C=new Image;C.onload=function(){var B=new E.default(this.width,this.height),I=new d.default(0,0,"Layer 1");I.image=b.default.createFromImage(C);B.addLayerObject(B.getLayersRoot(),I);C=null;window.URL.revokeObjectURL(A);e(B)};C.src=A}else n(null)});case "swatches":return(f=
(new w.default).read(p))?Promise.resolve(f):Promise.reject(null);case "layers":return(0,u.load)(p);default:return Promise.reject("Unexpected resource type '"+f.name+"'")}}function r(f,p){null===p?c.emitEvent("loadingProgress",[1,"Loading your "+f.friendly+"..."]):c.emitEvent("loadingProgress",[p,"Loading your "+f.friendly+" ("+Math.round(100*p)+"%)..."])}var q=[],h={},c=this;a.loadChibiFileUrl&&0<(""+a.loadChibiFileUrl).length?q.push({url:a.loadChibiFileUrl,friendly:"drawing layers",name:"layers",
required:!0}):a.loadImageUrl&&0<(""+a.loadImageUrl).length&&q.push({url:a.loadImageUrl,friendly:"drawing",name:"flat",required:!0});a.loadSwatchesUrl&&q.push({url:a.loadSwatchesUrl,friendly:"color swatches",name:"swatches",required:!1,noProgress:!0});this.load=function(){function f(){p.required?c.emitEvent("loadingFailure",["Failed to load your "+p.friendly+", please try again later."]):c.load()}if(0==q.length)c.emitEvent("loadingComplete",[h]);else{var p=q.shift(),e=new XMLHttpRequest;e.addEventListener("progress",
function(n){r(p,n.lengthComputable&&!p.noProgress?n.loaded/n.total:null)},!1);e.addEventListener("load",function(n){if(200==this.status){var v=this.response;c.emitEvent("loadingProgress",[1,"Starting ChickenPaint..."]);setTimeout(function(){l(p,v).then(function(A){h[p.name]=A;c.load()},function(){c.emitEvent("loadingFailure",["Failed to read your "+p.friendly])})},0)}else f()},!1);e.addEventListener("error",f);r(p,p.noProgress?null:0);e.open("GET",p.url,!0);e.responseType="arraybuffer";e.send()}}}
Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var u=g("../../js/engine/CPChibiFile.js"),E=y(g("./CPArtwork.js")),b=y(g("./CPColorBmp.js")),d=y(g("./CPImageLayer.js")),w=y(g("../util/AdobeColorTable.js"));g=y(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../../js/engine/CPChibiFile.js":11,"../util/AdobeColorTable.js":55,"./CPArtwork.js":3,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"wolfy87-eventemitter":314}],
21:[function(g,K,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a){for(var l=new Uint8Array(a.length),r=0;r<a.length;r++)l[r]=a.charCodeAt(r);return l}function u(a){function l(c){null===c?q.emitEvent("savingProgress",[1,(0,w._)("Saving drawing...")]):q.emitEvent("savingProgress",[c,(0,w._)("Saving drawing...")+" ("+Math.round(100*c)+"%)"])}function r(c){c={method:"POST",mode:"same-origin",headers:{"X-Requested-With":"chickenpaint"},body:c};l(.5);fetch(a.url,c).then(function(f){if(!f.ok)throw Error("Network response was not ok (".concat(f.status,
")"));return f.text()}).then(function(f){/^CHIBIOK/.test(f)?(l(1),q.emitEvent("savingComplete")):q.emitEvent("savingFailure",[f])}).catch(function(f){q.emitEvent("savingFailure",[f.message])})}var q=this,h=!1;a.rotation=a.rotation||0;this.save=function(){var c;var f=k(a.artwork.getFlatPNG(a.rotation));var p=new Blob([f],{type:"image/png"});f=null;(a.artwork.isSimpleDrawing()?Promise.resolve(null):(0,E.save)(a.artwork)).then(function(e){if(h)q.emitEvent("savingFailure");else{if(a.swatches){var n=new b.default;
c=new Blob([n.write(a.swatches)],{type:"application/octet-stream"})}else c=null;a.url?(n=new FormData,n.append("beginMarker","This marker ensures the upload wasn't truncated"),n.append("painter","ChickenPaint v2.0"),n.append("picture",p),p=null,e?(n.append("chibifileFormat",e.version),n.append("chibifile",e.bytes),n.append("rotation",""+a.rotation)):n.append("rotation","0"),c&&(n.append("swatches",c),c=null),n.append("endMarker","This marker ensures the upload wasn't truncated"),r(n)):(n="oekaki_"+
(new Date).toISOString().split(".")[0].replace(/[^0-9]/g,"_"),d.default.saveAs(p,n+".png"),e&&d.default.saveAs(e.bytes,n+".chi"),c&&d.default.saveAs(c,n+".aco"))}}).catch(function(e){q.emitEvent("savingFailure")})};this.cancel=function(){h=!0}}Object.defineProperty(D,"__esModule",{value:!0});D.binaryStringToByteArray=k;D.default=u;var E=g("../../js/engine/CPChibiFile.js"),b=y(g("../util/AdobeColorTable.js"));K=y(g("wolfy87-eventemitter"));var d=y(g("file-saver")),w=g("../languages/lang.js");u.prototype=
Object.create(K.default.prototype);u.prototype.constructor=u},{"../../js/engine/CPChibiFile.js":11,"../languages/lang.js":54,"../util/AdobeColorTable.js":55,"file-saver":295,"wolfy87-eventemitter":314}],22:[function(g,K,D){function y(E){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},y(E)}function k(E,b){for(var d=
0;d<b.length;d++){var w=b[d];w.enumerable=w.enumerable||!1;w.configurable=!0;"value"in w&&(w.writable=!0);var a=Object,l=a.defineProperty;a:{var r=w.key;if("object"===y(r)&&null!==r){var q=r[Symbol.toPrimitive];if(void 0!==q){r=q.call(r,"string");if("object"!==y(r))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}r=String(r)}}r="symbol"===y(r)?r:String(r);l.call(a,E,r,w)}}function u(E,b,d){b&&k(E.prototype,b);d&&k(E,d);Object.defineProperty(E,"prototype",{writable:!1});
return E}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;D.default=function(){function E(){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");}u(E,[{key:"merge",value:function(b){return!1}},{key:"noChange",value:function(){return!1}},{key:"getMemoryUsed",value:function(b,d){return 0}},{key:"compact",value:function(){}}]);return E}();K.exports=D.default},{}],23:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(k){var u=
(0,y.default)('<div class="modal fade chickenpaint-about-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">About ChickenPaint v2</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <a class="chickenpaint-on-github" target="_blank" href="https://github.com/thenickdude/chickenpaint"><span class="fab fa-github"></span> ChickenPaint on GitHub</a>\n                            \n                            <p>\n                                ChickenPaint is a translation of <a href="https://github.com/thenickdude/chibipaint" target="_blank">ChibiPaint</a>\n                                from Java to JavaScript by Nicholas Sherlock / Chicken Smoothie\n                            </p>\n                            <p>\n                                ChibiPaint is Copyright (c) 2006-2008 Marc Schefer. All Rights Reserved\n                            </p>\n                            <p>\n                                ChickenPaint is free software: you can redistribute it and/or modify\n                                it under the terms of the GNU General Public License as published by\n                                the Free Software Foundation, either version 3 of the License, or\n                                (at your option) any later version.\n                            </p>\n        \n                            <p>\n                                ChickenPaint is distributed in the hope that it will be useful,\n                                but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                <a target="_blank" href="https://www.gnu.org/licenses/">GNU General Public License</a> for more details.\n                            </p>\n        \n                            <pre class="pre-scrollable chickenpaint-third-party-licenses">Toolbar icons designed by <a target="_blank" href="https://github.com/Anteira">Miglena Lapavicheva (Anteira)</a>\n    These icons are dual-licensed under <a target="_blank" href="https://spdx.org/licenses/GPL-3.0-or-later.html">GPL-3.0-or-later</a> and <a target="_blank" href="https://creativecommons.org/licenses/by/3.0/">CC-BY-3.0</a>\n\nIncludes icons from the <a target="_blank" href="https://extensions.libreoffice.org/en/extensions/show/tango-icon-theme-for-libreoffice">Tango Icon Theme for LibreOffice</a>:\n    All artwork is licensed under the Creative Commons Attribution-Share Alike 3.0\n    United States License. To view a copy of this licence, visit\n    https://creativecommons.org/licenses/by-sa/3.0/ or send a letter to Creative\n    Commons, 171 Second Street, Suite 300, San Francisco, California 94105, USA.\n    \n    Credit for icons imported from git://git.gnome.org/gnome-icon-theme or derivatives\n    of these goes to the GNOME project (https://www.gnome.org)\n    Derivatives and new icons were created by Alexander Wilms &lt;f.alexander.wilms@gmail.com> \n    and Miroslav Mazel &lt;mazelm@gmail.com>\n    \nIncludes these MIT-licensed libraries:\n\n    Includes the <a target="_blank" href="https://github.com/eligrey/FileSaver.js">FileSaver.js library</a>\n    FileSaver.js Copyright \u00a9 2015 <a target="_blank" href="https://eligrey.com/">Eli Grey</a>\n\n    Includes the <a target="_blank" href="https://github.com/nodeca/pako">Pako zlib compression library</a>\n    Copyright (C) 2014-2015 by Vitaly Puzrin\n    \n    Includes the <a target="_blank" href="https://github.com/madrobby/keymaster">keymaster.js</a> keyboard library\n    Copyright (c) 2011-2013 Thomas Fuchs\n\n    Includes the <a target="_blank" href="https://github.com/stefanpenner/es6-promise">es6-promise</a> library\n    Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n\n    Includes the <a target="_blank" href="https://benalman.com/projects/jquery-throttle-debounce-plugin/">jQuery throttle-debounce</a> library\n    Copyright (c) 2010 "Cowboy" Ben Alman\n\n    Permission is hereby granted, free of charge, to any person\n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use,\n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://www.jquery.com/" target="_blank">jQuery library</a> \nCopyright <a href="https://jquery.org/" target="_blank">jQuery Foundation and other contributors</a>\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/jquery\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n    \n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://github.com/jquery/PEP/" target="_blank">jQuery PEP library</a>\nCopyright jQuery Foundation and other contributors, https://jquery.org/\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/PEP\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation \n    files (the "Software"), to deal in the Software without \n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or \n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following \n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND \n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, \n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING \n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR \n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes Font Awesome by Dave Gandy - <a href="https://fontawesome.io" target="_blank">https://fontawesome.io</a>\n                    </pre>\n                </div>\n            </div>\n        </div>\n    ');
u.on("hidden.bs.modal",function(b){u.remove()});var E=new bootstrap.Modal(u[0]);k.appendChild(u[0]);this.show=function(){E.show()}};var y=function(k){return k&&k.__esModule?k:{default:k}}(g("jquery"));K.exports=D.default},{jquery:296}],24:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(u,E){var b=(0,y.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,k._)("Box blur"),
'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Blur amount (pixels)"),'</label>\n                                    <input type="number" class="form-control chickenpaint-blur-amount" value="3">\n                                </div>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Iterations (1-8, larger gives smoother blur)"),
'</label>\n                                    <input type="number" class="form-control chickenpaint-blur-iterations" value="1">\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,k._)("Cancel"),'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-box-blur" data-bs-dismiss="modal">').concat((0,k._)("Ok"),
"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),d=(0,y.default)(".chickenpaint-blur-amount",b),w=(0,y.default)(".chickenpaint-blur-iterations",b),a=(0,y.default)(".chickenpaint-apply-box-blur",b);this.show=function(){(new bootstrap.Modal(b[0])).show()};a.on("click",function(l){l=Math.max(parseInt(d.val(),10),1);var r=Math.min(Math.max(parseInt(w.val(),10),1),8);E.getArtwork().boxBlur(l,l,r)});b.on("shown.bs.modal",function(){d.trigger("focus")});
(0,y.default)(document).on("keydown",function(l){"Enter"===l.key&&b.hasClass("show")&&a.trigger("click")});u.appendChild(b[0])};var y=function(u){return u&&u.__esModule?u:{default:u}}(g("jquery")),k=g("../languages/lang.js");K.exports=D.default},{"../languages/lang.js":54,jquery:296}],25:[function(g,K,D){function y(B){return B&&B.__esModule?B:{default:B}}function k(B,I){var O=document.createElement("div");O.className="chickenpaint-checkbox-slider-group";O.appendChild(B.getElement());O.appendChild(I.getElement());
return O}function u(B,I){for(var O in I)if(I.hasOwnProperty(O)){var z=document.createElement("option");z.appendChild(document.createTextNode((0,C._)(I[O])));z.value=O;B.appendChild(z)}}function E(B){function I(){H.gradient(H.getBounds(),0,0,H.width,0,R,!0);J.putImageData(H.imageData,0,0,0,0,150,32);z.fillRect(0,0,O.width,O.height);z.drawImage(N,0,0)}var O=document.createElement("canvas"),z=O.getContext("2d"),G=(0,f.createCheckerboardPattern)(z),H=new p.default(150,32),N=document.createElement("canvas"),
J=N.getContext("2d"),R=B.getCurGradient();this.getElement=function(){return O};B.on("gradientChange",function(fa){R=fa;I()});O.width=N.width=150;O.height=N.height=32;O.className="chickenpaint-gradient-preview";z.fillStyle=G;I()}function b(B){r.default.call(this,B,"brush","Tool options");var I=new d(B),O=new w(B),z=new a(B),G=this.getBodyElement();G.appendChild(I.getElement());G.appendChild(O.getElement());G.appendChild(z.getElement());B.on("modeChange",function(H){I.getElement().style.display="none";
O.getElement().style.display="none";z.getElement().style.display="none";switch(H){case l.default.M_GRADIENTFILL:O.getElement().style.display="block";break;case l.default.M_TRANSFORM:z.getElement().style.display="block";break;default:I.getElement().style.display="block"}})}function d(B){var I=[1,2,3,4,5,6,7,8,9,10,15,20,25,30,35,40,45,50,60,70,80,90,100,125,150,175,200],O=document.createElement("div"),z=document.createElement("select"),G=new q.default(!1,(0,C._)("Control brush opacity with pen pressure")),
H=new c.default(1,255),N=new q.default(!0,(0,C._)("Control brush size with pen pressure")),J=new c.default(1,200,!1,!0),R=new q.default(!1,(0,C._)("Control brush scattering with pen pressure")),fa=new c.default(0,1E3,!1,!0),Y=new c.default(0,100,!1,!0),qa=new c.default(0,100,!1,!0),ka=new c.default(0,100,!1,!0),Q=new c.default(0,100,!1,!0),aa=new b.CPBrushPreview(B);this.getElement=function(){return O};H.title=function(ha){return(0,C._)("Opacity")+": "+ha};H.on("valueChange",function(ha){B.setAlpha(ha)});
J.title=function(ha){return(0,C._)("Brush size")+": "+ha};J.on("valueChange",function(ha){B.setBrushSize(ha)});Y.title=function(ha){return(0,C._)("Color")+": "+ha+"%"};Y.on("valueChange",function(ha){B.getBrushInfo().resat=ha/100;B.callToolListeners()});qa.title=function(ha){return(0,C._)("Blend")+": "+ha+"%"};qa.on("valueChange",function(ha){B.getBrushInfo().bleed=ha/100;B.callToolListeners()});ka.title=function(ha){return(0,C._)("Spacing")+": "+ha+"%"};ka.on("valueChange",function(ha){B.getBrushInfo().spacing=
ha/100;B.callToolListeners()});fa.title=function(ha){return(0,C._)("Scattering")+": "+ha+"%"};fa.on("valueChange",function(ha){B.getBrushInfo().scattering=ha/100;B.callToolListeners()});Q.title=function(ha){return(0,C._)("Smoothing")+": "+ha+"%"};Q.on("valueChange",function(ha){B.getBrushInfo().smoothing=ha/100;B.callToolListeners()});R.on("valueChange",function(ha){B.getBrushInfo().pressureScattering=ha;B.callToolListeners()});G.on("valueChange",function(ha){B.getBrushInfo().pressureAlpha=ha;B.callToolListeners()});
N.on("valueChange",function(ha){B.getBrushInfo().pressureSize=ha;B.callToolListeners()});z.addEventListener("change",function(ha){B.getBrushInfo().tip=parseInt(z.value,10)});z.className="form-control form-control-sm";u(z,["Round Pixelated","Round Hard Edge","Round Soft","Square Pixelated","Square Hard Edge"]);O.appendChild(z);O.appendChild(aa.getElement());O.appendChild(k(N,J));O.appendChild(k(G,H));O.appendChild(Y.getElement());O.appendChild(qa.getElement());O.appendChild(ka.getElement());O.appendChild(k(R,
fa));O.appendChild(Q.getElement());G.setValue(B.getBrushInfo().pressureAlpha);H.setValue(B.getAlpha());N.setValue(B.getBrushInfo().pressureSize);J.setValue(B.getBrushSize());R.setValue(B.getBrushInfo().pressureScattering);fa.setValue(~~(100*B.getBrushInfo().scattering));z.value=B.getBrushInfo().tip;Y.setValue(~~(100*B.getBrushInfo().resat));qa.setValue(~~(100*B.getBrushInfo().bleed));ka.setValue(~~(100*B.getBrushInfo().spacing));Q.setValue(~~(100*B.getBrushInfo().smoothing));B.on("toolChange",function(ha,
ra){H.setValue(ra.alpha);J.setValue(ra.size);N.setValue(ra.pressureSize);G.setValue(ra.pressureAlpha);z.value=ra.tip;R.setValue(ra.pressureScattering);~~(100*ra.resat)!=Y.value&&Y.setValue(~~(100*ra.resat));~~(100*ra.bleed)!=qa.value&&qa.setValue(~~(100*ra.bleed));~~(100*ra.spacing)!=ka.value&&ka.setValue(~~(100*ra.spacing));~~(100*ra.scattering)!=fa.value&&fa.setValue(~~(100*ra.scattering));~~(100*ra.smoothing)!=Q.value&&Q.setValue(~~(100*ra.smoothing))});(0,A.default)("1,2,3,4,5,6,7,8,9,0",function(ha,
ra){ha=parseInt(ra.shortcut,10);0==ha&&(ha=10);B.setAlpha(Math.round(ha/10*255))});(0,A.default)("{,[",function(){for(var ha=B.getBrushSize(),ra=I.length-1;0<=ra;ra--)if(ha>I[ra]){B.setBrushSize(I[ra]);break}});(0,A.default)("},]",function(){for(var ha=B.getBrushSize(),ra=0;ra<I.length;ra++)if(ha<I[ra]){B.setBrushSize(I[ra]);break}})}function w(B){function I(){var J=[G.getAlpha()<<24|G.getColorRgb(),H.getAlpha()<<24|H.getColorRgb()];B.setCurGradient(J)}var O=document.createElement("div"),z=new E(B),
G=new h.default(new e.default(B.getCurGradient()[0]&16777215),B.getCurGradient()[0]>>>24,O),H=new h.default(new e.default(B.getCurGradient()[1]&16777215),B.getCurGradient()[1]>>>24,O);this.getElement=function(){return O};O.className="chickenpaint-gradient-panel";O.style.display="none";G.on("colorChange",I);G.on("alphaChange",I);H.on("colorChange",I);H.on("alphaChange",I);var N=document.createElement("p");N.innerHTML=(0,C._)("Gradient");O.appendChild(N);O.appendChild(z.getElement());z=document.createElement("div");
z.className="chickenpaint-gradient-colors";N=document.createElement("div");N.className="chickenpaint-gradient-start-color";N.appendChild(G.getElement());z.appendChild(N);N=document.createElement("div");N.className="chickenpaint-gradient-end-color";N.appendChild(H.getElement());z.appendChild(N);O.appendChild(z)}function a(B){var I={smooth:(0,C._)("Smooth"),sharp:(0,C._)("Sharp")},O=document.createElement("div"),z=document.createElement("button"),G=document.createElement("button"),H=document.createElement("select");
this.getElement=function(){return O};O.className="chickenpaint-transform-panel";O.style.display="none";z.type="button";G.type="button";z.className="btn btn-primary btn-block";G.className="btn btn-light btn-block";z.innerHTML=(0,C._)("Apply transform");G.innerHTML=(0,C._)("Cancel");H.addEventListener("change",function(J){B.setTransformInterpolation(this.value)});H.className="form-control chickenpaint-transform-interpolation";u(H,I);if((0,n.isCanvasInterpolationSupported)()){I=document.createElement("div");
var N=document.createElement("label");N.innerHTML=(0,C._)("Transform style");I.className="form-group";I.appendChild(N);I.appendChild(H);O.appendChild(I)}H=document.createElement("div");H.appendChild(z);H.appendChild(G);H.className="form-group";O.appendChild(H);z.addEventListener("click",function(J){B.actionPerformed({action:"CPTransformAccept"});J.preventDefault()});G.addEventListener("click",function(J){B.actionPerformed({action:"CPTransformReject"});J.preventDefault()})}Object.defineProperty(D,
"__esModule",{value:!0});D.default=b;var l=y(g("../ChickenPaint.js")),r=y(g("./CPPalette.js")),q=y(g("./CPCheckbox.js")),h=y(g("./CPColorSwatch.js")),c=y(g("./CPSlider.js")),f=g("./CPGUIUtils.js"),p=y(g("../engine/CPColorBmp.js")),e=y(g("../util/CPColor.js")),n=g("../util/CPPolyfill.js"),v=y(g("jquery")),A=y(g("../../lib/keymaster.js")),C=g("../languages/lang");b.prototype=Object.create(r.default.prototype);b.prototype.constructor=b;b.CPBrushPreview=function(B){function I(){N.clearRect(0,0,H.width,
H.height);N.beginPath();N.arc(H.width/2,H.height/2,G/2*window.devicePixelRatio,0,2*Math.PI);N.stroke()}function O(R){var fa=(0,v.default)(H).offset(),Y=R.pageY-fa.top;R=R.pageX-fa.left-(0,v.default)(H).width()/2;Y-=(0,v.default)(H).height()/2;G=Math.max(1,Math.min(200,Math.round(2*Math.sqrt(R*R+Y*Y))));I();B.setBrushSize(G)}function z(R){J&&(J=!1,window.removeEventListener("mouseup",z),window.removeEventListener("mousemove",O))}var G=16,H=document.createElement("canvas"),N=H.getContext("2d"),J=!1;
this.getElement=function(){return H};H.addEventListener("mousedown",function(R){J||(J=!0,window.addEventListener("mouseup",z),window.addEventListener("mousemove",O),O(R))});B.on("toolChange",function(R,fa){fa.size!=G&&(G=fa.size,I())});H.width=64;H.height=64;1<window.devicePixelRatio&&(H.style.width=H.width+"px",H.style.height=H.height+"px",H.width*=window.devicePixelRatio,H.height*=window.devicePixelRatio);H.className="chickenpaint-brush-preview";N.strokeStyle="black";N.lineWidth=1*window.devicePixelRatio;
I()};K.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../engine/CPColorBmp.js":13,"../languages/lang":54,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"./CPCheckbox.js":27,"./CPColorSwatch.js":31,"./CPGUIUtils.js":33,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296}],26:[function(g,K,D){function y(J){return J&&J.__esModule?J:{default:J}}function k(){this.modes=[]}function u(J){function R(){}function fa(){}function Y(){this.shouldPaintBrushPreview=!1;this.oldPreviewRect=
null}function qa(){Y.call(this);this.smoothMouse={x:0,y:0}}function ka(){var ba,za;this.mouseDown=function(Oa,bb,ob){if(!this.capture&&0==bb&&!Oa.altKey&&!w.default.isPressed("space")&&Z())return this.capture=!0,ba=za={x:sb+.5,y:Ib+.5},this.eraseBrushPreview(),!0};this.mouseDrag=function(Oa){if(this.capture){var bb=new a.default(Math.min(ba.x,za.x)-1-1,Math.min(ba.y,za.y)-1-1,Math.max(ba.x,za.x)+1+1+1,Math.max(ba.y,za.y)+1+1+1);za={x:sb+.5,y:Ib+.5};if(Oa.shiftKey){var ob=Math.PI/4;Oa=Math.round(Math.atan2(za.y-
ba.y,za.x-ba.x)/ob);switch(Oa){case 0:case 4:za.y=ba.y;break;case 2:case 6:za.x=ba.x;break;default:Oa*=ob,ob=Math.sqrt((za.y-ba.y)*(za.y-ba.y)+(za.x-ba.x)*(za.x-ba.x)),za.x=ba.x+ob*Math.cos(Oa),za.y=ba.y+ob*Math.sin(Oa)}}bb.union(new a.default(Math.min(ba.x,za.x)-1-1,Math.min(ba.y,za.y)-1-1,Math.max(ba.x,za.x)+1+1+1,Math.max(ba.y,za.y)+1+1+1));Aa(bb);return!0}this.mouseMove.call(this,Oa)};this.mouseUp=function(Oa,bb,ob){if(this.capture&&0==bb)return Oa=Ra(ba),bb=Ra(za),this.capture=!1,this.drawLine(Oa,
bb),Oa=new a.default(Math.min(ba.x,za.x)-1-1,Math.min(ba.y,za.y)-1-1,Math.max(ba.x,za.x)+1+1+1,Math.max(ba.y,za.y)+1+1+1),Aa(Oa),!0};this.paint=function(){this.capture?(Sa.lineWidth=1,Sa.beginPath(),Sa.moveTo(ba.x,ba.y),Sa.lineTo(za.x,za.y),Sa.stroke()):Y.prototype.paint.call(this)};Y.call(this)}function Q(){var ba=0,za,Oa,bb,ob;this.mouseDown=function(U,ja,Ba){if(!this.capture&&0==ja&&!U.altKey&&!w.default.isPressed("space")&&Z())return U=Ra({x:sb,y:Ib}),ba=0,za=Oa=bb=ob=U,this.capture=!0,this.eraseBrushPreview(),
!0};this.mouseDrag=function(U){if(this.capture&&0===ba)return bb=ob=Ra({x:sb,y:Ib}),Na.repaintAll(),!0;this.mouseMove.call(this,U)};this.mouseUp=function(U,ja,Ba){if(this.capture&&0==ja){switch(ba){case 0:ba=1;break;case 1:ba=2;break;case 2:this.capture=!1;ja=za;Ba=Oa;var ca=bb,va=ob;U=new q.default;U.x0=ja.x;U.y0=ja.y;U.x1=Ba.x;U.y1=Ba.y;U.x2=ca.x;U.y2=ca.y;U.x3=va.x;U.y3=va.y;ja=Array(500);Ba=Array(500);U.compute(ja,Ba,500);vb.beginStroke(ja[0],Ba[0],1);for(U=1;500>U;U++)vb.continueStroke(ja[U],
Ba[U],1);vb.endStroke();Na.repaintAll()}return!0}};this.mouseMove=function(U,ja){if(this.capture)return U=Ra({x:sb,y:Ib}),1==ba?Oa=U:2==ba&&(bb=U),Na.repaintAll(),!0;Y.prototype.mouseMove.call(this,U,ja)};this.paint=function(){if(this.capture){var U=new q.default,ja=Da(za),Ba=Da(Oa),ca=Da(bb),va=Da(ob);U.x0=ja.x;U.y0=ja.y;U.x1=Ba.x;U.y1=Ba.y;U.x2=ca.x;U.y2=ca.y;U.x3=va.x;U.y3=va.y;var Ha=Array(100),Xa=Array(100);U.compute(Ha,Xa,100);Sa.beginPath();Sa.moveTo(Ha[0],Xa[0]);for(U=1;100>U;U++)Sa.lineTo(Ha[U],
Xa[U]);Sa.moveTo(~~ja.x,~~ja.y);Sa.lineTo(~~Ba.x,~~Ba.y);Sa.moveTo(~~ca.x,~~ca.y);Sa.lineTo(~~va.x,~~va.y);Sa.stroke()}else Y.prototype.paint.call(this)};Y.call(this)}function aa(){var ba;this.mouseDown=function(za,Oa,bb){if(this.capture)return!0;if(w.default.isPressed("space")||(0!=Oa||this.transient&&!za.altKey)&&2!=Oa)this.transient&&qb.pop();else return ba=Oa,this.capture=!0,ab("crosshair"),this.mouseDrag(za),!0};this.mouseDrag=function(za){if(this.capture)return za=Ra({x:sb,y:Ib}),vb.isPointWithin(za.x,
za.y)&&J.setCurColor(new B.default(vb.colorPicker(za.x,za.y))),!0};this.mouseUp=function(za,Oa,bb){if(this.capture&&Oa==ba)return ba=-1,this.capture=!1,ab("default"),this.transient&&qb.pop(),!0};this.enter=function(){R.prototype.enter.call(this);ba=-1}}function ha(){var ba,za,Oa,bb;this.keyDown=function(ob){if(" "===ob.key)return this.capture||ab("grab"),!0};this.keyUp=function(ob){if(this.transient&&1!=bb&&" "===ob.key)return ab("default"),qb.pop(),!0};this.mouseDown=function(ob,U,ja){if(this.capture)return!0;
if(1==U||w.default.isPressed("space")&&0==U||!this.transient&&0==U)return this.capture=!0,bb=U,ba=ob.pageX,za=ob.pageY,Oa=Na.getOffset(),ab("grabbing"),!0;this.transient&&qb.pop()};this.mouseDrag=function(ob){if(this.capture)return Na.setOffset(Oa.x+ob.pageX-ba,Oa.y+ob.pageY-za),!0};this.mouseUp=function(ob,U,ja){if(this.capture&&U==bb)return bb=-1,this.capture=!1,this.transient&&!w.default.isPressed("space")&&(ab("default"),qb.pop()),!0};this.enter=function(){ab("grab")}}function ra(){}function ta(){var ba,
za=new a.default(0,0,0,0),Oa=-1;this.mouseDown=function(bb,ob,U){if(!this.capture&&0==ob&&!bb.altKey&&!w.default.isPressed("space"))return bb=xb({x:sb,y:Ib}),Oa=ob,za.makeEmpty(),ba=bb,Na.repaintAll(),this.capture=!0};this.mouseDrag=function(bb){if(!this.capture)return!1;var ob=xb({x:sb,y:Ib});bb=bb.shiftKey;var U=~~Math.max(Math.abs(ob.x-ba.x),Math.abs(ob.y-ba.y));ob.x>=ba.x?(za.left=ba.x,za.right=(bb?ba.x+U:ob.x)+1):(za.left=bb?ba.x-U:ob.x,za.right=ba.x+1);ob.y>=ba.y?(za.top=ba.y,za.bottom=(bb?
ba.y+U:ob.y)+1):(za.top=bb?ba.y-U:ob.y,za.bottom=ba.y+1);Na.repaintAll();return!0};this.mouseUp=function(bb,ob,U){if(this.capture&&ob==Oa)return vb.rectangleSelection(za),za.makeEmpty(),Na.repaintAll(),this.capture=!1,Oa=-1,!0};this.paint=function(){za.isEmpty()||(Sa.lineWidth=1,Ia(Sa,Ga(za)))}}function xa(){var ba,za,Oa=!1;this.mouseDown=function(bb,ob,U){if(!this.capture&&0==ob&&!w.default.isPressed("space")&&T())return ba=Ra({x:sb,y:Ib}),za=bb.altKey,this.capture=Oa=!0};this.mouseDrag=(0,h.throttle)(25,
function(bb){if(this.capture){bb=Ra({x:sb,y:Ib});var ob=bb.x-ba.x,U=bb.y-ba.y,ja=~~ob,Ba=~~U;if(0!=ja||0!=Ba)vb.move(ja,Ba,za&&Oa),Oa=!1;ba.x=bb.x-(ob-ja);ba.y=bb.y-(U-Ba);return!0}});this.mouseUp=function(bb,ob,U){if(this.capture&&0==ob)return this.capture=!1,this.transient&&qb.pop(),!0}}function na(){function ba(Ka,Za){return{x:(Ka.x+Za.x)/2,y:(Ka.y+Za.y)/2}}function za(Ka){return{x:Math.round(Ka.x),y:Math.round(Ka.y)}}function Oa(Ka,Za){for(var $a=0;$a<Ka.points.length;$a++)if(49>=(Za.x-Ka.points[$a].x)*
(Za.x-Ka.points[$a].x)+(Za.y-Ka.points[$a].y)*(Za.y-Ka.points[$a].y))return 2*$a;for($a=0;$a<Ka.points.length;$a++){var lb=Ka.points[$a],Lb=Ka.points[($a+1)%Ka.points.length];Lb=new p.default(Lb.x-lb.x,Lb.y-lb.y);lb=new p.default(Za.x-lb.x,Za.y-lb.y);var Eb=Lb.getLength(),Nb=Lb.getScaled(1/Eb);Eb=lb.getScaled(1/Eb);Nb=Nb.getDotProduct(Eb);if(0<=Nb&&1>=Nb&&(Lb.scale(Nb),49>=(Lb.x-lb.x)*(Lb.x-lb.x)+(Lb.y-lb.y)*(Lb.y-lb.y)))return 2*$a+1}return Ka.containsPoint(Za)?-3:-2}function bb(){var Ka=Ba.getTransformed(Qb),
Za=Oa(Ka,{x:sb,y:Ib});switch(Za){case 0:case 2:case 4:case 6:Za=~~(Za/2);var $a=Ka.points[Za],lb=Ka.points[(Za+1)%4];Ka=p.default.subtractPoints(Ka.points[(Za+3)%4],$a).normalize().add(p.default.subtractPoints(lb,$a).normalize());ob(Ka);break;case 1:case 3:case 5:case 7:Ka=p.default.subtractPoints(Ka.points[(~~(Za/2)+1)%4],Ka.points[~~(Za/2)]).getPerpendicular();ob(Ka);break;case -3:ab("move");break;case -2:ab("default");break;default:ab("default")}}function ob(Ka){Ka=Math.floor(Math.atan2(-Ka.y,
Ka.x)/(Math.PI/4)+.5);0>Ka&&(Ka+=4);switch(Ka){default:Ka="ew-resize";break;case 1:Ka="nesw-resize";break;case 2:Ka="ns-resize";break;case 3:Ka="nwse-resize"}ab(Ka)}var U,ja,Ba,ca=-1,va,Ha,Xa;this.mouseDown=function(Ka,Za,$a){if(!this.capture&&0==Za&&!Ka.altKey&&!w.default.isPressed("space"))return Ka=Ba.getTransformed(Qb),ca=Oa(Ka,{x:sb,y:Ib}),va={x:sb,y:Ib},Ha=Ra(va),this.capture=!0,bb(),!0};this.mouseDrag=(0,h.throttle)(40,function(Ka){if(this.capture){var Za={x:sb,y:Ib};switch(ca){case -3:Ka=
za(Ra(Za));var $a=p.default.subtractPoints(Ka,Ha);Za=$a.getTruncated();$a=$a.subtract(Za);var lb=new l.default;lb.translate(Za.x,Za.y);U.preMultiply(lb);Ha=p.default.subtractPoints(Ka,$a);break;case -2:lb=Math.PI/4;$a=Ba.getCenter();var Lb=Da($a),Eb=Math.atan2(Za.y-Lb.y,Za.x-Lb.x)-Math.atan2(va.y-Lb.y,va.x-Lb.x);Lb=new l.default;Xa+=Eb;Ka=Ka.shiftKey?-U.decompose().rotate+Math.round(Xa/lb)*lb:Eb;Lb.rotateAroundPoint(Ka,$a.x,$a.y);U.preMultiply(Lb);va=Za;break;case 0:case 2:case 4:case 6:lb=~~(ca/
2);$a=ja.points[lb];Lb=U.getInverted().getTransformedPoint(za(Ra(Za)));Za=ja.points[(lb+2)%4];lb=(Lb.x-Za.x)/($a.x-Za.x);$a=(Lb.y-Za.y)/($a.y-Za.y);if(.001>Math.abs(lb)||.001>Math.abs($a)||isNaN(lb)||isNaN($a))return!0;Ka.shiftKey&&($a=lb=Ka=Math.max(lb,$a));U.scaleAroundPoint(lb,$a,Za.x,Za.y);break;case 1:case 5:case 3:case 7:Ka=~~(ca/2);$a=ba(ja.points[Ka],ja.points[(Ka+1)%4]);Za=U.getInverted().getTransformedPoint(za(Ra(Za)));Ka=ba(ja.points[(Ka+2)%4],ja.points[(Ka+3)%4]);$a=p.default.subtractPoints($a,
Ka);Za=p.default.subtractPoints(Za,Ka);lb=$a.getLength();$a=$a.getDotProduct(Za)/lb/lb;if(.001>Math.abs($a)||isNaN($a))return!0;1==ca||5==ca?Za=1:(Za=$a,$a=1);U.scaleAroundPoint(Za,$a,Ka.x,Ka.y)}Ba=ja.getTransformed(U);vb.transformAffineAmend(U);Na.repaintAll();return!0}});this.mouseUp=function(Ka,Za,$a){if(this.capture&&0==Za)return this.capture=!1,ca=-1,!0};this.mouseMove=function(){this.capture||bb()};this.paint=function(){for(var Ka=Ba.getTransformed(Qb).points,Za=Array(2*Ka.length),$a=0;$a<Ka.length;$a++)Za[$a]=
Ka[$a];for($a=0;$a<Ka.length;$a++){var lb=Ka[$a],Lb=Ka[($a+1)%Ka.length];Za[$a+Ka.length]={x:(lb.x+Lb.x)/2,y:(lb.y+Lb.y)/2}}(0,A.setContrastingDrawStyle)(Sa,"fill");for($a=0;$a<Za.length;$a++)Sa.fillRect(Za[$a].x-3,Za[$a].y-3,7,7);Ia(Sa,Ka)};this.keyDown=function(Ka){if("Enter"===Ka.key)return J.actionPerformed({action:"CPTransformAccept"}),!0;if("Escape"===Ka.key)return J.actionPerformed({action:"CPTransformReject"}),!0};this.enter=function(){R.prototype.enter.call(this);var Ka=vb.transformAffineBegin();
U=Ka.transform;var Za=Ka.selection;Za.isEmpty()&&(Za=Ka.rect.clone());ja=new c.default(Za.toPoints());Ba=ja.getTransformed(U);ca=-1;Xa=0;Na.repaintAll()};this.leave=function(){R.prototype.leave.call(this);Na.repaintAll()}}function Ma(){var ba,za,Oa=0,bb,ob=!1,U=-1;this.mouseDown=function(ja,Ba,ca){if(this.capture)return!0;if(!this.transient&&0==Ba&&!ja.altKey&&!w.default.isPressed("space")||0==Ba&&!ja.altKey&&!w.default.isPressed("space")&&w.default.isPressed("r"))return ba=sb,za=Ib,Oa=Na.getRotation(),
bb=Qb.clone(),ob=!1,this.capture=!0,U=Ba,!0;this.transient&&qb.pop()};this.mouseDrag=function(ja){if(this.capture){var Ba=sb,ca=Ib,va=(0,d.default)(Qa).width()/2,Ha=(0,d.default)(Qa).height()/2;ja=Qa.width/2;var Xa=Qa.height/2;Ba=Math.atan2(ca-Ha,Ba-va)-Math.atan2(za-Ha,ba-va);ca=new l.default;ca.rotateAroundPoint(Ba,ja,Xa);ca.multiply(bb);Na.setRotation(Oa+Ba);Na.setOffset(~~ca.getTranslateX(),~~ca.getTranslateY());return ob=!0}};this.mouseUp=function(ja,Ba,ca){if(this.capture&&Ba==U){if(ob){ja=
Math.round(jc/(Math.PI/2))*Math.PI/2;if(Math.abs(jc-ja)<5/180*Math.PI){ja-=Oa;Ba=Qa.width/2;ca=Qa.height/2;var va=new l.default;va.rotateAroundPoint(ja,Ba,ca);va.multiply(bb);Na.setRotation(Oa+ja);Na.setOffset(~~va.getTranslateX(),~~va.getTranslateY());Na.repaintAll()}Na.emitEvent("canvasRotated90",[Na.getRotation90()])}else Na.resetRotation();this.capture=!1;this.transient&&!w.default.isPressed("r")&&qb.pop();return!0}};this.keyUp=function(ja){if(this.transient&&1!=U&&" "===ja.key)return ab("default"),
qb.pop(),!0};this.keyDown=function(ja){if("r"===ja.key.toLowerCase())return!0}}function jb(){ka.call(this)}function ab(ba){Qa.getAttribute("data-cursor")!=ba&&Qa.setAttribute("data-cursor",ba)}function T(){var ba=vb.getActiveLayer();return ba.visible&&ba.ancestorsAreVisible()?0==ba.alpha?(J.showLayerNotification(ba,(0,E._)("Whoops! This layer's opacity is currently 0%"),"opacity"),!1):!0:(J.showLayerNotification(ba,(0,E._)("Whoops! This layer is currently hidden"),"layer"),!1)}function Z(){var ba=
vb.getActiveLayer();return ba instanceof v.default&&!vb.isEditingMask()?(J.showLayerNotification(ba,(0,E._)("Whoops! You can't draw on a group"),"layer"),!1):T()}function pa(ba,za,Oa,bb,ob){ba.setValues(-ob,bb,za-bb-ob+Oa/4,za+Oa-ob-Oa/4);ba.setBlockIncrement(Math.max(1,~~(.66*bb)));ba.setUnitIncrement(Math.max(1,~~(.05*bb)))}function Ca(){Qb.setToIdentity();Qb.translate(nb,qc);Qb.scale(P,P);Qb.rotate(jc);if(null!=Vb&&null!=kb&&!Vb.getValueIsAdjusting()&&!kb.getValueIsAdjusting()){var ba=db(new a.default(0,
0,Ja.width,Ja.height));pa(Vb,ba.left,ba.getWidth(),(0,d.default)(Qa).width(),Na.getOffset().x);pa(kb,ba.top,ba.getHeight(),(0,d.default)(Qa).height(),Na.getOffset().y)}Na.repaintAll()}function Ra(ba){return Qb.getInverted().getTransformedPoint(ba)}function xb(ba){ba=Ra(ba);ba.x=Math.floor(ba.x);ba.y=Math.floor(ba.y);return ba}function Va(ba){var za=Qa.getBoundingClientRect();return{x:ba.x-za.left-window.pageXOffset,y:ba.y-za.top-window.pageYOffset}}function Da(ba){return Qb.getTransformedPoint(ba)}
function ua(ba){ba=Da(ba);ba.x=Math.round(ba.x);ba.y=Math.round(ba.y);return ba}function Ga(ba){var za=Da({x:(ba.left+ba.right)/2,y:(ba.top+ba.bottom)/2});ba=ba.toPoints();for(var Oa=0;Oa<ba.length;Oa++)ba[Oa]=ua(ba[Oa]),ba[Oa].x+=.5*Math.sign(za.x-ba[Oa].x),ba[Oa].y+=.5*Math.sign(za.y-ba[Oa].y);return ba}function Ia(ba,za){ba.beginPath();ba.moveTo(za[0].x,za[0].y);for(var Oa=1;Oa<za.length;Oa++)ba.lineTo(za[Oa].x,za[Oa].y);ba.lineTo(za[0].x,za[0].y);ba.stroke()}function db(ba){var za=ua({x:ba.left-
1,y:ba.top-1}),Oa=ua({x:ba.left-1,y:ba.bottom}),bb=ua({x:ba.right,y:ba.top-1});ba=ua({x:ba.right,y:ba.bottom});za=new a.default(Math.min(Math.min(za.x,Oa.x),Math.min(bb.x,ba.x)),Math.min(Math.min(za.y,Oa.y),Math.min(bb.y,ba.y)),Math.max(Math.max(za.x,Oa.x),Math.max(bb.x,ba.x))+1,Math.max(Math.max(za.y,Oa.y),Math.max(bb.y,ba.y))+1);za.grow(2,2);return za}function ub(){var ba=Qa.width,za=Qa.height,Oa=Da({x:vb.width/2,y:vb.height/2});Na.setOffset(Math.round(nb+ba/2-Oa.x),Math.round(qc+za/2-Oa.y))}function rb(ba,
za,Oa){ba=Math.max(.1,Math.min(16,ba));if(Na.getZoom()!=ba){var bb=Na.getOffset();Na.setOffset(bb.x+~~((za-bb.x)*(1-ba/Na.getZoom())),bb.y+~~((Oa-bb.y)*(1-ba/Na.getZoom())));Na.setZoom(ba);Na.repaintAll()}}function Pa(ba){var za=(0,d.default)(Qa).width(),Oa=(0,d.default)(Qa).height();rb(ba,za/2,Oa/2)}function sa(ba){return tc?ac.getPressure():"mouse"===ba.pointerType&&0!==ba.buttons&&0===ba.pressure?1:"touch"===ba.pointerType?(0!==ba.pressure&&(wc=!0),wc?2*ba.pressure:1):2*ba.pressure}function ma(){Ob||
(Ob=!0,window.requestAnimationFrame(function(){Na.paint()}))}function Aa(ba){Sb.union(ba);ma()}function Fa(){Gb=vb.getBounds();Na.repaintAll()}var Na=this,ib=document.createElement("div"),mb=document.createElement("div"),zb=document.createElement("div"),Qa=document.createElement("canvas"),Sa=Qa.getContext("2d"),Ja=document.createElement("canvas"),tb=Ja.getContext("2d"),ic=(0,A.createCheckerboardPattern)(Sa),vb=J.getArtwork(),P=1,nb=0,qc=0,jc=0,Qb=new l.default,eb=!1,bc=!1,Wa=32,sb=0,Ib=0,cc=!1,Mb=
[!1,!1,!1],tc=!1,rc=!1,wc=!1,Gb=vb.getBounds(),Sb=new a.default(0,0,0,0),Ob=!1,Tb,Rb=[],qb=new k,Vb=new C.default(!1),kb=new C.default(!0),ac=r.default.getRef();Math.sign=Math.sign||function(ba){ba=+ba;return 0===ba||isNaN(ba)?ba:0<ba?1:-1};R.prototype.transient=!1;R.prototype.capture=!1;R.prototype.enter=function(){ab("default")};R.prototype.leave=function(){this.capture=!1};R.prototype.mouseMove=R.prototype.paint=R.prototype.mouseDown=R.prototype.mouseDrag=R.prototype.mouseUp=R.prototype.keyDown=
R.prototype.suspend=R.prototype.resume=R.prototype.keyUp=function(){};fa.prototype=Object.create(R.prototype);fa.prototype.constructor=fa;fa.prototype.mouseDown=function(ba,za,Oa){var bb=w.default.isPressed("space");if(!bb&&(2==za||0==za&&ba.altKey))qb.push(gc,!0),qb.peek().mouseDown(ba,za,Oa);else if(!bb&&0==za&&!ba.altKey&&w.default.isPressed("r"))qb.push(nc,!0),qb.peek().mouseDown(ba,za,Oa);else if(1==za||!ba.altKey&&bb&&0==za)qb.push(fc,!0),qb.peek().mouseDown(ba,za,Oa)};fa.prototype.keyDown=
function(ba){if("r"===ba.key.toLowerCase()&&" "!==ba.key)qb.push(nc,!0),qb.peek().keyDown(ba);else if("r"!==ba.key.toLowerCase()&&" "===ba.key&&!ba.altKey)return qb.push(fc,!0),qb.peek().keyDown(ba),!0};Y.prototype=Object.create(R.prototype);Y.prototype.constructor=Y;Y.prototype.getBrushPreviewOval=function(){var ba=J.getBrushSize()*P;return new a.default(sb-ba/2,Ib-ba/2,sb+ba/2,Ib+ba/2)};Y.prototype.queueBrushPreview=function(){if(qb.peek()==this){this.shouldPaintBrushPreview=!0;var ba=this.getBrushPreviewOval();
ba.grow(2,2);null!=this.oldPreviewRect&&(ba.union(this.oldPreviewRect),this.oldPreviewRect=null);Aa(ba)}};Y.prototype.eraseBrushPreview=function(){this.shouldPaintBrushPreview=!1;null!=this.oldPreviewRect&&(Aa(this.oldPreviewRect),this.oldPreviewRect=null)};Y.prototype.mouseMove=function(ba,za){this.queueBrushPreview()};Y.prototype.enter=function(){R.prototype.enter.call(this);cc&&this.queueBrushPreview()};Y.prototype.leave=function(){R.prototype.leave.call(this);this.eraseBrushPreview()};Y.prototype.suspend=
Y.prototype.leave;Y.prototype.resume=Y.prototype.enter;Y.prototype.paint=function(){if(this.shouldPaintBrushPreview){this.shouldPaintBrushPreview=!1;var ba=this.getBrushPreviewOval();Sa.beginPath();Sa.arc((ba.left+ba.right)/2,(ba.top+ba.bottom)/2,ba.getWidth()/2,0,2*Math.PI);Sa.stroke();ba.grow(2,2);null==this.oldPreviewRect?this.oldPreviewRect=ba:this.oldPreviewRect.union(ba)}};qa.prototype=Object.create(Y.prototype);qa.prototype.constructor=qa;qa.prototype.mouseDown=function(ba,za,Oa){if(!this.capture&&
0==za&&!ba.altKey&&!w.default.isPressed("space")&&Z()&&(ba=Ra({x:sb,y:Ib}),this.eraseBrushPreview(),vb.beginStroke(ba.x,ba.y,Oa)))return this.capture=!0,this.smoothMouse=ba,!0};qa.prototype.mouseDrag=function(ba,za){(!navigator.maxTouchPoints||2>navigator.maxTouchPoints)&&Y.prototype.mouseMove.call(this,ba,za);if(this.capture){ba=Ra({x:sb,y:Ib});var Oa=Math.min(.999,Math.pow(J.getBrushInfo().smoothing,.3));this.smoothMouse.x=(1-Oa)*ba.x+Oa*this.smoothMouse.x;this.smoothMouse.y=(1-Oa)*ba.y+Oa*this.smoothMouse.y;
vb.continueStroke(this.smoothMouse.x,this.smoothMouse.y,za);return!0}this.mouseMove(ba)};qa.prototype.mouseUp=function(ba,za,Oa){if(this.capture)return 0==za&&(this.capture=!1,vb.endStroke()),!0};ka.prototype=Object.create(Y.prototype);ka.prototype.constructor=ka;ka.prototype.drawLine=function(ba,za){vb.beginStroke(ba.x,ba.y,1);vb.continueStroke(za.x,za.y,1);vb.endStroke()};Q.prototype=Object.create(Y.prototype);Q.prototype.constructor=Q;aa.prototype=Object.create(R.prototype);aa.prototype.constructor=
aa;ha.prototype=Object.create(R.prototype);ha.prototype.constructor=ha;ra.prototype=Object.create(R.prototype);ra.prototype.constructor=ra;ra.prototype.mouseDown=function(ba,za,Oa){if(0==za&&!ba.altKey&&!w.default.isPressed("space")&&Z())return ba=Ra({x:sb,y:Ib}),vb.isPointWithin(ba.x,ba.y)&&(vb.floodFill(ba.x,ba.y),Na.repaintAll()),!0};ta.prototype=Object.create(R.prototype);ta.prototype.constructor=ta;xa.prototype=Object.create(R.prototype);xa.prototype.constructor=xa;xa.prototype.mouseMove=function(ba){if(!w.default.isPressed("r"))return ab("move"),
!0};xa.prototype.enter=function(){ab("move")};na.prototype=Object.create(R.prototype);na.prototype.constructor=na;Ma.prototype=Object.create(R.prototype);Ma.prototype.constructor=Ma;jb.prototype=Object.create(ka.prototype);jb.prototype.constructor=jb;jb.prototype.drawLine=function(ba,za){vb.gradientFill(Math.round(ba.x),Math.round(ba.y),Math.round(za.x),Math.round(za.y),J.getCurGradient())};jb.prototype.queueBrushPreview=function(){};this.setZoom=function(ba){P=ba;Ca()};this.getZoom=function(){return P};
this.setGridSize=function(ba){Wa=Math.max(Math.round(ba),1);this.repaintAll()};this.getGridSize=function(){return Wa};this.setOffset=function(ba,za){isNaN(ba)||isNaN(za)?console.log("Bad offset"):(nb=ba,qc=za,Ca())};this.getOffset=function(){return{x:nb,y:qc}};this.setInterpolation=function(ba){eb=ba;(0,f.setCanvasInterpolation)(Sa,ba);this.repaintAll()};this.setRotation=function(ba){jc=ba%(2*Math.PI);Ca()};this.getRotation=function(){return jc};this.getRotation90=function(){var ba=Math.round(this.getRotation()/
Math.PI*2);ba%=4;0>ba&&(ba+=4);return ba};this.zoomIn=function(){Pa(2*this.getZoom())};this.zoomOut=function(){Pa(.5*this.getZoom())};this.zoom100=function(){Pa(1);ub()};this.resetRotation=function(){var ba=Qa.width/2,za=Qa.height/2,Oa=new l.default;Oa.rotateAroundPoint(-this.getRotation(),ba,za);Oa.multiply(Qb);this.setOffset(~~Oa.getTranslateX(),~~Oa.getTranslateY());this.setRotation(0);Na.emitEvent("canvasRotated90",[0])};var vc=!1,kc;this.getElement=function(){return ib};this.repaintAll=function(){Sb.left=
0;Sb.top=0;Sb.right=Qa.width;Sb.bottom=Qa.height;ma()};this.paint=function(){var ba=!1;Ob=!1;Sb.isEmpty()||(Sa.save(),Sa.clipTo&&(Sa.beginPath(),Sb.left|=0,Sb.top|=0,Sa.rect(Sb.left,Sb.top,Math.ceil(Sb.getWidth()),Math.ceil(Sb.getHeight())),Sa.clip()),ba=!0);if(!Gb.isEmpty()){var za=Tb&&Tb.isOpen()?Tb.getImageData():vb.fusionLayers().getImageData();tb.putImageData(za,0,0,Gb.left,Gb.top,Gb.getWidth(),Gb.getHeight());Gb.makeEmpty()}Sa.fillStyle="#606060";Sa.fillRect(0,0,Qa.width,Qa.height);Sa.save();
Sa.setTransform(Qb.m[0],Qb.m[1],Qb.m[2],Qb.m[3],Qb.m[4],Qb.m[5]);Sa.fillStyle=ic;Sa.fillRect(0,0,vb.width,vb.height);Sa.drawImage(Ja,0,0,Ja.width,Ja.height);Sa.restore();(0,A.setContrastingDrawStyle)(Sa,"stroke");Sa.lineWidth=1;vb.getSelection().isEmpty()||qb.peek()instanceof ta&&qb.peek().capture||(Sa.setLineDash([3,2]),za=vb.getSelection(),Ia(Sa,Ga(za)),Sa.setLineDash([]));if(bc&&(za=vb.getBounds(),2<P*Wa)){Sa.beginPath();for(var Oa=Wa-1;Oa<za.right;Oa+=Wa){var bb=Da({x:Oa,y:za.top}),ob=Da({x:Oa,
y:za.bottom});Sa.moveTo(bb.x+.5,bb.y+.5);Sa.lineTo(ob.x+.5,ob.y+.5)}for(Oa=Wa-1;Oa<za.bottom;Oa+=Wa)bb=Da({x:0,y:Oa}),ob=Da({x:za.right,y:Oa}),Sa.moveTo(bb.x+.5,bb.y+.5),Sa.lineTo(ob.x+.5,ob.y+.5);Sa.stroke()}qb.paint(Sa);Sa.globalCompositeOperation="source-over";ba&&(Sb.makeEmpty(),Sa.restore())};this.showGrid=function(ba){bc=ba;this.repaintAll()};this.resize=function(ba,za){ba-=(0,d.default)(zb).outerHeight();(0,d.default)(Qa).css("height",ba+"px");Qa.width=(0,d.default)(Qa).width();Qa.height=ba;
kc=null;za||ub();this.setInterpolation(eb);this.repaintAll()};J.on("toolChange",function(ba,za){ba=Rb[za.strokeMode];for(za=0;za<qb.modes.length;za++)if(qb.modes[za]instanceof Y){qb.modes[za].leave();qb.modes[za]=ba;qb.modes[za].enter();break}Cc=ba});J.on("modeChange",function(ba){switch(ba){case e.default.M_DRAW:var za=Cc;break;case e.default.M_FLOODFILL:za=xc;break;case e.default.M_GRADIENTFILL:za=Mc;break;case e.default.M_RECT_SELECTION:za=yc;break;case e.default.M_MOVE_TOOL:za=Dc;break;case e.default.M_ROTATE_CANVAS:za=
nc;break;case e.default.M_PAN_CANVAS:za=fc;break;case e.default.M_COLOR_PICKER:za=gc;break;case e.default.M_TRANSFORM:za=zc}qb.setUserMode(za)});J.on("maskViewOpened",function(ba){Tb&&Tb.off("changeLayer",Fa);Tb=ba;Tb.on("changeLayer",Fa);Fa()});var lc=new fa;var gc=new aa;var fc=new ha;var nc=new Ma;var xc=new ra;var Mc=new jb;var yc=new ta;var Dc=new xa;var zc=new na;Rb=[new qa,new ka,new Q];var Cc=Rb[n.default.STROKE_MODE_FREEHAND];qb.setDefaultMode(lc);qb.setUserMode(Cc);Ja.width=vb.width;Ja.height=
vb.height;Qa.width=800;Qa.height=900;Qa.className="chickenpaint-canvas";Qa.setAttribute("touch-action","none");Sa.setLineDash||(Sa.setLineDash=function(){});Qa.addEventListener("contextmenu",function(ba){ba.preventDefault()});Qa.addEventListener("mouseenter",function(){cc=!0});Qa.addEventListener("mouseleave",function(){cc=!1;Mb[0]||Mb[2]||Mb[1]||Na.repaintAll()});Qa.addEventListener("pointerdown",function(ba){rc&&"touch"===ba.pointerType||(Qa.setPointerCapture(ba.pointerId),kc=Qa.getBoundingClientRect(),
sb=ba.clientX-kc.left,Ib=ba.clientY-kc.top,tc=ac.isPen(),Mb[0]=!1,Mb[2]=!1,Mb[1]=!1,Mb[ba.button]=!0,qb.mouseDown(ba,ba.button,sa(ba)))});Qa.addEventListener("pointermove",function(ba){kc||=Qa.getBoundingClientRect();if(!rc||"touch"!==ba.pointerType){sb=ba.clientX-kc.left;Ib=ba.clientY-kc.top;var za=0!==ba.buttons,Oa=za?sa(ba):0;if(0!==(ba.buttons&1)!=Mb[0]){if(.5===ba.mozPressure)return;Mb[0]=!Mb[0];Mb[0]?qb.mouseDown(ba,0,Oa):qb.mouseUp(ba,0,Oa)}0!==(ba.buttons&2)!=Mb[2]&&(Mb[2]=!Mb[2],Mb[2]?qb.mouseDown(ba,
2,Oa):qb.mouseUp(ba,2,Oa));0!==(ba.buttons&4)!=Mb[1]&&(Mb[1]=!Mb[1],Mb[1]?qb.mouseDown(ba,1,Oa):qb.mouseUp(ba,1,Oa));za?qb.mouseDrag(ba,Oa):qb.mouseMove(ba,Oa);rc||"pen"!==ba.pointerType||(rc=!0)}});Qa.addEventListener("pointerup",function(ba){Mb[0]=!1;Mb[2]=!1;tc=Mb[1]=!1;qb.mouseUp(ba,ba.button,0);Qa.releasePointerCapture(ba.pointerId)});Qa.addEventListener("wheel",function(ba){if(0!=ba.deltaY){if(!vc||20<Math.abs(ba.deltaY)){var za=0<ba.deltaY?1/1.15:1.15;var Oa=Va({x:ba.pageX,y:ba.pageY}),bb=
Ra(Oa);vb.isPointWithin(bb.x,bb.y)?rb(Na.getZoom()*za,Oa.x,Oa.y):rb(Na.getZoom()*za,nb+~~(vb.width*P/2),qc+~~(vb.height*P/2));vc=vc||setTimeout(function(){vc=!1},50)}ba.preventDefault()}});document.addEventListener("keydown",function(ba){qb.keyDown(ba)});document.addEventListener("keyup",function(ba){"alt"===ba.key.toLowerCase()&&ba.preventDefault();qb.keyUp(ba)});document.addEventListener("visibilitychange",function(){var ba=Qa.height+(0,d.default)(zb).outerHeight();Qa.width=1;Qa.height=1;Na.resize(ba,
!0)},!1);window.addEventListener("scroll",function(){kc=null});Qa.addEventListener("mousedown",function(ba){1==ba.button&&ba.preventDefault()});vb.on("changeSelection",function(){Na.repaintAll()});vb.on("updateRegion",function(ba){Gb.union(ba);Aa(db(Gb))});Vb.on("valueChanged",function(ba){var za=Na.getOffset();Na.setOffset(-ba,za.y)});kb.on("valueChanged",function(ba){var za=Na.getOffset();Na.setOffset(za.x,-ba)});this.setInterpolation(!1);lc=document.createElement("div");lc.className="chickenpaint-canvas-container-wrapper";
lc.appendChild(Qa);mb.className="chickenpaint-canvas-container-top";mb.appendChild(lc);mb.appendChild(kb.getElement());zb.className="chickenpaint-canvas-container-bottom";zb.appendChild(Vb.getElement());ib.appendChild(mb);ib.appendChild(zb);J.setCanvas(this)}Object.defineProperty(D,"__esModule",{value:!0});D.default=u;var E=g("../languages/lang.js"),b=y(g("wolfy87-eventemitter")),d=y(g("jquery")),w=y(g("../../lib/keymaster.js")),a=y(g("../util/CPRect.js")),l=y(g("../util/CPTransform.js")),r=y(g("../util/CPWacomTablet.js")),
q=y(g("../util/CPBezier.js")),h=g("../util/throttle-debounce"),c=y(g("../util/CPPolygon.js")),f=g("../util/CPPolyfill.js"),p=y(g("../util/CPVector.js")),e=y(g("../ChickenPaint.js")),n=y(g("../engine/CPBrushInfo.js")),v=y(g("../engine/CPLayerGroup.js"));y(g("../engine/CPMaskView.js"));var A=g("./CPGUIUtils.js"),C=y(g("./CPScrollbar.js")),B=y(g("../util/CPColor.js"));k.MODE_INDEX_DEFAULT=0;k.MODE_INDEX_USER=1;k.prototype.setMode=function(J,R){var fa=this.modes[J];fa!=R&&(fa&&fa.leave(),this.modes[J]=
R,R.enter())};k.prototype.setDefaultMode=function(J){J.transient=!1;J.capture=!1;this.setMode(k.MODE_INDEX_DEFAULT,J)};k.prototype.setUserMode=function(J){for(var R=this.modes.length-1;R>k.MODE_INDEX_USER;R--)this.modes[R].leave(),this.modes.splice(R,1);J.transient=!1;J.capture=!1;this.setMode(k.MODE_INDEX_USER,J)};k.prototype.deliverEvent=function(J,R){for(var fa=this.modes.length-1;0<=fa;fa--){var Y=this.modes[fa];if(Y[J].apply(Y,R)||Y.capture&&"paint"!=J)return!0}return!1};g=function(){var J=O[I];
k.prototype[J]=function(R,fa,Y){this.deliverEvent(J,[R,fa,Y])}};for(var I=0,O=["mouseDown","mouseUp"];I<O.length;I++)g();g=function(){var J=G[z];k.prototype[J]=function(R,fa){this.deliverEvent(J,[R,fa])}};for(var z=0,G=["mouseDrag","mouseMove"];z<G.length;z++)g();g=function(){var J=N[H];k.prototype[J]=function(R){this.deliverEvent(J,[R])&&R.preventDefault()}};for(var H=0,N=["keyDown","keyUp"];H<N.length;H++)g();k.prototype.paint=function(J){this.deliverEvent("paint",[J])};k.prototype.push=function(J,
R){var fa=this.peek();fa&&fa.suspend();J.transient=R;J.capture=!1;J.enter();this.modes.push(J)};k.prototype.peek=function(){return 0<this.modes.length?this.modes[this.modes.length-1]:null};k.prototype.pop=function(){var J=this.modes.pop(),R=this.peek();J&&J.leave();R&&R.resume();return R};u.prototype=Object.create(b.default.prototype);u.prototype.constructor=u;K.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../engine/CPBrushInfo.js":8,"../engine/CPLayerGroup.js":17,"../engine/CPMaskView.js":19,
"../languages/lang.js":54,"../util/CPBezier.js":57,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPPolygon.js":61,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/CPVector.js":65,"../util/CPWacomTablet.js":66,"../util/throttle-debounce":67,"./CPGUIUtils.js":33,"./CPScrollbar.js":41,jquery:296,"wolfy87-eventemitter":314}],27:[function(g,K,D){function y(k,u){function E(){var a=b.width;d.clearRect(0,0,a,b.height);d.beginPath();d.arc(a/2+1,a/2+1,Math.max(a/2,1)-2,0,2*Math.PI);
w.state?d.fill():d.stroke()}var b=document.createElement("canvas"),d=b.getContext("2d"),w=this;this.state=k||!1;this.setValue=function(a){this.state!=a&&(this.state=a,this.emitEvent("valueChange",[a]),E())};this.getElement=function(){return b};b.addEventListener("mousedown",function(a){w.setValue(!w.state)});b.title=u||"";b.className="chickenpaint-checkbox";b.width=20;b.height=20;b.fillStyle="black";b.strokeStyle="black";E()}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;g=function(k){return k&&
k.__esModule?k:{default:k}}(g("wolfy87-eventemitter"));y.prototype=Object.create(g.default.prototype);y.prototype.constructor=y;K.exports=D.default},{"wolfy87-eventemitter":314}],28:[function(g,K,D){function y(l){return l&&l.__esModule?l:{default:l}}function k(l){E.default.call(this,l,"color","Color (picker)");var r=new b.default(l),q=new d.default(l,r);l=new u(l);var h=this.getBodyElement(),c=document.createElement("div");c.className="chickenpaint-colorpicker-top";c.appendChild(r.getElement());c.appendChild(q.getElement());
h.appendChild(c);h.appendChild(l.getElement())}function u(l){function r(f,p,e){for(;f.length<e;)f=p+f;return f}function q(){c.style.backgroundColor="#"+r(Number(h).toString(16),"0",6)}var h=0,c=document.createElement("div");this.getElement=function(){return c};l.on("colorChange",function(f){h=f.getRgb();q()});c.className="chickenpaint-colorpicker-show";c.addEventListener("click",function(f){f.preventDefault();f="#"+r(Number(h).toString(16),"0",6);f=window.prompt((0,a._)("Please enter a color in hex format"),
f);if(null!=f)try{if(f.match(/^#/)||f.match(/^$/))f=f.substring(1);var p=parseInt(f,16);l.setCurColor(new w.default(p))}catch(e){}});q()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var E=y(g("./CPPalette.js")),b=y(g("./CPColorSelect.js")),d=y(g("./CPColorSlider.js")),w=y(g("../util/CPColor.js")),a=g("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang":54,"../util/CPColor.js":58,"./CPColorSelect.js":29,
"./CPColorSlider.js":30,"./CPPalette.js":39}],29:[function(g,K,D){function y(f){return f&&f.__esModule?f:{default:f}}function k(f){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},k(f)}function u(f,p){for(var e=0;e<p.length;e++){var n=p[e];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=
!0);Object.defineProperty(f,d(n.key),n)}}function E(f,p,e){p&&u(f.prototype,p);e&&u(f,e);Object.defineProperty(f,"prototype",{writable:!1});return f}function b(f,p,e){p=d(p);p in f?Object.defineProperty(f,p,{value:e,enumerable:!0,configurable:!0,writable:!0}):f[p]=e;return f}function d(f){a:if("object"===k(f)&&null!==f){var p=f[Symbol.toPrimitive];if(void 0!==p){f=p.call(f,"string");if("object"!==k(f))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}f=String(f)}return"symbol"===
k(f)?f:String(f)}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var w=y(g("jquery")),a=y(g("../util/CPColor.js")),l=y(g("../engine/CPColorBmp.js")),r=g("./CPGUIUtils.js"),q=window.devicePixelRatio||1,h=Math.round(128*q),c=Math.round(128*q);D.default=function(){function f(p,e){var n=this;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");b(this,"_controller",void 0);b(this,"_canvas",void 0);b(this,"_canvasContext",void 0);b(this,"_imageData",void 0);
b(this,"_bitmapInvalid",!0);b(this,"_capturedMouse",!1);b(this,"_greyscale",!1);b(this,"color",new a.default(0));this._controller=p;var v=document.createElement("canvas");this._canvas=v;v.className="chickenpaint-colorpicker-select";v.setAttribute("touch-action","none");v.width=h;v.height=c;v.style.width="128px";v.style.height="128px";this._canvasContext=v.getContext("2d");this._imageData=this._canvasContext.createImageData(h,c);this._canvasContext.getImageData(0,0,1,1);this._handleEndDrag=this._endDrag.bind(this);
this._handleMousePickColor=this._mousePickColor.bind(this);v.addEventListener("pointerdown",function(A){return n._startDrag(A)});e&&this.color.copyFrom(e);p.on("colorChange",function(A){n.color.copyFrom(A);n._bitmapInvalid=!0;n.paint()});p.on("colorModeChange",function(A){n._greyscale="greyscale"==A;n._bitmapInvalid=!0;n.paint()});this.paint()}E(f,[{key:"_makeBitmap",value:function(){if(this._bitmapInvalid){var p=0,e=this._imageData.data;if(this._greyscale)for(var n=0;n<c;n++)for(var v=255-Math.round(n/
(c-1)*255),A=0;A<h;A++)e[p+l.default.RED_BYTE_OFFSET]=v,e[p+l.default.GREEN_BYTE_OFFSET]=v,e[p+l.default.BLUE_BYTE_OFFSET]=v,e[p+l.default.ALPHA_BYTE_OFFSET]=255,p+=l.default.BYTES_PER_PIXEL;else for(n=this.color.clone(),v=0;v<c;v++)for(n.setValue(255-~~(v/(c-1)*255)),A=0;A<h;A++)n.setSaturation(Math.round(A/(h-1)*255)),e[p+l.default.RED_BYTE_OFFSET]=n.rgb>>16&255,e[p+l.default.GREEN_BYTE_OFFSET]=n.rgb>>8&255,e[p+l.default.BLUE_BYTE_OFFSET]=n.rgb&255,e[p+l.default.ALPHA_BYTE_OFFSET]=255,p+=l.default.BYTES_PER_PIXEL;
this._bitmapInvalid=!1}}},{key:"paint",value:function(){this._makeBitmap();this._canvasContext.putImageData(this._imageData,0,0);var p=this.color.getSaturation()/255*(h-1),e=(255-this.color.getValue())/255*(c-1);(0,r.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5*q;this._canvasContext.beginPath();this._greyscale?(this._canvasContext.moveTo(0,e),this._canvasContext.lineTo(h,e)):this._canvasContext.arc(p,e,5*q,0,2*Math.PI);this._canvasContext.stroke();this._canvasContext.globalCompositeOperation=
"source-over"}},{key:"_mousePickColor",value:function(p){var e=p.pageX-(0,w.default)(this._canvas).offset().left;p=p.pageY-(0,w.default)(this._canvas).offset().top;p=Math.max(Math.min(255-~~(255*p/127),255),0);this._greyscale?this.color.setGreyscale(p):(e=Math.max(Math.min(~~(255*e/127),255),0),this.color.setHsv(this.color.getHue(),e,p));this.paint();this._controller.setCurColor(this.color)}},{key:"_endDrag",value:function(p){this._canvas.releasePointerCapture(p.pointerId);this._capturedMouse=!1;
this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(p){this._capturedMouse||(this._capturedMouse=!0,this._canvas.setPointerCapture(p.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(p)}},{key:"setHue",value:function(p){this.color.getHue()!=p&&(this.color.setHue(p),
this._controller.setCurColor(this.color))}},{key:"getElement",value:function(){return this._canvas}}]);return f}();K.exports=D.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:296}],30:[function(g,K,D){function y(h){return h&&h.__esModule?h:{default:h}}function k(h){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&
c!==Symbol.prototype?"symbol":typeof c},k(h)}function u(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(h,d(p.key),p)}}function E(h,c,f){c&&u(h.prototype,c);f&&u(h,f);Object.defineProperty(h,"prototype",{writable:!1});return h}function b(h,c,f){c=d(c);c in h?Object.defineProperty(h,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[c]=f;return h}function d(h){a:if("object"===k(h)&&null!==h){var c=
h[Symbol.toPrimitive];if(void 0!==c){h=c.call(h,"string");if("object"!==k(h))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}h=String(h)}return"symbol"===k(h)?h:String(h)}function w(h){for(var c=new l.default(65535),f=0,p=h.data,e=0;e<h.height;e++){c.setHue(359*e/h.height);for(var n=0;n<h.width;n++)p[f+r.default.RED_BYTE_OFFSET]=c.rgb>>16&255,p[f+r.default.GREEN_BYTE_OFFSET]=c.rgb>>8&255,p[f+r.default.BLUE_BYTE_OFFSET]=c.rgb&255,p[f+r.default.ALPHA_BYTE_OFFSET]=255,f+=
r.default.BYTES_PER_PIXEL}}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var a=y(g("jquery")),l=y(g("../util/CPColor.js")),r=y(g("../engine/CPColorBmp.js")),q=g("./CPGUIUtils.js");D.default=function(){function h(c,f,p){var e=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");b(this,"hue",void 0);b(this,"selecter",void 0);b(this,"_canvas",void 0);b(this,"_canvasContext",void 0);b(this,"_imageData",void 0);b(this,"_capturedMouse",!1);this.selecter=
f;this.hue=p||0;var n=document.createElement("canvas");this._canvas=n;c.on("colorChange",function(v){e.setHue(v.getHue())});c.on("colorModeChange",function(v){n.style.display="greyscale"==v?"none":"block"});n.setAttribute("touch-action","none");n.addEventListener("pointerdown",function(v){return e._startDrag(v)});n.width=24;n.height=128;n.className="chickenpaint-colorpicker-slider";this._canvasContext=n.getContext("2d");this._imageData=this._canvasContext.createImageData(24,128);this._canvasContext.getImageData(0,
0,1,1);this._handleEndDrag=this._endDrag.bind(this);this._handleMousePickColor=this._mousePickColor.bind(this);w(this._imageData);this.paint()}E(h,[{key:"paint",value:function(){this._canvasContext.putImageData(this._imageData,0,0);var c=128*this.hue/360;(0,q.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5;this._canvasContext.beginPath();this._canvasContext.moveTo(0,c);this._canvasContext.lineTo(24,c);this._canvasContext.stroke();this._canvasContext.globalCompositeOperation=
"source-over"}},{key:"_mousePickColor",value:function(c){c=~~(360*(c.pageY-(0,a.default)(this._canvas).offset().top)/128);this.hue=Math.max(0,Math.min(359,c));this.paint();this.selecter&&this.selecter.setHue(this.hue)}},{key:"_endDrag",value:function(c){this._canvas.releasePointerCapture(c.pointerId);this._capturedMouse=!1;this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(c){this._capturedMouse||
(this._capturedMouse=!0,this._canvas.setPointerCapture(c.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(c)}},{key:"getElement",value:function(){return this._canvas}},{key:"setHue",value:function(c){this.hue=c;this.paint()}}]);return h}();K.exports=D.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:296}],31:[function(g,K,D){function y(a){return a&&
a.__esModule?a:{default:a}}function k(a,l,r){function q(){for(var A=e.style,C=Number(f.getRgb()).toString(16);6>C.length;)C="0"+C;A.backgroundColor="#"+C}function h(){var A=document.createElement("div"),C=document.createElement("div"),B=new d.default(c,f),I=new w.default(c,B,f.getHue()),O=new b.default(0,255);A.className="chickenpaint-color-pick-panel";C.className="chickenpaint-colorpicker-top";C.appendChild(B.getElement());C.appendChild(I.getElement());A.appendChild(C);O.value=p;O.title=function(z){return(0,u._)("Opacity: ")+
z};O.on("valueChange",function(z){c.setAlpha(z)});A.appendChild(O.getElement());setTimeout(function(){O.resize()},0);return A}var c=this,f=new E.default(0),p=255,e=document.createElement("div");this.getElement=function(){return e};this.setColor=function(A){f.isEqual(A)||(f.copyFrom(A),q(),this.emitEvent("colorChange",[f]))};this.setAlpha=function(A){A!=p&&(p=A,q(),this.emitEvent("alphaChange",[p]))};this.getColorRgb=function(){return f.getRgb()};this.getAlpha=function(){return p};this.setCurColor=
this.setColor;e.className="chickenpaint-color-pick-swatch";a&&f.copyFrom(a);l&&(p=l);var n=new bootstrap.Popover(e,{html:!0,content:function(){window.addEventListener("mousedown",v);return h()},trigger:"manual",placement:"bottom",container:r||!1}),v=function(A){var C=A.target;C=C.closest(".popover-body")||C.classList.contains("chickenpaint-color-pick-panel")||C.classList.contains("chickenpaint-colorpicker-select")||C.classList.contains("chickenpaint-colorpicker-slider");A.preventDefault();C||n.hide()};
e.addEventListener("click",function(A){A.preventDefault();n.toggle()});e.addEventListener("hidden.bs.popover",function(){window.removeEventListener("mousedown",v)});q()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;y(g("jquery"));var u=g("../languages/lang.js"),E=y(g("../util/CPColor.js")),b=y(g("./CPSlider.js")),d=y(g("./CPColorSelect.js")),w=y(g("./CPColorSlider.js"));g=y(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;K.exports=
D.default},{"../languages/lang.js":54,"../util/CPColor.js":58,"./CPColorSelect.js":29,"./CPColorSlider.js":30,"./CPSlider.js":44,jquery:296,"wolfy87-eventemitter":314}],32:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d,w){var a=(0,E.default)('<div class="modal fade" tabindex="-1" role="dialog">\n\t            <div class="modal-dialog">\n\t                <div class="modal-content">\n\t                    <div class="modal-header">\n\t                        <h5 class="modal-title">'.concat((0,b._)("Complete transform"),
'</h5>\n\t                        <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n\t                        </button>\n\t                    </div>\n\t                    <div class="modal-body">\n\t                        <p>\n\t\t\t\t\t\t\t').concat((0,b._)("You need to finish transforming this layer before you can do that. What would you like to do with the transform?"),'\n\t\t\t\t\t\t\t</p>\n\t                    </div>\n\t                    <div class="modal-footer">\n\t                        <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,b._)("Cancel"),
'</button>\n\t                        <button type="button" class="btn btn-light chickenpaint-reject-transform" data-bs-dismiss="modal">').concat((0,b._)("Undo transform"),'</button>\n\t                        <button type="button" class="btn btn-primary chickenpaint-accept-transform" data-bs-dismiss="modal">').concat((0,b._)("Apply transform"),"</button>\n\t                    </div>\n\t                </div>\n\t            </div>\n\t        </div>\n\t    ")),l=this,r=(0,E.default)(".chickenpaint-accept-transform",
a),q=(0,E.default)(".chickenpaint-reject-transform",a);r.on("click",function(c){w.actionPerformed({action:"CPTransformAccept"});l.emitEvent("accept")});q.on("click",function(c){w.actionPerformed({action:"CPTransformReject"});l.emitEvent("reject")});var h=new bootstrap.Modal(a[0]);this.show=function(){h.show()};d.addEventListener("keydown",function p(f){"Enter"===f.key&&(h.hide(),w.actionPerformed({action:"CPTransformAccept"}),l.emitEvent("accept"),d.removeEventListener("keydown",p))});d.appendChild(a[0])}
Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var u=y(g("wolfy87-eventemitter")),E=y(g("jquery")),b=g("../languages/lang.js");k.prototype=Object.create(u.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang.js":54,jquery:296,"wolfy87-eventemitter":314}],33:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.createCheckerboardPattern=function(y){for(var k=document.createElement("canvas"),u=k.getContext("2d"),E=u.createImageData(64,64),
b=E.data,d=0,w=0;64>w;w++)for(var a=0;64>a;a++)0!=(a&8)^0!=(w&8)?(b[d++]=255,b[d++]=255,b[d++]=255):(b[d++]=204,b[d++]=204,b[d++]=204),b[d++]=255;k.width=64;k.height=64;u.putImageData(E,0,0);return y.createPattern(k,"repeat")};D.setContrastingDrawStyle=function(y,k){k+="Style";y.globalCompositeOperation="exclusion";"exclusion"==y.globalCompositeOperation?y[k]="white":(y.globalCompositeOperation="difference",y[k]="#888","difference"!=y.globalCompositeOperation&&(y[k]="black"))}},{}],34:[function(g,
K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(u,E){var b=(0,y.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,k._)("Grid options"),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Grid size"),
'</label>\n                                    <input type="number" class="form-control chickenpaint-grid-size" value="" autofocus>\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,k._)("Cancel"),'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-grid-settings" data-bs-dismiss="modal">').concat((0,k._)("Ok"),
"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),d=(0,y.default)(".chickenpaint-grid-size",b),w=(0,y.default)(".chickenpaint-apply-grid-settings",b);this.show=function(){(new bootstrap.Modal(b[0])).show()};d.val(E.getGridSize());w.on("click",function(a){a=parseInt(d.val(),10);E.setGridSize(a);bootstrap.Modal.getInstance(b[0]).hide()});b.on("shown.bs.modal",function(){d.trigger("focus")});b.on("keydown",function(a){"Enter"===
a.key&&(a.preventDefault(),w.trigger("click"))});u.appendChild(b[0])};var y=function(u){return u&&u.__esModule?u:{default:u}}(g("jquery")),k=g("../languages/lang.js");K.exports=D.default},{"../languages/lang.js":54,jquery:296}],35:[function(g,K,D){function y(f){return f&&f.__esModule?f:{default:f}}function k(f){f.preventDefault();f.stopPropagation()}function u(f){var p=document.createElement("span");p.className="fa "+f;return p}function E(f){var p=document.createElement("span");p.className="chickenpaint-icon chickenpaint-icon-"+
f;return p}function b(f,p){var e=document.createElement("div"),n=document.createElement("label");e.className="form-check";f.className="form-check-input";n.className="form-check-label";n.setAttribute("for",f.id);n.appendChild(f);n.appendChild(document.createTextNode(p));e.appendChild(f);e.appendChild(n);return e}function d(f){function p(){var aa=C.getActiveLayer();aa={"image-layer":aa instanceof h.default,"layer-group":aa instanceof q.default,"clipping-mask":aa instanceof h.default&&aa.clip,"no-clipping-mask":aa instanceof
h.default&&!aa.clip,"no-clipping-mask-or-is-group":!(aa instanceof h.default)||!aa.clip,mask:aa&&null!==aa.mask,"no-mask":aa&&null===aa.mask,"mask-enabled":aa&&null!==aa.mask&&aa.maskVisible,"mask-disabled":aa&&null!==aa.mask&&!aa.maskVisible};for(var ha=0,ra=["clipping-mask","no-clipping-mask-or-is-group"];ha<ra.length;ha++){var ta=ra[ha];(0,w.default)(".chickenpaint-action-require-"+ta,Q).css("display",aa[ta]?"inline-block":"none")}(0,w.default)("[data-action]",Q).each(function(){var xa=this.getAttribute("data-action");
(0,w.default)(this).toggleClass("disabled",!f.isActionAllowed(xa))})}function e(){var aa=C.getActiveLayer();aa.getAlpha()!=G.value&&G.setValue(aa.getAlpha());for(var ha=C.getActiveLayer();H.lastChild;)H.removeChild(H.lastChild);for(var ra=l.default.LM_FIRST;ra<=l.default.LM_LAST;ra++)if(ra!=l.default.LM_MULTIPLY2&&(ra==ha.blendMode||ra===l.default.LM_PASSTHROUGH&&ha instanceof q.default||ra<=l.default.LM_LAST_CHIBIPAINT)){var ta=document.createElement("option");ta.appendChild(document.createTextNode((0,c._)(l.default.BLEND_MODE_DISPLAY_NAMES[ra])));
ta.value=ra!==l.default.LM_MULTIPLY||ha.blendMode===ra||ha.useLegacyMultiply?ra:l.default.LM_MULTIPLY2;H.appendChild(ta)}aa.getBlendMode()!=parseInt(H.value,10)&&(H.value=aa.getBlendMode());aa.getLockAlpha()!=R.checked&&(R.checked=aa.getLockAlpha());p()}function n(){C=this;z.resize();e()}var v=this;a.default.call(this,f,"layers","Layers",{resizeHorz:!0,resizeVert:!0});var A=this,C=f.getArtwork(),B=null,I=this.getBodyElement(),O=this.getElement(),z=new function(){function aa(ma){"button"in ma&&0!==
ma.button||(xb(),(0,w.default)(this).off("click",aa))}function ha(ma){var Aa=(0,w.default)(".chickenpaint-layer",ua);return Aa.get(Aa.length-1-ma)}function ra(ma){ma=(0,w.default)(ma).closest(".chickenpaint-layer");if(ma.length){var Aa=(0,w.default)(".chickenpaint-layer",ua);return Aa.length-1-Aa.index(ma)}return-1}function ta(ma,Aa){var Fa=(0,w.default)(".chickenpaint-layer",ua);ma={layer:B[B.length-1],displayIndex:B.length-1,direction:"over"};for(var Na=0;Na<Fa.length;Na++){var ib=Fa[Fa.length-
1-Na].getBoundingClientRect();if(0===Na&&Aa>ib.bottom){ma=C.getLayersRoot().layers[0];ma={layer:ma,displayIndex:B.indexOf(ma),direction:"under"};break}else if(Aa>=ib.top){Fa=B[Na];var mb=ib.bottom-ib.top;ma={layer:Fa,displayIndex:Na};Fa instanceof q.default?Aa>=ib.top+.75*mb?Fa.expanded&&0<Fa.layers.length?(ma.layer=Fa.layers[Fa.layers.length-1],ma.displayIndex--,ma.direction="over"):ma.direction="under":Aa>=ib.top+.25*mb?Fa.expanded&&0<Fa.layers.length?(ma.layer=Fa.layers[Fa.layers.length-1],ma.displayIndex--,
ma.direction="over"):ma.direction="inside":ma.direction="over":ma.direction=Aa>=ib.top+.5*mb?"under":"over";break}}return ma.layer.parent==Va.layer.parent&&("over"==ma.direction||"under"==ma.direction)&&(Aa=ma.layer.parent,Na=Aa.indexOf(ma.layer),"over"==ma.direction&&Aa.layers[Na+1]==Va.layer||"under"==ma.direction&&Aa.layers[Na-1]==Va.layer||ma.layer==Va.layer)?null:Va.layer instanceof q.default&&(ma.layer==Va.layer&&"inside"==ma.direction||ma.layer.hasAncestor(Va.layer))?null:ma}function xa(){if(2===
Va.state){var ma=O.getBoundingClientRect(),Aa=!0,Fa=!0;Va.dropTarget=ta(Va.dragX,Va.dragY);if(Va.dropTarget){var Na=ha(Va.dropTarget.displayIndex);switch(Va.dropTarget.direction){case "over":case "under":ua.appendChild(Va.dropBetweenMarkerElem);Aa=Va.dropTarget.layer.getDepth()-1;var ib;Na=Na.getBoundingClientRect();if("under"==Va.dropTarget.direction&&Va.dropTarget.layer instanceof q.default&&Va.dropTarget.layer.expanded){for(ib=Va.dropTarget.displayIndex-1;0<=ib&&B[ib].hasAncestor(Va.dropTarget.layer);ib--);
ib=ha(ib+1).getBoundingClientRect().bottom}else ib=Na.bottom;Aa=Na.left-ma.left+(0<Aa?26+16*Aa:0);Va.dropBetweenMarkerElem.style.left=Aa+"px";Va.dropBetweenMarkerElem.style.width=Na.right-ma.left-Aa+"px";Va.dropBetweenMarkerElem.style.top=("over"==Va.dropTarget.direction?Na.top-1:ib+1)-ma.top+"px";(0,w.default)(".chickenpaint-layer-drop-target",ua).removeClass("chickenpaint-layer-drop-target");Aa=!1;break;case "inside":var mb=(0,w.default)(".chickenpaint-layer",ua);mb.each(function(zb){(0,w.default)(this).toggleClass("chickenpaint-layer-drop-target",
mb.length-1-zb==Va.dropTarget.displayIndex)});Fa=!1}}Fa&&(0,w.default)(".chickenpaint-layer-drop-target",ua).removeClass("chickenpaint-layer-drop-target");Aa&&(0,w.default)(Va.dropBetweenMarkerElem).remove();Va.frameElem.style.top=Va.dragY-ma.top-parseInt(Va.frameElem.style.height,10)/2+"px"}else(0,w.default)(Va.dropBetweenMarkerElem).remove(),(0,w.default)(Va.frameElem).remove()}function na(ma){var Aa=ma.getImageThumbnail().getAsCanvas(db);Aa.title=(0,c._)("Image");Aa.className="chickenpaint-layer-thumbnail chickenpaint-layer-image-thumbnail";
Aa.style.maxWidth=Aa.width/Aa.height*25+"px";ma!=C.getActiveLayer()||C.isEditingMask()||(Aa.className+=" active");return Aa}function Ma(ma){var Aa=ma.getMaskThumbnail().getAsCanvas(db);Aa.title=(0,c._)("Layer mask");Aa.className="chickenpaint-layer-thumbnail chickenpaint-layer-mask-thumbnail";Aa.style.maxWidth=Aa.width/Aa.height*25+"px";ma==C.getActiveLayer()&&C.isEditingMask()&&(Aa.className+=" active");ma.maskVisible||(Aa.className+=" disabled",ma=Aa.getContext("2d"),ma.strokeStyle="red",ma.lineWidth=
3,ma.moveTo(5,5),ma.lineTo(Aa.width-5,Aa.height-5),ma.moveTo(Aa.width-5,5),ma.lineTo(5,Aa.height-5),ma.stroke());return Aa}function jb(ma,Aa){var Fa=document.createElement("div"),Na=document.createElement("div"),ib=document.createElement("div"),mb=document.createElement("div"),zb=document.createElement("div"),Qa=document.createElement("div"),Sa=document.createElement("div");Fa.className="chickenpaint-layer list-group-item";Aa==C.getActiveLayer()&&(Fa.className+=" active");Na.className="chickenpaint-layer-eye";
Aa.ancestorsAreVisible()||(Na.className+=" chickenpaint-layer-eye-hidden-ancestors");Na.style.marginRight=2+16*(Aa.getDepth()-1)+"px";Aa.visible?(Fa.className+=" chickenpaint-layer-visible",Na.appendChild(u("fa-eye"))):(Fa.className+=" chickenpaint-layer-hidden",Na.appendChild(u("fa-eye-slash")));Fa.appendChild(Na);ib.className="chickenpaint-layer-description";Aa instanceof h.default?(Aa.clip&&(Fa.className+=" chickenpaint-layer-clipped",mb.appendChild(u("fa-level-down-alt fa-flip-horizontal"))),
Aa.lockAlpha&&(Na=E("lock-alpha"),Na.title=(0,c._)("Transparency locked"),Qa.appendChild(Na))):Aa instanceof q.default&&(Fa.className+=" chickenpaint-layer-group",Aa.expanded?(Fa.className+=" chickenpaint-layer-group-expanded",mb.appendChild(u("fa-folder-open chickenpaint-layer-group-toggle"))):(Fa.className+=" chickenpaint-layer-group-collapsed",mb.appendChild(u("fa-folder chickenpaint-layer-group-toggle"))));mb.childNodes.length&&(mb.className="chickenpaint-layer-icons",Fa.appendChild(mb));try{Aa instanceof
h.default&&Fa.appendChild(na(Aa)),Aa.mask&&Fa.appendChild(Ma(Aa))}catch(Ja){console.log("Failed to create layer thumb")}mb=Aa.name&&0<Aa.name.length?Aa.name:"(unnamed "+(Aa instanceof q.default?"group":"layer")+")";zb.innerText=mb;zb.setAttribute("title",mb);zb.className="chickenpaint-layer-name";Sa.innerText=(0,c._)(l.default.BLEND_MODE_DISPLAY_NAMES[Aa.blendMode])+": "+Aa.alpha+"%";Sa.className="chickenpaint-layer-blend";ib.appendChild(zb);ib.appendChild(Sa);Fa.appendChild(ib);Qa.className="chickenpaint-layer-status";
Fa.appendChild(Qa);Fa.setAttribute("data-display-index",""+ma);Fa.setAttribute("data-toggle","dropdown");Fa.setAttribute("data-target","#chickenpaint-layer-pop");return Fa}function ab(ma){if(-1<ma){var Aa=B[ma];ma=ha(ma);Aa&&ma&&N.show(Aa,ma)}}function T(ma){-1!=ra(ma.target)&&(ab(ra(ma.target)),ma.preventDefault())}function Z(ma){switch(Va.state){case 2:(0,w.default)(Va.layerElem).removeClass("chickenpaint-layer-dragging");Va.dropTarget&&("inside"==Va.dropTarget.direction?f.actionPerformed({action:"CPRelocateLayer",
layer:Va.layer,toGroup:Va.dropTarget.layer,toIndex:Va.dropTarget.layer.layers.length}):f.actionPerformed({action:"CPRelocateLayer",layer:Va.layer,toGroup:Va.dropTarget.layer.parent,toIndex:Va.dropTarget.layer.parent.indexOf(Va.dropTarget.layer)+("over"==Va.dropTarget.direction?1:0)}));Va.dropTarget=null;Va.state=0;xa();break;default:Va.state=0}rb&&(clearTimeout(rb),rb=null);ua.releasePointerCapture(ma.pointerId);ua.removeEventListener("pointermove",Ca);ua.removeEventListener("pointerup",Z)}function pa(){Va.state=
2;Va.frameElem=document.createElement("div");Va.frameElem.className="chickenpaint-layer-drag-frame";Va.frameElem.style.width=(0,w.default)(Va.layerElem).outerWidth(!1)+"px";Va.frameElem.style.height=(0,w.default)(Va.layerElem).outerHeight(!1)+"px";Va.dropBetweenMarkerElem=document.createElement("div");Va.dropBetweenMarkerElem.className="chickenpaint-layer-drop-between-mark";Va.layerElem.className+=" chickenpaint-layer-dragging";ua.appendChild(Va.frameElem)}function Ca(ma){ma=ma.clientY;switch(Va.state){case 3:if(5<
Math.abs(ma-Va.dragY))Va.state=4;else break;case 4:Ga.scrollTop=Va.initialScrollTop+Va.dragY-ma;break;case 1:if(5<Math.abs(ma-Va.dragY))pa();else break;case 2:Va.dragY=ma,xa()}}function Ra(ma,Aa,Fa){try{Fa?(0,w.default)(".chickenpaint-layer-mask-thumbnail",ma).replaceWith(Ma(Aa)):(0,w.default)(".chickenpaint-layer-image-thumbnail",ma).replaceWith(na(Aa))}catch(Na){}}function xb(){(0,w.default)(O).hasClass("show")&&((new bootstrap.Collapse(O)).hide(),(0,w.default)(O).collapse("hide").off("click"))}
var Va={state:0,layer:null,layerElem:null,dragX:0,dragY:0,initialScrollTop:0,dropTarget:null,dropBetweenMarkerElem:null,frameElem:null},Da=document.createElement("div"),ua=document.createElement("div"),Ga=ua,Ia=function(){var ma=document.createElement("div");ma.className="dropdown-menu";for(var Aa=0,Fa=[{title:"Rename...",action:"CPRenameLayer"},{require:["image-layer"],title:"Delete layer",action:"CPRemoveLayer"},{require:["layer-group"],title:"Delete group",action:"CPRemoveLayer"},{require:["image-layer",
"no-clipping-mask"],title:"Clip to the layer below",action:"CPCreateClippingMask"},{require:["image-layer","clipping-mask"],title:"Unclip from the layer below",action:"CPReleaseClippingMask"},{require:["no-mask"],title:"Add mask",action:"CPAddLayerMask"},{require:["mask"],title:"Delete mask",action:"CPRemoveLayerMask"},{require:["mask"],title:"Apply mask",action:"CPApplyLayerMask"},{require:["layer-group"],title:"Merge group",action:"CPGroupMerge"},{require:["mask-enabled"],title:"Disable mask",action:"CPSetMaskVisible",
actionData:{visible:"false"}},{require:["mask-disabled"],title:"Enable mask",action:"CPSetMaskVisible",actionData:{visible:"true"}}];Aa<Fa.length;Aa++){var Na=Fa[Aa],ib=document.createElement("a");ib.className="dropdown-item";Na.require&&(ib.className=ib.className+" "+Na.require.map(function(zb){return"chickenpaint-action-require-"+zb}).join(" "));ib.href="#";ib.innerHTML=(0,c._)(Na.title);ib.setAttribute("data-action",Na.action);if(Na.actionData)for(var mb in Na.actionData)Na.actionData.hasOwnProperty(mb)&&
ib.setAttribute("data-action-"+mb,Na.actionData[mb]);ma.appendChild(ib)}return ma}(),db=0,ub=!1,rb=null;this.buildLayers=function(){B=C.getLayersRoot().getLinearizedLayerList(!0);var ma=B.map(function(Na,ib){return jb(ib,Na)}),Aa=document.createDocumentFragment();(0,w.default)(ua).empty();for(var Fa=ma.length-1;0<=Fa;Fa--)Aa.appendChild(ma[Fa]);ua.appendChild(Aa);xa()};this.layerChanged=function(ma){var Aa=B.indexOf(ma),Fa=(0,w.default)(ha(Aa));0===Fa.length||ma instanceof q.default&&(ma.expanded!=
(0,w.default)(Fa).hasClass("chickenpaint-layer-group-expanded")||ma.visible!=(0,w.default)(Fa).hasClass("chickenpaint-layer-visible"))?this.buildLayers():Fa.replaceWith(jb(Aa,ma))};this.setRotation90=function(ma){if(db!=ma)for(db=ma,ma=0;ma<B.length;ma++){var Aa=B[ma],Fa=(0,w.default)(ha(ma));0<Fa.length&&(Ra(Fa,Aa,!1),Aa.mask&&Ra(Fa,Aa,!0))}};this.layerImageThumbChanged=function(ma){var Aa=B.indexOf(ma);Aa=(0,w.default)(ha(Aa));0<Aa.length&&Ra(Aa,ma,!1)};this.layerMaskThumbChanged=function(ma){var Aa=
B.indexOf(ma);Aa=(0,w.default)(ha(Aa));0<Aa.length&&(ma.mask?Ra(Aa,ma,!0):(0,w.default)(".chickenpaint-layer-mask-thumbnail",Aa).remove())};this.activeLayerChanged=function(ma,Aa){(0,w.default)(".active",ua).removeClass("active");ma=(0,w.default)(ha(B.indexOf(ma)));ma.addClass("active");(0,w.default)(".chickenpaint-layer-image-thumbnail",ma).toggleClass("active",!Aa);(0,w.default)(".chickenpaint-layer-mask-thumbnail",ma).toggleClass("active",Aa)};this.resize=function(){A.dismissNotification();this.buildLayers()};
this.getElement=function(){return Da};this.revealLayer=function(ma){ma=ha(ma);var Aa=ma.getBoundingClientRect(),Fa=ua.getBoundingClientRect();Ga.scrollTop=Math.max(Math.min(Math.max(Ga.scrollTop,Ga.scrollTop+Aa.bottom-Fa.bottom),Ga.scrollTop+Aa.top-Fa.top),0);return ma};O.id="chickenpaint-layer-pop";Da.className="chickenpaint-layers-widget well";Da.addEventListener("contextmenu",function(ma){return ma.preventDefault()},!0);Ia.addEventListener("click",function(ma){var Aa=ma.target.getAttribute("data-action");
if(Aa){ma.preventDefault();xb();f.actionPerformed({action:"CPSetActiveLayer",layer:null,mask:C.isEditingMask()});var Fa={action:Aa,layer:null};ma=ma.target.attributes;for(var Na=0;Na<ma.length;Na++){var ib=ma[Na].name.match(/^data-action-(.+)/);ib&&(Fa[ib[1]]=JSON.parse(ma[Na].value))}"CPRenameLayer"===Aa?ab(B.indexOf(null)):f.actionPerformed(Fa)}});ua.className="list-group";ua.addEventListener("dblclick",function(ma){0===ma.button&&0<(0,w.default)(ma.target).closest(".chickenpaint-layer-description").length&&
0===(0,w.default)(ma.target).closest("input").length&&(ab(ra(ma.target)),ma.preventDefault())});ua.addEventListener("pointerdown",function(ma){var Aa=(0,w.default)(ma.target).closest(".chickenpaint-layer")[0];Aa=ra(Aa);if(-1!=Aa){var Fa=B[Aa];if(0==ma.button&&(0,w.default)(ma.target).closest(".chickenpaint-layer-eye").length)f.actionPerformed({action:"CPSetLayerVisibility",layer:Fa,visible:!Fa.visible});else if(0==ma.button&&Fa instanceof q.default&&(0,w.default)(ma.target).closest(".chickenpaint-layer-group-toggle").length)f.actionPerformed({action:"CPExpandLayerGroup",
group:Fa,expand:!Fa.expanded});else{var Na=C.getActiveLayer()!=Fa;ub=0<(0,w.default)(ma.target).closest(".chickenpaint-layer-mask-thumbnail").length||Fa instanceof q.default&&null!==Fa.mask&&Na;if(0==ma.button&&ma.shiftKey&&ub)f.actionPerformed({action:"CPSetMaskVisible",layer:Fa,visible:!Fa.maskVisible});else{var ib=0==ma.button||Na?ub:C.isEditingMask();var mb=C.isEditingMask()!=ib;(Na||mb)&&f.actionPerformed({action:"CPSetActiveLayer",layer:Fa,mask:ib});ib&&ma.altKey?f.actionPerformed({action:"CPToggleMaskView"}):
0==ma.button?("pen"===ma.pointerType||"touch"===ma.pointerType?(Va.state=3,Va.initialScrollTop=Ga.scrollTop,rb&&clearTimeout(rb),rb=setTimeout(function(){3===Va.state&&(pa(),Va.dragY=ma.clientY,xa())},800)):Va.state=1,Va.dropTarget=null,Va.layer=Fa,Va.layerElem=ha(Aa),Va.dragX=ma.clientX,Va.dragY=ma.clientY,ua.setPointerCapture(ma.pointerId),ua.addEventListener("pointermove",Ca),ua.addEventListener("pointerup",Z)):2!=ma.button||Na||(ma.preventDefault(),T(ma))}}}});ua.setAttribute("touch-action","none");
for(var Pa=0,sa=["ontouchstart","ontouchmove","ontouchend","ontouchcancel"];Pa<sa.length;Pa++)ua.addEventListener(sa[Pa],k);Da.appendChild(ua);Da.appendChild(Ia);(0,w.default)(O).on("show.bs.dropdown",function(ma){var Aa=(0,w.default)(ma.relatedTarget)[0];ma=(0,w.default)(O).find(".dropdown-menu");Aa=Aa.getBoundingClientRect();var Fa=O.getBoundingClientRect();ma.css({left:0-ma.outerWidth(!0)-Fa.left+1+"px",top:Aa.top-ma.outerHeight(!0)/2-Fa.top+"px"});(0,w.default)(document).on("click",aa)})},G=new r.default(0,
100),H=document.createElement("select"),N=new function(){var aa=null,ha="",ra=document.createElement("input"),ta=this;this.hide=function(){aa=null;var xa=(0,w.default)(ra).parent();xa&&((0,w.default)(ra).remove(),xa.text(ha))};this.renameAndHide=function(){aa&&aa.name!=ra.value&&f.actionPerformed({action:"CPSetLayerName",layer:aa,name:ra.value});this.hide()};this.show=function(xa,na){aa=xa;ha=aa.name;ra.value=ha;(xa=na.querySelector(".chickenpaint-layer-name"))&&xa.parentNode&&(na=xa.firstChild)&&
na.nodeType===Node.TEXT_NODE&&(xa.removeChild(na),xa.appendChild(ra));ra.select()};ra.type="text";ra.className="chickenpaint-layer-rename form-control input-sm";ra.addEventListener("keydown",function(xa){xa.stopPropagation()});ra.addEventListener("keydown",function(xa){"Enter"===xa.key&&ta.renameAndHide();xa.stopPropagation()});ra.addEventListener("keyup",function(xa){"Escape"===xa.key&&ta.hide();xa.stopPropagation()});ra.addEventListener("blur",function(xa){aa&&ta.renameAndHide()})},J=document.createElement("input"),
R=document.createElement("input"),fa=!1,Y=this.setSize,qa=this.setWidth,ka=this.setHeight;this.setSize=function(aa,ha){Y.call(this,aa,ha);this.dismissNotification();G.resize()};this.setWidth=function(aa){qa.call(this,aa);G.resize();z.resize()};this.setHeight=function(aa){ka.call(this,aa);z.resize()};this.setRotation90=function(aa){z.setRotation90(aa)};this.dismissNotification=function(){(0,w.default)(".chickenpaint-layer[aria-describedby],.chickenpaint-slider[aria-describedby]",I).each(function(aa,
ha){ha=(0,w.default)(ha);(aa=bootstrap.Popover.getInstance(ha[0]))&&aa.dispose()});fa&&(clearTimeout(fa),fa=!1)};this.showNotification=function(aa,ha,ra){var ta=B.indexOf(aa);aa=C.getActiveLayer()==aa&&"opacity"==ra?G.getElement():z.revealLayer(ta);v.dismissNotification();(new bootstrap.Popover(aa,{html:!1,content:ha,placement:"left",trigger:"manual",fallbackPlacement:[],boundary:"window",container:A.getElement()})).show();fa=setTimeout(function(){fa=!1;v.dismissNotification()},Math.max(Math.round(70*
ha.length),3E3))};H.className="form-control form-control-sm";H.title=(0,c._)("Layer blending mode");H.addEventListener("change",function(aa){f.actionPerformed({action:"CPSetLayerBlendMode",blendMode:parseInt(H.value,10)})});I.appendChild(H);G.title=function(aa){return(0,c._)("Opacity")+": "+aa+"%"};G.on("valueChange",function(aa){f.actionPerformed({action:"CPSetLayerAlpha",alpha:aa})});I.appendChild(G.getElement());J.id="chickenpaint-chk-sample-all-layers";J.type="checkbox";J.addEventListener("click",
function(aa){C.setSampleAllLayers(J.checked)});I.appendChild(b(J,(0,c._)("Sample all layers")));R.id="chickenpaint-chk-lock-alpha";R.type="checkbox";R.addEventListener("click",function(aa){f.actionPerformed({action:"CPSetLayerLockAlpha",lock:R.checked})});I.appendChild(b(R,(0,c._)("Lock transparency")));I.appendChild(z.getElement());var Q=function(){var aa=[{title:"Add layer",icon:u("fa-file"),action:"CPAddLayer"},{title:"Merge down",icon:u("fa-arrow-down"),action:"CPLayerMergeDown"},{title:"Add group",
icon:u("fa-folder"),action:"CPAddGroup"},{title:"Add layer mask",icon:E("mask"),action:"CPAddLayerMask"},{title:"Clip to the layer below",icon:u("fa-level-down-alt fa-flip-horizontal"),action:"CPCreateClippingMask",require:"no-clipping-mask-or-is-group"},{title:"Unclip from the layer below",icon:u("fa-level-down-alt fa-flip-horizontal"),action:"CPReleaseClippingMask",require:"clipping-mask"},{title:"Delete layer",icon:u("fa-trash"),action:"CPRemoveLayer"}],ha=document.createElement("ul");ha.className=
"chickenpaint-layer-buttons list-unstyled";for(var ra=function(){var na=xa[ta],Ma=document.createElement("li");Ma.setAttribute("data-action",na.action);Ma.className="chickenpaint-small-toolbar-button "+(na.require?"chickenpaint-action-require-"+na.require:"");Ma.title=(0,c._)(na.title);Ma.appendChild(na.icon);Ma.addEventListener("click",function(){f.actionPerformed({action:na.action})});ha.appendChild(Ma)},ta=0,xa=aa;ta<xa.length;ta++)ra();return ha}();I.appendChild(Q);C.on("changeActiveLayer",function(aa,
ha,ra){z.activeLayerChanged(ha,ra);e()});C.on("changeLayer",function(aa){C=this;A.dismissNotification();z.layerChanged(aa);e()});C.on("changeStructure",n);C.on("changeLayerMaskThumb",function(aa){C=this;z.layerMaskThumbChanged(aa)});C.on("changeLayerImageThumb",function(aa){C=this;z.layerImageThumbChanged(aa)});f.on("layerNotification",this.showNotification.bind(this));n.call(C)}Object.defineProperty(D,"__esModule",{value:!0});D.default=d;var w=y(g("jquery")),a=y(g("./CPPalette.js")),l=y(g("../engine/CPBlend.js")),
r=y(g("./CPSlider.js")),q=y(g("../engine/CPLayerGroup.js"));y(g("../engine/CPLayer.js"));var h=y(g("../engine/CPImageLayer.js")),c=g("../languages/lang.js");d.prototype=Object.create(a.default.prototype);d.prototype.constructor=d;K.exports=D.default},{"../engine/CPBlend.js":5,"../engine/CPImageLayer.js":15,"../engine/CPLayer.js":16,"../engine/CPLayerGroup.js":17,"../languages/lang.js":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296}],36:[function(g,K,D){function y(w){return w&&w.__esModule?w:
{default:w}}function k(w,a){var l=this,r=document.createElement("div"),q=new E.default(w),h=new b.default(w),c=!1,f=this;this.togglePalettes=function(){h.togglePalettes()};this.arrangePalettes=function(){setTimeout(h.arrangePalettes.bind(h),0)};this.constrainPalettes=function(){h.constrainPalettes()};this.showPalette=function(e,n){h.showPaletteByName(e,n)};this.getSwatches=function(){return h.palettes.swatches.getSwatches()};this.setSwatches=function(e){h.palettes.swatches.setSwatches(e)};this.getPaletteManager=
function(){return h};this.setRotation90=function(e){q.setRotation(e*Math.PI/2);h.palettes.layers.setRotation90(e)};this.setFullScreenMode=function(e){c!==e&&(c=e,f.resize(),f.arrangePalettes())};this.resize=function(){var e=(0,u.default)(window).height(),n=(0,u.default)(p.getElement()).outerHeight();q.resize(c?e-n:Math.min(Math.max(e-n-65,500),850),!1);f.constrainPalettes()};var p=new d.default(w,this);a.appendChild(p.getElement());r.className="chickenpaint-main-section";r.appendChild(q.getElement());
r.appendChild(h.getElement());a.appendChild(r);q.on("canvasRotated90",function(e){h.palettes.layers.setRotation90(e)});window.addEventListener("resize",this.resize.bind(this));w.on("fullScreen",function(e){return l.setFullScreenMode(e)});w.on("toolbarStyleChange",function(e){(0,u.default)(a).toggleClass("chickenpaint-toolbar-style-old","old"===e)});w.on("unsavedChanges",function(e){(0,u.default)(a).toggleClass("chickenpaint-unsaved",e)});setTimeout(this.resize.bind(this),0)}Object.defineProperty(D,
"__esModule",{value:!0});D.default=k;var u=y(g("jquery")),E=y(g("./CPCanvas.js")),b=y(g("./CPPaletteManager.js")),d=y(g("./CPMainMenu.js"));g=y(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"./CPCanvas.js":26,"./CPMainMenu.js":37,"./CPPaletteManager.js":40,jquery:296,"wolfy87-eventemitter":314}],37:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(D,"__esModule",{value:!0});D.default=
function(d,w){function a(p){var e=p.data("action"),n=p.data("checkbox");d.isActionAllowed(e)&&(n?(p.toggleClass("selected"),p=p.hasClass("selected")):p=!1,d.actionPerformed({action:e,checkbox:n,selected:p}))}function l(p){p=p.toUpperCase();p=p.replace(/(,.+)$/,"");p=p.replace("ctrl+=","ctrl++");p=p.replace("\u2318+=","\u2318++");return p=h?p.replace(/([^+])\+/g,"$1"):p.replace(/([^+])\+/g,"$1 ")}function r(p){(0,k.default)("[data-action]",p).each(function(){var A=(0,k.default)(this),C=this.getAttribute("data-action");
C=d.isActionAllowed(C);A.toggleClass("disabled",!C).toggleClass("hidden",!C&&!0===A.data("hideIfNotAvailable"))});(0,k.default)(".dropdown-divider",p).removeClass("hidden");p=(0,k.default)(".dropdown-item:not(.hidden),.dropdown-divider:not(.hidden)",p);for(var e=null,n=0;n<p.length;n++){var v=(0,k.default)(p[n]);v.hasClass("dropdown-divider")?0===n||e?v.addClass("hidden"):e=v:e=null}e&&e.addClass("hidden")}var q=(0,k.default)('<nav class="navbar navbar-expand-md navbar-light bg-light"><a class="navbar-brand" href="#">ChickenPaint</a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#chickenpaint-main-menu-content" aria-controls="chickenpaint-main-menu-content" aria-expanded="false" aria-label="Toggle main menu"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="chickenpaint-main-menu-content"><ul class="navbar-nav mr-auto"></ul></div><div class="widget-nav" id="chickenpaint-palette-toggler-content"></div></nav>'),
h=/^Mac/i.test(navigator.platform);this.getElement=function(){return q[0]};(function(p,e){p.append(e.map(function(n){var v=(0,k.default)('<li class="nav-item dropdown"><a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">'+(0,E._)(n.name)+'</a><div class="dropdown-menu"></div></li>'),A=(0,k.default)(".dropdown-toggle",v),C=(0,k.default)(".dropdown-menu",v),B=new bootstrap.Dropdown(A[0]);v.on("show.bs.dropdown",function(){r(v);
(0,k.default)(document).one("click",function(){C.hasClass("show")&&B.hide()})});C.append(n.children.map(function(I){if(!I.action||d.isActionSupported(I.action)){"CPSend"!=I.action||d.isActionSupported("CPContinue")||(I.name=(0,E._)("Post Oekaki"),I.shortcut="ctrl+p");if("-"==I.name)var O=(0,k.default)('<hr class="dropdown-divider"></hr>');else O=(0,k.default)('<a class="dropdown-item" href="#" data-action="'+I.action+'"><span>'+(0,E._)(I.name)+"</span></a>"),I.checkbox&&O.data("checkbox",!0).toggleClass("selected",
!!I.checked),I.hideIfNotAvailable&&O.data("hideIfNotAvailable",!0);I.title&&O.attr("title",(0,E._)(I.title));if(I.shortcut){var z=O,G=document.createElement("small");h&&(I.shortcut=I.shortcut.replace(/SHIFT/im,"\u21e7"),I.shortcut=I.shortcut.replace(/ALT/im,"\u2325"),I.shortcut=I.shortcut.replace(/CTRL/im,"\u2318"));G.className="chickenpaint-shortcut";G.innerHTML=l(I.shortcut);z.append(G);(0,u.default)(I.shortcut,function(H){a(z);H.preventDefault();H.stopPropagation();return!1})}return O}}));return v}))})((0,k.default)(".navbar-nav",
q),b);(function(p,e){p.append(e.filter(function(n){return!!n.mnemonic&&d.isActionSupported(n.action)}).map(function(n){var v=(0,k.default)('<button class="widget-toggler selected" type="button" data-action="'.concat(n.action,'" data-checkbox="true" data-selected="').concat(!n.checked,'">')+"<span>"+n.mnemonic+"</span></button>");v.on("click",function(A){a(v);A.preventDefault()});return v}))})((0,k.default)(".widget-nav",q),b[5].children);(0,k.default)(q).on("click","a:not(.dropdown-toggle)",function(p){a((0,k.default)(this));
p.preventDefault()});(0,k.default)(".navbar-toggler",q).on("click",function(p){p.preventDefault()});w.getPaletteManager().on("paletteVisChange",function(p,e){(0,k.default)('[data-action="CPPal'+p.substring(0,1).toUpperCase()+p.substring(1)+'"]',q).toggleClass("selected",e)});var c=(0,k.default)(".dropdown-item[data-action=CPFullScreen]",q),f=(0,k.default)(".dropdown-item[data-action=CPToolbarStyle]",q);d.on("fullScreen",function(p){return c.toggleClass("selected",p)});c.toggleClass("selected",d.isFullScreen());
d.on("toolbarStyleChange",function(p){return f.toggleClass("selected","old"===p)});f.toggleClass("selected","old"===d.getToolbarStyle())};var k=y(g("jquery")),u=y(g("../../lib/keymaster.js")),E=g("../languages/lang.js"),b=[{name:"File",mnemonic:"F",children:[{name:"Save to my computer",action:"CPSave",mnemonic:"S",shortcut:"ctrl+s"},{name:"Save Oekaki",action:"CPSend",mnemonic:"S",shortcut:"ctrl+s"}]},{name:"Edit",mnemonic:"E",children:[{name:"Undo",action:"CPUndo",mnemonic:"U",shortcut:"ctrl+z",
title:"Undoes the most recent action"},{name:"Redo",action:"CPRedo",mnemonic:"R",shortcut:"shift+ctrl+z",title:"Redoes a previously undone action"},{name:"Clear history",action:"CPClearHistory",mnemonic:"H",title:"Removes all undo/redo information to regain memory"},{name:"-"},{name:"Cut",action:"CPCut",mnemonic:"T",shortcut:"ctrl+x"},{name:"Copy",action:"CPCopy",mnemonic:"C",shortcut:"ctrl+c"},{name:"Copy merged",action:"CPCopyMerged",mnemonic:"Y",shortcut:"shift+ctrl+c"},{name:"Paste",action:"CPPaste",
mnemonic:"P",shortcut:"ctrl+v"},{name:"-"},{name:"Select all",action:"CPSelectAll",mnemonic:"A",shortcut:"ctrl+a"},{name:"Deselect",action:"CPDeselectAll",mnemonic:"D",shortcut:"ctrl+d"},{name:"-"},{name:"Transform",action:"CPTransform",mnemonic:"T",shortcut:"ctrl+y"}]},{name:"Layers",mnemonic:"L",children:[{name:"Duplicate",action:"CPLayerDuplicate",mnemonic:"D",shortcut:"shift+ctrl+d",title:"Creates a copy of the currently selected layer"},{name:"-"},{name:"Merge down",action:"CPLayerMergeDown",
mnemonic:"E",shortcut:"ctrl+e",title:"Merges the currently selected layer with the one directly below it"},{name:"Merge group",action:"CPGroupMerge",mnemonic:"G",shortcut:"shift+ctrl+g",title:"Merges the contents of the selected group"},{name:"Merge all layers",action:"CPLayerMergeAll",shortcut:"shift+ctrl+e",mnemonic:"A",title:"Merges all the layers"},{name:"-"},{hideIfNotAvailable:!0,name:"Add layer mask",action:"CPAddLayerMask"},{hideIfNotAvailable:!0,name:"Delete layer mask",action:"CPRemoveLayerMask"},
{hideIfNotAvailable:!0,name:"Apply layer mask",action:"CPApplyLayerMask",shortcut:"ctrl+m"},{name:"-"},{hideIfNotAvailable:!0,name:"Clip to the layer below",action:"CPCreateClippingMask"},{hideIfNotAvailable:!0,name:"Unclip from the layer below",action:"CPReleaseClippingMask"}]},{name:"Effects",mnemonic:"E",children:[{name:"Clear",action:"CPClear",mnemonic:"D",shortcut:"del,backspace",title:"Clears the selected area"},{name:"Fill",action:"CPFill",mnemonic:"F",shortcut:"ctrl+f",title:"Fills the selected area with the current color"},
{name:"Flip horizontal",action:"CPHFlip",mnemonic:"H",shortcut:"h",title:"Flips the current selected area horizontally"},{name:"Flip vertical",action:"CPVFlip",mnemonic:"V",title:"Flips the current selected area vertically"},{name:"Invert",action:"CPFXInvert",mnemonic:"I",title:"Invert the image colors"},{name:"-"},{name:"Box blur...",action:"CPFXBoxBlur",mnemonic:"B",title:"Blur effect"},{name:"-"},{name:"Monochromatic noise",action:"CPMNoise",mnemonic:"M",title:"Fills the selection with noise"},
{name:"Color noise",action:"CPCNoise",mnemonic:"C",title:"Fills the selection with colored noise"}]},{name:"View",mnemonic:"V",children:[{name:"Full-screen mode",action:"CPFullScreen",mnemonic:"F",checkbox:!0,checked:!1},{name:"Zoom in",action:"CPZoomIn",mnemonic:"I",shortcut:"ctrl+=",title:"Zooms in"},{name:"Zoom out",action:"CPZoomOut",mnemonic:"O",shortcut:"ctrl+-",title:"Zooms out"},{name:"Zoom 100%",action:"CPZoom100",mnemonic:"1",shortcut:"ctrl+0",title:"Resets the zoom factor to 100%"},{action:"CPLinearInterpolation",
name:"-"},{name:"Smooth-out zoomed canvas",action:"CPLinearInterpolation",mnemonic:"L",title:"Linear interpolation is used to give a smoothed looked to the picture when zoomed in",checkbox:!0},{name:"-"},{name:"Show grid",action:"CPToggleGrid",mnemonic:"G",shortcut:"ctrl+g",title:"Displays a grid over the image",checkbox:!0,checked:!1},{name:"Grid options...",action:"CPGridOptions",mnemonic:"D",title:"Shows the grid options dialog box"}]},{name:"Palettes",mnemonic:"P",children:[{name:"Rearrange",
action:"CPArrangePalettes",title:"Rearrange the palette windows"},{name:"Toggle palettes",action:"CPTogglePalettes",mnemonic:"P",shortcut:"tab",title:"Hides or shows all palettes"},{name:"Use old icons",action:"CPToolbarStyle",checkbox:!0,checked:!1},{name:"-"},{name:"Show tools",action:"CPPalTool",mnemonic:"T",checkbox:!0,checked:!0},{name:"Show color",action:"CPPalColor",mnemonic:"C",checkbox:!0,checked:!0},{name:"Show stroke",action:"CPPalStroke",mnemonic:"S",checkbox:!0,checked:!0},{name:"Show misc",
action:"CPPalMisc",mnemonic:"M",checkbox:!0,checked:!0},{name:"Show swatches",action:"CPPalSwatches",mnemonic:"W",checkbox:!0,checked:!0},{name:"Show textures",action:"CPPalTextures",mnemonic:"X",checkbox:!0,checked:!0},{name:"Show tool options",action:"CPPalBrush",mnemonic:"B",checkbox:!0,checked:!0},{name:"Show layers",action:"CPPalLayers",mnemonic:"L",checkbox:!0,checked:!0}]},{name:"Help",mnemonic:"H",children:[{name:"Tablet support",mnemonic:"T",action:"CPTabletSupport",title:"Help with getting a drawing tablet working"},
{name:"Shortcuts",mnemonic:"S",action:"CPShortcuts",title:"List of keyboard and mouse shortcuts"},{name:"-"},{name:"About",mnemonic:"A",action:"CPAbout",title:"Displays some information about ChickenPaint"}]}];K.exports=D.default},{"../../lib/keymaster.js":68,"../languages/lang.js":54,jquery:296}],38:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d){E.default.call(this,d,"misc","Misc");var w=this,a=[{className:"chickenpaint-tool-zoom-in",command:"CPZoomIn",toolTip:"Zoom in"},
{className:"chickenpaint-tool-zoom-out",command:"CPZoomOut",toolTip:"Zoom out"},{className:"chickenpaint-tool-zoom-100",command:"CPZoom100",toolTip:"Zoom 100%"},{className:"chickenpaint-tool-undo",command:"CPUndo",toolTip:"Undo"},{className:"chickenpaint-tool-redo",command:"CPRedo",toolTip:"Redo"},{className:"chickenpaint-tool-send",command:"CPSend",toolTip:"Save Oekaki"}];(function(){var l=w.getBodyElement(),r=document.createElement("ul");r.className="chickenpaint-misc-tools list-unstyled";for(var q in a){var h=
a[q],c=document.createElement("li"),f=document.createElement("div");"CPSend"!=h.command||d.isActionSupported("CPContinue")||(h.toolTip="Post Oekaki",h.className="chickenpaint-tool-send-and-end");c.className="chickenpaint-toolbar-button "+h.className;c.setAttribute("data-buttonIndex",q);c.setAttribute("title",(0,b._)(h.toolTip));f.className="chickenpaint-toolbar-button-icon";c.appendChild(f);r.appendChild(c)}(0,u.default)(r).on("mousedown","li",function(p){(0,u.default)(this).addClass("selected")}).on("mouseup",
"li",function(p){(0,u.default)(this).removeClass("selected")}).on("click","li",function(p){p=a[parseInt(this.getAttribute("data-buttonIndex"),10)];d.actionPerformed({action:p.command})});l.appendChild(r)})()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var u=y(g("jquery")),E=y(g("./CPPalette.js")),b=g("../languages/lang.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang.js":54,"./CPPalette.js":39,jquery:296}],39:[function(g,
K,D){function y(w){return w&&w.__esModule?w:{default:w}}function k(w,a,l,r){var q,h,c,f;function p(fa){"vertResize"==N&&J.setHeight(fa.pageY-(0,u.default)(B).offset().top)}function e(fa){G.releasePointerCapture(fa.pointerId);N=!1}function n(fa){N="vertResize";G.setPointerCapture(fa.pointerId)}function v(fa){"horzResize"==N&&J.setWidth(fa.pageX-(0,u.default)(B).offset().left)}function A(fa){H.releasePointerCapture(fa.pointerId);N=!1}function C(fa){N="horzResize";H.setPointerCapture(fa.pointerId)}w.getSmallScreenMode()&&
(0,b._)(l+" (shorter)")!==l+" (shorter)"?this.title=(0,b._)(l+" (shorter)"):this.title=(0,b._)(l);r=r||{};this.name=a;this.resizeVert=r.resizeVert||!1;this.resizeHorz=r.resizeHorz||!1;var B=document.createElement("div");l=document.createElement("div");var I=document.createElement("i"),O=document.createElement("button"),z=document.createElement("div"),G=null,H=null,N,J=this;this.getElement=function(){return B};this.getBodyElement=function(){return z};this.getWidth=function(){return(0,u.default)(B).outerWidth()};
this.getHeight=function(){return(0,u.default)(B).outerHeight()};this.getX=function(){return parseInt(B.style.left,10)||0};this.getY=function(){return parseInt(B.style.top,10)||0};this.setLocation=function(fa,Y){B.style.left=fa+"px";B.style.top=Y+"px"};this.setWidth=function(fa){B.style.width=fa+"px"};this.setHeight=function(fa){B.style.height=fa+"px"};this.setSize=function(fa,Y){this.setWidth(fa);this.setHeight(Y)};this.setCollapseDownwards=function(fa){r.collapseDownwards=fa};this.toggleCollapse=
function(fa){var Y=(0,u.default)(B);if(void 0===fa)fa=!Y.hasClass("collapsed");else if(Y.hasClass("collapsed")==fa)return;var qa=Y.parents(".chickenpaint").find(".chickenpaint-canvas").height(),ka=this.getHeight();ka=this.getY()+ka;Y.toggleClass("collapsed",fa);(0,u.default)(I).toggleClass("fa-angle-down",!fa).toggleClass("fa-angle-up",fa);fa?r.collapseDownwards&&this.setLocation(this.getX(),Math.min(ka,qa)-this.getHeight()):(fa=this.getHeight(),r.collapseDownwards?this.setLocation(this.getX(),Math.max(ka-
fa,0)):this.getY()+fa>qa&&this.setLocation(this.getX(),Math.max(qa-fa,0)))};this.userIsDoneWithUs=function(){w.getSmallScreenMode()&&this.toggleCollapse(!0)};I.className="collapse-icon fas fa-angle-down";O.type="button";O.className="btn btn-close";O.innerHTML="";B.className="chickenpaint-palette chickenpaint-palette-"+a;l.className="chickenpaint-palette-head";l.setAttribute("touch-action","none");a=document.createElement("div");var R=document.createElement("h5");a.className="modal-header";R.className=
"modal-title";R.appendChild(document.createTextNode(this.title));R.appendChild(I);a.appendChild(R);a.appendChild(O);l.appendChild(a);z.className="chickenpaint-palette-body";B.appendChild(l);B.appendChild(z);this.resizeVert&&(G=document.createElement("div"),G.className="chickenpaint-resize-handle-vert",G.addEventListener("pointerdown",n),G.addEventListener("pointermove",p),G.addEventListener("pointerup",e),B.appendChild(G));this.resizeHorz&&(H=document.createElement("div"),H.className="chickenpaint-resize-handle-horz",
H.addEventListener("pointerdown",C),H.addEventListener("pointermove",v),H.addEventListener("pointerup",A),B.appendChild(H));l.addEventListener("pointerdown",function(fa){0==fa.button&&(fa.stopPropagation(),fa.preventDefault(),"BUTTON"==fa.target.nodeName?J.emitEvent("paletteVisChange",[J,!1]):(c=parseInt(B.style.left,10)||0,f=parseInt(B.style.top,10)||0,q=fa.pageX-(0,u.default)(B).position().left,h=fa.pageY-(0,u.default)(B).position().top,N=w.getSmallScreenMode()?"dragStart":"dragging",fa.target.setPointerCapture(fa.pointerId)))});
l.addEventListener("pointermove",function(fa){if(("dragStart"===N||"dragging"===N)&&0!==fa.buttons){var Y=fa.pageX-q;fa=fa.pageY-h;"dragStart"==N&&(Y-c)*(Y-c)+(fa-f)*(fa-f)>d*d&&(N="dragging");"dragging"==N&&J.setLocation(Y,fa)}});l.addEventListener("pointerup",function(fa){if("dragging"===N||"dragStart"===N){"dragStart"===N&&(fa.stopPropagation(),fa.preventDefault(),setTimeout(function(){J.setLocation(c,f);J.toggleCollapse()},100));N=!1;try{fa.target.releasePointerCapture(fa.pointerId)}catch(Y){console.error(Y)}}})}
Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var u=y(g("jquery")),E=y(g("wolfy87-eventemitter")),b=g("../languages/lang"),d=5;k.prototype=Object.create(E.default.prototype);k.prototype.constructor=E.default;K.exports=D.default},{"../languages/lang":54,jquery:296,"wolfy87-eventemitter":314}],40:[function(g,K,D){function y(c){return c&&c.__esModule?c:{default:c}}function k(c){function f(){var N=(0,u.default)(A).parents(".chickenpaint").find(".chickenpaint-canvas");return{width:N.width(),
height:N.height()}}function p(N,J){var R=N.getElement();J?A.contains(R)||A.appendChild(R):A.contains(R)&&A.removeChild(R);C.emitEvent("paletteVisChange",[N.name,J])}var e={tool:new b.default(c),misc:new d.default(c),stroke:new w.default(c),color:new a.default(c),brush:new l.default(c),layers:new r.default(c),textures:new q.default(c),swatches:new h.default(c)},n={tool:!1,color:!1,misc:!1},v={color:!0,textures:!0,layers:!0},A=document.createElement("div"),C=this,B=[],I=[];this.palettes=e;this.showPaletteByName=
function(N,J){(N=e[N])&&p(N,J)};this.togglePalettes=function(){if(0==I.length)(0,u.default)("> .chickenpaint-palette",A).each(function(){C.showPaletteByName(this.getAttribute("data-paletteName"),!1);I.push(this)});else{for(var N=0;N<I.length;N++)C.showPaletteByName(I[N].getAttribute("data-paletteName"),!0);I=[]}};this.constrainPalettes=function(){var N=f();for(R in e){var J=e[R];J.getX()+J.getWidth()/2>N.width&&J.setLocation(N.width-J.getWidth(),J.getY());J.getY()+J.getHeight()/2>N.height&&J.setLocation(J.getX(),
N.height-J.getHeight())}var R=0<N.width-e.tool.getWidth()-e.misc.getWidth()-e.stroke.getWidth()-e.color.getWidth()-e.brush.getWidth()-15;e.swatches.getX()+e.swatches.getWidth()==e.brush.getX()+e.brush.getWidth()&&20>Math.abs(e.swatches.getY()-e.brush.getY())&&e.swatches.setLocation(e.brush.getX()-e.swatches.getWidth()-(R?5:1),0);e.layers.getY()+e.layers.getHeight()>N.height&&e.layers.setHeight(Math.max(N.height-e.layers.getY(),200))};this.arrangePalettes=function(){var N=f();if(c.getSmallScreenMode())e.tool.setLocation(0,
0),e.misc.setLocation(e.tool.getX()+e.tool.getWidth()+1,0),e.brush.setLocation(N.width-e.brush.getWidth()-15,e.misc.getY()+e.misc.getHeight()+1),e.textures.setWidth(N.width-e.textures.getX()),e.layers.setLocation(e.brush.getX()+e.brush.getWidth()-e.layers.getWidth(),e.textures.getY()-e.layers.getHeight()),e.layers.setHeight(e.textures.getY()-330-1),e.stroke.setLocation(e.misc.getX(),e.misc.getY()+e.misc.getHeight()+1),e.swatches.setLocation(e.stroke.getX(),e.stroke.getY()+e.stroke.getHeight()+1);
else{var J=0<N.width-e.tool.getWidth()-e.misc.getWidth()-e.stroke.getWidth()-e.color.getWidth()-e.brush.getWidth()-15;e.brush.setLocation(N.width-e.brush.getWidth()-15,0);var R=e.brush.getY()+e.brush.getHeight();R=300<N.height-R?R+2:R;e.layers.setSize(e.brush.getWidth()+(J?30:0),N.height-R);e.layers.setLocation(e.brush.getX()+e.brush.getWidth()-e.layers.getWidth(),R);e.tool.setLocation(0,0);e.misc.setLocation(e.tool.getX()+e.tool.getWidth()+(J?5:1),0);J?e.stroke.setLocation(e.misc.getX()+e.misc.getWidth()+
(J?5:1),0):e.stroke.setLocation(e.misc.getX(),e.misc.getY()+e.misc.getHeight()+1);e.swatches.setLocation(Math.max(e.brush.getX()-e.swatches.getWidth()-(J?5:1),e.tool.getX()+e.tool.getWidth()),0);e.textures.setWidth(Math.min(e.layers.getX()-e.textures.getX(),490))}e.textures.setLocation(e.color.getX()+e.color.getWidth()+4,N.height-e.textures.getHeight());e.color.setLocation(0,Math.max(e.tool.getY()+e.tool.getHeight(),N.height-e.color.getHeight()))};c.on("smallScreen",function(N){if(N)for(var J in e)e[J].toggleCollapse(N&&
(!(J in n)||n[J]))});this.getElement=function(){return A};A.className="chickenpaint-palettes";for(var O in e){var z=e[O],G=z.getElement();z.on("paletteVisChange",function(){p(this,!1)});O in v&&z.setCollapseDownwards(!0);G.setAttribute("data-paletteName",O);B.push(G)}for(var H in e)v=e[H].getElement(),A.appendChild(v)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var u=y(g("jquery")),E=y(g("wolfy87-eventemitter")),b=y(g("./CPToolPalette.js")),d=y(g("./CPMiscPalette.js")),w=y(g("./CPStrokePalette.js")),
a=y(g("./CPColorPalette.js")),l=y(g("./CPBrushPalette.js")),r=y(g("./CPLayersPalette.js")),q=y(g("./CPTexturePalette.js")),h=y(g("./CPSwatchesPalette.js"));k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"./CPBrushPalette.js":25,"./CPColorPalette.js":28,"./CPLayersPalette.js":35,"./CPMiscPalette.js":38,"./CPStrokePalette.js":46,"./CPSwatchesPalette.js":47,"./CPTexturePalette.js":49,"./CPToolPalette.js":50,jquery:296,"wolfy87-eventemitter":314}],41:[function(g,
K,D){function y(E){return E&&E.__esModule?E:{default:E}}function k(E){function b(){var A=E?(0,u.default)(d).height():(0,u.default)(d).width();p=h/(r-l)*A;A=(q-l)/(r-l)*(A-p);a.style[E?"height":"width"]=p+"px";w.style[E?"height":"width"]=p+"px";w.style[E?"top":"left"]=A+"px"}var d=document.createElement("div"),w=document.createElement("div"),a=document.createElement("div"),l=0,r=1,q=0,h=1,c=10,f=!1,p=1,e=!1,n,v=this;this.setValues=function(A,C,B,I){q=A;h=C;l=B;r=I;b()};this.setBlockIncrement=function(A){c=
A};this.setUnitIncrement=function(A){};this.getElement=function(){return d};this.getValueIsAdjusting=function(){return f};d.className="chickenpaint-scrollbar "+(E?"chickenpaint-scrollbar-vertical":"chickenpaint-scrollbar-horizontal");w.className="chickenpaint-scrollbar-handle";w.setAttribute("touch-action","none");a.className="chickenpaint-scrollbar-handle-inner";w.appendChild(a);d.appendChild(w);w.addEventListener("pointerdown",function(A){A.stopPropagation();n=E?A.pageY-(0,u.default)(d).offset().top:
A.pageX-(0,u.default)(d).offset().left;w.setPointerCapture(A.pointerId);(0,u.default)(w).addClass("dragging");e=!0});w.addEventListener("pointermove",function(A){if(e){f=!0;var C=E?(0,u.default)(d).height():(0,u.default)(d).width();A=E?A.pageY-(0,u.default)(d).offset().top:A.pageX-(0,u.default)(d).offset().left;q+=(A-n)*(r-l)/(C-p);q=Math.min(Math.max(q,l),r);n=A;v.emitEvent("valueChanged",[q]);b();f=!1}});w.addEventListener("pointerup",function(A){A.stopPropagation();if(e){try{w.releasePointerCapture(A.pointerId)}catch(C){}(0,u.default)(w).removeClass("dragging");
e=!1}});w.addEventListener("click",function(A){A.stopPropagation()});d.addEventListener("click",function(A){if(this==d){A=E?A.pageY-(0,u.default)(d).offset().top:A.pageX-(0,u.default)(d).offset().left;var C=parseInt(w.style[E?"top":"left"],10);q=A<C?q-c:q+c;v.emitEvent("valueChanged",[q]);b()}})}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var u=y(g("jquery"));g=y(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;K.exports=D.default},
{jquery:296,"wolfy87-eventemitter":314}],42:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d,w,a){var l=(0,u.default)('<div class="modal fade chickenpaint-send-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content" data-stage="saving">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,b._)("Saving drawing..."),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-saving-progress-message">').concat((0,b._)("Preparing your drawing to be saved, please wait..."),
'</p>\n                            <pre class="chickenpaint-saving-error-message pre-scrollable"></pre>\n                            <div class="progress">\n                                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>\n                            </div>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light chickenpaint-send-cancel" data-bs-dismiss="modal">').concat((0,b._)("Cancel"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-not-previously-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">').concat((0,b._)("Drawing saved!"),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, would you like to post it to the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-bs-dismiss="modal">').concat((0,b._)("Yes, post it now"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-bs-dismiss="modal">').concat((0,b._)("No, keep drawing"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-exit" data-bs-dismiss="modal">').concat((0,b._)("No, quit and I'll finish it later"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-already-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, would you like to view it on the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-bs-dismiss="modal">').concat((0,b._)("Yes, view the post"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-bs-dismiss="modal">').concat((0,b._)("No, keep drawing"),'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-redirect" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, redirecting you to view your new post now..."),
"</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),r=(0,u.default)(".chickenpaint-saving-progress-message",l),q=(0,u.default)(".chickenpaint-saving-error-message",l),h=(0,u.default)(".progress-bar",l),c=this;a.on("savingProgress",function(p,e){p*=100;r.text(e);(0,u.default)(h).attr("aria-valuenow",p).css("width",p+"%")});a.on("savingComplete",function(){(0,u.default)(".modal-content[data-stage='saving']",l).hide();d.isActionSupported("CPContinue")?
d.isActionSupported("CPExit")?(0,u.default)(".modal-content[data-stage='success-not-previously-posted']",l).show():(0,u.default)(".modal-content[data-stage='success-already-posted']",l).show():(0,u.default)(".modal-content[data-stage='success-redirect']",l).show()});a.on("savingFailure",function(p){h.addClass("progress-bar-danger");var e=(0,b._)("Sorry, your drawing could not be saved, please try again later.");p&&(p=p.replace(/^CHIBIERROR\s*/,""),0<p.length&&(e+="<br><br>The error returned from the server was:",
q.text(p).show()),r.html(e))});(0,u.default)(".chickenpaint-post-drawing",l).on("click",function(){d.actionPerformed({action:"CPPost"})});(0,u.default)(".chickenpaint-exit",l).toggle(d.isActionSupported("CPExit")).on("click",function(){alert("When you want to come back and finish your drawing, just click the 'new drawing' button again and you can choose to continue this drawing.");d.actionPerformed({action:"CPExit"})});(0,u.default)(".chickenpaint-send-cancel",l).on("click",function(){a.cancel()});
l.on("hidden.bs.modal",function(p){l.remove()});l.appendTo(w);var f=new bootstrap.Modal(l[0]);this.show=function(){f.show();c.emitEvent("shown")}}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var u=y(g("jquery")),E=y(g("wolfy87-eventemitter")),b=g("../languages/lang.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang.js":54,jquery:296,"wolfy87-eventemitter":314}],43:[function(g,K,D){Object.defineProperty(D,"__esModule",
{value:!0});D.default=function(k){var u=(0,y.default)('<div class="modal fade chickenpaint-shortcuts-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog modal-lg">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Shortcuts</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>\n                                Many of the menu options and painting tools have keyboard shortcuts which are\n                                written next to them or appear when you hover.\n                            </p>\n                            <p>\n                                Here are some other shortcuts which are not as obvious!\n                            </p>\n                            <div class="chickenpaint-shortcuts-sections">\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Color swatches palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Use as the drawing color\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right</span>\n                                                </dt>\n                                                <dd>\n                                                    Remove or replace a color swatch\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Line drawing mode</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Snap line to nearest 45 degrees\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Painting tools</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">1</span> - <span class="chickenpaint-shortcut-key">9</span> , <span class="chickenpaint-shortcut-key">0</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush opacity\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">[</span> , <span class="chickenpaint-shortcut-key">]</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush size\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Brush palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right drag</span>\n                                                </dt>\n                                                <dd>\n                                                    Adjust brush sliders more precisely\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Drawing canvas</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Middle</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Space</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Move the canvas around\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">R</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Rotate the canvas\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Sample the color under the cursor\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Layers palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Double click</span>\n                                                </dt>\n                                                <dd>\n                                                    Rename layer\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ');
u.on("hidden.bs.modal",function(b){u.remove()});var E=new bootstrap.Modal(u[0]);k.appendChild(u[0]);this.show=function(){E.show()}};var y=function(k){return k&&k.__esModule?k:{default:k}}(g("jquery"));K.exports=D.default},{jquery:296}],44:[function(g,K,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d,w,a,l){function r(){var C=c.width,B=c.height,I="string"===typeof A.title?(0,b._)(A.title):A.title(A.value),O=3*window.devicePixelRatio,z=.75*c.height;if(a)f.save(),f.fillStyle="white",
f.fillRect(0,0,C,B),f.fillStyle="black",f.fillText(I,O,z),f.beginPath(),A.value>=p/2?f.rect(C/2,0,(A.value-p/2)*C/p,B):f.rect(A.value*C/p,0,(p/2-A.value)*C/p,B),f.fill(),f.clip(),f.fillStyle="white";else{var G=(A.value-d)/p;l&&(G=Math.pow(G,1/1.5));G*=C;f.save();f.save();f.fillStyle="black";f.beginPath();f.rect(0,0,G,B);f.fill();f.clip();f.fillStyle="white";f.fillText(I,O,z);f.restore();f.fillStyle="white";f.beginPath();f.rect(G,0,C,B);f.fill();f.clip();f.fillStyle="black"}f.fillText(I,O,z);f.restore()}
function q(C){var B=(0,u.default)(c).width(),I=(0,u.default)(c).offset().left;C=(C.pageX-I)/B;l&&(C=Math.pow(Math.max(C,0),1.5));A.setValue(C*p+d)}function h(C){switch(e){case 1:q(C);break;case 2:var B=(C.pageX-n)/4;if(0!==B){B=A.value+B;var I=B|0;A.setValue(I);n=C.pageX-4*(B-I)}}}var c=document.createElement("canvas"),f=c.getContext("2d"),p=w-d,e=0,n,v=!1,A=this;this.value=void 0;this.title="";a=a||!1;this.setValue=function(C){C=~~Math.max(d,Math.min(w,C));this.value!=C&&(this.value=C,this.emitEvent("valueChange",
[this.value]),v?r():(v=!0,this.resize()))};this.getElement=function(){return c};this.resize=function(){c.width=(0,u.default)(c).width()||150;c.height=(0,u.default)(c).height()||20;1<window.devicePixelRatio&&(c.style.height=c.height+"px",c.width*=window.devicePixelRatio,c.height*=window.devicePixelRatio);f.font=.47*c.height+"pt sans-serif";r()};c.addEventListener("pointerdown",function(C){if(0===e){switch(C.button){case 0:e=1;q(C);break;case 2:e=2;n=C.pageX;break;default:return}c.setPointerCapture(C.pointerId);
c.addEventListener("pointermove",h)}});c.addEventListener("pointerup",function(C){if(0!==e){switch(e){case 1:0===C.button&&(e=0);break;case 2:2==C.button&&(e=0);break;default:return}0===e&&(c.releasePointerCapture(C.pointerId),c.removeEventListener("pointermove",h))}});c.addEventListener("contextmenu",function(C){C.preventDefault()});c.setAttribute("touch-action","none");c.className="chickenpaint-slider";"devicePixelRatio"in window||(window.devicePixelRatio=1)}Object.defineProperty(D,"__esModule",
{value:!0});D.default=k;var u=y(g("jquery")),E=y(g("wolfy87-eventemitter")),b=g("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang":54,jquery:296,"wolfy87-eventemitter":314}],45:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(y,k,u){function E(){var z=d.width/2,G=d.height/2;w.fillStyle="white";w.fillRect(0,0,d.width,d.height);if(e==p.length){var H=q.width,N=q.height,J=Math.round(z-
H/2),R=Math.round(G-N/2);w.drawImage(q,J,R);var fa=B;n||(n=document.createElement("canvas"),n.width=H,n.height=N,A=n.getContext("2d"));A.globalCompositeOperation="copy";A.drawImage(a,0,0);v||(v=document.createElement("canvas"),v.width=H,v.height=N,C=v.getContext("2d"));C.globalCompositeOperation="copy";C.drawImage(f,0,0);C.globalCompositeOperation="source-in";C.drawImage(f,0,Math.round(170*fa));A.globalCompositeOperation="source-over";A.drawImage(v,0,0);A.drawImage(l,0,0);A.globalCompositeOperation=
"screen";A.drawImage(c,0,0);A.globalCompositeOperation="multiply";A.drawImage(h,0,0);w.globalAlpha=.88;w.drawImage(n,J,R);w.globalAlpha=1;w.drawImage(r,J,R);G=Math.round(G+N/2+2)}if(""!=I)for(w.fillStyle="black",H=I.split("\n"),N=0;N<H.length;N++)J=H[N],R=w.measureText(J).width,G+=28,w.fillText(J,z-R/2,G)}function b(){d.width=d.clientWidth;d.height=d.clientHeight;w.font="14pt sans-serif";E()}var d=document.createElement("canvas"),w=d.getContext("2d"),a=new Image,l=new Image,r=new Image,q=new Image,
h=new Image,c=new Image,f=new Image,p=[a,l,r,q,h,c,f],e=0,n,v,A,C,B=0,I="";u+="splash/";for(var O=0;O<p.length;O++)p[O].onload=function(){e++;e==p.length&&E()};a.src=u+"cup.png";c.src=u+"highlights.png";l.src=u+"lid.png";r.src=u+"lines.png";h.src=u+"shading.png";f.src=u+"smoothie.png";q.src=u+"text.png";k.on("loadingProgress",function(z,G){B=z;I=G;E()});k.on("loadingFailure",function(z){B=0;I=z;E()});k.on("loadingComplete",function(){window.removeEventListener("resize",b);y.removeChild(d)});window.addEventListener("resize",
b);d.className="chickenpaint-splash-screen";y.appendChild(d);b()};K.exports=D.default},{}],46:[function(g,K,D){function y(w){return w&&w.__esModule?w:{default:w}}function k(w){E.default.call(this,w,"stroke","Stroke");var a=this,l=[{className:"chickenpaint-tool-freehand",command:"CPFreeHand",toolTip:(0,d._)("Free-hand"),selected:!0},{className:"chickenpaint-tool-line",command:"CPLine",toolTip:(0,d._)("Straight line")},{className:"chickenpaint-tool-bezier",command:"CPBezier",toolTip:(0,d._)("Bezier curve")}],
r=a.getBodyElement();(function(){var q=document.createElement("ul");q.className="chickenpaint-stroke-tools list-unstyled";for(var h in l){var c=l[h],f=document.createElement("li"),p=document.createElement("div");f.className="chickenpaint-toolbar-button "+c.className;f.setAttribute("data-buttonIndex",h);f.setAttribute("title",c.toolTip);c.selected&&(f.className+=" selected");p.className="chickenpaint-toolbar-button-icon";f.appendChild(p);q.appendChild(f)}(0,u.default)(q).on("click","li",function(e){e=
l[parseInt(this.getAttribute("data-buttonIndex"),10)];(0,u.default)("li",q).removeClass("selected");(0,u.default)(this).addClass("selected");w.actionPerformed({action:e.command});a.userIsDoneWithUs()});r.appendChild(q)})();w.on("toolChange",function(q,h){(0,u.default)(".chickenpaint-tool-freehand",r).toggleClass("selected",h.strokeMode==b.default.STROKE_MODE_FREEHAND);(0,u.default)(".chickenpaint-tool-line",r).toggleClass("selected",h.strokeMode==b.default.STROKE_MODE_LINE);(0,u.default)(".chickenpaint-tool-bezier",
r).toggleClass("selected",h.strokeMode==b.default.STROKE_MODE_BEZIER)})}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var u=y(g("jquery")),E=y(g("./CPPalette.js")),b=y(g("../engine/CPBrushInfo.js")),d=g("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../engine/CPBrushInfo.js":8,"../languages/lang":54,"./CPPalette.js":39,jquery:296}],47:[function(g,K,D){function y(l){return l&&l.__esModule?l:{default:l}}function k(l){function r(C){var B=
document.createElement("div"),I=document.createElement("a"),O=document.createElement("ul"),z=document.createElement("a"),G=document.createElement("a"),H=this;this.getElement=function(){return B};this.setColor=function(N){I.setAttribute("data-color",N);var J=I.style;for(N=""+Number(N).toString(16);6>N.length;)N="0"+N;J.backgroundColor="#"+N};this.setColor(C);I.href="#";I.className="chickenpaint-color-swatch dropdown-toggle";I.setAttribute("data-toggle","dropdown");z.className="dropdown-item";z.href=
"#";z.innerHTML=(0,a._)("Remove");z.addEventListener("click",function(N){N.preventDefault();(0,u.default)(B).remove();p=!0});G.className="dropdown-item";G.href="#";G.innerHTML=(0,a._)("Replace with current color");G.addEventListener("click",function(N){N.preventDefault();H.setColor(l.getCurColor().getRgb());p=!0});O.className="dropdown-menu";O.appendChild(z);O.appendChild(G);B.className="chickenpaint-color-swatch-wrapper";B.appendChild(I);B.appendChild(O);(0,u.default)(B).on("show.bs.dropdown",function(){var N=
(0,u.default)(this).find(".dropdown-toggle");(0,u.default)(this).find(".dropdown-menu").css({top:N.position().top+N.outerHeight(!0)+"px",left:N.position().left+"px"})})}function q(C){C=new r(C);e.appendChild(C.getElement())}function h(){v.onchange=function(){var C=this.files;if(!(1>C.length)){C=C[0];var B=new FileReader;B.onload=function(){var I=(new w.default).read(this.result);null!=I&&0<I.length?A.setSwatches(I):alert((0,a._)("The swatches could not be read, did you select an .aco file?"))};B.readAsArrayBuffer(C)}};
v.click()}function c(C){var B=document.createElement("span");B.className="fa fa-"+C;return B}b.default.call(this,l,"swatches","Color swatches");var f=[16777215,0,16711680,65280,255,16776960],p=!1,e=document.createElement("ul"),n=document.createElement("div"),v,A=this;this.getSwatches=function(){for(var C=(0,u.default)(".chickenpaint-color-swatch",e),B=Array(C.length),I=0;I<C.length;I++)B[I]=parseInt(C.get(I).getAttribute("data-color"),10);return B};this.setSwatches=function(C){for(;e.lastChild;)e.removeChild(e.lastChild);
for(var B=0;B<C.length;B++)q(C[B]);p=!0};this.isModified=function(){return p};(function(){e.className="chickenpaint-color-swatches list-unstyled";for(var C=0;C<f.length;C++)e.appendChild((new r(f[C])).getElement());e.addEventListener("click",function(B){var I=B.target;/^<a data-color=/i.test(I.outerHTML)&&/chickenpaint-color-swatch/.test(I.className)&&0==B.button&&void 0!==I.getAttribute("data-color")&&(l.setCurColor(new d.default(parseInt(I.getAttribute("data-color"),10))),B.stopPropagation(),B.preventDefault(),
A.userIsDoneWithUs())});e.addEventListener("contextmenu",function(B){var I=B.target;if(/^<a data-color=/i.test(I.outerHTML)&&/chickenpaint-color-swatch/.test(I.className)){B.preventDefault();var O=new bootstrap.Dropdown((0,u.default)(I),{autoClose:!1});O.toggle();document.addEventListener("click",function H(G){(0,u.default)(I).find(G.target).length||(O.hide(),document.removeEventListener("click",H))})}})})();this.getBodyElement().appendChild(e);(function(){var C=document.createElement("button"),B=
document.createElement("button"),I=document.createElement("div"),O=document.createElement("a"),z=document.createElement("a");B.type="button";B.title=(0,a._)("Add the current brush color as a new swatch");B.className="btn chickenpaint-small-toolbar-button chickenpaint-color-swatch-add";B.appendChild(c("plus"));C.type="button";C.className="btn dropdown-toggle chickenpaint-small-toolbar-button chickenpaint-color-swatch-settings";C.setAttribute("data-toggle","dropdown");C.appendChild(c("cog"));O.className=
"dropdown-item";O.href="#";O.innerHTML=(0,a._)("Save swatches to your computer...");O.addEventListener("click",function(N){N.preventDefault();N=(new w.default).write(A.getSwatches());N=new Blob([N],{type:"application/octet-stream"});E.default.saveAs(N,"oekakiswatches.aco")});z.className="dropdown-item";z.href="#";z.innerHTML=(0,a._)("Load swatches from your computer...");z.addEventListener("click",function(N){N.preventDefault();h()});I.className="dropdown-menu";I.appendChild(O);I.appendChild(z);var G=
document.createElement("div");G.className="btn-group dropright";G.appendChild(C);G.appendChild(I);var H=new bootstrap.Dropdown((0,u.default)(C));C.addEventListener("click",function(){H.toggle()});C.addEventListener("show.bs.dropdown",function(N){Array.from(G.querySelectorAll(".dropdown-item")).forEach(function(J){J.addEventListener("click",function(){H.hide()})})});B.addEventListener("click",function(N){q(l.getCurColor().getRgb());p=!0});n.className="chickenpaint-color-swatches-buttons";window.File&&
window.FileReader&&window.FileList&&window.Blob&&(v=document.createElement("input"),v.type="file",v.multiple=!1,v.style.display="none",n.appendChild(G),n.appendChild(v));n.appendChild(B)})();this.getBodyElement().appendChild(n)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var u=y(g("jquery")),E=y(g("file-saver")),b=y(g("./CPPalette.js")),d=y(g("../util/CPColor.js")),w=y(g("../util/AdobeColorTable.js")),a=g("../languages/lang");k.prototype=Object.create(b.default.prototype);k.prototype.constructor=
k;K.exports=D.default},{"../languages/lang":54,"../util/AdobeColorTable.js":55,"../util/CPColor.js":58,"./CPPalette.js":39,"file-saver":295,jquery:296}],48:[function(g,K,D){function y(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(E){var b=(0,k.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog" role="document">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing tablet support</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-tablet-there-are-two-options">\n                                There are two ways you could use your tablet\'s pen pressure support with ChickenPaint.\n                            </p>\n                            <div class="chickenpaint-tablet-support chickenpaint-wacom-support">\n                                <h5>\n                                    Plugin for Wacom tablets\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-internet-explorer"></span>\n                                        IE 10, 11\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (32-bit only)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-safari"></span>\n                                        Safari\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-opera"></span>\n                                        Opera\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-installed">\n                                    The plugin for Wacom tablets doesn\'t seem to be installed in your browser yet.\n                                </p>\n                                <p class="chickenpaint-not-installed">\n                                    Please make sure that you\'ve installed the latest drivers for your tablet from the \n                                    <a href="http://www.wacom.com/en-us/support/product-support/drivers" target="_blank">Wacom drivers page</a>,\n                                    then restart your browser.\n                                </p>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t support the Wacom tablet plugin, please \n                                    try one of the browsers listed above instead.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    The Wacom tablet plugin is installed and working.\n                                </p>\n                            </div>\n                            <div class="chickenpaint-tablet-support chickenpaint-pointerevents-support">\n                                <h5>\n                                    Built-in support for most tablets.\n                                    <small>macOS, Windows 8 or newer</small>\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-internet-explorer"></span>\n                                        IE (Windows 8)\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-edge"></span>\n                                        Edge (Windows 10)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (<a href="https://github.com/thenickdude/chickenpaint/blob/master/help/Firefox pressure support.md" target="_blank">help <i class="fa fa-external-link-alt"></i></a>)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-chrome"></span>\n                                        Chrome\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t have built-in support for drawing tablets, please try\n                                    one of the other browsers listed above.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    Your browser has built-in support for drawing tablets!\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n       '),
d=(0,k.default)(".chickenpaint-wacom-support",b),w=(0,k.default)(".chickenpaint-pointerevents-support",b),a=(0,k.default)(".chickenpaint-tablet-there-are-two-options",b),l=u.default.getRef().isTabletPresent(),r=!!window.hasNativePointerEvents;d.toggleClass("supported",l);l?(w.hide(),a.hide()):((/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent))&&d.addClass("not-supported"),r&&(d.hide(),a.hide()));w.toggleClass("supported",
r);w.toggleClass("not-supported",!r);b.on("hidden.bs.modal",function(h){b.remove()});var q=new bootstrap.Modal(b[0]);E.appendChild(b[0]);this.show=function(){q.show()}};var k=y(g("jquery")),u=y(g("../util/CPWacomTablet.js"));K.exports=D.default},{"../util/CPWacomTablet.js":66,jquery:296}],49:[function(g,K,D){function y(q){return q&&q.__esModule?q:{default:q}}function k(q,h){var c=document.createElement("div"),f=document.createElement("label");c.className="form-check";q.className="form-check-input";
f.className="form-check-label";f.setAttribute("for",q.id);f.appendChild(q);f.appendChild(document.createTextNode(h));c.appendChild(q);c.appendChild(f);return c}function u(q,h,c,f,p){var e=new Image,n=[];e.onload=function(){var v=document.createElement("canvas"),A=v.getContext("2d",{willReadFrequently:!0});v.width=e.width;v.height=e.height;for(v=0;v<f;v++){A.drawImage(e,0,v*c,h,c,0,0,h,c);try{for(var C=A.getImageData(0,0,h,c),B=new d.default(h,c,8),I=0;I<h*c;I++)B.data[I]=C.data[4*I];n.push(B)}catch(O){console.log(O)}}p(n)};
e.src=q}function E(q){function h(J){for(var R=0;R<J.length;R++){var fa=new v(J[R],32,32);fa.on("click",function(){A=this.texture;n()});G.appendChild(fa.getElement())}}function c(J){for(var R=new d.default(J,J,8),fa=1;fa<J*J;fa++)R.data[fa]=255;return R}function f(J){for(var R=2*J,fa=new d.default(R,R,8),Y=0;Y<R;Y++)for(var qa=0;qa<R;qa++)fa.data[Y+qa*R]=0==(~~(Y/J)+~~(qa/J))%2?0:255;return fa}function p(J,R){for(var fa=new d.default(R,R,8),Y=0;Y<R*R;Y++)~~(Y%R)>=J&&(fa.data[Y]=255);return fa}function e(J,
R){for(var fa=new d.default(R,R,8),Y=0;Y<R*R;Y++)Y/R>=J&&(fa.data[Y]=255);return fa}function n(){if(null!=A){C=A.clone();B&&C.mirrorHorizontally();var J=new w.default;J.loadBrightnessContrast(O,z);I&&J.invert();C.applyLUT(J)}else C=null;q.getArtwork().setBrushTexture(C);null!=N&&N.updateTexture()}function v(J,R,fa){var Y=document.createElement("canvas"),qa=Y.getContext("2d"),ka=this;this.setTexture=function(Q){this.texture=Q;this.paint()};this.getElement=function(){return Y};this.paint=function(){qa.fillStyle=
null!=this.texture?qa.createPattern(this.texture.getAsCanvas(),"repeat"):"white";qa.fillRect(0,0,Y.width,Y.height)};Y.addEventListener("click",function(){ka.emit("click")});Y.width=R;Y.height=fa;this.setTexture(J)}a.default.call(this,q,"textures","Textures");var A,C,B=!1,I=!1,O=0,z=0,G=document.createElement("div"),H=this.getBodyElement();v.prototype=Object.create(b.default.prototype);v.prototype.constructor=v;var N=new function(){function J(){fa.checked=I;Y.checked=B;qa.setValue(100*O+100);ka.setValue(100*
z+100)}var R=document.createElement("div"),fa=document.createElement("input"),Y=document.createElement("input"),qa=new l.default(0,200,!0),ka=new l.default(0,200,!0),Q=new v(null,64,64),aa=document.createElement("button"),ha=new bootstrap.Popover(aa,{html:!0,content:function(){return ra},trigger:"manual",placement:"right",container:H});this.updateTexture=function(){aa.disabled=null==C;Q.setTexture(C)};this.getElement=function(){return R};R.className="chickenpaint-texture-options";R.appendChild(Q.getElement());
aa.type="button";aa.className="btn btn-light btn-sm";aa.setAttribute("data-bs-toggle","popover");aa.setAttribute("data-bs-placement","right");aa.innerHTML=(0,r._)("Customize");var ra=function(){var ta=document.createElement("div");ta.className="chickenpaint-texture-controls";fa.id="chickenpaint-chk-texture-invert";fa.type="checkbox";fa.addEventListener("click",function(Ma){I=this.checked;n()});ta.appendChild(k(fa,(0,r._)("Inverse")));Y.id="chickenpaint-chk-texture-mirror";Y.type="checkbox";Y.addEventListener("click",
function(Ma){B=this.checked;n()});ta.appendChild(k(Y,(0,r._)("Mirror")));qa.title=function(Ma){return(0,r._)("Brightness")+": "+(Ma-100)+"%"};qa.on("valueChange",function(Ma){O=(Ma-100)/100;n()});ta.appendChild(qa.getElement());ka.title=function(Ma){return(0,r._)("Contrast")+": "+(Ma-100)+"%"};ka.on("valueChange",function(Ma){z=(Ma-100)/100;n()});ta.appendChild(ka.getElement());var xa=document.createElement("button"),na=document.createElement("button");xa.textContent="Ok";xa.className="btn btn-primary btn-sm";
xa.type="button";xa.addEventListener("click",function(Ma){ha.hide()});ta.appendChild(xa);ta.appendChild(document.createTextNode(" "));na.textContent="Reset";na.className="btn btn-secondary btn-sm";na.type="button";na.addEventListener("click",function(Ma){z=O=0;I=B=!1;J();n()});ta.appendChild(na);J();return ta}();aa.addEventListener("click",function(){ha.toggle()});R.appendChild(aa);this.updateTexture()};H.appendChild(N.getElement());G.className="chickenpaint-texture-swatches";H.appendChild(G);h(function(){var J=
[null],R=new d.default(2,2,8);R.data[0]=255;R.data[3]=255;J.push(R);J.push(c(2));J.push(c(3));J.push(c(4));J.push(c(6));J.push(c(8));J.push(p(1,2));J.push(p(2,4));J.push(e(1,2));J.push(e(2,4));J.push(f(2));J.push(f(4));J.push(f(8));J.push(f(16));return J}());u(q.getResourcesRoot()+"gfx/textures32.png",32,32,2,function(J){h(J)})}Object.defineProperty(D,"__esModule",{value:!0});D.default=E;y(g("jquery"));var b=y(g("wolfy87-eventemitter")),d=y(g("../engine/CPGreyBmp.js")),w=y(g("../engine/CPLookUpTable.js")),
a=y(g("./CPPalette.js")),l=y(g("./CPSlider.js")),r=g("../languages/lang");E.prototype=Object.create(a.default.prototype);E.prototype.constructor=E;K.exports=D.default},{"../engine/CPGreyBmp.js":14,"../engine/CPLookUpTable.js":18,"../languages/lang":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296,"wolfy87-eventemitter":314}],50:[function(g,K,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a){function l(c){"LI"==this.nodeName&&(c=q[parseInt(this.getAttribute("data-buttonIndex"),
10)],a.actionPerformed({action:c.command}),r.userIsDoneWithUs())}b.default.call(this,a,"tool","Tools");var r=this,q=[{className:"chickenpaint-tool-rect-selection",command:"CPRectSelection",toolTip:"Marquee",shortcut:"m",mode:d.default.M_RECT_SELECTION},{className:"chickenpaint-tool-move",command:"CPMoveTool",toolTip:"Move tool",shortcut:"v",mode:d.default.M_MOVE_TOOL},{className:"chickenpaint-tool-flood-fill",command:"CPFloodFill",toolTip:"Flood fill",shortcut:"f",mode:d.default.M_FLOODFILL},{className:"chickenpaint-tool-gradient-fill",
command:"CPGradientFill",toolTip:"Gradient fill",shortcut:"g",mode:d.default.M_GRADIENTFILL},{className:"chickenpaint-tool-color-picker",command:"CPColorPicker",toolTip:"Color picker",shortcut:"i",mode:d.default.M_COLOR_PICKER},{className:"chickenpaint-tool-blur",command:"CPBlur",toolTip:"Blur",mode:d.default.M_DRAW,tool:d.default.T_BLUR},{className:"chickenpaint-tool-pencil",command:"CPPencil",toolTip:"Pencil",shortcut:"n",mode:d.default.M_DRAW,tool:d.default.T_PENCIL},{className:"chickenpaint-tool-pen",
command:"CPPen",toolTip:"Pen",selected:!0,shortcut:"b",mode:d.default.M_DRAW,tool:d.default.T_PEN},{className:"chickenpaint-tool-airbrush",command:"CPAirbrush",toolTip:"Airbrush",shortcut:"a",mode:d.default.M_DRAW,tool:d.default.T_AIRBRUSH},{className:"chickenpaint-tool-water",command:"CPWater",toolTip:"Waterpaint",shortcut:"w",mode:d.default.M_DRAW,tool:d.default.T_WATER},{className:"chickenpaint-tool-eraser",command:"CPEraser",toolTip:"Eraser",shortcut:"e",mode:d.default.M_DRAW,tool:d.default.T_ERASER},
{className:"chickenpaint-tool-soft-eraser",command:"CPSoftEraser",toolTip:"Soft eraser",shortcut:"s",mode:d.default.M_DRAW,tool:d.default.T_SOFTERASER},{className:"chickenpaint-tool-smudge",command:"CPSmudge",toolTip:"Smudge",shortcut:"d",mode:d.default.M_DRAW,tool:d.default.T_SMUDGE},{className:"chickenpaint-tool-blender",command:"CPBlender",toolTip:"Blender",shortcut:"c",mode:d.default.M_DRAW,tool:d.default.T_BLENDER},{className:"chickenpaint-tool-dodge",command:"CPDodge",toolTip:"Dodge (tool)",
shortcut:"o",mode:d.default.M_DRAW,tool:d.default.T_DODGE},{className:"chickenpaint-tool-burn",command:"CPBurn",toolTip:"Burn (tool)",shortcut:"p",mode:d.default.M_DRAW,tool:d.default.T_BURN},{className:"chickenpaint-tool-rotate-canvas",command:"CPRotateCanvas",commandDoubleClick:"CPResetCanvasRotation",toolTip:"Rotate canvas",mode:d.default.M_ROTATE_CANVAS},{className:"chickenpaint-tool-pan-canvas",command:"CPPanCanvas",toolTip:"Grab canvas",mode:d.default.M_PAN_CANVAS}],h=document.createElement("ul");
a.on("modeChange",function(c){var f=r.getBodyElement();(0,u.default)("li",f).removeClass("selected");c==d.default.M_DRAW?(0,u.default)("li[data-tool="+a.getCurTool()+"]",f).addClass("selected"):(0,u.default)("li[data-mode="+c+"]",f).addClass("selected")});a.on("toolChange",function(c){var f=r.getBodyElement();a.getCurMode()==d.default.M_DRAW&&((0,u.default)("li",f).removeClass("selected"),(0,u.default)("li[data-tool="+c+"]",f).addClass("selected"))});(function(){var c=r.getBodyElement();h.className=
"chickenpaint-tools list-unstyled";for(var f in q)(function(p){var e=q[p],n=document.createElement("li"),v=document.createElement("div");n.className="chickenpaint-toolbar-button "+e.className;n.setAttribute("data-buttonIndex",p);n.setAttribute("data-mode",e.mode);void 0!==e.tool&&n.setAttribute("data-tool",e.tool);n.title=(0,w._)(e.toolTip);e.shortcut&&(n.title+=" ("+e.shortcut.toUpperCase()+")",(0,E.default)(e.shortcut,function(){l.call(n);return!1}));e.selected&&(n.className+=" selected");v.className=
"chickenpaint-toolbar-button-icon";n.appendChild(v);h.appendChild(n)})(f);(0,u.default)(h).on("click","li",l).on("dblclick","li",function(p){p=q[parseInt(this.getAttribute("data-buttonIndex"),10)];p.commandDoubleClick&&a.actionPerformed({action:p.commandDoubleClick})});c.appendChild(h)})()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var u=y(g("jquery")),E=y(g("../../lib/keymaster.js")),b=y(g("./CPPalette.js")),d=y(g("../ChickenPaint.js")),w=g("../languages/lang");k.prototype=Object.create(b.default.prototype);
k.prototype.constructor=k;K.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../languages/lang":54,"./CPPalette.js":39,jquery:296}],51:[function(g,K,D){function y(h){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},y(h)}function k(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||
!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(h,r(p.key),p)}}function u(h,c,f){c&&k(h.prototype,c);f&&k(h,f);Object.defineProperty(h,"prototype",{writable:!1});return h}function E(h,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}});Object.defineProperty(h,"prototype",{writable:!1});c&&b(h,c)}function b(h,c){b=Object.setPrototypeOf?
Object.setPrototypeOf.bind():function(f,p){f.__proto__=p;return f};return b(h,c)}function d(h){var c=a();return function(){var f=l(h);if(c){var p=l(this).constructor;f=Reflect.construct(f,arguments,p)}else f=f.apply(this,arguments);if(!f||"object"!==y(f)&&"function"!==typeof f){if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");f=w(this)}return f}}function w(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return h}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(h){return!1}}function l(h){l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)};return l(h)}function r(h){a:if("object"===y(h)&&null!==h){var c=h[Symbol.toPrimitive];if(void 0!==c){h=c.call(h,"string");if("object"!==
y(h))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}h=String(h)}return"symbol"===y(h)?h:String(h)}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;g=function(h){return h&&h.__esModule?h:{default:h}}(g("wolfy87-eventemitter"));var q={toolbarStyle:"new"};D.default=function(h){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var p=f.call(this);var e=w(p);var n=r("toolbarStyle");n in e?Object.defineProperty(e,
n,{value:void 0,enumerable:!0,configurable:!0,writable:!0}):e[n]=void 0;p.setDefaults();return p}E(c,h);var f=d(c);u(c,[{key:"setDefaults",value:function(){for(var p in q)q.hasOwnProperty(p)&&this.set(p,q[p])}},{key:"load",value:function(){var p={};try{p=JSON.parse(localStorage.getItem("chickenpaint-prefs"))}catch(n){console.error(n)}p&&"object"===y(p)||(p={});for(var e in q)if(q.hasOwnProperty(e))try{this.set(e,p.hasOwnProperty(e)?p[e]:q[e])}catch(n){console.error(n)}}},{key:"save",value:function(){try{var p=
!1,e;for(e in q)if(q.hasOwnProperty(e)&&this[e]!=q[e]){p=!0;break}p?localStorage.setItem("chickenpaint-prefs",JSON.stringify({toolbarStyle:this.toolbarStyle})):localStorage.removeItem("chickenpaint-prefs")}catch(n){console.error(n)}}},{key:"set",value:function(p,e){this[p]=e;this.emitEvent(p,[e])}},{key:"get",value:function(p){return this[p]}}]);return c}(g.default);K.exports=D.default},{"wolfy87-eventemitter":314}],52:[function(g,K,D){K.exports={"Dodge (tool)":"Dodge","Burn (tool)":"Burn","Color (picker)":"Color",
"Color swatches (shorter)":"Swatches"}},{}],53:[function(g,K,D){K.exports={File:"\u30d5\u30a1\u30a4\u30eb","Save to my computer":"PC\u306b\u4fdd\u5b58","Post Oekaki":"\u304a\u7d75\u304b\u304d\u3092\u6295\u7a3f",Edit:"\u7de8\u96c6",Undo:"\u53d6\u308a\u6d88\u3057",Redo:"\u3084\u308a\u76f4\u3057",Cut:"\u5207\u308a\u53d6\u308a",Copy:"\u30b3\u30d4\u30fc","Clear history":"\u5c65\u6b74\u524a\u9664","Copy merged":"\u7d50\u5408\u30b3\u30d4\u30fc",Paste:"\u8cbc\u308a\u4ed8\u3051","Select all":"\u3059\u3079\u3066\u9078\u629e",
Deselect:"\u9078\u629e\u89e3\u9664",Transform:"\u5909\u5f62",Layers:"\u30ec\u30a4\u30e4\u30fc",Duplicate:"\u8907\u88fd","Merge down":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3068\u7d50\u5408","Merge group":"\u30b0\u30eb\u30fc\u30d7\u7d50\u5408","Merge all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u7d50\u5408","Add layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0","Delete mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664","Delete layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664",
"Apply mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Apply layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Disable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u7121\u52b9\u5316","Enable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u6709\u52b9\u5316","Clip to the layer below":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3067\u30af\u30ea\u30c3\u30d4\u30f3\u30b0","Unclip from the layer below":"\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u89e3\u9664",Effects:"\u52b9\u679c",
Clear:"\u6d88\u53bb",Fill:"\u5857\u308a\u6f70\u3057","Flip horizontal":"\u5de6\u53f3\u53cd\u8ee2","Flip vertical":"\u4e0a\u4e0b\u53cd\u8ee2",Invert:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2","Box blur...":"\u307c\u304b\u3057","Blur amount (pixels)":"\u307c\u304b\u3057\u91cf(\u30d4\u30af\u30bb\u30eb\u5358\u4f4d)","Iterations (1-8, larger gives smoother blur)":"\u53cd\u5fa9(1-8,\u5927\u304d\u3044\u307b\u3069\u307c\u304b\u3057\u304c\u6ed1\u3089\u304b)","Monochromatic noise":"\u5358\u8272\u30ce\u30a4\u30ba",
"Color noise":"\u30ab\u30e9\u30fc\u30ce\u30a4\u30ba",View:"\u8868\u793a","Full-screen mode":"\u30d5\u30eb\u30b9\u30af\u30ea\u30fc\u30f3\u30e2\u30fc\u30c9","Zoom in":"\u62e1\u5927","Zoom out":"\u7e2e\u5c0f","Zoom 100%":"100%","Smooth-out zoomed canvas":"\u30ba\u30fc\u30e0\u3092\u306a\u3081\u3089\u304b\u306b\u8868\u793a\u3059\u308b","Show grid":"\u30b0\u30ea\u30c3\u30c9\u3092\u8868\u793a","Grid options...":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a",Palettes:"\u30d1\u30ec\u30c3\u30c8",Rearrange:"\u521d\u671f\u5316",
"Toggle palettes":"\u8868\u793a\u975e\u8868\u793a\u5207\u308a\u66ff\u3048","Use old icons":"\u53e4\u3044\u30a2\u30a4\u30b3\u30f3","Show tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Show color":"\u30ab\u30e9\u30fc","Show layers":"\u30ec\u30a4\u30e4\u30fc","Show misc":"\u64cd\u4f5c","Show stroke":"\u30b9\u30c8\u30ed\u30fc\u30af","Show swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Show textures":"\u30c6\u30af\u30b9\u30c1\u30e3","Show tools":"\u30c4\u30fc\u30eb",Help:"\u30d8\u30eb\u30d7",
"Tablet support":"\u30bf\u30d6\u30ec\u30c3\u30c8\u30b5\u30dd\u30fc\u30c8",Shortcuts:"\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8",About:"ChickenPaint\u306b\u3064\u3044\u3066",Misc:"\u64cd\u4f5c","Round Pixelated":"\u5186\u30d4\u30af\u30bb\u30eb","Round Hard Edge":"\u5186\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Round Soft":"\u5186\u30bd\u30d5\u30c8","Square Pixelated":"\u89d2\u30d4\u30af\u30bb\u30eb","Square Hard Edge":"\u89d2\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Color (picker)":"\u30ab\u30e9\u30fc",
"Tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Brush size":"\u30d6\u30e9\u30b7\u30b5\u30a4\u30ba",Opacity:"\u4e0d\u900f\u660e\u5ea6",Color:"\u8272\u88dc\u5145",Blend:"\u6df7\u8272",Spacing:"\u9593\u9694",Scattering:"\u6563\u4e71",Smoothing:"\u624b\u3076\u308c\u88dc\u6b63","Color swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Color swatches (shorter)":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8",Remove:"\u524a\u9664","Replace with current color":"\u9078\u629e\u4e2d\u306e\u8272\u306b\u7f6e\u304d\u63db\u3048",
"Save swatches to your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u306b\u4fdd\u5b58","Load swatches from your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u304b\u3089\u8aad\u307f\u8fbc\u307f","Add the current brush color as a new swatch":"\u9078\u629e\u4e2d\u306e\u8272\u3092\u8ffd\u52a0","Sample all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u6df7\u5408","Lock transparency":"\u900f\u660e\u90e8\u5206\u3092\u4fdd\u8b77",Textures:"\u30c6\u30af\u30b9\u30c1\u30e3",Customize:"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba",
Inverse:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2",Mirror:"\u5de6\u53f3\u53cd\u8ee2",Brightness:"\u8f1d\u5ea6",Contrast:"\u30b3\u30f3\u30c8\u30e9\u30b9\u30c8",Reset:"\u30ea\u30bb\u30c3\u30c8","Layer blending mode":"\u5408\u6210\u30e2\u30fc\u30c9",Normal:"\u901a\u5e38",Multiply:"\u4e57\u7b97",Add:"\u52a0\u7b97",Screen:"\u30b9\u30af\u30ea\u30fc\u30f3",Lighten:"\u6bd4\u8f03(\u660e)",Darken:"\u6bd4\u8f03(\u6697)",Subtract:"\u6e1b\u7b97",Dodge:"\u8986\u3044\u713c\u304d",Burn:"\u713c\u304d\u8fbc\u307f",Overlay:"\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4",
"Hard Light":"\u30cf\u30fc\u30c9\u30e9\u30a4\u30c8","Soft Light":"\u30bd\u30d5\u30c8\u30e9\u30a4\u30c8","Vivid Light":"\u30d3\u30d3\u30c3\u30c9\u30e9\u30a4\u30c8","Linear Light":"\u30ea\u30cb\u30a2\u30e9\u30a4\u30c8","Pin Light":"\u30d4\u30f3\u30e9\u30a4\u30c8",Passthrough:"\u901a\u904e",Stroke:"\u30b9\u30c8\u30ed\u30fc\u30af","Free-hand":"\u30d5\u30ea\u30fc\u30cf\u30f3\u30c9","Straight line":"\u76f4\u7dda","Bezier curve":"Bz\uff08\u30d9\u30b8\u30a7\uff09\u66f2\u7dda",Tools:"\u30c4\u30fc\u30eb",Marquee:"\u9078\u629e\u7bc4\u56f2",
"Move tool":"\u79fb\u52d5","Flood fill":"\u5857\u308a\u6f70\u3057","Gradient fill":"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3","Color picker":"\u30b9\u30dd\u30a4\u30c8","Rotate canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u56de\u8ee2","Grab canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u4f4d\u7f6e",Pencil:"\u925b\u7b46",Pen:"\u30da\u30f3",Airbrush:"\u30a8\u30a2\u30d6\u30e9\u30b7",Waterpaint:"\u6c34\u5f69",Eraser:"\u6d88\u3057\u30b4\u30e0","Soft eraser":"\u8584\u6d88\u3057",Smudge:"\u6307\u5148",
Blender:"\u6df7\u8272","Dodge (tool)":"\u8986\u3044\u713c\u304d","Burn (tool)":"\u713c\u304d\u8fbc\u307f",Blur:"\u307c\u304b\u3057","Grid options":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a","Grid size":"\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba","Rename...":"\u540d\u524d\u3092\u5909\u66f4","Add layer":"\u65b0\u898f\u30ec\u30a4\u30e4\u30fc","Delete layer":"\u30ec\u30a4\u30e4\u30fc\u524a\u9664","Add group":"\u65b0\u898f\u30b0\u30eb\u30fc\u30d7","Delete group":"\u30b0\u30eb\u30fc\u30d7\u524a\u9664",
"Add mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0",Gradient:"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210","Transform style":"\u5909\u5f62\u30b9\u30bf\u30a4\u30eb","Apply transform":"\u5909\u5f62\u78ba\u5b9a","Complete transform":"\u5909\u5f62\u3092\u5b8c\u4e86","Undo transform":"\u53d6\u308a\u6d88\u3057","You need to finish transforming this layer before you can do that. What would you like to do with the transform?":"\u7d9a\u884c\u3059\u308b\u305f\u3081\u306b\u5909\u5f62\u3092\u5b8c\u4e86\u3057\u307e\u3059\u3002",
Smooth:"\u30b9\u30e0\u30fc\u30ba",Sharp:"\u30b7\u30e3\u30fc\u30d7","Opacity: ":"\u4e0d\u900f\u660e\u5ea6:","Please enter a color in hex format":"16\u9032\u5f62\u5f0f\u3067\u8272\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\uff08#xxxxxx\u306e\u5f62\uff09",Cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",Ok:"OK",Okay:"OK",OK:"OK","Whoops! This layer is currently hidden":"\u975e\u8868\u793a\u30ec\u30a4\u30e4\u30fc\u3067\u3059\u3002","Whoops! This layer's opacity is currently 0%":"\u30ec\u30a4\u30e4\u30fc\u306e\u4e0d\u900f\u660e\u5ea6\u304c0%\u3067\u3059",
"Whoops! You can't draw on a group":"\u30ec\u30a4\u30e4\u30fc\u30b0\u30eb\u30fc\u30d7\u306b\u306f\u63cf\u3051\u307e\u305b\u3093","Whoops! All of the selected pixels are transparent!":"\u30ec\u30a4\u30e4\u30fc\u304c\u7a7a\u3067\u3059","Are you sure you want to send your drawing to the server and finish drawing now?":"\u304a\u7d75\u304b\u304d\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f","Your drawing has unsaved changes! Are you sure to want to navigate away?":"\u304a\u7d75\u304b\u304d\u306b\u672a\u4fdd\u5b58\u306e\u5909\u66f4\u304c\u3042\u308a\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",
"Save Oekaki":"\u4fdd\u5b58","Saving drawing...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u4e2d\u2026","Preparing your drawing to be saved, please wait...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3059\u308b\u6e96\u5099\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u2026","Drawing saved!":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\uff01","Your drawing has been saved, would you like to post it to the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f",
"Yes, post it now":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059","No, keep drawing":"\u307e\u3060\u63cf\u304d\u307e\u3059","No, quit and I'll finish it later":"\u30a2\u30d7\u30ea\u3092\u7d42\u4e86\u3057\u7d9a\u304d\u3092\u5f8c\u3067\u63cf\u304f","Your drawing has been saved, would you like to view it on the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f","Yes, view the post":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059\u3002",
"Your drawing has been saved, redirecting you to view your new post now...":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u6295\u7a3f\u5148\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002","Sorry, your drawing could not be saved, please try again later.":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u518d\u5ea6\u6295\u7a3f\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002"}},{}],54:[function(g,K,D){function y(h){"@babel/helpers - typeof";
return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},y(h)}function k(h){if("function"!=typeof WeakMap)return null;var c=new WeakMap,f=new WeakMap;return(k=function(p){return p?f:c})(h)}function u(h,c){if(!c&&h&&h.__esModule)return h;if(null===h||"object"!=y(h)&&"function"!=typeof h)return{default:h};if((c=k(c))&&c.has(h))return c.get(h);var f=
{__proto__:null},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in h)if("default"!==e&&Object.prototype.hasOwnProperty.call(h,e)){var n=p?Object.getOwnPropertyDescriptor(h,e):null;n&&(n.get||n.set)?Object.defineProperty(f,e,n):f[e]=h[e]}return f.default=h,c&&c.set(h,f),f}function E(h,c){var f="undefined"!==typeof Symbol&&h[Symbol.iterator]||h["@@iterator"];if(!f){if(Array.isArray(h)||(f=b(h))||c&&h&&"number"===typeof h.length){f&&(h=f);var p=0;c=function(){};return{s:c,n:function(){return p>=
h.length?{done:!0}:{done:!1,value:h[p++]}},e:function(A){throw A;},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var e=!0,n=!1,v;return{s:function(){f=f.call(h)},n:function(){var A=f.next();e=A.done;return A},e:function(A){n=!0;v=A},f:function(){try{e||null==f.return||f.return()}finally{if(n)throw v;}}}}function b(h,c){if(h){if("string"===typeof h)return d(h,c);var f=Object.prototype.toString.call(h).slice(8,
-1);"Object"===f&&h.constructor&&(f=h.constructor.name);if("Map"===f||"Set"===f)return Array.from(h);if("Arguments"===f||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return d(h,c)}}function d(h,c){if(null==c||c>h.length)c=h.length;for(var f=0,p=Array(c);f<c;f++)p[f]=h[f];return p}function w(h){h=h.split(/[-_]/,1)[0].toLowerCase();h in l?(r=l[h],q=h):(r=a,q="en")}Object.defineProperty(D,"__esModule",{value:!0});D._=function(h){return h in r?r[h]:h};D.currentLanguage=function(){return q};D.guessLanguage=
function(){try{if("undefined"!==typeof navigator){var h=navigator.languages;Array.isArray(h)||(h=[h]);var c=E(h),f;try{for(c.s();!(f=c.n()).done;){var p=f.value,e=/^(..)([-_].+)?$/.exec(p);if(e){e[1]=e[1].toLowerCase();if(e[1]in l){w(p);break}if("en"===e[1]){w("en");break}}}}catch(n){c.e(n)}finally{c.f()}}}catch(n){console.error(n)}};D.setLanguage=w;var a=u(g("./en.json")),l={ja:u(g("./ja.json")),en:a},r=a,q="en"},{"./en.json":52,"./ja.json":53}],55:[function(g,K,D){function y(){}Object.defineProperty(D,
"__esModule",{value:!0});D.default=y;var k=function(u){return u&&u.__esModule?u:{default:u}}(g("./ArrayDataStream.js"));y.prototype.read=function(u){if(null==u)return null;u=new k.default(new Uint8Array(u));var E=[];if(1!=u.readU16BE())return null;var b=u.readU16BE();for(var d=0;d<b;d++)if(0==u.readU16BE()){var w=255*u.readU16BE()/65535,a=255*u.readU16BE()/65535,l=255*u.readU16BE()/65535;u.readU16BE();E.push(w<<16|a<<8|l)}return E};y.prototype.write=function(u){var E=new Uint8Array(4+10*u.length);
E=new k.default(E);E.writeU16BE(1);E.writeU16BE(u.length);for(var b=0;b<u.length;b++){var d=u[b];E.writeU16BE(0);E.writeU16BE(257*(d>>16&255));E.writeU16BE(257*(d>>8&255));E.writeU16BE(257*(d&255));E.writeU16BE(0)}return E.getAsDataArray()};K.exports=D.default},{"./ArrayDataStream.js":56}],56:[function(g,K,D){function y(k,u,E){this.data=k;this.eof=!1;this.start=void 0===u?0:u;this.end=void 0===E?k.length:E;this.pos=this.start}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.prototype.readChar=
function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos++]);this.eof=!0;return-1};y.prototype.readByte=function(){if(this.pos<this.end)return this.data[this.pos++];this.eof=!0;return-1};y.prototype.readU8=y.prototype.readByte;y.prototype.readS8=function(){var k=this.readByte();return k&128?k|4294967040:k};y.prototype.unreadChar=function(k){this.pos--};y.prototype.peekChar=function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos]);this.eof=!0;return-1};y.prototype.readString=
function(k){var u=Array(k),E;for(E=0;E<k;E++)u[E]=this.readChar();return u.join("")};y.prototype.readS16=function(){var k=this.readByte(),u=this.readByte();k=k<<8|u;return k&32768?k|4294901760:k};y.prototype.readU16BE=function(){var k=this.readByte(),u=this.readByte();return k<<8|u};y.prototype.readU16LE=function(){var k=this.readByte();return this.readByte()<<8|k};y.prototype.readU32BE=function(){var k=this.readByte(),u=this.readByte(),E=this.readByte(),b=this.readByte();return(k<<24|u<<16|E<<8|
b)>>>0};y.prototype.readU32LE=function(){var k=this.readByte(),u=this.readByte(),E=this.readByte();return(this.readByte()<<24|E<<16|u<<8|k)>>>0};y.prototype.readBytes=function(k){var u=this.data.subarray(this.pos,this.pos+k);this.pos+=k;this.pos>this.end&&(this.eof=!0);return u};y.prototype.skip=function(k){this.pos+=k;this.pos>this.end&&(this.eof=!0)};y.prototype.seek=function(k){this.pos=k};y.prototype.writeBytes=function(k){for(var u=0;u<k.length;u++)this.data[this.pos++]=k[u]};y.prototype.writeByte=
function(k){this.data[this.pos++]=k};y.prototype.writeU8=y.prototype.writeByte;y.prototype.writeU16LE=function(k){this.data[this.pos++]=k;this.data[this.pos++]=k>>8};y.prototype.writeU16BE=function(k){this.data[this.pos++]=k>>8;this.data[this.pos++]=k};y.prototype.writeU32BE=function(k){this.data[this.pos++]=k>>24;this.data[this.pos++]=k>>16;this.data[this.pos++]=k>>8;this.data[this.pos++]=k};y.prototype.writeU32LE=function(k){this.data[this.pos++]=k;this.data[this.pos++]=k>>8;this.data[this.pos++]=
k>>16;this.data[this.pos++]=k>>24};y.prototype.writeDoubleBE=function(k){k=new Uint8Array((new Float64Array([k])).buffer);for(var u=k.length-1;0<=u;u--)this.writeByte(k[u])};y.prototype.writeFloatBE=function(k){k=new Uint8Array((new Float32Array([k])).buffer);for(var u=k.length-1;0<=u;u--)this.writeByte(k[u])};y.prototype.writeString=function(k){for(var u=0;u<k.length;u++)this.data[this.pos++]=k.charCodeAt(u)};y.prototype.writeUnsignedIntBE=function(k,u){void 0===u&&(u=this.measureUnsignedInt(k));
switch(u){case 5:this.writeU8(Math.floor(k/4294967296));case 4:this.writeU8(k>>24);case 3:this.writeU8(k>>16);case 2:this.writeU8(k>>8);case 1:this.writeU8(k);break;default:throw"Bad UINT size "+u;}};y.prototype.measureUnsignedInt=function(k){return 256>k?1:65536>k?2:16777216>k?3:4294967296>k?4:5};y.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw"ArrayDataStream's pos lies beyond end of buffer";
};y.prototype.EOF=-1;K.exports=D.default},{}],57:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){var y=this;this.x0=this.y0=this.x1=this.y1=this.x2=this.y2=this.x3=this.y3=0;var k,u,E,b,d,w,a,l;this.compute=function(r,q,h){var c=1/h,f=3*c,p=f*c;c*=c*c;var e=2*p,n=6*c,v=y.x0-2*y.x1+y.x2,A=y.y0-2*y.y1+y.y2,C=3*(y.x1-y.x2)-y.x0+y.x3,B=3*(y.y1-y.y2)-y.y0+y.y3;k=y.x0;d=y.y0;u=(y.x1-y.x0)*f+v*p+C*c;w=(y.y1-y.y0)*f+A*p+B*c;E=v*e+C*n;a=A*e+B*n;b=C*n;l=B*n;r[0]=k;q[0]=
d;for(f=1;f<h;f++)k+=u,d+=w,u+=E,w+=a,E+=b,a+=l,r[f]=k,q[f]=d}};K.exports=D.default},{}],58:[function(g,K,D){function y(u){if(0==u.saturation)return u.value<<16|u.value<<8|u.value;var E=u.hue/60;E-=Math.floor(E);var b=u.saturation/255,d=~~(u.value*(1-b)),w=~~(u.value*(1-b*E));E=~~(u.value*(1-b*(1-E)));switch(~~(u.hue/60)){case 0:return u.value<<16|E<<8|d;case 1:return w<<16|u.value<<8|d;case 2:return d<<16|u.value<<8|E;case 3:return d<<16|w<<8|u.value;case 4:return E<<16|d<<8|u.value;case 5:return u.value<<
16|d<<8|w;default:return 0}}function k(u){this.value=this.saturation=this.hue=this.rgb=0;this.setRgb(u||0)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;k.prototype.getRgb=function(){return this.rgb};k.prototype.getSaturation=function(){return this.saturation};k.prototype.getHue=function(){return this.hue};k.prototype.getValue=function(){return this.value};k.prototype.setRgbComponents=function(u,E,b){this.setRgb(u<<16|E<<8|b)};k.prototype.setRgb=function(u){this.rgb=u;var E=u>>16&255,
b=u>>8&255;u&=255;this.value=Math.max(E,Math.max(b,u));var d=Math.min(E,Math.min(b,u));this.saturation=0==this.value?0:~~((this.value-d)/this.value*255);if(0==this.saturation)this.hue=0;else{var w=(this.value-E)/(this.value-d),a=(this.value-b)/(this.value-d);d=(this.value-u)/(this.value-d);var l=0;this.value==E&&(l=d-a);this.value==b&&(l=2+w-d);this.value==u&&(l=4+a-w);l*=60;0>l&&(l+=360);this.hue=~~l}};k.prototype.setHsv=function(u,E,b){this.hue=u;this.saturation=E;this.value=b;this.rgb=y(this)};
k.prototype.setHue=function(u){this.hue=u;this.rgb=y(this)};k.prototype.setSaturation=function(u){this.saturation=u;this.rgb=y(this)};k.prototype.setValue=function(u){this.value=u;this.rgb=y(this)};k.prototype.setGreyscale=function(u){this.rgb=k.greyToRGB(u);this.saturation=this.hue=0;this.value=u};k.prototype.clone=function(){var u=new k(0);u.copyFrom(this);return u};k.prototype.copyFrom=function(u){this.rgb=u.rgb;this.hue=u.hue;this.saturation=u.saturation;this.value=u.value};k.prototype.isEqual=
function(u){return this.rgb==u.rgb&&this.hue==u.hue&&this.saturation==u.saturation&&this.value==u.value};k.greyToRGB=function(u){return u|u<<8|u<<16};K.exports=D.default},{}],59:[function(g,K,D){function y(k,u,E){this.r=k;this.g=u;this.b=E}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.prototype.toInt=function(){return Math.max(0,Math.min(255,Math.round(255*this.r)))<<16|Math.max(0,Math.min(255,Math.round(255*this.g)))<<8|Math.max(0,Math.min(255,Math.round(255*this.b)))};y.prototype.mixWith=
function(k,u){this.r=this.r*(1-u)+k.r*u;this.g=this.g*(1-u)+k.g*u;this.b=this.b*(1-u)+k.b*u};y.prototype.clone=function(){return new y(this.r,this.g,this.b)};y.createFromInt=function(k){return new y((k>>>16&255)/255,(k>>>8&255)/255,(k&255)/255)};K.exports=D.default},{}],60:[function(g,K,D){function y(u){for(var E=["imageSmoothingEnabled","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled"],b=0;b<E.length;b++)if(E[b]in u)return E[b];return null}Object.defineProperty(D,
"__esModule",{value:!0});D.isCanvasInterpolationSupported=function(){var u=(0,k.createCanvas)(0,0).getContext("2d");return!!y(u)};D.isCanvasSupported=function(){var u=(0,k.createCanvas)(0,0);return!(!u.getContext||!u.getContext("2d"))};D.isEventSupported=function(u){var E=u in window;E||(E=document.createElement("div"),E.setAttribute(u,"return;"),E="function"==typeof E[u]);return E};D.isFlexboxSupported=function(){return("string"==typeof document.body.style.flexBasis||"string"==typeof document.body.style.msFlexDirection)&&
!/Presto/.test(navigator.userAgent)};D.setCanvasInterpolation=function(u,E){var b=y(u);b&&(u[b]=E)};var k=g("./Canvas.js")},{"./Canvas.js":2}],61:[function(g,K,D){function y(k){this.points=k||[]}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;(function(k){return k&&k.__esModule?k:{default:k}})(g("./CPTransform.js"));y.prototype.clone=function(){for(var k=new y(Array(this.points.length)),u=0;u<this.points.length;u++)k.points[u]={x:this.points[u].x,y:this.points[u].y};return k};y.prototype.getTransformed=
function(k){for(var u=new y(Array(this.points.length)),E=0;E<this.points.length;E++)u.points[E]=k.getTransformedPoint(this.points[E]);return u};y.prototype.getCenter=function(){for(var k=this.points[0].x,u=this.points[0].y,E=1;E<this.points.length;E++)k+=this.points[E].x,u+=this.points[E].y;return{x:k/this.points.length,y:u/this.points.length}};y.prototype.containsPoint=function(k){var u,E=!1;var b=0;for(u=this.points.length-1;b<this.points.length;u=b++)this.points[b].y>k.y!=this.points[u].y>k.y&&
k.x<(this.points[u].x-this.points[b].x)*(k.y-this.points[b].y)/(this.points[u].y-this.points[b].y)+this.points[b].x&&(E=!E);return E};K.exports=D.default},{"./CPTransform.js":64}],62:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){var y,k=!1;this.nextGaussian=function(){if(k)return k=!1,y;do{var u=2*Math.random()-1;var E=2*Math.random()-1;var b=u*u+E*E}while(1<=b||0==b);b=Math.sqrt(-2*Math.log(b)/b);y=E*b;k=!0;return u*b}};K.exports=D.default},{}],63:[function(g,
K,D){function y(u){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},y(u)}function k(u,E,b,d){this.left=u;this.top=E;this.right=b;this.bottom=d}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;k.prototype.makeEmpty=function(){this.bottom=this.right=this.top=this.left=0};k.prototype.union=function(u){this.isEmpty()?
this.set(u):u.isEmpty()||(this.left=Math.min(this.left,u.left),this.top=Math.min(this.top,u.top),this.right=Math.max(this.right,u.right),this.bottom=Math.max(this.bottom,u.bottom))};k.prototype.getUnion=function(u){var E=this.clone();E.union(u);return E};k.prototype.getIntersection=function(u){return new k(Math.max(this.left,u.left),Math.max(this.top,u.top),Math.min(this.right,u.right),Math.min(this.bottom,u.bottom))};k.prototype.clipTo=function(u){this.isEmpty()||(u.isEmpty()?this.makeEmpty():(this.left=
Math.min(Math.max(this.left,u.left),u.right),this.top=Math.min(Math.max(this.top,u.top),u.bottom),this.right=Math.max(Math.min(this.right,u.right),u.left),this.bottom=Math.max(Math.min(this.bottom,u.bottom),u.top)));return this};k.prototype.containsPoint=function(u){return!(u.x<this.left||u.y<this.top||u.x>=this.right||u.y>=this.bottom)};k.prototype.isInside=function(u){return this.left>=u.left&&this.top>=u.top&&this.right<=u.right&&this.bottom<=u.bottom};k.prototype.clipSourceDest=function(u,E){E.right=
E.left+u.getWidth();E.bottom=E.top+u.getHeight();this.isEmpty()||E.left>=this.right||E.top>=this.bottom||E.right<=this.left||E.bottom<=this.top?(u.makeEmpty(),E.makeEmpty()):(E.right>this.right&&(u.right-=E.right-this.right,E.right=this.right),E.bottom>this.bottom&&(u.bottom-=E.bottom-this.bottom,E.bottom=this.bottom),E.left<this.left&&(u.left+=this.left-E.left,E.left=this.left),E.top<this.top&&(u.top+=this.top-E.top,E.top=this.top))};k.prototype.getWidth=function(){return this.right-this.left};k.prototype.getHeight=
function(){return this.bottom-this.top};k.prototype.getArea=function(){return this.getWidth()*this.getHeight()};k.prototype.isEmpty=function(){return this.right<=this.left||this.bottom<=this.top};k.prototype.set=function(u){this.left=u.left;this.top=u.top;this.right=u.right;this.bottom=u.bottom};k.prototype.clone=function(){return new k(this.left,this.top,this.right,this.bottom)};k.prototype.translate=function(u,E){this.left+=u;this.right+=u;this.top+=E;this.bottom+=E;return this};k.prototype.getTranslated=
function(u,E){var b=this.clone();b.translate(u,E);return b};k.prototype.moveTo=function(u,E){this.translate(u-this.left,E-this.top)};k.prototype.equals=function(u){return this.left==u.left&&this.right==u.right&&this.top==u.top&&this.bottom==u.bottom};k.prototype.grow=function(u,E){this.left-=u;this.right+=u;this.top-=E;this.bottom+=E};k.prototype.toString=function(){return"("+this.left+","+this.top+","+this.right+","+this.bottom+")"};k.prototype.toPoints=function(){return[{x:this.left,y:this.top},
{x:this.right,y:this.top},{x:this.right,y:this.bottom},{x:this.left,y:this.bottom}]};k.prototype.roundNearest=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);return this};k.prototype.roundContain=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);return this};k.createBoundingBox=function(u){if(0===u.length)return new k(0,
0,0,0);for(var E=new k(u[0].x,u[0].y,u[0].x,u[0].y),b=1;b<u.length;b++)E.left=Math.min(E.left,u[b].x),E.top=Math.min(E.top,u[b].y),E.right=Math.max(E.right,u[b].x),E.bottom=Math.max(E.bottom,u[b].y);return E};k.prototype.subtract=function(u){return k.subtract(this,u)};k.subtract=function(u,E){u instanceof k&&(u=[u]);E instanceof k&&(E=[E]);u=u.slice(0);for(var b=0;b<E.length;b++)for(var d=E[b],w=u.length,a=0;a<w;a++){var l=u[a];if(l){var r=l.getIntersection(d);if(!r.isEmpty()){var q=[];l.top<d.top&&
q.push(new k(l.left,l.top,l.right,r.top));l.bottom>d.bottom&&q.push(new k(l.left,r.bottom,l.right,l.bottom));l.left<d.left&&q.push(new k(l.left,r.top,r.left,r.bottom));l.right>d.right&&q.push(new k(r.right,r.top,l.right,r.bottom));q=q.filter(function(h){return!h.isEmpty()});if(0<q.length)for(u[a]=q[0],l=1;l<q.length;l++)u.push(q[l]);else u[a]=null}}}return u.filter(function(h){return null!=h})};k.union=function(u){if(u instanceof k)u=[u];else{u=u.slice(0);for(var E=0;E<u.length;E++){var b=u[E],d=
u.length;if(b)for(var w=E+1;w<d;w++){var a=u[w];if(a&&!b.getIntersection(a).isEmpty()){a=k.subtract(a,b);u[w]=a[0];for(var l=1;l<a.length;l++)u.push(a[l])}}}}return u.filter(function(r){return r&&!r.isEmpty()})};"object"==("undefined"===typeof window?"undefined":y(window))&&(window.cpRectGarbage=new k(1.5,2.5,3.5,4.5));K.exports=D.default},{}],64:[function(g,K,D){function y(){this.setToIdentity()}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.prototype.setToIdentity=function(){this.m=
[1,0,0,1,0,0]};y.prototype.multiply=function(k){var u=this.m[1]*k.m[0]+this.m[3]*k.m[1],E=this.m[0]*k.m[2]+this.m[2]*k.m[3],b=this.m[1]*k.m[2]+this.m[3]*k.m[3],d=this.m[0]*k.m[4]+this.m[2]*k.m[5]+this.m[4],w=this.m[1]*k.m[4]+this.m[3]*k.m[5]+this.m[5];this.m[0]=this.m[0]*k.m[0]+this.m[2]*k.m[1];this.m[1]=u;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=w};y.prototype.preMultiply=function(k){var u=k.m[1]*this.m[0]+k.m[3]*this.m[1],E=k.m[0]*this.m[2]+k.m[2]*this.m[3],b=k.m[1]*this.m[2]+k.m[3]*this.m[3],
d=k.m[0]*this.m[4]+k.m[2]*this.m[5]+k.m[4],w=k.m[1]*this.m[4]+k.m[3]*this.m[5]+k.m[5];this.m[0]=k.m[0]*this.m[0]+k.m[2]*this.m[1];this.m[1]=u;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=w};y.prototype.invert=function(){var k=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),u=-this.m[1]*k,E=-this.m[2]*k,b=this.m[0]*k,d=k*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),w=k*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=this.m[3]*k;this.m[1]=u;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=w};y.prototype.getInverted=
function(){var k=new y;k.m[0]=this.m[0];k.m[1]=this.m[1];k.m[2]=this.m[2];k.m[3]=this.m[3];k.m[4]=this.m[4];k.m[5]=this.m[5];k.invert();return k};y.prototype.rotate=function(k){var u=Math.cos(k);k=Math.sin(k);var E=this.m[1]*u+this.m[3]*k,b=this.m[0]*-k+this.m[2]*u,d=this.m[1]*-k+this.m[3]*u;this.m[0]=this.m[0]*u+this.m[2]*k;this.m[1]=E;this.m[2]=b;this.m[3]=d};y.prototype.rotateAroundPoint=function(k,u,E){this.translate(u,E);this.rotate(k);this.translate(-u,-E)};y.prototype.translate=function(k,
u){this.m[4]+=this.m[0]*k+this.m[2]*u;this.m[5]+=this.m[1]*k+this.m[3]*u};y.prototype.scale=function(k,u){this.m[0]*=k;this.m[1]*=k;this.m[2]*=u;this.m[3]*=u};y.prototype.scaleAroundPoint=function(k,u,E,b){this.translate(E,b);this.scale(k,u);this.translate(-E,-b)};y.prototype.shear=function(k,u){var E=this.m[1]+this.m[3]*u,b=this.m[2]+this.m[0]*k;k=this.m[3]+this.m[1]*k;this.m[0]+=this.m[2]*u;this.m[1]=E;this.m[2]=b;this.m[3]=k};y.prototype.getTransformedPoint=function(k){return{x:k.x*this.m[0]+k.y*
this.m[2]+this.m[4],y:k.x*this.m[1]+k.y*this.m[3]+this.m[5]}};y.prototype.transformPoints=function(k){for(var u=0;u<k.length;u++)k[u]=this.getTransformedPoint(k[u])};y.prototype.getTranslateX=function(){return this.m[4]};y.prototype.getTranslateY=function(){return this.m[5]};y.prototype.clone=function(){var k=new y;k.m[0]=this.m[0];k.m[1]=this.m[1];k.m[2]=this.m[2];k.m[3]=this.m[3];k.m[4]=this.m[4];k.m[5]=this.m[5];return k};y.prototype.getDeterminant=function(){return this.m[0]*this.m[3]-this.m[1]*
this.m[2]};y.prototype.decompose=function(){var k=this.getDeterminant(),u=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return{translate:{x:this.m[4],y:this.m[5]},rotate:Math.sign(this.m[1])*Math.acos(this.m[0]/u),scale:{x:u,y:k/u},shear:{x:Math.atan((this.m[0]*this.m[2]+this.m[1]*this.m[3])/(u*u)),y:0}}};y.prototype.toString=function(){return"["+this.m[0].toFixed(2)+" "+this.m[2].toFixed(2)+" "+this.m[4].toFixed(2)+"]\n["+this.m[1].toFixed(2)+" "+this.m[3].toFixed(2)+" "+this.m[5].toFixed(2)+
"]\n[0.00 0.00 1.00]"};Math.sign=Math.sign||function(k){k=+k;return 0===k||isNaN(k)?k:0<k?1:-1};K.exports=D.default},{}],65:[function(g,K,D){function y(k,u){this.x=k;this.y=u}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};y.prototype.normalize=function(){var k=this.getLength();this.x/=k;this.y/=k;return this};y.prototype.getDotProduct=function(k){return this.x*k.x+this.y*k.y};y.prototype.scale=function(k){this.x*=
k;this.y*=k;return this};y.prototype.getScaled=function(k){var u=new y(this.x,this.y);u.scale(k);return u};y.prototype.getRounded=function(){return new y(Math.round(this.x),Math.round(this.y))};y.prototype.getTruncated=function(){return new y(~~this.x,~~this.y)};y.prototype.getPerpendicular=function(){return new y(-this.y,this.x)};y.prototype.add=function(k){this.x+=k.x;this.y+=k.y;return this};y.prototype.subtract=function(k){this.x-=k.x;this.y-=k.y;return this};y.prototype.getSum=function(k){return new y(this.x+
k.x,this.y+k.y)};y.subtractPoints=function(k,u){return new y(k.x-u.x,k.y-u.y)};K.exports=D.default},{}],66:[function(g,K,D){function y(){var k=null,u,E=this;this.isPen=function(){if(k){var b=k.pointerType;return 1==b||3==b}return!1};this.getPressure=function(){return k?k.pressure:1};this.pluginLoaded=function(){console.log("Wacom tablet support loaded!");k=u.penAPI};this.isTabletPresent=function(){return!!k};this.detectTablet=function(){if(/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent))console.log("Not attempting to load Wacom tablet plugin, since this is Chrome");
else{console.log("Attempting to load Wacom tablet support...");u=document.createElement("object");if("classid"in u)u.classid="CLSID:092dfa86-5807-5a94-bf3b-5a53ba9e5308";else{var b=document.createElement("param");b.name="onload";b.value="onWacomPluginLoaded";u.appendChild(b);u.type="application/x-wacomtabletplugin"}u.style.position="absolute";u.style.visibility="hidden";u.onload="onWacomPluginLoaded";document.body.appendChild(u);setTimeout(function(){E.isTabletPresent()||console.log("Looks like the Wacom plugin isn't installed, or failed to load.")},
5E3)}}}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.getRef=function(){null==y.instance&&(y.instance=new y);return y.instance};window.onWacomPluginLoaded=function(){y.getRef().pluginLoaded()};K.exports=D.default},{}],67:[function(g,K,D){function y(k,u,E,b){var d,w=0;"boolean"!==typeof u&&(b=E,E=u,u=void 0);return function(){function a(){w=+new Date;E.apply(r,h)}function l(){d=void 0}var r=this,q=+new Date-w,h=arguments;b&&!d&&a();d&&clearTimeout(d);void 0===b&&q>k?a():!0!==u&&(d=
setTimeout(b?l:a,void 0===b?k-q:k))}}Object.defineProperty(D,"__esModule",{value:!0});D.debounce=function(k,u,E){return void 0===E?y(k,u,!1):y(k,E,!1!==u)};D.throttle=y},{}],68:[function(g,K,D){function y(k){for(var u={DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27," ":32,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,SHIFT:16,"[":219,"]":221,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"-":189,"=":187,"+":187,";":187,LEFTMETA:91,RIGHTMETA:91,ALT:18,ALTGRAPH:18,OPTION:18,CONTROL:17},E=65;90>=
E;E++){var b=String.fromCharCode(E);u[b]=E}k=k.toUpperCase();if(k in u)return u[k]}(function(k){function u(C,B){for(var I=C.length;I--;)if(C[I]===B)return I;return-1}function E(C){var B,I;var O=y(C.key);-1==u(n,O)&&n.push(O);if(O in h)for(B in h[O]=!0,f)f[B]==O&&(b[B]=!0);else{for(r in h)h[r]=C[v[r]];if(b.filter.call(this,C)&&O in q){var z=d();for(I=0;I<q[O].length;I++){var G=q[O][I];if(G.scope==z||"all"==G.scope){var H=0<G.mods.length;for(B in h)if(!h[B]&&-1<u(G.mods,+B)||h[B]&&-1==u(G.mods,+B))H=
!1;(0!=G.mods.length||h[16]||h[18]||h[17]||h[91])&&!H||!1!==G.method(C,G)||(C.preventDefault?C.preventDefault():C.returnValue=!1,C.stopPropagation&&C.stopPropagation(),C.cancelBubble&&(C.cancelBubble=!0))}}}}}function b(C,B,I){var O=w(C);void 0===I&&(I=B,B="all");for(var z=0;z<O.length;z++){var G=[];C=O[z].split("+");1<C.length&&(G=a(C),C=[C[C.length-1]]);C=C[0];C=e(C);C in q||(q[C]=[]);q[C].push({shortcut:O[z],scope:B,method:I,key:O[z],mods:G})}}function d(){return c||"all"}function w(C){C=C.replace(/\s/g,
"");C=C.split(",");""==C[C.length-1]&&(C[C.length-2]+=",");return C}function a(C){C=C.slice(0,C.length-1);for(var B=0;B<C.length;B++)C[B]=f[C[B]];return C}function l(C,B,I){C.addEventListener&&C.addEventListener(B,I,!1)}var r,q={},h={16:!1,18:!1,17:!1,91:!1},c="all",f={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},p={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,
home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},e=function(C){C=p[C]||C.toUpperCase().charCodeAt(0);return"function"===typeof C?C():C},n=[];for(r=1;20>r;r++)p["f"+r]=111+r;var v={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(r in f)b[r]=!1;l(document,"keydown",function(C){E(C)});l(document,"keyup",function(C){C=y(C.key);var B,I=u(n,C);0<=I&&n.splice(I,1);if(C in h)for(B in h[C]=!1,f)f[B]==C&&(b[B]=!1)});l(window,
"focus",function(){for(r in h)h[r]=!1;for(r in f)b[r]=!1});var A=k.key;k.key=b;k.key.setScope=function(C){c=C||"all"};k.key.getScope=d;k.key.deleteScope=function(C){var B,I;for(B in q){var O=q[B];for(I=0;I<O.length;)O[I].scope===C?O.splice(I,1):I++}};k.key.filter=function(C){C=(C.target||C.srcElement).tagName;return!("INPUT"==C||"SELECT"==C||"TEXTAREA"==C)};k.key.isPressed=function(C){"string"==typeof C&&(C=e(C));return-1!=u(n,C)};k.key.getPressedKeyCodes=function(){return n.slice(0)};k.key.noConflict=
function(){var C=k.key;k.key=A;return C};k.key.unbind=function(C,B){var I=[],O,z;var G=w(C);for(z=0;z<G.length;z++){C=G[z].split("+");1<C.length&&(I=a(C));C=C[C.length-1];C=e(C);void 0===B&&(B=d());if(!q[C])break;for(O=0;O<q[C].length;O++){var H=q[C][O];var N;if(N=H.scope===B)a:if(H=H.mods,H.length!=I.length)N=!1;else{for(N=0;N<H.length;N++)if(H[N]!==I[N]){N=!1;break a}N=!0}N&&(q[C][O]={})}}};"undefined"!==typeof K&&(K.exports=b)})({})},{}],69:[function(g,K,D){(function(){for(var y=0,k=["ms","moz",
"webkit","o"],u=0;u<k.length&&!window.requestAnimationFrame;++u)window.requestAnimationFrame=window[k[u]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[k[u]+"CancelAnimationFrame"]||window[k[u]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(E,b){var d=(new Date).getTime(),w=Math.max(0,16-(d-y));b=window.setTimeout(function(){E(d+w)},w);y=d+w;return b});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(E){clearTimeout(E)})})()},
{}],70:[function(g,K,D){g("../../modules/es.array.fill");g=g("../../internals/entry-unbind");K.exports=g("Array","fill")},{"../../internals/entry-unbind":126,"../../modules/es.array.fill":241}],71:[function(g,K,D){g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g=g("../../internals/entry-unbind");K.exports=g("Array","values")},{"../../internals/entry-unbind":126,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249}],72:[function(g,K,D){g("../../modules/es.array.iterator");
g("../../modules/es.map");g("../../modules/es.object.to-string");g("../../modules/es.string.iterator");g=g("../../internals/path");K.exports=g.Map},{"../../internals/path":199,"../../modules/es.array.iterator":242,"../../modules/es.map":246,"../../modules/es.object.to-string":249,"../../modules/es.string.iterator":264}],73:[function(g,K,D){g("../../modules/es.aggregate-error");g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g("../../modules/es.promise");g("../../modules/es.promise.all-settled");
g("../../modules/es.promise.any");g("../../modules/es.promise.finally");g("../../modules/es.string.iterator");g=g("../../internals/path");K.exports=g.Promise},{"../../internals/path":199,"../../modules/es.aggregate-error":239,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249,"../../modules/es.promise":256,"../../modules/es.promise.all-settled":250,"../../modules/es.promise.any":252,"../../modules/es.promise.finally":255,"../../modules/es.string.iterator":264}],74:[function(g,
K,D){g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g("../../modules/es.set");g("../../modules/es.string.iterator");g=g("../../internals/path");K.exports=g.Set},{"../../internals/path":199,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249,"../../modules/es.set":262,"../../modules/es.string.iterator":264}],75:[function(g,K,D){g("../../modules/es.string.ends-with");g=g("../../internals/entry-unbind");K.exports=g("String","endsWith")},{"../../internals/entry-unbind":126,
"../../modules/es.string.ends-with":263}],76:[function(g,K,D){g("../../modules/es.array.concat");g("../../modules/es.object.to-string");g("../../modules/es.symbol");g("../../modules/es.symbol.async-iterator");g("../../modules/es.symbol.description");g("../../modules/es.symbol.has-instance");g("../../modules/es.symbol.is-concat-spreadable");g("../../modules/es.symbol.iterator");g("../../modules/es.symbol.match");g("../../modules/es.symbol.match-all");g("../../modules/es.symbol.replace");g("../../modules/es.symbol.search");
g("../../modules/es.symbol.species");g("../../modules/es.symbol.split");g("../../modules/es.symbol.to-primitive");g("../../modules/es.symbol.to-string-tag");g("../../modules/es.symbol.unscopables");g("../../modules/es.json.to-string-tag");g("../../modules/es.math.to-string-tag");g("../../modules/es.reflect.to-string-tag");g=g("../../internals/path");K.exports=g.Symbol},{"../../internals/path":199,"../../modules/es.array.concat":240,"../../modules/es.json.to-string-tag":244,"../../modules/es.math.to-string-tag":247,
"../../modules/es.object.to-string":249,"../../modules/es.reflect.to-string-tag":260,"../../modules/es.symbol":272,"../../modules/es.symbol.async-iterator":265,"../../modules/es.symbol.description":267,"../../modules/es.symbol.has-instance":269,"../../modules/es.symbol.is-concat-spreadable":270,"../../modules/es.symbol.iterator":271,"../../modules/es.symbol.match":275,"../../modules/es.symbol.match-all":274,"../../modules/es.symbol.replace":276,"../../modules/es.symbol.search":277,"../../modules/es.symbol.species":278,
"../../modules/es.symbol.split":279,"../../modules/es.symbol.to-primitive":280,"../../modules/es.symbol.to-string-tag":281,"../../modules/es.symbol.unscopables":282}],77:[function(g,K,D){g("../../modules/es.typed-array.fill")},{"../../modules/es.typed-array.fill":283}],78:[function(g,K,D){g("../../modules/es.typed-array.slice")},{"../../modules/es.typed-array.slice":284}],79:[function(g,K,D){var y=g("../internals/is-callable"),k=g("../internals/try-to-string"),u=TypeError;K.exports=function(E){if(y(E))return E;
throw new u(k(E)+" is not a function");}},{"../internals/is-callable":161,"../internals/try-to-string":228}],80:[function(g,K,D){var y=g("../internals/is-constructor"),k=g("../internals/try-to-string"),u=TypeError;K.exports=function(E){if(y(E))return E;throw new u(k(E)+" is not a constructor");}},{"../internals/is-constructor":162,"../internals/try-to-string":228}],81:[function(g,K,D){var y=g("../internals/is-callable"),k=String,u=TypeError;K.exports=function(E){if("object"==typeof E||y(E))return E;
throw new u("Can't set "+k(E)+" as a prototype");}},{"../internals/is-callable":161}],82:[function(g,K,D){D=g("../internals/well-known-symbol");var y=g("../internals/object-create");g=g("../internals/object-define-property").f;var k=D("unscopables"),u=Array.prototype;void 0===u[k]&&g(u,k,{configurable:!0,value:y(null)});K.exports=function(E){u[k][E]=!0}},{"../internals/object-create":182,"../internals/object-define-property":184,"../internals/well-known-symbol":237}],83:[function(g,K,D){var y=g("../internals/object-is-prototype-of"),
k=TypeError;K.exports=function(u,E){if(y(E,u))return u;throw new k("Incorrect invocation");}},{"../internals/object-is-prototype-of":191}],84:[function(g,K,D){var y=g("../internals/is-object"),k=String,u=TypeError;K.exports=function(E){if(y(E))return E;throw new u(k(E)+" is not an object");}},{"../internals/is-object":165}],85:[function(g,K,D){K.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],86:[function(g,K,D){g=g("../internals/fails");K.exports=g(function(){if("function"==
typeof ArrayBuffer){var y=new ArrayBuffer(8);Object.isExtensible(y)&&Object.defineProperty(y,"a",{value:8})}})},{"../internals/fails":132}],87:[function(g,K,D){var y=g("../internals/array-buffer-basic-detection"),k=g("../internals/descriptors"),u=g("../internals/global"),E=g("../internals/is-callable"),b=g("../internals/is-object"),d=g("../internals/has-own-property"),w=g("../internals/classof"),a=g("../internals/try-to-string");D=g("../internals/create-non-enumerable-property");var l=g("../internals/define-built-in"),
r=g("../internals/define-built-in-accessor"),q=g("../internals/object-is-prototype-of"),h=g("../internals/object-get-prototype-of"),c=g("../internals/object-set-prototype-of"),f=g("../internals/well-known-symbol"),p=g("../internals/uid"),e=g("../internals/internal-state");g=e.enforce;var n=e.get,v=u.Int8Array,A=v&&v.prototype;e=(e=u.Uint8ClampedArray)&&e.prototype;var C=v&&h(v),B=A&&h(A);v=Object.prototype;var I=u.TypeError;f=f("toStringTag");var O=p("TYPED_ARRAY_TAG"),z=y&&!!c&&"Opera"!==w(u.opera);
y=!1;var G,H,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},J={BigInt64Array:8,BigUint64Array:8},R=function(Y){Y=h(Y);if(b(Y)){var qa=n(Y);return qa&&d(qa,"TypedArrayConstructor")?qa.TypedArrayConstructor:R(Y)}},fa=function(Y){if(!b(Y))return!1;Y=w(Y);return d(N,Y)||d(J,Y)};for(G in N)(H=(p=u[G])&&p.prototype)?g(H).TypedArrayConstructor=p:z=!1;for(G in J)(H=(p=u[G])&&p.prototype)&&(g(H).TypedArrayConstructor=p);
if(!z||!E(C)||C===Function.prototype)if(C=function(){throw new I("Incorrect invocation");},z)for(G in N)u[G]&&c(u[G],C);if(!z||!B||B===v)if(B=C.prototype,z)for(G in N)u[G]&&c(u[G].prototype,B);z&&h(e)!==B&&c(e,B);if(k&&!d(B,f))for(G in y=!0,r(B,f,{configurable:!0,get:function(){return b(this)?this[O]:void 0}}),N)u[G]&&D(u[G],O,G);K.exports={NATIVE_ARRAY_BUFFER_VIEWS:z,TYPED_ARRAY_TAG:y&&O,aTypedArray:function(Y){if(fa(Y))return Y;throw new I("Target is not a typed array");},aTypedArrayConstructor:function(Y){if(E(Y)&&
(!c||q(C,Y)))return Y;throw new I(a(Y)+" is not a typed array constructor");},exportTypedArrayMethod:function(Y,qa,ka,Q){if(k){if(ka)for(var aa in N){var ha=u[aa];if(ha&&d(ha.prototype,Y))try{delete ha.prototype[Y]}catch(ra){try{ha.prototype[Y]=qa}catch(ta){}}}B[Y]&&!ka||l(B,Y,ka?qa:z&&A[Y]||qa,Q)}},exportTypedArrayStaticMethod:function(Y,qa,ka){var Q,aa;if(k){if(c){if(ka)for(Q in N)if((aa=u[Q])&&d(aa,Y))try{delete aa[Y]}catch(ha){}if(!C[Y]||ka)try{return l(C,Y,ka?qa:z&&C[Y]||qa)}catch(ha){}else return}for(Q in N)aa=
u[Q],!aa||aa[Y]&&!ka||l(aa,Y,qa)}},getTypedArrayConstructor:R,isView:function(Y){if(!b(Y))return!1;Y=w(Y);return"DataView"===Y||d(N,Y)||d(J,Y)},isTypedArray:fa,TypedArray:C,TypedArrayPrototype:B}},{"../internals/array-buffer-basic-detection":85,"../internals/classof":98,"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/global":147,"../internals/has-own-property":148,"../internals/internal-state":158,
"../internals/is-callable":161,"../internals/is-object":165,"../internals/object-get-prototype-of":189,"../internals/object-is-prototype-of":191,"../internals/object-set-prototype-of":195,"../internals/try-to-string":228,"../internals/uid":230,"../internals/well-known-symbol":237}],88:[function(g,K,D){var y=g("../internals/to-object"),k=g("../internals/to-absolute-index"),u=g("../internals/length-of-array-like");K.exports=function(E){var b=y(this),d=u(b),w=arguments.length,a=k(1<w?arguments[1]:void 0,
d);w=2<w?arguments[2]:void 0;for(d=void 0===w?d:k(w,d);d>a;)b[a++]=E;return b}},{"../internals/length-of-array-like":175,"../internals/to-absolute-index":218,"../internals/to-object":223}],89:[function(g,K,D){var y=g("../internals/to-indexed-object"),k=g("../internals/to-absolute-index"),u=g("../internals/length-of-array-like");g=function(E){return function(b,d,w){b=y(b);var a=u(b);w=k(w,a);if(E&&d!==d)for(;a>w;){if(d=b[w++],d!==d)return!0}else for(;a>w;w++)if((E||w in b)&&b[w]===d)return E||w||0;
return!E&&-1}};K.exports={includes:g(!0),indexOf:g(!1)}},{"../internals/length-of-array-like":175,"../internals/to-absolute-index":218,"../internals/to-indexed-object":220}],90:[function(g,K,D){var y=g("../internals/function-bind-context");D=g("../internals/function-uncurry-this");var k=g("../internals/indexed-object"),u=g("../internals/to-object"),E=g("../internals/length-of-array-like"),b=g("../internals/array-species-create"),d=D([].push);g=function(w){var a=1===w,l=2===w,r=3===w,q=4===w,h=6===
w,c=7===w,f=5===w||h;return function(p,e,n,v){var A=u(p),C=k(A);e=y(e,n);n=E(C);var B=0;v=v||b;p=a?v(p,n):l||c?v(p,0):void 0;for(var I;n>B;B++)if(f||B in C)if(v=C[B],I=e(v,B,A),w)if(a)p[B]=I;else if(I)switch(w){case 3:return!0;case 5:return v;case 6:return B;case 2:d(p,v)}else switch(w){case 4:return!1;case 7:d(p,v)}return h?-1:r||q?q:p}};K.exports={forEach:g(0),map:g(1),filter:g(2),some:g(3),every:g(4),find:g(5),findIndex:g(6),filterReject:g(7)}},{"../internals/array-species-create":95,"../internals/function-bind-context":135,
"../internals/function-uncurry-this":141,"../internals/indexed-object":153,"../internals/length-of-array-like":175,"../internals/to-object":223}],91:[function(g,K,D){var y=g("../internals/fails");D=g("../internals/well-known-symbol");var k=g("../internals/engine-v8-version"),u=D("species");K.exports=function(E){return 51<=k||!y(function(){var b=[];(b.constructor={})[u]=function(){return{foo:1}};return 1!==b[E](Boolean).foo})}},{"../internals/engine-v8-version":125,"../internals/fails":132,"../internals/well-known-symbol":237}],
92:[function(g,K,D){var y=g("../internals/to-absolute-index"),k=g("../internals/length-of-array-like"),u=g("../internals/create-property"),E=Array,b=Math.max;K.exports=function(d,w,a){var l=k(d);w=y(w,l);a=y(void 0===a?l:a,l);l=E(b(a-w,0));for(var r=0;w<a;w++,r++)u(l,r,d[w]);l.length=r;return l}},{"../internals/create-property":107,"../internals/length-of-array-like":175,"../internals/to-absolute-index":218}],93:[function(g,K,D){g=g("../internals/function-uncurry-this");K.exports=g([].slice)},{"../internals/function-uncurry-this":141}],
94:[function(g,K,D){var y=g("../internals/is-array"),k=g("../internals/is-constructor"),u=g("../internals/is-object"),E=g("../internals/well-known-symbol")("species"),b=Array;K.exports=function(d){if(y(d)){var w=d.constructor;k(w)&&(w===b||y(w.prototype))?w=void 0:u(w)&&(w=w[E],null===w&&(w=void 0))}return void 0===w?b:w}},{"../internals/is-array":160,"../internals/is-constructor":162,"../internals/is-object":165,"../internals/well-known-symbol":237}],95:[function(g,K,D){var y=g("../internals/array-species-constructor");
K.exports=function(k,u){return new (y(k))(0===u?0:u)}},{"../internals/array-species-constructor":94}],96:[function(g,K,D){var y=g("../internals/well-known-symbol")("iterator"),k=!1;try{var u=0;g={next:function(){return{done:!!u++}},"return":function(){k=!0}};g[y]=function(){return this};Array.from(g,function(){throw 2;})}catch(E){}K.exports=function(E,b){if(!b&&!k)return!1;var d=!1;try{b={},b[y]=function(){return{next:function(){return{done:d=!0}}}},E(b)}catch(w){}return d}},{"../internals/well-known-symbol":237}],
97:[function(g,K,D){g=g("../internals/function-uncurry-this");var y=g({}.toString),k=g("".slice);K.exports=function(u){return k(y(u),8,-1)}},{"../internals/function-uncurry-this":141}],98:[function(g,K,D){D=g("../internals/to-string-tag-support");var y=g("../internals/is-callable"),k=g("../internals/classof-raw"),u=g("../internals/well-known-symbol")("toStringTag"),E=Object,b="Arguments"===k(function(){return arguments}());K.exports=D?k:function(d){var w;if(void 0===d)var a="Undefined";else{if(null===
d)var l="Null";else{a:{var r=d=E(d);try{l=r[u];break a}catch(q){}l=void 0}l="string"==typeof(a=l)?a:b?k(d):"Object"===(w=k(d))&&y(d.callee)?"Arguments":w}a=l}return a}},{"../internals/classof-raw":97,"../internals/is-callable":161,"../internals/to-string-tag-support":226,"../internals/well-known-symbol":237}],99:[function(g,K,D){var y=g("../internals/object-create"),k=g("../internals/define-built-in-accessor"),u=g("../internals/define-built-ins"),E=g("../internals/function-bind-context"),b=g("../internals/an-instance"),
d=g("../internals/is-null-or-undefined"),w=g("../internals/iterate"),a=g("../internals/iterator-define"),l=g("../internals/create-iter-result-object"),r=g("../internals/set-species"),q=g("../internals/descriptors"),h=g("../internals/internal-metadata").fastKey;g=g("../internals/internal-state");var c=g.set,f=g.getterFor;K.exports={getConstructor:function(p,e,n,v){p=p(function(O,z){b(O,A);c(O,{type:e,index:y(null),first:void 0,last:void 0,size:0});q||(O.size=0);d(z)||w(z,O[v],{that:O,AS_ENTRIES:n})});
var A=p.prototype,C=f(e),B=function(O,z,G){var H=C(O),N=I(O,z),J,R;N?N.value=G:(H.last=N={index:R=h(z,!0),key:z,value:G,previous:J=H.last,next:void 0,removed:!1},H.first||(H.first=N),J&&(J.next=N),q?H.size++:O.size++,"F"!==R&&(H.index[R]=N));return O},I=function(O,z){O=C(O);var G=h(z);if("F"!==G)return O.index[G];for(O=O.first;O;O=O.next)if(O.key===z)return O};u(A,{clear:function(){for(var O=C(this),z=O.index,G=O.first;G;)G.removed=!0,G.previous&&(G.previous=G.previous.next=void 0),delete z[G.index],
G=G.next;O.first=O.last=void 0;q?O.size=0:this.size=0},"delete":function(O){var z=C(this);if(O=I(this,O)){var G=O.next,H=O.previous;delete z.index[O.index];O.removed=!0;H&&(H.next=G);G&&(G.previous=H);z.first===O&&(z.first=G);z.last===O&&(z.last=H);q?z.size--:this.size--}return!!O},forEach:function(O){for(var z=C(this),G=E(O,1<arguments.length?arguments[1]:void 0),H;H=H?H.next:z.first;)for(G(H.value,H.key,this);H&&H.removed;)H=H.previous},has:function(O){return!!I(this,O)}});u(A,n?{get:function(O){return(O=
I(this,O))&&O.value},set:function(O,z){return B(this,0===O?0:O,z)}}:{add:function(O){return B(this,O=0===O?0:O,O)}});q&&k(A,"size",{configurable:!0,get:function(){return C(this).size}});return p},setStrong:function(p,e,n){var v=e+" Iterator",A=f(e),C=f(v);a(p,e,function(B,I){c(this,{type:v,target:B,state:A(B),kind:I,last:void 0})},function(){for(var B=C(this),I=B.kind,O=B.last;O&&O.removed;)O=O.previous;return B.target&&(B.last=O=O?O.next:B.state.first)?"keys"===I?l(O.key,!1):"values"===I?l(O.value,
!1):l([O.key,O.value],!1):(B.target=void 0,l(void 0,!0))},n?"entries":"values",!n,!0);r(e)}}},{"../internals/an-instance":83,"../internals/create-iter-result-object":104,"../internals/define-built-in-accessor":108,"../internals/define-built-ins":110,"../internals/descriptors":112,"../internals/function-bind-context":135,"../internals/internal-metadata":157,"../internals/internal-state":158,"../internals/is-null-or-undefined":164,"../internals/iterate":169,"../internals/iterator-define":172,"../internals/object-create":182,
"../internals/set-species":207}],100:[function(g,K,D){var y=g("../internals/export"),k=g("../internals/global"),u=g("../internals/function-uncurry-this"),E=g("../internals/is-forced"),b=g("../internals/define-built-in"),d=g("../internals/internal-metadata"),w=g("../internals/iterate"),a=g("../internals/an-instance"),l=g("../internals/is-callable"),r=g("../internals/is-null-or-undefined"),q=g("../internals/is-object"),h=g("../internals/fails"),c=g("../internals/check-correctness-of-iteration"),f=g("../internals/set-to-string-tag"),
p=g("../internals/inherit-if-required");K.exports=function(e,n,v){var A=-1!==e.indexOf("Map"),C=-1!==e.indexOf("Weak"),B=A?"set":"add",I=k[e],O=I&&I.prototype,z=I,G={},H=function(qa){var ka=u(O[qa]);b(O,qa,"add"===qa?function(Q){ka(this,0===Q?0:Q);return this}:"delete"===qa?function(Q){return C&&!q(Q)?!1:ka(this,0===Q?0:Q)}:"get"===qa?function(Q){return C&&!q(Q)?void 0:ka(this,0===Q?0:Q)}:"has"===qa?function(Q){return C&&!q(Q)?!1:ka(this,0===Q?0:Q)}:function(Q,aa){ka(this,0===Q?0:Q,aa);return this})};
if(E(e,!l(I)||!(C||O.forEach&&!h(function(){(new I).entries().next()}))))z=v.getConstructor(n,e,A,B),d.enable();else if(E(e,!0)){var N=new z,J=N[B](C?{}:-0,1)!==N,R=h(function(){N.has(1)}),fa=c(function(qa){new I(qa)}),Y=!C&&h(function(){for(var qa=new I,ka=5;ka--;)qa[B](ka,ka);return!qa.has(-0)});fa||(z=n(function(qa,ka){a(qa,O);qa=p(new I,qa,z);r(ka)||w(ka,qa[B],{that:qa,AS_ENTRIES:A});return qa}),z.prototype=O,O.constructor=z);if(R||Y)H("delete"),H("has"),A&&H("get");(Y||J)&&H(B);C&&O.clear&&delete O.clear}G[e]=
z;y({global:!0,constructor:!0,forced:z!==I},G);f(z,e);C||v.setStrong(z,e,A);return z}},{"../internals/an-instance":83,"../internals/check-correctness-of-iteration":96,"../internals/define-built-in":109,"../internals/export":131,"../internals/fails":132,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/inherit-if-required":154,"../internals/internal-metadata":157,"../internals/is-callable":161,"../internals/is-forced":163,"../internals/is-null-or-undefined":164,"../internals/is-object":165,
"../internals/iterate":169,"../internals/set-to-string-tag":208}],101:[function(g,K,D){var y=g("../internals/has-own-property"),k=g("../internals/own-keys"),u=g("../internals/object-get-own-property-descriptor"),E=g("../internals/object-define-property");K.exports=function(b,d,w){for(var a=k(d),l=E.f,r=u.f,q=0;q<a.length;q++){var h=a[q];y(b,h)||w&&y(w,h)||l(b,h,r(d,h))}}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/object-get-own-property-descriptor":185,
"../internals/own-keys":198}],102:[function(g,K,D){var y=g("../internals/well-known-symbol")("match");K.exports=function(k){var u=/./;try{"/./"[k](u)}catch(E){try{return u[y]=!1,"/./"[k](u)}catch(b){}}return!1}},{"../internals/well-known-symbol":237}],103:[function(g,K,D){g=g("../internals/fails");K.exports=!g(function(){function y(){}y.prototype.constructor=null;return Object.getPrototypeOf(new y)!==y.prototype})},{"../internals/fails":132}],104:[function(g,K,D){K.exports=function(y,k){return{value:y,
done:k}}},{}],105:[function(g,K,D){D=g("../internals/descriptors");var y=g("../internals/object-define-property"),k=g("../internals/create-property-descriptor");K.exports=D?function(u,E,b){return y.f(u,E,k(1,b))}:function(u,E,b){u[E]=b;return u}},{"../internals/create-property-descriptor":106,"../internals/descriptors":112,"../internals/object-define-property":184}],106:[function(g,K,D){K.exports=function(y,k){return{enumerable:!(y&1),configurable:!(y&2),writable:!(y&4),value:k}}},{}],107:[function(g,
K,D){var y=g("../internals/to-property-key"),k=g("../internals/object-define-property"),u=g("../internals/create-property-descriptor");K.exports=function(E,b,d){b=y(b);b in E?k.f(E,b,u(0,d)):E[b]=d}},{"../internals/create-property-descriptor":106,"../internals/object-define-property":184,"../internals/to-property-key":225}],108:[function(g,K,D){var y=g("../internals/make-built-in"),k=g("../internals/object-define-property");K.exports=function(u,E,b){b.get&&y(b.get,E,{getter:!0});b.set&&y(b.set,E,
{setter:!0});return k.f(u,E,b)}},{"../internals/make-built-in":176,"../internals/object-define-property":184}],109:[function(g,K,D){var y=g("../internals/is-callable"),k=g("../internals/object-define-property"),u=g("../internals/make-built-in"),E=g("../internals/define-global-property");K.exports=function(b,d,w,a){a||={};var l=a.enumerable,r=void 0!==a.name?a.name:d;y(w)&&u(w,r,a);if(a.global)l?b[d]=w:E(d,w);else{try{a.unsafe?b[d]&&(l=!0):delete b[d]}catch(q){}l?b[d]=w:k.f(b,d,{value:w,enumerable:!1,
configurable:!a.nonConfigurable,writable:!a.nonWritable})}return b}},{"../internals/define-global-property":111,"../internals/is-callable":161,"../internals/make-built-in":176,"../internals/object-define-property":184}],110:[function(g,K,D){var y=g("../internals/define-built-in");K.exports=function(k,u,E){for(var b in u)y(k,b,u[b],E);return k}},{"../internals/define-built-in":109}],111:[function(g,K,D){var y=g("../internals/global"),k=Object.defineProperty;K.exports=function(u,E){try{k(y,u,{value:E,
configurable:!0,writable:!0})}catch(b){y[u]=E}return E}},{"../internals/global":147}],112:[function(g,K,D){g=g("../internals/fails");K.exports=!g(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":132}],113:[function(g,K,D){g="object"==typeof document&&document.all;K.exports={all:g,IS_HTMLDDA:"undefined"==typeof g&&void 0!==g}},{}],114:[function(g,K,D){D=g("../internals/global");g=g("../internals/is-object");var y=D.document,k=g(y)&&g(y.createElement);
K.exports=function(u){return k?y.createElement(u):{}}},{"../internals/global":147,"../internals/is-object":165}],115:[function(g,K,D){var y=TypeError;K.exports=function(k){if(9007199254740991<k)throw y("Maximum allowed index exceeded");return k}},{}],116:[function(g,K,D){K.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,
MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],117:[function(g,K,D){g=(g=g("../internals/document-create-element")("span").classList)&&g.constructor&&g.constructor.prototype;K.exports=g===Object.prototype?void 0:g},{"../internals/document-create-element":114}],118:[function(g,
K,D){D=g("../internals/engine-is-deno");g=g("../internals/engine-is-node");K.exports=!D&&!g&&"object"==typeof window&&"object"==typeof document},{"../internals/engine-is-deno":119,"../internals/engine-is-node":122}],119:[function(g,K,D){K.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},{}],120:[function(g,K,D){g=g("../internals/engine-user-agent");K.exports=/ipad|iphone|ipod/i.test(g)&&"undefined"!=typeof Pebble},{"../internals/engine-user-agent":124}],121:[function(g,K,D){g=g("../internals/engine-user-agent");
K.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(g)},{"../internals/engine-user-agent":124}],122:[function(g,K,D){D=g("../internals/global");g=g("../internals/classof-raw");K.exports="process"===g(D.process)},{"../internals/classof-raw":97,"../internals/global":147}],123:[function(g,K,D){g=g("../internals/engine-user-agent");K.exports=/web0s(?!.*chrome)/i.test(g)},{"../internals/engine-user-agent":124}],124:[function(g,K,D){K.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||
""},{}],125:[function(g,K,D){D=g("../internals/global");g=g("../internals/engine-user-agent");var y=D.process;D=D.Deno;D=(D=y&&y.versions||D&&D.version)&&D.v8;if(D){D=D.split(".");var k=0<D[0]&&4>D[0]?1:+(D[0]+D[1])}!k&&g&&(D=g.match(/Edge\/(\d+)/),(!D||74<=D[1])&&(D=g.match(/Chrome\/(\d+)/))&&(k=+D[1]));K.exports=k},{"../internals/engine-user-agent":124,"../internals/global":147}],126:[function(g,K,D){var y=g("../internals/global"),k=g("../internals/function-uncurry-this");K.exports=function(u,E){return k(y[u].prototype[E])}},
{"../internals/function-uncurry-this":141,"../internals/global":147}],127:[function(g,K,D){K.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},{}],128:[function(g,K,D){g=g("../internals/function-uncurry-this");var y=Error,k=g("".replace);g=String((new y("zxcasd")).stack);var u=/\n\s*at [^:]*:[^\n]*/,E=u.test(g);K.exports=function(b,d){if(E&&"string"==typeof b&&!y.prepareStackTrace)for(;d--;)b=k(b,u,"");return b}},{"../internals/function-uncurry-this":141}],
129:[function(g,K,D){var y=g("../internals/create-non-enumerable-property"),k=g("../internals/error-stack-clear"),u=g("../internals/error-stack-installable"),E=Error.captureStackTrace;K.exports=function(b,d,w,a){u&&(E?E(b,d):y(b,"stack",k(w,a)))}},{"../internals/create-non-enumerable-property":105,"../internals/error-stack-clear":128,"../internals/error-stack-installable":130}],130:[function(g,K,D){D=g("../internals/fails");var y=g("../internals/create-property-descriptor");K.exports=!D(function(){var k=
Error("a");if(!("stack"in k))return!0;Object.defineProperty(k,"stack",y(1,7));return 7!==k.stack})},{"../internals/create-property-descriptor":106,"../internals/fails":132}],131:[function(g,K,D){var y=g("../internals/global"),k=g("../internals/object-get-own-property-descriptor").f,u=g("../internals/create-non-enumerable-property"),E=g("../internals/define-built-in"),b=g("../internals/define-global-property"),d=g("../internals/copy-constructor-properties"),w=g("../internals/is-forced");K.exports=
function(a,l){var r=a.target,q=a.global,h=a.stat,c,f,p;if(f=q?y:h?y[r]||b(r,{}):(y[r]||{}).prototype)for(p in l){var e=l[p];var n=a.dontCallGetSet?(c=k(f,p))&&c.value:f[p];c=w(q?p:r+(h?".":"#")+p,a.forced);if(!c&&void 0!==n){if(typeof e==typeof n)continue;d(e,n)}(a.sham||n&&n.sham)&&u(e,"sham",!0);E(f,p,e,a)}}},{"../internals/copy-constructor-properties":101,"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/define-global-property":111,"../internals/global":147,
"../internals/is-forced":163,"../internals/object-get-own-property-descriptor":185}],132:[function(g,K,D){K.exports=function(y){try{return!!y()}catch(k){return!0}}},{}],133:[function(g,K,D){g=g("../internals/fails");K.exports=!g(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":132}],134:[function(g,K,D){g=g("../internals/function-bind-native");D=Function.prototype;var y=D.apply,k=D.call;K.exports="object"==typeof Reflect&&Reflect.apply||(g?k.bind(y):function(){return k.apply(y,
arguments)})},{"../internals/function-bind-native":136}],135:[function(g,K,D){D=g("../internals/function-uncurry-this-clause");var y=g("../internals/a-callable"),k=g("../internals/function-bind-native"),u=D(D.bind);K.exports=function(E,b){y(E);return void 0===b?E:k?u(E,b):function(){return E.apply(b,arguments)}}},{"../internals/a-callable":79,"../internals/function-bind-native":136,"../internals/function-uncurry-this-clause":140}],136:[function(g,K,D){g=g("../internals/fails");K.exports=!g(function(){var y=
function(){}.bind();return"function"!=typeof y||y.hasOwnProperty("prototype")})},{"../internals/fails":132}],137:[function(g,K,D){g=g("../internals/function-bind-native");var y=Function.prototype.call;K.exports=g?y.bind(y):function(){return y.apply(y,arguments)}},{"../internals/function-bind-native":136}],138:[function(g,K,D){D=g("../internals/descriptors");var y=g("../internals/has-own-property");g=Function.prototype;var k=D&&Object.getOwnPropertyDescriptor,u=(y=y(g,"name"))&&"something"===function(){}.name;
D=y&&(!D||D&&k(g,"name").configurable);K.exports={EXISTS:y,PROPER:u,CONFIGURABLE:D}},{"../internals/descriptors":112,"../internals/has-own-property":148}],139:[function(g,K,D){var y=g("../internals/function-uncurry-this"),k=g("../internals/a-callable");K.exports=function(u,E,b){try{return y(k(Object.getOwnPropertyDescriptor(u,E)[b]))}catch(d){}}},{"../internals/a-callable":79,"../internals/function-uncurry-this":141}],140:[function(g,K,D){var y=g("../internals/classof-raw"),k=g("../internals/function-uncurry-this");
K.exports=function(u){if("Function"===y(u))return k(u)}},{"../internals/classof-raw":97,"../internals/function-uncurry-this":141}],141:[function(g,K,D){g=g("../internals/function-bind-native");D=Function.prototype;var y=D.call;D=g&&D.bind.bind(y,y);K.exports=g?D:function(k){return function(){return y.apply(k,arguments)}}},{"../internals/function-bind-native":136}],142:[function(g,K,D){var y=g("../internals/global"),k=g("../internals/is-callable");K.exports=function(u,E){if(2>arguments.length){var b=
y[u];b=k(b)?b:void 0}else b=y[u]&&y[u][E];return b}},{"../internals/global":147,"../internals/is-callable":161}],143:[function(g,K,D){var y=g("../internals/classof"),k=g("../internals/get-method"),u=g("../internals/is-null-or-undefined"),E=g("../internals/iterators"),b=g("../internals/well-known-symbol")("iterator");K.exports=function(d){if(!u(d))return k(d,b)||k(d,"@@iterator")||E[y(d)]}},{"../internals/classof":98,"../internals/get-method":146,"../internals/is-null-or-undefined":164,"../internals/iterators":174,
"../internals/well-known-symbol":237}],144:[function(g,K,D){var y=g("../internals/function-call"),k=g("../internals/a-callable"),u=g("../internals/an-object"),E=g("../internals/try-to-string"),b=g("../internals/get-iterator-method"),d=TypeError;K.exports=function(w,a){var l=2>arguments.length?b(w):a;if(k(l))return u(y(l,w));throw new d(E(w)+" is not iterable");}},{"../internals/a-callable":79,"../internals/an-object":84,"../internals/function-call":137,"../internals/get-iterator-method":143,"../internals/try-to-string":228}],
145:[function(g,K,D){D=g("../internals/function-uncurry-this");var y=g("../internals/is-array"),k=g("../internals/is-callable"),u=g("../internals/classof-raw"),E=g("../internals/to-string"),b=D([].push);K.exports=function(d){if(k(d))return d;if(y(d)){for(var w=d.length,a=[],l=0;l<w;l++){var r=d[l];"string"==typeof r?b(a,r):("number"==typeof r||"Number"===u(r)||"String"===u(r))&&b(a,E(r))}var q=a.length,h=!0;return function(c,f){if(h)return h=!1,f;if(y(this))return f;for(var p=0;p<q;p++)if(a[p]===
c)return f}}}},{"../internals/classof-raw":97,"../internals/function-uncurry-this":141,"../internals/is-array":160,"../internals/is-callable":161,"../internals/to-string":227}],146:[function(g,K,D){var y=g("../internals/a-callable"),k=g("../internals/is-null-or-undefined");K.exports=function(u,E){u=u[E];return k(u)?void 0:y(u)}},{"../internals/a-callable":79,"../internals/is-null-or-undefined":164}],147:[function(g,K,D){(function(y){(function(){var k=function(u){return u&&u.Math===Math&&u};K.exports=
k("object"==typeof globalThis&&globalThis)||k("object"==typeof window&&window)||k("object"==typeof self&&self)||k("object"==typeof y&&y)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],148:[function(g,K,D){D=g("../internals/function-uncurry-this");var y=g("../internals/to-object"),k=D({}.hasOwnProperty);K.exports=Object.hasOwn||function(u,E){return k(y(u),
E)}},{"../internals/function-uncurry-this":141,"../internals/to-object":223}],149:[function(g,K,D){K.exports={}},{}],150:[function(g,K,D){K.exports=function(y,k){try{1===arguments.length?console.error(y):console.error(y,k)}catch(u){}}},{}],151:[function(g,K,D){g=g("../internals/get-built-in");K.exports=g("document","documentElement")},{"../internals/get-built-in":142}],152:[function(g,K,D){D=g("../internals/descriptors");var y=g("../internals/fails"),k=g("../internals/document-create-element");K.exports=
!D&&!y(function(){return 7!==Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":112,"../internals/document-create-element":114,"../internals/fails":132}],153:[function(g,K,D){D=g("../internals/function-uncurry-this");var y=g("../internals/fails"),k=g("../internals/classof-raw"),u=Object,E=D("".split);K.exports=y(function(){return!u("z").propertyIsEnumerable(0)})?function(b){return"String"===k(b)?E(b,""):u(b)}:u},{"../internals/classof-raw":97,"../internals/fails":132,
"../internals/function-uncurry-this":141}],154:[function(g,K,D){var y=g("../internals/is-callable"),k=g("../internals/is-object"),u=g("../internals/object-set-prototype-of");K.exports=function(E,b,d){var w,a;u&&y(w=b.constructor)&&w!==d&&k(a=w.prototype)&&a!==d.prototype&&u(E,a);return E}},{"../internals/is-callable":161,"../internals/is-object":165,"../internals/object-set-prototype-of":195}],155:[function(g,K,D){D=g("../internals/function-uncurry-this");var y=g("../internals/is-callable");g=g("../internals/shared-store");
var k=D(Function.toString);y(g.inspectSource)||(g.inspectSource=function(u){return k(u)});K.exports=g.inspectSource},{"../internals/function-uncurry-this":141,"../internals/is-callable":161,"../internals/shared-store":210}],156:[function(g,K,D){var y=g("../internals/is-object"),k=g("../internals/create-non-enumerable-property");K.exports=function(u,E){y(E)&&"cause"in E&&k(u,"cause",E.cause)}},{"../internals/create-non-enumerable-property":105,"../internals/is-object":165}],157:[function(g,K,D){var y=
g("../internals/export"),k=g("../internals/function-uncurry-this");D=g("../internals/hidden-keys");var u=g("../internals/is-object"),E=g("../internals/has-own-property"),b=g("../internals/object-define-property").f,d=g("../internals/object-get-own-property-names"),w=g("../internals/object-get-own-property-names-external"),a=g("../internals/object-is-extensible"),l=g("../internals/uid"),r=g("../internals/freezing"),q=!1,h=l("meta"),c=0,f=function(e){b(e,h,{value:{objectID:"O"+c++,weakData:{}}})},p=
K.exports={enable:function(){p.enable=function(){};q=!0;var e=d.f,n=k([].splice),v={};v[h]=1;e(v).length&&(d.f=function(A){A=e(A);for(var C=0,B=A.length;C<B;C++)if(A[C]===h){n(A,C,1);break}return A},y({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:w.f}))},fastKey:function(e,n){if(!u(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!E(e,h)){if(!a(e))return"F";if(!n)return"E";f(e)}return e[h].objectID},getWeakData:function(e,n){if(!E(e,h)){if(!a(e))return!0;if(!n)return!1;f(e)}return e[h].weakData},
onFreeze:function(e){r&&q&&a(e)&&!E(e,h)&&f(e);return e}};D[h]=!0},{"../internals/export":131,"../internals/freezing":133,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/is-object":165,"../internals/object-define-property":184,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-names-external":186,"../internals/object-is-extensible":190,"../internals/uid":230}],158:[function(g,K,D){D=g("../internals/weak-map-basic-detection");
var y=g("../internals/global"),k=g("../internals/is-object"),u=g("../internals/create-non-enumerable-property"),E=g("../internals/has-own-property"),b=g("../internals/shared-store"),d=g("../internals/shared-key");g=g("../internals/hidden-keys");var w=y.TypeError;y=y.WeakMap;if(D||b.state){var a=b.state||(b.state=new y);a.get=a.get;a.has=a.has;a.set=a.set;var l=function(c,f){if(a.has(c))throw new w("Object already initialized");f.facade=c;a.set(c,f);return f};var r=function(c){return a.get(c)||{}};
var q=function(c){return a.has(c)}}else{var h=d("state");g[h]=!0;l=function(c,f){if(E(c,h))throw new w("Object already initialized");f.facade=c;u(c,h,f);return f};r=function(c){return E(c,h)?c[h]:{}};q=function(c){return E(c,h)}}K.exports={set:l,get:r,has:q,enforce:function(c){return q(c)?r(c):l(c,{})},getterFor:function(c){return function(f){var p;if(!k(f)||(p=r(f)).type!==c)throw new w("Incompatible receiver, "+c+" required");return p}}}},{"../internals/create-non-enumerable-property":105,"../internals/global":147,
"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/is-object":165,"../internals/shared-key":209,"../internals/shared-store":210,"../internals/weak-map-basic-detection":234}],159:[function(g,K,D){D=g("../internals/well-known-symbol");var y=g("../internals/iterators"),k=D("iterator"),u=Array.prototype;K.exports=function(E){return void 0!==E&&(y.Array===E||u[k]===E)}},{"../internals/iterators":174,"../internals/well-known-symbol":237}],160:[function(g,K,D){var y=g("../internals/classof-raw");
K.exports=Array.isArray||function(k){return"Array"===y(k)}},{"../internals/classof-raw":97}],161:[function(g,K,D){g=g("../internals/document-all");var y=g.all;K.exports=g.IS_HTMLDDA?function(k){return"function"==typeof k||k===y}:function(k){return"function"==typeof k}},{"../internals/document-all":113}],162:[function(g,K,D){var y=g("../internals/function-uncurry-this");D=g("../internals/fails");var k=g("../internals/is-callable"),u=g("../internals/classof"),E=g("../internals/get-built-in"),b=g("../internals/inspect-source"),
d=function(){},w=[],a=E("Reflect","construct"),l=/^\s*(?:class|function)\b/,r=y(l.exec),q=!l.test(d),h=function(c){if(!k(c))return!1;try{return a(d,w,c),!0}catch(f){return!1}};g=function(c){if(!k(c))return!1;switch(u(c)){case "AsyncFunction":case "GeneratorFunction":case "AsyncGeneratorFunction":return!1}try{return q||!!r(l,b(c))}catch(f){return!0}};g.sham=!0;K.exports=!a||D(function(){var c;return h(h.call)||!h(Object)||!h(function(){c=!0})||c})?g:h},{"../internals/classof":98,"../internals/fails":132,
"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/inspect-source":155,"../internals/is-callable":161}],163:[function(g,K,D){var y=g("../internals/fails"),k=g("../internals/is-callable"),u=/#|\.prototype\./;g=function(a,l){a=b[E(a)];return a===w?!0:a===d?!1:k(l)?y(l):!!l};var E=g.normalize=function(a){return String(a).replace(u,".").toLowerCase()},b=g.data={},d=g.NATIVE="N",w=g.POLYFILL="P";K.exports=g},{"../internals/fails":132,"../internals/is-callable":161}],
164:[function(g,K,D){K.exports=function(y){return null===y||void 0===y}},{}],165:[function(g,K,D){var y=g("../internals/is-callable");g=g("../internals/document-all");var k=g.all;K.exports=g.IS_HTMLDDA?function(u){return"object"==typeof u?null!==u:y(u)||u===k}:function(u){return"object"==typeof u?null!==u:y(u)}},{"../internals/document-all":113,"../internals/is-callable":161}],166:[function(g,K,D){K.exports=!1},{}],167:[function(g,K,D){var y=g("../internals/is-object"),k=g("../internals/classof-raw"),
u=g("../internals/well-known-symbol")("match");K.exports=function(E){var b;return y(E)&&(void 0!==(b=E[u])?!!b:"RegExp"===k(E))}},{"../internals/classof-raw":97,"../internals/is-object":165,"../internals/well-known-symbol":237}],168:[function(g,K,D){var y=g("../internals/get-built-in"),k=g("../internals/is-callable"),u=g("../internals/object-is-prototype-of");g=g("../internals/use-symbol-as-uid");var E=Object;K.exports=g?function(b){return"symbol"==typeof b}:function(b){var d=y("Symbol");return k(d)&&
u(d.prototype,E(b))}},{"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/object-is-prototype-of":191,"../internals/use-symbol-as-uid":231}],169:[function(g,K,D){var y=g("../internals/function-bind-context"),k=g("../internals/function-call"),u=g("../internals/an-object"),E=g("../internals/try-to-string"),b=g("../internals/is-array-iterator-method"),d=g("../internals/length-of-array-like"),w=g("../internals/object-is-prototype-of"),a=g("../internals/get-iterator"),l=g("../internals/get-iterator-method"),
r=g("../internals/iterator-close"),q=TypeError,h=function(f,p){this.stopped=f;this.result=p},c=h.prototype;K.exports=function(f,p,e){var n=!(!e||!e.AS_ENTRIES),v=!(!e||!e.IS_RECORD),A=!(!e||!e.IS_ITERATOR),C=!(!e||!e.INTERRUPTED),B=y(p,e&&e.that),I,O=function(G){z&&r(z,"normal",G);return new h(!0,G)};p=function(G){return n?(u(G),C?B(G[0],G[1],O):B(G[0],G[1])):C?B(G,O):B(G)};if(v)var z=f.iterator;else if(A)z=f;else{A=l(f);if(!A)throw new q(E(f)+" is not iterable");if(b(A)){v=0;for(A=d(f);A>v;v++)if((I=
p(f[v]))&&w(c,I))return I;return new h(!1)}z=a(f,A)}for(f=v?f.next:z.next;!(v=k(f,z)).done;){try{I=p(v.value)}catch(G){r(z,"throw",G)}if("object"==typeof I&&I&&w(c,I))return I}return new h(!1)}},{"../internals/an-object":84,"../internals/function-bind-context":135,"../internals/function-call":137,"../internals/get-iterator":144,"../internals/get-iterator-method":143,"../internals/is-array-iterator-method":159,"../internals/iterator-close":170,"../internals/length-of-array-like":175,"../internals/object-is-prototype-of":191,
"../internals/try-to-string":228}],170:[function(g,K,D){var y=g("../internals/function-call"),k=g("../internals/an-object"),u=g("../internals/get-method");K.exports=function(E,b,d){k(E);try{var w=u(E,"return");if(!w){if("throw"===b)throw d;return d}w=y(w,E)}catch(l){var a=!0;w=l}if("throw"===b)throw d;if(a)throw w;k(w);return d}},{"../internals/an-object":84,"../internals/function-call":137,"../internals/get-method":146}],171:[function(g,K,D){var y=g("../internals/iterators-core").IteratorPrototype,
k=g("../internals/object-create"),u=g("../internals/create-property-descriptor"),E=g("../internals/set-to-string-tag"),b=g("../internals/iterators"),d=function(){return this};K.exports=function(w,a,l,r){a+=" Iterator";w.prototype=k(y,{next:u(+!r,l)});E(w,a,!1,!0);b[a]=d;return w}},{"../internals/create-property-descriptor":106,"../internals/iterators":174,"../internals/iterators-core":173,"../internals/object-create":182,"../internals/set-to-string-tag":208}],172:[function(g,K,D){var y=g("../internals/export"),
k=g("../internals/function-call"),u=g("../internals/is-pure");D=g("../internals/function-name");var E=g("../internals/is-callable"),b=g("../internals/iterator-create-constructor"),d=g("../internals/object-get-prototype-of"),w=g("../internals/object-set-prototype-of"),a=g("../internals/set-to-string-tag"),l=g("../internals/create-non-enumerable-property"),r=g("../internals/define-built-in"),q=g("../internals/well-known-symbol"),h=g("../internals/iterators");g=g("../internals/iterators-core");var c=
D.PROPER,f=D.CONFIGURABLE,p=g.IteratorPrototype,e=g.BUGGY_SAFARI_ITERATORS,n=q("iterator"),v=function(){return this};K.exports=function(A,C,B,I,O,z,G){b(B,C,I);I=function(Q){if(Q===O&&fa)return fa;if(!e&&Q&&Q in J)return J[Q];switch(Q){case "keys":return function(){return new B(this,Q)};case "values":return function(){return new B(this,Q)};case "entries":return function(){return new B(this,Q)}}return function(){return new B(this)}};var H=C+" Iterator",N=!1,J=A.prototype,R=J[n]||J["@@iterator"]||O&&
J[O],fa=!e&&R||I(O),Y="Array"===C?J.entries||R:R,qa;Y&&(A=d(Y.call(new A)),A!==Object.prototype&&A.next&&(u||d(A)===p||(w?w(A,p):E(A[n])||r(A,n,v)),a(A,H,!0,!0),u&&(h[H]=v)));c&&"values"===O&&R&&"values"!==R.name&&(!u&&f?l(J,"name","values"):(N=!0,fa=function(){return k(R,this)}));if(O){var ka={values:I("values"),keys:z?fa:I("keys"),entries:I("entries")};if(G)for(qa in ka)!e&&!N&&qa in J||r(J,qa,ka[qa]);else y({target:C,proto:!0,forced:e||N},ka)}u&&!G||J[n]===fa||r(J,n,fa,{name:O});h[C]=fa;return ka}},
{"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/export":131,"../internals/function-call":137,"../internals/function-name":138,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/iterator-create-constructor":171,"../internals/iterators":174,"../internals/iterators-core":173,"../internals/object-get-prototype-of":189,"../internals/object-set-prototype-of":195,"../internals/set-to-string-tag":208,"../internals/well-known-symbol":237}],
173:[function(g,K,D){D=g("../internals/fails");var y=g("../internals/is-callable"),k=g("../internals/is-object"),u=g("../internals/object-create"),E=g("../internals/object-get-prototype-of"),b=g("../internals/define-built-in"),d=g("../internals/well-known-symbol");g=g("../internals/is-pure");var w=d("iterator");d=!1;var a;if([].keys){var l=[].keys();"next"in l?(E=E(E(l)),E!==Object.prototype&&(a=E)):d=!0}!k(a)||D(function(){var r={};return a[w].call(r)!==r})?a={}:g&&(a=u(a));y(a[w])||b(a,w,function(){return this});
K.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:d}},{"../internals/define-built-in":109,"../internals/fails":132,"../internals/is-callable":161,"../internals/is-object":165,"../internals/is-pure":166,"../internals/object-create":182,"../internals/object-get-prototype-of":189,"../internals/well-known-symbol":237}],174:[function(g,K,D){arguments[4][149][0].apply(D,arguments)},{dup:149}],175:[function(g,K,D){var y=g("../internals/to-length");K.exports=function(k){return y(k.length)}},{"../internals/to-length":222}],
176:[function(g,K,D){D=g("../internals/function-uncurry-this");var y=g("../internals/fails"),k=g("../internals/is-callable"),u=g("../internals/has-own-property"),E=g("../internals/descriptors"),b=g("../internals/function-name").CONFIGURABLE,d=g("../internals/inspect-source");g=g("../internals/internal-state");var w=g.enforce,a=g.get,l=String,r=Object.defineProperty,q=D("".slice),h=D("".replace),c=D([].join),f=E&&!y(function(){return 8!==r(function(){},"length",{value:8}).length}),p=String(String).split("String");
K=K.exports=function(e,n,v){"Symbol("===q(l(n),0,7)&&(n="["+h(l(n),/^Symbol\(([^)]*)\)/,"$1")+"]");v&&v.getter&&(n="get "+n);v&&v.setter&&(n="set "+n);if(!u(e,"name")||b&&e.name!==n)E?r(e,"name",{value:n,configurable:!0}):e.name=n;f&&v&&u(v,"arity")&&e.length!==v.arity&&r(e,"length",{value:v.arity});try{v&&u(v,"constructor")&&v.constructor?E&&r(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(A){}v=w(e);u(v,"source")||(v.source=c(p,"string"==typeof n?n:""));return e};Function.prototype.toString=
K(function(){return k(this)&&a(this).source||d(this)},"toString")},{"../internals/descriptors":112,"../internals/fails":132,"../internals/function-name":138,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/inspect-source":155,"../internals/internal-state":158,"../internals/is-callable":161}],177:[function(g,K,D){var y=Math.ceil,k=Math.floor;K.exports=Math.trunc||function(u){u=+u;return(0<u?k:y)(u)}},{}],178:[function(g,K,D){var y=g("../internals/global");
D=g("../internals/function-bind-context");var k=g("../internals/object-get-own-property-descriptor").f,u=g("../internals/task").set,E=g("../internals/queue"),b=g("../internals/engine-is-ios"),d=g("../internals/engine-is-ios-pebble"),w=g("../internals/engine-is-webos-webkit"),a=g("../internals/engine-is-node"),l=y.MutationObserver||y.WebKitMutationObserver,r=y.document,q=y.process;g=y.Promise;k=(k=k(y,"queueMicrotask"))&&k.value;if(!k){var h=new E,c=function(){var v,A;for(a&&(v=q.domain)&&v.exit();A=
h.get();)try{A()}catch(C){throw h.head&&p(),C;}v&&v.enter()};if(b||a||w||!l||!r)if(!d&&g&&g.resolve){y=g.resolve(void 0);y.constructor=g;var f=D(y.then,y);var p=function(){f(c)}}else a?p=function(){q.nextTick(c)}:(u=D(u,y),p=function(){u(c)});else{var e=!0;var n=r.createTextNode("");(new l(c)).observe(n,{characterData:!0});p=function(){n.data=e=!e}}k=function(v){h.head||p();h.add(v)}}K.exports=k},{"../internals/engine-is-ios":121,"../internals/engine-is-ios-pebble":120,"../internals/engine-is-node":122,
"../internals/engine-is-webos-webkit":123,"../internals/function-bind-context":135,"../internals/global":147,"../internals/object-get-own-property-descriptor":185,"../internals/queue":205,"../internals/task":217}],179:[function(g,K,D){var y=g("../internals/a-callable"),k=TypeError,u=function(E){var b,d;this.promise=new E(function(w,a){if(void 0!==b||void 0!==d)throw new k("Bad Promise constructor");b=w;d=a});this.resolve=y(b);this.reject=y(d)};K.exports.f=function(E){return new u(E)}},{"../internals/a-callable":79}],
180:[function(g,K,D){var y=g("../internals/to-string");K.exports=function(k,u){return void 0===k?2>arguments.length?"":u:y(k)}},{"../internals/to-string":227}],181:[function(g,K,D){var y=g("../internals/is-regexp"),k=TypeError;K.exports=function(u){if(y(u))throw new k("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":167}],182:[function(g,K,D){var y=g("../internals/an-object"),k=g("../internals/object-define-properties"),u=g("../internals/enum-bug-keys");D=g("../internals/hidden-keys");
var E=g("../internals/html"),b=g("../internals/document-create-element"),d=g("../internals/shared-key")("IE_PROTO"),w=function(){},a=function(q){q.write("<script>\x3c/script>");q.close();return q.parentWindow.Object},l,r=function(){try{l=new ActiveXObject("htmlfile")}catch(h){}if("undefined"!=typeof document)if(document.domain&&l)var q=a(l);else q=b("iframe"),q.style.display="none",E.appendChild(q),q.src="javascript:",q=q.contentWindow.document,q.open(),q.write("<script>document.F=Object\x3c/script>"),
q.close(),q=q.F;else q=a(l);r=q;for(q=u.length;q--;)delete r.prototype[u[q]];return r()};D[d]=!0;K.exports=Object.create||function(q,h){if(null!==q){w.prototype=y(q);var c=new w;w.prototype=null;c[d]=q}else c=r();return void 0===h?c:k.f(c,h)}},{"../internals/an-object":84,"../internals/document-create-element":114,"../internals/enum-bug-keys":127,"../internals/hidden-keys":149,"../internals/html":151,"../internals/object-define-properties":183,"../internals/shared-key":209}],183:[function(g,K,D){K=
g("../internals/descriptors");var y=g("../internals/v8-prototype-define-bug"),k=g("../internals/object-define-property"),u=g("../internals/an-object"),E=g("../internals/to-indexed-object"),b=g("../internals/object-keys");D.f=K&&!y?Object.defineProperties:function(d,w){u(d);var a=E(w);w=b(w);for(var l=w.length,r=0,q;l>r;)k.f(d,q=w[r++],a[q]);return d}},{"../internals/an-object":84,"../internals/descriptors":112,"../internals/object-define-property":184,"../internals/object-keys":193,"../internals/to-indexed-object":220,
"../internals/v8-prototype-define-bug":232}],184:[function(g,K,D){K=g("../internals/descriptors");var y=g("../internals/ie8-dom-define"),k=g("../internals/v8-prototype-define-bug"),u=g("../internals/an-object"),E=g("../internals/to-property-key"),b=TypeError,d=Object.defineProperty,w=Object.getOwnPropertyDescriptor;D.f=K?k?function(a,l,r){u(a);l=E(l);u(r);if("function"===typeof a&&"prototype"===l&&"value"in r&&"writable"in r&&!r.writable){var q=w(a,l);q&&q.writable&&(a[l]=r.value,r={configurable:"configurable"in
r?r.configurable:q.configurable,enumerable:"enumerable"in r?r.enumerable:q.enumerable,writable:!1})}return d(a,l,r)}:d:function(a,l,r){u(a);l=E(l);u(r);if(y)try{return d(a,l,r)}catch(q){}if("get"in r||"set"in r)throw new b("Accessors not supported");"value"in r&&(a[l]=r.value);return a}},{"../internals/an-object":84,"../internals/descriptors":112,"../internals/ie8-dom-define":152,"../internals/to-property-key":225,"../internals/v8-prototype-define-bug":232}],185:[function(g,K,D){K=g("../internals/descriptors");
var y=g("../internals/function-call"),k=g("../internals/object-property-is-enumerable"),u=g("../internals/create-property-descriptor"),E=g("../internals/to-indexed-object"),b=g("../internals/to-property-key"),d=g("../internals/has-own-property"),w=g("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;D.f=K?a:function(l,r){l=E(l);r=b(r);if(w)try{return a(l,r)}catch(q){}if(d(l,r))return u(!y(k.f,l,r),l[r])}},{"../internals/create-property-descriptor":106,"../internals/descriptors":112,
"../internals/function-call":137,"../internals/has-own-property":148,"../internals/ie8-dom-define":152,"../internals/object-property-is-enumerable":194,"../internals/to-indexed-object":220,"../internals/to-property-key":225}],186:[function(g,K,D){var y=g("../internals/classof-raw"),k=g("../internals/to-indexed-object"),u=g("../internals/object-get-own-property-names").f,E=g("../internals/array-slice-simple"),b="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):
[];K.exports.f=function(d){if(b&&"Window"===y(d))try{var w=u(d)}catch(a){w=E(b)}else w=u(k(d));return w}},{"../internals/array-slice-simple":92,"../internals/classof-raw":97,"../internals/object-get-own-property-names":187,"../internals/to-indexed-object":220}],187:[function(g,K,D){var y=g("../internals/object-keys-internal"),k=g("../internals/enum-bug-keys").concat("length","prototype");D.f=Object.getOwnPropertyNames||function(u){return y(u,k)}},{"../internals/enum-bug-keys":127,"../internals/object-keys-internal":192}],
188:[function(g,K,D){D.f=Object.getOwnPropertySymbols},{}],189:[function(g,K,D){var y=g("../internals/has-own-property"),k=g("../internals/is-callable"),u=g("../internals/to-object");D=g("../internals/shared-key");g=g("../internals/correct-prototype-getter");var E=D("IE_PROTO"),b=Object,d=b.prototype;K.exports=g?b.getPrototypeOf:function(w){w=u(w);if(y(w,E))return w[E];var a=w.constructor;return k(a)&&w instanceof a?a.prototype:w instanceof b?d:null}},{"../internals/correct-prototype-getter":103,
"../internals/has-own-property":148,"../internals/is-callable":161,"../internals/shared-key":209,"../internals/to-object":223}],190:[function(g,K,D){D=g("../internals/fails");var y=g("../internals/is-object"),k=g("../internals/classof-raw"),u=g("../internals/array-buffer-non-extensible"),E=Object.isExtensible;g=D(function(){E(1)});K.exports=g||u?function(b){return!y(b)||u&&"ArrayBuffer"===k(b)?!1:E?E(b):!0}:E},{"../internals/array-buffer-non-extensible":86,"../internals/classof-raw":97,"../internals/fails":132,
"../internals/is-object":165}],191:[function(g,K,D){g=g("../internals/function-uncurry-this");K.exports=g({}.isPrototypeOf)},{"../internals/function-uncurry-this":141}],192:[function(g,K,D){D=g("../internals/function-uncurry-this");var y=g("../internals/has-own-property"),k=g("../internals/to-indexed-object"),u=g("../internals/array-includes").indexOf,E=g("../internals/hidden-keys"),b=D([].push);K.exports=function(d,w){d=k(d);var a=0,l=[],r;for(r in d)!y(E,r)&&y(d,r)&&b(l,r);for(;w.length>a;)y(d,
r=w[a++])&&(~u(l,r)||b(l,r));return l}},{"../internals/array-includes":89,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/to-indexed-object":220}],193:[function(g,K,D){var y=g("../internals/object-keys-internal"),k=g("../internals/enum-bug-keys");K.exports=Object.keys||function(u){return y(u,k)}},{"../internals/enum-bug-keys":127,"../internals/object-keys-internal":192}],194:[function(g,K,D){g={}.propertyIsEnumerable;var y=
Object.getOwnPropertyDescriptor;K=y&&!g.call({1:2},1);D.f=K?function(k){k=y(this,k);return!!k&&k.enumerable}:g},{}],195:[function(g,K,D){var y=g("../internals/function-uncurry-this-accessor"),k=g("../internals/an-object"),u=g("../internals/a-possible-prototype");K.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var E=!1,b={};try{var d=y(Object.prototype,"__proto__","set");d(b,[]);E=b instanceof Array}catch(w){}return function(w,a){k(w);u(a);E?d(w,a):w.__proto__=a;return w}}():void 0)},
{"../internals/a-possible-prototype":81,"../internals/an-object":84,"../internals/function-uncurry-this-accessor":139}],196:[function(g,K,D){D=g("../internals/to-string-tag-support");var y=g("../internals/classof");K.exports=D?{}.toString:function(){return"[object "+y(this)+"]"}},{"../internals/classof":98,"../internals/to-string-tag-support":226}],197:[function(g,K,D){var y=g("../internals/function-call"),k=g("../internals/is-callable"),u=g("../internals/is-object"),E=TypeError;K.exports=function(b,
d){var w,a;if("string"===d&&k(w=b.toString)&&!u(a=y(w,b))||k(w=b.valueOf)&&!u(a=y(w,b))||"string"!==d&&k(w=b.toString)&&!u(a=y(w,b)))return a;throw new E("Can't convert object to primitive value");}},{"../internals/function-call":137,"../internals/is-callable":161,"../internals/is-object":165}],198:[function(g,K,D){D=g("../internals/get-built-in");var y=g("../internals/function-uncurry-this"),k=g("../internals/object-get-own-property-names"),u=g("../internals/object-get-own-property-symbols"),E=g("../internals/an-object"),
b=y([].concat);K.exports=D("Reflect","ownKeys")||function(d){var w=k.f(E(d)),a=u.f;return a?b(w,a(d)):w}},{"../internals/an-object":84,"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-symbols":188}],199:[function(g,K,D){g=g("../internals/global");K.exports=g},{"../internals/global":147}],200:[function(g,K,D){K.exports=function(y){try{return{error:!1,value:y()}}catch(k){return{error:!0,value:k}}}},
{}],201:[function(g,K,D){D=g("../internals/global");var y=g("../internals/promise-native-constructor"),k=g("../internals/is-callable"),u=g("../internals/is-forced"),E=g("../internals/inspect-source"),b=g("../internals/well-known-symbol"),d=g("../internals/engine-is-browser"),w=g("../internals/engine-is-deno"),a=g("../internals/is-pure"),l=g("../internals/engine-v8-version"),r=y&&y.prototype,q=b("species"),h=!1,c=k(D.PromiseRejectionEvent);g=u("Promise",function(){var f=E(y),p=f!==String(y);if(!p&&
66===l||a&&(!r["catch"]||!r["finally"]))return!0;if(!l||51>l||!/native code/.test(f)){f=new y(function(n){n(1)});var e=function(n){n(function(){},function(){})};(f.constructor={})[q]=e;h=f.then(function(){})instanceof e;if(!h)return!0}return!p&&(d||w)&&!c});K.exports={CONSTRUCTOR:g,REJECTION_EVENT:c,SUBCLASSING:h}},{"../internals/engine-is-browser":118,"../internals/engine-is-deno":119,"../internals/engine-v8-version":125,"../internals/global":147,"../internals/inspect-source":155,"../internals/is-callable":161,
"../internals/is-forced":163,"../internals/is-pure":166,"../internals/promise-native-constructor":202,"../internals/well-known-symbol":237}],202:[function(g,K,D){g=g("../internals/global");K.exports=g.Promise},{"../internals/global":147}],203:[function(g,K,D){var y=g("../internals/an-object"),k=g("../internals/is-object"),u=g("../internals/new-promise-capability");K.exports=function(E,b){y(E);if(k(b)&&b.constructor===E)return b;E=u.f(E);var d=E.resolve;d(b);return E.promise}},{"../internals/an-object":84,
"../internals/is-object":165,"../internals/new-promise-capability":179}],204:[function(g,K,D){var y=g("../internals/promise-native-constructor");D=g("../internals/check-correctness-of-iteration");g=g("../internals/promise-constructor-detection").CONSTRUCTOR;K.exports=g||!D(function(k){y.all(k).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":96,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202}],205:[function(g,K,D){g=function(){this.tail=
this.head=null};g.prototype={add:function(y){y={item:y,next:null};var k=this.tail;k?k.next=y:this.head=y;this.tail=y},get:function(){var y=this.head;if(y)return null===(this.head=y.next)&&(this.tail=null),y.item}};K.exports=g},{}],206:[function(g,K,D){var y=g("../internals/is-null-or-undefined"),k=TypeError;K.exports=function(u){if(y(u))throw new k("Can't call method on "+u);return u}},{"../internals/is-null-or-undefined":164}],207:[function(g,K,D){var y=g("../internals/get-built-in"),k=g("../internals/define-built-in-accessor");
D=g("../internals/well-known-symbol");var u=g("../internals/descriptors"),E=D("species");K.exports=function(b){b=y(b);u&&b&&!b[E]&&k(b,E,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/get-built-in":142,"../internals/well-known-symbol":237}],208:[function(g,K,D){var y=g("../internals/object-define-property").f,k=g("../internals/has-own-property"),u=g("../internals/well-known-symbol")("toStringTag");K.exports=
function(E,b,d){E&&!d&&(E=E.prototype);E&&!k(E,u)&&y(E,u,{configurable:!0,value:b})}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/well-known-symbol":237}],209:[function(g,K,D){D=g("../internals/shared");var y=g("../internals/uid"),k=D("keys");K.exports=function(u){return k[u]||(k[u]=y(u))}},{"../internals/shared":211,"../internals/uid":230}],210:[function(g,K,D){D=g("../internals/global");g=g("../internals/define-global-property");g=D["__core-js_shared__"]||
g("__core-js_shared__",{});K.exports=g},{"../internals/define-global-property":111,"../internals/global":147}],211:[function(g,K,D){D=g("../internals/is-pure");var y=g("../internals/shared-store");(K.exports=function(k,u){return y[k]||(y[k]=void 0!==u?u:{})})("versions",[]).push({version:"3.33.2",mode:D?"pure":"global",copyright:"\u00a9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":166,
"../internals/shared-store":210}],212:[function(g,K,D){var y=g("../internals/an-object"),k=g("../internals/a-constructor"),u=g("../internals/is-null-or-undefined"),E=g("../internals/well-known-symbol")("species");K.exports=function(b,d){b=y(b).constructor;var w;return void 0===b||u(w=y(b)[E])?d:k(w)}},{"../internals/a-constructor":80,"../internals/an-object":84,"../internals/is-null-or-undefined":164,"../internals/well-known-symbol":237}],213:[function(g,K,D){D=g("../internals/function-uncurry-this");
var y=g("../internals/to-integer-or-infinity"),k=g("../internals/to-string"),u=g("../internals/require-object-coercible"),E=D("".charAt),b=D("".charCodeAt),d=D("".slice);g=function(w){return function(a,l){a=k(u(a));l=y(l);var r=a.length,q;if(0>l||l>=r)return w?"":void 0;var h=b(a,l);return 55296>h||56319<h||l+1===r||56320>(q=b(a,l+1))||57343<q?w?E(a,l):h:w?d(a,l,l+2):(h-55296<<10)+(q-56320)+65536}};K.exports={codeAt:g(!1),charAt:g(!0)}},{"../internals/function-uncurry-this":141,"../internals/require-object-coercible":206,
"../internals/to-integer-or-infinity":221,"../internals/to-string":227}],214:[function(g,K,D){var y=g("../internals/engine-v8-version");D=g("../internals/fails");var k=g("../internals/global").String;K.exports=!!Object.getOwnPropertySymbols&&!D(function(){var u=Symbol("symbol detection");return!k(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&y&&41>y})},{"../internals/engine-v8-version":125,"../internals/fails":132,"../internals/global":147}],215:[function(g,K,D){var y=g("../internals/function-call"),
k=g("../internals/get-built-in"),u=g("../internals/well-known-symbol"),E=g("../internals/define-built-in");K.exports=function(){var b=k("Symbol"),d=(b=b&&b.prototype)&&b.valueOf,w=u("toPrimitive");b&&!b[w]&&E(b,w,function(a){return y(d,this)},{arity:1})}},{"../internals/define-built-in":109,"../internals/function-call":137,"../internals/get-built-in":142,"../internals/well-known-symbol":237}],216:[function(g,K,D){g=g("../internals/symbol-constructor-detection");K.exports=g&&!!Symbol["for"]&&!!Symbol.keyFor},
{"../internals/symbol-constructor-detection":214}],217:[function(g,K,D){var y=g("../internals/global"),k=g("../internals/function-apply");D=g("../internals/function-bind-context");var u=g("../internals/is-callable"),E=g("../internals/has-own-property"),b=g("../internals/fails"),d=g("../internals/html"),w=g("../internals/array-slice"),a=g("../internals/document-create-element"),l=g("../internals/validate-arguments-length"),r=g("../internals/engine-is-ios"),q=g("../internals/engine-is-node");g=y.setImmediate;
var h=y.clearImmediate,c=y.process,f=y.Dispatch,p=y.Function,e=y.MessageChannel,n=y.String,v=0,A={},C;b(function(){C=y.location});var B=function(H){if(E(A,H)){var N=A[H];delete A[H];N()}},I=function(H){return function(){B(H)}},O=function(H){B(H.data)},z=function(H){y.postMessage(n(H),C.protocol+"//"+C.host)};if(!g||!h)if(g=function(H){l(arguments.length,1);var N=u(H)?H:p(H),J=w(arguments,1);A[++v]=function(){k(N,void 0,J)};G(v);return v},h=function(H){delete A[H]},q)var G=function(H){c.nextTick(I(H))};
else f&&f.now?G=function(H){f.now(I(H))}:e&&!r?(b=new e,r=b.port2,b.port1.onmessage=O,G=D(r.postMessage,r)):y.addEventListener&&u(y.postMessage)&&!y.importScripts&&C&&"file:"!==C.protocol&&!b(z)?(G=z,y.addEventListener("message",O,!1)):G="onreadystatechange"in a("script")?function(H){d.appendChild(a("script")).onreadystatechange=function(){d.removeChild(this);B(H)}}:function(H){setTimeout(I(H),0)};K.exports={set:g,clear:h}},{"../internals/array-slice":93,"../internals/document-create-element":114,
"../internals/engine-is-ios":121,"../internals/engine-is-node":122,"../internals/fails":132,"../internals/function-apply":134,"../internals/function-bind-context":135,"../internals/global":147,"../internals/has-own-property":148,"../internals/html":151,"../internals/is-callable":161,"../internals/validate-arguments-length":233}],218:[function(g,K,D){var y=g("../internals/to-integer-or-infinity"),k=Math.max,u=Math.min;K.exports=function(E,b){E=y(E);return 0>E?k(E+b,0):u(E,b)}},{"../internals/to-integer-or-infinity":221}],
219:[function(g,K,D){var y=g("../internals/to-primitive"),k=TypeError;K.exports=function(u){u=y(u,"number");if("number"==typeof u)throw new k("Can't convert number to bigint");return BigInt(u)}},{"../internals/to-primitive":224}],220:[function(g,K,D){var y=g("../internals/indexed-object"),k=g("../internals/require-object-coercible");K.exports=function(u){return y(k(u))}},{"../internals/indexed-object":153,"../internals/require-object-coercible":206}],221:[function(g,K,D){var y=g("../internals/math-trunc");
K.exports=function(k){k=+k;return k!==k||0===k?0:y(k)}},{"../internals/math-trunc":177}],222:[function(g,K,D){var y=g("../internals/to-integer-or-infinity"),k=Math.min;K.exports=function(u){return 0<u?k(y(u),9007199254740991):0}},{"../internals/to-integer-or-infinity":221}],223:[function(g,K,D){var y=g("../internals/require-object-coercible"),k=Object;K.exports=function(u){return k(y(u))}},{"../internals/require-object-coercible":206}],224:[function(g,K,D){var y=g("../internals/function-call"),k=
g("../internals/is-object"),u=g("../internals/is-symbol"),E=g("../internals/get-method"),b=g("../internals/ordinary-to-primitive");g=g("../internals/well-known-symbol");var d=TypeError,w=g("toPrimitive");K.exports=function(a,l){if(!k(a)||u(a))return a;var r=E(a,w);if(r){void 0===l&&(l="default");a=y(r,a,l);if(!k(a)||u(a))return a;throw new d("Can't convert object to primitive value");}void 0===l&&(l="number");return b(a,l)}},{"../internals/function-call":137,"../internals/get-method":146,"../internals/is-object":165,
"../internals/is-symbol":168,"../internals/ordinary-to-primitive":197,"../internals/well-known-symbol":237}],225:[function(g,K,D){var y=g("../internals/to-primitive"),k=g("../internals/is-symbol");K.exports=function(u){u=y(u,"string");return k(u)?u:u+""}},{"../internals/is-symbol":168,"../internals/to-primitive":224}],226:[function(g,K,D){g=g("../internals/well-known-symbol")("toStringTag");D={};D[g]="z";K.exports="[object z]"===String(D)},{"../internals/well-known-symbol":237}],227:[function(g,K,
D){var y=g("../internals/classof"),k=String;K.exports=function(u){if("Symbol"===y(u))throw new TypeError("Cannot convert a Symbol value to a string");return k(u)}},{"../internals/classof":98}],228:[function(g,K,D){var y=String;K.exports=function(k){try{return y(k)}catch(u){return"Object"}}},{}],229:[function(g,K,D){D=g("../internals/array-buffer-view-core");var y=g("../internals/species-constructor"),k=D.aTypedArrayConstructor,u=D.getTypedArrayConstructor;K.exports=function(E){return k(y(E,u(E)))}},
{"../internals/array-buffer-view-core":87,"../internals/species-constructor":212}],230:[function(g,K,D){g=g("../internals/function-uncurry-this");var y=0,k=Math.random(),u=g((1).toString);K.exports=function(E){return"Symbol("+(void 0===E?"":E)+")_"+u(++y+k,36)}},{"../internals/function-uncurry-this":141}],231:[function(g,K,D){g=g("../internals/symbol-constructor-detection");K.exports=g&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/symbol-constructor-detection":214}],232:[function(g,
K,D){D=g("../internals/descriptors");g=g("../internals/fails");K.exports=D&&g(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},{"../internals/descriptors":112,"../internals/fails":132}],233:[function(g,K,D){var y=TypeError;K.exports=function(k,u){if(k<u)throw new y("Not enough arguments");return k}},{}],234:[function(g,K,D){D=g("../internals/global");g=g("../internals/is-callable");D=D.WeakMap;K.exports=g(D)&&/native code/.test(String(D))},
{"../internals/global":147,"../internals/is-callable":161}],235:[function(g,K,D){var y=g("../internals/path"),k=g("../internals/has-own-property"),u=g("../internals/well-known-symbol-wrapped"),E=g("../internals/object-define-property").f;K.exports=function(b){var d=y.Symbol||(y.Symbol={});k(d,b)||E(d,b,{value:u.f(b)})}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/path":199,"../internals/well-known-symbol-wrapped":236}],236:[function(g,K,D){g=g("../internals/well-known-symbol");
D.f=g},{"../internals/well-known-symbol":237}],237:[function(g,K,D){D=g("../internals/global");var y=g("../internals/shared"),k=g("../internals/has-own-property"),u=g("../internals/uid"),E=g("../internals/symbol-constructor-detection");g=g("../internals/use-symbol-as-uid");var b=D.Symbol,d=y("wks"),w=g?b["for"]||b:b&&b.withoutSetter||u;K.exports=function(a){k(d,a)||(d[a]=E&&k(b,a)?b[a]:w("Symbol."+a));return d[a]}},{"../internals/global":147,"../internals/has-own-property":148,"../internals/shared":211,
"../internals/symbol-constructor-detection":214,"../internals/uid":230,"../internals/use-symbol-as-uid":231}],238:[function(g,K,D){K=g("../internals/export");var y=g("../internals/object-is-prototype-of"),k=g("../internals/object-get-prototype-of"),u=g("../internals/object-set-prototype-of");D=g("../internals/copy-constructor-properties");var E=g("../internals/object-create"),b=g("../internals/create-non-enumerable-property"),d=g("../internals/create-property-descriptor"),w=g("../internals/install-error-cause"),
a=g("../internals/error-stack-install"),l=g("../internals/iterate"),r=g("../internals/normalize-string-argument"),q=g("../internals/well-known-symbol")("toStringTag"),h=Error,c=[].push,f=function(e,n){var v=y(p,this);u?v=u(new h,v?k(this):p):(v=v?this:E(p),b(v,q,"Error"));void 0!==n&&b(v,"message",r(n));a(v,f,v.stack,1);2<arguments.length&&w(v,arguments[2]);var A=[];l(e,c,{that:A});b(v,"errors",A);return v};u?u(f,h):D(f,h,{name:!0});var p=f.prototype=E(h.prototype,{constructor:d(1,f),message:d(1,
""),name:d(1,"AggregateError")});K({global:!0,constructor:!0,arity:2},{AggregateError:f})},{"../internals/copy-constructor-properties":101,"../internals/create-non-enumerable-property":105,"../internals/create-property-descriptor":106,"../internals/error-stack-install":129,"../internals/export":131,"../internals/install-error-cause":156,"../internals/iterate":169,"../internals/normalize-string-argument":180,"../internals/object-create":182,"../internals/object-get-prototype-of":189,"../internals/object-is-prototype-of":191,
"../internals/object-set-prototype-of":195,"../internals/well-known-symbol":237}],239:[function(g,K,D){g("../modules/es.aggregate-error.constructor")},{"../modules/es.aggregate-error.constructor":238}],240:[function(g,K,D){K=g("../internals/export");D=g("../internals/fails");var y=g("../internals/is-array"),k=g("../internals/is-object"),u=g("../internals/to-object"),E=g("../internals/length-of-array-like"),b=g("../internals/does-not-exceed-safe-integer"),d=g("../internals/create-property"),w=g("../internals/array-species-create"),
a=g("../internals/array-method-has-species-support"),l=g("../internals/well-known-symbol");g=g("../internals/engine-v8-version");var r=l("isConcatSpreadable");g=!(51<=g||!D(function(){var q=[];q[r]=!1;return q.concat()[0]!==q}))||!a("concat");K({target:"Array",proto:!0,arity:1,forced:g},{concat:function(q){var h=u(this),c=w(h,0),f=0,p;var e=-1;for(p=arguments.length;e<p;e++){var n=-1===e?h:arguments[e];var v=n;if(k(v)){var A=v[r];v=void 0!==A?!!A:y(v)}else v=!1;if(v)for(A=E(n),b(f+A),v=0;v<A;v++,
f++)v in n&&d(c,f,n[v]);else b(f+1),d(c,f++,n)}c.length=f;return c}})},{"../internals/array-method-has-species-support":91,"../internals/array-species-create":95,"../internals/create-property":107,"../internals/does-not-exceed-safe-integer":115,"../internals/engine-v8-version":125,"../internals/export":131,"../internals/fails":132,"../internals/is-array":160,"../internals/is-object":165,"../internals/length-of-array-like":175,"../internals/to-object":223,"../internals/well-known-symbol":237}],241:[function(g,
K,D){K=g("../internals/export");D=g("../internals/array-fill");g=g("../internals/add-to-unscopables");K({target:"Array",proto:!0},{fill:D});g("fill")},{"../internals/add-to-unscopables":82,"../internals/array-fill":88,"../internals/export":131}],242:[function(g,K,D){var y=g("../internals/to-indexed-object");D=g("../internals/add-to-unscopables");var k=g("../internals/iterators"),u=g("../internals/internal-state"),E=g("../internals/object-define-property").f,b=g("../internals/iterator-define"),d=g("../internals/create-iter-result-object"),
w=g("../internals/is-pure");g=g("../internals/descriptors");var a=u.set,l=u.getterFor("Array Iterator");K.exports=b(Array,"Array",function(r,q){a(this,{type:"Array Iterator",target:y(r),index:0,kind:q})},function(){var r=l(this),q=r.target,h=r.index++;if(!q||h>=q.length)return r.target=void 0,d(void 0,!0);switch(r.kind){case "keys":return d(h,!1);case "values":return d(q[h],!1)}return d([h,q[h]],!1)},"values");K=k.Arguments=k.Array;D("keys");D("values");D("entries");if(!w&&g&&"values"!==K.name)try{E(K,
"name",{value:"values"})}catch(r){}},{"../internals/add-to-unscopables":82,"../internals/create-iter-result-object":104,"../internals/descriptors":112,"../internals/internal-state":158,"../internals/is-pure":166,"../internals/iterator-define":172,"../internals/iterators":174,"../internals/object-define-property":184,"../internals/to-indexed-object":220}],243:[function(g,K,D){K=g("../internals/export");var y=g("../internals/get-built-in"),k=g("../internals/function-apply"),u=g("../internals/function-call");
D=g("../internals/function-uncurry-this");var E=g("../internals/fails"),b=g("../internals/is-callable"),d=g("../internals/is-symbol"),w=g("../internals/array-slice"),a=g("../internals/get-json-replacer-function");g=g("../internals/symbol-constructor-detection");var l=String,r=y("JSON","stringify"),q=D(/./.exec),h=D("".charAt),c=D("".charCodeAt),f=D("".replace),p=D((1).toString),e=/[\uD800-\uDFFF]/g,n=/^[\uD800-\uDBFF]$/,v=/^[\uDC00-\uDFFF]$/,A=!g||E(function(){var O=y("Symbol")("stringify detection");
return"[null]"!==r([O])||"{}"!==r({a:O})||"{}"!==r(Object(O))}),C=E(function(){return'"\\udf06\\ud834"'!==r("\udf06\ud834")||'"\\udead"'!==r("\udead")}),B=function(O,z){var G=w(arguments),H=a(z);if(b(H)||void 0!==O&&!d(O))return G[1]=function(N,J){b(H)&&(J=u(H,this,l(N),J));if(!d(J))return J},k(r,null,G)},I=function(O,z,G){var H=h(G,z-1);z=h(G,z+1);return q(n,O)&&!q(v,z)||q(v,O)&&!q(n,H)?"\\u"+p(c(O,0),16):O};r&&K({target:"JSON",stat:!0,arity:3,forced:A||C},{stringify:function(O,z,G){var H=w(arguments);
H=k(A?B:r,null,H);return C&&"string"==typeof H?f(H,e,I):H}})},{"../internals/array-slice":93,"../internals/export":131,"../internals/fails":132,"../internals/function-apply":134,"../internals/function-call":137,"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/get-json-replacer-function":145,"../internals/is-callable":161,"../internals/is-symbol":168,"../internals/symbol-constructor-detection":214}],244:[function(g,K,D){K=g("../internals/global");g("../internals/set-to-string-tag")(K.JSON,
"JSON",!0)},{"../internals/global":147,"../internals/set-to-string-tag":208}],245:[function(g,K,D){K=g("../internals/collection");g=g("../internals/collection-strong");K("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":100,"../internals/collection-strong":99}],246:[function(g,K,D){g("../modules/es.map.constructor")},{"../modules/es.map.constructor":245}],247:[function(g,K,D){g("../internals/set-to-string-tag")(Math,"Math",!0)},
{"../internals/set-to-string-tag":208}],248:[function(g,K,D){K=g("../internals/export");D=g("../internals/symbol-constructor-detection");var y=g("../internals/fails"),k=g("../internals/object-get-own-property-symbols"),u=g("../internals/to-object");g=!D||y(function(){k.f(1)});K({target:"Object",stat:!0,forced:g},{getOwnPropertySymbols:function(E){var b=k.f;return b?b(u(E)):[]}})},{"../internals/export":131,"../internals/fails":132,"../internals/object-get-own-property-symbols":188,"../internals/symbol-constructor-detection":214,
"../internals/to-object":223}],249:[function(g,K,D){K=g("../internals/to-string-tag-support");D=g("../internals/define-built-in");g=g("../internals/object-to-string");K||D(Object.prototype,"toString",g,{unsafe:!0})},{"../internals/define-built-in":109,"../internals/object-to-string":196,"../internals/to-string-tag-support":226}],250:[function(g,K,D){K=g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/a-callable"),u=g("../internals/new-promise-capability"),E=g("../internals/perform"),
b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");K({target:"Promise",stat:!0,forced:g},{allSettled:function(d){var w=this,a=u.f(w),l=a.resolve,r=a.reject,q=E(function(){var h=k(w.resolve),c=[],f=0,p=1;b(d,function(e){var n=f++,v=!1;p++;y(h,w,e).then(function(A){v||(v=!0,c[n]={status:"fulfilled",value:A},--p||l(c))},function(A){v||(v=!0,c[n]={status:"rejected",reason:A},--p||l(c))})});--p||l(c)});q.error&&r(q.value);return a.promise}})},{"../internals/a-callable":79,
"../internals/export":131,"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],251:[function(g,K,D){K=g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/a-callable"),u=g("../internals/new-promise-capability"),E=g("../internals/perform"),b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");K({target:"Promise",
stat:!0,forced:g},{all:function(d){var w=this,a=u.f(w),l=a.resolve,r=a.reject,q=E(function(){var h=k(w.resolve),c=[],f=0,p=1;b(d,function(e){var n=f++,v=!1;p++;y(h,w,e).then(function(A){v||(v=!0,c[n]=A,--p||l(c))},r)});--p||l(c)});q.error&&r(q.value);return a.promise}})},{"../internals/a-callable":79,"../internals/export":131,"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],
252:[function(g,K,D){K=g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/a-callable"),u=g("../internals/get-built-in"),E=g("../internals/new-promise-capability"),b=g("../internals/perform"),d=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");K({target:"Promise",stat:!0,forced:g},{any:function(w){var a=this,l=u("AggregateError"),r=E.f(a),q=r.resolve,h=r.reject,c=b(function(){var f=k(a.resolve),p=[],e=0,n=1,v=!1;d(w,function(A){var C=e++,
B=!1;n++;y(f,a,A).then(function(I){B||v||(v=!0,q(I))},function(I){B||v||(B=!0,p[C]=I,--n||h(new l(p,"No one promise resolved")))})});--n||h(new l(p,"No one promise resolved"))});c.error&&h(c.value);return r.promise}})},{"../internals/a-callable":79,"../internals/export":131,"../internals/function-call":137,"../internals/get-built-in":142,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],253:[function(g,
K,D){K=g("../internals/export");D=g("../internals/is-pure");var y=g("../internals/promise-constructor-detection").CONSTRUCTOR,k=g("../internals/promise-native-constructor"),u=g("../internals/get-built-in"),E=g("../internals/is-callable");g=g("../internals/define-built-in");var b=k&&k.prototype;K({target:"Promise",proto:!0,forced:y,real:!0},{"catch":function(d){return this.then(void 0,d)}});!D&&E(k)&&(K=u("Promise").prototype["catch"],b["catch"]!==K&&g(b,"catch",K,{unsafe:!0}))},{"../internals/define-built-in":109,
"../internals/export":131,"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202}],254:[function(g,K,D){K=g("../internals/export");D=g("../internals/is-pure");var y=g("../internals/engine-is-node"),k=g("../internals/global"),u=g("../internals/function-call"),E=g("../internals/define-built-in"),b=g("../internals/object-set-prototype-of"),d=g("../internals/set-to-string-tag"),
w=g("../internals/set-species"),a=g("../internals/a-callable"),l=g("../internals/is-callable"),r=g("../internals/is-object"),q=g("../internals/an-instance"),h=g("../internals/species-constructor"),c=g("../internals/task").set,f=g("../internals/microtask"),p=g("../internals/host-report-errors"),e=g("../internals/perform"),n=g("../internals/queue"),v=g("../internals/internal-state"),A=g("../internals/promise-native-constructor"),C=g("../internals/promise-constructor-detection");g=g("../internals/new-promise-capability");
var B=C.CONSTRUCTOR,I=C.REJECTION_EVENT;C=C.SUBCLASSING;var O=v.getterFor("Promise"),z=v.set;v=A&&A.prototype;var G=A,H=v,N=k.TypeError,J=k.document,R=k.process,fa=g.f,Y=fa,qa=!!(J&&J.createEvent&&k.dispatchEvent),ka=function(Z){var pa;return r(Z)&&l(pa=Z.then)?pa:!1},Q=function(Z,pa){var Ca=pa.value,Ra=1===pa.state,xb=Ra?Z.ok:Z.fail,Va=Z.resolve,Da=Z.reject,ua=Z.domain,Ga;try{if(xb){Ra||(2===pa.rejection&&ta(pa),pa.rejection=1);if(!0===xb)var Ia=Ca;else if(ua&&ua.enter(),Ia=xb(Ca),ua){ua.exit();
var db=!0}Ia===Z.promise?Da(new N("Promise-chain cycle")):(Ga=ka(Ia))?u(Ga,Ia,Va,Da):Va(Ia)}else Da(Ca)}catch(ub){ua&&!db&&ua.exit(),Da(ub)}},aa=function(Z,pa){Z.notified||(Z.notified=!0,f(function(){for(var Ca=Z.reactions,Ra;Ra=Ca.get();)Q(Ra,Z);Z.notified=!1;pa&&!Z.rejection&&ra(Z)}))},ha=function(Z,pa,Ca){var Ra;if(qa){var xb=J.createEvent("Event");xb.promise=pa;xb.reason=Ca;xb.initEvent(Z,!1,!0);k.dispatchEvent(xb)}else xb={promise:pa,reason:Ca};!I&&(Ra=k["on"+Z])?Ra(xb):"unhandledrejection"===
Z&&p("Unhandled promise rejection",Ca)},ra=function(Z){u(c,k,function(){var pa=Z.facade,Ca=Z.value;if(1!==Z.rejection&&!Z.parent){var Ra=e(function(){y?R.emit("unhandledRejection",Ca,pa):ha("unhandledrejection",pa,Ca)});Z.rejection=y||1!==Z.rejection&&!Z.parent?2:1;if(Ra.error)throw Ra.value;}})},ta=function(Z){u(c,k,function(){var pa=Z.facade;y?R.emit("rejectionHandled",pa):ha("rejectionhandled",pa,Z.value)})},xa=function(Z,pa,Ca){return function(Ra){Z(pa,Ra,Ca)}},na=function(Z,pa,Ca){Z.done||(Z.done=
!0,Ca&&(Z=Ca),Z.value=pa,Z.state=2,aa(Z,!0))},Ma=function(Z,pa,Ca){if(!Z.done){Z.done=!0;Ca&&(Z=Ca);try{if(Z.facade===pa)throw new N("Promise can't be resolved itself");var Ra=ka(pa);Ra?f(function(){var xb={done:!1};try{u(Ra,pa,xa(Ma,xb,Z),xa(na,xb,Z))}catch(Va){na(xb,Va,Z)}}):(Z.value=pa,Z.state=1,aa(Z,!1))}catch(xb){na({done:!1},xb,Z)}}};if(B){G=function(Z){q(this,H);a(Z);u(jb,this);var pa=O(this);try{Z(xa(Ma,pa),xa(na,pa))}catch(Ca){na(pa,Ca)}};H=G.prototype;var jb=function(Z){z(this,{type:"Promise",
done:!1,notified:!1,parent:!1,reactions:new n,rejection:!1,state:0,value:void 0})};jb.prototype=E(H,"then",function(Z,pa){var Ca=O(this),Ra=fa(h(this,G));Ca.parent=!0;Ra.ok=l(Z)?Z:!0;Ra.fail=l(pa)&&pa;Ra.domain=y?R.domain:void 0;0===Ca.state?Ca.reactions.add(Ra):f(function(){Q(Ra,Ca)});return Ra.promise});var ab=function(){var Z=new jb,pa=O(Z);this.promise=Z;this.resolve=xa(Ma,pa);this.reject=xa(na,pa)};g.f=fa=function(Z){return Z===G||void 0===Z?new ab(Z):Y(Z)};if(!D&&l(A)&&v!==Object.prototype){var T=
v.then;C||E(v,"then",function(Z,pa){var Ca=this;return(new G(function(Ra,xb){u(T,Ca,Ra,xb)})).then(Z,pa)},{unsafe:!0});try{delete v.constructor}catch(Z){}b&&b(v,H)}}K({global:!0,constructor:!0,wrap:!0,forced:B},{Promise:G});d(G,"Promise",!1,!0);w("Promise")},{"../internals/a-callable":79,"../internals/an-instance":83,"../internals/define-built-in":109,"../internals/engine-is-node":122,"../internals/export":131,"../internals/function-call":137,"../internals/global":147,"../internals/host-report-errors":150,
"../internals/internal-state":158,"../internals/is-callable":161,"../internals/is-object":165,"../internals/is-pure":166,"../internals/microtask":178,"../internals/new-promise-capability":179,"../internals/object-set-prototype-of":195,"../internals/perform":200,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202,"../internals/queue":205,"../internals/set-species":207,"../internals/set-to-string-tag":208,"../internals/species-constructor":212,"../internals/task":217}],
255:[function(g,K,D){K=g("../internals/export");D=g("../internals/is-pure");var y=g("../internals/promise-native-constructor"),k=g("../internals/fails"),u=g("../internals/get-built-in"),E=g("../internals/is-callable"),b=g("../internals/species-constructor"),d=g("../internals/promise-resolve");g=g("../internals/define-built-in");var w=y&&y.prototype;k=!!y&&k(function(){w["finally"].call({then:function(){}},function(){})});K({target:"Promise",proto:!0,real:!0,forced:k},{"finally":function(a){var l=
b(this,u("Promise")),r=E(a);return this.then(r?function(q){return d(l,a()).then(function(){return q})}:a,r?function(q){return d(l,a()).then(function(){throw q;})}:a)}});!D&&E(y)&&(K=u("Promise").prototype["finally"],w["finally"]!==K&&g(w,"finally",K,{unsafe:!0}))},{"../internals/define-built-in":109,"../internals/export":131,"../internals/fails":132,"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/promise-native-constructor":202,"../internals/promise-resolve":203,
"../internals/species-constructor":212}],256:[function(g,K,D){g("../modules/es.promise.constructor");g("../modules/es.promise.all");g("../modules/es.promise.catch");g("../modules/es.promise.race");g("../modules/es.promise.reject");g("../modules/es.promise.resolve")},{"../modules/es.promise.all":251,"../modules/es.promise.catch":253,"../modules/es.promise.constructor":254,"../modules/es.promise.race":257,"../modules/es.promise.reject":258,"../modules/es.promise.resolve":259}],257:[function(g,K,D){K=
g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/a-callable"),u=g("../internals/new-promise-capability"),E=g("../internals/perform"),b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");K({target:"Promise",stat:!0,forced:g},{race:function(d){var w=this,a=u.f(w),l=a.reject,r=E(function(){var q=k(w.resolve);b(d,function(h){y(q,w,h).then(a.resolve,l)})});r.error&&l(r.value);return a.promise}})},{"../internals/a-callable":79,"../internals/export":131,
"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],258:[function(g,K,D){K=g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/new-promise-capability");g=g("../internals/promise-constructor-detection").CONSTRUCTOR;K({target:"Promise",stat:!0,forced:g},{reject:function(u){var E=k.f(this);y(E.reject,void 0,u);return E.promise}})},{"../internals/export":131,
"../internals/function-call":137,"../internals/new-promise-capability":179,"../internals/promise-constructor-detection":201}],259:[function(g,K,D){K=g("../internals/export");D=g("../internals/get-built-in");var y=g("../internals/is-pure"),k=g("../internals/promise-native-constructor"),u=g("../internals/promise-constructor-detection").CONSTRUCTOR,E=g("../internals/promise-resolve"),b=D("Promise"),d=y&&!u;K({target:"Promise",stat:!0,forced:y||u},{resolve:function(w){return E(d&&this===b?k:this,w)}})},
{"../internals/export":131,"../internals/get-built-in":142,"../internals/is-pure":166,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202,"../internals/promise-resolve":203}],260:[function(g,K,D){K=g("../internals/export");D=g("../internals/global");g=g("../internals/set-to-string-tag");K({global:!0},{Reflect:{}});g(D.Reflect,"Reflect",!0)},{"../internals/export":131,"../internals/global":147,"../internals/set-to-string-tag":208}],261:[function(g,K,D){K=
g("../internals/collection");g=g("../internals/collection-strong");K("Set",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":100,"../internals/collection-strong":99}],262:[function(g,K,D){g("../modules/es.set.constructor")},{"../modules/es.set.constructor":261}],263:[function(g,K,D){K=g("../internals/export");D=g("../internals/function-uncurry-this-clause");var y=g("../internals/object-get-own-property-descriptor").f,k=g("../internals/to-length"),
u=g("../internals/to-string"),E=g("../internals/not-a-regexp"),b=g("../internals/require-object-coercible"),d=g("../internals/correct-is-regexp-logic");g=g("../internals/is-pure");var w=D("".endsWith),a=D("".slice),l=Math.min;D=d("endsWith");g=!g&&!D&&!!function(){var r=y(String.prototype,"endsWith");return r&&!r.writable}();K({target:"String",proto:!0,forced:!g&&!D},{endsWith:function(r){var q=u(b(this));E(r);var h=1<arguments.length?arguments[1]:void 0,c=q.length;h=void 0===h?c:l(k(h),c);c=u(r);
return w?w(q,c,h):a(q,h-c.length,h)===c}})},{"../internals/correct-is-regexp-logic":102,"../internals/export":131,"../internals/function-uncurry-this-clause":140,"../internals/is-pure":166,"../internals/not-a-regexp":181,"../internals/object-get-own-property-descriptor":185,"../internals/require-object-coercible":206,"../internals/to-length":222,"../internals/to-string":227}],264:[function(g,K,D){var y=g("../internals/string-multibyte").charAt,k=g("../internals/to-string");K=g("../internals/internal-state");
D=g("../internals/iterator-define");var u=g("../internals/create-iter-result-object"),E=K.set,b=K.getterFor("String Iterator");D(String,"String",function(d){E(this,{type:"String Iterator",string:k(d),index:0})},function(){var d=b(this),w=d.string,a=d.index;if(a>=w.length)return u(void 0,!0);w=y(w,a);d.index+=w.length;return u(w,!1)})},{"../internals/create-iter-result-object":104,"../internals/internal-state":158,"../internals/iterator-define":172,"../internals/string-multibyte":213,"../internals/to-string":227}],
265:[function(g,K,D){g("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":235}],266:[function(g,K,D){K=g("../internals/export");var y=g("../internals/global"),k=g("../internals/function-call"),u=g("../internals/function-uncurry-this");D=g("../internals/is-pure");var E=g("../internals/descriptors"),b=g("../internals/symbol-constructor-detection"),d=g("../internals/fails"),w=g("../internals/has-own-property"),a=g("../internals/object-is-prototype-of"),
l=g("../internals/an-object"),r=g("../internals/to-indexed-object"),q=g("../internals/to-property-key"),h=g("../internals/to-string"),c=g("../internals/create-property-descriptor"),f=g("../internals/object-create"),p=g("../internals/object-keys"),e=g("../internals/object-get-own-property-names"),n=g("../internals/object-get-own-property-names-external"),v=g("../internals/object-get-own-property-symbols"),A=g("../internals/object-get-own-property-descriptor"),C=g("../internals/object-define-property"),
B=g("../internals/object-define-properties"),I=g("../internals/object-property-is-enumerable"),O=g("../internals/define-built-in"),z=g("../internals/define-built-in-accessor"),G=g("../internals/shared"),H=g("../internals/shared-key"),N=g("../internals/hidden-keys"),J=g("../internals/uid"),R=g("../internals/well-known-symbol"),fa=g("../internals/well-known-symbol-wrapped"),Y=g("../internals/well-known-symbol-define"),qa=g("../internals/symbol-define-to-primitive"),ka=g("../internals/set-to-string-tag"),
Q=g("../internals/internal-state"),aa=g("../internals/array-iteration").forEach,ha=H("hidden"),ra=Q.set,ta=Q.getterFor("Symbol"),xa=Object.prototype,na=(g=y.Symbol)&&g.prototype,Ma=y.RangeError,jb=y.TypeError;H=y.QObject;var ab=A.f,T=C.f,Z=n.f,pa=I.f,Ca=u([].push),Ra=G("symbols"),xb=G("op-symbols");u=G("wks");var Va=!H||!H.prototype||!H.prototype.findChild,Da=function(Pa,sa,ma){var Aa=ab(xa,sa);Aa&&delete xa[sa];T(Pa,sa,ma);Aa&&Pa!==xa&&T(xa,sa,Aa)},ua=E&&d(function(){return 7!==f(T({},"a",{get:function(){return T(this,
"a",{value:7}).a}})).a})?Da:T,Ga=function(Pa,sa){var ma=Ra[Pa]=f(na);ra(ma,{type:"Symbol",tag:Pa,description:sa});E||(ma.description=sa);return ma},Ia=function(Pa,sa,ma){Pa===xa&&Ia(xb,sa,ma);l(Pa);sa=q(sa);l(ma);return w(Ra,sa)?(ma.enumerable?(w(Pa,ha)&&Pa[ha][sa]&&(Pa[ha][sa]=!1),ma=f(ma,{enumerable:c(0,!1)})):(w(Pa,ha)||T(Pa,ha,c(1,{})),Pa[ha][sa]=!0),ua(Pa,sa,ma)):T(Pa,sa,ma)},db=function(Pa,sa){l(Pa);var ma=r(sa);sa=p(ma).concat(rb(ma));aa(sa,function(Aa){E&&!k(ub,ma,Aa)||Ia(Pa,Aa,ma[Aa])});
return Pa},ub=function(Pa){Pa=q(Pa);var sa=k(pa,this,Pa);return this===xa&&w(Ra,Pa)&&!w(xb,Pa)?!1:sa||!w(this,Pa)||!w(Ra,Pa)||w(this,ha)&&this[ha][Pa]?sa:!0};d=function(Pa,sa){Pa=r(Pa);sa=q(sa);if(Pa!==xa||!w(Ra,sa)||w(xb,sa)){var ma=ab(Pa,sa);!ma||!w(Ra,sa)||w(Pa,ha)&&Pa[ha][sa]||(ma.enumerable=!0);return ma}};G=function(Pa){Pa=Z(r(Pa));var sa=[];aa(Pa,function(ma){w(Ra,ma)||w(N,ma)||Ca(sa,ma)});return sa};var rb=function(Pa){var sa=Pa===xa;Pa=Z(sa?xb:r(Pa));var ma=[];aa(Pa,function(Aa){!w(Ra,Aa)||
sa&&!w(xa,Aa)||Ca(ma,Ra[Aa])});return ma};b||(g=function(){if(a(na,this))throw new jb("Symbol is not a constructor");var Pa=arguments.length&&void 0!==arguments[0]?h(arguments[0]):void 0,sa=J(Pa),ma=function(Aa){var Fa=void 0===this?y:this;Fa===xa&&k(ma,xb,Aa);w(Fa,ha)&&w(Fa[ha],sa)&&(Fa[ha][sa]=!1);Aa=c(1,Aa);try{ua(Fa,sa,Aa)}catch(Na){if(!(Na instanceof Ma))throw Na;Da(Fa,sa,Aa)}};E&&Va&&ua(xa,sa,{configurable:!0,set:ma});return Ga(sa,Pa)},na=g.prototype,O(na,"toString",function(){return ta(this).tag}),
O(g,"withoutSetter",function(Pa){return Ga(J(Pa),Pa)}),I.f=ub,C.f=Ia,B.f=db,A.f=d,e.f=n.f=G,v.f=rb,fa.f=function(Pa){return Ga(R(Pa),Pa)},E&&(z(na,"description",{configurable:!0,get:function(){return ta(this).description}}),D||O(xa,"propertyIsEnumerable",ub,{unsafe:!0})));K({global:!0,constructor:!0,wrap:!0,forced:!b,sham:!b},{Symbol:g});aa(p(u),function(Pa){Y(Pa)});K({target:"Symbol",stat:!0,forced:!b},{useSetter:function(){Va=!0},useSimple:function(){Va=!1}});K({target:"Object",stat:!0,forced:!b,
sham:!E},{create:function(Pa,sa){return void 0===sa?f(Pa):db(f(Pa),sa)},defineProperty:Ia,defineProperties:db,getOwnPropertyDescriptor:d});K({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:G});qa();ka(g,"Symbol");N[ha]=!0},{"../internals/an-object":84,"../internals/array-iteration":90,"../internals/create-property-descriptor":106,"../internals/define-built-in":109,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/export":131,"../internals/fails":132,
"../internals/function-call":137,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/internal-state":158,"../internals/is-pure":166,"../internals/object-create":182,"../internals/object-define-properties":183,"../internals/object-define-property":184,"../internals/object-get-own-property-descriptor":185,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-names-external":186,
"../internals/object-get-own-property-symbols":188,"../internals/object-is-prototype-of":191,"../internals/object-keys":193,"../internals/object-property-is-enumerable":194,"../internals/set-to-string-tag":208,"../internals/shared":211,"../internals/shared-key":209,"../internals/symbol-constructor-detection":214,"../internals/symbol-define-to-primitive":215,"../internals/to-indexed-object":220,"../internals/to-property-key":225,"../internals/to-string":227,"../internals/uid":230,"../internals/well-known-symbol":237,
"../internals/well-known-symbol-define":235,"../internals/well-known-symbol-wrapped":236}],267:[function(g,K,D){K=g("../internals/export");var y=g("../internals/descriptors"),k=g("../internals/global");D=g("../internals/function-uncurry-this");var u=g("../internals/has-own-property"),E=g("../internals/is-callable"),b=g("../internals/object-is-prototype-of"),d=g("../internals/to-string"),w=g("../internals/define-built-in-accessor");g=g("../internals/copy-constructor-properties");var a=k.Symbol,l=a&&
a.prototype;if(y&&E(a)&&(!("description"in l)||void 0!==a().description)){var r={};y=function(){var n=1>arguments.length||void 0===arguments[0]?void 0:d(arguments[0]),v=b(l,this)?new a(n):void 0===n?a():a(n);""===n&&(r[v]=!0);return v};g(y,a);y.prototype=l;l.constructor=y;var q="Symbol(description detection)"===String(a("description detection")),h=D(l.valueOf),c=D(l.toString),f=/^Symbol\((.*)\)[^)]+$/,p=D("".replace),e=D("".slice);w(l,"description",{configurable:!0,get:function(){var n=h(this);if(u(r,
n))return"";n=c(n);n=q?e(n,7,-1):p(n,f,"$1");return""===n?void 0:n}});K({global:!0,constructor:!0,forced:!0},{Symbol:y})}},{"../internals/copy-constructor-properties":101,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/export":131,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/has-own-property":148,"../internals/is-callable":161,"../internals/object-is-prototype-of":191,"../internals/to-string":227}],268:[function(g,K,D){K=
g("../internals/export");var y=g("../internals/get-built-in"),k=g("../internals/has-own-property"),u=g("../internals/to-string");D=g("../internals/shared");g=g("../internals/symbol-registry-detection");var E=D("string-to-symbol-registry"),b=D("symbol-to-string-registry");K({target:"Symbol",stat:!0,forced:!g},{"for":function(d){d=u(d);if(k(E,d))return E[d];var w=y("Symbol")(d);E[d]=w;b[w]=d;return w}})},{"../internals/export":131,"../internals/get-built-in":142,"../internals/has-own-property":148,
"../internals/shared":211,"../internals/symbol-registry-detection":216,"../internals/to-string":227}],269:[function(g,K,D){g("../internals/well-known-symbol-define")("hasInstance")},{"../internals/well-known-symbol-define":235}],270:[function(g,K,D){g("../internals/well-known-symbol-define")("isConcatSpreadable")},{"../internals/well-known-symbol-define":235}],271:[function(g,K,D){g("../internals/well-known-symbol-define")("iterator")},{"../internals/well-known-symbol-define":235}],272:[function(g,
K,D){g("../modules/es.symbol.constructor");g("../modules/es.symbol.for");g("../modules/es.symbol.key-for");g("../modules/es.json.stringify");g("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":243,"../modules/es.object.get-own-property-symbols":248,"../modules/es.symbol.constructor":266,"../modules/es.symbol.for":268,"../modules/es.symbol.key-for":273}],273:[function(g,K,D){K=g("../internals/export");var y=g("../internals/has-own-property"),k=g("../internals/is-symbol"),
u=g("../internals/try-to-string");D=g("../internals/shared");g=g("../internals/symbol-registry-detection");var E=D("symbol-to-string-registry");K({target:"Symbol",stat:!0,forced:!g},{keyFor:function(b){if(!k(b))throw new TypeError(u(b)+" is not a symbol");if(y(E,b))return E[b]}})},{"../internals/export":131,"../internals/has-own-property":148,"../internals/is-symbol":168,"../internals/shared":211,"../internals/symbol-registry-detection":216,"../internals/try-to-string":228}],274:[function(g,K,D){g("../internals/well-known-symbol-define")("matchAll")},
{"../internals/well-known-symbol-define":235}],275:[function(g,K,D){g("../internals/well-known-symbol-define")("match")},{"../internals/well-known-symbol-define":235}],276:[function(g,K,D){g("../internals/well-known-symbol-define")("replace")},{"../internals/well-known-symbol-define":235}],277:[function(g,K,D){g("../internals/well-known-symbol-define")("search")},{"../internals/well-known-symbol-define":235}],278:[function(g,K,D){g("../internals/well-known-symbol-define")("species")},{"../internals/well-known-symbol-define":235}],
279:[function(g,K,D){g("../internals/well-known-symbol-define")("split")},{"../internals/well-known-symbol-define":235}],280:[function(g,K,D){K=g("../internals/well-known-symbol-define");g=g("../internals/symbol-define-to-primitive");K("toPrimitive");g()},{"../internals/symbol-define-to-primitive":215,"../internals/well-known-symbol-define":235}],281:[function(g,K,D){K=g("../internals/get-built-in");D=g("../internals/well-known-symbol-define");g=g("../internals/set-to-string-tag");D("toStringTag");
g(K("Symbol"),"Symbol")},{"../internals/get-built-in":142,"../internals/set-to-string-tag":208,"../internals/well-known-symbol-define":235}],282:[function(g,K,D){g("../internals/well-known-symbol-define")("unscopables")},{"../internals/well-known-symbol-define":235}],283:[function(g,K,D){D=g("../internals/array-buffer-view-core");var y=g("../internals/array-fill"),k=g("../internals/to-big-int"),u=g("../internals/classof"),E=g("../internals/function-call");K=g("../internals/function-uncurry-this");
g=g("../internals/fails");var b=D.aTypedArray;D=D.exportTypedArrayMethod;var d=K("".slice);g=g(function(){var w=0;(new Int8Array(2)).fill({valueOf:function(){return w++}});return 1!==w});D("fill",function(w){var a=arguments.length;b(this);var l="Big"===d(u(this),0,3)?k(w):+w;return E(y,this,l,1<a?arguments[1]:void 0,2<a?arguments[2]:void 0)},g)},{"../internals/array-buffer-view-core":87,"../internals/array-fill":88,"../internals/classof":98,"../internals/fails":132,"../internals/function-call":137,
"../internals/function-uncurry-this":141,"../internals/to-big-int":219}],284:[function(g,K,D){D=g("../internals/array-buffer-view-core");var y=g("../internals/typed-array-species-constructor");K=g("../internals/fails");var k=g("../internals/array-slice"),u=D.aTypedArray;g=D.exportTypedArrayMethod;K=K(function(){(new Int8Array(1)).slice()});g("slice",function(E,b){E=k(u(this),E,b);var d=y(this);b=0;var w=E.length;for(d=new d(w);w>b;)d[b]=E[b++];return d},K)},{"../internals/array-buffer-view-core":87,
"../internals/array-slice":93,"../internals/fails":132,"../internals/typed-array-species-constructor":229}],285:[function(g,K,D){K=g("../internals/global");var y=g("../internals/dom-iterables");D=g("../internals/dom-token-list-prototype");var k=g("../modules/es.array.iterator"),u=g("../internals/create-non-enumerable-property");g=g("../internals/well-known-symbol");var E=g("iterator"),b=g("toStringTag"),d=k.values;g=function(a,l){if(a){if(a[E]!==d)try{u(a,E,d)}catch(q){a[E]=d}a[b]||u(a,b,l);if(y[l])for(var r in k)if(a[r]!==
k[r])try{u(a,r,k[r])}catch(q){a[r]=k[r]}}};for(var w in y)g(K[w]&&K[w].prototype,w);g(D,"DOMTokenList")},{"../internals/create-non-enumerable-property":105,"../internals/dom-iterables":116,"../internals/dom-token-list-prototype":117,"../internals/global":147,"../internals/well-known-symbol":237,"../modules/es.array.iterator":242}],286:[function(g,K,D){g=g("../../es/array/fill");K.exports=g},{"../../es/array/fill":70}],287:[function(g,K,D){g=g("../../es/array/iterator");K.exports=g},{"../../es/array/iterator":71}],
288:[function(g,K,D){D=g("../../es/map");g("../../modules/web.dom-collections.iterator");K.exports=D},{"../../es/map":72,"../../modules/web.dom-collections.iterator":285}],289:[function(g,K,D){D=g("../../es/promise");g("../../modules/web.dom-collections.iterator");K.exports=D},{"../../es/promise":73,"../../modules/web.dom-collections.iterator":285}],290:[function(g,K,D){D=g("../../es/set");g("../../modules/web.dom-collections.iterator");K.exports=D},{"../../es/set":74,"../../modules/web.dom-collections.iterator":285}],
291:[function(g,K,D){g=g("../../es/string/ends-with");K.exports=g},{"../../es/string/ends-with":75}],292:[function(g,K,D){D=g("../../es/symbol");g("../../modules/web.dom-collections.iterator");K.exports=D},{"../../es/symbol":76,"../../modules/web.dom-collections.iterator":285}],293:[function(g,K,D){g=g("../../es/typed-array/fill");K.exports=g},{"../../es/typed-array/fill":77}],294:[function(g,K,D){g=g("../../es/typed-array/slice");K.exports=g},{"../../es/typed-array/slice":78}],295:[function(g,K,
D){(function(y){(function(){(function(k,u){"undefined"!=typeof D?u():(u(),k.FileSaver={})})(this,function(){function k(l,r){return"undefined"==typeof r?r={autoBom:!1}:"object"!=typeof r&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\ufeff",l],{type:l.type}):l}function u(l,r,q){var h=new XMLHttpRequest;h.open("GET",l);h.responseType="blob";h.onload=
function(){a(h.response,r,q)};h.onerror=function(){console.error("could not download file")};h.send()}function E(l){var r=new XMLHttpRequest;r.open("HEAD",l,!1);try{r.send()}catch(q){}return 200<=r.status&&299>=r.status}function b(l){try{l.dispatchEvent(new MouseEvent("click"))}catch(q){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);l.dispatchEvent(r)}}var d="object"==typeof window&&window.window===window?window:"object"==typeof self&&
self.self===self?self:"object"==typeof y&&y.global===y?y:void 0,w=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=d.saveAs||("object"!=typeof window||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!w?function(l,r,q){var h=d.URL||d.webkitURL,c=document.createElement("a");r=r||l.name||"download";c.download=r;c.rel="noopener";"string"==typeof l?(c.href=l,c.origin===location.origin?b(c):E(c.href)?u(l,
r,q):b(c,c.target="_blank")):(c.href=h.createObjectURL(l),setTimeout(function(){h.revokeObjectURL(c.href)},4E4),setTimeout(function(){b(c)},0))}:"msSaveOrOpenBlob"in navigator?function(l,r,q){if(r=r||l.name||"download","string"!=typeof l)navigator.msSaveOrOpenBlob(k(l,q),r);else if(E(l))u(l,r,q);else{var h=document.createElement("a");h.href=l;h.target="_blank";setTimeout(function(){b(h)})}}:function(l,r,q,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),
"string"==typeof l)return u(l,r,q);r="application/octet-stream"===l.type;q=/constructor/i.test(d.HTMLElement)||d.safari;var c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||r&&q||w)&&"undefined"!=typeof FileReader){var f=new FileReader;f.onloadend=function(){var n=f.result;n=c?n:n.replace(/^data:[^;]*;/,"data:attachment/file;");h?h.location.href=n:location=n;h=null};f.readAsDataURL(l)}else{var p=d.URL||d.webkitURL,e=p.createObjectURL(l);h?h.location=e:location.href=e;h=null;setTimeout(function(){p.revokeObjectURL(e)},
4E4)}});d.saveAs=a.saveAs=a;"undefined"!=typeof K&&(K.exports=a)})}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],296:[function(g,K,D){(function(y,k){"object"===typeof K&&"object"===typeof K.exports?K.exports=y.document?k(y,!0):function(u){if(!u.document)throw Error("jQuery requires a window with a document");return k(u)}:k(y)})("undefined"!==typeof window?window:this,function(y,k){function u(m,x,F){F=F||tb;var L,
S=F.createElement("script");S.text=m;if(x)for(L in ic)(m=x[L]||x.getAttribute&&x.getAttribute(L))&&S.setAttribute(L,m);F.head.appendChild(S).parentNode.removeChild(S)}function E(m){return null==m?m+"":"object"===typeof m||"function"===typeof m?Fa[Na.call(m)]||"object":typeof m}function b(m){var x=!!m&&"length"in m&&m.length,F=E(m);return Sa(m)||Ja(m)?!1:"array"===F||0===x||"number"===typeof x&&0<x&&x-1 in m}function d(m,x){return m.nodeName&&m.nodeName.toLowerCase()===x.toLowerCase()}function w(m,
x){return x?"\x00"===m?"\ufffd":m.slice(0,-1)+"\\"+m.charCodeAt(m.length-1).toString(16)+" ":"\\"+m}function a(m,x,F){return Sa(x)?P.grep(m,function(L,S){return!!x.call(L,S,L)!==F}):x.nodeType?P.grep(m,function(L){return L===x!==F}):"string"!==typeof x?P.grep(m,function(L){return-1<Aa.call(x,L)!==F}):P.filter(x,m,F)}function l(m,x){for(;(m=m[x])&&1!==m.nodeType;);return m}function r(m){var x={};P.each(m.match(Gb)||[],function(F,L){x[L]=!0});return x}function q(m){return m}function h(m){throw m;}function c(m,
x,F,L){var S;try{m&&Sa(S=m.promise)?S.call(m).done(x).fail(F):m&&Sa(S=m.then)?S.call(m,x,F):x.apply(void 0,[m].slice(L))}catch(V){F.apply(void 0,[V])}}function f(){tb.removeEventListener("DOMContentLoaded",f);y.removeEventListener("load",f);P.ready()}function p(m,x){return x.toUpperCase()}function e(m){return m.replace(Rb,"ms-").replace(qb,p)}function n(){this.expando=P.expando+n.uid++}function v(m,x,F){if(void 0===F&&1===m.nodeType)if(F="data-"+x.replace(kc,"-$&").toLowerCase(),F=m.getAttribute(F),
"string"===typeof F){try{var L=F;F="true"===L?!0:"false"===L?!1:"null"===L?null:L===+L+""?+L:vc.test(L)?JSON.parse(L):L}catch(S){}ac.set(m,x,F)}else F=void 0;return F}function A(m,x,F,L){var S,V=20,X=L?function(){return L.cur()}:function(){return P.css(m,x,"")},la=X(),da=F&&F[3]||(P.cssNumber[x]?"":"px"),ea=m.nodeType&&(P.cssNumber[x]||"px"!==da&&+la)&&gc.exec(P.css(m,x));if(ea&&ea[3]!==da){la/=2;da=da||ea[3];for(ea=+la||1;V--;)P.style(m,x,ea+da),0>=(1-S)*(1-(S=X()/la||.5))&&(V=0),ea/=S;ea*=2;P.style(m,
x,ea+da);F=F||[]}if(F){ea=+ea||+la||0;var Ea=F[1]?ea+(F[1]+1)*F[2]:+F[2];L&&(L.unit=da,L.start=ea,L.end=Ea)}return Ea}function C(m,x){for(var F,L,S=[],V=0,X=m.length;V<X;V++)if(L=m[V],L.style)if(F=L.style.display,x){if("none"===F&&(S[V]=kb.get(L,"display")||null,S[V]||(L.style.display="")),""===L.style.display&&yc(L)){F=V;var la=L.ownerDocument;L=L.nodeName;var da=Dc[L];da||(la=la.body.appendChild(la.createElement(L)),da=P.css(la,"display"),la.parentNode.removeChild(la),"none"===da&&(da="block"),
Dc[L]=da);la=da;S[F]=la}}else"none"!==F&&(S[V]="none",kb.set(L,"display",F));for(V=0;V<X;V++)null!=S[V]&&(m[V].style.display=S[V]);return m}function B(m,x){var F="undefined"!==typeof m.getElementsByTagName?m.getElementsByTagName(x||"*"):"undefined"!==typeof m.querySelectorAll?m.querySelectorAll(x||"*"):[];return void 0===x||x&&d(m,x)?P.merge([m],F):F}function I(m,x){for(var F=0,L=m.length;F<L;F++)kb.set(m[F],"globalEval",!x||kb.get(x[F],"globalEval"))}function O(m,x,F,L,S){for(var V,X,la,da=x.createDocumentFragment(),
ea=[],Ea=0,La=m.length;Ea<La;Ea++)if((V=m[Ea])||0===V)if("object"===E(V))P.merge(ea,V.nodeType?[V]:V);else if(Oa.test(V)){X=X||da.appendChild(x.createElement("div"));la=(Cc.exec(V)||["",""])[1].toLowerCase();la=za[la]||za._default;X.innerHTML=la[1]+P.htmlPrefilter(V)+la[2];for(la=la[0];la--;)X=X.lastChild;P.merge(ea,X.childNodes);X=da.firstChild;X.textContent=""}else ea.push(x.createTextNode(V));da.textContent="";for(Ea=0;V=ea[Ea++];)if(L&&-1<P.inArray(V,L))S&&S.push(V);else if(m=xc(V),X=B(da.appendChild(V),
"script"),m&&I(X),F)for(la=0;V=X[la++];)ba.test(V.type||"")&&F.push(V);return da}function z(){return!0}function G(){return!1}function H(m,x,F,L,S,V){var X;if("object"===typeof x){"string"!==typeof F&&(L=L||F,F=void 0);for(X in x)H(m,X,F,L,x[X],V);return m}null==L&&null==S?(S=F,L=F=void 0):null==S&&("string"===typeof F?(S=L,L=void 0):(S=L,L=F,F=void 0));if(!1===S)S=G;else if(!S)return m;if(1===V){var la=S;S=function(da){P().off(da);return la.apply(this,arguments)};S.guid=la.guid||(la.guid=P.guid++)}return m.each(function(){P.event.add(this,
x,S,L,F)})}function N(m,x,F){F?(kb.set(m,x,!1),P.event.add(m,x,{namespace:!1,handler:function(L){var S=kb.get(this,x);if(L.isTrigger&1&&this[x])if(S)(P.event.special[x]||{}).delegateType&&L.stopPropagation();else{S=Pa.call(arguments);kb.set(this,x,S);this[x]();var V=kb.get(this,x);kb.set(this,x,!1);if(S!==V)return L.stopImmediatePropagation(),L.preventDefault(),V}else S&&(kb.set(this,x,P.event.trigger(S[0],S.slice(1),this)),L.stopPropagation(),L.isImmediatePropagationStopped=z)}})):void 0===kb.get(m,
x)&&P.event.add(m,x,z)}function J(m,x){return d(m,"table")&&d(11!==x.nodeType?x:x.firstChild,"tr")?P(m).children("tbody")[0]||m:m}function R(m){m.type=(null!==m.getAttribute("type"))+"/"+m.type;return m}function fa(m){"true/"===(m.type||"").slice(0,5)?m.type=m.type.slice(5):m.removeAttribute("type");return m}function Y(m,x){var F,L,S;if(1===x.nodeType){if(kb.hasData(m)){var V=kb.get(m);if(S=V.events)for(L in kb.remove(x,"handle events"),S)for(V=0,F=S[L].length;V<F;V++)P.event.add(x,L,S[L][V])}ac.hasData(m)&&
(m=ac.access(m),m=P.extend({},m),ac.set(x,m))}}function qa(m,x,F,L){x=sa(x);var S,V=0,X=m.length,la=X-1,da=x[0],ea=Sa(da);if(ea||1<X&&"string"===typeof da&&!Qa.checkClone&&U.test(da))return m.each(function(gb){var hb=m.eq(gb);ea&&(x[0]=da.call(this,gb,hb.html()));qa(hb,x,F,L)});if(X){var Ea=O(x,m[0].ownerDocument,!1,m,L);var La=Ea.firstChild;1===Ea.childNodes.length&&(Ea=La);if(La||L){La=P.map(B(Ea,"script"),R);for(S=La.length;V<X;V++){var Ta=Ea;V!==la&&(Ta=P.clone(Ta,!0,!0),S&&P.merge(La,B(Ta,"script")));
F.call(m[V],Ta,V)}if(S)for(Ea=La[La.length-1].ownerDocument,P.map(La,fa),V=0;V<S;V++)Ta=La[V],ba.test(Ta.type||"")&&!kb.access(Ta,"globalEval")&&P.contains(Ea,Ta)&&(Ta.src&&"module"!==(Ta.type||"").toLowerCase()?P._evalUrl&&!Ta.noModule&&P._evalUrl(Ta.src,{nonce:Ta.nonce||Ta.getAttribute("nonce")},Ea):u(Ta.textContent.replace(ja,""),Ta,Ea))}}return m}function ka(m,x,F){for(var L=x?P.filter(x,m):m,S=0;null!=(x=L[S]);S++)F||1!==x.nodeType||P.cleanData(B(x)),x.parentNode&&(F&&xc(x)&&I(B(x,"script")),
x.parentNode.removeChild(x));return m}function Q(m,x,F){var L=ca.test(x);var S=m.style;if(F=F||va(m)){var V=F.getPropertyValue(x)||F[x];L&&V&&(V=V.replace(Qb,"$1")||void 0);""!==V||xc(m)||(V=P.style(m,x));!Qa.pixelBoxStyles()&&Ba.test(V)&&Xa.test(x)&&(m=S.width,x=S.minWidth,L=S.maxWidth,S.minWidth=S.maxWidth=S.width=V,V=F.width,S.width=m,S.minWidth=x,S.maxWidth=L)}return void 0!==V?V+"":V}function aa(m,x){return{get:function(){if(m())delete this.get;else return(this.get=x).apply(this,arguments)}}}
function ha(m){var x=P.cssProps[m]||$a[m];if(x)return x;if(m in Za)return m;a:{x=m;for(var F=x[0].toUpperCase()+x.slice(1),L=Ka.length;L--;)if(x=Ka[L]+F,x in Za)break a;x=void 0}return $a[m]=x||m}function ra(m,x,F){return(m=gc.exec(x))?Math.max(0,m[2]-(F||0))+(m[3]||"px"):x}function ta(m,x,F,L,S,V){var X="width"===x?1:0,la=0,da=0,ea=0;if(F===(L?"border":"content"))return 0;for(;4>X;X+=2)"margin"===F&&(ea+=P.css(m,F+fc[X],!0,S)),L?("content"===F&&(da-=P.css(m,"padding"+fc[X],!0,S)),"margin"!==F&&(da-=
P.css(m,"border"+fc[X]+"Width",!0,S))):(da+=P.css(m,"padding"+fc[X],!0,S),"padding"!==F?da+=P.css(m,"border"+fc[X]+"Width",!0,S):la+=P.css(m,"border"+fc[X]+"Width",!0,S));!L&&0<=V&&(da+=Math.max(0,Math.ceil(m["offset"+x[0].toUpperCase()+x.slice(1)]-V-da-la-.5))||0);return da+ea}function xa(m,x,F){var L=va(m),S=(!Qa.boxSizingReliable()||F)&&"border-box"===P.css(m,"boxSizing",!1,L),V=S,X=Q(m,x,L),la="offset"+x[0].toUpperCase()+x.slice(1);if(Ba.test(X)){if(!F)return X;X="auto"}(!Qa.boxSizingReliable()&&
S||!Qa.reliableTrDimensions()&&d(m,"tr")||"auto"===X||!parseFloat(X)&&"inline"===P.css(m,"display",!1,L))&&m.getClientRects().length&&(S="border-box"===P.css(m,"boxSizing",!1,L),(V=la in m)&&(X=m[la]));X=parseFloat(X)||0;return X+ta(m,x,F||(S?"border":"content"),V,L,X)+"px"}function na(m,x,F,L,S){return new na.prototype.init(m,x,F,L,S)}function Ma(){oc&&(!1===tb.hidden&&y.requestAnimationFrame?y.requestAnimationFrame(Ma):y.setTimeout(Ma,P.fx.interval),P.fx.tick())}function jb(){y.setTimeout(function(){Nb=
void 0});return Nb=Date.now()}function ab(m,x){var F=0,L={height:m};for(x=x?1:0;4>F;F+=2-x){var S=fc[F];L["margin"+S]=L["padding"+S]=m}x&&(L.opacity=L.width=m);return L}function T(m,x,F){for(var L,S=(pa.tweeners[x]||[]).concat(pa.tweeners["*"]),V=0,X=S.length;V<X;V++)if(L=S[V].call(F,x,m))return L}function Z(m,x){var F,L;for(F in m){var S=e(F);var V=x[S];var X=m[F];Array.isArray(X)&&(V=X[1],X=m[F]=X[0]);F!==S&&(m[S]=X,delete m[F]);if((L=P.cssHooks[S])&&"expand"in L)for(F in X=L.expand(X),delete m[S],
X)F in m||(m[F]=X[F],x[F]=V);else x[S]=V}}function pa(m,x,F){var L,S=0,V=pa.prefilters.length,X=P.Deferred().always(function(){delete la.elem}),la=function(){if(L)return!1;var ea=Nb||jb();ea=Math.max(0,da.startTime+da.duration-ea);for(var Ea=1-(ea/da.duration||0),La=0,Ta=da.tweens.length;La<Ta;La++)da.tweens[La].run(Ea);X.notifyWith(m,[da,Ea,ea]);if(1>Ea&&Ta)return ea;Ta||X.notifyWith(m,[da,1,0]);X.resolveWith(m,[da]);return!1},da=X.promise({elem:m,props:P.extend({},x),opts:P.extend(!0,{specialEasing:{},
easing:P.easing._default},F),originalProperties:x,originalOptions:F,startTime:Nb||jb(),duration:F.duration,tweens:[],createTween:function(ea,Ea){ea=P.Tween(m,da.opts,ea,Ea,da.opts.specialEasing[ea]||da.opts.easing);da.tweens.push(ea);return ea},stop:function(ea){var Ea=0,La=ea?da.tweens.length:0;if(L)return this;for(L=!0;Ea<La;Ea++)da.tweens[Ea].run(1);ea?(X.notifyWith(m,[da,1,0]),X.resolveWith(m,[da,ea])):X.rejectWith(m,[da,ea]);return this}});F=da.props;for(Z(F,da.opts.specialEasing);S<V;S++)if(x=
pa.prefilters[S].call(da,m,F,da.opts))return Sa(x.stop)&&(P._queueHooks(da.elem,da.opts.queue).stop=x.stop.bind(x)),x;P.map(F,T,da);Sa(da.opts.start)&&da.opts.start.call(m,da);da.progress(da.opts.progress).done(da.opts.done,da.opts.complete).fail(da.opts.fail).always(da.opts.always);P.fx.timer(P.extend(la,{elem:m,anim:da,queue:da.opts.queue}));return da}function Ca(m){return(m.match(Gb)||[]).join(" ")}function Ra(m){return m.getAttribute&&m.getAttribute("class")||""}function xb(m){return Array.isArray(m)?
m:"string"===typeof m?m.match(Gb)||[]:[]}function Va(m,x,F,L){var S;if(Array.isArray(x))P.each(x,function(V,X){F||hd.test(m)?L(m,X):Va(m+"["+("object"===typeof X&&null!=X?V:"")+"]",X,F,L)});else if(F||"object"!==E(x))L(m,x);else for(S in x)Va(m+"["+S+"]",x[S],F,L)}function Da(m){return function(x,F){"string"!==typeof x&&(F=x,x="*");var L=0,S=x.toLowerCase().match(Gb)||[];if(Sa(F))for(;x=S[L++];)"+"===x[0]?(x=x.slice(1)||"*",(m[x]=m[x]||[]).unshift(F)):(m[x]=m[x]||[]).push(F)}}function ua(m,x,F,L){function S(la){var da;
V[la]=!0;P.each(m[la]||[],function(ea,Ea){ea=Ea(x,F,L);if("string"===typeof ea&&!X&&!V[ea])return x.dataTypes.unshift(ea),S(ea),!1;if(X)return!(da=ea)});return da}var V={},X=m===Uc;return S(x.dataTypes[0])||!V["*"]&&S("*")}function Ga(m,x){var F,L,S=P.ajaxSettings.flatOptions||{};for(F in x)void 0!==x[F]&&((S[F]?m:L||={})[F]=x[F]);L&&P.extend(!0,m,L);return m}function Ia(m,x,F){for(var L,S,V,X,la=m.contents,da=m.dataTypes;"*"===da[0];)da.shift(),void 0===L&&(L=m.mimeType||x.getResponseHeader("Content-Type"));
if(L)for(S in la)if(la[S]&&la[S].test(L)){da.unshift(S);break}if(da[0]in F)V=da[0];else{for(S in F){if(!da[0]||m.converters[S+" "+da[0]]){V=S;break}X||=S}V=V||X}if(V)return V!==da[0]&&da.unshift(V),F[V]}function db(m,x,F,L){var S,V,X={},la=m.dataTypes.slice();if(la[1])for(ea in m.converters)X[ea.toLowerCase()]=m.converters[ea];for(V=la.shift();V;){m.responseFields[V]&&(F[m.responseFields[V]]=x);!da&&L&&m.dataFilter&&(x=m.dataFilter(x,m.dataType));var da=V;if(V=la.shift())if("*"===V)V=da;else if("*"!==
da&&da!==V){var ea=X[da+" "+V]||X["* "+V];if(!ea)for(S in X){var Ea=S.split(" ");if(Ea[1]===V&&(ea=X[da+" "+Ea[0]]||X["* "+Ea[0]])){!0===ea?ea=X[S]:!0!==X[S]&&(V=Ea[0],la.unshift(Ea[1]));break}}if(!0!==ea)if(ea&&m.throws)x=ea(x);else try{x=ea(x)}catch(La){return{state:"parsererror",error:ea?La:"No conversion from "+da+" to "+V}}}}return{state:"success",data:x}}var ub=[],rb=Object.getPrototypeOf,Pa=ub.slice,sa=ub.flat?function(m){return ub.flat.call(m)}:function(m){return ub.concat.apply([],m)},ma=
ub.push,Aa=ub.indexOf,Fa={},Na=Fa.toString,ib=Fa.hasOwnProperty,mb=ib.toString,zb=mb.call(Object),Qa={},Sa=function(m){return"function"===typeof m&&"number"!==typeof m.nodeType&&"function"!==typeof m.item},Ja=function(m){return null!=m&&m===m.window},tb=y.document,ic={type:!0,src:!0,nonce:!0,noModule:!0},vb=/HTML$/i,P=function(m,x){return new P.fn.init(m,x)};P.fn=P.prototype={jquery:"3.7.1",constructor:P,length:0,toArray:function(){return Pa.call(this)},get:function(m){return null==m?Pa.call(this):
0>m?this[m+this.length]:this[m]},pushStack:function(m){m=P.merge(this.constructor(),m);m.prevObject=this;return m},each:function(m){return P.each(this,m)},map:function(m){return this.pushStack(P.map(this,function(x,F){return m.call(x,F,x)}))},slice:function(){return this.pushStack(Pa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(m,x){return(x+1)%2}))},odd:function(){return this.pushStack(P.grep(this,
function(m,x){return x%2}))},eq:function(m){var x=this.length;m=+m+(0>m?x:0);return this.pushStack(0<=m&&m<x?[this[m]]:[])},end:function(){return this.prevObject||this.constructor()},push:ma,sort:ub.sort,splice:ub.splice};P.extend=P.fn.extend=function(){var m,x,F,L=arguments[0]||{},S=1,V=arguments.length,X=!1;"boolean"===typeof L&&(X=L,L=arguments[S]||{},S++);"object"===typeof L||Sa(L)||(L={});S===V&&(L=this,S--);for(;S<V;S++)if(null!=(m=arguments[S]))for(x in m){var la=m[x];if("__proto__"!==x&&L!==
la)if(X&&la&&(P.isPlainObject(la)||(F=Array.isArray(la)))){var da=L[x];da=F&&!Array.isArray(da)?[]:F||P.isPlainObject(da)?da:{};F=!1;L[x]=P.extend(X,da,la)}else void 0!==la&&(L[x]=la)}return L};P.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(m){throw Error(m);},noop:function(){},isPlainObject:function(m){if(!m||"[object Object]"!==Na.call(m))return!1;m=rb(m);if(!m)return!0;m=ib.call(m,"constructor")&&m.constructor;return"function"===typeof m&&mb.call(m)===
zb},isEmptyObject:function(m){for(var x in m)return!1;return!0},globalEval:function(m,x,F){u(m,{nonce:x&&x.nonce},F)},each:function(m,x){var F,L=0;if(b(m))for(F=m.length;L<F&&!1!==x.call(m[L],L,m[L]);L++);else for(L in m)if(!1===x.call(m[L],L,m[L]))break;return m},text:function(m){var x,F="",L=0,S=m.nodeType;if(!S)for(;x=m[L++];)F+=P.text(x);return 1===S||11===S?m.textContent:9===S?m.documentElement.textContent:3===S||4===S?m.nodeValue:F},makeArray:function(m,x){x=x||[];null!=m&&(b(Object(m))?P.merge(x,
"string"===typeof m?[m]:m):ma.call(x,m));return x},inArray:function(m,x,F){return null==x?-1:Aa.call(x,m,F)},isXMLDoc:function(m){var x=m&&(m.ownerDocument||m).documentElement;return!vb.test(m&&m.namespaceURI||x&&x.nodeName||"HTML")},merge:function(m,x){for(var F=+x.length,L=0,S=m.length;L<F;L++)m[S++]=x[L];m.length=S;return m},grep:function(m,x,F){for(var L=[],S=0,V=m.length,X=!F;S<V;S++)F=!x(m[S],S),F!==X&&L.push(m[S]);return L},map:function(m,x,F){var L,S=0,V=[];if(b(m))for(L=m.length;S<L;S++){var X=
x(m[S],S,F);null!=X&&V.push(X)}else for(S in m)X=x(m[S],S,F),null!=X&&V.push(X);return sa(V)},guid:1,support:Qa});"function"===typeof Symbol&&(P.fn[Symbol.iterator]=ub[Symbol.iterator]);P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(m,x){Fa["[object "+x+"]"]=x.toLowerCase()});var nb=ub.pop,qc=ub.sort,jc=ub.splice,Qb=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");P.contains=function(m,x){x=x&&x.parentNode;return m===
x||!!(x&&1===x.nodeType&&(m.contains?m.contains(x):m.compareDocumentPosition&&m.compareDocumentPosition(x)&16))};var eb=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;P.escapeSelector=function(m){return(m+"").replace(eb,w)};var bc=tb;(function(){function m(ia,ya,wa,Ua){var Ya,fb,pb,Fb,cb=ya&&ya.ownerDocument;var Bb=ya?ya.nodeType:9;wa=wa||[];if("string"!==typeof ia||!ia||1!==Bb&&9!==Bb&&11!==Bb)return wa;if(!Ua&&(ea(ya),ya=ya||Jb,pc)){if(11!==Bb&&(Fb=xd.exec(ia)))if(Ya=Fb[1])if(9===Bb)if(fb=ya.getElementById(Ya)){if(fb.id===
Ya)return mc.call(wa,fb),wa}else return wa;else{if(cb&&(fb=cb.getElementById(Ya))&&m.contains(ya,fb)&&fb.id===Ya)return mc.call(wa,fb),wa}else{if(Fb[2])return mc.apply(wa,ya.getElementsByTagName(ia)),wa;if((Ya=Fb[3])&&ya.getElementsByClassName)return mc.apply(wa,ya.getElementsByClassName(Ya)),wa}if(!(ad[ia+" "]||sc&&sc.test(ia))){Ya=ia;cb=ya;if(1===Bb&&(yd.test(ia)||td.test(ia))){cb=pd.test(ia)&&da(ya.parentNode)||ya;cb==ya&&Qa.scope||((pb=ya.getAttribute("id"))?pb=P.escapeSelector(pb):ya.setAttribute("id",
pb=dc));Ya=La(ia);for(Bb=Ya.length;Bb--;)Ya[Bb]=(pb?"#"+pb:":scope")+" "+Ta(Ya[Bb]);Ya=Ya.join(",")}try{return mc.apply(wa,cb.querySelectorAll(Ya)),wa}catch(Hb){ad(ia,!0)}finally{pb===dc&&ya.removeAttribute("id")}}}return Ub(ia.replace(Qb,"$1"),ya,wa,Ua)}function x(){function ia(wa,Ua){ya.push(wa+" ")>Pb.cacheLength&&delete ia[ya.shift()];return ia[wa+" "]=Ua}var ya=[];return ia}function F(ia){ia[dc]=!0;return ia}function L(ia){var ya=Jb.createElement("fieldset");try{return!!ia(ya)}catch(wa){return!1}finally{ya.parentNode&&
ya.parentNode.removeChild(ya)}}function S(ia){return function(ya){return d(ya,"input")&&ya.type===ia}}function V(ia){return function(ya){return(d(ya,"input")||d(ya,"button"))&&ya.type===ia}}function X(ia){return function(ya){return"form"in ya?ya.parentNode&&!1===ya.disabled?"label"in ya?"label"in ya.parentNode?ya.parentNode.disabled===ia:ya.disabled===ia:ya.isDisabled===ia||ya.isDisabled!==!ia&&zd(ya)===ia:ya.disabled===ia:"label"in ya?ya.disabled===ia:!1}}function la(ia){return F(function(ya){ya=
+ya;return F(function(wa,Ua){for(var Ya,fb=ia([],wa.length,ya),pb=fb.length;pb--;)wa[Ya=fb[pb]]&&(wa[Ya]=!(Ua[Ya]=wa[Ya]))})})}function da(ia){return ia&&"undefined"!==typeof ia.getElementsByTagName&&ia}function ea(ia){var ya;ia=ia?ia.ownerDocument||ia:bc;if(ia==Jb||9!==ia.nodeType||!ia.documentElement)return Jb;Jb=ia;Bc=Jb.documentElement;pc=!P.isXMLDoc(Jb);qd=Bc.matches||Bc.webkitMatchesSelector||Bc.msMatchesSelector;Bc.msMatchesSelector&&bc!=Jb&&(ya=Jb.defaultView)&&ya.top!==ya&&ya.addEventListener("unload",
Ad);Qa.getById=L(function(wa){Bc.appendChild(wa).id=P.expando;return!Jb.getElementsByName||!Jb.getElementsByName(P.expando).length});Qa.disconnectedMatch=L(function(wa){return qd.call(wa,"*")});Qa.scope=L(function(){return Jb.querySelectorAll(":scope")});Qa.cssHas=L(function(){try{return Jb.querySelector(":has(*,:jqfake)"),!1}catch(wa){return!0}});Qa.getById?(Pb.filter.ID=function(wa){var Ua=wa.replace(Jc,Kc);return function(Ya){return Ya.getAttribute("id")===Ua}},Pb.find.ID=function(wa,Ua){if("undefined"!==
typeof Ua.getElementById&&pc)return(wa=Ua.getElementById(wa))?[wa]:[]}):(Pb.filter.ID=function(wa){var Ua=wa.replace(Jc,Kc);return function(Ya){return(Ya="undefined"!==typeof Ya.getAttributeNode&&Ya.getAttributeNode("id"))&&Ya.value===Ua}},Pb.find.ID=function(wa,Ua){if("undefined"!==typeof Ua.getElementById&&pc){var Ya,fb=Ua.getElementById(wa);if(fb){if((Ya=fb.getAttributeNode("id"))&&Ya.value===wa)return[fb];var pb=Ua.getElementsByName(wa);for(Ua=0;fb=pb[Ua++];)if((Ya=fb.getAttributeNode("id"))&&
Ya.value===wa)return[fb]}return[]}});Pb.find.TAG=function(wa,Ua){return"undefined"!==typeof Ua.getElementsByTagName?Ua.getElementsByTagName(wa):Ua.querySelectorAll(wa)};Pb.find.CLASS=function(wa,Ua){if("undefined"!==typeof Ua.getElementsByClassName&&pc)return Ua.getElementsByClassName(wa)};sc=[];L(function(wa){Bc.appendChild(wa).innerHTML="<a id='"+dc+"' href='' disabled='disabled'></a><select id='"+dc+"-\r\\' disabled='disabled'><option selected=''></option></select>";wa.querySelectorAll("[selected]").length||
sc.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");wa.querySelectorAll("[id~="+dc+"-]").length||sc.push("~=");wa.querySelectorAll("a#"+dc+"+*").length||sc.push(".#.+[+~]");wa.querySelectorAll(":checked").length||sc.push(":checked");var Ua=Jb.createElement("input");Ua.setAttribute("type","hidden");wa.appendChild(Ua).setAttribute("name","D");Bc.appendChild(wa).disabled=!0;2!==wa.querySelectorAll(":disabled").length&&
sc.push(":enabled",":disabled");Ua=Jb.createElement("input");Ua.setAttribute("name","");wa.appendChild(Ua);wa.querySelectorAll("[name='']").length||sc.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")")});Qa.cssHas||sc.push(":has");sc=sc.length&&new RegExp(sc.join("|"));rd=function(wa,Ua){if(wa===Ua)return uc=!0,0;var Ya=!wa.compareDocumentPosition-!Ua.compareDocumentPosition;if(Ya)return Ya;Ya=(wa.ownerDocument||wa)==(Ua.ownerDocument||Ua)?wa.compareDocumentPosition(Ua):
1;return Ya&1||!Qa.sortDetached&&Ua.compareDocumentPosition(wa)===Ya?wa===Jb||wa.ownerDocument==bc&&m.contains(bc,wa)?-1:Ua===Jb||Ua.ownerDocument==bc&&m.contains(bc,Ua)?1:Zb?Aa.call(Zb,wa)-Aa.call(Zb,Ua):0:Ya&4?-1:1};return Jb}function Ea(){}function La(ia,ya){var wa,Ua,Ya,fb,pb;if(fb=ud[ia+" "])return ya?0:fb.slice(0);fb=ia;var Fb=[];for(pb=Pb.preFilter;fb;){if(!cb||(wa=Bd.exec(fb)))wa&&(fb=fb.slice(wa[0].length)||fb),Fb.push(Ua=[]);var cb=!1;if(wa=td.exec(fb))cb=wa.shift(),Ua.push({value:cb,type:wa[0].replace(Qb,
" ")}),fb=fb.slice(cb.length);for(Ya in Pb.filter)!(wa=bd[Ya].exec(fb))||pb[Ya]&&!(wa=pb[Ya](wa))||(cb=wa.shift(),Ua.push({value:cb,type:Ya,matches:wa}),fb=fb.slice(cb.length));if(!cb)break}return ya?fb.length:fb?m.error(ia):ud(ia,Fb).slice(0)}function Ta(ia){for(var ya=0,wa=ia.length,Ua="";ya<wa;ya++)Ua+=ia[ya].value;return Ua}function gb(ia,ya,wa){var Ua=ya.dir,Ya=ya.next,fb=Ya||Ua,pb=wa&&"parentNode"===fb,Fb=Cd++;return ya.first?function(cb,Bb,Hb){for(;cb=cb[Ua];)if(1===cb.nodeType||pb)return ia(cb,
Bb,Hb);return!1}:function(cb,Bb,Hb){var wb,Xb=[Lc,Fb];if(Hb)for(;cb=cb[Ua];){if((1===cb.nodeType||pb)&&ia(cb,Bb,Hb))return!0}else for(;cb=cb[Ua];)if(1===cb.nodeType||pb){var ec=cb[dc]||(cb[dc]={});if(Ya&&d(cb,Ya))cb=cb[Ua]||cb;else{if((wb=ec[fb])&&wb[0]===Lc&&wb[1]===Fb)return Xb[2]=wb[2];ec[fb]=Xb;if(Xb[2]=ia(cb,Bb,Hb))return!0}}return!1}}function hb(ia){return 1<ia.length?function(ya,wa,Ua){for(var Ya=ia.length;Ya--;)if(!ia[Ya](ya,wa,Ua))return!1;return!0}:ia[0]}function Cb(ia,ya,wa,Ua,Ya){for(var fb,
pb=[],Fb=0,cb=ia.length,Bb=null!=ya;Fb<cb;Fb++)if(fb=ia[Fb])if(!wa||wa(fb,Ua,Ya))pb.push(fb),Bb&&ya.push(Fb);return pb}function Db(ia,ya,wa,Ua,Ya,fb){Ua&&!Ua[dc]&&(Ua=Db(Ua));Ya&&!Ya[dc]&&(Ya=Db(Ya,fb));return F(function(pb,Fb,cb,Bb){var Hb,wb,Xb=[],ec=[],Ic=Fb.length;if(!(wb=pb)){wb=ya||"*";for(var hc=cb.nodeType?[cb]:cb,Yb=[],Ec=0,cd=hc.length;Ec<cd;Ec++)m(wb,hc[Ec],Yb);wb=Yb}hc=!ia||!pb&&ya?wb:Cb(wb,Xb,ia,cb,Bb);wa?(wb=Ya||(pb?ia:Ic||Ua)?[]:Fb,wa(hc,wb,cb,Bb)):wb=hc;if(Ua){var Fc=Cb(wb,ec);Ua(Fc,
[],cb,Bb);for(cb=Fc.length;cb--;)if(Hb=Fc[cb])wb[ec[cb]]=!(hc[ec[cb]]=Hb)}if(pb){if(Ya||ia){if(Ya){Fc=[];for(cb=wb.length;cb--;)(Hb=wb[cb])&&Fc.push(hc[cb]=Hb);Ya(null,wb=[],Fc,Bb)}for(cb=wb.length;cb--;)(Hb=wb[cb])&&-1<(Fc=Ya?Aa.call(pb,Hb):Xb[cb])&&(pb[Fc]=!(Fb[Fc]=Hb))}}else wb=Cb(wb===Fb?wb.splice(Ic,wb.length):wb),Ya?Ya(null,Fb,wb,Bb):mc.apply(Fb,wb)})}function $b(ia){var ya,wa,Ua=ia.length,Ya=Pb.relative[ia[0].type];var fb=Ya||Pb.relative[" "];for(var pb=Ya?1:0,Fb=gb(function(Hb){return Hb===
ya},fb,!0),cb=gb(function(Hb){return-1<Aa.call(ya,Hb)},fb,!0),Bb=[function(Hb,wb,Xb){Hb=!Ya&&(Xb||wb!=Wb)||((ya=wb).nodeType?Fb(Hb,wb,Xb):cb(Hb,wb,Xb));ya=null;return Hb}];pb<Ua;pb++)if(fb=Pb.relative[ia[pb].type])Bb=[gb(hb(Bb),fb)];else{fb=Pb.filter[ia[pb].type].apply(null,ia[pb].matches);if(fb[dc]){for(wa=++pb;wa<Ua&&!Pb.relative[ia[wa].type];wa++);return Db(1<pb&&hb(Bb),1<pb&&Ta(ia.slice(0,pb-1).concat({value:" "===ia[pb-2].type?"*":""})).replace(Qb,"$1"),fb,pb<wa&&$b(ia.slice(pb,wa)),wa<Ua&&$b(ia=
ia.slice(wa)),wa<Ua&&Ta(ia))}Bb.push(fb)}return hb(Bb)}function Ab(ia,ya){var wa=0<ya.length,Ua=0<ia.length,Ya=function(fb,pb,Fb,cb,Bb){var Hb,wb,Xb=0,ec="0",Ic=fb&&[],hc=[],Yb=Wb,Ec=fb||Ua&&Pb.find.TAG("*",Bb),cd=Lc+=null==Yb?1:Math.random()||.1,Fc=Ec.length;for(Bb&&(Wb=pb==Jb||pb||Bb);ec!==Fc&&null!=(Hb=Ec[ec]);ec++){if(Ua&&Hb){var sd=0;pb||Hb.ownerDocument==Jb||(ea(Hb),Fb=!pc);for(;wb=ia[sd++];)if(wb(Hb,pb||Jb,Fb)){mc.call(cb,Hb);break}Bb&&(Lc=cd)}wa&&((Hb=!wb&&Hb)&&Xb--,fb&&Ic.push(Hb))}Xb+=ec;
if(wa&&ec!==Xb){for(sd=0;wb=ya[sd++];)wb(Ic,hc,pb,Fb);if(fb){if(0<Xb)for(;ec--;)Ic[ec]||hc[ec]||(hc[ec]=nb.call(cb));hc=Cb(hc)}mc.apply(cb,hc);Bb&&!fb&&0<hc.length&&1<Xb+ya.length&&P.uniqueSort(cb)}Bb&&(Lc=cd,Wb=Yb);return Ic};return wa?F(Ya):Ya}function Kb(ia,ya){var wa,Ua=[],Ya=[],fb=vd[ia+" "];if(!fb){ya||=La(ia);for(wa=ya.length;wa--;)fb=$b(ya[wa]),fb[dc]?Ua.push(fb):Ya.push(fb);fb=vd(ia,Ab(Ya,Ua));fb.selector=ia}return fb}function Ub(ia,ya,wa,Ua){var Ya,fb,pb,Fb="function"===typeof ia&&ia,cb=
!Ua&&La(ia=Fb.selector||ia);wa=wa||[];if(1===cb.length){var Bb=cb[0]=cb[0].slice(0);if(2<Bb.length&&"ID"===(fb=Bb[0]).type&&9===ya.nodeType&&pc&&Pb.relative[Bb[1].type]){ya=(Pb.find.ID(fb.matches[0].replace(Jc,Kc),ya)||[])[0];if(!ya)return wa;Fb&&(ya=ya.parentNode);ia=ia.slice(Bb.shift().value.length)}for(Ya=bd.needsContext.test(ia)?0:Bb.length;Ya--;){fb=Bb[Ya];if(Pb.relative[pb=fb.type])break;if(pb=Pb.find[pb])if(Ua=pb(fb.matches[0].replace(Jc,Kc),pd.test(Bb[0].type)&&da(ya.parentNode)||ya)){Bb.splice(Ya,
1);ia=Ua.length&&Ta(Bb);if(!ia)return mc.apply(wa,Ua),wa;break}}}(Fb||Kb(ia,cb))(Ua,ya,!pc,wa,!ya||pd.test(ia)&&da(ya.parentNode)||ya);return wa}var yb,Wb,Zb,uc,mc=ma,Jb,Bc,pc,sc,qd,dc=P.expando,Lc=0,Cd=0,wd=x(),ud=x(),vd=x(),ad=x(),rd=function(ia,ya){ia===ya&&(uc=!0);return 0},Dd=RegExp("[\\x20\\t\\r\\n\\f]+","g"),Bd=RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),td=RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),yd=RegExp("[\\x20\\t\\r\\n\\f]|>"),Ed=RegExp(":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
Fd=RegExp("^(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+$"),bd={ID:RegExp("^#((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),CLASS:RegExp("^\\.((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),TAG:RegExp("^((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+|[*])"),ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\]"),
PSEUDO:RegExp("^:((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},Gd=/^(?:input|select|textarea|button)$/i,Hd=/^h\d$/i,xd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pd=/[+~]/,Jc=RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),Kc=function(ia,ya){ia="0x"+ia.slice(1)-65536;return ya?ya:0>ia?String.fromCharCode(ia+65536):String.fromCharCode(ia>>10|55296,ia&1023|56320)},Ad=function(){ea()},zd=gb(function(ia){return!0===ia.disabled&&d(ia,"fieldset")},{dir:"parentNode",next:"legend"});try{mc.apply(ub=Pa.call(bc.childNodes),bc.childNodes),ub[bc.childNodes.length].nodeType}catch(ia){mc=
{apply:function(ya,wa){ma.apply(ya,Pa.call(wa))},call:function(ya){ma.apply(ya,Pa.call(arguments,1))}}}m.matches=function(ia,ya){return m(ia,null,null,ya)};m.matchesSelector=function(ia,ya){ea(ia);if(!(!pc||ad[ya+" "]||sc&&sc.test(ya)))try{var wa=qd.call(ia,ya);if(wa||Qa.disconnectedMatch||ia.document&&11!==ia.document.nodeType)return wa}catch(Ua){ad(ya,!0)}return 0<m(ya,Jb,null,[ia]).length};m.contains=function(ia,ya){(ia.ownerDocument||ia)!=Jb&&ea(ia);return P.contains(ia,ya)};m.attr=function(ia,
ya){(ia.ownerDocument||ia)!=Jb&&ea(ia);var wa=Pb.attrHandle[ya.toLowerCase()];wa=wa&&ib.call(Pb.attrHandle,ya.toLowerCase())?wa(ia,ya,!pc):void 0;return void 0!==wa?wa:ia.getAttribute(ya)};m.error=function(ia){throw Error("Syntax error, unrecognized expression: "+ia);};P.uniqueSort=function(ia){var ya,wa=[],Ua=0,Ya=0;uc=!Qa.sortStable;Zb=!Qa.sortStable&&Pa.call(ia,0);qc.call(ia,rd);if(uc){for(;ya=ia[Ya++];)ya===ia[Ya]&&(Ua=wa.push(Ya));for(;Ua--;)jc.call(ia,wa[Ua],1)}Zb=null;return ia};P.fn.uniqueSort=
function(){return this.pushStack(P.uniqueSort(Pa.apply(this)))};var Pb=P.expr={cacheLength:50,createPseudo:F,match:bd,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ia){ia[1]=ia[1].replace(Jc,Kc);ia[3]=(ia[3]||ia[4]||ia[5]||"").replace(Jc,Kc);"~="===ia[2]&&(ia[3]=" "+ia[3]+" ");return ia.slice(0,4)},CHILD:function(ia){ia[1]=ia[1].toLowerCase();"nth"===ia[1].slice(0,3)?
(ia[3]||m.error(ia[0]),ia[4]=+(ia[4]?ia[5]+(ia[6]||1):2*("even"===ia[3]||"odd"===ia[3])),ia[5]=+(ia[7]+ia[8]||"odd"===ia[3])):ia[3]&&m.error(ia[0]);return ia},PSEUDO:function(ia){var ya,wa=!ia[6]&&ia[2];if(bd.CHILD.test(ia[0]))return null;ia[3]?ia[2]=ia[4]||ia[5]||"":wa&&Ed.test(wa)&&(ya=La(wa,!0))&&(ya=wa.indexOf(")",wa.length-ya)-wa.length)&&(ia[0]=ia[0].slice(0,ya),ia[2]=wa.slice(0,ya));return ia.slice(0,3)}},filter:{TAG:function(ia){var ya=ia.replace(Jc,Kc).toLowerCase();return"*"===ia?function(){return!0}:
function(wa){return d(wa,ya)}},CLASS:function(ia){var ya=wd[ia+" "];return ya||(ya=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+ia+"([\\x20\\t\\r\\n\\f]|$)"),wd(ia,function(wa){return ya.test("string"===typeof wa.className&&wa.className||"undefined"!==typeof wa.getAttribute&&wa.getAttribute("class")||"")}))},ATTR:function(ia,ya,wa){return function(Ua){Ua=m.attr(Ua,ia);if(null==Ua)return"!="===ya;if(!ya)return!0;Ua+="";return"="===ya?Ua===wa:"!="===ya?Ua!==wa:"^="===ya?wa&&0===Ua.indexOf(wa):"*="===ya?wa&&
-1<Ua.indexOf(wa):"$="===ya?wa&&Ua.slice(-wa.length)===wa:"~="===ya?-1<(" "+Ua.replace(Dd," ")+" ").indexOf(wa):"|="===ya?Ua===wa||Ua.slice(0,wa.length+1)===wa+"-":!1}},CHILD:function(ia,ya,wa,Ua,Ya){var fb="nth"!==ia.slice(0,3),pb="last"!==ia.slice(-4),Fb="of-type"===ya;return 1===Ua&&0===Ya?function(cb){return!!cb.parentNode}:function(cb,Bb,Hb){var wb,Xb;Bb=fb!==pb?"nextSibling":"previousSibling";var ec=cb.parentNode,Ic=Fb&&cb.nodeName.toLowerCase(),hc=!Hb&&!Fb;var Yb=!1;if(ec){if(fb){for(;Bb;){for(wb=
cb;wb=wb[Bb];)if(Fb?d(wb,Ic):1===wb.nodeType)return!1;var Ec=Bb="only"===ia&&!Ec&&"nextSibling"}return!0}Ec=[pb?ec.firstChild:ec.lastChild];if(pb&&hc)for(Hb=ec[dc]||(ec[dc]={}),Yb=Hb[ia]||[],Yb=(Xb=Yb[0]===Lc&&Yb[1])&&Yb[2],wb=Xb&&ec.childNodes[Xb];wb=++Xb&&wb&&wb[Bb]||(Yb=Xb=0)||Ec.pop();){if(1===wb.nodeType&&++Yb&&wb===cb){Hb[ia]=[Lc,Xb,Yb];break}}else if(hc&&(Hb=cb[dc]||(cb[dc]={}),Yb=Hb[ia]||[],Yb=Xb=Yb[0]===Lc&&Yb[1]),!1===Yb)for(;(wb=++Xb&&wb&&wb[Bb]||(Yb=Xb=0)||Ec.pop())&&((Fb?!d(wb,Ic):1!==
wb.nodeType)||!++Yb||(hc&&(Hb=wb[dc]||(wb[dc]={}),Hb[ia]=[Lc,Yb]),wb!==cb)););Yb-=Ya;return Yb===Ua||0===Yb%Ua&&0<=Yb/Ua}}},PSEUDO:function(ia,ya){var wa=Pb.pseudos[ia]||Pb.setFilters[ia.toLowerCase()]||m.error("unsupported pseudo: "+ia);if(wa[dc])return wa(ya);if(1<wa.length){var Ua=[ia,ia,"",ya];return Pb.setFilters.hasOwnProperty(ia.toLowerCase())?F(function(Ya,fb){for(var pb,Fb=wa(Ya,ya),cb=Fb.length;cb--;)pb=Aa.call(Ya,Fb[cb]),Ya[pb]=!(fb[pb]=Fb[cb])}):function(Ya){return wa(Ya,0,Ua)}}return wa}},
pseudos:{not:F(function(ia){var ya=[],wa=[],Ua=Kb(ia.replace(Qb,"$1"));return Ua[dc]?F(function(Ya,fb,pb,Fb){Fb=Ua(Ya,null,Fb,[]);for(var cb=Ya.length;cb--;)if(pb=Fb[cb])Ya[cb]=!(fb[cb]=pb)}):function(Ya,fb,pb){ya[0]=Ya;Ua(ya,null,pb,wa);ya[0]=null;return!wa.pop()}}),has:F(function(ia){return function(ya){return 0<m(ia,ya).length}}),contains:F(function(ia){ia=ia.replace(Jc,Kc);return function(ya){return-1<(ya.textContent||P.text(ya)).indexOf(ia)}}),lang:F(function(ia){Fd.test(ia||"")||m.error("unsupported lang: "+
ia);ia=ia.replace(Jc,Kc).toLowerCase();return function(ya){var wa;do if(wa=pc?ya.lang:ya.getAttribute("xml:lang")||ya.getAttribute("lang"))return wa=wa.toLowerCase(),wa===ia||0===wa.indexOf(ia+"-");while((ya=ya.parentNode)&&1===ya.nodeType);return!1}}),target:function(ia){var ya=y.location&&y.location.hash;return ya&&ya.slice(1)===ia.id},root:function(ia){return ia===Bc},focus:function(ia){a:{try{var ya=Jb.activeElement;break a}catch(wa){}ya=void 0}return ia===ya&&Jb.hasFocus()&&!!(ia.type||ia.href||
~ia.tabIndex)},enabled:X(!1),disabled:X(!0),checked:function(ia){return d(ia,"input")&&!!ia.checked||d(ia,"option")&&!!ia.selected},selected:function(ia){ia.parentNode&&ia.parentNode.selectedIndex;return!0===ia.selected},empty:function(ia){for(ia=ia.firstChild;ia;ia=ia.nextSibling)if(6>ia.nodeType)return!1;return!0},parent:function(ia){return!Pb.pseudos.empty(ia)},header:function(ia){return Hd.test(ia.nodeName)},input:function(ia){return Gd.test(ia.nodeName)},button:function(ia){return d(ia,"input")&&
"button"===ia.type||d(ia,"button")},text:function(ia){var ya;return d(ia,"input")&&"text"===ia.type&&(null==(ya=ia.getAttribute("type"))||"text"===ya.toLowerCase())},first:la(function(){return[0]}),last:la(function(ia,ya){return[ya-1]}),eq:la(function(ia,ya,wa){return[0>wa?wa+ya:wa]}),even:la(function(ia,ya){for(var wa=0;wa<ya;wa+=2)ia.push(wa);return ia}),odd:la(function(ia,ya){for(var wa=1;wa<ya;wa+=2)ia.push(wa);return ia}),lt:la(function(ia,ya,wa){for(ya=0>wa?wa+ya:wa>ya?ya:wa;0<=--ya;)ia.push(ya);
return ia}),gt:la(function(ia,ya,wa){for(wa=0>wa?wa+ya:wa;++wa<ya;)ia.push(wa);return ia})}};Pb.pseudos.nth=Pb.pseudos.eq;for(yb in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Pb.pseudos[yb]=S(yb);for(yb in{submit:!0,reset:!0})Pb.pseudos[yb]=V(yb);Ea.prototype=Pb.filters=Pb.pseudos;Pb.setFilters=new Ea;Qa.sortStable=dc.split("").sort(rd).join("")===dc;ea();Qa.sortDetached=L(function(ia){return ia.compareDocumentPosition(Jb.createElement("fieldset"))&1});P.find=m;P.expr[":"]=P.expr.pseudos;
P.unique=P.uniqueSort;m.compile=Kb;m.select=Ub;m.setDocument=ea;m.tokenize=La;m.escape=P.escapeSelector;m.getText=P.text;m.isXML=P.isXMLDoc;m.selectors=P.expr;m.support=P.support;m.uniqueSort=P.uniqueSort})();var Wa=function(m,x,F){for(var L=[],S=void 0!==F;(m=m[x])&&9!==m.nodeType;)if(1===m.nodeType){if(S&&P(m).is(F))break;L.push(m)}return L},sb=function(m,x){for(var F=[];m;m=m.nextSibling)1===m.nodeType&&m!==x&&F.push(m);return F},Ib=P.expr.match.needsContext,cc=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
P.filter=function(m,x,F){var L=x[0];F&&(m=":not("+m+")");return 1===x.length&&1===L.nodeType?P.find.matchesSelector(L,m)?[L]:[]:P.find.matches(m,P.grep(x,function(S){return 1===S.nodeType}))};P.fn.extend({find:function(m){var x,F=this.length,L=this;if("string"!==typeof m)return this.pushStack(P(m).filter(function(){for(x=0;x<F;x++)if(P.contains(L[x],this))return!0}));var S=this.pushStack([]);for(x=0;x<F;x++)P.find(m,L[x],S);return 1<F?P.uniqueSort(S):S},filter:function(m){return this.pushStack(a(this,
m||[],!1))},not:function(m){return this.pushStack(a(this,m||[],!0))},is:function(m){return!!a(this,"string"===typeof m&&Ib.test(m)?P(m):m||[],!1).length}});var Mb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(m,x,F){if(!m)return this;F=F||tc;if("string"===typeof m){var L="<"===m[0]&&">"===m[m.length-1]&&3<=m.length?[null,m,null]:Mb.exec(m);if(!L||!L[1]&&x)return!x||x.jquery?(x||F).find(m):this.constructor(x).find(m);if(L[1]){if(x=x instanceof P?x[0]:x,P.merge(this,P.parseHTML(L[1],x&&
x.nodeType?x.ownerDocument||x:tb,!0)),cc.test(L[1])&&P.isPlainObject(x))for(L in x)if(Sa(this[L]))this[L](x[L]);else this.attr(L,x[L])}else if(m=tb.getElementById(L[2]))this[0]=m,this.length=1;return this}return m.nodeType?(this[0]=m,this.length=1,this):Sa(m)?void 0!==F.ready?F.ready(m):m(P):P.makeArray(m,this)}).prototype=P.fn;var tc=P(tb);var rc=/^(?:parents|prev(?:Until|All))/,wc={children:!0,contents:!0,next:!0,prev:!0};P.fn.extend({has:function(m){var x=P(m,this),F=x.length;return this.filter(function(){for(var L=
0;L<F;L++)if(P.contains(this,x[L]))return!0})},closest:function(m,x){var F,L=0,S=this.length,V=[],X="string"!==typeof m&&P(m);if(!Ib.test(m))for(;L<S;L++)for(F=this[L];F&&F!==x;F=F.parentNode)if(11>F.nodeType&&(X?-1<X.index(F):1===F.nodeType&&P.find.matchesSelector(F,m))){V.push(F);break}return this.pushStack(1<V.length?P.uniqueSort(V):V)},index:function(m){return m?"string"===typeof m?Aa.call(P(m),this[0]):Aa.call(this,m.jquery?m[0]:m):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},
add:function(m,x){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(m,x))))},addBack:function(m){return this.add(null==m?this.prevObject:this.prevObject.filter(m))}});P.each({parent:function(m){return(m=m.parentNode)&&11!==m.nodeType?m:null},parents:function(m){return Wa(m,"parentNode")},parentsUntil:function(m,x,F){return Wa(m,"parentNode",F)},next:function(m){return l(m,"nextSibling")},prev:function(m){return l(m,"previousSibling")},nextAll:function(m){return Wa(m,"nextSibling")},prevAll:function(m){return Wa(m,
"previousSibling")},nextUntil:function(m,x,F){return Wa(m,"nextSibling",F)},prevUntil:function(m,x,F){return Wa(m,"previousSibling",F)},siblings:function(m){return sb((m.parentNode||{}).firstChild,m)},children:function(m){return sb(m.firstChild)},contents:function(m){if(null!=m.contentDocument&&rb(m.contentDocument))return m.contentDocument;d(m,"template")&&(m=m.content||m);return P.merge([],m.childNodes)}},function(m,x){P.fn[m]=function(F,L){var S=P.map(this,x,F);"Until"!==m.slice(-5)&&(L=F);L&&
"string"===typeof L&&(S=P.filter(L,S));1<this.length&&(wc[m]||P.uniqueSort(S),rc.test(m)&&S.reverse());return this.pushStack(S)}});var Gb=/[^\x20\t\r\n\f]+/g;P.Callbacks=function(m){m="string"===typeof m?r(m):P.extend({},m);var x,F,L,S,V=[],X=[],la=-1,da=function(){S=S||m.once;for(L=x=!0;X.length;la=-1)for(F=X.shift();++la<V.length;)!1===V[la].apply(F[0],F[1])&&m.stopOnFalse&&(la=V.length,F=!1);m.memory||(F=!1);x=!1;S&&(V=F?[]:"")},ea={add:function(){V&&(F&&!x&&(la=V.length-1,X.push(F)),function Ta(La){P.each(La,
function(gb,hb){Sa(hb)?m.unique&&ea.has(hb)||V.push(hb):hb&&hb.length&&"string"!==E(hb)&&Ta(hb)})}(arguments),F&&!x&&da());return this},remove:function(){P.each(arguments,function(Ea,La){for(var Ta;-1<(Ta=P.inArray(La,V,Ta));)V.splice(Ta,1),Ta<=la&&la--});return this},has:function(Ea){return Ea?-1<P.inArray(Ea,V):0<V.length},empty:function(){V&&=[];return this},disable:function(){S=X=[];V=F="";return this},disabled:function(){return!V},lock:function(){S=X=[];F||x||(V=F="");return this},locked:function(){return!!S},
fireWith:function(Ea,La){S||(La=La||[],La=[Ea,La.slice?La.slice():La],X.push(La),x||da());return this},fire:function(){ea.fireWith(this,arguments);return this},fired:function(){return!!L}};return ea};P.extend({Deferred:function(m){var x=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],F="pending",L={state:function(){return F},
always:function(){S.done(arguments).fail(arguments);return this},"catch":function(V){return L.then(null,V)},pipe:function(){var V=arguments;return P.Deferred(function(X){P.each(x,function(la,da){var ea=Sa(V[da[4]])&&V[da[4]];S[da[1]](function(){var Ea=ea&&ea.apply(this,arguments);if(Ea&&Sa(Ea.promise))Ea.promise().progress(X.notify).done(X.resolve).fail(X.reject);else X[da[0]+"With"](this,ea?[Ea]:arguments)})});V=null}).promise()},then:function(V,X,la){function da(Ea,La,Ta,gb){return function(){var hb=
this,Cb=arguments,Db=function(){if(!(Ea<ea)){var Ab=Ta.apply(hb,Cb);if(Ab===La.promise())throw new TypeError("Thenable self-resolution");var Kb=Ab&&("object"===typeof Ab||"function"===typeof Ab)&&Ab.then;Sa(Kb)?gb?Kb.call(Ab,da(ea,La,q,gb),da(ea,La,h,gb)):(ea++,Kb.call(Ab,da(ea,La,q,gb),da(ea,La,h,gb),da(ea,La,q,La.notifyWith))):(Ta!==q&&(hb=void 0,Cb=[Ab]),(gb||La.resolveWith)(hb,Cb))}},$b=gb?Db:function(){try{Db()}catch(Ab){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(Ab,$b.error),Ea+1>=ea&&
(Ta!==h&&(hb=void 0,Cb=[Ab]),La.rejectWith(hb,Cb))}};Ea?$b():(P.Deferred.getErrorHook?$b.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&($b.error=P.Deferred.getStackHook()),y.setTimeout($b))}}var ea=0;return P.Deferred(function(Ea){x[0][3].add(da(0,Ea,Sa(la)?la:q,Ea.notifyWith));x[1][3].add(da(0,Ea,Sa(V)?V:q));x[2][3].add(da(0,Ea,Sa(X)?X:h))}).promise()},promise:function(V){return null!=V?P.extend(V,L):L}},S={};P.each(x,function(V,X){var la=X[2],da=X[5];L[X[1]]=la.add;da&&la.add(function(){F=
da},x[3-V][2].disable,x[3-V][3].disable,x[0][2].lock,x[0][3].lock);la.add(X[3].fire);S[X[0]]=function(){S[X[0]+"With"](this===S?void 0:this,arguments);return this};S[X[0]+"With"]=la.fireWith});L.promise(S);m&&m.call(S,S);return S},when:function(m){var x=arguments.length,F=x,L=Array(F),S=Pa.call(arguments),V=P.Deferred(),X=function(la){return function(da){L[la]=this;S[la]=1<arguments.length?Pa.call(arguments):da;--x||V.resolveWith(L,S)}};if(1>=x&&(c(m,V.done(X(F)).resolve,V.reject,!x),"pending"===
V.state()||Sa(S[F]&&S[F].then)))return V.then();for(;F--;)c(S[F],X(F),V.reject);return V.promise()}});var Sb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(m,x){y.console&&y.console.warn&&m&&Sb.test(m.name)&&y.console.warn("jQuery.Deferred exception: "+m.message,m.stack,x)};P.readyException=function(m){y.setTimeout(function(){throw m;})};var Ob=P.Deferred();P.fn.ready=function(m){Ob.then(m).catch(function(x){P.readyException(x)});return this};P.extend({isReady:!1,
readyWait:1,ready:function(m){(!0===m?--P.readyWait:P.isReady)||(P.isReady=!0,!0!==m&&0<--P.readyWait||Ob.resolveWith(tb,[P]))}});P.ready.then=Ob.then;"complete"===tb.readyState||"loading"!==tb.readyState&&!tb.documentElement.doScroll?y.setTimeout(P.ready):(tb.addEventListener("DOMContentLoaded",f),y.addEventListener("load",f));var Tb=function(m,x,F,L,S,V,X){var la=0,da=m.length,ea=null==F;if("object"===E(F))for(la in S=!0,F)Tb(m,x,la,F[la],!0,V,X);else if(void 0!==L&&(S=!0,Sa(L)||(X=!0),ea&&(X?(x.call(m,
L),x=null):(ea=x,x=function(Ea,La,Ta){return ea.call(P(Ea),Ta)})),x))for(;la<da;la++)x(m[la],F,X?L:L.call(m[la],la,x(m[la],F)));return S?m:ea?x.call(m):da?x(m[0],F):V},Rb=/^-ms-/,qb=/-([a-z])/g,Vb=function(m){return 1===m.nodeType||9===m.nodeType||!+m.nodeType};n.uid=1;n.prototype={cache:function(m){var x=m[this.expando];x||(x={},Vb(m)&&(m.nodeType?m[this.expando]=x:Object.defineProperty(m,this.expando,{value:x,configurable:!0})));return x},set:function(m,x,F){var L;m=this.cache(m);if("string"===
typeof x)m[e(x)]=F;else for(L in x)m[e(L)]=x[L];return m},get:function(m,x){return void 0===x?this.cache(m):m[this.expando]&&m[this.expando][e(x)]},access:function(m,x,F){if(void 0===x||x&&"string"===typeof x&&void 0===F)return this.get(m,x);this.set(m,x,F);return void 0!==F?F:x},remove:function(m,x){var F,L=m[this.expando];if(void 0!==L){if(void 0!==x)for(Array.isArray(x)?x=x.map(e):(x=e(x),x=x in L?[x]:x.match(Gb)||[]),F=x.length;F--;)delete L[x[F]];if(void 0===x||P.isEmptyObject(L))m.nodeType?
m[this.expando]=void 0:delete m[this.expando]}},hasData:function(m){m=m[this.expando];return void 0!==m&&!P.isEmptyObject(m)}};var kb=new n,ac=new n,vc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kc=/[A-Z]/g;P.extend({hasData:function(m){return ac.hasData(m)||kb.hasData(m)},data:function(m,x,F){return ac.access(m,x,F)},removeData:function(m,x){ac.remove(m,x)},_data:function(m,x,F){return kb.access(m,x,F)},_removeData:function(m,x){kb.remove(m,x)}});P.fn.extend({data:function(m,x){var F,L=this[0],S=L&&L.attributes;
if(void 0===m){if(this.length){var V=ac.get(L);if(1===L.nodeType&&!kb.get(L,"hasDataAttrs")){for(F=S.length;F--;)if(S[F]){var X=S[F].name;0===X.indexOf("data-")&&(X=e(X.slice(5)),v(L,X,V[X]))}kb.set(L,"hasDataAttrs",!0)}}return V}return"object"===typeof m?this.each(function(){ac.set(this,m)}):Tb(this,function(la){if(L&&void 0===la){var da=ac.get(L,m);if(void 0!==da)return da;da=v(L,m);if(void 0!==da)return da}else this.each(function(){ac.set(this,m,la)})},null,x,1<arguments.length,null,!0)},removeData:function(m){return this.each(function(){ac.remove(this,
m)})}});P.extend({queue:function(m,x,F){if(m){x=(x||"fx")+"queue";var L=kb.get(m,x);F&&(!L||Array.isArray(F)?L=kb.access(m,x,P.makeArray(F)):L.push(F));return L||[]}},dequeue:function(m,x){x=x||"fx";var F=P.queue(m,x),L=F.length,S=F.shift(),V=P._queueHooks(m,x),X=function(){P.dequeue(m,x)};"inprogress"===S&&(S=F.shift(),L--);S&&("fx"===x&&F.unshift("inprogress"),delete V.stop,S.call(m,X,V));!L&&V&&V.empty.fire()},_queueHooks:function(m,x){var F=x+"queueHooks";return kb.get(m,F)||kb.access(m,F,{empty:P.Callbacks("once memory").add(function(){kb.remove(m,
[x+"queue",F])})})}});P.fn.extend({queue:function(m,x){var F=2;"string"!==typeof m&&(x=m,m="fx",F--);return arguments.length<F?P.queue(this[0],m):void 0===x?this:this.each(function(){var L=P.queue(this,m,x);P._queueHooks(this,m);"fx"===m&&"inprogress"!==L[0]&&P.dequeue(this,m)})},dequeue:function(m){return this.each(function(){P.dequeue(this,m)})},clearQueue:function(m){return this.queue(m||"fx",[])},promise:function(m,x){var F,L=1,S=P.Deferred(),V=this,X=this.length,la=function(){--L||S.resolveWith(V,
[V])};"string"!==typeof m&&(x=m,m=void 0);for(m=m||"fx";X--;)(F=kb.get(V[X],m+"queueHooks"))&&F.empty&&(L++,F.empty.add(la));la();return S.promise(x)}});var lc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,gc=new RegExp("^(?:([+-])=|)("+lc+")([a-z%]*)$","i"),fc=["Top","Right","Bottom","Left"],nc=tb.documentElement,xc=function(m){return P.contains(m.ownerDocument,m)},Mc={composed:!0};nc.getRootNode&&(xc=function(m){return P.contains(m.ownerDocument,m)||m.getRootNode(Mc)===m.ownerDocument});var yc=function(m,
x){m=x||m;return"none"===m.style.display||""===m.style.display&&xc(m)&&"none"===P.css(m,"display")},Dc={};P.fn.extend({show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(m){return"boolean"===typeof m?m?this.show():this.hide():this.each(function(){yc(this)?P(this).show():P(this).hide()})}});var zc=/^(?:checkbox|radio)$/i,Cc=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ba=/^$|^module$|\/(?:java|ecma)script/i;(function(){var m=tb.createDocumentFragment().appendChild(tb.createElement("div")),
x=tb.createElement("input");x.setAttribute("type","radio");x.setAttribute("checked","checked");x.setAttribute("name","t");m.appendChild(x);Qa.checkClone=m.cloneNode(!0).cloneNode(!0).lastChild.checked;m.innerHTML="<textarea>x</textarea>";Qa.noCloneChecked=!!m.cloneNode(!0).lastChild.defaultValue;m.innerHTML="<option></option>";Qa.option=!!m.lastChild})();var za={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>",
"</tr></tbody></table>"],_default:[0,"",""]};za.tbody=za.tfoot=za.colgroup=za.caption=za.thead;za.th=za.td;Qa.option||(za.optgroup=za.option=[1,"<select multiple='multiple'>","</select>"]);var Oa=/<|&#?\w+;/,bb=/^([^.]*)(?:\.(.+)|)/;P.event={global:{},add:function(m,x,F,L,S){var V,X,la,da;var ea=kb.get(m);if(Vb(m)){if(F.handler){var Ea=F;F=Ea.handler;S=Ea.selector}S&&P.find.matchesSelector(nc,S);F.guid||(F.guid=P.guid++);(X=ea.events)||(X=ea.events=Object.create(null));(V=ea.handle)||(V=ea.handle=
function(hb){return"undefined"!==typeof P&&P.event.triggered!==hb.type?P.event.dispatch.apply(m,arguments):void 0});x=(x||"").match(Gb)||[""];for(ea=x.length;ea--;){var La=bb.exec(x[ea])||[];var Ta=la=La[1];var gb=(La[2]||"").split(".").sort();Ta&&(La=P.event.special[Ta]||{},Ta=(S?La.delegateType:La.bindType)||Ta,La=P.event.special[Ta]||{},la=P.extend({type:Ta,origType:la,data:L,handler:F,guid:F.guid,selector:S,needsContext:S&&P.expr.match.needsContext.test(S),namespace:gb.join(".")},Ea),(da=X[Ta])||
(da=X[Ta]=[],da.delegateCount=0,La.setup&&!1!==La.setup.call(m,L,gb,V)||m.addEventListener&&m.addEventListener(Ta,V)),La.add&&(La.add.call(m,la),la.handler.guid||(la.handler.guid=F.guid)),S?da.splice(da.delegateCount++,0,la):da.push(la),P.event.global[Ta]=!0)}}},remove:function(m,x,F,L,S){var V,X,la,da,ea,Ea=kb.hasData(m)&&kb.get(m);if(Ea&&(la=Ea.events)){x=(x||"").match(Gb)||[""];for(da=x.length;da--;){var La=bb.exec(x[da])||[];var Ta=ea=La[1];var gb=(La[2]||"").split(".").sort();if(Ta){var hb=P.event.special[Ta]||
{};Ta=(L?hb.delegateType:hb.bindType)||Ta;var Cb=la[Ta]||[];La=La[2]&&new RegExp("(^|\\.)"+gb.join("\\.(?:.*\\.|)")+"(\\.|$)");for(X=V=Cb.length;V--;){var Db=Cb[V];!S&&ea!==Db.origType||F&&F.guid!==Db.guid||La&&!La.test(Db.namespace)||L&&L!==Db.selector&&("**"!==L||!Db.selector)||(Cb.splice(V,1),Db.selector&&Cb.delegateCount--,hb.remove&&hb.remove.call(m,Db))}X&&!Cb.length&&(hb.teardown&&!1!==hb.teardown.call(m,gb,Ea.handle)||P.removeEvent(m,Ta,Ea.handle),delete la[Ta])}else for(Ta in la)P.event.remove(m,
Ta+x[da],F,L,!0)}P.isEmptyObject(la)&&kb.remove(m,"handle events")}},dispatch:function(m){var x,F,L,S=Array(arguments.length),V=P.event.fix(m);var X=(kb.get(this,"events")||Object.create(null))[V.type]||[];var la=P.event.special[V.type]||{};S[0]=V;for(x=1;x<arguments.length;x++)S[x]=arguments[x];V.delegateTarget=this;if(!la.preDispatch||!1!==la.preDispatch.call(this,V)){var da=P.event.handlers.call(this,V,X);for(x=0;(L=da[x++])&&!V.isPropagationStopped();)for(V.currentTarget=L.elem,X=0;(F=L.handlers[X++])&&
!V.isImmediatePropagationStopped();)if(!V.rnamespace||!1===F.namespace||V.rnamespace.test(F.namespace))V.handleObj=F,V.data=F.data,F=((P.event.special[F.origType]||{}).handle||F.handler).apply(L.elem,S),void 0!==F&&!1===(V.result=F)&&(V.preventDefault(),V.stopPropagation());la.postDispatch&&la.postDispatch.call(this,V);return V.result}},handlers:function(m,x){var F,L=[],S=x.delegateCount,V=m.target;if(S&&V.nodeType&&!("click"===m.type&&1<=m.button))for(;V!==this;V=V.parentNode||this)if(1===V.nodeType&&
("click"!==m.type||!0!==V.disabled)){var X=[];var la={};for(F=0;F<S;F++){var da=x[F];var ea=da.selector+" ";void 0===la[ea]&&(la[ea]=da.needsContext?-1<P(ea,this).index(V):P.find(ea,this,null,[V]).length);la[ea]&&X.push(da)}X.length&&L.push({elem:V,handlers:X})}S<x.length&&L.push({elem:this,handlers:x.slice(S)});return L},addProp:function(m,x){Object.defineProperty(P.Event.prototype,m,{enumerable:!0,configurable:!0,get:Sa(x)?function(){if(this.originalEvent)return x(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[m]},
set:function(F){Object.defineProperty(this,m,{enumerable:!0,configurable:!0,writable:!0,value:F})}})},fix:function(m){return m[P.expando]?m:new P.Event(m)},special:{load:{noBubble:!0},click:{setup:function(m){m=this||m;zc.test(m.type)&&m.click&&d(m,"input")&&N(m,"click",!0);return!1},trigger:function(m){m=this||m;zc.test(m.type)&&m.click&&d(m,"input")&&N(m,"click");return!0},_default:function(m){m=m.target;return zc.test(m.type)&&m.click&&d(m,"input")&&kb.get(m,"click")||d(m,"a")}},beforeunload:{postDispatch:function(m){void 0!==
m.result&&m.originalEvent&&(m.originalEvent.returnValue=m.result)}}}};P.removeEvent=function(m,x,F){m.removeEventListener&&m.removeEventListener(x,F)};P.Event=function(m,x){if(!(this instanceof P.Event))return new P.Event(m,x);m&&m.type?(this.originalEvent=m,this.type=m.type,this.isDefaultPrevented=m.defaultPrevented||void 0===m.defaultPrevented&&!1===m.returnValue?z:G,this.target=m.target&&3===m.target.nodeType?m.target.parentNode:m.target,this.currentTarget=m.currentTarget,this.relatedTarget=m.relatedTarget):
this.type=m;x&&P.extend(this,x);this.timeStamp=m&&m.timeStamp||Date.now();this[P.expando]=!0};P.Event.prototype={constructor:P.Event,isDefaultPrevented:G,isPropagationStopped:G,isImmediatePropagationStopped:G,isSimulated:!1,preventDefault:function(){var m=this.originalEvent;this.isDefaultPrevented=z;m&&!this.isSimulated&&m.preventDefault()},stopPropagation:function(){var m=this.originalEvent;this.isPropagationStopped=z;m&&!this.isSimulated&&m.stopPropagation()},stopImmediatePropagation:function(){var m=
this.originalEvent;this.isImmediatePropagationStopped=z;m&&!this.isSimulated&&m.stopImmediatePropagation();this.stopPropagation()}};P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp);
P.each({focus:"focusin",blur:"focusout"},function(m,x){function F(L){if(tb.documentMode){var S=kb.get(this,"handle"),V=P.event.fix(L);V.type="focusin"===L.type?"focus":"blur";V.isSimulated=!0;S(L);V.target===V.currentTarget&&S(V)}else P.event.simulate(x,L.target,P.event.fix(L))}P.event.special[m]={setup:function(){var L;N(this,m,!0);if(tb.documentMode)(L=kb.get(this,x))||this.addEventListener(x,F),kb.set(this,x,(L||0)+1);else return!1},trigger:function(){N(this,m);return!0},teardown:function(){var L;
if(tb.documentMode)(L=kb.get(this,x)-1)?kb.set(this,x,L):(this.removeEventListener(x,F),kb.remove(this,x));else return!1},_default:function(L){return kb.get(L.target,m)},delegateType:x};P.event.special[x]={setup:function(){var L=this.ownerDocument||this.document||this,S=tb.documentMode?this:L,V=kb.get(S,x);V||(tb.documentMode?this.addEventListener(x,F):L.addEventListener(m,F,!0));kb.set(S,x,(V||0)+1)},teardown:function(){var L=this.ownerDocument||this.document||this,S=tb.documentMode?this:L,V=kb.get(S,
x)-1;V?kb.set(S,x,V):(tb.documentMode?this.removeEventListener(x,F):L.removeEventListener(m,F,!0),kb.remove(S,x))}}});P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(m,x){P.event.special[m]={delegateType:x,bindType:x,handle:function(F){var L=F.relatedTarget,S=F.handleObj;if(!L||L!==this&&!P.contains(this,L)){F.type=S.origType;var V=S.handler.apply(this,arguments);F.type=x}return V}}});P.fn.extend({on:function(m,x,F,L){return H(this,
m,x,F,L)},one:function(m,x,F,L){return H(this,m,x,F,L,1)},off:function(m,x,F){if(m&&m.preventDefault&&m.handleObj){var L=m.handleObj;P(m.delegateTarget).off(L.namespace?L.origType+"."+L.namespace:L.origType,L.selector,L.handler);return this}if("object"===typeof m){for(L in m)this.off(L,x,m[L]);return this}if(!1===x||"function"===typeof x)F=x,x=void 0;!1===F&&(F=G);return this.each(function(){P.event.remove(this,m,F,x)})}});var ob=/<script|<style|<link/i,U=/checked\s*(?:[^=]|=\s*.checked.)/i,ja=/^\s*<!\[CDATA\[|\]\]>\s*$/g;
P.extend({htmlPrefilter:function(m){return m},clone:function(m,x,F){var L,S=m.cloneNode(!0),V=xc(m);if(!(Qa.noCloneChecked||1!==m.nodeType&&11!==m.nodeType||P.isXMLDoc(m))){var X=B(S);var la=B(m);var da=0;for(L=la.length;da<L;da++){var ea=la[da],Ea=X[da],La=Ea.nodeName.toLowerCase();if("input"===La&&zc.test(ea.type))Ea.checked=ea.checked;else if("input"===La||"textarea"===La)Ea.defaultValue=ea.defaultValue}}if(x)if(F)for(la=la||B(m),X=X||B(S),da=0,L=la.length;da<L;da++)Y(la[da],X[da]);else Y(m,S);
X=B(S,"script");0<X.length&&I(X,!V&&B(m,"script"));return S},cleanData:function(m){for(var x,F,L,S=P.event.special,V=0;void 0!==(F=m[V]);V++)if(Vb(F)){if(x=F[kb.expando]){if(x.events)for(L in x.events)S[L]?P.event.remove(F,L):P.removeEvent(F,L,x.handle);F[kb.expando]=void 0}F[ac.expando]&&(F[ac.expando]=void 0)}}});P.fn.extend({detach:function(m){return ka(this,m,!0)},remove:function(m){return ka(this,m)},text:function(m){return Tb(this,function(x){return void 0===x?P.text(this):this.empty().each(function(){if(1===
this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=x})},null,m,arguments.length)},append:function(){return qa(this,arguments,function(m){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||J(this,m).appendChild(m)})},prepend:function(){return qa(this,arguments,function(m){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var x=J(this,m);x.insertBefore(m,x.firstChild)}})},before:function(){return qa(this,arguments,function(m){this.parentNode&&this.parentNode.insertBefore(m,
this)})},after:function(){return qa(this,arguments,function(m){this.parentNode&&this.parentNode.insertBefore(m,this.nextSibling)})},empty:function(){for(var m,x=0;null!=(m=this[x]);x++)1===m.nodeType&&(P.cleanData(B(m,!1)),m.textContent="");return this},clone:function(m,x){m=null==m?!1:m;x=null==x?m:x;return this.map(function(){return P.clone(this,m,x)})},html:function(m){return Tb(this,function(x){var F=this[0]||{},L=0,S=this.length;if(void 0===x&&1===F.nodeType)return F.innerHTML;if("string"===
typeof x&&!ob.test(x)&&!za[(Cc.exec(x)||["",""])[1].toLowerCase()]){x=P.htmlPrefilter(x);try{for(;L<S;L++)F=this[L]||{},1===F.nodeType&&(P.cleanData(B(F,!1)),F.innerHTML=x);F=0}catch(V){}}F&&this.empty().append(x)},null,m,arguments.length)},replaceWith:function(){var m=[];return qa(this,arguments,function(x){var F=this.parentNode;0>P.inArray(this,m)&&(P.cleanData(B(this)),F&&F.replaceChild(x,this))},m)}});P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(m,x){P.fn[m]=function(F){for(var L=[],S=P(F),V=S.length-1,X=0;X<=V;X++)F=X===V?this:this.clone(!0),P(S[X])[x](F),ma.apply(L,F.get());return this.pushStack(L)}});var Ba=new RegExp("^("+lc+")(?!px)[a-z%]+$","i"),ca=/^--/,va=function(m){var x=m.ownerDocument.defaultView;x&&x.opener||(x=y);return x.getComputedStyle(m)},Ha=function(m,x,F){var L,S={};for(L in x)S[L]=m.style[L],m.style[L]=x[L];F=F.call(m);for(L in x)m.style[L]=S[L];return F},Xa=new RegExp(fc.join("|"),"i");(function(){function m(){if(da){la.style.cssText=
"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";da.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";nc.appendChild(la).appendChild(da);var ea=y.getComputedStyle(da);x="1%"!==ea.top;X=12===Math.round(parseFloat(ea.marginLeft));da.style.right="60%";S=36===Math.round(parseFloat(ea.right));F=36===Math.round(parseFloat(ea.width));da.style.position="absolute";L=12===Math.round(parseFloat(da.offsetWidth/
3));nc.removeChild(la);da=null}}var x,F,L,S,V,X,la=tb.createElement("div"),da=tb.createElement("div");da.style&&(da.style.backgroundClip="content-box",da.cloneNode(!0).style.backgroundClip="",Qa.clearCloneStyle="content-box"===da.style.backgroundClip,P.extend(Qa,{boxSizingReliable:function(){m();return F},pixelBoxStyles:function(){m();return S},pixelPosition:function(){m();return x},reliableMarginLeft:function(){m();return X},scrollboxSize:function(){m();return L},reliableTrDimensions:function(){if(null==
V){var ea=tb.createElement("table");var Ea=tb.createElement("tr");var La=tb.createElement("div");ea.style.cssText="position:absolute;left:-11111px;border-collapse:separate";Ea.style.cssText="box-sizing:content-box;border:1px solid";Ea.style.height="1px";La.style.height="9px";La.style.display="block";nc.appendChild(ea).appendChild(Ea).appendChild(La);La=y.getComputedStyle(Ea);V=parseInt(La.height,10)+parseInt(La.borderTopWidth,10)+parseInt(La.borderBottomWidth,10)===Ea.offsetHeight;nc.removeChild(ea)}return V}}))})();
var Ka=["Webkit","Moz","ms"],Za=tb.createElement("div").style,$a={},lb=/^(none|table(?!-c[ea]).+)/,Lb={position:"absolute",visibility:"hidden",display:"block"},Eb={letterSpacing:"0",fontWeight:"400"};P.extend({cssHooks:{opacity:{get:function(m,x){if(x)return m=Q(m,"opacity"),""===m?"1":m}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,
gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(m,x,F,L){if(m&&3!==m.nodeType&&8!==m.nodeType&&m.style){var S,V=e(x),X=ca.test(x),la=m.style;X||(x=ha(V));var da=P.cssHooks[x]||P.cssHooks[V];if(void 0!==F){var ea=typeof F;"string"===ea&&(S=gc.exec(F))&&S[1]&&(F=A(m,x,S),ea="number");null!=F&&F===F&&("number"!==ea||X||(F+=S&&S[3]||(P.cssNumber[V]?
"":"px")),Qa.clearCloneStyle||""!==F||0!==x.indexOf("background")||(la[x]="inherit"),da&&"set"in da&&void 0===(F=da.set(m,F,L))||(X?la.setProperty(x,F):la[x]=F))}else return da&&"get"in da&&void 0!==(S=da.get(m,!1,L))?S:la[x]}},css:function(m,x,F,L){var S;var V=e(x);ca.test(x)||(x=ha(V));(V=P.cssHooks[x]||P.cssHooks[V])&&"get"in V&&(S=V.get(m,!0,F));void 0===S&&(S=Q(m,x,L));"normal"===S&&x in Eb&&(S=Eb[x]);return""===F||F?(m=parseFloat(S),!0===F||isFinite(m)?m||0:S):S}});P.each(["height","width"],
function(m,x){P.cssHooks[x]={get:function(F,L,S){if(L)return!lb.test(P.css(F,"display"))||F.getClientRects().length&&F.getBoundingClientRect().width?xa(F,x,S):Ha(F,Lb,function(){return xa(F,x,S)})},set:function(F,L,S){var V,X=va(F),la=!Qa.scrollboxSize()&&"absolute"===X.position,da=(la||S)&&"border-box"===P.css(F,"boxSizing",!1,X);S=S?ta(F,x,S,da,X):0;da&&la&&(S-=Math.ceil(F["offset"+x[0].toUpperCase()+x.slice(1)]-parseFloat(X[x])-ta(F,x,"border",!1,X)-.5));S&&(V=gc.exec(L))&&"px"!==(V[3]||"px")&&
(F.style[x]=L,L=P.css(F,x));return ra(F,L,S)}}});P.cssHooks.marginLeft=aa(Qa.reliableMarginLeft,function(m,x){if(x)return(parseFloat(Q(m,"marginLeft"))||m.getBoundingClientRect().left-Ha(m,{marginLeft:0},function(){return m.getBoundingClientRect().left}))+"px"});P.each({margin:"",padding:"",border:"Width"},function(m,x){P.cssHooks[m+x]={expand:function(F){var L=0,S={};for(F="string"===typeof F?F.split(" "):[F];4>L;L++)S[m+fc[L]+x]=F[L]||F[L-2]||F[0];return S}};"margin"!==m&&(P.cssHooks[m+x].set=ra)});
P.fn.extend({css:function(m,x){return Tb(this,function(F,L,S){var V,X={},la=0;if(Array.isArray(L)){S=va(F);for(V=L.length;la<V;la++)X[L[la]]=P.css(F,L[la],!1,S);return X}return void 0!==S?P.style(F,L,S):P.css(F,L)},m,x,1<arguments.length)}});P.Tween=na;na.prototype={constructor:na,init:function(m,x,F,L,S,V){this.elem=m;this.prop=F;this.easing=S||P.easing._default;this.options=x;this.start=this.now=this.cur();this.end=L;this.unit=V||(P.cssNumber[F]?"":"px")},cur:function(){var m=na.propHooks[this.prop];
return m&&m.get?m.get(this):na.propHooks._default.get(this)},run:function(m){var x,F=na.propHooks[this.prop];this.pos=this.options.duration?x=P.easing[this.easing](m,this.options.duration*m,0,1,this.options.duration):x=m;this.now=(this.end-this.start)*x+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);F&&F.set?F.set(this):na.propHooks._default.set(this);return this}};na.prototype.init.prototype=na.prototype;na.propHooks={_default:{get:function(m){return 1!==m.elem.nodeType||
null!=m.elem[m.prop]&&null==m.elem.style[m.prop]?m.elem[m.prop]:(m=P.css(m.elem,m.prop,""))&&"auto"!==m?m:0},set:function(m){if(P.fx.step[m.prop])P.fx.step[m.prop](m);else 1!==m.elem.nodeType||!P.cssHooks[m.prop]&&null==m.elem.style[ha(m.prop)]?m.elem[m.prop]=m.now:P.style(m.elem,m.prop,m.now+m.unit)}}};na.propHooks.scrollTop=na.propHooks.scrollLeft={set:function(m){m.elem.nodeType&&m.elem.parentNode&&(m.elem[m.prop]=m.now)}};P.easing={linear:function(m){return m},swing:function(m){return.5-Math.cos(m*
Math.PI)/2},_default:"swing"};P.fx=na.prototype.init;P.fx.step={};var Nb,oc,dd=/^(?:toggle|show|hide)$/,ed=/queueHooks$/;P.Animation=P.extend(pa,{tweeners:{"*":[function(m,x){var F=this.createTween(m,x);A(F.elem,m,gc.exec(x),F);return F}]},tweener:function(m,x){Sa(m)?(x=m,m=["*"]):m=m.match(Gb);for(var F,L=0,S=m.length;L<S;L++)F=m[L],pa.tweeners[F]=pa.tweeners[F]||[],pa.tweeners[F].unshift(x)},prefilters:[function(m,x,F){var L;var S="width"in x||"height"in x;var V=this,X={},la=m.style,da=m.nodeType&&
yc(m),ea=kb.get(m,"fxshow");if(!F.queue){var Ea=P._queueHooks(m,"fx");if(null==Ea.unqueued){Ea.unqueued=0;var La=Ea.empty.fire;Ea.empty.fire=function(){Ea.unqueued||La()}}Ea.unqueued++;V.always(function(){V.always(function(){Ea.unqueued--;P.queue(m,"fx").length||Ea.empty.fire()})})}for(L in x){var Ta=x[L];if(dd.test(Ta)){delete x[L];var gb=gb||"toggle"===Ta;if(Ta===(da?"hide":"show"))if("show"===Ta&&ea&&void 0!==ea[L])da=!0;else continue;X[L]=ea&&ea[L]||P.style(m,L)}}if((x=!P.isEmptyObject(x))||!P.isEmptyObject(X)){if(S&&
1===m.nodeType){F.overflow=[la.overflow,la.overflowX,la.overflowY];var hb=ea&&ea.display;null==hb&&(hb=kb.get(m,"display"));S=P.css(m,"display");"none"===S&&(hb?S=hb:(C([m],!0),hb=m.style.display||hb,S=P.css(m,"display"),C([m])));("inline"===S||"inline-block"===S&&null!=hb)&&"none"===P.css(m,"float")&&(x||(V.done(function(){la.display=hb}),null==hb&&(S=la.display,hb="none"===S?"":S)),la.display="inline-block")}F.overflow&&(la.overflow="hidden",V.always(function(){la.overflow=F.overflow[0];la.overflowX=
F.overflow[1];la.overflowY=F.overflow[2]}));x=!1;for(L in X)x||(ea?"hidden"in ea&&(da=ea.hidden):ea=kb.access(m,"fxshow",{display:hb}),gb&&(ea.hidden=!da),da&&C([m],!0),V.done(function(){da||C([m]);kb.remove(m,"fxshow");for(L in X)P.style(m,L,X[L])})),x=T(da?ea[L]:0,L,V),L in ea||(ea[L]=x.start,da&&(x.end=x.start,x.start=0))}}],prefilter:function(m,x){x?pa.prefilters.unshift(m):pa.prefilters.push(m)}});P.speed=function(m,x,F){var L=m&&"object"===typeof m?P.extend({},m):{complete:F||!F&&x||Sa(m)&&
m,duration:m,easing:F&&x||x&&!Sa(x)&&x};P.fx.off?L.duration=0:"number"!==typeof L.duration&&(L.duration=L.duration in P.fx.speeds?P.fx.speeds[L.duration]:P.fx.speeds._default);if(null==L.queue||!0===L.queue)L.queue="fx";L.old=L.complete;L.complete=function(){Sa(L.old)&&L.old.call(this);L.queue&&P.dequeue(this,L.queue)};return L};P.fn.extend({fadeTo:function(m,x,F,L){return this.filter(yc).css("opacity",0).show().end().animate({opacity:x},m,F,L)},animate:function(m,x,F,L){var S=P.isEmptyObject(m),
V=P.speed(x,F,L);x=function(){var X=pa(this,P.extend({},m),V);(S||kb.get(this,"finish"))&&X.stop(!0)};x.finish=x;return S||!1===V.queue?this.each(x):this.queue(V.queue,x)},stop:function(m,x,F){var L=function(S){var V=S.stop;delete S.stop;V(F)};"string"!==typeof m&&(F=x,x=m,m=void 0);x&&this.queue(m||"fx",[]);return this.each(function(){var S=!0,V=null!=m&&m+"queueHooks",X=P.timers,la=kb.get(this);if(V)la[V]&&la[V].stop&&L(la[V]);else for(V in la)la[V]&&la[V].stop&&ed.test(V)&&L(la[V]);for(V=X.length;V--;)X[V].elem!==
this||null!=m&&X[V].queue!==m||(X[V].anim.stop(F),S=!1,X.splice(V,1));!S&&F||P.dequeue(this,m)})},finish:function(m){!1!==m&&(m=m||"fx");return this.each(function(){var x=kb.get(this),F=x[m+"queue"];var L=x[m+"queueHooks"];var S=P.timers,V=F?F.length:0;x.finish=!0;P.queue(this,m,[]);L&&L.stop&&L.stop.call(this,!0);for(L=S.length;L--;)S[L].elem===this&&S[L].queue===m&&(S[L].anim.stop(!0),S.splice(L,1));for(L=0;L<V;L++)F[L]&&F[L].finish&&F[L].finish.call(this);delete x.finish})}});P.each(["toggle",
"show","hide"],function(m,x){var F=P.fn[x];P.fn[x]=function(L,S,V){return null==L||"boolean"===typeof L?F.apply(this,arguments):this.animate(ab(x,!0),L,S,V)}});P.each({slideDown:ab("show"),slideUp:ab("hide"),slideToggle:ab("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(m,x){P.fn[m]=function(F,L,S){return this.animate(x,F,L,S)}});P.timers=[];P.fx.tick=function(){var m=0,x=P.timers;for(Nb=Date.now();m<x.length;m++){var F=x[m];F()||x[m]!==F||x.splice(m--,
1)}x.length||P.fx.stop();Nb=void 0};P.fx.timer=function(m){P.timers.push(m);P.fx.start()};P.fx.interval=13;P.fx.start=function(){oc||(oc=!0,Ma())};P.fx.stop=function(){oc=null};P.fx.speeds={slow:600,fast:200,_default:400};P.fn.delay=function(m,x){m=P.fx?P.fx.speeds[m]||m:m;return this.queue(x||"fx",function(F,L){var S=y.setTimeout(F,m);L.stop=function(){y.clearTimeout(S)}})};(function(){var m=tb.createElement("input"),x=tb.createElement("select").appendChild(tb.createElement("option"));m.type="checkbox";
Qa.checkOn=""!==m.value;Qa.optSelected=x.selected;m=tb.createElement("input");m.value="t";m.type="radio";Qa.radioValue="t"===m.value})();var Ac=P.expr.attrHandle;P.fn.extend({attr:function(m,x){return Tb(this,P.attr,m,x,1<arguments.length)},removeAttr:function(m){return this.each(function(){P.removeAttr(this,m)})}});P.extend({attr:function(m,x,F){var L,S,V=m.nodeType;if(3!==V&&8!==V&&2!==V){if("undefined"===typeof m.getAttribute)return P.prop(m,x,F);1===V&&P.isXMLDoc(m)||(S=P.attrHooks[x.toLowerCase()]||
(P.expr.match.bool.test(x)?fd:void 0));if(void 0!==F){if(null===F){P.removeAttr(m,x);return}if(S&&"set"in S&&void 0!==(L=S.set(m,F,x)))return L;m.setAttribute(x,F+"");return F}if(S&&"get"in S&&null!==(L=S.get(m,x)))return L;L=P.find.attr(m,x);return null==L?void 0:L}},attrHooks:{type:{set:function(m,x){if(!Qa.radioValue&&"radio"===x&&d(m,"input")){var F=m.value;m.setAttribute("type",x);F&&(m.value=F);return x}}}},removeAttr:function(m,x){var F=0,L=x&&x.match(Gb);if(L&&1===m.nodeType)for(;x=L[F++];)m.removeAttribute(x)}});
var fd={set:function(m,x,F){!1===x?P.removeAttr(m,F):m.setAttribute(F,F);return F}};P.each(P.expr.match.bool.source.match(/\w+/g),function(m,x){var F=Ac[x]||P.find.attr;Ac[x]=function(L,S,V){var X=S.toLowerCase();if(!V){var la=Ac[X];Ac[X]=da;var da=null!=F(L,S,V)?X:null;Ac[X]=la}return da}});var gd=/^(?:input|select|textarea|button)$/i,Gc=/^(?:a|area)$/i;P.fn.extend({prop:function(m,x){return Tb(this,P.prop,m,x,1<arguments.length)},removeProp:function(m){return this.each(function(){delete this[P.propFix[m]||
m]})}});P.extend({prop:function(m,x,F){var L,S=m.nodeType;if(3!==S&&8!==S&&2!==S){if(1!==S||!P.isXMLDoc(m)){x=P.propFix[x]||x;var V=P.propHooks[x]}return void 0!==F?V&&"set"in V&&void 0!==(L=V.set(m,F,x))?L:m[x]=F:V&&"get"in V&&null!==(L=V.get(m,x))?L:m[x]}},propHooks:{tabIndex:{get:function(m){var x=P.find.attr(m,"tabindex");return x?parseInt(x,10):gd.test(m.nodeName)||Gc.test(m.nodeName)&&m.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});Qa.optSelected||(P.propHooks.selected={get:function(m){(m=
m.parentNode)&&m.parentNode&&m.parentNode.selectedIndex;return null},set:function(m){if(m=m.parentNode)m.selectedIndex,m.parentNode&&m.parentNode.selectedIndex}});P.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){P.propFix[this.toLowerCase()]=this});P.fn.extend({addClass:function(m){var x,F,L,S,V;if(Sa(m))return this.each(function(la){P(this).addClass(m.call(this,la,Ra(this)))});var X=xb(m);return X.length?this.each(function(){F=
Ra(this);if(x=1===this.nodeType&&" "+Ca(F)+" "){for(S=0;S<X.length;S++)L=X[S],0>x.indexOf(" "+L+" ")&&(x+=L+" ");V=Ca(x);F!==V&&this.setAttribute("class",V)}}):this},removeClass:function(m){var x,F,L,S,V;if(Sa(m))return this.each(function(la){P(this).removeClass(m.call(this,la,Ra(this)))});if(!arguments.length)return this.attr("class","");var X=xb(m);return X.length?this.each(function(){F=Ra(this);if(x=1===this.nodeType&&" "+Ca(F)+" "){for(S=0;S<X.length;S++)for(L=X[S];-1<x.indexOf(" "+L+" ");)x=
x.replace(" "+L+" "," ");V=Ca(x);F!==V&&this.setAttribute("class",V)}}):this},toggleClass:function(m,x){var F,L,S,V=typeof m,X="string"===V||Array.isArray(m);if(Sa(m))return this.each(function(da){P(this).toggleClass(m.call(this,da,Ra(this),x),x)});if("boolean"===typeof x&&X)return x?this.addClass(m):this.removeClass(m);var la=xb(m);return this.each(function(){if(X)for(S=P(this),L=0;L<la.length;L++)F=la[L],S.hasClass(F)?S.removeClass(F):S.addClass(F);else if(void 0===m||"boolean"===V)(F=Ra(this))&&
kb.set(this,"__className__",F),this.setAttribute&&this.setAttribute("class",F||!1===m?"":kb.get(this,"__className__")||"")})},hasClass:function(m){var x,F=0;for(m=" "+m+" ";x=this[F++];)if(1===x.nodeType&&-1<(" "+Ca(Ra(x))+" ").indexOf(m))return!0;return!1}});var Vc=/\r/g;P.fn.extend({val:function(m){var x,F,L=this[0];if(arguments.length){var S=Sa(m);return this.each(function(V){1===this.nodeType&&(V=S?m.call(this,V,P(this).val()):m,null==V?V="":"number"===typeof V?V+="":Array.isArray(V)&&(V=P.map(V,
function(X){return null==X?"":X+""})),x=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()],x&&"set"in x&&void 0!==x.set(this,V,"value")||(this.value=V))})}if(L){if((x=P.valHooks[L.type]||P.valHooks[L.nodeName.toLowerCase()])&&"get"in x&&void 0!==(F=x.get(L,"value")))return F;F=L.value;return"string"===typeof F?F.replace(Vc,""):null==F?"":F}}});P.extend({valHooks:{option:{get:function(m){var x=P.find.attr(m,"value");return null!=x?x:Ca(P.text(m))}},select:{get:function(m){var x=m.options,
F=m.selectedIndex,L="select-one"===m.type,S=L?null:[],V=L?F+1:x.length;for(m=0>F?V:L?F:0;m<V;m++){var X=x[m];if(!(!X.selected&&m!==F||X.disabled||X.parentNode.disabled&&d(X.parentNode,"optgroup"))){X=P(X).val();if(L)return X;S.push(X)}}return S},set:function(m,x){for(var F,L=m.options,S=P.makeArray(x),V=L.length;V--;)if(x=L[V],x.selected=-1<P.inArray(P.valHooks.option.get(x),S))F=!0;F||(m.selectedIndex=-1);return S}}}});P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(m,x){if(Array.isArray(x))return m.checked=
-1<P.inArray(P(m).val(),x)}};Qa.checkOn||(P.valHooks[this].get=function(m){return null===m.getAttribute("value")?"on":m.value})});var Oc=y.location,Wc=Date.now(),Sc=/\?/;P.parseXML=function(m){if(!m||"string"!==typeof m)return null;try{var x=(new y.DOMParser).parseFromString(m,"text/xml")}catch(L){}var F=x&&x.getElementsByTagName("parsererror")[0];x&&!F||P.error("Invalid XML: "+(F?P.map(F.childNodes,function(L){return L.textContent}).join("\n"):m));return x};var Xc=/^(?:focusinfocus|focusoutblur)$/,
Yc=function(m){m.stopPropagation()};P.extend(P.event,{trigger:function(m,x,F,L){var S,V,X,la=[F||tb],da=ib.call(m,"type")?m.type:m;var ea=ib.call(m,"namespace")?m.namespace.split("."):[];var Ea=X=S=F=F||tb;if(3!==F.nodeType&&8!==F.nodeType&&!Xc.test(da+P.event.triggered)){-1<da.indexOf(".")&&(ea=da.split("."),da=ea.shift(),ea.sort());var La=0>da.indexOf(":")&&"on"+da;m=m[P.expando]?m:new P.Event(da,"object"===typeof m&&m);m.isTrigger=L?2:3;m.namespace=ea.join(".");m.rnamespace=m.namespace?new RegExp("(^|\\.)"+
ea.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;m.result=void 0;m.target||(m.target=F);x=null==x?[m]:P.makeArray(x,[m]);ea=P.event.special[da]||{};if(L||!ea.trigger||!1!==ea.trigger.apply(F,x)){if(!L&&!ea.noBubble&&!Ja(F)){var Ta=ea.delegateType||da;Xc.test(Ta+da)||(Ea=Ea.parentNode);for(;Ea;Ea=Ea.parentNode)la.push(Ea),S=Ea;S===(F.ownerDocument||tb)&&la.push(S.defaultView||S.parentWindow||y)}for(S=0;(Ea=la[S++])&&!m.isPropagationStopped();)X=Ea,m.type=1<S?Ta:ea.bindType||da,(V=(kb.get(Ea,"events")||Object.create(null))[m.type]&&
kb.get(Ea,"handle"))&&V.apply(Ea,x),(V=La&&Ea[La])&&V.apply&&Vb(Ea)&&(m.result=V.apply(Ea,x),!1===m.result&&m.preventDefault());m.type=da;L||m.isDefaultPrevented()||ea._default&&!1!==ea._default.apply(la.pop(),x)||!Vb(F)||!La||!Sa(F[da])||Ja(F)||((S=F[La])&&(F[La]=null),P.event.triggered=da,m.isPropagationStopped()&&X.addEventListener(da,Yc),F[da](),m.isPropagationStopped()&&X.removeEventListener(da,Yc),P.event.triggered=void 0,S&&(F[La]=S));return m.result}}},simulate:function(m,x,F){m=P.extend(new P.Event,
F,{type:m,isSimulated:!0});P.event.trigger(m,null,x)}});P.fn.extend({trigger:function(m,x){return this.each(function(){P.event.trigger(m,x,this)})},triggerHandler:function(m,x){var F=this[0];if(F)return P.event.trigger(m,x,F,!0)}});var hd=/\[\]$/,Zc=/\r?\n/g,id=/^(?:submit|button|image|reset|file)$/i,jd=/^(?:input|select|textarea|keygen)/i;P.param=function(m,x){var F,L=[],S=function(V,X){X=Sa(X)?X():X;L[L.length]=encodeURIComponent(V)+"="+encodeURIComponent(null==X?"":X)};if(null==m)return"";if(Array.isArray(m)||
m.jquery&&!P.isPlainObject(m))P.each(m,function(){S(this.name,this.value)});else for(F in m)Va(F,m[F],x,S);return L.join("&")};P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var m=P.prop(this,"elements");return m?P.makeArray(m):this}).filter(function(){var m=this.type;return this.name&&!P(this).is(":disabled")&&jd.test(this.nodeName)&&!id.test(m)&&(this.checked||!zc.test(m))}).map(function(m,x){m=P(this).val();return null==
m?null:Array.isArray(m)?P.map(m,function(F){return{name:x.name,value:F.replace(Zc,"\r\n")}}):{name:x.name,value:m.replace(Zc,"\r\n")}}).get()}});var kd=/%20/g,ld=/#.*$/,Nc=/([?&])_=[^&]*/,md=/^(.*?):[ \t]*([^\r\n]*)$/mg,nd=/^(?:GET|HEAD)$/,Tc=/^\/\//,$c={},Uc={},Pc="*/".concat("*"),Hc=tb.createElement("a");Hc.href=Oc.href;P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Oc.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Oc.protocol),global:!0,processData:!0,
async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(m,x){return x?Ga(Ga(m,P.ajaxSettings),
x):Ga(P.ajaxSettings,m)},ajaxPrefilter:Da($c),ajaxTransport:Da(Uc),ajax:function(m,x){function F(yb,Wb,Zb,uc){var mc,Jb=Wb;if(!Ub){Ub=!0;X&&y.clearTimeout(X);L=void 0;S=uc||"";Ab.readyState=0<yb?4:0;uc=200<=yb&&300>yb||304===yb;Zb&&(mc=Ia(ea,Ab,Zb));!uc&&-1<P.inArray("script",ea.dataTypes)&&0>P.inArray("json",ea.dataTypes)&&(ea.converters["text script"]=function(){});mc=db(ea,mc,Ab,uc);if(uc)if(ea.ifModified&&((Zb=Ab.getResponseHeader("Last-Modified"))&&(P.lastModified[Kb]=Zb),(Zb=Ab.getResponseHeader("etag"))&&
(P.etag[Kb]=Zb)),204===yb||"HEAD"===ea.type)Jb="nocontent";else if(304===yb)Jb="notmodified";else{Jb=mc.state;var Bc=mc.data;var pc=mc.error;uc=!pc}else if(pc=Jb,yb||!Jb)Jb="error",0>yb&&(yb=0);Ab.status=yb;Ab.statusText=(Wb||Jb)+"";uc?Ta.resolveWith(Ea,[Bc,Jb,Ab]):Ta.rejectWith(Ea,[Ab,Jb,pc]);Ab.statusCode(hb);hb=void 0;la&&La.trigger(uc?"ajaxSuccess":"ajaxError",[Ab,ea,uc?Bc:pc]);gb.fireWith(Ea,[Ab,Jb]);la&&(La.trigger("ajaxComplete",[Ab,ea]),--P.active||P.event.trigger("ajaxStop"))}}"object"===
typeof m&&(x=m,m=void 0);x=x||{};var L,S,V,X,la,da,ea=P.ajaxSetup({},x),Ea=ea.context||ea,La=ea.context&&(Ea.nodeType||Ea.jquery)?P(Ea):P.event,Ta=P.Deferred(),gb=P.Callbacks("once memory"),hb=ea.statusCode||{},Cb={},Db={},$b="canceled",Ab={readyState:0,getResponseHeader:function(yb){var Wb;if(Ub){if(!V)for(V={};Wb=md.exec(S);)V[Wb[1].toLowerCase()+" "]=(V[Wb[1].toLowerCase()+" "]||[]).concat(Wb[2]);Wb=V[yb.toLowerCase()+" "]}return null==Wb?null:Wb.join(", ")},getAllResponseHeaders:function(){return Ub?
S:null},setRequestHeader:function(yb,Wb){null==Ub&&(yb=Db[yb.toLowerCase()]=Db[yb.toLowerCase()]||yb,Cb[yb]=Wb);return this},overrideMimeType:function(yb){null==Ub&&(ea.mimeType=yb);return this},statusCode:function(yb){var Wb;if(yb)if(Ub)Ab.always(yb[Ab.status]);else for(Wb in yb)hb[Wb]=[hb[Wb],yb[Wb]];return this},abort:function(yb){yb=yb||$b;L&&L.abort(yb);F(0,yb);return this}};Ta.promise(Ab);ea.url=((m||ea.url||Oc.href)+"").replace(Tc,Oc.protocol+"//");ea.type=x.method||x.type||ea.method||ea.type;
ea.dataTypes=(ea.dataType||"*").toLowerCase().match(Gb)||[""];if(null==ea.crossDomain){m=tb.createElement("a");try{m.href=ea.url,m.href=m.href,ea.crossDomain=Hc.protocol+"//"+Hc.host!==m.protocol+"//"+m.host}catch(yb){ea.crossDomain=!0}}ea.data&&ea.processData&&"string"!==typeof ea.data&&(ea.data=P.param(ea.data,ea.traditional));ua($c,ea,x,Ab);if(Ub)return Ab;(la=P.event&&ea.global)&&0===P.active++&&P.event.trigger("ajaxStart");ea.type=ea.type.toUpperCase();ea.hasContent=!nd.test(ea.type);var Kb=
ea.url.replace(ld,"");ea.hasContent?ea.data&&ea.processData&&0===(ea.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ea.data=ea.data.replace(kd,"+")):(m=ea.url.slice(Kb.length),ea.data&&(ea.processData||"string"===typeof ea.data)&&(Kb+=(Sc.test(Kb)?"&":"?")+ea.data,delete ea.data),!1===ea.cache&&(Kb=Kb.replace(Nc,"$1"),m=(Sc.test(Kb)?"&":"?")+"_="+Wc++ +m),ea.url=Kb+m);ea.ifModified&&(P.lastModified[Kb]&&Ab.setRequestHeader("If-Modified-Since",P.lastModified[Kb]),P.etag[Kb]&&Ab.setRequestHeader("If-None-Match",
P.etag[Kb]));(ea.data&&ea.hasContent&&!1!==ea.contentType||x.contentType)&&Ab.setRequestHeader("Content-Type",ea.contentType);Ab.setRequestHeader("Accept",ea.dataTypes[0]&&ea.accepts[ea.dataTypes[0]]?ea.accepts[ea.dataTypes[0]]+("*"!==ea.dataTypes[0]?", "+Pc+"; q=0.01":""):ea.accepts["*"]);for(da in ea.headers)Ab.setRequestHeader(da,ea.headers[da]);if(ea.beforeSend&&(!1===ea.beforeSend.call(Ea,Ab,ea)||Ub))return Ab.abort();$b="abort";gb.add(ea.complete);Ab.done(ea.success);Ab.fail(ea.error);if(L=
ua(Uc,ea,x,Ab)){Ab.readyState=1;la&&La.trigger("ajaxSend",[Ab,ea]);if(Ub)return Ab;ea.async&&0<ea.timeout&&(X=y.setTimeout(function(){Ab.abort("timeout")},ea.timeout));try{var Ub=!1;L.send(Cb,F)}catch(yb){if(Ub)throw yb;F(-1,yb)}}else F(-1,"No Transport");return Ab},getJSON:function(m,x,F){return P.get(m,x,F,"json")},getScript:function(m,x){return P.get(m,void 0,x,"script")}});P.each(["get","post"],function(m,x){P[x]=function(F,L,S,V){Sa(L)&&(V=V||S,S=L,L=void 0);return P.ajax(P.extend({url:F,type:x,
dataType:V,data:L,success:S},P.isPlainObject(F)&&F))}});P.ajaxPrefilter(function(m){for(var x in m.headers)"content-type"===x.toLowerCase()&&(m.contentType=m.headers[x]||"")});P._evalUrl=function(m,x,F){return P.ajax({url:m,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(L){P.globalEval(L,x,F)}})};P.fn.extend({wrapAll:function(m){this[0]&&(Sa(m)&&(m=m.call(this[0])),m=P(m,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&
m.insertBefore(this[0]),m.map(function(){for(var x=this;x.firstElementChild;)x=x.firstElementChild;return x}).append(this));return this},wrapInner:function(m){return Sa(m)?this.each(function(x){P(this).wrapInner(m.call(this,x))}):this.each(function(){var x=P(this),F=x.contents();F.length?F.wrapAll(m):x.append(m)})},wrap:function(m){var x=Sa(m);return this.each(function(F){P(this).wrapAll(x?m.call(this,F):m)})},unwrap:function(m){this.parent(m).not("body").each(function(){P(this).replaceWith(this.childNodes)});
return this}});P.expr.pseudos.hidden=function(m){return!P.expr.pseudos.visible(m)};P.expr.pseudos.visible=function(m){return!!(m.offsetWidth||m.offsetHeight||m.getClientRects().length)};P.ajaxSettings.xhr=function(){try{return new y.XMLHttpRequest}catch(m){}};var od={0:200,1223:204},Qc=P.ajaxSettings.xhr();Qa.cors=!!Qc&&"withCredentials"in Qc;Qa.ajax=Qc=!!Qc;P.ajaxTransport(function(m){var x,F;if(Qa.cors||Qc&&!m.crossDomain)return{send:function(L,S){var V,X=m.xhr();X.open(m.type,m.url,m.async,m.username,
m.password);if(m.xhrFields)for(V in m.xhrFields)X[V]=m.xhrFields[V];m.mimeType&&X.overrideMimeType&&X.overrideMimeType(m.mimeType);m.crossDomain||L["X-Requested-With"]||(L["X-Requested-With"]="XMLHttpRequest");for(V in L)X.setRequestHeader(V,L[V]);x=function(la){return function(){x&&(x=F=X.onload=X.onerror=X.onabort=X.ontimeout=X.onreadystatechange=null,"abort"===la?X.abort():"error"===la?"number"!==typeof X.status?S(0,"error"):S(X.status,X.statusText):S(od[X.status]||X.status,X.statusText,"text"!==
(X.responseType||"text")||"string"!==typeof X.responseText?{binary:X.response}:{text:X.responseText},X.getAllResponseHeaders()))}};X.onload=x();F=X.onerror=X.ontimeout=x("error");void 0!==X.onabort?X.onabort=F:X.onreadystatechange=function(){4===X.readyState&&y.setTimeout(function(){x&&F()})};x=x("abort");try{X.send(m.hasContent&&m.data||null)}catch(la){if(x)throw la;}},abort:function(){x&&x()}}});P.ajaxPrefilter(function(m){m.crossDomain&&(m.contents.script=!1)});P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(m){P.globalEval(m);return m}}});P.ajaxPrefilter("script",function(m){void 0===m.cache&&(m.cache=!1);m.crossDomain&&(m.type="GET")});P.ajaxTransport("script",function(m){if(m.crossDomain||m.scriptAttrs){var x,F;return{send:function(L,S){x=P("<script>").attr(m.scriptAttrs||{}).prop({charset:m.scriptCharset,src:m.url}).on("load error",F=function(V){x.remove();F=null;V&&S("error"===V.type?404:200,V.type)});tb.head.appendChild(x[0])},
abort:function(){F&&F()}}}});var Rc=[],t=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var m=Rc.pop()||P.expando+"_"+Wc++;this[m]=!0;return m}});P.ajaxPrefilter("json jsonp",function(m,x,F){var L,S=!1!==m.jsonp&&(t.test(m.url)?"url":"string"===typeof m.data&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&t.test(m.data)&&"data");if(S||"jsonp"===m.dataTypes[0]){var V=m.jsonpCallback=Sa(m.jsonpCallback)?m.jsonpCallback():m.jsonpCallback;S?m[S]=m[S].replace(t,
"$1"+V):!1!==m.jsonp&&(m.url+=(Sc.test(m.url)?"&":"?")+m.jsonp+"="+V);m.converters["script json"]=function(){L||P.error(V+" was not called");return L[0]};m.dataTypes[0]="json";var X=y[V];y[V]=function(){L=arguments};F.always(function(){void 0===X?P(y).removeProp(V):y[V]=X;m[V]&&(m.jsonpCallback=x.jsonpCallback,Rc.push(V));L&&Sa(X)&&X(L[0]);L=X=void 0});return"script"}});Qa.createHTMLDocument=function(){var m=tb.implementation.createHTMLDocument("").body;m.innerHTML="<form></form><form></form>";return 2===
m.childNodes.length}();P.parseHTML=function(m,x,F){if("string"!==typeof m)return[];"boolean"===typeof x&&(F=x,x=!1);if(!x)if(Qa.createHTMLDocument){x=tb.implementation.createHTMLDocument("");var L=x.createElement("base");L.href=tb.location.href;x.head.appendChild(L)}else x=tb;L=cc.exec(m);F=!F&&[];if(L)return[x.createElement(L[1])];L=O([m],x,F);F&&F.length&&P(F).remove();return P.merge([],L.childNodes)};P.fn.load=function(m,x,F){var L,S,V=this,X=m.indexOf(" ");if(-1<X){var la=Ca(m.slice(X));m=m.slice(0,
X)}Sa(x)?(F=x,x=void 0):x&&"object"===typeof x&&(L="POST");0<V.length&&P.ajax({url:m,type:L||"GET",dataType:"html",data:x}).done(function(da){S=arguments;V.html(la?P("<div>").append(P.parseHTML(da)).find(la):da)}).always(F&&function(da,ea){V.each(function(){F.apply(this,S||[da.responseText,ea,da])})});return this};P.expr.pseudos.animated=function(m){return P.grep(P.timers,function(x){return m===x.elem}).length};P.offset={setOffset:function(m,x,F){var L=P.css(m,"position"),S=P(m),V={};"static"===L&&
(m.style.position="relative");var X=S.offset();var la=P.css(m,"top");var da=P.css(m,"left");("absolute"===L||"fixed"===L)&&-1<(la+da).indexOf("auto")?(da=S.position(),la=da.top,da=da.left):(la=parseFloat(la)||0,da=parseFloat(da)||0);Sa(x)&&(x=x.call(m,F,P.extend({},X)));null!=x.top&&(V.top=x.top-X.top+la);null!=x.left&&(V.left=x.left-X.left+da);"using"in x?x.using.call(m,V):S.css(V)}};P.fn.extend({offset:function(m){if(arguments.length)return void 0===m?this:this.each(function(L){P.offset.setOffset(this,
m,L)});var x;if(x=this[0]){if(!x.getClientRects().length)return{top:0,left:0};var F=x.getBoundingClientRect();x=x.ownerDocument.defaultView;return{top:F.top+x.pageYOffset,left:F.left+x.pageXOffset}}},position:function(){if(this[0]){var m,x=this[0],F={top:0,left:0};if("fixed"===P.css(x,"position"))var L=x.getBoundingClientRect();else{L=this.offset();var S=x.ownerDocument;for(m=x.offsetParent||S.documentElement;m&&(m===S.body||m===S.documentElement)&&"static"===P.css(m,"position");)m=m.parentNode;m&&
m!==x&&1===m.nodeType&&(F=P(m).offset(),F.top+=P.css(m,"borderTopWidth",!0),F.left+=P.css(m,"borderLeftWidth",!0))}return{top:L.top-F.top-P.css(x,"marginTop",!0),left:L.left-F.left-P.css(x,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var m=this.offsetParent;m&&"static"===P.css(m,"position");)m=m.offsetParent;return m||nc})}});P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(m,x){var F="pageYOffset"===x;P.fn[m]=function(L){return Tb(this,function(S,V,
X){if(Ja(S))var la=S;else 9===S.nodeType&&(la=S.defaultView);if(void 0===X)return la?la[x]:S[V];la?la.scrollTo(F?la.pageXOffset:X,F?X:la.pageYOffset):S[V]=X},m,L,arguments.length)}});P.each(["top","left"],function(m,x){P.cssHooks[x]=aa(Qa.pixelPosition,function(F,L){if(L)return L=Q(F,x),Ba.test(L)?P(F).position()[x]+"px":L})});P.each({Height:"height",Width:"width"},function(m,x){P.each({padding:"inner"+m,content:x,"":"outer"+m},function(F,L){P.fn[L]=function(S,V){var X=arguments.length&&(F||"boolean"!==
typeof S),la=F||(!0===S||!0===V?"margin":"border");return Tb(this,function(da,ea,Ea){return Ja(da)?0===L.indexOf("outer")?da["inner"+m]:da.document.documentElement["client"+m]:9===da.nodeType?(ea=da.documentElement,Math.max(da.body["scroll"+m],ea["scroll"+m],da.body["offset"+m],ea["offset"+m],ea["client"+m])):void 0===Ea?P.css(da,ea,la):P.style(da,ea,Ea,la)},x,X?S:void 0,X)}})});P.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(m,x){P.fn[x]=function(F){return this.on(x,
F)}});P.fn.extend({bind:function(m,x,F){return this.on(m,null,x,F)},unbind:function(m,x){return this.off(m,null,x)},delegate:function(m,x,F,L){return this.on(x,m,F,L)},undelegate:function(m,x,F){return 1===arguments.length?this.off(m,"**"):this.off(x,m||"**",F)},hover:function(m,x){return this.on("mouseenter",m).on("mouseleave",x||m)}});P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(m,x){P.fn[x]=function(F,L){return 0<arguments.length?this.on(x,null,F,L):this.trigger(x)}});var M=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(m,x){if("string"===typeof x){var F=m[x];x=m;m=F}if(Sa(m)){var L=Pa.call(arguments,2);F=function(){return m.apply(x||this,L.concat(Pa.call(arguments)))};F.guid=m.guid=m.guid||P.guid++;return F}};P.holdReady=function(m){m?P.readyWait++:P.ready(!0)};P.isArray=Array.isArray;P.parseJSON=JSON.parse;P.nodeName=d;P.isFunction=Sa;
P.isWindow=Ja;P.camelCase=e;P.type=E;P.now=Date.now;P.isNumeric=function(m){var x=P.type(m);return("number"===x||"string"===x)&&!isNaN(m-parseFloat(m))};P.trim=function(m){return null==m?"":(m+"").replace(M,"$1")};var W=y.jQuery,oa=y.$;P.noConflict=function(m){y.$===P&&(y.$=oa);m&&y.jQuery===P&&(y.jQuery=W);return P};"undefined"===typeof k&&(y.jQuery=y.$=P);return P})},{}],297:[function(g,K,D){D=g("./lib/utils/common").assign;var y=g("./lib/deflate"),k=g("./lib/inflate");g=g("./lib/zlib/constants");
var u={};D(u,y,k,g);K.exports=u},{"./lib/deflate":298,"./lib/inflate":299,"./lib/utils/common":300,"./lib/zlib/constants":303}],298:[function(g,K,D){function y(l){if(!(this instanceof y))return new y(l);l=this.options=E.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},l||{});l.raw&&0<l.windowBits?l.windowBits=-l.windowBits:l.gzip&&0<l.windowBits&&16>l.windowBits&&(l.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new w;this.strm.avail_out=
0;var r=u.deflateInit2(this.strm,l.level,l.method,l.windowBits,l.memLevel,l.strategy);if(0!==r)throw Error(d[r]);l.header&&u.deflateSetHeader(this.strm,l.header);if(l.dictionary){l="string"===typeof l.dictionary?b.string2buf(l.dictionary):"[object ArrayBuffer]"===a.call(l.dictionary)?new Uint8Array(l.dictionary):l.dictionary;r=u.deflateSetDictionary(this.strm,l);if(0!==r)throw Error(d[r]);this._dict_set=!0}}function k(l,r){r=new y(r);r.push(l,!0);if(r.err)throw r.msg||d[r.err];return r.result}var u=
g("./zlib/deflate"),E=g("./utils/common"),b=g("./utils/strings"),d=g("./zlib/messages"),w=g("./zlib/zstream"),a=Object.prototype.toString;y.prototype.push=function(l,r){var q=this.strm,h=this.options.chunkSize;if(this.ended)return!1;r=r===~~r?r:!0===r?4:0;"string"===typeof l?q.input=b.string2buf(l):"[object ArrayBuffer]"===a.call(l)?q.input=new Uint8Array(l):q.input=l;q.next_in=0;q.avail_in=q.input.length;do{0===q.avail_out&&(q.output=new E.Buf8(h),q.next_out=0,q.avail_out=h);l=u.deflate(q,r);if(1!==
l&&0!==l)return this.onEnd(l),this.ended=!0,!1;if(0===q.avail_out||0===q.avail_in&&(4===r||2===r))if("string"===this.options.to)this.onData(b.buf2binstring(E.shrinkBuf(q.output,q.next_out)));else this.onData(E.shrinkBuf(q.output,q.next_out))}while((0<q.avail_in||0===q.avail_out)&&1!==l);if(4===r)return l=u.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,0===l;2===r&&(this.onEnd(0),q.avail_out=0);return!0};y.prototype.onData=function(l){this.chunks.push(l)};y.prototype.onEnd=function(l){0===l&&(this.result=
"string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=l;this.msg=this.strm.msg};D.Deflate=y;D.deflate=k;D.deflateRaw=function(l,r){r=r||{};r.raw=!0;return k(l,r)};D.gzip=function(l,r){r=r||{};r.gzip=!0;return k(l,r)}},{"./utils/common":300,"./utils/strings":301,"./zlib/deflate":305,"./zlib/messages":310,"./zlib/zstream":312}],299:[function(g,K,D){function y(q){if(!(this instanceof y))return new y(q);var h=this.options=E.assign({chunkSize:16384,windowBits:0,
to:""},q||{});h.raw&&0<=h.windowBits&&16>h.windowBits&&(h.windowBits=-h.windowBits,0===h.windowBits&&(h.windowBits=-15));!(0<=h.windowBits&&16>h.windowBits)||q&&q.windowBits||(h.windowBits+=32);15<h.windowBits&&48>h.windowBits&&0===(h.windowBits&15)&&(h.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new a;this.strm.avail_out=0;q=u.inflateInit2(this.strm,h.windowBits);if(q!==d.Z_OK)throw Error(w[q]);this.header=new l;u.inflateGetHeader(this.strm,this.header);if(h.dictionary&&
("string"===typeof h.dictionary?h.dictionary=b.string2buf(h.dictionary):"[object ArrayBuffer]"===r.call(h.dictionary)&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(q=u.inflateSetDictionary(this.strm,h.dictionary),q!==d.Z_OK)))throw Error(w[q]);}function k(q,h){h=new y(h);h.push(q,!0);if(h.err)throw h.msg||w[h.err];return h.result}var u=g("./zlib/inflate"),E=g("./utils/common"),b=g("./utils/strings"),d=g("./zlib/constants"),w=g("./zlib/messages"),a=g("./zlib/zstream"),l=g("./zlib/gzheader"),
r=Object.prototype.toString;y.prototype.push=function(q,h){var c=this.strm,f=this.options.chunkSize,p=this.options.dictionary,e=!1;if(this.ended)return!1;h=h===~~h?h:!0===h?d.Z_FINISH:d.Z_NO_FLUSH;"string"===typeof q?c.input=b.binstring2buf(q):"[object ArrayBuffer]"===r.call(q)?c.input=new Uint8Array(q):c.input=q;c.next_in=0;c.avail_in=c.input.length;do{0===c.avail_out&&(c.output=new E.Buf8(f),c.next_out=0,c.avail_out=f);q=u.inflate(c,d.Z_NO_FLUSH);q===d.Z_NEED_DICT&&p&&(q=u.inflateSetDictionary(this.strm,
p));q===d.Z_BUF_ERROR&&!0===e&&(q=d.Z_OK,e=!1);if(q!==d.Z_STREAM_END&&q!==d.Z_OK)return this.onEnd(q),this.ended=!0,!1;if(c.next_out&&(0===c.avail_out||q===d.Z_STREAM_END||0===c.avail_in&&(h===d.Z_FINISH||h===d.Z_SYNC_FLUSH)))if("string"===this.options.to){var n=b.utf8border(c.output,c.next_out);var v=c.next_out-n;var A=b.buf2string(c.output,n);c.next_out=v;c.avail_out=f-v;v&&E.arraySet(c.output,c.output,n,v,0);this.onData(A)}else this.onData(E.shrinkBuf(c.output,c.next_out));0===c.avail_in&&0===
c.avail_out&&(e=!0)}while((0<c.avail_in||0===c.avail_out)&&q!==d.Z_STREAM_END);q===d.Z_STREAM_END&&(h=d.Z_FINISH);if(h===d.Z_FINISH)return q=u.inflateEnd(this.strm),this.onEnd(q),this.ended=!0,q===d.Z_OK;h===d.Z_SYNC_FLUSH&&(this.onEnd(d.Z_OK),c.avail_out=0);return!0};y.prototype.onData=function(q){this.chunks.push(q)};y.prototype.onEnd=function(q){q===d.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=q;this.msg=this.strm.msg};
D.Inflate=y;D.inflate=k;D.inflateRaw=function(q,h){h=h||{};h.raw=!0;return k(q,h)};D.ungzip=k},{"./utils/common":300,"./utils/strings":301,"./zlib/constants":303,"./zlib/gzheader":306,"./zlib/inflate":308,"./zlib/messages":310,"./zlib/zstream":312}],300:[function(g,K,D){g="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;D.assign=function(u){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var b=E.shift();if(b){if("object"!==typeof b)throw new TypeError(b+
"must be non-object");for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(u[d]=b[d])}}return u};D.shrinkBuf=function(u,E){if(u.length===E)return u;if(u.subarray)return u.subarray(0,E);u.length=E;return u};var y={arraySet:function(u,E,b,d,w){if(E.subarray&&u.subarray)u.set(E.subarray(b,b+d),w);else for(var a=0;a<d;a++)u[w+a]=E[b+a]},flattenChunks:function(u){var E,b;var d=b=0;for(E=u.length;d<E;d++)b+=u[d].length;var w=new Uint8Array(b);d=b=0;for(E=u.length;d<E;d++){var a=u[d];w.set(a,b);b+=
a.length}return w}},k={arraySet:function(u,E,b,d,w){for(var a=0;a<d;a++)u[w+a]=E[b+a]},flattenChunks:function(u){return[].concat.apply([],u)}};D.setTyped=function(u){u?(D.Buf8=Uint8Array,D.Buf16=Uint16Array,D.Buf32=Int32Array,D.assign(D,y)):(D.Buf8=Array,D.Buf16=Array,D.Buf32=Array,D.assign(D,k))};D.setTyped(g)},{}],301:[function(g,K,D){function y(d,w){if(65534>w&&(d.subarray&&E||!d.subarray&&u))return String.fromCharCode.apply(null,k.shrinkBuf(d,w));for(var a="",l=0;l<w;l++)a+=String.fromCharCode(d[l]);
return a}var k=g("./common"),u=!0,E=!0;try{String.fromCharCode.apply(null,[0])}catch(d){u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(d){E=!1}var b=new k.Buf8(256);for(g=0;256>g;g++)b[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;b[254]=b[254]=1;D.string2buf=function(d){var w,a,l=d.length,r=0;for(w=0;w<l;w++){var q=d.charCodeAt(w);if(55296===(q&64512)&&w+1<l){var h=d.charCodeAt(w+1);56320===(h&64512)&&(q=65536+(q-55296<<10)+(h-56320),w++)}r+=128>q?1:2048>q?2:65536>q?3:4}var c=
new k.Buf8(r);for(w=a=0;a<r;w++)q=d.charCodeAt(w),55296===(q&64512)&&w+1<l&&(h=d.charCodeAt(w+1),56320===(h&64512)&&(q=65536+(q-55296<<10)+(h-56320),w++)),128>q?c[a++]=q:(2048>q?c[a++]=192|q>>>6:(65536>q?c[a++]=224|q>>>12:(c[a++]=240|q>>>18,c[a++]=128|q>>>12&63),c[a++]=128|q>>>6&63),c[a++]=128|q&63);return c};D.buf2binstring=function(d){return y(d,d.length)};D.binstring2buf=function(d){for(var w=new k.Buf8(d.length),a=0,l=w.length;a<l;a++)w[a]=d.charCodeAt(a);return w};D.buf2string=function(d,w){var a,
l=w||d.length,r=Array(2*l);for(w=a=0;w<l;){var q=d[w++];if(128>q)r[a++]=q;else{var h=b[q];if(4<h)r[a++]=65533,w+=h-1;else{for(q&=2===h?31:3===h?15:7;1<h&&w<l;)q=q<<6|d[w++]&63,h--;1<h?r[a++]=65533:65536>q?r[a++]=q:(q-=65536,r[a++]=55296|q>>10&1023,r[a++]=56320|q&1023)}}}return y(r,a)};D.utf8border=function(d,w){var a;w=w||d.length;w>d.length&&(w=d.length);for(a=w-1;0<=a&&128===(d[a]&192);)a--;return 0>a||0===a?w:a+b[d[a]]>w?a:w}},{"./common":300}],302:[function(g,K,D){K.exports=function(y,k,u,E){var b=
y&65535|0;y=y>>>16&65535|0;for(var d;0!==u;){d=2E3<u?2E3:u;u-=d;do b=b+k[E++]|0,y=y+b|0;while(--d);b%=65521;y%=65521}return b|y<<16|0}},{}],303:[function(g,K,D){K.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,
Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],304:[function(g,K,D){var y=function(){for(var k,u=[],E=0;256>E;E++){k=E;for(var b=0;8>b;b++)k=k&1?3988292384^k>>>1:k>>>1;u[E]=k}return u}();K.exports=function(k,u,E,b){E=b+E;for(k^=-1;b<E;b++)k=k>>>8^y[(k^u[b])&255];return k^-1}},{}],305:[function(g,K,D){function y(z,G){z.msg=I[G];return G}function k(z){for(var G=z.length;0<=--G;)z[G]=0}function u(z){var G=z.state,H=G.pending;H>z.avail_out&&(H=z.avail_out);0!==H&&(v.arraySet(z.output,G.pending_buf,
G.pending_out,H,z.next_out),z.next_out+=H,G.pending_out+=H,z.total_out+=H,z.avail_out-=H,G.pending-=H,0===G.pending&&(G.pending_out=0))}function E(z,G){A._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,G);z.block_start=z.strstart;u(z.strm)}function b(z,G){z.pending_buf[z.pending++]=G}function d(z,G){z.pending_buf[z.pending++]=G>>>8&255;z.pending_buf[z.pending++]=G&255}function w(z,G){var H=z.max_chain_length,N=z.strstart,J=z.prev_length,R=z.nice_match,fa=z.strstart>z.w_size-
262?z.strstart-(z.w_size-262):0,Y=z.window,qa=z.w_mask,ka=z.prev,Q=z.strstart+258,aa=Y[N+J-1],ha=Y[N+J];z.prev_length>=z.good_match&&(H>>=2);R>z.lookahead&&(R=z.lookahead);do{var ra=G;if(Y[ra+J]===ha&&Y[ra+J-1]===aa&&Y[ra]===Y[N]&&Y[++ra]===Y[N+1]){N+=2;for(ra++;Y[++N]===Y[++ra]&&Y[++N]===Y[++ra]&&Y[++N]===Y[++ra]&&Y[++N]===Y[++ra]&&Y[++N]===Y[++ra]&&Y[++N]===Y[++ra]&&Y[++N]===Y[++ra]&&Y[++N]===Y[++ra]&&N<Q;);ra=258-(Q-N);N=Q-258;if(ra>J){z.match_start=G;J=ra;if(ra>=R)break;aa=Y[N+J-1];ha=Y[N+J]}}}while((G=
ka[G&qa])>fa&&0!==--H);return J<=z.lookahead?J:z.lookahead}function a(z){var G=z.w_size,H;do{var N=z.window_size-z.lookahead-z.strstart;if(z.strstart>=G+(G-262)){v.arraySet(z.window,z.window,G,G,0);z.match_start-=G;z.strstart-=G;z.block_start-=G;var J=H=z.hash_size;do{var R=z.head[--J];z.head[J]=R>=G?R-G:0}while(--H);J=H=G;do R=z.prev[--J],z.prev[J]=R>=G?R-G:0;while(--H);N+=G}if(0===z.strm.avail_in)break;J=z.strm;H=z.window;R=z.strstart+z.lookahead;var fa=J.avail_in;fa>N&&(fa=N);0===fa?H=0:(J.avail_in-=
fa,v.arraySet(H,J.input,J.next_in,fa,R),1===J.state.wrap?J.adler=C(J.adler,H,fa,R):2===J.state.wrap&&(J.adler=B(J.adler,H,fa,R)),J.next_in+=fa,J.total_in+=fa,H=fa);z.lookahead+=H;if(3<=z.lookahead+z.insert)for(N=z.strstart-z.insert,z.ins_h=z.window[N],z.ins_h=(z.ins_h<<z.hash_shift^z.window[N+1])&z.hash_mask;z.insert&&!(z.ins_h=(z.ins_h<<z.hash_shift^z.window[N+3-1])&z.hash_mask,z.prev[N&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=N,N++,z.insert--,3>z.lookahead+z.insert););}while(262>z.lookahead&&0!==
z.strm.avail_in)}function l(z,G){for(var H;;){if(262>z.lookahead){a(z);if(262>z.lookahead&&0===G)return 1;if(0===z.lookahead)break}H=0;3<=z.lookahead&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,H=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart);0!==H&&z.strstart-H<=z.w_size-262&&(z.match_length=w(z,H));if(3<=z.match_length)if(H=A._tr_tally(z,z.strstart-z.match_start,z.match_length-3),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&3<=
z.lookahead){z.match_length--;do z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart;while(0!==--z.match_length);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else H=A._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(H&&(E(z,!1),0===z.strm.avail_out))return 1}z.insert=2>
z.strstart?z.strstart:2;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===z.strm.avail_out)?1:2}function r(z,G){for(var H,N;;){if(262>z.lookahead){a(z);if(262>z.lookahead&&0===G)return 1;if(0===z.lookahead)break}H=0;3<=z.lookahead&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,H=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart);z.prev_length=z.match_length;z.prev_match=z.match_start;z.match_length=2;0!==H&&z.prev_length<z.max_lazy_match&&
z.strstart-H<=z.w_size-262&&(z.match_length=w(z,H),5>=z.match_length&&(1===z.strategy||3===z.match_length&&4096<z.strstart-z.match_start)&&(z.match_length=2));if(3<=z.prev_length&&z.match_length<=z.prev_length){N=z.strstart+z.lookahead-3;H=A._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-3);z.lookahead-=z.prev_length-1;z.prev_length-=2;do++z.strstart<=N&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart);
while(0!==--z.prev_length);z.match_available=0;z.match_length=2;z.strstart++;if(H&&(E(z,!1),0===z.strm.avail_out))return 1}else if(z.match_available){if((H=A._tr_tally(z,0,z.window[z.strstart-1]))&&E(z,!1),z.strstart++,z.lookahead--,0===z.strm.avail_out)return 1}else z.match_available=1,z.strstart++,z.lookahead--}z.match_available&&(A._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0);z.insert=2>z.strstart?z.strstart:2;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===
z.strm.avail_out)?1:2}function q(z,G){for(var H,N,J,R=z.window;;){if(258>=z.lookahead){a(z);if(258>=z.lookahead&&0===G)return 1;if(0===z.lookahead)break}z.match_length=0;if(3<=z.lookahead&&0<z.strstart&&(N=z.strstart-1,H=R[N],H===R[++N]&&H===R[++N]&&H===R[++N])){for(J=z.strstart+258;H===R[++N]&&H===R[++N]&&H===R[++N]&&H===R[++N]&&H===R[++N]&&H===R[++N]&&H===R[++N]&&H===R[++N]&&N<J;);z.match_length=258-(J-N);z.match_length>z.lookahead&&(z.match_length=z.lookahead)}3<=z.match_length?(H=A._tr_tally(z,
1,z.match_length-3),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(H=A._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++);if(H&&(E(z,!1),0===z.strm.avail_out))return 1}z.insert=0;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===z.strm.avail_out)?1:2}function h(z,G){for(var H;;){if(0===z.lookahead&&(a(z),0===z.lookahead)){if(0===G)return 1;break}z.match_length=0;H=A._tr_tally(z,0,z.window[z.strstart]);z.lookahead--;z.strstart++;if(H&&
(E(z,!1),0===z.strm.avail_out))return 1}z.insert=0;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===z.strm.avail_out)?1:2}function c(z,G,H,N,J){this.good_length=z;this.max_lazy=G;this.nice_length=H;this.max_chain=N;this.func=J}function f(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=
0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new v.Buf16(1146);this.dyn_dtree=new v.Buf16(122);this.bl_tree=new v.Buf16(78);k(this.dyn_ltree);k(this.dyn_dtree);k(this.bl_tree);this.bl_desc=this.d_desc=
this.l_desc=null;this.bl_count=new v.Buf16(16);this.heap=new v.Buf16(573);k(this.heap);this.heap_max=this.heap_len=0;this.depth=new v.Buf16(573);k(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function p(z){if(!z||!z.state)return y(z,-2);z.total_in=z.total_out=0;z.data_type=2;var G=z.state;G.pending=0;G.pending_out=0;0>G.wrap&&(G.wrap=-G.wrap);G.status=G.wrap?42:113;z.adler=2===G.wrap?0:1;G.last_flush=
0;A._tr_init(G);return 0}function e(z){var G=p(z);0===G&&(z=z.state,z.window_size=2*z.w_size,k(z.head),z.max_lazy_match=O[z.level].max_lazy,z.good_match=O[z.level].good_length,z.nice_match=O[z.level].nice_length,z.max_chain_length=O[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=2,z.match_available=0,z.ins_h=0);return G}function n(z,G,H,N,J,R){if(!z)return-2;var fa=1;-1===G&&(G=6);0>N?(fa=0,N=-N):15<N&&(fa=2,N-=16);if(1>J||9<J||8!==H||8>N||15<
N||0>G||9<G||0>R||4<R)return y(z,-2);8===N&&(N=9);var Y=new f;z.state=Y;Y.strm=z;Y.wrap=fa;Y.gzhead=null;Y.w_bits=N;Y.w_size=1<<Y.w_bits;Y.w_mask=Y.w_size-1;Y.hash_bits=J+7;Y.hash_size=1<<Y.hash_bits;Y.hash_mask=Y.hash_size-1;Y.hash_shift=~~((Y.hash_bits+3-1)/3);Y.window=new v.Buf8(2*Y.w_size);Y.head=new v.Buf16(Y.hash_size);Y.prev=new v.Buf16(Y.w_size);Y.lit_bufsize=1<<J+6;Y.pending_buf_size=4*Y.lit_bufsize;Y.pending_buf=new v.Buf8(Y.pending_buf_size);Y.d_buf=1*Y.lit_bufsize;Y.l_buf=3*Y.lit_bufsize;
Y.level=G;Y.strategy=R;Y.method=H;return e(z)}var v=g("../utils/common"),A=g("./trees"),C=g("./adler32"),B=g("./crc32"),I=g("./messages");var O=[new c(0,0,0,0,function(z,G){var H=65535;for(H>z.pending_buf_size-5&&(H=z.pending_buf_size-5);;){if(1>=z.lookahead){a(z);if(0===z.lookahead&&0===G)return 1;if(0===z.lookahead)break}z.strstart+=z.lookahead;z.lookahead=0;var N=z.block_start+H;if(0===z.strstart||z.strstart>=N)if(z.lookahead=z.strstart-N,z.strstart=N,E(z,!1),0===z.strm.avail_out)return 1;if(z.strstart-
z.block_start>=z.w_size-262&&(E(z,!1),0===z.strm.avail_out))return 1}z.insert=0;if(4===G)return E(z,!0),0===z.strm.avail_out?3:4;z.strstart>z.block_start&&E(z,!1);return 1}),new c(4,4,8,4,l),new c(4,5,16,8,l),new c(4,6,32,32,l),new c(4,4,16,16,r),new c(8,16,32,32,r),new c(8,16,128,128,r),new c(8,32,128,256,r),new c(32,128,258,1024,r),new c(32,258,258,4096,r)];D.deflateInit=function(z,G){return n(z,G,8,15,8,0)};D.deflateInit2=n;D.deflateReset=e;D.deflateResetKeep=p;D.deflateSetHeader=function(z,G){if(!z||
!z.state||2!==z.state.wrap)return-2;z.state.gzhead=G;return 0};D.deflate=function(z,G){if(!z||!z.state||5<G||0>G)return z?y(z,-2):-2;var H=z.state;if(!z.output||!z.input&&0!==z.avail_in||666===H.status&&4!==G)return y(z,0===z.avail_out?-5:-2);H.strm=z;var N=H.last_flush;H.last_flush=G;if(42===H.status)if(2===H.wrap)z.adler=0,b(H,31),b(H,139),b(H,8),H.gzhead?(b(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),b(H,H.gzhead.time&255),b(H,H.gzhead.time>>
8&255),b(H,H.gzhead.time>>16&255),b(H,H.gzhead.time>>24&255),b(H,9===H.level?2:2<=H.strategy||2>H.level?4:0),b(H,H.gzhead.os&255),H.gzhead.extra&&H.gzhead.extra.length&&(b(H,H.gzhead.extra.length&255),b(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(z.adler=B(z.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(b(H,0),b(H,0),b(H,0),b(H,0),b(H,0),b(H,9===H.level?2:2<=H.strategy||2>H.level?4:0),b(H,3),H.status=113);else{var J=8+(H.w_bits-8<<4)<<8;J|=(2<=H.strategy||2>H.level?0:6>H.level?
1:6===H.level?2:3)<<6;0!==H.strstart&&(J|=32);H.status=113;d(H,J+(31-J%31));0!==H.strstart&&(d(H,z.adler>>>16),d(H,z.adler&65535));z.adler=1}if(69===H.status)if(H.gzhead.extra){for(J=H.pending;H.gzindex<(H.gzhead.extra.length&65535)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>J&&(z.adler=B(z.adler,H.pending_buf,H.pending-J,J)),u(z),J=H.pending,H.pending!==H.pending_buf_size));)b(H,H.gzhead.extra[H.gzindex]&255),H.gzindex++;H.gzhead.hcrc&&H.pending>J&&(z.adler=B(z.adler,H.pending_buf,
H.pending-J,J));H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(73===H.status)if(H.gzhead.name){J=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>J&&(z.adler=B(z.adler,H.pending_buf,H.pending-J,J)),u(z),J=H.pending,H.pending===H.pending_buf_size)){var R=1;break}R=H.gzindex<H.gzhead.name.length?H.gzhead.name.charCodeAt(H.gzindex++)&255:0;b(H,R)}while(0!==R);H.gzhead.hcrc&&H.pending>J&&(z.adler=B(z.adler,H.pending_buf,H.pending-J,J));0===R&&
(H.gzindex=0,H.status=91)}else H.status=91;if(91===H.status)if(H.gzhead.comment){J=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>J&&(z.adler=B(z.adler,H.pending_buf,H.pending-J,J)),u(z),J=H.pending,H.pending===H.pending_buf_size)){R=1;break}R=H.gzindex<H.gzhead.comment.length?H.gzhead.comment.charCodeAt(H.gzindex++)&255:0;b(H,R)}while(0!==R);H.gzhead.hcrc&&H.pending>J&&(z.adler=B(z.adler,H.pending_buf,H.pending-J,J));0===R&&(H.status=103)}else H.status=103;103===H.status&&
(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&u(z),H.pending+2<=H.pending_buf_size&&(b(H,z.adler&255),b(H,z.adler>>8&255),z.adler=0,H.status=113)):H.status=113);if(0!==H.pending){if(u(z),0===z.avail_out)return H.last_flush=-1,0}else if(0===z.avail_in&&(G<<1)-(4<G?9:0)<=(N<<1)-(4<N?9:0)&&4!==G)return y(z,-5);if(666===H.status&&0!==z.avail_in)return y(z,-5);if(0!==z.avail_in||0!==H.lookahead||0!==G&&666!==H.status){N=2===H.strategy?h(H,G):3===H.strategy?q(H,G):O[H.level].func(H,G);if(3===N||4===N)H.status=
666;if(1===N||3===N)return 0===z.avail_out&&(H.last_flush=-1),0;if(2===N&&(1===G?A._tr_align(H):5!==G&&(A._tr_stored_block(H,0,0,!1),3===G&&(k(H.head),0===H.lookahead&&(H.strstart=0,H.block_start=0,H.insert=0))),u(z),0===z.avail_out))return H.last_flush=-1,0}if(4!==G)return 0;if(0>=H.wrap)return 1;2===H.wrap?(b(H,z.adler&255),b(H,z.adler>>8&255),b(H,z.adler>>16&255),b(H,z.adler>>24&255),b(H,z.total_in&255),b(H,z.total_in>>8&255),b(H,z.total_in>>16&255),b(H,z.total_in>>24&255)):(d(H,z.adler>>>16),
d(H,z.adler&65535));u(z);0<H.wrap&&(H.wrap=-H.wrap);return 0!==H.pending?0:1};D.deflateEnd=function(z){if(!z||!z.state)return-2;var G=z.state.status;if(42!==G&&69!==G&&73!==G&&91!==G&&103!==G&&113!==G&&666!==G)return y(z,-2);z.state=null;return 113===G?y(z,-3):0};D.deflateSetDictionary=function(z,G){var H=G.length;if(!z||!z.state)return-2;var N=z.state;var J=N.wrap;if(2===J||1===J&&42!==N.status||N.lookahead)return-2;1===J&&(z.adler=C(z.adler,G,H,0));N.wrap=0;if(H>=N.w_size){0===J&&(k(N.head),N.strstart=
0,N.block_start=0,N.insert=0);var R=new v.Buf8(N.w_size);v.arraySet(R,G,H-N.w_size,N.w_size,0);G=R;H=N.w_size}R=z.avail_in;var fa=z.next_in;var Y=z.input;z.avail_in=H;z.next_in=0;z.input=G;for(a(N);3<=N.lookahead;){G=N.strstart;H=N.lookahead-2;do N.ins_h=(N.ins_h<<N.hash_shift^N.window[G+3-1])&N.hash_mask,N.prev[G&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=G,G++;while(--H);N.strstart=G;N.lookahead=2;a(N)}N.strstart+=N.lookahead;N.block_start=N.strstart;N.insert=N.lookahead;N.lookahead=0;N.match_length=
N.prev_length=2;N.match_available=0;z.next_in=fa;z.input=Y;z.avail_in=R;N.wrap=J;return 0};D.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":300,"./adler32":302,"./crc32":304,"./messages":310,"./trees":311}],306:[function(g,K,D){K.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],307:[function(g,K,D){K.exports=function(y,k){var u=y.state;var E=y.next_in;var b=y.input;var d=E+(y.avail_in-
5);var w=y.next_out;var a=y.output;k=w-(k-y.avail_out);var l=w+(y.avail_out-257);var r=u.dmax;var q=u.wsize;var h=u.whave;var c=u.wnext;var f=u.window;var p=u.hold;var e=u.bits;var n=u.lencode;var v=u.distcode;var A=(1<<u.lenbits)-1;var C=(1<<u.distbits)-1;a:do{15>e&&(p+=b[E++]<<e,e+=8,p+=b[E++]<<e,e+=8);var B=n[p&A];b:for(;;){var I=B>>>24;p>>>=I;e-=I;I=B>>>16&255;if(0===I)a[w++]=B&65535;else if(I&16){var O=B&65535;if(I&=15)e<I&&(p+=b[E++]<<e,e+=8),O+=p&(1<<I)-1,p>>>=I,e-=I;15>e&&(p+=b[E++]<<e,e+=
8,p+=b[E++]<<e,e+=8);B=v[p&C];c:for(;;){I=B>>>24;p>>>=I;e-=I;I=B>>>16&255;if(I&16){B&=65535;I&=15;e<I&&(p+=b[E++]<<e,e+=8,e<I&&(p+=b[E++]<<e,e+=8));B+=p&(1<<I)-1;if(B>r){y.msg="invalid distance too far back";u.mode=30;break a}p>>>=I;e-=I;I=w-k;if(B>I){I=B-I;if(I>h&&u.sane){y.msg="invalid distance too far back";u.mode=30;break a}var z=0;var G=f;if(0===c){if(z+=q-I,I<O){O-=I;do a[w++]=f[z++];while(--I);z=w-B;G=a}}else if(c<I){if(z+=q+c-I,I-=c,I<O){O-=I;do a[w++]=f[z++];while(--I);z=0;if(c<O){I=c;O-=
I;do a[w++]=f[z++];while(--I);z=w-B;G=a}}}else if(z+=c-I,I<O){O-=I;do a[w++]=f[z++];while(--I);z=w-B;G=a}for(;2<O;)a[w++]=G[z++],a[w++]=G[z++],a[w++]=G[z++],O-=3;O&&(a[w++]=G[z++],1<O&&(a[w++]=G[z++]))}else{z=w-B;do a[w++]=a[z++],a[w++]=a[z++],a[w++]=a[z++],O-=3;while(2<O);O&&(a[w++]=a[z++],1<O&&(a[w++]=a[z++]))}}else if(0===(I&64)){B=v[(B&65535)+(p&(1<<I)-1)];continue c}else{y.msg="invalid distance code";u.mode=30;break a}break}}else if(0===(I&64)){B=n[(B&65535)+(p&(1<<I)-1)];continue b}else{I&32?
u.mode=12:(y.msg="invalid literal/length code",u.mode=30);break a}break}}while(E<d&&w<l);O=e>>3;E-=O;e-=O<<3;y.next_in=E;y.next_out=w;y.avail_in=E<d?5+(d-E):5-(E-d);y.avail_out=w<l?257+(l-w):257-(w-l);u.hold=p&(1<<e)-1;u.bits=e}},{}],308:[function(g,K,D){function y(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function k(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=
0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new a.Buf16(320);this.work=new a.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function u(e){if(!e||!e.state)return-2;var n=e.state;e.total_in=e.total_out=n.total=0;e.msg="";n.wrap&&(e.adler=n.wrap&1);n.mode=1;n.last=0;n.havedict=0;n.dmax=32768;n.head=null;n.hold=0;n.bits=
0;n.lencode=n.lendyn=new a.Buf32(852);n.distcode=n.distdyn=new a.Buf32(592);n.sane=1;n.back=-1;return 0}function E(e){if(!e||!e.state)return-2;var n=e.state;n.wsize=0;n.whave=0;n.wnext=0;return u(e)}function b(e,n){if(!e||!e.state)return-2;var v=e.state;if(0>n){var A=0;n=-n}else A=(n>>4)+1,48>n&&(n&=15);if(n&&(8>n||15<n))return-2;null!==v.window&&v.wbits!==n&&(v.window=null);v.wrap=A;v.wbits=n;return E(e)}function d(e,n){if(!e)return-2;var v=new k;e.state=v;v.window=null;n=b(e,n);0!==n&&(e.state=
null);return n}function w(e,n,v,A){var C=e.state;null===C.window&&(C.wsize=1<<C.wbits,C.wnext=0,C.whave=0,C.window=new a.Buf8(C.wsize));A>=C.wsize?(a.arraySet(C.window,n,v-C.wsize,C.wsize,0),C.wnext=0,C.whave=C.wsize):(e=C.wsize-C.wnext,e>A&&(e=A),a.arraySet(C.window,n,v-A,e,C.wnext),(A-=e)?(a.arraySet(C.window,n,v-A,A,0),C.wnext=A,C.whave=C.wsize):(C.wnext+=e,C.wnext===C.wsize&&(C.wnext=0),C.whave<C.wsize&&(C.whave+=e)));return 0}var a=g("../utils/common"),l=g("./adler32"),r=g("./crc32"),q=g("./inffast"),
h=g("./inftrees"),c=!0,f,p;D.inflateReset=E;D.inflateReset2=b;D.inflateResetKeep=u;D.inflateInit=function(e){return d(e,15)};D.inflateInit2=d;D.inflate=function(e,n){var v,A=new a.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;var B=e.state;12===B.mode&&(B.mode=13);var I=e.next_out;var O=e.output;var z=e.avail_out;var G=e.next_in;var H=e.input;var N=e.avail_in;var J=B.hold;var R=B.bits;var fa=N;var Y=z;var qa=0;a:for(;;)switch(B.mode){case 1:if(0===
B.wrap){B.mode=13;break}for(;16>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}if(B.wrap&2&&35615===J){B.check=0;A[0]=J&255;A[1]=J>>>8&255;B.check=r(B.check,A,2,0);R=J=0;B.mode=2;break}B.flags=0;B.head&&(B.head.done=!1);if(!(B.wrap&1)||(((J&255)<<8)+(J>>8))%31){e.msg="incorrect header check";B.mode=30;break}if(8!==(J&15)){e.msg="unknown compression method";B.mode=30;break}J>>>=4;R-=4;var ka=(J&15)+8;if(0===B.wbits)B.wbits=ka;else if(ka>B.wbits){e.msg="invalid window size";B.mode=30;break}B.dmax=1<<ka;
e.adler=B.check=1;B.mode=J&512?10:12;R=J=0;break;case 2:for(;16>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}B.flags=J;if(8!==(B.flags&255)){e.msg="unknown compression method";B.mode=30;break}if(B.flags&57344){e.msg="unknown header flags set";B.mode=30;break}B.head&&(B.head.text=J>>8&1);B.flags&512&&(A[0]=J&255,A[1]=J>>>8&255,B.check=r(B.check,A,2,0));R=J=0;B.mode=3;case 3:for(;32>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}B.head&&(B.head.time=J);B.flags&512&&(A[0]=J&255,A[1]=J>>>8&255,A[2]=J>>>16&
255,A[3]=J>>>24&255,B.check=r(B.check,A,4,0));R=J=0;B.mode=4;case 4:for(;16>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}B.head&&(B.head.xflags=J&255,B.head.os=J>>8);B.flags&512&&(A[0]=J&255,A[1]=J>>>8&255,B.check=r(B.check,A,2,0));R=J=0;B.mode=5;case 5:if(B.flags&1024){for(;16>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}B.length=J;B.head&&(B.head.extra_len=J);B.flags&512&&(A[0]=J&255,A[1]=J>>>8&255,B.check=r(B.check,A,2,0));R=J=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(B.flags&1024){var Q=
B.length;Q>N&&(Q=N);Q&&(B.head&&(ka=B.head.extra_len-B.length,B.head.extra||(B.head.extra=Array(B.head.extra_len)),a.arraySet(B.head.extra,H,G,Q,ka)),B.flags&512&&(B.check=r(B.check,H,Q,G)),N-=Q,G+=Q,B.length-=Q);if(B.length)break a}B.length=0;B.mode=7;case 7:if(B.flags&2048){if(0===N)break a;Q=0;do ka=H[G+Q++],B.head&&ka&&65536>B.length&&(B.head.name+=String.fromCharCode(ka));while(ka&&Q<N);B.flags&512&&(B.check=r(B.check,H,Q,G));N-=Q;G+=Q;if(ka)break a}else B.head&&(B.head.name=null);B.length=0;
B.mode=8;case 8:if(B.flags&4096){if(0===N)break a;Q=0;do ka=H[G+Q++],B.head&&ka&&65536>B.length&&(B.head.comment+=String.fromCharCode(ka));while(ka&&Q<N);B.flags&512&&(B.check=r(B.check,H,Q,G));N-=Q;G+=Q;if(ka)break a}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(B.flags&512){for(;16>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}if(J!==(B.check&65535)){e.msg="header crc mismatch";B.mode=30;break}R=J=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0);e.adler=B.check=0;B.mode=12;break;case 10:for(;32>
R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}e.adler=B.check=y(J);R=J=0;B.mode=11;case 11:if(0===B.havedict)return e.next_out=I,e.avail_out=z,e.next_in=G,e.avail_in=N,B.hold=J,B.bits=R,2;e.adler=B.check=1;B.mode=12;case 12:if(5===n||6===n)break a;case 13:if(B.last){J>>>=R&7;R-=R&7;B.mode=27;break}for(;3>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}B.last=J&1;J>>>=1;--R;switch(J&3){case 0:B.mode=14;break;case 1:ka=B;if(c){f=new a.Buf32(512);p=new a.Buf32(32);for(Q=0;144>Q;)ka.lens[Q++]=8;for(;256>Q;)ka.lens[Q++]=
9;for(;280>Q;)ka.lens[Q++]=7;for(;288>Q;)ka.lens[Q++]=8;h(1,ka.lens,0,288,f,0,ka.work,{bits:9});for(Q=0;32>Q;)ka.lens[Q++]=5;h(2,ka.lens,0,32,p,0,ka.work,{bits:5});c=!1}ka.lencode=f;ka.lenbits=9;ka.distcode=p;ka.distbits=5;B.mode=20;if(6===n){J>>>=2;R-=2;break a}break;case 2:B.mode=17;break;case 3:e.msg="invalid block type",B.mode=30}J>>>=2;R-=2;break;case 14:J>>>=R&7;for(R-=R&7;32>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}if((J&65535)!==(J>>>16^65535)){e.msg="invalid stored block lengths";B.mode=
30;break}B.length=J&65535;R=J=0;B.mode=15;if(6===n)break a;case 15:B.mode=16;case 16:if(Q=B.length){Q>N&&(Q=N);Q>z&&(Q=z);if(0===Q)break a;a.arraySet(O,H,G,Q,I);N-=Q;G+=Q;z-=Q;I+=Q;B.length-=Q;break}B.mode=12;break;case 17:for(;14>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}B.nlen=(J&31)+257;J>>>=5;R-=5;B.ndist=(J&31)+1;J>>>=5;R-=5;B.ncode=(J&15)+4;J>>>=4;R-=4;if(286<B.nlen||30<B.ndist){e.msg="too many length or distance symbols";B.mode=30;break}B.have=0;B.mode=18;case 18:for(;B.have<B.ncode;){for(;3>
R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}B.lens[C[B.have++]]=J&7;J>>>=3;R-=3}for(;19>B.have;)B.lens[C[B.have++]]=0;B.lencode=B.lendyn;B.lenbits=7;Q={bits:B.lenbits};qa=h(0,B.lens,0,19,B.lencode,0,B.work,Q);B.lenbits=Q.bits;if(qa){e.msg="invalid code lengths set";B.mode=30;break}B.have=0;B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;;){var aa=B.lencode[J&(1<<B.lenbits)-1];Q=aa>>>24;aa&=65535;if(Q<=R)break;if(0===N)break a;N--;J+=H[G++]<<R;R+=8}if(16>aa)J>>>=Q,R-=Q,B.lens[B.have++]=aa;else{if(16===
aa){for(ka=Q+2;R<ka;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}J>>>=Q;R-=Q;if(0===B.have){e.msg="invalid bit length repeat";B.mode=30;break}ka=B.lens[B.have-1];Q=3+(J&3);J>>>=2;R-=2}else if(17===aa){for(ka=Q+3;R<ka;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}J>>>=Q;R-=Q;ka=0;Q=3+(J&7);J>>>=3;R-=3}else{for(ka=Q+7;R<ka;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}J>>>=Q;R-=Q;ka=0;Q=11+(J&127);J>>>=7;R-=7}if(B.have+Q>B.nlen+B.ndist){e.msg="invalid bit length repeat";B.mode=30;break}for(;Q--;)B.lens[B.have++]=
ka}}if(30===B.mode)break;if(0===B.lens[256]){e.msg="invalid code -- missing end-of-block";B.mode=30;break}B.lenbits=9;Q={bits:B.lenbits};qa=h(1,B.lens,0,B.nlen,B.lencode,0,B.work,Q);B.lenbits=Q.bits;if(qa){e.msg="invalid literal/lengths set";B.mode=30;break}B.distbits=6;B.distcode=B.distdyn;Q={bits:B.distbits};qa=h(2,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,Q);B.distbits=Q.bits;if(qa){e.msg="invalid distances set";B.mode=30;break}B.mode=20;if(6===n)break a;case 20:B.mode=21;case 21:if(6<=N&&258<=
z){e.next_out=I;e.avail_out=z;e.next_in=G;e.avail_in=N;B.hold=J;B.bits=R;q(e,Y);I=e.next_out;O=e.output;z=e.avail_out;G=e.next_in;H=e.input;N=e.avail_in;J=B.hold;R=B.bits;12===B.mode&&(B.back=-1);break}for(B.back=0;;){aa=B.lencode[J&(1<<B.lenbits)-1];Q=aa>>>24;ka=aa>>>16&255;aa&=65535;if(Q<=R)break;if(0===N)break a;N--;J+=H[G++]<<R;R+=8}if(ka&&0===(ka&240)){var ha=Q;var ra=ka;for(v=aa;;){aa=B.lencode[v+((J&(1<<ha+ra)-1)>>ha)];Q=aa>>>24;ka=aa>>>16&255;aa&=65535;if(ha+Q<=R)break;if(0===N)break a;N--;
J+=H[G++]<<R;R+=8}J>>>=ha;R-=ha;B.back+=ha}J>>>=Q;R-=Q;B.back+=Q;B.length=aa;if(0===ka){B.mode=26;break}if(ka&32){B.back=-1;B.mode=12;break}if(ka&64){e.msg="invalid literal/length code";B.mode=30;break}B.extra=ka&15;B.mode=22;case 22:if(B.extra){for(ka=B.extra;R<ka;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}B.length+=J&(1<<B.extra)-1;J>>>=B.extra;R-=B.extra;B.back+=B.extra}B.was=B.length;B.mode=23;case 23:for(;;){aa=B.distcode[J&(1<<B.distbits)-1];Q=aa>>>24;ka=aa>>>16&255;aa&=65535;if(Q<=R)break;if(0===
N)break a;N--;J+=H[G++]<<R;R+=8}if(0===(ka&240)){ha=Q;ra=ka;for(v=aa;;){aa=B.distcode[v+((J&(1<<ha+ra)-1)>>ha)];Q=aa>>>24;ka=aa>>>16&255;aa&=65535;if(ha+Q<=R)break;if(0===N)break a;N--;J+=H[G++]<<R;R+=8}J>>>=ha;R-=ha;B.back+=ha}J>>>=Q;R-=Q;B.back+=Q;if(ka&64){e.msg="invalid distance code";B.mode=30;break}B.offset=aa;B.extra=ka&15;B.mode=24;case 24:if(B.extra){for(ka=B.extra;R<ka;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}B.offset+=J&(1<<B.extra)-1;J>>>=B.extra;R-=B.extra;B.back+=B.extra}if(B.offset>
B.dmax){e.msg="invalid distance too far back";B.mode=30;break}B.mode=25;case 25:if(0===z)break a;Q=Y-z;if(B.offset>Q){Q=B.offset-Q;if(Q>B.whave&&B.sane){e.msg="invalid distance too far back";B.mode=30;break}Q>B.wnext?(Q-=B.wnext,ka=B.wsize-Q):ka=B.wnext-Q;Q>B.length&&(Q=B.length);ha=B.window}else ha=O,ka=I-B.offset,Q=B.length;Q>z&&(Q=z);z-=Q;B.length-=Q;do O[I++]=ha[ka++];while(--Q);0===B.length&&(B.mode=21);break;case 26:if(0===z)break a;O[I++]=B.length;z--;B.mode=21;break;case 27:if(B.wrap){for(;32>
R;){if(0===N)break a;N--;J|=H[G++]<<R;R+=8}Y-=z;e.total_out+=Y;B.total+=Y;Y&&(e.adler=B.check=B.flags?r(B.check,O,Y,I-Y):l(B.check,O,Y,I-Y));Y=z;if((B.flags?J:y(J))!==B.check){e.msg="incorrect data check";B.mode=30;break}R=J=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;32>R;){if(0===N)break a;N--;J+=H[G++]<<R;R+=8}if(J!==(B.total&4294967295)){e.msg="incorrect length check";B.mode=30;break}R=J=0}B.mode=29;case 29:qa=1;break a;case 30:qa=-3;break a;case 31:return-4;default:return-2}e.next_out=I;e.avail_out=
z;e.next_in=G;e.avail_in=N;B.hold=J;B.bits=R;if((B.wsize||Y!==e.avail_out&&30>B.mode&&(27>B.mode||4!==n))&&w(e,e.output,e.next_out,Y-e.avail_out))return B.mode=31,-4;fa-=e.avail_in;Y-=e.avail_out;e.total_in+=fa;e.total_out+=Y;B.total+=Y;B.wrap&&Y&&(e.adler=B.check=B.flags?r(B.check,O,Y,e.next_out-Y):l(B.check,O,Y,e.next_out-Y));e.data_type=B.bits+(B.last?64:0)+(12===B.mode?128:0)+(20===B.mode||15===B.mode?256:0);(0===fa&&0===Y||4===n)&&0===qa&&(qa=-5);return qa};D.inflateEnd=function(e){if(!e||!e.state)return-2;
var n=e.state;n.window&&(n.window=null);e.state=null;return 0};D.inflateGetHeader=function(e,n){if(!e||!e.state)return-2;e=e.state;if(0===(e.wrap&2))return-2;e.head=n;n.done=!1;return 0};D.inflateSetDictionary=function(e,n){var v=n.length;if(!e||!e.state)return-2;var A=e.state;if(0!==A.wrap&&11!==A.mode)return-2;if(11===A.mode){var C=l(1,n,v,0);if(C!==A.check)return-3}if(w(e,n,v,v))return A.mode=31,-4;A.havedict=1;return 0};D.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":300,
"./adler32":302,"./crc32":304,"./inffast":307,"./inftrees":309}],309:[function(g,K,D){var y=g("../utils/common"),k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,
27,28,28,29,29,64,64];K.exports=function(d,w,a,l,r,q,h,c){var f=c.bits,p,e,n,v,A,C,B=0,I=new y.Buf16(16);var O=new y.Buf16(16);var z,G=0;for(p=0;15>=p;p++)I[p]=0;for(e=0;e<l;e++)I[w[a+e]]++;var H=f;for(n=15;1<=n&&0===I[n];n--);H>n&&(H=n);if(0===n)return r[q++]=20971520,r[q++]=20971520,c.bits=1,0;for(f=1;f<n&&0===I[f];f++);H<f&&(H=f);for(p=v=1;15>=p;p++)if(v<<=1,v-=I[p],0>v)return-1;if(0<v&&(0===d||1!==n))return-1;O[1]=0;for(p=1;15>p;p++)O[p+1]=O[p]+I[p];for(e=0;e<l;e++)0!==w[a+e]&&(h[O[w[a+e]]++]=
e);if(0===d){var N=z=h;var J=19}else 1===d?(N=k,B-=257,z=u,G-=257,J=256):(N=E,z=b,J=-1);e=A=0;p=f;var R=q;l=H;O=0;var fa=-1;var Y=1<<H;var qa=Y-1;if(1===d&&852<Y||2===d&&592<Y)return 1;for(;;){var ka=p-O;if(h[e]<J){var Q=0;var aa=h[e]}else h[e]>J?(Q=z[G+h[e]],aa=N[B+h[e]]):(Q=96,aa=0);v=1<<p-O;f=C=1<<l;do C-=v,r[R+(A>>O)+C]=ka<<24|Q<<16|aa|0;while(0!==C);for(v=1<<p-1;A&v;)v>>=1;0!==v?(A&=v-1,A+=v):A=0;e++;if(0===--I[p]){if(p===n)break;p=w[a+h[e]]}if(p>H&&(A&qa)!==fa){0===O&&(O=H);R+=f;l=p-O;for(v=
1<<l;l+O<n;){v-=I[l+O];if(0>=v)break;l++;v<<=1}Y+=1<<l;if(1===d&&852<Y||2===d&&592<Y)return 1;fa=A&qa;r[fa]=H<<24|l<<16|R-q|0}}0!==A&&(r[R+A]=p-O<<24|4194304);c.bits=H;return 0}},{"../utils/common":300}],310:[function(g,K,D){K.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],311:[function(g,K,D){function y(Q){for(var aa=Q.length;0<=--aa;)Q[aa]=0}function k(Q,aa,
ha,ra,ta){this.static_tree=Q;this.extra_bits=aa;this.extra_base=ha;this.elems=ra;this.max_length=ta;this.has_stree=Q&&Q.length}function u(Q,aa){this.dyn_tree=Q;this.max_code=0;this.stat_desc=aa}function E(Q,aa){Q.pending_buf[Q.pending++]=aa&255;Q.pending_buf[Q.pending++]=aa>>>8&255}function b(Q,aa,ha){Q.bi_valid>16-ha?(Q.bi_buf|=aa<<Q.bi_valid&65535,E(Q,Q.bi_buf),Q.bi_buf=aa>>16-Q.bi_valid,Q.bi_valid+=ha-16):(Q.bi_buf|=aa<<Q.bi_valid&65535,Q.bi_valid+=ha)}function d(Q,aa,ha){b(Q,ha[2*aa],ha[2*aa+
1])}function w(Q,aa){var ha=0;do ha|=Q&1,Q>>>=1,ha<<=1;while(0<--aa);return ha>>>1}function a(Q,aa,ha){var ra=Array(16),ta=0,xa;for(xa=1;15>=xa;xa++)ra[xa]=ta=ta+ha[xa-1]<<1;for(ha=0;ha<=aa;ha++)ta=Q[2*ha+1],0!==ta&&(Q[2*ha]=w(ra[ta]++,ta))}function l(Q){var aa;for(aa=0;286>aa;aa++)Q.dyn_ltree[2*aa]=0;for(aa=0;30>aa;aa++)Q.dyn_dtree[2*aa]=0;for(aa=0;19>aa;aa++)Q.bl_tree[2*aa]=0;Q.dyn_ltree[512]=1;Q.opt_len=Q.static_len=0;Q.last_lit=Q.matches=0}function r(Q){8<Q.bi_valid?E(Q,Q.bi_buf):0<Q.bi_valid&&
(Q.pending_buf[Q.pending++]=Q.bi_buf);Q.bi_buf=0;Q.bi_valid=0}function q(Q,aa,ha,ra){var ta=2*aa,xa=2*ha;return Q[ta]<Q[xa]||Q[ta]===Q[xa]&&ra[aa]<=ra[ha]}function h(Q,aa,ha){for(var ra=Q.heap[ha],ta=ha<<1;ta<=Q.heap_len;){ta<Q.heap_len&&q(aa,Q.heap[ta+1],Q.heap[ta],Q.depth)&&ta++;if(q(aa,ra,Q.heap[ta],Q.depth))break;Q.heap[ha]=Q.heap[ta];ha=ta;ta<<=1}Q.heap[ha]=ra}function c(Q,aa,ha){var ra=0;if(0!==Q.last_lit){do{var ta=Q.pending_buf[Q.d_buf+2*ra]<<8|Q.pending_buf[Q.d_buf+2*ra+1];var xa=Q.pending_buf[Q.l_buf+
ra];ra++;if(0===ta)d(Q,xa,aa);else{var na=N[xa];d(Q,na+256+1,aa);var Ma=C[na];0!==Ma&&(xa-=J[na],b(Q,xa,Ma));ta--;na=256>ta?H[ta]:H[256+(ta>>>7)];d(Q,na,ha);Ma=B[na];0!==Ma&&(ta-=R[na],b(Q,ta,Ma))}}while(ra<Q.last_lit)}d(Q,256,aa)}function f(Q,aa){var ha=aa.dyn_tree,ra=aa.stat_desc.static_tree,ta=aa.stat_desc.has_stree,xa=aa.stat_desc.elems,na,Ma=-1;Q.heap_len=0;Q.heap_max=573;for(na=0;na<xa;na++)0!==ha[2*na]?(Q.heap[++Q.heap_len]=Ma=na,Q.depth[na]=0):ha[2*na+1]=0;for(;2>Q.heap_len;){var jb=Q.heap[++Q.heap_len]=
2>Ma?++Ma:0;ha[2*jb]=1;Q.depth[jb]=0;Q.opt_len--;ta&&(Q.static_len-=ra[2*jb+1])}aa.max_code=Ma;for(na=Q.heap_len>>1;1<=na;na--)h(Q,ha,na);jb=xa;do na=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],h(Q,ha,1),ra=Q.heap[1],Q.heap[--Q.heap_max]=na,Q.heap[--Q.heap_max]=ra,ha[2*jb]=ha[2*na]+ha[2*ra],Q.depth[jb]=(Q.depth[na]>=Q.depth[ra]?Q.depth[na]:Q.depth[ra])+1,ha[2*na+1]=ha[2*ra+1]=jb,Q.heap[1]=jb++,h(Q,ha,1);while(2<=Q.heap_len);Q.heap[--Q.heap_max]=Q.heap[1];na=aa.dyn_tree;jb=aa.max_code;ra=aa.stat_desc.static_tree;
ta=aa.stat_desc.has_stree;xa=aa.stat_desc.extra_bits;var ab=aa.stat_desc.extra_base,T=aa.stat_desc.max_length,Z,pa=0;for(Z=0;15>=Z;Z++)Q.bl_count[Z]=0;na[2*Q.heap[Q.heap_max]+1]=0;for(aa=Q.heap_max+1;573>aa;aa++){var Ca=Q.heap[aa];Z=na[2*na[2*Ca+1]+1]+1;Z>T&&(Z=T,pa++);na[2*Ca+1]=Z;if(!(Ca>jb)){Q.bl_count[Z]++;var Ra=0;Ca>=ab&&(Ra=xa[Ca-ab]);var xb=na[2*Ca];Q.opt_len+=xb*(Z+Ra);ta&&(Q.static_len+=xb*(ra[2*Ca+1]+Ra))}}if(0!==pa){do{for(Z=T-1;0===Q.bl_count[Z];)Z--;Q.bl_count[Z]--;Q.bl_count[Z+1]+=
2;Q.bl_count[T]--;pa-=2}while(0<pa);for(Z=T;0!==Z;Z--)for(Ca=Q.bl_count[Z];0!==Ca;)ra=Q.heap[--aa],ra>jb||(na[2*ra+1]!==Z&&(Q.opt_len+=(Z-na[2*ra+1])*na[2*ra],na[2*ra+1]=Z),Ca--)}a(ha,Ma,Q.bl_count)}function p(Q,aa,ha){var ra,ta=-1,xa=aa[1],na=0,Ma=7,jb=4;0===xa&&(Ma=138,jb=3);aa[2*(ha+1)+1]=65535;for(ra=0;ra<=ha;ra++){var ab=xa;xa=aa[2*(ra+1)+1];++na<Ma&&ab===xa||(na<jb?Q.bl_tree[2*ab]+=na:0!==ab?(ab!==ta&&Q.bl_tree[2*ab]++,Q.bl_tree[32]++):10>=na?Q.bl_tree[34]++:Q.bl_tree[36]++,na=0,ta=ab,0===xa?
(Ma=138,jb=3):ab===xa?(Ma=6,jb=3):(Ma=7,jb=4))}}function e(Q,aa,ha){var ra,ta=-1,xa=aa[1],na=0,Ma=7,jb=4;0===xa&&(Ma=138,jb=3);for(ra=0;ra<=ha;ra++){var ab=xa;xa=aa[2*(ra+1)+1];if(!(++na<Ma&&ab===xa)){if(na<jb){do d(Q,ab,Q.bl_tree);while(0!==--na)}else 0!==ab?(ab!==ta&&(d(Q,ab,Q.bl_tree),na--),d(Q,16,Q.bl_tree),b(Q,na-3,2)):10>=na?(d(Q,17,Q.bl_tree),b(Q,na-3,3)):(d(Q,18,Q.bl_tree),b(Q,na-11,7));na=0;ta=ab;0===xa?(Ma=138,jb=3):ab===xa?(Ma=6,jb=3):(Ma=7,jb=4)}}}function n(Q){var aa=4093624447,ha;for(ha=
0;31>=ha;ha++,aa>>>=1)if(aa&1&&0!==Q.dyn_ltree[2*ha])return 0;if(0!==Q.dyn_ltree[18]||0!==Q.dyn_ltree[20]||0!==Q.dyn_ltree[26])return 1;for(ha=32;256>ha;ha++)if(0!==Q.dyn_ltree[2*ha])return 1;return 0}function v(Q,aa,ha,ra){b(Q,ra?1:0,3);r(Q);E(Q,ha);E(Q,~ha);A.arraySet(Q.pending_buf,Q.window,aa,ha,Q.pending);Q.pending+=ha}var A=g("../utils/common"),C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=Array(576);y(z);var G=Array(60);y(G);var H=Array(512);y(H);var N=Array(256);y(N);var J=Array(29);y(J);var R=Array(30);y(R);var fa,Y,qa,ka=!1;D._tr_init=function(Q){if(!ka){var aa,ha,ra,ta=Array(16);for(ra=ha=0;28>ra;ra++)for(J[ra]=ha,aa=0;aa<1<<C[ra];aa++)N[ha++]=ra;N[ha-1]=ra;for(ra=ha=0;16>ra;ra++)for(R[ra]=ha,aa=0;aa<1<<B[ra];aa++)H[ha++]=ra;for(ha>>=7;30>ra;ra++)for(R[ra]=ha<<7,aa=0;aa<1<<B[ra]-7;aa++)H[256+ha++]=
ra;for(aa=0;15>=aa;aa++)ta[aa]=0;for(aa=0;143>=aa;)z[2*aa+1]=8,aa++,ta[8]++;for(;255>=aa;)z[2*aa+1]=9,aa++,ta[9]++;for(;279>=aa;)z[2*aa+1]=7,aa++,ta[7]++;for(;287>=aa;)z[2*aa+1]=8,aa++,ta[8]++;a(z,287,ta);for(aa=0;30>aa;aa++)G[2*aa+1]=5,G[2*aa]=w(aa,5);fa=new k(z,C,257,286,15);Y=new k(G,B,0,30,15);qa=new k([],I,0,19,7);ka=!0}Q.l_desc=new u(Q.dyn_ltree,fa);Q.d_desc=new u(Q.dyn_dtree,Y);Q.bl_desc=new u(Q.bl_tree,qa);Q.bi_buf=0;Q.bi_valid=0;l(Q)};D._tr_stored_block=v;D._tr_flush_block=function(Q,aa,
ha,ra){var ta=0;if(0<Q.level){2===Q.strm.data_type&&(Q.strm.data_type=n(Q));f(Q,Q.l_desc);f(Q,Q.d_desc);p(Q,Q.dyn_ltree,Q.l_desc.max_code);p(Q,Q.dyn_dtree,Q.d_desc.max_code);f(Q,Q.bl_desc);for(ta=18;3<=ta&&0===Q.bl_tree[2*O[ta]+1];ta--);Q.opt_len+=3*(ta+1)+14;var xa=Q.opt_len+3+7>>>3;var na=Q.static_len+3+7>>>3;na<=xa&&(xa=na)}else xa=na=ha+5;if(ha+4<=xa&&-1!==aa)v(Q,aa,ha,ra);else if(4===Q.strategy||na===xa)b(Q,2+(ra?1:0),3),c(Q,z,G);else{b(Q,4+(ra?1:0),3);aa=Q.l_desc.max_code+1;ha=Q.d_desc.max_code+
1;ta+=1;b(Q,aa-257,5);b(Q,ha-1,5);b(Q,ta-4,4);for(xa=0;xa<ta;xa++)b(Q,Q.bl_tree[2*O[xa]+1],3);e(Q,Q.dyn_ltree,aa-1);e(Q,Q.dyn_dtree,ha-1);c(Q,Q.dyn_ltree,Q.dyn_dtree)}l(Q);ra&&r(Q)};D._tr_tally=function(Q,aa,ha){Q.pending_buf[Q.d_buf+2*Q.last_lit]=aa>>>8&255;Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=aa&255;Q.pending_buf[Q.l_buf+Q.last_lit]=ha&255;Q.last_lit++;0===aa?Q.dyn_ltree[2*ha]++:(Q.matches++,aa--,Q.dyn_ltree[2*(N[ha]+256+1)]++,Q.dyn_dtree[2*(256>aa?H[aa]:H[256+(aa>>>7)])]++);return Q.last_lit===
Q.lit_bufsize-1};D._tr_align=function(Q){b(Q,2,3);d(Q,256,z);16===Q.bi_valid?(E(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf&255,Q.bi_buf>>=8,Q.bi_valid-=8)}},{"../utils/common":300}],312:[function(g,K,D){K.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],313:[function(g,K,D){(function(y,k){"object"===
typeof D&&"undefined"!==typeof K?K.exports=k():y.PointerEventsPolyfill=k()})(this,function(){function y(T,Z){Z=Z||Object.create(null);var pa=document.createEvent("Event");pa.initEvent(T,Z.bubbles||!1,Z.cancelable||!1);T=2;for(var Ca;T<l.length;T++)Ca=l[T],pa[Ca]=Z[Ca]||r[T];pa.buttons=Z.buttons||0;T=Z.pressure&&pa.buttons?Z.pressure:pa.buttons?.5:0;pa.x=pa.clientX;pa.y=pa.clientY;pa.pointerId=Z.pointerId||0;pa.width=Z.width||0;pa.height=Z.height||0;pa.pressure=T;pa.tiltX=Z.tiltX||0;pa.tiltY=Z.tiltY||
0;pa.twist=Z.twist||0;pa.tangentialPressure=Z.tangentialPressure||0;pa.pointerType=Z.pointerType||"";pa.hwTimestamp=Z.hwTimestamp||0;pa.isPrimary=Z.isPrimary||!1;return pa}function k(){this.array=[];this.size=0}function u(T,Z,pa,Ca){this.addCallback=T.bind(Ca);this.removeCallback=Z.bind(Ca);this.changedCallback=pa.bind(Ca);I&&(this.observer=new I(this.mutationWatcher.bind(this)))}function E(T){return"body /shadow-deep/ "+b(T)}function b(T){return'[touch-action="'+T+'"]'}function d(T){return"{ -ms-touch-action: "+
T+"; touch-action: "+T+"; }"}function w(T){if(!e.pointermap.has(T))throw T=Error("InvalidPointerId"),T.name="InvalidPointerId",T;}function a(T){for(var Z=T.parentNode;Z&&Z!==T.ownerDocument;)Z=Z.parentNode;if(!Z)throw T=Error("InvalidStateError"),T.name="InvalidStateError",T;}var l="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget pageX pageY".split(" "),r=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],q=window.Map&&window.Map.prototype.forEach?
Map:k;k.prototype={set:function(T,Z){if(void 0===Z)return this.delete(T);this.has(T)||this.size++;this.array[T]=Z},has:function(T){return void 0!==this.array[T]},delete:function(T){this.has(T)&&(delete this.array[T],this.size--)},get:function(T){return this.array[T]},clear:function(){this.size=this.array.length=0},forEach:function(T,Z){return this.array.forEach(function(pa,Ca){T.call(Z,pa,Ca,this)},this)}};var h="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget buttons pointerId width height pressure tiltX tiltY pointerType hwTimestamp isPrimary type target currentTarget which pageX pageY timeStamp".split(" "),
c=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],f={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},p="undefined"!==typeof SVGElementInstance,e={pointermap:new q,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(T,Z){var pa=Z.events;pa&&(pa.forEach(function(Ca){Z[Ca]&&(this.eventMap[Ca]=Z[Ca].bind(Z))},this),this.eventSources[T]=Z,this.eventSourceList.push(Z))},
register:function(T){for(var Z=this.eventSourceList.length,pa=0,Ca;pa<Z&&(Ca=this.eventSourceList[pa]);pa++)Ca.register.call(Ca,T)},unregister:function(T){for(var Z=this.eventSourceList.length,pa=0,Ca;pa<Z&&(Ca=this.eventSourceList[pa]);pa++)Ca.unregister.call(Ca,T)},contains:function(T,Z){try{return T.contains(Z)}catch(pa){return!1}},down:function(T){T.bubbles=!0;this.fireEvent("pointerdown",T)},move:function(T){T.bubbles=!0;this.fireEvent("pointermove",T)},up:function(T){T.bubbles=!0;this.fireEvent("pointerup",
T)},enter:function(T){T.bubbles=!1;this.fireEvent("pointerenter",T)},leave:function(T){T.bubbles=!1;this.fireEvent("pointerleave",T)},over:function(T){T.bubbles=!0;this.fireEvent("pointerover",T)},out:function(T){T.bubbles=!0;this.fireEvent("pointerout",T)},cancel:function(T){T.bubbles=!0;this.fireEvent("pointercancel",T)},leaveOut:function(T){this.out(T);this.propagate(T,this.leave,!1)},enterOver:function(T){this.over(T);this.propagate(T,this.enter,!0)},eventHandler:function(T){if(!T._handledByPE){var Z=
T.type;(Z=this.eventMap&&this.eventMap[Z])&&Z(T);T._handledByPE=!0}},listen:function(T,Z){Z.forEach(function(pa){this.addEvent(T,pa)},this)},unlisten:function(T,Z){Z.forEach(function(pa){this.removeEvent(T,pa)},this)},addEvent:function(T,Z){T.addEventListener(Z,this.boundHandler)},removeEvent:function(T,Z){T.removeEventListener(Z,this.boundHandler)},makeEvent:function(T,Z){this.captureInfo[Z.pointerId]&&(Z.relatedTarget=null);T=new y(T,Z);Z.preventDefault&&(T.preventDefault=Z.preventDefault);T._target=
T._target||Z.target;return T},fireEvent:function(T,Z){T=this.makeEvent(T,Z);return this.dispatchEvent(T)},cloneEvent:function(T){for(var Z=Object.create(null),pa,Ca=0;Ca<h.length;Ca++)pa=h[Ca],Z[pa]=T[pa]||c[Ca],p&&("target"===pa||"relatedTarget"===pa)&&Z[pa]instanceof SVGElementInstance&&(Z[pa]=Z[pa].correspondingUseElement);T.preventDefault&&(Z.preventDefault=function(){T.preventDefault()});return Z},getTarget:function(T){var Z=this.captureInfo[T.pointerId];if(!Z)return T._target;if(T._target===
Z||!(T.type in f))return Z},propagate:function(T,Z,pa){for(var Ca=T.target,Ra=[];Ca!==document&&!Ca.contains(T.relatedTarget);)if(Ra.push(Ca),Ca=Ca.parentNode,!Ca)return;pa&&Ra.reverse();Ra.forEach(function(xb){T.target=xb;Z.call(this,T)},this)},setCapture:function(T,Z,pa){this.captureInfo[T]&&this.releaseCapture(T,pa);this.captureInfo[T]=Z;this.implicitRelease=this.releaseCapture.bind(this,T,pa);document.addEventListener("pointerup",this.implicitRelease);document.addEventListener("pointercancel",
this.implicitRelease);var Ca=new y("gotpointercapture");Ca.pointerId=T;Ca._target=Z;pa||this.asyncDispatchEvent(Ca)},releaseCapture:function(T,Z){var pa=this.captureInfo[T];if(pa){this.captureInfo[T]=void 0;document.removeEventListener("pointerup",this.implicitRelease);document.removeEventListener("pointercancel",this.implicitRelease);var Ca=new y("lostpointercapture");Ca.pointerId=T;Ca._target=pa;Z||this.asyncDispatchEvent(Ca)}},dispatchEvent:function(T){var Z=this.getTarget(T);if(Z)return Z.dispatchEvent(T)},
asyncDispatchEvent:function(T){requestAnimationFrame(this.dispatchEvent.bind(this,T))}};e.boundHandler=e.eventHandler.bind(e);var n={shadow:function(T){if(T)return T.shadowRoot||T.webkitShadowRoot},canTarget:function(T){return T&&!!T.elementFromPoint},targetingShadow:function(T){T=this.shadow(T);if(this.canTarget(T))return T},olderShadow:function(T){var Z=T.olderShadowRoot;!Z&&(T=T.querySelector("shadow"))&&(Z=T.olderShadowRoot);return Z},allShadows:function(T){var Z=[];for(T=this.shadow(T);T;)Z.push(T),
T=this.olderShadow(T);return Z},searchRoot:function(T,Z,pa){if(T){var Ca=T.elementFromPoint(Z,pa),Ra;for(Ra=this.targetingShadow(Ca);Ra;){if(T=Ra.elementFromPoint(Z,pa))return Ca=this.targetingShadow(T),this.searchRoot(Ca,Z,pa)||T;Ra=this.olderShadow(Ra)}return Ca}},owner:function(T){for(;T.parentNode;)T=T.parentNode;T.nodeType!==Node.DOCUMENT_NODE&&T.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(T=document);return T},findTarget:function(T){var Z=T.clientX,pa=T.clientY;T=this.owner(T.target);T.elementFromPoint(Z,
pa)||(T=document);return this.searchRoot(T,Z,pa)}},v=Array.prototype.forEach.call.bind(Array.prototype.forEach),A=Array.prototype.map.call.bind(Array.prototype.map),C=Array.prototype.slice.call.bind(Array.prototype.slice),B=Array.prototype.filter.call.bind(Array.prototype.filter),I=window.MutationObserver||window.WebKitMutationObserver,O={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};u.prototype={watchSubtree:function(T){this.observer&&n.canTarget(T)&&
this.observer.observe(T,O)},enableOnSubtree:function(T){this.watchSubtree(T);T===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(T)},installNewSubtree:function(T){v(this.findElements(T),this.addElement,this)},findElements:function(T){return T.querySelectorAll?T.querySelectorAll("[touch-action]"):[]},removeElement:function(T){this.removeCallback(T)},addElement:function(T){this.addCallback(T)},elementChanged:function(T,Z){this.changedCallback(T,Z)},concatLists:function(T,
Z){return T.concat(C(Z))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(T){return T.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(T){var Z=A(T,this.findElements,this);Z.push(B(T,this.isElement));return Z.reduce(this.concatLists,[])},mutationWatcher:function(T){T.forEach(this.mutationHandler,this)},mutationHandler:function(T){"childList"===T.type?(this.flattenMutationTree(T.addedNodes).forEach(this.addElement,
this),this.flattenMutationTree(T.removedNodes).forEach(this.removeElement,this)):"attributes"===T.type&&this.elementChanged(T.target,T.oldValue)}};var z=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],G="",H=window.PointerEvent||window.MSPointerEvent,N=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,J=e.pointermap,R=[1,4,2,8,16],fa=!1;try{fa=1===(new MouseEvent("test",{buttons:1})).buttons}catch(T){}var Y={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown",
"mousemove","mouseup","mouseover","mouseout"],register:function(T){e.listen(T,this.events)},unregister:function(T){e.unlisten(T,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(T){var Z=this.lastTouches,pa=T.clientX;T=T.clientY;for(var Ca=0,Ra=Z.length,xb;Ca<Ra&&(xb=Z[Ca]);Ca++){var Va=Math.abs(T-xb.y);if(25>=Math.abs(pa-xb.x)&&25>=Va)return!0}},prepareEvent:function(T){var Z=e.cloneEvent(T),pa=Z.preventDefault;Z.preventDefault=function(){T.preventDefault();pa()};Z.pointerId=this.POINTER_ID;
Z.isPrimary=!0;Z.pointerType=this.POINTER_TYPE;return Z},prepareButtonsForMove:function(T,Z){var pa=J.get(this.POINTER_ID);T.buttons=0!==Z.which&&pa?pa.buttons:0;Z.buttons=T.buttons},mousedown:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=J.get(this.POINTER_ID),pa=this.prepareEvent(T);fa||(pa.buttons=R[pa.button],Z&&(pa.buttons|=Z.buttons),T.buttons=pa.buttons);J.set(this.POINTER_ID,T);Z&&0!==Z.buttons?e.move(pa):e.down(pa)}},mousemove:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=
this.prepareEvent(T);fa||this.prepareButtonsForMove(Z,T);Z.button=-1;J.set(this.POINTER_ID,T);e.move(Z)}},mouseup:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=J.get(this.POINTER_ID),pa=this.prepareEvent(T);if(!fa){var Ca=R[pa.button];pa.buttons=Z?Z.buttons&~Ca:0;T.buttons=pa.buttons}J.set(this.POINTER_ID,T);pa.buttons&=~R[pa.button];0===pa.buttons?e.up(pa):e.move(pa)}},mouseover:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=this.prepareEvent(T);fa||this.prepareButtonsForMove(Z,
T);Z.button=-1;J.set(this.POINTER_ID,T);e.enterOver(Z)}},mouseout:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=this.prepareEvent(T);fa||this.prepareButtonsForMove(Z,T);Z.button=-1;e.leaveOut(Z)}},cancel:function(T){T=this.prepareEvent(T);e.cancel(T);this.deactivateMouse()},deactivateMouse:function(){J.delete(this.POINTER_ID)}},qa=e.captureInfo,ka=n.findTarget.bind(n),Q=n.allShadows.bind(n),aa=e.pointermap,ha={events:["touchstart","touchmove","touchend","touchcancel"],register:function(T){ra.enableOnSubtree(T)},
unregister:function(){},elementAdded:function(T){var Z=T.getAttribute("touch-action"),pa=this.touchActionToScrollType(Z);pa&&(T._scrollType=pa,e.listen(T,this.events),Q(T).forEach(function(Ca){Ca._scrollType=pa;e.listen(Ca,this.events)},this))},elementRemoved:function(T){T._scrollType=void 0;e.unlisten(T,this.events);Q(T).forEach(function(Z){Z._scrollType=void 0;e.unlisten(Z,this.events)},this)},elementChanged:function(T,Z){var pa=T.getAttribute("touch-action"),Ca=this.touchActionToScrollType(pa);
Z=this.touchActionToScrollType(Z);Ca&&Z?(T._scrollType=Ca,Q(T).forEach(function(Ra){Ra._scrollType=Ca},this)):Z?this.elementRemoved(T):Ca&&this.elementAdded(T)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(T){var Z=this.scrollTypes;if("none"===T)return"none";if(T===Z.XSCROLLER)return"X";if(T===Z.YSCROLLER)return"Y";if(Z.SCROLLER.exec(T))return"XY"},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(T){return this.firstTouch===
T.identifier},setPrimaryTouch:function(T){if(0===aa.size||1===aa.size&&aa.has(1))this.firstTouch=T.identifier,this.firstXY={X:T.clientX,Y:T.clientY},this.scrolling=!1,this.cancelResetClickCount()},removePrimaryPointer:function(T){T.isPrimary&&(this.firstXY=this.firstTouch=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var T=function(){this.clickCount=0;this.resetId=null}.bind(this);this.resetId=setTimeout(T,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},
typeToButtons:function(T){var Z=0;if("touchstart"===T||"touchmove"===T)Z=1;return Z},touchToPointer:function(T){var Z=this.currentTouchEvent,pa=e.cloneEvent(T),Ca=pa.pointerId=T.identifier+2;pa.target=qa[Ca]||ka(pa);pa.bubbles=!0;pa.cancelable=!0;pa.detail=this.clickCount;pa.button=0;pa.buttons=this.typeToButtons(Z.type);pa.width=2*(T.radiusX||T.webkitRadiusX||0);pa.height=2*(T.radiusY||T.webkitRadiusY||0);pa.pressure=T.force||T.webkitForce||.5;pa.isPrimary=this.isPrimaryTouch(T);pa.pointerType=this.POINTER_TYPE;
pa.altKey=Z.altKey;pa.ctrlKey=Z.ctrlKey;pa.metaKey=Z.metaKey;pa.shiftKey=Z.shiftKey;var Ra=this;pa.preventDefault=function(){Ra.scrolling=!1;Ra.firstXY=null;Z.preventDefault()};return pa},processTouches:function(T,Z){var pa=T.changedTouches;this.currentTouchEvent=T;T=0;for(var Ca;T<pa.length;T++)Ca=pa[T],Z.call(this,this.touchToPointer(Ca))},shouldScroll:function(T){if(this.firstXY){var Z=T.currentTarget._scrollType;if("none"===Z)Z=!1;else if("XY"===Z)Z=!0;else{T=T.changedTouches[0];var pa="Y"===
Z?"X":"Y";Z=Math.abs(T["client"+Z]-this.firstXY[Z])>=Math.abs(T["client"+pa]-this.firstXY[pa])}this.firstXY=null;return Z}},findTouch:function(T,Z){for(var pa=0,Ca=T.length,Ra;pa<Ca&&(Ra=T[pa]);pa++)if(Ra.identifier===Z)return!0},vacuumTouches:function(T){var Z=T.touches;if(aa.size>=Z.length){var pa=[];aa.forEach(function(Ca,Ra){1===Ra||this.findTouch(Z,Ra-2)||pa.push(Ca.out)},this);pa.forEach(this.cancelOut,this)}},touchstart:function(T){this.vacuumTouches(T);this.setPrimaryTouch(T.changedTouches[0]);
this.dedupSynthMouse(T);this.scrolling||(this.clickCount++,this.processTouches(T,this.overDown))},overDown:function(T){aa.set(T.pointerId,{target:T.target,out:T,outTarget:T.target});e.enterOver(T);e.down(T)},touchmove:function(T){this.scrolling||(this.shouldScroll(T)?(this.scrolling=!0,this.touchcancel(T)):(T.preventDefault(),this.processTouches(T,this.moveOverOut)))},moveOverOut:function(T){var Z=aa.get(T.pointerId);if(Z){var pa=Z.out,Ca=Z.outTarget;e.move(T);pa&&Ca!==T.target&&(pa.relatedTarget=
T.target,T.relatedTarget=Ca,pa.target=Ca,T.target?(e.leaveOut(pa),e.enterOver(T)):(T.target=Ca,T.relatedTarget=null,this.cancelOut(T)));Z.out=T;Z.outTarget=T.target}},touchend:function(T){this.dedupSynthMouse(T);this.processTouches(T,this.upOut)},upOut:function(T){this.scrolling||(e.up(T),e.leaveOut(T));this.cleanUpPointer(T)},touchcancel:function(T){this.processTouches(T,this.cancelOut)},cancelOut:function(T){e.cancel(T);e.leaveOut(T);this.cleanUpPointer(T)},cleanUpPointer:function(T){aa.delete(T.pointerId);
this.removePrimaryPointer(T)},dedupSynthMouse:function(T){var Z=Y.lastTouches;T=T.changedTouches[0];this.isPrimaryTouch(T)&&(T={x:T.clientX,y:T.clientY},Z.push(T),Z=function(pa,Ca){Ca=pa.indexOf(Ca);-1<Ca&&pa.splice(Ca,1)}.bind(null,Z,T),setTimeout(Z,2500))}};var ra=new u(ha.elementAdded,ha.elementRemoved,ha.elementChanged,ha);var ta=e.pointermap,xa=window.MSPointerEvent&&"number"===typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,na={events:"MSPointerDown MSPointerMove MSPointerUp MSPointerOut MSPointerOver MSPointerCancel MSGotPointerCapture MSLostPointerCapture".split(" "),
register:function(T){e.listen(T,this.events)},unregister:function(T){e.unlisten(T,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(T){var Z=T;xa&&(Z=e.cloneEvent(T),Z.pointerType=this.POINTER_TYPES[T.pointerType]);return Z},cleanup:function(T){ta.delete(T)},MSPointerDown:function(T){ta.set(T.pointerId,T);T=this.prepareEvent(T);e.down(T)},MSPointerMove:function(T){T=this.prepareEvent(T);e.move(T)},MSPointerUp:function(T){var Z=this.prepareEvent(T);e.up(Z);
this.cleanup(T.pointerId)},MSPointerOut:function(T){T=this.prepareEvent(T);e.leaveOut(T)},MSPointerOver:function(T){T=this.prepareEvent(T);e.enterOver(T)},MSPointerCancel:function(T){var Z=this.prepareEvent(T);e.cancel(Z);this.cleanup(T.pointerId)},MSLostPointerCapture:function(T){T=e.makeEvent("lostpointercapture",T);e.dispatchEvent(T)},MSGotPointerCapture:function(T){T=e.makeEvent("gotpointercapture",T);e.dispatchEvent(T)}};if(window.navigator.msPointerEnabled){var Ma=function(T){w(T);a(this);0!==
e.pointermap.get(T).buttons&&(e.setCapture(T,this,!0),this.msSetPointerCapture(T))};var jb=function(T){w(T);e.releaseCapture(T,!0);this.msReleasePointerCapture(T)}}else Ma=function(T){w(T);a(this);0!==e.pointermap.get(T).buttons&&e.setCapture(T,this)},jb=function(T){w(T);e.releaseCapture(T)};var ab=function(T){return!!e.captureInfo[T]};(function(){if(H){z.forEach(function(Z){String(Z)===Z?(G+=b(Z)+d(Z)+"\n",N&&(G+=E(Z)+d(Z)+"\n")):(G+=Z.selectors.map(b)+d(Z.rule)+"\n",N&&(G+=Z.selectors.map(E)+d(Z.rule)+
"\n"))});var T=document.createElement("style");T.textContent=G;document.head.appendChild(T)}})();window.PointerEvent||(window.PointerEvent=y,window.navigator.msPointerEnabled?(Object.defineProperty(window.navigator,"maxTouchPoints",{value:window.navigator.msMaxTouchPoints,enumerable:!0}),e.registerSource("ms",na)):(Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),e.registerSource("mouse",Y),void 0!==window.ontouchstart&&e.registerSource("touch",ha)),e.register(document));
window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:Ma},releasePointerCapture:{value:jb},hasPointerCapture:{value:ab}});return{dispatcher:e,Installer:u,PointerEvent:y,PointerMap:q,targetFinding:n}})},{}],314:[function(g,K,D){(function(y){function k(){}function u(a,l){for(var r=a.length;r--;)if(a[r].listener===l)return r;return-1}function E(a){return function(){return this[a].apply(this,arguments)}}function b(a){return"function"===
typeof a||a instanceof RegExp?!0:a&&"object"===typeof a?b(a.listener):!1}var d=k.prototype,w=y.EventEmitter;d.getListeners=function(a){var l=this._getEvents(),r;if(a instanceof RegExp){var q={};for(r in l)l.hasOwnProperty(r)&&a.test(r)&&(q[r]=l[r])}else q=l[a]||(l[a]=[]);return q};d.flattenListeners=function(a){var l=[],r;for(r=0;r<a.length;r+=1)l.push(a[r].listener);return l};d.getListenersAsObject=function(a){var l=this.getListeners(a);if(l instanceof Array){var r={};r[a]=l}return r||l};d.addListener=
function(a,l){if(!b(l))throw new TypeError("listener must be a function");a=this.getListenersAsObject(a);var r="object"===typeof l,q;for(q in a)a.hasOwnProperty(q)&&-1===u(a[q],l)&&a[q].push(r?l:{listener:l,once:!1});return this};d.on=E("addListener");d.addOnceListener=function(a,l){return this.addListener(a,{listener:l,once:!0})};d.once=E("addOnceListener");d.defineEvent=function(a){this.getListeners(a);return this};d.defineEvents=function(a){for(var l=0;l<a.length;l+=1)this.defineEvent(a[l]);return this};
d.removeListener=function(a,l){a=this.getListenersAsObject(a);var r;for(r in a)if(a.hasOwnProperty(r)){var q=u(a[r],l);-1!==q&&a[r].splice(q,1)}return this};d.off=E("removeListener");d.addListeners=function(a,l){return this.manipulateListeners(!1,a,l)};d.removeListeners=function(a,l){return this.manipulateListeners(!0,a,l)};d.manipulateListeners=function(a,l,r){var q,h,c=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!==typeof l||l instanceof RegExp)for(q=
r.length;q--;)c.call(this,l,r[q]);else for(q in l)l.hasOwnProperty(q)&&(h=l[q])&&("function"===typeof h?c.call(this,q,h):a.call(this,q,h));return this};d.removeEvent=function(a){var l=typeof a,r=this._getEvents(),q;if("string"===l)delete r[a];else if(a instanceof RegExp)for(q in r)r.hasOwnProperty(q)&&a.test(q)&&delete r[q];else delete this._events;return this};d.removeAllListeners=E("removeEvent");d.emitEvent=function(a,l){var r=this.getListenersAsObject(a),q,h;for(h in r)if(r.hasOwnProperty(h)){var c=
r[h].slice(0);for(q=0;q<c.length;q++){var f=c[q];!0===f.once&&this.removeListener(a,f.listener);var p=f.listener.apply(this,l||[]);p===this._getOnceReturnValue()&&this.removeListener(a,f.listener)}}return this};d.trigger=E("emitEvent");d.emit=function(a){var l=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,l)};d.setOnceReturnValue=function(a){this._onceReturnValue=a;return this};d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:
!0};d._getEvents=function(){return this._events||(this._events={})};k.noConflict=function(){y.EventEmitter=w;return k};"object"===typeof K&&K.exports?K.exports=k:y.EventEmitter=k})("undefined"!==typeof window?window:this||{})},{}]},{},[1])(1)});
