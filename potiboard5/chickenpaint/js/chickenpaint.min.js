/*
    ChickenPaint Be
    https://github.com/satopian/ChickenPaint_Be
    by satopian
    Customized from ChickenPaint by Nicholas Sherlock.
    GNU GENERAL PUBLIC LICENSE
    Version 3, 29 June 2007
    <http://www.gnu.org/licenses/>
*/
/*
    ChickenPaint

    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.

    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/
/*
 Bootstrap v5.3.0 (https://getbootstrap.com/)
 Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 jQuery throttle / debounce - v1.1 - 3/7/2010
 http://benalman.com/projects/jquery-throttle-debounce-plugin/

 Copyright (c) 2010 "Cowboy" Ben Alman
 Dual licensed under the MIT and GPL licenses.
 http://benalman.com/about/license/
 jQuery JavaScript Library v3.7.1
 https://jquery.com/

 Copyright OpenJS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2023-08-28T13:37Z
 PEP v0.4.3 | https://github.com/jquery/PEP
 Copyright jQuery Foundation and other contributors | http://jquery.org/license
 EventEmitter v5.2.9 - git.io/ee
 Unlicense - http://unlicense.org/
 Oliver Caldwell - https://oli.me.uk/
 @preserve
*/
!function(g,K){"object"==typeof exports&&"undefined"!=typeof module?module.exports=K():"function"==typeof define&&define.amd?define(K):(g="undefined"!=typeof globalThis?globalThis:g||self).bootstrap=K()}(this,function(){function g(t,M){return M&&`${M}::${Ab++}`||t.uidEvent||Ab++}function K(t){const M=g(t);return t.uidEvent=M,ob[M]=ob[M]||{},ob[M]}function D(t,M,W=null){return Object.values(t).find(na=>na.callable===M&&na.delegationSelector===W)}function z(t,M,W){const na="string"==typeof M;M=na?W:
M||W;W=E(t);return Qa.has(W)||(W=t),[na,M,W]}function k(t,M,W,na,l){if("string"==typeof M&&t){var [x,F,L]=z(M,W,na);M in Pa&&(F=(V=>function(X){if(!X.relatedTarget||X.relatedTarget!==X.delegateTarget&&!X.delegateTarget.contains(X.relatedTarget))return V.call(this,X)})(F));na=K(t);na=na[L]||(na[L]={});var S=D(na,F,x?W:null);if(S)return void(S.oneOff=S.oneOff&&l);M=g(F,M.replace(Ka,""));S=x?function(V,X,ma){return function Fa(da){const Ma=V.querySelectorAll(X);for(let {target:Sa}=da;Sa&&Sa!==this;Sa=
Sa.parentNode)for(const gb of Ma)if(gb===Sa)return b(da,{delegateTarget:Sa}),Fa.oneOff&&Ia.off(V,da.type,X,ma),ma.apply(Sa,[da])}}(t,W,F):function(V,X){return function da(ca){return b(ca,{delegateTarget:V}),da.oneOff&&Ia.off(V,ca.type,X),X.apply(V,[ca])}}(t,F);S.delegationSelector=x?W:null;S.callable=F;S.oneOff=l;S.uidEvent=M;na[M]=S;t.addEventListener(L,S,x)}}function v(t,M,W,na,l){(na=D(M[W],na,l))&&(t.removeEventListener(W,na,!!l),delete M[W][na.uidEvent])}function E(t){return t=t.replace(Ua,""),
Pa[t]||t}function b(t,M={}){for(const [W,na]of Object.entries(M))try{t[W]=na}catch(l){Object.defineProperty(t,W,{configurable:!0,get:()=>na})}return t}function d(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(M){return t}}function w(t){return t.replace(/[A-Z]/g,M=>`-${M.toLowerCase()}`)}function a(t){return t?(t.nodeName||"").toLowerCase():
null}function m(t){return null==t?window:"[object Window]"!==t.toString()?(t=t.ownerDocument)&&t.defaultView||window:t}function q(t){return t instanceof m(t).Element||t instanceof Element}function r(t){return t instanceof m(t).HTMLElement||t instanceof HTMLElement}function h(t){return"undefined"!=typeof ShadowRoot&&(t instanceof m(t).ShadowRoot||t instanceof ShadowRoot)}function c(t){return t.split("-")[0]}function f(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?
t.brands.map(function(M){return M.brand+"/"+M.version}).join(" "):navigator.userAgent}function p(){return!/^((?!chrome|android).)*safari/i.test(f())}function e(t,M,W){void 0===M&&(M=!1);void 0===W&&(W=!1);var na=t.getBoundingClientRect(),l=1,x=1;M&&r(t)&&(l=0<t.offsetWidth&&ib(na.width)/t.offsetWidth||1,x=0<t.offsetHeight&&ib(na.height)/t.offsetHeight||1);t=(q(t)?m(t):window).visualViewport;M=!p()&&W;W=(na.left+(M&&t?t.offsetLeft:0))/l;t=(na.top+(M&&t?t.offsetTop:0))/x;l=na.width/l;na=na.height/x;
return{width:l,height:na,top:t,right:W+l,bottom:t+na,left:W,x:W,y:t}}function n(t){var M=e(t),W=t.offsetWidth,na=t.offsetHeight;return 1>=Math.abs(M.width-W)&&(W=M.width),1>=Math.abs(M.height-na)&&(na=M.height),{x:t.offsetLeft,y:t.offsetTop,width:W,height:na}}function u(t,M){var W=M.getRootNode&&M.getRootNode();if(t.contains(M))return!0;if(W&&h(W)){do{if(M&&t.isSameNode(M))return!0;M=M.parentNode||M.host}while(M)}return!1}function A(t){return m(t).getComputedStyle(t)}function C(t){return((q(t)?t.ownerDocument:
t.document)||window.document).documentElement}function B(t){return"html"===a(t)?t:t.assignedSlot||t.parentNode||(h(t)?t.host:null)||C(t)}function I(t){return r(t)&&"fixed"!==A(t).position?t.offsetParent:null}function N(t){for(var M=m(t),W=I(t);W&&0<=["table","td","th"].indexOf(a(W))&&"static"===A(W).position;)W=I(W);if(!W||"html"!==a(W)&&("body"!==a(W)||"static"!==A(W).position)){if(!W)a:{W=/firefox/i.test(f());if(!/Trident/i.test(f())||!r(t)||"fixed"!==A(t).position)for(t=B(t),h(t)&&(t=t.host);r(t)&&
0>["html","body"].indexOf(a(t));){var na=A(t);if("none"!==na.transform||"none"!==na.perspective||"paint"===na.contain||-1!==["transform","perspective"].indexOf(na.willChange)||W&&"filter"===na.willChange||W&&na.filter&&"none"!==na.filter){W=t;break a}t=t.parentNode}W=null}M=W||M}return M}function y(t){return 0<=["top","bottom"].indexOf(t)?"x":"y"}function G(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function H(t,M){return M.reduce(function(W,na){return W[na]=t,W},{})}function O(t){return t.split("-")[1]}
function J(t){var M,W=t.popper,na=t.popperRect,l=t.placement,x=t.variation,F=t.offsets,L=t.position,S=t.gpuAcceleration,V=t.adaptive,X=t.roundOffsets,ma=t.isFixed;t=F.x;t=void 0===t?0:t;var ca=F.y;ca=void 0===ca?0:ca;ca="function"==typeof X?X({x:t,y:ca}):{x:t,y:ca};t=ca.x;ca=ca.y;var da=F.hasOwnProperty("x");F=F.hasOwnProperty("y");var Fa="left",Ma="top",Sa=window;if(V){var gb=N(W),hb="clientHeight",Bb="clientWidth";gb===m(W)&&"static"!==A(gb=C(W)).position&&"absolute"===L&&(hb="scrollHeight",Bb=
"scrollWidth");("top"===l||("left"===l||"right"===l)&&"end"===x)&&(Ma="bottom",ca-=(ma&&gb===Sa&&Sa.visualViewport?Sa.visualViewport.height:gb[hb])-na.height,ca*=S?1:-1);"left"!==l&&("top"!==l&&"bottom"!==l||"end"!==x)||(Fa="right",t-=(ma&&gb===Sa&&Sa.visualViewport?Sa.visualViewport.width:gb[Bb])-na.width,t*=S?1:-1)}var Cb;na=Object.assign({position:L},V&&vc);!0===X?(X=t,l=ca,W=m(W).devicePixelRatio||1,W={x:ib(X*W)/W||0,y:ib(l*W)/W||0}):W={x:t,y:ca};return t=W.x,ca=W.y,S?Object.assign({},na,((Cb=
{})[Ma]=F?"0":"",Cb[Fa]=da?"0":"",Cb.transform=1>=(Sa.devicePixelRatio||1)?"translate("+t+"px, "+ca+"px)":"translate3d("+t+"px, "+ca+"px, 0)",Cb)):Object.assign({},na,((M={})[Ma]=F?ca+"px":"",M[Fa]=da?t+"px":"",M.transform="",M))}function R(t){return t.replace(/left|right|bottom|top/g,function(M){return fc[M]})}function ea(t){return t.replace(/start|end/g,function(M){return nc[M]})}function Y(t){t=m(t);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function qa(t){return e(C(t)).left+Y(t).scrollLeft}
function la(t){t=A(t);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function Q(t){return 0<=["html","body","#document"].indexOf(a(t))?t.ownerDocument.body:r(t)&&la(t)?t:Q(B(t))}function ka(t,M){var W;void 0===M&&(M=[]);var na=Q(t);t=na===(null==(W=t.ownerDocument)?void 0:W.body);W=m(na);na=t?[W].concat(W.visualViewport||[],la(na)?na:[]):na;M=M.concat(na);return t?M:M.concat(ka(B(na)))}function oa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+
t.height})}function ya(t,M,W){return"viewport"===M?oa(function(na,l){var x=m(na),F=C(na);x=x.visualViewport;var L=F.clientWidth;F=F.clientHeight;var S=0,V=0;if(x){L=x.width;F=x.height;var X=p();(X||!X&&"fixed"===l)&&(S=x.offsetLeft,V=x.offsetTop)}return{width:L,height:F,x:S+qa(na),y:V}}(t,W)):q(M)?function(na,l){l=e(na,!1,"fixed"===l);return l.top+=na.clientTop,l.left+=na.clientLeft,l.bottom=l.top+na.clientHeight,l.right=l.left+na.clientWidth,l.width=na.clientWidth,l.height=na.clientHeight,l.x=l.left,
l.y=l.top,l}(M,W):oa(function(na){var l,x=C(na),F=Y(na),L=null==(l=na.ownerDocument)?void 0:l.body;l=pb(x.scrollWidth,x.clientWidth,L?L.scrollWidth:0,L?L.clientWidth:0);var S=pb(x.scrollHeight,x.clientHeight,L?L.scrollHeight:0,L?L.clientHeight:0);na=-F.scrollLeft+qa(na);F=-F.scrollTop;return"rtl"===A(L||x).direction&&(na+=pb(x.clientWidth,L?L.clientWidth:0)-l),{width:l,height:S,x:na,y:F}}(C(t)))}function ja(t){var M=t.reference,W=t.element,na=(t=t.placement)?c(t):null;t=t?O(t):null;var l=M.x+M.width/
2-W.width/2;var x=M.y+M.height/2-W.height/2;switch(na){case "top":l={x:l,y:M.y-W.height};break;case "bottom":l={x:l,y:M.y+M.height};break;case "right":l={x:M.x+M.width,y:x};break;case "left":l={x:M.x-W.width,y:x};break;default:l={x:M.x,y:M.y}}na=na?y(na):null;if(null!=na)switch(x="y"===na?"height":"width",t){case "start":l[na]-=M[x]/2-W[x]/2;break;case "end":l[na]+=M[x]/2-W[x]/2}return l}function ua(t,M){void 0===M&&(M={});var W=M;M=W.placement;M=void 0===M?t.placement:M;var na=W.strategy,l=void 0===
na?t.strategy:na;na=W.boundary;var x=void 0===na?"clippingParents":na;na=W.rootBoundary;var F=void 0===na?"viewport":na;na=W.elementContext;na=void 0===na?"popper":na;var L=W.altBoundary,S=void 0!==L&&L;W=W.padding;W=void 0===W?0:W;W=G("number"!=typeof W?W:H(W,Fb));L=t.rects.popper;S=t.elements[S?"popper"===na?"reference":"popper":na];l=function(ma,ca,da,Fa){ca="clippingParents"===ca?function(Ma){var Sa=ka(B(Ma)),gb=0<=["absolute","fixed"].indexOf(A(Ma).position)&&r(Ma)?N(Ma):Ma;return q(gb)?Sa.filter(function(hb){return q(hb)&&
u(hb,gb)&&"body"!==a(hb)}):[]}(ma):[].concat(ca);da=[].concat(ca,[da]);da=da.reduce(function(Ma,Sa){Sa=ya(ma,Sa,Fa);return Ma.top=pb(Sa.top,Ma.top),Ma.right=Vb(Sa.right,Ma.right),Ma.bottom=Vb(Sa.bottom,Ma.bottom),Ma.left=pb(Sa.left,Ma.left),Ma},ya(ma,da[0],Fa));return da.width=da.right-da.left,da.height=da.bottom-da.top,da.x=da.left,da.y=da.top,da}(q(S)?S:S.contextElement||C(t.elements.popper),x,F,l);x=e(t.elements.reference);F=ja({reference:x,element:L,strategy:"absolute",placement:M});F=oa(Object.assign({},
L,F));x="popper"===na?F:x;var V={top:l.top-x.top+W.top,bottom:x.bottom-l.bottom+W.bottom,left:l.left-x.left+W.left,right:x.right-l.right+W.right};t=t.modifiersData.offset;if("popper"===na&&t){var X=t[M];Object.keys(V).forEach(function(ma){var ca=0<=["right","bottom"].indexOf(ma)?1:-1,da=0<=["top","bottom"].indexOf(ma)?"y":"x";V[ma]+=X[da]*ca})}return V}function ha(t,M){void 0===M&&(M={});var W=M.boundary,na=M.rootBoundary,l=M.padding,x=M.flipVariations,F=M.allowedAutoPlacements,L=void 0===F?Ob:F,
S=O(M.placement);M=S?x?Sb:Sb.filter(function(X){return O(X)===S}):Fb;x=M.filter(function(X){return 0<=L.indexOf(X)});0===x.length&&(x=M);var V=x.reduce(function(X,ma){return X[ma]=ua(t,{placement:ma,boundary:W,rootBoundary:na,padding:l})[c(ma)],X},{});return Object.keys(V).sort(function(X,ma){return V[X]-V[ma]})}function La(t,M,W){return void 0===W&&(W={x:0,y:0}),{top:t.top-M.height-W.y,right:t.right-M.width+W.x,bottom:t.bottom-M.height+W.y,left:t.left-M.width-W.x}}function Ya(t){return["top","right",
"bottom","left"].some(function(M){return 0<=t[M]})}function Xa(t,M,W){void 0===W&&(W=!1);var na=r(M),l;if(l=r(M)){var x=M.getBoundingClientRect();l=ib(x.width)/M.offsetWidth||1;x=ib(x.height)/M.offsetHeight||1;l=1!==l||1!==x}x=l;l=C(M);t=e(t,x,W);x={scrollLeft:0,scrollTop:0};var F={x:0,y:0};return(na||!na&&!W)&&(("body"!==a(M)||la(l))&&(x=M!==m(M)&&r(M)?{scrollLeft:M.scrollLeft,scrollTop:M.scrollTop}:Y(M)),r(M)?((F=e(M,!0)).x+=M.clientLeft,F.y+=M.clientTop):l&&(F.x=qa(l))),{x:t.left+x.scrollLeft-
F.x,y:t.top+x.scrollTop-F.y,width:t.width,height:t.height}}function T(t){function M(x){na.add(x.name);[].concat(x.requires||[],x.requiresIfExists||[]).forEach(function(F){na.has(F)||(F=W.get(F))&&M(F)});l.push(x)}var W=new Map,na=new Set,l=[];return t.forEach(function(x){W.set(x.name,x)}),t.forEach(function(x){na.has(x.name)||M(x)}),l}function Z(){for(var t=arguments.length,M=Array(t),W=0;W<t;W++)M[W]=arguments[W];return!M.some(function(na){return!(na&&"function"==typeof na.getBoundingClientRect)})}
function sa(t){void 0===t&&(t={});var M=t.defaultModifiers,W=void 0===M?[]:M;t=t.defaultOptions;var na=void 0===t?Cc:t;return function(l,x,F){function L(){ma.forEach(function(Fa){return Fa()});ma=[]}void 0===F&&(F=na);var S,V,X={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cc,na),modifiersData:{},elements:{reference:l,popper:x},attributes:{},styles:{}},ma=[],ca=!1,da={state:X,setOptions:function(Fa){Fa="function"==typeof Fa?Fa(X.options):Fa;L();X.options=Object.assign({},na,X.options,
Fa);X.scrollParents={reference:q(l)?ka(l):l.contextElement?ka(l.contextElement):[],popper:ka(x)};var Ma,Sa;Fa=function(gb){var hb=T(gb);return Tb.reduce(function(Bb,Cb){return Bb.concat(hb.filter(function($b){return $b.phase===Cb}))},[])}((Ma=[].concat(W,X.options.modifiers),Sa=Ma.reduce(function(gb,hb){var Bb=gb[hb.name];return gb[hb.name]=Bb?Object.assign({},Bb,hb,{options:Object.assign({},Bb.options,hb.options),data:Object.assign({},Bb.data,hb.data)}):hb,gb},{}),Object.keys(Sa).map(function(gb){return Sa[gb]})));
return X.orderedModifiers=Fa.filter(function(gb){return gb.enabled}),X.orderedModifiers.forEach(function(gb){var hb=gb.name,Bb=gb.options;Bb=void 0===Bb?{}:Bb;gb=gb.effect;"function"==typeof gb&&(hb=gb({state:X,name:hb,instance:da,options:Bb}),ma.push(hb||function(){}))}),da.update()},forceUpdate:function(){if(!ca){var Fa=X.elements,Ma=Fa.reference;Fa=Fa.popper;if(Z(Ma,Fa))for(X.rects={reference:Xa(Ma,N(Fa),"fixed"===X.options.strategy),popper:n(Fa)},X.reset=!1,X.placement=X.options.placement,X.orderedModifiers.forEach(function(hb){return X.modifiersData[hb.name]=
Object.assign({},hb.data)}),Ma=0;Ma<X.orderedModifiers.length;Ma++)if(!0!==X.reset){var Sa=X.orderedModifiers[Ma];Fa=Sa.fn;var gb=Sa.options;gb=void 0===gb?{}:gb;Sa=Sa.name;"function"==typeof Fa&&(X=Fa({state:X,options:gb,name:Sa,instance:da})||X)}else X.reset=!1,Ma=-1}},update:(S=function(){return new Promise(function(Fa){da.forceUpdate();Fa(X)})},function(){return V||=new Promise(function(Fa){Promise.resolve().then(function(){V=void 0;Fa(S())})}),V}),destroy:function(){L();ca=!0}};return Z(l,x)?
(da.setOptions(F).then(function(Fa){!ca&&F.onFirstUpdate&&F.onFirstUpdate(Fa)}),da):da}}const Ea=new Map,Ra={set(t,M,W){Ea.has(t)||Ea.set(t,new Map);t=Ea.get(t);t.has(M)||0===t.size?t.set(M,W):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(t.keys())[0]}.`)},get:(t,M)=>Ea.has(t)&&Ea.get(t).get(M)||null,remove(t,M){if(Ea.has(t)){var W=Ea.get(t);W.delete(M);0===W.size&&Ea.delete(t)}}},wb=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,
(M,W)=>`#${CSS.escape(W)}`)),t),Ib=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),ra=t=>Ib(t)?t.jquery?t[0]:t:"string"==typeof t&&0<t.length?document.querySelector(wb(t)):null,za=t=>{if(!Ib(t)||0===t.getClientRects().length)return!1;const M="visible"===getComputedStyle(t).getPropertyValue("visibility"),W=t.closest("details:not([open])");return W?W!==t&&((t=t.closest("summary"))&&t.parentNode!==W||null===t)?!1:M:M},Da=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||
(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),Ga=t=>document.documentElement.attachShadow?"function"==typeof t.getRootNode?(t=t.getRootNode(),t instanceof ShadowRoot?t:null):t instanceof ShadowRoot?t:t.parentNode?Ga(t.parentNode):null:null,db=()=>{},tb=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,qb=[],Oa=t=>{var M=()=>{const W=tb();if(W){const na=t.NAME,l=W.fn[na];W.fn[na]=t.jQueryInterface;W.fn[na].Constructor=
t;W.fn[na].noConflict=()=>(W.fn[na]=l,t.jQueryInterface)}};"loading"===document.readyState?(qb.length||document.addEventListener("DOMContentLoaded",()=>{for(const W of qb)W()}),qb.push(M)):M()},ta=(t,M=[],W=t)=>"function"==typeof t?t(...M):W,pa=(t,M,W=!0)=>{if(!W)return void ta(t);W=(x=>{if(!x)return 0;let {transitionDuration:F,transitionDelay:L}=window.getComputedStyle(x);x=Number.parseFloat(F);const S=Number.parseFloat(L);return x||S?(F=F.split(",")[0],L=L.split(",")[0],1E3*(Number.parseFloat(F)+
Number.parseFloat(L))):0})(M)+5;let na=!1;const l=({target:x})=>{x===M&&(na=!0,M.removeEventListener("transitionend",l),ta(t))};M.addEventListener("transitionend",l);setTimeout(()=>{na||M.dispatchEvent(new Event("transitionend"))},W)},Ca=(t,M,W,na)=>{const l=t.length;M=t.indexOf(M);return-1===M?!W&&na?t[l-1]:t[0]:(M+=W?1:-1,na&&(M=(M+l)%l),t[Math.max(0,Math.min(M,l-1))])},Ka=/[^.]*(?=\..*)\.|.*/,Ua=/\..*/,lb=/::\d+$/,ob={};let Ab=1;const Pa={mouseenter:"mouseover",mouseleave:"mouseout"},Qa=new Set("click dblclick mouseup mousedown contextmenu mousewheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange touchstart touchmove touchend touchcancel pointerdown pointermove pointerup pointerleave pointercancel gesturestart gesturechange gestureend focus blur change reset select submit focusin focusout load unload beforeunload resize move DOMContentLoaded readystatechange error abort scroll".split(" ")),
Ia={on(t,M,W,na){k(t,M,W,na,!1)},one(t,M,W,na){k(t,M,W,na,!0)},off(t,M,W,na){if("string"==typeof M&&t){var [l,x,F]=z(M,W,na);na=F!==M;var L=K(t),S=L[F]||{},V=M.startsWith(".");if(void 0===x){if(V)for(var X of Object.keys(L)){W=t;V=M.slice(1);const ma=L[X]||{};for(const [ca,da]of Object.entries(ma))ca.includes(V)&&v(W,L,X,da.callable,da.delegationSelector)}for(const [ma,ca]of Object.entries(S))X=ma.replace(lb,""),na&&!M.includes(X)||v(t,L,F,ca.callable,ca.delegationSelector)}else Object.keys(S).length&&
v(t,L,F,x,l?W:null)}},trigger(t,M,W){if("string"!=typeof M||!t)return null;const na=tb();let l=null,x=!0,F=!0,L=!1;M!==E(M)&&na&&(l=na.Event(M,W),na(t).trigger(l),x=!l.isPropagationStopped(),F=!l.isImmediatePropagationStopped(),L=l.isDefaultPrevented());M=b(new Event(M,{bubbles:x,cancelable:!0}),W);return L&&M.preventDefault(),F&&t.dispatchEvent(M),M.defaultPrevented&&l&&l.preventDefault(),M}},sb={setDataAttribute(t,M,W){t.setAttribute(`data-bs-${w(M)}`,W)},removeDataAttribute(t,M){t.removeAttribute(`data-bs-${w(M)}`)},
getDataAttributes(t){if(!t)return{};const M={};var W=Object.keys(t.dataset).filter(na=>na.startsWith("bs")&&!na.startsWith("bsConfig"));for(const na of W)W=na.replace(/^bs/,""),W=W.charAt(0).toLowerCase()+W.slice(1,W.length),M[W]=d(t.dataset[na]);return M},getDataAttribute:(t,M)=>d(t.getAttribute(`data-bs-${w(M)}`))};class ic{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!');}_getConfig(t){return t=
this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,M){const W=Ib(M)?sb.getDataAttribute(M,"config"):{};return{...this.constructor.Default,...("object"==typeof W?W:{}),...(Ib(M)?sb.getDataAttributes(M):{}),...("object"==typeof t?t:{})}}_typeCheckConfig(t,M=this.constructor.DefaultType){for(const [na,l]of Object.entries(M))if(M=t[na],M=Ib(M)?"element":null==(W=M)?`${W}`:Object.prototype.toString.call(W).match(/\s([a-z]+)/i)[1].toLowerCase(),
!(new RegExp(l)).test(M))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${na}" provided type "${M}" but expected type "${l}".`);var W}}class ub extends ic{constructor(t,M){super();(t=ra(t))&&(this._element=t,this._config=this._getConfig(M),Ra.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ra.remove(this._element,this.constructor.DATA_KEY);Ia.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,
M,W=!0){pa(t,M,W)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Ra.get(ra(t),this.DATA_KEY)}static getOrCreateInstance(t,M={}){return this.getInstance(t)||new this(t,"object"==typeof M?M:null)}static get VERSION(){return"5.3.0"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const P=t=>{let M=t.getAttribute("data-bs-target");
if(!M||"#"===M){t=t.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`);M=t&&"#"!==t?t.trim():null}return wb(M)},kb={find:(t,M=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(M,t)),findOne:(t,M=document.documentElement)=>Element.prototype.querySelector.call(M,t),children:(t,M)=>[].concat(...t.children).filter(W=>W.matches(M)),parents(t,M){const W=[];for(t=t.parentNode.closest(M);t;)W.push(t),
t=t.parentNode.closest(M);return W},prev(t,M){for(t=t.previousElementSibling;t;){if(t.matches(M))return[t];t=t.previousElementSibling}return[]},next(t,M){for(t=t.nextElementSibling;t;){if(t.matches(M))return[t];t=t.nextElementSibling}return[]},focusableChildren(t){const M='a button input textarea select details [tabindex] [contenteditable="true"]'.split(" ").map(W=>`${W}:not([tabindex^="-"])`).join(",");return this.find(M,t).filter(W=>!Da(W)&&za(W))},getSelectorFromElement(t){return(t=P(t))&&kb.findOne(t)?
t:null},getElementFromSelector(t){return(t=P(t))?kb.findOne(t):null},getMultipleElementsFromSelector(t){return(t=P(t))?kb.find(t):[]}},qc=(t,M="hide")=>{const W=t.NAME;Ia.on(document,`click.dismiss${t.EVENT_KEY}`,`[data-bs-dismiss="${W}"]`,function(na){(["A","AREA"].includes(this.tagName)&&na.preventDefault(),Da(this))||(na=kb.getElementFromSelector(this)||this.closest(`.${W}`),t.getOrCreateInstance(na)[M]())})};class jc extends ub{static get NAME(){return"alert"}close(){if(!Ia.trigger(this._element,
"close.bs.alert").defaultPrevented){this._element.classList.remove("show");var t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}}_destroyElement(){this._element.remove();Ia.trigger(this._element,"closed.bs.alert");this.dispose()}static jQueryInterface(t){return this.each(function(){const M=jc.getOrCreateInstance(this);if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);
M[t](this)}})}}qc(jc,"close");Oa(jc);class Qb extends ub{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const M=Qb.getOrCreateInstance(this);"toggle"===t&&M[t]()})}}Ia.on(document,"click.bs.button.data-api",'[data-bs-toggle="button"]',t=>{t.preventDefault();t=t.target.closest('[data-bs-toggle="button"]');Qb.getOrCreateInstance(t).toggle()});Oa(Qb);const eb={endCallback:null,
leftCallback:null,rightCallback:null},bc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Va extends ic{constructor(t,M){super();(this._element=t)&&Va.isSupported()&&(this._config=this._getConfig(M),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return eb}static get DefaultType(){return bc}static get NAME(){return"swipe"}dispose(){Ia.off(this._element,".bs.swipe")}_start(t){this._supportPointerEvents?
this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX);this._handleSwipe();ta(this._config.endCallback)}_move(t){this._deltaX=t.touches&&1<t.touches.length?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){var t=Math.abs(this._deltaX);40>=t||(t/=this._deltaX,this._deltaX=0,t&&ta(0<t?this._config.rightCallback:this._config.leftCallback))}_initEvents(){this._supportPointerEvents?(Ia.on(this._element,
"pointerdown.bs.swipe",t=>this._start(t)),Ia.on(this._element,"pointerup.bs.swipe",t=>this._end(t)),this._element.classList.add("pointer-event")):(Ia.on(this._element,"touchstart.bs.swipe",t=>this._start(t)),Ia.on(this._element,"touchmove.bs.swipe",t=>this._move(t)),Ia.on(this._element,"touchend.bs.swipe",t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||
0<navigator.maxTouchPoints}}const rb={ArrowLeft:"right",ArrowRight:"left"},Hb={interval:5E3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},cc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Mb extends ub{constructor(t,M){super(t,M);this._activeElement=this._interval=null;this._isSliding=!1;this._swipeHelper=this.touchTimeout=null;this._indicatorsElement=kb.findOne(".carousel-indicators",this._element);this._addEventListeners();
"carousel"===this._config.ride&&this.cycle()}static get Default(){return Hb}static get DefaultType(){return cc}static get NAME(){return"carousel"}next(){this._slide("next")}nextWhenVisible(){!document.hidden&&za(this._element)&&this.next()}prev(){this._slide("prev")}pause(){this._isSliding&&this._element.dispatchEvent(new Event("transitionend"));this._clearInterval()}cycle(){this._clearInterval();this._updateInterval();this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&
(this._isSliding?Ia.one(this._element,"slid.bs.carousel",()=>this.cycle()):this.cycle())}to(t){const M=this._getItems();if(!(t>M.length-1||0>t)){if(this._isSliding)return void Ia.one(this._element,"slid.bs.carousel",()=>this.to(t));var W=this._getItemIndex(this._getActive());W!==t&&this._slide(t>W?"next":"prev",M[t])}}dispose(){this._swipeHelper&&this._swipeHelper.dispose();super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Ia.on(this._element,
"keydown.bs.carousel",t=>this._keydown(t));"hover"===this._config.pause&&(Ia.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),Ia.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle()));this._config.touch&&Va.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of kb.find(".carousel-item img",this._element))Ia.on(t,"dragstart.bs.carousel",M=>M.preventDefault());this._swipeHelper=new Va(this._element,{leftCallback:()=>this._slide(this._directionToOrder("left")),
rightCallback:()=>this._slide(this._directionToOrder("right")),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(!/input|textarea/i.test(t.target.tagName)){var M=rb[t.key];M&&(t.preventDefault(),this._slide(this._directionToOrder(M)))}}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(this._indicatorsElement){var M=
kb.findOne(".active",this._indicatorsElement);M.classList.remove("active");M.removeAttribute("aria-current");(t=kb.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement))&&(t.classList.add("active"),t.setAttribute("aria-current","true"))}}_updateInterval(){var t=this._activeElement||this._getActive();t&&(t=Number.parseInt(t.getAttribute("data-bs-interval"),10),this._config.interval=t||this._config.defaultInterval)}_slide(t,M=null){if(!this._isSliding){var W=this._getActive(),na="next"===t,l=
M||Ca(this._getItems(),W,na,this._config.wrap);if(l!==W){var x=this._getItemIndex(l),F=V=>Ia.trigger(this._element,V,{relatedTarget:l,direction:this._orderToDirection(t),from:this._getItemIndex(W),to:x});if(!F("slide.bs.carousel").defaultPrevented&&W&&l){M=!!this._interval;this.pause();this._isSliding=!0;this._setActiveIndicatorElement(x);this._activeElement=l;var L=na?"carousel-item-start":"carousel-item-end",S=na?"carousel-item-next":"carousel-item-prev";l.classList.add(S);l.offsetHeight;W.classList.add(L);
l.classList.add(L);this._queueCallback(()=>{l.classList.remove(L,S);l.classList.add("active");W.classList.remove("active",S,L);this._isSliding=!1;F("slid.bs.carousel")},W,this._isAnimated());M&&this.cycle()}}}}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return kb.findOne(".active.carousel-item",this._element)}_getItems(){return kb.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return"rtl"===
document.documentElement.dir?"left"===t?"prev":"next":"left"===t?"next":"prev"}_orderToDirection(t){return"rtl"===document.documentElement.dir?"prev"===t?"left":"right":"prev"===t?"right":"left"}static jQueryInterface(t){return this.each(function(){const M=Mb.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);M[t]()}}else M.to(t)})}}Ia.on(document,"click.bs.carousel.data-api",
"[data-bs-slide], [data-bs-slide-to]",function(t){var M=kb.getElementFromSelector(this);if(M&&M.classList.contains("carousel"))return t.preventDefault(),t=Mb.getOrCreateInstance(M),(M=this.getAttribute("data-bs-slide-to"))?(t.to(M),void t._maybeEnableCycle()):"next"===sb.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())});Ia.on(window,"load.bs.carousel.data-api",()=>{const t=kb.find('[data-bs-ride="carousel"]');for(const M of t)Mb.getOrCreateInstance(M)});
Oa(Mb);const tc={parent:null,toggle:!0},rc={parent:"(null|element)",toggle:"boolean"};class wc extends ub{constructor(t,M){super(t,M);this._isTransitioning=!1;this._triggerArray=[];t=kb.find('[data-bs-toggle="collapse"]');for(const W of t)t=kb.getSelectorFromElement(W),M=kb.find(t).filter(na=>na===this._element),null!==t&&M.length&&this._triggerArray.push(W);this._initializeChildren();this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown());this._config.toggle&&this.toggle()}static get Default(){return tc}static get DefaultType(){return rc}static get NAME(){return"collapse"}toggle(){this._isShown()?
this.hide():this.show()}show(){if(!this._isTransitioning&&!this._isShown()){var t=[];if((this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(W=>W!==this._element).map(W=>wc.getOrCreateInstance(W,{toggle:!1}))),!t.length||!t[0]._isTransitioning)&&!Ia.trigger(this._element,"show.bs.collapse").defaultPrevented){for(const W of t)W.hide();var M=this._getDimension();this._element.classList.remove("collapse");this._element.classList.add("collapsing");this._element.style[M]=
0;this._addAriaAndCollapsedClass(this._triggerArray,!0);this._isTransitioning=!0;t=`scroll${M[0].toUpperCase()+M.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1;this._element.classList.remove("collapsing");this._element.classList.add("collapse","show");this._element.style[M]="";Ia.trigger(this._element,"shown.bs.collapse")},this._element,!0);this._element.style[M]=`${this._element[t]}px`}}}hide(){if(!this._isTransitioning&&this._isShown()&&!Ia.trigger(this._element,"hide.bs.collapse").defaultPrevented){var t=
this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`;this._element.offsetHeight;this._element.classList.add("collapsing");this._element.classList.remove("collapse","show");for(const M of this._triggerArray){const W=kb.getElementFromSelector(M);W&&!this._isShown(W)&&this._addAriaAndCollapsedClass([M],!1)}this._isTransitioning=!0;this._element.style[t]="";this._queueCallback(()=>{this._isTransitioning=!1;this._element.classList.remove("collapsing");this._element.classList.add("collapse");
Ia.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}}_isShown(t=this._element){return t.classList.contains("show")}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=ra(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent){var t=this._getFirstLevelChildren('[data-bs-toggle="collapse"]');for(const M of t)(t=kb.getElementFromSelector(M))&&this._addAriaAndCollapsedClass([M],this._isShown(t))}}_getFirstLevelChildren(t){const M=
kb.find(":scope .collapse .collapse",this._config.parent);return kb.find(t,this._config.parent).filter(W=>!M.includes(W))}_addAriaAndCollapsedClass(t,M){if(t.length)for(const W of t)W.classList.toggle("collapsed",!M),W.setAttribute("aria-expanded",M)}static jQueryInterface(t){const M={};return"string"==typeof t&&/show|hide/.test(t)&&(M.toggle=!1),this.each(function(){const W=wc.getOrCreateInstance(this,M);if("string"==typeof t){if(void 0===W[t])throw new TypeError(`No method named "${t}"`);W[t]()}})}}
Ia.on(document,"click.bs.collapse.data-api",'[data-bs-toggle="collapse"]',function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const M of kb.getMultipleElementsFromSelector(this))wc.getOrCreateInstance(M,{toggle:!1}).toggle()});Oa(wc);var Fb=["top","bottom","right","left"],Sb=Fb.reduce(function(t,M){return t.concat([M+"-start",M+"-end"])},[]),Ob=[].concat(Fb,["auto"]).reduce(function(t,M){return t.concat([M,M+"-start",M+"-end"])},[]),Tb="beforeRead read afterRead beforeMain main afterMain beforeWrite write afterWrite".split(" ");
const Rb={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var M=t.state;Object.keys(M.elements).forEach(function(W){var na=M.styles[W]||{},l=M.attributes[W]||{},x=M.elements[W];r(x)&&a(x)&&(Object.assign(x.style,na),Object.keys(l).forEach(function(F){var L=l[F];!1===L?x.removeAttribute(F):x.setAttribute(F,!0===L?"":L)}))})},effect:function(t){var M=t.state,W={popper:{position:M.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(M.elements.popper.style,
W.popper),M.styles=W,M.elements.arrow&&Object.assign(M.elements.arrow.style,W.arrow),function(){Object.keys(M.elements).forEach(function(na){var l=M.elements[na],x=M.attributes[na]||{};na=Object.keys(M.styles.hasOwnProperty(na)?M.styles[na]:W[na]).reduce(function(F,L){return F[L]="",F},{});r(l)&&a(l)&&(Object.assign(l.style,na),Object.keys(x).forEach(function(F){l.removeAttribute(F)}))})}},requires:["computeStyles"]};var pb=Math.max,Vb=Math.min,ib=Math.round;const ac={name:"arrow",enabled:!0,phase:"main",
fn:function(t){var M,W=t.state,na=t.name,l=t.options,x=W.elements.arrow,F=W.modifiersData.popperOffsets,L=c(W.placement);t=y(L);L=0<=["left","right"].indexOf(L)?"height":"width";if(x&&F){var S=l.padding;l=G("number"!=typeof(S="function"==typeof S?S(Object.assign({},W.rects,{placement:W.placement})):S)?S:H(S,Fb));S=n(x);var V="y"===t?"top":"left",X="y"===t?"bottom":"right",ma=W.rects.reference[L]+W.rects.reference[t]-F[t]-W.rects.popper[L];F=F[t]-W.rects.reference[t];x=(x=N(x))?"y"===t?x.clientHeight||
0:x.clientWidth||0:0;F=x/2-S[L]/2+(ma/2-F/2);L=pb(l[V],Vb(F,x-S[L]-l[X]));W.modifiersData[na]=((M={})[t]=L,M.centerOffset=L-F,M)}},effect:function(t){var M=t.state;t=t.options.element;t=void 0===t?"[data-popper-arrow]":t;null!=t&&("string"!=typeof t||(t=M.elements.popper.querySelector(t)))&&u(M.elements.popper,t)&&(M.elements.arrow=t)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};var vc={top:"auto",right:"auto",bottom:"auto",left:"auto"};const kc={name:"computeStyles",enabled:!0,
phase:"beforeWrite",fn:function(t){var M=t.state,W=t.options;t=W.gpuAcceleration;t=void 0===t||t;var na=W.adaptive;na=void 0===na||na;W=W.roundOffsets;W=void 0===W||W;t={placement:c(M.placement),variation:O(M.placement),popper:M.elements.popper,popperRect:M.rects.popper,gpuAcceleration:t,isFixed:"fixed"===M.options.strategy};null!=M.modifiersData.popperOffsets&&(M.styles.popper=Object.assign({},M.styles.popper,J(Object.assign({},t,{offsets:M.modifiersData.popperOffsets,position:M.options.strategy,
adaptive:na,roundOffsets:W}))));null!=M.modifiersData.arrow&&(M.styles.arrow=Object.assign({},M.styles.arrow,J(Object.assign({},t,{offsets:M.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:W}))));M.attributes.popper=Object.assign({},M.attributes.popper,{"data-popper-placement":M.placement})},data:{}};var lc={passive:!0};const gc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var M=t.state,W=t.instance;t=t.options;var na=t.scroll,l=void 0===na||
na;t=t.resize;var x=void 0===t||t,F=m(M.elements.popper),L=[].concat(M.scrollParents.reference,M.scrollParents.popper);return l&&L.forEach(function(S){S.addEventListener("scroll",W.update,lc)}),x&&F.addEventListener("resize",W.update,lc),function(){l&&L.forEach(function(S){S.removeEventListener("scroll",W.update,lc)});x&&F.removeEventListener("resize",W.update,lc)}},data:{}};var fc={left:"right",right:"left",bottom:"top",top:"bottom"},nc={start:"end",end:"start"};const xc={name:"flip",enabled:!0,
phase:"main",fn:function(t){var M=t.state,W=t.options;t=t.name;if(!M.modifiersData[t]._skip){var na=W.mainAxis;na=void 0===na||na;var l=W.altAxis;l=void 0===l||l;var x=W.fallbackPlacements,F=W.padding,L=W.boundary,S=W.rootBoundary,V=W.altBoundary,X=W.flipVariations,ma=void 0===X||X,ca=W.allowedAutoPlacements;W=M.options.placement;X=c(W);x=x||(X!==W&&ma?function(Kb){if("auto"===c(Kb))return[];var Ub=R(Kb);return[ea(Kb),Ub,ea(Ub)]}(W):[R(W)]);var da=[W].concat(x).reduce(function(Kb,Ub){return Kb.concat("auto"===
c(Ub)?ha(M,{placement:Ub,boundary:L,rootBoundary:S,padding:F,flipVariations:ma,allowedAutoPlacements:ca}):Ub)},[]);W=M.rects.reference;x=M.rects.popper;var Fa=new Map;X=!0;for(var Ma=da[0],Sa=0;Sa<da.length;Sa++){var gb=da[Sa],hb=c(gb),Bb="start"===O(gb),Cb=0<=["top","bottom"].indexOf(hb),$b=Cb?"width":"height",yb=ua(M,{placement:gb,boundary:L,rootBoundary:S,altBoundary:V,padding:F});Bb=Cb?Bb?"right":"left":Bb?"bottom":"top";W[$b]>x[$b]&&(Bb=R(Bb));$b=R(Bb);Cb=[];if(na&&Cb.push(0>=yb[hb]),l&&Cb.push(0>=
yb[Bb],0>=yb[$b]),Cb.every(function(Kb){return Kb})){Ma=gb;X=!1;break}Fa.set(gb,Cb)}if(X)for(na=function(Kb){var Ub=da.find(function(xb){if(xb=Fa.get(xb))return xb.slice(0,Kb).every(function(Wb){return Wb})});if(Ub)return Ma=Ub,"break"},l=ma?3:1;0<l&&"break"!==na(l);l--);M.placement!==Ma&&(M.modifiersData[t]._skip=!0,M.placement=Ma,M.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Mc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var M=t.state;t=
t.name;var W=M.rects.reference,na=M.rects.popper,l=M.modifiersData.preventOverflow,x=ua(M,{elementContext:"reference"}),F=ua(M,{altBoundary:!0});W=La(x,W);na=La(F,na,l);l=Ya(W);F=Ya(na);M.modifiersData[t]={referenceClippingOffsets:W,popperEscapeOffsets:na,isReferenceHidden:l,hasPopperEscaped:F};M.attributes.popper=Object.assign({},M.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":F})}},yc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var M=
t.state,W=t.name;t=t.options.offset;var na=void 0===t?[0,0]:t;t=Ob.reduce(function(F,L){var S=M.rects,V=c(L),X=0<=["left","top"].indexOf(V)?-1:1;var ma="function"==typeof na?na(Object.assign({},S,{placement:L})):na;S=ma[0];var ca=ma[1];ma=(S=S||0,ca=(ca||0)*X,0<=["left","right"].indexOf(V)?{x:ca,y:S}:{x:S,y:ca});return F[L]=ma,F},{});var l=t[M.placement],x=l.x;l=l.y;null!=M.modifiersData.popperOffsets&&(M.modifiersData.popperOffsets.x+=x,M.modifiersData.popperOffsets.y+=l);M.modifiersData[W]=t}},
Dc={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var M=t.state;M.modifiersData[t.name]=ja({reference:M.rects.reference,element:M.rects.popper,strategy:"absolute",placement:M.placement})},data:{}},zc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var M=t.state,W=t.options;t=t.name;var na=W.mainAxis,l=void 0===na||na;na=W.altAxis;var x=void 0!==na&&na;na=W.tether;var F=void 0===na||na;na=W.tetherOffset;var L=void 0===na?0:na,S=ua(M,{boundary:W.boundary,rootBoundary:W.rootBoundary,
padding:W.padding,altBoundary:W.altBoundary}),V=c(M.placement),X=O(M.placement),ma=!X,ca=y(V);W="x"===ca?"y":"x";na=M.modifiersData.popperOffsets;var da=M.rects.reference,Fa=M.rects.popper;L="function"==typeof L?L(Object.assign({},M.rects,{placement:M.placement})):L;var Ma="number"==typeof L?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),Sa=M.modifiersData.offset?M.modifiersData.offset[M.placement]:null;L={x:0,y:0};if(na){if(l){var gb,hb="y"===ca?"top":"left",Bb="y"===ca?"bottom":
"right",Cb="y"===ca?"height":"width";l=na[ca];var $b=l+S[hb],yb=l-S[Bb],Kb=F?-Fa[Cb]/2:0,Ub="start"===X?da[Cb]:Fa[Cb];X="start"===X?-Fa[Cb]:-da[Cb];var xb=M.elements.arrow;xb=F&&xb?n(xb):{width:0,height:0};var Wb=M.modifiersData["arrow#persistent"]?M.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0};hb=Wb[hb];Bb=Wb[Bb];xb=pb(0,Vb(da[Cb],xb[Cb]));Ub=ma?da[Cb]/2-Kb-xb-hb-Ma.mainAxis:Ub-xb-hb-Ma.mainAxis;ma=ma?-da[Cb]/2+Kb+xb+Bb+Ma.mainAxis:X+xb+Bb+Ma.mainAxis;Cb=(Cb=M.elements.arrow&&
N(M.elements.arrow))?"y"===ca?Cb.clientTop||0:Cb.clientLeft||0:0;Kb=null!=(gb=null==Sa?void 0:Sa[ca])?gb:0;gb=l+ma-Kb;$b=F?Vb($b,l+Ub-Kb-Cb):$b;gb=F?pb(yb,gb):yb;gb=pb($b,Vb(l,gb));na[ca]=gb;L[ca]=gb-l}if(x){var Zb;x=na[W];l="y"===W?"height":"width";gb=x+S["x"===ca?"top":"left"];S=x-S["x"===ca?"bottom":"right"];V=-1!==["top","left"].indexOf(V);ca=null!=(Zb=null==Sa?void 0:Sa[W])?Zb:0;Zb=V?gb:x-da[l]-Fa[l]-ca+Ma.altAxis;da=V?x+da[l]+Fa[l]-ca-Ma.altAxis:S;F&&V?(Zb=pb(Zb,Vb(x,da)),Zb=Zb>da?da:Zb):Zb=
pb(F?Zb:gb,Vb(x,F?da:S));na[W]=Zb;L[W]=Zb-x}M.modifiersData[t]=L}},requiresIfExists:["offset"]};var Cc={placement:"bottom",modifiers:[],strategy:"absolute"},aa=sa(),Aa=sa({defaultModifiers:[gc,Dc,kc,Rb]}),Na=sa({defaultModifiers:[gc,Dc,kc,Rb,yc,xc,zc,ac,Mc]});const ab=Object.freeze(Object.defineProperty({__proto__:null,afterMain:"afterMain",afterRead:"afterRead",afterWrite:"afterWrite",applyStyles:Rb,arrow:ac,auto:"auto",basePlacements:Fb,beforeMain:"beforeMain",beforeRead:"beforeRead",beforeWrite:"beforeWrite",
bottom:"bottom",clippingParents:"clippingParents",computeStyles:kc,createPopper:Na,createPopperBase:aa,createPopperLite:Aa,detectOverflow:ua,end:"end",eventListeners:gc,flip:xc,hide:Mc,left:"left",main:"main",modifierPhases:Tb,offset:yc,placements:Ob,popper:"popper",popperGenerator:sa,popperOffsets:Dc,preventOverflow:zc,read:"read",reference:"reference",right:"right",start:"start",top:"top",variationPlacements:Sb,viewport:"viewport",write:"write"},Symbol.toStringTag,{value:"Module"})),mb="rtl"===
document.documentElement.dir?"top-end":"top-start",U="rtl"===document.documentElement.dir?"top-start":"top-end",ia="rtl"===document.documentElement.dir?"bottom-end":"bottom-start",Ba="rtl"===document.documentElement.dir?"bottom-start":"bottom-end",ba="rtl"===document.documentElement.dir?"left-start":"right-start",va="rtl"===document.documentElement.dir?"right-start":"left-start",Ha={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Wa={autoClose:"(boolean|string)",
boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ja extends ub{constructor(t,M){super(t,M);this._popper=null;this._parent=this._element.parentNode;this._menu=kb.next(this._element,".dropdown-menu")[0]||kb.prev(this._element,".dropdown-menu")[0]||kb.findOne(".dropdown-menu",this._parent);this._inNavbar=this._detectNavbar()}static get Default(){return Ha}static get DefaultType(){return Wa}static get NAME(){return"dropdown"}toggle(){return this._isShown()?
this.hide():this.show()}show(){if(!Da(this._element)&&!this._isShown()){var t={relatedTarget:this._element};if(!Ia.trigger(this._element,"show.bs.dropdown",t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const M of[].concat(...document.body.children))Ia.on(M,"mouseover",db);this._element.focus();this._element.setAttribute("aria-expanded",!0);this._menu.classList.add("show");this._element.classList.add("show");Ia.trigger(this._element,
"shown.bs.dropdown",t)}}}hide(){!Da(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy();super.dispose()}update(){this._inNavbar=this._detectNavbar();this._popper&&this._popper.update()}_completeHide(t){if(!Ia.trigger(this._element,"hide.bs.dropdown",t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const M of[].concat(...document.body.children))Ia.off(M,"mouseover",db);this._popper&&this._popper.destroy();
this._menu.classList.remove("show");this._element.classList.remove("show");this._element.setAttribute("aria-expanded","false");sb.removeDataAttribute(this._menu,"popper");Ia.trigger(this._element,"hidden.bs.dropdown",t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Ib(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError('DROPDOWN: Option "reference" provided type "object" without a required "getBoundingClientRect" method.');return t}_createPopper(){if(void 0===
ab)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Ib(this._config.reference)?t=ra(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const M=this._getPopperConfig();this._popper=Na(t,this._menu,M)}_isShown(){return this._menu.classList.contains("show")}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return ba;if(t.classList.contains("dropstart"))return va;
if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const M="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?M?U:mb:M?Ba:ia}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const {offset:t}=this._config;return"string"==typeof t?t.split(",").map(M=>Number.parseInt(M,10)):"function"==typeof t?M=>t(M,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),
modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(sb.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...ta(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:M}){const W=kb.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(na=>za(na));W.length&&Ca(W,M,"ArrowDown"===
t,!W.includes(M)).focus()}static jQueryInterface(t){return this.each(function(){const M=Ja.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===M[t])throw new TypeError(`No method named "${t}"`);M[t]()}})}static clearMenus(t){if(2!==t.button&&("keyup"!==t.type||"Tab"===t.key)){var M=kb.find('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled).show');for(const na of M){M=Ja.getInstance(na);if(!M||!1===M._config.autoClose)continue;var W=t.composedPath();const l=W.includes(M._menu);W.includes(M._element)||
"inside"===M._config.autoClose&&!l||"outside"===M._config.autoClose&&l||M._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName))||(W={relatedTarget:M._element},"click"===t.type&&(W.clickEvent=t),M._completeHide(W))}}}static dataApiKeydownHandler(t){var M=/input|textarea/i.test(t.target.tagName),W="Escape"===t.key;const na=["ArrowUp","ArrowDown"].includes(t.key);if(na||W)if(!M||W){t.preventDefault();M=this.matches('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')?
this:kb.prev(this,'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')[0]||kb.next(this,'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')[0]||kb.findOne('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',t.delegateTarget.parentNode);W=Ja.getOrCreateInstance(M);if(na)return t.stopPropagation(),W.show(),void W._selectMenuItem(t);W._isShown()&&(t.stopPropagation(),W.hide(),M.focus())}}}Ia.on(document,"keydown.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',
Ja.dataApiKeydownHandler);Ia.on(document,"keydown.bs.dropdown.data-api",".dropdown-menu",Ja.dataApiKeydownHandler);Ia.on(document,"click.bs.dropdown.data-api",Ja.clearMenus);Ia.on(document,"keyup.bs.dropdown.data-api",Ja.clearMenus);Ia.on(document,"click.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',function(t){t.preventDefault();Ja.getOrCreateInstance(this).toggle()});Oa(Ja);const $a={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},
bb={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class jb extends ic{constructor(t){super();this._config=this._getConfig(t);this._isAppended=!1;this._element=null}static get Default(){return $a}static get DefaultType(){return bb}static get NAME(){return"backdrop"}show(t){if(!this._config.isVisible)return void ta(t);this._append();const M=this._getElement();this._config.isAnimated&&M.offsetHeight;M.classList.add("show");
this._emulateAnimation(()=>{ta(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose();ta(t)})):ta(t)}dispose(){this._isAppended&&(Ia.off(this._element,"mousedown.bs.backdrop"),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className;this._config.isAnimated&&t.classList.add("fade");this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=
ra(t.rootElement),t}_append(){if(!this._isAppended){var t=this._getElement();this._config.rootElement.append(t);Ia.on(t,"mousedown.bs.backdrop",()=>{ta(this._config.clickCallback)});this._isAppended=!0}}_emulateAnimation(t){pa(t,this._getElement(),this._config.isAnimated)}}const Lb={autofocus:!0,trapElement:null},Db={autofocus:"boolean",trapElement:"element"};class Nb extends ic{constructor(t){super();this._config=this._getConfig(t);this._isActive=!1;this._lastTabNavDirection=null}static get Default(){return Lb}static get DefaultType(){return Db}static get NAME(){return"focustrap"}activate(){this._isActive||
(this._config.autofocus&&this._config.trapElement.focus(),Ia.off(document,".bs.focustrap"),Ia.on(document,"focusin.bs.focustrap",t=>this._handleFocusin(t)),Ia.on(document,"keydown.tab.bs.focustrap",t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ia.off(document,".bs.focustrap"))}_handleFocusin(t){const {trapElement:M}=this._config;t.target===document||t.target===M||M.contains(t.target)||(t=kb.focusableChildren(M),0===t.length?M.focus():"backward"===this._lastTabNavDirection?
t[t.length-1].focus():t[0].focus())}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?"backward":"forward")}}class oc{constructor(){this._element=document.body}getWidth(){return Math.abs(window.innerWidth-document.documentElement.clientWidth)}hide(){const t=this.getWidth();this._disableOverFlow();this._setElementAttributes(this._element,"padding-right",M=>M+t);this._setElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","padding-right",M=>M+t);this._setElementAttributes(".sticky-top",
"margin-right",M=>M-t)}reset(){this._resetElementAttributes(this._element,"overflow");this._resetElementAttributes(this._element,"padding-right");this._resetElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","padding-right");this._resetElementAttributes(".sticky-top","margin-right")}isOverflowing(){return 0<this.getWidth()}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow");this._element.style.overflow="hidden"}_setElementAttributes(t,M,W){const na=this.getWidth();
this._applyManipulationCallback(t,l=>{if(!(l!==this._element&&window.innerWidth>l.clientWidth+na)){this._saveInitialAttribute(l,M);var x=window.getComputedStyle(l).getPropertyValue(M);l.style.setProperty(M,`${W(Number.parseFloat(x))}px`)}})}_saveInitialAttribute(t,M){const W=t.style.getPropertyValue(M);W&&sb.setDataAttribute(t,M,W)}_resetElementAttributes(t,M){this._applyManipulationCallback(t,W=>{const na=sb.getDataAttribute(W,M);null!==na?(sb.removeDataAttribute(W,M),W.style.setProperty(M,na)):
W.style.removeProperty(M)})}_applyManipulationCallback(t,M){if(Ib(t))M(t);else for(const W of kb.find(t,this._element))M(W)}}const dd={backdrop:!0,focus:!0,keyboard:!0},ed={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ac extends ub{constructor(t,M){super(t,M);this._dialog=kb.findOne(".modal-dialog",this._element);this._backdrop=this._initializeBackDrop();this._focustrap=this._initializeFocusTrap();this._isTransitioning=this._isShown=!1;this._scrollBar=new oc;this._addEventListeners()}static get Default(){return dd}static get DefaultType(){return ed}static get NAME(){return"modal"}toggle(t){return this._isShown?
this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Ia.trigger(this._element,"show.bs.modal",{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add("modal-open"),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){this._isShown&&!this._isTransitioning&&(Ia.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),
this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Ia.off(window,".bs.modal");Ia.off(this._dialog,".bs.modal");this._backdrop.dispose();this._focustrap.deactivate();super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new jb({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Nb({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||
document.body.append(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.setAttribute("aria-modal",!0);this._element.setAttribute("role","dialog");this._element.scrollTop=0;const M=kb.findOne(".modal-body",this._dialog);M&&(M.scrollTop=0);this._element.offsetHeight;this._element.classList.add("show");this._queueCallback(()=>{this._config.focus&&this._focustrap.activate();this._isTransitioning=!1;Ia.trigger(this._element,"shown.bs.modal",{relatedTarget:t})},
this._dialog,this._isAnimated())}_addEventListeners(){Ia.on(this._element,"keydown.dismiss.bs.modal",t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())});Ia.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()});Ia.on(this._element,"mousedown.dismiss.bs.modal",t=>{Ia.one(this._element,"click.dismiss.bs.modal",M=>{this._element===t.target&&this._element===M.target&&("static"!==this._config.backdrop?this._config.backdrop&&
this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");this._isTransitioning=!1;this._backdrop.hide(()=>{document.body.classList.remove("modal-open");this._resetAdjustments();this._scrollBar.reset();Ia.trigger(this._element,"hidden.bs.modal")})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(!Ia.trigger(this._element,
"hidePrevented.bs.modal").defaultPrevented){var t=this._element.scrollHeight>document.documentElement.clientHeight,M=this._element.style.overflowY;"hidden"===M||this._element.classList.contains("modal-static")||(t||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static"),this._queueCallback(()=>{this._element.classList.remove("modal-static");this._queueCallback(()=>{this._element.style.overflowY=M},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){const t=
this._element.scrollHeight>document.documentElement.clientHeight,M=this._scrollBar.getWidth(),W=0<M;W&&!t&&(this._element.style["rtl"===document.documentElement.dir?"paddingLeft":"paddingRight"]=`${M}px`);!W&&t&&(this._element.style["rtl"===document.documentElement.dir?"paddingRight":"paddingLeft"]=`${M}px`)}_resetAdjustments(){this._element.style.paddingLeft="";this._element.style.paddingRight=""}static jQueryInterface(t,M){return this.each(function(){const W=Ac.getOrCreateInstance(this,t);if("string"==
typeof t){if(void 0===W[t])throw new TypeError(`No method named "${t}"`);W[t](M)}})}}Ia.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(t){const M=kb.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault();Ia.one(M,"show.bs.modal",W=>{W.defaultPrevented||Ia.one(M,"hidden.bs.modal",()=>{za(this)&&this.focus()})});(t=kb.findOne(".modal.show"))&&Ac.getInstance(t).hide();Ac.getOrCreateInstance(M).toggle(this)});qc(Ac);Oa(Ac);const fd={backdrop:!0,
keyboard:!0,scroll:!1},gd={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Gc extends ub{constructor(t,M){super(t,M);this._isShown=!1;this._backdrop=this._initializeBackDrop();this._focustrap=this._initializeFocusTrap();this._addEventListeners()}static get Default(){return fd}static get DefaultType(){return gd}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||Ia.trigger(this._element,"show.bs.offcanvas",{relatedTarget:t}).defaultPrevented||
(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new oc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("showing"),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate();this._element.classList.add("show");this._element.classList.remove("showing");Ia.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&(Ia.trigger(this._element,
"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding");this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");this._config.scroll||(new oc).reset();Ia.trigger(this._element,"hidden.bs.offcanvas")},this._element,!0)))}dispose(){this._backdrop.dispose();this._focustrap.deactivate();super.dispose()}_initializeBackDrop(){const t=
!!this._config.backdrop;return new jb({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():Ia.trigger(this._element,"hidePrevented.bs.offcanvas")}:null})}_initializeFocusTrap(){return new Nb({trapElement:this._element})}_addEventListeners(){Ia.on(this._element,"keydown.dismiss.bs.offcanvas",t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():Ia.trigger(this._element,"hidePrevented.bs.offcanvas"))})}static jQueryInterface(t){return this.each(function(){const M=
Gc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);M[t](this)}})}}Ia.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(t){const M=kb.getElementFromSelector(this);(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Da(this))||(Ia.one(M,"hidden.bs.offcanvas",()=>{za(this)&&this.focus()}),(t=kb.findOne(".offcanvas.show"))&&t!==M&&Gc.getInstance(t).hide(),Gc.getOrCreateInstance(M).toggle(this))});
Ia.on(window,"load.bs.offcanvas.data-api",()=>{for(const t of kb.find(".offcanvas.show"))Gc.getOrCreateInstance(t).show()});Ia.on(window,"resize.bs.offcanvas",()=>{for(const t of kb.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&Gc.getOrCreateInstance(t).hide()});qc(Gc);Oa(Gc);const Vc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],
h5:[],h6:[],i:[],img:"src srcset alt title width height".split(" "),li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Oc=new Set("background cite href itemtype longdesc poster src xlink:href".split(" ")),Wc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Sc=(t,M)=>{const W=t.nodeName.toLowerCase();return M.includes(W)?!Oc.has(W)||!!Wc.test(t.nodeValue):M.filter(na=>na instanceof RegExp).some(na=>na.test(W))},Xc={allowList:Vc,content:{},extraClass:"",html:!1,
sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},hd={entry:"(string|element|function|null)",selector:"(string|element)"};class Zc extends ic{constructor(t){super();this._config=this._getConfig(t)}static get Default(){return Xc}static get DefaultType(){return Yc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>
this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return 0<this.getContent().length}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){var t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const [W,na]of Object.entries(this._config.content))this._setContent(t,na,W);t=t.children[0];const M=this._resolvePossibleFunction(this._config.extraClass);return M&&t.classList.add(...M.split(" ")),
t}_typeCheckConfig(t){super._typeCheckConfig(t);this._checkContent(t.content)}_checkContent(t){for(const [M,W]of Object.entries(t))super._typeCheckConfig({selector:M,entry:W},hd)}_setContent(t,M,W){(t=kb.findOne(W,t))&&((M=this._resolvePossibleFunction(M))?Ib(M)?this._putElementInTemplate(ra(M),t):this._config.html?t.innerHTML=this._maybeSanitize(M):t.textContent=M:t.remove())}_maybeSanitize(t){if(this._config.sanitize){var M=this._config.allowList;var W=this._config.sanitizeFn;if(t.length)if(W&&
"function"==typeof W)M=W(t);else{t=(new window.DOMParser).parseFromString(t,"text/html");W=[].concat(...t.body.querySelectorAll("*"));for(const l of W){var na=l.nodeName.toLowerCase();if(Object.keys(M).includes(na)){W=[].concat(...l.attributes);na=[].concat(M["*"]||[],M[na]||[]);for(const x of W)Sc(x,na)||l.removeAttribute(x.nodeName)}else l.remove()}M=t.body.innerHTML}else M=t}else M=t;return M}_resolvePossibleFunction(t){return ta(t,[this])}_putElementInTemplate(t,M){if(this._config.html)return M.innerHTML=
"",void M.append(t);M.textContent=t.textContent}}const id=new Set(["sanitize","allowList","sanitizeFn"]),jd={AUTO:"auto",TOP:"top",RIGHT:"rtl"===document.documentElement.dir?"left":"right",BOTTOM:"bottom",LEFT:"rtl"===document.documentElement.dir?"right":"left"},kd={allowList:Vc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,
template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ld={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",
selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Nc extends ub{constructor(t,M){if(void 0===ab)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,M);this._isEnabled=!0;this._timeout=0;this._isHovered=null;this._activeTrigger={};this.tip=this._newContent=this._templateFactory=this._popper=null;this._setListeners();this._config.selector||this._fixTitle()}static get Default(){return kd}static get DefaultType(){return ld}static get NAME(){return"tooltip"}enable(){this._isEnabled=
!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout);Ia.off(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler);this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title"));this._disposePopper();super.dispose()}show(){if("none"===
this._element.style.display)throw Error("Please use show on visible elements");if(this._isWithContent()&&this._isEnabled){var t=Ia.trigger(this._element,this.constructor.eventName("show")),M=(Ga(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(!t.defaultPrevented&&M){this._disposePopper();t=this._getTipElement();this._element.setAttribute("aria-describedby",t.getAttribute("id"));({container:M}=this._config);if(this._element.ownerDocument.documentElement.contains(this.tip)||
(M.append(t),Ia.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(t),t.classList.add("show"),"ontouchstart"in document.documentElement)for(const W of[].concat(...document.body.children))Ia.on(W,"mouseover",db);this._queueCallback(()=>{Ia.trigger(this._element,this.constructor.eventName("shown"));!1===this._isHovered&&this._leave();this._isHovered=!1},this.tip,this._isAnimated())}}}hide(){if(this._isShown()&&!Ia.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove("show"),
"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))Ia.off(t,"mouseover",db);this._activeTrigger.click=!1;this._activeTrigger.focus=!1;this._activeTrigger.hover=!1;this._isHovered=null;this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ia.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||
(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){t=this._getTemplateFactory(t).toHtml();if(!t)return null;t.classList.remove("fade","show");t.classList.add(`bs-${this.constructor.NAME}-auto`);var M=this.constructor.NAME;do M+=Math.floor(1E6*Math.random());while(document.getElementById(M));return t.setAttribute("id",M.toString()),this._isAnimated()&&t.classList.add("fade"),t}setContent(t){this._newContent=t;this._isShown()&&(this._disposePopper(),
this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Zc({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,
this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains("fade")}_isShown(){return this.tip&&this.tip.classList.contains("show")}_createPopper(t){var M=ta(this._config.placement,[this,t,this._element]);M=jd[M.toUpperCase()];return Na(this._element,t,this._getPopperConfig(M))}_getOffset(){const {offset:t}=this._config;return"string"==typeof t?t.split(",").map(M=>Number.parseInt(M,10)):"function"==typeof t?M=>t(M,this._element):t}_resolvePossibleFunction(t){return ta(t,
[this._element])}_getPopperConfig(t){t={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:M=>{this._getTipElement().setAttribute("data-popper-placement",M.state.placement)}}]};return{...t,...ta(this._config.popperConfig,
[t])}}_setListeners(){var t=this._config.trigger.split(" ");for(const M of t)if("click"===M)Ia.on(this._element,this.constructor.eventName("click"),this._config.selector,W=>{this._initializeOnDelegatedTarget(W).toggle()});else if("manual"!==M){t="hover"===M?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin");const W="hover"===M?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Ia.on(this._element,t,this._config.selector,na=>{const l=this._initializeOnDelegatedTarget(na);
l._activeTrigger["focusin"===na.type?"focus":"hover"]=!0;l._enter()});Ia.on(this._element,W,this._config.selector,na=>{const l=this._initializeOnDelegatedTarget(na);l._activeTrigger["focusout"===na.type?"focus":"hover"]=l._element.contains(na.relatedTarget);l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()};Ia.on(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||
this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,M){clearTimeout(this._timeout);
this._timeout=setTimeout(t,M)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const M=sb.getDataAttributes(this._element);for(const W of Object.keys(M))id.has(W)&&delete M[W];return t={...M,...("object"==typeof t&&t?t:{})},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:ra(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==
typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const [M,W]of Object.entries(this._config))this.constructor.Default[M]!==W&&(t[M]=W);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null);this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const M=Nc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===
M[t])throw new TypeError(`No method named "${t}"`);M[t]()}})}}Oa(Nc);const md={...Nc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},nd={...Nc.DefaultType,content:"(null|string|element|function)"};class Tc extends Nc{static get Default(){return md}static get DefaultType(){return nd}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||
this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const M=Tc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===M[t])throw new TypeError(`No method named "${t}"`);M[t]()}})}}Oa(Tc);const $c={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Uc={offset:"(number|null)",
rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Pc extends ub{constructor(t,M){super(t,M);this._targetLinks=new Map;this._observableSections=new Map;this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element;this._observer=this._activeTarget=null;this._previousScrollData={visibleEntryTop:0,parentScrollTop:0};this.refresh()}static get Default(){return $c}static get DefaultType(){return Uc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables();
this._maybeEnableSmoothScroll();this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect();super.dispose()}_configAfterMerge(t){return t.target=ra(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(M=>Number.parseFloat(M))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&
(Ia.off(this._config.target,"click.bs.scrollspy"),Ia.on(this._config.target,"click.bs.scrollspy","[href]",t=>{var M=this._observableSections.get(t.target.hash);if(M){t.preventDefault();t=this._rootElement||window;M=M.offsetTop-this._element.offsetTop;if(t.scrollTo)return void t.scrollTo({top:M,behavior:"smooth"});t.scrollTop=M}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const M=
x=>this._targetLinks.get(`#${x.target.id}`),W=x=>{this._previousScrollData.visibleEntryTop=x.target.offsetTop;this._process(M(x))},na=(this._rootElement||document.documentElement).scrollTop,l=na>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=na;for(const x of t)if(x.isIntersecting)if(t=x.target.offsetTop>=this._previousScrollData.visibleEntryTop,l&&t){if(W(x),!na)break}else l||t||W(x);else this._activeTarget=null,this._clearActiveClass(M(x))}_initializeTargetsAndObservables(){this._targetLinks=
new Map;this._observableSections=new Map;var t=kb.find("[href]",this._config.target);for(const M of t)M.hash&&!Da(M)&&(t=kb.findOne(decodeURI(M.hash),this._element),za(t)&&(this._targetLinks.set(decodeURI(M.hash),M),this._observableSections.set(M.hash,t)))}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add("active"),this._activateParents(t),Ia.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))kb.findOne(".dropdown-toggle",
t.closest(".dropdown")).classList.add("active");else for(const M of kb.parents(t,".nav, .list-group"))for(const W of kb.prev(M,".nav-link, .nav-item > .nav-link, .list-group-item"))W.classList.add("active")}_clearActiveClass(t){t.classList.remove("active");t=kb.find("[href].active",t);for(const M of t)M.classList.remove("active")}static jQueryInterface(t){return this.each(function(){const M=Pc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===
t)throw new TypeError(`No method named "${t}"`);M[t]()}})}}Ia.on(window,"load.bs.scrollspy.data-api",()=>{for(const t of kb.find('[data-bs-spy="scroll"]'))Pc.getOrCreateInstance(t)});Oa(Pc);class Hc extends ub{constructor(t){super(t);(this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'))&&(this._setInitialAttributes(this._parent,this._getChildren()),Ia.on(this._element,"keydown.bs.tab",M=>this._keydown(M)))}static get NAME(){return"tab"}show(){const t=this._element;if(!this._elemIsActive(t)){var M=
this._getActiveElem(),W=M?Ia.trigger(M,"hide.bs.tab",{relatedTarget:t}):null;Ia.trigger(t,"show.bs.tab",{relatedTarget:M}).defaultPrevented||W&&W.defaultPrevented||(this._deactivate(M,t),this._activate(t,M))}}_activate(t,M){t&&(t.classList.add("active"),this._activate(kb.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Ia.trigger(t,"shown.bs.tab",{relatedTarget:M})):t.classList.add("show")},
t,t.classList.contains("fade")))}_deactivate(t,M){t&&(t.classList.remove("active"),t.blur(),this._deactivate(kb.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Ia.trigger(t,"hidden.bs.tab",{relatedTarget:M})):t.classList.remove("show")},t,t.classList.contains("fade")))}_keydown(t){if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(t.key)){t.stopPropagation();
t.preventDefault();var M=["ArrowRight","ArrowDown"].includes(t.key);(t=Ca(this._getChildren().filter(W=>!Da(W)),t.target,M,!0))&&(t.focus({preventScroll:!0}),Hc.getOrCreateInstance(t).show())}}_getChildren(){return kb.find('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,
M){this._setAttributeIfNotExists(t,"role","tablist");for(const W of M)this._setInitialAttributesOnChild(W)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const M=this._elemIsActive(t),W=this._getOuterElement(t);t.setAttribute("aria-selected",M);W!==t&&this._setAttributeIfNotExists(W,"role","presentation");M||t.setAttribute("tabindex","-1");this._setAttributeIfNotExists(t,"role","tab");this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const M=kb.getElementFromSelector(t);
M&&(this._setAttributeIfNotExists(M,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(M,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,M){t=this._getOuterElement(t);if(t.classList.contains("dropdown")){var W=kb.findOne(".dropdown-toggle",t);W&&W.classList.toggle("active",M);(W=kb.findOne(".dropdown-menu",t))&&W.classList.toggle("show",M);t.setAttribute("aria-expanded",M)}}_setAttributeIfNotExists(t,M,W){t.hasAttribute(M)||t.setAttribute(M,W)}_elemIsActive(t){return t.classList.contains("active")}_getInnerElement(t){return t.matches('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]')?
t:kb.findOne('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const M=Hc.getOrCreateInstance(this);if("string"==typeof t){if(void 0===M[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);M[t]()}})}}Ia.on(document,
"click.bs.tab",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault();Da(this)||Hc.getOrCreateInstance(this).show()});Ia.on(window,"load.bs.tab",()=>{for(const t of kb.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Hc.getOrCreateInstance(t)});Oa(Hc);const od={animation:"boolean",autohide:"boolean",delay:"number"},Qc={animation:!0,autohide:!0,delay:5E3};class Rc extends ub{constructor(t,
M){super(t,M);this._timeout=null;this._hasKeyboardInteraction=this._hasMouseInteraction=!1;this._setListeners()}static get Default(){return Qc}static get DefaultType(){return od}static get NAME(){return"toast"}show(){Ia.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.offsetHeight,this._element.classList.add("show","showing"),this._queueCallback(()=>{this._element.classList.remove("showing");
Ia.trigger(this._element,"shown.bs.toast");this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Ia.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add("showing"),this._queueCallback(()=>{this._element.classList.add("hide");this._element.classList.remove("showing","show");Ia.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout();this.isShown()&&this._element.classList.remove("show");
super.dispose()}isShown(){return this._element.classList.contains("show")}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,M){switch(t.type){case "mouseover":case "mouseout":this._hasMouseInteraction=M;break;case "focusin":case "focusout":this._hasKeyboardInteraction=M}if(M)return void this._clearTimeout();t=t.relatedTarget;this._element===t||this._element.contains(t)||
this._maybeScheduleHide()}_setListeners(){Ia.on(this._element,"mouseover.bs.toast",t=>this._onInteraction(t,!0));Ia.on(this._element,"mouseout.bs.toast",t=>this._onInteraction(t,!1));Ia.on(this._element,"focusin.bs.toast",t=>this._onInteraction(t,!0));Ia.on(this._element,"focusout.bs.toast",t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout);this._timeout=null}static jQueryInterface(t){return this.each(function(){const M=Rc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===
M[t])throw new TypeError(`No method named "${t}"`);M[t](this)}})}}return qc(Rc),Oa(Rc),{Alert:jc,Button:Qb,Carousel:Mb,Collapse:wc,Dropdown:Ja,Modal:Ac,Offcanvas:Gc,Popover:Tc,ScrollSpy:Pc,Tab:Hc,Toast:Rc,Tooltip:Nc}});
(function(g){"object"===typeof exports&&"undefined"!==typeof module?module.exports=g():"function"===typeof define&&define.amd?define([],g):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).ChickenPaint=g()})(function(){return function(){function g(K,D,z){function k(b,d){if(!D[b]){if(!K[b]){var w="function"==typeof require&&require;if(!d&&w)return w(b,!0);if(v)return v(b,!0);d=Error("Cannot find module '"+b+"'");throw d.code="MODULE_NOT_FOUND",
d;}d=D[b]={exports:{}};K[b][0].call(d.exports,function(a){return k(K[b][1][a]||a)},d,d.exports,g,K,D,z)}return D[b].exports}for(var v="function"==typeof require&&require,E=0;E<z.length;E++)k(z[E]);return k}return g}()({1:[function(g,K,D){function z(O){return O&&O.__esModule?O:{default:O}}function k(O){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==
Symbol.prototype?"symbol":typeof J},k(O)}function v(){if(!((0,C.isCanvasSupported)()&&"Uint8Array"in window))throw new b.UnsupportedBrowserException;var O=(-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("iPod")||-1!=navigator.userAgent.indexOf("iPhone"))&&-1!=navigator.userAgent.indexOf(" OS 8_0 "),J=-1==navigator.userAgent.indexOf("CriOS")&&-1!=navigator.userAgent.indexOf("Safari");if(O&&J)throw new b.UnsupportedBrowserException("You are using Safari 8.0.0, which is unable to upload drawings. That bug was fixed in the iOS 8.0.2 update, or in Chrome for iOS.");
return!0}function E(){var O=Array(b.T_MAX);O[b.T_PENCIL]=new w.default({toolNb:b.T_PENCIL,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_OPACITY});O[b.T_ERASER]=new w.default({toolNb:b.T_ERASER,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!1,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_ERASE,paintMode:w.default.PAINT_MODE_OPACITY});
O[b.T_PEN]=new w.default({toolNb:b.T_PEN,size:2,alpha:128,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!0,pressureAlpha:!1,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.5});O[b.T_SOFTERASER]=new w.default({toolNb:b.T_SOFTERASER,size:16,alpha:64,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_ERASE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});
O[b.T_AIRBRUSH]=new w.default({toolNb:b.T_AIRBRUSH,size:50,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});O[b.T_DODGE]=new w.default({toolNb:b.T_DODGE,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_DODGE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});
O[b.T_BURN]=new w.default({toolNb:b.T_BURN,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_BURN,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});O[b.T_WATER]=new w.default({toolNb:b.T_WATER,size:30,alpha:70,isAA:!1,minSpacing:.5,spacing:.02,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_WATER,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,resat:.3,
bleed:.6});O[b.T_BLUR]=new w.default({toolNb:b.T_BLUR,size:20,alpha:255,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_PIXEL,brushMode:w.default.BRUSH_MODE_BLUR,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});O[b.T_SMUDGE]=new w.default({toolNb:b.T_SMUDGE,size:20,alpha:128,isAA:!1,minSpacing:.5,spacing:.01,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_SMUDGE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,
resat:0,bleed:1});O[b.T_BLENDER]=new w.default({toolNb:b.T_BLENDER,size:20,alpha:60,isAA:!1,minSpacing:.5,spacing:.1,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_OIL,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,resat:0,bleed:.07});return O}function b(O){function J(ta){this.palName=ta}function R(ta){this.toolNum=ta}function ea(ta){this.modeNum=ta}function Y(ta){sa=ta==a.default.EDITING_MODE_IMAGE?b.COLOR_MODE_RGB:b.COLOR_MODE_GREYSCALE;ha.emitEvent("colorModeChange",
[ta==a.default.EDITING_MODE_IMAGE?"rgb":"greyscale"]);switch(sa){case b.COLOR_MODE_RGB:var pa=T.clone();break;case b.COLOR_MODE_GREYSCALE:pa=new B.default(B.default.greyToRGB(Z))}ha.artwork.setForegroundColor(pa.getRgb());ha.emitEvent("colorChange",[pa])}function qa(){ha.emitEvent("toolChange",[Ea,Da[Ea]])}function la(ta){Ra!=ta&&(ta==b.M_TRANSFORM&&(wb=Ra),Ra=ta,ha.emitEvent("modeChange",[Ra]))}function Q(ta){la(b.M_DRAW);Ea=ta;ha.artwork.setBrush(Da[ta]);qa()}function ka(){var ta=new q.default({artwork:ha.getArtwork(),
rotation:Ya.getRotation90(),swatches:Xa.getSwatches()});ta.on("savingComplete",function(){ha.artwork.setHasUnsavedChanges(!1)});ta.on("savingFailure",function(){alert((0,G._)("Sorry, your drawing could not be saved, please try again later."))});ta.save()}function oa(){if(ha.isActionSupported("CPContinue")||confirm((0,G._)("Are you sure you want to send your drawing to the server and finish drawing now?"))){var ta=new q.default({artwork:ha.getArtwork(),rotation:Ya.getRotation90(),swatches:Xa.getSwatches(),
url:O.saveUrl}),pa=new A.default(ha,La,ta);ta.on("savingComplete",function(){ha.artwork.setHasUnsavedChanges(!1);!ha.isActionSupported("CPContinue")&&ha.isActionSupported("CPPost")&&ha.actionPerformed({action:"CPPost"})});ta.on("savingFailure",function(){alert((0,G._)("Sorry, your drawing could not be saved, please try again later."))});pa.on("shown",function(){ta.save()});pa.show()}}function ya(){if((0,C.isEventSupported)("onbeforeunload"))window.addEventListener("beforeunload",function(ta){if(ha.artwork.getHasUnsavedChanges())return ta.returnValue=
"Your drawing has unsaved changes!"});else(0,d.default)("a").on("click",function(ta){if("#"!=this.getAttribute("href")&&ha.artwork.getHasUnsavedChanges())return confirm("Your drawing has unsaved changes! Are you sure to want to navigate away?")})}function ja(ta,pa){La&&(La.addEventListener("dblclick",function(Ca){Ca.preventDefault();Ca.stopPropagation()}),ha.artwork.on("editModeChanged",Y),Xa=new h.default(ha,La),ha.emitEvent("fullScreen",[za]),ha.emitEvent("smallScreen",[ra]),Ga.load(),Q(b.T_PEN),
Xa.arrangePalettes(),ta&&Xa.setSwatches(ta),pa&&Xa.setRotation90(pa),I.default.getRef().detectTablet(),ya(),ha.artwork.on("unsavedChanges",function(Ca){O.allowMultipleSends&&ha.emitEvent("unsavedChanges",[Ca])}))}var ua=this;(0,G.guessLanguage)();O.language&&(0,G.setLanguage)(O.language);var ha=this,La=O.uiElem,Ya,Xa,T=new B.default(0),Z=255,sa=b.COLOR_MODE_RGB,Ea=b.T_PENCIL,Ra=b.M_DRAW,wb=Ra,Ib=[4278190080,4294967295],ra=!1,za=!1,Da=E(),Ga=new H.default,db,tb,qb={CPFullScreen:{action:function(){ha.setFullScreen(!za)},
isSupported:function(){return!("disable"===O.fullScreenMode||"force"===O.fullScreenMode||!1===O.allowFullScreen)},modifies:{gui:!0}},CPZoomIn:{action:function(){Ya.zoomIn()},modifies:{gui:!0}},CPZoomOut:{action:function(){Ya.zoomOut()},modifies:{gui:!0}},CPZoom100:{action:function(){Ya.zoom100()},modifies:{gui:!0}},CPToolbarStyle:{action:function(){ha.setToolbarStyle("new"===Ga.toolbarStyle?"old":"new")},modifies:{gui:!0}},CPUndo:{action:function(){ha.artwork.undo()},modifies:{document:!0},allowed:"isUndoAllowed"},
CPRedo:{action:function(){ha.artwork.redo()},modifies:{document:!0},allowed:"isRedoAllowed"},CPClearHistory:{action:function(){confirm("You're about to clear the current Undo/Redo history.\nThis operation cannot be undone, are you sure you want to do that?")&&ha.artwork.clearHistory()},modifies:{document:!0}},CPPencil:new R(b.T_PENCIL),CPPen:new R(b.T_PEN),CPEraser:new R(b.T_ERASER),CPSoftEraser:new R(b.T_SOFTERASER),CPAirbrush:new R(b.T_AIRBRUSH),CPDodge:new R(b.T_DODGE),CPBurn:new R(b.T_BURN),CPWater:new R(b.T_WATER),
CPBlur:new R(b.T_BLUR),CPSmudge:new R(b.T_SMUDGE),CPBlender:new R(b.T_BLENDER),CPFloodFill:new ea(b.M_FLOODFILL),CPGradientFill:new ea(b.M_GRADIENTFILL),CPRectSelection:new ea(b.M_RECT_SELECTION),CPMoveTool:new ea(b.M_MOVE_TOOL),CPRotateCanvas:new ea(b.M_ROTATE_CANVAS),CPPanCanvas:new ea(b.M_PAN_CANVAS),CPColorPicker:new ea(b.M_COLOR_PICKER),CPTransform:{action:function(){var ta=ha.artwork.getActiveLayer();null==ha.artwork.transformAffineBegin()?ha.showLayerNotification(ta,(0,G._)("Whoops! All of the selected pixels are transparent!"),
"layer"):la(b.M_TRANSFORM)},modifies:{mode:!0},allowed:function(){var ta=ha.artwork.getActiveLayer();if(ta.visible)if(0==ta.alpha)ha.showLayerNotification(ta,(0,G._)("Whoops! This layer's opacity is currently 0%"),"opacity");else if(null==ha.artwork.transformAffineBegin())ha.showLayerNotification(ta,(0,G._)("Whoops! All of the selected pixels are transparent!"),"layer");else return 0!=ta.getEffectiveAlpha();else ha.showLayerNotification(ta,(0,G._)("Whoops! This layer is currently hidden"),"layer")}},
CPTransformAccept:{action:function(){Ra==b.M_TRANSFORM&&(ha.artwork.transformAffineFinish(),la(wb))},modifies:{mode:!0}},CPTransformReject:{action:function(){Ra==b.M_TRANSFORM&&(ha.artwork.transformAffineAbort(),la(wb))},modifies:{document:!0,mode:!0}},CPFreeHand:{action:function(){Da[Ea].strokeMode=w.default.STROKE_MODE_FREEHAND;qa()},modifies:{tool:!0}},CPLine:{action:function(){Da[Ea].strokeMode=w.default.STROKE_MODE_LINE;qa()},modifies:{tool:!0}},CPBezier:{action:function(){Da[Ea].strokeMode=
w.default.STROKE_MODE_BEZIER;qa()},modifies:{tool:!0}},CPAbout:{action:function(){(new c.default(La)).show()},modifies:{}},CPShortcuts:{action:function(){(new p.default(La)).show()},modifies:{}},CPTabletSupport:{action:function(){(new n.default(La)).show()},modifies:{}},CPLayerDuplicate:{action:function(){ha.artwork.duplicateLayer()},modifies:{document:!0}},CPLayerMergeDown:{action:function(){ha.artwork.mergeDown()},modifies:{document:!0},allowed:"isMergeDownAllowed"},CPGroupMerge:{action:function(){ha.artwork.mergeGroup()},
modifies:{document:!0},allowed:"isMergeGroupAllowed"},CPLayerMergeAll:{action:function(){ha.artwork.mergeAllLayers()},modifies:{document:!0},allowed:"isMergeAllLayersAllowed"},CPExpandLayerGroup:{action:function(ta){ha.artwork.expandLayerGroup(ta.group,ta.expand)},modifies:{document:!0}},CPFill:{action:function(){ha.artwork.fill(ha.getCurColor().getRgb()|4278190080)},modifies:{document:!0},requiresDrawable:!0},CPClear:{action:function(){ha.artwork.clear()},modifies:{document:!0},requiresDrawable:!0},
CPSelectAll:{action:function(){ha.artwork.rectangleSelection(ha.artwork.getBounds());Ya.repaintAll()},modifies:{document:!0}},CPDeselectAll:{action:function(){ha.artwork.rectangleSelection(new N.default(0,0,0,0));Ya.repaintAll()},modifies:{document:!0}},CPHFlip:{action:function(){ha.artwork.hFlip()},modifies:{document:!0},requiresDrawable:!0},CPVFlip:{action:function(){ha.artwork.vFlip()},modifies:{document:!0},requiresDrawable:!0},CPMNoise:{action:function(){ha.artwork.monochromaticNoise()},modifies:{document:!0},
requiresDrawable:!0},CPCNoise:{action:function(){ha.artwork.colorNoise()},modifies:{document:!0},allowed:"isColorNoiseAllowed"},CPFXBoxBlur:{action:function(){db||=new e.default(La,ha);db.show()},modifies:{document:!0},requiresDrawable:!0},CPFXInvert:{action:function(){ha.artwork.invert()},modifies:{document:!0},requiresDrawable:!0},CPCut:{action:function(){ha.artwork.cutSelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCutSelectionAllowed"},CPCopy:{action:function(){ha.artwork.copySelection()},
modifies:{document:!0},requiresDrawable:!0,allowed:"isCopySelectionAllowed"},CPCopyMerged:{action:function(){ha.artwork.copySelectionMerged()},modifies:{document:!0},allowed:"isCopySelectionMergedAllowed"},CPPaste:{action:function(){ha.artwork.pasteClipboard()},modifies:{document:!0},allowed:"isPasteClipboardAllowed"},CPToggleGrid:{action:function(ta){Ya.showGrid(ta.selected)},modifies:{gui:!0}},CPGridOptions:{action:function(){tb||=new u.default(La,Ya);tb.show()},modifies:{gui:!0}},CPLinearInterpolation:{action:function(ta){Ya.setInterpolation(ta.selected)},
modifies:{gui:!0},isSupported:function(){return(0,C.isCanvasInterpolationSupported)()}},CPResetCanvasRotation:{action:function(){Ya.resetRotation()},modifies:{gui:!0}},CPAddLayer:{action:function(){ha.artwork.addLayer("layer")},modifies:{document:!0}},CPAddGroup:{action:function(){ha.artwork.addLayer("group")},modifies:{document:!0}},CPAddLayerMask:{action:function(){ha.artwork.addLayerMask()},modifies:{document:!0},allowed:"isAddLayerMaskAllowed"},CPApplyLayerMask:{action:function(){ha.artwork.applyLayerMask(!0)},
modifies:{document:!0},allowed:"isApplyLayerMaskAllowed"},CPRemoveLayerMask:{action:function(){ha.artwork.removeLayerMask(!1)},modifies:{document:!0},allowed:"isRemoveLayerMaskAllowed"},CPRemoveLayer:{action:function(){ha.artwork.removeLayer()||alert((0,G._)("Sorry, you can't remove the last remaining layer in the drawing."))},modifies:{document:!0},allowed:"isRemoveLayerAllowed"},CPCreateClippingMask:{action:function(){ha.artwork.createClippingMask()},modifies:{document:!0},allowed:"isCreateClippingMaskAllowed"},
CPReleaseClippingMask:{action:function(){ha.artwork.releaseClippingMask()},modifies:{document:!0},allowed:"isReleaseClippingMaskAllowed"},CPRelocateLayer:{action:function(ta){ha.artwork.relocateLayer(ta.layer,ta.toGroup,ta.toIndex)},modifies:{document:!0}},CPSetActiveLayer:{action:function(ta){ta.mask&&ta.layer.mask&&!ta.layer.maskVisible&&ha.artwork.setLayerMaskVisible(ta.layer,!0);ha.artwork.setActiveLayer(ta.layer,ta.mask);ha.artwork.performIdleTasks()},modifies:{document:!0}},CPToggleMaskView:{action:function(){var ta=
ha.artwork.toggleMaskView();ta&&ha.emitEvent("maskViewOpened",[ta])},modifies:{gui:!0}},CPSetMaskVisible:{action:function(ta){ha.artwork.setLayerMaskVisible(ta.layer,ta.visible)},modifies:{layerProp:!0}},CPSetLayerVisibility:{action:function(ta){ha.artwork.setLayerVisibility(ta.layer,ta.visible)},modifies:{layerProp:!0}},CPSetLayerName:{action:function(ta){ha.artwork.setLayerName(ta.layer,ta.name)},modifies:{layerProp:!0}},CPSetLayerBlendMode:{action:function(ta){ha.artwork.setLayerBlendMode(ta.blendMode)},
modifies:{layerProp:!0}},CPSetLayerAlpha:{action:function(ta){ha.artwork.setLayerAlpha(ta.alpha)},modifies:{layerProp:!0}},CPSetLayerLockAlpha:{action:function(ta){ha.artwork.setLayerLockAlpha(ta.lock)},modifies:{layerProp:!0}},CPPalColor:new J("color"),CPPalBrush:new J("brush"),CPPalLayers:new J("layers"),CPPalStroke:new J("stroke"),CPPalSwatches:new J("swatches"),CPPalTool:new J("tool"),CPPalMisc:new J("misc"),CPPalTextures:new J("textures"),CPTogglePalettes:{action:function(){Xa.togglePalettes()},
modifies:{gui:!0}},CPArrangePalettes:{action:function(){Xa.arrangePalettes()},modifies:{gui:!0}},CPSave:{action:function(){ka()},isSupported:function(){return!1!==O.allowDownload},modifies:{document:!0}},CPSend:{action:function(){oa()},isSupported:function(){return!!O.saveUrl},modifies:{document:!0}},CPPost:{action:function(){window.location=O.postUrl},isSupported:function(){return!!O.postUrl},modifies:{document:!0}},CPContinue:{action:function(){},isSupported:function(){return!!O.allowMultipleSends}},
CPExit:{action:function(){window.location=O.exitUrl},isSupported:function(){return!!O.exitUrl},modifies:{}}};J.prototype.action=function(ta){Xa.showPalette(this.palName,ta.selected)};J.prototype.modifies={gui:!0};R.prototype.action=function(){Q(this.toolNum)};R.prototype.modifies={mode:!0,tool:!0};R.prototype.requiresDrawable=!0;ea.prototype.action=function(){la(this.modeNum)};ea.prototype.modifies={mode:!0};this.callToolListeners=function(){qa()};this.getArtwork=function(){return this.artwork};this.setCanvas=
function(ta){Ya=ta};this.setTransformInterpolation=function(ta){this.artwork.setTransformInterpolation(ta)};this.setCurColor=function(ta){switch(sa){case b.COLOR_MODE_RGB:T.isEqual(ta)||(T.copyFrom(ta),this.artwork.setForegroundColor(ta.getRgb()),this.emitEvent("colorChange",[ta]));break;case b.COLOR_MODE_GREYSCALE:if(ta=ta.getValue(),Z!=ta){var pa=B.default.greyToRGB(ta);this.artwork.setForegroundColor(pa);Z=ta;this.emitEvent("colorChange",[new B.default(pa)])}}};this.getCurColor=function(){switch(sa){case b.COLOR_MODE_RGB:return T.clone();
case b.COLOR_MODE_GREYSCALE:return new B.default(B.default.greyToRGB(Z))}};this.setCurGradient=function(ta){Ib=ta.slice(0);this.emitEvent("gradientChange",[Ib])};this.getCurGradient=function(){return Ib.slice(0)};this.setBrushSize=function(ta){Da[Ea].size=Math.max(1,Math.min(200,ta));qa()};this.getBrushSize=function(){return Da[Ea].size};this.setAlpha=function(ta){Da[Ea].alpha=ta;qa()};this.getAlpha=function(){return Da[Ea].alpha};this.getCurMode=function(){return Ra};this.getCurTool=function(){return Ea};
this.getBrushInfo=function(){return Da[Ea]};this.isActionSupported=function(ta){if(qb[ta]){var pa=k(qb[ta].isSupported);return"function"==pa?qb[ta].isSupported():"undefined"==pa?!0:qb[ta].isSupported}return!1};this.isActionAllowed=function(ta){return(ta=qb[ta])?"function"==typeof ta.allowed?ta.allowed():"string"==typeof ta.allowed?this.artwork[ta.allowed]():!ta.requiresDrawable||this.artwork.isActiveLayerDrawable():!1};this.showLayerNotification=function(ta,pa,Ca){this.emitEvent("layerNotification",
[ta,pa,Ca])};this.actionPerformed=function(ta){if(null!=this.artwork&&null!=Ya){var pa=qb[ta.action];pa&&(Ra==b.M_TRANSFORM&&(pa.modifies.document||pa.modifies.mode)&&-1==["CPTransformAccept","CPTransformReject"].indexOf(ta.action)?"CPUndo"==ta.action?qb.CPTransformReject.action():"CPTransform"!=ta.action&&(pa=new f.default(La,this),pa.on("accept",this.actionPerformed.bind(this,ta)),pa.on("reject",this.actionPerformed.bind(this,ta)),pa.show()):pa.action(ta))}};this.setSmallScreenMode=function(ta){ra!==
ta&&(ra=ta,(0,d.default)(La).toggleClass("chickenpaint-small-screen",ra),ha.emitEvent("smallScreen",[ra]))};this.getSmallScreenMode=function(){return ra};this.setFullScreen=function(ta){za!==ta&&(za=ta,(0,d.default)("body").toggleClass("chickenpaint-full-screen",za),(0,d.default)(La).toggleClass("chickenpaint-full-screen",za),za&&0===(0,d.default)("head meta[name=viewport]").length?((0,d.default)("head").append('<meta name="viewport" content="width=device-width,user-scalable=no">'),setTimeout(function(){return ha.emitEvent("fullScreen",
[za])},200)):ha.emitEvent("fullScreen",[za]))};this.isFullScreen=function(){return za};this.setToolbarStyle=function(ta){Ga.set("toolbarStyle",ta);Ga.save()};this.getToolbarStyle=function(){return Ga.get("toolbarStyle")};this.getResourcesRoot=function(){return O.resourcesRoot};v();La&&((0,C.isFlexboxSupported)()||(La.className+=" no-flexbox"),La.className+=" chickenpaint chickenpaint-lang-"+(0,G.currentLanguage)());O.resourcesRoot=O.resourcesRoot||"chickenpaint/";O.disableBootstrapAPI&&(0,d.default)(document).off(".data-api");
this.setSmallScreenMode(430>(0,d.default)(window).width()||430>(0,d.default)(window).height());switch(O.fullScreenMode){case "force":this.setFullScreen(!0);break;case "auto":this.setFullScreen(ra)}Ga.on("toolbarStyle",function(ta){return ua.emitEvent("toolbarStyleChange",[ta])});if(O.loadImageUrl||O.loadChibiFileUrl){var Oa=new m.default(O);new r.default(La,Oa,O.resourcesRoot);Oa.on("loadingComplete",function(ta){ha.artwork=ta.layers||ta.flat;ja(ta.swatches,O.rotation);if(O.onLoaded)O.onLoaded(this)});
Oa.load()}else if(O.artwork?this.artwork=O.artwork:(this.artwork=new a.default(O.canvasWidth||800,O.canvasHeight||600),this.artwork.addBackgroundLayer()),ja(),O.onLoaded)O.onLoaded(this)}Object.defineProperty(D,"__esModule",{value:!0});D.default=b;g("core-js/stable/symbol/index.js");g("core-js/stable/promise/index.js");g("core-js/stable/map/index.js");g("core-js/stable/set/index.js");g("core-js/stable/typed-array/slice.js");g("core-js/stable/typed-array/fill.js");g("core-js/stable/array/iterator.js");
g("core-js/stable/array/fill.js");g("core-js/stable/string/ends-with.js");var d=z(g("jquery"));g("../lib/raf.js");var w=z(g("./engine/CPBrushInfo.js")),a=z(g("./engine/CPArtwork.js")),m=z(g("./engine/CPResourceLoader.js")),q=z(g("./engine/CPResourceSaver.js")),r=z(g("./gui/CPSplashScreen.js")),h=z(g("./gui/CPMainGUI.js")),c=z(g("./gui/CPAboutDialog.js")),f=z(g("./gui/CPConfirmTransformDialog.js")),p=z(g("./gui/CPShortcutsDialog.js")),e=z(g("./gui/CPBoxBlurDialog.js")),n=z(g("./gui/CPTabletDialog.js")),
u=z(g("./gui/CPGridDialog.js")),A=z(g("./gui/CPSendDialog.js")),C=g("./util/CPPolyfill.js"),B=z(g("./util/CPColor.js")),I=z(g("./util/CPWacomTablet.js")),N=z(g("./util/CPRect.js")),y=z(g("wolfy87-eventemitter")),G=g("./languages/lang.js"),H=z(g("./gui/CPUserPreferences.js"));window.PointerEvent&&(window.hasNativePointerEvents=!0);g("pepjs");b.prototype=Object.create(y.default.prototype);b.prototype.constructor=b;b.UnsupportedBrowserException=function(O){this.message=O};b.UnsupportedBrowserException.prototype.toString=
function(){var O="Sorry, your web browser does not support ChickenPaint.";return O=this.message?O+(" "+this.message):O+" Please try a modern browser like Chrome, Safari, Firefox, or Edge."};b.M_DRAW=0;b.M_FLOODFILL=1;b.M_RECT_SELECTION=2;b.M_MOVE_TOOL=3;b.M_ROTATE_CANVAS=4;b.M_COLOR_PICKER=5;b.M_GRADIENTFILL=6;b.M_TRANSFORM=7;b.M_PAN_CANVAS=8;b.T_PENCIL=0;b.T_ERASER=1;b.T_PEN=2;b.T_SOFTERASER=3;b.T_AIRBRUSH=4;b.T_DODGE=5;b.T_BURN=6;b.T_WATER=7;b.T_BLUR=8;b.T_SMUDGE=9;b.T_BLENDER=10;b.T_MAX=11;b.COLOR_MODE_RGB=
0;b.COLOR_MODE_GREYSCALE=1;K.exports=D.default},{"../lib/raf.js":69,"./engine/CPArtwork.js":3,"./engine/CPBrushInfo.js":8,"./engine/CPResourceLoader.js":20,"./engine/CPResourceSaver.js":21,"./gui/CPAboutDialog.js":23,"./gui/CPBoxBlurDialog.js":24,"./gui/CPConfirmTransformDialog.js":32,"./gui/CPGridDialog.js":34,"./gui/CPMainGUI.js":36,"./gui/CPSendDialog.js":42,"./gui/CPShortcutsDialog.js":43,"./gui/CPSplashScreen.js":45,"./gui/CPTabletDialog.js":48,"./gui/CPUserPreferences.js":51,"./languages/lang.js":54,
"./util/CPColor.js":58,"./util/CPPolyfill.js":60,"./util/CPRect.js":63,"./util/CPWacomTablet.js":66,"core-js/stable/array/fill.js":286,"core-js/stable/array/iterator.js":287,"core-js/stable/map/index.js":288,"core-js/stable/promise/index.js":289,"core-js/stable/set/index.js":290,"core-js/stable/string/ends-with.js":291,"core-js/stable/symbol/index.js":292,"core-js/stable/typed-array/fill.js":293,"core-js/stable/typed-array/slice.js":294,jquery:296,pepjs:313,"wolfy87-eventemitter":314}],2:[function(g,
K,D){Object.defineProperty(D,"__esModule",{value:!0});D.createCanvas=function(z,k){var v=document.createElement("canvas");v.width=z;v.height=k;return v};D.createImageData=function(z,k){return document.createElement("canvas").getContext("2d").createImageData(z,k)}},{}],3:[function(g,K,D){function z(ja){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ua){return typeof ua}:function(ua){return ua&&"function"==typeof Symbol&&ua.constructor===Symbol&&
ua!==Symbol.prototype?"symbol":typeof ua},z(ja)}function k(ja){return ja&&ja.__esModule?ja:{default:ja}}function v(){v="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(ja,ua,ha){var La;for(La=ja;!Object.prototype.hasOwnProperty.call(La,ua)&&(La=r(La),null!==La););if(La)return La=Object.getOwnPropertyDescriptor(La,ua),La.get?La.get.call(3>arguments.length?ja:ha):La.value};return v.apply(this,arguments)}function E(ja,ua){if(!(ja instanceof ua))throw new TypeError("Cannot call a class as a function");
}function b(ja,ua){for(var ha=0;ha<ua.length;ha++){var La=ua[ha];La.enumerable=La.enumerable||!1;La.configurable=!0;"value"in La&&(La.writable=!0);var Ya=Object,Xa=Ya.defineProperty;a:{var T=La.key;if("object"===z(T)&&null!==T){var Z=T[Symbol.toPrimitive];if(void 0!==Z){T=Z.call(T,"string");if("object"!==z(T))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}T=String(T)}}T="symbol"===z(T)?T:String(T);Xa.call(Ya,ja,T,La)}}function d(ja,ua,ha){ua&&b(ja.prototype,ua);ha&&b(ja,
ha);Object.defineProperty(ja,"prototype",{writable:!1});return ja}function w(ja,ua){if("function"!==typeof ua&&null!==ua)throw new TypeError("Super expression must either be null or a function");ja.prototype=Object.create(ua&&ua.prototype,{constructor:{value:ja,writable:!0,configurable:!0}});Object.defineProperty(ja,"prototype",{writable:!1});ua&&a(ja,ua)}function a(ja,ua){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ha,La){ha.__proto__=La;return ha};return a(ja,ua)}function m(ja){var ua=
q();return function(){var ha=r(ja);if(ua){var La=r(this).constructor;ha=Reflect.construct(ha,arguments,La)}else ha=ha.apply(this,arguments);if(!ha||"object"!==z(ha)&&"function"!==typeof ha){if(void 0!==ha)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");ha=this}return ha}}function q(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;
if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ja){return!1}}function r(ja){r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ua){return ua.__proto__||Object.getPrototypeOf(ua)};return r(ja)}function h(ja,ua){var ha="undefined"!==typeof Symbol&&ja[Symbol.iterator]||ja["@@iterator"];if(!ha){if(Array.isArray(ja)||(ha=c(ja))||ua&&ja&&"number"===typeof ja.length){ha&&(ja=ha);var La=0;ua=function(){};return{s:ua,
n:function(){return La>=ja.length?{done:!0}:{done:!1,value:ja[La++]}},e:function(Z){throw Z;},f:ua}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var Ya=!0,Xa=!1,T;return{s:function(){ha=ha.call(ja)},n:function(){var Z=ha.next();Ya=Z.done;return Z},e:function(Z){Xa=!0;T=Z},f:function(){try{Ya||null==ha.return||ha.return()}finally{if(Xa)throw T;}}}}function c(ja,ua){if(ja){if("string"===
typeof ja)return f(ja,ua);var ha=Object.prototype.toString.call(ja).slice(8,-1);"Object"===ha&&ja.constructor&&(ha=ja.constructor.name);if("Map"===ha||"Set"===ha)return Array.from(ja);if("Arguments"===ha||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ha))return f(ja,ua)}}function f(ja,ua){if(null==ua||ua>ja.length)ua=ja.length;for(var ha=0,La=Array(ua);ha<ua;ha++)La[ha]=ja[ha];return La}function p(ja){return ja.substring(0,1).toUpperCase()+ja.substring(1)}function e(ja,ua){return ja+ua}function n(ja){return ja?
ja.width*ja.height*4:0}function u(ja,ua){function ha(U){vc=!1;if(0<lc.size||0<kc.size)U?Z():gc||setTimeout(Z,1E3)}function La(){eb.emitEvent("changeSelection",[])}function Ya(U){eb.emitEvent("updateRegion",[U])}function Xa(){eb.emitEvent("changeStructure");sb.resetTree();Da();Ya(eb.getBounds())}function T(U,ia,Ba){eb.emitEvent("changeLayer",[U]);Ba||(sb.layerPropertyChanged(U,ia),Ya(eb.getBounds()))}function Z(){var U=h(lc),ia;try{for(U.s();!(ia=U.n()).done;){var Ba=ia.value;Ba.rebuildImageThumbnail();
eb.emitEvent("changeLayerImageThumb",[Ba])}}catch(Ha){U.e(Ha)}finally{U.f()}U=h(kc);var ba;try{for(U.s();!(ba=U.n()).done;){var va=ba.value;va.rebuildMaskThumbnail();eb.emitEvent("changeLayerMaskThumb",[va])}}catch(Ha){U.e(Ha)}finally{U.f()}lc.clear();gc&&(clearTimeout(gc),gc=null)}function sa(U,ia,Ba,ba){Array.isArray(U)||(U=[U]);U.forEach(function(Ja){return sb.invalidateLayerRect(Ja,ia)});var va=!1;if(Ba){ub.union(ia);Ba=h(U);var Ha;try{for(Ba.s();!(Ha=Ba.n()).done;){var Wa=Ha.value;Wa instanceof
A.default&&(lc.add(Wa),va=!0)}}catch(Ja){Ba.e(Ja)}finally{Ba.f()}}ba&&(kb.union(ia),U.forEach(function(Ja){kc.add(Ja);Hb&&Hb.layer==Ja&&Hb.invalidateRect(ia)}),va=!0);va&&(gc&&(clearTimeout(gc),gc=null),vc||(gc=setTimeout(Z,1E3)));Ya(ia)}function Ea(U,ia){sa(U,ia,!rb,rb)}function Ra(){return rb?Va.mask:Va.image}function wb(){if(!jc.isEmpty()){if(rb){var U=Va.mask;Rb.brushMode==O.default.BRUSH_MODE_ERASE?bc[O.default.BRUSH_MODE_PAINT].mergeOntoMask(U,P,4278190080):bc[Rb.brushMode].mergeOntoMask(U,
P,fc&255)}else{U=Va.image;var ia=Va.getLockAlpha();Rb.brushMode==O.default.BRUSH_MODE_ERASE&&ia?bc[O.default.BRUSH_MODE_PAINT].mergeOntoImage(U,ic,16777215):bc[Rb.brushMode].mergeOntoImage(U,ic,fc);ia&&U.copyAlphaFrom(ic,jc)}jc.makeEmpty()}}function Ib(){Va instanceof A.default&&!ub.isEmpty()&&(ic.copyBitmapRect(Va.image,ub.left,ub.top,ub),ub.makeEmpty())}function ra(){Va.mask&&!kb.isEmpty()&&(P.copyBitmapRect(Va.mask,kb.left,kb.top,kb),kb.makeEmpty())}function za(){rb?ra():Ib()}function Da(){var U=
eb.getBounds();ub.set(U);kb.set(U)}function Ga(U){eb.setHasUnsavedChanges(!0);0<Tb.length&&(Tb=[]);0!==Ob.length&&Ob[Ob.length-1].merge(U)?Ob[Ob.length-1].noChange()&&Ob.pop():(30<=Ob.length&&Ob.shift(),eb.compactUndo(),Ob.push(U))}function db(U,ia){U||ia||(U=!rb,ia=rb);var Ba=cc.clone(),ba=U?ic.copyRectXOR(Va.image,Ba):null,va=ia?P.copyRectXOR(Va.mask,Ba):null;this.layer=Va;cc.makeEmpty();this.redo=this.undo=function(){ba&&this.layer.image.setRectXOR(ba,Ba);va&&this.layer.mask.setRectXOR(va,Ba);
sa(this.layer,Ba,null!=ba,null!=va)};this.getMemoryUsed=function(Ha,Wa){return(ba?ba.length:0)+(va?va.length:0)}}function tb(U){var ia=U.maskLinked,Ba=U.maskVisible;this.undo=function(){U.setMask(null);U.maskLinked=ia;U.maskVisible=Ba;Xa();eb.setActiveLayer(U,!1)};this.redo=function(){var ba=new I.default(eb.width,eb.height,8);ba.clearAll(255);U.maskLinked=!0;U.maskVisible=!0;U.setMask(ba);Xa();eb.setActiveLayer(U,!0)};this.redo()}function qb(U,ia){var Ba=U.mask,ba=!1;var va=ia&&U instanceof A.default?
U.image.clone():null;ba=Va==U&&rb;this.undo=function(){U.setMask(Ba);va&&(U.image.copyPixelsFrom(va),sa(U,U.image.getBounds(),!0,!1));ba&&eb.setActiveLayer(U,!0);Xa()};this.redo=function(){va&&(B.default.multiplyAlphaByMask(U.image,100,U.mask),sa(U,eb.getBounds(),!0,!1));ba&&eb.setActiveLayer(U,!1);U.setMask(null);Xa()};this.redo()}function Oa(U,ia,Ba){var ba=Ba instanceof A.default&&Ba.clip,va=U.layers[ia],Ha=va instanceof A.default&&va.clip,Wa=rb;this.undo=function(){U.removeLayer(Ba);var Ja=U.layers[ia-
1]||U.layers[0]||U;va instanceof A.default&&(va.clip=Ha);Ba instanceof A.default&&(Ba.clip=ba);Xa();eb.setActiveLayer(Ja,Wa)};this.redo=function(){U.insertLayer(ia,Ba);Ha&&(Ba instanceof A.default?Ba.clip=!0:va.clip=!1);Xa();eb.setActiveLayer(Ba,!1)};this.redo()}function ta(U){var ia=U.clone(),Ba=rb;this.undo=function(){ia.parent.removeLayer(ia);Xa();eb.setActiveLayer(U,Ba)};this.redo=function(){var ba=U.name;ba.endsWith(" Copy")||(ba+=" Copy");ia.name=ba;U.parent.insertLayer(U.parent.indexOf(U)+
1,ia);Xa();eb.setActiveLayer(ia,!1)};this.redo()}function pa(U){var ia=U.parent,Ba=ia.indexOf(U),ba=rb,va=0;if(U instanceof A.default&&!U.clip)for(var Ha=Ba+1;Ha<ia.layers.length;Ha++)if(ia.layers[Ha]instanceof A.default&&ia.layers[Ha].clip)va++;else break;this.undo=function(){ia.insertLayer(Ba,U);for(var Wa=0;Wa<va;Wa++)ia.layers[Wa+Ba+1].clip=!0;Xa();eb.setActiveLayer(U,ba)};this.redo=function(){for(var Wa=0;Wa<va;Wa++)ia.layers[Wa+Ba+1].clip=!1;ia.removeLayerAtIndex(Ba);Wa=0==ia.layers.length?
U.parent:ia.layers[Math.max(Ba-1,0)];Xa();eb.setActiveLayer(Wa,!1)};this.getMemoryUsed=function(Wa,Ja){return Wa?0:U.getMemoryUsed()};this.redo()}function Ca(U){var ia=U.parent.indexOf(U),Ba=rb,ba=new A.default(eb.width,eb.height,"");this.undo=function(){U.parent.setLayerAtIndex(ia,U);Xa();eb.setActiveLayer(U,Ba)};this.redo=function(){U.parent.setLayerAtIndex(ia,ba);Xa();eb.setActiveLayer(ba,!1)};this.getMemoryUsed=function(Ha,Wa){return Ha?0:U.getMemoryUsed()};var va=new N.default(U,eb.width,eb.height,
!1);va.buildTree();va=va.blendTree();ba.name=U.name;ba.alpha=va.alpha;ba.image=va.image;ba.blendMode=va.blendMode;ba.mask=va.mask;ba.blendMode==B.default.LM_PASSTHROUGH&&(ba.blendMode=B.default.LM_NORMAL);this.redo()}function Ka(U){var ia=U.parent,Ba=ia.layers[ia.indexOf(U)-1],ba=new A.default(eb.width,eb.height,""),va=rb;this.undo=function(){var Ha=ia.indexOf(ba);ia.removeLayerAtIndex(Ha);ia.insertLayer(Ha,U);ia.insertLayer(Ha,Ba);Xa();eb.setActiveLayer(U,va)};this.redo=function(){ba.copyFrom(Ba);
0<U.getEffectiveAlpha()&&(ba.mask?(B.default.multiplyAlphaByMask(ba.image,ba.alpha,ba.mask),ba.mask=null):B.default.multiplyAlphaBy(ba.image,ba.alpha),ba.alpha=100,B.default.fuseImageOntoImage(ba.image,!0,U.image,U.alpha,U.blendMode,U.getBounds(),U.mask));var Ha=ia.indexOf(Ba);ia.removeLayerAtIndex(Ha);ia.removeLayerAtIndex(Ha);ia.insertLayer(Ha,ba);Xa();eb.setActiveLayer(ba,!1)};this.getMemoryUsed=function(Ha,Wa){return Ha?0:U.getMemoryUsed()+ba.getMemoryUsed()};this.redo()}function Ua(){var U=eb.getActiveLayer(),
ia=Ia.layers.slice(0),Ba=new A.default(eb.width,eb.height,"");this.undo=function(){Ia.layers=ia.slice(0);Xa();eb.setActiveLayer(U,!1)};this.redo=function(){var ba=eb.fusionLayers();Ba.copyImageFrom(ba);Ia.clearLayers();Ba.setName(eb.getDefaultLayerName(!1));Ia.addLayer(Ba);Xa();eb.setActiveLayer(Ba,!1)};this.getMemoryUsed=function(ba,va){return ia.map(function(Ha){return Ha.getMemoryUsed()}).reduce(e,0)};this.redo()}function lb(U,ia,Ba){var ba=U.parent,va=U.parent.indexOf(U),Ha=rb,Wa=ba.layers[ba.indexOf(U)+
1],Ja=ia.layers[Ba],$a=U instanceof A.default&&U.clip,bb=$a?U.getClippingBase():!1,jb=0,Lb=0;if(U instanceof A.default&&!U.clip)for(var Db=va+1;Db<ba.layers.length;Db++)if(ba.layers[Db]instanceof A.default&&ba.layers[Db].clip)jb++;else break;else if(U instanceof C.default)for(Db=Ba;Db<ia.layers.length;Db++)if(ia.layers[Db]instanceof A.default&&ia.layers[Db].clip)Lb++;else break;this.undo=function(){U.parent.removeLayer(U);var Nb=Wa?ba.indexOf(Wa):ba.layers.length;ba.insertLayer(Nb,U);U instanceof
A.default&&(U.clip=$a);for(Nb=0;Nb<jb;Nb++)ba.layers[Nb+va+1].clip=!0;for(Nb=0;Nb<Lb;Nb++)ia.layers[Nb+Ba].clip=!0;Xa();eb.setActiveLayer(U,Ha)};this.redo=function(){for(var Nb=0;Nb<jb;Nb++)ba.layers[Nb+va+1].clip=!1;U.parent.removeLayer(U);Nb=Ja?ia.indexOf(Ja):ia.layers.length;ia.insertLayer(Nb,U);for(var oc=0;oc<Lb;oc++)ia.layers[oc+Nb+1].clip=!1;U instanceof A.default&&(U.clip&&U.getClippingBase()!=bb&&(U.clip=!1),Ja instanceof A.default&&Ja.clip&&(U.clip=!0));for(oc=0;oc<Lb;oc++)ia.layers[oc+
Nb+1].clip=!1;Xa();eb.setActiveLayer(U,!1)};this.redo()}function ob(U,ia){var Ba=p(U),ba=function(va,Ha){Array.isArray(va)||(va=[va]);this.layers=va;this.from=this.layers.map(function(Wa){return Wa["get"+Ba]()});this.to=Ha;this.redo()};ba.prototype=Object.create(J.default.prototype);ba.prototype.constructor=ba;ba.prototype.undo=function(){var va=this;this.layers.forEach(function(Ha,Wa){return Ha["set"+Ba](va.from[Wa])});this.layers.forEach(function(Ha){return T(Ha,U,!ia)})};ba.prototype.redo=function(){var va=
this;this.layers.forEach(function(Ha){return Ha["set"+Ba](va.to)});this.layers.forEach(function(Ha){return T(Ha,U,!ia)})};ba.prototype.merge=function(va){var Ha;if(Ha=va instanceof ba)a:{Ha=this.layers;var Wa=va.layers;if(Ha.length!=Wa.length)Ha=!1;else{for(var Ja=0;Ja<Ha.length;Ja++)if(Ha[Ja]!=Wa[Ja]){Ha=!1;break a}Ha=!0}}return Ha?(this.to=va.to,!0):!1};ba.prototype.noChange=function(){for(var va=0;va<this.from.length;va++)if(this.from[va]!=this.to)return!1;return!0};return ba}function Ab(U,ia){U=
U.clone();ia=ia.clone();this.undo=function(){eb.setSelection(U);Ya(eb.getBounds())};this.redo=function(){eb.setSelection(ia);Ya(eb.getBounds())};this.noChange=function(){return U.equals(ia)}}function Pa(U,ia,Ba){var ba=ia?U.mask:U.image,va=ba.cloneRect(Ba);Ba=Ba.clone();this.undo=function(){ba.copyBitmapRect(va,Ba.left,Ba.top,va.getBounds());eb.setActiveLayer(U,ia);eb.setSelection(Ba);sa(U,Ba,!ia,ia)};this.redo=function(){ia?ba.clearRect(Ba,0):ba.clearRect(Ba,16777215);Sb=new R.default(va,Ba.left,
Ba.top);eb.setActiveLayer(U,ia);eb.emptySelection();sa(U,Ba,!ia,ia)};this.getMemoryUsed=function(Ha,Wa){return va==Wa?0:va.getMemorySize()};this.redo()}function Qa(U){var ia=eb.getSelection(),Ba=rb,ba=new A.default(eb.width,eb.height,eb.getDefaultLayerName(!1)),va=Va,Ha=va.parent;this.undo=function(){Ha.removeLayer(ba);eb.setSelection(ia);Xa();eb.setActiveLayer(va,Ba)};this.redo=function(){var Wa=Ha.indexOf(va),Ja=U.bmp.getBounds();Ha.insertLayer(Wa+1,ba);if(Ja.isInside(eb.getBounds())){Wa=U.x;var $a=
U.y}else Wa=(eb.width-U.bmp.width)/2|0,$a=(eb.height-U.bmp.height)/2|0;if(U.bmp instanceof I.default){var bb=new G.default(U.bmp.width,U.bmp.height);bb.copyPixelsFromGreyscale(U.bmp);ba.image.copyBitmapRect(bb,Wa,$a,Ja)}else ba.image.copyBitmapRect(U.bmp,Wa,$a,Ja);eb.emptySelection();Xa();eb.setActiveLayer(ba,!1)};this.getMemoryUsed=function(Wa,Ja){return U.bmp==Ja?0:U.bmp.getMemorySize()};this.redo()}ja|=0;ua|=0;var Ia=new C.default("Root",B.default.LM_NORMAL),sb=new N.default(Ia,ja,ua,!0),ic=new G.default(ja,
ua),ub=new Y.default(0,0,ja,ua),P=new I.default(ja,ua,8),kb=new Y.default(0,0,ja,ua),qc=new I.default(ja,ua,32),jc=new Y.default(0,0,0,0),Qb=new H.default,eb=this,bc=[],Va=Ia,rb=!1,Hb=null,cc=new Y.default(0,0,0,0),Mb=!1,tc=new Y.default(0,0,0,0),rc=null,wc=new qa.default,Fb=null,Sb=null,Ob=[],Tb=[],Rb=null,pb=0,Vb=0,ib=0,ac=!1,vc=!1,kc=new Set,lc=new Set,gc=null,fc=0,nc="smooth";this.getLayersRoot=function(){return Ia};this.getSelectionAutoSelect=function(){return tc.isEmpty()?this.getBounds():this.getSelection()};
this.getSelection=function(){return tc.clone()};this.setHasUnsavedChanges=function(U){U!=Mb&&(Mb=U,this.emitEvent("unsavedChanges",[U]))};this.getHasUnsavedChanges=function(){return Mb};this.isAddLayerMaskAllowed=function(){return!Va.mask};this.addLayerMask=function(){this.isAddLayerMaskAllowed()&&Ga(new tb(Va))};this.isRemoveLayerMaskAllowed=function(){return null!==Va.mask};this.removeLayerMask=function(){this.isRemoveLayerMaskAllowed()&&Ga(new qb(Va,!1))};this.isApplyLayerMaskAllowed=function(){return null!==
Va.mask&&Va instanceof A.default};this.applyLayerMask=function(U){this.isApplyLayerMaskAllowed()&&Ga(new qb(Va,!0))};this.addLayer=function(U){if(Va instanceof C.default&&Va.expanded){var ia=Va;var Ba=Va.layers.length}else ia=Va.parent,Ba=ia.layers.indexOf(Va)+1;switch(U){case "group":for(;ia.layers[Ba]instanceof A.default&&ia.layers[Ba].clip;)Ba++;U=new C.default(this.getDefaultLayerName(!0),B.default.LM_PASSTHROUGH);break;default:U=new A.default(this.width,this.height,this.getDefaultLayerName(!1)),
U.image.clearAll(16777215)}Ga(new Oa(ia,Ba,U));return U};this.addLayerObject=function(U,ia){U.addLayer(ia);U==Ia&&1==Ia.layers.length&&(Va=ia);Xa()};this.addLayerGroupObject=function(U,ia,Ba){for(var ba=[],va=0;va<Ba;va++)ba.unshift(U.layers.pop());ba.forEach(function(Ha){return ia.addLayer(Ha)});this.addLayerObject(U,ia)};this.isRemoveLayerAllowed=function(){return Va instanceof A.default?Ia.getLinearizedLayerList(!1).some(function(U){return U instanceof A.default&&U!=Va}):Va instanceof C.default?
Ia.getLinearizedLayerList(!1).some(function(U){return U instanceof A.default&&!U.hasAncestor(Va)}):!1};this.removeLayer=function(){return this.isRemoveLayerAllowed()?(Ga(new pa(Va)),!0):!1};this.duplicateLayer=function(){Ga(new ta(Va))};this.isMergeDownAllowed=function(){var U=Va.parent.indexOf(Va);return 0<U&&Va instanceof A.default&&Va.parent.layers[U-1]instanceof A.default};this.mergeDown=function(){this.isMergeDownAllowed()&&Ga(new Ka(Va))};this.isMergeGroupAllowed=function(){return Va instanceof
C.default&&0<Va.getEffectiveAlpha()};this.mergeGroup=function(){this.isMergeGroupAllowed()&&Ga(new Ca(Va))};this.isMergeAllLayersAllowed=function(){return 1<Ia.getLinearizedLayerList(!1).length};this.mergeAllLayers=function(){this.isMergeAllLayersAllowed()&&Ga(new Ua)};this.relocateLayer=function(U,ia,Ba){U&&ia&&U!=ia&&!ia.hasAncestor(U)&&Ga(new lb(U,ia,Ba))};this.setLayerVisibility=function(U,ia){var Ba=[];if(U.ancestorsAreVisible())U.visible!=ia&&Ga(new yc(U,ia));else{for(;null!=U;U=U.parent)U.visible||
Ba.push(U);Ga(new yc(Ba,!0))}};this.expandLayerGroup=function(U,ia){U.expanded!=ia&&(U.expanded=ia,!ia&&Va.hasAncestor(U)&&this.setActiveLayer(U,!1),T(U,"expanded",!0))};this.setLayerAlpha=function(U){Va.getAlpha()!=U&&Ga(new xc(Va,U))};this.setLayerMaskLinked=function(U){Va.maskLinked!=U&&Ga(new Aa(Va,U))};this.setLayerMaskVisible=function(U,ia){U.maskVisible!=ia&&Ga(new zc(U,ia))};this.setLayerBlendMode=function(U){Va.getBlendMode()!=U&&(U!=B.default.LM_PASSTHROUGH||Va instanceof C.default)&&Ga(new Mc(Va,
U))};this.setLayerName=function(U,ia){U.getName()!=ia&&Ga(new Cc(U,ia))};this.paintDab=function(U,ia,Ba){Rb.applyPressure(Ba);0<Rb.scattering&&(U+=wc.nextGaussian()*Rb.curScattering/4,ia+=wc.nextGaussian()*Rb.curScattering/4);Ba=bc[Rb.brushMode];U=Qb.getDab(U,ia,Rb);ia=new Y.default(0,0,U.width,U.height);var ba=new Y.default(0,0,U.width,U.height);ba.translate(U.x,U.y);eb.getBounds().clipSourceDest(ia,ba);if(!ba.isEmpty()){cc.union(ba);var va=rb?Va.mask:Va.image;Ba.paintDab(va,ba,ac&&!rb?rc:va,Rb,
ia,U,fc);!rb&&Ba.noMergePhase&&Va.getLockAlpha()&&va.copyAlphaFrom(ic,ba);Ba.wantsOutputAsInput&&(wb(),ac&&!rb&&eb.fusionLayers());Ea(Va,ba)}};this.getDefaultLayerName=function(U){var ia=U?"Group ":"Layer ";U=U?/^Group [0-9]+$/:/^Layer [0-9]+$/;for(var Ba=0,ba=Ia.getLinearizedLayerList(!1),va=0;va<ba.length;va++){var Ha=ba[va];U.test(Ha.name)&&(Ba=Math.max(Ba,parseInt(Ha.name.substring(ia.length),10)))}return ia+(Ba+1)};this.addBackgroundLayer=function(){var U=new A.default(eb.width,eb.height,this.getDefaultLayerName(!1));
U.image.clearAll(4294967295);this.addLayerObject(this.getLayersRoot(),U)};this.fusionLayers=function(){wb();sb.buildTree();return rc=sb.blendTree().image};this.upgradeMultiplyLayers=function(U){for(var ia=this.getLayersRoot().getLinearizedLayerList(!1,[]),Ba=-1,ba=0;ba<ia.length;ba++){var va=ia[ba];if(!(va instanceof A.default)||va.mask||va.blendMode>B.default.LM_LAST_CHIBIPAINT)throw Error("Bad layer type during multiply upgrade");va.blendMode===B.default.LM_MULTIPLY&&(Ba=ba)}if(-1!==Ba){ba=new G.default(this.width,
this.height);var Ha=va=!0,Wa=this.getBounds();ba.clearAll(Wa,16777215);for(var Ja=0;Ja<=Ba;Ja++){var $a=ia[Ja];Ha||(va=va&&ba.hasAlphaInRect(Wa));if($a.blendMode===B.default.LM_MULTIPLY)switch(U){case "bake":!va&&0<$a.getEffectiveAlpha()&&(100===$a.alpha?B.default.upgradeMultiplyOfOpaqueLayer(ba,$a.image,100,Wa):B.default.upgradeMultiplyOfTransparentLayer(ba,$a.image,$a.alpha,Wa),$a.setBlendMode(B.default.LM_MULTIPLY2));break;default:va&&$a.setBlendMode(B.default.LM_MULTIPLY2)}0<$a.getEffectiveAlpha()&&
(Ha=!1,B.default.fuseImageOntoImage(ba,va,$a.image,$a.alpha,$a.blendMode,Wa,null))}}};this.isCreateClippingMaskAllowed=function(){var U=Va.parent.indexOf(Va);U=Va.parent.layers[U-1];return Va instanceof A.default&&!Va.clip&&U instanceof A.default};this.createClippingMask=function(){this.isCreateClippingMaskAllowed()&&Ga(new Dc(Va,!0))};this.isReleaseClippingMaskAllowed=function(){return Va instanceof A.default&&Va.clip};this.releaseClippingMask=function(){this.isReleaseClippingMaskAllowed()&&Ga(new Dc(Va,
!1))};this.setActiveLayer=function(U,ia){if(U){ia=U.mask&&ia;var Ba=ia!=rb;if(Va!=U||Ba){var ba=Va;Va=U;rb=ia;Da();this.emitEvent("changeActiveLayer",[ba,U,rb]);Ba&&this.emitEvent("editModeChanged",[rb?u.EDITING_MODE_MASK:u.EDITING_MODE_IMAGE]);Hb&&Hb.layer==ba&&(ia?Hb.setLayer(U):this.closeMaskView())}}};this.closeMaskView=function(){Hb.close();Hb=null};this.toggleMaskView=function(){null!=Hb&&Hb.isOpen()?this.closeMaskView():Hb=Va.mask?new y.default(Va,wb):null;return Hb};this.selectTopmostVisibleLayer=
function(){for(var U=Ia.getLinearizedLayerList(!1),ia=U.length-1;0<=ia;ia--)if(U[ia]instanceof A.default&&0<U[ia].getEffectiveAlpha()){this.setActiveLayer(U[ia],!1);return}for(ia=U.length-1;0<=ia;ia--)if(U[ia]instanceof A.default){this.setActiveLayer(U[ia],!1);return}this.setActiveLayer(U[U.length-1],!1)};this.getActiveLayer=function(){return Va};this.isEditingMask=function(){return rb};this.isActiveLayerDrawable=function(){return rb&&Va.mask||!rb&&Va instanceof A.default};this.getUndoMemoryUsed=
function(){for(var U=0,ia=0,Ba=Tb;ia<Ba.length;ia++)U+=Ba[ia].getMemoryUsed(!0,null);ia=0;for(Ba=Ob;ia<Ba.length;ia++)U+=Ba[ia].getMemoryUsed(!1,null);return U};this.isUndoAllowed=function(){return 0<Ob.length};this.isRedoAllowed=function(){return 0<Tb.length};this.undo=function(){if(this.isUndoAllowed()){this.setHasUnsavedChanges(!0);var U=Ob.pop();U.undo();Tb.push(U)}};this.redo=function(){if(this.isRedoAllowed()){this.setHasUnsavedChanges(!0);var U=Tb.pop();U.redo();Ob.push(U)}};this.performIdleTasks=
function(){za();wb();sb.buildTree()};this.compactUndo=function(){0<Ob.length&&Ob[Ob.length-1].compact()};this.clearHistory=function(){Ob=[];Tb=[]};this.colorPicker=function(U,ia){return rb&&Va.mask?ea.default.greyToRGB(Va.mask.getPixel(~~U,~~ia)):rc.getPixel(~~U,~~ia)&16777215};this.setSelection=function(U){tc.set(U);tc.roundNearest();tc.clipTo(this.getBounds())};this.emptySelection=function(){tc.makeEmpty()};this.floodFill=function(U,ia){var Ba=Ra();Ba&&(za(),cc=this.getBounds(),Ba.floodFill(~~U,
~~ia,fc|4278190080),Ga(new db),Ea(Va,this.getBounds()))};this.gradientFill=function(U,ia,Ba,ba,va){var Ha=this.getSelectionAutoSelect(),Wa=Ra();Wa&&(za(),cc=Ha.clone(),Wa.gradient(Ha,U,ia,Ba,ba,va,!1),this.getLayerLockAlpha()&&Wa instanceof G.default&&Wa.copyAlphaFrom(ic,Ha),Ga(new db),Ea(Va,Ha))};this.fill=function(U){var ia=this.getSelectionAutoSelect(),Ba=Ra();Ba&&(za(),cc=ia.clone(),Ba.clearRect(ia,U),Ga(new db),Ea(Va,ia))};this.clear=function(){rb?this.fill(0):this.fill(16777215)};this.flip=
function(U){var ia=this.getSelection(),Ba=ia.isEmpty(),ba=Ba&&Va instanceof A.default&&Va.mask&&Va.maskLinked,va=(!rb||ba)&&Va instanceof A.default;ba=(rb||ba)&&Va.mask;U=U?"copyRegionHFlip":"copyRegionVFlip";if(va||ba)Ba&&(ia=this.getBounds()),cc=ia.clone(),va&&(Ib(),Va.image[U](ia,ic)),ba&&(ra(),Va.mask[U](ia,P)),Ga(new db(va,ba)),sa(Va,ia,va,ba)};this.hFlip=function(){this.flip(!0)};this.vFlip=function(){this.flip(!1)};this.monochromaticNoise=function(){var U=this.getSelectionAutoSelect(),ia=Ra();
ia&&(za(),cc=U.clone(),ia.fillWithNoise(U),Ga(new db),Ea(Va,U))};this.isColorNoiseAllowed=function(){return!this.isEditingMask()&&this.isActiveLayerDrawable()};this.colorNoise=function(){if(this.isColorNoiseAllowed()){var U=this.getSelectionAutoSelect();za();cc=U.clone();Va.image.fillWithColorNoise(U);Ga(new db(!0,!1));sa(Va,U,!0,!1)}};this.invert=function(){var U=this.getSelectionAutoSelect(),ia=Ra();ia&&(za(),cc=U.clone(),ia.invert(U),Ga(new db),Ea(Va,U))};this.boxBlur=function(U,ia,Ba){var ba=
this.getSelectionAutoSelect(),va=Ra();if(va){za();cc=ba.clone();for(var Ha=0;Ha<Ba;Ha++)va.boxBlur(ba,U,ia);Ga(new db);Ea(Va,ba)}};this.rectangleSelection=function(U){U=U.clone();U.clipTo(this.getBounds());Ga(new Ab(this.getSelection(),U));this.setSelection(U)};this.move=function(U,ia,Ba){U|=0;ia|=0;if(0!=U||0!=ia){var ba=0<Ob.length?Ob[Ob.length-1]:null;!Ba&&ba instanceof mb&&ba.layer==this.getActiveLayer()?(ba.amend(U,ia),Tb=[],this.setHasUnsavedChanges(!0)):(U=new mb(U,ia,Ba),Ga(U),U.redo())}};
this.setTransformInterpolation=function(U){nc=U;Fb instanceof ab&&Fb.setInterpolation(U)};this.transformAffineAbort=function(){Fb instanceof ab&&(Fb.undo(),Fb=null,ha(!0))};this.transformAffineBegin=function(){if(Fb instanceof ab)return{transform:Fb.getTransform(),rect:Fb.getInitialTransformRect(),selection:Fb.getInitialSelectionRect()};var U=new la.default;var ia=new ab(U,nc);if(ia.getInitialTransformRect().isEmpty())return null;Fb=ia;vc=!0;return{transform:U,rect:ia.getInitialTransformRect(),selection:ia.getInitialSelectionRect()}};
this.transformAffineFinish=function(){Fb instanceof ab&&(Ga(Fb),Fb=null,ha(!0))};this.transformAffineAmend=function(U){Fb instanceof ab&&Fb.amend(U)};this.isCopySelectionAllowed=this.isCutSelectionAllowed=function(){return!this.getSelection().isEmpty()&&null!==Ra()};this.cutSelection=function(){this.isCutSelectionAllowed()&&Ga(new Pa(Va,rb,this.getSelection()))};this.copySelection=function(){if(this.isCopySelectionAllowed()){var U=eb.getSelection(),ia=Ra();Sb=new R.default(ia.cloneRect(U),U.left,
U.top)}};this.isCopySelectionMergedAllowed=function(){return!this.getSelection().isEmpty()};this.copySelectionMerged=function(){if(this.isCopySelectionMergedAllowed()){var U=eb.getSelection();Sb=new R.default(this.fusionLayers().cloneRect(U),U.left,U.top)}};this.isPasteClipboardAllowed=function(){return!this.isClipboardEmpty()};this.pasteClipboard=function(){this.isPasteClipboardAllowed()&&Ga(new Qa(Sb))};this.getClipboard=function(){return Sb};this.setClipboard=function(U){Sb=U};this.isClipboardEmpty=
function(){return null==Sb};this.setSampleAllLayers=function(U){ac=U};this.getLayerLockAlpha=function(){return this.getActiveLayer().getLockAlpha()};this.setLayerLockAlpha=function(U){Va.getLockAlpha()!=U&&Ga(new aa(Va,U))};this.setForegroundColor=function(U){fc=U};this.setBrush=function(U){Rb=U};this.setBrushTexture=function(U){Qb.setTexture(U)};this.beginStroke=function(U,ia,Ba){if(null===Rb||!this.isActiveLayerDrawable())return!1;za();cc.makeEmpty();qc.clearAll(0);jc.makeEmpty();pb=U;Vb=ia;ib=
Ba;vc=!0;bc[Rb.brushMode].beginStroke();this.paintDab(U,ia,Ba);return!0};this.continueStroke=function(U,ia,Ba){if(null!=Rb){var ba=Math.sqrt((pb-U)*(pb-U)+(Vb-ia)*(Vb-ia)),va=Math.max(Rb.minSpacing,Rb.curSize*Rb.spacing);if(ba>va){var Ha=pb,Wa=Vb,Ja=ib;for(va=ba=(va-.001)/ba;1>=va;va+=ba)Ha=va*U+(1-va)*pb,Wa=va*ia+(1-va)*Vb,Ja=va*Ba+(1-va)*ib,this.paintDab(Ha,Wa,Ja);pb=Ha;Vb=Wa;ib=Ja}}};this.endStroke=function(){null!=Rb&&(wb(),bc[Rb.brushMode].endStroke(),cc.clipTo(this.getBounds()),cc.isEmpty()||
(Ga(new db),za()),ha(!1))};this.hasAlpha=function(){return rc.hasAlpha()};this.getFlatPNG=function(U){this.fusionLayers();return rc.getAsPNG(U)};this.getFlatPNGBuffer=function(U){this.fusionLayers();return rc.getAsPNGBuffer(U)};this.isSimpleDrawing=function(){return 1==Ia.layers.length&&Ia.layers[0]instanceof A.default&&!Ia.layers[0].mask&&100==Ia.layers[0].getEffectiveAlpha()};db.prototype=Object.create(J.default.prototype);db.prototype.constructor=db;tb.prototype=Object.create(J.default.prototype);
tb.prototype.constructor=tb;qb.prototype=Object.create(J.default.prototype);qb.prototype.constructor=qb;Oa.prototype=Object.create(J.default.prototype);Oa.prototype.constructor=Oa;ta.prototype=Object.create(J.default.prototype);ta.prototype.constructor=ta;pa.prototype=Object.create(J.default.prototype);pa.prototype.constructor=pa;Ca.prototype=Object.create(J.default.prototype);Ca.prototype.constructor=Ca;Ka.prototype=Object.create(J.default.prototype);Ka.prototype.constructor=Ka;Ua.prototype=Object.create(J.default.prototype);
Ua.prototype.constructor=Ua;lb.prototype=Object.create(J.default.prototype);lb.prototype.constructor=lb;var xc=ob("alpha",!0),Mc=ob("blendMode",!0),yc=ob("visible",!0),Dc=ob("clip",!0),zc=ob("maskVisible",!0),Cc=ob("name",!1),aa=ob("lockAlpha",!1),Aa=ob("maskLinked",!1);Ab.prototype=Object.create(J.default.prototype);Ab.prototype.constructor=Ab;var Na=function(U){function ia(){E(this,ia);var ba=Ba.call(this);ba.layer=Va;ba.fromSelection=eb.getSelection();ba.fromMaskMode=rb;ba.movingWholeLayer=ba.fromSelection.isEmpty();
ba.movingImage=!rb||ba.movingWholeLayer&&ba.layer.maskLinked;ba.movingMask=rb||ba.movingWholeLayer&&ba.layer.maskLinked;ba.hasFullUndo=!1;ba.erasesSourceRect=!1;ba.dstRect=new Y.default(0,0,0,0);ba.movingLayers=[{layer:ba.layer,moveImage:ba.layer instanceof A.default&&ba.movingImage,moveMask:null!==ba.layer.mask&&ba.movingMask,imageRect:new Map,maskRect:new Map}];ba.layer instanceof C.default&&ba.movingImage&&ba.movingWholeLayer&&(ba.movingLayers=ba.movingLayers.concat(ba.layer.getLinearizedLayerList(!1).map(function(Ja){return{layer:Ja,
moveImage:Ja instanceof A.default,moveMask:null!==Ja.mask&&Ja.maskLinked,imageRect:new Map,maskRect:new Map}})));var va=new Y.default(0,0,0,0);if(ba.movingWholeLayer){ba.srcRect=eb.getBounds();for(var Ha=0;Ha<ba.movingLayers.length&&!va.equals(ba.srcRect);Ha++){var Wa=ba.movingLayers[Ha];Wa.moveMask&&va.union(Wa.layer.mask.getValueBounds(ba.srcRect,255));Wa.moveImage&&va.union(Wa.layer.image.getNonTransparentBounds(ba.srcRect))}}else for(ba.srcRect=ba.fromSelection.clone(),Ha=0;Ha<ba.movingLayers.length&&
!va.equals(ba.srcRect);Ha++)Wa=ba.movingLayers[Ha],Wa.moveMask&&va.union(Wa.layer.mask.getValueBounds(ba.srcRect,0)),Wa.moveImage&&va.union(Wa.layer.image.getNonTransparentBounds(ba.srcRect));ba.srcRect=va;return ba}w(ia,U);var Ba=m(ia);d(ia,[{key:"undo",value:function(){var ba=this,va=[];this.dstRect.isEmpty()||va.push(this.dstRect);this.erasesSourceRect&&(va.push(this.srcRect),va=Y.default.union(va));this.movingLayers.forEach(function(Ha){ba.hasFullUndo?va.forEach(function(Wa){Ha.moveImage&&Ha.layer.image.copyBitmapRect(Ha.imageUndo,
Wa.left,Wa.top,Wa);Ha.moveMask&&Ha.layer.mask.copyBitmapRect(Ha.maskUndo,Wa.left,Wa.top,Wa)}):(Ha.moveImage&&Ha.imageRect.forEach(function(Wa,Ja){Ha.layer.image.copyBitmapRect(Wa,Ja.left,Ja.top,Wa.getBounds())}),Ha.moveMask&&Ha.maskRect.forEach(function(Wa,Ja){Ha.layer.mask.copyBitmapRect(Wa,Ja.left,Ja.top,Wa.getBounds())}))});sa(this.movingLayers.map(function(Ha){return Ha.layer}),va.reduce(function(Ha,Wa){return Ha.getUnion(Wa)},new Y.default(0,0,0,0)),!0,!0);this.dstRect.makeEmpty();eb.setSelection(this.fromSelection);
eb.setActiveLayer(this.layer,this.fromMaskMode);La()}},{key:"getMemoryUsed",value:function(ba,va){return this.movingLayers.map(function(Ha){return[Ha.imageUndo,Ha.maskUndo,Ha.imageRect,Ha.maskRect].map(function(Wa){return Wa?Wa.getMemorySize():0}).reduce(e,0)}).reduce(e,0)}},{key:"buildFullUndo",value:function(){this.hasFullUndo||(this.movingLayers.forEach(function(ba){ba.moveImage&&(ba.imageUndo=ba.layer.image.clone());ba.moveMask&&(ba.maskUndo=ba.layer.mask.clone());ba.imageRect.clear();ba.maskRect.clear()}),
this.hasFullUndo=!0)}},{key:"compact",value:function(){if(this.hasFullUndo){var ba=[];this.dstRect.isEmpty()||ba.push(this.dstRect);this.erasesSourceRect&&(ba.push(this.srcRect),ba=Y.default.union(ba));this.movingLayers.forEach(function(va){va.imageRect.clear();va.maskRect.clear();ba.forEach(function(Ha){va.moveImage&&va.imageRect.set(Ha,va.imageUndo.cloneRect(Ha));va.moveMask&&va.maskRect.set(Ha,va.maskUndo.cloneRect(Ha))});va.imageUndo=null;va.maskUndo=null});this.hasFullUndo=!1}}}]);return ia}(J.default),
ab=function(U){function ia(ba,va){E(this,ia);var Ha=Ba.call(this);Ha.erasesSourceRect=!0;Ha.affineTransform=ba.clone();Ha.interpolation=va||"smooth";Ha.composeCanvas=null;Ha.composeCanvasContext=null;return Ha}w(ia,U);var Ba=m(ia);d(ia,[{key:"buildFullUndo",value:function(){var ba=this;this.hasFullUndo||(v(r(ia.prototype),"buildFullUndo",this).call(this),this.movingLayers.forEach(function(va){if(va.moveImage){var Ha=(0,ka.createCanvas)(ba.srcRect.getWidth(),ba.srcRect.getHeight());Ha.getContext("2d").putImageData(va.layer.image.getImageData(),
-ba.srcRect.left,-ba.srcRect.top,ba.srcRect.left,ba.srcRect.top,ba.srcRect.getWidth(),ba.srcRect.getHeight());va.imageSourceCanvas=Ha}va.moveMask&&(Ha=(0,ka.createCanvas)(ba.srcRect.getWidth(),ba.srcRect.getHeight()),Ha.getContext("2d").putImageData(va.layer.mask.getImageData(ba.srcRect.left,ba.srcRect.top,ba.srcRect.getWidth(),ba.srcRect.getHeight()),0,0),va.maskSourceCanvas=Ha)}),this.composeCanvas=(0,ka.createCanvas)(eb.width,eb.height),this.composeCanvasContext=this.composeCanvas.getContext("2d",
{willReadFrequently:!0}),(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.junk=this.composeCanvasContext.getImageData(0,0,1,1))}},{key:"redo",value:function(){var ba=this;this.buildFullUndo();var va=this.dstRect.clone(),Ha=this.srcRect.toPoints();this.affineTransform.transformPoints(Ha);this.dstRect.set(Y.default.createBoundingBox(Ha).roundContain().clipTo(eb.getBounds()));var Wa=Y.default.subtract(this.dstRect,this.srcRect),Ja=Y.default.subtract(va.isEmpty()?
this.srcRect:this.srcRect.getIntersection(va),this.dstRect),$a=this.srcRect.getIntersection(this.dstRect),bb=Y.default.subtract(va,[this.dstRect,this.srcRect]);va=this.srcRect.getUnion(this.dstRect).getUnion(va);this.movingLayers.forEach(function(jb){Ja.forEach(function(Db){jb.moveImage&&jb.layer.image.clearRect(Db,16777215);jb.moveMask&&(ba.movingWholeLayer?jb.layer.mask.clearRect(Db,255):jb.layer.mask.clearRect(Db,0))});if(!ba.dstRect.isEmpty()){if(jb.moveImage){var Lb=jb.imageUndo.getImageData();
Wa.forEach(function(Db){ba.composeCanvasContext.putImageData(Lb,0,0,Db.left,Db.top,Db.getWidth(),Db.getHeight())});ba.composeCanvasContext.clearRect($a.left,$a.top,$a.getWidth(),$a.getHeight());ba.composeCanvasContext.save();ba.composeCanvasContext.setTransform(ba.affineTransform.m[0],ba.affineTransform.m[1],ba.affineTransform.m[2],ba.affineTransform.m[3],ba.affineTransform.m[4],ba.affineTransform.m[5]);ba.composeCanvasContext.drawImage(jb.imageSourceCanvas,ba.srcRect.left,ba.srcRect.top);ba.composeCanvasContext.restore();
jb.layer.image.copyBitmapRect(new G.default(ba.composeCanvasContext.getImageData(ba.dstRect.left,ba.dstRect.top,ba.dstRect.getWidth(),ba.dstRect.getHeight())),ba.dstRect.left,ba.dstRect.top,new Y.default(0,0,ba.dstRect.getWidth(),ba.dstRect.getHeight()))}jb.moveMask&&(Wa.forEach(function(Db){ba.composeCanvasContext.putImageData(jb.layer.mask.getImageData(Db.left,Db.top,Db.getWidth(),Db.getHeight()),Db.left,Db.top)}),ba.composeCanvasContext.fillStyle=ba.movingWholeLayer?"#FFF":"#000",ba.composeCanvasContext.fillRect($a.left,
$a.top,$a.getWidth(),$a.getHeight()),ba.composeCanvasContext.save(),ba.composeCanvasContext.setTransform(ba.affineTransform.m[0],ba.affineTransform.m[1],ba.affineTransform.m[2],ba.affineTransform.m[3],ba.affineTransform.m[4],ba.affineTransform.m[5]),ba.composeCanvasContext.drawImage(jb.maskSourceCanvas,ba.srcRect.left,ba.srcRect.top),ba.composeCanvasContext.restore(),jb.layer.mask.pasteImageData(ba.composeCanvasContext.getImageData(ba.dstRect.left,ba.dstRect.top,ba.dstRect.getWidth(),ba.dstRect.getHeight()),
ba.dstRect.left,ba.dstRect.top))}bb.forEach(function(Db){jb.moveImage&&jb.layer.image.copyBitmapRect(jb.imageUndo,Db.left,Db.top,Db);jb.moveMask&&jb.layer.mask.copyBitmapRect(jb.maskUndo,Db.left,Db.top,Db)})});sa(this.movingLayers.map(function(jb){return jb.layer}),va,!0,!0);this.fromSelection.isEmpty()||(va=this.fromSelection.toPoints(),this.affineTransform.transformPoints(va),va=Y.default.createBoundingBox(va),va.roundNearest(),eb.setSelection(va),La());eb.setActiveLayer(this.layer,this.fromMaskMode)}},
{key:"amend",value:function(ba){this.hasFullUndo||this.undo();this.affineTransform=ba.clone();this.redo()}},{key:"setInterpolation",value:function(ba){ba!=this.interpolation&&(this.interpolation=ba,this.composeCanvasContext&&(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.undo(),this.redo())}},{key:"compact",value:function(){v(r(ia.prototype),"compact",this).call(this);this.composeCanvasContext=this.composeCanvas=null;this.movingLayers.forEach(function(ba){return ba.imageSourceCanvas=
null})}},{key:"getMemoryUsed",value:function(ba,va){ba=v(r(ia.prototype),"getMemoryUsed",this).call(this,ba,va);ba+=n(this.composeCanvas);return ba+=this.movingLayers.map(function(Ha){return n(Ha.imageSourceCanvas)}).reduce(e,0)}},{key:"getTransform",value:function(){return this.affineTransform.clone()}},{key:"getInitialTransformRect",value:function(){return this.srcRect.clone()}},{key:"getInitialSelectionRect",value:function(){return this.fromSelection.clone()}}]);return ia}(Na),mb=function(U){function ia(ba,
va,Ha){E(this,ia);var Wa=Ba.call(this);Wa.offsetX=ba;Wa.offsetY=va;Wa.erasesSourceRect=!Ha;return Wa}w(ia,U);var Ba=m(ia);d(ia,[{key:"redo",value:function(){var ba=this,va=this.dstRect.clone(),Ha=va.clone(),Wa=null;this.buildFullUndo();this.dstRect.set(this.srcRect);this.dstRect.translate(this.offsetX,this.offsetY);var Ja=this.dstRect.clone();this.dstRect.clipTo(eb.getBounds());if(this.erasesSourceRect){Wa=va.isEmpty()?this.srcRect:this.srcRect.getIntersection(va);Ha.union(Wa);var $a=va.subtract(this.srcRect)}else $a=
[va];this.movingLayers.forEach(function(bb){Wa&&(bb.moveImage&&bb.layer.image.clearRect(Wa,16777215),bb.moveMask&&bb.layer.mask.clearRect(Wa,ba.movingWholeLayer?255:0));$a.forEach(function(jb){bb.moveImage&&bb.layer.image.copyBitmapRect(bb.imageUndo,jb.left,jb.top,jb);bb.moveMask&&bb.layer.mask.copyBitmapRect(bb.maskUndo,jb.left,jb.top,jb)});bb.moveImage&&B.default.normalFuseImageOntoImageAtPosition(bb.layer.image,bb.imageUndo,Ja.left,Ja.top,ba.srcRect);bb.moveMask&&bb.layer.mask.copyBitmapRect(bb.maskUndo,
Ja.left,Ja.top,ba.srcRect)});Ha.union(this.dstRect);sa(this.movingLayers.map(function(bb){return bb.layer}),Ha,!0,!0);this.fromSelection.isEmpty()||(va=this.fromSelection.clone(),va.translate(this.offsetX,this.offsetY),eb.setSelection(va),La())}},{key:"amend",value:function(ba,va){this.hasFullUndo||this.undo();this.offsetX+=ba;this.offsetY+=va;this.redo()}}]);return ia}(Na);Pa.prototype=Object.create(J.default.prototype);Pa.prototype.constructor=Pa;Qa.prototype=Object.create(J.default.prototype);
Qa.prototype.constructor=Qa;bc=[ya.CPBrushTool,ya.CPBrushToolEraser,ya.CPBrushToolDodge,ya.CPBrushToolBurn,ya.CPBrushToolWatercolor,ya.CPBrushToolBlur,ya.CPBrushToolSmudge,ya.CPBrushToolOil].map(function(U){return new U(qc,jc)});this.width=ja;this.height=ua}Object.defineProperty(D,"__esModule",{value:!0});D.default=u;var A=k(g("./CPImageLayer.js")),C=k(g("./CPLayerGroup.js")),B=k(g("./CPBlend.js"));g("./CPBlendAdditional.js");var I=k(g("./CPGreyBmp.js")),N=k(g("./CPBlendTree.js")),y=k(g("./CPMaskView.js")),
G=k(g("./CPColorBmp.js")),H=k(g("./CPBrushManager.js")),O=k(g("./CPBrushInfo.js")),J=k(g("./CPUndo.js")),R=k(g("./CPClip.js")),ea=k(g("../util/CPColor.js")),Y=k(g("../util/CPRect.js")),qa=k(g("../util/CPRandom.js")),la=k(g("../util/CPTransform.js")),Q=g("../util/CPPolyfill.js"),ka=g("../util/Canvas.js"),oa=k(g("wolfy87-eventemitter")),ya=g("./CPBrushTool.js");u.prototype=Object.create(oa.default.prototype);u.prototype.constructor=u;u.prototype.getBounds=function(){return new Y.default(0,0,this.width,
this.height)};u.prototype.isPointWithin=function(ja,ua){return 0<=ja&&0<=ua&&ja<this.width&&ua<this.height};u.EDITING_MODE_IMAGE=0;u.EDITING_MODE_MASK=1;K.exports=D.default},{"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPRandom.js":62,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/Canvas.js":2,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPBlendTree.js":7,"./CPBrushInfo.js":8,"./CPBrushManager.js":9,"./CPBrushTool.js":10,"./CPClip.js":12,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,
"./CPImageLayer.js":15,"./CPLayerGroup.js":17,"./CPMaskView.js":19,"./CPUndo.js":22,"wolfy87-eventemitter":314}],4:[function(g,K,D){function z(v,E){this.width=v|0;this.height=E|0}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;var k=function(v){return v&&v.__esModule?v:{default:v}}(g("../util/CPRect.js"));z.prototype.getBounds=function(){return new k.default(0,0,this.width,this.height)};z.prototype.isInside=function(v,E){return 0<=v&&0<=E&&v<this.width&&E<this.height};K.exports=D.default},
{"../util/CPRect.js":63}],5:[function(g,K,D){function z(b){return b&&b.__esModule?b:{default:b}}function k(){}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;z(g("./CPColorBmp.js"));z(g("./CPGreyBmp.js"));z(g("./CPLayer.js"));z(g("../util/CPRect.js"));var v=Array(256),E=Array(256);k.multiplyOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=
d.data[a+3];if(c){var f=b.data[a];b.data[a]=f-((d.data[a]^255)*f*c/65025|0);f=b.data[a+1];b.data[a+1]=f-((d.data[a+1]^255)*f*c/65025|0);f=b.data[a+2];b.data[a+2]=f-((d.data[a+2]^255)*f*c/65025|0)}}};k.multiplyOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a];b.data[a]=p-((d.data[a]^255)*p*f/65025|0);p=b.data[a+
1];b.data[a+1]=p-((d.data[a+1]^255)*p*f/65025|0);p=b.data[a+2];b.data[a+2]=p-((d.data[a+2]^255)*p*f/65025|0)}}};k.multiplyOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*n+f*u+(c*f*e/255|0))/p|0;c=d.data[a+
1];f=b.data[a+1];b.data[a+1]=(c*n+f*u+(c*f*e/255|0))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*n+f*u+(c*f*e/255|0))/p|0;b.data[a+3]=p}}};k.multiplyOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=
(f*u+p*A+(f*p*n/255|0))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(f*u+p*A+(f*p*n/255|0))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(f*u+p*A+(f*p*n/255|0))/e|0;b.data[a+3]=e}}};k.multiplyOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h];
b.data[h]=n-((d.data[h]^255)*n*e/65025|0);n=b.data[h+1];b.data[h+1]=n-((d.data[h+1]^255)*n*e/65025|0);n=b.data[h+2];b.data[h+2]=n-((d.data[h+2]^255)*n*e/65025|0)}}};k.multiplyOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c];b.data[c]=
u-((d.data[c]^255)*u*n/65025|0);u=b.data[c+1];b.data[c+1]=u-((d.data[c+1]^255)*u*n/65025|0);u=b.data[c+2];b.data[c+2]=u-((d.data[c+2]^255)*u*n/65025|0)}}};k.multiplyOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h+3];var u=e+n-(e*n/255|
0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(e*C+n*B+(e*n*A/255|0))/u|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(e*C+n*B+(e*n*A/255|0))/u|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(e*C+n*B+(e*n*A/255|0))/u|0;b.data[h+3]=u}}};k.multiplyOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,
c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(n*B+u*I+(n*u*C/255|0))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(n*B+u*I+(n*u*C/255|0))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(n*B+u*I+(n*u*C/255|0))/A|0;b.data[c+3]=A}}};k.multiply2OntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-
m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a];b.data[a]=f-Math.ceil((d.data[a]^255)*f*c/65025);f=b.data[a+1];b.data[a+1]=f-Math.ceil((d.data[a+1]^255)*f*c/65025);f=b.data[a+2];b.data[a+2]=f-Math.ceil((d.data[a+2]^255)*f*c/65025)}}};k.multiply2OntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=
0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a];b.data[a]=p-Math.ceil((d.data[a]^255)*p*f/65025);p=b.data[a+1];b.data[a+1]=p-Math.ceil((d.data[a+1]^255)*p*f/65025);p=b.data[a+2];b.data[a+2]=p-Math.ceil((d.data[a+2]^255)*p*f/65025)}}};k.multiply2OntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=
c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*n+f*u+(c*f*e/255|0))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*n+f*u+(c*f*e/255|0))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*n+f*u+(c*f*e/255|0))/p|0;b.data[a+3]=p}}};k.multiply2OntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+
3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(f*u+p*A+(f*p*n/255|0))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(f*u+p*A+(f*p*n/255|0))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(f*u+p*A+(f*p*n/255|0))/e|0;b.data[a+3]=e}}};k.multiply2OntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h];b.data[h]=n-Math.ceil((d.data[h]^255)*n*e/65025);n=b.data[h+1];b.data[h+1]=n-Math.ceil((d.data[h+1]^255)*n*e/65025);n=b.data[h+2];b.data[h+2]=n-Math.ceil((d.data[h+2]^255)*n*e/65025)}}};k.multiply2OntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c];b.data[c]=u-Math.ceil((d.data[c]^255)*u*n/65025);u=b.data[c+1];b.data[c+1]=u-Math.ceil((d.data[c+1]^255)*u*n/65025);u=b.data[c+2];b.data[c+2]=u-Math.ceil((d.data[c+2]^255)*u*n/65025)}}};k.multiply2OntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(e*C+n*B+(e*n*A/255|0))/u|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(e*C+n*B+(e*n*A/255|0))/u|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(e*C+n*B+(e*n*A/255|0))/u|0;b.data[h+3]=u}}};k.multiply2OntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|
0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(n*B+u*I+(n*u*C/255|0))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(n*B+u*I+(n*u*C/255|0))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(n*B+u*I+(n*u*C/255|
0))/A|0;b.data[c+3]=A}}};k.normalOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c)if(255==c)b.data[a]=d.data[a],b.data[a+1]=d.data[a+1],b.data[a+2]=d.data[a+2];else{var f=255-c;var p=d.data[a];b.data[a]=(p*c+b.data[a]*f)/255|0;p=d.data[a+1];b.data[a+1]=(p*c+b.data[a+1]*f)/255|0;p=d.data[a+2];b.data[a+2]=(p*c+b.data[a+2]*f)/255|0}}};k.normalOntoOpaqueFusionWithTransparentLayer=
function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=255-f;var e=d.data[a];b.data[a]=(e*f+b.data[a]*p)/255|0;e=d.data[a+1];b.data[a+1]=(e*f+b.data[a+1]*p)/255|0;e=d.data[a+2];b.data[a+2]=(e*f+b.data[a+2]*p)/255|0}}};k.normalOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];f=c+f-(c*f/255|0)|0;c=255*c/f|0;var p=255-c;b.data[a]=(d.data[a]*c+b.data[a]*p)/255|0;b.data[a+1]=(d.data[a+1]*c+b.data[a+1]*p)/255|0;b.data[a+2]=(d.data[a+2]*c+b.data[a+2]*p)/255|0;b.data[a+3]=f}}};k.normalOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,
a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];p=f+p-(f*p/255|0)|0;f=255*f/p|0;var e=255-f;b.data[a]=(d.data[a]*f+b.data[a]*e)/255|0;b.data[a+1]=(d.data[a+1]*f+b.data[a+1]*e)/255|0;b.data[a+2]=(d.data[a+2]*f+b.data[a+2]*e)/255|0;b.data[a+3]=p}}};k.normalOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<
q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e)if(255==e)b.data[h]=d.data[h],b.data[h+1]=d.data[h+1],b.data[h+2]=d.data[h+2];else{var n=255-e;var u=d.data[h];b.data[h]=(u*e+b.data[h]*n)/255|0;u=d.data[h+1];b.data[h+1]=(u*e+b.data[h+1]*n)/255|0;u=d.data[h+2];b.data[h+2]=(u*e+b.data[h+2]*n)/255|0}}};k.normalOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=255-n;var A=d.data[c];b.data[c]=(A*n+b.data[c]*u)/255|0;A=d.data[c+1];b.data[c+1]=(A*n+b.data[c+1]*u)/255|0;A=d.data[c+2];b.data[c+2]=(A*n+b.data[c+2]*u)/255|0}}};k.normalOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=
0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h+3];n=e+n-(e*n/255|0)|0;e=255*e/n|0;var u=255-e;b.data[h]=(d.data[h]*e+b.data[h]*u)/255|0;b.data[h+1]=(d.data[h+1]*e+b.data[h+1]*u)/255|0;b.data[h+2]=(d.data[h+2]*e+b.data[h+2]*u)/255|0;b.data[h+3]=n}}};k.normalOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];u=n+u-(n*u/255|0)|0;n=255*n/u|0;var A=255-n;b.data[c]=(d.data[c]*n+b.data[c]*A)/255|0;b.data[c+1]=(d.data[c+1]*n+b.data[c+1]*A)/255|0;b.data[c+2]=(d.data[c+2]*n+b.data[c+2]*A)/255|0;b.data[c+3]=u}}};k.addOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=
0;h<m;h++,a+=4){var c=d.data[a+3];c&&(b.data[a]=b.data[a]+c*d.data[a]/255|0,b.data[a+1]=b.data[a+1]+c*d.data[a+1]/255|0,b.data[a+2]=b.data[a+2]+c*d.data[a+2]/255|0)}};k.addOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;f&&(b.data[a]=b.data[a]+f*d.data[a]/255|0,b.data[a+1]=b.data[a+1]+f*d.data[a+1]/255|0,b.data[a+2]=b.data[a+
2]+f*d.data[a+2]/255|0)}};k.addOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0;b.data[a]=(f*b.data[a]+c*d.data[a])/p|0;b.data[a+1]=(f*b.data[a+1]+c*d.data[a+1])/p|0;b.data[a+2]=(f*b.data[a+2]+c*d.data[a+2])/p|0;b.data[a+3]=p}}};k.addOntoTransparentFusionWithTransparentLayer=function(b,
d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0;b.data[a]=(p*b.data[a]+f*d.data[a])/e|0;b.data[a+1]=(p*b.data[a+1]+f*d.data[a+1])/e|0;b.data[a+2]=(p*b.data[a+2]+f*d.data[a+2])/e|0;b.data[a+3]=e}}};k.addOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,
a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;e&&(b.data[h]=b.data[h]+e*d.data[h]/255|0,b.data[h+1]=b.data[h+1]+e*d.data[h+1]/255|0,b.data[h+2]=b.data[h+2]+e*d.data[h+2]/255|0)}};k.addOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=
0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;n&&(b.data[c]=b.data[c]+n*d.data[c]/255|0,b.data[c+1]=b.data[c+1]+n*d.data[c+1]/255|0,b.data[c+2]=b.data[c+2]+n*d.data[c+2]/255|0)}};k.addOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+
3]*m.data[a]/255|0;if(e){var n=b.data[h+3];var u=e+n-(e*n/255|0)|0;b.data[h]=(n*b.data[h]+e*d.data[h])/u|0;b.data[h+1]=(n*b.data[h+1]+e*d.data[h+1])/u|0;b.data[h+2]=(n*b.data[h+2]+e*d.data[h+2])/u|0;b.data[h+3]=u}}};k.addOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+
3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0;b.data[c]=(u*b.data[c]+n*d.data[c])/A|0;b.data[c+1]=(u*b.data[c+1]+n*d.data[c+1])/A|0;b.data[c+2]=(u*b.data[c+2]+n*d.data[c+2])/A|0;b.data[c+3]=A}}};k.subtractOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];c&&(b.data[a]=b.data[a]+c*d.data[a]/255-c|0,b.data[a+1]=b.data[a+
1]+c*d.data[a+1]/255-c|0,b.data[a+2]=b.data[a+2]+c*d.data[a+2]/255-c|0)}};k.subtractOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;f&&(b.data[a]=b.data[a]+f*d.data[a]/255-f|0,b.data[a+1]=b.data[a+1]+f*d.data[a+1]/255-f|0,b.data[a+2]=b.data[a+2]+f*d.data[a+2]/255-f|0)}};k.subtractOntoTransparentFusionWithOpaqueLayer=function(b,
d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f;b.data[a]=(f*b.data[a]+c*d.data[a]-e)/p|0;b.data[a+1]=(f*b.data[a+1]+c*d.data[a+1]-e)/p|0;b.data[a+2]=(f*b.data[a+2]+c*d.data[a+2]-e)/p|0;b.data[a+3]=p}}};k.subtractOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|
0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p;b.data[a]=(p*b.data[a]+f*d.data[a]-n)/e|0;b.data[a+1]=(p*b.data[a+1]+f*d.data[a+1]-n)/e|0;b.data[a+2]=(p*b.data[a+2]+f*d.data[a+2]-n)/e|0;b.data[a+3]=e}}};k.subtractOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;e&&(b.data[h]=b.data[h]+e*d.data[h]/255-e|0,b.data[h+1]=b.data[h+1]+e*d.data[h+1]/255-e|0,b.data[h+2]=b.data[h+2]+e*d.data[h+2]/255-e|0)}};k.subtractOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,
c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;n&&(b.data[c]=b.data[c]+n*d.data[c]/255-n|0,b.data[c+1]=b.data[c+1]+n*d.data[c+1]/255-n|0,b.data[c+2]=b.data[c+2]+n*d.data[c+2]/255-n|0)}};k.subtractOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=
b.data[h+3];var u=e+n-(e*n/255|0)|0,A=e*n;b.data[h]=(n*b.data[h]+e*d.data[h]-A)/u|0;b.data[h+1]=(n*b.data[h+1]+e*d.data[h+1]-A)/u|0;b.data[h+2]=(n*b.data[h+2]+e*d.data[h+2]-A)/u|0;b.data[h+3]=u}}};k.subtractOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*
w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u;b.data[c]=(u*b.data[c]+n*d.data[c]-C)/A|0;b.data[c+1]=(u*b.data[c+1]+n*d.data[c+1]-C)/A|0;b.data[c+2]=(u*b.data[c+2]+n*d.data[c+2]-C)/A|0;b.data[c+3]=A}}};k.screenOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=b.data[a];b.data[a]=255^((p^255)*f+(d.data[a]^
255)*(p^255)*c/255)/255;p=b.data[a+1];b.data[a+1]=255^((p^255)*f+(d.data[a+1]^255)*(p^255)*c/255)/255;p=b.data[a+2];b.data[a+2]=255^((p^255)*f+(d.data[a+2]^255)*(p^255)*c/255)/255}}};k.screenOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=b.data[a];b.data[a]=255^((e^255)*p+(d.data[a]^255)*(e^255)*f/255)/
255;e=b.data[a+1];b.data[a+1]=255^((e^255)*p+(d.data[a+1]^255)*(e^255)*f/255)/255;e=b.data[a+2];b.data[a+2]=255^((e^255)*p+(d.data[a+2]^255)*(e^255)*f/255)/255}}};k.screenOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];
b.data[a]=255^((c^255)*n+(f^255)*u+(c^255)*(f^255)*e/255)/p;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=255^((c^255)*n+(f^255)*u+(c^255)*(f^255)*e/255)/p;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=255^((c^255)*n+(f^255)*u+(c^255)*(f^255)*e/255)/p;b.data[a+3]=p}}};k.screenOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=
b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=255^((f^255)*u+(p^255)*A+(f^255)*(p^255)*n/255)/e;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=255^((f^255)*u+(p^255)*A+(f^255)*(p^255)*n/255)/e;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=255^((f^255)*u+(p^255)*A+(f^255)*(p^255)*n/255)/e;b.data[a+3]=e}}};k.screenOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,
a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=e^255;var u=b.data[h];b.data[h]=255^((u^255)*n+(d.data[h]^255)*(u^255)*e/255)/255;u=b.data[h+1];b.data[h+1]=255^((u^255)*n+(d.data[h+1]^255)*(u^255)*e/255)/255;u=b.data[h+2];b.data[h+2]=255^((u^255)*n+(d.data[h+2]^255)*(u^255)*e/255)/255}}};k.screenOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|
0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=n^255;var A=b.data[c];b.data[c]=255^((A^255)*u+(d.data[c]^255)*(A^255)*n/255)/255;A=b.data[c+1];b.data[c+1]=255^((A^255)*u+(d.data[c+1]^255)*(A^255)*n/255)/255;A=b.data[c+2];b.data[c+2]=255^((A^255)*u+(d.data[c+2]^255)*(A^255)*n/255)/255}}};k.screenOntoTransparentFusionWithOpaqueLayerMasked=
function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=255^((e^255)*C+(n^255)*B+(e^255)*(n^255)*A/255)/u;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=255^((e^255)*C+(n^255)*B+(e^
255)*(n^255)*A/255)/u;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=255^((e^255)*C+(n^255)*B+(e^255)*(n^255)*A/255)/u;b.data[h+3]=u}}};k.screenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,
B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=255^((n^255)*B+(u^255)*I+(n^255)*(u^255)*C/255)/A;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=255^((n^255)*B+(u^255)*I+(n^255)*(u^255)*C/255)/A;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=255^((n^255)*B+(u^255)*I+(n^255)*(u^255)*C/255)/A;b.data[c+3]=A}}};k.lightenOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=
0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=e>=p?e:(e*f+p*c)/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=e>=p?e:(e*f+p*c)/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=e>=p?e:(e*f+p*c)/255|0}}};k.lightenOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=
d.data[a];var n=b.data[a];b.data[a]=n>=e?n:(n*p+e*f)/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=n>=e?n:(n*p+e*f)/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=n>=e?n:(n*p+e*f)/255|0}}};k.lightenOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=f*(c^255)/p|0,n=e^255,u=c*(f^255)/p|0,A=
u^255;c=d.data[a];f=b.data[a];b.data[a]=(f>=c?c*u+f*A:f*e+c*n)/255|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(f>=c?c*u+f*A:f*e+c*n)/255|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(f>=c?c*u+f*A:f*e+c*n)/255|0;b.data[a+3]=p}}};k.lightenOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|
0)|0,n=p*(f^255)/e|0,u=n^255,A=f*(p^255)/e|0,C=A^255;f=d.data[a];p=b.data[a];b.data[a]=(p>=f?f*A+p*C:p*n+f*u)/255|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(p>=f?f*A+p*C:p*n+f*u)/255|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(p>=f?f*A+p*C:p*n+f*u)/255|0;b.data[a+3]=e}}};k.lightenOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,
a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=e^255;var u=d.data[h];var A=b.data[h];b.data[h]=A>=u?A:(A*n+u*e)/255|0;u=d.data[h+1];A=b.data[h+1];b.data[h+1]=A>=u?A:(A*n+u*e)/255|0;u=d.data[h+2];A=b.data[h+2];b.data[h+2]=A>=u?A:(A*n+u*e)/255|0}}};k.lightenOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=
0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=C>=A?C:(C*u+A*n)/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=C>=A?C:(C*u+A*n)/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=C>=A?C:(C*u+A*n)/255|0}}};k.lightenOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h+3];var u=e+n-(e*n/255|0)|0,A=n*(e^255)/u|0,C=A^255,B=e*(n^255)/u|0,I=B^255;e=d.data[h];n=b.data[h];b.data[h]=(n>=e?e*B+n*I:n*A+e*C)/255|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(n>=e?e*B+n*I:n*A+e*C)/255|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(n>=e?e*B+n*I:n*A+e*C)/255|0;b.data[h+3]=u}}};k.lightenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|
0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=u*(n^255)/A|0,B=C^255,I=n*(u^255)/A|0,N=I^255;n=d.data[c];u=b.data[c];b.data[c]=(u>=n?n*I+u*N:u*C+n*B)/255|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(u>=n?n*I+u*N:u*C+n*B)/255|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(u>=n?n*I+u*N:u*
C+n*B)/255|0;b.data[c+3]=A}}};k.darkenOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=e>=p?(e*f+p*c)/255|0:e;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=e>=p?(e*f+p*c)/255|0:e;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=e>=p?(e*f+p*c)/255|0:e}}};k.darkenOntoOpaqueFusionWithTransparentLayer=
function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=n>=e?(n*p+e*f)/255|0:n;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=n>=e?(n*p+e*f)/255|0:n;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=n>=e?(n*p+e*f)/255|0:n}}};k.darkenOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=
4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*(f^255)/p|0,n=e^255,u=f*(c^255)/p|0,A=u^255;c=d.data[a];f=b.data[a];b.data[a]=(f>=c?f*u+c*A:c*e+f*n)/255|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(f>=c?f*u+c*A:c*e+f*n)/255|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(f>=c?f*u+c*A:c*e+f*n)/255|0;b.data[a+3]=p}}};k.darkenOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=
a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*(p^255)/e|0,u=n^255,A=p*(f^255)/e|0,C=A^255;f=d.data[a];p=b.data[a];b.data[a]=(p>=f?p*A+f*C:f*n+p*u)/255|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(p>=f?p*A+f*C:f*n+p*u)/255|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(p>=f?p*A+f*C:f*n+p*u)/255|0;b.data[a+3]=e}}};k.darkenOntoOpaqueFusionWithOpaqueLayerMasked=
function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=e^255;var u=d.data[h];var A=b.data[h];b.data[h]=A>=u?(A*n+u*e)/255|0:A;u=d.data[h+1];A=b.data[h+1];b.data[h+1]=A>=u?(A*n+u*e)/255|0:A;u=d.data[h+2];A=b.data[h+2];b.data[h+2]=A>=u?(A*n+u*e)/255|0:A}}};k.darkenOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=C>=A?(C*u+A*n)/255|0:C;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=C>=A?(C*u+A*n)/255|0:C;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=C>=A?(C*u+A*n)/255|0:C}}};k.darkenOntoTransparentFusionWithOpaqueLayerMasked=
function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h+3];var u=e+n-(e*n/255|0)|0,A=e*(n^255)/u|0,C=A^255,B=n*(e^255)/u|0,I=B^255;e=d.data[h];n=b.data[h];b.data[h]=(n>=e?n*B+e*I:e*A+n*C)/255|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(n>=e?n*B+e*I:e*A+n*C)/255|0;e=d.data[h+2];n=b.data[h+
2];b.data[h+2]=(n>=e?n*B+e*I:e*A+n*C)/255|0;b.data[h+3]=u}}};k.darkenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*(u^255)/A|0,B=C^255,I=u*(n^255)/A|0,N=I^255;n=d.data[c];u=b.data[c];b.data[c]=
(u>=n?u*I+n*N:n*C+u*B)/255|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(u>=n?u*I+n*N:n*C+u*B)/255|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(u>=n?u*I+n*N:n*C+u*B)/255|0;b.data[c+3]=A}}};k.dodgeOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(e*f+c*(255==p?255:Math.min(255,255*e/(p^
255)|0)))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(e*f+c*(255==p?255:Math.min(255,255*e/(p^255)|0)))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(e*f+c*(255==p?255:Math.min(255,255*e/(p^255)|0)))/255|0}}};k.dodgeOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=
(n*p+f*(255==e?255:Math.min(255,255*n/(e^255)|0)))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(n*p+f*(255==e?255:Math.min(255,255*n/(e^255)|0)))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(n*p+f*(255==e?255:Math.min(255,255*n/(e^255)|0)))/255|0}}};k.dodgeOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=
c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*n+f*u+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*n+f*u+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*n+f*u+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/p|0;b.data[a+3]=p}}};k.dodgeOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(f*u+p*A+n*(255==f?255:Math.min(255,255*p/(f^255)|0)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(f*u+p*A+n*(255==f?255:Math.min(255,255*p/(f^255)|0)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(f*u+p*A+n*(255==f?255:Math.min(255,255*p/(f^255)|0)))/e|0;b.data[a+3]=e}}};k.dodgeOntoOpaqueFusionWithOpaqueLayerMasked=
function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=e^255;var u=d.data[h];var A=b.data[h];b.data[h]=(A*n+e*(255==u?255:Math.min(255,255*A/(u^255)|0)))/255|0;u=d.data[h+1];A=b.data[h+1];b.data[h+1]=(A*n+e*(255==u?255:Math.min(255,255*A/(u^255)|0)))/255|0;u=d.data[h+2];A=b.data[h+2];b.data[h+
2]=(A*n+e*(255==u?255:Math.min(255,255*A/(u^255)|0)))/255|0}}};k.dodgeOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(C*u+n*(255==A?255:Math.min(255,255*C/(A^255)|0)))/255|0;A=d.data[c+1];
C=b.data[c+1];b.data[c+1]=(C*u+n*(255==A?255:Math.min(255,255*C/(A^255)|0)))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(C*u+n*(255==A?255:Math.min(255,255*C/(A^255)|0)))/255|0}}};k.dodgeOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h+
3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(e*C+n*B+A*(255==e?255:Math.min(255,255*n/(e^255)|0)))/u|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(e*C+n*B+A*(255==e?255:Math.min(255,255*n/(e^255)|0)))/u|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(e*C+n*B+A*(255==e?255:Math.min(255,255*n/(e^255)|0)))/u|0;b.data[h+3]=u}}};k.dodgeOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*
(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(n*B+u*I+C*(255==n?255:Math.min(255,255*u/(n^255)|0)))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(n*B+u*I+C*(255==n?255:Math.min(255,255*u/(n^255)|0)))/A|0;n=d.data[c+2];u=b.data[c+
2];b.data[c+2]=(n*B+u*I+C*(255==n?255:Math.min(255,255*u/(n^255)|0)))/A|0;b.data[c+3]=A}}};k.burnOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(e*f+c*(0==p?0:Math.min(255,255*(e^255)/p)^255))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(e*f+c*(0==p?0:Math.min(255,255*(e^255)/
p)^255))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(e*f+c*(0==p?0:Math.min(255,255*(e^255)/p)^255))/255|0}}};k.burnOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(n*p+f*(0==e?0:Math.min(255,255*(n^255)/e)^255))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(n*p+
f*(0==e?0:Math.min(255,255*(n^255)/e)^255))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(n*p+f*(0==e?0:Math.min(255,255*(n^255)/e)^255))/255|0}}};k.burnOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*
n+f*u+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*n+f*u+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*n+f*u+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/p|0;b.data[a+3]=p}}};k.burnOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=
b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(f*u+p*A+n*(0==f?0:Math.min(255,255*(p^255)/f)^255))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(f*u+p*A+n*(0==f?0:Math.min(255,255*(p^255)/f)^255))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(f*u+p*A+n*(0==f?0:Math.min(255,255*(p^255)/f)^255))/e|0;b.data[a+3]=e}}};k.burnOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-
q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=e^255;var u=d.data[h];var A=b.data[h];b.data[h]=(A*n+e*(0==u?0:Math.min(255,255*(A^255)/u)^255))/255|0;u=d.data[h+1];A=b.data[h+1];b.data[h+1]=(A*n+e*(0==u?0:Math.min(255,255*(A^255)/u)^255))/255|0;u=d.data[h+2];A=b.data[h+2];b.data[h+2]=(A*n+e*(0==u?0:Math.min(255,255*(A^255)/u)^255))/255|0}}};k.burnOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(C*u+n*(0==A?0:Math.min(255,255*(C^255)/A)^255))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(C*u+n*(0==A?0:Math.min(255,255*(C^255)/A)^255))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+
2]=(C*u+n*(0==A?0:Math.min(255,255*(C^255)/A)^255))/255|0}}};k.burnOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(e*C+n*B+
A*(0==e?0:Math.min(255,255*(n^255)/e)^255))/u|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(e*C+n*B+A*(0==e?0:Math.min(255,255*(n^255)/e)^255))/u|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(e*C+n*B+A*(0==e?0:Math.min(255,255*(n^255)/e)^255))/u|0;b.data[h+3]=u}}};k.burnOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=
0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(n*B+u*I+C*(0==n?0:Math.min(255,255*(u^255)/n)^255))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(n*B+u*I+C*(0==n?0:Math.min(255,255*(u^255)/n)^255))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(n*B+u*I+C*(0==n?0:Math.min(255,255*(u^255)/n)^255))/A|0;b.data[c+3]=A}}};k.overlayOntoOpaqueFusionWithOpaqueLayer=function(b,
d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=e?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=e?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+(127>=e?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0}}};k.overlayOntoOpaqueFusionWithTransparentLayer=
function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(p*n+(127>=n?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^255)))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+(127>=n?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^255)))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+(127>=n?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^
255)))/255|0}}};k.overlayOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+u*f+(127>=f?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+u*f+(127>=f?2*e*c*f/255:
e*(2*(c^255)*(f^255)/255^255)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+u*f+(127>=f?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;b.data[a+3]=p}}};k.overlayOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];
p=b.data[a];b.data[a]=(u*f+A*p+(127>=p?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(u*f+A*p+(127>=p?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(u*f+A*p+(127>=p?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;b.data[a+3]=e}}};k.overlayOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=e^255;var u=d.data[h];var A=b.data[h];b.data[h]=(n*A+(127>=A?2*e*u*A/255:e*(2*(u^255)*(A^255)/255^255)))/255|0;u=d.data[h+1];A=b.data[h+1];b.data[h+1]=(n*A+(127>=A?2*e*u*A/255:e*(2*(u^255)*(A^255)/255^255)))/255|0;u=d.data[h+2];A=b.data[h+2];b.data[h+2]=(n*A+(127>=A?2*e*u*A/255:e*(2*(u^255)*(A^255)/255^255)))/255|0}}};k.overlayOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,
a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(u*C+(127>=C?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+(127>=C?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+
2]=(u*C+(127>=C?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0}}};k.overlayOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=
(C*e+B*n+(127>=n?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/u|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(C*e+B*n+(127>=n?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/u|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(C*e+B*n+(127>=n?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/u|0;b.data[h+3]=u}}};k.overlayOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|
0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(B*n+I*u+(127>=u?2*C*n*u/255:C*(2*(n^255)*(u^255)/255^255)))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(B*n+I*u+(127>=u?2*C*n*u/255:C*(2*(n^255)*(u^255)/255^255)))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(B*n+I*u+(127>=u?2*C*n*u/255:C*(2*(n^255)*(u^255)/255^255)))/
A|0;b.data[c+3]=A}}};k.hardLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=p?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=p?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+
2]=(f*e+(127>=p?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0}}};k.hardLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(p*n+(127>=e?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^255)))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+(127>=e?2*f*e*n/255:f*(2*(e^255)*
(n^255)/255^255)))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+(127>=e?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^255)))/255|0}}};k.hardLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+u*f+(127>=
c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+u*f+(127>=c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+u*f+(127>=c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;b.data[a+3]=p}}};k.hardLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+
3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(u*f+A*p+(127>=f?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(u*f+A*p+(127>=f?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(u*f+A*p+(127>=f?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;b.data[a+3]=e}}};k.hardLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=
a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=e^255;var u=d.data[h];var A=b.data[h];b.data[h]=(n*A+(127>=u?2*e*u*A/255:e*(2*(u^255)*(A^255)/255^255)))/255|0;u=d.data[h+1];A=b.data[h+1];b.data[h+1]=(n*A+(127>=u?2*e*u*A/255:e*(2*(u^255)*(A^255)/255^255)))/255|0;u=d.data[h+2];A=b.data[h+2];b.data[h+2]=(n*A+
(127>=u?2*e*u*A/255:e*(2*(u^255)*(A^255)/255^255)))/255|0}}};k.hardLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(u*C+(127>=A?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0;A=d.data[c+
1];C=b.data[c+1];b.data[c+1]=(u*C+(127>=A?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+(127>=A?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0}}};k.hardLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|
0;if(e){var n=b.data[h+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(C*e+B*n+(127>=e?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/u|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(C*e+B*n+(127>=e?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/u|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(C*e+B*n+(127>=e?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/u|0;b.data[h+3]=u}}};k.hardLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=
a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(B*n+I*u+(127>=n?2*C*n*u/255:C*(2*(n^255)*(u^255)/255^255)))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(B*n+I*u+(127>=n?2*C*n*u/255:C*(2*(n^
255)*(u^255)/255^255)))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(B*n+I*u+(127>=n?2*C*n*u/255:C*(2*(n^255)*(u^255)/255^255)))/A|0;b.data[c+3]=A}}};k.softLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+c*(127>=p?((2*p-255)*v[e]/255|0)+e:((2*p-255)*E[e]/255|0)+e))/255|
0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+c*(127>=p?((2*p-255)*v[e]/255|0)+e:((2*p-255)*E[e]/255|0)+e))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+c*(127>=p?((2*p-255)*v[e]/255|0)+e:((2*p-255)*E[e]/255|0)+e))/255|0}}};k.softLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=
b.data[a];b.data[a]=(p*n+f*(127>=e?((2*e-255)*v[n]/255|0)+n:((2*e-255)*E[n]/255|0)+n))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+f*(127>=e?((2*e-255)*v[n]/255|0)+n:((2*e-255)*E[n]/255|0)+n))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+f*(127>=e?((2*e-255)*v[n]/255|0)+n:((2*e-255)*E[n]/255|0)+n))/255|0}}};k.softLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=
q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+u*f+(127>=c?e*(((2*c-255)*v[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+u*f+(127>=c?e*(((2*c-255)*v[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+u*f+(127>=c?e*(((2*c-255)*v[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/p|0;b.data[a+
3]=p}}};k.softLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(u*f+A*p+(127>=f?n*(((2*f-255)*v[p]/255|0)+p):n*(((2*f-255)*E[p]/255|0)+p)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(u*
f+A*p+(127>=f?n*(((2*f-255)*v[p]/255|0)+p):n*(((2*f-255)*E[p]/255|0)+p)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(u*f+A*p+(127>=f?n*(((2*f-255)*v[p]/255|0)+p):n*(((2*f-255)*E[p]/255|0)+p)))/e|0;b.data[a+3]=e}}};k.softLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*
m.data[a]/255|0;if(e){var n=e^255;var u=d.data[h];var A=b.data[h];b.data[h]=(n*A+e*(127>=u?((2*u-255)*v[A]/255|0)+A:((2*u-255)*E[A]/255|0)+A))/255|0;u=d.data[h+1];A=b.data[h+1];b.data[h+1]=(n*A+e*(127>=u?((2*u-255)*v[A]/255|0)+A:((2*u-255)*E[A]/255|0)+A))/255|0;u=d.data[h+2];A=b.data[h+2];b.data[h+2]=(n*A+e*(127>=u?((2*u-255)*v[A]/255|0)+A:((2*u-255)*E[A]/255|0)+A))/255|0}}};k.softLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-
r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(u*C+n*(127>=A?((2*A-255)*v[C]/255|0)+C:((2*A-255)*E[C]/255|0)+C))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+n*(127>=A?((2*A-255)*v[C]/255|0)+C:((2*A-255)*E[C]/255|0)+C))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+n*(127>=A?((2*A-255)*v[C]/
255|0)+C:((2*A-255)*E[C]/255|0)+C))/255|0}}};k.softLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(C*e+B*n+(127>=e?A*
(((2*e-255)*v[n]/255|0)+n):A*(((2*e-255)*E[n]/255|0)+n)))/u|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(C*e+B*n+(127>=e?A*(((2*e-255)*v[n]/255|0)+n):A*(((2*e-255)*E[n]/255|0)+n)))/u|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(C*e+B*n+(127>=e?A*(((2*e-255)*v[n]/255|0)+n):A*(((2*e-255)*E[n]/255|0)+n)))/u|0;b.data[h+3]=u}}};k.softLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-
r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(B*n+I*u+(127>=n?C*(((2*n-255)*v[u]/255|0)+u):C*(((2*n-255)*E[u]/255|0)+u)))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(B*n+I*u+(127>=n?C*(((2*n-255)*v[u]/255|0)+u):C*(((2*n-255)*E[u]/255|0)+u)))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+
2]=(B*n+I*u+(127>=n?C*(((2*n-255)*v[u]/255|0)+u):C*(((2*n-255)*E[u]/255|0)+u)))/A|0;b.data[c+3]=A}}};k.vividLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=p?c*(0==p?0:255-Math.min(255,255*(255-e)/(2*p)|0)):c*(255==p?255:Math.min(255,255*e/(2*(255-p))|0))))/255|0;
p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=p?c*(0==p?0:255-Math.min(255,255*(255-e)/(2*p)|0)):c*(255==p?255:Math.min(255,255*e/(2*(255-p))|0))))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+(127>=p?c*(0==p?0:255-Math.min(255,255*(255-e)/(2*p)|0)):c*(255==p?255:Math.min(255,255*e/(2*(255-p))|0))))/255|0}}};k.vividLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=
r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(p*n+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):f*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):f*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):f*(255==
e?255:Math.min(255,255*n/(2*(255-e))|0))))/255|0}}};k.vividLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+u*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,
255*f/(2*(255-c))|0))))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+u*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,255*f/(2*(255-c))|0))))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+u*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,255*f/(2*(255-c))|0))))/p|0;b.data[a+3]=p}}};k.vividLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(u*f+A*p+(127>=f?n*(0==f?0:255-Math.min(255,255*(255-p)/(2*f)|0)):n*(255==f?255:Math.min(255,255*p/(2*(255-f))|0))))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(u*f+A*p+(127>=f?n*(0==f?0:255-Math.min(255,255*(255-p)/(2*f)|0)):n*(255==f?255:Math.min(255,255*p/(2*(255-f))|0))))/e|0;f=d.data[a+
2];p=b.data[a+2];b.data[a+2]=(u*f+A*p+(127>=f?n*(0==f?0:255-Math.min(255,255*(255-p)/(2*f)|0)):n*(255==f?255:Math.min(255,255*p/(2*(255-f))|0))))/e|0;b.data[a+3]=e}}};k.vividLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=e^255;var u=d.data[h];
var A=b.data[h];b.data[h]=(n*A+(127>=u?e*(0==u?0:255-Math.min(255,255*(255-A)/(2*u)|0)):e*(255==u?255:Math.min(255,255*A/(2*(255-u))|0))))/255|0;u=d.data[h+1];A=b.data[h+1];b.data[h+1]=(n*A+(127>=u?e*(0==u?0:255-Math.min(255,255*(255-A)/(2*u)|0)):e*(255==u?255:Math.min(255,255*A/(2*(255-u))|0))))/255|0;u=d.data[h+2];A=b.data[h+2];b.data[h+2]=(n*A+(127>=u?e*(0==u?0:255-Math.min(255,255*(255-A)/(2*u)|0)):e*(255==u?255:Math.min(255,255*A/(2*(255-u))|0))))/255|0}}};k.vividLightOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(u*C+(127>=A?n*(0==A?0:255-Math.min(255,255*(255-C)/(2*A)|0)):n*(255==A?255:Math.min(255,255*C/(2*(255-A))|0))))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+(127>=A?n*(0==A?0:255-
Math.min(255,255*(255-C)/(2*A)|0)):n*(255==A?255:Math.min(255,255*C/(2*(255-A))|0))))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+(127>=A?n*(0==A?0:255-Math.min(255,255*(255-C)/(2*A)|0)):n*(255==A?255:Math.min(255,255*C/(2*(255-A))|0))))/255|0}}};k.vividLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=
0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(C*e+B*n+(127>=e?A*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):A*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/u|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(C*e+B*n+(127>=e?A*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):A*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/u|0;e=d.data[h+2];n=b.data[h+2];b.data[h+
2]=(C*e+B*n+(127>=e?A*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):A*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/u|0;b.data[h+3]=u}}};k.vividLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|
0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(B*n+I*u+(127>=n?C*(0==n?0:255-Math.min(255,255*(255-u)/(2*n)|0)):C*(255==n?255:Math.min(255,255*u/(2*(255-n))|0))))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(B*n+I*u+(127>=n?C*(0==n?0:255-Math.min(255,255*(255-u)/(2*n)|0)):C*(255==n?255:Math.min(255,255*u/(2*(255-n))|0))))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(B*n+I*u+(127>=n?C*(0==n?0:255-Math.min(255,255*(255-u)/(2*n)|0)):C*(255==n?255:Math.min(255,
255*u/(2*(255-n))|0))))/A|0;b.data[c+3]=A}}};k.linearLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=b.data[a];b.data[a]=(f*p+c*Math.min(255,Math.max(0,p+2*d.data[a]-255)))/255|0;p=b.data[a+1];b.data[a+1]=(f*p+c*Math.min(255,Math.max(0,p+2*d.data[a+1]-255)))/255|0;p=b.data[a+2];b.data[a+2]=(f*p+c*Math.min(255,
Math.max(0,p+2*d.data[a+2]-255)))/255|0}}};k.linearLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=b.data[a];b.data[a]=(p*e+f*Math.min(255,Math.max(0,e+2*d.data[a]-255)))/255|0;e=b.data[a+1];b.data[a+1]=(p*e+f*Math.min(255,Math.max(0,e+2*d.data[a+1]-255)))/255|0;e=b.data[a+2];b.data[a+2]=(p*e+f*Math.min(255,
Math.max(0,e+2*d.data[a+2]-255)))/255|0}}};k.linearLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+u*f+e*Math.min(255,Math.max(0,f+2*c-255)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+u*f+
e*Math.min(255,Math.max(0,f+2*c-255)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+u*f+e*Math.min(255,Math.max(0,f+2*c-255)))/p|0;b.data[a+3]=p}}};k.linearLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];
p=b.data[a];b.data[a]=(u*f+A*p+n*Math.min(255,Math.max(0,p+2*f-255)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(u*f+A*p+n*Math.min(255,Math.max(0,p+2*f-255)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(u*f+A*p+n*Math.min(255,Math.max(0,p+2*f-255)))/e|0;b.data[a+3]=e}}};k.linearLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,
h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=e^255;var u=b.data[h];b.data[h]=(n*u+e*Math.min(255,Math.max(0,u+2*d.data[h]-255)))/255|0;u=b.data[h+1];b.data[h+1]=(n*u+e*Math.min(255,Math.max(0,u+2*d.data[h+1]-255)))/255|0;u=b.data[h+2];b.data[h+2]=(n*u+e*Math.min(255,Math.max(0,u+2*d.data[h+2]-255)))/255|0}}};k.linearLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,
a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=n^255;var A=b.data[c];b.data[c]=(u*A+n*Math.min(255,Math.max(0,A+2*d.data[c]-255)))/255|0;A=b.data[c+1];b.data[c+1]=(u*A+n*Math.min(255,Math.max(0,A+2*d.data[c+1]-255)))/255|0;A=b.data[c+2];b.data[c+2]=(u*A+n*Math.min(255,Math.max(0,A+2*d.data[c+2]-255)))/255|0}}};k.linearLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,
w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=b.data[h+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(C*e+B*n+A*Math.min(255,Math.max(0,n+2*e-255)))/u|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(C*e+B*n+A*Math.min(255,Math.max(0,n+2*
e-255)))/u|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(C*e+B*n+A*Math.min(255,Math.max(0,n+2*e-255)))/u|0;b.data[h+3]=u}}};k.linearLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=
n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(B*n+I*u+C*Math.min(255,Math.max(0,u+2*n-255)))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(B*n+I*u+C*Math.min(255,Math.max(0,u+2*n-255)))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(B*n+I*u+C*Math.min(255,Math.max(0,u+2*n-255)))/A|0;b.data[c+3]=A}}};k.pinLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=
0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+c*(e>=2*p?2*p:e<=2*p-255?2*p-255:e))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+c*(e>=2*p?2*p:e<=2*p-255?2*p-255:e))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+c*(e>=2*p?2*p:e<=2*p-255?2*p-255:e))/255|0}}};k.pinLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=
0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(p*n+f*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+f*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+f*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/255|0}}};k.pinLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,
a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+u*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+u*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+u*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/p|0;b.data[a+3]=p}}};k.pinLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=
a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(u*f+A*p+n*(p>=2*f?2*f:p<=2*f-255?2*f-255:p))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(u*f+A*p+n*(p>=2*f?2*f:p<=2*f-255?2*f-255:p))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(u*f+A*p+n*(p>=2*f?2*f:p<=2*f-
255?2*f-255:p))/e|0;b.data[a+3]=e}}};k.pinLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var n=e^255;var u=d.data[h];var A=b.data[h];b.data[h]=(n*A+e*(A>=2*u?2*u:A<=2*u-255?2*u-255:A))/255|0;u=d.data[h+1];A=b.data[h+1];b.data[h+1]=(n*A+e*(A>=2*u?
2*u:A<=2*u-255?2*u-255:A))/255|0;u=d.data[h+2];A=b.data[h+2];b.data[h+2]=(n*A+e*(A>=2*u?2*u:A<=2*u-255?2*u-255:A))/255|0}}};k.pinLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(u*C+n*
(C>=2*A?2*A:C<=2*A-255?2*A-255:C))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+n*(C>=2*A?2*A:C<=2*A-255?2*A-255:C))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+n*(C>=2*A?2*A:C<=2*A-255?2*A-255:C))/255|0}}};k.pinLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++){var e=d.data[h+
3]*m.data[a]/255|0;if(e){var n=b.data[h+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[h];n=b.data[h];b.data[h]=(C*e+B*n+A*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/u|0;e=d.data[h+1];n=b.data[h+1];b.data[h+1]=(C*e+B*n+A*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/u|0;e=d.data[h+2];n=b.data[h+2];b.data[h+2]=(C*e+B*n+A*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/u|0;b.data[h+3]=u}}};k.pinLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|
0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(B*n+I*u+C*(u>=2*n?2*n:u<=2*n-255?2*n-255:u))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(B*n+I*u+C*(u>=2*n?2*n:u<=2*n-255?2*n-255:u))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+
2]=(B*n+I*u+C*(u>=2*n?2*n:u<=2*n-255?2*n-255:u))/A|0;b.data[c+3]=A}}};k.passthroughOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3],p=w/100,e=1-p,n=f*p+255*e;b.data[a]=(d.data[a]*f*p+255*b.data[a]*e)/n|0;b.data[a+1]=(d.data[a+1]*f*p+255*b.data[a+1]*e)/n|0;b.data[a+2]=(d.data[a+2]*f*p+255*b.data[a+2]*e)/n|0;b.data[a+3]=n}};k.passthroughOntoOpaqueFusionWithOpaqueLayer=
k.passthroughOntoOpaqueFusionWithTransparentLayer;k.passthroughOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3],p=b.data[a+3],e=w/100,n=1-e,u=f*e+p*n;b.data[a]=(d.data[a]*f*e+b.data[a]*p*n)/u|0;b.data[a+1]=(d.data[a+1]*f*e+b.data[a+1]*p*n)/u|0;b.data[a+2]=(d.data[a+2]*f*e+b.data[a+2]*p*n)/u|0;b.data[a+3]=u}};k.passthroughOntoTransparentFusionWithOpaqueLayer=
k.passthroughOntoTransparentFusionWithTransparentLayer;k.passthroughOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3],u=m.data[a]*w/25500,A=1-u,C=n*u+255*A;b.data[c]=(d.data[c]*n*u+255*b.data[c]*A)/C|0;b.data[c+1]=(d.data[c+1]*n*u+255*b.data[c+1]*A)/C|0;b.data[c+2]=(d.data[c+
2]*n*u+255*b.data[c+2]*A)/C|0;b.data[c+3]=C}};k.passthroughOntoOpaqueFusionWithOpaqueLayerMasked=k.passthroughOntoOpaqueFusionWithTransparentLayerMasked;k.passthroughOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3],u=b.data[c+3],A=m.data[a]*w/25500,C=1-A,B=n*A+u*C;
b.data[c]=(d.data[c]*n*A+b.data[c]*u*C)/B|0;b.data[c+1]=(d.data[c+1]*n*A+b.data[c+1]*u*C)/B|0;b.data[c+2]=(d.data[c+2]*n*A+b.data[c+2]*u*C)/B|0;b.data[c+3]=B}};k.passthroughOntoTransparentFusionWithOpaqueLayerMasked=k.passthroughOntoTransparentFusionWithTransparentLayerMasked;k.replaceOntoFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|
0;b.data[a]=d.data[a];b.data[a+1]=d.data[a+1];b.data[a+2]=d.data[a+2];b.data[a+3]=f}};k.replaceOntoFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];b.data[a]=d.data[a];b.data[a+1]=d.data[a+1];b.data[a+2]=d.data[a+2];b.data[a+3]=c}};k.replaceOntoFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-
r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*m.data[a]*w/25500|0;b.data[c]=d.data[c];b.data[c+1]=d.data[c+1];b.data[c+2]=d.data[c+2];b.data[c+3]=n}};k.replaceOntoFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=
0;p<q;p++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;b.data[h]=d.data[h];b.data[h+1]=d.data[h+1];b.data[h+2]=d.data[h+2];b.data[h+3]=e}};k.replaceAlphaOntoFusionWithTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4)b.data[a+3]=d.data[a+3]*w/100|0};k.replaceAlphaOntoFusionWithTransparentLayerMasked=function(b,d,w,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|
0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++)b.data[c+3]=d.data[c+3]*m.data[a]*w/25500|0};k.replaceAlphaOntoFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4)b.data[a+3]=d.data[a+3]};k.replaceAlphaOntoFusionWithOpaqueLayerMasked=function(b,d,w,a,m){w=a.getHeight()|0;var q=
a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,h+=r,a+=c)for(var p=0;p<q;p++,h+=4,a++)b.data[h+3]=d.data[h+3]*m.data[a]/255|0};k.upgradeMultiplyOfOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=d.data[a];var p=b.data[a];d.data[a]=f+Math.ceil((255-f)*p*c%65025/
(p*c));f=d.data[a+1];p=b.data[a+1];d.data[a+1]=f+Math.ceil((255-f)*p*c%65025/(p*c));f=d.data[a+2];p=b.data[a+2];d.data[a+2]=f+Math.ceil((255-f)*p*c%65025/(p*c))}}};k.upgradeMultiplyOfTransparentLayer=function(b,d,w,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=d.data[a];var e=b.data[a];d.data[a]=p+Math.ceil((255-p)*e*f%65025/(e*f));p=d.data[a+1];e=b.data[a+1];d.data[a+
1]=p+Math.ceil((255-p)*e*f%65025/(e*f));p=d.data[a+2];e=b.data[a+2];d.data[a+2]=p+Math.ceil((255-p)*e*f%65025/(e*f))}}};k._normalFuseImageOntoImageAtPosition=function(b,d,w,a,m,q){w=a.getHeight()|0;var r=a.getWidth()|0,h=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;var c=4*(b.width-r)|0;m=b.offsetOfPixel(m,q)|0;for(q=0;q<w;q++,a+=h,m+=c)for(var f=0;f<r;f++,a+=4,m+=4){var p=d.data[a+3];if(p){var e=b.data[m+3];e=p+e-(p*e/255|0)|0;p=255*p/e|0;var n=255-p;b.data[m]=(d.data[a]*p+b.data[m]*n)/255|
0;b.data[m+1]=(d.data[a+1]*p+b.data[m+1]*n)/255|0;b.data[m+2]=(d.data[a+2]*p+b.data[m+2]*n)/255|0;b.data[m+3]=e}}};k.LM_NORMAL=0;k.LM_MULTIPLY=1;k.LM_ADD=2;k.LM_SCREEN=3;k.LM_LIGHTEN=4;k.LM_DARKEN=5;k.LM_SUBTRACT=6;k.LM_DODGE=7;k.LM_BURN=8;k.LM_OVERLAY=9;k.LM_HARDLIGHT=10;k.LM_SOFTLIGHT=11;k.LM_VIVIDLIGHT=12;k.LM_LINEARLIGHT=13;k.LM_PINLIGHT=14;k.LM_PASSTHROUGH=15;k.LM_MULTIPLY2=16;k.LM_FIRST=0;k.LM_LAST=16;k.LM_LAST_CHIBIPAINT=k.LM_PINLIGHT;k.BLEND_MODE_CODENAMES="normal multiply add screen lighten darken subtract dodge burn overlay hardLight softLight vividLight linearLight pinLight passthrough multiply2".split(" ");
k.BLEND_MODE_DISPLAY_NAMES="Normal;Multiply;Add;Screen;Lighten;Darken;Subtract;Dodge;Burn;Overlay;Hard Light;Soft Light;Vivid Light;Linear Light;Pin Light;Passthrough;Multiply".split(";");(function(){for(var b=0;256>b;b++){var d=b/255;v[b]=255*(d-d*d)|0}for(b=0;256>b;b++)d=b/255,E[b]=255*(Math.sqrt(d)-d)|0})();K.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPLayer.js":16}],6:[function(g,K,D){function z(b){return b&&b.__esModule?b:{default:b}}var k=z(g("./CPBlend.js")),
v=z(g("../util/CPRect.js")),E=z(g("./CPColorBmp.js"));z(g("./CPGreyBmp.js"));k.default.blendFunctionNameForParameters=function(b,d,w,a){w=k.default.BLEND_MODE_CODENAMES[w]+"Onto";w=b?w+"TransparentFusion":w+"OpaqueFusion";w=100==d?w+"WithOpaqueLayer":w+"WithTransparentLayer";a&&(w+="Masked");return w};k.default.fuseImageOntoImage=function(b,d,w,a,m,q,r){0>=a||(d=k.default.blendFunctionNameForParameters(d,a,m,null!=r),q=b.getBounds().clipTo(q),this[d](b,w,a,q,r))};k.default.normalFuseImageOntoImageAtPosition=
function(b,d,w,a,m){m=m.clone();w=new v.default(w,a,0,0);b.getBounds().clipSourceDest(m,w);this._normalFuseImageOntoImageAtPosition(b,d,100,m,w.left,w.top)};k.default.multiplyAlphaBy=function(b,d){if(100>d)if(0==d)b.clearAll(0);else{b=b.data;for(var w=3;w<b.length;w+=4)b[w]=Math.round(b[w]*d/100)}};k.default.multiplyAlphaByMask=function(b,d,w){d/=25500;for(var a=E.default.ALPHA_BYTE_OFFSET,m=0;a<b.data.length;a+=E.default.BYTES_PER_PIXEL,m++)b.data[a]=Math.round(b.data[a]*w.data[m]*d)};k.default.copyAndMultiplyAlphaBy=
function(b,d,w,a){if(100==w)b.copyBitmapRect(d,a.left,a.top,a);else if(0==w)b.clearRect(a,0);else for(b=d.data,d=0;d<b.length;d+=4)b[d]=b[d],b[d+1]=b[d+1],b[d+2]=b[d+2],b[d+3]=Math.round(b[d+3]*w/100)}},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],7:[function(g,K,D){function z(r){return r&&r.__esModule?r:{default:r}}function k(r,h){var c="undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!c){if(Array.isArray(r)||(c=v(r))||h&&r&&"number"===typeof r.length){c&&
(r=c);var f=0;h=function(){};return{s:h,n:function(){return f>=r.length?{done:!0}:{done:!1,value:r[f++]}},e:function(u){throw u;},f:h}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var p=!0,e=!1,n;return{s:function(){c=c.call(r)},n:function(){var u=c.next();p=u.done;return u},e:function(u){e=!0;n=u},f:function(){try{p||null==c.return||c.return()}finally{if(e)throw n;}}}}function v(r,h){if(r){if("string"===
typeof r)return E(r,h);var c=Object.prototype.toString.call(r).slice(8,-1);"Object"===c&&r.constructor&&(c=r.constructor.name);if("Map"===c||"Set"===c)return Array.from(r);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return E(r,h)}}function E(r,h){if(null==h||h>r.length)h=r.length;for(var c=0,f=Array(h);c<h;c++)f[c]=r[c];return f}function b(r,h,c){c?(this.isGroup=c instanceof w.default,this.image=c.image,this.mask=c.getEffectiveMask(),this.layer=c,this.blendMode=c.blendMode,
this.alpha=c.alpha,this.visible=c.visible):(this.isGroup=!0,this.layer=this.mask=this.image=null,this.blendMode=d.default.LM_PASSTHROUGH,this.alpha=100,this.visible=!0);this.dirtyRect=new q.default(0,0,r,h);this.layers=[];this.parent=null;this.clip=!1}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(r,h,c,f){function p(){return 0<N.length?N.pop():new a.default(h,c)}function e(G){if(0==G.layers.length)return null;if(1==G.layers.length&&(null==G.mask||null==G.layers[0].mask)){var H=
G.layers[0];H.alpha=Math.round(G.alpha*H.alpha/100);G.blendMode!=d.default.LM_PASSTHROUGH&&(H.blendMode=G.blendMode);H.mask=G.mask||H.mask;G.layer&&y.set(G.layer,H);return H}if(G.blendMode==d.default.LM_PASSTHROUGH&&100==G.alpha&&null==G.mask)return G.layers;G.image=p();return G}function n(G){var H=new b(h,c,G);y.set(G,H);return H}function u(G){if(0==G.getEffectiveAlpha())return null;for(var H=n(G),O=0;O<G.layers.length;O++){var J=G.layers[O],R=G.layers[O+1];if(J instanceof m.default&&R&&R.clip){R=
new b(h,c,null);R.blendMode=J.blendMode;R.alpha=100;R.clip=!0;R.addChildren(n(J));for(O+=1;O<G.layers.length;O++)if(G.layers[O].clip)0<G.layers[O].getEffectiveAlpha()&&R.addChildren(n(G.layers[O]));else break;0<J.getEffectiveAlpha()&&H.addChildren(e(R));--O}else J instanceof w.default?H.addChildren(u(J)):0<J.getEffectiveAlpha()&&H.addChildren(n(J))}return e(H)}function A(G,H){G&&(G.dirtyRect.union(H),A(G.parent,H))}function C(G){if(G.isGroup){G.image&&N.push(G.image);G=k(G.layers);var H;try{for(G.s();!(H=
G.n()).done;)C(H.value)}catch(O){G.e(O)}finally{G.f()}}}function B(G){if(!G||!G.isGroup)return G;var H=G.dirtyRect,O=!0,J=!0;G.blendMode==d.default.LM_PASSTHROUGH&&G.parent&&H.union(G.parent.dirtyRect);if(H.isEmpty())return G;if(G.blendMode==d.default.LM_PASSTHROUGH&&G.parent){O=!1;var R=G.image,ea=G.parent.image;H.getWidth()==R.width&&H.getHeight()==R.height?R.copyPixelsFrom(ea):d.default.replaceOntoFusionWithOpaqueLayer(R,ea,100,H)}for(R=0;R<G.layers.length;R++){var Y=B(G.layers[R]);if(O){O=G.image;
ea=Y.image;var qa=Y.alpha,la=H;Y=Y.mask;if(100!=qa||Y||la.getWidth()!=O.width||la.getHeight()!=O.height){var Q="replaceOntoFusionWith";Q=100==qa?Q+"OpaqueLayer":Q+"TransparentLayer";Y&&(Q+="Masked");d.default[Q](O,ea,qa,la,Y)}else O.copyPixelsFrom(ea);O=!1}else J=J&&G.image.hasAlphaInRect(H),d.default.fuseImageOntoImage(G.image,J,Y.image,Y.alpha,Y.blendMode,H,Y.mask)}G.clip&&(J=G.layers[0],100>J.alpha?J.mask?d.default.replaceAlphaOntoFusionWithTransparentLayerMasked(G.image,J.image,J.alpha,H,J.mask):
d.default.replaceAlphaOntoFusionWithTransparentLayer(G.image,J.image,J.alpha,H):J.mask?d.default.replaceAlphaOntoFusionWithOpaqueLayerMasked(G.image,J.image,100,H,J.mask):d.default.replaceAlphaOntoFusionWithOpaqueLayer(G.image,J.image,100,H));G.dirtyRect.makeEmpty();return G}var I,N=[],y=new Map;this.invalidateLayerRect=function(G,H){G=y.get(G);A(G,H)};this.buildTree=function(){if(!I){I=u(r);if(!I)I=new b(h,c,{image:p(),blendMode:d.default.LM_NORMAL,alpha:100,getEffectiveMask:function(){return null},
visible:!0}),I.image.clearAll(0);else if(Array.isArray(I)||f&&(100>I.alpha||I.mask)){var G=I;I=new b(h,c);I.blendMode=Array.isArray(G)?d.default.LM_NORMAL:G.blendMode;I.alpha=100;I.image=p();I.addChildren(G)}N=[]}};this.resetTree=function(){I&&(C(I),I=null,y.clear())};this.layerPropertyChanged=function(G,H){var O=y.get(G);O&&O.visible==G.visible&&O.alpha==G.alpha&&null==O.mask==(null==G.getEffectiveMask())&&O.blendMode==d.default.LM_PASSTHROUGH==(G.blendMode==d.default.LM_PASSTHROUGH)&&"clip"!==H?
(O.blendMode=G.blendMode,A(O,new q.default(0,0,h,c))):this.resetTree()};this.blendTree=function(){return B(I)}};var d=z(g("./CPBlend.js"));g("./CPBlendAdditional.js");z(g("./CPLayer.js"));var w=z(g("./CPLayerGroup.js")),a=z(g("./CPColorBmp.js")),m=z(g("./CPImageLayer.js")),q=z(g("../util/CPRect.js"));b.prototype.addChildren=function(r){var h=this;null!=r&&(Array.isArray(r)?(r.forEach(function(c){return c.parent=h}),this.layers=this.layers.concat(r)):(r.parent=this,this.layers.push(r)))};K.exports=
D.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"./CPLayer.js":16,"./CPLayerGroup.js":17}],8:[function(g,K,D){function z(k){for(var v in z.DEFAULTS)z.DEFAULTS.hasOwnProperty(v)&&(this[v]=z.DEFAULTS[v]);for(v in k)k.hasOwnProperty(v)&&(this[v]=k[v])}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;z.STROKE_MODE_FREEHAND=0;z.STROKE_MODE_LINE=1;z.STROKE_MODE_BEZIER=2;z.TIP_ROUND_PIXEL=0;z.TIP_ROUND_AA=1;z.TIP_ROUND_AIRBRUSH=
2;z.TIP_SQUARE_PIXEL=3;z.TIP_SQUARE_AA=4;z.BRUSH_MODE_PAINT=0;z.BRUSH_MODE_ERASE=1;z.BRUSH_MODE_DODGE=2;z.BRUSH_MODE_BURN=3;z.BRUSH_MODE_WATER=4;z.BRUSH_MODE_BLUR=5;z.BRUSH_MODE_SMUDGE=6;z.BRUSH_MODE_OIL=7;z.PAINT_MODE_OPACITY=0;z.PAINT_MODE_FLOW=1;z.DEFAULTS={isAA:!1,minSpacing:0,spacing:0,pressureSize:!0,pressureAlpha:!1,pressureScattering:!1,alphaScale:1,tip:z.TIP_ROUND_PIXEL,brushMode:z.BRUSH_MODE_PAINT,paintMode:z.PAINT_MODE_OPACITY,strokeMode:z.STROKE_MODE_FREEHAND,resat:1,bleed:0,texture:1,
size:0,curSize:0,alpha:0,curAlpha:0,scattering:0,curScattering:0,squeeze:0,curSqueeze:0,angle:Math.PI,curAngle:0,smoothing:0};z.prototype.applyPressure=function(k){this.curSize=this.pressureSize&&this.brushMode!=z.BRUSH_MODE_SMUDGE&&this.brushMode!=z.BRUSH_MODE_OIL?Math.max(.1,this.size*k):Math.max(.1,this.size);16<this.curSize&&(this.curSize=Math.floor(this.curSize));this.curSize=Math.min(this.curSize,400);this.curAlpha=this.pressureAlpha?Math.floor(this.alpha*Math.min(k,1)):this.alpha;this.curSqueeze=
this.squeeze;this.curAngle=this.angle;this.curScattering=this.scattering*this.curSize*(this.pressureScattering?k:1)};z.prototype.clone=function(){return new z(this)};K.exports=D.default},{}],9:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){function v(c){if(null!=w&&c.curSize==a&&c.curSqueeze==m&&c.curAngle==q&&c.tip==r)return w;switch(c.tip){case z.default.TIP_ROUND_AIRBRUSH:for(var f=E,p=Math.ceil(c.curSize),e=p/2,n=c.curSize/2*(c.curSize/2),u=1+c.curSqueeze*
k,A=Math.cos(c.curAngle),C=Math.sin(c.curAngle),B=0,I=0;I<p;I++)for(var N=0;N<p;N++){var y=N+.5-e,G=I+.5-e,H=(y*A-G*C)*u;y=G*A+y*C;H=H*H+y*y;H<=n?f[B++]=~~(255*(1-H/n)):f[B++]=0}break;case z.default.TIP_ROUND_AA:f=E;p=Math.ceil(c.curSize);e=p/2;n=c.curSize/2*(c.curSize/2);u=(c.curSize-2)/2*((c.curSize-2)/2);A=(c.curSize+2)/2*((c.curSize+2)/2);C=1+c.curSqueeze*k;B=Math.cos(c.curAngle);I=Math.sin(c.curAngle);for(H=N=0;H<p;H++)for(y=0;y<p;y++){var O=y+.5-e,J=H+.5-e,R=(O*B-J*I)*C;O=J*B+O*I;R=R*R+O*O;
if(R<=u)f[N++]=255;else if(R>A)f[N++]=0;else{for(var ea=G=0;4>ea;ea++)for(var Y=0;4>Y;Y++)O=y+.25*Y-e,J=H+.25*ea-e,R=(O*B-J*I)*C,O=J*B+O*I,R=R*R+O*O,R<=n&&(G+=1);f[N++]=Math.min(16*G,255)}}break;case z.default.TIP_ROUND_PIXEL:f=E;p=Math.ceil(c.curSize);e=p/2;n=c.curSize/2*(c.curSize/2);u=1+c.curSqueeze*k;A=Math.cos(c.curAngle);C=Math.sin(c.curAngle);for(I=B=0;I<p;I++)for(N=0;N<p;N++)y=N+.5-e,G=I+.5-e,H=(y*A-G*C)*u,y=G*A+y*C,H*H+y*y<=n?f[B++]=255:f[B++]=0;break;case z.default.TIP_SQUARE_AA:f=E;p=Math.ceil(c.curSize);
e=p/2;u=c.curSize*Math.sin(Math.PI/4);n=u/2/(1+c.curSqueeze*k);u/=2;A=n-1;C=u-1;B=n+1;I=u+1;N=Math.cos(c.curAngle);H=Math.sin(c.curAngle);for(G=y=0;G<p;G++)for(ea=0;ea<p;ea++){var qa=ea+.5-e,la=G+.5-e;Y=Math.abs(qa*N-la*H);qa=Math.abs(la*N+qa*H);if(Y<=A&&qa<=C)f[y++]=255;else if(Y>B||qa>I)f[y++]=0;else{for(O=R=0;4>O;O++)for(J=0;4>J;J++)qa=ea+.25*J-e,la=G+.25*O-e,Y=Math.abs(qa*N-la*H),qa=Math.abs(la*N+qa*H),Y<=n&&qa<=u&&R++;f[y++]=Math.min(16*R,255)}}break;case z.default.TIP_SQUARE_PIXEL:for(f=E,p=
Math.ceil(c.curSize),e=p/2,u=c.curSize*Math.sin(Math.PI/4),n=u/2/(1+c.curSqueeze*k),u/=2,A=Math.cos(c.curAngle),C=Math.sin(c.curAngle),I=B=0;I<p;I++)for(N=0;N<p;N++)H=N+.5-e,y=I+.5-e,G=Math.abs(y*A+H*C),Math.abs(H*A-y*C)<=n&&G<=u?f[B++]=255:f[B++]=0}w=E;a=c.curSize;r=c.tip;m=c.curSqueeze;q=c.curAngle;return E}var E=new Uint8Array(160801),b=new Uint8Array(161604),d=[new Float32Array(402),new Float32Array(402)],w=null,a,m,q,r,h=this;this.getDab=function(c,f,p){var e={alpha:p.curAlpha,width:Math.ceil(p.curSize),
height:Math.ceil(p.curSize)},n=p.isAA&&p.tip!=z.default.TIP_ROUND_PIXEL;n&&(e.width++,e.height++);var u=c-e.width/2+.5,A=f-e.height/2+.5;f=Math.floor(u);c=Math.floor(A);if(n){var C=u-f,B=A-c;u=v(p);A=Math.ceil(p.curSize);n=Math.ceil(p.curSize)+1;var I=(1-C)*(1-B),N=C*(1-B),y=C*B,G=(1-C)*B,H=0;C=0;B=d[0];var O=d[1],J;B.fill(0);for(var R=0;R<A;R++){for(J=O[0]=0;J<A;J++,H++,C++){var ea=u[H];b[C]=B[J]+ea*I+.5|0;B[J+1]+=ea*N;O[J]+=ea*G;O[J+1]=ea*y}b[C++]=B[J]+.5|0;J=B;B=O;O=J}for(u=0;u<n;u++,C++)b[C]=
B[u]+.5|0;e.brush=b}else e.brush=v(p);e.x=f;e.y=c;if(0<p.texture&&null!=this.texture)for(e.brush==E&&(b.set(E),e.brush=b),p=Math.floor(255*p.texture),f=h.texture,c=e.x%f.width,n=e.y%f.height,u=0,0>c&&(c+=f.width),0>n&&(n+=f.height),N=0;N<e.height;N++){A=n*f.width+c;I=n*f.width+f.width;for(y=0;y<e.width;y++)e.brush[u]=~~(e.brush[u]*(f.data[A]*p/255^255)/255),u++,A++,A==I&&(A-=f.width);n++;n==f.height&&(n=0)}return e};this.setTexture=function(c){this.texture=c}};var z=function(v){return v&&v.__esModule?
v:{default:v}}(g("./CPBrushInfo.js")),k=10;K.exports=D.default},{"./CPBrushInfo.js":8}],10:[function(g,K,D){function z(A){return A&&A.__esModule?A:{default:A}}function k(A){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},k(A)}function v(A,C){if("function"!==typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");
A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,writable:!0,configurable:!0}});Object.defineProperty(A,"prototype",{writable:!1});C&&E(A,C)}function E(A,C){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,I){B.__proto__=I;return B};return E(A,C)}function b(A){var C=d();return function(){var B=w(A);if(C){var I=w(this).constructor;B=Reflect.construct(B,arguments,I)}else B=B.apply(this,arguments);if(!B||"object"!==k(B)&&"function"!==typeof B){if(void 0!==B)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");B=this}return B}}function d(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}function w(A){w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)};return w(A)}
function a(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function");}function m(A,C){for(var B=0;B<C.length;B++){var I=C[B];I.enumerable=I.enumerable||!1;I.configurable=!0;"value"in I&&(I.writable=!0);var N=Object,y=N.defineProperty;a:{var G=I.key;if("object"===k(G)&&null!==G){var H=G[Symbol.toPrimitive];if(void 0!==H){G=H.call(G,"string");if("object"!==k(G))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}G=String(G)}}G="symbol"===k(G)?G:String(G);
y.call(N,A,G,I)}}function q(A,C,B){C&&m(A.prototype,C);B&&m(A,B);Object.defineProperty(A,"prototype",{writable:!1});return A}function r(A){for(var C=0,B=0;B<A.length;B++)C+=A[B];return C/A.length}function h(A){for(var C=new n.default(0,0,0),B=0;B<A.length;B++){var I=A[B];C.r+=I.r;C.g+=I.g;C.b+=I.b}C.r/=A.length;C.g/=A.length;C.b/=A.length;return C}function c(A,C){var B=A.data;if(0<C.left)for(var I=C.top;I<C.bottom;I++){var N=I*A.width,y=N;N=B[N+C.left];for(var G=0;G<C.left;G++,y++)B[y]=N}if(C.right<
A.width)for(I=C.top;I<C.bottom;I++)for(y=I*A.width+C.right,N=B[y-1],G=C.right;G<A.width;G++,y++)B[y]=N;for(y=I=0;y<C.top;y++)for(N=C.top*A.width,G=0;G<A.width;G++,N++,I++)B[I]=B[N];I=C.bottom*A.width;for(y=C.bottom;y<A.width;y++)for(N=(C.bottom-1)*A.width,G=0;G<A.width;G++,N++,I++)B[I]=B[N]}Object.defineProperty(D,"__esModule",{value:!0});D.CPBrushToolWatercolor=D.CPBrushToolSmudge=D.CPBrushToolOil=D.CPBrushToolEraser=D.CPBrushToolDodge=D.CPBrushToolBurn=D.CPBrushToolBlur=D.CPBrushTool=void 0;var f=
z(g("./CPColorBmp.js")),p=z(g("./CPGreyBmp.js")),e=z(g("./CPBrushInfo.js")),n=z(g("../util/CPColorFloat.js"));g=D.CPBrushTool=function(){function A(C,B){a(this,A);this._strokeBuffer=C;this._strokedRegion=B;this.wantsOutputAsInput=!0}q(A,[{key:"paintDab",value:function(C,B,I,N,y,G,H){C=Math.max(1,Math.ceil(G.alpha*N.alphaScale));switch(N.paintMode){case e.default.PAINT_MODE_FLOW:this._paintFlow(y,B,G.brush,G.width,C);break;case e.default.PAINT_MODE_OPACITY:this._paintOpacity(y,B,G.brush,G.width,C)}}},
{key:"mergeOntoImage",value:function(C,B,I){var N=this._strokeBuffer.data,y=this._strokedRegion;B=B.data;var G=C.data,H=I>>16&255,O=I>>8&255;I&=255;var J=y.getWidth()|0,R=y.getHeight()|0,ea=this._strokeBuffer.offsetOfPixel(y.left,y.top);y=C.offsetOfPixel(y.left,y.top);var Y=this._strokeBuffer.width-J|0;C=(C.width-J)*f.default.BYTES_PER_PIXEL|0;for(var qa=0;qa<R;qa++,ea+=Y,y+=C)for(var la=0;la<J;la++,ea++,y+=f.default.BYTES_PER_PIXEL){var Q=N[ea]/255+.5|0;if(0<Q){var ka=Q+B[y+f.default.ALPHA_BYTE_OFFSET]*
(255-Q)/255|0;Q=255*Q/ka|0;var oa=255-Q;G[y]=(H*Q+B[y]*oa)/255&255;G[y+1]=(O*Q+B[y+1]*oa)/255&255;G[y+2]=(I*Q+B[y+2]*oa)/255&255;G[y+3]=ka}}}},{key:"mergeOntoMask",value:function(C,B,I){var N=this._strokeBuffer.data,y=this._strokedRegion;B=B.data;var G=C.data,H=y.getWidth()|0,O=y.getHeight()|0,J=C.offsetOfPixel(y.left,y.top);y=this._strokeBuffer.offsetOfPixel(y.left,y.top);var R=this._strokeBuffer.width-H|0;C=C.width-H|0;for(var ea=0;ea<O;ea++,y+=R,J+=C)for(var Y=0;Y<H;Y++,y++,J++){var qa=N[y]/255|
0;0<qa&&(G[J]=(I*qa+B[J]*(255-qa))/255)}}},{key:"_paintFlow",value:function(C,B,I,N,y){var G=this._strokeBuffer.data;C=C.left+C.top*N;var H=this._strokeBuffer.offsetOfPixel(B.left,B.top),O=B.getHeight(),J=B.getWidth();N-=J;var R=this._strokeBuffer.width-J;this._strokedRegion.union(B);for(B=0;B<O;B++,C+=N,H+=R)for(var ea=0;ea<J;ea++,C++,H++){var Y=I[C]*y;0!=Y&&(G[H]=Math.min(65025,G[H]+(255-G[H]/255)*Y/255))}}},{key:"_paintOpacity",value:function(C,B,I,N,y){var G=this._strokeBuffer.data;C=C.left+C.top*
N;var H=this._strokeBuffer.offsetOfPixel(B.left,B.top),O=B.getWidth();N-=O;var J=this._strokeBuffer.width-O;y=Math.min(255,y);this._strokedRegion.union(B);for(var R=B.top;R<B.bottom;R++,C+=N,H+=J)for(var ea=0;ea<O;ea++,C++,H++)G[H]=Math.max(I[C]*y,G[H])}},{key:"beginStroke",value:function(){}},{key:"endStroke",value:function(){}}]);return A}();D.CPBrushToolEraser=function(A){function C(){a(this,C);return B.apply(this,arguments)}v(C,A);var B=b(C);q(C,[{key:"mergeOntoImage",value:function(I,N,y){y=
this._strokeBuffer.data;var G=this._strokedRegion;N=N.data;for(var H=I.data,O=G.top;O<G.bottom;O++)for(var J=I.offsetOfPixel(G.left,O)+f.default.ALPHA_BYTE_OFFSET,R=this._strokeBuffer.offsetOfPixel(G.left,O),ea=G.left;ea<G.right;ea++,J+=f.default.BYTES_PER_PIXEL){var Y=y[R++]/255|0;0<Y&&(H[J]=N[J]*(255-Y)/255)}}}]);return C}(g);D.CPBrushToolDodge=function(A){function C(){a(this,C);return B.apply(this,arguments)}v(C,A);var B=b(C);q(C,[{key:"mergeOntoImage",value:function(I,N,y){y=this._strokeBuffer.data;
var G=this._strokedRegion,H=G.getWidth(),O=G.getHeight(),J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=(I.width-H)*f.default.BYTES_PER_PIXEL,ea=this._strokeBuffer.width-H;N=N.data;I=I.data;for(var Y=0;Y<O;Y++,G+=ea,J+=R)for(var qa=0;qa<H;qa++,G++,J+=f.default.BYTES_PER_PIXEL){var la=y[G]/255|0;0<la&&0!=N[J+f.default.ALPHA_BYTE_OFFSET]&&(la=(la+255)/255,I[J+f.default.RED_BYTE_OFFSET]=N[J+f.default.RED_BYTE_OFFSET]*la,I[J+f.default.GREEN_BYTE_OFFSET]=N[J+f.default.GREEN_BYTE_OFFSET]*
la,I[J+f.default.BLUE_BYTE_OFFSET]=N[J+f.default.BLUE_BYTE_OFFSET]*la)}}},{key:"mergeOntoMask",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),O=G.getHeight(),J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=I.width-H,ea=this._strokeBuffer.width-H;N=N.data;I=I.data;for(var Y=0;Y<O;Y++,G+=ea,J+=R)for(var qa=0;qa<H;qa++,G++,J++){var la=y[G]/255|0;0<la&&(I[J]=Math.min((la+255)/255*N[J],255))}}}]);return C}(g);D.CPBrushToolBurn=
function(A){function C(){a(this,C);return B.apply(this,arguments)}v(C,A);var B=b(C);q(C,[{key:"mergeOntoImage",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),O=G.getHeight(),J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=(I.width-H)*f.default.BYTES_PER_PIXEL,ea=this._strokeBuffer.width-H;N=N.data;I=I.data;for(var Y=0;Y<O;Y++,G+=ea,J+=R)for(var qa=0;qa<H;qa++,G++,J+=f.default.BYTES_PER_PIXEL){var la=y[G]/255|0;0<la&&
0!=N[J+f.default.ALPHA_BYTE_OFFSET]&&(I[J+f.default.RED_BYTE_OFFSET]=N[J+f.default.RED_BYTE_OFFSET]-(260-N[J+f.default.RED_BYTE_OFFSET])*la/255|0,I[J+f.default.GREEN_BYTE_OFFSET]=N[J+f.default.GREEN_BYTE_OFFSET]-(260-N[J+f.default.GREEN_BYTE_OFFSET])*la/255|0,I[J+f.default.BLUE_BYTE_OFFSET]=N[J+f.default.BLUE_BYTE_OFFSET]-(260-N[J+f.default.BLUE_BYTE_OFFSET])*la/255|0)}}},{key:"mergeOntoMask",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),O=G.getHeight(),
J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=I.width-H,ea=this._strokeBuffer.width-H;N=N.data;I=I.data;for(var Y=0;Y<O;Y++,G+=ea,J+=R)for(var qa=0;qa<H;qa++,G++,J++){var la=y[G]/255|0;0<la&&(I[J]=Math.max(N[J]-(260-N[J])*la/255,0))}}}]);return C}(g);D.CPBrushToolBlur=function(A){function C(){a(this,C);return B.apply(this,arguments)}v(C,A);var B=b(C);q(C,[{key:"mergeOntoImage",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion,H=N.data;
I=I.data;var O=G.getWidth(),J=N.width*f.default.BYTES_PER_PIXEL,R=N.offsetOfPixel(G.left,G.top),ea=this._strokeBuffer.offsetOfPixel(G.left,G.top),Y=(N.width-O)*f.default.BYTES_PER_PIXEL;O=this._strokeBuffer.width-O;for(var qa,la,Q,ka,oa=function(La){qa+=H[La+f.default.RED_BYTE_OFFSET];la+=H[La+f.default.GREEN_BYTE_OFFSET];Q+=H[La+f.default.BLUE_BYTE_OFFSET];ka+=H[La+f.default.ALPHA_BYTE_OFFSET]},ya=G.top;ya<G.bottom;ya++,R+=Y,ea+=O)for(var ja=G.left;ja<G.right;ja++,R+=f.default.BYTES_PER_PIXEL,ea++){var ua=
y[ea]/255|0;if(0<ua){ua=64+-63*ua/255|0;var ha=ua+4;qa=ua*H[R+f.default.RED_BYTE_OFFSET];la=ua*H[R+f.default.GREEN_BYTE_OFFSET];Q=ua*H[R+f.default.BLUE_BYTE_OFFSET];ka=ua*H[R+f.default.ALPHA_BYTE_OFFSET];oa(0<ya?R-J:R);oa(ya<N.height-1?R+J:R);oa(0<ja?R-f.default.BYTES_PER_PIXEL:R);oa(ja<N.width-1?R+f.default.BYTES_PER_PIXEL:R);ka/=ha;qa/=ha;la/=ha;Q/=ha;I[R+f.default.RED_BYTE_OFFSET]=qa|0;I[R+f.default.GREEN_BYTE_OFFSET]=la|0;I[R+f.default.BLUE_BYTE_OFFSET]=Q|0;I[R+f.default.ALPHA_BYTE_OFFSET]=ka|
0}}}},{key:"mergeOntoMask",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion,H=N.data;I=I.data;var O=G.getWidth(),J=N.width,R=N.offsetOfPixel(G.left,G.top),ea=this._strokeBuffer.offsetOfPixel(G.left,G.top),Y=N.width-O;O=this._strokeBuffer.width-O;for(var qa,la=G.top;la<G.bottom;la++,R+=Y,ea+=O)for(var Q=G.left;Q<G.right;Q++,R++,ea++){var ka=y[ea]/255|0;0<ka&&(qa=64+-63*ka/255|0,ka=qa+4,qa*=H[R],qa+=H[0<la?R-J:R],qa+=H[la<N.height-1?R+J:R],qa+=H[0<Q?R-1:R],qa+=H[Q<N.width-1?
R+1:R],I[R]=qa/ka|0)}}}]);return C}(g);g=function(A){function C(){a(this,C);return B.apply(this,arguments)}v(C,A);var B=b(C);q(C,[{key:"mergeOntoImage",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion;N=N.data;var H=I.data,O=this._strokeBuffer.offsetOfPixel(G.left,G.top),J=I.offsetOfPixel(G.left,G.top),R=G.getWidth()|0;G=G.getHeight()|0;var ea=this._strokeBuffer.width-R|0;I=(I.width-R)*f.default.BYTES_PER_PIXEL|0;for(var Y=0;Y<G;Y++,O+=ea,J+=I)for(var qa=0;qa<R;qa++,O++,J+=
f.default.BYTES_PER_PIXEL){var la=y[O],Q=la>>>24;if(0<Q){var ka=N[J+f.default.ALPHA_BYTE_OFFSET];ka=Q+ka-Q*ka/255|0;Q=255*Q/ka|0;var oa=255-Q;H[J]=((la>>16&255)*Q+N[J]*oa)/255|0;H[J+1]=((la>>8&255)*Q+N[J+1]*oa)/255|0;H[J+2]=((la&255)*Q+N[J+2]*oa)/255|0;H[J+3]=ka}}}},{key:"mergeOntoMask",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion;N=N.data;var H=I.data,O=this._strokeBuffer.offsetOfPixel(G.left,G.top),J=I.offsetOfPixel(G.left,G.top),R=G.getWidth()|0;G=G.getHeight()|0;var ea=
this._strokeBuffer.width-R|0;I=I.width-R|0;for(var Y=0;Y<G;Y++,O+=ea,J+=I)for(var qa=0;qa<R;qa++,O++,J++){var la=y[O],Q=la>>8;0<Q&&(H[J]=((la&255)*Q+N[J]*(255-Q))/255|0)}}}]);return C}(g);var u=2/6;D.CPBrushToolWatercolor=function(A){function C(I,N){a(this,C);I=B.call(this,I,N);I.wantsOutputAsInput=!0;return I}v(C,A);var B=b(C);q(C,[{key:"_paintToColorStrokeBuffer",value:function(I,N,y,G,H,O){var J=this._strokeBuffer.data,R=N.getWidth(),ea=N.getHeight(),Y=this._strokeBuffer.width-R,qa=G-R;I=I.left+
I.top*G;G=this._strokeBuffer.offsetOfPixel(N.left,N.top);this._strokedRegion.union(N);for(N=0;N<ea;N++,I+=qa,G+=Y)for(var la=0;la<R;la++,I++,G++){var Q=y[I]*H/255|0;if(0<Q){var ka=J[G],oa=ka>>>24;oa=Q+oa-Q*oa/255|0;Q=255-(255*Q/oa|0);J[G]=oa<<24|(O>>16&255)+((ka>>16&255)*Q-(O>>16&255)*Q)/255<<16|(O>>8&255)+((ka>>8&255)*Q-(O>>8&255)*Q)/255<<8|(O&255)+((ka&255)*Q-(O&255)*Q)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(I,N,y,G,H,O){var J=this._strokeBuffer.data;this._strokedRegion.union(N);
for(var R=N.top,ea=I.top;R<N.bottom;R++,ea++)for(var Y=I.left+ea*G,qa=this._strokeBuffer.offsetOfPixel(N.left,R),la=N.left;la<N.right;la++,Y++,qa++){var Q=y[Y]*H/255|0;if(!(0>=Q)){var ka=J[qa],oa=ka>>8;oa=Q+oa-Q*oa/255|0;0<oa&&(Q=255-(255*Q/oa|0),J[qa]=oa<<8|O+((ka&255)*Q-O*Q)/255)}}}},{key:"beginStroke",value:function(){this._previousSamples=null}},{key:"paintDab",value:function(I,N,y,G,H,O,J){I=Math.max(1,O.alpha/4);var R=(N.left+N.right)/2,ea=(N.top+N.bottom)/2,Y=Math.max(1,Math.min(64,N.getWidth()*
u)),qa=Math.max(1,Math.min(64,N.getHeight()*u));if(y instanceof p.default){null==this._previousSamples&&(this._previousSamples=Array(50),this._previousSamples.fill(C._sampleGrey(y,R,ea,Y,qa)));var la=r(this._previousSamples),Q=G.resat*G.resat;J=la=la*(1-Q)+(J&255)*Q;y=C._sampleGrey(y,R,ea,Y,qa);G=G.bleed;this._previousSamples.push(la*(1-G)+y*G);this._previousSamples.shift();this._paintToGreyscaleStrokeBuffer(H,N,O.brush,O.width,I,Math.round(J))}else null==this._previousSamples&&(this._previousSamples=
Array(50),this._previousSamples.fill(C._sampleRGB(y,R,ea,Y,qa))),la=h(this._previousSamples),la.mixWith(n.default.createFromInt(J),G.resat*G.resat),J=la.toInt(),la.mixWith(C._sampleRGB(y,R,ea,Y,qa),G.bleed),this._previousSamples.push(la),this._previousSamples.shift(),this._paintToColorStrokeBuffer(H,N,O.brush,O.width,I,J)}}],[{key:"_sampleGrey",value:function(I,N,y,G,H){N|=0;y|=0;for(var O=[{x:N,y}],J=.25;1.001>J;J+=.25)Array.prototype.push.apply(O,[{x:~~(N+J*G),y},{x:~~(N-J*G),y},{x:N,y:~~(y+J*H)},
{x:N,y:~~(y-J*H)},{x:~~(N+.7*J*G),y:~~(y+.7*J*H)},{x:~~(N+.7*J*G),y:~~(y-.7*J*H)},{x:~~(N-.7*J*G),y:~~(y+.7*J*H)},{x:~~(N-.7*J*G),y:~~(y-.7*J*H)}]);return r(O.map(function(R){return I.getPixel(R.x,R.y)}))}},{key:"_sampleRGB",value:function(I,N,y,G,H){N|=0;y|=0;for(var O=[{x:N,y}],J=.25;1.001>J;J+=.25)Array.prototype.push.apply(O,[{x:~~(N+J*G),y},{x:~~(N-J*G),y},{x:N,y:~~(y+J*H)},{x:N,y:~~(y-J*H)},{x:~~(N+.7*J*G),y:~~(y+.7*J*H)},{x:~~(N+.7*J*G),y:~~(y-.7*J*H)},{x:~~(N-.7*J*G),y:~~(y+.7*J*H)},{x:~~(N-
.7*J*G),y:~~(y-.7*J*H)}]);return h(O.map(function(R){return n.default.createFromInt(I.getPixel(R.x,R.y))}))}}]);return C}(g);D.CPBrushToolOil=function(A){function C(I,N){a(this,C);I=B.call(this,I,N);I.wantsOutputAsInput=!0;return I}v(C,A);var B=b(C);q(C,[{key:"_accumulatePaintFromMask",value:function(I,N,y,G){var H=this._brushBuffer.data,O=I.data,J=y.getWidth(),R=y.getHeight();N=N.left+N.top*this._brushBuffer.width;y=I.offsetOfPixel(y.left,y.top);var ea=this._brushBuffer.width-J;I=I.width-J;if(!(0>=
G))for(var Y=0;Y<R;Y++,N+=ea,y+=I)for(var qa=0;qa<J;qa++,N++,y++){var la=O[y],Q=H[N],ka=Q>>8;ka=G+ka-G*ka/255|0;var oa=255-(255*G/ka|0);H[N]=ka<<8|la+((Q&255)*oa-la*oa)/255}}},{key:"_resaturateBrushWithGrey",value:function(I,N,y){if(!(0>=N)){var G=this._brushBuffer.data,H=I.getWidth(),O=I.getHeight();I=I.left+I.top*this._brushBuffer.width;for(var J=this._brushBuffer.width-H,R=0;R<O;R++,I+=J)for(var ea=0;ea<H;ea++,I++){var Y=G[I],qa=Y>>8;qa=N+qa-N*qa/255|0;var la=255-(255*N/qa|0);G[I]=qa<<8|y+((Y&
255)*la-y*la)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(I,N,y,G,H){var O=this._strokeBuffer.data,J=this._brushBuffer.data,R=I.data;this._strokedRegion.union(y);for(var ea=y.top,Y=N.top;ea<y.bottom;ea++,Y++)for(var qa=this._brushBuffer.offsetOfPixel(N.left,Y),la=this._strokeBuffer.offsetOfPixel(y.left,ea),Q=I.offsetOfPixel(y.left,ea),ka=y.left;ka<y.right;ka++,qa++,Q++,la++){var oa=J[qa],ya=(oa>>8)*G[qa]*H/65025|0;0<ya&&(ya=255-ya,O[la]=65280|(oa&255)+(R[Q]*ya-(oa&255)*ya)/255)}}},
{key:"_accumulatePaintFromImage",value:function(I,N,y,G){var H=this._brushBuffer.data,O=I.data,J=y.getWidth(),R=y.getHeight();N=N.left+N.top*this._brushBuffer.width;y=I.offsetOfPixel(y.left,y.top);var ea=this._brushBuffer.width-J;I=(I.width-J)*f.default.BYTES_PER_PIXEL;for(var Y=0;Y<R;Y++,N+=ea,y+=I)for(var qa=0;qa<J;qa++,N++,y+=f.default.BYTES_PER_PIXEL){var la=O[y+f.default.ALPHA_BYTE_OFFSET]*G/255|0;if(0<la){var Q=H[N],ka=Q>>>24;ka=la+ka-la*ka/255|0;la=255-(255*la/ka|0);var oa=O[y+f.default.RED_BYTE_OFFSET],
ya=O[y+f.default.GREEN_BYTE_OFFSET],ja=O[y+f.default.BLUE_BYTE_OFFSET];H[N]=ka<<24|oa+((Q>>16&255)*la-oa*la)/255<<16|ya+((Q>>8&255)*la-ya*la)/255<<8|ja+((Q&255)*la-ja*la)/255}}}},{key:"_resaturateBrushWithColor",value:function(I,N,y){if(!(0>=N)){var G=this._brushBuffer.data,H=I.getWidth(),O=I.getHeight();I=I.left+I.top*this._brushBuffer.width;for(var J=this._brushBuffer.width-H,R=0;R<O;R++,I+=J)for(var ea=0;ea<H;ea++,I++){var Y=G[I],qa=Y>>>24;qa=N+qa-N*qa/255|0;var la=255-(255*N/qa|0);G[I]=qa<<24|
(y>>>16&255)+((Y>>>16&255)*la-(y>>>16&255)*la)/255<<16|(y>>>8&255)+((Y>>>8&255)*la-(y>>>8&255)*la)/255<<8|(y&255)+((Y&255)*la-(y&255)*la)/255}}}},{key:"_paintToColorStrokeBuffer",value:function(I,N,y,G,H){var O=this._strokeBuffer.data,J=this._brushBuffer.data,R=I.data;this._strokedRegion.union(y);for(var ea=y.top,Y=N.top;ea<y.bottom;ea++,Y++)for(var qa=this._brushBuffer.offsetOfPixel(N.left,Y),la=this._strokeBuffer.offsetOfPixel(y.left,ea),Q=I.offsetOfPixel(y.left,ea),ka=y.left;ka<y.right;ka++,qa++,
Q+=f.default.BYTES_PER_PIXEL,la++){var oa=J[qa],ya=(oa>>>24)*G[qa]*H/65025|0;if(0<ya){var ja=R[Q+f.default.ALPHA_BYTE_OFFSET];ja=ya+ja-ya*ja/255|0;ya=255-(255*ya/ja|0);O[la]=ja<<24|(oa>>16&255)+(R[Q+f.default.RED_BYTE_OFFSET]*ya-(oa>>16&255)*ya)/255<<16|(oa>>8&255)+(R[Q+f.default.GREEN_BYTE_OFFSET]*ya-(oa>>8&255)*ya)/255<<8|(oa&255)+(R[Q+f.default.BLUE_BYTE_OFFSET]*ya-(oa&255)*ya)/255}}}},{key:"paintDab",value:function(I,N,y,G,H,O,J){I instanceof f.default?null==this._brushBuffer?(this._brushBuffer=
new p.default(O.width,O.height,32),this._accumulatePaintFromImage(y,H,N,255)):(this._resaturateBrushWithColor(H,~~(0>=G.resat?0:Math.max(1,G.resat*G.resat*255)),J&16777215),this._paintToColorStrokeBuffer(I,H,N,O.brush,O.alpha),this._accumulatePaintFromImage(y,H,N,~~(255*G.bleed))):null==this._brushBuffer?(this._brushBuffer=new p.default(O.width,O.height,16),this._accumulatePaintFromMask(y,H,N,255)):(this._resaturateBrushWithGrey(H,~~(0>=G.resat?0:Math.max(1,G.resat*G.resat*255)),J&255),this._paintToGreyscaleStrokeBuffer(I,
H,N,O.brush,O.alpha),this._accumulatePaintFromMask(y,H,N,~~(255*G.bleed)))}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return C}(g);D.CPBrushToolSmudge=function(A){function C(I,N){a(this,C);I=B.call(this,I,N);I._brushBuffer=null;I.wantsOutputAsInput=!0;I.noMergePhase=!0;return I}v(C,A);var B=b(C);q(C,[{key:"_sampleFromMask",value:function(I,N,y,G){var H=this._brushBuffer.data,O=N.getWidth(),J=N.getHeight(),R=this._brushBuffer.offsetOfPixel(N.left,N.top);y=I.offsetOfPixel(y.left,
y.top);var ea=this._brushBuffer.width-O,Y=I.width-O,qa=255-G;if(255!=G){for(var la=0;la<J;la++,R+=ea,y+=Y)for(var Q=0;Q<O;Q++,R++,y++){var ka=I.data[y],oa=H[R],ya=(ka*qa+(oa&255)*G)/255,ja=(255*qa+(oa>>8)*G)/255<<8|ya;ja==oa&&(ka>ya?ja++:ka<ya&&ja--);H[R]=ja}c(this._brushBuffer,N)}}},{key:"_paintToMask",value:function(I,N,y,G){var H=N.getWidth(),O=N.getHeight();N=this._brushBuffer.offsetOfPixel(N.left,N.top);y=I.offsetOfPixel(y.left,y.top);var J=this._brushBuffer.width-H,R=I.width-H;I=I.data;for(var ea=
this._brushBuffer.data,Y=0;Y<O;Y++,y+=R,N+=J)for(var qa=0;qa<H;qa++,N++,y++){var la=ea[N],Q=la&255;0<((la>>8)*G[N]/255|0)&&(I[y]=Q)}}},{key:"_sampleFromImage",value:function(I,N,y,G){var H=this._brushBuffer.data,O=N.getWidth(),J=N.getHeight(),R=this._brushBuffer.offsetOfPixel(N.left,N.top);y=I.offsetOfPixel(y.left,y.top);var ea=this._brushBuffer.width-O,Y=(I.width-O)*f.default.BYTES_PER_PIXEL,qa=255-G;if(255!=G){for(var la=0;la<J;la++,R+=ea,y+=Y)for(var Q=0;Q<O;Q++,R++,y+=f.default.BYTES_PER_PIXEL){var ka=
I.data[y+f.default.RED_BYTE_OFFSET],oa=I.data[y+f.default.GREEN_BYTE_OFFSET],ya=I.data[y+f.default.BLUE_BYTE_OFFSET],ja=H[R],ua=(I.data[y+f.default.ALPHA_BYTE_OFFSET]*qa+(ja>>24&255)*G)/255<<24&4278190080|(ka*qa+(ja>>16&255)*G)/255<<16&16711680|(oa*qa+(ja>>8&255)*G)/255<<8&65280|(ya*qa+(ja&255)*G)/255&255;if(ua==ja){ja=(ua&16711680)>>16;var ha=(ua&65280)>>8,La=ua&255;ka>ja?ua+=65536:ka<ja&&(ua-=65536);oa>ha?ua+=256:oa<ha&&(ua-=256);ya>La?ua+=1:ya<La&&--ua}H[R]=ua}c(this._brushBuffer,N)}}},{key:"_paintToImage",
value:function(I,N,y,G){var H=N.getWidth(),O=N.getHeight();N=this._brushBuffer.offsetOfPixel(N.left,N.top);y=I.offsetOfPixel(y.left,y.top);var J=this._brushBuffer.width-H,R=(I.width-H)*f.default.BYTES_PER_PIXEL;I=I.data;for(var ea=this._brushBuffer.data,Y=0;Y<O;Y++,y+=R,N+=J)for(var qa=0;qa<H;qa++,N++,y+=f.default.BYTES_PER_PIXEL){var la=ea[N];0<((la>>>24)*G[N]/255|0)&&(I[y+f.default.RED_BYTE_OFFSET]=la>>16&255,I[y+f.default.GREEN_BYTE_OFFSET]=la>>8&255,I[y+f.default.BLUE_BYTE_OFFSET]=la&255,I[y+
f.default.ALPHA_BYTE_OFFSET]=la>>24&255)}}},{key:"paintDab",value:function(I,N,y,G,H,O,J){I instanceof f.default?null==this._brushBuffer?(this._brushBuffer=new p.default(O.width,O.height,32),this._sampleFromImage(y,H,N,0)):(this._sampleFromImage(y,H,N,O.alpha),this._paintToImage(I,H,N,O.brush)):null==this._brushBuffer?(this._brushBuffer=new p.default(O.width,O.height,16),this._sampleFromMask(y,H,N,0)):(this._sampleFromMask(y,H,N,O.alpha),this._paintToMask(I,H,N,O.brush))}},{key:"mergeOntoImage",value:function(I,
N,y){}},{key:"mergeOntoMask",value:function(I,N,y){}},{key:"beginStroke",value:function(){this._brushBuffer=null}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return C}(g)},{"../util/CPColorFloat.js":59,"./CPBrushInfo.js":8,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],11:[function(g,K,D){function z(ra){return ra&&ra.__esModule?ra:{default:ra}}function k(ra,za){var Da="undefined"!==typeof Symbol&&ra[Symbol.iterator]||ra["@@iterator"];if(!Da){if(Array.isArray(ra)||(Da=v(ra))||za&&ra&&
"number"===typeof ra.length){Da&&(ra=Da);var Ga=0;za=function(){};return{s:za,n:function(){return Ga>=ra.length?{done:!0}:{done:!1,value:ra[Ga++]}},e:function(Oa){throw Oa;},f:za}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var db=!0,tb=!1,qb;return{s:function(){Da=Da.call(ra)},n:function(){var Oa=Da.next();db=Oa.done;return Oa},e:function(Oa){tb=!0;qb=Oa},f:function(){try{db||null==Da.return||
Da.return()}finally{if(tb)throw qb;}}}}function v(ra,za){if(ra){if("string"===typeof ra)return E(ra,za);var Da=Object.prototype.toString.call(ra).slice(8,-1);"Object"===Da&&ra.constructor&&(Da=ra.constructor.name);if("Map"===Da||"Set"===Da)return Array.from(ra);if("Arguments"===Da||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Da))return E(ra,za)}}function E(ra,za){if(null==za||za>ra.length)za=ra.length;for(var Da=0,Ga=Array(za);Da<za;Da++)Ga[Da]=ra[Da];return Ga}function b(){b="undefined"!==typeof Reflect&&
Reflect.get?Reflect.get.bind():function(ra,za,Da){var Ga;for(Ga=ra;!Object.prototype.hasOwnProperty.call(Ga,za)&&(Ga=q(Ga),null!==Ga););if(Ga)return Ga=Object.getOwnPropertyDescriptor(Ga,za),Ga.get?Ga.get.call(3>arguments.length?ra:Da):Ga.value};return b.apply(this,arguments)}function d(ra,za){if("function"!==typeof za&&null!==za)throw new TypeError("Super expression must either be null or a function");ra.prototype=Object.create(za&&za.prototype,{constructor:{value:ra,writable:!0,configurable:!0}});
Object.defineProperty(ra,"prototype",{writable:!1});za&&w(ra,za)}function w(ra,za){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Da,Ga){Da.__proto__=Ga;return Da};return w(ra,za)}function a(ra){var za=m();return function(){var Da=q(ra);if(za){var Ga=q(this).constructor;Da=Reflect.construct(Da,arguments,Ga)}else Da=Da.apply(this,arguments);if(!Da||"object"!==r(Da)&&"function"!==typeof Da){if(void 0!==Da)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");Da=this}return Da}}function m(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ra){return!1}}function q(ra){q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(za){return za.__proto__||Object.getPrototypeOf(za)};return q(ra)}
function r(ra){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(za){return typeof za}:function(za){return za&&"function"==typeof Symbol&&za.constructor===Symbol&&za!==Symbol.prototype?"symbol":typeof za},r(ra)}function h(ra,za){if(!(ra instanceof za))throw new TypeError("Cannot call a class as a function");}function c(ra,za){for(var Da=0;Da<za.length;Da++){var Ga=za[Da];Ga.enumerable=Ga.enumerable||!1;Ga.configurable=!0;"value"in Ga&&(Ga.writable=
!0);var db=Object,tb=db.defineProperty;a:{var qb=Ga.key;if("object"===r(qb)&&null!==qb){var Oa=qb[Symbol.toPrimitive];if(void 0!==Oa){qb=Oa.call(qb,"string");if("object"!==r(qb))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}qb=String(qb)}}qb="symbol"===r(qb)?qb:String(qb);tb.call(db,ra,qb,Ga)}}function f(ra,za,Da){za&&c(ra.prototype,za);Da&&c(ra,Da);Object.defineProperty(ra,"prototype",{writable:!1});return ra}function p(ra){this.version=ra.readU32BE();this.width=ra.readU32BE();
this.height=ra.readU32BE();this.layersNb=ra.readU32BE()}function e(ra){for(var za=Array(4),Da=0;Da<za.length;Da++)za[Da]=String.fromCharCode(ra.readByte());this.chunkType=za.join("");this.chunkSize=ra.readU32BE();if(ra.eof)throw"Truncated chunk";}function n(ra){return{major:ra>>16&65535,minor:ra&65535}}function u(ra){ra=n(ra);return 0===ra.major&&0===ra.minor?"ChibiPaint v0.0":"ChickenPaint v"+ra.major+"."+ra.minor}function A(ra){ra=k(ra.getLayersRoot().getLinearizedLayerList(!1));var za;try{for(ra.s();!(za=
ra.n()).done;){var Da=za.value;if(Da instanceof O.default||Da.mask||Da.clip||Da.blendMode>R.default.LM_LAST_CHIBIPAINT||Da.blendMode===R.default.LM_MULTIPLY)return Y<<16|qa}}catch(Ga){ra.e(Ga)}finally{ra.f()}return 0}function C(ra,za){var Da=new Uint8Array(e.HEADER_LENGTH+za);Da=new H.default(Da);Da.writeString(ra);Da.writeU32BE(za);return Da}function B(ra,za,Da){var Ga=C(ka,p.FIXED_HEADER_LENGTH);Ga.writeU32BE(za);Ga.writeU32BE(ra.width);Ga.writeU32BE(ra.height);Ga.writeU32BE(Da);return Ga.getAsDataArray()}
function I(ra){for(var za=0;za<Q.length;za++)if(ra[za]!=Q.charCodeAt(za))return!1;return!0}Object.defineProperty(D,"__esModule",{value:!0});D.load=function(ra,za){function Da(Ua){var lb=Ka;if(null===lb||0===lb.length)Ka=Ua;else if(null===Ua||0===Ua.length)Ka=lb;else{var ob=new Uint8Array(lb.length+Ua.length);ob.set(lb,0);ob.set(Ua,lb.length);Ka=ob}for(;;){if(Ka)if(ta<Ka.length)Ka=Ka.subarray(ta),ta=0;else{ta-=Ka.length;Ka=null;break}else break;switch(db){case 0:if(Ka.length<e.HEADER_LENGTH)break;
Ua=new H.default(Ka);Ca=new e(Ua);Ka=Ka.subarray(Ua.pos);if(pa)if(Ca.chunkType==ja)db=45;else{Ca.chunkType==oa?(db=2,Oa=new Ea(Ca,pa.width,pa.height)):Ca.chunkType==ya?(db=3,Oa=new Ra(Ca,pa.width,pa.height)):(console.log("Unknown chunk type '"+Ca.chunkType+"', attempting to skip..."),ta=Ca.chunkSize);continue}else if(Ca.chunkType==ka){db=1;continue}else db=5;break;case 1:if(Ka.length<Ca.chunkSize)break;Ua=new H.default(Ka);pa=new p(Ua);if(n(pa.version).major>la){db=5;break}tb=new N.default(pa.width,
pa.height);qb=tb.getLayersRoot();ta=Ca.chunkSize;db=0;continue;case 2:Ka=Oa.decode(Ka);if(Oa.done){tb.addLayerObject(qb,Oa.layer);db=0;continue}break;case 3:if(Ka=Oa.decode(Ka),Oa.done){tb.addLayerGroupObject(qb,Oa.layer,Oa.childLayers);db=0;continue}}break}}za=za||{};var Ga=new ea.default.Inflate({}),db=0,tb=null,qb=null,Oa,ta=0,pa=null,Ca=null,Ka=null;return(new Promise(function(Ua){if(ra instanceof ArrayBuffer)Ua(ra);else{var lb=new FileReader;lb.onload=function(){Ua(this.result)};lb.readAsArrayBuffer(ra)}})).then(function(Ua){return new Promise(function(lb,
ob){var Ab=new Uint8Array(Ua);I(Ab)?(Ab=Ab.subarray(Q.length),Ga.onData=Da,Ga.onEnd=function(Pa){0===Pa&&45==db?(!1!==za.upgradeMultiplyLayers&&pa.version<(Y<<16|qa)&&tb.upgradeMultiplyLayers(za.upgradeMultiplyLayers),tb.selectTopmostVisibleLayer(),lb(tb)):ob("Fatal error decoding ChibiFile: "+Pa)},Ga.push(Ab,!0)):ob("This doesn't appear to be a ChibiPaint layers file, is it damaged?")})})};D.save=function(ra,za){za=za||{};return Promise.resolve().then(function(){var Da=new ea.default.Deflate({level:7}),
Ga=[],db=new Uint8Array(Q.length),tb=ra.getLayersRoot().getLinearizedLayerList(!1),qb=za.forceOldVersion?0:A(ra),Oa=u(qb),ta=Promise.resolve();Da.onData=function(Ka){Ga.push(Ka)};for(var pa=0;pa<Q.length;pa++)db[pa]=Q.charCodeAt(pa);Ga.push(db);Da.push(B(ra,qb,tb.length),!1);db=k(tb);var Ca;try{for(tb=function(){var Ka=Ca.value;ta=ta.then(function(){return new Promise(function(Ua){var lb=Da.push,ob=Ka instanceof y.default;var Ab=4*(ob?5:6);var Pa=Ka.name.length,Qa=Ab+Pa;Ab=C(ob?oa:ya,Ab+Pa+((ob?Ka.image.data.length:
0)+(Ka.mask?Ka.mask.data.length:0)));Pa=0;Ka.visible&&(Pa|=ua);ob&&Ka.clip&&(Pa|=ha);Ka.mask&&(Pa|=La);Ka.maskLinked&&(Pa|=Ya);Ka.maskVisible&&(Pa|=Xa);Ka.lockAlpha&&(Pa|=Z);!ob&&Ka.expanded&&(Pa|=T);if(Ka.blendMode===R.default.LM_MULTIPLY2){var Ia=R.default.LM_MULTIPLY;Pa|=sa}else Ia=Ka.blendMode;Ab.writeU32BE(Qa);Ab.writeU32BE(Ia);Ab.writeU32BE(Ka.alpha);Ab.writeU32BE(Pa);Ab.writeU32BE(Ka.name.length);ob||Ab.writeU32BE(Ka.layers.length);Ab.writeString(Ka.name);if(ob){ob=Ab.pos;Qa=Ab.data;Pa=Ka.image.data;
for(Ia=0;Ia<Pa.length;Ia+=G.default.BYTES_PER_PIXEL)Qa[ob++]=Pa[Ia+G.default.ALPHA_BYTE_OFFSET],Qa[ob++]=Pa[Ia+G.default.RED_BYTE_OFFSET],Qa[ob++]=Pa[Ia+G.default.GREEN_BYTE_OFFSET],Qa[ob++]=Pa[Ia+G.default.BLUE_BYTE_OFFSET];Ab.pos=ob}Ka.mask&&(ob=Ka.mask,Ab.data.set(ob.data,Ab.pos),Ab.pos+=ob.data.length);Ab=Ab.getAsDataArray();lb.call(Da,Ab,!1);setTimeout(Ua,10)})})},db.s();!(Ca=db.n()).done;)tb()}catch(Ka){db.e(Ka)}finally{db.f()}return ta.then(function(){return new Promise(function(Ka,Ua){Da.onEnd=
function(lb){if(0===lb)if("undefined"!==typeof Blob)Ka({bytes:new Blob(Ga,{type:"application/octet-stream"}),version:Oa});else{lb=Ga.map(function(Qa){return Qa.byteLength}).reduce(function(Qa,Ia){return Qa+Ia},0);lb=new Uint8Array(lb);for(var ob=0,Ab=0;Ab<Ga.length;Ab++){var Pa=Ga[Ab];lb.set(Pa,ob);ob+=Pa.byteLength}Ka({bytes:lb,version:Oa})}else Ua(lb)};Da.push(C(ja,0).getAsDataArray(),!0)})})})};var N=z(g("./CPArtwork.js")),y=z(g("./CPImageLayer.js")),G=z(g("./CPColorBmp.js")),H=z(g("../util/ArrayDataStream.js")),
O=z(g("./CPLayerGroup.js")),J=z(g("./CPGreyBmp.js")),R=z(g("./CPBlend.js")),ea=z(g("pako")),Y=0,qa=10,la=Y,Q="CHIBIOEK",ka="HEAD",oa="LAYR",ya="GRUP",ja="ZEND";p.FIXED_HEADER_LENGTH=16;e.HEADER_LENGTH=8;var ua=1,ha=2,La=4,Ya=8,Xa=16,T=32,Z=64,sa=128;g=function(){function ra(za,Da,Ga){h(this,ra);this.chunkHeader=za;this.width=Da;this.height=Ga;this.nameLength=this.skipBytes=this.payloadOffset=this.state=0;this.done=!1;this.maskDecoder=this.colorDecoder=null}f(ra,[{key:"readFixedHeader",value:function(za){this.payloadOffset=
za.readU32BE();this.blendMode=za.readU32BE();this.alpha=za.readU32BE();var Da=za.readU32BE();this.visible=0!=(Da&ua);this.clip=0!=(Da&ha);this.hasMask=0!=(Da&La);this.maskLinked=0!=(Da&Ya);this.maskVisible=0!=(Da&Xa);this.expanded=0!=(Da&T);this.lockAlpha=0!=(Da&Z);this.blendMode===R.default.LM_MULTIPLY&&0!==(Da&sa)&&(this.blendMode=R.default.LM_MULTIPLY2);this.nameLength=za.readU32BE()}},{key:"getFixedHeaderLen",value:function(){return 20}},{key:"getVariableHeaderLen",value:function(){return this.nameLength}},
{key:"readVariableSizeHeader",value:function(za){this.name=za.readString(this.nameLength)}},{key:"decode",value:function(za){for(var Da;;){if(0<this.skipBytes){if(this.skipBytes>=za.length)return this.skipBytes-=za.length,null;za=za.subarray(this.skipBytes);this.skipBytes=0}switch(this.state){case 0:if(za.length<this.getFixedHeaderLen())break;Da=new H.default(za);this.readFixedHeader(Da);za=za.subarray(Da.pos);this.state=1;continue;case 1:if(za.length<this.getVariableHeaderLen())break;Da=new H.default(za);
this.readVariableSizeHeader(Da);this.layer=this.createLayer();this.hasMask&&(this.layer.setMask(new J.default(this.width,this.height,8)),this.maskDecoder=new Ib(this.layer.mask));this.layer instanceof y.default&&(this.colorDecoder=new wb(this.layer.image));this.skipBytes=this.payloadOffset-this.getFixedHeaderLen();this.state=this.colorDecoder?3:this.maskDecoder?4:5;continue;case 3:za=this.colorDecoder.decode(za);if(this.colorDecoder.done){this.state=this.maskDecoder?4:5;continue}break;case 4:za=this.maskDecoder.decode(za);
if(this.maskDecoder.done){this.state=5;continue}break;case 5:Da=this.payloadOffset;this.colorDecoder&&(Da+=this.colorDecoder.bytesTotal);this.maskDecoder&&(Da+=this.maskDecoder.bytesTotal);this.state=6;this.skipBytes=this.chunkHeader.chunkSize-Da;continue;case 6:this.done=!0}break}return za}}]);return ra}();var Ea=function(ra){function za(){h(this,za);return Da.apply(this,arguments)}d(za,ra);var Da=a(za);f(za,[{key:"createLayer",value:function(){var Ga=new y.default(this.width,this.height,this.name);
Ga.setBlendMode(this.blendMode);Ga.setAlpha(this.alpha);Ga.setVisible(this.visible);Ga.setClip(this.clip);Ga.setMaskLinked(this.maskLinked);Ga.setMaskVisible(this.maskVisible);Ga.setLockAlpha(this.lockAlpha);return Ga}}]);return za}(g),Ra=function(ra){function za(Ga,db,tb){h(this,za);Ga=Da.call(this,Ga,db,tb);Ga.childLayers=0;return Ga}d(za,ra);var Da=a(za);f(za,[{key:"readFixedHeader",value:function(Ga){b(q(za.prototype),"readFixedHeader",this).call(this,Ga);this.childLayers=Ga.readU32BE()}},{key:"getFixedHeaderLen",
value:function(){return b(q(za.prototype),"getFixedHeaderLen",this).call(this)+4}},{key:"createLayer",value:function(){var Ga=new O.default(this.name,this.blendMode);Ga.setAlpha(this.alpha);Ga.setVisible(this.visible);Ga.setExpanded(this.expanded);Ga.setMaskLinked(this.maskLinked);Ga.setMaskVisible(this.maskVisible);return Ga}}]);return za}(g),wb=function(){function ra(za){h(this,ra);this.bytesRead=0;this.bytesTotal=za.width*za.height*G.default.BYTES_PER_PIXEL;this.output=za.data;this.done=!1}f(ra,
[{key:"decode",value:function(za){if(null==za)return null;for(var Da=this.bytesRead%G.default.BYTES_PER_PIXEL,Ga=this.bytesRead-Da,db=0,tb=[G.default.ALPHA_BYTE_OFFSET,G.default.RED_BYTE_OFFSET,G.default.GREEN_BYTE_OFFSET,G.default.BLUE_BYTE_OFFSET];Da<G.default.BYTES_PER_PIXEL&&db<za.length;Da++)this.output[Ga+tb[Da]]=za[db],db++;this.bytesRead+=db;var qb=Math.min(za.length-db,this.bytesTotal-this.bytesRead)|0;Da=qb/G.default.BYTES_PER_PIXEL|0;qb%=G.default.BYTES_PER_PIXEL;for(Ga=0;Ga<Da;Ga++)this.output[this.bytesRead+
G.default.ALPHA_BYTE_OFFSET]=za[db],this.output[this.bytesRead+G.default.RED_BYTE_OFFSET]=za[db+1],this.output[this.bytesRead+G.default.GREEN_BYTE_OFFSET]=za[db+2],this.output[this.bytesRead+G.default.BLUE_BYTE_OFFSET]=za[db+3],this.bytesRead+=G.default.BYTES_PER_PIXEL,db+=G.default.BYTES_PER_PIXEL;Ga=this.bytesRead;for(Da=0;Da<qb;Da++)this.output[Ga+tb[Da]]=za[db],db++;this.bytesRead+=qb;this.bytesRead>=this.bytesTotal&&(this.done=!0);return db<za.length?za.subarray(db):null}}]);return ra}(),Ib=
function(){function ra(za){h(this,ra);this.bytesRead=0;this.bytesTotal=za.width*za.height;this.output=za.data;this.done=!1}f(ra,[{key:"decode",value:function(za){if(null==za)return null;var Da=Math.min(za.length,this.bytesTotal-this.bytesRead)|0,Ga=this.bytesRead,db;for(db=0;db<Da;db++,Ga++)this.output[Ga]=za[db];this.bytesRead=Ga;this.bytesRead>=this.bytesTotal&&(this.done=!0);return db<za.length?za.subarray(db):null}}]);return ra}()},{"../util/ArrayDataStream.js":56,"./CPArtwork.js":3,"./CPBlend.js":5,
"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPImageLayer.js":15,"./CPLayerGroup.js":17,pako:297}],12:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(z,k,v){this.bmp=z;this.x=k;this.y=v};K.exports=D.default},{}],13:[function(g,K,D){function z(a){return a&&a.__esModule?a:{default:a}}function k(a,m){"number"==typeof a?(b.default.call(this,a,m),this.imageData=(0,w.createImageData)(this.width,this.height)):(b.default.call(this,a.width,a.height),this.imageData=a);this.data=
this.imageData.data}function v(a,m,q,r){var h=0,c=[0,0,0,0],f,p;for(p=f=0;p<r&&p<q;p++){for(var e=0;e<k.BYTES_PER_PIXEL;e++)c[e]+=a[f++];h++}for(e=p=0;e<q;e++){if(e+r<q){f=(e+r)*k.BYTES_PER_PIXEL;for(var n=0;n<k.BYTES_PER_PIXEL;n++)c[n]+=a[f++];h++}for(f=0;f<k.BYTES_PER_PIXEL;f++)m[p++]=Math.round(c[f]/h);if(0<=e-r){f=(e-r)*k.BYTES_PER_PIXEL;for(n=0;n<k.BYTES_PER_PIXEL;n++)c[n]-=a[f++];h--}}}function E(a,m){m%=4;if(0==m)return a;var q=(0,w.createCanvas)(0,0),r=q.getContext("2d");0==m%2?(q.width=a.width,
q.height=a.height):(q.width=a.height,q.height=a.width);switch(m){case 1:r.rotate(Math.PI/2);r.drawImage(a,0,-a.height);break;case 2:r.rotate(Math.PI);r.drawImage(a,-a.width,-a.height);break;case 3:r.rotate(-Math.PI/2);r.drawImage(a,-a.width,0);break;default:return a}return q}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;D.getRotatedCanvas=E;var b=z(g("./CPBitmap.js")),d=z(g("../util/CPRect.js")),w=g("../util/Canvas.js");k.prototype=Object.create(b.default.prototype);k.prototype.constructor=
k;k.BYTES_PER_PIXEL=4;k.RED_BYTE_OFFSET=0;k.GREEN_BYTE_OFFSET=1;k.BLUE_BYTE_OFFSET=2;k.ALPHA_BYTE_OFFSET=3;k.prototype.clone=function(){return this.cloneRect(this.getBounds())};k.prototype.cloneRect=function(a){var m=new k(a.getWidth(),a.getHeight());m.copyBitmapRect(this,0,0,a);return m};k.prototype.getPixel=function(a,m){a=Math.max(0,Math.min(this.width-1,a));m=Math.max(0,Math.min(this.height-1,m));a=this.offsetOfPixel(a,m);return this.data[a+k.ALPHA_BYTE_OFFSET]<<24|this.data[a+k.RED_BYTE_OFFSET]<<
16|this.data[a+k.GREEN_BYTE_OFFSET]<<8|this.data[a+k.BLUE_BYTE_OFFSET]};k.prototype.copyRectXOR=function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth(),r=m.getHeight();r=new Uint8Array(q*r*k.BYTES_PER_PIXEL);var h=0,c=this.offsetOfPixel(m.left,m.top),f=a.offsetOfPixel(m.left,m.top),p=(this.width-q)*k.BYTES_PER_PIXEL,e=(a.width-q)*k.BYTES_PER_PIXEL;q*=k.BYTES_PER_PIXEL;for(var n=m.top;n<m.bottom;n++,c+=p,f+=e)for(var u=0;u<q;u++,h++,c++,f++)r[h]=this.data[c]^a.data[f];return r};k.prototype.setRectXOR=
function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth(),r=m.getHeight();m=this.offsetOfPixel(m.left,m.top);var h=0,c=(this.width-q)*k.BYTES_PER_PIXEL;q*=k.BYTES_PER_PIXEL;for(var f=0;f<r;f++){for(var p=0;p<q;p++)this.data[m++]^=a[h++];m+=c}};k.prototype.copyBitmapRect=function(a,m,q,r){var h=new d.default(m,q,0,0);r=r.clone();this.getBounds().clipSourceDest(r,h);m=h.getWidth()|0;q=h.getHeight()|0;if(0==h.left&&0==h.top&&m==this.width&&q==this.height&&m==a.width&&q==a.height)this.copyPixelsFrom(a);
else{h=this.offsetOfPixel(h.left,h.top);var c=(this.width-m)*k.BYTES_PER_PIXEL;r=a.offsetOfPixel(r.left,r.top);for(var f=(a.width-m)*k.BYTES_PER_PIXEL,p=0;p<q;p++,r+=f,h+=c)for(var e=0;e<m;e++,r+=k.BYTES_PER_PIXEL,h+=k.BYTES_PER_PIXEL)this.data[h]=a.data[r],this.data[h+1]=a.data[r+1],this.data[h+2]=a.data[r+2],this.data[h+3]=a.data[r+3]}};k.prototype.copyAlphaFrom=function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth()|0,r=m.getHeight()|0;m=this.offsetOfPixel(m.left,m.top)+k.ALPHA_BYTE_OFFSET|
0;for(var h=(this.width-q)*k.BYTES_PER_PIXEL|0,c=0;c<r;c++,m+=h)for(var f=0;f<q;f++,m+=k.BYTES_PER_PIXEL)this.data[m]=a.data[m]};k.prototype.setToSize=function(a){if(a.width!=this.width||a.height!=this.height)this.width=a.width,this.height=a.height,this.imageData=(0,w.createImageData)(this.width,this.height),this.data=this.imageData.data};k.prototype.copyPixelsFrom=function(a){this.setToSize(a);if("set"in this.data)this.data.set(a.data);else for(var m=0;m<this.data.length;m++)this.data[m]=a.data[m]};
k.prototype.copyPixelsFromGreyscale=function(a){var m,q=0,r=a.width*a.height;this.setToSize(a);for(m=0;m<r;m++,q+=k.BYTES_PER_PIXEL)this.data[q+k.RED_BYTE_OFFSET]=a.data[m],this.data[q+k.GREEN_BYTE_OFFSET]=a.data[m],this.data[q+k.BLUE_BYTE_OFFSET]=a.data[m],this.data[q+k.ALPHA_BYTE_OFFSET]=255};k.prototype.copyScaledNearestNeighbor=function(a){for(var m=0,q=a.width/this.width,r=a.height/this.height,h,c=0,f=0;c<this.height;c++,f+=r){h=a.offsetOfPixel(0,Math.round(f));for(var p=0,e=0;p<this.width;p++,
m+=k.BYTES_PER_PIXEL,e+=q){var n=h+Math.round(e)*k.BYTES_PER_PIXEL;this.data[m]=a.data[n];this.data[m+1]=a.data[n+1];this.data[m+2]=a.data[n+2];this.data[m+k.ALPHA_BYTE_OFFSET]=a.data[n+k.ALPHA_BYTE_OFFSET]}}};k.prototype.createThumbnailFrom=function(a){var m=Math.min(Math.floor(a.width/this.width),3);if(2>m)this.copyScaledNearestNeighbor(a);else{var q=new Uint16Array(5*this.width),r=a.width*k.BYTES_PER_PIXEL,h=Math.floor(a.width/this.width)*k.BYTES_PER_PIXEL,c=Math.floor(a.width/this.width/m)*k.BYTES_PER_PIXEL,
f=h-c*m,p=Math.floor(a.height/this.height/m);h=p*r-h*this.width;r*=Math.floor(a.height/this.height)-p*m;for(var e=p=0,n=0;n<this.height;n++,p+=r){var u;q.fill(0);for(var A=0;A<m;A++,p+=h)for(var C=u=0;C<this.width;C++,u+=5,p+=f)for(var B=0;B<m;B++,p+=c){var I=a.data[p+k.ALPHA_BYTE_OFFSET],N=I/255;q[u]+=a.data[p]*N;q[u+1]+=a.data[p+1]*N;q[u+2]+=a.data[p+2]*N;q[u+k.ALPHA_BYTE_OFFSET]+=I;q[u+4]=Math.max(q[u+4],I)}for(A=u=0;A<this.width;A++,u+=5,e+=k.BYTES_PER_PIXEL)C=q[u+4],0==C?this.data[e+k.ALPHA_BYTE_OFFSET]=
0:(B=C/q[u+k.ALPHA_BYTE_OFFSET],this.data[e]=q[u]*B,this.data[e+1]=q[u+1]*B,this.data[e+2]=q[u+2]*B,this.data[e+k.ALPHA_BYTE_OFFSET]=C)}}};k.prototype.floodFill=function(a,m,q){if(this.isInside(a,m)){var r=this.getPixel(a,m),h=r>>24&255,c=r>>16&255,f=r>>8&255,p=r&255,e=q>>24&255,n=q>>16&255,u=q>>8&255,A=q&255,C=[],B=this.getBounds(),I=this.data;B.left*=k.BYTES_PER_PIXEL;B.right*=k.BYTES_PER_PIXEL;C.push({x1:a*k.BYTES_PER_PIXEL,x2:a*k.BYTES_PER_PIXEL,y:m,dy:-1});C.push({x1:a*k.BYTES_PER_PIXEL,x2:a*
k.BYTES_PER_PIXEL,y:m+1,dy:1});if(0==h){if(0!=e)for(;0<C.length;)if(c=C.pop(),!(c.y<B.top||c.y>=B.bottom)){f=this.offsetOfPixel(0,c.y);for(p=c.x1;p>=B.left&&0==I[p+f+k.ALPHA_BYTE_OFFSET];)I[p+f+k.RED_BYTE_OFFSET]=n,I[p+f+k.GREEN_BYTE_OFFSET]=u,I[p+f+k.BLUE_BYTE_OFFSET]=A,I[p+f+k.ALPHA_BYTE_OFFSET]=e,p-=k.BYTES_PER_PIXEL;if(p>=c.x1){for(;p<=c.x2&&I[p+f+k.ALPHA_BYTE_OFFSET]!=h;)p+=k.BYTES_PER_PIXEL;a=p+k.BYTES_PER_PIXEL;if(p>c.x2)continue}else p+=k.BYTES_PER_PIXEL,p<c.x1&&C.push({x1:p,x2:c.x1-k.BYTES_PER_PIXEL,
y:c.y-c.dy,dy:-c.dy}),a=c.x1+k.BYTES_PER_PIXEL;do{I[p+f+k.RED_BYTE_OFFSET]=n;I[p+f+k.GREEN_BYTE_OFFSET]=u;I[p+f+k.BLUE_BYTE_OFFSET]=A;for(I[p+f+k.ALPHA_BYTE_OFFSET]=e;a<B.right&&I[a+f+k.ALPHA_BYTE_OFFSET]==h;)I[a+f+k.RED_BYTE_OFFSET]=n,I[a+f+k.GREEN_BYTE_OFFSET]=u,I[a+f+k.BLUE_BYTE_OFFSET]=A,I[a+f+k.ALPHA_BYTE_OFFSET]=e,a+=k.BYTES_PER_PIXEL;C.push({x1:p,x2:a-k.BYTES_PER_PIXEL,y:c.y+c.dy,dy:c.dy});a-k.BYTES_PER_PIXEL>c.x2&&C.push({x1:c.x2+k.BYTES_PER_PIXEL,x2:a-k.BYTES_PER_PIXEL,y:c.y-c.dy,dy:-c.dy});
for(p=a+k.BYTES_PER_PIXEL;p<=c.x2&&I[p+f+k.ALPHA_BYTE_OFFSET]!=h;)p+=k.BYTES_PER_PIXEL;a=p+k.BYTES_PER_PIXEL}while(p<=c.x2)}}else if(q!=r)for(;0<C.length;)if(a=C.pop(),!(a.y<B.top||a.y>=B.bottom)){m=this.offsetOfPixel(0,a.y);for(q=a.x1;q>=B.left&&I[q+m+k.RED_BYTE_OFFSET]==c&&I[q+m+k.GREEN_BYTE_OFFSET]==f&&I[q+m+k.BLUE_BYTE_OFFSET]==p&&I[q+m+k.ALPHA_BYTE_OFFSET]==h;)I[q+m+k.RED_BYTE_OFFSET]=n,I[q+m+k.GREEN_BYTE_OFFSET]=u,I[q+m+k.BLUE_BYTE_OFFSET]=A,I[q+m+k.ALPHA_BYTE_OFFSET]=e,q-=k.BYTES_PER_PIXEL;
if(q>=a.x1){for(;q<=a.x2&&(I[q+m+k.RED_BYTE_OFFSET]!=c||I[q+m+k.GREEN_BYTE_OFFSET]!=f||I[q+m+k.BLUE_BYTE_OFFSET]!=p||I[q+m+k.ALPHA_BYTE_OFFSET]!=h);)q+=k.BYTES_PER_PIXEL;r=q+k.BYTES_PER_PIXEL;if(q>a.x2)continue}else q+=k.BYTES_PER_PIXEL,q<a.x1&&C.push({x1:q,x2:a.x1-k.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy}),r=a.x1+k.BYTES_PER_PIXEL;do{I[q+m+k.RED_BYTE_OFFSET]=n;I[q+m+k.GREEN_BYTE_OFFSET]=u;I[q+m+k.BLUE_BYTE_OFFSET]=A;for(I[q+m+k.ALPHA_BYTE_OFFSET]=e;r<B.right&&I[r+m+k.RED_BYTE_OFFSET]==c&&I[r+m+k.GREEN_BYTE_OFFSET]==
f&&I[r+m+k.BLUE_BYTE_OFFSET]==p&&I[r+m+k.ALPHA_BYTE_OFFSET]==h;)I[r+m+k.RED_BYTE_OFFSET]=n,I[r+m+k.GREEN_BYTE_OFFSET]=u,I[r+m+k.BLUE_BYTE_OFFSET]=A,I[r+m+k.ALPHA_BYTE_OFFSET]=e,r+=k.BYTES_PER_PIXEL;C.push({x1:q,x2:r-k.BYTES_PER_PIXEL,y:a.y+a.dy,dy:a.dy});r-k.BYTES_PER_PIXEL>a.x2&&C.push({x1:a.x2+k.BYTES_PER_PIXEL,x2:r-k.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy});for(q=r+k.BYTES_PER_PIXEL;q<=a.x2&&(I[q+m+k.RED_BYTE_OFFSET]!=c||I[q+m+k.GREEN_BYTE_OFFSET]!=f||I[q+m+k.BLUE_BYTE_OFFSET]!=p||I[q+m+k.ALPHA_BYTE_OFFSET]!=
h);)q+=k.BYTES_PER_PIXEL;r=q+k.BYTES_PER_PIXEL}while(q<=a.x2)}}};k.prototype.copyPixelColumnToArray=function(a,m,q,r){var h=(this.width-1)*k.BYTES_PER_PIXEL,c=0;a=this.offsetOfPixel(a,m);for(m=0;m<q;m++){for(var f=0;f<k.BYTES_PER_PIXEL;f++)r[c++]=this.data[a++];a+=h}};k.prototype.copyArrayToPixelColumn=function(a,m,q,r){var h=(this.width-1)*k.BYTES_PER_PIXEL,c=0;a=this.offsetOfPixel(a,m);for(m=0;m<q;m++){for(var f=0;f<k.BYTES_PER_PIXEL;f++)this.data[a++]=r[c++];a+=h}};k.prototype.boxBlur=function(a,
m,q){a=this.getBounds().clipTo(a);var r=a.getWidth(),h=r*k.BYTES_PER_PIXEL,c=a.getHeight(),f=Math.max(r,c),p=new Uint8Array(f*k.BYTES_PER_PIXEL);f=new Uint8Array(f*k.BYTES_PER_PIXEL);for(var e=a.top;e<a.bottom;e++){for(var n=this.offsetOfPixel(a.left,e),u=0;u<h;u++)p[u]=this.data[n++];n=p;u=r;for(var A=0,C=0;C<u;C++){for(var B=n[A+k.ALPHA_BYTE_OFFSET],I=0;3>I;I++,A++)n[A]=Math.round(n[A]*B/255);A++}v(p,f,r,m);n=this.offsetOfPixel(a.left,e);for(u=0;u<h;u++)this.data[n++]=f[u]}for(m=a.left;m<a.right;m++){this.copyPixelColumnToArray(m,
a.top,c,p);v(p,f,c,q);r=f;h=c;for(n=e=0;n<h;n++)if(u=r[e+k.ALPHA_BYTE_OFFSET],0!=u){u=255/u;for(A=0;3>A;A++,e++)r[e]=Math.min(Math.round(r[e]*u),255);e++}else e+=k.BYTES_PER_PIXEL;this.copyArrayToPixelColumn(m,a.top,c,f)}};k.prototype.offsetOfPixel=function(a,m){return 4*(m*this.width+a)|0};k.prototype.getMemorySize=function(){return this.data.length};k.prototype.getImageData=function(){return this.imageData};k.prototype.setImageData=function(a){this.width=a.width;this.height=a.height;this.imageData=
a;this.data=a.data};k.prototype.clearAll=function(a){if(0==a&&"fill"in this.data)this.data.fill(0);else{var m=a>>24&255,q=a>>16&255,r=a>>8&255;a&=255;for(var h=0;h<this.width*this.height*k.BYTES_PER_PIXEL;)this.data[h++]=q,this.data[h++]=r,this.data[h++]=a,this.data[h++]=m}};k.prototype.clearRect=function(a,m){a=this.getBounds().clipTo(a);var q=m>>24&255,r=m>>16&255,h=m>>8&255;m&=255;for(var c=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top),p=a.top;p<a.bottom;p++,f+=
c)for(var e=a.left;e<a.right;e++)this.data[f++]=r,this.data[f++]=h,this.data[f++]=m,this.data[f++]=q};k.prototype.copyRegionHFlip=function(a,m){a=this.getBounds().clipTo(a);for(var q=a.top;q<a.bottom;q++)for(var r=this.offsetOfPixel(a.left,q),h=m.offsetOfPixel(a.right-1,q),c=a.left;c<a.right;c++,h-=2*k.BYTES_PER_PIXEL)for(var f=0;f<k.BYTES_PER_PIXEL;f++)this.data[r++]=m.data[h++]};k.prototype.copyRegionVFlip=function(a,m){a=this.getBounds().clipTo(a);for(var q=a.getWidth()*k.BYTES_PER_PIXEL,r=a.top;r<
a.bottom;r++)for(var h=this.offsetOfPixel(a.left,r),c=m.offsetOfPixel(a.left,a.bottom-1-(r-a.top)),f=0;f<q;f++)this.data[h++]=m.data[c++]};k.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var m,q=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,r=this.offsetOfPixel(a.left,a.top),h=a.top;h<a.bottom;h++,r+=q)for(var c=a.left;c<a.right;c++,r+=k.BYTES_PER_PIXEL)m=256*Math.random()|0,this.data[r+k.RED_BYTE_OFFSET]=m,this.data[r+k.GREEN_BYTE_OFFSET]=m,this.data[r+k.BLUE_BYTE_OFFSET]=m,
this.data[r+k.ALPHA_BYTE_OFFSET]=255};k.prototype.gradientHorzReplace=function(a,m,q,r){var h={r:r[0]>>16&255,g:r[0]>>8&255,b:r[0]&255,a:r[0]>>24&255};r={r:r[1]>>16&255,g:r[1]>>8&255,b:r[1]&255,a:r[1]>>24&255};var c=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top)|0,p=a.bottom-a.top|0;if(q<m){var e=q;q=m;m=e;e=h;h=r;r=e}var n=q-m|0;e=(r.r-h.r)/n;var u=(r.g-h.g)/n,A=(r.b-h.b)/n;n=(r.a-h.a)/n;for(var C=Math.max(a.left-m,0),B=0;B<p;B++,f+=c){for(var I=a.left,N=Math.min(m,
a.right)|0;I<N;I++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=h.r,this.data[f+k.GREEN_BYTE_OFFSET]=h.g,this.data[f+k.BLUE_BYTE_OFFSET]=h.b,this.data[f+k.ALPHA_BYTE_OFFSET]=h.a;var y=h.r+e*C,G=h.g+u*C,H=h.b+A*C,O=h.a+n*C;for(N=Math.min(q,a.right)|0;I<N;I++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=y,this.data[f+k.GREEN_BYTE_OFFSET]=G,this.data[f+k.BLUE_BYTE_OFFSET]=H,this.data[f+k.ALPHA_BYTE_OFFSET]=O,y+=e,G+=u,H+=A,O+=n;for(;I<a.right;I++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=
r.r,this.data[f+k.GREEN_BYTE_OFFSET]=r.g,this.data[f+k.BLUE_BYTE_OFFSET]=r.b,this.data[f+k.ALPHA_BYTE_OFFSET]=r.a}};k.prototype.gradientVertReplace=function(a,m,q,r){var h={r:r[0]>>16&255,g:r[0]>>8&255,b:r[0]&255,a:r[0]>>24&255};r={r:r[1]>>16&255,g:r[1]>>8&255,b:r[1]&255,a:r[1]>>24&255};var c=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top)|0,p=a.right-a.left|0;if(q<m){var e=q;q=m;m=e;e=h;h=r;r=e}e=a.top;for(var n=Math.min(a.bottom,m)|0;e<n;e++,f+=c)for(var u=0;u<p;u++,
f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=h.r,this.data[f+k.GREEN_BYTE_OFFSET]=h.g,this.data[f+k.BLUE_BYTE_OFFSET]=h.b,this.data[f+k.ALPHA_BYTE_OFFSET]=h.a;var A=q-m|0;n=(r.r-h.r)/A;u=(r.g-h.g)/A;var C=(r.b-h.b)/A;A=(r.a-h.a)/A;var B=Math.max(e-m,0);m=h.r+n*B;var I=h.g+u*B,N=h.b+C*B;h=h.a+A*B;for(q=Math.min(a.bottom,q)|0;e<q;e++,f+=c){for(B=0;B<p;B++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=m,this.data[f+k.GREEN_BYTE_OFFSET]=I,this.data[f+k.BLUE_BYTE_OFFSET]=N,this.data[f+k.ALPHA_BYTE_OFFSET]=
h;m+=n;I+=u;N+=C;h+=A}for(;e<a.bottom;e++,f+=c)for(q=0;q<p;q++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=r.r,this.data[f+k.GREEN_BYTE_OFFSET]=r.g,this.data[f+k.BLUE_BYTE_OFFSET]=r.b,this.data[f+k.ALPHA_BYTE_OFFSET]=r.a};k.prototype.gradientReplace=function(a,m,q,r,h,c){var f=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,p=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,n=c[0]>>16&255,u=c[0]>>8&255,A=c[0]&255,C=c[0]>>24&255,B=c[1]>>16&255,I=c[1]>>8&255,N=c[1]&255;c=c[1]>>24&255;var y=
h-q+(r-m)*(r-m)/(h-q);r=r-m+(h-q)*(h-q)/(r-m);h=1/r;for(var G=a.top;G<a.bottom;G++,p+=f)for(var H=(a.left-m)/r+(G-q)/y,O=0;O<e;O++,p+=k.BYTES_PER_PIXEL){var J=Math.min(Math.max(H,0),1),R=1-J;this.data[p+k.RED_BYTE_OFFSET]=n*R+B*J;this.data[p+k.GREEN_BYTE_OFFSET]=u*R+I*J;this.data[p+k.BLUE_BYTE_OFFSET]=A*R+N*J;this.data[p+k.ALPHA_BYTE_OFFSET]=C*R+c*J;H+=h}};k.prototype.gradientAlpha=function(a,m,q,r,h,c){var f=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,p=this.offsetOfPixel(a.left,a.top)|0,e=a.right-
a.left|0,n=c[0]>>16&255,u=c[0]>>8&255,A=c[0]&255,C=c[0]>>24&255,B=c[1]>>16&255,I=c[1]>>8&255,N=c[1]&255;c=c[1]>>24&255;var y=h-q+(r-m)*(r-m)/(h-q);r=r-m+(h-q)*(h-q)/(r-m);h=1/r;for(var G=a.top;G<a.bottom;G++,p+=f)for(var H=(a.left-m)/r+(G-q)/y,O=0;O<e;O++,p+=k.BYTES_PER_PIXEL){var J=Math.min(Math.max(H,0),1),R=1-J,ea=n*R+B*J,Y=u*R+I*J,qa=A*R+N*J;R=C*R+c*J;J=this.data[p+k.ALPHA_BYTE_OFFSET];J=R+J-R*J/255|0;if(0<J){R=255*R/J|0;var la=255-R;this.data[p+k.RED_BYTE_OFFSET]=(ea*R+this.data[p+k.RED_BYTE_OFFSET]*
la)/255|0;this.data[p+k.GREEN_BYTE_OFFSET]=(Y*R+this.data[p+k.GREEN_BYTE_OFFSET]*la)/255|0;this.data[p+k.BLUE_BYTE_OFFSET]=(qa*R+this.data[p+k.BLUE_BYTE_OFFSET]*la)/255|0;this.data[p+k.ALPHA_BYTE_OFFSET]=J}H+=h}};k.prototype.gradient=function(a,m,q,r,h,c,f){a=this.getBounds().clipTo(a);if(m!=r||q!=h)f||255==c[0]>>>24&&255==c[1]>>>24?m==r?this.gradientVertReplace(a,q,h,c):q==h?this.gradientHorzReplace(a,m,r,c):this.gradientReplace(a,m,q,r,h,c):this.gradientAlpha(a,m,q,r,h,c)};k.prototype.fillWithColorNoise=
function(a){a=this.getBounds().clipTo(a);for(var m,q=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,r=this.offsetOfPixel(a.left,a.top),h=a.top;h<a.bottom;h++,r+=q)for(var c=a.left;c<a.right;c++,r+=k.BYTES_PER_PIXEL)m=16777216*Math.random()|0,this.data[r+k.RED_BYTE_OFFSET]=m>>16&255,this.data[r+k.GREEN_BYTE_OFFSET]=m>>8&255,this.data[r+k.BLUE_BYTE_OFFSET]=m&255,this.data[r+k.ALPHA_BYTE_OFFSET]=255};k.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var m=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,
q=this.offsetOfPixel(a.left,a.top),r=a.top;r<a.bottom;r++,q+=m)for(var h=a.left;h<a.right;h++,q+=k.BYTES_PER_PIXEL)this.data[q+k.RED_BYTE_OFFSET]^=255,this.data[q+k.GREEN_BYTE_OFFSET]^=255,this.data[q+k.BLUE_BYTE_OFFSET]^=255};k.prototype.getNonTransparentBounds=function(a){var m=a.clone(),q,r;var h=(this.width-m.getWidth())*k.BYTES_PER_PIXEL;a=this.offsetOfPixel(m.left,m.top)+k.ALPHA_BYTE_OFFSET;for(r=m.top;r<m.bottom;r++,a+=h){var c=0;for(q=m.left;q<m.right;q++,a+=k.BYTES_PER_PIXEL)c|=this.data[a];
if(0!=c)break}m.top=r;if(m.top==m.bottom)return m;a=this.offsetOfPixel(m.right-1,m.bottom-1)+k.ALPHA_BYTE_OFFSET;for(r=m.bottom-1;r>=m.top;r--,a-=h){c=0;for(q=m.right-1;q>=m.left;q--,a-=k.BYTES_PER_PIXEL)c|=this.data[a];if(0!=c)break}m.bottom=r+1;h=k.BYTES_PER_PIXEL*this.width;for(q=m.left;q<m.right;q++){a=this.offsetOfPixel(q,m.top)+k.ALPHA_BYTE_OFFSET;c=0;for(r=m.top;r<m.bottom;r++,a+=h)c|=this.data[a];if(0!=c)break}m.left=q;for(q=m.right-1;q>=m.left;q--){a=this.offsetOfPixel(q,m.top)+k.ALPHA_BYTE_OFFSET;
c=0;for(r=m.top;r<m.bottom;r++,a+=h)c|=this.data[a];if(0!=c)break}m.right=q+1;return m};k.prototype.getAsCanvas=function(a){var m=(0,w.createCanvas)(this.imageData.width,this.imageData.height);m.getContext("2d").putImageData(this.imageData,0,0);return E(m,a||0)};k.prototype.getAsPNG=function(a){a=this.getAsCanvas(a).toDataURL("image/png");a="string"===typeof a&&a.match(/^data:image\/png;base64,/i)?window.atob(a.substring(22)):!1;return a};k.prototype.getAsPNGBuffer=function(a){return this.getAsCanvas(a).toBuffer("image/png")};
k.prototype.hasAlphaInRect=function(a){a=this.getBounds().clipTo(a);for(var m=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,q=this.offsetOfPixel(a.left,a.top)+k.ALPHA_BYTE_OFFSET,r=a.top;r<a.bottom;r++,q+=m){for(var h=255,c=a.left;c<a.right;c++,q+=k.BYTES_PER_PIXEL)h&=this.data[q];if(255!=h)return!0}return!1};k.prototype.hasAlpha=function(){return this.hasAlphaInRect(this.getBounds())};k.createFromImage=function(a){var m=(0,w.createCanvas)(a.width,a.height).getContext("2d");m.globalCompositeOperation=
"copy";m.drawImage(a,0,0);return new k(m.getImageData(0,0,a.width,a.height))};k.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var m=0;m<this.data.length;m+=k.BYTES_PER_PIXEL)if(0!=this.data[m+k.ALPHA_BYTE_OFFSET]||0!=a.data[m+k.ALPHA_BYTE_OFFSET])if(this.data[m]!=a.data[m]||this.data[m+1]!=a.data[m+1]||this.data[m+2]!=a.data[m+2]||this.data[m+3]!=a.data[m+3])return!1;return!0}},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4}],14:[function(g,
K,D){function z(a){return a&&a.__esModule?a:{default:a}}function k(a,m,q){E.default.call(this,a,m);this.createBitmap(a,m,q)}function v(a,m,q,r){var h=0,c=0,f;for(f=0;f<r&&f<q;f++)c+=a[f],h++;for(var p=f=0;p<q;p++)p+r<q&&(c+=a[p+r],h++),m[f++]=Math.round(c/h),0<=p-r&&(c-=a[p-r],h--)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var E=z(g("./CPBitmap.js")),b=z(g("../util/CPRect.js")),d=g("../util/Canvas.js"),w=g("./CPColorBmp.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=
k;k.prototype.createBitmap=function(a,m,q){this.bitDepth=q;switch(q){case 32:this.data=new Uint32Array(a*m);break;case 16:this.data=new Uint16Array(a*m);break;default:this.data=new Uint8Array(a*m)}};k.prototype.clone=function(){var a=new k(this.width,this.height,this.bitDepth);a.copyPixelsFrom(this);return a};k.prototype.cloneRect=function(a){var m=new k(a.getWidth(),a.getHeight(),this.bitDepth);m.copyBitmapRect(this,0,0,a);return m};k.prototype.getPixel=function(a,m){a=Math.max(0,Math.min(this.width-
1,a));m=Math.max(0,Math.min(this.height-1,m));return this.data[this.offsetOfPixel(a,m)]};k.prototype.clearAll=function(a){this.data.fill(a)};k.prototype.clearRect=function(a,m){a=this.getBounds().clipTo(a);if(a.equals(this.getBounds()))this.clearAll(m);else for(var q=this.width,r=a.right-a.left,h=this.offsetOfPixel(a.left,a.top),c=a.top;c<a.bottom;c++,h+=q)this.data.fill(m,h,h+r)};k.prototype.copyScaledNearestNeighbor=function(a){for(var m=0,q=a.width/this.width,r=a.height/this.height,h,c=0,f=0;c<
this.height;c++,f+=r){h=a.offsetOfPixel(0,Math.round(f));for(var p=0,e=0;p<this.width;p++,m++,e+=q)this.data[m]=a.data[h+Math.round(e)]}};k.prototype.floodFill=function(a,m,q){if(this.isInside(a,m)){q&=255;var r=this.getPixel(a,m),h=[],c=this.getBounds(),f=this.data;h.push({x1:a,x2:a,y:m,dy:-1});h.push({x1:a,x2:a,y:m+1,dy:1});if(q!=r)for(;0<h.length;)if(a=h.pop(),!(a.y<c.top||a.y>=c.bottom)){m=this.offsetOfPixel(0,a.y);for(var p=a.x1,e;p>=c.left&&f[p+m]==r;)f[p+m]=q,p--;if(p>=a.x1){for(;p<=a.x2&&
f[p+m]!=r;)p++;e=p+1;if(p>a.x2)continue}else p++,p<a.x1&&h.push({x1:p,x2:a.x1-1,y:a.y-a.dy,dy:-a.dy}),e=a.x1+1;do{for(f[p+m]=q;e<c.right&&f[e+m]==r;)f[e+m]=q,e++;h.push({x1:p,x2:e-1,y:a.y+a.dy,dy:a.dy});e-1>a.x2&&h.push({x1:a.x2+1,x2:e-1,y:a.y-a.dy,dy:-a.dy});for(p=e+1;p<=a.x2&&f[p+m]!=r;)p++;e=p+1}while(p<=a.x2)}}};k.prototype.createThumbnailFrom=function(a){var m=Math.min(Math.floor(a.width/this.width),3);if(2>m)this.copyScaledNearestNeighbor(a);else{var q=new Uint16Array(this.width),r=a.width,
h=Math.floor(a.width/this.width),c=Math.floor(a.width/this.width/m),f=h-c*m,p=Math.floor(a.height/this.height/m);h=p*r-h*this.width;r*=Math.floor(a.height/this.height)-p*m;for(var e=p=0,n=0;n<this.height;n++,p+=r){var u;q.fill(0);for(var A=0;A<m;A++,p+=h)for(var C=u=0;C<this.width;C++,u++,p+=f)for(var B=0;B<m;B++,p+=c)q[u]+=a.data[p];for(A=u=0;A<this.width;A++,u++,e++)this.data[e]=q[u]/(m*m)}}};k.prototype.mirrorHorizontally=function(){for(var a=this.width,m=this.height,q=new Uint8Array(a*m),r=0,
h=a,c=0;c<m;c++,h+=a+a)for(var f=0;f<a;f++)q[r++]=this.data[--h];this.data=q};k.prototype.applyLUT=function(a){for(var m=0;m<this.data.length;m++)this.data[m]=a.table[this.data[m]]};k.prototype.getAsCanvas=function(a){var m=this.getImageData(0,0,this.width,this.height),q=(0,d.createCanvas)(this.width,this.height);q.getContext("2d").putImageData(m,0,0);return(0,w.getRotatedCanvas)(q,a||0)};k.prototype.getImageData=function(a,m,q,r){var h=(0,d.createImageData)(q,r);a=this.offsetOfPixel(a,m);m=0;for(var c=
this.width-q,f=0;f<r;f++,a+=c)for(var p=0;p<q;p++,a++)h.data[m++]=this.data[a],h.data[m++]=this.data[a],h.data[m++]=this.data[a],h.data[m++]=255;return h};k.prototype.pasteImageData=function(a,m,q){var r=0;m=this.offsetOfPixel(m,q);q=this.width-a.width;for(var h=0;h<a.height;h++,m+=q)for(var c=0;c<a.width;c++,r+=4,m++)this.data[m]=a.data[r];return a};k.prototype.copyPixelsFrom=function(a){a.width!=this.width||a.height!=this.height||a.bitDepth!=this.bitDepth?(this.data=a.data.slice(0),this.width=a.width,
this.height=a.height,this.bitDepth=a.bitDepth):this.data.set(a.data)};k.prototype.copyRectXOR=function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth(),r=m.getHeight();r=new Uint8Array(q*r);for(var h=0,c=this.offsetOfPixel(m.left,m.top),f=a.offsetOfPixel(m.left,m.top),p=this.width-q,e=a.width-q,n=m.top;n<m.bottom;n++,c+=p,f+=e)for(var u=0;u<q;u++,h++,c++,f++)r[h]=this.data[c]^a.data[f];return r};k.prototype.setRectXOR=function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth(),r=m.getHeight();
m=this.offsetOfPixel(m.left,m.top);for(var h=0,c=this.width-q,f=0;f<r;f++){for(var p=0;p<q;p++)this.data[m++]^=a[h++];m+=c}};k.prototype.copyBitmapRect=function(a,m,q,r){var h=new b.default(m,q,0,0);r=r.clone();this.getBounds().clipSourceDest(r,h);m=h.getWidth()|0;q=h.getHeight()|0;if(0==h.left&&0==h.top&&m==this.width&&q==this.height&&m==a.width&&q==a.height)this.copyPixelsFrom(a);else{h=this.offsetOfPixel(h.left,h.top);var c=this.width-m;r=a.offsetOfPixel(r.left,r.top);for(var f=a.width-m,p=0;p<
q;p++,r+=f,h+=c)for(var e=0;e<m;e++,r++,h++)this.data[h]=a.data[r]}};k.prototype.copyRegionHFlip=function(a,m){a=this.getBounds().clipTo(a);for(var q=a.top;q<a.bottom;q++)for(var r=this.offsetOfPixel(a.left,q),h=m.offsetOfPixel(a.right-1,q),c=a.left;c<a.right;c++,h-=2)this.data[r++]=m.data[h++]};k.prototype.copyRegionVFlip=function(a,m){a=this.getBounds().clipTo(a);for(var q=a.getWidth(),r=a.top;r<a.bottom;r++)for(var h=this.offsetOfPixel(a.left,r),c=m.offsetOfPixel(a.left,a.bottom-1-(r-a.top)),f=
0;f<q;f++)this.data[h++]=m.data[c++]};k.prototype.copyPixelColumnToArray=function(a,m,q,r){var h=this.width,c=0;a=this.offsetOfPixel(a,m);for(m=0;m<q;m++)r[c]=this.data[a],a+=h,c++};k.prototype.copyArrayToPixelColumn=function(a,m,q,r){var h=this.width,c=0;a=this.offsetOfPixel(a,m);for(m=0;m<q;m++)this.data[a]=r[c],a+=h,c++};k.prototype.boxBlur=function(a,m,q){a=this.getBounds().clipTo(a);var r=a.getWidth(),h=a.getHeight(),c=Math.max(r,h),f=new this.data.constructor(c);c=new this.data.constructor(c);
for(var p=a.top;p<a.bottom;p++){for(var e=this.offsetOfPixel(a.left,p),n=0;n<r;n++)f[n]=this.data[e++];v(f,c,r,m);e=this.offsetOfPixel(a.left,p);for(n=0;n<r;n++)this.data[e++]=c[n]}for(m=a.left;m<a.right;m++)this.copyPixelColumnToArray(m,a.top,h,f),v(f,c,h,q),this.copyArrayToPixelColumn(m,a.top,h,c)};k.prototype.offsetOfPixel=function(a,m){return m*this.width+a};k.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var m=this.width-a.getWidth(),q=this.offsetOfPixel(a.left,a.top),
r=a.top;r<a.bottom;r++,q+=m)for(var h=a.left;h<a.right;h++,q++)this.data[q]=256*Math.random()|0};k.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var m=this.width-a.getWidth(),q=this.offsetOfPixel(a.left,a.top),r=a.top;r<a.bottom;r++,q+=m)for(var h=a.left;h<a.right;h++,q++)this.data[q]=~this.data[q]};k.prototype.getValueBounds=function(a,m){var q=a.clone(),r,h;var c=this.width-q.getWidth();a=this.offsetOfPixel(q.left,q.top);for(h=q.top;h<q.bottom;h++,a+=c){var f=!1;for(r=q.left;r<q.right;r++,
a++)if(this.data[a]!=m){f=!0;break}if(f)break}q.top=h;if(q.top==q.bottom)return q;a=this.offsetOfPixel(q.right-1,q.bottom-1);for(h=q.bottom-1;h>=q.top;h--,a-=c){f=!1;for(r=q.right-1;r>=q.left;r--,a--)if(this.data[a]!=m){f=!0;break}if(f)break}q.bottom=h+1;c=this.width;for(r=q.left;r<q.right;r++){a=this.offsetOfPixel(r,q.top);f=!1;for(h=q.top;h<q.bottom;h++,a+=c)if(this.data[a]!=m){f=!0;break}if(f)break}q.left=r;for(r=q.right-1;r>=q.left;r--){a=this.offsetOfPixel(r,q.top);f=!1;for(h=q.top;h<q.bottom;h++,
a+=c)if(this.data[a]!=m){f=!0;break}if(f)break}q.right=r+1;return q};k.prototype.gradientHorzReplace=function(a,m,q,r){var h=r[0]&255;r=r[1]&255;var c=this.width-a.getWidth(),f=this.offsetOfPixel(a.left,a.top)|0,p=a.bottom-a.top|0;if(q<m){var e=q;q=m;m=e;e=h;h=r;r=e}e=(r-h)/(q-m|0);for(var n=Math.max(a.left-m,0),u=0;u<p;u++,f+=c){for(var A=a.left,C=Math.min(m,a.right)|0;A<C;A++,f++)this.data[f]=h;var B=h+e*n;for(C=Math.min(q,a.right)|0;A<C;A++,f++)this.data[f]=B,B+=e;for(;A<a.right;A++,f++)this.data[f]=
r}};k.prototype.gradientVertReplace=function(a,m,q,r){var h=r[0]&255;r=r[1]&255;var c=this.width-a.getWidth(),f=this.offsetOfPixel(a.left,a.top)|0,p=a.right-a.left|0;if(q<m){var e=q;q=m;m=e;e=h;h=r;r=e}e=a.top;for(var n=Math.min(a.bottom,m)|0;e<n;e++,f+=c)for(var u=0;u<p;u++,f++)this.data[f]=h;n=(r-h)/(q-m|0);m=h+n*Math.max(e-m,0);for(q=Math.min(a.bottom,q)|0;e<q;e++,f+=c){for(h=0;h<p;h++,f++)this.data[f]=m;m+=n}for(;e<a.bottom;e++,f+=c)for(q=0;q<p;q++,f++)this.data[f]=r};k.prototype.gradientReplace=
function(a,m,q,r,h,c){var f=this.width-a.getWidth(),p=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,n=c[0]&255;c=c[1]&255;var u=h-q+(r-m)*(r-m)/(h-q);r=r-m+(h-q)*(h-q)/(r-m);h=1/r;for(var A=a.top;A<a.bottom;A++,p+=f)for(var C=(a.left-m)/r+(A-q)/u,B=0;B<e;B++,p++){var I=Math.min(Math.max(C,0),1);this.data[p]=n*(1-I)+c*I;C+=h}};k.prototype.gradientAlpha=function(a,m,q,r,h,c){var f=this.width-a.getWidth(),p=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,n=c[0]&255,u=c[0]>>24&255,A=c[1]&
255;c=c[1]>>24&255;var C=h-q+(r-m)*(r-m)/(h-q);r=r-m+(h-q)*(h-q)/(r-m);h=1/r;for(var B=a.top;B<a.bottom;B++,p+=f)for(var I=(a.left-m)/r+(B-q)/C,N=0;N<e;N++,p++){var y=Math.min(Math.max(I,0),1),G=1-y,H=u*G+c*y;this.data[p]=((n*G+A*y)*H+this.data[p]*(255-H))/255|0;I+=h}};k.prototype.gradient=function(a,m,q,r,h,c,f){a=this.getBounds().clipTo(a);if(m!=r||q!=h)f||255==c[0]>>>24&&255==c[1]>>>24?m==r?this.gradientVertReplace(a,q,h,c):q==h?this.gradientHorzReplace(a,m,r,c):this.gradientReplace(a,m,q,r,h,
c):this.gradientAlpha(a,m,q,r,h,c)};k.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var m=0;m<this.data.length;m++)if(this.data[m]!=a.data[m])return!1;return!0};K.exports=D.default},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4,"./CPColorBmp.js":13}],15:[function(g,K,D){function z(d){return d&&d.__esModule?d:{default:d}}function k(d,w,a){E.default.call(this,a);this.image=0<d&&0<w?new v.default(d,w):null;this.clip=!1;this.imageThumbnail=null}
Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=z(g("./CPColorBmp.js")),E=z(g("./CPLayer.js")),b=z(g("../util/CPRect.js"));k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;k.createFromImage=function(d,w){w=new k(0,0,w);w.image=d;return w};k.prototype.clone=function(){var d=new k(0,0,this.name);d.copyFrom(this);return d};k.prototype.copyFrom=function(d){E.default.prototype.copyFrom.call(this,d);this.clip=d.clip;this.image?this.image.copyPixelsFrom(d.image):
this.image=d.image.clone()};k.prototype.hasAlpha=function(){return 100!=this.alpha?!0:this.image.hasAlpha()};k.prototype.hasAlphaInRect=function(d){return 100!=this.alpha?!0:this.image.hasAlphaInRect(d)};k.prototype.copyImageFrom=function(d){this.image.copyPixelsFrom(d)};k.prototype.getClippingBase=function(){if(this.clip&&this.parent)for(var d=this.parent.indexOf(this)-1;0<=d;d--)if(this.parent.layers[d]instanceof k){if(!this.parent.layers[d].clip)return this.parent.layers[d]}else break;return null};
k.prototype.getClip=function(){return this.clip};k.prototype.setClip=function(d){this.clip=d};k.prototype.getNonTransparentBounds=function(d){return this.image.getNonTransparentBounds(d)};k.prototype.getBounds=function(){return new b.default(0,0,this.image.width,this.image.height)};k.prototype.getMemoryUsed=function(){return this.image?this.image.getMemorySize():0};k.prototype.rebuildImageThumbnail=function(){if(!this.imageThumbnail){var d=Math.ceil(Math.max(this.image.width/E.default.LAYER_THUMBNAIL_WIDTH,
this.image.height/E.default.LAYER_THUMBNAIL_HEIGHT));this.imageThumbnail=new v.default(Math.floor(this.image.width/d),Math.floor(this.image.height/d))}this.imageThumbnail.createThumbnailFrom(this.image)};k.prototype.getImageThumbnail=function(){this.imageThumbnail||this.rebuildImageThumbnail();return this.imageThumbnail};K.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPLayer.js":16}],16:[function(g,K,D){function z(d){return d&&d.__esModule?d:{default:d}}function k(d){this.name=
d||"";this.parent=null;this.lockAlpha=!1;this.alpha=100;this.visible=!0;this.blendMode=v.default.LM_NORMAL;this.mask=null;this.maskVisible=this.maskLinked=!0;this.maskThumbnail=null;this.useLegacyMultiply=!1}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;z(g("./CPLayerGroup.js"));var v=z(g("./CPBlend.js")),E=z(g("./CPGreyBmp.js")),b=z(g("../util/CPRect.js"));k.prototype.copyFrom=function(d){this.name=d.name;this.blendMode=d.blendMode;this.useLegacyMultiply=d.useLegacyMultiply;this.alpha=
d.alpha;this.visible=d.visible;this.parent=d.parent;this.lockAlpha=d.lockAlpha;d.mask?this.mask?this.mask.copyPixelsFrom(d.mask):this.mask=d.mask.clone():this.mask=null;this.maskLinked=d.maskLinked;this.maskVisible=d.maskVisible;d.maskThumbnail?this.maskThumbnail?this.maskThumbnail.copyPixelsFrom(d.maskThumbnail):this.maskThumbnail=d.maskThumbnail.clone():this.maskThumbnail=null};k.prototype.setMask=function(d){this.mask=d;d||(this.maskThumbnail=null)};k.prototype.setAlpha=function(d){this.alpha=
d};k.prototype.getAlpha=function(){return this.alpha};k.prototype.getEffectiveAlpha=function(){return this.visible?this.alpha:0};k.prototype.getEffectiveMask=function(){return this.maskVisible?this.mask:null};k.prototype.setName=function(d){this.name=d};k.prototype.getName=function(){return this.name};k.prototype.setBlendMode=function(d){this.blendMode=d;d===v.default.LM_MULTIPLY?this.useLegacyMultiply=!0:d===v.default.LM_MULTIPLY2&&(this.useLegacyMultiply=!1)};k.prototype.getBlendMode=function(){return this.blendMode};
k.prototype.getLockAlpha=function(){return this.lockAlpha};k.prototype.setLockAlpha=function(d){this.lockAlpha=d};k.prototype.setVisible=function(d){this.visible=d};k.prototype.getVisible=function(){return this.visible};k.prototype.isVisible=k.prototype.getVisible;k.prototype.setMaskLinked=function(d){this.maskLinked=d};k.prototype.getMaskLinked=function(){return this.maskLinked};k.prototype.setMaskVisible=function(d){this.maskVisible=d};k.prototype.getMaskVisible=function(){return this.maskVisible};
k.prototype.getMemoryUsed=function(){return 0};k.prototype.getDepth=function(){return null==this.parent?0:this.parent.getDepth()+1};k.prototype.ancestorsAreVisible=function(){return null==this.parent||this.parent.visible&&this.parent.ancestorsAreVisible()};k.prototype.hasAncestor=function(d){return this.parent==d||this.parent&&this.parent.hasAncestor(d)};k.prototype.clone=function(){throw"Pure virtual CPLayer.clone() call";};k.prototype.getNonTransparentBounds=function(d){return new b.default(0,0,
0,0)};k.prototype.rebuildMaskThumbnail=function(){if(this.mask){if(!this.maskThumbnail){var d=Math.ceil(Math.max(this.mask.width/k.LAYER_THUMBNAIL_WIDTH,this.mask.height/k.LAYER_THUMBNAIL_HEIGHT));this.maskThumbnail=new E.default(Math.floor(this.mask.width/d),Math.floor(this.mask.height/d),8)}this.maskThumbnail.createThumbnailFrom(this.mask)}else this.maskThumbnail=null};k.prototype.getMaskThumbnail=function(){!this.maskThumbnail&&this.mask&&this.rebuildMaskThumbnail();return this.maskThumbnail};
k.LAYER_THUMBNAIL_WIDTH=80;k.LAYER_THUMBNAIL_HEIGHT=50;K.exports=D.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPGreyBmp.js":14,"./CPLayerGroup.js":17}],17:[function(g,K,D){function z(m){return m&&m.__esModule?m:{default:m}}function k(m,q){var r="undefined"!==typeof Symbol&&m[Symbol.iterator]||m["@@iterator"];if(!r){if(Array.isArray(m)||(r=v(m))||q&&m&&"number"===typeof m.length){r&&(m=r);var h=0;q=function(){};return{s:q,n:function(){return h>=m.length?{done:!0}:{done:!1,value:m[h++]}},
e:function(e){throw e;},f:q}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var c=!0,f=!1,p;return{s:function(){r=r.call(m)},n:function(){var e=r.next();c=e.done;return e},e:function(e){f=!0;p=e},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw p;}}}}function v(m,q){if(m){if("string"===typeof m)return E(m,q);var r=Object.prototype.toString.call(m).slice(8,-1);"Object"===
r&&m.constructor&&(r=m.constructor.name);if("Map"===r||"Set"===r)return Array.from(m);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(m,q)}}function E(m,q){if(null==q||q>m.length)q=m.length;for(var r=0,h=Array(q);r<q;r++)h[r]=m[r];return h}function b(m,q){w.default.call(this,m);this.layers=[];this.expanded=!0;this.blendMode=q}function d(m,q){return m+q}Object.defineProperty(D,"__esModule",{value:!0});D.default=b;var w=z(g("./CPLayer.js")),a=z(g("../util/CPRect.js"));
b.prototype=Object.create(w.default.prototype);b.prototype.constructor=b;b.prototype.getLinearizedLayerList=function(m,q){q=q||[];var r=k(this.layers),h;try{for(r.s();!(h=r.n()).done;){var c=h.value;c instanceof b&&(c.expanded||!m)&&c.getLinearizedLayerList(m,q);q.push(c)}}catch(f){r.e(f)}finally{r.f()}return q};b.prototype.clearLayers=function(){this.layers=[]};b.prototype.addLayer=function(m){m.parent=this;this.layers.push(m)};b.prototype.insertLayer=function(m,q){q.parent=this;this.layers.splice(m,
0,q)};b.prototype.removeLayer=function(m){m=this.layers.indexOf(m);-1<m&&this.layers.splice(m,1)};b.prototype.removeLayerAtIndex=function(m){var q=this.layers[m];q&&this.layers.splice(m,1);return q};b.prototype.setLayerAtIndex=function(m,q){var r=this.layers[m];q.parent=this;this.layers[m]=q;return r};b.prototype.setExpanded=function(m){this.expanded=m};b.prototype.getExpanded=function(){return this.expanded};b.prototype.indexOf=function(m){return this.layers.indexOf(m)};b.prototype.getMemoryUsed=
function(){return this.layers.map(function(m){return m.getMemoryUsed()}).reduce(d,0)};b.prototype.clone=function(){var m=new b(this.name,this.blendMode);w.default.prototype.copyFrom.call(m,this);m.expanded=this.expanded;m.layers=this.layers.map(function(q){return q.clone()});m.layers.forEach(function(q){return q.parent=m});return m};b.prototype.getNonTransparentBounds=function(m){var q=new a.default(0,0,0,0);this.layers.forEach(function(r){return q.union(r.getNonTransparentBounds(m))});return q};
K.exports=D.default},{"../util/CPRect.js":63,"./CPLayer.js":16}],18:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){this.table=new Uint8Array(256);this.loadIdentity=function(){for(var z=0;256>z;z++)this.table[z]=z};this.loadBrightnessContrast=function(z,k){k=0<k?1/(1.0001-k):1+k;z=.5-.5*k+z;for(var v=0;256>v;v++)this.table[v]=Math.min(255,Math.max(~~(255*(v/255*k+z)),0))};this.invert=function(){for(var z=0;256>z;z++)this.table[z]=255-this.table[z]}};K.exports=
D.default},{}],19:[function(g,K,D){function z(h){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},z(h)}function k(h){return h&&h.__esModule?h:{default:h}}function v(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);var e=Object,n=e.defineProperty;
a:{var u=p.key;if("object"===z(u)&&null!==u){var A=u[Symbol.toPrimitive];if(void 0!==A){u=A.call(u,"string");if("object"!==z(u))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}u=String(u)}}u="symbol"===z(u)?u:String(u);n.call(e,h,u,p)}}function E(h,c,f){c&&v(h.prototype,c);f&&v(h,f);Object.defineProperty(h,"prototype",{writable:!1});return h}function b(h,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");h.prototype=
Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}});Object.defineProperty(h,"prototype",{writable:!1});c&&d(h,c)}function d(h,c){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,p){f.__proto__=p;return f};return d(h,c)}function w(h){var c=a();return function(){var f=m(h);if(c){var p=m(this).constructor;f=Reflect.construct(f,arguments,p)}else f=f.apply(this,arguments);if(!f||"object"!==z(f)&&"function"!==typeof f){if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=this}return f}}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(h){return!1}}function m(h){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)};return m(h)}
Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var q=k(g("../util/CPRect.js")),r=k(g("./CPColorBmp.js"));k(g("./CPGreyBmp.js"));g=k(g("wolfy87-eventemitter"));D.default=function(h){function c(p,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var n=f.call(this);n.layer=p;n.buffer=p.mask.getImageData(0,0,p.mask.width,p.mask.height);n.invalidRect=new q.default(0,0,0,0);n.prepareMask=e;return n}b(c,h);var f=w(c);E(c,[{key:"close",value:function(){this.layer=
this.buffer=null;this.emitEvent("changeLayer")}},{key:"setLayer",value:function(p){this.layer=p;this.invalidRect=p.getBounds();this.emitEvent("changeLayer")}},{key:"isOpen",value:function(){return null!=this.layer}},{key:"invalidateRect",value:function(p){this.invalidRect.union(p)}},{key:"getImageData",value:function(){this.prepareMask();if(!this.invalidRect.isEmpty()&&this.layer&&this.layer.mask){var p=this.buffer,e=this.layer.mask,n=this.invalidRect,u=n.top*e.width+n.left,A=u*r.default.BYTES_PER_PIXEL,
C=n.getWidth();n=n.getHeight();for(var B=e.width-C,I=B*r.default.BYTES_PER_PIXEL,N=0;N<n;N++,u+=B,A+=I)for(var y=0;y<C;y++,u++,A+=r.default.BYTES_PER_PIXEL)p.data[A+r.default.RED_BYTE_OFFSET]=e.data[u],p.data[A+r.default.GREEN_BYTE_OFFSET]=e.data[u],p.data[A+r.default.BLUE_BYTE_OFFSET]=e.data[u],p.data[A+r.default.ALPHA_BYTE_OFFSET]=255;this.invalidRect.makeEmpty()}return this.buffer}}]);return c}(g.default);K.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"wolfy87-eventemitter":314}],
20:[function(g,K,D){function z(a){return a&&a.__esModule?a:{default:a}}function k(a){function m(f,p){switch(f.name){case "flat":return new Promise(function(e,n){var u=new Blob([p],{type:"image/png"}),A=window.URL.createObjectURL(u);if(A){var C=new Image;C.onload=function(){var B=new E.default(this.width,this.height),I=new d.default(0,0,"Layer 1");I.image=b.default.createFromImage(C);B.addLayerObject(B.getLayersRoot(),I);C=null;window.URL.revokeObjectURL(A);e(B)};C.src=A}else n(null)});case "swatches":return(f=
(new w.default).read(p))?Promise.resolve(f):Promise.reject(null);case "layers":return(0,v.load)(p);default:return Promise.reject("Unexpected resource type '"+f.name+"'")}}function q(f,p){null===p?c.emitEvent("loadingProgress",[1,"Loading your "+f.friendly+"..."]):c.emitEvent("loadingProgress",[p,"Loading your "+f.friendly+" ("+Math.round(100*p)+"%)..."])}var r=[],h={},c=this;a.loadChibiFileUrl&&0<(""+a.loadChibiFileUrl).length?r.push({url:a.loadChibiFileUrl,friendly:"drawing layers",name:"layers",
required:!0}):a.loadImageUrl&&0<(""+a.loadImageUrl).length&&r.push({url:a.loadImageUrl,friendly:"drawing",name:"flat",required:!0});a.loadSwatchesUrl&&r.push({url:a.loadSwatchesUrl,friendly:"color swatches",name:"swatches",required:!1,noProgress:!0});this.load=function(){function f(){p.required?c.emitEvent("loadingFailure",["Failed to load your "+p.friendly+", please try again later."]):c.load()}if(0==r.length)c.emitEvent("loadingComplete",[h]);else{var p=r.shift(),e=new XMLHttpRequest;e.addEventListener("progress",
function(n){q(p,n.lengthComputable&&!p.noProgress?n.loaded/n.total:null)},!1);e.addEventListener("load",function(n){if(200==this.status){var u=this.response;c.emitEvent("loadingProgress",[1,"Starting ChickenPaint..."]);setTimeout(function(){m(p,u).then(function(A){h[p.name]=A;c.load()},function(){c.emitEvent("loadingFailure",["Failed to read your "+p.friendly])})},0)}else f()},!1);e.addEventListener("error",f);q(p,p.noProgress?null:0);e.open("GET",p.url,!0);e.responseType="arraybuffer";e.send()}}}
Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=g("../../js/engine/CPChibiFile.js"),E=z(g("./CPArtwork.js")),b=z(g("./CPColorBmp.js")),d=z(g("./CPImageLayer.js")),w=z(g("../util/AdobeColorTable.js"));g=z(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../../js/engine/CPChibiFile.js":11,"../util/AdobeColorTable.js":55,"./CPArtwork.js":3,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"wolfy87-eventemitter":314}],
21:[function(g,K,D){function z(a){return a&&a.__esModule?a:{default:a}}function k(a){for(var m=new Uint8Array(a.length),q=0;q<a.length;q++)m[q]=a.charCodeAt(q);return m}function v(a){function m(c){null===c?r.emitEvent("savingProgress",[1,(0,w._)("Saving drawing...")]):r.emitEvent("savingProgress",[c,(0,w._)("Saving drawing...")+" ("+Math.round(100*c)+"%)"])}function q(c){c={method:"POST",mode:"same-origin",headers:{"X-Requested-With":"chickenpaint"},body:c};m(.5);fetch(a.url,c).then(function(f){if(!f.ok)throw Error("Network response was not ok (".concat(f.status,
")"));return f.text()}).then(function(f){/^CHIBIOK/.test(f)?(m(1),r.emitEvent("savingComplete")):r.emitEvent("savingFailure",[f])}).catch(function(f){r.emitEvent("savingFailure",[f.message])})}var r=this,h=!1;a.rotation=a.rotation||0;this.save=function(){var c;var f=k(a.artwork.getFlatPNG(a.rotation));var p=new Blob([f],{type:"image/png"});f=null;(a.artwork.isSimpleDrawing()?Promise.resolve(null):(0,E.save)(a.artwork)).then(function(e){if(h)r.emitEvent("savingFailure");else{if(a.swatches){var n=new b.default;
c=new Blob([n.write(a.swatches)],{type:"application/octet-stream"})}else c=null;a.url?(n=new FormData,n.append("beginMarker","This marker ensures the upload wasn't truncated"),n.append("painter","ChickenPaint v2.0"),n.append("picture",p),p=null,e?(n.append("chibifileFormat",e.version),n.append("chibifile",e.bytes),n.append("rotation",""+a.rotation)):n.append("rotation","0"),c&&(n.append("swatches",c),c=null),n.append("endMarker","This marker ensures the upload wasn't truncated"),q(n)):(n="oekaki_"+
(new Date).toISOString().split(".")[0].replace(/[^0-9]/g,"_"),d.default.saveAs(p,n+".png"),e&&d.default.saveAs(e.bytes,n+".chi"),c&&d.default.saveAs(c,n+".aco"))}}).catch(function(e){r.emitEvent("savingFailure")})};this.cancel=function(){h=!0}}Object.defineProperty(D,"__esModule",{value:!0});D.binaryStringToByteArray=k;D.default=v;var E=g("../../js/engine/CPChibiFile.js"),b=z(g("../util/AdobeColorTable.js"));K=z(g("wolfy87-eventemitter"));var d=z(g("file-saver")),w=g("../languages/lang.js");v.prototype=
Object.create(K.default.prototype);v.prototype.constructor=v},{"../../js/engine/CPChibiFile.js":11,"../languages/lang.js":54,"../util/AdobeColorTable.js":55,"file-saver":295,"wolfy87-eventemitter":314}],22:[function(g,K,D){function z(E){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},z(E)}function k(E,b){for(var d=
0;d<b.length;d++){var w=b[d];w.enumerable=w.enumerable||!1;w.configurable=!0;"value"in w&&(w.writable=!0);var a=Object,m=a.defineProperty;a:{var q=w.key;if("object"===z(q)&&null!==q){var r=q[Symbol.toPrimitive];if(void 0!==r){q=r.call(q,"string");if("object"!==z(q))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}q=String(q)}}q="symbol"===z(q)?q:String(q);m.call(a,E,q,w)}}function v(E,b,d){b&&k(E.prototype,b);d&&k(E,d);Object.defineProperty(E,"prototype",{writable:!1});
return E}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;D.default=function(){function E(){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");}v(E,[{key:"merge",value:function(b){return!1}},{key:"noChange",value:function(){return!1}},{key:"getMemoryUsed",value:function(b,d){return 0}},{key:"compact",value:function(){}}]);return E}();K.exports=D.default},{}],23:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(k){var v=
(0,z.default)('<div class="modal fade chickenpaint-about-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">About ChickenPaint Be</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n\t\t\t\t\t\t<a class="chickenpaint-on-github" target="_blank" href="https://github.com/satopian/ChickenPaint_Be" rel="noopener"><span class="fab fa-github"></span> ChickenPaint Be on GitHub</a>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\tCustomized from <a href="https://github.com/thenickdude/chickenpaint" target="_blank" rel="noopener">ChickenPaint</a>.<br>\n\t\t\t\t\t\tby satopian.<br>\n\t\t\t\t\t\t<a href="https://www.gnu.org/licenses/" target="_blank" rel="noopener">GNU General Public License</a></br>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<a class="chickenpaint-on-github" target="_blank" href="https://github.com/thenickdude/chickenpaint" rel="noopener"><span class="fab fa-github"></span> ChickenPaint on GitHub</a>\n                            \n                            <p>\n                                ChickenPaint is a translation of <a href="https://github.com/thenickdude/chibipaint" target="_blank" rel="noopener">ChibiPaint</a>\n                                from Java to JavaScript by Nicholas Sherlock / Chicken Smoothie\n                            </p>\n                            <p>\n                                ChibiPaint is Copyright (c) 2006-2008 Marc Schefer. All Rights Reserved\n                            </p>\n                            <p>\n                                ChickenPaint is free software: you can redistribute it and/or modify\n                                it under the terms of the GNU General Public License as published by\n                                the Free Software Foundation, either version 3 of the License, or\n                                (at your option) any later version.\n                            </p>\n        \n                            <p>\n                                ChickenPaint is distributed in the hope that it will be useful,\n                                but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                <a target="_blank" href="https://www.gnu.org/licenses/" rel="noopener">GNU General Public License</a> for more details.\n                            </p>\n        \n                            <pre class="pre-scrollable chickenpaint-third-party-licenses">Toolbar icons designed by <a target="_blank" href="https://github.com/Anteira" rel="noopener">Miglena Lapavicheva (Anteira)</a>\n    These icons are dual-licensed under <a target="_blank" href="https://spdx.org/licenses/GPL-3.0-or-later.html" rel="noopener">GPL-3.0-or-later</a> and <a target="_blank" href="https://creativecommons.org/licenses/by/3.0/" rel="noopener">CC-BY-3.0</a>\n\nIncludes icons from the <a target="_blank" href="https://extensions.libreoffice.org/en/extensions/show/tango-icon-theme-for-libreoffice" rel="noopener">Tango Icon Theme for LibreOffice</a>:\n    All artwork is licensed under the Creative Commons Attribution-Share Alike 3.0\n    United States License. To view a copy of this licence, visit\n    https://creativecommons.org/licenses/by-sa/3.0/ or send a letter to Creative\n    Commons, 171 Second Street, Suite 300, San Francisco, California 94105, USA.\n    \n    Credit for icons imported from git://git.gnome.org/gnome-icon-theme or derivatives\n    of these goes to the GNOME project (https://www.gnome.org)\n    Derivatives and new icons were created by Alexander Wilms &lt;f.alexander.wilms@gmail.com> \n    and Miroslav Mazel &lt;mazelm@gmail.com>\n    \nIncludes these MIT-licensed libraries:\n\n    Includes the <a target="_blank" href="https://github.com/eligrey/FileSaver.js" rel="noopener">FileSaver.js library</a>\n    FileSaver.js Copyright \u00a9 2015 <a target="_blank" href="https://eligrey.com/" rel="noopener">Eli Grey</a>\n\n    Includes the <a target="_blank" href="https://github.com/nodeca/pako" rel="noopener">Pako zlib compression library</a>\n    Copyright (C) 2014-2015 by Vitaly Puzrin\n    \n    Includes the <a target="_blank" href="https://github.com/madrobby/keymaster" rel="noopener">keymaster.js</a> keyboard library\n    Copyright (c) 2011-2013 Thomas Fuchs\n\n    Includes the <a target="_blank" href="https://github.com/stefanpenner/es6-promise" rel="noopener">es6-promise</a> library\n    Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n\n    Includes the <a target="_blank" href="https://benalman.com/projects/jquery-throttle-debounce-plugin/" rel="noopener">jQuery throttle-debounce</a> library\n    Copyright (c) 2010 "Cowboy" Ben Alman\n\n    Permission is hereby granted, free of charge, to any person\n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use,\n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://www.jquery.com/" target="_blank" rel="noopener">jQuery library</a> \nCopyright <a href="https://jquery.org/" target="_blank" rel="noopener">jQuery Foundation and other contributors</a>\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/jquery\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n    \n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://github.com/jquery/PEP/" target="_blank" rel="noopener">jQuery PEP library</a>\nCopyright jQuery Foundation and other contributors, https://jquery.org/\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/PEP\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation \n    files (the "Software"), to deal in the Software without \n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or \n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following \n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND \n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, \n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING \n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR \n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes Font Awesome by Dave Gandy - <a href="https://fontawesome.io" target="_blank" rel="noopener">https://fontawesome.io</a>\n                    </pre>\n                </div>\n            </div>\n        </div>\n    ');
v.on("hidden.bs.modal",function(b){v.remove()});var E=new bootstrap.Modal(v[0]);k.appendChild(v[0]);this.show=function(){E.show()}};var z=function(k){return k&&k.__esModule?k:{default:k}}(g("jquery"));K.exports=D.default},{jquery:296}],24:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(v,E){var b=(0,z.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,k._)("Box blur"),
'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Blur amount (pixels)"),'</label>\n                                    <input type="number" class="form-control chickenpaint-blur-amount" value="3">\n                                </div>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Iterations (1-8, larger gives smoother blur)"),
'</label>\n                                    <input type="number" class="form-control chickenpaint-blur-iterations" value="1">\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,k._)("Cancel"),'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-box-blur" data-bs-dismiss="modal">').concat((0,k._)("Ok"),
"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),d=(0,z.default)(".chickenpaint-blur-amount",b),w=(0,z.default)(".chickenpaint-blur-iterations",b),a=(0,z.default)(".chickenpaint-apply-box-blur",b);this.show=function(){(new bootstrap.Modal(b[0])).show()};a.on("click",function(m){m=Math.max(parseInt(d.val(),10),1);var q=Math.min(Math.max(parseInt(w.val(),10),1),8);E.getArtwork().boxBlur(m,m,q)});b.on("shown.bs.modal",function(){d.trigger("focus")});
(0,z.default)(document).on("keydown",function(m){"Enter"===m.key&&b.hasClass("show")&&a.trigger("click")});v.appendChild(b[0])};var z=function(v){return v&&v.__esModule?v:{default:v}}(g("jquery")),k=g("../languages/lang.js");K.exports=D.default},{"../languages/lang.js":54,jquery:296}],25:[function(g,K,D){function z(B){return B&&B.__esModule?B:{default:B}}function k(B,I){var N=document.createElement("div");N.className="chickenpaint-checkbox-slider-group";N.appendChild(B.getElement());N.appendChild(I.getElement());
return N}function v(B,I){for(var N in I)if(I.hasOwnProperty(N)){var y=document.createElement("option");y.appendChild(document.createTextNode((0,C._)(I[N])));y.value=N;B.appendChild(y)}}function E(B){function I(){H.gradient(H.getBounds(),0,0,H.width,0,R,!0);J.putImageData(H.imageData,0,0,0,0,150,32);y.fillRect(0,0,N.width,N.height);y.drawImage(O,0,0)}var N=document.createElement("canvas"),y=N.getContext("2d"),G=(0,f.createCheckerboardPattern)(y),H=new p.default(150,32),O=document.createElement("canvas"),
J=O.getContext("2d"),R=B.getCurGradient();this.getElement=function(){return N};B.on("gradientChange",function(ea){R=ea;I()});N.width=O.width=150;N.height=O.height=32;N.className="chickenpaint-gradient-preview";y.fillStyle=G;I()}function b(B){q.default.call(this,B,"brush","Tool options");var I=new d(B),N=new w(B),y=new a(B),G=this.getBodyElement();G.appendChild(I.getElement());G.appendChild(N.getElement());G.appendChild(y.getElement());B.on("modeChange",function(H){I.getElement().style.display="none";
N.getElement().style.display="none";y.getElement().style.display="none";switch(H){case m.default.M_GRADIENTFILL:N.getElement().style.display="block";break;case m.default.M_TRANSFORM:y.getElement().style.display="block";break;default:I.getElement().style.display="block"}})}function d(B){var I=[1,2,3,4,5,6,7,8,9,10,15,20,25,30,35,40,45,50,60,70,80,90,100,125,150,175,200],N=document.createElement("div"),y=document.createElement("select"),G=new r.default(!1,(0,C._)("Control brush opacity with pen pressure")),
H=new c.default(1,255),O=new r.default(!0,(0,C._)("Control brush size with pen pressure")),J=new c.default(1,200,!1,!0),R=new r.default(!1,(0,C._)("Control brush scattering with pen pressure")),ea=new c.default(0,1E3,!1,!0),Y=new c.default(0,100,!1,!0),qa=new c.default(0,100,!1,!0),la=new c.default(0,100,!1,!0),Q=new c.default(0,100,!1,!0),ka=new b.CPBrushPreview(B);this.getElement=function(){return N};H.title=function(oa){return(0,C._)("Opacity")+": "+oa};H.on("valueChange",function(oa){B.setAlpha(oa)});
J.title=function(oa){return(0,C._)("Brush size")+": "+oa};J.on("valueChange",function(oa){B.setBrushSize(oa)});Y.title=function(oa){return(0,C._)("Color")+": "+oa+"%"};Y.on("valueChange",function(oa){B.getBrushInfo().resat=oa/100;B.callToolListeners()});qa.title=function(oa){return(0,C._)("Blend")+": "+oa+"%"};qa.on("valueChange",function(oa){B.getBrushInfo().bleed=oa/100;B.callToolListeners()});la.title=function(oa){return(0,C._)("Spacing")+": "+oa+"%"};la.on("valueChange",function(oa){B.getBrushInfo().spacing=
oa/100;B.callToolListeners()});ea.title=function(oa){return(0,C._)("Scattering")+": "+oa+"%"};ea.on("valueChange",function(oa){B.getBrushInfo().scattering=oa/100;B.callToolListeners()});Q.title=function(oa){return(0,C._)("Smoothing")+": "+oa+"%"};Q.on("valueChange",function(oa){B.getBrushInfo().smoothing=oa/100;B.callToolListeners()});R.on("valueChange",function(oa){B.getBrushInfo().pressureScattering=oa;B.callToolListeners()});G.on("valueChange",function(oa){B.getBrushInfo().pressureAlpha=oa;B.callToolListeners()});
O.on("valueChange",function(oa){B.getBrushInfo().pressureSize=oa;B.callToolListeners()});y.addEventListener("change",function(oa){B.getBrushInfo().tip=parseInt(y.value,10)});y.className="form-control form-control-sm";v(y,["Round Pixelated","Round Hard Edge","Round Soft","Square Pixelated","Square Hard Edge"]);N.appendChild(y);N.appendChild(ka.getElement());N.appendChild(k(O,J));N.appendChild(k(G,H));N.appendChild(Y.getElement());N.appendChild(qa.getElement());N.appendChild(la.getElement());N.appendChild(k(R,
ea));N.appendChild(Q.getElement());G.setValue(B.getBrushInfo().pressureAlpha);H.setValue(B.getAlpha());O.setValue(B.getBrushInfo().pressureSize);J.setValue(B.getBrushSize());R.setValue(B.getBrushInfo().pressureScattering);ea.setValue(~~(100*B.getBrushInfo().scattering));y.value=B.getBrushInfo().tip;Y.setValue(~~(100*B.getBrushInfo().resat));qa.setValue(~~(100*B.getBrushInfo().bleed));la.setValue(~~(100*B.getBrushInfo().spacing));Q.setValue(~~(100*B.getBrushInfo().smoothing));B.on("toolChange",function(oa,
ya){H.setValue(ya.alpha);J.setValue(ya.size);O.setValue(ya.pressureSize);G.setValue(ya.pressureAlpha);y.value=ya.tip;R.setValue(ya.pressureScattering);~~(100*ya.resat)!=Y.value&&Y.setValue(~~(100*ya.resat));~~(100*ya.bleed)!=qa.value&&qa.setValue(~~(100*ya.bleed));~~(100*ya.spacing)!=la.value&&la.setValue(~~(100*ya.spacing));~~(100*ya.scattering)!=ea.value&&ea.setValue(~~(100*ya.scattering));~~(100*ya.smoothing)!=Q.value&&Q.setValue(~~(100*ya.smoothing))});(0,A.default)("1,2,3,4,5,6,7,8,9,0",function(oa,
ya){oa=parseInt(ya.shortcut,10);0==oa&&(oa=10);B.setAlpha(Math.round(oa/10*255))});(0,A.default)("{,[",function(){for(var oa=B.getBrushSize(),ya=I.length-1;0<=ya;ya--)if(oa>I[ya]){B.setBrushSize(I[ya]);break}});(0,A.default)("},]",function(){for(var oa=B.getBrushSize(),ya=0;ya<I.length;ya++)if(oa<I[ya]){B.setBrushSize(I[ya]);break}})}function w(B){function I(){var J=[G.getAlpha()<<24|G.getColorRgb(),H.getAlpha()<<24|H.getColorRgb()];B.setCurGradient(J)}var N=document.createElement("div"),y=new E(B),
G=new h.default(new e.default(B.getCurGradient()[0]&16777215),B.getCurGradient()[0]>>>24,N),H=new h.default(new e.default(B.getCurGradient()[1]&16777215),B.getCurGradient()[1]>>>24,N);this.getElement=function(){return N};N.className="chickenpaint-gradient-panel";N.style.display="none";G.on("colorChange",I);G.on("alphaChange",I);H.on("colorChange",I);H.on("alphaChange",I);var O=document.createElement("p");O.innerHTML=(0,C._)("Gradient");N.appendChild(O);N.appendChild(y.getElement());y=document.createElement("div");
y.className="chickenpaint-gradient-colors";O=document.createElement("div");O.className="chickenpaint-gradient-start-color";O.appendChild(G.getElement());y.appendChild(O);O=document.createElement("div");O.className="chickenpaint-gradient-end-color";O.appendChild(H.getElement());y.appendChild(O);N.appendChild(y)}function a(B){var I={smooth:(0,C._)("Smooth"),sharp:(0,C._)("Sharp")},N=document.createElement("div"),y=document.createElement("button"),G=document.createElement("button"),H=document.createElement("select");
this.getElement=function(){return N};N.className="chickenpaint-transform-panel";N.style.display="none";y.type="button";G.type="button";y.className="btn btn-primary btn-block";G.className="btn btn-light btn-block";y.innerHTML=(0,C._)("Apply transform");G.innerHTML=(0,C._)("Cancel");H.addEventListener("change",function(J){B.setTransformInterpolation(this.value)});H.className="form-control chickenpaint-transform-interpolation";v(H,I);if((0,n.isCanvasInterpolationSupported)()){I=document.createElement("div");
var O=document.createElement("label");O.innerHTML=(0,C._)("Transform style");I.className="form-group";I.appendChild(O);I.appendChild(H);N.appendChild(I)}H=document.createElement("div");H.appendChild(y);H.appendChild(G);H.className="form-group";N.appendChild(H);y.addEventListener("click",function(J){B.actionPerformed({action:"CPTransformAccept"});J.preventDefault()});G.addEventListener("click",function(J){B.actionPerformed({action:"CPTransformReject"});J.preventDefault()})}Object.defineProperty(D,
"__esModule",{value:!0});D.default=b;var m=z(g("../ChickenPaint.js")),q=z(g("./CPPalette.js")),r=z(g("./CPCheckbox.js")),h=z(g("./CPColorSwatch.js")),c=z(g("./CPSlider.js")),f=g("./CPGUIUtils.js"),p=z(g("../engine/CPColorBmp.js")),e=z(g("../util/CPColor.js")),n=g("../util/CPPolyfill.js"),u=z(g("jquery")),A=z(g("../../lib/keymaster.js")),C=g("../languages/lang");b.prototype=Object.create(q.default.prototype);b.prototype.constructor=b;b.CPBrushPreview=function(B){function I(){O.clearRect(0,0,H.width,
H.height);O.beginPath();O.arc(H.width/2,H.height/2,G/2*window.devicePixelRatio,0,2*Math.PI);O.stroke()}function N(R){var ea=(0,u.default)(H).offset(),Y=R.pageY-ea.top;R=R.pageX-ea.left-(0,u.default)(H).width()/2;Y-=(0,u.default)(H).height()/2;G=Math.max(1,Math.min(200,Math.round(2*Math.sqrt(R*R+Y*Y))));I();B.setBrushSize(G)}function y(R){J&&(J=!1,window.removeEventListener("mouseup",y),window.removeEventListener("mousemove",N))}var G=16,H=document.createElement("canvas"),O=H.getContext("2d"),J=!1;
this.getElement=function(){return H};H.addEventListener("mousedown",function(R){J||(J=!0,window.addEventListener("mouseup",y),window.addEventListener("mousemove",N),N(R))});B.on("toolChange",function(R,ea){ea.size!=G&&(G=ea.size,I())});H.width=64;H.height=64;1<window.devicePixelRatio&&(H.style.width=H.width+"px",H.style.height=H.height+"px",H.width*=window.devicePixelRatio,H.height*=window.devicePixelRatio);H.className="chickenpaint-brush-preview";O.strokeStyle="black";O.lineWidth=1*window.devicePixelRatio;
I()};K.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../engine/CPColorBmp.js":13,"../languages/lang":54,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"./CPCheckbox.js":27,"./CPColorSwatch.js":31,"./CPGUIUtils.js":33,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296}],26:[function(g,K,D){function z(J){return J&&J.__esModule?J:{default:J}}function k(){this.modes=[]}function v(J){function R(){}function ea(){}function Y(){this.shouldPaintBrushPreview=!1;this.oldPreviewRect=
null}function qa(){Y.call(this);this.smoothMouse={x:0,y:0}}function la(){var aa,Aa;this.mouseDown=function(Na,ab,mb){if(!this.capture&&0==ab&&!Na.altKey&&!w.default.isPressed("space")&&Z())return this.capture=!0,aa=Aa={x:rb+.5,y:Hb+.5},this.eraseBrushPreview(),!0};this.mouseDrag=function(Na){if(this.capture){var ab=new a.default(Math.min(aa.x,Aa.x)-1-1,Math.min(aa.y,Aa.y)-1-1,Math.max(aa.x,Aa.x)+1+1+1,Math.max(aa.y,Aa.y)+1+1+1);Aa={x:rb+.5,y:Hb+.5};if(Na.shiftKey){var mb=Math.PI/4;Na=Math.round(Math.atan2(Aa.y-
aa.y,Aa.x-aa.x)/mb);switch(Na){case 0:case 4:Aa.y=aa.y;break;case 2:case 6:Aa.x=aa.x;break;default:Na*=mb,mb=Math.sqrt((Aa.y-aa.y)*(Aa.y-aa.y)+(Aa.x-aa.x)*(Aa.x-aa.x)),Aa.x=aa.x+mb*Math.cos(Na),Aa.y=aa.y+mb*Math.sin(Na)}}ab.union(new a.default(Math.min(aa.x,Aa.x)-1-1,Math.min(aa.y,Aa.y)-1-1,Math.max(aa.x,Aa.x)+1+1+1,Math.max(aa.y,Aa.y)+1+1+1));Ca(ab);return!0}this.mouseMove.call(this,Na)};this.mouseUp=function(Na,ab,mb){if(this.capture&&0==ab)return Na=Ra(aa),ab=Ra(Aa),this.capture=!1,this.drawLine(Na,
ab),Na=new a.default(Math.min(aa.x,Aa.x)-1-1,Math.min(aa.y,Aa.y)-1-1,Math.max(aa.x,Aa.x)+1+1+1,Math.max(aa.y,Aa.y)+1+1+1),Ca(Na),!0};this.paint=function(){this.capture?(Qa.lineWidth=1,Qa.beginPath(),Qa.moveTo(aa.x,aa.y),Qa.lineTo(Aa.x,Aa.y),Qa.stroke()):Y.prototype.paint.call(this)};Y.call(this)}function Q(){var aa=0,Aa,Na,ab,mb;this.mouseDown=function(U,ia,Ba){if(!this.capture&&0==ia&&!U.altKey&&!w.default.isPressed("space")&&Z())return U=Ra({x:rb,y:Hb}),aa=0,Aa=Na=ab=mb=U,this.capture=!0,this.eraseBrushPreview(),
!0};this.mouseDrag=function(U){if(this.capture&&0===aa)return ab=mb=Ra({x:rb,y:Hb}),Ua.repaintAll(),!0;this.mouseMove.call(this,U)};this.mouseUp=function(U,ia,Ba){if(this.capture&&0==ia){switch(aa){case 0:aa=1;break;case 1:aa=2;break;case 2:this.capture=!1;ia=Aa;Ba=Na;var ba=ab,va=mb;U=new r.default;U.x0=ia.x;U.y0=ia.y;U.x1=Ba.x;U.y1=Ba.y;U.x2=ba.x;U.y2=ba.y;U.x3=va.x;U.y3=va.y;ia=Array(500);Ba=Array(500);U.compute(ia,Ba,500);ub.beginStroke(ia[0],Ba[0],1);for(U=1;500>U;U++)ub.continueStroke(ia[U],
Ba[U],1);ub.endStroke();Ua.repaintAll()}return!0}};this.mouseMove=function(U,ia){if(this.capture)return U=Ra({x:rb,y:Hb}),1==aa?Na=U:2==aa&&(ab=U),Ua.repaintAll(),!0;Y.prototype.mouseMove.call(this,U,ia)};this.paint=function(){if(this.capture){var U=new r.default,ia=ra(Aa),Ba=ra(Na),ba=ra(ab),va=ra(mb);U.x0=ia.x;U.y0=ia.y;U.x1=Ba.x;U.y1=Ba.y;U.x2=ba.x;U.y2=ba.y;U.x3=va.x;U.y3=va.y;var Ha=Array(100),Wa=Array(100);U.compute(Ha,Wa,100);Qa.beginPath();Qa.moveTo(Ha[0],Wa[0]);for(U=1;100>U;U++)Qa.lineTo(Ha[U],
Wa[U]);Qa.moveTo(~~ia.x,~~ia.y);Qa.lineTo(~~Ba.x,~~Ba.y);Qa.moveTo(~~ba.x,~~ba.y);Qa.lineTo(~~va.x,~~va.y);Qa.stroke()}else Y.prototype.paint.call(this)};Y.call(this)}function ka(){var aa;this.mouseDown=function(Aa,Na,ab){if(this.capture)return!0;if(w.default.isPressed("space")||(0!=Na||this.transient&&!Aa.altKey)&&2!=Na)this.transient&&pb.pop();else return aa=Na,this.capture=!0,Xa("crosshair"),this.mouseDrag(Aa),!0};this.mouseDrag=function(Aa){if(this.capture)return Aa=Ra({x:rb,y:Hb}),ub.isPointWithin(Aa.x,
Aa.y)&&J.setCurColor(new B.default(ub.colorPicker(Aa.x,Aa.y))),!0};this.mouseUp=function(Aa,Na,ab){if(this.capture&&Na==aa)return aa=-1,this.capture=!1,Xa("default"),this.transient&&pb.pop(),!0};this.enter=function(){R.prototype.enter.call(this);aa=-1}}function oa(){var aa,Aa,Na,ab;this.keyDown=function(mb){if(" "===mb.key)return this.capture||Xa("grab"),!0};this.keyUp=function(mb){if(this.transient&&1!=ab&&" "===mb.key)return Xa("default"),pb.pop(),!0};this.mouseDown=function(mb,U,ia){if(this.capture)return!0;
if(1==U||w.default.isPressed("space")&&0==U||!this.transient&&0==U)return this.capture=!0,ab=U,aa=mb.pageX,Aa=mb.pageY,Na=Ua.getOffset(),Xa("grabbing"),!0;this.transient&&pb.pop()};this.mouseDrag=function(mb){if(this.capture)return Ua.setOffset(Na.x+mb.pageX-aa,Na.y+mb.pageY-Aa),!0};this.mouseUp=function(mb,U,ia){if(this.capture&&U==ab)return ab=-1,this.capture=!1,this.transient&&!w.default.isPressed("space")&&(Xa("default"),pb.pop()),!0};this.enter=function(){Xa("grab")}}function ya(){}function ja(){var aa,
Aa=new a.default(0,0,0,0),Na=-1;this.mouseDown=function(ab,mb,U){if(!this.capture&&0==mb&&!ab.altKey&&!w.default.isPressed("space"))return ab=wb({x:rb,y:Hb}),Na=mb,Aa.makeEmpty(),aa=ab,Ua.repaintAll(),this.capture=!0};this.mouseDrag=function(ab){if(!this.capture)return!1;var mb=wb({x:rb,y:Hb});ab=ab.shiftKey;var U=~~Math.max(Math.abs(mb.x-aa.x),Math.abs(mb.y-aa.y));mb.x>=aa.x?(Aa.left=aa.x,Aa.right=(ab?aa.x+U:mb.x)+1):(Aa.left=ab?aa.x-U:mb.x,Aa.right=aa.x+1);mb.y>=aa.y?(Aa.top=aa.y,Aa.bottom=(ab?
aa.y+U:mb.y)+1):(Aa.top=ab?aa.y-U:mb.y,Aa.bottom=aa.y+1);Ua.repaintAll();return!0};this.mouseUp=function(ab,mb,U){if(this.capture&&mb==Na)return ub.rectangleSelection(Aa),Aa.makeEmpty(),Ua.repaintAll(),this.capture=!1,Na=-1,!0};this.paint=function(){Aa.isEmpty()||(Qa.lineWidth=1,Ga(Qa,Da(Aa)))}}function ua(){var aa,Aa,Na=!1;this.mouseDown=function(ab,mb,U){if(!this.capture&&0==mb&&!w.default.isPressed("space")&&T())return aa=Ra({x:rb,y:Hb}),Aa=ab.altKey,this.capture=Na=!0};this.mouseDrag=(0,h.throttle)(25,
function(ab){if(this.capture){ab=Ra({x:rb,y:Hb});var mb=ab.x-aa.x,U=ab.y-aa.y,ia=~~mb,Ba=~~U;if(0!=ia||0!=Ba)ub.move(ia,Ba,Aa&&Na),Na=!1;aa.x=ab.x-(mb-ia);aa.y=ab.y-(U-Ba);return!0}});this.mouseUp=function(ab,mb,U){if(this.capture&&0==mb)return this.capture=!1,this.transient&&pb.pop(),!0}}function ha(){function aa(Ja,$a){return{x:(Ja.x+$a.x)/2,y:(Ja.y+$a.y)/2}}function Aa(Ja){return{x:Math.round(Ja.x),y:Math.round(Ja.y)}}function Na(Ja,$a){for(var bb=0;bb<Ja.points.length;bb++)if(49>=($a.x-Ja.points[bb].x)*
($a.x-Ja.points[bb].x)+($a.y-Ja.points[bb].y)*($a.y-Ja.points[bb].y))return 2*bb;for(bb=0;bb<Ja.points.length;bb++){var jb=Ja.points[bb],Lb=Ja.points[(bb+1)%Ja.points.length];Lb=new p.default(Lb.x-jb.x,Lb.y-jb.y);jb=new p.default($a.x-jb.x,$a.y-jb.y);var Db=Lb.getLength(),Nb=Lb.getScaled(1/Db);Db=jb.getScaled(1/Db);Nb=Nb.getDotProduct(Db);if(0<=Nb&&1>=Nb&&(Lb.scale(Nb),49>=(Lb.x-jb.x)*(Lb.x-jb.x)+(Lb.y-jb.y)*(Lb.y-jb.y)))return 2*bb+1}return Ja.containsPoint($a)?-3:-2}function ab(){var Ja=Ba.getTransformed(Qb),
$a=Na(Ja,{x:rb,y:Hb});switch($a){case 0:case 2:case 4:case 6:$a=~~($a/2);var bb=Ja.points[$a],jb=Ja.points[($a+1)%4];Ja=p.default.subtractPoints(Ja.points[($a+3)%4],bb).normalize().add(p.default.subtractPoints(jb,bb).normalize());mb(Ja);break;case 1:case 3:case 5:case 7:Ja=p.default.subtractPoints(Ja.points[(~~($a/2)+1)%4],Ja.points[~~($a/2)]).getPerpendicular();mb(Ja);break;case -3:Xa("move");break;case -2:Xa("default");break;default:Xa("default")}}function mb(Ja){Ja=Math.floor(Math.atan2(-Ja.y,
Ja.x)/(Math.PI/4)+.5);0>Ja&&(Ja+=4);switch(Ja){default:Ja="ew-resize";break;case 1:Ja="nesw-resize";break;case 2:Ja="ns-resize";break;case 3:Ja="nwse-resize"}Xa(Ja)}var U,ia,Ba,ba=-1,va,Ha,Wa;this.mouseDown=function(Ja,$a,bb){if(!this.capture&&0==$a&&!Ja.altKey&&!w.default.isPressed("space"))return Ja=Ba.getTransformed(Qb),ba=Na(Ja,{x:rb,y:Hb}),va={x:rb,y:Hb},Ha=Ra(va),this.capture=!0,ab(),!0};this.mouseDrag=(0,h.throttle)(40,function(Ja){if(this.capture){var $a={x:rb,y:Hb};switch(ba){case -3:Ja=
Aa(Ra($a));var bb=p.default.subtractPoints(Ja,Ha);$a=bb.getTruncated();bb=bb.subtract($a);var jb=new m.default;jb.translate($a.x,$a.y);U.preMultiply(jb);Ha=p.default.subtractPoints(Ja,bb);break;case -2:jb=Math.PI/4;bb=Ba.getCenter();var Lb=ra(bb),Db=Math.atan2($a.y-Lb.y,$a.x-Lb.x)-Math.atan2(va.y-Lb.y,va.x-Lb.x);Lb=new m.default;Wa+=Db;Ja=Ja.shiftKey?-U.decompose().rotate+Math.round(Wa/jb)*jb:Db;Lb.rotateAroundPoint(Ja,bb.x,bb.y);U.preMultiply(Lb);va=$a;break;case 0:case 2:case 4:case 6:jb=~~(ba/
2);bb=ia.points[jb];Lb=U.getInverted().getTransformedPoint(Aa(Ra($a)));$a=ia.points[(jb+2)%4];jb=(Lb.x-$a.x)/(bb.x-$a.x);bb=(Lb.y-$a.y)/(bb.y-$a.y);if(.001>Math.abs(jb)||.001>Math.abs(bb)||isNaN(jb)||isNaN(bb))return!0;Ja.shiftKey&&(bb=jb=Ja=Math.max(jb,bb));U.scaleAroundPoint(jb,bb,$a.x,$a.y);break;case 1:case 5:case 3:case 7:Ja=~~(ba/2);bb=aa(ia.points[Ja],ia.points[(Ja+1)%4]);$a=U.getInverted().getTransformedPoint(Aa(Ra($a)));Ja=aa(ia.points[(Ja+2)%4],ia.points[(Ja+3)%4]);bb=p.default.subtractPoints(bb,
Ja);$a=p.default.subtractPoints($a,Ja);jb=bb.getLength();bb=bb.getDotProduct($a)/jb/jb;if(.001>Math.abs(bb)||isNaN(bb))return!0;1==ba||5==ba?$a=1:($a=bb,bb=1);U.scaleAroundPoint($a,bb,Ja.x,Ja.y)}Ba=ia.getTransformed(U);ub.transformAffineAmend(U);Ua.repaintAll();return!0}});this.mouseUp=function(Ja,$a,bb){if(this.capture&&0==$a)return this.capture=!1,ba=-1,!0};this.mouseMove=function(){this.capture||ab()};this.paint=function(){for(var Ja=Ba.getTransformed(Qb).points,$a=Array(2*Ja.length),bb=0;bb<Ja.length;bb++)$a[bb]=
Ja[bb];for(bb=0;bb<Ja.length;bb++){var jb=Ja[bb],Lb=Ja[(bb+1)%Ja.length];$a[bb+Ja.length]={x:(jb.x+Lb.x)/2,y:(jb.y+Lb.y)/2}}(0,A.setContrastingDrawStyle)(Qa,"fill");for(bb=0;bb<$a.length;bb++)Qa.fillRect($a[bb].x-3,$a[bb].y-3,7,7);Ga(Qa,Ja)};this.keyDown=function(Ja){if("Enter"===Ja.key)return J.actionPerformed({action:"CPTransformAccept"}),!0;if("Escape"===Ja.key)return J.actionPerformed({action:"CPTransformReject"}),!0};this.enter=function(){R.prototype.enter.call(this);var Ja=ub.transformAffineBegin();
U=Ja.transform;var $a=Ja.selection;$a.isEmpty()&&($a=Ja.rect.clone());ia=new c.default($a.toPoints());Ba=ia.getTransformed(U);ba=-1;Wa=0;Ua.repaintAll()};this.leave=function(){R.prototype.leave.call(this);Ua.repaintAll()}}function La(){var aa,Aa,Na=0,ab,mb=!1,U=-1;this.mouseDown=function(ia,Ba,ba){if(this.capture)return!0;if(!this.transient&&0==Ba&&!ia.altKey&&!w.default.isPressed("space")||0==Ba&&!ia.altKey&&!w.default.isPressed("space")&&w.default.isPressed("r"))return aa=rb,Aa=Hb,Na=Ua.getRotation(),
ab=Qb.clone(),mb=!1,this.capture=!0,U=Ba,!0;this.transient&&pb.pop()};this.mouseDrag=function(ia){if(this.capture){var Ba=rb,ba=Hb,va=(0,d.default)(Pa).width()/2,Ha=(0,d.default)(Pa).height()/2;ia=Pa.width/2;var Wa=Pa.height/2;Ba=Math.atan2(ba-Ha,Ba-va)-Math.atan2(Aa-Ha,aa-va);ba=new m.default;ba.rotateAroundPoint(Ba,ia,Wa);ba.multiply(ab);Ua.setRotation(Na+Ba);Ua.setOffset(~~ba.getTranslateX(),~~ba.getTranslateY());return mb=!0}};this.mouseUp=function(ia,Ba,ba){if(this.capture&&Ba==U){if(mb){ia=
Math.round(jc/(Math.PI/2))*Math.PI/2;if(Math.abs(jc-ia)<5/180*Math.PI){ia-=Na;Ba=Pa.width/2;ba=Pa.height/2;var va=new m.default;va.rotateAroundPoint(ia,Ba,ba);va.multiply(ab);Ua.setRotation(Na+ia);Ua.setOffset(~~va.getTranslateX(),~~va.getTranslateY());Ua.repaintAll()}Ua.emitEvent("canvasRotated90",[Ua.getRotation90()])}else Ua.resetRotation();this.capture=!1;this.transient&&!w.default.isPressed("r")&&pb.pop();return!0}};this.keyUp=function(ia){if(this.transient&&1!=U&&" "===ia.key)return Xa("default"),
pb.pop(),!0};this.keyDown=function(ia){if("r"===ia.key.toLowerCase())return!0}}function Ya(){la.call(this)}function Xa(aa){Pa.getAttribute("data-cursor")!=aa&&Pa.setAttribute("data-cursor",aa)}function T(){var aa=ub.getActiveLayer();return aa.visible&&aa.ancestorsAreVisible()?0==aa.alpha?(J.showLayerNotification(aa,(0,E._)("Whoops! This layer's opacity is currently 0%"),"opacity"),!1):!0:(J.showLayerNotification(aa,(0,E._)("Whoops! This layer is currently hidden"),"layer"),!1)}function Z(){var aa=
ub.getActiveLayer();return aa instanceof u.default&&!ub.isEditingMask()?(J.showLayerNotification(aa,(0,E._)("Whoops! You can't draw on a group"),"layer"),!1):T()}function sa(aa,Aa,Na,ab,mb){aa.setValues(-mb,ab,Aa-ab-mb+Na/4,Aa+Na-mb-Na/4);aa.setBlockIncrement(Math.max(1,~~(.66*ab)));aa.setUnitIncrement(Math.max(1,~~(.05*ab)))}function Ea(){Qb.setToIdentity();Qb.translate(kb,qc);Qb.scale(P,P);Qb.rotate(jc);if(null!=Vb&&null!=ib&&!Vb.getValueIsAdjusting()&&!ib.getValueIsAdjusting()){var aa=db(new a.default(0,
0,Ia.width,Ia.height));sa(Vb,aa.left,aa.getWidth(),(0,d.default)(Pa).width(),Ua.getOffset().x);sa(ib,aa.top,aa.getHeight(),(0,d.default)(Pa).height(),Ua.getOffset().y)}Ua.repaintAll()}function Ra(aa){return Qb.getInverted().getTransformedPoint(aa)}function wb(aa){aa=Ra(aa);aa.x=Math.floor(aa.x);aa.y=Math.floor(aa.y);return aa}function Ib(aa){var Aa=Pa.getBoundingClientRect();return{x:aa.x-Aa.left-window.pageXOffset,y:aa.y-Aa.top-window.pageYOffset}}function ra(aa){return Qb.getTransformedPoint(aa)}
function za(aa){aa=ra(aa);aa.x=Math.round(aa.x);aa.y=Math.round(aa.y);return aa}function Da(aa){var Aa=ra({x:(aa.left+aa.right)/2,y:(aa.top+aa.bottom)/2});aa=aa.toPoints();for(var Na=0;Na<aa.length;Na++)aa[Na]=za(aa[Na]),aa[Na].x+=.5*Math.sign(Aa.x-aa[Na].x),aa[Na].y+=.5*Math.sign(Aa.y-aa[Na].y);return aa}function Ga(aa,Aa){aa.beginPath();aa.moveTo(Aa[0].x,Aa[0].y);for(var Na=1;Na<Aa.length;Na++)aa.lineTo(Aa[Na].x,Aa[Na].y);aa.lineTo(Aa[0].x,Aa[0].y);aa.stroke()}function db(aa){var Aa=za({x:aa.left-
1,y:aa.top-1}),Na=za({x:aa.left-1,y:aa.bottom}),ab=za({x:aa.right,y:aa.top-1});aa=za({x:aa.right,y:aa.bottom});Aa=new a.default(Math.min(Math.min(Aa.x,Na.x),Math.min(ab.x,aa.x)),Math.min(Math.min(Aa.y,Na.y),Math.min(ab.y,aa.y)),Math.max(Math.max(Aa.x,Na.x),Math.max(ab.x,aa.x))+1,Math.max(Math.max(Aa.y,Na.y),Math.max(ab.y,aa.y))+1);Aa.grow(2,2);return Aa}function tb(){var aa=Pa.width,Aa=Pa.height,Na=ra({x:ub.width/2,y:ub.height/2});Ua.setOffset(Math.round(kb+aa/2-Na.x),Math.round(qc+Aa/2-Na.y))}function qb(aa,
Aa,Na){aa=Math.max(.1,Math.min(16,aa));if(Ua.getZoom()!=aa){var ab=Ua.getOffset();Ua.setOffset(ab.x+~~((Aa-ab.x)*(1-aa/Ua.getZoom())),ab.y+~~((Na-ab.y)*(1-aa/Ua.getZoom())));Ua.setZoom(aa);Ua.repaintAll()}}function Oa(aa){var Aa=(0,d.default)(Pa).width(),Na=(0,d.default)(Pa).height(),ab=parseFloat(aa);.01>Math.abs(ab-1)?aa=1:.2>Math.abs(ab-2)?aa=2:.08>Math.abs(ab-.5)&&(aa=.5);qb(aa,Aa/2,Na/2)}function ta(aa){return tc?ac.getPressure():"mouse"===aa.pointerType&&0!==aa.buttons&&0===aa.pressure?1:"touch"===
aa.pointerType?(0!==aa.pressure&&(wc=!0),wc?2*aa.pressure:1):2*aa.pressure}function pa(){Ob||(Ob=!0,window.requestAnimationFrame(function(){Ua.paint()}))}function Ca(aa){Sb.union(aa);pa()}function Ka(){Fb=ub.getBounds();Ua.repaintAll()}var Ua=this,lb=document.createElement("div"),ob=document.createElement("div"),Ab=document.createElement("div"),Pa=document.createElement("canvas"),Qa=Pa.getContext("2d"),Ia=document.createElement("canvas"),sb=Ia.getContext("2d"),ic=(0,A.createCheckerboardPattern)(Qa),
ub=J.getArtwork(),P=1,kb=0,qc=0,jc=0,Qb=new m.default,eb=!1,bc=!1,Va=32,rb=0,Hb=0,cc=!1,Mb=[!1,!1,!1],tc=!1,rc=!1,wc=!1,Fb=ub.getBounds(),Sb=new a.default(0,0,0,0),Ob=!1,Tb,Rb=[],pb=new k,Vb=new C.default(!1),ib=new C.default(!0),ac=q.default.getRef();Math.sign=Math.sign||function(aa){aa=+aa;return 0===aa||isNaN(aa)?aa:0<aa?1:-1};R.prototype.transient=!1;R.prototype.capture=!1;R.prototype.enter=function(){Xa("default")};R.prototype.leave=function(){this.capture=!1};R.prototype.mouseMove=R.prototype.paint=
R.prototype.mouseDown=R.prototype.mouseDrag=R.prototype.mouseUp=R.prototype.keyDown=R.prototype.suspend=R.prototype.resume=R.prototype.keyUp=function(){};ea.prototype=Object.create(R.prototype);ea.prototype.constructor=ea;ea.prototype.mouseDown=function(aa,Aa,Na){var ab=w.default.isPressed("space");if(!ab&&(2==Aa||0==Aa&&aa.altKey))pb.push(gc,!0),pb.peek().mouseDown(aa,Aa,Na);else if(!ab&&0==Aa&&!aa.altKey&&w.default.isPressed("r"))pb.push(nc,!0),pb.peek().mouseDown(aa,Aa,Na);else if(1==Aa||!aa.altKey&&
ab&&0==Aa)pb.push(fc,!0),pb.peek().mouseDown(aa,Aa,Na)};ea.prototype.keyDown=function(aa){if("r"===aa.key.toLowerCase()&&" "!==aa.key)pb.push(nc,!0),pb.peek().keyDown(aa);else if("r"!==aa.key.toLowerCase()&&" "===aa.key&&!aa.altKey)return pb.push(fc,!0),pb.peek().keyDown(aa),!0};Y.prototype=Object.create(R.prototype);Y.prototype.constructor=Y;Y.prototype.getBrushPreviewOval=function(){var aa=J.getBrushSize()*P;return new a.default(rb-aa/2,Hb-aa/2,rb+aa/2,Hb+aa/2)};Y.prototype.queueBrushPreview=function(){if(pb.peek()==
this){this.shouldPaintBrushPreview=!0;var aa=this.getBrushPreviewOval();aa.grow(2,2);null!=this.oldPreviewRect&&(aa.union(this.oldPreviewRect),this.oldPreviewRect=null);Ca(aa)}};Y.prototype.eraseBrushPreview=function(){this.shouldPaintBrushPreview=!1;null!=this.oldPreviewRect&&(Ca(this.oldPreviewRect),this.oldPreviewRect=null)};Y.prototype.mouseMove=function(aa,Aa){this.queueBrushPreview()};Y.prototype.enter=function(){R.prototype.enter.call(this);cc&&this.queueBrushPreview()};Y.prototype.leave=function(){R.prototype.leave.call(this);
this.eraseBrushPreview()};Y.prototype.suspend=Y.prototype.leave;Y.prototype.resume=Y.prototype.enter;Y.prototype.paint=function(){if(this.shouldPaintBrushPreview){this.shouldPaintBrushPreview=!1;var aa=this.getBrushPreviewOval();Qa.beginPath();Qa.arc((aa.left+aa.right)/2,(aa.top+aa.bottom)/2,aa.getWidth()/2,0,2*Math.PI);Qa.stroke();aa.grow(2,2);null==this.oldPreviewRect?this.oldPreviewRect=aa:this.oldPreviewRect.union(aa)}};qa.prototype=Object.create(Y.prototype);qa.prototype.constructor=qa;qa.prototype.mouseDown=
function(aa,Aa,Na){if(!this.capture&&0==Aa&&!aa.altKey&&!w.default.isPressed("space")&&Z()&&(aa=Ra({x:rb,y:Hb}),this.eraseBrushPreview(),ub.beginStroke(aa.x,aa.y,Na)))return this.capture=!0,this.smoothMouse=aa,!0};qa.prototype.mouseDrag=function(aa,Aa){(!navigator.maxTouchPoints||2>navigator.maxTouchPoints)&&Y.prototype.mouseMove.call(this,aa,Aa);if(this.capture){aa=Ra({x:rb,y:Hb});var Na=Math.min(.999,Math.pow(J.getBrushInfo().smoothing,.3));this.smoothMouse.x=(1-Na)*aa.x+Na*this.smoothMouse.x;this.smoothMouse.y=
(1-Na)*aa.y+Na*this.smoothMouse.y;ub.continueStroke(this.smoothMouse.x,this.smoothMouse.y,Aa);return!0}this.mouseMove(aa)};qa.prototype.mouseUp=function(aa,Aa,Na){if(this.capture)return 0==Aa&&(this.capture=!1,ub.endStroke()),!0};la.prototype=Object.create(Y.prototype);la.prototype.constructor=la;la.prototype.drawLine=function(aa,Aa){ub.beginStroke(aa.x,aa.y,1);ub.continueStroke(Aa.x,Aa.y,1);ub.endStroke()};Q.prototype=Object.create(Y.prototype);Q.prototype.constructor=Q;ka.prototype=Object.create(R.prototype);
ka.prototype.constructor=ka;oa.prototype=Object.create(R.prototype);oa.prototype.constructor=oa;ya.prototype=Object.create(R.prototype);ya.prototype.constructor=ya;ya.prototype.mouseDown=function(aa,Aa,Na){if(0==Aa&&!aa.altKey&&!w.default.isPressed("space")&&Z())return aa=Ra({x:rb,y:Hb}),ub.isPointWithin(aa.x,aa.y)&&(ub.floodFill(aa.x,aa.y),Ua.repaintAll()),!0};ja.prototype=Object.create(R.prototype);ja.prototype.constructor=ja;ua.prototype=Object.create(R.prototype);ua.prototype.constructor=ua;ua.prototype.mouseMove=
function(aa){if(!w.default.isPressed("r"))return Xa("move"),!0};ua.prototype.enter=function(){Xa("move")};ha.prototype=Object.create(R.prototype);ha.prototype.constructor=ha;La.prototype=Object.create(R.prototype);La.prototype.constructor=La;Ya.prototype=Object.create(la.prototype);Ya.prototype.constructor=Ya;Ya.prototype.drawLine=function(aa,Aa){ub.gradientFill(Math.round(aa.x),Math.round(aa.y),Math.round(Aa.x),Math.round(Aa.y),J.getCurGradient())};Ya.prototype.queueBrushPreview=function(){};this.setZoom=
function(aa){P=aa;Ea()};this.getZoom=function(){return P};this.setGridSize=function(aa){Va=Math.max(Math.round(aa),1);this.repaintAll()};this.getGridSize=function(){return Va};this.setOffset=function(aa,Aa){isNaN(aa)||isNaN(Aa)?console.log("Bad offset"):(kb=aa,qc=Aa,Ea())};this.getOffset=function(){return{x:kb,y:qc}};this.setInterpolation=function(aa){eb=aa;(0,f.setCanvasInterpolation)(Qa,aa);this.repaintAll()};this.setRotation=function(aa){jc=aa%(2*Math.PI);Ea()};this.getRotation=function(){return jc};
this.getRotation90=function(){var aa=Math.round(this.getRotation()/Math.PI*2);aa%=4;0>aa&&(aa+=4);return aa};this.zoomIn=function(){Oa(1.41*this.getZoom())};this.zoomOut=function(){Oa(.7092*this.getZoom())};this.zoom100=function(){Oa(1);tb()};this.resetRotation=function(){var aa=Pa.width/2,Aa=Pa.height/2,Na=new m.default;Na.rotateAroundPoint(-this.getRotation(),aa,Aa);Na.multiply(Qb);this.setOffset(~~Na.getTranslateX(),~~Na.getTranslateY());this.setRotation(0);Ua.emitEvent("canvasRotated90",[0])};
var vc=!1,kc;this.getElement=function(){return lb};this.repaintAll=function(){Sb.left=0;Sb.top=0;Sb.right=Pa.width;Sb.bottom=Pa.height;pa()};this.paint=function(){var aa=!1;Ob=!1;Sb.isEmpty()||(Qa.save(),Qa.clipTo&&(Qa.beginPath(),Sb.left|=0,Sb.top|=0,Qa.rect(Sb.left,Sb.top,Math.ceil(Sb.getWidth()),Math.ceil(Sb.getHeight())),Qa.clip()),aa=!0);if(!Fb.isEmpty()){var Aa=Tb&&Tb.isOpen()?Tb.getImageData():ub.fusionLayers().getImageData();sb.putImageData(Aa,0,0,Fb.left,Fb.top,Fb.getWidth(),Fb.getHeight());
Fb.makeEmpty()}Qa.fillStyle="#606060";Qa.fillRect(0,0,Pa.width,Pa.height);Qa.save();Qa.setTransform(Qb.m[0],Qb.m[1],Qb.m[2],Qb.m[3],Qb.m[4],Qb.m[5]);Qa.fillStyle=ic;Qa.fillRect(0,0,ub.width,ub.height);Qa.drawImage(Ia,0,0,Ia.width,Ia.height);Qa.restore();(0,A.setContrastingDrawStyle)(Qa,"stroke");Qa.lineWidth=1;ub.getSelection().isEmpty()||pb.peek()instanceof ja&&pb.peek().capture||(Qa.setLineDash([3,2]),Aa=ub.getSelection(),Ga(Qa,Da(Aa)),Qa.setLineDash([]));if(bc&&(Aa=ub.getBounds(),2<P*Va)){Qa.beginPath();
for(var Na=Va-1;Na<Aa.right;Na+=Va){var ab=ra({x:Na,y:Aa.top}),mb=ra({x:Na,y:Aa.bottom});Qa.moveTo(ab.x+.5,ab.y+.5);Qa.lineTo(mb.x+.5,mb.y+.5)}for(Na=Va-1;Na<Aa.bottom;Na+=Va)ab=ra({x:0,y:Na}),mb=ra({x:Aa.right,y:Na}),Qa.moveTo(ab.x+.5,ab.y+.5),Qa.lineTo(mb.x+.5,mb.y+.5);Qa.stroke()}pb.paint(Qa);Qa.globalCompositeOperation="source-over";aa&&(Sb.makeEmpty(),Qa.restore())};this.showGrid=function(aa){bc=aa;this.repaintAll()};this.resize=function(aa,Aa){aa-=(0,d.default)(Ab).outerHeight();(0,d.default)(Pa).css("height",
aa+"px");Pa.width=(0,d.default)(Pa).width();Pa.height=aa;kc=null;Aa||tb();this.setInterpolation(eb);this.repaintAll()};J.on("toolChange",function(aa,Aa){aa=Rb[Aa.strokeMode];for(Aa=0;Aa<pb.modes.length;Aa++)if(pb.modes[Aa]instanceof Y){pb.modes[Aa].leave();pb.modes[Aa]=aa;pb.modes[Aa].enter();break}Cc=aa});J.on("modeChange",function(aa){switch(aa){case e.default.M_DRAW:var Aa=Cc;break;case e.default.M_FLOODFILL:Aa=xc;break;case e.default.M_GRADIENTFILL:Aa=Mc;break;case e.default.M_RECT_SELECTION:Aa=
yc;break;case e.default.M_MOVE_TOOL:Aa=Dc;break;case e.default.M_ROTATE_CANVAS:Aa=nc;break;case e.default.M_PAN_CANVAS:Aa=fc;break;case e.default.M_COLOR_PICKER:Aa=gc;break;case e.default.M_TRANSFORM:Aa=zc}pb.setUserMode(Aa)});J.on("maskViewOpened",function(aa){Tb&&Tb.off("changeLayer",Ka);Tb=aa;Tb.on("changeLayer",Ka);Ka()});var lc=new ea;var gc=new ka;var fc=new oa;var nc=new La;var xc=new ya;var Mc=new Ya;var yc=new ja;var Dc=new ua;var zc=new ha;Rb=[new qa,new la,new Q];var Cc=Rb[n.default.STROKE_MODE_FREEHAND];
pb.setDefaultMode(lc);pb.setUserMode(Cc);Ia.width=ub.width;Ia.height=ub.height;Pa.width=800;Pa.height=900;Pa.className="chickenpaint-canvas";Pa.setAttribute("touch-action","none");Qa.setLineDash||(Qa.setLineDash=function(){});Pa.addEventListener("contextmenu",function(aa){aa.preventDefault()});Pa.addEventListener("mouseenter",function(){cc=!0});Pa.addEventListener("mouseleave",function(){cc=!1;Mb[0]||Mb[2]||Mb[1]||Ua.repaintAll()});Pa.addEventListener("pointerdown",function(aa){rc&&"touch"===aa.pointerType||
(Pa.setPointerCapture(aa.pointerId),kc=Pa.getBoundingClientRect(),rb=aa.clientX-kc.left,Hb=aa.clientY-kc.top,tc=ac.isPen(),Mb[0]=!1,Mb[2]=!1,Mb[1]=!1,Mb[aa.button]=!0,pb.mouseDown(aa,aa.button,ta(aa)))});Pa.addEventListener("pointermove",function(aa){kc||=Pa.getBoundingClientRect();if(!rc||"touch"!==aa.pointerType){rb=aa.clientX-kc.left;Hb=aa.clientY-kc.top;var Aa=0!==aa.buttons,Na=Aa?ta(aa):0;if(0!==(aa.buttons&1)!=Mb[0]){if(.5===aa.mozPressure)return;Mb[0]=!Mb[0];Mb[0]?pb.mouseDown(aa,0,Na):pb.mouseUp(aa,
0,Na)}0!==(aa.buttons&2)!=Mb[2]&&(Mb[2]=!Mb[2],Mb[2]?pb.mouseDown(aa,2,Na):pb.mouseUp(aa,2,Na));0!==(aa.buttons&4)!=Mb[1]&&(Mb[1]=!Mb[1],Mb[1]?pb.mouseDown(aa,1,Na):pb.mouseUp(aa,1,Na));Aa?pb.mouseDrag(aa,Na):pb.mouseMove(aa,Na);rc||"pen"!==aa.pointerType||(rc=!0)}});Pa.addEventListener("pointerup",function(aa){Mb[0]=!1;Mb[2]=!1;tc=Mb[1]=!1;pb.mouseUp(aa,aa.button,0);Pa.releasePointerCapture(aa.pointerId)});Pa.addEventListener("wheel",function(aa){if(0!=aa.deltaY){if(!vc||20<Math.abs(aa.deltaY)){var Aa=
0<aa.deltaY?1/1.15:1.15;var Na=Ib({x:aa.pageX,y:aa.pageY}),ab=Ra(Na);ub.isPointWithin(ab.x,ab.y)?qb(Ua.getZoom()*Aa,Na.x,Na.y):qb(Ua.getZoom()*Aa,kb+~~(ub.width*P/2),qc+~~(ub.height*P/2));vc=vc||setTimeout(function(){vc=!1},50)}aa.preventDefault()}});document.addEventListener("keydown",function(aa){pb.keyDown(aa)});document.addEventListener("keyup",function(aa){"alt"===aa.key.toLowerCase()&&aa.preventDefault();pb.keyUp(aa)});document.addEventListener("visibilitychange",function(){var aa=Pa.height+
(0,d.default)(Ab).outerHeight();Pa.width=1;Pa.height=1;Ua.resize(aa,!0)},!1);window.addEventListener("scroll",function(){kc=null});Pa.addEventListener("mousedown",function(aa){1==aa.button&&aa.preventDefault()});ub.on("changeSelection",function(){Ua.repaintAll()});ub.on("updateRegion",function(aa){Fb.union(aa);Ca(db(Fb))});Vb.on("valueChanged",function(aa){var Aa=Ua.getOffset();Ua.setOffset(-aa,Aa.y)});ib.on("valueChanged",function(aa){var Aa=Ua.getOffset();Ua.setOffset(Aa.x,-aa)});this.setInterpolation(!0);
lc=document.createElement("div");lc.className="chickenpaint-canvas-container-wrapper";lc.appendChild(Pa);ob.className="chickenpaint-canvas-container-top";ob.appendChild(lc);ob.appendChild(ib.getElement());Ab.className="chickenpaint-canvas-container-bottom";Ab.appendChild(Vb.getElement());lb.appendChild(ob);lb.appendChild(Ab);J.setCanvas(this)}Object.defineProperty(D,"__esModule",{value:!0});D.default=v;var E=g("../languages/lang.js"),b=z(g("wolfy87-eventemitter")),d=z(g("jquery")),w=z(g("../../lib/keymaster.js")),
a=z(g("../util/CPRect.js")),m=z(g("../util/CPTransform.js")),q=z(g("../util/CPWacomTablet.js")),r=z(g("../util/CPBezier.js")),h=g("../util/throttle-debounce"),c=z(g("../util/CPPolygon.js")),f=g("../util/CPPolyfill.js"),p=z(g("../util/CPVector.js")),e=z(g("../ChickenPaint.js")),n=z(g("../engine/CPBrushInfo.js")),u=z(g("../engine/CPLayerGroup.js"));z(g("../engine/CPMaskView.js"));var A=g("./CPGUIUtils.js"),C=z(g("./CPScrollbar.js")),B=z(g("../util/CPColor.js"));k.MODE_INDEX_DEFAULT=0;k.MODE_INDEX_USER=
1;k.prototype.setMode=function(J,R){var ea=this.modes[J];ea!=R&&(ea&&ea.leave(),this.modes[J]=R,R.enter())};k.prototype.setDefaultMode=function(J){J.transient=!1;J.capture=!1;this.setMode(k.MODE_INDEX_DEFAULT,J)};k.prototype.setUserMode=function(J){for(var R=this.modes.length-1;R>k.MODE_INDEX_USER;R--)this.modes[R].leave(),this.modes.splice(R,1);J.transient=!1;J.capture=!1;this.setMode(k.MODE_INDEX_USER,J)};k.prototype.deliverEvent=function(J,R){for(var ea=this.modes.length-1;0<=ea;ea--){var Y=this.modes[ea];
if(Y[J].apply(Y,R)||Y.capture&&"paint"!=J)return!0}return!1};g=function(){var J=N[I];k.prototype[J]=function(R,ea,Y){this.deliverEvent(J,[R,ea,Y])}};for(var I=0,N=["mouseDown","mouseUp"];I<N.length;I++)g();g=function(){var J=G[y];k.prototype[J]=function(R,ea){this.deliverEvent(J,[R,ea])}};for(var y=0,G=["mouseDrag","mouseMove"];y<G.length;y++)g();g=function(){var J=O[H];k.prototype[J]=function(R){this.deliverEvent(J,[R])&&R.preventDefault()}};for(var H=0,O=["keyDown","keyUp"];H<O.length;H++)g();k.prototype.paint=
function(J){this.deliverEvent("paint",[J])};k.prototype.push=function(J,R){var ea=this.peek();ea&&ea.suspend();J.transient=R;J.capture=!1;J.enter();this.modes.push(J)};k.prototype.peek=function(){return 0<this.modes.length?this.modes[this.modes.length-1]:null};k.prototype.pop=function(){var J=this.modes.pop(),R=this.peek();J&&J.leave();R&&R.resume();return R};v.prototype=Object.create(b.default.prototype);v.prototype.constructor=v;K.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,
"../engine/CPBrushInfo.js":8,"../engine/CPLayerGroup.js":17,"../engine/CPMaskView.js":19,"../languages/lang.js":54,"../util/CPBezier.js":57,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPPolygon.js":61,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/CPVector.js":65,"../util/CPWacomTablet.js":66,"../util/throttle-debounce":67,"./CPGUIUtils.js":33,"./CPScrollbar.js":41,jquery:296,"wolfy87-eventemitter":314}],27:[function(g,K,D){function z(k,v){function E(){var a=b.width;d.clearRect(0,
0,a,b.height);d.beginPath();d.arc(a/2+1,a/2+1,Math.max(a/2,1)-2,0,2*Math.PI);w.state?d.fill():d.stroke()}var b=document.createElement("canvas"),d=b.getContext("2d"),w=this;this.state=k||!1;this.setValue=function(a){this.state!=a&&(this.state=a,this.emitEvent("valueChange",[a]),E())};this.getElement=function(){return b};b.addEventListener("mousedown",function(a){w.setValue(!w.state)});b.title=v||"";b.className="chickenpaint-checkbox";b.width=20;b.height=20;b.fillStyle="black";b.strokeStyle="black";
E()}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;g=function(k){return k&&k.__esModule?k:{default:k}}(g("wolfy87-eventemitter"));z.prototype=Object.create(g.default.prototype);z.prototype.constructor=z;K.exports=D.default},{"wolfy87-eventemitter":314}],28:[function(g,K,D){function z(m){return m&&m.__esModule?m:{default:m}}function k(m){E.default.call(this,m,"color","Color (picker)");var q=new b.default(m),r=new d.default(m,q);m=new v(m);var h=this.getBodyElement(),c=document.createElement("div");
c.className="chickenpaint-colorpicker-top";c.appendChild(q.getElement());c.appendChild(r.getElement());h.appendChild(c);h.appendChild(m.getElement())}function v(m){function q(f,p,e){for(;f.length<e;)f=p+f;return f}function r(){c.style.backgroundColor="#"+q(Number(h).toString(16),"0",6)}var h=0,c=document.createElement("div");this.getElement=function(){return c};m.on("colorChange",function(f){h=f.getRgb();r()});c.className="chickenpaint-colorpicker-show";c.addEventListener("click",function(f){f.preventDefault();
f="#"+q(Number(h).toString(16),"0",6);f=window.prompt((0,a._)("Please enter a color in hex format"),f);if(null!=f)try{if(f.match(/^#/)||f.match(/^$/))f=f.substring(1);var p=parseInt(f,16);m.setCurColor(new w.default(p))}catch(e){}});r()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var E=z(g("./CPPalette.js")),b=z(g("./CPColorSelect.js")),d=z(g("./CPColorSlider.js")),w=z(g("../util/CPColor.js")),a=g("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=
k;K.exports=D.default},{"../languages/lang":54,"../util/CPColor.js":58,"./CPColorSelect.js":29,"./CPColorSlider.js":30,"./CPPalette.js":39}],29:[function(g,K,D){function z(f){return f&&f.__esModule?f:{default:f}}function k(f){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},k(f)}function v(f,p){for(var e=0;e<p.length;e++){var n=
p[e];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(f,d(n.key),n)}}function E(f,p,e){p&&v(f.prototype,p);e&&v(f,e);Object.defineProperty(f,"prototype",{writable:!1});return f}function b(f,p,e){p=d(p);p in f?Object.defineProperty(f,p,{value:e,enumerable:!0,configurable:!0,writable:!0}):f[p]=e;return f}function d(f){a:if("object"===k(f)&&null!==f){var p=f[Symbol.toPrimitive];if(void 0!==p){f=p.call(f,"string");if("object"!==k(f))break a;throw new TypeError("@@toPrimitive must return a primitive value.");
}f=String(f)}return"symbol"===k(f)?f:String(f)}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var w=z(g("jquery")),a=z(g("../util/CPColor.js")),m=z(g("../engine/CPColorBmp.js")),q=g("./CPGUIUtils.js"),r=window.devicePixelRatio||1,h=Math.round(128*r),c=Math.round(128*r);D.default=function(){function f(p,e){var n=this;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");b(this,"_controller",void 0);b(this,"_canvas",void 0);b(this,"_canvasContext",void 0);
b(this,"_imageData",void 0);b(this,"_bitmapInvalid",!0);b(this,"_capturedMouse",!1);b(this,"_greyscale",!1);b(this,"color",new a.default(0));this._controller=p;var u=document.createElement("canvas");this._canvas=u;u.className="chickenpaint-colorpicker-select";u.setAttribute("touch-action","none");u.width=h;u.height=c;u.style.width="128px";u.style.height="128px";this._canvasContext=u.getContext("2d");this._imageData=this._canvasContext.createImageData(h,c);this._canvasContext.getImageData(0,0,1,1);
this._handleEndDrag=this._endDrag.bind(this);this._handleMousePickColor=this._mousePickColor.bind(this);u.addEventListener("pointerdown",function(A){return n._startDrag(A)});e&&this.color.copyFrom(e);p.on("colorChange",function(A){n.color.copyFrom(A);n._bitmapInvalid=!0;n.paint()});p.on("colorModeChange",function(A){n._greyscale="greyscale"==A;n._bitmapInvalid=!0;n.paint()});this.paint()}E(f,[{key:"_makeBitmap",value:function(){if(this._bitmapInvalid){var p=0,e=this._imageData.data;if(this._greyscale)for(var n=
0;n<c;n++)for(var u=255-Math.round(n/(c-1)*255),A=0;A<h;A++)e[p+m.default.RED_BYTE_OFFSET]=u,e[p+m.default.GREEN_BYTE_OFFSET]=u,e[p+m.default.BLUE_BYTE_OFFSET]=u,e[p+m.default.ALPHA_BYTE_OFFSET]=255,p+=m.default.BYTES_PER_PIXEL;else for(n=this.color.clone(),u=0;u<c;u++)for(n.setValue(255-~~(u/(c-1)*255)),A=0;A<h;A++)n.setSaturation(Math.round(A/(h-1)*255)),e[p+m.default.RED_BYTE_OFFSET]=n.rgb>>16&255,e[p+m.default.GREEN_BYTE_OFFSET]=n.rgb>>8&255,e[p+m.default.BLUE_BYTE_OFFSET]=n.rgb&255,e[p+m.default.ALPHA_BYTE_OFFSET]=
255,p+=m.default.BYTES_PER_PIXEL;this._bitmapInvalid=!1}}},{key:"paint",value:function(){this._makeBitmap();this._canvasContext.putImageData(this._imageData,0,0);var p=this.color.getSaturation()/255*(h-1),e=(255-this.color.getValue())/255*(c-1);(0,q.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5*r;this._canvasContext.beginPath();this._greyscale?(this._canvasContext.moveTo(0,e),this._canvasContext.lineTo(h,e)):this._canvasContext.arc(p,e,5*r,0,2*Math.PI);this._canvasContext.stroke();
this._canvasContext.globalCompositeOperation="source-over"}},{key:"_mousePickColor",value:function(p){var e=p.pageX-(0,w.default)(this._canvas).offset().left;p=p.pageY-(0,w.default)(this._canvas).offset().top;p=Math.max(Math.min(255-~~(255*p/127),255),0);this._greyscale?this.color.setGreyscale(p):(e=Math.max(Math.min(~~(255*e/127),255),0),this.color.setHsv(this.color.getHue(),e,p));this.paint();this._controller.setCurColor(this.color)}},{key:"_endDrag",value:function(p){this._canvas.releasePointerCapture(p.pointerId);
this._capturedMouse=!1;this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(p){this._capturedMouse||(this._capturedMouse=!0,this._canvas.setPointerCapture(p.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(p)}},{key:"setHue",value:function(p){this.color.getHue()!=
p&&(this.color.setHue(p),this._controller.setCurColor(this.color))}},{key:"getElement",value:function(){return this._canvas}}]);return f}();K.exports=D.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:296}],30:[function(g,K,D){function z(h){return h&&h.__esModule?h:{default:h}}function k(h){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&
c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},k(h)}function v(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(h,d(p.key),p)}}function E(h,c,f){c&&v(h.prototype,c);f&&v(h,f);Object.defineProperty(h,"prototype",{writable:!1});return h}function b(h,c,f){c=d(c);c in h?Object.defineProperty(h,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[c]=f;return h}function d(h){a:if("object"===
k(h)&&null!==h){var c=h[Symbol.toPrimitive];if(void 0!==c){h=c.call(h,"string");if("object"!==k(h))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}h=String(h)}return"symbol"===k(h)?h:String(h)}function w(h){for(var c=new m.default(65535),f=0,p=h.data,e=0;e<h.height;e++){c.setHue(359*e/h.height);for(var n=0;n<h.width;n++)p[f+q.default.RED_BYTE_OFFSET]=c.rgb>>16&255,p[f+q.default.GREEN_BYTE_OFFSET]=c.rgb>>8&255,p[f+q.default.BLUE_BYTE_OFFSET]=c.rgb&255,p[f+q.default.ALPHA_BYTE_OFFSET]=
255,f+=q.default.BYTES_PER_PIXEL}}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var a=z(g("jquery")),m=z(g("../util/CPColor.js")),q=z(g("../engine/CPColorBmp.js")),r=g("./CPGUIUtils.js");D.default=function(){function h(c,f,p){var e=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");b(this,"hue",void 0);b(this,"selecter",void 0);b(this,"_canvas",void 0);b(this,"_canvasContext",void 0);b(this,"_imageData",void 0);b(this,"_capturedMouse",!1);this.selecter=
f;this.hue=p||0;var n=document.createElement("canvas");this._canvas=n;c.on("colorChange",function(u){e.setHue(u.getHue())});c.on("colorModeChange",function(u){n.style.display="greyscale"==u?"none":"block"});n.setAttribute("touch-action","none");n.addEventListener("pointerdown",function(u){return e._startDrag(u)});n.width=24;n.height=128;n.className="chickenpaint-colorpicker-slider";this._canvasContext=n.getContext("2d");this._imageData=this._canvasContext.createImageData(24,128);this._canvasContext.getImageData(0,
0,1,1);this._handleEndDrag=this._endDrag.bind(this);this._handleMousePickColor=this._mousePickColor.bind(this);w(this._imageData);this.paint()}E(h,[{key:"paint",value:function(){this._canvasContext.putImageData(this._imageData,0,0);var c=128*this.hue/360;(0,r.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5;this._canvasContext.beginPath();this._canvasContext.moveTo(0,c);this._canvasContext.lineTo(24,c);this._canvasContext.stroke();this._canvasContext.globalCompositeOperation=
"source-over"}},{key:"_mousePickColor",value:function(c){c=~~(360*(c.pageY-(0,a.default)(this._canvas).offset().top)/128);this.hue=Math.max(0,Math.min(359,c));this.paint();this.selecter&&this.selecter.setHue(this.hue)}},{key:"_endDrag",value:function(c){this._canvas.releasePointerCapture(c.pointerId);this._capturedMouse=!1;this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(c){this._capturedMouse||
(this._capturedMouse=!0,this._canvas.setPointerCapture(c.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(c)}},{key:"getElement",value:function(){return this._canvas}},{key:"setHue",value:function(c){this.hue=c;this.paint()}}]);return h}();K.exports=D.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:296}],31:[function(g,K,D){function z(a){return a&&
a.__esModule?a:{default:a}}function k(a,m,q){function r(){for(var A=e.style,C=Number(f.getRgb()).toString(16);6>C.length;)C="0"+C;A.backgroundColor="#"+C}function h(){var A=document.createElement("div"),C=document.createElement("div"),B=new d.default(c,f),I=new w.default(c,B,f.getHue()),N=new b.default(0,255);A.className="chickenpaint-color-pick-panel";C.className="chickenpaint-colorpicker-top";C.appendChild(B.getElement());C.appendChild(I.getElement());A.appendChild(C);N.value=p;N.title=function(y){return(0,v._)("Opacity: ")+
y};N.on("valueChange",function(y){c.setAlpha(y)});A.appendChild(N.getElement());setTimeout(function(){N.resize()},0);return A}var c=this,f=new E.default(0),p=255,e=document.createElement("div");this.getElement=function(){return e};this.setColor=function(A){f.isEqual(A)||(f.copyFrom(A),r(),this.emitEvent("colorChange",[f]))};this.setAlpha=function(A){A!=p&&(p=A,r(),this.emitEvent("alphaChange",[p]))};this.getColorRgb=function(){return f.getRgb()};this.getAlpha=function(){return p};this.setCurColor=
this.setColor;e.className="chickenpaint-color-pick-swatch";a&&f.copyFrom(a);m&&(p=m);var n=new bootstrap.Popover(e,{html:!0,content:function(){window.addEventListener("mousedown",u);return h()},trigger:"manual",placement:"bottom",container:q||!1}),u=function(A){var C=A.target;C=C.closest(".popover-body")||C.classList.contains("chickenpaint-color-pick-panel")||C.classList.contains("chickenpaint-colorpicker-select")||C.classList.contains("chickenpaint-colorpicker-slider");A.preventDefault();C||n.hide()};
e.addEventListener("click",function(A){A.preventDefault();n.toggle()});e.addEventListener("hidden.bs.popover",function(){window.removeEventListener("mousedown",u)});r()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;z(g("jquery"));var v=g("../languages/lang.js"),E=z(g("../util/CPColor.js")),b=z(g("./CPSlider.js")),d=z(g("./CPColorSelect.js")),w=z(g("./CPColorSlider.js"));g=z(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;K.exports=
D.default},{"../languages/lang.js":54,"../util/CPColor.js":58,"./CPColorSelect.js":29,"./CPColorSlider.js":30,"./CPSlider.js":44,jquery:296,"wolfy87-eventemitter":314}],32:[function(g,K,D){function z(d){return d&&d.__esModule?d:{default:d}}function k(d,w){var a=(0,E.default)('<div class="modal fade" tabindex="-1" role="dialog">\n\t            <div class="modal-dialog">\n\t                <div class="modal-content">\n\t                    <div class="modal-header">\n\t                        <h5 class="modal-title">'.concat((0,b._)("Complete transform"),
'</h5>\n\t                        <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n\t                        </button>\n\t                    </div>\n\t                    <div class="modal-body">\n\t                        <p>\n\t\t\t\t\t\t\t').concat((0,b._)("You need to finish transforming this layer before you can do that. What would you like to do with the transform?"),'\n\t\t\t\t\t\t\t</p>\n\t                    </div>\n\t                    <div class="modal-footer">\n\t                        <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,b._)("Cancel"),
'</button>\n\t                        <button type="button" class="btn btn-light chickenpaint-reject-transform" data-bs-dismiss="modal">').concat((0,b._)("Undo transform"),'</button>\n\t                        <button type="button" class="btn btn-primary chickenpaint-accept-transform" data-bs-dismiss="modal">').concat((0,b._)("Apply transform"),"</button>\n\t                    </div>\n\t                </div>\n\t            </div>\n\t        </div>\n\t    ")),m=this,q=(0,E.default)(".chickenpaint-accept-transform",
a),r=(0,E.default)(".chickenpaint-reject-transform",a);q.on("click",function(c){w.actionPerformed({action:"CPTransformAccept"});m.emitEvent("accept")});r.on("click",function(c){w.actionPerformed({action:"CPTransformReject"});m.emitEvent("reject")});var h=new bootstrap.Modal(a[0]);this.show=function(){h.show()};d.addEventListener("keydown",function p(f){"Enter"===f.key&&(h.hide(),w.actionPerformed({action:"CPTransformAccept"}),m.emitEvent("accept"),d.removeEventListener("keydown",p))});d.appendChild(a[0])}
Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=z(g("wolfy87-eventemitter")),E=z(g("jquery")),b=g("../languages/lang.js");k.prototype=Object.create(v.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang.js":54,jquery:296,"wolfy87-eventemitter":314}],33:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.createCheckerboardPattern=function(z){for(var k=document.createElement("canvas"),v=k.getContext("2d"),E=v.createImageData(64,64),
b=E.data,d=0,w=0;64>w;w++)for(var a=0;64>a;a++)0!=(a&8)^0!=(w&8)?(b[d++]=255,b[d++]=255,b[d++]=255):(b[d++]=204,b[d++]=204,b[d++]=204),b[d++]=255;k.width=64;k.height=64;v.putImageData(E,0,0);return z.createPattern(k,"repeat")};D.setContrastingDrawStyle=function(z,k){k+="Style";z.globalCompositeOperation="exclusion";"exclusion"==z.globalCompositeOperation?z[k]="white":(z.globalCompositeOperation="difference",z[k]="#888","difference"!=z.globalCompositeOperation&&(z[k]="black"))}},{}],34:[function(g,
K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(v,E){var b=(0,z.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,k._)("Grid options"),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Grid size"),
'</label>\n                                    <input type="number" class="form-control chickenpaint-grid-size" value="" autofocus>\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,k._)("Cancel"),'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-grid-settings" data-bs-dismiss="modal">').concat((0,k._)("Ok"),
"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),d=(0,z.default)(".chickenpaint-grid-size",b),w=(0,z.default)(".chickenpaint-apply-grid-settings",b);this.show=function(){(new bootstrap.Modal(b[0])).show()};d.val(E.getGridSize());w.on("click",function(a){a=parseInt(d.val(),10);E.setGridSize(a);bootstrap.Modal.getInstance(b[0]).hide()});b.on("shown.bs.modal",function(){d.trigger("focus")});b.on("keydown",function(a){"Enter"===
a.key&&(a.preventDefault(),w.trigger("click"))});v.appendChild(b[0])};var z=function(v){return v&&v.__esModule?v:{default:v}}(g("jquery")),k=g("../languages/lang.js");K.exports=D.default},{"../languages/lang.js":54,jquery:296}],35:[function(g,K,D){function z(n){return n&&n.__esModule?n:{default:n}}function k(n,u){var A="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!A){if(Array.isArray(n)||(A=v(n))||u&&n&&"number"===typeof n.length){A&&(n=A);var C=0;u=function(){};return{s:u,
n:function(){return C>=n.length?{done:!0}:{done:!1,value:n[C++]}},e:function(y){throw y;},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var B=!0,I=!1,N;return{s:function(){A=A.call(n)},n:function(){var y=A.next();B=y.done;return y},e:function(y){I=!0;N=y},f:function(){try{B||null==A.return||A.return()}finally{if(I)throw N;}}}}function v(n,u){if(n){if("string"===typeof n)return E(n,
u);var A=Object.prototype.toString.call(n).slice(8,-1);"Object"===A&&n.constructor&&(A=n.constructor.name);if("Map"===A||"Set"===A)return Array.from(n);if("Arguments"===A||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return E(n,u)}}function E(n,u){if(null==u||u>n.length)u=n.length;for(var A=0,C=Array(u);A<u;A++)C[A]=n[A];return C}function b(n){n.preventDefault();n.stopPropagation()}function d(n){var u=document.createElement("span");u.className="fa "+n;return u}function w(n){var u=document.createElement("span");
u.className="chickenpaint-icon chickenpaint-icon-"+n;return u}function a(n,u){var A=document.createElement("div"),C=document.createElement("label");A.className="form-check";n.className="form-check-input";C.className="form-check-label";C.setAttribute("for",n.id);C.appendChild(n);C.appendChild(document.createTextNode(u));A.appendChild(n);A.appendChild(C);return A}function m(n){function u(){var ja=N.getActiveLayer();ja={"image-layer":ja instanceof p.default,"layer-group":ja instanceof f.default,"clipping-mask":ja instanceof
p.default&&ja.clip,"no-clipping-mask":ja instanceof p.default&&!ja.clip,"no-clipping-mask-or-is-group":!(ja instanceof p.default)||!ja.clip,mask:ja&&null!==ja.mask,"no-mask":ja&&null===ja.mask,"mask-enabled":ja&&null!==ja.mask&&ja.maskVisible,"mask-disabled":ja&&null!==ja.mask&&!ja.maskVisible};for(var ua=0,ha=["mask","no-mask","clipping-mask","no-clipping-mask-or-is-group"];ua<ha.length;ua++){var La=ha[ua],Ya=ya.getElementsByClassName("chickenpaint-action-require-"+La);Ya=k(Ya);var Xa;try{for(Ya.s();!(Xa=
Ya.n()).done;)Xa.value.style.display=ja[La]?"inline-block":"none"}catch(T){Ya.e(T)}finally{Ya.f()}}ya.querySelectorAll("[data-action]").forEach(function(T){var Z=T.getAttribute("data-action");T.classList.toggle("disabled",!n.isActionAllowed(Z))})}function A(){var ja=N.getActiveLayer();ja.getAlpha()!=J.value&&J.setValue(ja.getAlpha());for(var ua=N.getActiveLayer();R.lastChild;)R.removeChild(R.lastChild);for(var ha=h.default.LM_FIRST;ha<=h.default.LM_LAST;ha++)if(ha!=h.default.LM_MULTIPLY2&&(ha==ua.blendMode||
ha===h.default.LM_PASSTHROUGH&&ua instanceof f.default||ha<=h.default.LM_LAST_CHIBIPAINT)){var La=document.createElement("option");La.appendChild(document.createTextNode((0,e._)(h.default.BLEND_MODE_DISPLAY_NAMES[ha])));La.value=ha!==h.default.LM_MULTIPLY||ua.blendMode===ha||ua.useLegacyMultiply?ha:h.default.LM_MULTIPLY2;R.appendChild(La)}ja.getBlendMode()!=parseInt(R.value,10)&&(R.value=ja.getBlendMode());ja.getLockAlpha()!=qa.checked&&(qa.checked=ja.getLockAlpha());u()}function C(){N=this;O.resize();
A()}var B=this;r.default.call(this,n,"layers","Layers",{resizeHorz:!0,resizeVert:!0});var I=this,N=n.getArtwork(),y=null,G=this.getBodyElement(),H=this.getElement(),O=new function(){function ja(pa){var Ca=(0,q.default)(".chickenpaint-layer",Da);return Ca.get(Ca.length-1-pa)}function ua(pa){pa=(0,q.default)(pa).closest(".chickenpaint-layer");if(pa.length){var Ca=(0,q.default)(".chickenpaint-layer",Da);return Ca.length-1-Ca.index(pa)}return-1}function ha(pa,Ca){var Ka=(0,q.default)(".chickenpaint-layer",
Da);pa={layer:y[y.length-1],displayIndex:y.length-1,direction:"over"};for(var Ua=0;Ua<Ka.length;Ua++){var lb=Ka[Ka.length-1-Ua].getBoundingClientRect();if(0===Ua&&Ca>lb.bottom){pa=N.getLayersRoot().layers[0];pa={layer:pa,displayIndex:y.indexOf(pa),direction:"under"};break}else if(Ca>=lb.top){Ka=y[Ua];var ob=lb.bottom-lb.top;pa={layer:Ka,displayIndex:Ua};Ka instanceof f.default?Ca>=lb.top+.75*ob?Ka.expanded&&0<Ka.layers.length?(pa.layer=Ka.layers[Ka.layers.length-1],pa.displayIndex--,pa.direction=
"over"):pa.direction="under":Ca>=lb.top+.25*ob?Ka.expanded&&0<Ka.layers.length?(pa.layer=Ka.layers[Ka.layers.length-1],pa.displayIndex--,pa.direction="over"):pa.direction="inside":pa.direction="over":pa.direction=Ca>=lb.top+.5*ob?"under":"over";break}}return pa.layer.parent==ra.layer.parent&&("over"==pa.direction||"under"==pa.direction)&&(Ca=pa.layer.parent,Ua=Ca.indexOf(pa.layer),"over"==pa.direction&&Ca.layers[Ua+1]==ra.layer||"under"==pa.direction&&Ca.layers[Ua-1]==ra.layer||pa.layer==ra.layer)?
null:ra.layer instanceof f.default&&(pa.layer==ra.layer&&"inside"==pa.direction||pa.layer.hasAncestor(ra.layer))?null:pa}function La(){if(2===ra.state){var pa=H.getBoundingClientRect(),Ca=!0,Ka=!0;ra.dropTarget=ha(ra.dragX,ra.dragY);if(ra.dropTarget){var Ua=ja(ra.dropTarget.displayIndex);switch(ra.dropTarget.direction){case "over":case "under":Da.appendChild(ra.dropBetweenMarkerElem);Ca=ra.dropTarget.layer.getDepth()-1;var lb;Ua=Ua.getBoundingClientRect();if("under"==ra.dropTarget.direction&&ra.dropTarget.layer instanceof
f.default&&ra.dropTarget.layer.expanded){for(lb=ra.dropTarget.displayIndex-1;0<=lb&&y[lb].hasAncestor(ra.dropTarget.layer);lb--);lb=ja(lb+1).getBoundingClientRect().bottom}else lb=Ua.bottom;Ca=Ua.left-pa.left+(0<Ca?26+16*Ca:0);ra.dropBetweenMarkerElem.style.left=Ca+"px";ra.dropBetweenMarkerElem.style.width=Ua.right-pa.left-Ca+"px";ra.dropBetweenMarkerElem.style.top=("over"==ra.dropTarget.direction?Ua.top-1:lb+1)-pa.top+"px";(0,q.default)(".chickenpaint-layer-drop-target",Da).removeClass("chickenpaint-layer-drop-target");
Ca=!1;break;case "inside":var ob=(0,q.default)(".chickenpaint-layer",Da);ob.each(function(Ab){(0,q.default)(this).toggleClass("chickenpaint-layer-drop-target",ob.length-1-Ab==ra.dropTarget.displayIndex)});Ka=!1}}Ka&&(0,q.default)(".chickenpaint-layer-drop-target",Da).removeClass("chickenpaint-layer-drop-target");Ca&&(0,q.default)(ra.dropBetweenMarkerElem).remove();ra.frameElem.style.top=ra.dragY-pa.top-parseInt(ra.frameElem.style.height,10)/2+"px"}else(0,q.default)(ra.dropBetweenMarkerElem).remove(),
(0,q.default)(ra.frameElem).remove()}function Ya(pa){var Ca=pa.getImageThumbnail().getAsCanvas(db);Ca.title=(0,e._)("Image");Ca.className="chickenpaint-layer-thumbnail chickenpaint-layer-image-thumbnail";Ca.style.maxWidth=Ca.width/Ca.height*25+"px";pa!=N.getActiveLayer()||N.isEditingMask()||(Ca.className+=" active");return Ca}function Xa(pa){var Ca=pa.getMaskThumbnail().getAsCanvas(db);Ca.title=(0,e._)("Layer mask");Ca.className="chickenpaint-layer-thumbnail chickenpaint-layer-mask-thumbnail";Ca.style.maxWidth=
Ca.width/Ca.height*25+"px";pa==N.getActiveLayer()&&N.isEditingMask()&&(Ca.className+=" active");pa.maskVisible||(Ca.className+=" disabled",pa=Ca.getContext("2d"),pa.strokeStyle="red",pa.lineWidth=3,pa.moveTo(5,5),pa.lineTo(Ca.width-5,Ca.height-5),pa.moveTo(Ca.width-5,5),pa.lineTo(5,Ca.height-5),pa.stroke());return Ca}function T(pa,Ca){var Ka=document.createElement("div"),Ua=document.createElement("div"),lb=document.createElement("div"),ob=document.createElement("div"),Ab=document.createElement("div"),
Pa=document.createElement("div"),Qa=document.createElement("div");Ka.className="chickenpaint-layer list-group-item";Ca==N.getActiveLayer()&&(Ka.className+=" active");Ua.className="chickenpaint-layer-eye";Ca.ancestorsAreVisible()||(Ua.className+=" chickenpaint-layer-eye-hidden-ancestors");Ua.style.marginRight=2+16*(Ca.getDepth()-1)+"px";Ca.visible?(Ka.className+=" chickenpaint-layer-visible",Ua.appendChild(d("fa-eye"))):(Ka.className+=" chickenpaint-layer-hidden",Ua.appendChild(d("fa-eye-slash")));
Ka.appendChild(Ua);lb.className="chickenpaint-layer-description";Ca instanceof p.default?(Ca.clip&&(Ka.className+=" chickenpaint-layer-clipped",ob.appendChild(d("fa-level-down-alt fa-flip-horizontal"))),Ca.lockAlpha&&(Ua=w("lock-alpha"),Ua.title=(0,e._)("Transparency locked"),Pa.appendChild(Ua))):Ca instanceof f.default&&(Ka.className+=" chickenpaint-layer-group",Ca.expanded?(Ka.className+=" chickenpaint-layer-group-expanded",ob.appendChild(d("fa-folder-open chickenpaint-layer-group-toggle"))):(Ka.className+=
" chickenpaint-layer-group-collapsed",ob.appendChild(d("fa-folder chickenpaint-layer-group-toggle"))));ob.childNodes.length&&(ob.className="chickenpaint-layer-icons",Ka.appendChild(ob));try{Ca instanceof p.default&&Ka.appendChild(Ya(Ca)),Ca.mask&&Ka.appendChild(Xa(Ca))}catch(Ia){console.log("Failed to create layer thumb")}ob=Ca.name&&0<Ca.name.length?Ca.name:"(unnamed "+(Ca instanceof f.default?"group":"layer")+")";Ab.innerText=ob;Ab.setAttribute("title",ob);Ab.className="chickenpaint-layer-name";
Qa.innerText=(0,e._)(h.default.BLEND_MODE_DISPLAY_NAMES[Ca.blendMode])+": "+Ca.alpha+"%";Qa.className="chickenpaint-layer-blend";lb.appendChild(Ab);lb.appendChild(Qa);Ka.appendChild(lb);Pa.className="chickenpaint-layer-status";Ka.appendChild(Pa);Ka.setAttribute("data-display-index",""+pa);return Ka}function Z(pa){if(-1<pa){var Ca=y[pa];pa=ja(pa);Ca&&pa&&ea.show(Ca,pa)}}function sa(pa){-1!=ua(pa.target)&&(Z(ua(pa.target)),pa.preventDefault())}function Ea(pa){switch(ra.state){case 2:(0,q.default)(ra.layerElem).removeClass("chickenpaint-layer-dragging");
ra.dropTarget&&("inside"==ra.dropTarget.direction?n.actionPerformed({action:"CPRelocateLayer",layer:ra.layer,toGroup:ra.dropTarget.layer,toIndex:ra.dropTarget.layer.layers.length}):n.actionPerformed({action:"CPRelocateLayer",layer:ra.layer,toGroup:ra.dropTarget.layer.parent,toIndex:ra.dropTarget.layer.parent.indexOf(ra.dropTarget.layer)+("over"==ra.dropTarget.direction?1:0)}));ra.dropTarget=null;ra.state=0;La();break;default:ra.state=0}qb&&(clearTimeout(qb),qb=null);Da.releasePointerCapture(pa.pointerId);
Da.removeEventListener("pointermove",wb);Da.removeEventListener("pointerup",Ea)}function Ra(){ra.state=2;ra.frameElem=document.createElement("div");ra.frameElem.className="chickenpaint-layer-drag-frame";ra.frameElem.style.width=(0,q.default)(ra.layerElem).outerWidth(!1)+"px";ra.frameElem.style.height=(0,q.default)(ra.layerElem).outerHeight(!1)+"px";ra.dropBetweenMarkerElem=document.createElement("div");ra.dropBetweenMarkerElem.className="chickenpaint-layer-drop-between-mark";ra.layerElem.className+=
" chickenpaint-layer-dragging";Da.appendChild(ra.frameElem)}function wb(pa){pa=pa.clientY;switch(ra.state){case 3:if(5<Math.abs(pa-ra.dragY))ra.state=4;else break;case 4:Ga.scrollTop=ra.initialScrollTop+ra.dragY-pa;break;case 1:if(5<Math.abs(pa-ra.dragY))Ra();else break;case 2:ra.dragY=pa,La()}}function Ib(pa,Ca,Ka){try{Ka?(0,q.default)(".chickenpaint-layer-mask-thumbnail",pa).replaceWith(Xa(Ca)):(0,q.default)(".chickenpaint-layer-image-thumbnail",pa).replaceWith(Ya(Ca))}catch(Ua){}}var ra={state:0,
layer:null,layerElem:null,dragX:0,dragY:0,initialScrollTop:0,dropTarget:null,dropBetweenMarkerElem:null,frameElem:null},za=document.createElement("div"),Da=document.createElement("div"),Ga=Da,db=0,tb=!1,qb=null;this.buildLayers=function(){y=N.getLayersRoot().getLinearizedLayerList(!0);var pa=y.map(function(Ua,lb){return T(lb,Ua)}),Ca=document.createDocumentFragment();(0,q.default)(Da).empty();for(var Ka=pa.length-1;0<=Ka;Ka--)Ca.appendChild(pa[Ka]);Da.appendChild(Ca);La()};this.layerChanged=function(pa){var Ca=
y.indexOf(pa),Ka=(0,q.default)(ja(Ca));0===Ka.length||pa instanceof f.default&&(pa.expanded!=(0,q.default)(Ka).hasClass("chickenpaint-layer-group-expanded")||pa.visible!=(0,q.default)(Ka).hasClass("chickenpaint-layer-visible"))?this.buildLayers():Ka.replaceWith(T(Ca,pa))};this.setRotation90=function(pa){if(db!=pa)for(db=pa,pa=0;pa<y.length;pa++){var Ca=y[pa],Ka=(0,q.default)(ja(pa));0<Ka.length&&(Ib(Ka,Ca,!1),Ca.mask&&Ib(Ka,Ca,!0))}};this.layerImageThumbChanged=function(pa){var Ca=y.indexOf(pa);Ca=
(0,q.default)(ja(Ca));0<Ca.length&&Ib(Ca,pa,!1)};this.layerMaskThumbChanged=function(pa){var Ca=y.indexOf(pa);Ca=(0,q.default)(ja(Ca));0<Ca.length&&(pa.mask?Ib(Ca,pa,!0):(0,q.default)(".chickenpaint-layer-mask-thumbnail",Ca).remove())};this.activeLayerChanged=function(pa,Ca){(0,q.default)(".active",Da).removeClass("active");pa=(0,q.default)(ja(y.indexOf(pa)));pa.addClass("active");(0,q.default)(".chickenpaint-layer-image-thumbnail",pa).toggleClass("active",!Ca);(0,q.default)(".chickenpaint-layer-mask-thumbnail",
pa).toggleClass("active",Ca)};this.resize=function(){I.dismissNotification();this.buildLayers()};this.getElement=function(){return za};this.revealLayer=function(pa){pa=ja(pa);var Ca=pa.getBoundingClientRect(),Ka=Da.getBoundingClientRect();Ga.scrollTop=Math.max(Math.min(Math.max(Ga.scrollTop,Ga.scrollTop+Ca.bottom-Ka.bottom),Ga.scrollTop+Ca.top-Ka.top),0);return pa};H.id="chickenpaint-layer-pop";za.className="chickenpaint-layers-widget well";za.addEventListener("contextmenu",function(pa){return pa.preventDefault()},
!0);Da.className="list-group";Da.addEventListener("dblclick",function(pa){0===pa.button&&0<(0,q.default)(pa.target).closest(".chickenpaint-layer-description").length&&0===(0,q.default)(pa.target).closest("input").length&&(Z(ua(pa.target)),pa.preventDefault())});Da.addEventListener("pointerdown",function(pa){var Ca=(0,q.default)(pa.target).closest(".chickenpaint-layer")[0];Ca=ua(Ca);if(-1!=Ca){var Ka=y[Ca];if(0==pa.button&&(0,q.default)(pa.target).closest(".chickenpaint-layer-eye").length)n.actionPerformed({action:"CPSetLayerVisibility",
layer:Ka,visible:!Ka.visible});else if(0==pa.button&&Ka instanceof f.default&&(0,q.default)(pa.target).closest(".chickenpaint-layer-group-toggle").length)n.actionPerformed({action:"CPExpandLayerGroup",group:Ka,expand:!Ka.expanded});else{var Ua=N.getActiveLayer()!=Ka;tb=0<(0,q.default)(pa.target).closest(".chickenpaint-layer-mask-thumbnail").length||Ka instanceof f.default&&null!==Ka.mask&&Ua;if(0==pa.button&&pa.shiftKey&&!pa.ctrlKey&&tb)n.actionPerformed({action:"CPSetMaskVisible",layer:Ka,visible:!Ka.maskVisible});
else{var lb=0==pa.button||Ua?tb:N.isEditingMask();var ob=N.isEditingMask()!=lb;(Ua||ob)&&n.actionPerformed({action:"CPSetActiveLayer",layer:Ka,mask:lb});lb&&pa.altKey?n.actionPerformed({action:"CPToggleMaskView"}):lb&&!pa.shiftKey&&pa.ctrlKey?n.actionPerformed({action:"CPApplyLayerMask"}):lb&&pa.shiftKey&&pa.ctrlKey?n.actionPerformed({action:"CPRemoveLayerMask"}):0==pa.button?("pen"===pa.pointerType||"touch"===pa.pointerType?(ra.state=3,ra.initialScrollTop=Ga.scrollTop,qb&&clearTimeout(qb),qb=setTimeout(function(){3===
ra.state&&(Ra(),ra.dragY=pa.clientY,La())},800)):ra.state=1,ra.dropTarget=null,ra.layer=Ka,ra.layerElem=ja(Ca),ra.dragX=pa.clientX,ra.dragY=pa.clientY,Da.setPointerCapture(pa.pointerId),Da.addEventListener("pointermove",wb),Da.addEventListener("pointerup",Ea)):2!=pa.button||Ua||(pa.preventDefault(),sa(pa))}}}});Da.setAttribute("touch-action","none");for(var Oa=0,ta=["ontouchstart","ontouchmove","ontouchend","ontouchcancel"];Oa<ta.length;Oa++)Da.addEventListener(ta[Oa],b);za.appendChild(Da)},J=new c.default(0,
100),R=document.createElement("select"),ea=new function(){var ja=null,ua="",ha=document.createElement("input"),La=this;this.hide=function(){ja=null;var Ya=(0,q.default)(ha).parent();Ya&&((0,q.default)(ha).remove(),Ya.text(ua))};this.renameAndHide=function(){ja&&ja.name!=ha.value&&n.actionPerformed({action:"CPSetLayerName",layer:ja,name:ha.value});this.hide()};this.show=function(Ya,Xa){ja=Ya;ua=ja.name;ha.value=ua;(Ya=Xa.querySelector(".chickenpaint-layer-name"))&&Ya.parentNode&&(Xa=Ya.firstChild)&&
Xa.nodeType===Node.TEXT_NODE&&(Ya.removeChild(Xa),Ya.appendChild(ha));ha.select()};ha.type="text";ha.className="chickenpaint-layer-rename form-control input-sm";ha.addEventListener("keydown",function(Ya){Ya.stopPropagation()});ha.addEventListener("keydown",function(Ya){"Enter"===Ya.key&&La.renameAndHide();Ya.stopPropagation()});ha.addEventListener("keyup",function(Ya){"Escape"===Ya.key&&La.hide();Ya.stopPropagation()});ha.addEventListener("blur",function(Ya){ja&&La.renameAndHide()})},Y=document.createElement("input"),
qa=document.createElement("input"),la=!1,Q=this.setSize,ka=this.setWidth,oa=this.setHeight;this.setSize=function(ja,ua){Q.call(this,ja,ua);this.dismissNotification();J.resize()};this.setWidth=function(ja){ka.call(this,ja);J.resize();O.resize()};this.setHeight=function(ja){oa.call(this,ja);O.resize()};this.setRotation90=function(ja){O.setRotation90(ja)};this.dismissNotification=function(){(0,q.default)(".chickenpaint-layer[aria-describedby],.chickenpaint-slider[aria-describedby]",G).each(function(ja,
ua){ua=(0,q.default)(ua);(ja=bootstrap.Popover.getInstance(ua[0]))&&ja.dispose()});la&&(clearTimeout(la),la=!1)};this.showNotification=function(ja,ua,ha){var La=y.indexOf(ja);ja=N.getActiveLayer()==ja&&"opacity"==ha?J.getElement():O.revealLayer(La);B.dismissNotification();(new bootstrap.Popover(ja,{html:!1,content:ua,placement:"left",trigger:"manual",fallbackPlacement:[],boundary:"window",container:I.getElement()})).show();la=setTimeout(function(){la=!1;B.dismissNotification()},Math.max(Math.round(70*
ua.length),3E3))};R.className="form-control form-control-sm";R.title=(0,e._)("Layer blending mode");R.addEventListener("change",function(ja){n.actionPerformed({action:"CPSetLayerBlendMode",blendMode:parseInt(R.value,10)})});G.appendChild(R);J.title=function(ja){return(0,e._)("Opacity")+": "+ja+"%"};J.on("valueChange",function(ja){n.actionPerformed({action:"CPSetLayerAlpha",alpha:ja})});G.appendChild(J.getElement());Y.id="chickenpaint-chk-sample-all-layers";Y.type="checkbox";Y.addEventListener("click",
function(ja){N.setSampleAllLayers(Y.checked)});G.appendChild(a(Y,(0,e._)("Sample all layers")));qa.id="chickenpaint-chk-lock-alpha";qa.type="checkbox";qa.addEventListener("click",function(ja){n.actionPerformed({action:"CPSetLayerLockAlpha",lock:qa.checked})});G.appendChild(a(qa,(0,e._)("Lock transparency")));G.appendChild(O.getElement());var ya=function(){var ja=[{title:"Add layer",icon:d("fa-file"),action:"CPAddLayer"},{title:"Merge down",icon:d("fa-arrow-down"),action:"CPLayerMergeDown"},{title:"Add layer mask",
icon:w("mask"),action:"CPAddLayerMask",require:["no-mask"]},{title:"Apply mask",icon:w("mask"),action:"CPApplyLayerMask",require:["mask"]},{title:"Clip to the layer below",icon:d("fa-level-down-alt fa-flip-horizontal"),action:"CPCreateClippingMask",require:"no-clipping-mask-or-is-group"},{title:"Unclip from the layer below",icon:d("fa-level-down-alt fa-flip-horizontal"),action:"CPReleaseClippingMask",require:"clipping-mask"},{title:"Add group",icon:d("fa-folder"),action:"CPAddGroup"},{title:"Merge group",
icon:d("fa-compress-arrows-alt"),action:"CPGroupMerge"},{title:"Delete layer",icon:d("fa-trash"),action:"CPRemoveLayer"}],ua=document.createElement("ul");ua.className="chickenpaint-layer-buttons list-unstyled";for(var ha=function(){var Xa=Ya[La],T=document.createElement("li");T.setAttribute("data-action",Xa.action);T.className="chickenpaint-small-toolbar-button "+(Xa.require?"chickenpaint-action-require-"+Xa.require:"");T.title=(0,e._)(Xa.title);T.appendChild(Xa.icon);T.addEventListener("click",function(){n.actionPerformed({action:Xa.action})});
ua.appendChild(T)},La=0,Ya=ja;La<Ya.length;La++)ha();return ua}();G.appendChild(ya);N.on("changeActiveLayer",function(ja,ua,ha){O.activeLayerChanged(ua,ha);A()});N.on("changeLayer",function(ja){N=this;I.dismissNotification();O.layerChanged(ja);A()});N.on("changeStructure",C);N.on("changeLayerMaskThumb",function(ja){N=this;O.layerMaskThumbChanged(ja)});N.on("changeLayerImageThumb",function(ja){N=this;O.layerImageThumbChanged(ja)});n.on("layerNotification",this.showNotification.bind(this));C.call(N)}
Object.defineProperty(D,"__esModule",{value:!0});D.default=m;var q=z(g("jquery")),r=z(g("./CPPalette.js")),h=z(g("../engine/CPBlend.js")),c=z(g("./CPSlider.js")),f=z(g("../engine/CPLayerGroup.js"));z(g("../engine/CPLayer.js"));var p=z(g("../engine/CPImageLayer.js")),e=g("../languages/lang.js");m.prototype=Object.create(r.default.prototype);m.prototype.constructor=m;K.exports=D.default},{"../engine/CPBlend.js":5,"../engine/CPImageLayer.js":15,"../engine/CPLayer.js":16,"../engine/CPLayerGroup.js":17,
"../languages/lang.js":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296}],36:[function(g,K,D){function z(w){return w&&w.__esModule?w:{default:w}}function k(w,a){var m=this,q=document.createElement("div"),r=new E.default(w),h=new b.default(w),c=!1,f=this;this.togglePalettes=function(){h.togglePalettes()};this.arrangePalettes=function(){setTimeout(h.arrangePalettes.bind(h),0)};this.constrainPalettes=function(){h.constrainPalettes()};this.showPalette=function(e,n){h.showPaletteByName(e,n)};this.getSwatches=
function(){return h.palettes.swatches.getSwatches()};this.setSwatches=function(e){h.palettes.swatches.setSwatches(e)};this.getPaletteManager=function(){return h};this.setRotation90=function(e){r.setRotation(e*Math.PI/2);h.palettes.layers.setRotation90(e)};this.setFullScreenMode=function(e){c!==e&&(c=e,f.resize(),f.arrangePalettes())};this.resize=function(){var e=(0,v.default)(window).height(),n=(0,v.default)(p.getElement()).outerHeight();r.resize(c?e-n:Math.min(Math.max(e-n-65,500),850),!1);f.constrainPalettes()};
var p=new d.default(w,this);a.appendChild(p.getElement());q.className="chickenpaint-main-section";q.appendChild(r.getElement());q.appendChild(h.getElement());a.appendChild(q);r.on("canvasRotated90",function(e){h.palettes.layers.setRotation90(e)});window.addEventListener("resize",this.resize.bind(this));w.on("fullScreen",function(e){return m.setFullScreenMode(e)});w.on("toolbarStyleChange",function(e){(0,v.default)(a).toggleClass("chickenpaint-toolbar-style-old","old"===e)});w.on("unsavedChanges",
function(e){(0,v.default)(a).toggleClass("chickenpaint-unsaved",e)});setTimeout(this.resize.bind(this),0)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=z(g("jquery")),E=z(g("./CPCanvas.js")),b=z(g("./CPPaletteManager.js")),d=z(g("./CPMainMenu.js"));g=z(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"./CPCanvas.js":26,"./CPMainMenu.js":37,"./CPPaletteManager.js":40,jquery:296,"wolfy87-eventemitter":314}],
37:[function(g,K,D){function z(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(d,w){function a(p){var e=p.data("action"),n=p.data("checkbox");d.isActionAllowed(e)&&(n?(p.toggleClass("selected"),p=p.hasClass("selected")):p=!1,d.actionPerformed({action:e,checkbox:n,selected:p}))}function m(p){p=p.toUpperCase();p=p.replace(/(,.+)$/,"");p=p.replace("CTRL+=","CTRL++");p=p.replace("\u2318+=","\u2318++");return p=h?p.replace(/([^+])\+/g,"$1"):p.replace(/([^+])\+/g,
"$1 ")}function q(p){(0,k.default)("[data-action]",p).each(function(){var A=(0,k.default)(this),C=this.getAttribute("data-action");C=d.isActionAllowed(C);A.toggleClass("disabled",!C).toggleClass("hidden",!C&&!0===A.data("hideIfNotAvailable"))});(0,k.default)(".dropdown-divider",p).removeClass("hidden");p=(0,k.default)(".dropdown-item:not(.hidden),.dropdown-divider:not(.hidden)",p);for(var e=null,n=0;n<p.length;n++){var u=(0,k.default)(p[n]);u.hasClass("dropdown-divider")?0===n||e?u.addClass("hidden"):
e=u:e=null}e&&e.addClass("hidden")}var r=(0,k.default)('<nav class="navbar navbar-expand-md navbar-light bg-light"><a class="navbar-brand" href="#">ChickenPaint Be</a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#chickenpaint-main-menu-content" aria-controls="chickenpaint-main-menu-content" aria-expanded="false" aria-label="Toggle main menu"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="chickenpaint-main-menu-content"><div class="navbar-nav mr-auto"></div></div><div class="widget-nav" id="chickenpaint-palette-toggler-content"></div></nav>'),
h=/^Mac/i.test(navigator.platform);this.getElement=function(){return r[0]};(function(p,e){p.append(e.map(function(n){var u=(0,k.default)('<div class="nav-item dropdown"><a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">'+(0,E._)(n.name)+'</a><ul class="dropdown-menu"></ul></div>'),A=(0,k.default)(".dropdown-toggle",u),C=(0,k.default)(".dropdown-menu",u);A[0].addEventListener("show.bs.dropdown",function(B){q(u)});C.append(n.children.map(function(B){if(!B.action||
d.isActionSupported(B.action)){"CPSend"!=B.action||d.isActionSupported("CPContinue")||(B.name=(0,E._)("Post Oekaki"),B.shortcut="ctrl+p");if("-"==B.name)var I=(0,k.default)('<hr class="dropdown-divider"></hr>');else I=(0,k.default)('<a class="dropdown-item" href="#" data-action="'+B.action+'"><span>'+(0,E._)(B.name)+"</span></a>"),B.checkbox&&(0,k.default)(I).data("checkbox",!0).toggleClass("selected",!!B.checked),B.hideIfNotAvailable&&I.data("hideIfNotAvailable",!0);B.title&&I.attr("title",(0,E._)(B.title));
if(B.shortcut){var N=I,y=document.createElement("small");h&&(B.shortcut=B.shortcut.replace(/SHIFT/im,"\u21e7"),B.shortcut=B.shortcut.replace(/ALT/im,"\u2325"),B.shortcut=B.shortcut.replace(/CTRL/im,"\u2318"));y.className="chickenpaint-shortcut";y.textContent=m(B.shortcut);N.append(y);(0,v.default)(B.shortcut,function(G){a(N);G.preventDefault();G.stopPropagation();return!1})}return I=(0,k.default)("<li>").append(I)}}));return u}))})((0,k.default)(".navbar-nav",r),b);(function(p,e){p.append(e.filter(function(n){return!!n.mnemonic&&
d.isActionSupported(n.action)}).map(function(n){var u=(0,k.default)('<button class="widget-toggler selected" type="button" data-action="'.concat(n.action,'" data-checkbox="true" data-selected="').concat(!n.checked,'">')+"<span>"+n.mnemonic+"</span></button>");u.on("click",function(A){a(u);A.preventDefault()});return u}))})((0,k.default)(".widget-nav",r),b[5].children);(0,k.default)(r).on("click","a:not(.dropdown-toggle)",function(p){a((0,k.default)(this));p.preventDefault()});(0,k.default)(".navbar-toggler",
r).on("click",function(p){p.preventDefault()});w.getPaletteManager().on("paletteVisChange",function(p,e){(0,k.default)('[data-action="CPPal'+p.substring(0,1).toUpperCase()+p.substring(1)+'"]',r).toggleClass("selected",e)});var c=(0,k.default)(".dropdown-item[data-action=CPFullScreen]",r),f=(0,k.default)(".dropdown-item[data-action=CPToolbarStyle]",r);d.on("fullScreen",function(p){return c.toggleClass("selected",p)});c.toggleClass("selected",d.isFullScreen());d.on("toolbarStyleChange",function(p){return f.toggleClass("selected",
"old"===p)});f.toggleClass("selected","old"===d.getToolbarStyle())};var k=z(g("jquery")),v=z(g("../../lib/keymaster.js")),E=g("../languages/lang.js"),b=[{name:"File",mnemonic:"F",children:[{name:"Save to my computer",action:"CPSave",mnemonic:"S",shortcut:"ctrl+s"},{name:"Save Oekaki",action:"CPSend",mnemonic:"S",shortcut:"ctrl+s"}]},{name:"Edit",mnemonic:"E",children:[{name:"Undo",action:"CPUndo",mnemonic:"U",shortcut:"ctrl+z"},{name:"Redo",action:"CPRedo",mnemonic:"R",shortcut:"shift+ctrl+z"},{name:"Clear history",
action:"CPClearHistory",mnemonic:"H",title:(0,E._)("Removes all undo/redo information to regain memory")},{name:"-"},{name:"Cut",action:"CPCut",mnemonic:"T",shortcut:"ctrl+x"},{name:"Copy",action:"CPCopy",mnemonic:"C",shortcut:"ctrl+c"},{name:"Copy merged",action:"CPCopyMerged",mnemonic:"Y",shortcut:"shift+ctrl+c"},{name:"Paste",action:"CPPaste",mnemonic:"P",shortcut:"ctrl+v"},{name:"-"},{name:"Select all",action:"CPSelectAll",mnemonic:"A",shortcut:"ctrl+a"},{name:"Deselect",action:"CPDeselectAll",
mnemonic:"D",shortcut:"ctrl+d"},{name:"-"},{name:"Transform",action:"CPTransform",mnemonic:"T",shortcut:"ctrl+y"}]},{name:"Layers",mnemonic:"L",children:[{name:"Duplicate",action:"CPLayerDuplicate",mnemonic:"D",shortcut:"shift+ctrl+d"},{name:"-"},{name:"Merge down",action:"CPLayerMergeDown",mnemonic:"E",shortcut:"ctrl+e"},{name:"Merge group",action:"CPGroupMerge",mnemonic:"G",shortcut:"shift+ctrl+g"},{name:"Merge all layers",action:"CPLayerMergeAll",shortcut:"shift+ctrl+e",mnemonic:"A"},{name:"-"},
{hideIfNotAvailable:!0,name:"Add layer mask",action:"CPAddLayerMask"},{hideIfNotAvailable:!0,name:"Delete layer mask",action:"CPRemoveLayerMask",shortcut:"shift+m"},{hideIfNotAvailable:!0,name:"Apply layer mask",action:"CPApplyLayerMask",shortcut:"ctrl+m"},{name:"-"},{hideIfNotAvailable:!0,name:"Clip to the layer below",action:"CPCreateClippingMask"},{hideIfNotAvailable:!0,name:"Unclip from the layer below",action:"CPReleaseClippingMask"}]},{name:"Effects",mnemonic:"E",children:[{name:"Clear",action:"CPClear",
mnemonic:"D",shortcut:"del,backspace"},{name:"Fill",action:"CPFill",mnemonic:"F",shortcut:"ctrl+f"},{name:"Flip horizontal",action:"CPHFlip",mnemonic:"H",shortcut:"h"},{name:"Flip vertical",action:"CPVFlip",mnemonic:"V"},{name:"Invert",action:"CPFXInvert",mnemonic:"I",title:(0,E._)("Invert the image colors")},{name:"-"},{name:"Box blur...",action:"CPFXBoxBlur",mnemonic:"B"},{name:"-"},{name:"Monochromatic noise",action:"CPMNoise",mnemonic:"M",title:(0,E._)("Fills the selection with noise")},{name:"Color noise",
action:"CPCNoise",mnemonic:"C",title:(0,E._)("Fills the selection with colored noise")}]},{name:"View",mnemonic:"V",children:[{name:"Full-screen mode",action:"CPFullScreen",mnemonic:"F",checkbox:!0,checked:!1},{name:"-"},{name:"Zoom in",action:"CPZoomIn",mnemonic:"I",shortcut:"ctrl+="},{name:"Zoom out",action:"CPZoomOut",mnemonic:"O",shortcut:"ctrl+-"},{name:"Zoom 100%",action:"CPZoom100",mnemonic:"1",shortcut:"ctrl+0"},{action:"CPLinearInterpolation",name:"-"},{name:"Smooth-out zoomed canvas",action:"CPLinearInterpolation",
mnemonic:"L",title:(0,E._)("Linear interpolation is used to give a smoothed looked to the picture when zoomed in"),checkbox:!0,checked:!0},{name:"-"},{name:"Show grid",action:"CPToggleGrid",mnemonic:"G",shortcut:"ctrl+g",checkbox:!0,checked:!1},{name:"Grid options...",action:"CPGridOptions",mnemonic:"D"}]},{name:"Palettes",mnemonic:"P",children:[{name:"Rearrange",action:"CPArrangePalettes",title:(0,E._)("Rearrange the palette windows")},{name:"Toggle palettes",action:"CPTogglePalettes",mnemonic:"P",
shortcut:"tab",title:(0,E._)("Hides or shows all palettes")},{name:"Use old icons",action:"CPToolbarStyle",checkbox:!0,checked:!1},{name:"-"},{name:"Show tools",action:"CPPalTool",mnemonic:"T",checkbox:!0,checked:!0},{name:"Show color",action:"CPPalColor",mnemonic:"C",checkbox:!0,checked:!0},{name:"Show stroke",action:"CPPalStroke",mnemonic:"S",checkbox:!0,checked:!0},{name:"Show misc",action:"CPPalMisc",mnemonic:"M",checkbox:!0,checked:!0},{name:"Show swatches",action:"CPPalSwatches",mnemonic:"W",
checkbox:!0,checked:!0},{name:"Show textures",action:"CPPalTextures",mnemonic:"X",checkbox:!0,checked:!0},{name:"Show tool options",action:"CPPalBrush",mnemonic:"B",checkbox:!0,checked:!0},{name:"Show layers",action:"CPPalLayers",mnemonic:"L",checkbox:!0,checked:!0}]},{name:"Help",mnemonic:"H",children:[{name:"Tablet support",mnemonic:"T",action:"CPTabletSupport"},{name:"Shortcuts",mnemonic:"S",action:"CPShortcuts"},{name:"-"},{name:"About",mnemonic:"A",action:"CPAbout"}]}];K.exports=D.default},{"../../lib/keymaster.js":68,
"../languages/lang.js":54,jquery:296}],38:[function(g,K,D){function z(d){return d&&d.__esModule?d:{default:d}}function k(d){E.default.call(this,d,"misc","Misc");var w=this,a=[{className:"chickenpaint-tool-zoom-in",command:"CPZoomIn",toolTip:"Zoom in"},{className:"chickenpaint-tool-zoom-out",command:"CPZoomOut",toolTip:"Zoom out"},{className:"chickenpaint-tool-zoom-100",command:"CPZoom100",toolTip:"Zoom 100%"},{className:"chickenpaint-tool-undo",command:"CPUndo",toolTip:"Undo"},{className:"chickenpaint-tool-redo",
command:"CPRedo",toolTip:"Redo"},{className:"chickenpaint-tool-send",command:"CPSend",toolTip:"Save Oekaki"}];(function(){var m=w.getBodyElement(),q=document.createElement("ul");q.className="chickenpaint-misc-tools list-unstyled";for(var r in a){var h=a[r],c=document.createElement("li"),f=document.createElement("div");"CPSend"!=h.command||d.isActionSupported("CPContinue")||(h.toolTip="Post Oekaki",h.className="chickenpaint-tool-send-and-end");c.className="chickenpaint-toolbar-button "+h.className;
c.setAttribute("data-buttonIndex",r);c.setAttribute("title",(0,b._)(h.toolTip));f.className="chickenpaint-toolbar-button-icon";c.appendChild(f);q.appendChild(c)}(0,v.default)(q).on("mousedown","li",function(p){(0,v.default)(this).addClass("selected")}).on("mouseup","li",function(p){(0,v.default)(this).removeClass("selected")}).on("click","li",function(p){p=a[parseInt(this.getAttribute("data-buttonIndex"),10)];d.actionPerformed({action:p.command})});m.appendChild(q)})()}Object.defineProperty(D,"__esModule",
{value:!0});D.default=k;var v=z(g("jquery")),E=z(g("./CPPalette.js")),b=g("../languages/lang.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang.js":54,"./CPPalette.js":39,jquery:296}],39:[function(g,K,D){function z(w){return w&&w.__esModule?w:{default:w}}function k(w,a,m,q){var r,h,c,f;function p(ea){"vertResize"==O&&J.setHeight(ea.pageY-(0,v.default)(B).offset().top)}function e(ea){G.releasePointerCapture(ea.pointerId);O=!1}function n(ea){O=
"vertResize";G.setPointerCapture(ea.pointerId)}function u(ea){"horzResize"==O&&J.setWidth(ea.pageX-(0,v.default)(B).offset().left)}function A(ea){H.releasePointerCapture(ea.pointerId);O=!1}function C(ea){O="horzResize";H.setPointerCapture(ea.pointerId)}w.getSmallScreenMode()&&(0,b._)(m+" (shorter)")!==m+" (shorter)"?this.title=(0,b._)(m+" (shorter)"):this.title=(0,b._)(m);q=q||{};this.name=a;this.resizeVert=q.resizeVert||!1;this.resizeHorz=q.resizeHorz||!1;var B=document.createElement("div");m=document.createElement("div");
var I=document.createElement("i"),N=document.createElement("button"),y=document.createElement("div"),G=null,H=null,O,J=this;this.getElement=function(){return B};this.getBodyElement=function(){return y};this.getWidth=function(){return(0,v.default)(B).outerWidth()};this.getHeight=function(){return(0,v.default)(B).outerHeight()};this.getX=function(){return parseInt(B.style.left,10)||0};this.getY=function(){return parseInt(B.style.top,10)||0};this.setLocation=function(ea,Y){B.style.left=ea+"px";B.style.top=
Y+"px"};this.setWidth=function(ea){B.style.width=ea+"px"};this.setHeight=function(ea){B.style.height=ea+"px"};this.setSize=function(ea,Y){this.setWidth(ea);this.setHeight(Y)};this.setCollapseDownwards=function(ea){q.collapseDownwards=ea};this.toggleCollapse=function(ea){var Y=(0,v.default)(B);if(void 0===ea)ea=!Y.hasClass("collapsed");else if(Y.hasClass("collapsed")==ea)return;var qa=Y.parents(".chickenpaint").find(".chickenpaint-canvas").height(),la=this.getHeight();la=this.getY()+la;Y.toggleClass("collapsed",
ea);(0,v.default)(I).toggleClass("fa-angle-down",!ea).toggleClass("fa-angle-up",ea);ea?q.collapseDownwards&&this.setLocation(this.getX(),Math.min(la,qa)-this.getHeight()):(ea=this.getHeight(),q.collapseDownwards?this.setLocation(this.getX(),Math.max(la-ea,0)):this.getY()+ea>qa&&this.setLocation(this.getX(),Math.max(qa-ea,0)))};this.userIsDoneWithUs=function(){w.getSmallScreenMode()&&this.toggleCollapse(!0)};I.className="collapse-icon fas fa-angle-down";N.type="button";N.className="btn btn-close";
N.innerHTML="";B.className="chickenpaint-palette chickenpaint-palette-"+a;m.className="chickenpaint-palette-head";m.setAttribute("touch-action","none");a=document.createElement("div");var R=document.createElement("h5");a.className="modal-header";R.className="modal-title";R.appendChild(document.createTextNode(this.title));R.appendChild(I);a.appendChild(R);a.appendChild(N);m.appendChild(a);y.className="chickenpaint-palette-body";B.appendChild(m);B.appendChild(y);this.resizeVert&&(G=document.createElement("div"),
G.className="chickenpaint-resize-handle-vert",G.addEventListener("pointerdown",n),G.addEventListener("pointermove",p),G.addEventListener("pointerup",e),B.appendChild(G));this.resizeHorz&&(H=document.createElement("div"),H.className="chickenpaint-resize-handle-horz",H.addEventListener("pointerdown",C),H.addEventListener("pointermove",u),H.addEventListener("pointerup",A),B.appendChild(H));m.addEventListener("pointerdown",function(ea){0==ea.button&&(ea.stopPropagation(),ea.preventDefault(),"BUTTON"==
ea.target.nodeName?J.emitEvent("paletteVisChange",[J,!1]):(c=parseInt(B.style.left,10)||0,f=parseInt(B.style.top,10)||0,r=ea.pageX-(0,v.default)(B).position().left,h=ea.pageY-(0,v.default)(B).position().top,O=w.getSmallScreenMode()?"dragStart":"dragging",ea.target.setPointerCapture(ea.pointerId)))});m.addEventListener("pointermove",function(ea){if(("dragStart"===O||"dragging"===O)&&0!==ea.buttons){var Y=ea.pageX-r;ea=ea.pageY-h;"dragStart"==O&&(Y-c)*(Y-c)+(ea-f)*(ea-f)>d*d&&(O="dragging");"dragging"==
O&&J.setLocation(Y,ea)}});m.addEventListener("pointerup",function(ea){if("dragging"===O||"dragStart"===O){"dragStart"===O&&(ea.stopPropagation(),ea.preventDefault(),setTimeout(function(){J.setLocation(c,f);J.toggleCollapse()},100));O=!1;try{ea.target.releasePointerCapture(ea.pointerId)}catch(Y){console.error(Y)}}})}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=z(g("jquery")),E=z(g("wolfy87-eventemitter")),b=g("../languages/lang"),d=5;k.prototype=Object.create(E.default.prototype);
k.prototype.constructor=E.default;K.exports=D.default},{"../languages/lang":54,jquery:296,"wolfy87-eventemitter":314}],40:[function(g,K,D){function z(c){return c&&c.__esModule?c:{default:c}}function k(c){function f(){var O=(0,v.default)(A).parents(".chickenpaint").find(".chickenpaint-canvas");return{width:O.width(),height:O.height()}}function p(O,J){var R=O.getElement();J?A.contains(R)||A.appendChild(R):A.contains(R)&&A.removeChild(R);C.emitEvent("paletteVisChange",[O.name,J])}var e={tool:new b.default(c),
misc:new d.default(c),stroke:new w.default(c),color:new a.default(c),brush:new m.default(c),layers:new q.default(c),textures:new r.default(c),swatches:new h.default(c)},n={tool:!1,color:!1,misc:!1},u={color:!0,textures:!0,layers:!0},A=document.createElement("div"),C=this,B=[],I=[];this.palettes=e;this.showPaletteByName=function(O,J){(O=e[O])&&p(O,J)};this.togglePalettes=function(){if(0==I.length)(0,v.default)("> .chickenpaint-palette",A).each(function(){C.showPaletteByName(this.getAttribute("data-paletteName"),
!1);I.push(this)});else{for(var O=0;O<I.length;O++)C.showPaletteByName(I[O].getAttribute("data-paletteName"),!0);I=[]}};this.constrainPalettes=function(){var O=f();for(R in e){var J=e[R];J.getX()+J.getWidth()/2>O.width&&J.setLocation(O.width-J.getWidth(),J.getY());J.getY()+J.getHeight()/2>O.height&&J.setLocation(J.getX(),O.height-J.getHeight())}var R=0<O.width-e.tool.getWidth()-e.misc.getWidth()-e.stroke.getWidth()-e.color.getWidth()-e.brush.getWidth()-15;e.swatches.getX()+e.swatches.getWidth()==
e.brush.getX()+e.brush.getWidth()&&20>Math.abs(e.swatches.getY()-e.brush.getY())&&e.swatches.setLocation(e.brush.getX()-e.swatches.getWidth()-(R?5:1),0);e.layers.getY()+e.layers.getHeight()>O.height&&e.layers.setHeight(Math.max(O.height-e.layers.getY(),200))};this.arrangePalettes=function(){var O=f();if(c.getSmallScreenMode())e.tool.setLocation(0,0),e.misc.setLocation(e.tool.getX()+e.tool.getWidth()+1,0),e.brush.setLocation(O.width-e.brush.getWidth()-15,e.misc.getY()+e.misc.getHeight()+1),e.textures.setWidth(O.width-
e.textures.getX()),e.layers.setLocation(e.brush.getX()+e.brush.getWidth()-e.layers.getWidth(),e.textures.getY()-e.layers.getHeight()),e.layers.setHeight(e.textures.getY()-330-1),e.stroke.setLocation(e.misc.getX(),e.misc.getY()+e.misc.getHeight()+1),e.swatches.setLocation(e.stroke.getX(),e.stroke.getY()+e.stroke.getHeight()+1);else{var J=0<O.width-e.tool.getWidth()-e.misc.getWidth()-e.stroke.getWidth()-e.color.getWidth()-e.brush.getWidth()-15;e.brush.setLocation(O.width-e.brush.getWidth()-15,0);var R=
e.brush.getY()+e.brush.getHeight();R=300<O.height-R?R+2:R;e.layers.setSize(e.brush.getWidth()+(J?30:0),O.height-R);e.layers.setLocation(e.brush.getX()+e.brush.getWidth()-e.layers.getWidth(),R);e.tool.setLocation(0,0);e.misc.setLocation(e.tool.getX()+e.tool.getWidth()+(J?5:1),0);J?e.stroke.setLocation(e.misc.getX()+e.misc.getWidth()+(J?5:1),0):e.stroke.setLocation(e.misc.getX(),e.misc.getY()+e.misc.getHeight()+1);e.swatches.setLocation(Math.max(e.brush.getX()-e.swatches.getWidth()-(J?5:1),e.tool.getX()+
e.tool.getWidth()),0);e.textures.setWidth(Math.min(e.layers.getX()-e.textures.getX(),490))}e.textures.setLocation(e.color.getX()+e.color.getWidth()+4,O.height-e.textures.getHeight());e.color.setLocation(0,Math.max(e.tool.getY()+e.tool.getHeight(),O.height-e.color.getHeight()))};c.on("smallScreen",function(O){if(O)for(var J in e)e[J].toggleCollapse(O&&(!(J in n)||n[J]))});this.getElement=function(){return A};A.className="chickenpaint-palettes";for(var N in e){var y=e[N],G=y.getElement();y.on("paletteVisChange",
function(){p(this,!1)});N in u&&y.setCollapseDownwards(!0);G.setAttribute("data-paletteName",N);B.push(G)}for(var H in e)u=e[H].getElement(),A.appendChild(u)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=z(g("jquery")),E=z(g("wolfy87-eventemitter")),b=z(g("./CPToolPalette.js")),d=z(g("./CPMiscPalette.js")),w=z(g("./CPStrokePalette.js")),a=z(g("./CPColorPalette.js")),m=z(g("./CPBrushPalette.js")),q=z(g("./CPLayersPalette.js")),r=z(g("./CPTexturePalette.js")),h=z(g("./CPSwatchesPalette.js"));
k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"./CPBrushPalette.js":25,"./CPColorPalette.js":28,"./CPLayersPalette.js":35,"./CPMiscPalette.js":38,"./CPStrokePalette.js":46,"./CPSwatchesPalette.js":47,"./CPTexturePalette.js":49,"./CPToolPalette.js":50,jquery:296,"wolfy87-eventemitter":314}],41:[function(g,K,D){function z(E){return E&&E.__esModule?E:{default:E}}function k(E){function b(){var A=E?(0,v.default)(d).height():(0,v.default)(d).width();p=h/
(q-m)*A;A=(r-m)/(q-m)*(A-p);a.style[E?"height":"width"]=p+"px";w.style[E?"height":"width"]=p+"px";w.style[E?"top":"left"]=A+"px"}var d=document.createElement("div"),w=document.createElement("div"),a=document.createElement("div"),m=0,q=1,r=0,h=1,c=10,f=!1,p=1,e=!1,n,u=this;this.setValues=function(A,C,B,I){r=A;h=C;m=B;q=I;b()};this.setBlockIncrement=function(A){c=A};this.setUnitIncrement=function(A){};this.getElement=function(){return d};this.getValueIsAdjusting=function(){return f};d.className="chickenpaint-scrollbar "+
(E?"chickenpaint-scrollbar-vertical":"chickenpaint-scrollbar-horizontal");w.className="chickenpaint-scrollbar-handle";w.setAttribute("touch-action","none");a.className="chickenpaint-scrollbar-handle-inner";w.appendChild(a);d.appendChild(w);w.addEventListener("pointerdown",function(A){A.stopPropagation();n=E?A.pageY-(0,v.default)(d).offset().top:A.pageX-(0,v.default)(d).offset().left;w.setPointerCapture(A.pointerId);(0,v.default)(w).addClass("dragging");e=!0});w.addEventListener("pointermove",function(A){if(e){f=
!0;var C=E?(0,v.default)(d).height():(0,v.default)(d).width();A=E?A.pageY-(0,v.default)(d).offset().top:A.pageX-(0,v.default)(d).offset().left;r+=(A-n)*(q-m)/(C-p);r=Math.min(Math.max(r,m),q);n=A;u.emitEvent("valueChanged",[r]);b();f=!1}});w.addEventListener("pointerup",function(A){A.stopPropagation();if(e){try{w.releasePointerCapture(A.pointerId)}catch(C){}(0,v.default)(w).removeClass("dragging");e=!1}});w.addEventListener("click",function(A){A.stopPropagation()});d.addEventListener("click",function(A){if(this==
d){A=E?A.pageY-(0,v.default)(d).offset().top:A.pageX-(0,v.default)(d).offset().left;var C=parseInt(w.style[E?"top":"left"],10);r=A<C?r-c:r+c;u.emitEvent("valueChanged",[r]);b()}})}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=z(g("jquery"));g=z(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;K.exports=D.default},{jquery:296,"wolfy87-eventemitter":314}],42:[function(g,K,D){function z(d){return d&&d.__esModule?d:{default:d}}function k(d,
w,a){var m=(0,v.default)('<div class="modal fade chickenpaint-send-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content" data-stage="saving">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,b._)("Saving drawing..."),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-saving-progress-message">').concat((0,b._)("Preparing your drawing to be saved, please wait..."),
'</p>\n                            <pre class="chickenpaint-saving-error-message pre-scrollable"></pre>\n                            <div class="progress">\n                                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>\n                            </div>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light chickenpaint-send-cancel" data-bs-dismiss="modal">').concat((0,b._)("Cancel"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-not-previously-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">').concat((0,b._)("Drawing saved!"),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, would you like to post it to the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-bs-dismiss="modal">').concat((0,b._)("Yes, post it now"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-bs-dismiss="modal">').concat((0,b._)("No, keep drawing"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-exit" data-bs-dismiss="modal">').concat((0,b._)("No, quit and I'll finish it later"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-already-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, would you like to view it on the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-bs-dismiss="modal">').concat((0,b._)("Yes, view the post"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-bs-dismiss="modal">').concat((0,b._)("No, keep drawing"),'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-redirect" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, redirecting you to view your new post now..."),
"</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),q=(0,v.default)(".chickenpaint-saving-progress-message",m),r=(0,v.default)(".chickenpaint-saving-error-message",m),h=(0,v.default)(".progress-bar",m),c=this;a.on("savingProgress",function(p,e){p*=100;q.text(e);(0,v.default)(h).attr("aria-valuenow",p).css("width",p+"%")});a.on("savingComplete",function(){(0,v.default)(".modal-content[data-stage='saving']",m).hide();d.isActionSupported("CPContinue")?
d.isActionSupported("CPExit")?(0,v.default)(".modal-content[data-stage='success-not-previously-posted']",m).show():(0,v.default)(".modal-content[data-stage='success-already-posted']",m).show():(0,v.default)(".modal-content[data-stage='success-redirect']",m).show()});a.on("savingFailure",function(p){h.addClass("progress-bar-danger");var e=(0,b._)("Sorry, your drawing could not be saved, please try again later.");p&&(p=p.replace(/^CHIBIERROR\s*/,""),0<p.length&&(e+="<br><br>".concat((0,b._)("The error returned from the server was"),
":"),r.text(p).show()),q.html(e))});(0,v.default)(".chickenpaint-post-drawing",m).on("click",function(){d.actionPerformed({action:"CPPost"})});(0,v.default)(".chickenpaint-exit",m).toggle(d.isActionSupported("CPExit")).on("click",function(){alert("When you want to come back and finish your drawing, just click the 'new drawing' button again and you can choose to continue this drawing.");d.actionPerformed({action:"CPExit"})});(0,v.default)(".chickenpaint-send-cancel",m).on("click",function(){a.cancel()});
m.on("hidden.bs.modal",function(p){m.remove()});m.appendTo(w);var f=new bootstrap.Modal(m[0]);this.show=function(){f.show();c.emitEvent("shown")}}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=z(g("jquery")),E=z(g("wolfy87-eventemitter")),b=g("../languages/lang.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang.js":54,jquery:296,"wolfy87-eventemitter":314}],43:[function(g,K,D){Object.defineProperty(D,"__esModule",
{value:!0});D.default=function(v){var E=(0,z.default)('<div class="modal fade chickenpaint-shortcuts-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog modal-lg">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,k._)("Shortcuts"),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>\n                                ').concat((0,k._)("Many of the menu options and painting tools have keyboard shortcuts which are written next to them or appear when you hover."),
"\n                            </p>\n                            <p>\n                                ").concat((0,k._)("Here are some other shortcuts which are not as obvious!"),'\n                            </p>\n                            <div class="chickenpaint-shortcuts-sections">\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>').concat((0,k._)("Color swatches palette"),'</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Left"),
"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,k._)("Use as the drawing color"),'\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Right"),"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,k._)("Remove or replace a color swatch"),
'\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>').concat((0,k._)("Line drawing mode"),'</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span> + <span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Left"),
"</span>\n                                                </dt>\n                                                <dd>\n                                                   ").concat((0,k._)("Snap line to nearest 45 degrees"),'\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>').concat((0,k._)("Painting tools"),
'</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">1</span> - <span class="chickenpaint-shortcut-key">9</span> , <span class="chickenpaint-shortcut-key">0</span></span>\n                                                </dt>\n                                                <dd>\n                                                    ').concat((0,k._)("Change brush opacity"),
'\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">[</span> , <span class="chickenpaint-shortcut-key">]</span></span>\n                                                </dt>\n                                                <dd>\n                                                    ').concat((0,k._)("Change brush size"),
'\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>').concat((0,k._)("Brush palette"),'</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Right"),
'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut-alternate">').concat((0,k._)("or"),'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span> + <span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Left"),"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,k._)("Adjust brush sliders more precisely"),
'\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>').concat((0,k._)("Drawing canvas"),'</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Middle"),
'</span> <span class="chickenpaint-shortcut-alternate">').concat((0,k._)("or"),'</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Space</span> + <span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Left"),"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,k._)("Move the canvas around"),'\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">R</span> + <span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Left"),
"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,k._)("Rotate the canvas"),'\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Right"),'</span> <span class="chickenpaint-shortcut-alternate">').concat((0,k._)("or"),
'</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Left"),"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,k._)("Sample the color under the cursor"),'\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>').concat((0,k._)("Layers palette"),
'</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Double click"),'</span> <span class="chickenpaint-shortcut-alternate">').concat((0,k._)("or"),'</span> <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Right"),
"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,k._)("Rename layer"),'\n                                                </dd>\n                                                <dt>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span> + <span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Left"),"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,k._)("Toggle mask enable/disable"),
'\n                                                </dd>\n                                                <dt>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Left"),"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,k._)("Toggle mask View"),
'\n                                                </dd>\n\t\t\t\t\t\t\t\t\t\t\t\t<dt>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Ctrl</span> + <span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Left"),"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,k._)("Apply layer mask"),'\n                                                </dd>\n\t\t\t\t\t\t\t\t\t\t\t\t<dt>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span></span> +\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Ctrl</span> + <span class="fa fa-mouse-pointer"></span> ').concat((0,k._)("Left"),
"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,k._)("Delete layer mask"),"\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            "));
E.on("hidden.bs.modal",function(d){E.remove()});var b=new bootstrap.Modal(E[0]);v.appendChild(E[0]);this.show=function(){b.show()}};var z=function(v){return v&&v.__esModule?v:{default:v}}(g("jquery")),k=g("../languages/lang.js");K.exports=D.default},{"../languages/lang.js":54,jquery:296}],44:[function(g,K,D){function z(d){return d&&d.__esModule?d:{default:d}}function k(d,w,a,m){function q(){var C=c.width,B=c.height,I="string"===typeof A.title?(0,b._)(A.title):A.title(A.value),N=3*window.devicePixelRatio,
y=.75*c.height;if(a)f.save(),f.fillStyle="white",f.fillRect(0,0,C,B),f.fillStyle="black",f.fillText(I,N,y),f.beginPath(),A.value>=p/2?f.rect(C/2,0,(A.value-p/2)*C/p,B):f.rect(A.value*C/p,0,(p/2-A.value)*C/p,B),f.fill(),f.clip(),f.fillStyle="white";else{var G=(A.value-d)/p;m&&(G=Math.pow(G,1/1.5));G*=C;f.save();f.save();f.fillStyle="black";f.beginPath();f.rect(0,0,G,B);f.fill();f.clip();f.fillStyle="white";f.fillText(I,N,y);f.restore();f.fillStyle="white";f.beginPath();f.rect(G,0,C,B);f.fill();f.clip();
f.fillStyle="black"}f.fillText(I,N,y);f.restore()}function r(C){var B=(0,v.default)(c).width(),I=(0,v.default)(c).offset().left;C=(C.pageX-I)/B;m&&(C=Math.pow(Math.max(C,0),1.5));A.setValue(C*p+d)}function h(C){switch(e){case 1:return r(C);case 2:var B=A.title();if(!B.includes((0,b._)("Brush size"))&&!B.includes((0,b._)("Opacity")))return r(C);B=(C.pageX-n)/4;if(0!==B){B=A.value+B;var I=Math.floor(B);A.setValue(I);n=C.pageX-4*(B-I)}}}var c=document.createElement("canvas"),f=c.getContext("2d"),p=w-
d,e=0,n,u=!1,A=this;this.value=void 0;this.title="";a=a||!1;c.addEventListener("pointerup",function(C){if(0===e)return c.releasePointerCapture(C.pointerId),c.removeEventListener("pointermove",h);if(0!==e)switch(e){case 1:0!==C.button||C.shiftKey||(e=0);break;case 2:if(2==C.button||0===C.button&&C.shiftKey)e=0;break;default:return}c.releasePointerCapture(C.pointerId);return c.removeEventListener("pointermove",h)});this.setValue=function(C){C=~~Math.max(d,Math.min(w,C));this.value!=C&&(this.value=C,
this.emitEvent("valueChange",[this.value]),u?q():(u=!0,this.resize()))};this.getElement=function(){return c};this.resize=function(){c.width=(0,v.default)(c).width()||150;c.height=(0,v.default)(c).height()||20;1<window.devicePixelRatio&&(c.style.height=c.height+"px",c.width*=window.devicePixelRatio,c.height*=window.devicePixelRatio);f.font=.47*c.height+"pt sans-serif";q()};c.addEventListener("pointerdown",function(C){0===e&&(2===C.button||0===C.button&&C.shiftKey?(e=2,n=C.pageX):(e=1,r(C)),c.setPointerCapture(C.pointerId),
c.addEventListener("pointermove",h))});c.addEventListener("contextmenu",function(C){C.preventDefault()});c.setAttribute("touch-action","none");c.className="chickenpaint-slider";"devicePixelRatio"in window||(window.devicePixelRatio=1)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=z(g("jquery")),E=z(g("wolfy87-eventemitter")),b=g("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang":54,jquery:296,
"wolfy87-eventemitter":314}],45:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(z,k,v){function E(){var y=d.width/2,G=d.height/2;w.fillStyle="white";w.fillRect(0,0,d.width,d.height);if(e==p.length){var H=r.width,O=r.height,J=Math.round(y-H/2),R=Math.round(G-O/2);w.drawImage(r,J,R);var ea=B;n||(n=document.createElement("canvas"),n.width=H,n.height=O,A=n.getContext("2d"));A.globalCompositeOperation="copy";A.drawImage(a,0,0);u||(u=document.createElement("canvas"),
u.width=H,u.height=O,C=u.getContext("2d"));C.globalCompositeOperation="copy";C.drawImage(f,0,0);C.globalCompositeOperation="source-in";C.drawImage(f,0,Math.round(170*ea));A.globalCompositeOperation="source-over";A.drawImage(u,0,0);A.drawImage(m,0,0);A.globalCompositeOperation="screen";A.drawImage(c,0,0);A.globalCompositeOperation="multiply";A.drawImage(h,0,0);w.globalAlpha=.88;w.drawImage(n,J,R);w.globalAlpha=1;w.drawImage(q,J,R);G=Math.round(G+O/2+2)}if(""!=I)for(w.fillStyle="black",H=I.split("\n"),
O=0;O<H.length;O++)J=H[O],R=w.measureText(J).width,G+=28,w.fillText(J,y-R/2,G)}function b(){d.width=d.clientWidth;d.height=d.clientHeight;w.font="14pt sans-serif";E()}var d=document.createElement("canvas"),w=d.getContext("2d"),a=new Image,m=new Image,q=new Image,r=new Image,h=new Image,c=new Image,f=new Image,p=[a,m,q,r,h,c,f],e=0,n,u,A,C,B=0,I="";v+="splash/";for(var N=0;N<p.length;N++)p[N].onload=function(){e++;e==p.length&&E()};a.src=v+"cup.png";c.src=v+"highlights.png";m.src=v+"lid.png";q.src=
v+"lines.png";h.src=v+"shading.png";f.src=v+"smoothie.png";r.src=v+"text.png";k.on("loadingProgress",function(y,G){B=y;I=G;E()});k.on("loadingFailure",function(y){B=0;I=y;E()});k.on("loadingComplete",function(){window.removeEventListener("resize",b);z.removeChild(d)});window.addEventListener("resize",b);d.className="chickenpaint-splash-screen";z.appendChild(d);b()};K.exports=D.default},{}],46:[function(g,K,D){function z(w){return w&&w.__esModule?w:{default:w}}function k(w){E.default.call(this,w,"stroke",
"Stroke");var a=this,m=[{className:"chickenpaint-tool-freehand",command:"CPFreeHand",toolTip:(0,d._)("Free-hand"),selected:!0},{className:"chickenpaint-tool-line",command:"CPLine",toolTip:(0,d._)("Straight line")},{className:"chickenpaint-tool-bezier",command:"CPBezier",toolTip:(0,d._)("Bezier curve")}],q=a.getBodyElement();(function(){var r=document.createElement("ul");r.className="chickenpaint-stroke-tools list-unstyled";for(var h in m){var c=m[h],f=document.createElement("li"),p=document.createElement("div");
f.className="chickenpaint-toolbar-button "+c.className;f.setAttribute("data-buttonIndex",h);f.setAttribute("title",c.toolTip);c.selected&&(f.className+=" selected");p.className="chickenpaint-toolbar-button-icon";f.appendChild(p);r.appendChild(f)}(0,v.default)(r).on("click","li",function(e){e=m[parseInt(this.getAttribute("data-buttonIndex"),10)];(0,v.default)("li",r).removeClass("selected");(0,v.default)(this).addClass("selected");w.actionPerformed({action:e.command});a.userIsDoneWithUs()});q.appendChild(r)})();
w.on("toolChange",function(r,h){(0,v.default)(".chickenpaint-tool-freehand",q).toggleClass("selected",h.strokeMode==b.default.STROKE_MODE_FREEHAND);(0,v.default)(".chickenpaint-tool-line",q).toggleClass("selected",h.strokeMode==b.default.STROKE_MODE_LINE);(0,v.default)(".chickenpaint-tool-bezier",q).toggleClass("selected",h.strokeMode==b.default.STROKE_MODE_BEZIER)})}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=z(g("jquery")),E=z(g("./CPPalette.js")),b=z(g("../engine/CPBrushInfo.js")),
d=g("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../engine/CPBrushInfo.js":8,"../languages/lang":54,"./CPPalette.js":39,jquery:296}],47:[function(g,K,D){function z(m){return m&&m.__esModule?m:{default:m}}function k(m){function q(C){var B=document.createElement("div"),I=document.createElement("a"),N=document.createElement("ul"),y=document.createElement("a"),G=document.createElement("a"),H=this;this.getElement=function(){return B};
this.setColor=function(O){I.setAttribute("data-color",O);var J=I.style;for(O=""+Number(O).toString(16);6>O.length;)O="0"+O;J.backgroundColor="#"+O};this.setColor(C);I.href="#";I.className="chickenpaint-color-swatch dropdown-toggle";y.className="dropdown-item";y.href="#";y.innerHTML=(0,a._)("Remove");y.addEventListener("click",function(O){O.preventDefault();(0,v.default)(B).remove();p=!0});G.className="dropdown-item";G.href="#";G.innerHTML=(0,a._)("Replace with current color");G.addEventListener("click",
function(O){O.preventDefault();H.setColor(m.getCurColor().getRgb());p=!0});N.className="dropdown-menu";N.appendChild(y);N.appendChild(G);B.className="chickenpaint-color-swatch-wrapper";B.appendChild(I);B.appendChild(N);(0,v.default)(B).on("show.bs.dropdown",function(){var O=(0,v.default)(this).find(".dropdown-toggle");(0,v.default)(this).find(".dropdown-menu").css({top:O.position().top+O.outerHeight(!0)+"px",left:O.position().left+"px"})})}function r(C){C=new q(C);e.appendChild(C.getElement())}function h(){u.onchange=
function(){var C=this.files;if(!(1>C.length)){C=C[0];var B=new FileReader;B.onload=function(){var I=(new w.default).read(this.result);null!=I&&0<I.length?A.setSwatches(I):alert((0,a._)("The swatches could not be read, did you select an .aco file?"))};B.readAsArrayBuffer(C)}};u.click()}function c(C){var B=document.createElement("span");B.className="fa fa-"+C;return B}b.default.call(this,m,"swatches","Color swatches");var f=[16777215,0,16711680,65280,255,16776960],p=!1,e=document.createElement("ul"),
n=document.createElement("div"),u,A=this;this.getSwatches=function(){for(var C=(0,v.default)(".chickenpaint-color-swatch",e),B=Array(C.length),I=0;I<C.length;I++)B[I]=parseInt(C.get(I).getAttribute("data-color"),10);return B};this.setSwatches=function(C){for(;e.lastChild;)e.removeChild(e.lastChild);for(var B=0;B<C.length;B++)r(C[B]);p=!0};this.isModified=function(){return p};(function(){e.className="chickenpaint-color-swatches list-unstyled";for(var C=0;C<f.length;C++)e.appendChild((new q(f[C])).getElement());
e.addEventListener("click",function(B){var I=B.target;/^<a data-color=/i.test(I.outerHTML)&&/chickenpaint-color-swatch/.test(I.className)&&0==B.button&&void 0!==I.getAttribute("data-color")&&(m.setCurColor(new d.default(parseInt(I.getAttribute("data-color"),10))),B.stopPropagation(),B.preventDefault(),A.userIsDoneWithUs())});e.addEventListener("contextmenu",function(B){var I=B.target;if(/^<a data-color=/i.test(I.outerHTML)&&/chickenpaint-color-swatch/.test(I.className)){B.preventDefault();var N=new bootstrap.Dropdown((0,v.default)(I));
N.toggle();document.addEventListener("click",function H(G){N.hide();document.removeEventListener("click",H)})}})})();this.getBodyElement().appendChild(e);(function(){var C=document.createElement("button"),B=document.createElement("button"),I=document.createElement("div"),N=document.createElement("a"),y=document.createElement("a");B.type="button";B.title=(0,a._)("Add the current brush color as a new swatch");B.className="btn chickenpaint-small-toolbar-button chickenpaint-color-swatch-add";B.appendChild(c("plus"));
C.type="button";C.className="btn dropdown-toggle chickenpaint-small-toolbar-button chickenpaint-color-swatch-settings";C.setAttribute("data-bs-toggle","dropdown");C.appendChild(c("cog"));N.className="dropdown-item";N.href="#";N.innerHTML=(0,a._)("Save swatches to your computer...");N.addEventListener("click",function(G){G.preventDefault();G=(new w.default).write(A.getSwatches());G=new Blob([G],{type:"application/octet-stream"});E.default.saveAs(G,"oekakiswatches.aco")});y.className="dropdown-item";
y.href="#";y.innerHTML=(0,a._)("Load swatches from your computer...");y.addEventListener("click",function(G){G.preventDefault();h()});I.className="dropdown-menu";I.appendChild(N);I.appendChild(y);N=document.createElement("div");N.className="btn-group dropright";N.appendChild(C);N.appendChild(I);B.addEventListener("click",function(G){r(m.getCurColor().getRgb());p=!0});n.className="chickenpaint-color-swatches-buttons";window.File&&window.FileReader&&window.FileList&&window.Blob&&(u=document.createElement("input"),
u.type="file",u.multiple=!1,u.style.display="none",n.appendChild(N),n.appendChild(u));n.appendChild(B)})();this.getBodyElement().appendChild(n)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=z(g("jquery")),E=z(g("file-saver")),b=z(g("./CPPalette.js")),d=z(g("../util/CPColor.js")),w=z(g("../util/AdobeColorTable.js")),a=g("../languages/lang");k.prototype=Object.create(b.default.prototype);k.prototype.constructor=k;K.exports=D.default},{"../languages/lang":54,"../util/AdobeColorTable.js":55,
"../util/CPColor.js":58,"./CPPalette.js":39,"file-saver":295,jquery:296}],48:[function(g,K,D){function z(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(E){var b=(0,k.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog" role="document">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing tablet support</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-tablet-there-are-two-options">\n                                There are two ways you could use your tablet\'s pen pressure support with ChickenPaint.\n                            </p>\n                            <div class="chickenpaint-tablet-support chickenpaint-wacom-support">\n                                <h5>\n                                    Plugin for Wacom tablets\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (32-bit only)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-safari"></span>\n                                        Safari\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-opera"></span>\n                                        Opera\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-installed">\n                                    The plugin for Wacom tablets doesn\'t seem to be installed in your browser yet.\n                                </p>\n                                <p class="chickenpaint-not-installed">\n                                    Please make sure that you\'ve installed the latest drivers for your tablet from the \n                                    <a href="http://www.wacom.com/en-us/support/product-support/drivers" target="_blank">Wacom drivers page</a>,\n                                    then restart your browser.\n                                </p>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t support the Wacom tablet plugin, please \n                                    try one of the browsers listed above instead.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    The Wacom tablet plugin is installed and working.\n                                </p>\n                            </div>\n                            <div class="chickenpaint-tablet-support chickenpaint-pointerevents-support">\n                                <h5>\n                                    Built-in support for most tablets.\n                                    <small>macOS, Windows 10 or newer</small>\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n\t\t\t\t\t\t\t\t\t<div class="chickenpaint-supported-browser">\n\t\t\t\t\t\t\t\t\t<span class="fab fa-chrome"></span>\n\t\t\t\t\t\t\t\t\t\tChrome\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-edge"></span>\n                                        Edge (Windows 10)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (<a href="https://github.com/satopian/ChickenPaint_Be/blob/main/help/Firefox%20pressure%20support.md" target="_blank" rel="noopener">help <i class="fa fa-external-link-alt"></i></a>)\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t have built-in support for drawing tablets, please try\n                                    one of the other browsers listed above.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    Your browser has built-in support for drawing tablets!\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n       '),
d=(0,k.default)(".chickenpaint-wacom-support",b),w=(0,k.default)(".chickenpaint-pointerevents-support",b),a=(0,k.default)(".chickenpaint-tablet-there-are-two-options",b),m=v.default.getRef().isTabletPresent(),q=!!window.hasNativePointerEvents;d.toggleClass("supported",m);m?(w.hide(),a.hide()):((/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent))&&d.addClass("not-supported"),q&&(d.hide(),a.hide()));w.toggleClass("supported",
q);w.toggleClass("not-supported",!q);b.on("hidden.bs.modal",function(h){b.remove()});var r=new bootstrap.Modal(b[0]);E.appendChild(b[0]);this.show=function(){r.show()}};var k=z(g("jquery")),v=z(g("../util/CPWacomTablet.js"));K.exports=D.default},{"../util/CPWacomTablet.js":66,jquery:296}],49:[function(g,K,D){function z(r){return r&&r.__esModule?r:{default:r}}function k(r,h){var c=document.createElement("div"),f=document.createElement("label");c.className="form-check";r.className="form-check-input";
f.className="form-check-label";f.setAttribute("for",r.id);f.appendChild(r);f.appendChild(document.createTextNode(h));c.appendChild(r);c.appendChild(f);return c}function v(r,h,c,f,p){var e=new Image,n=[];e.onload=function(){var u=document.createElement("canvas"),A=u.getContext("2d",{willReadFrequently:!0});u.width=e.width;u.height=e.height;for(u=0;u<f;u++){A.drawImage(e,0,u*c,h,c,0,0,h,c);try{for(var C=A.getImageData(0,0,h,c),B=new d.default(h,c,8),I=0;I<h*c;I++)B.data[I]=C.data[4*I];n.push(B)}catch(N){console.log(N)}}p(n)};
e.src=r}function E(r){function h(J){for(var R=0;R<J.length;R++){var ea=new u(J[R],32,32);ea.on("click",function(){A=this.texture;n()});G.appendChild(ea.getElement())}}function c(J){for(var R=new d.default(J,J,8),ea=1;ea<J*J;ea++)R.data[ea]=255;return R}function f(J){for(var R=2*J,ea=new d.default(R,R,8),Y=0;Y<R;Y++)for(var qa=0;qa<R;qa++)ea.data[Y+qa*R]=0==(~~(Y/J)+~~(qa/J))%2?0:255;return ea}function p(J,R){for(var ea=new d.default(R,R,8),Y=0;Y<R*R;Y++)~~(Y%R)>=J&&(ea.data[Y]=255);return ea}function e(J,
R){for(var ea=new d.default(R,R,8),Y=0;Y<R*R;Y++)Y/R>=J&&(ea.data[Y]=255);return ea}function n(){if(null!=A){C=A.clone();B&&C.mirrorHorizontally();var J=new w.default;J.loadBrightnessContrast(N,y);I&&J.invert();C.applyLUT(J)}else C=null;r.getArtwork().setBrushTexture(C);null!=O&&O.updateTexture()}function u(J,R,ea){var Y=document.createElement("canvas"),qa=Y.getContext("2d"),la=this;this.setTexture=function(Q){this.texture=Q;this.paint()};this.getElement=function(){return Y};this.paint=function(){qa.fillStyle=
null!=this.texture?qa.createPattern(this.texture.getAsCanvas(),"repeat"):"white";qa.fillRect(0,0,Y.width,Y.height)};Y.addEventListener("click",function(){la.emit("click")});Y.width=R;Y.height=ea;this.setTexture(J)}a.default.call(this,r,"textures","Textures");var A,C,B=!1,I=!1,N=0,y=0,G=document.createElement("div"),H=this.getBodyElement();u.prototype=Object.create(b.default.prototype);u.prototype.constructor=u;var O=new function(){function J(){ea.checked=I;Y.checked=B;qa.setValue(100*N+100);la.setValue(100*
y+100)}var R=document.createElement("div"),ea=document.createElement("input"),Y=document.createElement("input"),qa=new m.default(0,200,!0),la=new m.default(0,200,!0),Q=new u(null,64,64),ka=document.createElement("button"),oa=new bootstrap.Popover(ka,{html:!0,content:function(){return ya},trigger:"manual",placement:"right",container:H});this.updateTexture=function(){ka.disabled=null==C;Q.setTexture(C)};this.getElement=function(){return R};R.className="chickenpaint-texture-options";R.appendChild(Q.getElement());
ka.type="button";ka.className="btn btn-light btn-sm";ka.setAttribute("data-bs-toggle","popover");ka.setAttribute("data-bs-placement","right");ka.innerHTML=(0,q._)("Customize");var ya=function(){var ja=document.createElement("div");ja.className="chickenpaint-texture-controls";ea.id="chickenpaint-chk-texture-invert";ea.type="checkbox";ea.addEventListener("click",function(La){I=this.checked;n()});ja.appendChild(k(ea,(0,q._)("Inverse")));Y.id="chickenpaint-chk-texture-mirror";Y.type="checkbox";Y.addEventListener("click",
function(La){B=this.checked;n()});ja.appendChild(k(Y,(0,q._)("Mirror")));qa.title=function(La){return(0,q._)("Brightness")+": "+(La-100)+"%"};qa.on("valueChange",function(La){N=(La-100)/100;n()});ja.appendChild(qa.getElement());la.title=function(La){return(0,q._)("Contrast")+": "+(La-100)+"%"};la.on("valueChange",function(La){y=(La-100)/100;n()});ja.appendChild(la.getElement());var ua=document.createElement("button"),ha=document.createElement("button");ua.textContent="Ok";ua.className="btn btn-primary btn-sm";
ua.type="button";ua.addEventListener("click",function(La){oa.hide()});ja.appendChild(ua);ja.appendChild(document.createTextNode(" "));ha.textContent="Reset";ha.className="btn btn-secondary btn-sm";ha.type="button";ha.addEventListener("click",function(La){y=N=0;I=B=!1;J();n()});ja.appendChild(ha);J();return ja}();ka.addEventListener("click",function(){oa.toggle()});R.appendChild(ka);this.updateTexture()};H.appendChild(O.getElement());G.className="chickenpaint-texture-swatches";H.appendChild(G);h(function(){var J=
[null],R=new d.default(2,2,8);R.data[0]=255;R.data[3]=255;J.push(R);J.push(c(2));J.push(c(3));J.push(c(4));J.push(c(6));J.push(c(8));J.push(p(1,2));J.push(p(2,4));J.push(e(1,2));J.push(e(2,4));J.push(f(2));J.push(f(4));J.push(f(8));J.push(f(16));return J}());v(r.getResourcesRoot()+"gfx/textures32.png",32,32,2,function(J){h(J)})}Object.defineProperty(D,"__esModule",{value:!0});D.default=E;z(g("jquery"));var b=z(g("wolfy87-eventemitter")),d=z(g("../engine/CPGreyBmp.js")),w=z(g("../engine/CPLookUpTable.js")),
a=z(g("./CPPalette.js")),m=z(g("./CPSlider.js")),q=g("../languages/lang");E.prototype=Object.create(a.default.prototype);E.prototype.constructor=E;K.exports=D.default},{"../engine/CPGreyBmp.js":14,"../engine/CPLookUpTable.js":18,"../languages/lang":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296,"wolfy87-eventemitter":314}],50:[function(g,K,D){function z(a){return a&&a.__esModule?a:{default:a}}function k(a){function m(c){"LI"==this.nodeName&&(c=r[parseInt(this.getAttribute("data-buttonIndex"),
10)],a.actionPerformed({action:c.command}),q.userIsDoneWithUs())}b.default.call(this,a,"tool","Tools");var q=this,r=[{className:"chickenpaint-tool-rect-selection",command:"CPRectSelection",toolTip:"Marquee",shortcut:"m",mode:d.default.M_RECT_SELECTION},{className:"chickenpaint-tool-move",command:"CPMoveTool",toolTip:"Move tool",shortcut:"v",mode:d.default.M_MOVE_TOOL},{className:"chickenpaint-tool-flood-fill",command:"CPFloodFill",toolTip:"Flood fill",shortcut:"f",mode:d.default.M_FLOODFILL},{className:"chickenpaint-tool-gradient-fill",
command:"CPGradientFill",toolTip:"Gradient fill",shortcut:"g",mode:d.default.M_GRADIENTFILL},{className:"chickenpaint-tool-color-picker",command:"CPColorPicker",toolTip:"Color picker",shortcut:"i",mode:d.default.M_COLOR_PICKER},{className:"chickenpaint-tool-blur",command:"CPBlur",toolTip:"Blur",mode:d.default.M_DRAW,tool:d.default.T_BLUR},{className:"chickenpaint-tool-pencil",command:"CPPencil",toolTip:"Pencil",shortcut:"n",mode:d.default.M_DRAW,tool:d.default.T_PENCIL},{className:"chickenpaint-tool-pen",
command:"CPPen",toolTip:"Pen",selected:!0,shortcut:"b",mode:d.default.M_DRAW,tool:d.default.T_PEN},{className:"chickenpaint-tool-airbrush",command:"CPAirbrush",toolTip:"Airbrush",shortcut:"a",mode:d.default.M_DRAW,tool:d.default.T_AIRBRUSH},{className:"chickenpaint-tool-water",command:"CPWater",toolTip:"Waterpaint",shortcut:"w",mode:d.default.M_DRAW,tool:d.default.T_WATER},{className:"chickenpaint-tool-eraser",command:"CPEraser",toolTip:"Eraser",shortcut:"e",mode:d.default.M_DRAW,tool:d.default.T_ERASER},
{className:"chickenpaint-tool-soft-eraser",command:"CPSoftEraser",toolTip:"Soft eraser",shortcut:"s",mode:d.default.M_DRAW,tool:d.default.T_SOFTERASER},{className:"chickenpaint-tool-smudge",command:"CPSmudge",toolTip:"Smudge",shortcut:"d",mode:d.default.M_DRAW,tool:d.default.T_SMUDGE},{className:"chickenpaint-tool-blender",command:"CPBlender",toolTip:"Blender",shortcut:"c",mode:d.default.M_DRAW,tool:d.default.T_BLENDER},{className:"chickenpaint-tool-dodge",command:"CPDodge",toolTip:"Dodge (tool)",
shortcut:"o",mode:d.default.M_DRAW,tool:d.default.T_DODGE},{className:"chickenpaint-tool-burn",command:"CPBurn",toolTip:"Burn (tool)",shortcut:"p",mode:d.default.M_DRAW,tool:d.default.T_BURN},{className:"chickenpaint-tool-rotate-canvas",command:"CPRotateCanvas",commandDoubleClick:"CPResetCanvasRotation",toolTip:"Rotate canvas",mode:d.default.M_ROTATE_CANVAS},{className:"chickenpaint-tool-pan-canvas",command:"CPPanCanvas",toolTip:"Grab canvas",mode:d.default.M_PAN_CANVAS}],h=document.createElement("ul");
a.on("modeChange",function(c){var f=q.getBodyElement();(0,v.default)("li",f).removeClass("selected");c==d.default.M_DRAW?(0,v.default)("li[data-tool="+a.getCurTool()+"]",f).addClass("selected"):(0,v.default)("li[data-mode="+c+"]",f).addClass("selected")});a.on("toolChange",function(c){var f=q.getBodyElement();a.getCurMode()==d.default.M_DRAW&&((0,v.default)("li",f).removeClass("selected"),(0,v.default)("li[data-tool="+c+"]",f).addClass("selected"))});(function(){var c=q.getBodyElement();h.className=
"chickenpaint-tools list-unstyled";for(var f in r)(function(p){var e=r[p],n=document.createElement("li"),u=document.createElement("div");n.className="chickenpaint-toolbar-button "+e.className;n.setAttribute("data-buttonIndex",p);n.setAttribute("data-mode",e.mode);void 0!==e.tool&&n.setAttribute("data-tool",e.tool);n.title=(0,w._)(e.toolTip);e.shortcut&&(n.title+=" ("+e.shortcut.toUpperCase()+")",(0,E.default)(e.shortcut,function(){m.call(n);return!1}));e.selected&&(n.className+=" selected");u.className=
"chickenpaint-toolbar-button-icon";n.appendChild(u);h.appendChild(n)})(f);(0,v.default)(h).on("click","li",m).on("dblclick","li",function(p){p=r[parseInt(this.getAttribute("data-buttonIndex"),10)];p.commandDoubleClick&&a.actionPerformed({action:p.commandDoubleClick})});c.appendChild(h)})()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=z(g("jquery")),E=z(g("../../lib/keymaster.js")),b=z(g("./CPPalette.js")),d=z(g("../ChickenPaint.js")),w=g("../languages/lang");k.prototype=Object.create(b.default.prototype);
k.prototype.constructor=k;K.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../languages/lang":54,"./CPPalette.js":39,jquery:296}],51:[function(g,K,D){function z(h){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},z(h)}function k(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||
!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(h,q(p.key),p)}}function v(h,c,f){c&&k(h.prototype,c);f&&k(h,f);Object.defineProperty(h,"prototype",{writable:!1});return h}function E(h,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}});Object.defineProperty(h,"prototype",{writable:!1});c&&b(h,c)}function b(h,c){b=Object.setPrototypeOf?
Object.setPrototypeOf.bind():function(f,p){f.__proto__=p;return f};return b(h,c)}function d(h){var c=a();return function(){var f=m(h);if(c){var p=m(this).constructor;f=Reflect.construct(f,arguments,p)}else f=f.apply(this,arguments);if(!f||"object"!==z(f)&&"function"!==typeof f){if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");f=w(this)}return f}}function w(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return h}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(h){return!1}}function m(h){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)};return m(h)}function q(h){a:if("object"===z(h)&&null!==h){var c=h[Symbol.toPrimitive];if(void 0!==c){h=c.call(h,"string");if("object"!==
z(h))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}h=String(h)}return"symbol"===z(h)?h:String(h)}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;g=function(h){return h&&h.__esModule?h:{default:h}}(g("wolfy87-eventemitter"));var r={toolbarStyle:"new"};D.default=function(h){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var p=f.call(this);var e=w(p);var n=q("toolbarStyle");n in e?Object.defineProperty(e,
n,{value:void 0,enumerable:!0,configurable:!0,writable:!0}):e[n]=void 0;p.setDefaults();return p}E(c,h);var f=d(c);v(c,[{key:"setDefaults",value:function(){for(var p in r)r.hasOwnProperty(p)&&this.set(p,r[p])}},{key:"load",value:function(){var p={};try{p=JSON.parse(localStorage.getItem("chickenpaint-prefs"))}catch(n){console.error(n)}p&&"object"===z(p)||(p={});for(var e in r)if(r.hasOwnProperty(e))try{this.set(e,p.hasOwnProperty(e)?p[e]:r[e])}catch(n){console.error(n)}}},{key:"save",value:function(){try{var p=
!1,e;for(e in r)if(r.hasOwnProperty(e)&&this[e]!=r[e]){p=!0;break}p?localStorage.setItem("chickenpaint-prefs",JSON.stringify({toolbarStyle:this.toolbarStyle})):localStorage.removeItem("chickenpaint-prefs")}catch(n){console.error(n)}}},{key:"set",value:function(p,e){this[p]=e;this.emitEvent(p,[e])}},{key:"get",value:function(p){return this[p]}}]);return c}(g.default);K.exports=D.default},{"wolfy87-eventemitter":314}],52:[function(g,K,D){K.exports={"Dodge (tool)":"Dodge","Burn (tool)":"Burn","Color (picker)":"Color",
"Color swatches (shorter)":"Swatches"}},{}],53:[function(g,K,D){K.exports={File:"\u30d5\u30a1\u30a4\u30eb","Save to my computer":"PC\u306b\u4fdd\u5b58","Post Oekaki":"\u304a\u7d75\u304b\u304d\u3092\u6295\u7a3f",Edit:"\u7de8\u96c6",Undo:"\u53d6\u308a\u6d88\u3057",Redo:"\u3084\u308a\u76f4\u3057",Cut:"\u5207\u308a\u53d6\u308a",Copy:"\u30b3\u30d4\u30fc","Clear history":"\u5c65\u6b74\u524a\u9664","Copy merged":"\u7d50\u5408\u30b3\u30d4\u30fc",Paste:"\u8cbc\u308a\u4ed8\u3051","Select all":"\u3059\u3079\u3066\u9078\u629e",
Deselect:"\u9078\u629e\u89e3\u9664",Transform:"\u5909\u5f62",Layers:"\u30ec\u30a4\u30e4\u30fc",Duplicate:"\u8907\u88fd","Merge down":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3068\u7d50\u5408","Merge group":"\u30b0\u30eb\u30fc\u30d7\u7d50\u5408","Merge all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u7d50\u5408","Add layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0","Delete mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664","Delete layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664",
"Apply mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Apply layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Disable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u7121\u52b9\u5316","Enable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u6709\u52b9\u5316","Clip to the layer below":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3067\u30af\u30ea\u30c3\u30d4\u30f3\u30b0","Unclip from the layer below":"\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u89e3\u9664",Effects:"\u52b9\u679c",
Clear:"\u6d88\u53bb",Fill:"\u5857\u308a\u6f70\u3057","Flip horizontal":"\u5de6\u53f3\u53cd\u8ee2","Flip vertical":"\u4e0a\u4e0b\u53cd\u8ee2",Invert:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2","Box blur...":"\u307c\u304b\u3057","Box blur":"\u307c\u304b\u3057","Blur amount (pixels)":"\u307c\u304b\u3057\u91cf(\u30d4\u30af\u30bb\u30eb\u5358\u4f4d)","Iterations (1-8, larger gives smoother blur)":"\u53cd\u5fa9(1-8,\u5927\u304d\u3044\u307b\u3069\u307c\u304b\u3057\u304c\u6ed1\u3089\u304b)","Monochromatic noise":"\u5358\u8272\u30ce\u30a4\u30ba",
"Color noise":"\u30ab\u30e9\u30fc\u30ce\u30a4\u30ba",View:"\u8868\u793a","Full-screen mode":"\u30d5\u30eb\u30b9\u30af\u30ea\u30fc\u30f3\u30e2\u30fc\u30c9","Zoom in":"\u62e1\u5927","Zoom out":"\u7e2e\u5c0f","Zoom 100%":"100%","Smooth-out zoomed canvas":"\u30ba\u30fc\u30e0\u3092\u306a\u3081\u3089\u304b\u306b\u8868\u793a\u3059\u308b","Show grid":"\u30b0\u30ea\u30c3\u30c9\u3092\u8868\u793a","Grid options...":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a",Palettes:"\u30d1\u30ec\u30c3\u30c8",Rearrange:"\u521d\u671f\u5316",
"Toggle palettes":"\u8868\u793a\u975e\u8868\u793a\u5207\u308a\u66ff\u3048","Use old icons":"\u53e4\u3044\u30a2\u30a4\u30b3\u30f3","Show tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Show color":"\u30ab\u30e9\u30fc","Show layers":"\u30ec\u30a4\u30e4\u30fc","Show misc":"\u64cd\u4f5c","Show stroke":"\u30b9\u30c8\u30ed\u30fc\u30af","Show swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Show textures":"\u30c6\u30af\u30b9\u30c1\u30e3","Show tools":"\u30c4\u30fc\u30eb",Help:"\u30d8\u30eb\u30d7",
"Tablet support":"\u30bf\u30d6\u30ec\u30c3\u30c8\u30b5\u30dd\u30fc\u30c8",Shortcuts:"\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8",About:"ChickenPaint Be\u306b\u3064\u3044\u3066","Removes all undo/redo information to regain memory":"\u5c65\u6b74\u3092\u30af\u30ea\u30a2\u3057\u3066\u30e1\u30e2\u30ea\u3092\u958b\u653e\u3057\u307e\u3059","Clears the selected area":"\u6d88\u53bb","Invert the image colors":"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2","Blur effect":"\u307c\u304b\u3057\u30d5\u30a3\u30eb\u30bf",
"Fills the selection with noise":"\u5358\u8272\u30ce\u30a4\u30ba\u3067\u5857\u308a\u6f70\u3057","Fills the selection with colored noise":"\u30ab\u30e9\u30fc\u30ce\u30a4\u30ba\u3067\u5857\u308a\u6f70\u3057","Linear interpolation is used to give a smoothed looked to the picture when zoomed in":"\u753b\u50cf\u306e\u62e1\u5927\u6642\u306b\u88dc\u5b8c\u3057\u3066\u6ed1\u3089\u304b\u306b\u8868\u793a\u3057\u307e\u3059","Rearrange the palette windows":"\u30d1\u30ec\u30c3\u30c8\u3092\u518d\u914d\u7f6e","Hides or shows all palettes":"\u30d1\u30ec\u30c3\u30c8\u306e\u8868\u793a/\u975e\u8868\u793a",
Misc:"\u64cd\u4f5c","Round Pixelated":"\u5186\u30d4\u30af\u30bb\u30eb","Round Hard Edge":"\u5186\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Round Soft":"\u5186\u30bd\u30d5\u30c8","Square Pixelated":"\u89d2\u30d4\u30af\u30bb\u30eb","Square Hard Edge":"\u89d2\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Color (picker)":"\u30ab\u30e9\u30fc","Tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Brush size":"\u30d6\u30e9\u30b7\u30b5\u30a4\u30ba",Opacity:"\u4e0d\u900f\u660e\u5ea6",Color:"\u8272\u88dc\u5145",
Blend:"\u6df7\u8272",Spacing:"\u9593\u9694",Scattering:"\u6563\u4e71",Smoothing:"\u624b\u3076\u308c\u88dc\u6b63","Color swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Color swatches (shorter)":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8",Remove:"\u524a\u9664","Replace with current color":"\u9078\u629e\u4e2d\u306e\u8272\u306b\u7f6e\u304d\u63db\u3048","Save swatches to your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u306b\u4fdd\u5b58","Load swatches from your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u304b\u3089\u8aad\u307f\u8fbc\u307f",
"Add the current brush color as a new swatch":"\u9078\u629e\u4e2d\u306e\u8272\u3092\u8ffd\u52a0","Sample all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u6df7\u5408","Lock transparency":"\u900f\u660e\u90e8\u5206\u3092\u4fdd\u8b77",Textures:"\u30c6\u30af\u30b9\u30c1\u30e3",Customize:"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba",Inverse:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2",Mirror:"\u5de6\u53f3\u53cd\u8ee2",Brightness:"\u8f1d\u5ea6",Contrast:"\u30b3\u30f3\u30c8\u30e9\u30b9\u30c8",Reset:"\u30ea\u30bb\u30c3\u30c8",
"Layer blending mode":"\u5408\u6210\u30e2\u30fc\u30c9",Normal:"\u901a\u5e38",Multiply:"\u4e57\u7b97",Add:"\u52a0\u7b97",Screen:"\u30b9\u30af\u30ea\u30fc\u30f3",Lighten:"\u6bd4\u8f03(\u660e)",Darken:"\u6bd4\u8f03(\u6697)",Subtract:"\u6e1b\u7b97",Dodge:"\u8986\u3044\u713c\u304d",Burn:"\u713c\u304d\u8fbc\u307f",Overlay:"\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4","Hard Light":"\u30cf\u30fc\u30c9\u30e9\u30a4\u30c8","Soft Light":"\u30bd\u30d5\u30c8\u30e9\u30a4\u30c8","Vivid Light":"\u30d3\u30d3\u30c3\u30c9\u30e9\u30a4\u30c8",
"Linear Light":"\u30ea\u30cb\u30a2\u30e9\u30a4\u30c8","Pin Light":"\u30d4\u30f3\u30e9\u30a4\u30c8",Passthrough:"\u901a\u904e",Stroke:"\u30b9\u30c8\u30ed\u30fc\u30af","Free-hand":"\u30d5\u30ea\u30fc\u30cf\u30f3\u30c9","Straight line":"\u76f4\u7dda","Bezier curve":"Bz\uff08\u30d9\u30b8\u30a7\uff09\u66f2\u7dda",Tools:"\u30c4\u30fc\u30eb",Marquee:"\u9078\u629e\u7bc4\u56f2","Move tool":"\u79fb\u52d5","Flood fill":"\u5857\u308a\u6f70\u3057","Gradient fill":"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3","Color picker":"\u30b9\u30dd\u30a4\u30c8",
"Rotate canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u56de\u8ee2","Grab canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u4f4d\u7f6e",Pencil:"\u925b\u7b46",Pen:"\u30da\u30f3",Airbrush:"\u30a8\u30a2\u30d6\u30e9\u30b7",Waterpaint:"\u6c34\u5f69",Eraser:"\u6d88\u3057\u30b4\u30e0","Soft eraser":"\u8584\u6d88\u3057",Smudge:"\u6307\u5148",Blender:"\u6df7\u8272","Dodge (tool)":"\u8986\u3044\u713c\u304d","Burn (tool)":"\u713c\u304d\u8fbc\u307f",Blur:"\u307c\u304b\u3057","Grid options":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a",
"Grid size":"\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba","Rename...":"\u540d\u524d\u3092\u5909\u66f4","Add layer":"\u65b0\u898f\u30ec\u30a4\u30e4\u30fc","Delete layer":"\u30ec\u30a4\u30e4\u30fc\u524a\u9664","Add group":"\u65b0\u898f\u30b0\u30eb\u30fc\u30d7","Delete group":"\u30b0\u30eb\u30fc\u30d7\u524a\u9664","Add mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0",Gradient:"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210","Transform style":"\u5909\u5f62\u30b9\u30bf\u30a4\u30eb",
"Apply transform":"\u5909\u5f62\u78ba\u5b9a","Complete transform":"\u5909\u5f62\u3092\u5b8c\u4e86","Undo transform":"\u53d6\u308a\u6d88\u3057","You need to finish transforming this layer before you can do that. What would you like to do with the transform?":"\u7d9a\u884c\u3059\u308b\u305f\u3081\u306b\u5909\u5f62\u3092\u5b8c\u4e86\u3057\u307e\u3059\u3002",Smooth:"\u30b9\u30e0\u30fc\u30ba",Sharp:"\u30b7\u30e3\u30fc\u30d7","Opacity: ":"\u4e0d\u900f\u660e\u5ea6:","Please enter a color in hex format":"16\u9032\u5f62\u5f0f\u3067\u8272\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\uff08#xxxxxx\u306e\u5f62\uff09",
Cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",Ok:"OK",Okay:"OK",OK:"OK","Whoops! This layer is currently hidden":"\u975e\u8868\u793a\u30ec\u30a4\u30e4\u30fc\u3067\u3059\u3002","Whoops! This layer's opacity is currently 0%":"\u30ec\u30a4\u30e4\u30fc\u306e\u4e0d\u900f\u660e\u5ea6\u304c0%\u3067\u3059","Whoops! You can't draw on a group":"\u30b0\u30eb\u30fc\u30d7\u30d5\u30a9\u30eb\u30c0\u306b\u306f\u63cf\u3051\u307e\u305b\u3093","Whoops! All of the selected pixels are transparent!":"\u30ec\u30a4\u30e4\u30fc\u304c\u7a7a\u3067\u3059",
Image:"\u753b\u50cf","Layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af","Sorry, you can't remove the last remaining layer in the drawing.":"\u6700\u5f8c\u306e1\u3064\u306a\u306e\u3067\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002","Are you sure you want to send your drawing to the server and finish drawing now?":"\u304a\u7d75\u304b\u304d\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f","Your drawing has unsaved changes! Are you sure to want to navigate away?":"\u304a\u7d75\u304b\u304d\u306b\u672a\u4fdd\u5b58\u306e\u5909\u66f4\u304c\u3042\u308a\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",
"Many of the menu options and painting tools have keyboard shortcuts which are written next to them or appear when you hover.":"\u5229\u7528\u53ef\u80fd\u306a\u30ad\u30fc\u30dc\u30fc\u30c9\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u306e\u3044\u304f\u3064\u304b\u306f\u30e1\u30cb\u30e5\u30fc\u306e\u6a2a\u3084\u30c4\u30fc\u30eb\u30c1\u30c3\u30d7\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002","Here are some other shortcuts which are not as obvious!":"\u3053\u306e\u4e00\u89a7\u306f\u305d\u308c\u4ee5\u5916\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3092\u307e\u3068\u3081\u305f\u3082\u306e\u3067\u3059\u3002",
Right:"\u53f3",Left:"\u5de6",Middle:"\u4e2d",or:"\u307e\u305f\u306f","Double click":"\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af","Color swatches palette":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Use as the drawing color":"\u30d1\u30ec\u30c3\u30c8\u306e\u8272\u3092\u53d6\u5f97","Remove or replace a color swatch":"\u30d1\u30ec\u30c3\u30c8\u306e\u5909\u66f4\uff65\u524a\u9664","Line drawing mode":"\u76f4\u7dda\u30e2\u30fc\u30c9","Snap line to nearest 45 degrees":"45\u00b0\u5358\u4f4d\u3067\u30b9\u30ca\u30c3\u30d7",
"Painting tools":"\u30c4\u30fc\u30eb","Change brush opacity":"\u30d6\u30e9\u30b7\u306e\u4e0d\u900f\u660e\u5ea6","Change brush size":"\u30d6\u30e9\u30b7\u30b5\u30a4\u30ba","Brush palette":"\u30d6\u30e9\u30b7\u30d1\u30ec\u30c3\u30c8","Adjust brush sliders more precisely":"\u30d6\u30e9\u30b7\u30b9\u30e9\u30a4\u30c0\u30fc\u3092\u3088\u308a\u7d30\u304b\u304f\u8abf\u6574","Drawing canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9","Move the canvas around":"\u30ad\u30e3\u30f3\u30d0\u30b9\u3092\u79fb\u52d5","Rotate the canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u56de\u8ee2",
"Sample the color under the cursor":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u8272\u3092\u30b9\u30dd\u30a4\u30c8","Layers palette":"\u30ec\u30a4\u30e4\u30fc\u30d1\u30ec\u30c3\u30c8","Rename layer":"\u30ec\u30a4\u30e4\u30fc\u540d\u5909\u66f4","Toggle mask enable/disable":"\u30de\u30b9\u30af\u306e\u6709\u52b9/\u7121\u52b9\u5207\u308a\u66ff\u3048","Toggle mask View":"\u30de\u30b9\u30af\u306e\u8868\u793a/\u975e\u8868\u793a\u5207\u308a\u66ff\u3048","Save Oekaki":"\u4fdd\u5b58","Saving drawing...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u4e2d\u2026",
"Preparing your drawing to be saved, please wait...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3059\u308b\u6e96\u5099\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u2026","Drawing saved!":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\uff01","Your drawing has been saved, would you like to post it to the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f",
"Yes, post it now":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059","No, keep drawing":"\u307e\u3060\u63cf\u304d\u307e\u3059","No, quit and I'll finish it later":"\u30a2\u30d7\u30ea\u3092\u7d42\u4e86\u3057\u3066\u7d9a\u304d\u3092\u5f8c\u3067\u63cf\u304f","Your drawing has been saved, would you like to view it on the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f","Yes, view the post":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059\u3002",
"Your drawing has been saved, redirecting you to view your new post now...":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u6295\u7a3f\u5148\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002","Sorry, your drawing could not be saved, please try again later.":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u518d\u5ea6\u6295\u7a3f\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002","The error returned from the server was":"\u30b5\u30fc\u30d0\u304b\u3089\u8fd4\u3063\u3066\u6765\u305f\u30a8\u30e9\u30fc"}},
{}],54:[function(g,K,D){function z(h){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},z(h)}function k(h){if("function"!=typeof WeakMap)return null;var c=new WeakMap,f=new WeakMap;return(k=function(p){return p?f:c})(h)}function v(h,c){if(!c&&h&&h.__esModule)return h;if(null===h||"object"!=z(h)&&"function"!=typeof h)return{default:h};
if((c=k(c))&&c.has(h))return c.get(h);var f={__proto__:null},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in h)if("default"!==e&&Object.prototype.hasOwnProperty.call(h,e)){var n=p?Object.getOwnPropertyDescriptor(h,e):null;n&&(n.get||n.set)?Object.defineProperty(f,e,n):f[e]=h[e]}return f.default=h,c&&c.set(h,f),f}function E(h,c){var f="undefined"!==typeof Symbol&&h[Symbol.iterator]||h["@@iterator"];if(!f){if(Array.isArray(h)||(f=b(h))||c&&h&&"number"===typeof h.length){f&&(h=f);
var p=0;c=function(){};return{s:c,n:function(){return p>=h.length?{done:!0}:{done:!1,value:h[p++]}},e:function(A){throw A;},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var e=!0,n=!1,u;return{s:function(){f=f.call(h)},n:function(){var A=f.next();e=A.done;return A},e:function(A){n=!0;u=A},f:function(){try{e||null==f.return||f.return()}finally{if(n)throw u;}}}}function b(h,c){if(h){if("string"===
typeof h)return d(h,c);var f=Object.prototype.toString.call(h).slice(8,-1);"Object"===f&&h.constructor&&(f=h.constructor.name);if("Map"===f||"Set"===f)return Array.from(h);if("Arguments"===f||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return d(h,c)}}function d(h,c){if(null==c||c>h.length)c=h.length;for(var f=0,p=Array(c);f<c;f++)p[f]=h[f];return p}function w(h){h=h.split(/[-_]/,1)[0].toLowerCase();h in m?(q=m[h],r=h):(q=a,r="en")}Object.defineProperty(D,"__esModule",{value:!0});D._=function(h){return h in
q?q[h]:h};D.currentLanguage=function(){return r};D.guessLanguage=function(){try{if("undefined"!==typeof navigator){var h=navigator.languages;Array.isArray(h)||(h=[h]);var c=E(h),f;try{for(c.s();!(f=c.n()).done;){var p=f.value,e=/^(..)([-_].+)?$/.exec(p);if(e){e[1]=e[1].toLowerCase();if(e[1]in m){w(p);break}if("en"===e[1]){w("en");break}}}}catch(n){c.e(n)}finally{c.f()}}}catch(n){console.error(n)}};D.setLanguage=w;var a=v(g("./en.json")),m={ja:v(g("./ja.json")),en:a},q=a,r="en"},{"./en.json":52,"./ja.json":53}],
55:[function(g,K,D){function z(){}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;var k=function(v){return v&&v.__esModule?v:{default:v}}(g("./ArrayDataStream.js"));z.prototype.read=function(v){if(null==v)return null;v=new k.default(new Uint8Array(v));var E=[];if(1!=v.readU16BE())return null;var b=v.readU16BE();for(var d=0;d<b;d++)if(0==v.readU16BE()){var w=255*v.readU16BE()/65535,a=255*v.readU16BE()/65535,m=255*v.readU16BE()/65535;v.readU16BE();E.push(w<<16|a<<8|m)}return E};z.prototype.write=
function(v){var E=new Uint8Array(4+10*v.length);E=new k.default(E);E.writeU16BE(1);E.writeU16BE(v.length);for(var b=0;b<v.length;b++){var d=v[b];E.writeU16BE(0);E.writeU16BE(257*(d>>16&255));E.writeU16BE(257*(d>>8&255));E.writeU16BE(257*(d&255));E.writeU16BE(0)}return E.getAsDataArray()};K.exports=D.default},{"./ArrayDataStream.js":56}],56:[function(g,K,D){function z(k,v,E){this.data=k;this.eof=!1;this.start=void 0===v?0:v;this.end=void 0===E?k.length:E;this.pos=this.start}Object.defineProperty(D,
"__esModule",{value:!0});D.default=z;z.prototype.readChar=function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos++]);this.eof=!0;return-1};z.prototype.readByte=function(){if(this.pos<this.end)return this.data[this.pos++];this.eof=!0;return-1};z.prototype.readU8=z.prototype.readByte;z.prototype.readS8=function(){var k=this.readByte();return k&128?k|4294967040:k};z.prototype.unreadChar=function(k){this.pos--};z.prototype.peekChar=function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos]);
this.eof=!0;return-1};z.prototype.readString=function(k){var v=Array(k),E;for(E=0;E<k;E++)v[E]=this.readChar();return v.join("")};z.prototype.readS16=function(){var k=this.readByte(),v=this.readByte();k=k<<8|v;return k&32768?k|4294901760:k};z.prototype.readU16BE=function(){var k=this.readByte(),v=this.readByte();return k<<8|v};z.prototype.readU16LE=function(){var k=this.readByte();return this.readByte()<<8|k};z.prototype.readU32BE=function(){var k=this.readByte(),v=this.readByte(),E=this.readByte(),
b=this.readByte();return(k<<24|v<<16|E<<8|b)>>>0};z.prototype.readU32LE=function(){var k=this.readByte(),v=this.readByte(),E=this.readByte();return(this.readByte()<<24|E<<16|v<<8|k)>>>0};z.prototype.readBytes=function(k){var v=this.data.subarray(this.pos,this.pos+k);this.pos+=k;this.pos>this.end&&(this.eof=!0);return v};z.prototype.skip=function(k){this.pos+=k;this.pos>this.end&&(this.eof=!0)};z.prototype.seek=function(k){this.pos=k};z.prototype.writeBytes=function(k){for(var v=0;v<k.length;v++)this.data[this.pos++]=
k[v]};z.prototype.writeByte=function(k){this.data[this.pos++]=k};z.prototype.writeU8=z.prototype.writeByte;z.prototype.writeU16LE=function(k){this.data[this.pos++]=k;this.data[this.pos++]=k>>8};z.prototype.writeU16BE=function(k){this.data[this.pos++]=k>>8;this.data[this.pos++]=k};z.prototype.writeU32BE=function(k){this.data[this.pos++]=k>>24;this.data[this.pos++]=k>>16;this.data[this.pos++]=k>>8;this.data[this.pos++]=k};z.prototype.writeU32LE=function(k){this.data[this.pos++]=k;this.data[this.pos++]=
k>>8;this.data[this.pos++]=k>>16;this.data[this.pos++]=k>>24};z.prototype.writeDoubleBE=function(k){k=new Uint8Array((new Float64Array([k])).buffer);for(var v=k.length-1;0<=v;v--)this.writeByte(k[v])};z.prototype.writeFloatBE=function(k){k=new Uint8Array((new Float32Array([k])).buffer);for(var v=k.length-1;0<=v;v--)this.writeByte(k[v])};z.prototype.writeString=function(k){for(var v=0;v<k.length;v++)this.data[this.pos++]=k.charCodeAt(v)};z.prototype.writeUnsignedIntBE=function(k,v){void 0===v&&(v=
this.measureUnsignedInt(k));switch(v){case 5:this.writeU8(Math.floor(k/4294967296));case 4:this.writeU8(k>>24);case 3:this.writeU8(k>>16);case 2:this.writeU8(k>>8);case 1:this.writeU8(k);break;default:throw"Bad UINT size "+v;}};z.prototype.measureUnsignedInt=function(k){return 256>k?1:65536>k?2:16777216>k?3:4294967296>k?4:5};z.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw"ArrayDataStream's pos lies beyond end of buffer";
};z.prototype.EOF=-1;K.exports=D.default},{}],57:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){var z=this;this.x0=this.y0=this.x1=this.y1=this.x2=this.y2=this.x3=this.y3=0;var k,v,E,b,d,w,a,m;this.compute=function(q,r,h){var c=1/h,f=3*c,p=f*c;c*=c*c;var e=2*p,n=6*c,u=z.x0-2*z.x1+z.x2,A=z.y0-2*z.y1+z.y2,C=3*(z.x1-z.x2)-z.x0+z.x3,B=3*(z.y1-z.y2)-z.y0+z.y3;k=z.x0;d=z.y0;v=(z.x1-z.x0)*f+u*p+C*c;w=(z.y1-z.y0)*f+A*p+B*c;E=u*e+C*n;a=A*e+B*n;b=C*n;m=B*n;q[0]=k;r[0]=
d;for(f=1;f<h;f++)k+=v,d+=w,v+=E,w+=a,E+=b,a+=m,q[f]=k,r[f]=d}};K.exports=D.default},{}],58:[function(g,K,D){function z(v){if(0==v.saturation)return v.value<<16|v.value<<8|v.value;var E=v.hue/60;E-=Math.floor(E);var b=v.saturation/255,d=~~(v.value*(1-b)),w=~~(v.value*(1-b*E));E=~~(v.value*(1-b*(1-E)));switch(~~(v.hue/60)){case 0:return v.value<<16|E<<8|d;case 1:return w<<16|v.value<<8|d;case 2:return d<<16|v.value<<8|E;case 3:return d<<16|w<<8|v.value;case 4:return E<<16|d<<8|v.value;case 5:return v.value<<
16|d<<8|w;default:return 0}}function k(v){this.value=this.saturation=this.hue=this.rgb=0;this.setRgb(v||0)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;k.prototype.getRgb=function(){return this.rgb};k.prototype.getSaturation=function(){return this.saturation};k.prototype.getHue=function(){return this.hue};k.prototype.getValue=function(){return this.value};k.prototype.setRgbComponents=function(v,E,b){this.setRgb(v<<16|E<<8|b)};k.prototype.setRgb=function(v){this.rgb=v;var E=v>>16&255,
b=v>>8&255;v&=255;this.value=Math.max(E,Math.max(b,v));var d=Math.min(E,Math.min(b,v));this.saturation=0==this.value?0:~~((this.value-d)/this.value*255);if(0==this.saturation)this.hue=0;else{var w=(this.value-E)/(this.value-d),a=(this.value-b)/(this.value-d);d=(this.value-v)/(this.value-d);var m=0;this.value==E&&(m=d-a);this.value==b&&(m=2+w-d);this.value==v&&(m=4+a-w);m*=60;0>m&&(m+=360);this.hue=~~m}};k.prototype.setHsv=function(v,E,b){this.hue=v;this.saturation=E;this.value=b;this.rgb=z(this)};
k.prototype.setHue=function(v){this.hue=v;this.rgb=z(this)};k.prototype.setSaturation=function(v){this.saturation=v;this.rgb=z(this)};k.prototype.setValue=function(v){this.value=v;this.rgb=z(this)};k.prototype.setGreyscale=function(v){this.rgb=k.greyToRGB(v);this.saturation=this.hue=0;this.value=v};k.prototype.clone=function(){var v=new k(0);v.copyFrom(this);return v};k.prototype.copyFrom=function(v){this.rgb=v.rgb;this.hue=v.hue;this.saturation=v.saturation;this.value=v.value};k.prototype.isEqual=
function(v){return this.rgb==v.rgb&&this.hue==v.hue&&this.saturation==v.saturation&&this.value==v.value};k.greyToRGB=function(v){return v|v<<8|v<<16};K.exports=D.default},{}],59:[function(g,K,D){function z(k,v,E){this.r=k;this.g=v;this.b=E}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;z.prototype.toInt=function(){return Math.max(0,Math.min(255,Math.round(255*this.r)))<<16|Math.max(0,Math.min(255,Math.round(255*this.g)))<<8|Math.max(0,Math.min(255,Math.round(255*this.b)))};z.prototype.mixWith=
function(k,v){this.r=this.r*(1-v)+k.r*v;this.g=this.g*(1-v)+k.g*v;this.b=this.b*(1-v)+k.b*v};z.prototype.clone=function(){return new z(this.r,this.g,this.b)};z.createFromInt=function(k){return new z((k>>>16&255)/255,(k>>>8&255)/255,(k&255)/255)};K.exports=D.default},{}],60:[function(g,K,D){function z(v){for(var E=["imageSmoothingEnabled","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled"],b=0;b<E.length;b++)if(E[b]in v)return E[b];return null}Object.defineProperty(D,
"__esModule",{value:!0});D.isCanvasInterpolationSupported=function(){var v=(0,k.createCanvas)(0,0).getContext("2d");return!!z(v)};D.isCanvasSupported=function(){var v=(0,k.createCanvas)(0,0);return!(!v.getContext||!v.getContext("2d"))};D.isEventSupported=function(v){var E=v in window;E||(E=document.createElement("div"),E.setAttribute(v,"return;"),E="function"==typeof E[v]);return E};D.isFlexboxSupported=function(){return("string"==typeof document.body.style.flexBasis||"string"==typeof document.body.style.msFlexDirection)&&
!/Presto/.test(navigator.userAgent)};D.setCanvasInterpolation=function(v,E){var b=z(v);b&&(v[b]=E)};var k=g("./Canvas.js")},{"./Canvas.js":2}],61:[function(g,K,D){function z(k){this.points=k||[]}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;(function(k){return k&&k.__esModule?k:{default:k}})(g("./CPTransform.js"));z.prototype.clone=function(){for(var k=new z(Array(this.points.length)),v=0;v<this.points.length;v++)k.points[v]={x:this.points[v].x,y:this.points[v].y};return k};z.prototype.getTransformed=
function(k){for(var v=new z(Array(this.points.length)),E=0;E<this.points.length;E++)v.points[E]=k.getTransformedPoint(this.points[E]);return v};z.prototype.getCenter=function(){for(var k=this.points[0].x,v=this.points[0].y,E=1;E<this.points.length;E++)k+=this.points[E].x,v+=this.points[E].y;return{x:k/this.points.length,y:v/this.points.length}};z.prototype.containsPoint=function(k){var v,E=!1;var b=0;for(v=this.points.length-1;b<this.points.length;v=b++)this.points[b].y>k.y!=this.points[v].y>k.y&&
k.x<(this.points[v].x-this.points[b].x)*(k.y-this.points[b].y)/(this.points[v].y-this.points[b].y)+this.points[b].x&&(E=!E);return E};K.exports=D.default},{"./CPTransform.js":64}],62:[function(g,K,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){var z,k=!1;this.nextGaussian=function(){if(k)return k=!1,z;do{var v=2*Math.random()-1;var E=2*Math.random()-1;var b=v*v+E*E}while(1<=b||0==b);b=Math.sqrt(-2*Math.log(b)/b);z=E*b;k=!0;return v*b}};K.exports=D.default},{}],63:[function(g,
K,D){function z(v){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},z(v)}function k(v,E,b,d){this.left=v;this.top=E;this.right=b;this.bottom=d}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;k.prototype.makeEmpty=function(){this.bottom=this.right=this.top=this.left=0};k.prototype.union=function(v){this.isEmpty()?
this.set(v):v.isEmpty()||(this.left=Math.min(this.left,v.left),this.top=Math.min(this.top,v.top),this.right=Math.max(this.right,v.right),this.bottom=Math.max(this.bottom,v.bottom))};k.prototype.getUnion=function(v){var E=this.clone();E.union(v);return E};k.prototype.getIntersection=function(v){return new k(Math.max(this.left,v.left),Math.max(this.top,v.top),Math.min(this.right,v.right),Math.min(this.bottom,v.bottom))};k.prototype.clipTo=function(v){this.isEmpty()||(v.isEmpty()?this.makeEmpty():(this.left=
Math.min(Math.max(this.left,v.left),v.right),this.top=Math.min(Math.max(this.top,v.top),v.bottom),this.right=Math.max(Math.min(this.right,v.right),v.left),this.bottom=Math.max(Math.min(this.bottom,v.bottom),v.top)));return this};k.prototype.containsPoint=function(v){return!(v.x<this.left||v.y<this.top||v.x>=this.right||v.y>=this.bottom)};k.prototype.isInside=function(v){return this.left>=v.left&&this.top>=v.top&&this.right<=v.right&&this.bottom<=v.bottom};k.prototype.clipSourceDest=function(v,E){E.right=
E.left+v.getWidth();E.bottom=E.top+v.getHeight();this.isEmpty()||E.left>=this.right||E.top>=this.bottom||E.right<=this.left||E.bottom<=this.top?(v.makeEmpty(),E.makeEmpty()):(E.right>this.right&&(v.right-=E.right-this.right,E.right=this.right),E.bottom>this.bottom&&(v.bottom-=E.bottom-this.bottom,E.bottom=this.bottom),E.left<this.left&&(v.left+=this.left-E.left,E.left=this.left),E.top<this.top&&(v.top+=this.top-E.top,E.top=this.top))};k.prototype.getWidth=function(){return this.right-this.left};k.prototype.getHeight=
function(){return this.bottom-this.top};k.prototype.getArea=function(){return this.getWidth()*this.getHeight()};k.prototype.isEmpty=function(){return this.right<=this.left||this.bottom<=this.top};k.prototype.set=function(v){this.left=v.left;this.top=v.top;this.right=v.right;this.bottom=v.bottom};k.prototype.clone=function(){return new k(this.left,this.top,this.right,this.bottom)};k.prototype.translate=function(v,E){this.left+=v;this.right+=v;this.top+=E;this.bottom+=E;return this};k.prototype.getTranslated=
function(v,E){var b=this.clone();b.translate(v,E);return b};k.prototype.moveTo=function(v,E){this.translate(v-this.left,E-this.top)};k.prototype.equals=function(v){return this.left==v.left&&this.right==v.right&&this.top==v.top&&this.bottom==v.bottom};k.prototype.grow=function(v,E){this.left-=v;this.right+=v;this.top-=E;this.bottom+=E};k.prototype.toString=function(){return"("+this.left+","+this.top+","+this.right+","+this.bottom+")"};k.prototype.toPoints=function(){return[{x:this.left,y:this.top},
{x:this.right,y:this.top},{x:this.right,y:this.bottom},{x:this.left,y:this.bottom}]};k.prototype.roundNearest=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);return this};k.prototype.roundContain=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);return this};k.createBoundingBox=function(v){if(0===v.length)return new k(0,
0,0,0);for(var E=new k(v[0].x,v[0].y,v[0].x,v[0].y),b=1;b<v.length;b++)E.left=Math.min(E.left,v[b].x),E.top=Math.min(E.top,v[b].y),E.right=Math.max(E.right,v[b].x),E.bottom=Math.max(E.bottom,v[b].y);return E};k.prototype.subtract=function(v){return k.subtract(this,v)};k.subtract=function(v,E){v instanceof k&&(v=[v]);E instanceof k&&(E=[E]);v=v.slice(0);for(var b=0;b<E.length;b++)for(var d=E[b],w=v.length,a=0;a<w;a++){var m=v[a];if(m){var q=m.getIntersection(d);if(!q.isEmpty()){var r=[];m.top<d.top&&
r.push(new k(m.left,m.top,m.right,q.top));m.bottom>d.bottom&&r.push(new k(m.left,q.bottom,m.right,m.bottom));m.left<d.left&&r.push(new k(m.left,q.top,q.left,q.bottom));m.right>d.right&&r.push(new k(q.right,q.top,m.right,q.bottom));r=r.filter(function(h){return!h.isEmpty()});if(0<r.length)for(v[a]=r[0],m=1;m<r.length;m++)v.push(r[m]);else v[a]=null}}}return v.filter(function(h){return null!=h})};k.union=function(v){if(v instanceof k)v=[v];else{v=v.slice(0);for(var E=0;E<v.length;E++){var b=v[E],d=
v.length;if(b)for(var w=E+1;w<d;w++){var a=v[w];if(a&&!b.getIntersection(a).isEmpty()){a=k.subtract(a,b);v[w]=a[0];for(var m=1;m<a.length;m++)v.push(a[m])}}}}return v.filter(function(q){return q&&!q.isEmpty()})};"object"==("undefined"===typeof window?"undefined":z(window))&&(window.cpRectGarbage=new k(1.5,2.5,3.5,4.5));K.exports=D.default},{}],64:[function(g,K,D){function z(){this.setToIdentity()}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;z.prototype.setToIdentity=function(){this.m=
[1,0,0,1,0,0]};z.prototype.multiply=function(k){var v=this.m[1]*k.m[0]+this.m[3]*k.m[1],E=this.m[0]*k.m[2]+this.m[2]*k.m[3],b=this.m[1]*k.m[2]+this.m[3]*k.m[3],d=this.m[0]*k.m[4]+this.m[2]*k.m[5]+this.m[4],w=this.m[1]*k.m[4]+this.m[3]*k.m[5]+this.m[5];this.m[0]=this.m[0]*k.m[0]+this.m[2]*k.m[1];this.m[1]=v;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=w};z.prototype.preMultiply=function(k){var v=k.m[1]*this.m[0]+k.m[3]*this.m[1],E=k.m[0]*this.m[2]+k.m[2]*this.m[3],b=k.m[1]*this.m[2]+k.m[3]*this.m[3],
d=k.m[0]*this.m[4]+k.m[2]*this.m[5]+k.m[4],w=k.m[1]*this.m[4]+k.m[3]*this.m[5]+k.m[5];this.m[0]=k.m[0]*this.m[0]+k.m[2]*this.m[1];this.m[1]=v;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=w};z.prototype.invert=function(){var k=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),v=-this.m[1]*k,E=-this.m[2]*k,b=this.m[0]*k,d=k*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),w=k*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=this.m[3]*k;this.m[1]=v;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=w};z.prototype.getInverted=
function(){var k=new z;k.m[0]=this.m[0];k.m[1]=this.m[1];k.m[2]=this.m[2];k.m[3]=this.m[3];k.m[4]=this.m[4];k.m[5]=this.m[5];k.invert();return k};z.prototype.rotate=function(k){var v=Math.cos(k);k=Math.sin(k);var E=this.m[1]*v+this.m[3]*k,b=this.m[0]*-k+this.m[2]*v,d=this.m[1]*-k+this.m[3]*v;this.m[0]=this.m[0]*v+this.m[2]*k;this.m[1]=E;this.m[2]=b;this.m[3]=d};z.prototype.rotateAroundPoint=function(k,v,E){this.translate(v,E);this.rotate(k);this.translate(-v,-E)};z.prototype.translate=function(k,
v){this.m[4]+=this.m[0]*k+this.m[2]*v;this.m[5]+=this.m[1]*k+this.m[3]*v};z.prototype.scale=function(k,v){this.m[0]*=k;this.m[1]*=k;this.m[2]*=v;this.m[3]*=v};z.prototype.scaleAroundPoint=function(k,v,E,b){this.translate(E,b);this.scale(k,v);this.translate(-E,-b)};z.prototype.shear=function(k,v){var E=this.m[1]+this.m[3]*v,b=this.m[2]+this.m[0]*k;k=this.m[3]+this.m[1]*k;this.m[0]+=this.m[2]*v;this.m[1]=E;this.m[2]=b;this.m[3]=k};z.prototype.getTransformedPoint=function(k){return{x:k.x*this.m[0]+k.y*
this.m[2]+this.m[4],y:k.x*this.m[1]+k.y*this.m[3]+this.m[5]}};z.prototype.transformPoints=function(k){for(var v=0;v<k.length;v++)k[v]=this.getTransformedPoint(k[v])};z.prototype.getTranslateX=function(){return this.m[4]};z.prototype.getTranslateY=function(){return this.m[5]};z.prototype.clone=function(){var k=new z;k.m[0]=this.m[0];k.m[1]=this.m[1];k.m[2]=this.m[2];k.m[3]=this.m[3];k.m[4]=this.m[4];k.m[5]=this.m[5];return k};z.prototype.getDeterminant=function(){return this.m[0]*this.m[3]-this.m[1]*
this.m[2]};z.prototype.decompose=function(){var k=this.getDeterminant(),v=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return{translate:{x:this.m[4],y:this.m[5]},rotate:Math.sign(this.m[1])*Math.acos(this.m[0]/v),scale:{x:v,y:k/v},shear:{x:Math.atan((this.m[0]*this.m[2]+this.m[1]*this.m[3])/(v*v)),y:0}}};z.prototype.toString=function(){return"["+this.m[0].toFixed(2)+" "+this.m[2].toFixed(2)+" "+this.m[4].toFixed(2)+"]\n["+this.m[1].toFixed(2)+" "+this.m[3].toFixed(2)+" "+this.m[5].toFixed(2)+
"]\n[0.00 0.00 1.00]"};Math.sign=Math.sign||function(k){k=+k;return 0===k||isNaN(k)?k:0<k?1:-1};K.exports=D.default},{}],65:[function(g,K,D){function z(k,v){this.x=k;this.y=v}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;z.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};z.prototype.normalize=function(){var k=this.getLength();this.x/=k;this.y/=k;return this};z.prototype.getDotProduct=function(k){return this.x*k.x+this.y*k.y};z.prototype.scale=function(k){this.x*=
k;this.y*=k;return this};z.prototype.getScaled=function(k){var v=new z(this.x,this.y);v.scale(k);return v};z.prototype.getRounded=function(){return new z(Math.round(this.x),Math.round(this.y))};z.prototype.getTruncated=function(){return new z(~~this.x,~~this.y)};z.prototype.getPerpendicular=function(){return new z(-this.y,this.x)};z.prototype.add=function(k){this.x+=k.x;this.y+=k.y;return this};z.prototype.subtract=function(k){this.x-=k.x;this.y-=k.y;return this};z.prototype.getSum=function(k){return new z(this.x+
k.x,this.y+k.y)};z.subtractPoints=function(k,v){return new z(k.x-v.x,k.y-v.y)};K.exports=D.default},{}],66:[function(g,K,D){function z(){var k=null,v,E=this;this.isPen=function(){if(k){var b=k.pointerType;return 1==b||3==b}return!1};this.getPressure=function(){return k?k.pressure:1};this.pluginLoaded=function(){console.log("Wacom tablet support loaded!");k=v.penAPI};this.isTabletPresent=function(){return!!k};this.detectTablet=function(){if(/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent))console.log("Not attempting to load Wacom tablet plugin, since this is Chrome");
else{console.log("Attempting to load Wacom tablet support...");v=document.createElement("object");if("classid"in v)v.classid="CLSID:092dfa86-5807-5a94-bf3b-5a53ba9e5308";else{var b=document.createElement("param");b.name="onload";b.value="onWacomPluginLoaded";v.appendChild(b);v.type="application/x-wacomtabletplugin"}v.style.position="absolute";v.style.visibility="hidden";v.onload="onWacomPluginLoaded";document.body.appendChild(v);setTimeout(function(){E.isTabletPresent()||console.log("Looks like the Wacom plugin isn't installed, or failed to load.")},
5E3)}}}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;z.getRef=function(){null==z.instance&&(z.instance=new z);return z.instance};window.onWacomPluginLoaded=function(){z.getRef().pluginLoaded()};K.exports=D.default},{}],67:[function(g,K,D){function z(k,v,E,b){var d,w=0;"boolean"!==typeof v&&(b=E,E=v,v=void 0);return function(){function a(){w=+new Date;E.apply(q,h)}function m(){d=void 0}var q=this,r=+new Date-w,h=arguments;b&&!d&&a();d&&clearTimeout(d);void 0===b&&r>k?a():!0!==v&&(d=
setTimeout(b?m:a,void 0===b?k-r:k))}}Object.defineProperty(D,"__esModule",{value:!0});D.debounce=function(k,v,E){return void 0===E?z(k,v,!1):z(k,E,!1!==v)};D.throttle=z},{}],68:[function(g,K,D){function z(k){for(var v={DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27," ":32,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,SHIFT:16,"[":219,"]":221,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"-":189,"=":187,"+":187,";":187,LEFTMETA:91,RIGHTMETA:91,ALT:18,ALTGRAPH:18,OPTION:18,CONTROL:17},E=65;90>=
E;E++){var b=String.fromCharCode(E);v[b]=E}k=k.toUpperCase();if(k in v)return v[k]}(function(k){function v(C,B){for(var I=C.length;I--;)if(C[I]===B)return I;return-1}function E(C){var B,I;var N=z(C.key);-1==v(n,N)&&n.push(N);if(N in h)for(B in h[N]=!0,f)f[B]==N&&(b[B]=!0);else{for(q in h)h[q]=C[u[q]];if(b.filter.call(this,C)&&N in r){var y=d();for(I=0;I<r[N].length;I++){var G=r[N][I];if(G.scope==y||"all"==G.scope){var H=0<G.mods.length;for(B in h)if(!h[B]&&-1<v(G.mods,+B)||h[B]&&-1==v(G.mods,+B))H=
!1;(0!=G.mods.length||h[16]||h[18]||h[17]||h[91])&&!H||!1!==G.method(C,G)||(C.preventDefault?C.preventDefault():C.returnValue=!1,C.stopPropagation&&C.stopPropagation(),C.cancelBubble&&(C.cancelBubble=!0))}}}}}function b(C,B,I){var N=w(C);void 0===I&&(I=B,B="all");for(var y=0;y<N.length;y++){var G=[];C=N[y].split("+");1<C.length&&(G=a(C),C=[C[C.length-1]]);C=C[0];C=e(C);C in r||(r[C]=[]);r[C].push({shortcut:N[y],scope:B,method:I,key:N[y],mods:G})}}function d(){return c||"all"}function w(C){C=C.replace(/\s/g,
"");C=C.split(",");""==C[C.length-1]&&(C[C.length-2]+=",");return C}function a(C){C=C.slice(0,C.length-1);for(var B=0;B<C.length;B++)C[B]=f[C[B]];return C}function m(C,B,I){C.addEventListener&&C.addEventListener(B,I,!1)}var q,r={},h={16:!1,18:!1,17:!1,91:!1},c="all",f={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},p={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,
home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},e=function(C){C=p[C]||C.toUpperCase().charCodeAt(0);return"function"===typeof C?C():C},n=[];for(q=1;20>q;q++)p["f"+q]=111+q;var u={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(q in f)b[q]=!1;m(document,"keydown",function(C){E(C)});m(document,"keyup",function(C){C=z(C.key);var B,I=v(n,C);0<=I&&n.splice(I,1);if(C in h)for(B in h[C]=!1,f)f[B]==C&&(b[B]=!1)});m(window,
"focus",function(){for(q in h)h[q]=!1;for(q in f)b[q]=!1});var A=k.key;k.key=b;k.key.setScope=function(C){c=C||"all"};k.key.getScope=d;k.key.deleteScope=function(C){var B,I;for(B in r){var N=r[B];for(I=0;I<N.length;)N[I].scope===C?N.splice(I,1):I++}};k.key.filter=function(C){C=(C.target||C.srcElement).tagName;return!("INPUT"==C||"SELECT"==C||"TEXTAREA"==C)};k.key.isPressed=function(C){"string"==typeof C&&(C=e(C));return-1!=v(n,C)};k.key.getPressedKeyCodes=function(){return n.slice(0)};k.key.noConflict=
function(){var C=k.key;k.key=A;return C};k.key.unbind=function(C,B){var I=[],N,y;var G=w(C);for(y=0;y<G.length;y++){C=G[y].split("+");1<C.length&&(I=a(C));C=C[C.length-1];C=e(C);void 0===B&&(B=d());if(!r[C])break;for(N=0;N<r[C].length;N++){var H=r[C][N];var O;if(O=H.scope===B)a:if(H=H.mods,H.length!=I.length)O=!1;else{for(O=0;O<H.length;O++)if(H[O]!==I[O]){O=!1;break a}O=!0}O&&(r[C][N]={})}}};"undefined"!==typeof K&&(K.exports=b)})({})},{}],69:[function(g,K,D){(function(){for(var z=0,k=["ms","moz",
"webkit","o"],v=0;v<k.length&&!window.requestAnimationFrame;++v)window.requestAnimationFrame=window[k[v]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[k[v]+"CancelAnimationFrame"]||window[k[v]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(E,b){var d=(new Date).getTime(),w=Math.max(0,16-(d-z));b=window.setTimeout(function(){E(d+w)},w);z=d+w;return b});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(E){clearTimeout(E)})})()},
{}],70:[function(g,K,D){g("../../modules/es.array.fill");g=g("../../internals/entry-unbind");K.exports=g("Array","fill")},{"../../internals/entry-unbind":126,"../../modules/es.array.fill":241}],71:[function(g,K,D){g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g=g("../../internals/entry-unbind");K.exports=g("Array","values")},{"../../internals/entry-unbind":126,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249}],72:[function(g,K,D){g("../../modules/es.array.iterator");
g("../../modules/es.map");g("../../modules/es.object.to-string");g("../../modules/es.string.iterator");g=g("../../internals/path");K.exports=g.Map},{"../../internals/path":199,"../../modules/es.array.iterator":242,"../../modules/es.map":246,"../../modules/es.object.to-string":249,"../../modules/es.string.iterator":264}],73:[function(g,K,D){g("../../modules/es.aggregate-error");g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g("../../modules/es.promise");g("../../modules/es.promise.all-settled");
g("../../modules/es.promise.any");g("../../modules/es.promise.finally");g("../../modules/es.string.iterator");g=g("../../internals/path");K.exports=g.Promise},{"../../internals/path":199,"../../modules/es.aggregate-error":239,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249,"../../modules/es.promise":256,"../../modules/es.promise.all-settled":250,"../../modules/es.promise.any":252,"../../modules/es.promise.finally":255,"../../modules/es.string.iterator":264}],74:[function(g,
K,D){g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g("../../modules/es.set");g("../../modules/es.string.iterator");g=g("../../internals/path");K.exports=g.Set},{"../../internals/path":199,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249,"../../modules/es.set":262,"../../modules/es.string.iterator":264}],75:[function(g,K,D){g("../../modules/es.string.ends-with");g=g("../../internals/entry-unbind");K.exports=g("String","endsWith")},{"../../internals/entry-unbind":126,
"../../modules/es.string.ends-with":263}],76:[function(g,K,D){g("../../modules/es.array.concat");g("../../modules/es.object.to-string");g("../../modules/es.symbol");g("../../modules/es.symbol.async-iterator");g("../../modules/es.symbol.description");g("../../modules/es.symbol.has-instance");g("../../modules/es.symbol.is-concat-spreadable");g("../../modules/es.symbol.iterator");g("../../modules/es.symbol.match");g("../../modules/es.symbol.match-all");g("../../modules/es.symbol.replace");g("../../modules/es.symbol.search");
g("../../modules/es.symbol.species");g("../../modules/es.symbol.split");g("../../modules/es.symbol.to-primitive");g("../../modules/es.symbol.to-string-tag");g("../../modules/es.symbol.unscopables");g("../../modules/es.json.to-string-tag");g("../../modules/es.math.to-string-tag");g("../../modules/es.reflect.to-string-tag");g=g("../../internals/path");K.exports=g.Symbol},{"../../internals/path":199,"../../modules/es.array.concat":240,"../../modules/es.json.to-string-tag":244,"../../modules/es.math.to-string-tag":247,
"../../modules/es.object.to-string":249,"../../modules/es.reflect.to-string-tag":260,"../../modules/es.symbol":272,"../../modules/es.symbol.async-iterator":265,"../../modules/es.symbol.description":267,"../../modules/es.symbol.has-instance":269,"../../modules/es.symbol.is-concat-spreadable":270,"../../modules/es.symbol.iterator":271,"../../modules/es.symbol.match":275,"../../modules/es.symbol.match-all":274,"../../modules/es.symbol.replace":276,"../../modules/es.symbol.search":277,"../../modules/es.symbol.species":278,
"../../modules/es.symbol.split":279,"../../modules/es.symbol.to-primitive":280,"../../modules/es.symbol.to-string-tag":281,"../../modules/es.symbol.unscopables":282}],77:[function(g,K,D){g("../../modules/es.typed-array.fill")},{"../../modules/es.typed-array.fill":283}],78:[function(g,K,D){g("../../modules/es.typed-array.slice")},{"../../modules/es.typed-array.slice":284}],79:[function(g,K,D){var z=g("../internals/is-callable"),k=g("../internals/try-to-string"),v=TypeError;K.exports=function(E){if(z(E))return E;
throw new v(k(E)+" is not a function");}},{"../internals/is-callable":161,"../internals/try-to-string":228}],80:[function(g,K,D){var z=g("../internals/is-constructor"),k=g("../internals/try-to-string"),v=TypeError;K.exports=function(E){if(z(E))return E;throw new v(k(E)+" is not a constructor");}},{"../internals/is-constructor":162,"../internals/try-to-string":228}],81:[function(g,K,D){var z=g("../internals/is-callable"),k=String,v=TypeError;K.exports=function(E){if("object"==typeof E||z(E))return E;
throw new v("Can't set "+k(E)+" as a prototype");}},{"../internals/is-callable":161}],82:[function(g,K,D){D=g("../internals/well-known-symbol");var z=g("../internals/object-create");g=g("../internals/object-define-property").f;var k=D("unscopables"),v=Array.prototype;void 0===v[k]&&g(v,k,{configurable:!0,value:z(null)});K.exports=function(E){v[k][E]=!0}},{"../internals/object-create":182,"../internals/object-define-property":184,"../internals/well-known-symbol":237}],83:[function(g,K,D){var z=g("../internals/object-is-prototype-of"),
k=TypeError;K.exports=function(v,E){if(z(E,v))return v;throw new k("Incorrect invocation");}},{"../internals/object-is-prototype-of":191}],84:[function(g,K,D){var z=g("../internals/is-object"),k=String,v=TypeError;K.exports=function(E){if(z(E))return E;throw new v(k(E)+" is not an object");}},{"../internals/is-object":165}],85:[function(g,K,D){K.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],86:[function(g,K,D){g=g("../internals/fails");K.exports=g(function(){if("function"==
typeof ArrayBuffer){var z=new ArrayBuffer(8);Object.isExtensible(z)&&Object.defineProperty(z,"a",{value:8})}})},{"../internals/fails":132}],87:[function(g,K,D){var z=g("../internals/array-buffer-basic-detection"),k=g("../internals/descriptors"),v=g("../internals/global"),E=g("../internals/is-callable"),b=g("../internals/is-object"),d=g("../internals/has-own-property"),w=g("../internals/classof"),a=g("../internals/try-to-string");D=g("../internals/create-non-enumerable-property");var m=g("../internals/define-built-in"),
q=g("../internals/define-built-in-accessor"),r=g("../internals/object-is-prototype-of"),h=g("../internals/object-get-prototype-of"),c=g("../internals/object-set-prototype-of"),f=g("../internals/well-known-symbol"),p=g("../internals/uid"),e=g("../internals/internal-state");g=e.enforce;var n=e.get,u=v.Int8Array,A=u&&u.prototype;e=(e=v.Uint8ClampedArray)&&e.prototype;var C=u&&h(u),B=A&&h(A);u=Object.prototype;var I=v.TypeError;f=f("toStringTag");var N=p("TYPED_ARRAY_TAG"),y=z&&!!c&&"Opera"!==w(v.opera);
z=!1;var G,H,O={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},J={BigInt64Array:8,BigUint64Array:8},R=function(Y){Y=h(Y);if(b(Y)){var qa=n(Y);return qa&&d(qa,"TypedArrayConstructor")?qa.TypedArrayConstructor:R(Y)}},ea=function(Y){if(!b(Y))return!1;Y=w(Y);return d(O,Y)||d(J,Y)};for(G in O)(H=(p=v[G])&&p.prototype)?g(H).TypedArrayConstructor=p:y=!1;for(G in J)(H=(p=v[G])&&p.prototype)&&(g(H).TypedArrayConstructor=p);
if(!y||!E(C)||C===Function.prototype)if(C=function(){throw new I("Incorrect invocation");},y)for(G in O)v[G]&&c(v[G],C);if(!y||!B||B===u)if(B=C.prototype,y)for(G in O)v[G]&&c(v[G].prototype,B);y&&h(e)!==B&&c(e,B);if(k&&!d(B,f))for(G in z=!0,q(B,f,{configurable:!0,get:function(){return b(this)?this[N]:void 0}}),O)v[G]&&D(v[G],N,G);K.exports={NATIVE_ARRAY_BUFFER_VIEWS:y,TYPED_ARRAY_TAG:z&&N,aTypedArray:function(Y){if(ea(Y))return Y;throw new I("Target is not a typed array");},aTypedArrayConstructor:function(Y){if(E(Y)&&
(!c||r(C,Y)))return Y;throw new I(a(Y)+" is not a typed array constructor");},exportTypedArrayMethod:function(Y,qa,la,Q){if(k){if(la)for(var ka in O){var oa=v[ka];if(oa&&d(oa.prototype,Y))try{delete oa.prototype[Y]}catch(ya){try{oa.prototype[Y]=qa}catch(ja){}}}B[Y]&&!la||m(B,Y,la?qa:y&&A[Y]||qa,Q)}},exportTypedArrayStaticMethod:function(Y,qa,la){var Q,ka;if(k){if(c){if(la)for(Q in O)if((ka=v[Q])&&d(ka,Y))try{delete ka[Y]}catch(oa){}if(!C[Y]||la)try{return m(C,Y,la?qa:y&&C[Y]||qa)}catch(oa){}else return}for(Q in O)ka=
v[Q],!ka||ka[Y]&&!la||m(ka,Y,qa)}},getTypedArrayConstructor:R,isView:function(Y){if(!b(Y))return!1;Y=w(Y);return"DataView"===Y||d(O,Y)||d(J,Y)},isTypedArray:ea,TypedArray:C,TypedArrayPrototype:B}},{"../internals/array-buffer-basic-detection":85,"../internals/classof":98,"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/global":147,"../internals/has-own-property":148,"../internals/internal-state":158,
"../internals/is-callable":161,"../internals/is-object":165,"../internals/object-get-prototype-of":189,"../internals/object-is-prototype-of":191,"../internals/object-set-prototype-of":195,"../internals/try-to-string":228,"../internals/uid":230,"../internals/well-known-symbol":237}],88:[function(g,K,D){var z=g("../internals/to-object"),k=g("../internals/to-absolute-index"),v=g("../internals/length-of-array-like");K.exports=function(E){var b=z(this),d=v(b),w=arguments.length,a=k(1<w?arguments[1]:void 0,
d);w=2<w?arguments[2]:void 0;for(d=void 0===w?d:k(w,d);d>a;)b[a++]=E;return b}},{"../internals/length-of-array-like":175,"../internals/to-absolute-index":218,"../internals/to-object":223}],89:[function(g,K,D){var z=g("../internals/to-indexed-object"),k=g("../internals/to-absolute-index"),v=g("../internals/length-of-array-like");g=function(E){return function(b,d,w){b=z(b);var a=v(b);w=k(w,a);if(E&&d!==d)for(;a>w;){if(d=b[w++],d!==d)return!0}else for(;a>w;w++)if((E||w in b)&&b[w]===d)return E||w||0;
return!E&&-1}};K.exports={includes:g(!0),indexOf:g(!1)}},{"../internals/length-of-array-like":175,"../internals/to-absolute-index":218,"../internals/to-indexed-object":220}],90:[function(g,K,D){var z=g("../internals/function-bind-context");D=g("../internals/function-uncurry-this");var k=g("../internals/indexed-object"),v=g("../internals/to-object"),E=g("../internals/length-of-array-like"),b=g("../internals/array-species-create"),d=D([].push);g=function(w){var a=1===w,m=2===w,q=3===w,r=4===w,h=6===
w,c=7===w,f=5===w||h;return function(p,e,n,u){var A=v(p),C=k(A);e=z(e,n);n=E(C);var B=0;u=u||b;p=a?u(p,n):m||c?u(p,0):void 0;for(var I;n>B;B++)if(f||B in C)if(u=C[B],I=e(u,B,A),w)if(a)p[B]=I;else if(I)switch(w){case 3:return!0;case 5:return u;case 6:return B;case 2:d(p,u)}else switch(w){case 4:return!1;case 7:d(p,u)}return h?-1:q||r?r:p}};K.exports={forEach:g(0),map:g(1),filter:g(2),some:g(3),every:g(4),find:g(5),findIndex:g(6),filterReject:g(7)}},{"../internals/array-species-create":95,"../internals/function-bind-context":135,
"../internals/function-uncurry-this":141,"../internals/indexed-object":153,"../internals/length-of-array-like":175,"../internals/to-object":223}],91:[function(g,K,D){var z=g("../internals/fails");D=g("../internals/well-known-symbol");var k=g("../internals/engine-v8-version"),v=D("species");K.exports=function(E){return 51<=k||!z(function(){var b=[];(b.constructor={})[v]=function(){return{foo:1}};return 1!==b[E](Boolean).foo})}},{"../internals/engine-v8-version":125,"../internals/fails":132,"../internals/well-known-symbol":237}],
92:[function(g,K,D){var z=g("../internals/to-absolute-index"),k=g("../internals/length-of-array-like"),v=g("../internals/create-property"),E=Array,b=Math.max;K.exports=function(d,w,a){var m=k(d);w=z(w,m);a=z(void 0===a?m:a,m);m=E(b(a-w,0));for(var q=0;w<a;w++,q++)v(m,q,d[w]);m.length=q;return m}},{"../internals/create-property":107,"../internals/length-of-array-like":175,"../internals/to-absolute-index":218}],93:[function(g,K,D){g=g("../internals/function-uncurry-this");K.exports=g([].slice)},{"../internals/function-uncurry-this":141}],
94:[function(g,K,D){var z=g("../internals/is-array"),k=g("../internals/is-constructor"),v=g("../internals/is-object"),E=g("../internals/well-known-symbol")("species"),b=Array;K.exports=function(d){if(z(d)){var w=d.constructor;k(w)&&(w===b||z(w.prototype))?w=void 0:v(w)&&(w=w[E],null===w&&(w=void 0))}return void 0===w?b:w}},{"../internals/is-array":160,"../internals/is-constructor":162,"../internals/is-object":165,"../internals/well-known-symbol":237}],95:[function(g,K,D){var z=g("../internals/array-species-constructor");
K.exports=function(k,v){return new (z(k))(0===v?0:v)}},{"../internals/array-species-constructor":94}],96:[function(g,K,D){var z=g("../internals/well-known-symbol")("iterator"),k=!1;try{var v=0;g={next:function(){return{done:!!v++}},"return":function(){k=!0}};g[z]=function(){return this};Array.from(g,function(){throw 2;})}catch(E){}K.exports=function(E,b){if(!b&&!k)return!1;var d=!1;try{b={},b[z]=function(){return{next:function(){return{done:d=!0}}}},E(b)}catch(w){}return d}},{"../internals/well-known-symbol":237}],
97:[function(g,K,D){g=g("../internals/function-uncurry-this");var z=g({}.toString),k=g("".slice);K.exports=function(v){return k(z(v),8,-1)}},{"../internals/function-uncurry-this":141}],98:[function(g,K,D){D=g("../internals/to-string-tag-support");var z=g("../internals/is-callable"),k=g("../internals/classof-raw"),v=g("../internals/well-known-symbol")("toStringTag"),E=Object,b="Arguments"===k(function(){return arguments}());K.exports=D?k:function(d){var w;if(void 0===d)var a="Undefined";else{if(null===
d)var m="Null";else{a:{var q=d=E(d);try{m=q[v];break a}catch(r){}m=void 0}m="string"==typeof(a=m)?a:b?k(d):"Object"===(w=k(d))&&z(d.callee)?"Arguments":w}a=m}return a}},{"../internals/classof-raw":97,"../internals/is-callable":161,"../internals/to-string-tag-support":226,"../internals/well-known-symbol":237}],99:[function(g,K,D){var z=g("../internals/object-create"),k=g("../internals/define-built-in-accessor"),v=g("../internals/define-built-ins"),E=g("../internals/function-bind-context"),b=g("../internals/an-instance"),
d=g("../internals/is-null-or-undefined"),w=g("../internals/iterate"),a=g("../internals/iterator-define"),m=g("../internals/create-iter-result-object"),q=g("../internals/set-species"),r=g("../internals/descriptors"),h=g("../internals/internal-metadata").fastKey;g=g("../internals/internal-state");var c=g.set,f=g.getterFor;K.exports={getConstructor:function(p,e,n,u){p=p(function(N,y){b(N,A);c(N,{type:e,index:z(null),first:void 0,last:void 0,size:0});r||(N.size=0);d(y)||w(y,N[u],{that:N,AS_ENTRIES:n})});
var A=p.prototype,C=f(e),B=function(N,y,G){var H=C(N),O=I(N,y),J,R;O?O.value=G:(H.last=O={index:R=h(y,!0),key:y,value:G,previous:J=H.last,next:void 0,removed:!1},H.first||(H.first=O),J&&(J.next=O),r?H.size++:N.size++,"F"!==R&&(H.index[R]=O));return N},I=function(N,y){N=C(N);var G=h(y);if("F"!==G)return N.index[G];for(N=N.first;N;N=N.next)if(N.key===y)return N};v(A,{clear:function(){for(var N=C(this),y=N.index,G=N.first;G;)G.removed=!0,G.previous&&(G.previous=G.previous.next=void 0),delete y[G.index],
G=G.next;N.first=N.last=void 0;r?N.size=0:this.size=0},"delete":function(N){var y=C(this);if(N=I(this,N)){var G=N.next,H=N.previous;delete y.index[N.index];N.removed=!0;H&&(H.next=G);G&&(G.previous=H);y.first===N&&(y.first=G);y.last===N&&(y.last=H);r?y.size--:this.size--}return!!N},forEach:function(N){for(var y=C(this),G=E(N,1<arguments.length?arguments[1]:void 0),H;H=H?H.next:y.first;)for(G(H.value,H.key,this);H&&H.removed;)H=H.previous},has:function(N){return!!I(this,N)}});v(A,n?{get:function(N){return(N=
I(this,N))&&N.value},set:function(N,y){return B(this,0===N?0:N,y)}}:{add:function(N){return B(this,N=0===N?0:N,N)}});r&&k(A,"size",{configurable:!0,get:function(){return C(this).size}});return p},setStrong:function(p,e,n){var u=e+" Iterator",A=f(e),C=f(u);a(p,e,function(B,I){c(this,{type:u,target:B,state:A(B),kind:I,last:void 0})},function(){for(var B=C(this),I=B.kind,N=B.last;N&&N.removed;)N=N.previous;return B.target&&(B.last=N=N?N.next:B.state.first)?"keys"===I?m(N.key,!1):"values"===I?m(N.value,
!1):m([N.key,N.value],!1):(B.target=void 0,m(void 0,!0))},n?"entries":"values",!n,!0);q(e)}}},{"../internals/an-instance":83,"../internals/create-iter-result-object":104,"../internals/define-built-in-accessor":108,"../internals/define-built-ins":110,"../internals/descriptors":112,"../internals/function-bind-context":135,"../internals/internal-metadata":157,"../internals/internal-state":158,"../internals/is-null-or-undefined":164,"../internals/iterate":169,"../internals/iterator-define":172,"../internals/object-create":182,
"../internals/set-species":207}],100:[function(g,K,D){var z=g("../internals/export"),k=g("../internals/global"),v=g("../internals/function-uncurry-this"),E=g("../internals/is-forced"),b=g("../internals/define-built-in"),d=g("../internals/internal-metadata"),w=g("../internals/iterate"),a=g("../internals/an-instance"),m=g("../internals/is-callable"),q=g("../internals/is-null-or-undefined"),r=g("../internals/is-object"),h=g("../internals/fails"),c=g("../internals/check-correctness-of-iteration"),f=g("../internals/set-to-string-tag"),
p=g("../internals/inherit-if-required");K.exports=function(e,n,u){var A=-1!==e.indexOf("Map"),C=-1!==e.indexOf("Weak"),B=A?"set":"add",I=k[e],N=I&&I.prototype,y=I,G={},H=function(qa){var la=v(N[qa]);b(N,qa,"add"===qa?function(Q){la(this,0===Q?0:Q);return this}:"delete"===qa?function(Q){return C&&!r(Q)?!1:la(this,0===Q?0:Q)}:"get"===qa?function(Q){return C&&!r(Q)?void 0:la(this,0===Q?0:Q)}:"has"===qa?function(Q){return C&&!r(Q)?!1:la(this,0===Q?0:Q)}:function(Q,ka){la(this,0===Q?0:Q,ka);return this})};
if(E(e,!m(I)||!(C||N.forEach&&!h(function(){(new I).entries().next()}))))y=u.getConstructor(n,e,A,B),d.enable();else if(E(e,!0)){var O=new y,J=O[B](C?{}:-0,1)!==O,R=h(function(){O.has(1)}),ea=c(function(qa){new I(qa)}),Y=!C&&h(function(){for(var qa=new I,la=5;la--;)qa[B](la,la);return!qa.has(-0)});ea||(y=n(function(qa,la){a(qa,N);qa=p(new I,qa,y);q(la)||w(la,qa[B],{that:qa,AS_ENTRIES:A});return qa}),y.prototype=N,N.constructor=y);if(R||Y)H("delete"),H("has"),A&&H("get");(Y||J)&&H(B);C&&N.clear&&delete N.clear}G[e]=
y;z({global:!0,constructor:!0,forced:y!==I},G);f(y,e);C||u.setStrong(y,e,A);return y}},{"../internals/an-instance":83,"../internals/check-correctness-of-iteration":96,"../internals/define-built-in":109,"../internals/export":131,"../internals/fails":132,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/inherit-if-required":154,"../internals/internal-metadata":157,"../internals/is-callable":161,"../internals/is-forced":163,"../internals/is-null-or-undefined":164,"../internals/is-object":165,
"../internals/iterate":169,"../internals/set-to-string-tag":208}],101:[function(g,K,D){var z=g("../internals/has-own-property"),k=g("../internals/own-keys"),v=g("../internals/object-get-own-property-descriptor"),E=g("../internals/object-define-property");K.exports=function(b,d,w){for(var a=k(d),m=E.f,q=v.f,r=0;r<a.length;r++){var h=a[r];z(b,h)||w&&z(w,h)||m(b,h,q(d,h))}}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/object-get-own-property-descriptor":185,
"../internals/own-keys":198}],102:[function(g,K,D){var z=g("../internals/well-known-symbol")("match");K.exports=function(k){var v=/./;try{"/./"[k](v)}catch(E){try{return v[z]=!1,"/./"[k](v)}catch(b){}}return!1}},{"../internals/well-known-symbol":237}],103:[function(g,K,D){g=g("../internals/fails");K.exports=!g(function(){function z(){}z.prototype.constructor=null;return Object.getPrototypeOf(new z)!==z.prototype})},{"../internals/fails":132}],104:[function(g,K,D){K.exports=function(z,k){return{value:z,
done:k}}},{}],105:[function(g,K,D){D=g("../internals/descriptors");var z=g("../internals/object-define-property"),k=g("../internals/create-property-descriptor");K.exports=D?function(v,E,b){return z.f(v,E,k(1,b))}:function(v,E,b){v[E]=b;return v}},{"../internals/create-property-descriptor":106,"../internals/descriptors":112,"../internals/object-define-property":184}],106:[function(g,K,D){K.exports=function(z,k){return{enumerable:!(z&1),configurable:!(z&2),writable:!(z&4),value:k}}},{}],107:[function(g,
K,D){var z=g("../internals/to-property-key"),k=g("../internals/object-define-property"),v=g("../internals/create-property-descriptor");K.exports=function(E,b,d){b=z(b);b in E?k.f(E,b,v(0,d)):E[b]=d}},{"../internals/create-property-descriptor":106,"../internals/object-define-property":184,"../internals/to-property-key":225}],108:[function(g,K,D){var z=g("../internals/make-built-in"),k=g("../internals/object-define-property");K.exports=function(v,E,b){b.get&&z(b.get,E,{getter:!0});b.set&&z(b.set,E,
{setter:!0});return k.f(v,E,b)}},{"../internals/make-built-in":176,"../internals/object-define-property":184}],109:[function(g,K,D){var z=g("../internals/is-callable"),k=g("../internals/object-define-property"),v=g("../internals/make-built-in"),E=g("../internals/define-global-property");K.exports=function(b,d,w,a){a||={};var m=a.enumerable,q=void 0!==a.name?a.name:d;z(w)&&v(w,q,a);if(a.global)m?b[d]=w:E(d,w);else{try{a.unsafe?b[d]&&(m=!0):delete b[d]}catch(r){}m?b[d]=w:k.f(b,d,{value:w,enumerable:!1,
configurable:!a.nonConfigurable,writable:!a.nonWritable})}return b}},{"../internals/define-global-property":111,"../internals/is-callable":161,"../internals/make-built-in":176,"../internals/object-define-property":184}],110:[function(g,K,D){var z=g("../internals/define-built-in");K.exports=function(k,v,E){for(var b in v)z(k,b,v[b],E);return k}},{"../internals/define-built-in":109}],111:[function(g,K,D){var z=g("../internals/global"),k=Object.defineProperty;K.exports=function(v,E){try{k(z,v,{value:E,
configurable:!0,writable:!0})}catch(b){z[v]=E}return E}},{"../internals/global":147}],112:[function(g,K,D){g=g("../internals/fails");K.exports=!g(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":132}],113:[function(g,K,D){g="object"==typeof document&&document.all;K.exports={all:g,IS_HTMLDDA:"undefined"==typeof g&&void 0!==g}},{}],114:[function(g,K,D){D=g("../internals/global");g=g("../internals/is-object");var z=D.document,k=g(z)&&g(z.createElement);
K.exports=function(v){return k?z.createElement(v):{}}},{"../internals/global":147,"../internals/is-object":165}],115:[function(g,K,D){var z=TypeError;K.exports=function(k){if(9007199254740991<k)throw z("Maximum allowed index exceeded");return k}},{}],116:[function(g,K,D){K.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,
MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],117:[function(g,K,D){g=(g=g("../internals/document-create-element")("span").classList)&&g.constructor&&g.constructor.prototype;K.exports=g===Object.prototype?void 0:g},{"../internals/document-create-element":114}],118:[function(g,
K,D){D=g("../internals/engine-is-deno");g=g("../internals/engine-is-node");K.exports=!D&&!g&&"object"==typeof window&&"object"==typeof document},{"../internals/engine-is-deno":119,"../internals/engine-is-node":122}],119:[function(g,K,D){K.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},{}],120:[function(g,K,D){g=g("../internals/engine-user-agent");K.exports=/ipad|iphone|ipod/i.test(g)&&"undefined"!=typeof Pebble},{"../internals/engine-user-agent":124}],121:[function(g,K,D){g=g("../internals/engine-user-agent");
K.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(g)},{"../internals/engine-user-agent":124}],122:[function(g,K,D){D=g("../internals/global");g=g("../internals/classof-raw");K.exports="process"===g(D.process)},{"../internals/classof-raw":97,"../internals/global":147}],123:[function(g,K,D){g=g("../internals/engine-user-agent");K.exports=/web0s(?!.*chrome)/i.test(g)},{"../internals/engine-user-agent":124}],124:[function(g,K,D){K.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||
""},{}],125:[function(g,K,D){D=g("../internals/global");g=g("../internals/engine-user-agent");var z=D.process;D=D.Deno;D=(D=z&&z.versions||D&&D.version)&&D.v8;if(D){D=D.split(".");var k=0<D[0]&&4>D[0]?1:+(D[0]+D[1])}!k&&g&&(D=g.match(/Edge\/(\d+)/),(!D||74<=D[1])&&(D=g.match(/Chrome\/(\d+)/))&&(k=+D[1]));K.exports=k},{"../internals/engine-user-agent":124,"../internals/global":147}],126:[function(g,K,D){var z=g("../internals/global"),k=g("../internals/function-uncurry-this");K.exports=function(v,E){return k(z[v].prototype[E])}},
{"../internals/function-uncurry-this":141,"../internals/global":147}],127:[function(g,K,D){K.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},{}],128:[function(g,K,D){g=g("../internals/function-uncurry-this");var z=Error,k=g("".replace);g=String((new z("zxcasd")).stack);var v=/\n\s*at [^:]*:[^\n]*/,E=v.test(g);K.exports=function(b,d){if(E&&"string"==typeof b&&!z.prepareStackTrace)for(;d--;)b=k(b,v,"");return b}},{"../internals/function-uncurry-this":141}],
129:[function(g,K,D){var z=g("../internals/create-non-enumerable-property"),k=g("../internals/error-stack-clear"),v=g("../internals/error-stack-installable"),E=Error.captureStackTrace;K.exports=function(b,d,w,a){v&&(E?E(b,d):z(b,"stack",k(w,a)))}},{"../internals/create-non-enumerable-property":105,"../internals/error-stack-clear":128,"../internals/error-stack-installable":130}],130:[function(g,K,D){D=g("../internals/fails");var z=g("../internals/create-property-descriptor");K.exports=!D(function(){var k=
Error("a");if(!("stack"in k))return!0;Object.defineProperty(k,"stack",z(1,7));return 7!==k.stack})},{"../internals/create-property-descriptor":106,"../internals/fails":132}],131:[function(g,K,D){var z=g("../internals/global"),k=g("../internals/object-get-own-property-descriptor").f,v=g("../internals/create-non-enumerable-property"),E=g("../internals/define-built-in"),b=g("../internals/define-global-property"),d=g("../internals/copy-constructor-properties"),w=g("../internals/is-forced");K.exports=
function(a,m){var q=a.target,r=a.global,h=a.stat,c,f,p;if(f=r?z:h?z[q]||b(q,{}):(z[q]||{}).prototype)for(p in m){var e=m[p];var n=a.dontCallGetSet?(c=k(f,p))&&c.value:f[p];c=w(r?p:q+(h?".":"#")+p,a.forced);if(!c&&void 0!==n){if(typeof e==typeof n)continue;d(e,n)}(a.sham||n&&n.sham)&&v(e,"sham",!0);E(f,p,e,a)}}},{"../internals/copy-constructor-properties":101,"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/define-global-property":111,"../internals/global":147,
"../internals/is-forced":163,"../internals/object-get-own-property-descriptor":185}],132:[function(g,K,D){K.exports=function(z){try{return!!z()}catch(k){return!0}}},{}],133:[function(g,K,D){g=g("../internals/fails");K.exports=!g(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":132}],134:[function(g,K,D){g=g("../internals/function-bind-native");D=Function.prototype;var z=D.apply,k=D.call;K.exports="object"==typeof Reflect&&Reflect.apply||(g?k.bind(z):function(){return k.apply(z,
arguments)})},{"../internals/function-bind-native":136}],135:[function(g,K,D){D=g("../internals/function-uncurry-this-clause");var z=g("../internals/a-callable"),k=g("../internals/function-bind-native"),v=D(D.bind);K.exports=function(E,b){z(E);return void 0===b?E:k?v(E,b):function(){return E.apply(b,arguments)}}},{"../internals/a-callable":79,"../internals/function-bind-native":136,"../internals/function-uncurry-this-clause":140}],136:[function(g,K,D){g=g("../internals/fails");K.exports=!g(function(){var z=
function(){}.bind();return"function"!=typeof z||z.hasOwnProperty("prototype")})},{"../internals/fails":132}],137:[function(g,K,D){g=g("../internals/function-bind-native");var z=Function.prototype.call;K.exports=g?z.bind(z):function(){return z.apply(z,arguments)}},{"../internals/function-bind-native":136}],138:[function(g,K,D){D=g("../internals/descriptors");var z=g("../internals/has-own-property");g=Function.prototype;var k=D&&Object.getOwnPropertyDescriptor,v=(z=z(g,"name"))&&"something"===function(){}.name;
D=z&&(!D||D&&k(g,"name").configurable);K.exports={EXISTS:z,PROPER:v,CONFIGURABLE:D}},{"../internals/descriptors":112,"../internals/has-own-property":148}],139:[function(g,K,D){var z=g("../internals/function-uncurry-this"),k=g("../internals/a-callable");K.exports=function(v,E,b){try{return z(k(Object.getOwnPropertyDescriptor(v,E)[b]))}catch(d){}}},{"../internals/a-callable":79,"../internals/function-uncurry-this":141}],140:[function(g,K,D){var z=g("../internals/classof-raw"),k=g("../internals/function-uncurry-this");
K.exports=function(v){if("Function"===z(v))return k(v)}},{"../internals/classof-raw":97,"../internals/function-uncurry-this":141}],141:[function(g,K,D){g=g("../internals/function-bind-native");D=Function.prototype;var z=D.call;D=g&&D.bind.bind(z,z);K.exports=g?D:function(k){return function(){return z.apply(k,arguments)}}},{"../internals/function-bind-native":136}],142:[function(g,K,D){var z=g("../internals/global"),k=g("../internals/is-callable");K.exports=function(v,E){if(2>arguments.length){var b=
z[v];b=k(b)?b:void 0}else b=z[v]&&z[v][E];return b}},{"../internals/global":147,"../internals/is-callable":161}],143:[function(g,K,D){var z=g("../internals/classof"),k=g("../internals/get-method"),v=g("../internals/is-null-or-undefined"),E=g("../internals/iterators"),b=g("../internals/well-known-symbol")("iterator");K.exports=function(d){if(!v(d))return k(d,b)||k(d,"@@iterator")||E[z(d)]}},{"../internals/classof":98,"../internals/get-method":146,"../internals/is-null-or-undefined":164,"../internals/iterators":174,
"../internals/well-known-symbol":237}],144:[function(g,K,D){var z=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/an-object"),E=g("../internals/try-to-string"),b=g("../internals/get-iterator-method"),d=TypeError;K.exports=function(w,a){var m=2>arguments.length?b(w):a;if(k(m))return v(z(m,w));throw new d(E(w)+" is not iterable");}},{"../internals/a-callable":79,"../internals/an-object":84,"../internals/function-call":137,"../internals/get-iterator-method":143,"../internals/try-to-string":228}],
145:[function(g,K,D){D=g("../internals/function-uncurry-this");var z=g("../internals/is-array"),k=g("../internals/is-callable"),v=g("../internals/classof-raw"),E=g("../internals/to-string"),b=D([].push);K.exports=function(d){if(k(d))return d;if(z(d)){for(var w=d.length,a=[],m=0;m<w;m++){var q=d[m];"string"==typeof q?b(a,q):("number"==typeof q||"Number"===v(q)||"String"===v(q))&&b(a,E(q))}var r=a.length,h=!0;return function(c,f){if(h)return h=!1,f;if(z(this))return f;for(var p=0;p<r;p++)if(a[p]===
c)return f}}}},{"../internals/classof-raw":97,"../internals/function-uncurry-this":141,"../internals/is-array":160,"../internals/is-callable":161,"../internals/to-string":227}],146:[function(g,K,D){var z=g("../internals/a-callable"),k=g("../internals/is-null-or-undefined");K.exports=function(v,E){v=v[E];return k(v)?void 0:z(v)}},{"../internals/a-callable":79,"../internals/is-null-or-undefined":164}],147:[function(g,K,D){(function(z){(function(){var k=function(v){return v&&v.Math===Math&&v};K.exports=
k("object"==typeof globalThis&&globalThis)||k("object"==typeof window&&window)||k("object"==typeof self&&self)||k("object"==typeof z&&z)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],148:[function(g,K,D){D=g("../internals/function-uncurry-this");var z=g("../internals/to-object"),k=D({}.hasOwnProperty);K.exports=Object.hasOwn||function(v,E){return k(z(v),
E)}},{"../internals/function-uncurry-this":141,"../internals/to-object":223}],149:[function(g,K,D){K.exports={}},{}],150:[function(g,K,D){K.exports=function(z,k){try{1===arguments.length?console.error(z):console.error(z,k)}catch(v){}}},{}],151:[function(g,K,D){g=g("../internals/get-built-in");K.exports=g("document","documentElement")},{"../internals/get-built-in":142}],152:[function(g,K,D){D=g("../internals/descriptors");var z=g("../internals/fails"),k=g("../internals/document-create-element");K.exports=
!D&&!z(function(){return 7!==Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":112,"../internals/document-create-element":114,"../internals/fails":132}],153:[function(g,K,D){D=g("../internals/function-uncurry-this");var z=g("../internals/fails"),k=g("../internals/classof-raw"),v=Object,E=D("".split);K.exports=z(function(){return!v("z").propertyIsEnumerable(0)})?function(b){return"String"===k(b)?E(b,""):v(b)}:v},{"../internals/classof-raw":97,"../internals/fails":132,
"../internals/function-uncurry-this":141}],154:[function(g,K,D){var z=g("../internals/is-callable"),k=g("../internals/is-object"),v=g("../internals/object-set-prototype-of");K.exports=function(E,b,d){var w,a;v&&z(w=b.constructor)&&w!==d&&k(a=w.prototype)&&a!==d.prototype&&v(E,a);return E}},{"../internals/is-callable":161,"../internals/is-object":165,"../internals/object-set-prototype-of":195}],155:[function(g,K,D){D=g("../internals/function-uncurry-this");var z=g("../internals/is-callable");g=g("../internals/shared-store");
var k=D(Function.toString);z(g.inspectSource)||(g.inspectSource=function(v){return k(v)});K.exports=g.inspectSource},{"../internals/function-uncurry-this":141,"../internals/is-callable":161,"../internals/shared-store":210}],156:[function(g,K,D){var z=g("../internals/is-object"),k=g("../internals/create-non-enumerable-property");K.exports=function(v,E){z(E)&&"cause"in E&&k(v,"cause",E.cause)}},{"../internals/create-non-enumerable-property":105,"../internals/is-object":165}],157:[function(g,K,D){var z=
g("../internals/export"),k=g("../internals/function-uncurry-this");D=g("../internals/hidden-keys");var v=g("../internals/is-object"),E=g("../internals/has-own-property"),b=g("../internals/object-define-property").f,d=g("../internals/object-get-own-property-names"),w=g("../internals/object-get-own-property-names-external"),a=g("../internals/object-is-extensible"),m=g("../internals/uid"),q=g("../internals/freezing"),r=!1,h=m("meta"),c=0,f=function(e){b(e,h,{value:{objectID:"O"+c++,weakData:{}}})},p=
K.exports={enable:function(){p.enable=function(){};r=!0;var e=d.f,n=k([].splice),u={};u[h]=1;e(u).length&&(d.f=function(A){A=e(A);for(var C=0,B=A.length;C<B;C++)if(A[C]===h){n(A,C,1);break}return A},z({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:w.f}))},fastKey:function(e,n){if(!v(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!E(e,h)){if(!a(e))return"F";if(!n)return"E";f(e)}return e[h].objectID},getWeakData:function(e,n){if(!E(e,h)){if(!a(e))return!0;if(!n)return!1;f(e)}return e[h].weakData},
onFreeze:function(e){q&&r&&a(e)&&!E(e,h)&&f(e);return e}};D[h]=!0},{"../internals/export":131,"../internals/freezing":133,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/is-object":165,"../internals/object-define-property":184,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-names-external":186,"../internals/object-is-extensible":190,"../internals/uid":230}],158:[function(g,K,D){D=g("../internals/weak-map-basic-detection");
var z=g("../internals/global"),k=g("../internals/is-object"),v=g("../internals/create-non-enumerable-property"),E=g("../internals/has-own-property"),b=g("../internals/shared-store"),d=g("../internals/shared-key");g=g("../internals/hidden-keys");var w=z.TypeError;z=z.WeakMap;if(D||b.state){var a=b.state||(b.state=new z);a.get=a.get;a.has=a.has;a.set=a.set;var m=function(c,f){if(a.has(c))throw new w("Object already initialized");f.facade=c;a.set(c,f);return f};var q=function(c){return a.get(c)||{}};
var r=function(c){return a.has(c)}}else{var h=d("state");g[h]=!0;m=function(c,f){if(E(c,h))throw new w("Object already initialized");f.facade=c;v(c,h,f);return f};q=function(c){return E(c,h)?c[h]:{}};r=function(c){return E(c,h)}}K.exports={set:m,get:q,has:r,enforce:function(c){return r(c)?q(c):m(c,{})},getterFor:function(c){return function(f){var p;if(!k(f)||(p=q(f)).type!==c)throw new w("Incompatible receiver, "+c+" required");return p}}}},{"../internals/create-non-enumerable-property":105,"../internals/global":147,
"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/is-object":165,"../internals/shared-key":209,"../internals/shared-store":210,"../internals/weak-map-basic-detection":234}],159:[function(g,K,D){D=g("../internals/well-known-symbol");var z=g("../internals/iterators"),k=D("iterator"),v=Array.prototype;K.exports=function(E){return void 0!==E&&(z.Array===E||v[k]===E)}},{"../internals/iterators":174,"../internals/well-known-symbol":237}],160:[function(g,K,D){var z=g("../internals/classof-raw");
K.exports=Array.isArray||function(k){return"Array"===z(k)}},{"../internals/classof-raw":97}],161:[function(g,K,D){g=g("../internals/document-all");var z=g.all;K.exports=g.IS_HTMLDDA?function(k){return"function"==typeof k||k===z}:function(k){return"function"==typeof k}},{"../internals/document-all":113}],162:[function(g,K,D){var z=g("../internals/function-uncurry-this");D=g("../internals/fails");var k=g("../internals/is-callable"),v=g("../internals/classof"),E=g("../internals/get-built-in"),b=g("../internals/inspect-source"),
d=function(){},w=[],a=E("Reflect","construct"),m=/^\s*(?:class|function)\b/,q=z(m.exec),r=!m.test(d),h=function(c){if(!k(c))return!1;try{return a(d,w,c),!0}catch(f){return!1}};g=function(c){if(!k(c))return!1;switch(v(c)){case "AsyncFunction":case "GeneratorFunction":case "AsyncGeneratorFunction":return!1}try{return r||!!q(m,b(c))}catch(f){return!0}};g.sham=!0;K.exports=!a||D(function(){var c;return h(h.call)||!h(Object)||!h(function(){c=!0})||c})?g:h},{"../internals/classof":98,"../internals/fails":132,
"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/inspect-source":155,"../internals/is-callable":161}],163:[function(g,K,D){var z=g("../internals/fails"),k=g("../internals/is-callable"),v=/#|\.prototype\./;g=function(a,m){a=b[E(a)];return a===w?!0:a===d?!1:k(m)?z(m):!!m};var E=g.normalize=function(a){return String(a).replace(v,".").toLowerCase()},b=g.data={},d=g.NATIVE="N",w=g.POLYFILL="P";K.exports=g},{"../internals/fails":132,"../internals/is-callable":161}],
164:[function(g,K,D){K.exports=function(z){return null===z||void 0===z}},{}],165:[function(g,K,D){var z=g("../internals/is-callable");g=g("../internals/document-all");var k=g.all;K.exports=g.IS_HTMLDDA?function(v){return"object"==typeof v?null!==v:z(v)||v===k}:function(v){return"object"==typeof v?null!==v:z(v)}},{"../internals/document-all":113,"../internals/is-callable":161}],166:[function(g,K,D){K.exports=!1},{}],167:[function(g,K,D){var z=g("../internals/is-object"),k=g("../internals/classof-raw"),
v=g("../internals/well-known-symbol")("match");K.exports=function(E){var b;return z(E)&&(void 0!==(b=E[v])?!!b:"RegExp"===k(E))}},{"../internals/classof-raw":97,"../internals/is-object":165,"../internals/well-known-symbol":237}],168:[function(g,K,D){var z=g("../internals/get-built-in"),k=g("../internals/is-callable"),v=g("../internals/object-is-prototype-of");g=g("../internals/use-symbol-as-uid");var E=Object;K.exports=g?function(b){return"symbol"==typeof b}:function(b){var d=z("Symbol");return k(d)&&
v(d.prototype,E(b))}},{"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/object-is-prototype-of":191,"../internals/use-symbol-as-uid":231}],169:[function(g,K,D){var z=g("../internals/function-bind-context"),k=g("../internals/function-call"),v=g("../internals/an-object"),E=g("../internals/try-to-string"),b=g("../internals/is-array-iterator-method"),d=g("../internals/length-of-array-like"),w=g("../internals/object-is-prototype-of"),a=g("../internals/get-iterator"),m=g("../internals/get-iterator-method"),
q=g("../internals/iterator-close"),r=TypeError,h=function(f,p){this.stopped=f;this.result=p},c=h.prototype;K.exports=function(f,p,e){var n=!(!e||!e.AS_ENTRIES),u=!(!e||!e.IS_RECORD),A=!(!e||!e.IS_ITERATOR),C=!(!e||!e.INTERRUPTED),B=z(p,e&&e.that),I,N=function(G){y&&q(y,"normal",G);return new h(!0,G)};p=function(G){return n?(v(G),C?B(G[0],G[1],N):B(G[0],G[1])):C?B(G,N):B(G)};if(u)var y=f.iterator;else if(A)y=f;else{A=m(f);if(!A)throw new r(E(f)+" is not iterable");if(b(A)){u=0;for(A=d(f);A>u;u++)if((I=
p(f[u]))&&w(c,I))return I;return new h(!1)}y=a(f,A)}for(f=u?f.next:y.next;!(u=k(f,y)).done;){try{I=p(u.value)}catch(G){q(y,"throw",G)}if("object"==typeof I&&I&&w(c,I))return I}return new h(!1)}},{"../internals/an-object":84,"../internals/function-bind-context":135,"../internals/function-call":137,"../internals/get-iterator":144,"../internals/get-iterator-method":143,"../internals/is-array-iterator-method":159,"../internals/iterator-close":170,"../internals/length-of-array-like":175,"../internals/object-is-prototype-of":191,
"../internals/try-to-string":228}],170:[function(g,K,D){var z=g("../internals/function-call"),k=g("../internals/an-object"),v=g("../internals/get-method");K.exports=function(E,b,d){k(E);try{var w=v(E,"return");if(!w){if("throw"===b)throw d;return d}w=z(w,E)}catch(m){var a=!0;w=m}if("throw"===b)throw d;if(a)throw w;k(w);return d}},{"../internals/an-object":84,"../internals/function-call":137,"../internals/get-method":146}],171:[function(g,K,D){var z=g("../internals/iterators-core").IteratorPrototype,
k=g("../internals/object-create"),v=g("../internals/create-property-descriptor"),E=g("../internals/set-to-string-tag"),b=g("../internals/iterators"),d=function(){return this};K.exports=function(w,a,m,q){a+=" Iterator";w.prototype=k(z,{next:v(+!q,m)});E(w,a,!1,!0);b[a]=d;return w}},{"../internals/create-property-descriptor":106,"../internals/iterators":174,"../internals/iterators-core":173,"../internals/object-create":182,"../internals/set-to-string-tag":208}],172:[function(g,K,D){var z=g("../internals/export"),
k=g("../internals/function-call"),v=g("../internals/is-pure");D=g("../internals/function-name");var E=g("../internals/is-callable"),b=g("../internals/iterator-create-constructor"),d=g("../internals/object-get-prototype-of"),w=g("../internals/object-set-prototype-of"),a=g("../internals/set-to-string-tag"),m=g("../internals/create-non-enumerable-property"),q=g("../internals/define-built-in"),r=g("../internals/well-known-symbol"),h=g("../internals/iterators");g=g("../internals/iterators-core");var c=
D.PROPER,f=D.CONFIGURABLE,p=g.IteratorPrototype,e=g.BUGGY_SAFARI_ITERATORS,n=r("iterator"),u=function(){return this};K.exports=function(A,C,B,I,N,y,G){b(B,C,I);I=function(Q){if(Q===N&&ea)return ea;if(!e&&Q&&Q in J)return J[Q];switch(Q){case "keys":return function(){return new B(this,Q)};case "values":return function(){return new B(this,Q)};case "entries":return function(){return new B(this,Q)}}return function(){return new B(this)}};var H=C+" Iterator",O=!1,J=A.prototype,R=J[n]||J["@@iterator"]||N&&
J[N],ea=!e&&R||I(N),Y="Array"===C?J.entries||R:R,qa;Y&&(A=d(Y.call(new A)),A!==Object.prototype&&A.next&&(v||d(A)===p||(w?w(A,p):E(A[n])||q(A,n,u)),a(A,H,!0,!0),v&&(h[H]=u)));c&&"values"===N&&R&&"values"!==R.name&&(!v&&f?m(J,"name","values"):(O=!0,ea=function(){return k(R,this)}));if(N){var la={values:I("values"),keys:y?ea:I("keys"),entries:I("entries")};if(G)for(qa in la)!e&&!O&&qa in J||q(J,qa,la[qa]);else z({target:C,proto:!0,forced:e||O},la)}v&&!G||J[n]===ea||q(J,n,ea,{name:N});h[C]=ea;return la}},
{"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/export":131,"../internals/function-call":137,"../internals/function-name":138,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/iterator-create-constructor":171,"../internals/iterators":174,"../internals/iterators-core":173,"../internals/object-get-prototype-of":189,"../internals/object-set-prototype-of":195,"../internals/set-to-string-tag":208,"../internals/well-known-symbol":237}],
173:[function(g,K,D){D=g("../internals/fails");var z=g("../internals/is-callable"),k=g("../internals/is-object"),v=g("../internals/object-create"),E=g("../internals/object-get-prototype-of"),b=g("../internals/define-built-in"),d=g("../internals/well-known-symbol");g=g("../internals/is-pure");var w=d("iterator");d=!1;var a;if([].keys){var m=[].keys();"next"in m?(E=E(E(m)),E!==Object.prototype&&(a=E)):d=!0}!k(a)||D(function(){var q={};return a[w].call(q)!==q})?a={}:g&&(a=v(a));z(a[w])||b(a,w,function(){return this});
K.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:d}},{"../internals/define-built-in":109,"../internals/fails":132,"../internals/is-callable":161,"../internals/is-object":165,"../internals/is-pure":166,"../internals/object-create":182,"../internals/object-get-prototype-of":189,"../internals/well-known-symbol":237}],174:[function(g,K,D){arguments[4][149][0].apply(D,arguments)},{dup:149}],175:[function(g,K,D){var z=g("../internals/to-length");K.exports=function(k){return z(k.length)}},{"../internals/to-length":222}],
176:[function(g,K,D){D=g("../internals/function-uncurry-this");var z=g("../internals/fails"),k=g("../internals/is-callable"),v=g("../internals/has-own-property"),E=g("../internals/descriptors"),b=g("../internals/function-name").CONFIGURABLE,d=g("../internals/inspect-source");g=g("../internals/internal-state");var w=g.enforce,a=g.get,m=String,q=Object.defineProperty,r=D("".slice),h=D("".replace),c=D([].join),f=E&&!z(function(){return 8!==q(function(){},"length",{value:8}).length}),p=String(String).split("String");
K=K.exports=function(e,n,u){"Symbol("===r(m(n),0,7)&&(n="["+h(m(n),/^Symbol\(([^)]*)\)/,"$1")+"]");u&&u.getter&&(n="get "+n);u&&u.setter&&(n="set "+n);if(!v(e,"name")||b&&e.name!==n)E?q(e,"name",{value:n,configurable:!0}):e.name=n;f&&u&&v(u,"arity")&&e.length!==u.arity&&q(e,"length",{value:u.arity});try{u&&v(u,"constructor")&&u.constructor?E&&q(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(A){}u=w(e);v(u,"source")||(u.source=c(p,"string"==typeof n?n:""));return e};Function.prototype.toString=
K(function(){return k(this)&&a(this).source||d(this)},"toString")},{"../internals/descriptors":112,"../internals/fails":132,"../internals/function-name":138,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/inspect-source":155,"../internals/internal-state":158,"../internals/is-callable":161}],177:[function(g,K,D){var z=Math.ceil,k=Math.floor;K.exports=Math.trunc||function(v){v=+v;return(0<v?k:z)(v)}},{}],178:[function(g,K,D){var z=g("../internals/global");
D=g("../internals/function-bind-context");var k=g("../internals/object-get-own-property-descriptor").f,v=g("../internals/task").set,E=g("../internals/queue"),b=g("../internals/engine-is-ios"),d=g("../internals/engine-is-ios-pebble"),w=g("../internals/engine-is-webos-webkit"),a=g("../internals/engine-is-node"),m=z.MutationObserver||z.WebKitMutationObserver,q=z.document,r=z.process;g=z.Promise;k=(k=k(z,"queueMicrotask"))&&k.value;if(!k){var h=new E,c=function(){var u,A;for(a&&(u=r.domain)&&u.exit();A=
h.get();)try{A()}catch(C){throw h.head&&p(),C;}u&&u.enter()};if(b||a||w||!m||!q)if(!d&&g&&g.resolve){z=g.resolve(void 0);z.constructor=g;var f=D(z.then,z);var p=function(){f(c)}}else a?p=function(){r.nextTick(c)}:(v=D(v,z),p=function(){v(c)});else{var e=!0;var n=q.createTextNode("");(new m(c)).observe(n,{characterData:!0});p=function(){n.data=e=!e}}k=function(u){h.head||p();h.add(u)}}K.exports=k},{"../internals/engine-is-ios":121,"../internals/engine-is-ios-pebble":120,"../internals/engine-is-node":122,
"../internals/engine-is-webos-webkit":123,"../internals/function-bind-context":135,"../internals/global":147,"../internals/object-get-own-property-descriptor":185,"../internals/queue":205,"../internals/task":217}],179:[function(g,K,D){var z=g("../internals/a-callable"),k=TypeError,v=function(E){var b,d;this.promise=new E(function(w,a){if(void 0!==b||void 0!==d)throw new k("Bad Promise constructor");b=w;d=a});this.resolve=z(b);this.reject=z(d)};K.exports.f=function(E){return new v(E)}},{"../internals/a-callable":79}],
180:[function(g,K,D){var z=g("../internals/to-string");K.exports=function(k,v){return void 0===k?2>arguments.length?"":v:z(k)}},{"../internals/to-string":227}],181:[function(g,K,D){var z=g("../internals/is-regexp"),k=TypeError;K.exports=function(v){if(z(v))throw new k("The method doesn't accept regular expressions");return v}},{"../internals/is-regexp":167}],182:[function(g,K,D){var z=g("../internals/an-object"),k=g("../internals/object-define-properties"),v=g("../internals/enum-bug-keys");D=g("../internals/hidden-keys");
var E=g("../internals/html"),b=g("../internals/document-create-element"),d=g("../internals/shared-key")("IE_PROTO"),w=function(){},a=function(r){r.write("<script>\x3c/script>");r.close();return r.parentWindow.Object},m,q=function(){try{m=new ActiveXObject("htmlfile")}catch(h){}if("undefined"!=typeof document)if(document.domain&&m)var r=a(m);else r=b("iframe"),r.style.display="none",E.appendChild(r),r.src="javascript:",r=r.contentWindow.document,r.open(),r.write("<script>document.F=Object\x3c/script>"),
r.close(),r=r.F;else r=a(m);q=r;for(r=v.length;r--;)delete q.prototype[v[r]];return q()};D[d]=!0;K.exports=Object.create||function(r,h){if(null!==r){w.prototype=z(r);var c=new w;w.prototype=null;c[d]=r}else c=q();return void 0===h?c:k.f(c,h)}},{"../internals/an-object":84,"../internals/document-create-element":114,"../internals/enum-bug-keys":127,"../internals/hidden-keys":149,"../internals/html":151,"../internals/object-define-properties":183,"../internals/shared-key":209}],183:[function(g,K,D){K=
g("../internals/descriptors");var z=g("../internals/v8-prototype-define-bug"),k=g("../internals/object-define-property"),v=g("../internals/an-object"),E=g("../internals/to-indexed-object"),b=g("../internals/object-keys");D.f=K&&!z?Object.defineProperties:function(d,w){v(d);var a=E(w);w=b(w);for(var m=w.length,q=0,r;m>q;)k.f(d,r=w[q++],a[r]);return d}},{"../internals/an-object":84,"../internals/descriptors":112,"../internals/object-define-property":184,"../internals/object-keys":193,"../internals/to-indexed-object":220,
"../internals/v8-prototype-define-bug":232}],184:[function(g,K,D){K=g("../internals/descriptors");var z=g("../internals/ie8-dom-define"),k=g("../internals/v8-prototype-define-bug"),v=g("../internals/an-object"),E=g("../internals/to-property-key"),b=TypeError,d=Object.defineProperty,w=Object.getOwnPropertyDescriptor;D.f=K?k?function(a,m,q){v(a);m=E(m);v(q);if("function"===typeof a&&"prototype"===m&&"value"in q&&"writable"in q&&!q.writable){var r=w(a,m);r&&r.writable&&(a[m]=q.value,q={configurable:"configurable"in
q?q.configurable:r.configurable,enumerable:"enumerable"in q?q.enumerable:r.enumerable,writable:!1})}return d(a,m,q)}:d:function(a,m,q){v(a);m=E(m);v(q);if(z)try{return d(a,m,q)}catch(r){}if("get"in q||"set"in q)throw new b("Accessors not supported");"value"in q&&(a[m]=q.value);return a}},{"../internals/an-object":84,"../internals/descriptors":112,"../internals/ie8-dom-define":152,"../internals/to-property-key":225,"../internals/v8-prototype-define-bug":232}],185:[function(g,K,D){K=g("../internals/descriptors");
var z=g("../internals/function-call"),k=g("../internals/object-property-is-enumerable"),v=g("../internals/create-property-descriptor"),E=g("../internals/to-indexed-object"),b=g("../internals/to-property-key"),d=g("../internals/has-own-property"),w=g("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;D.f=K?a:function(m,q){m=E(m);q=b(q);if(w)try{return a(m,q)}catch(r){}if(d(m,q))return v(!z(k.f,m,q),m[q])}},{"../internals/create-property-descriptor":106,"../internals/descriptors":112,
"../internals/function-call":137,"../internals/has-own-property":148,"../internals/ie8-dom-define":152,"../internals/object-property-is-enumerable":194,"../internals/to-indexed-object":220,"../internals/to-property-key":225}],186:[function(g,K,D){var z=g("../internals/classof-raw"),k=g("../internals/to-indexed-object"),v=g("../internals/object-get-own-property-names").f,E=g("../internals/array-slice-simple"),b="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):
[];K.exports.f=function(d){if(b&&"Window"===z(d))try{var w=v(d)}catch(a){w=E(b)}else w=v(k(d));return w}},{"../internals/array-slice-simple":92,"../internals/classof-raw":97,"../internals/object-get-own-property-names":187,"../internals/to-indexed-object":220}],187:[function(g,K,D){var z=g("../internals/object-keys-internal"),k=g("../internals/enum-bug-keys").concat("length","prototype");D.f=Object.getOwnPropertyNames||function(v){return z(v,k)}},{"../internals/enum-bug-keys":127,"../internals/object-keys-internal":192}],
188:[function(g,K,D){D.f=Object.getOwnPropertySymbols},{}],189:[function(g,K,D){var z=g("../internals/has-own-property"),k=g("../internals/is-callable"),v=g("../internals/to-object");D=g("../internals/shared-key");g=g("../internals/correct-prototype-getter");var E=D("IE_PROTO"),b=Object,d=b.prototype;K.exports=g?b.getPrototypeOf:function(w){w=v(w);if(z(w,E))return w[E];var a=w.constructor;return k(a)&&w instanceof a?a.prototype:w instanceof b?d:null}},{"../internals/correct-prototype-getter":103,
"../internals/has-own-property":148,"../internals/is-callable":161,"../internals/shared-key":209,"../internals/to-object":223}],190:[function(g,K,D){D=g("../internals/fails");var z=g("../internals/is-object"),k=g("../internals/classof-raw"),v=g("../internals/array-buffer-non-extensible"),E=Object.isExtensible;g=D(function(){E(1)});K.exports=g||v?function(b){return!z(b)||v&&"ArrayBuffer"===k(b)?!1:E?E(b):!0}:E},{"../internals/array-buffer-non-extensible":86,"../internals/classof-raw":97,"../internals/fails":132,
"../internals/is-object":165}],191:[function(g,K,D){g=g("../internals/function-uncurry-this");K.exports=g({}.isPrototypeOf)},{"../internals/function-uncurry-this":141}],192:[function(g,K,D){D=g("../internals/function-uncurry-this");var z=g("../internals/has-own-property"),k=g("../internals/to-indexed-object"),v=g("../internals/array-includes").indexOf,E=g("../internals/hidden-keys"),b=D([].push);K.exports=function(d,w){d=k(d);var a=0,m=[],q;for(q in d)!z(E,q)&&z(d,q)&&b(m,q);for(;w.length>a;)z(d,
q=w[a++])&&(~v(m,q)||b(m,q));return m}},{"../internals/array-includes":89,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/to-indexed-object":220}],193:[function(g,K,D){var z=g("../internals/object-keys-internal"),k=g("../internals/enum-bug-keys");K.exports=Object.keys||function(v){return z(v,k)}},{"../internals/enum-bug-keys":127,"../internals/object-keys-internal":192}],194:[function(g,K,D){g={}.propertyIsEnumerable;var z=
Object.getOwnPropertyDescriptor;K=z&&!g.call({1:2},1);D.f=K?function(k){k=z(this,k);return!!k&&k.enumerable}:g},{}],195:[function(g,K,D){var z=g("../internals/function-uncurry-this-accessor"),k=g("../internals/an-object"),v=g("../internals/a-possible-prototype");K.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var E=!1,b={};try{var d=z(Object.prototype,"__proto__","set");d(b,[]);E=b instanceof Array}catch(w){}return function(w,a){k(w);v(a);E?d(w,a):w.__proto__=a;return w}}():void 0)},
{"../internals/a-possible-prototype":81,"../internals/an-object":84,"../internals/function-uncurry-this-accessor":139}],196:[function(g,K,D){D=g("../internals/to-string-tag-support");var z=g("../internals/classof");K.exports=D?{}.toString:function(){return"[object "+z(this)+"]"}},{"../internals/classof":98,"../internals/to-string-tag-support":226}],197:[function(g,K,D){var z=g("../internals/function-call"),k=g("../internals/is-callable"),v=g("../internals/is-object"),E=TypeError;K.exports=function(b,
d){var w,a;if("string"===d&&k(w=b.toString)&&!v(a=z(w,b))||k(w=b.valueOf)&&!v(a=z(w,b))||"string"!==d&&k(w=b.toString)&&!v(a=z(w,b)))return a;throw new E("Can't convert object to primitive value");}},{"../internals/function-call":137,"../internals/is-callable":161,"../internals/is-object":165}],198:[function(g,K,D){D=g("../internals/get-built-in");var z=g("../internals/function-uncurry-this"),k=g("../internals/object-get-own-property-names"),v=g("../internals/object-get-own-property-symbols"),E=g("../internals/an-object"),
b=z([].concat);K.exports=D("Reflect","ownKeys")||function(d){var w=k.f(E(d)),a=v.f;return a?b(w,a(d)):w}},{"../internals/an-object":84,"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-symbols":188}],199:[function(g,K,D){g=g("../internals/global");K.exports=g},{"../internals/global":147}],200:[function(g,K,D){K.exports=function(z){try{return{error:!1,value:z()}}catch(k){return{error:!0,value:k}}}},
{}],201:[function(g,K,D){D=g("../internals/global");var z=g("../internals/promise-native-constructor"),k=g("../internals/is-callable"),v=g("../internals/is-forced"),E=g("../internals/inspect-source"),b=g("../internals/well-known-symbol"),d=g("../internals/engine-is-browser"),w=g("../internals/engine-is-deno"),a=g("../internals/is-pure"),m=g("../internals/engine-v8-version"),q=z&&z.prototype,r=b("species"),h=!1,c=k(D.PromiseRejectionEvent);g=v("Promise",function(){var f=E(z),p=f!==String(z);if(!p&&
66===m||a&&(!q["catch"]||!q["finally"]))return!0;if(!m||51>m||!/native code/.test(f)){f=new z(function(n){n(1)});var e=function(n){n(function(){},function(){})};(f.constructor={})[r]=e;h=f.then(function(){})instanceof e;if(!h)return!0}return!p&&(d||w)&&!c});K.exports={CONSTRUCTOR:g,REJECTION_EVENT:c,SUBCLASSING:h}},{"../internals/engine-is-browser":118,"../internals/engine-is-deno":119,"../internals/engine-v8-version":125,"../internals/global":147,"../internals/inspect-source":155,"../internals/is-callable":161,
"../internals/is-forced":163,"../internals/is-pure":166,"../internals/promise-native-constructor":202,"../internals/well-known-symbol":237}],202:[function(g,K,D){g=g("../internals/global");K.exports=g.Promise},{"../internals/global":147}],203:[function(g,K,D){var z=g("../internals/an-object"),k=g("../internals/is-object"),v=g("../internals/new-promise-capability");K.exports=function(E,b){z(E);if(k(b)&&b.constructor===E)return b;E=v.f(E);var d=E.resolve;d(b);return E.promise}},{"../internals/an-object":84,
"../internals/is-object":165,"../internals/new-promise-capability":179}],204:[function(g,K,D){var z=g("../internals/promise-native-constructor");D=g("../internals/check-correctness-of-iteration");g=g("../internals/promise-constructor-detection").CONSTRUCTOR;K.exports=g||!D(function(k){z.all(k).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":96,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202}],205:[function(g,K,D){g=function(){this.tail=
this.head=null};g.prototype={add:function(z){z={item:z,next:null};var k=this.tail;k?k.next=z:this.head=z;this.tail=z},get:function(){var z=this.head;if(z)return null===(this.head=z.next)&&(this.tail=null),z.item}};K.exports=g},{}],206:[function(g,K,D){var z=g("../internals/is-null-or-undefined"),k=TypeError;K.exports=function(v){if(z(v))throw new k("Can't call method on "+v);return v}},{"../internals/is-null-or-undefined":164}],207:[function(g,K,D){var z=g("../internals/get-built-in"),k=g("../internals/define-built-in-accessor");
D=g("../internals/well-known-symbol");var v=g("../internals/descriptors"),E=D("species");K.exports=function(b){b=z(b);v&&b&&!b[E]&&k(b,E,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/get-built-in":142,"../internals/well-known-symbol":237}],208:[function(g,K,D){var z=g("../internals/object-define-property").f,k=g("../internals/has-own-property"),v=g("../internals/well-known-symbol")("toStringTag");K.exports=
function(E,b,d){E&&!d&&(E=E.prototype);E&&!k(E,v)&&z(E,v,{configurable:!0,value:b})}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/well-known-symbol":237}],209:[function(g,K,D){D=g("../internals/shared");var z=g("../internals/uid"),k=D("keys");K.exports=function(v){return k[v]||(k[v]=z(v))}},{"../internals/shared":211,"../internals/uid":230}],210:[function(g,K,D){D=g("../internals/global");g=g("../internals/define-global-property");g=D["__core-js_shared__"]||
g("__core-js_shared__",{});K.exports=g},{"../internals/define-global-property":111,"../internals/global":147}],211:[function(g,K,D){D=g("../internals/is-pure");var z=g("../internals/shared-store");(K.exports=function(k,v){return z[k]||(z[k]=void 0!==v?v:{})})("versions",[]).push({version:"3.33.2",mode:D?"pure":"global",copyright:"\u00a9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":166,
"../internals/shared-store":210}],212:[function(g,K,D){var z=g("../internals/an-object"),k=g("../internals/a-constructor"),v=g("../internals/is-null-or-undefined"),E=g("../internals/well-known-symbol")("species");K.exports=function(b,d){b=z(b).constructor;var w;return void 0===b||v(w=z(b)[E])?d:k(w)}},{"../internals/a-constructor":80,"../internals/an-object":84,"../internals/is-null-or-undefined":164,"../internals/well-known-symbol":237}],213:[function(g,K,D){D=g("../internals/function-uncurry-this");
var z=g("../internals/to-integer-or-infinity"),k=g("../internals/to-string"),v=g("../internals/require-object-coercible"),E=D("".charAt),b=D("".charCodeAt),d=D("".slice);g=function(w){return function(a,m){a=k(v(a));m=z(m);var q=a.length,r;if(0>m||m>=q)return w?"":void 0;var h=b(a,m);return 55296>h||56319<h||m+1===q||56320>(r=b(a,m+1))||57343<r?w?E(a,m):h:w?d(a,m,m+2):(h-55296<<10)+(r-56320)+65536}};K.exports={codeAt:g(!1),charAt:g(!0)}},{"../internals/function-uncurry-this":141,"../internals/require-object-coercible":206,
"../internals/to-integer-or-infinity":221,"../internals/to-string":227}],214:[function(g,K,D){var z=g("../internals/engine-v8-version");D=g("../internals/fails");var k=g("../internals/global").String;K.exports=!!Object.getOwnPropertySymbols&&!D(function(){var v=Symbol("symbol detection");return!k(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&z&&41>z})},{"../internals/engine-v8-version":125,"../internals/fails":132,"../internals/global":147}],215:[function(g,K,D){var z=g("../internals/function-call"),
k=g("../internals/get-built-in"),v=g("../internals/well-known-symbol"),E=g("../internals/define-built-in");K.exports=function(){var b=k("Symbol"),d=(b=b&&b.prototype)&&b.valueOf,w=v("toPrimitive");b&&!b[w]&&E(b,w,function(a){return z(d,this)},{arity:1})}},{"../internals/define-built-in":109,"../internals/function-call":137,"../internals/get-built-in":142,"../internals/well-known-symbol":237}],216:[function(g,K,D){g=g("../internals/symbol-constructor-detection");K.exports=g&&!!Symbol["for"]&&!!Symbol.keyFor},
{"../internals/symbol-constructor-detection":214}],217:[function(g,K,D){var z=g("../internals/global"),k=g("../internals/function-apply");D=g("../internals/function-bind-context");var v=g("../internals/is-callable"),E=g("../internals/has-own-property"),b=g("../internals/fails"),d=g("../internals/html"),w=g("../internals/array-slice"),a=g("../internals/document-create-element"),m=g("../internals/validate-arguments-length"),q=g("../internals/engine-is-ios"),r=g("../internals/engine-is-node");g=z.setImmediate;
var h=z.clearImmediate,c=z.process,f=z.Dispatch,p=z.Function,e=z.MessageChannel,n=z.String,u=0,A={},C;b(function(){C=z.location});var B=function(H){if(E(A,H)){var O=A[H];delete A[H];O()}},I=function(H){return function(){B(H)}},N=function(H){B(H.data)},y=function(H){z.postMessage(n(H),C.protocol+"//"+C.host)};if(!g||!h)if(g=function(H){m(arguments.length,1);var O=v(H)?H:p(H),J=w(arguments,1);A[++u]=function(){k(O,void 0,J)};G(u);return u},h=function(H){delete A[H]},r)var G=function(H){c.nextTick(I(H))};
else f&&f.now?G=function(H){f.now(I(H))}:e&&!q?(b=new e,q=b.port2,b.port1.onmessage=N,G=D(q.postMessage,q)):z.addEventListener&&v(z.postMessage)&&!z.importScripts&&C&&"file:"!==C.protocol&&!b(y)?(G=y,z.addEventListener("message",N,!1)):G="onreadystatechange"in a("script")?function(H){d.appendChild(a("script")).onreadystatechange=function(){d.removeChild(this);B(H)}}:function(H){setTimeout(I(H),0)};K.exports={set:g,clear:h}},{"../internals/array-slice":93,"../internals/document-create-element":114,
"../internals/engine-is-ios":121,"../internals/engine-is-node":122,"../internals/fails":132,"../internals/function-apply":134,"../internals/function-bind-context":135,"../internals/global":147,"../internals/has-own-property":148,"../internals/html":151,"../internals/is-callable":161,"../internals/validate-arguments-length":233}],218:[function(g,K,D){var z=g("../internals/to-integer-or-infinity"),k=Math.max,v=Math.min;K.exports=function(E,b){E=z(E);return 0>E?k(E+b,0):v(E,b)}},{"../internals/to-integer-or-infinity":221}],
219:[function(g,K,D){var z=g("../internals/to-primitive"),k=TypeError;K.exports=function(v){v=z(v,"number");if("number"==typeof v)throw new k("Can't convert number to bigint");return BigInt(v)}},{"../internals/to-primitive":224}],220:[function(g,K,D){var z=g("../internals/indexed-object"),k=g("../internals/require-object-coercible");K.exports=function(v){return z(k(v))}},{"../internals/indexed-object":153,"../internals/require-object-coercible":206}],221:[function(g,K,D){var z=g("../internals/math-trunc");
K.exports=function(k){k=+k;return k!==k||0===k?0:z(k)}},{"../internals/math-trunc":177}],222:[function(g,K,D){var z=g("../internals/to-integer-or-infinity"),k=Math.min;K.exports=function(v){return 0<v?k(z(v),9007199254740991):0}},{"../internals/to-integer-or-infinity":221}],223:[function(g,K,D){var z=g("../internals/require-object-coercible"),k=Object;K.exports=function(v){return k(z(v))}},{"../internals/require-object-coercible":206}],224:[function(g,K,D){var z=g("../internals/function-call"),k=
g("../internals/is-object"),v=g("../internals/is-symbol"),E=g("../internals/get-method"),b=g("../internals/ordinary-to-primitive");g=g("../internals/well-known-symbol");var d=TypeError,w=g("toPrimitive");K.exports=function(a,m){if(!k(a)||v(a))return a;var q=E(a,w);if(q){void 0===m&&(m="default");a=z(q,a,m);if(!k(a)||v(a))return a;throw new d("Can't convert object to primitive value");}void 0===m&&(m="number");return b(a,m)}},{"../internals/function-call":137,"../internals/get-method":146,"../internals/is-object":165,
"../internals/is-symbol":168,"../internals/ordinary-to-primitive":197,"../internals/well-known-symbol":237}],225:[function(g,K,D){var z=g("../internals/to-primitive"),k=g("../internals/is-symbol");K.exports=function(v){v=z(v,"string");return k(v)?v:v+""}},{"../internals/is-symbol":168,"../internals/to-primitive":224}],226:[function(g,K,D){g=g("../internals/well-known-symbol")("toStringTag");D={};D[g]="z";K.exports="[object z]"===String(D)},{"../internals/well-known-symbol":237}],227:[function(g,K,
D){var z=g("../internals/classof"),k=String;K.exports=function(v){if("Symbol"===z(v))throw new TypeError("Cannot convert a Symbol value to a string");return k(v)}},{"../internals/classof":98}],228:[function(g,K,D){var z=String;K.exports=function(k){try{return z(k)}catch(v){return"Object"}}},{}],229:[function(g,K,D){D=g("../internals/array-buffer-view-core");var z=g("../internals/species-constructor"),k=D.aTypedArrayConstructor,v=D.getTypedArrayConstructor;K.exports=function(E){return k(z(E,v(E)))}},
{"../internals/array-buffer-view-core":87,"../internals/species-constructor":212}],230:[function(g,K,D){g=g("../internals/function-uncurry-this");var z=0,k=Math.random(),v=g((1).toString);K.exports=function(E){return"Symbol("+(void 0===E?"":E)+")_"+v(++z+k,36)}},{"../internals/function-uncurry-this":141}],231:[function(g,K,D){g=g("../internals/symbol-constructor-detection");K.exports=g&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/symbol-constructor-detection":214}],232:[function(g,
K,D){D=g("../internals/descriptors");g=g("../internals/fails");K.exports=D&&g(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},{"../internals/descriptors":112,"../internals/fails":132}],233:[function(g,K,D){var z=TypeError;K.exports=function(k,v){if(k<v)throw new z("Not enough arguments");return k}},{}],234:[function(g,K,D){D=g("../internals/global");g=g("../internals/is-callable");D=D.WeakMap;K.exports=g(D)&&/native code/.test(String(D))},
{"../internals/global":147,"../internals/is-callable":161}],235:[function(g,K,D){var z=g("../internals/path"),k=g("../internals/has-own-property"),v=g("../internals/well-known-symbol-wrapped"),E=g("../internals/object-define-property").f;K.exports=function(b){var d=z.Symbol||(z.Symbol={});k(d,b)||E(d,b,{value:v.f(b)})}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/path":199,"../internals/well-known-symbol-wrapped":236}],236:[function(g,K,D){g=g("../internals/well-known-symbol");
D.f=g},{"../internals/well-known-symbol":237}],237:[function(g,K,D){D=g("../internals/global");var z=g("../internals/shared"),k=g("../internals/has-own-property"),v=g("../internals/uid"),E=g("../internals/symbol-constructor-detection");g=g("../internals/use-symbol-as-uid");var b=D.Symbol,d=z("wks"),w=g?b["for"]||b:b&&b.withoutSetter||v;K.exports=function(a){k(d,a)||(d[a]=E&&k(b,a)?b[a]:w("Symbol."+a));return d[a]}},{"../internals/global":147,"../internals/has-own-property":148,"../internals/shared":211,
"../internals/symbol-constructor-detection":214,"../internals/uid":230,"../internals/use-symbol-as-uid":231}],238:[function(g,K,D){K=g("../internals/export");var z=g("../internals/object-is-prototype-of"),k=g("../internals/object-get-prototype-of"),v=g("../internals/object-set-prototype-of");D=g("../internals/copy-constructor-properties");var E=g("../internals/object-create"),b=g("../internals/create-non-enumerable-property"),d=g("../internals/create-property-descriptor"),w=g("../internals/install-error-cause"),
a=g("../internals/error-stack-install"),m=g("../internals/iterate"),q=g("../internals/normalize-string-argument"),r=g("../internals/well-known-symbol")("toStringTag"),h=Error,c=[].push,f=function(e,n){var u=z(p,this);v?u=v(new h,u?k(this):p):(u=u?this:E(p),b(u,r,"Error"));void 0!==n&&b(u,"message",q(n));a(u,f,u.stack,1);2<arguments.length&&w(u,arguments[2]);var A=[];m(e,c,{that:A});b(u,"errors",A);return u};v?v(f,h):D(f,h,{name:!0});var p=f.prototype=E(h.prototype,{constructor:d(1,f),message:d(1,
""),name:d(1,"AggregateError")});K({global:!0,constructor:!0,arity:2},{AggregateError:f})},{"../internals/copy-constructor-properties":101,"../internals/create-non-enumerable-property":105,"../internals/create-property-descriptor":106,"../internals/error-stack-install":129,"../internals/export":131,"../internals/install-error-cause":156,"../internals/iterate":169,"../internals/normalize-string-argument":180,"../internals/object-create":182,"../internals/object-get-prototype-of":189,"../internals/object-is-prototype-of":191,
"../internals/object-set-prototype-of":195,"../internals/well-known-symbol":237}],239:[function(g,K,D){g("../modules/es.aggregate-error.constructor")},{"../modules/es.aggregate-error.constructor":238}],240:[function(g,K,D){K=g("../internals/export");D=g("../internals/fails");var z=g("../internals/is-array"),k=g("../internals/is-object"),v=g("../internals/to-object"),E=g("../internals/length-of-array-like"),b=g("../internals/does-not-exceed-safe-integer"),d=g("../internals/create-property"),w=g("../internals/array-species-create"),
a=g("../internals/array-method-has-species-support"),m=g("../internals/well-known-symbol");g=g("../internals/engine-v8-version");var q=m("isConcatSpreadable");g=!(51<=g||!D(function(){var r=[];r[q]=!1;return r.concat()[0]!==r}))||!a("concat");K({target:"Array",proto:!0,arity:1,forced:g},{concat:function(r){var h=v(this),c=w(h,0),f=0,p;var e=-1;for(p=arguments.length;e<p;e++){var n=-1===e?h:arguments[e];var u=n;if(k(u)){var A=u[q];u=void 0!==A?!!A:z(u)}else u=!1;if(u)for(A=E(n),b(f+A),u=0;u<A;u++,
f++)u in n&&d(c,f,n[u]);else b(f+1),d(c,f++,n)}c.length=f;return c}})},{"../internals/array-method-has-species-support":91,"../internals/array-species-create":95,"../internals/create-property":107,"../internals/does-not-exceed-safe-integer":115,"../internals/engine-v8-version":125,"../internals/export":131,"../internals/fails":132,"../internals/is-array":160,"../internals/is-object":165,"../internals/length-of-array-like":175,"../internals/to-object":223,"../internals/well-known-symbol":237}],241:[function(g,
K,D){K=g("../internals/export");D=g("../internals/array-fill");g=g("../internals/add-to-unscopables");K({target:"Array",proto:!0},{fill:D});g("fill")},{"../internals/add-to-unscopables":82,"../internals/array-fill":88,"../internals/export":131}],242:[function(g,K,D){var z=g("../internals/to-indexed-object");D=g("../internals/add-to-unscopables");var k=g("../internals/iterators"),v=g("../internals/internal-state"),E=g("../internals/object-define-property").f,b=g("../internals/iterator-define"),d=g("../internals/create-iter-result-object"),
w=g("../internals/is-pure");g=g("../internals/descriptors");var a=v.set,m=v.getterFor("Array Iterator");K.exports=b(Array,"Array",function(q,r){a(this,{type:"Array Iterator",target:z(q),index:0,kind:r})},function(){var q=m(this),r=q.target,h=q.index++;if(!r||h>=r.length)return q.target=void 0,d(void 0,!0);switch(q.kind){case "keys":return d(h,!1);case "values":return d(r[h],!1)}return d([h,r[h]],!1)},"values");K=k.Arguments=k.Array;D("keys");D("values");D("entries");if(!w&&g&&"values"!==K.name)try{E(K,
"name",{value:"values"})}catch(q){}},{"../internals/add-to-unscopables":82,"../internals/create-iter-result-object":104,"../internals/descriptors":112,"../internals/internal-state":158,"../internals/is-pure":166,"../internals/iterator-define":172,"../internals/iterators":174,"../internals/object-define-property":184,"../internals/to-indexed-object":220}],243:[function(g,K,D){K=g("../internals/export");var z=g("../internals/get-built-in"),k=g("../internals/function-apply"),v=g("../internals/function-call");
D=g("../internals/function-uncurry-this");var E=g("../internals/fails"),b=g("../internals/is-callable"),d=g("../internals/is-symbol"),w=g("../internals/array-slice"),a=g("../internals/get-json-replacer-function");g=g("../internals/symbol-constructor-detection");var m=String,q=z("JSON","stringify"),r=D(/./.exec),h=D("".charAt),c=D("".charCodeAt),f=D("".replace),p=D((1).toString),e=/[\uD800-\uDFFF]/g,n=/^[\uD800-\uDBFF]$/,u=/^[\uDC00-\uDFFF]$/,A=!g||E(function(){var N=z("Symbol")("stringify detection");
return"[null]"!==q([N])||"{}"!==q({a:N})||"{}"!==q(Object(N))}),C=E(function(){return'"\\udf06\\ud834"'!==q("\udf06\ud834")||'"\\udead"'!==q("\udead")}),B=function(N,y){var G=w(arguments),H=a(y);if(b(H)||void 0!==N&&!d(N))return G[1]=function(O,J){b(H)&&(J=v(H,this,m(O),J));if(!d(J))return J},k(q,null,G)},I=function(N,y,G){var H=h(G,y-1);y=h(G,y+1);return r(n,N)&&!r(u,y)||r(u,N)&&!r(n,H)?"\\u"+p(c(N,0),16):N};q&&K({target:"JSON",stat:!0,arity:3,forced:A||C},{stringify:function(N,y,G){var H=w(arguments);
H=k(A?B:q,null,H);return C&&"string"==typeof H?f(H,e,I):H}})},{"../internals/array-slice":93,"../internals/export":131,"../internals/fails":132,"../internals/function-apply":134,"../internals/function-call":137,"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/get-json-replacer-function":145,"../internals/is-callable":161,"../internals/is-symbol":168,"../internals/symbol-constructor-detection":214}],244:[function(g,K,D){K=g("../internals/global");g("../internals/set-to-string-tag")(K.JSON,
"JSON",!0)},{"../internals/global":147,"../internals/set-to-string-tag":208}],245:[function(g,K,D){K=g("../internals/collection");g=g("../internals/collection-strong");K("Map",function(z){return function(){return z(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":100,"../internals/collection-strong":99}],246:[function(g,K,D){g("../modules/es.map.constructor")},{"../modules/es.map.constructor":245}],247:[function(g,K,D){g("../internals/set-to-string-tag")(Math,"Math",!0)},
{"../internals/set-to-string-tag":208}],248:[function(g,K,D){K=g("../internals/export");D=g("../internals/symbol-constructor-detection");var z=g("../internals/fails"),k=g("../internals/object-get-own-property-symbols"),v=g("../internals/to-object");g=!D||z(function(){k.f(1)});K({target:"Object",stat:!0,forced:g},{getOwnPropertySymbols:function(E){var b=k.f;return b?b(v(E)):[]}})},{"../internals/export":131,"../internals/fails":132,"../internals/object-get-own-property-symbols":188,"../internals/symbol-constructor-detection":214,
"../internals/to-object":223}],249:[function(g,K,D){K=g("../internals/to-string-tag-support");D=g("../internals/define-built-in");g=g("../internals/object-to-string");K||D(Object.prototype,"toString",g,{unsafe:!0})},{"../internals/define-built-in":109,"../internals/object-to-string":196,"../internals/to-string-tag-support":226}],250:[function(g,K,D){K=g("../internals/export");var z=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/new-promise-capability"),E=g("../internals/perform"),
b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");K({target:"Promise",stat:!0,forced:g},{allSettled:function(d){var w=this,a=v.f(w),m=a.resolve,q=a.reject,r=E(function(){var h=k(w.resolve),c=[],f=0,p=1;b(d,function(e){var n=f++,u=!1;p++;z(h,w,e).then(function(A){u||(u=!0,c[n]={status:"fulfilled",value:A},--p||m(c))},function(A){u||(u=!0,c[n]={status:"rejected",reason:A},--p||m(c))})});--p||m(c)});r.error&&q(r.value);return a.promise}})},{"../internals/a-callable":79,
"../internals/export":131,"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],251:[function(g,K,D){K=g("../internals/export");var z=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/new-promise-capability"),E=g("../internals/perform"),b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");K({target:"Promise",
stat:!0,forced:g},{all:function(d){var w=this,a=v.f(w),m=a.resolve,q=a.reject,r=E(function(){var h=k(w.resolve),c=[],f=0,p=1;b(d,function(e){var n=f++,u=!1;p++;z(h,w,e).then(function(A){u||(u=!0,c[n]=A,--p||m(c))},q)});--p||m(c)});r.error&&q(r.value);return a.promise}})},{"../internals/a-callable":79,"../internals/export":131,"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],
252:[function(g,K,D){K=g("../internals/export");var z=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/get-built-in"),E=g("../internals/new-promise-capability"),b=g("../internals/perform"),d=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");K({target:"Promise",stat:!0,forced:g},{any:function(w){var a=this,m=v("AggregateError"),q=E.f(a),r=q.resolve,h=q.reject,c=b(function(){var f=k(a.resolve),p=[],e=0,n=1,u=!1;d(w,function(A){var C=e++,
B=!1;n++;z(f,a,A).then(function(I){B||u||(u=!0,r(I))},function(I){B||u||(B=!0,p[C]=I,--n||h(new m(p,"No one promise resolved")))})});--n||h(new m(p,"No one promise resolved"))});c.error&&h(c.value);return q.promise}})},{"../internals/a-callable":79,"../internals/export":131,"../internals/function-call":137,"../internals/get-built-in":142,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],253:[function(g,
K,D){K=g("../internals/export");D=g("../internals/is-pure");var z=g("../internals/promise-constructor-detection").CONSTRUCTOR,k=g("../internals/promise-native-constructor"),v=g("../internals/get-built-in"),E=g("../internals/is-callable");g=g("../internals/define-built-in");var b=k&&k.prototype;K({target:"Promise",proto:!0,forced:z,real:!0},{"catch":function(d){return this.then(void 0,d)}});!D&&E(k)&&(K=v("Promise").prototype["catch"],b["catch"]!==K&&g(b,"catch",K,{unsafe:!0}))},{"../internals/define-built-in":109,
"../internals/export":131,"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202}],254:[function(g,K,D){K=g("../internals/export");D=g("../internals/is-pure");var z=g("../internals/engine-is-node"),k=g("../internals/global"),v=g("../internals/function-call"),E=g("../internals/define-built-in"),b=g("../internals/object-set-prototype-of"),d=g("../internals/set-to-string-tag"),
w=g("../internals/set-species"),a=g("../internals/a-callable"),m=g("../internals/is-callable"),q=g("../internals/is-object"),r=g("../internals/an-instance"),h=g("../internals/species-constructor"),c=g("../internals/task").set,f=g("../internals/microtask"),p=g("../internals/host-report-errors"),e=g("../internals/perform"),n=g("../internals/queue"),u=g("../internals/internal-state"),A=g("../internals/promise-native-constructor"),C=g("../internals/promise-constructor-detection");g=g("../internals/new-promise-capability");
var B=C.CONSTRUCTOR,I=C.REJECTION_EVENT;C=C.SUBCLASSING;var N=u.getterFor("Promise"),y=u.set;u=A&&A.prototype;var G=A,H=u,O=k.TypeError,J=k.document,R=k.process,ea=g.f,Y=ea,qa=!!(J&&J.createEvent&&k.dispatchEvent),la=function(Z){var sa;return q(Z)&&m(sa=Z.then)?sa:!1},Q=function(Z,sa){var Ea=sa.value,Ra=1===sa.state,wb=Ra?Z.ok:Z.fail,Ib=Z.resolve,ra=Z.reject,za=Z.domain,Da;try{if(wb){Ra||(2===sa.rejection&&ja(sa),sa.rejection=1);if(!0===wb)var Ga=Ea;else if(za&&za.enter(),Ga=wb(Ea),za){za.exit();
var db=!0}Ga===Z.promise?ra(new O("Promise-chain cycle")):(Da=la(Ga))?v(Da,Ga,Ib,ra):Ib(Ga)}else ra(Ea)}catch(tb){za&&!db&&za.exit(),ra(tb)}},ka=function(Z,sa){Z.notified||(Z.notified=!0,f(function(){for(var Ea=Z.reactions,Ra;Ra=Ea.get();)Q(Ra,Z);Z.notified=!1;sa&&!Z.rejection&&ya(Z)}))},oa=function(Z,sa,Ea){var Ra;if(qa){var wb=J.createEvent("Event");wb.promise=sa;wb.reason=Ea;wb.initEvent(Z,!1,!0);k.dispatchEvent(wb)}else wb={promise:sa,reason:Ea};!I&&(Ra=k["on"+Z])?Ra(wb):"unhandledrejection"===
Z&&p("Unhandled promise rejection",Ea)},ya=function(Z){v(c,k,function(){var sa=Z.facade,Ea=Z.value;if(1!==Z.rejection&&!Z.parent){var Ra=e(function(){z?R.emit("unhandledRejection",Ea,sa):oa("unhandledrejection",sa,Ea)});Z.rejection=z||1!==Z.rejection&&!Z.parent?2:1;if(Ra.error)throw Ra.value;}})},ja=function(Z){v(c,k,function(){var sa=Z.facade;z?R.emit("rejectionHandled",sa):oa("rejectionhandled",sa,Z.value)})},ua=function(Z,sa,Ea){return function(Ra){Z(sa,Ra,Ea)}},ha=function(Z,sa,Ea){Z.done||(Z.done=
!0,Ea&&(Z=Ea),Z.value=sa,Z.state=2,ka(Z,!0))},La=function(Z,sa,Ea){if(!Z.done){Z.done=!0;Ea&&(Z=Ea);try{if(Z.facade===sa)throw new O("Promise can't be resolved itself");var Ra=la(sa);Ra?f(function(){var wb={done:!1};try{v(Ra,sa,ua(La,wb,Z),ua(ha,wb,Z))}catch(Ib){ha(wb,Ib,Z)}}):(Z.value=sa,Z.state=1,ka(Z,!1))}catch(wb){ha({done:!1},wb,Z)}}};if(B){G=function(Z){r(this,H);a(Z);v(Ya,this);var sa=N(this);try{Z(ua(La,sa),ua(ha,sa))}catch(Ea){ha(sa,Ea)}};H=G.prototype;var Ya=function(Z){y(this,{type:"Promise",
done:!1,notified:!1,parent:!1,reactions:new n,rejection:!1,state:0,value:void 0})};Ya.prototype=E(H,"then",function(Z,sa){var Ea=N(this),Ra=ea(h(this,G));Ea.parent=!0;Ra.ok=m(Z)?Z:!0;Ra.fail=m(sa)&&sa;Ra.domain=z?R.domain:void 0;0===Ea.state?Ea.reactions.add(Ra):f(function(){Q(Ra,Ea)});return Ra.promise});var Xa=function(){var Z=new Ya,sa=N(Z);this.promise=Z;this.resolve=ua(La,sa);this.reject=ua(ha,sa)};g.f=ea=function(Z){return Z===G||void 0===Z?new Xa(Z):Y(Z)};if(!D&&m(A)&&u!==Object.prototype){var T=
u.then;C||E(u,"then",function(Z,sa){var Ea=this;return(new G(function(Ra,wb){v(T,Ea,Ra,wb)})).then(Z,sa)},{unsafe:!0});try{delete u.constructor}catch(Z){}b&&b(u,H)}}K({global:!0,constructor:!0,wrap:!0,forced:B},{Promise:G});d(G,"Promise",!1,!0);w("Promise")},{"../internals/a-callable":79,"../internals/an-instance":83,"../internals/define-built-in":109,"../internals/engine-is-node":122,"../internals/export":131,"../internals/function-call":137,"../internals/global":147,"../internals/host-report-errors":150,
"../internals/internal-state":158,"../internals/is-callable":161,"../internals/is-object":165,"../internals/is-pure":166,"../internals/microtask":178,"../internals/new-promise-capability":179,"../internals/object-set-prototype-of":195,"../internals/perform":200,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202,"../internals/queue":205,"../internals/set-species":207,"../internals/set-to-string-tag":208,"../internals/species-constructor":212,"../internals/task":217}],
255:[function(g,K,D){K=g("../internals/export");D=g("../internals/is-pure");var z=g("../internals/promise-native-constructor"),k=g("../internals/fails"),v=g("../internals/get-built-in"),E=g("../internals/is-callable"),b=g("../internals/species-constructor"),d=g("../internals/promise-resolve");g=g("../internals/define-built-in");var w=z&&z.prototype;k=!!z&&k(function(){w["finally"].call({then:function(){}},function(){})});K({target:"Promise",proto:!0,real:!0,forced:k},{"finally":function(a){var m=
b(this,v("Promise")),q=E(a);return this.then(q?function(r){return d(m,a()).then(function(){return r})}:a,q?function(r){return d(m,a()).then(function(){throw r;})}:a)}});!D&&E(z)&&(K=v("Promise").prototype["finally"],w["finally"]!==K&&g(w,"finally",K,{unsafe:!0}))},{"../internals/define-built-in":109,"../internals/export":131,"../internals/fails":132,"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/promise-native-constructor":202,"../internals/promise-resolve":203,
"../internals/species-constructor":212}],256:[function(g,K,D){g("../modules/es.promise.constructor");g("../modules/es.promise.all");g("../modules/es.promise.catch");g("../modules/es.promise.race");g("../modules/es.promise.reject");g("../modules/es.promise.resolve")},{"../modules/es.promise.all":251,"../modules/es.promise.catch":253,"../modules/es.promise.constructor":254,"../modules/es.promise.race":257,"../modules/es.promise.reject":258,"../modules/es.promise.resolve":259}],257:[function(g,K,D){K=
g("../internals/export");var z=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/new-promise-capability"),E=g("../internals/perform"),b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");K({target:"Promise",stat:!0,forced:g},{race:function(d){var w=this,a=v.f(w),m=a.reject,q=E(function(){var r=k(w.resolve);b(d,function(h){z(r,w,h).then(a.resolve,m)})});q.error&&m(q.value);return a.promise}})},{"../internals/a-callable":79,"../internals/export":131,
"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],258:[function(g,K,D){K=g("../internals/export");var z=g("../internals/function-call"),k=g("../internals/new-promise-capability");g=g("../internals/promise-constructor-detection").CONSTRUCTOR;K({target:"Promise",stat:!0,forced:g},{reject:function(v){var E=k.f(this);z(E.reject,void 0,v);return E.promise}})},{"../internals/export":131,
"../internals/function-call":137,"../internals/new-promise-capability":179,"../internals/promise-constructor-detection":201}],259:[function(g,K,D){K=g("../internals/export");D=g("../internals/get-built-in");var z=g("../internals/is-pure"),k=g("../internals/promise-native-constructor"),v=g("../internals/promise-constructor-detection").CONSTRUCTOR,E=g("../internals/promise-resolve"),b=D("Promise"),d=z&&!v;K({target:"Promise",stat:!0,forced:z||v},{resolve:function(w){return E(d&&this===b?k:this,w)}})},
{"../internals/export":131,"../internals/get-built-in":142,"../internals/is-pure":166,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202,"../internals/promise-resolve":203}],260:[function(g,K,D){K=g("../internals/export");D=g("../internals/global");g=g("../internals/set-to-string-tag");K({global:!0},{Reflect:{}});g(D.Reflect,"Reflect",!0)},{"../internals/export":131,"../internals/global":147,"../internals/set-to-string-tag":208}],261:[function(g,K,D){K=
g("../internals/collection");g=g("../internals/collection-strong");K("Set",function(z){return function(){return z(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":100,"../internals/collection-strong":99}],262:[function(g,K,D){g("../modules/es.set.constructor")},{"../modules/es.set.constructor":261}],263:[function(g,K,D){K=g("../internals/export");D=g("../internals/function-uncurry-this-clause");var z=g("../internals/object-get-own-property-descriptor").f,k=g("../internals/to-length"),
v=g("../internals/to-string"),E=g("../internals/not-a-regexp"),b=g("../internals/require-object-coercible"),d=g("../internals/correct-is-regexp-logic");g=g("../internals/is-pure");var w=D("".endsWith),a=D("".slice),m=Math.min;D=d("endsWith");g=!g&&!D&&!!function(){var q=z(String.prototype,"endsWith");return q&&!q.writable}();K({target:"String",proto:!0,forced:!g&&!D},{endsWith:function(q){var r=v(b(this));E(q);var h=1<arguments.length?arguments[1]:void 0,c=r.length;h=void 0===h?c:m(k(h),c);c=v(q);
return w?w(r,c,h):a(r,h-c.length,h)===c}})},{"../internals/correct-is-regexp-logic":102,"../internals/export":131,"../internals/function-uncurry-this-clause":140,"../internals/is-pure":166,"../internals/not-a-regexp":181,"../internals/object-get-own-property-descriptor":185,"../internals/require-object-coercible":206,"../internals/to-length":222,"../internals/to-string":227}],264:[function(g,K,D){var z=g("../internals/string-multibyte").charAt,k=g("../internals/to-string");K=g("../internals/internal-state");
D=g("../internals/iterator-define");var v=g("../internals/create-iter-result-object"),E=K.set,b=K.getterFor("String Iterator");D(String,"String",function(d){E(this,{type:"String Iterator",string:k(d),index:0})},function(){var d=b(this),w=d.string,a=d.index;if(a>=w.length)return v(void 0,!0);w=z(w,a);d.index+=w.length;return v(w,!1)})},{"../internals/create-iter-result-object":104,"../internals/internal-state":158,"../internals/iterator-define":172,"../internals/string-multibyte":213,"../internals/to-string":227}],
265:[function(g,K,D){g("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":235}],266:[function(g,K,D){K=g("../internals/export");var z=g("../internals/global"),k=g("../internals/function-call"),v=g("../internals/function-uncurry-this");D=g("../internals/is-pure");var E=g("../internals/descriptors"),b=g("../internals/symbol-constructor-detection"),d=g("../internals/fails"),w=g("../internals/has-own-property"),a=g("../internals/object-is-prototype-of"),
m=g("../internals/an-object"),q=g("../internals/to-indexed-object"),r=g("../internals/to-property-key"),h=g("../internals/to-string"),c=g("../internals/create-property-descriptor"),f=g("../internals/object-create"),p=g("../internals/object-keys"),e=g("../internals/object-get-own-property-names"),n=g("../internals/object-get-own-property-names-external"),u=g("../internals/object-get-own-property-symbols"),A=g("../internals/object-get-own-property-descriptor"),C=g("../internals/object-define-property"),
B=g("../internals/object-define-properties"),I=g("../internals/object-property-is-enumerable"),N=g("../internals/define-built-in"),y=g("../internals/define-built-in-accessor"),G=g("../internals/shared"),H=g("../internals/shared-key"),O=g("../internals/hidden-keys"),J=g("../internals/uid"),R=g("../internals/well-known-symbol"),ea=g("../internals/well-known-symbol-wrapped"),Y=g("../internals/well-known-symbol-define"),qa=g("../internals/symbol-define-to-primitive"),la=g("../internals/set-to-string-tag"),
Q=g("../internals/internal-state"),ka=g("../internals/array-iteration").forEach,oa=H("hidden"),ya=Q.set,ja=Q.getterFor("Symbol"),ua=Object.prototype,ha=(g=z.Symbol)&&g.prototype,La=z.RangeError,Ya=z.TypeError;H=z.QObject;var Xa=A.f,T=C.f,Z=n.f,sa=I.f,Ea=v([].push),Ra=G("symbols"),wb=G("op-symbols");v=G("wks");var Ib=!H||!H.prototype||!H.prototype.findChild,ra=function(Oa,ta,pa){var Ca=Xa(ua,ta);Ca&&delete ua[ta];T(Oa,ta,pa);Ca&&Oa!==ua&&T(ua,ta,Ca)},za=E&&d(function(){return 7!==f(T({},"a",{get:function(){return T(this,
"a",{value:7}).a}})).a})?ra:T,Da=function(Oa,ta){var pa=Ra[Oa]=f(ha);ya(pa,{type:"Symbol",tag:Oa,description:ta});E||(pa.description=ta);return pa},Ga=function(Oa,ta,pa){Oa===ua&&Ga(wb,ta,pa);m(Oa);ta=r(ta);m(pa);return w(Ra,ta)?(pa.enumerable?(w(Oa,oa)&&Oa[oa][ta]&&(Oa[oa][ta]=!1),pa=f(pa,{enumerable:c(0,!1)})):(w(Oa,oa)||T(Oa,oa,c(1,{})),Oa[oa][ta]=!0),za(Oa,ta,pa)):T(Oa,ta,pa)},db=function(Oa,ta){m(Oa);var pa=q(ta);ta=p(pa).concat(qb(pa));ka(ta,function(Ca){E&&!k(tb,pa,Ca)||Ga(Oa,Ca,pa[Ca])});
return Oa},tb=function(Oa){Oa=r(Oa);var ta=k(sa,this,Oa);return this===ua&&w(Ra,Oa)&&!w(wb,Oa)?!1:ta||!w(this,Oa)||!w(Ra,Oa)||w(this,oa)&&this[oa][Oa]?ta:!0};d=function(Oa,ta){Oa=q(Oa);ta=r(ta);if(Oa!==ua||!w(Ra,ta)||w(wb,ta)){var pa=Xa(Oa,ta);!pa||!w(Ra,ta)||w(Oa,oa)&&Oa[oa][ta]||(pa.enumerable=!0);return pa}};G=function(Oa){Oa=Z(q(Oa));var ta=[];ka(Oa,function(pa){w(Ra,pa)||w(O,pa)||Ea(ta,pa)});return ta};var qb=function(Oa){var ta=Oa===ua;Oa=Z(ta?wb:q(Oa));var pa=[];ka(Oa,function(Ca){!w(Ra,Ca)||
ta&&!w(ua,Ca)||Ea(pa,Ra[Ca])});return pa};b||(g=function(){if(a(ha,this))throw new Ya("Symbol is not a constructor");var Oa=arguments.length&&void 0!==arguments[0]?h(arguments[0]):void 0,ta=J(Oa),pa=function(Ca){var Ka=void 0===this?z:this;Ka===ua&&k(pa,wb,Ca);w(Ka,oa)&&w(Ka[oa],ta)&&(Ka[oa][ta]=!1);Ca=c(1,Ca);try{za(Ka,ta,Ca)}catch(Ua){if(!(Ua instanceof La))throw Ua;ra(Ka,ta,Ca)}};E&&Ib&&za(ua,ta,{configurable:!0,set:pa});return Da(ta,Oa)},ha=g.prototype,N(ha,"toString",function(){return ja(this).tag}),
N(g,"withoutSetter",function(Oa){return Da(J(Oa),Oa)}),I.f=tb,C.f=Ga,B.f=db,A.f=d,e.f=n.f=G,u.f=qb,ea.f=function(Oa){return Da(R(Oa),Oa)},E&&(y(ha,"description",{configurable:!0,get:function(){return ja(this).description}}),D||N(ua,"propertyIsEnumerable",tb,{unsafe:!0})));K({global:!0,constructor:!0,wrap:!0,forced:!b,sham:!b},{Symbol:g});ka(p(v),function(Oa){Y(Oa)});K({target:"Symbol",stat:!0,forced:!b},{useSetter:function(){Ib=!0},useSimple:function(){Ib=!1}});K({target:"Object",stat:!0,forced:!b,
sham:!E},{create:function(Oa,ta){return void 0===ta?f(Oa):db(f(Oa),ta)},defineProperty:Ga,defineProperties:db,getOwnPropertyDescriptor:d});K({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:G});qa();la(g,"Symbol");O[oa]=!0},{"../internals/an-object":84,"../internals/array-iteration":90,"../internals/create-property-descriptor":106,"../internals/define-built-in":109,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/export":131,"../internals/fails":132,
"../internals/function-call":137,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/internal-state":158,"../internals/is-pure":166,"../internals/object-create":182,"../internals/object-define-properties":183,"../internals/object-define-property":184,"../internals/object-get-own-property-descriptor":185,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-names-external":186,
"../internals/object-get-own-property-symbols":188,"../internals/object-is-prototype-of":191,"../internals/object-keys":193,"../internals/object-property-is-enumerable":194,"../internals/set-to-string-tag":208,"../internals/shared":211,"../internals/shared-key":209,"../internals/symbol-constructor-detection":214,"../internals/symbol-define-to-primitive":215,"../internals/to-indexed-object":220,"../internals/to-property-key":225,"../internals/to-string":227,"../internals/uid":230,"../internals/well-known-symbol":237,
"../internals/well-known-symbol-define":235,"../internals/well-known-symbol-wrapped":236}],267:[function(g,K,D){K=g("../internals/export");var z=g("../internals/descriptors"),k=g("../internals/global");D=g("../internals/function-uncurry-this");var v=g("../internals/has-own-property"),E=g("../internals/is-callable"),b=g("../internals/object-is-prototype-of"),d=g("../internals/to-string"),w=g("../internals/define-built-in-accessor");g=g("../internals/copy-constructor-properties");var a=k.Symbol,m=a&&
a.prototype;if(z&&E(a)&&(!("description"in m)||void 0!==a().description)){var q={};z=function(){var n=1>arguments.length||void 0===arguments[0]?void 0:d(arguments[0]),u=b(m,this)?new a(n):void 0===n?a():a(n);""===n&&(q[u]=!0);return u};g(z,a);z.prototype=m;m.constructor=z;var r="Symbol(description detection)"===String(a("description detection")),h=D(m.valueOf),c=D(m.toString),f=/^Symbol\((.*)\)[^)]+$/,p=D("".replace),e=D("".slice);w(m,"description",{configurable:!0,get:function(){var n=h(this);if(v(q,
n))return"";n=c(n);n=r?e(n,7,-1):p(n,f,"$1");return""===n?void 0:n}});K({global:!0,constructor:!0,forced:!0},{Symbol:z})}},{"../internals/copy-constructor-properties":101,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/export":131,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/has-own-property":148,"../internals/is-callable":161,"../internals/object-is-prototype-of":191,"../internals/to-string":227}],268:[function(g,K,D){K=
g("../internals/export");var z=g("../internals/get-built-in"),k=g("../internals/has-own-property"),v=g("../internals/to-string");D=g("../internals/shared");g=g("../internals/symbol-registry-detection");var E=D("string-to-symbol-registry"),b=D("symbol-to-string-registry");K({target:"Symbol",stat:!0,forced:!g},{"for":function(d){d=v(d);if(k(E,d))return E[d];var w=z("Symbol")(d);E[d]=w;b[w]=d;return w}})},{"../internals/export":131,"../internals/get-built-in":142,"../internals/has-own-property":148,
"../internals/shared":211,"../internals/symbol-registry-detection":216,"../internals/to-string":227}],269:[function(g,K,D){g("../internals/well-known-symbol-define")("hasInstance")},{"../internals/well-known-symbol-define":235}],270:[function(g,K,D){g("../internals/well-known-symbol-define")("isConcatSpreadable")},{"../internals/well-known-symbol-define":235}],271:[function(g,K,D){g("../internals/well-known-symbol-define")("iterator")},{"../internals/well-known-symbol-define":235}],272:[function(g,
K,D){g("../modules/es.symbol.constructor");g("../modules/es.symbol.for");g("../modules/es.symbol.key-for");g("../modules/es.json.stringify");g("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":243,"../modules/es.object.get-own-property-symbols":248,"../modules/es.symbol.constructor":266,"../modules/es.symbol.for":268,"../modules/es.symbol.key-for":273}],273:[function(g,K,D){K=g("../internals/export");var z=g("../internals/has-own-property"),k=g("../internals/is-symbol"),
v=g("../internals/try-to-string");D=g("../internals/shared");g=g("../internals/symbol-registry-detection");var E=D("symbol-to-string-registry");K({target:"Symbol",stat:!0,forced:!g},{keyFor:function(b){if(!k(b))throw new TypeError(v(b)+" is not a symbol");if(z(E,b))return E[b]}})},{"../internals/export":131,"../internals/has-own-property":148,"../internals/is-symbol":168,"../internals/shared":211,"../internals/symbol-registry-detection":216,"../internals/try-to-string":228}],274:[function(g,K,D){g("../internals/well-known-symbol-define")("matchAll")},
{"../internals/well-known-symbol-define":235}],275:[function(g,K,D){g("../internals/well-known-symbol-define")("match")},{"../internals/well-known-symbol-define":235}],276:[function(g,K,D){g("../internals/well-known-symbol-define")("replace")},{"../internals/well-known-symbol-define":235}],277:[function(g,K,D){g("../internals/well-known-symbol-define")("search")},{"../internals/well-known-symbol-define":235}],278:[function(g,K,D){g("../internals/well-known-symbol-define")("species")},{"../internals/well-known-symbol-define":235}],
279:[function(g,K,D){g("../internals/well-known-symbol-define")("split")},{"../internals/well-known-symbol-define":235}],280:[function(g,K,D){K=g("../internals/well-known-symbol-define");g=g("../internals/symbol-define-to-primitive");K("toPrimitive");g()},{"../internals/symbol-define-to-primitive":215,"../internals/well-known-symbol-define":235}],281:[function(g,K,D){K=g("../internals/get-built-in");D=g("../internals/well-known-symbol-define");g=g("../internals/set-to-string-tag");D("toStringTag");
g(K("Symbol"),"Symbol")},{"../internals/get-built-in":142,"../internals/set-to-string-tag":208,"../internals/well-known-symbol-define":235}],282:[function(g,K,D){g("../internals/well-known-symbol-define")("unscopables")},{"../internals/well-known-symbol-define":235}],283:[function(g,K,D){D=g("../internals/array-buffer-view-core");var z=g("../internals/array-fill"),k=g("../internals/to-big-int"),v=g("../internals/classof"),E=g("../internals/function-call");K=g("../internals/function-uncurry-this");
g=g("../internals/fails");var b=D.aTypedArray;D=D.exportTypedArrayMethod;var d=K("".slice);g=g(function(){var w=0;(new Int8Array(2)).fill({valueOf:function(){return w++}});return 1!==w});D("fill",function(w){var a=arguments.length;b(this);var m="Big"===d(v(this),0,3)?k(w):+w;return E(z,this,m,1<a?arguments[1]:void 0,2<a?arguments[2]:void 0)},g)},{"../internals/array-buffer-view-core":87,"../internals/array-fill":88,"../internals/classof":98,"../internals/fails":132,"../internals/function-call":137,
"../internals/function-uncurry-this":141,"../internals/to-big-int":219}],284:[function(g,K,D){D=g("../internals/array-buffer-view-core");var z=g("../internals/typed-array-species-constructor");K=g("../internals/fails");var k=g("../internals/array-slice"),v=D.aTypedArray;g=D.exportTypedArrayMethod;K=K(function(){(new Int8Array(1)).slice()});g("slice",function(E,b){E=k(v(this),E,b);var d=z(this);b=0;var w=E.length;for(d=new d(w);w>b;)d[b]=E[b++];return d},K)},{"../internals/array-buffer-view-core":87,
"../internals/array-slice":93,"../internals/fails":132,"../internals/typed-array-species-constructor":229}],285:[function(g,K,D){K=g("../internals/global");var z=g("../internals/dom-iterables");D=g("../internals/dom-token-list-prototype");var k=g("../modules/es.array.iterator"),v=g("../internals/create-non-enumerable-property");g=g("../internals/well-known-symbol");var E=g("iterator"),b=g("toStringTag"),d=k.values;g=function(a,m){if(a){if(a[E]!==d)try{v(a,E,d)}catch(r){a[E]=d}a[b]||v(a,b,m);if(z[m])for(var q in k)if(a[q]!==
k[q])try{v(a,q,k[q])}catch(r){a[q]=k[q]}}};for(var w in z)g(K[w]&&K[w].prototype,w);g(D,"DOMTokenList")},{"../internals/create-non-enumerable-property":105,"../internals/dom-iterables":116,"../internals/dom-token-list-prototype":117,"../internals/global":147,"../internals/well-known-symbol":237,"../modules/es.array.iterator":242}],286:[function(g,K,D){g=g("../../es/array/fill");K.exports=g},{"../../es/array/fill":70}],287:[function(g,K,D){g=g("../../es/array/iterator");K.exports=g},{"../../es/array/iterator":71}],
288:[function(g,K,D){D=g("../../es/map");g("../../modules/web.dom-collections.iterator");K.exports=D},{"../../es/map":72,"../../modules/web.dom-collections.iterator":285}],289:[function(g,K,D){D=g("../../es/promise");g("../../modules/web.dom-collections.iterator");K.exports=D},{"../../es/promise":73,"../../modules/web.dom-collections.iterator":285}],290:[function(g,K,D){D=g("../../es/set");g("../../modules/web.dom-collections.iterator");K.exports=D},{"../../es/set":74,"../../modules/web.dom-collections.iterator":285}],
291:[function(g,K,D){g=g("../../es/string/ends-with");K.exports=g},{"../../es/string/ends-with":75}],292:[function(g,K,D){D=g("../../es/symbol");g("../../modules/web.dom-collections.iterator");K.exports=D},{"../../es/symbol":76,"../../modules/web.dom-collections.iterator":285}],293:[function(g,K,D){g=g("../../es/typed-array/fill");K.exports=g},{"../../es/typed-array/fill":77}],294:[function(g,K,D){g=g("../../es/typed-array/slice");K.exports=g},{"../../es/typed-array/slice":78}],295:[function(g,K,
D){(function(z){(function(){(function(k,v){"undefined"!=typeof D?v():(v(),k.FileSaver={})})(this,function(){function k(m,q){return"undefined"==typeof q?q={autoBom:!1}:"object"!=typeof q&&(console.warn("Deprecated: Expected third argument to be a object"),q={autoBom:!q}),q.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\ufeff",m],{type:m.type}):m}function v(m,q,r){var h=new XMLHttpRequest;h.open("GET",m);h.responseType="blob";h.onload=
function(){a(h.response,q,r)};h.onerror=function(){console.error("could not download file")};h.send()}function E(m){var q=new XMLHttpRequest;q.open("HEAD",m,!1);try{q.send()}catch(r){}return 200<=q.status&&299>=q.status}function b(m){try{m.dispatchEvent(new MouseEvent("click"))}catch(r){var q=document.createEvent("MouseEvents");q.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);m.dispatchEvent(q)}}var d="object"==typeof window&&window.window===window?window:"object"==typeof self&&
self.self===self?self:"object"==typeof z&&z.global===z?z:void 0,w=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=d.saveAs||("object"!=typeof window||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!w?function(m,q,r){var h=d.URL||d.webkitURL,c=document.createElement("a");q=q||m.name||"download";c.download=q;c.rel="noopener";"string"==typeof m?(c.href=m,c.origin===location.origin?b(c):E(c.href)?v(m,
q,r):b(c,c.target="_blank")):(c.href=h.createObjectURL(m),setTimeout(function(){h.revokeObjectURL(c.href)},4E4),setTimeout(function(){b(c)},0))}:"msSaveOrOpenBlob"in navigator?function(m,q,r){if(q=q||m.name||"download","string"!=typeof m)navigator.msSaveOrOpenBlob(k(m,r),q);else if(E(m))v(m,q,r);else{var h=document.createElement("a");h.href=m;h.target="_blank";setTimeout(function(){b(h)})}}:function(m,q,r,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),
"string"==typeof m)return v(m,q,r);q="application/octet-stream"===m.type;r=/constructor/i.test(d.HTMLElement)||d.safari;var c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||q&&r||w)&&"undefined"!=typeof FileReader){var f=new FileReader;f.onloadend=function(){var n=f.result;n=c?n:n.replace(/^data:[^;]*;/,"data:attachment/file;");h?h.location.href=n:location=n;h=null};f.readAsDataURL(m)}else{var p=d.URL||d.webkitURL,e=p.createObjectURL(m);h?h.location=e:location.href=e;h=null;setTimeout(function(){p.revokeObjectURL(e)},
4E4)}});d.saveAs=a.saveAs=a;"undefined"!=typeof K&&(K.exports=a)})}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],296:[function(g,K,D){(function(z,k){"object"===typeof K&&"object"===typeof K.exports?K.exports=z.document?k(z,!0):function(v){if(!v.document)throw Error("jQuery requires a window with a document");return k(v)}:k(z)})("undefined"!==typeof window?window:this,function(z,k){function v(l,x,F){F=F||sb;var L,
S=F.createElement("script");S.text=l;if(x)for(L in ic)(l=x[L]||x.getAttribute&&x.getAttribute(L))&&S.setAttribute(L,l);F.head.appendChild(S).parentNode.removeChild(S)}function E(l){return null==l?l+"":"object"===typeof l||"function"===typeof l?Ka[Ua.call(l)]||"object":typeof l}function b(l){var x=!!l&&"length"in l&&l.length,F=E(l);return Qa(l)||Ia(l)?!1:"array"===F||0===x||"number"===typeof x&&0<x&&x-1 in l}function d(l,x){return l.nodeName&&l.nodeName.toLowerCase()===x.toLowerCase()}function w(l,
x){return x?"\x00"===l?"\ufffd":l.slice(0,-1)+"\\"+l.charCodeAt(l.length-1).toString(16)+" ":"\\"+l}function a(l,x,F){return Qa(x)?P.grep(l,function(L,S){return!!x.call(L,S,L)!==F}):x.nodeType?P.grep(l,function(L){return L===x!==F}):"string"!==typeof x?P.grep(l,function(L){return-1<Ca.call(x,L)!==F}):P.filter(x,l,F)}function m(l,x){for(;(l=l[x])&&1!==l.nodeType;);return l}function q(l){var x={};P.each(l.match(Fb)||[],function(F,L){x[L]=!0});return x}function r(l){return l}function h(l){throw l;}function c(l,
x,F,L){var S;try{l&&Qa(S=l.promise)?S.call(l).done(x).fail(F):l&&Qa(S=l.then)?S.call(l,x,F):x.apply(void 0,[l].slice(L))}catch(V){F.apply(void 0,[V])}}function f(){sb.removeEventListener("DOMContentLoaded",f);z.removeEventListener("load",f);P.ready()}function p(l,x){return x.toUpperCase()}function e(l){return l.replace(Rb,"ms-").replace(pb,p)}function n(){this.expando=P.expando+n.uid++}function u(l,x,F){if(void 0===F&&1===l.nodeType)if(F="data-"+x.replace(kc,"-$&").toLowerCase(),F=l.getAttribute(F),
"string"===typeof F){try{var L=F;F="true"===L?!0:"false"===L?!1:"null"===L?null:L===+L+""?+L:vc.test(L)?JSON.parse(L):L}catch(S){}ac.set(l,x,F)}else F=void 0;return F}function A(l,x,F,L){var S,V=20,X=L?function(){return L.cur()}:function(){return P.css(l,x,"")},ma=X(),ca=F&&F[3]||(P.cssNumber[x]?"":"px"),da=l.nodeType&&(P.cssNumber[x]||"px"!==ca&&+ma)&&gc.exec(P.css(l,x));if(da&&da[3]!==ca){ma/=2;ca=ca||da[3];for(da=+ma||1;V--;)P.style(l,x,da+ca),0>=(1-S)*(1-(S=X()/ma||.5))&&(V=0),da/=S;da*=2;P.style(l,
x,da+ca);F=F||[]}if(F){da=+da||+ma||0;var Fa=F[1]?da+(F[1]+1)*F[2]:+F[2];L&&(L.unit=ca,L.start=da,L.end=Fa)}return Fa}function C(l,x){for(var F,L,S=[],V=0,X=l.length;V<X;V++)if(L=l[V],L.style)if(F=L.style.display,x){if("none"===F&&(S[V]=ib.get(L,"display")||null,S[V]||(L.style.display="")),""===L.style.display&&yc(L)){F=V;var ma=L.ownerDocument;L=L.nodeName;var ca=Dc[L];ca||(ma=ma.body.appendChild(ma.createElement(L)),ca=P.css(ma,"display"),ma.parentNode.removeChild(ma),"none"===ca&&(ca="block"),
Dc[L]=ca);ma=ca;S[F]=ma}}else"none"!==F&&(S[V]="none",ib.set(L,"display",F));for(V=0;V<X;V++)null!=S[V]&&(l[V].style.display=S[V]);return l}function B(l,x){var F="undefined"!==typeof l.getElementsByTagName?l.getElementsByTagName(x||"*"):"undefined"!==typeof l.querySelectorAll?l.querySelectorAll(x||"*"):[];return void 0===x||x&&d(l,x)?P.merge([l],F):F}function I(l,x){for(var F=0,L=l.length;F<L;F++)ib.set(l[F],"globalEval",!x||ib.get(x[F],"globalEval"))}function N(l,x,F,L,S){for(var V,X,ma,ca=x.createDocumentFragment(),
da=[],Fa=0,Ma=l.length;Fa<Ma;Fa++)if((V=l[Fa])||0===V)if("object"===E(V))P.merge(da,V.nodeType?[V]:V);else if(Na.test(V)){X=X||ca.appendChild(x.createElement("div"));ma=(Cc.exec(V)||["",""])[1].toLowerCase();ma=Aa[ma]||Aa._default;X.innerHTML=ma[1]+P.htmlPrefilter(V)+ma[2];for(ma=ma[0];ma--;)X=X.lastChild;P.merge(da,X.childNodes);X=ca.firstChild;X.textContent=""}else da.push(x.createTextNode(V));ca.textContent="";for(Fa=0;V=da[Fa++];)if(L&&-1<P.inArray(V,L))S&&S.push(V);else if(l=xc(V),X=B(ca.appendChild(V),
"script"),l&&I(X),F)for(ma=0;V=X[ma++];)aa.test(V.type||"")&&F.push(V);return ca}function y(){return!0}function G(){return!1}function H(l,x,F,L,S,V){var X;if("object"===typeof x){"string"!==typeof F&&(L=L||F,F=void 0);for(X in x)H(l,X,F,L,x[X],V);return l}null==L&&null==S?(S=F,L=F=void 0):null==S&&("string"===typeof F?(S=L,L=void 0):(S=L,L=F,F=void 0));if(!1===S)S=G;else if(!S)return l;if(1===V){var ma=S;S=function(ca){P().off(ca);return ma.apply(this,arguments)};S.guid=ma.guid||(ma.guid=P.guid++)}return l.each(function(){P.event.add(this,
x,S,L,F)})}function O(l,x,F){F?(ib.set(l,x,!1),P.event.add(l,x,{namespace:!1,handler:function(L){var S=ib.get(this,x);if(L.isTrigger&1&&this[x])if(S)(P.event.special[x]||{}).delegateType&&L.stopPropagation();else{S=Oa.call(arguments);ib.set(this,x,S);this[x]();var V=ib.get(this,x);ib.set(this,x,!1);if(S!==V)return L.stopImmediatePropagation(),L.preventDefault(),V}else S&&(ib.set(this,x,P.event.trigger(S[0],S.slice(1),this)),L.stopPropagation(),L.isImmediatePropagationStopped=y)}})):void 0===ib.get(l,
x)&&P.event.add(l,x,y)}function J(l,x){return d(l,"table")&&d(11!==x.nodeType?x:x.firstChild,"tr")?P(l).children("tbody")[0]||l:l}function R(l){l.type=(null!==l.getAttribute("type"))+"/"+l.type;return l}function ea(l){"true/"===(l.type||"").slice(0,5)?l.type=l.type.slice(5):l.removeAttribute("type");return l}function Y(l,x){var F,L,S;if(1===x.nodeType){if(ib.hasData(l)){var V=ib.get(l);if(S=V.events)for(L in ib.remove(x,"handle events"),S)for(V=0,F=S[L].length;V<F;V++)P.event.add(x,L,S[L][V])}ac.hasData(l)&&
(l=ac.access(l),l=P.extend({},l),ac.set(x,l))}}function qa(l,x,F,L){x=ta(x);var S,V=0,X=l.length,ma=X-1,ca=x[0],da=Qa(ca);if(da||1<X&&"string"===typeof ca&&!Pa.checkClone&&U.test(ca))return l.each(function(gb){var hb=l.eq(gb);da&&(x[0]=ca.call(this,gb,hb.html()));qa(hb,x,F,L)});if(X){var Fa=N(x,l[0].ownerDocument,!1,l,L);var Ma=Fa.firstChild;1===Fa.childNodes.length&&(Fa=Ma);if(Ma||L){Ma=P.map(B(Fa,"script"),R);for(S=Ma.length;V<X;V++){var Sa=Fa;V!==ma&&(Sa=P.clone(Sa,!0,!0),S&&P.merge(Ma,B(Sa,"script")));
F.call(l[V],Sa,V)}if(S)for(Fa=Ma[Ma.length-1].ownerDocument,P.map(Ma,ea),V=0;V<S;V++)Sa=Ma[V],aa.test(Sa.type||"")&&!ib.access(Sa,"globalEval")&&P.contains(Fa,Sa)&&(Sa.src&&"module"!==(Sa.type||"").toLowerCase()?P._evalUrl&&!Sa.noModule&&P._evalUrl(Sa.src,{nonce:Sa.nonce||Sa.getAttribute("nonce")},Fa):v(Sa.textContent.replace(ia,""),Sa,Fa))}}return l}function la(l,x,F){for(var L=x?P.filter(x,l):l,S=0;null!=(x=L[S]);S++)F||1!==x.nodeType||P.cleanData(B(x)),x.parentNode&&(F&&xc(x)&&I(B(x,"script")),
x.parentNode.removeChild(x));return l}function Q(l,x,F){var L=ba.test(x);var S=l.style;if(F=F||va(l)){var V=F.getPropertyValue(x)||F[x];L&&V&&(V=V.replace(Qb,"$1")||void 0);""!==V||xc(l)||(V=P.style(l,x));!Pa.pixelBoxStyles()&&Ba.test(V)&&Wa.test(x)&&(l=S.width,x=S.minWidth,L=S.maxWidth,S.minWidth=S.maxWidth=S.width=V,V=F.width,S.width=l,S.minWidth=x,S.maxWidth=L)}return void 0!==V?V+"":V}function ka(l,x){return{get:function(){if(l())delete this.get;else return(this.get=x).apply(this,arguments)}}}
function oa(l){var x=P.cssProps[l]||bb[l];if(x)return x;if(l in $a)return l;a:{x=l;for(var F=x[0].toUpperCase()+x.slice(1),L=Ja.length;L--;)if(x=Ja[L]+F,x in $a)break a;x=void 0}return bb[l]=x||l}function ya(l,x,F){return(l=gc.exec(x))?Math.max(0,l[2]-(F||0))+(l[3]||"px"):x}function ja(l,x,F,L,S,V){var X="width"===x?1:0,ma=0,ca=0,da=0;if(F===(L?"border":"content"))return 0;for(;4>X;X+=2)"margin"===F&&(da+=P.css(l,F+fc[X],!0,S)),L?("content"===F&&(ca-=P.css(l,"padding"+fc[X],!0,S)),"margin"!==F&&(ca-=
P.css(l,"border"+fc[X]+"Width",!0,S))):(ca+=P.css(l,"padding"+fc[X],!0,S),"padding"!==F?ca+=P.css(l,"border"+fc[X]+"Width",!0,S):ma+=P.css(l,"border"+fc[X]+"Width",!0,S));!L&&0<=V&&(ca+=Math.max(0,Math.ceil(l["offset"+x[0].toUpperCase()+x.slice(1)]-V-ca-ma-.5))||0);return ca+da}function ua(l,x,F){var L=va(l),S=(!Pa.boxSizingReliable()||F)&&"border-box"===P.css(l,"boxSizing",!1,L),V=S,X=Q(l,x,L),ma="offset"+x[0].toUpperCase()+x.slice(1);if(Ba.test(X)){if(!F)return X;X="auto"}(!Pa.boxSizingReliable()&&
S||!Pa.reliableTrDimensions()&&d(l,"tr")||"auto"===X||!parseFloat(X)&&"inline"===P.css(l,"display",!1,L))&&l.getClientRects().length&&(S="border-box"===P.css(l,"boxSizing",!1,L),(V=ma in l)&&(X=l[ma]));X=parseFloat(X)||0;return X+ja(l,x,F||(S?"border":"content"),V,L,X)+"px"}function ha(l,x,F,L,S){return new ha.prototype.init(l,x,F,L,S)}function La(){oc&&(!1===sb.hidden&&z.requestAnimationFrame?z.requestAnimationFrame(La):z.setTimeout(La,P.fx.interval),P.fx.tick())}function Ya(){z.setTimeout(function(){Nb=
void 0});return Nb=Date.now()}function Xa(l,x){var F=0,L={height:l};for(x=x?1:0;4>F;F+=2-x){var S=fc[F];L["margin"+S]=L["padding"+S]=l}x&&(L.opacity=L.width=l);return L}function T(l,x,F){for(var L,S=(sa.tweeners[x]||[]).concat(sa.tweeners["*"]),V=0,X=S.length;V<X;V++)if(L=S[V].call(F,x,l))return L}function Z(l,x){var F,L;for(F in l){var S=e(F);var V=x[S];var X=l[F];Array.isArray(X)&&(V=X[1],X=l[F]=X[0]);F!==S&&(l[S]=X,delete l[F]);if((L=P.cssHooks[S])&&"expand"in L)for(F in X=L.expand(X),delete l[S],
X)F in l||(l[F]=X[F],x[F]=V);else x[S]=V}}function sa(l,x,F){var L,S=0,V=sa.prefilters.length,X=P.Deferred().always(function(){delete ma.elem}),ma=function(){if(L)return!1;var da=Nb||Ya();da=Math.max(0,ca.startTime+ca.duration-da);for(var Fa=1-(da/ca.duration||0),Ma=0,Sa=ca.tweens.length;Ma<Sa;Ma++)ca.tweens[Ma].run(Fa);X.notifyWith(l,[ca,Fa,da]);if(1>Fa&&Sa)return da;Sa||X.notifyWith(l,[ca,1,0]);X.resolveWith(l,[ca]);return!1},ca=X.promise({elem:l,props:P.extend({},x),opts:P.extend(!0,{specialEasing:{},
easing:P.easing._default},F),originalProperties:x,originalOptions:F,startTime:Nb||Ya(),duration:F.duration,tweens:[],createTween:function(da,Fa){da=P.Tween(l,ca.opts,da,Fa,ca.opts.specialEasing[da]||ca.opts.easing);ca.tweens.push(da);return da},stop:function(da){var Fa=0,Ma=da?ca.tweens.length:0;if(L)return this;for(L=!0;Fa<Ma;Fa++)ca.tweens[Fa].run(1);da?(X.notifyWith(l,[ca,1,0]),X.resolveWith(l,[ca,da])):X.rejectWith(l,[ca,da]);return this}});F=ca.props;for(Z(F,ca.opts.specialEasing);S<V;S++)if(x=
sa.prefilters[S].call(ca,l,F,ca.opts))return Qa(x.stop)&&(P._queueHooks(ca.elem,ca.opts.queue).stop=x.stop.bind(x)),x;P.map(F,T,ca);Qa(ca.opts.start)&&ca.opts.start.call(l,ca);ca.progress(ca.opts.progress).done(ca.opts.done,ca.opts.complete).fail(ca.opts.fail).always(ca.opts.always);P.fx.timer(P.extend(ma,{elem:l,anim:ca,queue:ca.opts.queue}));return ca}function Ea(l){return(l.match(Fb)||[]).join(" ")}function Ra(l){return l.getAttribute&&l.getAttribute("class")||""}function wb(l){return Array.isArray(l)?
l:"string"===typeof l?l.match(Fb)||[]:[]}function Ib(l,x,F,L){var S;if(Array.isArray(x))P.each(x,function(V,X){F||hd.test(l)?L(l,X):Ib(l+"["+("object"===typeof X&&null!=X?V:"")+"]",X,F,L)});else if(F||"object"!==E(x))L(l,x);else for(S in x)Ib(l+"["+S+"]",x[S],F,L)}function ra(l){return function(x,F){"string"!==typeof x&&(F=x,x="*");var L=0,S=x.toLowerCase().match(Fb)||[];if(Qa(F))for(;x=S[L++];)"+"===x[0]?(x=x.slice(1)||"*",(l[x]=l[x]||[]).unshift(F)):(l[x]=l[x]||[]).push(F)}}function za(l,x,F,L){function S(ma){var ca;
V[ma]=!0;P.each(l[ma]||[],function(da,Fa){da=Fa(x,F,L);if("string"===typeof da&&!X&&!V[da])return x.dataTypes.unshift(da),S(da),!1;if(X)return!(ca=da)});return ca}var V={},X=l===Uc;return S(x.dataTypes[0])||!V["*"]&&S("*")}function Da(l,x){var F,L,S=P.ajaxSettings.flatOptions||{};for(F in x)void 0!==x[F]&&((S[F]?l:L||={})[F]=x[F]);L&&P.extend(!0,l,L);return l}function Ga(l,x,F){for(var L,S,V,X,ma=l.contents,ca=l.dataTypes;"*"===ca[0];)ca.shift(),void 0===L&&(L=l.mimeType||x.getResponseHeader("Content-Type"));
if(L)for(S in ma)if(ma[S]&&ma[S].test(L)){ca.unshift(S);break}if(ca[0]in F)V=ca[0];else{for(S in F){if(!ca[0]||l.converters[S+" "+ca[0]]){V=S;break}X||=S}V=V||X}if(V)return V!==ca[0]&&ca.unshift(V),F[V]}function db(l,x,F,L){var S,V,X={},ma=l.dataTypes.slice();if(ma[1])for(da in l.converters)X[da.toLowerCase()]=l.converters[da];for(V=ma.shift();V;){l.responseFields[V]&&(F[l.responseFields[V]]=x);!ca&&L&&l.dataFilter&&(x=l.dataFilter(x,l.dataType));var ca=V;if(V=ma.shift())if("*"===V)V=ca;else if("*"!==
ca&&ca!==V){var da=X[ca+" "+V]||X["* "+V];if(!da)for(S in X){var Fa=S.split(" ");if(Fa[1]===V&&(da=X[ca+" "+Fa[0]]||X["* "+Fa[0]])){!0===da?da=X[S]:!0!==X[S]&&(V=Fa[0],ma.unshift(Fa[1]));break}}if(!0!==da)if(da&&l.throws)x=da(x);else try{x=da(x)}catch(Ma){return{state:"parsererror",error:da?Ma:"No conversion from "+ca+" to "+V}}}}return{state:"success",data:x}}var tb=[],qb=Object.getPrototypeOf,Oa=tb.slice,ta=tb.flat?function(l){return tb.flat.call(l)}:function(l){return tb.concat.apply([],l)},pa=
tb.push,Ca=tb.indexOf,Ka={},Ua=Ka.toString,lb=Ka.hasOwnProperty,ob=lb.toString,Ab=ob.call(Object),Pa={},Qa=function(l){return"function"===typeof l&&"number"!==typeof l.nodeType&&"function"!==typeof l.item},Ia=function(l){return null!=l&&l===l.window},sb=z.document,ic={type:!0,src:!0,nonce:!0,noModule:!0},ub=/HTML$/i,P=function(l,x){return new P.fn.init(l,x)};P.fn=P.prototype={jquery:"3.7.1",constructor:P,length:0,toArray:function(){return Oa.call(this)},get:function(l){return null==l?Oa.call(this):
0>l?this[l+this.length]:this[l]},pushStack:function(l){l=P.merge(this.constructor(),l);l.prevObject=this;return l},each:function(l){return P.each(this,l)},map:function(l){return this.pushStack(P.map(this,function(x,F){return l.call(x,F,x)}))},slice:function(){return this.pushStack(Oa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(l,x){return(x+1)%2}))},odd:function(){return this.pushStack(P.grep(this,
function(l,x){return x%2}))},eq:function(l){var x=this.length;l=+l+(0>l?x:0);return this.pushStack(0<=l&&l<x?[this[l]]:[])},end:function(){return this.prevObject||this.constructor()},push:pa,sort:tb.sort,splice:tb.splice};P.extend=P.fn.extend=function(){var l,x,F,L=arguments[0]||{},S=1,V=arguments.length,X=!1;"boolean"===typeof L&&(X=L,L=arguments[S]||{},S++);"object"===typeof L||Qa(L)||(L={});S===V&&(L=this,S--);for(;S<V;S++)if(null!=(l=arguments[S]))for(x in l){var ma=l[x];if("__proto__"!==x&&L!==
ma)if(X&&ma&&(P.isPlainObject(ma)||(F=Array.isArray(ma)))){var ca=L[x];ca=F&&!Array.isArray(ca)?[]:F||P.isPlainObject(ca)?ca:{};F=!1;L[x]=P.extend(X,ca,ma)}else void 0!==ma&&(L[x]=ma)}return L};P.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(l){throw Error(l);},noop:function(){},isPlainObject:function(l){if(!l||"[object Object]"!==Ua.call(l))return!1;l=qb(l);if(!l)return!0;l=lb.call(l,"constructor")&&l.constructor;return"function"===typeof l&&ob.call(l)===
Ab},isEmptyObject:function(l){for(var x in l)return!1;return!0},globalEval:function(l,x,F){v(l,{nonce:x&&x.nonce},F)},each:function(l,x){var F,L=0;if(b(l))for(F=l.length;L<F&&!1!==x.call(l[L],L,l[L]);L++);else for(L in l)if(!1===x.call(l[L],L,l[L]))break;return l},text:function(l){var x,F="",L=0,S=l.nodeType;if(!S)for(;x=l[L++];)F+=P.text(x);return 1===S||11===S?l.textContent:9===S?l.documentElement.textContent:3===S||4===S?l.nodeValue:F},makeArray:function(l,x){x=x||[];null!=l&&(b(Object(l))?P.merge(x,
"string"===typeof l?[l]:l):pa.call(x,l));return x},inArray:function(l,x,F){return null==x?-1:Ca.call(x,l,F)},isXMLDoc:function(l){var x=l&&(l.ownerDocument||l).documentElement;return!ub.test(l&&l.namespaceURI||x&&x.nodeName||"HTML")},merge:function(l,x){for(var F=+x.length,L=0,S=l.length;L<F;L++)l[S++]=x[L];l.length=S;return l},grep:function(l,x,F){for(var L=[],S=0,V=l.length,X=!F;S<V;S++)F=!x(l[S],S),F!==X&&L.push(l[S]);return L},map:function(l,x,F){var L,S=0,V=[];if(b(l))for(L=l.length;S<L;S++){var X=
x(l[S],S,F);null!=X&&V.push(X)}else for(S in l)X=x(l[S],S,F),null!=X&&V.push(X);return ta(V)},guid:1,support:Pa});"function"===typeof Symbol&&(P.fn[Symbol.iterator]=tb[Symbol.iterator]);P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(l,x){Ka["[object "+x+"]"]=x.toLowerCase()});var kb=tb.pop,qc=tb.sort,jc=tb.splice,Qb=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");P.contains=function(l,x){x=x&&x.parentNode;return l===
x||!!(x&&1===x.nodeType&&(l.contains?l.contains(x):l.compareDocumentPosition&&l.compareDocumentPosition(x)&16))};var eb=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;P.escapeSelector=function(l){return(l+"").replace(eb,w)};var bc=sb;(function(){function l(fa,xa,wa,Ta){var Za,fb,nb,Eb,cb=xa&&xa.ownerDocument;var zb=xa?xa.nodeType:9;wa=wa||[];if("string"!==typeof fa||!fa||1!==zb&&9!==zb&&11!==zb)return wa;if(!Ta&&(da(xa),xa=xa||Jb,pc)){if(11!==zb&&(Eb=xd.exec(fa)))if(Za=Eb[1])if(9===zb)if(fb=xa.getElementById(Za)){if(fb.id===
Za)return mc.call(wa,fb),wa}else return wa;else{if(cb&&(fb=cb.getElementById(Za))&&l.contains(xa,fb)&&fb.id===Za)return mc.call(wa,fb),wa}else{if(Eb[2])return mc.apply(wa,xa.getElementsByTagName(fa)),wa;if((Za=Eb[3])&&xa.getElementsByClassName)return mc.apply(wa,xa.getElementsByClassName(Za)),wa}if(!(ad[fa+" "]||sc&&sc.test(fa))){Za=fa;cb=xa;if(1===zb&&(yd.test(fa)||td.test(fa))){cb=pd.test(fa)&&ca(xa.parentNode)||xa;cb==xa&&Pa.scope||((nb=xa.getAttribute("id"))?nb=P.escapeSelector(nb):xa.setAttribute("id",
nb=dc));Za=Ma(fa);for(zb=Za.length;zb--;)Za[zb]=(nb?"#"+nb:":scope")+" "+Sa(Za[zb]);Za=Za.join(",")}try{return mc.apply(wa,cb.querySelectorAll(Za)),wa}catch(Gb){ad(fa,!0)}finally{nb===dc&&xa.removeAttribute("id")}}}return Ub(fa.replace(Qb,"$1"),xa,wa,Ta)}function x(){function fa(wa,Ta){xa.push(wa+" ")>Pb.cacheLength&&delete fa[xa.shift()];return fa[wa+" "]=Ta}var xa=[];return fa}function F(fa){fa[dc]=!0;return fa}function L(fa){var xa=Jb.createElement("fieldset");try{return!!fa(xa)}catch(wa){return!1}finally{xa.parentNode&&
xa.parentNode.removeChild(xa)}}function S(fa){return function(xa){return d(xa,"input")&&xa.type===fa}}function V(fa){return function(xa){return(d(xa,"input")||d(xa,"button"))&&xa.type===fa}}function X(fa){return function(xa){return"form"in xa?xa.parentNode&&!1===xa.disabled?"label"in xa?"label"in xa.parentNode?xa.parentNode.disabled===fa:xa.disabled===fa:xa.isDisabled===fa||xa.isDisabled!==!fa&&zd(xa)===fa:xa.disabled===fa:"label"in xa?xa.disabled===fa:!1}}function ma(fa){return F(function(xa){xa=
+xa;return F(function(wa,Ta){for(var Za,fb=fa([],wa.length,xa),nb=fb.length;nb--;)wa[Za=fb[nb]]&&(wa[Za]=!(Ta[Za]=wa[Za]))})})}function ca(fa){return fa&&"undefined"!==typeof fa.getElementsByTagName&&fa}function da(fa){var xa;fa=fa?fa.ownerDocument||fa:bc;if(fa==Jb||9!==fa.nodeType||!fa.documentElement)return Jb;Jb=fa;Bc=Jb.documentElement;pc=!P.isXMLDoc(Jb);qd=Bc.matches||Bc.webkitMatchesSelector||Bc.msMatchesSelector;Bc.msMatchesSelector&&bc!=Jb&&(xa=Jb.defaultView)&&xa.top!==xa&&xa.addEventListener("unload",
Ad);Pa.getById=L(function(wa){Bc.appendChild(wa).id=P.expando;return!Jb.getElementsByName||!Jb.getElementsByName(P.expando).length});Pa.disconnectedMatch=L(function(wa){return qd.call(wa,"*")});Pa.scope=L(function(){return Jb.querySelectorAll(":scope")});Pa.cssHas=L(function(){try{return Jb.querySelector(":has(*,:jqfake)"),!1}catch(wa){return!0}});Pa.getById?(Pb.filter.ID=function(wa){var Ta=wa.replace(Jc,Kc);return function(Za){return Za.getAttribute("id")===Ta}},Pb.find.ID=function(wa,Ta){if("undefined"!==
typeof Ta.getElementById&&pc)return(wa=Ta.getElementById(wa))?[wa]:[]}):(Pb.filter.ID=function(wa){var Ta=wa.replace(Jc,Kc);return function(Za){return(Za="undefined"!==typeof Za.getAttributeNode&&Za.getAttributeNode("id"))&&Za.value===Ta}},Pb.find.ID=function(wa,Ta){if("undefined"!==typeof Ta.getElementById&&pc){var Za,fb=Ta.getElementById(wa);if(fb){if((Za=fb.getAttributeNode("id"))&&Za.value===wa)return[fb];var nb=Ta.getElementsByName(wa);for(Ta=0;fb=nb[Ta++];)if((Za=fb.getAttributeNode("id"))&&
Za.value===wa)return[fb]}return[]}});Pb.find.TAG=function(wa,Ta){return"undefined"!==typeof Ta.getElementsByTagName?Ta.getElementsByTagName(wa):Ta.querySelectorAll(wa)};Pb.find.CLASS=function(wa,Ta){if("undefined"!==typeof Ta.getElementsByClassName&&pc)return Ta.getElementsByClassName(wa)};sc=[];L(function(wa){Bc.appendChild(wa).innerHTML="<a id='"+dc+"' href='' disabled='disabled'></a><select id='"+dc+"-\r\\' disabled='disabled'><option selected=''></option></select>";wa.querySelectorAll("[selected]").length||
sc.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");wa.querySelectorAll("[id~="+dc+"-]").length||sc.push("~=");wa.querySelectorAll("a#"+dc+"+*").length||sc.push(".#.+[+~]");wa.querySelectorAll(":checked").length||sc.push(":checked");var Ta=Jb.createElement("input");Ta.setAttribute("type","hidden");wa.appendChild(Ta).setAttribute("name","D");Bc.appendChild(wa).disabled=!0;2!==wa.querySelectorAll(":disabled").length&&
sc.push(":enabled",":disabled");Ta=Jb.createElement("input");Ta.setAttribute("name","");wa.appendChild(Ta);wa.querySelectorAll("[name='']").length||sc.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")")});Pa.cssHas||sc.push(":has");sc=sc.length&&new RegExp(sc.join("|"));rd=function(wa,Ta){if(wa===Ta)return uc=!0,0;var Za=!wa.compareDocumentPosition-!Ta.compareDocumentPosition;if(Za)return Za;Za=(wa.ownerDocument||wa)==(Ta.ownerDocument||Ta)?wa.compareDocumentPosition(Ta):
1;return Za&1||!Pa.sortDetached&&Ta.compareDocumentPosition(wa)===Za?wa===Jb||wa.ownerDocument==bc&&l.contains(bc,wa)?-1:Ta===Jb||Ta.ownerDocument==bc&&l.contains(bc,Ta)?1:Zb?Ca.call(Zb,wa)-Ca.call(Zb,Ta):0:Za&4?-1:1};return Jb}function Fa(){}function Ma(fa,xa){var wa,Ta,Za,fb,nb;if(fb=ud[fa+" "])return xa?0:fb.slice(0);fb=fa;var Eb=[];for(nb=Pb.preFilter;fb;){if(!cb||(wa=Bd.exec(fb)))wa&&(fb=fb.slice(wa[0].length)||fb),Eb.push(Ta=[]);var cb=!1;if(wa=td.exec(fb))cb=wa.shift(),Ta.push({value:cb,type:wa[0].replace(Qb,
" ")}),fb=fb.slice(cb.length);for(Za in Pb.filter)!(wa=bd[Za].exec(fb))||nb[Za]&&!(wa=nb[Za](wa))||(cb=wa.shift(),Ta.push({value:cb,type:Za,matches:wa}),fb=fb.slice(cb.length));if(!cb)break}return xa?fb.length:fb?l.error(fa):ud(fa,Eb).slice(0)}function Sa(fa){for(var xa=0,wa=fa.length,Ta="";xa<wa;xa++)Ta+=fa[xa].value;return Ta}function gb(fa,xa,wa){var Ta=xa.dir,Za=xa.next,fb=Za||Ta,nb=wa&&"parentNode"===fb,Eb=Cd++;return xa.first?function(cb,zb,Gb){for(;cb=cb[Ta];)if(1===cb.nodeType||nb)return fa(cb,
zb,Gb);return!1}:function(cb,zb,Gb){var vb,Xb=[Lc,Eb];if(Gb)for(;cb=cb[Ta];){if((1===cb.nodeType||nb)&&fa(cb,zb,Gb))return!0}else for(;cb=cb[Ta];)if(1===cb.nodeType||nb){var ec=cb[dc]||(cb[dc]={});if(Za&&d(cb,Za))cb=cb[Ta]||cb;else{if((vb=ec[fb])&&vb[0]===Lc&&vb[1]===Eb)return Xb[2]=vb[2];ec[fb]=Xb;if(Xb[2]=fa(cb,zb,Gb))return!0}}return!1}}function hb(fa){return 1<fa.length?function(xa,wa,Ta){for(var Za=fa.length;Za--;)if(!fa[Za](xa,wa,Ta))return!1;return!0}:fa[0]}function Bb(fa,xa,wa,Ta,Za){for(var fb,
nb=[],Eb=0,cb=fa.length,zb=null!=xa;Eb<cb;Eb++)if(fb=fa[Eb])if(!wa||wa(fb,Ta,Za))nb.push(fb),zb&&xa.push(Eb);return nb}function Cb(fa,xa,wa,Ta,Za,fb){Ta&&!Ta[dc]&&(Ta=Cb(Ta));Za&&!Za[dc]&&(Za=Cb(Za,fb));return F(function(nb,Eb,cb,zb){var Gb,vb,Xb=[],ec=[],Ic=Eb.length;if(!(vb=nb)){vb=xa||"*";for(var hc=cb.nodeType?[cb]:cb,Yb=[],Ec=0,cd=hc.length;Ec<cd;Ec++)l(vb,hc[Ec],Yb);vb=Yb}hc=!fa||!nb&&xa?vb:Bb(vb,Xb,fa,cb,zb);wa?(vb=Za||(nb?fa:Ic||Ta)?[]:Eb,wa(hc,vb,cb,zb)):vb=hc;if(Ta){var Fc=Bb(vb,ec);Ta(Fc,
[],cb,zb);for(cb=Fc.length;cb--;)if(Gb=Fc[cb])vb[ec[cb]]=!(hc[ec[cb]]=Gb)}if(nb){if(Za||fa){if(Za){Fc=[];for(cb=vb.length;cb--;)(Gb=vb[cb])&&Fc.push(hc[cb]=Gb);Za(null,vb=[],Fc,zb)}for(cb=vb.length;cb--;)(Gb=vb[cb])&&-1<(Fc=Za?Ca.call(nb,Gb):Xb[cb])&&(nb[Fc]=!(Eb[Fc]=Gb))}}else vb=Bb(vb===Eb?vb.splice(Ic,vb.length):vb),Za?Za(null,Eb,vb,zb):mc.apply(Eb,vb)})}function $b(fa){var xa,wa,Ta=fa.length,Za=Pb.relative[fa[0].type];var fb=Za||Pb.relative[" "];for(var nb=Za?1:0,Eb=gb(function(Gb){return Gb===
xa},fb,!0),cb=gb(function(Gb){return-1<Ca.call(xa,Gb)},fb,!0),zb=[function(Gb,vb,Xb){Gb=!Za&&(Xb||vb!=Wb)||((xa=vb).nodeType?Eb(Gb,vb,Xb):cb(Gb,vb,Xb));xa=null;return Gb}];nb<Ta;nb++)if(fb=Pb.relative[fa[nb].type])zb=[gb(hb(zb),fb)];else{fb=Pb.filter[fa[nb].type].apply(null,fa[nb].matches);if(fb[dc]){for(wa=++nb;wa<Ta&&!Pb.relative[fa[wa].type];wa++);return Cb(1<nb&&hb(zb),1<nb&&Sa(fa.slice(0,nb-1).concat({value:" "===fa[nb-2].type?"*":""})).replace(Qb,"$1"),fb,nb<wa&&$b(fa.slice(nb,wa)),wa<Ta&&$b(fa=
fa.slice(wa)),wa<Ta&&Sa(fa))}zb.push(fb)}return hb(zb)}function yb(fa,xa){var wa=0<xa.length,Ta=0<fa.length,Za=function(fb,nb,Eb,cb,zb){var Gb,vb,Xb=0,ec="0",Ic=fb&&[],hc=[],Yb=Wb,Ec=fb||Ta&&Pb.find.TAG("*",zb),cd=Lc+=null==Yb?1:Math.random()||.1,Fc=Ec.length;for(zb&&(Wb=nb==Jb||nb||zb);ec!==Fc&&null!=(Gb=Ec[ec]);ec++){if(Ta&&Gb){var sd=0;nb||Gb.ownerDocument==Jb||(da(Gb),Eb=!pc);for(;vb=fa[sd++];)if(vb(Gb,nb||Jb,Eb)){mc.call(cb,Gb);break}zb&&(Lc=cd)}wa&&((Gb=!vb&&Gb)&&Xb--,fb&&Ic.push(Gb))}Xb+=ec;
if(wa&&ec!==Xb){for(sd=0;vb=xa[sd++];)vb(Ic,hc,nb,Eb);if(fb){if(0<Xb)for(;ec--;)Ic[ec]||hc[ec]||(hc[ec]=kb.call(cb));hc=Bb(hc)}mc.apply(cb,hc);zb&&!fb&&0<hc.length&&1<Xb+xa.length&&P.uniqueSort(cb)}zb&&(Lc=cd,Wb=Yb);return Ic};return wa?F(Za):Za}function Kb(fa,xa){var wa,Ta=[],Za=[],fb=vd[fa+" "];if(!fb){xa||=Ma(fa);for(wa=xa.length;wa--;)fb=$b(xa[wa]),fb[dc]?Ta.push(fb):Za.push(fb);fb=vd(fa,yb(Za,Ta));fb.selector=fa}return fb}function Ub(fa,xa,wa,Ta){var Za,fb,nb,Eb="function"===typeof fa&&fa,cb=
!Ta&&Ma(fa=Eb.selector||fa);wa=wa||[];if(1===cb.length){var zb=cb[0]=cb[0].slice(0);if(2<zb.length&&"ID"===(fb=zb[0]).type&&9===xa.nodeType&&pc&&Pb.relative[zb[1].type]){xa=(Pb.find.ID(fb.matches[0].replace(Jc,Kc),xa)||[])[0];if(!xa)return wa;Eb&&(xa=xa.parentNode);fa=fa.slice(zb.shift().value.length)}for(Za=bd.needsContext.test(fa)?0:zb.length;Za--;){fb=zb[Za];if(Pb.relative[nb=fb.type])break;if(nb=Pb.find[nb])if(Ta=nb(fb.matches[0].replace(Jc,Kc),pd.test(zb[0].type)&&ca(xa.parentNode)||xa)){zb.splice(Za,
1);fa=Ta.length&&Sa(zb);if(!fa)return mc.apply(wa,Ta),wa;break}}}(Eb||Kb(fa,cb))(Ta,xa,!pc,wa,!xa||pd.test(fa)&&ca(xa.parentNode)||xa);return wa}var xb,Wb,Zb,uc,mc=pa,Jb,Bc,pc,sc,qd,dc=P.expando,Lc=0,Cd=0,wd=x(),ud=x(),vd=x(),ad=x(),rd=function(fa,xa){fa===xa&&(uc=!0);return 0},Dd=RegExp("[\\x20\\t\\r\\n\\f]+","g"),Bd=RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),td=RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),yd=RegExp("[\\x20\\t\\r\\n\\f]|>"),Ed=RegExp(":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
Fd=RegExp("^(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+$"),bd={ID:RegExp("^#((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),CLASS:RegExp("^\\.((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),TAG:RegExp("^((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+|[*])"),ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\]"),
PSEUDO:RegExp("^:((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},Gd=/^(?:input|select|textarea|button)$/i,Hd=/^h\d$/i,xd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pd=/[+~]/,Jc=RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),Kc=function(fa,xa){fa="0x"+fa.slice(1)-65536;return xa?xa:0>fa?String.fromCharCode(fa+65536):String.fromCharCode(fa>>10|55296,fa&1023|56320)},Ad=function(){da()},zd=gb(function(fa){return!0===fa.disabled&&d(fa,"fieldset")},{dir:"parentNode",next:"legend"});try{mc.apply(tb=Oa.call(bc.childNodes),bc.childNodes),tb[bc.childNodes.length].nodeType}catch(fa){mc=
{apply:function(xa,wa){pa.apply(xa,Oa.call(wa))},call:function(xa){pa.apply(xa,Oa.call(arguments,1))}}}l.matches=function(fa,xa){return l(fa,null,null,xa)};l.matchesSelector=function(fa,xa){da(fa);if(!(!pc||ad[xa+" "]||sc&&sc.test(xa)))try{var wa=qd.call(fa,xa);if(wa||Pa.disconnectedMatch||fa.document&&11!==fa.document.nodeType)return wa}catch(Ta){ad(xa,!0)}return 0<l(xa,Jb,null,[fa]).length};l.contains=function(fa,xa){(fa.ownerDocument||fa)!=Jb&&da(fa);return P.contains(fa,xa)};l.attr=function(fa,
xa){(fa.ownerDocument||fa)!=Jb&&da(fa);var wa=Pb.attrHandle[xa.toLowerCase()];wa=wa&&lb.call(Pb.attrHandle,xa.toLowerCase())?wa(fa,xa,!pc):void 0;return void 0!==wa?wa:fa.getAttribute(xa)};l.error=function(fa){throw Error("Syntax error, unrecognized expression: "+fa);};P.uniqueSort=function(fa){var xa,wa=[],Ta=0,Za=0;uc=!Pa.sortStable;Zb=!Pa.sortStable&&Oa.call(fa,0);qc.call(fa,rd);if(uc){for(;xa=fa[Za++];)xa===fa[Za]&&(Ta=wa.push(Za));for(;Ta--;)jc.call(fa,wa[Ta],1)}Zb=null;return fa};P.fn.uniqueSort=
function(){return this.pushStack(P.uniqueSort(Oa.apply(this)))};var Pb=P.expr={cacheLength:50,createPseudo:F,match:bd,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(fa){fa[1]=fa[1].replace(Jc,Kc);fa[3]=(fa[3]||fa[4]||fa[5]||"").replace(Jc,Kc);"~="===fa[2]&&(fa[3]=" "+fa[3]+" ");return fa.slice(0,4)},CHILD:function(fa){fa[1]=fa[1].toLowerCase();"nth"===fa[1].slice(0,3)?
(fa[3]||l.error(fa[0]),fa[4]=+(fa[4]?fa[5]+(fa[6]||1):2*("even"===fa[3]||"odd"===fa[3])),fa[5]=+(fa[7]+fa[8]||"odd"===fa[3])):fa[3]&&l.error(fa[0]);return fa},PSEUDO:function(fa){var xa,wa=!fa[6]&&fa[2];if(bd.CHILD.test(fa[0]))return null;fa[3]?fa[2]=fa[4]||fa[5]||"":wa&&Ed.test(wa)&&(xa=Ma(wa,!0))&&(xa=wa.indexOf(")",wa.length-xa)-wa.length)&&(fa[0]=fa[0].slice(0,xa),fa[2]=wa.slice(0,xa));return fa.slice(0,3)}},filter:{TAG:function(fa){var xa=fa.replace(Jc,Kc).toLowerCase();return"*"===fa?function(){return!0}:
function(wa){return d(wa,xa)}},CLASS:function(fa){var xa=wd[fa+" "];return xa||(xa=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+fa+"([\\x20\\t\\r\\n\\f]|$)"),wd(fa,function(wa){return xa.test("string"===typeof wa.className&&wa.className||"undefined"!==typeof wa.getAttribute&&wa.getAttribute("class")||"")}))},ATTR:function(fa,xa,wa){return function(Ta){Ta=l.attr(Ta,fa);if(null==Ta)return"!="===xa;if(!xa)return!0;Ta+="";return"="===xa?Ta===wa:"!="===xa?Ta!==wa:"^="===xa?wa&&0===Ta.indexOf(wa):"*="===xa?wa&&
-1<Ta.indexOf(wa):"$="===xa?wa&&Ta.slice(-wa.length)===wa:"~="===xa?-1<(" "+Ta.replace(Dd," ")+" ").indexOf(wa):"|="===xa?Ta===wa||Ta.slice(0,wa.length+1)===wa+"-":!1}},CHILD:function(fa,xa,wa,Ta,Za){var fb="nth"!==fa.slice(0,3),nb="last"!==fa.slice(-4),Eb="of-type"===xa;return 1===Ta&&0===Za?function(cb){return!!cb.parentNode}:function(cb,zb,Gb){var vb,Xb;zb=fb!==nb?"nextSibling":"previousSibling";var ec=cb.parentNode,Ic=Eb&&cb.nodeName.toLowerCase(),hc=!Gb&&!Eb;var Yb=!1;if(ec){if(fb){for(;zb;){for(vb=
cb;vb=vb[zb];)if(Eb?d(vb,Ic):1===vb.nodeType)return!1;var Ec=zb="only"===fa&&!Ec&&"nextSibling"}return!0}Ec=[nb?ec.firstChild:ec.lastChild];if(nb&&hc)for(Gb=ec[dc]||(ec[dc]={}),Yb=Gb[fa]||[],Yb=(Xb=Yb[0]===Lc&&Yb[1])&&Yb[2],vb=Xb&&ec.childNodes[Xb];vb=++Xb&&vb&&vb[zb]||(Yb=Xb=0)||Ec.pop();){if(1===vb.nodeType&&++Yb&&vb===cb){Gb[fa]=[Lc,Xb,Yb];break}}else if(hc&&(Gb=cb[dc]||(cb[dc]={}),Yb=Gb[fa]||[],Yb=Xb=Yb[0]===Lc&&Yb[1]),!1===Yb)for(;(vb=++Xb&&vb&&vb[zb]||(Yb=Xb=0)||Ec.pop())&&((Eb?!d(vb,Ic):1!==
vb.nodeType)||!++Yb||(hc&&(Gb=vb[dc]||(vb[dc]={}),Gb[fa]=[Lc,Yb]),vb!==cb)););Yb-=Za;return Yb===Ta||0===Yb%Ta&&0<=Yb/Ta}}},PSEUDO:function(fa,xa){var wa=Pb.pseudos[fa]||Pb.setFilters[fa.toLowerCase()]||l.error("unsupported pseudo: "+fa);if(wa[dc])return wa(xa);if(1<wa.length){var Ta=[fa,fa,"",xa];return Pb.setFilters.hasOwnProperty(fa.toLowerCase())?F(function(Za,fb){for(var nb,Eb=wa(Za,xa),cb=Eb.length;cb--;)nb=Ca.call(Za,Eb[cb]),Za[nb]=!(fb[nb]=Eb[cb])}):function(Za){return wa(Za,0,Ta)}}return wa}},
pseudos:{not:F(function(fa){var xa=[],wa=[],Ta=Kb(fa.replace(Qb,"$1"));return Ta[dc]?F(function(Za,fb,nb,Eb){Eb=Ta(Za,null,Eb,[]);for(var cb=Za.length;cb--;)if(nb=Eb[cb])Za[cb]=!(fb[cb]=nb)}):function(Za,fb,nb){xa[0]=Za;Ta(xa,null,nb,wa);xa[0]=null;return!wa.pop()}}),has:F(function(fa){return function(xa){return 0<l(fa,xa).length}}),contains:F(function(fa){fa=fa.replace(Jc,Kc);return function(xa){return-1<(xa.textContent||P.text(xa)).indexOf(fa)}}),lang:F(function(fa){Fd.test(fa||"")||l.error("unsupported lang: "+
fa);fa=fa.replace(Jc,Kc).toLowerCase();return function(xa){var wa;do if(wa=pc?xa.lang:xa.getAttribute("xml:lang")||xa.getAttribute("lang"))return wa=wa.toLowerCase(),wa===fa||0===wa.indexOf(fa+"-");while((xa=xa.parentNode)&&1===xa.nodeType);return!1}}),target:function(fa){var xa=z.location&&z.location.hash;return xa&&xa.slice(1)===fa.id},root:function(fa){return fa===Bc},focus:function(fa){a:{try{var xa=Jb.activeElement;break a}catch(wa){}xa=void 0}return fa===xa&&Jb.hasFocus()&&!!(fa.type||fa.href||
~fa.tabIndex)},enabled:X(!1),disabled:X(!0),checked:function(fa){return d(fa,"input")&&!!fa.checked||d(fa,"option")&&!!fa.selected},selected:function(fa){fa.parentNode&&fa.parentNode.selectedIndex;return!0===fa.selected},empty:function(fa){for(fa=fa.firstChild;fa;fa=fa.nextSibling)if(6>fa.nodeType)return!1;return!0},parent:function(fa){return!Pb.pseudos.empty(fa)},header:function(fa){return Hd.test(fa.nodeName)},input:function(fa){return Gd.test(fa.nodeName)},button:function(fa){return d(fa,"input")&&
"button"===fa.type||d(fa,"button")},text:function(fa){var xa;return d(fa,"input")&&"text"===fa.type&&(null==(xa=fa.getAttribute("type"))||"text"===xa.toLowerCase())},first:ma(function(){return[0]}),last:ma(function(fa,xa){return[xa-1]}),eq:ma(function(fa,xa,wa){return[0>wa?wa+xa:wa]}),even:ma(function(fa,xa){for(var wa=0;wa<xa;wa+=2)fa.push(wa);return fa}),odd:ma(function(fa,xa){for(var wa=1;wa<xa;wa+=2)fa.push(wa);return fa}),lt:ma(function(fa,xa,wa){for(xa=0>wa?wa+xa:wa>xa?xa:wa;0<=--xa;)fa.push(xa);
return fa}),gt:ma(function(fa,xa,wa){for(wa=0>wa?wa+xa:wa;++wa<xa;)fa.push(wa);return fa})}};Pb.pseudos.nth=Pb.pseudos.eq;for(xb in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Pb.pseudos[xb]=S(xb);for(xb in{submit:!0,reset:!0})Pb.pseudos[xb]=V(xb);Fa.prototype=Pb.filters=Pb.pseudos;Pb.setFilters=new Fa;Pa.sortStable=dc.split("").sort(rd).join("")===dc;da();Pa.sortDetached=L(function(fa){return fa.compareDocumentPosition(Jb.createElement("fieldset"))&1});P.find=l;P.expr[":"]=P.expr.pseudos;
P.unique=P.uniqueSort;l.compile=Kb;l.select=Ub;l.setDocument=da;l.tokenize=Ma;l.escape=P.escapeSelector;l.getText=P.text;l.isXML=P.isXMLDoc;l.selectors=P.expr;l.support=P.support;l.uniqueSort=P.uniqueSort})();var Va=function(l,x,F){for(var L=[],S=void 0!==F;(l=l[x])&&9!==l.nodeType;)if(1===l.nodeType){if(S&&P(l).is(F))break;L.push(l)}return L},rb=function(l,x){for(var F=[];l;l=l.nextSibling)1===l.nodeType&&l!==x&&F.push(l);return F},Hb=P.expr.match.needsContext,cc=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
P.filter=function(l,x,F){var L=x[0];F&&(l=":not("+l+")");return 1===x.length&&1===L.nodeType?P.find.matchesSelector(L,l)?[L]:[]:P.find.matches(l,P.grep(x,function(S){return 1===S.nodeType}))};P.fn.extend({find:function(l){var x,F=this.length,L=this;if("string"!==typeof l)return this.pushStack(P(l).filter(function(){for(x=0;x<F;x++)if(P.contains(L[x],this))return!0}));var S=this.pushStack([]);for(x=0;x<F;x++)P.find(l,L[x],S);return 1<F?P.uniqueSort(S):S},filter:function(l){return this.pushStack(a(this,
l||[],!1))},not:function(l){return this.pushStack(a(this,l||[],!0))},is:function(l){return!!a(this,"string"===typeof l&&Hb.test(l)?P(l):l||[],!1).length}});var Mb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(l,x,F){if(!l)return this;F=F||tc;if("string"===typeof l){var L="<"===l[0]&&">"===l[l.length-1]&&3<=l.length?[null,l,null]:Mb.exec(l);if(!L||!L[1]&&x)return!x||x.jquery?(x||F).find(l):this.constructor(x).find(l);if(L[1]){if(x=x instanceof P?x[0]:x,P.merge(this,P.parseHTML(L[1],x&&
x.nodeType?x.ownerDocument||x:sb,!0)),cc.test(L[1])&&P.isPlainObject(x))for(L in x)if(Qa(this[L]))this[L](x[L]);else this.attr(L,x[L])}else if(l=sb.getElementById(L[2]))this[0]=l,this.length=1;return this}return l.nodeType?(this[0]=l,this.length=1,this):Qa(l)?void 0!==F.ready?F.ready(l):l(P):P.makeArray(l,this)}).prototype=P.fn;var tc=P(sb);var rc=/^(?:parents|prev(?:Until|All))/,wc={children:!0,contents:!0,next:!0,prev:!0};P.fn.extend({has:function(l){var x=P(l,this),F=x.length;return this.filter(function(){for(var L=
0;L<F;L++)if(P.contains(this,x[L]))return!0})},closest:function(l,x){var F,L=0,S=this.length,V=[],X="string"!==typeof l&&P(l);if(!Hb.test(l))for(;L<S;L++)for(F=this[L];F&&F!==x;F=F.parentNode)if(11>F.nodeType&&(X?-1<X.index(F):1===F.nodeType&&P.find.matchesSelector(F,l))){V.push(F);break}return this.pushStack(1<V.length?P.uniqueSort(V):V)},index:function(l){return l?"string"===typeof l?Ca.call(P(l),this[0]):Ca.call(this,l.jquery?l[0]:l):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},
add:function(l,x){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(l,x))))},addBack:function(l){return this.add(null==l?this.prevObject:this.prevObject.filter(l))}});P.each({parent:function(l){return(l=l.parentNode)&&11!==l.nodeType?l:null},parents:function(l){return Va(l,"parentNode")},parentsUntil:function(l,x,F){return Va(l,"parentNode",F)},next:function(l){return m(l,"nextSibling")},prev:function(l){return m(l,"previousSibling")},nextAll:function(l){return Va(l,"nextSibling")},prevAll:function(l){return Va(l,
"previousSibling")},nextUntil:function(l,x,F){return Va(l,"nextSibling",F)},prevUntil:function(l,x,F){return Va(l,"previousSibling",F)},siblings:function(l){return rb((l.parentNode||{}).firstChild,l)},children:function(l){return rb(l.firstChild)},contents:function(l){if(null!=l.contentDocument&&qb(l.contentDocument))return l.contentDocument;d(l,"template")&&(l=l.content||l);return P.merge([],l.childNodes)}},function(l,x){P.fn[l]=function(F,L){var S=P.map(this,x,F);"Until"!==l.slice(-5)&&(L=F);L&&
"string"===typeof L&&(S=P.filter(L,S));1<this.length&&(wc[l]||P.uniqueSort(S),rc.test(l)&&S.reverse());return this.pushStack(S)}});var Fb=/[^\x20\t\r\n\f]+/g;P.Callbacks=function(l){l="string"===typeof l?q(l):P.extend({},l);var x,F,L,S,V=[],X=[],ma=-1,ca=function(){S=S||l.once;for(L=x=!0;X.length;ma=-1)for(F=X.shift();++ma<V.length;)!1===V[ma].apply(F[0],F[1])&&l.stopOnFalse&&(ma=V.length,F=!1);l.memory||(F=!1);x=!1;S&&(V=F?[]:"")},da={add:function(){V&&(F&&!x&&(ma=V.length-1,X.push(F)),function Sa(Ma){P.each(Ma,
function(gb,hb){Qa(hb)?l.unique&&da.has(hb)||V.push(hb):hb&&hb.length&&"string"!==E(hb)&&Sa(hb)})}(arguments),F&&!x&&ca());return this},remove:function(){P.each(arguments,function(Fa,Ma){for(var Sa;-1<(Sa=P.inArray(Ma,V,Sa));)V.splice(Sa,1),Sa<=ma&&ma--});return this},has:function(Fa){return Fa?-1<P.inArray(Fa,V):0<V.length},empty:function(){V&&=[];return this},disable:function(){S=X=[];V=F="";return this},disabled:function(){return!V},lock:function(){S=X=[];F||x||(V=F="");return this},locked:function(){return!!S},
fireWith:function(Fa,Ma){S||(Ma=Ma||[],Ma=[Fa,Ma.slice?Ma.slice():Ma],X.push(Ma),x||ca());return this},fire:function(){da.fireWith(this,arguments);return this},fired:function(){return!!L}};return da};P.extend({Deferred:function(l){var x=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],F="pending",L={state:function(){return F},
always:function(){S.done(arguments).fail(arguments);return this},"catch":function(V){return L.then(null,V)},pipe:function(){var V=arguments;return P.Deferred(function(X){P.each(x,function(ma,ca){var da=Qa(V[ca[4]])&&V[ca[4]];S[ca[1]](function(){var Fa=da&&da.apply(this,arguments);if(Fa&&Qa(Fa.promise))Fa.promise().progress(X.notify).done(X.resolve).fail(X.reject);else X[ca[0]+"With"](this,da?[Fa]:arguments)})});V=null}).promise()},then:function(V,X,ma){function ca(Fa,Ma,Sa,gb){return function(){var hb=
this,Bb=arguments,Cb=function(){if(!(Fa<da)){var yb=Sa.apply(hb,Bb);if(yb===Ma.promise())throw new TypeError("Thenable self-resolution");var Kb=yb&&("object"===typeof yb||"function"===typeof yb)&&yb.then;Qa(Kb)?gb?Kb.call(yb,ca(da,Ma,r,gb),ca(da,Ma,h,gb)):(da++,Kb.call(yb,ca(da,Ma,r,gb),ca(da,Ma,h,gb),ca(da,Ma,r,Ma.notifyWith))):(Sa!==r&&(hb=void 0,Bb=[yb]),(gb||Ma.resolveWith)(hb,Bb))}},$b=gb?Cb:function(){try{Cb()}catch(yb){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(yb,$b.error),Fa+1>=da&&
(Sa!==h&&(hb=void 0,Bb=[yb]),Ma.rejectWith(hb,Bb))}};Fa?$b():(P.Deferred.getErrorHook?$b.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&($b.error=P.Deferred.getStackHook()),z.setTimeout($b))}}var da=0;return P.Deferred(function(Fa){x[0][3].add(ca(0,Fa,Qa(ma)?ma:r,Fa.notifyWith));x[1][3].add(ca(0,Fa,Qa(V)?V:r));x[2][3].add(ca(0,Fa,Qa(X)?X:h))}).promise()},promise:function(V){return null!=V?P.extend(V,L):L}},S={};P.each(x,function(V,X){var ma=X[2],ca=X[5];L[X[1]]=ma.add;ca&&ma.add(function(){F=
ca},x[3-V][2].disable,x[3-V][3].disable,x[0][2].lock,x[0][3].lock);ma.add(X[3].fire);S[X[0]]=function(){S[X[0]+"With"](this===S?void 0:this,arguments);return this};S[X[0]+"With"]=ma.fireWith});L.promise(S);l&&l.call(S,S);return S},when:function(l){var x=arguments.length,F=x,L=Array(F),S=Oa.call(arguments),V=P.Deferred(),X=function(ma){return function(ca){L[ma]=this;S[ma]=1<arguments.length?Oa.call(arguments):ca;--x||V.resolveWith(L,S)}};if(1>=x&&(c(l,V.done(X(F)).resolve,V.reject,!x),"pending"===
V.state()||Qa(S[F]&&S[F].then)))return V.then();for(;F--;)c(S[F],X(F),V.reject);return V.promise()}});var Sb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(l,x){z.console&&z.console.warn&&l&&Sb.test(l.name)&&z.console.warn("jQuery.Deferred exception: "+l.message,l.stack,x)};P.readyException=function(l){z.setTimeout(function(){throw l;})};var Ob=P.Deferred();P.fn.ready=function(l){Ob.then(l).catch(function(x){P.readyException(x)});return this};P.extend({isReady:!1,
readyWait:1,ready:function(l){(!0===l?--P.readyWait:P.isReady)||(P.isReady=!0,!0!==l&&0<--P.readyWait||Ob.resolveWith(sb,[P]))}});P.ready.then=Ob.then;"complete"===sb.readyState||"loading"!==sb.readyState&&!sb.documentElement.doScroll?z.setTimeout(P.ready):(sb.addEventListener("DOMContentLoaded",f),z.addEventListener("load",f));var Tb=function(l,x,F,L,S,V,X){var ma=0,ca=l.length,da=null==F;if("object"===E(F))for(ma in S=!0,F)Tb(l,x,ma,F[ma],!0,V,X);else if(void 0!==L&&(S=!0,Qa(L)||(X=!0),da&&(X?(x.call(l,
L),x=null):(da=x,x=function(Fa,Ma,Sa){return da.call(P(Fa),Sa)})),x))for(;ma<ca;ma++)x(l[ma],F,X?L:L.call(l[ma],ma,x(l[ma],F)));return S?l:da?x.call(l):ca?x(l[0],F):V},Rb=/^-ms-/,pb=/-([a-z])/g,Vb=function(l){return 1===l.nodeType||9===l.nodeType||!+l.nodeType};n.uid=1;n.prototype={cache:function(l){var x=l[this.expando];x||(x={},Vb(l)&&(l.nodeType?l[this.expando]=x:Object.defineProperty(l,this.expando,{value:x,configurable:!0})));return x},set:function(l,x,F){var L;l=this.cache(l);if("string"===
typeof x)l[e(x)]=F;else for(L in x)l[e(L)]=x[L];return l},get:function(l,x){return void 0===x?this.cache(l):l[this.expando]&&l[this.expando][e(x)]},access:function(l,x,F){if(void 0===x||x&&"string"===typeof x&&void 0===F)return this.get(l,x);this.set(l,x,F);return void 0!==F?F:x},remove:function(l,x){var F,L=l[this.expando];if(void 0!==L){if(void 0!==x)for(Array.isArray(x)?x=x.map(e):(x=e(x),x=x in L?[x]:x.match(Fb)||[]),F=x.length;F--;)delete L[x[F]];if(void 0===x||P.isEmptyObject(L))l.nodeType?
l[this.expando]=void 0:delete l[this.expando]}},hasData:function(l){l=l[this.expando];return void 0!==l&&!P.isEmptyObject(l)}};var ib=new n,ac=new n,vc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kc=/[A-Z]/g;P.extend({hasData:function(l){return ac.hasData(l)||ib.hasData(l)},data:function(l,x,F){return ac.access(l,x,F)},removeData:function(l,x){ac.remove(l,x)},_data:function(l,x,F){return ib.access(l,x,F)},_removeData:function(l,x){ib.remove(l,x)}});P.fn.extend({data:function(l,x){var F,L=this[0],S=L&&L.attributes;
if(void 0===l){if(this.length){var V=ac.get(L);if(1===L.nodeType&&!ib.get(L,"hasDataAttrs")){for(F=S.length;F--;)if(S[F]){var X=S[F].name;0===X.indexOf("data-")&&(X=e(X.slice(5)),u(L,X,V[X]))}ib.set(L,"hasDataAttrs",!0)}}return V}return"object"===typeof l?this.each(function(){ac.set(this,l)}):Tb(this,function(ma){if(L&&void 0===ma){var ca=ac.get(L,l);if(void 0!==ca)return ca;ca=u(L,l);if(void 0!==ca)return ca}else this.each(function(){ac.set(this,l,ma)})},null,x,1<arguments.length,null,!0)},removeData:function(l){return this.each(function(){ac.remove(this,
l)})}});P.extend({queue:function(l,x,F){if(l){x=(x||"fx")+"queue";var L=ib.get(l,x);F&&(!L||Array.isArray(F)?L=ib.access(l,x,P.makeArray(F)):L.push(F));return L||[]}},dequeue:function(l,x){x=x||"fx";var F=P.queue(l,x),L=F.length,S=F.shift(),V=P._queueHooks(l,x),X=function(){P.dequeue(l,x)};"inprogress"===S&&(S=F.shift(),L--);S&&("fx"===x&&F.unshift("inprogress"),delete V.stop,S.call(l,X,V));!L&&V&&V.empty.fire()},_queueHooks:function(l,x){var F=x+"queueHooks";return ib.get(l,F)||ib.access(l,F,{empty:P.Callbacks("once memory").add(function(){ib.remove(l,
[x+"queue",F])})})}});P.fn.extend({queue:function(l,x){var F=2;"string"!==typeof l&&(x=l,l="fx",F--);return arguments.length<F?P.queue(this[0],l):void 0===x?this:this.each(function(){var L=P.queue(this,l,x);P._queueHooks(this,l);"fx"===l&&"inprogress"!==L[0]&&P.dequeue(this,l)})},dequeue:function(l){return this.each(function(){P.dequeue(this,l)})},clearQueue:function(l){return this.queue(l||"fx",[])},promise:function(l,x){var F,L=1,S=P.Deferred(),V=this,X=this.length,ma=function(){--L||S.resolveWith(V,
[V])};"string"!==typeof l&&(x=l,l=void 0);for(l=l||"fx";X--;)(F=ib.get(V[X],l+"queueHooks"))&&F.empty&&(L++,F.empty.add(ma));ma();return S.promise(x)}});var lc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,gc=new RegExp("^(?:([+-])=|)("+lc+")([a-z%]*)$","i"),fc=["Top","Right","Bottom","Left"],nc=sb.documentElement,xc=function(l){return P.contains(l.ownerDocument,l)},Mc={composed:!0};nc.getRootNode&&(xc=function(l){return P.contains(l.ownerDocument,l)||l.getRootNode(Mc)===l.ownerDocument});var yc=function(l,
x){l=x||l;return"none"===l.style.display||""===l.style.display&&xc(l)&&"none"===P.css(l,"display")},Dc={};P.fn.extend({show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(l){return"boolean"===typeof l?l?this.show():this.hide():this.each(function(){yc(this)?P(this).show():P(this).hide()})}});var zc=/^(?:checkbox|radio)$/i,Cc=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,aa=/^$|^module$|\/(?:java|ecma)script/i;(function(){var l=sb.createDocumentFragment().appendChild(sb.createElement("div")),
x=sb.createElement("input");x.setAttribute("type","radio");x.setAttribute("checked","checked");x.setAttribute("name","t");l.appendChild(x);Pa.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked;l.innerHTML="<textarea>x</textarea>";Pa.noCloneChecked=!!l.cloneNode(!0).lastChild.defaultValue;l.innerHTML="<option></option>";Pa.option=!!l.lastChild})();var Aa={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>",
"</tr></tbody></table>"],_default:[0,"",""]};Aa.tbody=Aa.tfoot=Aa.colgroup=Aa.caption=Aa.thead;Aa.th=Aa.td;Pa.option||(Aa.optgroup=Aa.option=[1,"<select multiple='multiple'>","</select>"]);var Na=/<|&#?\w+;/,ab=/^([^.]*)(?:\.(.+)|)/;P.event={global:{},add:function(l,x,F,L,S){var V,X,ma,ca;var da=ib.get(l);if(Vb(l)){if(F.handler){var Fa=F;F=Fa.handler;S=Fa.selector}S&&P.find.matchesSelector(nc,S);F.guid||(F.guid=P.guid++);(X=da.events)||(X=da.events=Object.create(null));(V=da.handle)||(V=da.handle=
function(hb){return"undefined"!==typeof P&&P.event.triggered!==hb.type?P.event.dispatch.apply(l,arguments):void 0});x=(x||"").match(Fb)||[""];for(da=x.length;da--;){var Ma=ab.exec(x[da])||[];var Sa=ma=Ma[1];var gb=(Ma[2]||"").split(".").sort();Sa&&(Ma=P.event.special[Sa]||{},Sa=(S?Ma.delegateType:Ma.bindType)||Sa,Ma=P.event.special[Sa]||{},ma=P.extend({type:Sa,origType:ma,data:L,handler:F,guid:F.guid,selector:S,needsContext:S&&P.expr.match.needsContext.test(S),namespace:gb.join(".")},Fa),(ca=X[Sa])||
(ca=X[Sa]=[],ca.delegateCount=0,Ma.setup&&!1!==Ma.setup.call(l,L,gb,V)||l.addEventListener&&l.addEventListener(Sa,V)),Ma.add&&(Ma.add.call(l,ma),ma.handler.guid||(ma.handler.guid=F.guid)),S?ca.splice(ca.delegateCount++,0,ma):ca.push(ma),P.event.global[Sa]=!0)}}},remove:function(l,x,F,L,S){var V,X,ma,ca,da,Fa=ib.hasData(l)&&ib.get(l);if(Fa&&(ma=Fa.events)){x=(x||"").match(Fb)||[""];for(ca=x.length;ca--;){var Ma=ab.exec(x[ca])||[];var Sa=da=Ma[1];var gb=(Ma[2]||"").split(".").sort();if(Sa){var hb=P.event.special[Sa]||
{};Sa=(L?hb.delegateType:hb.bindType)||Sa;var Bb=ma[Sa]||[];Ma=Ma[2]&&new RegExp("(^|\\.)"+gb.join("\\.(?:.*\\.|)")+"(\\.|$)");for(X=V=Bb.length;V--;){var Cb=Bb[V];!S&&da!==Cb.origType||F&&F.guid!==Cb.guid||Ma&&!Ma.test(Cb.namespace)||L&&L!==Cb.selector&&("**"!==L||!Cb.selector)||(Bb.splice(V,1),Cb.selector&&Bb.delegateCount--,hb.remove&&hb.remove.call(l,Cb))}X&&!Bb.length&&(hb.teardown&&!1!==hb.teardown.call(l,gb,Fa.handle)||P.removeEvent(l,Sa,Fa.handle),delete ma[Sa])}else for(Sa in ma)P.event.remove(l,
Sa+x[ca],F,L,!0)}P.isEmptyObject(ma)&&ib.remove(l,"handle events")}},dispatch:function(l){var x,F,L,S=Array(arguments.length),V=P.event.fix(l);var X=(ib.get(this,"events")||Object.create(null))[V.type]||[];var ma=P.event.special[V.type]||{};S[0]=V;for(x=1;x<arguments.length;x++)S[x]=arguments[x];V.delegateTarget=this;if(!ma.preDispatch||!1!==ma.preDispatch.call(this,V)){var ca=P.event.handlers.call(this,V,X);for(x=0;(L=ca[x++])&&!V.isPropagationStopped();)for(V.currentTarget=L.elem,X=0;(F=L.handlers[X++])&&
!V.isImmediatePropagationStopped();)if(!V.rnamespace||!1===F.namespace||V.rnamespace.test(F.namespace))V.handleObj=F,V.data=F.data,F=((P.event.special[F.origType]||{}).handle||F.handler).apply(L.elem,S),void 0!==F&&!1===(V.result=F)&&(V.preventDefault(),V.stopPropagation());ma.postDispatch&&ma.postDispatch.call(this,V);return V.result}},handlers:function(l,x){var F,L=[],S=x.delegateCount,V=l.target;if(S&&V.nodeType&&!("click"===l.type&&1<=l.button))for(;V!==this;V=V.parentNode||this)if(1===V.nodeType&&
("click"!==l.type||!0!==V.disabled)){var X=[];var ma={};for(F=0;F<S;F++){var ca=x[F];var da=ca.selector+" ";void 0===ma[da]&&(ma[da]=ca.needsContext?-1<P(da,this).index(V):P.find(da,this,null,[V]).length);ma[da]&&X.push(ca)}X.length&&L.push({elem:V,handlers:X})}S<x.length&&L.push({elem:this,handlers:x.slice(S)});return L},addProp:function(l,x){Object.defineProperty(P.Event.prototype,l,{enumerable:!0,configurable:!0,get:Qa(x)?function(){if(this.originalEvent)return x(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[l]},
set:function(F){Object.defineProperty(this,l,{enumerable:!0,configurable:!0,writable:!0,value:F})}})},fix:function(l){return l[P.expando]?l:new P.Event(l)},special:{load:{noBubble:!0},click:{setup:function(l){l=this||l;zc.test(l.type)&&l.click&&d(l,"input")&&O(l,"click",!0);return!1},trigger:function(l){l=this||l;zc.test(l.type)&&l.click&&d(l,"input")&&O(l,"click");return!0},_default:function(l){l=l.target;return zc.test(l.type)&&l.click&&d(l,"input")&&ib.get(l,"click")||d(l,"a")}},beforeunload:{postDispatch:function(l){void 0!==
l.result&&l.originalEvent&&(l.originalEvent.returnValue=l.result)}}}};P.removeEvent=function(l,x,F){l.removeEventListener&&l.removeEventListener(x,F)};P.Event=function(l,x){if(!(this instanceof P.Event))return new P.Event(l,x);l&&l.type?(this.originalEvent=l,this.type=l.type,this.isDefaultPrevented=l.defaultPrevented||void 0===l.defaultPrevented&&!1===l.returnValue?y:G,this.target=l.target&&3===l.target.nodeType?l.target.parentNode:l.target,this.currentTarget=l.currentTarget,this.relatedTarget=l.relatedTarget):
this.type=l;x&&P.extend(this,x);this.timeStamp=l&&l.timeStamp||Date.now();this[P.expando]=!0};P.Event.prototype={constructor:P.Event,isDefaultPrevented:G,isPropagationStopped:G,isImmediatePropagationStopped:G,isSimulated:!1,preventDefault:function(){var l=this.originalEvent;this.isDefaultPrevented=y;l&&!this.isSimulated&&l.preventDefault()},stopPropagation:function(){var l=this.originalEvent;this.isPropagationStopped=y;l&&!this.isSimulated&&l.stopPropagation()},stopImmediatePropagation:function(){var l=
this.originalEvent;this.isImmediatePropagationStopped=y;l&&!this.isSimulated&&l.stopImmediatePropagation();this.stopPropagation()}};P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp);
P.each({focus:"focusin",blur:"focusout"},function(l,x){function F(L){if(sb.documentMode){var S=ib.get(this,"handle"),V=P.event.fix(L);V.type="focusin"===L.type?"focus":"blur";V.isSimulated=!0;S(L);V.target===V.currentTarget&&S(V)}else P.event.simulate(x,L.target,P.event.fix(L))}P.event.special[l]={setup:function(){var L;O(this,l,!0);if(sb.documentMode)(L=ib.get(this,x))||this.addEventListener(x,F),ib.set(this,x,(L||0)+1);else return!1},trigger:function(){O(this,l);return!0},teardown:function(){var L;
if(sb.documentMode)(L=ib.get(this,x)-1)?ib.set(this,x,L):(this.removeEventListener(x,F),ib.remove(this,x));else return!1},_default:function(L){return ib.get(L.target,l)},delegateType:x};P.event.special[x]={setup:function(){var L=this.ownerDocument||this.document||this,S=sb.documentMode?this:L,V=ib.get(S,x);V||(sb.documentMode?this.addEventListener(x,F):L.addEventListener(l,F,!0));ib.set(S,x,(V||0)+1)},teardown:function(){var L=this.ownerDocument||this.document||this,S=sb.documentMode?this:L,V=ib.get(S,
x)-1;V?ib.set(S,x,V):(sb.documentMode?this.removeEventListener(x,F):L.removeEventListener(l,F,!0),ib.remove(S,x))}}});P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(l,x){P.event.special[l]={delegateType:x,bindType:x,handle:function(F){var L=F.relatedTarget,S=F.handleObj;if(!L||L!==this&&!P.contains(this,L)){F.type=S.origType;var V=S.handler.apply(this,arguments);F.type=x}return V}}});P.fn.extend({on:function(l,x,F,L){return H(this,
l,x,F,L)},one:function(l,x,F,L){return H(this,l,x,F,L,1)},off:function(l,x,F){if(l&&l.preventDefault&&l.handleObj){var L=l.handleObj;P(l.delegateTarget).off(L.namespace?L.origType+"."+L.namespace:L.origType,L.selector,L.handler);return this}if("object"===typeof l){for(L in l)this.off(L,x,l[L]);return this}if(!1===x||"function"===typeof x)F=x,x=void 0;!1===F&&(F=G);return this.each(function(){P.event.remove(this,l,F,x)})}});var mb=/<script|<style|<link/i,U=/checked\s*(?:[^=]|=\s*.checked.)/i,ia=/^\s*<!\[CDATA\[|\]\]>\s*$/g;
P.extend({htmlPrefilter:function(l){return l},clone:function(l,x,F){var L,S=l.cloneNode(!0),V=xc(l);if(!(Pa.noCloneChecked||1!==l.nodeType&&11!==l.nodeType||P.isXMLDoc(l))){var X=B(S);var ma=B(l);var ca=0;for(L=ma.length;ca<L;ca++){var da=ma[ca],Fa=X[ca],Ma=Fa.nodeName.toLowerCase();if("input"===Ma&&zc.test(da.type))Fa.checked=da.checked;else if("input"===Ma||"textarea"===Ma)Fa.defaultValue=da.defaultValue}}if(x)if(F)for(ma=ma||B(l),X=X||B(S),ca=0,L=ma.length;ca<L;ca++)Y(ma[ca],X[ca]);else Y(l,S);
X=B(S,"script");0<X.length&&I(X,!V&&B(l,"script"));return S},cleanData:function(l){for(var x,F,L,S=P.event.special,V=0;void 0!==(F=l[V]);V++)if(Vb(F)){if(x=F[ib.expando]){if(x.events)for(L in x.events)S[L]?P.event.remove(F,L):P.removeEvent(F,L,x.handle);F[ib.expando]=void 0}F[ac.expando]&&(F[ac.expando]=void 0)}}});P.fn.extend({detach:function(l){return la(this,l,!0)},remove:function(l){return la(this,l)},text:function(l){return Tb(this,function(x){return void 0===x?P.text(this):this.empty().each(function(){if(1===
this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=x})},null,l,arguments.length)},append:function(){return qa(this,arguments,function(l){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||J(this,l).appendChild(l)})},prepend:function(){return qa(this,arguments,function(l){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var x=J(this,l);x.insertBefore(l,x.firstChild)}})},before:function(){return qa(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,
this)})},after:function(){return qa(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this.nextSibling)})},empty:function(){for(var l,x=0;null!=(l=this[x]);x++)1===l.nodeType&&(P.cleanData(B(l,!1)),l.textContent="");return this},clone:function(l,x){l=null==l?!1:l;x=null==x?l:x;return this.map(function(){return P.clone(this,l,x)})},html:function(l){return Tb(this,function(x){var F=this[0]||{},L=0,S=this.length;if(void 0===x&&1===F.nodeType)return F.innerHTML;if("string"===
typeof x&&!mb.test(x)&&!Aa[(Cc.exec(x)||["",""])[1].toLowerCase()]){x=P.htmlPrefilter(x);try{for(;L<S;L++)F=this[L]||{},1===F.nodeType&&(P.cleanData(B(F,!1)),F.innerHTML=x);F=0}catch(V){}}F&&this.empty().append(x)},null,l,arguments.length)},replaceWith:function(){var l=[];return qa(this,arguments,function(x){var F=this.parentNode;0>P.inArray(this,l)&&(P.cleanData(B(this)),F&&F.replaceChild(x,this))},l)}});P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(l,x){P.fn[l]=function(F){for(var L=[],S=P(F),V=S.length-1,X=0;X<=V;X++)F=X===V?this:this.clone(!0),P(S[X])[x](F),pa.apply(L,F.get());return this.pushStack(L)}});var Ba=new RegExp("^("+lc+")(?!px)[a-z%]+$","i"),ba=/^--/,va=function(l){var x=l.ownerDocument.defaultView;x&&x.opener||(x=z);return x.getComputedStyle(l)},Ha=function(l,x,F){var L,S={};for(L in x)S[L]=l.style[L],l.style[L]=x[L];F=F.call(l);for(L in x)l.style[L]=S[L];return F},Wa=new RegExp(fc.join("|"),"i");(function(){function l(){if(ca){ma.style.cssText=
"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";ca.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";nc.appendChild(ma).appendChild(ca);var da=z.getComputedStyle(ca);x="1%"!==da.top;X=12===Math.round(parseFloat(da.marginLeft));ca.style.right="60%";S=36===Math.round(parseFloat(da.right));F=36===Math.round(parseFloat(da.width));ca.style.position="absolute";L=12===Math.round(parseFloat(ca.offsetWidth/
3));nc.removeChild(ma);ca=null}}var x,F,L,S,V,X,ma=sb.createElement("div"),ca=sb.createElement("div");ca.style&&(ca.style.backgroundClip="content-box",ca.cloneNode(!0).style.backgroundClip="",Pa.clearCloneStyle="content-box"===ca.style.backgroundClip,P.extend(Pa,{boxSizingReliable:function(){l();return F},pixelBoxStyles:function(){l();return S},pixelPosition:function(){l();return x},reliableMarginLeft:function(){l();return X},scrollboxSize:function(){l();return L},reliableTrDimensions:function(){if(null==
V){var da=sb.createElement("table");var Fa=sb.createElement("tr");var Ma=sb.createElement("div");da.style.cssText="position:absolute;left:-11111px;border-collapse:separate";Fa.style.cssText="box-sizing:content-box;border:1px solid";Fa.style.height="1px";Ma.style.height="9px";Ma.style.display="block";nc.appendChild(da).appendChild(Fa).appendChild(Ma);Ma=z.getComputedStyle(Fa);V=parseInt(Ma.height,10)+parseInt(Ma.borderTopWidth,10)+parseInt(Ma.borderBottomWidth,10)===Fa.offsetHeight;nc.removeChild(da)}return V}}))})();
var Ja=["Webkit","Moz","ms"],$a=sb.createElement("div").style,bb={},jb=/^(none|table(?!-c[ea]).+)/,Lb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"};P.extend({cssHooks:{opacity:{get:function(l,x){if(x)return l=Q(l,"opacity"),""===l?"1":l}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,
gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(l,x,F,L){if(l&&3!==l.nodeType&&8!==l.nodeType&&l.style){var S,V=e(x),X=ba.test(x),ma=l.style;X||(x=oa(V));var ca=P.cssHooks[x]||P.cssHooks[V];if(void 0!==F){var da=typeof F;"string"===da&&(S=gc.exec(F))&&S[1]&&(F=A(l,x,S),da="number");null!=F&&F===F&&("number"!==da||X||(F+=S&&S[3]||(P.cssNumber[V]?
"":"px")),Pa.clearCloneStyle||""!==F||0!==x.indexOf("background")||(ma[x]="inherit"),ca&&"set"in ca&&void 0===(F=ca.set(l,F,L))||(X?ma.setProperty(x,F):ma[x]=F))}else return ca&&"get"in ca&&void 0!==(S=ca.get(l,!1,L))?S:ma[x]}},css:function(l,x,F,L){var S;var V=e(x);ba.test(x)||(x=oa(V));(V=P.cssHooks[x]||P.cssHooks[V])&&"get"in V&&(S=V.get(l,!0,F));void 0===S&&(S=Q(l,x,L));"normal"===S&&x in Db&&(S=Db[x]);return""===F||F?(l=parseFloat(S),!0===F||isFinite(l)?l||0:S):S}});P.each(["height","width"],
function(l,x){P.cssHooks[x]={get:function(F,L,S){if(L)return!jb.test(P.css(F,"display"))||F.getClientRects().length&&F.getBoundingClientRect().width?ua(F,x,S):Ha(F,Lb,function(){return ua(F,x,S)})},set:function(F,L,S){var V,X=va(F),ma=!Pa.scrollboxSize()&&"absolute"===X.position,ca=(ma||S)&&"border-box"===P.css(F,"boxSizing",!1,X);S=S?ja(F,x,S,ca,X):0;ca&&ma&&(S-=Math.ceil(F["offset"+x[0].toUpperCase()+x.slice(1)]-parseFloat(X[x])-ja(F,x,"border",!1,X)-.5));S&&(V=gc.exec(L))&&"px"!==(V[3]||"px")&&
(F.style[x]=L,L=P.css(F,x));return ya(F,L,S)}}});P.cssHooks.marginLeft=ka(Pa.reliableMarginLeft,function(l,x){if(x)return(parseFloat(Q(l,"marginLeft"))||l.getBoundingClientRect().left-Ha(l,{marginLeft:0},function(){return l.getBoundingClientRect().left}))+"px"});P.each({margin:"",padding:"",border:"Width"},function(l,x){P.cssHooks[l+x]={expand:function(F){var L=0,S={};for(F="string"===typeof F?F.split(" "):[F];4>L;L++)S[l+fc[L]+x]=F[L]||F[L-2]||F[0];return S}};"margin"!==l&&(P.cssHooks[l+x].set=ya)});
P.fn.extend({css:function(l,x){return Tb(this,function(F,L,S){var V,X={},ma=0;if(Array.isArray(L)){S=va(F);for(V=L.length;ma<V;ma++)X[L[ma]]=P.css(F,L[ma],!1,S);return X}return void 0!==S?P.style(F,L,S):P.css(F,L)},l,x,1<arguments.length)}});P.Tween=ha;ha.prototype={constructor:ha,init:function(l,x,F,L,S,V){this.elem=l;this.prop=F;this.easing=S||P.easing._default;this.options=x;this.start=this.now=this.cur();this.end=L;this.unit=V||(P.cssNumber[F]?"":"px")},cur:function(){var l=ha.propHooks[this.prop];
return l&&l.get?l.get(this):ha.propHooks._default.get(this)},run:function(l){var x,F=ha.propHooks[this.prop];this.pos=this.options.duration?x=P.easing[this.easing](l,this.options.duration*l,0,1,this.options.duration):x=l;this.now=(this.end-this.start)*x+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);F&&F.set?F.set(this):ha.propHooks._default.set(this);return this}};ha.prototype.init.prototype=ha.prototype;ha.propHooks={_default:{get:function(l){return 1!==l.elem.nodeType||
null!=l.elem[l.prop]&&null==l.elem.style[l.prop]?l.elem[l.prop]:(l=P.css(l.elem,l.prop,""))&&"auto"!==l?l:0},set:function(l){if(P.fx.step[l.prop])P.fx.step[l.prop](l);else 1!==l.elem.nodeType||!P.cssHooks[l.prop]&&null==l.elem.style[oa(l.prop)]?l.elem[l.prop]=l.now:P.style(l.elem,l.prop,l.now+l.unit)}}};ha.propHooks.scrollTop=ha.propHooks.scrollLeft={set:function(l){l.elem.nodeType&&l.elem.parentNode&&(l.elem[l.prop]=l.now)}};P.easing={linear:function(l){return l},swing:function(l){return.5-Math.cos(l*
Math.PI)/2},_default:"swing"};P.fx=ha.prototype.init;P.fx.step={};var Nb,oc,dd=/^(?:toggle|show|hide)$/,ed=/queueHooks$/;P.Animation=P.extend(sa,{tweeners:{"*":[function(l,x){var F=this.createTween(l,x);A(F.elem,l,gc.exec(x),F);return F}]},tweener:function(l,x){Qa(l)?(x=l,l=["*"]):l=l.match(Fb);for(var F,L=0,S=l.length;L<S;L++)F=l[L],sa.tweeners[F]=sa.tweeners[F]||[],sa.tweeners[F].unshift(x)},prefilters:[function(l,x,F){var L;var S="width"in x||"height"in x;var V=this,X={},ma=l.style,ca=l.nodeType&&
yc(l),da=ib.get(l,"fxshow");if(!F.queue){var Fa=P._queueHooks(l,"fx");if(null==Fa.unqueued){Fa.unqueued=0;var Ma=Fa.empty.fire;Fa.empty.fire=function(){Fa.unqueued||Ma()}}Fa.unqueued++;V.always(function(){V.always(function(){Fa.unqueued--;P.queue(l,"fx").length||Fa.empty.fire()})})}for(L in x){var Sa=x[L];if(dd.test(Sa)){delete x[L];var gb=gb||"toggle"===Sa;if(Sa===(ca?"hide":"show"))if("show"===Sa&&da&&void 0!==da[L])ca=!0;else continue;X[L]=da&&da[L]||P.style(l,L)}}if((x=!P.isEmptyObject(x))||!P.isEmptyObject(X)){if(S&&
1===l.nodeType){F.overflow=[ma.overflow,ma.overflowX,ma.overflowY];var hb=da&&da.display;null==hb&&(hb=ib.get(l,"display"));S=P.css(l,"display");"none"===S&&(hb?S=hb:(C([l],!0),hb=l.style.display||hb,S=P.css(l,"display"),C([l])));("inline"===S||"inline-block"===S&&null!=hb)&&"none"===P.css(l,"float")&&(x||(V.done(function(){ma.display=hb}),null==hb&&(S=ma.display,hb="none"===S?"":S)),ma.display="inline-block")}F.overflow&&(ma.overflow="hidden",V.always(function(){ma.overflow=F.overflow[0];ma.overflowX=
F.overflow[1];ma.overflowY=F.overflow[2]}));x=!1;for(L in X)x||(da?"hidden"in da&&(ca=da.hidden):da=ib.access(l,"fxshow",{display:hb}),gb&&(da.hidden=!ca),ca&&C([l],!0),V.done(function(){ca||C([l]);ib.remove(l,"fxshow");for(L in X)P.style(l,L,X[L])})),x=T(ca?da[L]:0,L,V),L in da||(da[L]=x.start,ca&&(x.end=x.start,x.start=0))}}],prefilter:function(l,x){x?sa.prefilters.unshift(l):sa.prefilters.push(l)}});P.speed=function(l,x,F){var L=l&&"object"===typeof l?P.extend({},l):{complete:F||!F&&x||Qa(l)&&
l,duration:l,easing:F&&x||x&&!Qa(x)&&x};P.fx.off?L.duration=0:"number"!==typeof L.duration&&(L.duration=L.duration in P.fx.speeds?P.fx.speeds[L.duration]:P.fx.speeds._default);if(null==L.queue||!0===L.queue)L.queue="fx";L.old=L.complete;L.complete=function(){Qa(L.old)&&L.old.call(this);L.queue&&P.dequeue(this,L.queue)};return L};P.fn.extend({fadeTo:function(l,x,F,L){return this.filter(yc).css("opacity",0).show().end().animate({opacity:x},l,F,L)},animate:function(l,x,F,L){var S=P.isEmptyObject(l),
V=P.speed(x,F,L);x=function(){var X=sa(this,P.extend({},l),V);(S||ib.get(this,"finish"))&&X.stop(!0)};x.finish=x;return S||!1===V.queue?this.each(x):this.queue(V.queue,x)},stop:function(l,x,F){var L=function(S){var V=S.stop;delete S.stop;V(F)};"string"!==typeof l&&(F=x,x=l,l=void 0);x&&this.queue(l||"fx",[]);return this.each(function(){var S=!0,V=null!=l&&l+"queueHooks",X=P.timers,ma=ib.get(this);if(V)ma[V]&&ma[V].stop&&L(ma[V]);else for(V in ma)ma[V]&&ma[V].stop&&ed.test(V)&&L(ma[V]);for(V=X.length;V--;)X[V].elem!==
this||null!=l&&X[V].queue!==l||(X[V].anim.stop(F),S=!1,X.splice(V,1));!S&&F||P.dequeue(this,l)})},finish:function(l){!1!==l&&(l=l||"fx");return this.each(function(){var x=ib.get(this),F=x[l+"queue"];var L=x[l+"queueHooks"];var S=P.timers,V=F?F.length:0;x.finish=!0;P.queue(this,l,[]);L&&L.stop&&L.stop.call(this,!0);for(L=S.length;L--;)S[L].elem===this&&S[L].queue===l&&(S[L].anim.stop(!0),S.splice(L,1));for(L=0;L<V;L++)F[L]&&F[L].finish&&F[L].finish.call(this);delete x.finish})}});P.each(["toggle",
"show","hide"],function(l,x){var F=P.fn[x];P.fn[x]=function(L,S,V){return null==L||"boolean"===typeof L?F.apply(this,arguments):this.animate(Xa(x,!0),L,S,V)}});P.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(l,x){P.fn[l]=function(F,L,S){return this.animate(x,F,L,S)}});P.timers=[];P.fx.tick=function(){var l=0,x=P.timers;for(Nb=Date.now();l<x.length;l++){var F=x[l];F()||x[l]!==F||x.splice(l--,
1)}x.length||P.fx.stop();Nb=void 0};P.fx.timer=function(l){P.timers.push(l);P.fx.start()};P.fx.interval=13;P.fx.start=function(){oc||(oc=!0,La())};P.fx.stop=function(){oc=null};P.fx.speeds={slow:600,fast:200,_default:400};P.fn.delay=function(l,x){l=P.fx?P.fx.speeds[l]||l:l;return this.queue(x||"fx",function(F,L){var S=z.setTimeout(F,l);L.stop=function(){z.clearTimeout(S)}})};(function(){var l=sb.createElement("input"),x=sb.createElement("select").appendChild(sb.createElement("option"));l.type="checkbox";
Pa.checkOn=""!==l.value;Pa.optSelected=x.selected;l=sb.createElement("input");l.value="t";l.type="radio";Pa.radioValue="t"===l.value})();var Ac=P.expr.attrHandle;P.fn.extend({attr:function(l,x){return Tb(this,P.attr,l,x,1<arguments.length)},removeAttr:function(l){return this.each(function(){P.removeAttr(this,l)})}});P.extend({attr:function(l,x,F){var L,S,V=l.nodeType;if(3!==V&&8!==V&&2!==V){if("undefined"===typeof l.getAttribute)return P.prop(l,x,F);1===V&&P.isXMLDoc(l)||(S=P.attrHooks[x.toLowerCase()]||
(P.expr.match.bool.test(x)?fd:void 0));if(void 0!==F){if(null===F){P.removeAttr(l,x);return}if(S&&"set"in S&&void 0!==(L=S.set(l,F,x)))return L;l.setAttribute(x,F+"");return F}if(S&&"get"in S&&null!==(L=S.get(l,x)))return L;L=P.find.attr(l,x);return null==L?void 0:L}},attrHooks:{type:{set:function(l,x){if(!Pa.radioValue&&"radio"===x&&d(l,"input")){var F=l.value;l.setAttribute("type",x);F&&(l.value=F);return x}}}},removeAttr:function(l,x){var F=0,L=x&&x.match(Fb);if(L&&1===l.nodeType)for(;x=L[F++];)l.removeAttribute(x)}});
var fd={set:function(l,x,F){!1===x?P.removeAttr(l,F):l.setAttribute(F,F);return F}};P.each(P.expr.match.bool.source.match(/\w+/g),function(l,x){var F=Ac[x]||P.find.attr;Ac[x]=function(L,S,V){var X=S.toLowerCase();if(!V){var ma=Ac[X];Ac[X]=ca;var ca=null!=F(L,S,V)?X:null;Ac[X]=ma}return ca}});var gd=/^(?:input|select|textarea|button)$/i,Gc=/^(?:a|area)$/i;P.fn.extend({prop:function(l,x){return Tb(this,P.prop,l,x,1<arguments.length)},removeProp:function(l){return this.each(function(){delete this[P.propFix[l]||
l]})}});P.extend({prop:function(l,x,F){var L,S=l.nodeType;if(3!==S&&8!==S&&2!==S){if(1!==S||!P.isXMLDoc(l)){x=P.propFix[x]||x;var V=P.propHooks[x]}return void 0!==F?V&&"set"in V&&void 0!==(L=V.set(l,F,x))?L:l[x]=F:V&&"get"in V&&null!==(L=V.get(l,x))?L:l[x]}},propHooks:{tabIndex:{get:function(l){var x=P.find.attr(l,"tabindex");return x?parseInt(x,10):gd.test(l.nodeName)||Gc.test(l.nodeName)&&l.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});Pa.optSelected||(P.propHooks.selected={get:function(l){(l=
l.parentNode)&&l.parentNode&&l.parentNode.selectedIndex;return null},set:function(l){if(l=l.parentNode)l.selectedIndex,l.parentNode&&l.parentNode.selectedIndex}});P.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){P.propFix[this.toLowerCase()]=this});P.fn.extend({addClass:function(l){var x,F,L,S,V;if(Qa(l))return this.each(function(ma){P(this).addClass(l.call(this,ma,Ra(this)))});var X=wb(l);return X.length?this.each(function(){F=
Ra(this);if(x=1===this.nodeType&&" "+Ea(F)+" "){for(S=0;S<X.length;S++)L=X[S],0>x.indexOf(" "+L+" ")&&(x+=L+" ");V=Ea(x);F!==V&&this.setAttribute("class",V)}}):this},removeClass:function(l){var x,F,L,S,V;if(Qa(l))return this.each(function(ma){P(this).removeClass(l.call(this,ma,Ra(this)))});if(!arguments.length)return this.attr("class","");var X=wb(l);return X.length?this.each(function(){F=Ra(this);if(x=1===this.nodeType&&" "+Ea(F)+" "){for(S=0;S<X.length;S++)for(L=X[S];-1<x.indexOf(" "+L+" ");)x=
x.replace(" "+L+" "," ");V=Ea(x);F!==V&&this.setAttribute("class",V)}}):this},toggleClass:function(l,x){var F,L,S,V=typeof l,X="string"===V||Array.isArray(l);if(Qa(l))return this.each(function(ca){P(this).toggleClass(l.call(this,ca,Ra(this),x),x)});if("boolean"===typeof x&&X)return x?this.addClass(l):this.removeClass(l);var ma=wb(l);return this.each(function(){if(X)for(S=P(this),L=0;L<ma.length;L++)F=ma[L],S.hasClass(F)?S.removeClass(F):S.addClass(F);else if(void 0===l||"boolean"===V)(F=Ra(this))&&
ib.set(this,"__className__",F),this.setAttribute&&this.setAttribute("class",F||!1===l?"":ib.get(this,"__className__")||"")})},hasClass:function(l){var x,F=0;for(l=" "+l+" ";x=this[F++];)if(1===x.nodeType&&-1<(" "+Ea(Ra(x))+" ").indexOf(l))return!0;return!1}});var Vc=/\r/g;P.fn.extend({val:function(l){var x,F,L=this[0];if(arguments.length){var S=Qa(l);return this.each(function(V){1===this.nodeType&&(V=S?l.call(this,V,P(this).val()):l,null==V?V="":"number"===typeof V?V+="":Array.isArray(V)&&(V=P.map(V,
function(X){return null==X?"":X+""})),x=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()],x&&"set"in x&&void 0!==x.set(this,V,"value")||(this.value=V))})}if(L){if((x=P.valHooks[L.type]||P.valHooks[L.nodeName.toLowerCase()])&&"get"in x&&void 0!==(F=x.get(L,"value")))return F;F=L.value;return"string"===typeof F?F.replace(Vc,""):null==F?"":F}}});P.extend({valHooks:{option:{get:function(l){var x=P.find.attr(l,"value");return null!=x?x:Ea(P.text(l))}},select:{get:function(l){var x=l.options,
F=l.selectedIndex,L="select-one"===l.type,S=L?null:[],V=L?F+1:x.length;for(l=0>F?V:L?F:0;l<V;l++){var X=x[l];if(!(!X.selected&&l!==F||X.disabled||X.parentNode.disabled&&d(X.parentNode,"optgroup"))){X=P(X).val();if(L)return X;S.push(X)}}return S},set:function(l,x){for(var F,L=l.options,S=P.makeArray(x),V=L.length;V--;)if(x=L[V],x.selected=-1<P.inArray(P.valHooks.option.get(x),S))F=!0;F||(l.selectedIndex=-1);return S}}}});P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(l,x){if(Array.isArray(x))return l.checked=
-1<P.inArray(P(l).val(),x)}};Pa.checkOn||(P.valHooks[this].get=function(l){return null===l.getAttribute("value")?"on":l.value})});var Oc=z.location,Wc=Date.now(),Sc=/\?/;P.parseXML=function(l){if(!l||"string"!==typeof l)return null;try{var x=(new z.DOMParser).parseFromString(l,"text/xml")}catch(L){}var F=x&&x.getElementsByTagName("parsererror")[0];x&&!F||P.error("Invalid XML: "+(F?P.map(F.childNodes,function(L){return L.textContent}).join("\n"):l));return x};var Xc=/^(?:focusinfocus|focusoutblur)$/,
Yc=function(l){l.stopPropagation()};P.extend(P.event,{trigger:function(l,x,F,L){var S,V,X,ma=[F||sb],ca=lb.call(l,"type")?l.type:l;var da=lb.call(l,"namespace")?l.namespace.split("."):[];var Fa=X=S=F=F||sb;if(3!==F.nodeType&&8!==F.nodeType&&!Xc.test(ca+P.event.triggered)){-1<ca.indexOf(".")&&(da=ca.split("."),ca=da.shift(),da.sort());var Ma=0>ca.indexOf(":")&&"on"+ca;l=l[P.expando]?l:new P.Event(ca,"object"===typeof l&&l);l.isTrigger=L?2:3;l.namespace=da.join(".");l.rnamespace=l.namespace?new RegExp("(^|\\.)"+
da.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;l.result=void 0;l.target||(l.target=F);x=null==x?[l]:P.makeArray(x,[l]);da=P.event.special[ca]||{};if(L||!da.trigger||!1!==da.trigger.apply(F,x)){if(!L&&!da.noBubble&&!Ia(F)){var Sa=da.delegateType||ca;Xc.test(Sa+ca)||(Fa=Fa.parentNode);for(;Fa;Fa=Fa.parentNode)ma.push(Fa),S=Fa;S===(F.ownerDocument||sb)&&ma.push(S.defaultView||S.parentWindow||z)}for(S=0;(Fa=ma[S++])&&!l.isPropagationStopped();)X=Fa,l.type=1<S?Sa:da.bindType||ca,(V=(ib.get(Fa,"events")||Object.create(null))[l.type]&&
ib.get(Fa,"handle"))&&V.apply(Fa,x),(V=Ma&&Fa[Ma])&&V.apply&&Vb(Fa)&&(l.result=V.apply(Fa,x),!1===l.result&&l.preventDefault());l.type=ca;L||l.isDefaultPrevented()||da._default&&!1!==da._default.apply(ma.pop(),x)||!Vb(F)||!Ma||!Qa(F[ca])||Ia(F)||((S=F[Ma])&&(F[Ma]=null),P.event.triggered=ca,l.isPropagationStopped()&&X.addEventListener(ca,Yc),F[ca](),l.isPropagationStopped()&&X.removeEventListener(ca,Yc),P.event.triggered=void 0,S&&(F[Ma]=S));return l.result}}},simulate:function(l,x,F){l=P.extend(new P.Event,
F,{type:l,isSimulated:!0});P.event.trigger(l,null,x)}});P.fn.extend({trigger:function(l,x){return this.each(function(){P.event.trigger(l,x,this)})},triggerHandler:function(l,x){var F=this[0];if(F)return P.event.trigger(l,x,F,!0)}});var hd=/\[\]$/,Zc=/\r?\n/g,id=/^(?:submit|button|image|reset|file)$/i,jd=/^(?:input|select|textarea|keygen)/i;P.param=function(l,x){var F,L=[],S=function(V,X){X=Qa(X)?X():X;L[L.length]=encodeURIComponent(V)+"="+encodeURIComponent(null==X?"":X)};if(null==l)return"";if(Array.isArray(l)||
l.jquery&&!P.isPlainObject(l))P.each(l,function(){S(this.name,this.value)});else for(F in l)Ib(F,l[F],x,S);return L.join("&")};P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var l=P.prop(this,"elements");return l?P.makeArray(l):this}).filter(function(){var l=this.type;return this.name&&!P(this).is(":disabled")&&jd.test(this.nodeName)&&!id.test(l)&&(this.checked||!zc.test(l))}).map(function(l,x){l=P(this).val();return null==
l?null:Array.isArray(l)?P.map(l,function(F){return{name:x.name,value:F.replace(Zc,"\r\n")}}):{name:x.name,value:l.replace(Zc,"\r\n")}}).get()}});var kd=/%20/g,ld=/#.*$/,Nc=/([?&])_=[^&]*/,md=/^(.*?):[ \t]*([^\r\n]*)$/mg,nd=/^(?:GET|HEAD)$/,Tc=/^\/\//,$c={},Uc={},Pc="*/".concat("*"),Hc=sb.createElement("a");Hc.href=Oc.href;P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Oc.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Oc.protocol),global:!0,processData:!0,
async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(l,x){return x?Da(Da(l,P.ajaxSettings),
x):Da(P.ajaxSettings,l)},ajaxPrefilter:ra($c),ajaxTransport:ra(Uc),ajax:function(l,x){function F(xb,Wb,Zb,uc){var mc,Jb=Wb;if(!Ub){Ub=!0;X&&z.clearTimeout(X);L=void 0;S=uc||"";yb.readyState=0<xb?4:0;uc=200<=xb&&300>xb||304===xb;Zb&&(mc=Ga(da,yb,Zb));!uc&&-1<P.inArray("script",da.dataTypes)&&0>P.inArray("json",da.dataTypes)&&(da.converters["text script"]=function(){});mc=db(da,mc,yb,uc);if(uc)if(da.ifModified&&((Zb=yb.getResponseHeader("Last-Modified"))&&(P.lastModified[Kb]=Zb),(Zb=yb.getResponseHeader("etag"))&&
(P.etag[Kb]=Zb)),204===xb||"HEAD"===da.type)Jb="nocontent";else if(304===xb)Jb="notmodified";else{Jb=mc.state;var Bc=mc.data;var pc=mc.error;uc=!pc}else if(pc=Jb,xb||!Jb)Jb="error",0>xb&&(xb=0);yb.status=xb;yb.statusText=(Wb||Jb)+"";uc?Sa.resolveWith(Fa,[Bc,Jb,yb]):Sa.rejectWith(Fa,[yb,Jb,pc]);yb.statusCode(hb);hb=void 0;ma&&Ma.trigger(uc?"ajaxSuccess":"ajaxError",[yb,da,uc?Bc:pc]);gb.fireWith(Fa,[yb,Jb]);ma&&(Ma.trigger("ajaxComplete",[yb,da]),--P.active||P.event.trigger("ajaxStop"))}}"object"===
typeof l&&(x=l,l=void 0);x=x||{};var L,S,V,X,ma,ca,da=P.ajaxSetup({},x),Fa=da.context||da,Ma=da.context&&(Fa.nodeType||Fa.jquery)?P(Fa):P.event,Sa=P.Deferred(),gb=P.Callbacks("once memory"),hb=da.statusCode||{},Bb={},Cb={},$b="canceled",yb={readyState:0,getResponseHeader:function(xb){var Wb;if(Ub){if(!V)for(V={};Wb=md.exec(S);)V[Wb[1].toLowerCase()+" "]=(V[Wb[1].toLowerCase()+" "]||[]).concat(Wb[2]);Wb=V[xb.toLowerCase()+" "]}return null==Wb?null:Wb.join(", ")},getAllResponseHeaders:function(){return Ub?
S:null},setRequestHeader:function(xb,Wb){null==Ub&&(xb=Cb[xb.toLowerCase()]=Cb[xb.toLowerCase()]||xb,Bb[xb]=Wb);return this},overrideMimeType:function(xb){null==Ub&&(da.mimeType=xb);return this},statusCode:function(xb){var Wb;if(xb)if(Ub)yb.always(xb[yb.status]);else for(Wb in xb)hb[Wb]=[hb[Wb],xb[Wb]];return this},abort:function(xb){xb=xb||$b;L&&L.abort(xb);F(0,xb);return this}};Sa.promise(yb);da.url=((l||da.url||Oc.href)+"").replace(Tc,Oc.protocol+"//");da.type=x.method||x.type||da.method||da.type;
da.dataTypes=(da.dataType||"*").toLowerCase().match(Fb)||[""];if(null==da.crossDomain){l=sb.createElement("a");try{l.href=da.url,l.href=l.href,da.crossDomain=Hc.protocol+"//"+Hc.host!==l.protocol+"//"+l.host}catch(xb){da.crossDomain=!0}}da.data&&da.processData&&"string"!==typeof da.data&&(da.data=P.param(da.data,da.traditional));za($c,da,x,yb);if(Ub)return yb;(ma=P.event&&da.global)&&0===P.active++&&P.event.trigger("ajaxStart");da.type=da.type.toUpperCase();da.hasContent=!nd.test(da.type);var Kb=
da.url.replace(ld,"");da.hasContent?da.data&&da.processData&&0===(da.contentType||"").indexOf("application/x-www-form-urlencoded")&&(da.data=da.data.replace(kd,"+")):(l=da.url.slice(Kb.length),da.data&&(da.processData||"string"===typeof da.data)&&(Kb+=(Sc.test(Kb)?"&":"?")+da.data,delete da.data),!1===da.cache&&(Kb=Kb.replace(Nc,"$1"),l=(Sc.test(Kb)?"&":"?")+"_="+Wc++ +l),da.url=Kb+l);da.ifModified&&(P.lastModified[Kb]&&yb.setRequestHeader("If-Modified-Since",P.lastModified[Kb]),P.etag[Kb]&&yb.setRequestHeader("If-None-Match",
P.etag[Kb]));(da.data&&da.hasContent&&!1!==da.contentType||x.contentType)&&yb.setRequestHeader("Content-Type",da.contentType);yb.setRequestHeader("Accept",da.dataTypes[0]&&da.accepts[da.dataTypes[0]]?da.accepts[da.dataTypes[0]]+("*"!==da.dataTypes[0]?", "+Pc+"; q=0.01":""):da.accepts["*"]);for(ca in da.headers)yb.setRequestHeader(ca,da.headers[ca]);if(da.beforeSend&&(!1===da.beforeSend.call(Fa,yb,da)||Ub))return yb.abort();$b="abort";gb.add(da.complete);yb.done(da.success);yb.fail(da.error);if(L=
za(Uc,da,x,yb)){yb.readyState=1;ma&&Ma.trigger("ajaxSend",[yb,da]);if(Ub)return yb;da.async&&0<da.timeout&&(X=z.setTimeout(function(){yb.abort("timeout")},da.timeout));try{var Ub=!1;L.send(Bb,F)}catch(xb){if(Ub)throw xb;F(-1,xb)}}else F(-1,"No Transport");return yb},getJSON:function(l,x,F){return P.get(l,x,F,"json")},getScript:function(l,x){return P.get(l,void 0,x,"script")}});P.each(["get","post"],function(l,x){P[x]=function(F,L,S,V){Qa(L)&&(V=V||S,S=L,L=void 0);return P.ajax(P.extend({url:F,type:x,
dataType:V,data:L,success:S},P.isPlainObject(F)&&F))}});P.ajaxPrefilter(function(l){for(var x in l.headers)"content-type"===x.toLowerCase()&&(l.contentType=l.headers[x]||"")});P._evalUrl=function(l,x,F){return P.ajax({url:l,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(L){P.globalEval(L,x,F)}})};P.fn.extend({wrapAll:function(l){this[0]&&(Qa(l)&&(l=l.call(this[0])),l=P(l,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&
l.insertBefore(this[0]),l.map(function(){for(var x=this;x.firstElementChild;)x=x.firstElementChild;return x}).append(this));return this},wrapInner:function(l){return Qa(l)?this.each(function(x){P(this).wrapInner(l.call(this,x))}):this.each(function(){var x=P(this),F=x.contents();F.length?F.wrapAll(l):x.append(l)})},wrap:function(l){var x=Qa(l);return this.each(function(F){P(this).wrapAll(x?l.call(this,F):l)})},unwrap:function(l){this.parent(l).not("body").each(function(){P(this).replaceWith(this.childNodes)});
return this}});P.expr.pseudos.hidden=function(l){return!P.expr.pseudos.visible(l)};P.expr.pseudos.visible=function(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)};P.ajaxSettings.xhr=function(){try{return new z.XMLHttpRequest}catch(l){}};var od={0:200,1223:204},Qc=P.ajaxSettings.xhr();Pa.cors=!!Qc&&"withCredentials"in Qc;Pa.ajax=Qc=!!Qc;P.ajaxTransport(function(l){var x,F;if(Pa.cors||Qc&&!l.crossDomain)return{send:function(L,S){var V,X=l.xhr();X.open(l.type,l.url,l.async,l.username,
l.password);if(l.xhrFields)for(V in l.xhrFields)X[V]=l.xhrFields[V];l.mimeType&&X.overrideMimeType&&X.overrideMimeType(l.mimeType);l.crossDomain||L["X-Requested-With"]||(L["X-Requested-With"]="XMLHttpRequest");for(V in L)X.setRequestHeader(V,L[V]);x=function(ma){return function(){x&&(x=F=X.onload=X.onerror=X.onabort=X.ontimeout=X.onreadystatechange=null,"abort"===ma?X.abort():"error"===ma?"number"!==typeof X.status?S(0,"error"):S(X.status,X.statusText):S(od[X.status]||X.status,X.statusText,"text"!==
(X.responseType||"text")||"string"!==typeof X.responseText?{binary:X.response}:{text:X.responseText},X.getAllResponseHeaders()))}};X.onload=x();F=X.onerror=X.ontimeout=x("error");void 0!==X.onabort?X.onabort=F:X.onreadystatechange=function(){4===X.readyState&&z.setTimeout(function(){x&&F()})};x=x("abort");try{X.send(l.hasContent&&l.data||null)}catch(ma){if(x)throw ma;}},abort:function(){x&&x()}}});P.ajaxPrefilter(function(l){l.crossDomain&&(l.contents.script=!1)});P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(l){P.globalEval(l);return l}}});P.ajaxPrefilter("script",function(l){void 0===l.cache&&(l.cache=!1);l.crossDomain&&(l.type="GET")});P.ajaxTransport("script",function(l){if(l.crossDomain||l.scriptAttrs){var x,F;return{send:function(L,S){x=P("<script>").attr(l.scriptAttrs||{}).prop({charset:l.scriptCharset,src:l.url}).on("load error",F=function(V){x.remove();F=null;V&&S("error"===V.type?404:200,V.type)});sb.head.appendChild(x[0])},
abort:function(){F&&F()}}}});var Rc=[],t=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var l=Rc.pop()||P.expando+"_"+Wc++;this[l]=!0;return l}});P.ajaxPrefilter("json jsonp",function(l,x,F){var L,S=!1!==l.jsonp&&(t.test(l.url)?"url":"string"===typeof l.data&&0===(l.contentType||"").indexOf("application/x-www-form-urlencoded")&&t.test(l.data)&&"data");if(S||"jsonp"===l.dataTypes[0]){var V=l.jsonpCallback=Qa(l.jsonpCallback)?l.jsonpCallback():l.jsonpCallback;S?l[S]=l[S].replace(t,
"$1"+V):!1!==l.jsonp&&(l.url+=(Sc.test(l.url)?"&":"?")+l.jsonp+"="+V);l.converters["script json"]=function(){L||P.error(V+" was not called");return L[0]};l.dataTypes[0]="json";var X=z[V];z[V]=function(){L=arguments};F.always(function(){void 0===X?P(z).removeProp(V):z[V]=X;l[V]&&(l.jsonpCallback=x.jsonpCallback,Rc.push(V));L&&Qa(X)&&X(L[0]);L=X=void 0});return"script"}});Pa.createHTMLDocument=function(){var l=sb.implementation.createHTMLDocument("").body;l.innerHTML="<form></form><form></form>";return 2===
l.childNodes.length}();P.parseHTML=function(l,x,F){if("string"!==typeof l)return[];"boolean"===typeof x&&(F=x,x=!1);if(!x)if(Pa.createHTMLDocument){x=sb.implementation.createHTMLDocument("");var L=x.createElement("base");L.href=sb.location.href;x.head.appendChild(L)}else x=sb;L=cc.exec(l);F=!F&&[];if(L)return[x.createElement(L[1])];L=N([l],x,F);F&&F.length&&P(F).remove();return P.merge([],L.childNodes)};P.fn.load=function(l,x,F){var L,S,V=this,X=l.indexOf(" ");if(-1<X){var ma=Ea(l.slice(X));l=l.slice(0,
X)}Qa(x)?(F=x,x=void 0):x&&"object"===typeof x&&(L="POST");0<V.length&&P.ajax({url:l,type:L||"GET",dataType:"html",data:x}).done(function(ca){S=arguments;V.html(ma?P("<div>").append(P.parseHTML(ca)).find(ma):ca)}).always(F&&function(ca,da){V.each(function(){F.apply(this,S||[ca.responseText,da,ca])})});return this};P.expr.pseudos.animated=function(l){return P.grep(P.timers,function(x){return l===x.elem}).length};P.offset={setOffset:function(l,x,F){var L=P.css(l,"position"),S=P(l),V={};"static"===L&&
(l.style.position="relative");var X=S.offset();var ma=P.css(l,"top");var ca=P.css(l,"left");("absolute"===L||"fixed"===L)&&-1<(ma+ca).indexOf("auto")?(ca=S.position(),ma=ca.top,ca=ca.left):(ma=parseFloat(ma)||0,ca=parseFloat(ca)||0);Qa(x)&&(x=x.call(l,F,P.extend({},X)));null!=x.top&&(V.top=x.top-X.top+ma);null!=x.left&&(V.left=x.left-X.left+ca);"using"in x?x.using.call(l,V):S.css(V)}};P.fn.extend({offset:function(l){if(arguments.length)return void 0===l?this:this.each(function(L){P.offset.setOffset(this,
l,L)});var x;if(x=this[0]){if(!x.getClientRects().length)return{top:0,left:0};var F=x.getBoundingClientRect();x=x.ownerDocument.defaultView;return{top:F.top+x.pageYOffset,left:F.left+x.pageXOffset}}},position:function(){if(this[0]){var l,x=this[0],F={top:0,left:0};if("fixed"===P.css(x,"position"))var L=x.getBoundingClientRect();else{L=this.offset();var S=x.ownerDocument;for(l=x.offsetParent||S.documentElement;l&&(l===S.body||l===S.documentElement)&&"static"===P.css(l,"position");)l=l.parentNode;l&&
l!==x&&1===l.nodeType&&(F=P(l).offset(),F.top+=P.css(l,"borderTopWidth",!0),F.left+=P.css(l,"borderLeftWidth",!0))}return{top:L.top-F.top-P.css(x,"marginTop",!0),left:L.left-F.left-P.css(x,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var l=this.offsetParent;l&&"static"===P.css(l,"position");)l=l.offsetParent;return l||nc})}});P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(l,x){var F="pageYOffset"===x;P.fn[l]=function(L){return Tb(this,function(S,V,
X){if(Ia(S))var ma=S;else 9===S.nodeType&&(ma=S.defaultView);if(void 0===X)return ma?ma[x]:S[V];ma?ma.scrollTo(F?ma.pageXOffset:X,F?X:ma.pageYOffset):S[V]=X},l,L,arguments.length)}});P.each(["top","left"],function(l,x){P.cssHooks[x]=ka(Pa.pixelPosition,function(F,L){if(L)return L=Q(F,x),Ba.test(L)?P(F).position()[x]+"px":L})});P.each({Height:"height",Width:"width"},function(l,x){P.each({padding:"inner"+l,content:x,"":"outer"+l},function(F,L){P.fn[L]=function(S,V){var X=arguments.length&&(F||"boolean"!==
typeof S),ma=F||(!0===S||!0===V?"margin":"border");return Tb(this,function(ca,da,Fa){return Ia(ca)?0===L.indexOf("outer")?ca["inner"+l]:ca.document.documentElement["client"+l]:9===ca.nodeType?(da=ca.documentElement,Math.max(ca.body["scroll"+l],da["scroll"+l],ca.body["offset"+l],da["offset"+l],da["client"+l])):void 0===Fa?P.css(ca,da,ma):P.style(ca,da,Fa,ma)},x,X?S:void 0,X)}})});P.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(l,x){P.fn[x]=function(F){return this.on(x,
F)}});P.fn.extend({bind:function(l,x,F){return this.on(l,null,x,F)},unbind:function(l,x){return this.off(l,null,x)},delegate:function(l,x,F,L){return this.on(x,l,F,L)},undelegate:function(l,x,F){return 1===arguments.length?this.off(l,"**"):this.off(x,l||"**",F)},hover:function(l,x){return this.on("mouseenter",l).on("mouseleave",x||l)}});P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(l,x){P.fn[x]=function(F,L){return 0<arguments.length?this.on(x,null,F,L):this.trigger(x)}});var M=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(l,x){if("string"===typeof x){var F=l[x];x=l;l=F}if(Qa(l)){var L=Oa.call(arguments,2);F=function(){return l.apply(x||this,L.concat(Oa.call(arguments)))};F.guid=l.guid=l.guid||P.guid++;return F}};P.holdReady=function(l){l?P.readyWait++:P.ready(!0)};P.isArray=Array.isArray;P.parseJSON=JSON.parse;P.nodeName=d;P.isFunction=Qa;
P.isWindow=Ia;P.camelCase=e;P.type=E;P.now=Date.now;P.isNumeric=function(l){var x=P.type(l);return("number"===x||"string"===x)&&!isNaN(l-parseFloat(l))};P.trim=function(l){return null==l?"":(l+"").replace(M,"$1")};var W=z.jQuery,na=z.$;P.noConflict=function(l){z.$===P&&(z.$=na);l&&z.jQuery===P&&(z.jQuery=W);return P};"undefined"===typeof k&&(z.jQuery=z.$=P);return P})},{}],297:[function(g,K,D){D=g("./lib/utils/common").assign;var z=g("./lib/deflate"),k=g("./lib/inflate");g=g("./lib/zlib/constants");
var v={};D(v,z,k,g);K.exports=v},{"./lib/deflate":298,"./lib/inflate":299,"./lib/utils/common":300,"./lib/zlib/constants":303}],298:[function(g,K,D){function z(m){if(!(this instanceof z))return new z(m);m=this.options=E.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},m||{});m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&16>m.windowBits&&(m.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new w;this.strm.avail_out=
0;var q=v.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(0!==q)throw Error(d[q]);m.header&&v.deflateSetHeader(this.strm,m.header);if(m.dictionary){m="string"===typeof m.dictionary?b.string2buf(m.dictionary):"[object ArrayBuffer]"===a.call(m.dictionary)?new Uint8Array(m.dictionary):m.dictionary;q=v.deflateSetDictionary(this.strm,m);if(0!==q)throw Error(d[q]);this._dict_set=!0}}function k(m,q){q=new z(q);q.push(m,!0);if(q.err)throw q.msg||d[q.err];return q.result}var v=
g("./zlib/deflate"),E=g("./utils/common"),b=g("./utils/strings"),d=g("./zlib/messages"),w=g("./zlib/zstream"),a=Object.prototype.toString;z.prototype.push=function(m,q){var r=this.strm,h=this.options.chunkSize;if(this.ended)return!1;q=q===~~q?q:!0===q?4:0;"string"===typeof m?r.input=b.string2buf(m):"[object ArrayBuffer]"===a.call(m)?r.input=new Uint8Array(m):r.input=m;r.next_in=0;r.avail_in=r.input.length;do{0===r.avail_out&&(r.output=new E.Buf8(h),r.next_out=0,r.avail_out=h);m=v.deflate(r,q);if(1!==
m&&0!==m)return this.onEnd(m),this.ended=!0,!1;if(0===r.avail_out||0===r.avail_in&&(4===q||2===q))if("string"===this.options.to)this.onData(b.buf2binstring(E.shrinkBuf(r.output,r.next_out)));else this.onData(E.shrinkBuf(r.output,r.next_out))}while((0<r.avail_in||0===r.avail_out)&&1!==m);if(4===q)return m=v.deflateEnd(this.strm),this.onEnd(m),this.ended=!0,0===m;2===q&&(this.onEnd(0),r.avail_out=0);return!0};z.prototype.onData=function(m){this.chunks.push(m)};z.prototype.onEnd=function(m){0===m&&(this.result=
"string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=m;this.msg=this.strm.msg};D.Deflate=z;D.deflate=k;D.deflateRaw=function(m,q){q=q||{};q.raw=!0;return k(m,q)};D.gzip=function(m,q){q=q||{};q.gzip=!0;return k(m,q)}},{"./utils/common":300,"./utils/strings":301,"./zlib/deflate":305,"./zlib/messages":310,"./zlib/zstream":312}],299:[function(g,K,D){function z(r){if(!(this instanceof z))return new z(r);var h=this.options=E.assign({chunkSize:16384,windowBits:0,
to:""},r||{});h.raw&&0<=h.windowBits&&16>h.windowBits&&(h.windowBits=-h.windowBits,0===h.windowBits&&(h.windowBits=-15));!(0<=h.windowBits&&16>h.windowBits)||r&&r.windowBits||(h.windowBits+=32);15<h.windowBits&&48>h.windowBits&&0===(h.windowBits&15)&&(h.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new a;this.strm.avail_out=0;r=v.inflateInit2(this.strm,h.windowBits);if(r!==d.Z_OK)throw Error(w[r]);this.header=new m;v.inflateGetHeader(this.strm,this.header);if(h.dictionary&&
("string"===typeof h.dictionary?h.dictionary=b.string2buf(h.dictionary):"[object ArrayBuffer]"===q.call(h.dictionary)&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(r=v.inflateSetDictionary(this.strm,h.dictionary),r!==d.Z_OK)))throw Error(w[r]);}function k(r,h){h=new z(h);h.push(r,!0);if(h.err)throw h.msg||w[h.err];return h.result}var v=g("./zlib/inflate"),E=g("./utils/common"),b=g("./utils/strings"),d=g("./zlib/constants"),w=g("./zlib/messages"),a=g("./zlib/zstream"),m=g("./zlib/gzheader"),
q=Object.prototype.toString;z.prototype.push=function(r,h){var c=this.strm,f=this.options.chunkSize,p=this.options.dictionary,e=!1;if(this.ended)return!1;h=h===~~h?h:!0===h?d.Z_FINISH:d.Z_NO_FLUSH;"string"===typeof r?c.input=b.binstring2buf(r):"[object ArrayBuffer]"===q.call(r)?c.input=new Uint8Array(r):c.input=r;c.next_in=0;c.avail_in=c.input.length;do{0===c.avail_out&&(c.output=new E.Buf8(f),c.next_out=0,c.avail_out=f);r=v.inflate(c,d.Z_NO_FLUSH);r===d.Z_NEED_DICT&&p&&(r=v.inflateSetDictionary(this.strm,
p));r===d.Z_BUF_ERROR&&!0===e&&(r=d.Z_OK,e=!1);if(r!==d.Z_STREAM_END&&r!==d.Z_OK)return this.onEnd(r),this.ended=!0,!1;if(c.next_out&&(0===c.avail_out||r===d.Z_STREAM_END||0===c.avail_in&&(h===d.Z_FINISH||h===d.Z_SYNC_FLUSH)))if("string"===this.options.to){var n=b.utf8border(c.output,c.next_out);var u=c.next_out-n;var A=b.buf2string(c.output,n);c.next_out=u;c.avail_out=f-u;u&&E.arraySet(c.output,c.output,n,u,0);this.onData(A)}else this.onData(E.shrinkBuf(c.output,c.next_out));0===c.avail_in&&0===
c.avail_out&&(e=!0)}while((0<c.avail_in||0===c.avail_out)&&r!==d.Z_STREAM_END);r===d.Z_STREAM_END&&(h=d.Z_FINISH);if(h===d.Z_FINISH)return r=v.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===d.Z_OK;h===d.Z_SYNC_FLUSH&&(this.onEnd(d.Z_OK),c.avail_out=0);return!0};z.prototype.onData=function(r){this.chunks.push(r)};z.prototype.onEnd=function(r){r===d.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=r;this.msg=this.strm.msg};
D.Inflate=z;D.inflate=k;D.inflateRaw=function(r,h){h=h||{};h.raw=!0;return k(r,h)};D.ungzip=k},{"./utils/common":300,"./utils/strings":301,"./zlib/constants":303,"./zlib/gzheader":306,"./zlib/inflate":308,"./zlib/messages":310,"./zlib/zstream":312}],300:[function(g,K,D){g="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;D.assign=function(v){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var b=E.shift();if(b){if("object"!==typeof b)throw new TypeError(b+
"must be non-object");for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(v[d]=b[d])}}return v};D.shrinkBuf=function(v,E){if(v.length===E)return v;if(v.subarray)return v.subarray(0,E);v.length=E;return v};var z={arraySet:function(v,E,b,d,w){if(E.subarray&&v.subarray)v.set(E.subarray(b,b+d),w);else for(var a=0;a<d;a++)v[w+a]=E[b+a]},flattenChunks:function(v){var E,b;var d=b=0;for(E=v.length;d<E;d++)b+=v[d].length;var w=new Uint8Array(b);d=b=0;for(E=v.length;d<E;d++){var a=v[d];w.set(a,b);b+=
a.length}return w}},k={arraySet:function(v,E,b,d,w){for(var a=0;a<d;a++)v[w+a]=E[b+a]},flattenChunks:function(v){return[].concat.apply([],v)}};D.setTyped=function(v){v?(D.Buf8=Uint8Array,D.Buf16=Uint16Array,D.Buf32=Int32Array,D.assign(D,z)):(D.Buf8=Array,D.Buf16=Array,D.Buf32=Array,D.assign(D,k))};D.setTyped(g)},{}],301:[function(g,K,D){function z(d,w){if(65534>w&&(d.subarray&&E||!d.subarray&&v))return String.fromCharCode.apply(null,k.shrinkBuf(d,w));for(var a="",m=0;m<w;m++)a+=String.fromCharCode(d[m]);
return a}var k=g("./common"),v=!0,E=!0;try{String.fromCharCode.apply(null,[0])}catch(d){v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(d){E=!1}var b=new k.Buf8(256);for(g=0;256>g;g++)b[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;b[254]=b[254]=1;D.string2buf=function(d){var w,a,m=d.length,q=0;for(w=0;w<m;w++){var r=d.charCodeAt(w);if(55296===(r&64512)&&w+1<m){var h=d.charCodeAt(w+1);56320===(h&64512)&&(r=65536+(r-55296<<10)+(h-56320),w++)}q+=128>r?1:2048>r?2:65536>r?3:4}var c=
new k.Buf8(q);for(w=a=0;a<q;w++)r=d.charCodeAt(w),55296===(r&64512)&&w+1<m&&(h=d.charCodeAt(w+1),56320===(h&64512)&&(r=65536+(r-55296<<10)+(h-56320),w++)),128>r?c[a++]=r:(2048>r?c[a++]=192|r>>>6:(65536>r?c[a++]=224|r>>>12:(c[a++]=240|r>>>18,c[a++]=128|r>>>12&63),c[a++]=128|r>>>6&63),c[a++]=128|r&63);return c};D.buf2binstring=function(d){return z(d,d.length)};D.binstring2buf=function(d){for(var w=new k.Buf8(d.length),a=0,m=w.length;a<m;a++)w[a]=d.charCodeAt(a);return w};D.buf2string=function(d,w){var a,
m=w||d.length,q=Array(2*m);for(w=a=0;w<m;){var r=d[w++];if(128>r)q[a++]=r;else{var h=b[r];if(4<h)q[a++]=65533,w+=h-1;else{for(r&=2===h?31:3===h?15:7;1<h&&w<m;)r=r<<6|d[w++]&63,h--;1<h?q[a++]=65533:65536>r?q[a++]=r:(r-=65536,q[a++]=55296|r>>10&1023,q[a++]=56320|r&1023)}}}return z(q,a)};D.utf8border=function(d,w){var a;w=w||d.length;w>d.length&&(w=d.length);for(a=w-1;0<=a&&128===(d[a]&192);)a--;return 0>a||0===a?w:a+b[d[a]]>w?a:w}},{"./common":300}],302:[function(g,K,D){K.exports=function(z,k,v,E){var b=
z&65535|0;z=z>>>16&65535|0;for(var d;0!==v;){d=2E3<v?2E3:v;v-=d;do b=b+k[E++]|0,z=z+b|0;while(--d);b%=65521;z%=65521}return b|z<<16|0}},{}],303:[function(g,K,D){K.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,
Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],304:[function(g,K,D){var z=function(){for(var k,v=[],E=0;256>E;E++){k=E;for(var b=0;8>b;b++)k=k&1?3988292384^k>>>1:k>>>1;v[E]=k}return v}();K.exports=function(k,v,E,b){E=b+E;for(k^=-1;b<E;b++)k=k>>>8^z[(k^v[b])&255];return k^-1}},{}],305:[function(g,K,D){function z(y,G){y.msg=I[G];return G}function k(y){for(var G=y.length;0<=--G;)y[G]=0}function v(y){var G=y.state,H=G.pending;H>y.avail_out&&(H=y.avail_out);0!==H&&(u.arraySet(y.output,G.pending_buf,
G.pending_out,H,y.next_out),y.next_out+=H,G.pending_out+=H,y.total_out+=H,y.avail_out-=H,G.pending-=H,0===G.pending&&(G.pending_out=0))}function E(y,G){A._tr_flush_block(y,0<=y.block_start?y.block_start:-1,y.strstart-y.block_start,G);y.block_start=y.strstart;v(y.strm)}function b(y,G){y.pending_buf[y.pending++]=G}function d(y,G){y.pending_buf[y.pending++]=G>>>8&255;y.pending_buf[y.pending++]=G&255}function w(y,G){var H=y.max_chain_length,O=y.strstart,J=y.prev_length,R=y.nice_match,ea=y.strstart>y.w_size-
262?y.strstart-(y.w_size-262):0,Y=y.window,qa=y.w_mask,la=y.prev,Q=y.strstart+258,ka=Y[O+J-1],oa=Y[O+J];y.prev_length>=y.good_match&&(H>>=2);R>y.lookahead&&(R=y.lookahead);do{var ya=G;if(Y[ya+J]===oa&&Y[ya+J-1]===ka&&Y[ya]===Y[O]&&Y[++ya]===Y[O+1]){O+=2;for(ya++;Y[++O]===Y[++ya]&&Y[++O]===Y[++ya]&&Y[++O]===Y[++ya]&&Y[++O]===Y[++ya]&&Y[++O]===Y[++ya]&&Y[++O]===Y[++ya]&&Y[++O]===Y[++ya]&&Y[++O]===Y[++ya]&&O<Q;);ya=258-(Q-O);O=Q-258;if(ya>J){y.match_start=G;J=ya;if(ya>=R)break;ka=Y[O+J-1];oa=Y[O+J]}}}while((G=
la[G&qa])>ea&&0!==--H);return J<=y.lookahead?J:y.lookahead}function a(y){var G=y.w_size,H;do{var O=y.window_size-y.lookahead-y.strstart;if(y.strstart>=G+(G-262)){u.arraySet(y.window,y.window,G,G,0);y.match_start-=G;y.strstart-=G;y.block_start-=G;var J=H=y.hash_size;do{var R=y.head[--J];y.head[J]=R>=G?R-G:0}while(--H);J=H=G;do R=y.prev[--J],y.prev[J]=R>=G?R-G:0;while(--H);O+=G}if(0===y.strm.avail_in)break;J=y.strm;H=y.window;R=y.strstart+y.lookahead;var ea=J.avail_in;ea>O&&(ea=O);0===ea?H=0:(J.avail_in-=
ea,u.arraySet(H,J.input,J.next_in,ea,R),1===J.state.wrap?J.adler=C(J.adler,H,ea,R):2===J.state.wrap&&(J.adler=B(J.adler,H,ea,R)),J.next_in+=ea,J.total_in+=ea,H=ea);y.lookahead+=H;if(3<=y.lookahead+y.insert)for(O=y.strstart-y.insert,y.ins_h=y.window[O],y.ins_h=(y.ins_h<<y.hash_shift^y.window[O+1])&y.hash_mask;y.insert&&!(y.ins_h=(y.ins_h<<y.hash_shift^y.window[O+3-1])&y.hash_mask,y.prev[O&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=O,O++,y.insert--,3>y.lookahead+y.insert););}while(262>y.lookahead&&0!==
y.strm.avail_in)}function m(y,G){for(var H;;){if(262>y.lookahead){a(y);if(262>y.lookahead&&0===G)return 1;if(0===y.lookahead)break}H=0;3<=y.lookahead&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+3-1])&y.hash_mask,H=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart);0!==H&&y.strstart-H<=y.w_size-262&&(y.match_length=w(y,H));if(3<=y.match_length)if(H=A._tr_tally(y,y.strstart-y.match_start,y.match_length-3),y.lookahead-=y.match_length,y.match_length<=y.max_lazy_match&&3<=
y.lookahead){y.match_length--;do y.strstart++,y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+3-1])&y.hash_mask,y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart;while(0!==--y.match_length);y.strstart++}else y.strstart+=y.match_length,y.match_length=0,y.ins_h=y.window[y.strstart],y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+1])&y.hash_mask;else H=A._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++;if(H&&(E(y,!1),0===y.strm.avail_out))return 1}y.insert=2>
y.strstart?y.strstart:2;return 4===G?(E(y,!0),0===y.strm.avail_out?3:4):y.last_lit&&(E(y,!1),0===y.strm.avail_out)?1:2}function q(y,G){for(var H,O;;){if(262>y.lookahead){a(y);if(262>y.lookahead&&0===G)return 1;if(0===y.lookahead)break}H=0;3<=y.lookahead&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+3-1])&y.hash_mask,H=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart);y.prev_length=y.match_length;y.prev_match=y.match_start;y.match_length=2;0!==H&&y.prev_length<y.max_lazy_match&&
y.strstart-H<=y.w_size-262&&(y.match_length=w(y,H),5>=y.match_length&&(1===y.strategy||3===y.match_length&&4096<y.strstart-y.match_start)&&(y.match_length=2));if(3<=y.prev_length&&y.match_length<=y.prev_length){O=y.strstart+y.lookahead-3;H=A._tr_tally(y,y.strstart-1-y.prev_match,y.prev_length-3);y.lookahead-=y.prev_length-1;y.prev_length-=2;do++y.strstart<=O&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+3-1])&y.hash_mask,y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart);
while(0!==--y.prev_length);y.match_available=0;y.match_length=2;y.strstart++;if(H&&(E(y,!1),0===y.strm.avail_out))return 1}else if(y.match_available){if((H=A._tr_tally(y,0,y.window[y.strstart-1]))&&E(y,!1),y.strstart++,y.lookahead--,0===y.strm.avail_out)return 1}else y.match_available=1,y.strstart++,y.lookahead--}y.match_available&&(A._tr_tally(y,0,y.window[y.strstart-1]),y.match_available=0);y.insert=2>y.strstart?y.strstart:2;return 4===G?(E(y,!0),0===y.strm.avail_out?3:4):y.last_lit&&(E(y,!1),0===
y.strm.avail_out)?1:2}function r(y,G){for(var H,O,J,R=y.window;;){if(258>=y.lookahead){a(y);if(258>=y.lookahead&&0===G)return 1;if(0===y.lookahead)break}y.match_length=0;if(3<=y.lookahead&&0<y.strstart&&(O=y.strstart-1,H=R[O],H===R[++O]&&H===R[++O]&&H===R[++O])){for(J=y.strstart+258;H===R[++O]&&H===R[++O]&&H===R[++O]&&H===R[++O]&&H===R[++O]&&H===R[++O]&&H===R[++O]&&H===R[++O]&&O<J;);y.match_length=258-(J-O);y.match_length>y.lookahead&&(y.match_length=y.lookahead)}3<=y.match_length?(H=A._tr_tally(y,
1,y.match_length-3),y.lookahead-=y.match_length,y.strstart+=y.match_length,y.match_length=0):(H=A._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++);if(H&&(E(y,!1),0===y.strm.avail_out))return 1}y.insert=0;return 4===G?(E(y,!0),0===y.strm.avail_out?3:4):y.last_lit&&(E(y,!1),0===y.strm.avail_out)?1:2}function h(y,G){for(var H;;){if(0===y.lookahead&&(a(y),0===y.lookahead)){if(0===G)return 1;break}y.match_length=0;H=A._tr_tally(y,0,y.window[y.strstart]);y.lookahead--;y.strstart++;if(H&&
(E(y,!1),0===y.strm.avail_out))return 1}y.insert=0;return 4===G?(E(y,!0),0===y.strm.avail_out?3:4):y.last_lit&&(E(y,!1),0===y.strm.avail_out)?1:2}function c(y,G,H,O,J){this.good_length=y;this.max_lazy=G;this.nice_length=H;this.max_chain=O;this.func=J}function f(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=
0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new u.Buf16(1146);this.dyn_dtree=new u.Buf16(122);this.bl_tree=new u.Buf16(78);k(this.dyn_ltree);k(this.dyn_dtree);k(this.bl_tree);this.bl_desc=this.d_desc=
this.l_desc=null;this.bl_count=new u.Buf16(16);this.heap=new u.Buf16(573);k(this.heap);this.heap_max=this.heap_len=0;this.depth=new u.Buf16(573);k(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function p(y){if(!y||!y.state)return z(y,-2);y.total_in=y.total_out=0;y.data_type=2;var G=y.state;G.pending=0;G.pending_out=0;0>G.wrap&&(G.wrap=-G.wrap);G.status=G.wrap?42:113;y.adler=2===G.wrap?0:1;G.last_flush=
0;A._tr_init(G);return 0}function e(y){var G=p(y);0===G&&(y=y.state,y.window_size=2*y.w_size,k(y.head),y.max_lazy_match=N[y.level].max_lazy,y.good_match=N[y.level].good_length,y.nice_match=N[y.level].nice_length,y.max_chain_length=N[y.level].max_chain,y.strstart=0,y.block_start=0,y.lookahead=0,y.insert=0,y.match_length=y.prev_length=2,y.match_available=0,y.ins_h=0);return G}function n(y,G,H,O,J,R){if(!y)return-2;var ea=1;-1===G&&(G=6);0>O?(ea=0,O=-O):15<O&&(ea=2,O-=16);if(1>J||9<J||8!==H||8>O||15<
O||0>G||9<G||0>R||4<R)return z(y,-2);8===O&&(O=9);var Y=new f;y.state=Y;Y.strm=y;Y.wrap=ea;Y.gzhead=null;Y.w_bits=O;Y.w_size=1<<Y.w_bits;Y.w_mask=Y.w_size-1;Y.hash_bits=J+7;Y.hash_size=1<<Y.hash_bits;Y.hash_mask=Y.hash_size-1;Y.hash_shift=~~((Y.hash_bits+3-1)/3);Y.window=new u.Buf8(2*Y.w_size);Y.head=new u.Buf16(Y.hash_size);Y.prev=new u.Buf16(Y.w_size);Y.lit_bufsize=1<<J+6;Y.pending_buf_size=4*Y.lit_bufsize;Y.pending_buf=new u.Buf8(Y.pending_buf_size);Y.d_buf=1*Y.lit_bufsize;Y.l_buf=3*Y.lit_bufsize;
Y.level=G;Y.strategy=R;Y.method=H;return e(y)}var u=g("../utils/common"),A=g("./trees"),C=g("./adler32"),B=g("./crc32"),I=g("./messages");var N=[new c(0,0,0,0,function(y,G){var H=65535;for(H>y.pending_buf_size-5&&(H=y.pending_buf_size-5);;){if(1>=y.lookahead){a(y);if(0===y.lookahead&&0===G)return 1;if(0===y.lookahead)break}y.strstart+=y.lookahead;y.lookahead=0;var O=y.block_start+H;if(0===y.strstart||y.strstart>=O)if(y.lookahead=y.strstart-O,y.strstart=O,E(y,!1),0===y.strm.avail_out)return 1;if(y.strstart-
y.block_start>=y.w_size-262&&(E(y,!1),0===y.strm.avail_out))return 1}y.insert=0;if(4===G)return E(y,!0),0===y.strm.avail_out?3:4;y.strstart>y.block_start&&E(y,!1);return 1}),new c(4,4,8,4,m),new c(4,5,16,8,m),new c(4,6,32,32,m),new c(4,4,16,16,q),new c(8,16,32,32,q),new c(8,16,128,128,q),new c(8,32,128,256,q),new c(32,128,258,1024,q),new c(32,258,258,4096,q)];D.deflateInit=function(y,G){return n(y,G,8,15,8,0)};D.deflateInit2=n;D.deflateReset=e;D.deflateResetKeep=p;D.deflateSetHeader=function(y,G){if(!y||
!y.state||2!==y.state.wrap)return-2;y.state.gzhead=G;return 0};D.deflate=function(y,G){if(!y||!y.state||5<G||0>G)return y?z(y,-2):-2;var H=y.state;if(!y.output||!y.input&&0!==y.avail_in||666===H.status&&4!==G)return z(y,0===y.avail_out?-5:-2);H.strm=y;var O=H.last_flush;H.last_flush=G;if(42===H.status)if(2===H.wrap)y.adler=0,b(H,31),b(H,139),b(H,8),H.gzhead?(b(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),b(H,H.gzhead.time&255),b(H,H.gzhead.time>>
8&255),b(H,H.gzhead.time>>16&255),b(H,H.gzhead.time>>24&255),b(H,9===H.level?2:2<=H.strategy||2>H.level?4:0),b(H,H.gzhead.os&255),H.gzhead.extra&&H.gzhead.extra.length&&(b(H,H.gzhead.extra.length&255),b(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(y.adler=B(y.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(b(H,0),b(H,0),b(H,0),b(H,0),b(H,0),b(H,9===H.level?2:2<=H.strategy||2>H.level?4:0),b(H,3),H.status=113);else{var J=8+(H.w_bits-8<<4)<<8;J|=(2<=H.strategy||2>H.level?0:6>H.level?
1:6===H.level?2:3)<<6;0!==H.strstart&&(J|=32);H.status=113;d(H,J+(31-J%31));0!==H.strstart&&(d(H,y.adler>>>16),d(H,y.adler&65535));y.adler=1}if(69===H.status)if(H.gzhead.extra){for(J=H.pending;H.gzindex<(H.gzhead.extra.length&65535)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>J&&(y.adler=B(y.adler,H.pending_buf,H.pending-J,J)),v(y),J=H.pending,H.pending!==H.pending_buf_size));)b(H,H.gzhead.extra[H.gzindex]&255),H.gzindex++;H.gzhead.hcrc&&H.pending>J&&(y.adler=B(y.adler,H.pending_buf,
H.pending-J,J));H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(73===H.status)if(H.gzhead.name){J=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>J&&(y.adler=B(y.adler,H.pending_buf,H.pending-J,J)),v(y),J=H.pending,H.pending===H.pending_buf_size)){var R=1;break}R=H.gzindex<H.gzhead.name.length?H.gzhead.name.charCodeAt(H.gzindex++)&255:0;b(H,R)}while(0!==R);H.gzhead.hcrc&&H.pending>J&&(y.adler=B(y.adler,H.pending_buf,H.pending-J,J));0===R&&
(H.gzindex=0,H.status=91)}else H.status=91;if(91===H.status)if(H.gzhead.comment){J=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>J&&(y.adler=B(y.adler,H.pending_buf,H.pending-J,J)),v(y),J=H.pending,H.pending===H.pending_buf_size)){R=1;break}R=H.gzindex<H.gzhead.comment.length?H.gzhead.comment.charCodeAt(H.gzindex++)&255:0;b(H,R)}while(0!==R);H.gzhead.hcrc&&H.pending>J&&(y.adler=B(y.adler,H.pending_buf,H.pending-J,J));0===R&&(H.status=103)}else H.status=103;103===H.status&&
(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&v(y),H.pending+2<=H.pending_buf_size&&(b(H,y.adler&255),b(H,y.adler>>8&255),y.adler=0,H.status=113)):H.status=113);if(0!==H.pending){if(v(y),0===y.avail_out)return H.last_flush=-1,0}else if(0===y.avail_in&&(G<<1)-(4<G?9:0)<=(O<<1)-(4<O?9:0)&&4!==G)return z(y,-5);if(666===H.status&&0!==y.avail_in)return z(y,-5);if(0!==y.avail_in||0!==H.lookahead||0!==G&&666!==H.status){O=2===H.strategy?h(H,G):3===H.strategy?r(H,G):N[H.level].func(H,G);if(3===O||4===O)H.status=
666;if(1===O||3===O)return 0===y.avail_out&&(H.last_flush=-1),0;if(2===O&&(1===G?A._tr_align(H):5!==G&&(A._tr_stored_block(H,0,0,!1),3===G&&(k(H.head),0===H.lookahead&&(H.strstart=0,H.block_start=0,H.insert=0))),v(y),0===y.avail_out))return H.last_flush=-1,0}if(4!==G)return 0;if(0>=H.wrap)return 1;2===H.wrap?(b(H,y.adler&255),b(H,y.adler>>8&255),b(H,y.adler>>16&255),b(H,y.adler>>24&255),b(H,y.total_in&255),b(H,y.total_in>>8&255),b(H,y.total_in>>16&255),b(H,y.total_in>>24&255)):(d(H,y.adler>>>16),
d(H,y.adler&65535));v(y);0<H.wrap&&(H.wrap=-H.wrap);return 0!==H.pending?0:1};D.deflateEnd=function(y){if(!y||!y.state)return-2;var G=y.state.status;if(42!==G&&69!==G&&73!==G&&91!==G&&103!==G&&113!==G&&666!==G)return z(y,-2);y.state=null;return 113===G?z(y,-3):0};D.deflateSetDictionary=function(y,G){var H=G.length;if(!y||!y.state)return-2;var O=y.state;var J=O.wrap;if(2===J||1===J&&42!==O.status||O.lookahead)return-2;1===J&&(y.adler=C(y.adler,G,H,0));O.wrap=0;if(H>=O.w_size){0===J&&(k(O.head),O.strstart=
0,O.block_start=0,O.insert=0);var R=new u.Buf8(O.w_size);u.arraySet(R,G,H-O.w_size,O.w_size,0);G=R;H=O.w_size}R=y.avail_in;var ea=y.next_in;var Y=y.input;y.avail_in=H;y.next_in=0;y.input=G;for(a(O);3<=O.lookahead;){G=O.strstart;H=O.lookahead-2;do O.ins_h=(O.ins_h<<O.hash_shift^O.window[G+3-1])&O.hash_mask,O.prev[G&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=G,G++;while(--H);O.strstart=G;O.lookahead=2;a(O)}O.strstart+=O.lookahead;O.block_start=O.strstart;O.insert=O.lookahead;O.lookahead=0;O.match_length=
O.prev_length=2;O.match_available=0;y.next_in=ea;y.input=Y;y.avail_in=R;O.wrap=J;return 0};D.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":300,"./adler32":302,"./crc32":304,"./messages":310,"./trees":311}],306:[function(g,K,D){K.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],307:[function(g,K,D){K.exports=function(z,k){var v=z.state;var E=z.next_in;var b=z.input;var d=E+(z.avail_in-
5);var w=z.next_out;var a=z.output;k=w-(k-z.avail_out);var m=w+(z.avail_out-257);var q=v.dmax;var r=v.wsize;var h=v.whave;var c=v.wnext;var f=v.window;var p=v.hold;var e=v.bits;var n=v.lencode;var u=v.distcode;var A=(1<<v.lenbits)-1;var C=(1<<v.distbits)-1;a:do{15>e&&(p+=b[E++]<<e,e+=8,p+=b[E++]<<e,e+=8);var B=n[p&A];b:for(;;){var I=B>>>24;p>>>=I;e-=I;I=B>>>16&255;if(0===I)a[w++]=B&65535;else if(I&16){var N=B&65535;if(I&=15)e<I&&(p+=b[E++]<<e,e+=8),N+=p&(1<<I)-1,p>>>=I,e-=I;15>e&&(p+=b[E++]<<e,e+=
8,p+=b[E++]<<e,e+=8);B=u[p&C];c:for(;;){I=B>>>24;p>>>=I;e-=I;I=B>>>16&255;if(I&16){B&=65535;I&=15;e<I&&(p+=b[E++]<<e,e+=8,e<I&&(p+=b[E++]<<e,e+=8));B+=p&(1<<I)-1;if(B>q){z.msg="invalid distance too far back";v.mode=30;break a}p>>>=I;e-=I;I=w-k;if(B>I){I=B-I;if(I>h&&v.sane){z.msg="invalid distance too far back";v.mode=30;break a}var y=0;var G=f;if(0===c){if(y+=r-I,I<N){N-=I;do a[w++]=f[y++];while(--I);y=w-B;G=a}}else if(c<I){if(y+=r+c-I,I-=c,I<N){N-=I;do a[w++]=f[y++];while(--I);y=0;if(c<N){I=c;N-=
I;do a[w++]=f[y++];while(--I);y=w-B;G=a}}}else if(y+=c-I,I<N){N-=I;do a[w++]=f[y++];while(--I);y=w-B;G=a}for(;2<N;)a[w++]=G[y++],a[w++]=G[y++],a[w++]=G[y++],N-=3;N&&(a[w++]=G[y++],1<N&&(a[w++]=G[y++]))}else{y=w-B;do a[w++]=a[y++],a[w++]=a[y++],a[w++]=a[y++],N-=3;while(2<N);N&&(a[w++]=a[y++],1<N&&(a[w++]=a[y++]))}}else if(0===(I&64)){B=u[(B&65535)+(p&(1<<I)-1)];continue c}else{z.msg="invalid distance code";v.mode=30;break a}break}}else if(0===(I&64)){B=n[(B&65535)+(p&(1<<I)-1)];continue b}else{I&32?
v.mode=12:(z.msg="invalid literal/length code",v.mode=30);break a}break}}while(E<d&&w<m);N=e>>3;E-=N;e-=N<<3;z.next_in=E;z.next_out=w;z.avail_in=E<d?5+(d-E):5-(E-d);z.avail_out=w<m?257+(m-w):257-(w-m);v.hold=p&(1<<e)-1;v.bits=e}},{}],308:[function(g,K,D){function z(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function k(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=
0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new a.Buf16(320);this.work=new a.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function v(e){if(!e||!e.state)return-2;var n=e.state;e.total_in=e.total_out=n.total=0;e.msg="";n.wrap&&(e.adler=n.wrap&1);n.mode=1;n.last=0;n.havedict=0;n.dmax=32768;n.head=null;n.hold=0;n.bits=
0;n.lencode=n.lendyn=new a.Buf32(852);n.distcode=n.distdyn=new a.Buf32(592);n.sane=1;n.back=-1;return 0}function E(e){if(!e||!e.state)return-2;var n=e.state;n.wsize=0;n.whave=0;n.wnext=0;return v(e)}function b(e,n){if(!e||!e.state)return-2;var u=e.state;if(0>n){var A=0;n=-n}else A=(n>>4)+1,48>n&&(n&=15);if(n&&(8>n||15<n))return-2;null!==u.window&&u.wbits!==n&&(u.window=null);u.wrap=A;u.wbits=n;return E(e)}function d(e,n){if(!e)return-2;var u=new k;e.state=u;u.window=null;n=b(e,n);0!==n&&(e.state=
null);return n}function w(e,n,u,A){var C=e.state;null===C.window&&(C.wsize=1<<C.wbits,C.wnext=0,C.whave=0,C.window=new a.Buf8(C.wsize));A>=C.wsize?(a.arraySet(C.window,n,u-C.wsize,C.wsize,0),C.wnext=0,C.whave=C.wsize):(e=C.wsize-C.wnext,e>A&&(e=A),a.arraySet(C.window,n,u-A,e,C.wnext),(A-=e)?(a.arraySet(C.window,n,u-A,A,0),C.wnext=A,C.whave=C.wsize):(C.wnext+=e,C.wnext===C.wsize&&(C.wnext=0),C.whave<C.wsize&&(C.whave+=e)));return 0}var a=g("../utils/common"),m=g("./adler32"),q=g("./crc32"),r=g("./inffast"),
h=g("./inftrees"),c=!0,f,p;D.inflateReset=E;D.inflateReset2=b;D.inflateResetKeep=v;D.inflateInit=function(e){return d(e,15)};D.inflateInit2=d;D.inflate=function(e,n){var u,A=new a.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;var B=e.state;12===B.mode&&(B.mode=13);var I=e.next_out;var N=e.output;var y=e.avail_out;var G=e.next_in;var H=e.input;var O=e.avail_in;var J=B.hold;var R=B.bits;var ea=O;var Y=y;var qa=0;a:for(;;)switch(B.mode){case 1:if(0===
B.wrap){B.mode=13;break}for(;16>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}if(B.wrap&2&&35615===J){B.check=0;A[0]=J&255;A[1]=J>>>8&255;B.check=q(B.check,A,2,0);R=J=0;B.mode=2;break}B.flags=0;B.head&&(B.head.done=!1);if(!(B.wrap&1)||(((J&255)<<8)+(J>>8))%31){e.msg="incorrect header check";B.mode=30;break}if(8!==(J&15)){e.msg="unknown compression method";B.mode=30;break}J>>>=4;R-=4;var la=(J&15)+8;if(0===B.wbits)B.wbits=la;else if(la>B.wbits){e.msg="invalid window size";B.mode=30;break}B.dmax=1<<la;
e.adler=B.check=1;B.mode=J&512?10:12;R=J=0;break;case 2:for(;16>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.flags=J;if(8!==(B.flags&255)){e.msg="unknown compression method";B.mode=30;break}if(B.flags&57344){e.msg="unknown header flags set";B.mode=30;break}B.head&&(B.head.text=J>>8&1);B.flags&512&&(A[0]=J&255,A[1]=J>>>8&255,B.check=q(B.check,A,2,0));R=J=0;B.mode=3;case 3:for(;32>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.head&&(B.head.time=J);B.flags&512&&(A[0]=J&255,A[1]=J>>>8&255,A[2]=J>>>16&
255,A[3]=J>>>24&255,B.check=q(B.check,A,4,0));R=J=0;B.mode=4;case 4:for(;16>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.head&&(B.head.xflags=J&255,B.head.os=J>>8);B.flags&512&&(A[0]=J&255,A[1]=J>>>8&255,B.check=q(B.check,A,2,0));R=J=0;B.mode=5;case 5:if(B.flags&1024){for(;16>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.length=J;B.head&&(B.head.extra_len=J);B.flags&512&&(A[0]=J&255,A[1]=J>>>8&255,B.check=q(B.check,A,2,0));R=J=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(B.flags&1024){var Q=
B.length;Q>O&&(Q=O);Q&&(B.head&&(la=B.head.extra_len-B.length,B.head.extra||(B.head.extra=Array(B.head.extra_len)),a.arraySet(B.head.extra,H,G,Q,la)),B.flags&512&&(B.check=q(B.check,H,Q,G)),O-=Q,G+=Q,B.length-=Q);if(B.length)break a}B.length=0;B.mode=7;case 7:if(B.flags&2048){if(0===O)break a;Q=0;do la=H[G+Q++],B.head&&la&&65536>B.length&&(B.head.name+=String.fromCharCode(la));while(la&&Q<O);B.flags&512&&(B.check=q(B.check,H,Q,G));O-=Q;G+=Q;if(la)break a}else B.head&&(B.head.name=null);B.length=0;
B.mode=8;case 8:if(B.flags&4096){if(0===O)break a;Q=0;do la=H[G+Q++],B.head&&la&&65536>B.length&&(B.head.comment+=String.fromCharCode(la));while(la&&Q<O);B.flags&512&&(B.check=q(B.check,H,Q,G));O-=Q;G+=Q;if(la)break a}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(B.flags&512){for(;16>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}if(J!==(B.check&65535)){e.msg="header crc mismatch";B.mode=30;break}R=J=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0);e.adler=B.check=0;B.mode=12;break;case 10:for(;32>
R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}e.adler=B.check=z(J);R=J=0;B.mode=11;case 11:if(0===B.havedict)return e.next_out=I,e.avail_out=y,e.next_in=G,e.avail_in=O,B.hold=J,B.bits=R,2;e.adler=B.check=1;B.mode=12;case 12:if(5===n||6===n)break a;case 13:if(B.last){J>>>=R&7;R-=R&7;B.mode=27;break}for(;3>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.last=J&1;J>>>=1;--R;switch(J&3){case 0:B.mode=14;break;case 1:la=B;if(c){f=new a.Buf32(512);p=new a.Buf32(32);for(Q=0;144>Q;)la.lens[Q++]=8;for(;256>Q;)la.lens[Q++]=
9;for(;280>Q;)la.lens[Q++]=7;for(;288>Q;)la.lens[Q++]=8;h(1,la.lens,0,288,f,0,la.work,{bits:9});for(Q=0;32>Q;)la.lens[Q++]=5;h(2,la.lens,0,32,p,0,la.work,{bits:5});c=!1}la.lencode=f;la.lenbits=9;la.distcode=p;la.distbits=5;B.mode=20;if(6===n){J>>>=2;R-=2;break a}break;case 2:B.mode=17;break;case 3:e.msg="invalid block type",B.mode=30}J>>>=2;R-=2;break;case 14:J>>>=R&7;for(R-=R&7;32>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}if((J&65535)!==(J>>>16^65535)){e.msg="invalid stored block lengths";B.mode=
30;break}B.length=J&65535;R=J=0;B.mode=15;if(6===n)break a;case 15:B.mode=16;case 16:if(Q=B.length){Q>O&&(Q=O);Q>y&&(Q=y);if(0===Q)break a;a.arraySet(N,H,G,Q,I);O-=Q;G+=Q;y-=Q;I+=Q;B.length-=Q;break}B.mode=12;break;case 17:for(;14>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.nlen=(J&31)+257;J>>>=5;R-=5;B.ndist=(J&31)+1;J>>>=5;R-=5;B.ncode=(J&15)+4;J>>>=4;R-=4;if(286<B.nlen||30<B.ndist){e.msg="too many length or distance symbols";B.mode=30;break}B.have=0;B.mode=18;case 18:for(;B.have<B.ncode;){for(;3>
R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.lens[C[B.have++]]=J&7;J>>>=3;R-=3}for(;19>B.have;)B.lens[C[B.have++]]=0;B.lencode=B.lendyn;B.lenbits=7;Q={bits:B.lenbits};qa=h(0,B.lens,0,19,B.lencode,0,B.work,Q);B.lenbits=Q.bits;if(qa){e.msg="invalid code lengths set";B.mode=30;break}B.have=0;B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;;){var ka=B.lencode[J&(1<<B.lenbits)-1];Q=ka>>>24;ka&=65535;if(Q<=R)break;if(0===O)break a;O--;J+=H[G++]<<R;R+=8}if(16>ka)J>>>=Q,R-=Q,B.lens[B.have++]=ka;else{if(16===
ka){for(la=Q+2;R<la;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}J>>>=Q;R-=Q;if(0===B.have){e.msg="invalid bit length repeat";B.mode=30;break}la=B.lens[B.have-1];Q=3+(J&3);J>>>=2;R-=2}else if(17===ka){for(la=Q+3;R<la;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}J>>>=Q;R-=Q;la=0;Q=3+(J&7);J>>>=3;R-=3}else{for(la=Q+7;R<la;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}J>>>=Q;R-=Q;la=0;Q=11+(J&127);J>>>=7;R-=7}if(B.have+Q>B.nlen+B.ndist){e.msg="invalid bit length repeat";B.mode=30;break}for(;Q--;)B.lens[B.have++]=
la}}if(30===B.mode)break;if(0===B.lens[256]){e.msg="invalid code -- missing end-of-block";B.mode=30;break}B.lenbits=9;Q={bits:B.lenbits};qa=h(1,B.lens,0,B.nlen,B.lencode,0,B.work,Q);B.lenbits=Q.bits;if(qa){e.msg="invalid literal/lengths set";B.mode=30;break}B.distbits=6;B.distcode=B.distdyn;Q={bits:B.distbits};qa=h(2,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,Q);B.distbits=Q.bits;if(qa){e.msg="invalid distances set";B.mode=30;break}B.mode=20;if(6===n)break a;case 20:B.mode=21;case 21:if(6<=O&&258<=
y){e.next_out=I;e.avail_out=y;e.next_in=G;e.avail_in=O;B.hold=J;B.bits=R;r(e,Y);I=e.next_out;N=e.output;y=e.avail_out;G=e.next_in;H=e.input;O=e.avail_in;J=B.hold;R=B.bits;12===B.mode&&(B.back=-1);break}for(B.back=0;;){ka=B.lencode[J&(1<<B.lenbits)-1];Q=ka>>>24;la=ka>>>16&255;ka&=65535;if(Q<=R)break;if(0===O)break a;O--;J+=H[G++]<<R;R+=8}if(la&&0===(la&240)){var oa=Q;var ya=la;for(u=ka;;){ka=B.lencode[u+((J&(1<<oa+ya)-1)>>oa)];Q=ka>>>24;la=ka>>>16&255;ka&=65535;if(oa+Q<=R)break;if(0===O)break a;O--;
J+=H[G++]<<R;R+=8}J>>>=oa;R-=oa;B.back+=oa}J>>>=Q;R-=Q;B.back+=Q;B.length=ka;if(0===la){B.mode=26;break}if(la&32){B.back=-1;B.mode=12;break}if(la&64){e.msg="invalid literal/length code";B.mode=30;break}B.extra=la&15;B.mode=22;case 22:if(B.extra){for(la=B.extra;R<la;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.length+=J&(1<<B.extra)-1;J>>>=B.extra;R-=B.extra;B.back+=B.extra}B.was=B.length;B.mode=23;case 23:for(;;){ka=B.distcode[J&(1<<B.distbits)-1];Q=ka>>>24;la=ka>>>16&255;ka&=65535;if(Q<=R)break;if(0===
O)break a;O--;J+=H[G++]<<R;R+=8}if(0===(la&240)){oa=Q;ya=la;for(u=ka;;){ka=B.distcode[u+((J&(1<<oa+ya)-1)>>oa)];Q=ka>>>24;la=ka>>>16&255;ka&=65535;if(oa+Q<=R)break;if(0===O)break a;O--;J+=H[G++]<<R;R+=8}J>>>=oa;R-=oa;B.back+=oa}J>>>=Q;R-=Q;B.back+=Q;if(la&64){e.msg="invalid distance code";B.mode=30;break}B.offset=ka;B.extra=la&15;B.mode=24;case 24:if(B.extra){for(la=B.extra;R<la;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.offset+=J&(1<<B.extra)-1;J>>>=B.extra;R-=B.extra;B.back+=B.extra}if(B.offset>
B.dmax){e.msg="invalid distance too far back";B.mode=30;break}B.mode=25;case 25:if(0===y)break a;Q=Y-y;if(B.offset>Q){Q=B.offset-Q;if(Q>B.whave&&B.sane){e.msg="invalid distance too far back";B.mode=30;break}Q>B.wnext?(Q-=B.wnext,la=B.wsize-Q):la=B.wnext-Q;Q>B.length&&(Q=B.length);oa=B.window}else oa=N,la=I-B.offset,Q=B.length;Q>y&&(Q=y);y-=Q;B.length-=Q;do N[I++]=oa[la++];while(--Q);0===B.length&&(B.mode=21);break;case 26:if(0===y)break a;N[I++]=B.length;y--;B.mode=21;break;case 27:if(B.wrap){for(;32>
R;){if(0===O)break a;O--;J|=H[G++]<<R;R+=8}Y-=y;e.total_out+=Y;B.total+=Y;Y&&(e.adler=B.check=B.flags?q(B.check,N,Y,I-Y):m(B.check,N,Y,I-Y));Y=y;if((B.flags?J:z(J))!==B.check){e.msg="incorrect data check";B.mode=30;break}R=J=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;32>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}if(J!==(B.total&4294967295)){e.msg="incorrect length check";B.mode=30;break}R=J=0}B.mode=29;case 29:qa=1;break a;case 30:qa=-3;break a;case 31:return-4;default:return-2}e.next_out=I;e.avail_out=
y;e.next_in=G;e.avail_in=O;B.hold=J;B.bits=R;if((B.wsize||Y!==e.avail_out&&30>B.mode&&(27>B.mode||4!==n))&&w(e,e.output,e.next_out,Y-e.avail_out))return B.mode=31,-4;ea-=e.avail_in;Y-=e.avail_out;e.total_in+=ea;e.total_out+=Y;B.total+=Y;B.wrap&&Y&&(e.adler=B.check=B.flags?q(B.check,N,Y,e.next_out-Y):m(B.check,N,Y,e.next_out-Y));e.data_type=B.bits+(B.last?64:0)+(12===B.mode?128:0)+(20===B.mode||15===B.mode?256:0);(0===ea&&0===Y||4===n)&&0===qa&&(qa=-5);return qa};D.inflateEnd=function(e){if(!e||!e.state)return-2;
var n=e.state;n.window&&(n.window=null);e.state=null;return 0};D.inflateGetHeader=function(e,n){if(!e||!e.state)return-2;e=e.state;if(0===(e.wrap&2))return-2;e.head=n;n.done=!1;return 0};D.inflateSetDictionary=function(e,n){var u=n.length;if(!e||!e.state)return-2;var A=e.state;if(0!==A.wrap&&11!==A.mode)return-2;if(11===A.mode){var C=m(1,n,u,0);if(C!==A.check)return-3}if(w(e,n,u,u))return A.mode=31,-4;A.havedict=1;return 0};D.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":300,
"./adler32":302,"./crc32":304,"./inffast":307,"./inftrees":309}],309:[function(g,K,D){var z=g("../utils/common"),k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,
27,28,28,29,29,64,64];K.exports=function(d,w,a,m,q,r,h,c){var f=c.bits,p,e,n,u,A,C,B=0,I=new z.Buf16(16);var N=new z.Buf16(16);var y,G=0;for(p=0;15>=p;p++)I[p]=0;for(e=0;e<m;e++)I[w[a+e]]++;var H=f;for(n=15;1<=n&&0===I[n];n--);H>n&&(H=n);if(0===n)return q[r++]=20971520,q[r++]=20971520,c.bits=1,0;for(f=1;f<n&&0===I[f];f++);H<f&&(H=f);for(p=u=1;15>=p;p++)if(u<<=1,u-=I[p],0>u)return-1;if(0<u&&(0===d||1!==n))return-1;N[1]=0;for(p=1;15>p;p++)N[p+1]=N[p]+I[p];for(e=0;e<m;e++)0!==w[a+e]&&(h[N[w[a+e]]++]=
e);if(0===d){var O=y=h;var J=19}else 1===d?(O=k,B-=257,y=v,G-=257,J=256):(O=E,y=b,J=-1);e=A=0;p=f;var R=r;m=H;N=0;var ea=-1;var Y=1<<H;var qa=Y-1;if(1===d&&852<Y||2===d&&592<Y)return 1;for(;;){var la=p-N;if(h[e]<J){var Q=0;var ka=h[e]}else h[e]>J?(Q=y[G+h[e]],ka=O[B+h[e]]):(Q=96,ka=0);u=1<<p-N;f=C=1<<m;do C-=u,q[R+(A>>N)+C]=la<<24|Q<<16|ka|0;while(0!==C);for(u=1<<p-1;A&u;)u>>=1;0!==u?(A&=u-1,A+=u):A=0;e++;if(0===--I[p]){if(p===n)break;p=w[a+h[e]]}if(p>H&&(A&qa)!==ea){0===N&&(N=H);R+=f;m=p-N;for(u=
1<<m;m+N<n;){u-=I[m+N];if(0>=u)break;m++;u<<=1}Y+=1<<m;if(1===d&&852<Y||2===d&&592<Y)return 1;ea=A&qa;q[ea]=H<<24|m<<16|R-r|0}}0!==A&&(q[R+A]=p-N<<24|4194304);c.bits=H;return 0}},{"../utils/common":300}],310:[function(g,K,D){K.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],311:[function(g,K,D){function z(Q){for(var ka=Q.length;0<=--ka;)Q[ka]=0}function k(Q,ka,
oa,ya,ja){this.static_tree=Q;this.extra_bits=ka;this.extra_base=oa;this.elems=ya;this.max_length=ja;this.has_stree=Q&&Q.length}function v(Q,ka){this.dyn_tree=Q;this.max_code=0;this.stat_desc=ka}function E(Q,ka){Q.pending_buf[Q.pending++]=ka&255;Q.pending_buf[Q.pending++]=ka>>>8&255}function b(Q,ka,oa){Q.bi_valid>16-oa?(Q.bi_buf|=ka<<Q.bi_valid&65535,E(Q,Q.bi_buf),Q.bi_buf=ka>>16-Q.bi_valid,Q.bi_valid+=oa-16):(Q.bi_buf|=ka<<Q.bi_valid&65535,Q.bi_valid+=oa)}function d(Q,ka,oa){b(Q,oa[2*ka],oa[2*ka+
1])}function w(Q,ka){var oa=0;do oa|=Q&1,Q>>>=1,oa<<=1;while(0<--ka);return oa>>>1}function a(Q,ka,oa){var ya=Array(16),ja=0,ua;for(ua=1;15>=ua;ua++)ya[ua]=ja=ja+oa[ua-1]<<1;for(oa=0;oa<=ka;oa++)ja=Q[2*oa+1],0!==ja&&(Q[2*oa]=w(ya[ja]++,ja))}function m(Q){var ka;for(ka=0;286>ka;ka++)Q.dyn_ltree[2*ka]=0;for(ka=0;30>ka;ka++)Q.dyn_dtree[2*ka]=0;for(ka=0;19>ka;ka++)Q.bl_tree[2*ka]=0;Q.dyn_ltree[512]=1;Q.opt_len=Q.static_len=0;Q.last_lit=Q.matches=0}function q(Q){8<Q.bi_valid?E(Q,Q.bi_buf):0<Q.bi_valid&&
(Q.pending_buf[Q.pending++]=Q.bi_buf);Q.bi_buf=0;Q.bi_valid=0}function r(Q,ka,oa,ya){var ja=2*ka,ua=2*oa;return Q[ja]<Q[ua]||Q[ja]===Q[ua]&&ya[ka]<=ya[oa]}function h(Q,ka,oa){for(var ya=Q.heap[oa],ja=oa<<1;ja<=Q.heap_len;){ja<Q.heap_len&&r(ka,Q.heap[ja+1],Q.heap[ja],Q.depth)&&ja++;if(r(ka,ya,Q.heap[ja],Q.depth))break;Q.heap[oa]=Q.heap[ja];oa=ja;ja<<=1}Q.heap[oa]=ya}function c(Q,ka,oa){var ya=0;if(0!==Q.last_lit){do{var ja=Q.pending_buf[Q.d_buf+2*ya]<<8|Q.pending_buf[Q.d_buf+2*ya+1];var ua=Q.pending_buf[Q.l_buf+
ya];ya++;if(0===ja)d(Q,ua,ka);else{var ha=O[ua];d(Q,ha+256+1,ka);var La=C[ha];0!==La&&(ua-=J[ha],b(Q,ua,La));ja--;ha=256>ja?H[ja]:H[256+(ja>>>7)];d(Q,ha,oa);La=B[ha];0!==La&&(ja-=R[ha],b(Q,ja,La))}}while(ya<Q.last_lit)}d(Q,256,ka)}function f(Q,ka){var oa=ka.dyn_tree,ya=ka.stat_desc.static_tree,ja=ka.stat_desc.has_stree,ua=ka.stat_desc.elems,ha,La=-1;Q.heap_len=0;Q.heap_max=573;for(ha=0;ha<ua;ha++)0!==oa[2*ha]?(Q.heap[++Q.heap_len]=La=ha,Q.depth[ha]=0):oa[2*ha+1]=0;for(;2>Q.heap_len;){var Ya=Q.heap[++Q.heap_len]=
2>La?++La:0;oa[2*Ya]=1;Q.depth[Ya]=0;Q.opt_len--;ja&&(Q.static_len-=ya[2*Ya+1])}ka.max_code=La;for(ha=Q.heap_len>>1;1<=ha;ha--)h(Q,oa,ha);Ya=ua;do ha=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],h(Q,oa,1),ya=Q.heap[1],Q.heap[--Q.heap_max]=ha,Q.heap[--Q.heap_max]=ya,oa[2*Ya]=oa[2*ha]+oa[2*ya],Q.depth[Ya]=(Q.depth[ha]>=Q.depth[ya]?Q.depth[ha]:Q.depth[ya])+1,oa[2*ha+1]=oa[2*ya+1]=Ya,Q.heap[1]=Ya++,h(Q,oa,1);while(2<=Q.heap_len);Q.heap[--Q.heap_max]=Q.heap[1];ha=ka.dyn_tree;Ya=ka.max_code;ya=ka.stat_desc.static_tree;
ja=ka.stat_desc.has_stree;ua=ka.stat_desc.extra_bits;var Xa=ka.stat_desc.extra_base,T=ka.stat_desc.max_length,Z,sa=0;for(Z=0;15>=Z;Z++)Q.bl_count[Z]=0;ha[2*Q.heap[Q.heap_max]+1]=0;for(ka=Q.heap_max+1;573>ka;ka++){var Ea=Q.heap[ka];Z=ha[2*ha[2*Ea+1]+1]+1;Z>T&&(Z=T,sa++);ha[2*Ea+1]=Z;if(!(Ea>Ya)){Q.bl_count[Z]++;var Ra=0;Ea>=Xa&&(Ra=ua[Ea-Xa]);var wb=ha[2*Ea];Q.opt_len+=wb*(Z+Ra);ja&&(Q.static_len+=wb*(ya[2*Ea+1]+Ra))}}if(0!==sa){do{for(Z=T-1;0===Q.bl_count[Z];)Z--;Q.bl_count[Z]--;Q.bl_count[Z+1]+=
2;Q.bl_count[T]--;sa-=2}while(0<sa);for(Z=T;0!==Z;Z--)for(Ea=Q.bl_count[Z];0!==Ea;)ya=Q.heap[--ka],ya>Ya||(ha[2*ya+1]!==Z&&(Q.opt_len+=(Z-ha[2*ya+1])*ha[2*ya],ha[2*ya+1]=Z),Ea--)}a(oa,La,Q.bl_count)}function p(Q,ka,oa){var ya,ja=-1,ua=ka[1],ha=0,La=7,Ya=4;0===ua&&(La=138,Ya=3);ka[2*(oa+1)+1]=65535;for(ya=0;ya<=oa;ya++){var Xa=ua;ua=ka[2*(ya+1)+1];++ha<La&&Xa===ua||(ha<Ya?Q.bl_tree[2*Xa]+=ha:0!==Xa?(Xa!==ja&&Q.bl_tree[2*Xa]++,Q.bl_tree[32]++):10>=ha?Q.bl_tree[34]++:Q.bl_tree[36]++,ha=0,ja=Xa,0===ua?
(La=138,Ya=3):Xa===ua?(La=6,Ya=3):(La=7,Ya=4))}}function e(Q,ka,oa){var ya,ja=-1,ua=ka[1],ha=0,La=7,Ya=4;0===ua&&(La=138,Ya=3);for(ya=0;ya<=oa;ya++){var Xa=ua;ua=ka[2*(ya+1)+1];if(!(++ha<La&&Xa===ua)){if(ha<Ya){do d(Q,Xa,Q.bl_tree);while(0!==--ha)}else 0!==Xa?(Xa!==ja&&(d(Q,Xa,Q.bl_tree),ha--),d(Q,16,Q.bl_tree),b(Q,ha-3,2)):10>=ha?(d(Q,17,Q.bl_tree),b(Q,ha-3,3)):(d(Q,18,Q.bl_tree),b(Q,ha-11,7));ha=0;ja=Xa;0===ua?(La=138,Ya=3):Xa===ua?(La=6,Ya=3):(La=7,Ya=4)}}}function n(Q){var ka=4093624447,oa;for(oa=
0;31>=oa;oa++,ka>>>=1)if(ka&1&&0!==Q.dyn_ltree[2*oa])return 0;if(0!==Q.dyn_ltree[18]||0!==Q.dyn_ltree[20]||0!==Q.dyn_ltree[26])return 1;for(oa=32;256>oa;oa++)if(0!==Q.dyn_ltree[2*oa])return 1;return 0}function u(Q,ka,oa,ya){b(Q,ya?1:0,3);q(Q);E(Q,oa);E(Q,~oa);A.arraySet(Q.pending_buf,Q.window,ka,oa,Q.pending);Q.pending+=oa}var A=g("../utils/common"),C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],y=Array(576);z(y);var G=Array(60);z(G);var H=Array(512);z(H);var O=Array(256);z(O);var J=Array(29);z(J);var R=Array(30);z(R);var ea,Y,qa,la=!1;D._tr_init=function(Q){if(!la){var ka,oa,ya,ja=Array(16);for(ya=oa=0;28>ya;ya++)for(J[ya]=oa,ka=0;ka<1<<C[ya];ka++)O[oa++]=ya;O[oa-1]=ya;for(ya=oa=0;16>ya;ya++)for(R[ya]=oa,ka=0;ka<1<<B[ya];ka++)H[oa++]=ya;for(oa>>=7;30>ya;ya++)for(R[ya]=oa<<7,ka=0;ka<1<<B[ya]-7;ka++)H[256+oa++]=
ya;for(ka=0;15>=ka;ka++)ja[ka]=0;for(ka=0;143>=ka;)y[2*ka+1]=8,ka++,ja[8]++;for(;255>=ka;)y[2*ka+1]=9,ka++,ja[9]++;for(;279>=ka;)y[2*ka+1]=7,ka++,ja[7]++;for(;287>=ka;)y[2*ka+1]=8,ka++,ja[8]++;a(y,287,ja);for(ka=0;30>ka;ka++)G[2*ka+1]=5,G[2*ka]=w(ka,5);ea=new k(y,C,257,286,15);Y=new k(G,B,0,30,15);qa=new k([],I,0,19,7);la=!0}Q.l_desc=new v(Q.dyn_ltree,ea);Q.d_desc=new v(Q.dyn_dtree,Y);Q.bl_desc=new v(Q.bl_tree,qa);Q.bi_buf=0;Q.bi_valid=0;m(Q)};D._tr_stored_block=u;D._tr_flush_block=function(Q,ka,
oa,ya){var ja=0;if(0<Q.level){2===Q.strm.data_type&&(Q.strm.data_type=n(Q));f(Q,Q.l_desc);f(Q,Q.d_desc);p(Q,Q.dyn_ltree,Q.l_desc.max_code);p(Q,Q.dyn_dtree,Q.d_desc.max_code);f(Q,Q.bl_desc);for(ja=18;3<=ja&&0===Q.bl_tree[2*N[ja]+1];ja--);Q.opt_len+=3*(ja+1)+14;var ua=Q.opt_len+3+7>>>3;var ha=Q.static_len+3+7>>>3;ha<=ua&&(ua=ha)}else ua=ha=oa+5;if(oa+4<=ua&&-1!==ka)u(Q,ka,oa,ya);else if(4===Q.strategy||ha===ua)b(Q,2+(ya?1:0),3),c(Q,y,G);else{b(Q,4+(ya?1:0),3);ka=Q.l_desc.max_code+1;oa=Q.d_desc.max_code+
1;ja+=1;b(Q,ka-257,5);b(Q,oa-1,5);b(Q,ja-4,4);for(ua=0;ua<ja;ua++)b(Q,Q.bl_tree[2*N[ua]+1],3);e(Q,Q.dyn_ltree,ka-1);e(Q,Q.dyn_dtree,oa-1);c(Q,Q.dyn_ltree,Q.dyn_dtree)}m(Q);ya&&q(Q)};D._tr_tally=function(Q,ka,oa){Q.pending_buf[Q.d_buf+2*Q.last_lit]=ka>>>8&255;Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=ka&255;Q.pending_buf[Q.l_buf+Q.last_lit]=oa&255;Q.last_lit++;0===ka?Q.dyn_ltree[2*oa]++:(Q.matches++,ka--,Q.dyn_ltree[2*(O[oa]+256+1)]++,Q.dyn_dtree[2*(256>ka?H[ka]:H[256+(ka>>>7)])]++);return Q.last_lit===
Q.lit_bufsize-1};D._tr_align=function(Q){b(Q,2,3);d(Q,256,y);16===Q.bi_valid?(E(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf&255,Q.bi_buf>>=8,Q.bi_valid-=8)}},{"../utils/common":300}],312:[function(g,K,D){K.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],313:[function(g,K,D){(function(z,k){"object"===
typeof D&&"undefined"!==typeof K?K.exports=k():z.PointerEventsPolyfill=k()})(this,function(){function z(T,Z){Z=Z||Object.create(null);var sa=document.createEvent("Event");sa.initEvent(T,Z.bubbles||!1,Z.cancelable||!1);T=2;for(var Ea;T<m.length;T++)Ea=m[T],sa[Ea]=Z[Ea]||q[T];sa.buttons=Z.buttons||0;T=Z.pressure&&sa.buttons?Z.pressure:sa.buttons?.5:0;sa.x=sa.clientX;sa.y=sa.clientY;sa.pointerId=Z.pointerId||0;sa.width=Z.width||0;sa.height=Z.height||0;sa.pressure=T;sa.tiltX=Z.tiltX||0;sa.tiltY=Z.tiltY||
0;sa.twist=Z.twist||0;sa.tangentialPressure=Z.tangentialPressure||0;sa.pointerType=Z.pointerType||"";sa.hwTimestamp=Z.hwTimestamp||0;sa.isPrimary=Z.isPrimary||!1;return sa}function k(){this.array=[];this.size=0}function v(T,Z,sa,Ea){this.addCallback=T.bind(Ea);this.removeCallback=Z.bind(Ea);this.changedCallback=sa.bind(Ea);I&&(this.observer=new I(this.mutationWatcher.bind(this)))}function E(T){return"body /shadow-deep/ "+b(T)}function b(T){return'[touch-action="'+T+'"]'}function d(T){return"{ -ms-touch-action: "+
T+"; touch-action: "+T+"; }"}function w(T){if(!e.pointermap.has(T))throw T=Error("InvalidPointerId"),T.name="InvalidPointerId",T;}function a(T){for(var Z=T.parentNode;Z&&Z!==T.ownerDocument;)Z=Z.parentNode;if(!Z)throw T=Error("InvalidStateError"),T.name="InvalidStateError",T;}var m="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget pageX pageY".split(" "),q=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],r=window.Map&&window.Map.prototype.forEach?
Map:k;k.prototype={set:function(T,Z){if(void 0===Z)return this.delete(T);this.has(T)||this.size++;this.array[T]=Z},has:function(T){return void 0!==this.array[T]},delete:function(T){this.has(T)&&(delete this.array[T],this.size--)},get:function(T){return this.array[T]},clear:function(){this.size=this.array.length=0},forEach:function(T,Z){return this.array.forEach(function(sa,Ea){T.call(Z,sa,Ea,this)},this)}};var h="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget buttons pointerId width height pressure tiltX tiltY pointerType hwTimestamp isPrimary type target currentTarget which pageX pageY timeStamp".split(" "),
c=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],f={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},p="undefined"!==typeof SVGElementInstance,e={pointermap:new r,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(T,Z){var sa=Z.events;sa&&(sa.forEach(function(Ea){Z[Ea]&&(this.eventMap[Ea]=Z[Ea].bind(Z))},this),this.eventSources[T]=Z,this.eventSourceList.push(Z))},
register:function(T){for(var Z=this.eventSourceList.length,sa=0,Ea;sa<Z&&(Ea=this.eventSourceList[sa]);sa++)Ea.register.call(Ea,T)},unregister:function(T){for(var Z=this.eventSourceList.length,sa=0,Ea;sa<Z&&(Ea=this.eventSourceList[sa]);sa++)Ea.unregister.call(Ea,T)},contains:function(T,Z){try{return T.contains(Z)}catch(sa){return!1}},down:function(T){T.bubbles=!0;this.fireEvent("pointerdown",T)},move:function(T){T.bubbles=!0;this.fireEvent("pointermove",T)},up:function(T){T.bubbles=!0;this.fireEvent("pointerup",
T)},enter:function(T){T.bubbles=!1;this.fireEvent("pointerenter",T)},leave:function(T){T.bubbles=!1;this.fireEvent("pointerleave",T)},over:function(T){T.bubbles=!0;this.fireEvent("pointerover",T)},out:function(T){T.bubbles=!0;this.fireEvent("pointerout",T)},cancel:function(T){T.bubbles=!0;this.fireEvent("pointercancel",T)},leaveOut:function(T){this.out(T);this.propagate(T,this.leave,!1)},enterOver:function(T){this.over(T);this.propagate(T,this.enter,!0)},eventHandler:function(T){if(!T._handledByPE){var Z=
T.type;(Z=this.eventMap&&this.eventMap[Z])&&Z(T);T._handledByPE=!0}},listen:function(T,Z){Z.forEach(function(sa){this.addEvent(T,sa)},this)},unlisten:function(T,Z){Z.forEach(function(sa){this.removeEvent(T,sa)},this)},addEvent:function(T,Z){T.addEventListener(Z,this.boundHandler)},removeEvent:function(T,Z){T.removeEventListener(Z,this.boundHandler)},makeEvent:function(T,Z){this.captureInfo[Z.pointerId]&&(Z.relatedTarget=null);T=new z(T,Z);Z.preventDefault&&(T.preventDefault=Z.preventDefault);T._target=
T._target||Z.target;return T},fireEvent:function(T,Z){T=this.makeEvent(T,Z);return this.dispatchEvent(T)},cloneEvent:function(T){for(var Z=Object.create(null),sa,Ea=0;Ea<h.length;Ea++)sa=h[Ea],Z[sa]=T[sa]||c[Ea],p&&("target"===sa||"relatedTarget"===sa)&&Z[sa]instanceof SVGElementInstance&&(Z[sa]=Z[sa].correspondingUseElement);T.preventDefault&&(Z.preventDefault=function(){T.preventDefault()});return Z},getTarget:function(T){var Z=this.captureInfo[T.pointerId];if(!Z)return T._target;if(T._target===
Z||!(T.type in f))return Z},propagate:function(T,Z,sa){for(var Ea=T.target,Ra=[];Ea!==document&&!Ea.contains(T.relatedTarget);)if(Ra.push(Ea),Ea=Ea.parentNode,!Ea)return;sa&&Ra.reverse();Ra.forEach(function(wb){T.target=wb;Z.call(this,T)},this)},setCapture:function(T,Z,sa){this.captureInfo[T]&&this.releaseCapture(T,sa);this.captureInfo[T]=Z;this.implicitRelease=this.releaseCapture.bind(this,T,sa);document.addEventListener("pointerup",this.implicitRelease);document.addEventListener("pointercancel",
this.implicitRelease);var Ea=new z("gotpointercapture");Ea.pointerId=T;Ea._target=Z;sa||this.asyncDispatchEvent(Ea)},releaseCapture:function(T,Z){var sa=this.captureInfo[T];if(sa){this.captureInfo[T]=void 0;document.removeEventListener("pointerup",this.implicitRelease);document.removeEventListener("pointercancel",this.implicitRelease);var Ea=new z("lostpointercapture");Ea.pointerId=T;Ea._target=sa;Z||this.asyncDispatchEvent(Ea)}},dispatchEvent:function(T){var Z=this.getTarget(T);if(Z)return Z.dispatchEvent(T)},
asyncDispatchEvent:function(T){requestAnimationFrame(this.dispatchEvent.bind(this,T))}};e.boundHandler=e.eventHandler.bind(e);var n={shadow:function(T){if(T)return T.shadowRoot||T.webkitShadowRoot},canTarget:function(T){return T&&!!T.elementFromPoint},targetingShadow:function(T){T=this.shadow(T);if(this.canTarget(T))return T},olderShadow:function(T){var Z=T.olderShadowRoot;!Z&&(T=T.querySelector("shadow"))&&(Z=T.olderShadowRoot);return Z},allShadows:function(T){var Z=[];for(T=this.shadow(T);T;)Z.push(T),
T=this.olderShadow(T);return Z},searchRoot:function(T,Z,sa){if(T){var Ea=T.elementFromPoint(Z,sa),Ra;for(Ra=this.targetingShadow(Ea);Ra;){if(T=Ra.elementFromPoint(Z,sa))return Ea=this.targetingShadow(T),this.searchRoot(Ea,Z,sa)||T;Ra=this.olderShadow(Ra)}return Ea}},owner:function(T){for(;T.parentNode;)T=T.parentNode;T.nodeType!==Node.DOCUMENT_NODE&&T.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(T=document);return T},findTarget:function(T){var Z=T.clientX,sa=T.clientY;T=this.owner(T.target);T.elementFromPoint(Z,
sa)||(T=document);return this.searchRoot(T,Z,sa)}},u=Array.prototype.forEach.call.bind(Array.prototype.forEach),A=Array.prototype.map.call.bind(Array.prototype.map),C=Array.prototype.slice.call.bind(Array.prototype.slice),B=Array.prototype.filter.call.bind(Array.prototype.filter),I=window.MutationObserver||window.WebKitMutationObserver,N={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};v.prototype={watchSubtree:function(T){this.observer&&n.canTarget(T)&&
this.observer.observe(T,N)},enableOnSubtree:function(T){this.watchSubtree(T);T===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(T)},installNewSubtree:function(T){u(this.findElements(T),this.addElement,this)},findElements:function(T){return T.querySelectorAll?T.querySelectorAll("[touch-action]"):[]},removeElement:function(T){this.removeCallback(T)},addElement:function(T){this.addCallback(T)},elementChanged:function(T,Z){this.changedCallback(T,Z)},concatLists:function(T,
Z){return T.concat(C(Z))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(T){return T.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(T){var Z=A(T,this.findElements,this);Z.push(B(T,this.isElement));return Z.reduce(this.concatLists,[])},mutationWatcher:function(T){T.forEach(this.mutationHandler,this)},mutationHandler:function(T){"childList"===T.type?(this.flattenMutationTree(T.addedNodes).forEach(this.addElement,
this),this.flattenMutationTree(T.removedNodes).forEach(this.removeElement,this)):"attributes"===T.type&&this.elementChanged(T.target,T.oldValue)}};var y=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],G="",H=window.PointerEvent||window.MSPointerEvent,O=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,J=e.pointermap,R=[1,4,2,8,16],ea=!1;try{ea=1===(new MouseEvent("test",{buttons:1})).buttons}catch(T){}var Y={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown",
"mousemove","mouseup","mouseover","mouseout"],register:function(T){e.listen(T,this.events)},unregister:function(T){e.unlisten(T,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(T){var Z=this.lastTouches,sa=T.clientX;T=T.clientY;for(var Ea=0,Ra=Z.length,wb;Ea<Ra&&(wb=Z[Ea]);Ea++){var Ib=Math.abs(T-wb.y);if(25>=Math.abs(sa-wb.x)&&25>=Ib)return!0}},prepareEvent:function(T){var Z=e.cloneEvent(T),sa=Z.preventDefault;Z.preventDefault=function(){T.preventDefault();sa()};Z.pointerId=this.POINTER_ID;
Z.isPrimary=!0;Z.pointerType=this.POINTER_TYPE;return Z},prepareButtonsForMove:function(T,Z){var sa=J.get(this.POINTER_ID);T.buttons=0!==Z.which&&sa?sa.buttons:0;Z.buttons=T.buttons},mousedown:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=J.get(this.POINTER_ID),sa=this.prepareEvent(T);ea||(sa.buttons=R[sa.button],Z&&(sa.buttons|=Z.buttons),T.buttons=sa.buttons);J.set(this.POINTER_ID,T);Z&&0!==Z.buttons?e.move(sa):e.down(sa)}},mousemove:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=
this.prepareEvent(T);ea||this.prepareButtonsForMove(Z,T);Z.button=-1;J.set(this.POINTER_ID,T);e.move(Z)}},mouseup:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=J.get(this.POINTER_ID),sa=this.prepareEvent(T);if(!ea){var Ea=R[sa.button];sa.buttons=Z?Z.buttons&~Ea:0;T.buttons=sa.buttons}J.set(this.POINTER_ID,T);sa.buttons&=~R[sa.button];0===sa.buttons?e.up(sa):e.move(sa)}},mouseover:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=this.prepareEvent(T);ea||this.prepareButtonsForMove(Z,
T);Z.button=-1;J.set(this.POINTER_ID,T);e.enterOver(Z)}},mouseout:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=this.prepareEvent(T);ea||this.prepareButtonsForMove(Z,T);Z.button=-1;e.leaveOut(Z)}},cancel:function(T){T=this.prepareEvent(T);e.cancel(T);this.deactivateMouse()},deactivateMouse:function(){J.delete(this.POINTER_ID)}},qa=e.captureInfo,la=n.findTarget.bind(n),Q=n.allShadows.bind(n),ka=e.pointermap,oa={events:["touchstart","touchmove","touchend","touchcancel"],register:function(T){ya.enableOnSubtree(T)},
unregister:function(){},elementAdded:function(T){var Z=T.getAttribute("touch-action"),sa=this.touchActionToScrollType(Z);sa&&(T._scrollType=sa,e.listen(T,this.events),Q(T).forEach(function(Ea){Ea._scrollType=sa;e.listen(Ea,this.events)},this))},elementRemoved:function(T){T._scrollType=void 0;e.unlisten(T,this.events);Q(T).forEach(function(Z){Z._scrollType=void 0;e.unlisten(Z,this.events)},this)},elementChanged:function(T,Z){var sa=T.getAttribute("touch-action"),Ea=this.touchActionToScrollType(sa);
Z=this.touchActionToScrollType(Z);Ea&&Z?(T._scrollType=Ea,Q(T).forEach(function(Ra){Ra._scrollType=Ea},this)):Z?this.elementRemoved(T):Ea&&this.elementAdded(T)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(T){var Z=this.scrollTypes;if("none"===T)return"none";if(T===Z.XSCROLLER)return"X";if(T===Z.YSCROLLER)return"Y";if(Z.SCROLLER.exec(T))return"XY"},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(T){return this.firstTouch===
T.identifier},setPrimaryTouch:function(T){if(0===ka.size||1===ka.size&&ka.has(1))this.firstTouch=T.identifier,this.firstXY={X:T.clientX,Y:T.clientY},this.scrolling=!1,this.cancelResetClickCount()},removePrimaryPointer:function(T){T.isPrimary&&(this.firstXY=this.firstTouch=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var T=function(){this.clickCount=0;this.resetId=null}.bind(this);this.resetId=setTimeout(T,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},
typeToButtons:function(T){var Z=0;if("touchstart"===T||"touchmove"===T)Z=1;return Z},touchToPointer:function(T){var Z=this.currentTouchEvent,sa=e.cloneEvent(T),Ea=sa.pointerId=T.identifier+2;sa.target=qa[Ea]||la(sa);sa.bubbles=!0;sa.cancelable=!0;sa.detail=this.clickCount;sa.button=0;sa.buttons=this.typeToButtons(Z.type);sa.width=2*(T.radiusX||T.webkitRadiusX||0);sa.height=2*(T.radiusY||T.webkitRadiusY||0);sa.pressure=T.force||T.webkitForce||.5;sa.isPrimary=this.isPrimaryTouch(T);sa.pointerType=this.POINTER_TYPE;
sa.altKey=Z.altKey;sa.ctrlKey=Z.ctrlKey;sa.metaKey=Z.metaKey;sa.shiftKey=Z.shiftKey;var Ra=this;sa.preventDefault=function(){Ra.scrolling=!1;Ra.firstXY=null;Z.preventDefault()};return sa},processTouches:function(T,Z){var sa=T.changedTouches;this.currentTouchEvent=T;T=0;for(var Ea;T<sa.length;T++)Ea=sa[T],Z.call(this,this.touchToPointer(Ea))},shouldScroll:function(T){if(this.firstXY){var Z=T.currentTarget._scrollType;if("none"===Z)Z=!1;else if("XY"===Z)Z=!0;else{T=T.changedTouches[0];var sa="Y"===
Z?"X":"Y";Z=Math.abs(T["client"+Z]-this.firstXY[Z])>=Math.abs(T["client"+sa]-this.firstXY[sa])}this.firstXY=null;return Z}},findTouch:function(T,Z){for(var sa=0,Ea=T.length,Ra;sa<Ea&&(Ra=T[sa]);sa++)if(Ra.identifier===Z)return!0},vacuumTouches:function(T){var Z=T.touches;if(ka.size>=Z.length){var sa=[];ka.forEach(function(Ea,Ra){1===Ra||this.findTouch(Z,Ra-2)||sa.push(Ea.out)},this);sa.forEach(this.cancelOut,this)}},touchstart:function(T){this.vacuumTouches(T);this.setPrimaryTouch(T.changedTouches[0]);
this.dedupSynthMouse(T);this.scrolling||(this.clickCount++,this.processTouches(T,this.overDown))},overDown:function(T){ka.set(T.pointerId,{target:T.target,out:T,outTarget:T.target});e.enterOver(T);e.down(T)},touchmove:function(T){this.scrolling||(this.shouldScroll(T)?(this.scrolling=!0,this.touchcancel(T)):(T.preventDefault(),this.processTouches(T,this.moveOverOut)))},moveOverOut:function(T){var Z=ka.get(T.pointerId);if(Z){var sa=Z.out,Ea=Z.outTarget;e.move(T);sa&&Ea!==T.target&&(sa.relatedTarget=
T.target,T.relatedTarget=Ea,sa.target=Ea,T.target?(e.leaveOut(sa),e.enterOver(T)):(T.target=Ea,T.relatedTarget=null,this.cancelOut(T)));Z.out=T;Z.outTarget=T.target}},touchend:function(T){this.dedupSynthMouse(T);this.processTouches(T,this.upOut)},upOut:function(T){this.scrolling||(e.up(T),e.leaveOut(T));this.cleanUpPointer(T)},touchcancel:function(T){this.processTouches(T,this.cancelOut)},cancelOut:function(T){e.cancel(T);e.leaveOut(T);this.cleanUpPointer(T)},cleanUpPointer:function(T){ka.delete(T.pointerId);
this.removePrimaryPointer(T)},dedupSynthMouse:function(T){var Z=Y.lastTouches;T=T.changedTouches[0];this.isPrimaryTouch(T)&&(T={x:T.clientX,y:T.clientY},Z.push(T),Z=function(sa,Ea){Ea=sa.indexOf(Ea);-1<Ea&&sa.splice(Ea,1)}.bind(null,Z,T),setTimeout(Z,2500))}};var ya=new v(oa.elementAdded,oa.elementRemoved,oa.elementChanged,oa);var ja=e.pointermap,ua=window.MSPointerEvent&&"number"===typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,ha={events:"MSPointerDown MSPointerMove MSPointerUp MSPointerOut MSPointerOver MSPointerCancel MSGotPointerCapture MSLostPointerCapture".split(" "),
register:function(T){e.listen(T,this.events)},unregister:function(T){e.unlisten(T,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(T){var Z=T;ua&&(Z=e.cloneEvent(T),Z.pointerType=this.POINTER_TYPES[T.pointerType]);return Z},cleanup:function(T){ja.delete(T)},MSPointerDown:function(T){ja.set(T.pointerId,T);T=this.prepareEvent(T);e.down(T)},MSPointerMove:function(T){T=this.prepareEvent(T);e.move(T)},MSPointerUp:function(T){var Z=this.prepareEvent(T);e.up(Z);
this.cleanup(T.pointerId)},MSPointerOut:function(T){T=this.prepareEvent(T);e.leaveOut(T)},MSPointerOver:function(T){T=this.prepareEvent(T);e.enterOver(T)},MSPointerCancel:function(T){var Z=this.prepareEvent(T);e.cancel(Z);this.cleanup(T.pointerId)},MSLostPointerCapture:function(T){T=e.makeEvent("lostpointercapture",T);e.dispatchEvent(T)},MSGotPointerCapture:function(T){T=e.makeEvent("gotpointercapture",T);e.dispatchEvent(T)}};if(window.navigator.msPointerEnabled){var La=function(T){w(T);a(this);0!==
e.pointermap.get(T).buttons&&(e.setCapture(T,this,!0),this.msSetPointerCapture(T))};var Ya=function(T){w(T);e.releaseCapture(T,!0);this.msReleasePointerCapture(T)}}else La=function(T){w(T);a(this);0!==e.pointermap.get(T).buttons&&e.setCapture(T,this)},Ya=function(T){w(T);e.releaseCapture(T)};var Xa=function(T){return!!e.captureInfo[T]};(function(){if(H){y.forEach(function(Z){String(Z)===Z?(G+=b(Z)+d(Z)+"\n",O&&(G+=E(Z)+d(Z)+"\n")):(G+=Z.selectors.map(b)+d(Z.rule)+"\n",O&&(G+=Z.selectors.map(E)+d(Z.rule)+
"\n"))});var T=document.createElement("style");T.textContent=G;document.head.appendChild(T)}})();window.PointerEvent||(window.PointerEvent=z,window.navigator.msPointerEnabled?(Object.defineProperty(window.navigator,"maxTouchPoints",{value:window.navigator.msMaxTouchPoints,enumerable:!0}),e.registerSource("ms",ha)):(Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),e.registerSource("mouse",Y),void 0!==window.ontouchstart&&e.registerSource("touch",oa)),e.register(document));
window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:La},releasePointerCapture:{value:Ya},hasPointerCapture:{value:Xa}});return{dispatcher:e,Installer:v,PointerEvent:z,PointerMap:r,targetFinding:n}})},{}],314:[function(g,K,D){(function(z){function k(){}function v(a,m){for(var q=a.length;q--;)if(a[q].listener===m)return q;return-1}function E(a){return function(){return this[a].apply(this,arguments)}}function b(a){return"function"===
typeof a||a instanceof RegExp?!0:a&&"object"===typeof a?b(a.listener):!1}var d=k.prototype,w=z.EventEmitter;d.getListeners=function(a){var m=this._getEvents(),q;if(a instanceof RegExp){var r={};for(q in m)m.hasOwnProperty(q)&&a.test(q)&&(r[q]=m[q])}else r=m[a]||(m[a]=[]);return r};d.flattenListeners=function(a){var m=[],q;for(q=0;q<a.length;q+=1)m.push(a[q].listener);return m};d.getListenersAsObject=function(a){var m=this.getListeners(a);if(m instanceof Array){var q={};q[a]=m}return q||m};d.addListener=
function(a,m){if(!b(m))throw new TypeError("listener must be a function");a=this.getListenersAsObject(a);var q="object"===typeof m,r;for(r in a)a.hasOwnProperty(r)&&-1===v(a[r],m)&&a[r].push(q?m:{listener:m,once:!1});return this};d.on=E("addListener");d.addOnceListener=function(a,m){return this.addListener(a,{listener:m,once:!0})};d.once=E("addOnceListener");d.defineEvent=function(a){this.getListeners(a);return this};d.defineEvents=function(a){for(var m=0;m<a.length;m+=1)this.defineEvent(a[m]);return this};
d.removeListener=function(a,m){a=this.getListenersAsObject(a);var q;for(q in a)if(a.hasOwnProperty(q)){var r=v(a[q],m);-1!==r&&a[q].splice(r,1)}return this};d.off=E("removeListener");d.addListeners=function(a,m){return this.manipulateListeners(!1,a,m)};d.removeListeners=function(a,m){return this.manipulateListeners(!0,a,m)};d.manipulateListeners=function(a,m,q){var r,h,c=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!==typeof m||m instanceof RegExp)for(r=
q.length;r--;)c.call(this,m,q[r]);else for(r in m)m.hasOwnProperty(r)&&(h=m[r])&&("function"===typeof h?c.call(this,r,h):a.call(this,r,h));return this};d.removeEvent=function(a){var m=typeof a,q=this._getEvents(),r;if("string"===m)delete q[a];else if(a instanceof RegExp)for(r in q)q.hasOwnProperty(r)&&a.test(r)&&delete q[r];else delete this._events;return this};d.removeAllListeners=E("removeEvent");d.emitEvent=function(a,m){var q=this.getListenersAsObject(a),r,h;for(h in q)if(q.hasOwnProperty(h)){var c=
q[h].slice(0);for(r=0;r<c.length;r++){var f=c[r];!0===f.once&&this.removeListener(a,f.listener);var p=f.listener.apply(this,m||[]);p===this._getOnceReturnValue()&&this.removeListener(a,f.listener)}}return this};d.trigger=E("emitEvent");d.emit=function(a){var m=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,m)};d.setOnceReturnValue=function(a){this._onceReturnValue=a;return this};d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:
!0};d._getEvents=function(){return this._events||(this._events={})};k.noConflict=function(){z.EventEmitter=w;return k};"object"===typeof K&&K.exports?K.exports=k:z.EventEmitter=k})("undefined"!==typeof window?window:this||{})},{}]},{},[1])(1)});
