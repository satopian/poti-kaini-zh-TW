/*

 Copyright (c) 2016 Federico Zivolo and contributors

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in all
 copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
 jQuery throttle / debounce - v1.1 - 3/7/2010
 http://benalman.com/projects/jquery-throttle-debounce-plugin/

 Copyright (c) 2010 "Cowboy" Ben Alman
 Dual licensed under the MIT and GPL licenses.
 http://benalman.com/about/license/
 Bootstrap v4.6.2 (https://getbootstrap.com/)
 Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 jQuery JavaScript Library v3.7.1
 https://jquery.com/

 Copyright OpenJS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2023-08-28T13:37Z
 PEP v0.4.3 | https://github.com/jquery/PEP
 Copyright jQuery Foundation and other contributors | http://jquery.org/license
 EventEmitter v5.2.9 - git.io/ee
 Unlicense - http://unlicense.org/
 Oliver Caldwell - https://oli.me.uk/
 @preserve
*/
(function(h){"object"===typeof exports&&"undefined"!==typeof module?module.exports=h():"function"===typeof define&&define.amd?define([],h):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).ChickenPaint=h()})(function(){return function(){function h(K,C,w){function k(c,e){if(!C[c]){if(!K[c]){var v="function"==typeof require&&require;if(!e&&v)return v(c,!0);if(u)return u(c,!0);e=Error("Cannot find module '"+c+"'");throw e.code="MODULE_NOT_FOUND",
e;}e=C[c]={exports:{}};K[c][0].call(e.exports,function(a){return k(K[c][1][a]||a)},e,e.exports,h,K,C,w)}return C[c].exports}for(var u="function"==typeof require&&require,E=0;E<w.length;E++)k(w[E]);return k}return h}()({1:[function(h,K,C){function w(I){return I&&I.__esModule?I:{default:I}}function k(I){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==
Symbol.prototype?"symbol":typeof M},k(I)}function u(){if(!((0,B.isCanvasSupported)()&&"Uint8Array"in window))throw new c.UnsupportedBrowserException;var I=(-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("iPod")||-1!=navigator.userAgent.indexOf("iPhone"))&&-1!=navigator.userAgent.indexOf(" OS 8_0 "),M=-1==navigator.userAgent.indexOf("CriOS")&&-1!=navigator.userAgent.indexOf("Safari");if(I&&M)throw new c.UnsupportedBrowserException("You are using Safari 8.0.0, which is unable to upload drawings. That bug was fixed in the iOS 8.0.2 update, or in Chrome for iOS.");
return!0}function E(){var I=Array(c.T_MAX);I[c.T_PENCIL]=new v.default({toolNb:c.T_PENCIL,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:v.default.TIP_ROUND_AA,brushMode:v.default.BRUSH_MODE_PAINT,paintMode:v.default.PAINT_MODE_OPACITY});I[c.T_ERASER]=new v.default({toolNb:c.T_ERASER,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!1,tip:v.default.TIP_ROUND_AA,brushMode:v.default.BRUSH_MODE_ERASE,paintMode:v.default.PAINT_MODE_OPACITY});
I[c.T_PEN]=new v.default({toolNb:c.T_PEN,size:2,alpha:128,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!0,pressureAlpha:!1,tip:v.default.TIP_ROUND_AA,brushMode:v.default.BRUSH_MODE_PAINT,paintMode:v.default.PAINT_MODE_FLOW,alphaScale:.5});I[c.T_SOFTERASER]=new v.default({toolNb:c.T_SOFTERASER,size:16,alpha:64,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:v.default.TIP_ROUND_AIRBRUSH,brushMode:v.default.BRUSH_MODE_ERASE,paintMode:v.default.PAINT_MODE_FLOW,alphaScale:.125});
I[c.T_AIRBRUSH]=new v.default({toolNb:c.T_AIRBRUSH,size:50,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:v.default.TIP_ROUND_AIRBRUSH,brushMode:v.default.BRUSH_MODE_PAINT,paintMode:v.default.PAINT_MODE_FLOW,alphaScale:.125});I[c.T_DODGE]=new v.default({toolNb:c.T_DODGE,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:v.default.TIP_ROUND_AIRBRUSH,brushMode:v.default.BRUSH_MODE_DODGE,paintMode:v.default.PAINT_MODE_FLOW,alphaScale:.125});
I[c.T_BURN]=new v.default({toolNb:c.T_BURN,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:v.default.TIP_ROUND_AIRBRUSH,brushMode:v.default.BRUSH_MODE_BURN,paintMode:v.default.PAINT_MODE_FLOW,alphaScale:.125});I[c.T_WATER]=new v.default({toolNb:c.T_WATER,size:30,alpha:70,isAA:!1,minSpacing:.5,spacing:.02,pressureSize:!1,pressureAlpha:!0,tip:v.default.TIP_ROUND_AA,brushMode:v.default.BRUSH_MODE_WATER,paintMode:v.default.PAINT_MODE_FLOW,alphaScale:.125,resat:.3,
bleed:.6});I[c.T_BLUR]=new v.default({toolNb:c.T_BLUR,size:20,alpha:255,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:v.default.TIP_ROUND_PIXEL,brushMode:v.default.BRUSH_MODE_BLUR,paintMode:v.default.PAINT_MODE_FLOW,alphaScale:.125});I[c.T_SMUDGE]=new v.default({toolNb:c.T_SMUDGE,size:20,alpha:128,isAA:!1,minSpacing:.5,spacing:.01,pressureSize:!1,pressureAlpha:!0,tip:v.default.TIP_ROUND_AIRBRUSH,brushMode:v.default.BRUSH_MODE_SMUDGE,paintMode:v.default.PAINT_MODE_FLOW,alphaScale:.125,
resat:0,bleed:1});I[c.T_BLENDER]=new v.default({toolNb:c.T_BLENDER,size:20,alpha:60,isAA:!1,minSpacing:.5,spacing:.1,pressureSize:!1,pressureAlpha:!0,tip:v.default.TIP_ROUND_AIRBRUSH,brushMode:v.default.BRUSH_MODE_OIL,paintMode:v.default.PAINT_MODE_FLOW,alphaScale:.125,resat:0,bleed:.07});return I}function c(I){function M(aa){this.palName=aa}function R(aa){this.toolNum=aa}function ha(aa){this.modeNum=aa}function ca(aa){xa=aa==a.default.EDITING_MODE_IMAGE?c.COLOR_MODE_RGB:c.COLOR_MODE_GREYSCALE;qa.emitEvent("colorModeChange",
[aa==a.default.EDITING_MODE_IMAGE?"rgb":"greyscale"]);switch(xa){case c.COLOR_MODE_RGB:var ua=S.clone();break;case c.COLOR_MODE_GREYSCALE:ua=new z.default(z.default.greyToRGB(da))}qa.artwork.setForegroundColor(ua.getRgb());qa.emitEvent("colorChange",[ua])}function sa(){qa.emitEvent("toolChange",[Ha,Na[Ha]])}function na(aa){Xa!=aa&&(aa==c.M_TRANSFORM&&(rb=Xa),Xa=aa,qa.emitEvent("modeChange",[Xa]))}function Q(aa){na(c.M_DRAW);Ha=aa;qa.artwork.setBrush(Na[aa]);sa()}function oa(){var aa=new q.default({artwork:qa.getArtwork(),
rotation:$a.getRotation90(),swatches:gb.getSwatches()});aa.on("savingComplete",function(){qa.artwork.setHasUnsavedChanges(!1)});aa.on("savingFailure",function(){alert((0,F._)("Sorry, your drawing could not be saved, please try again later."))});aa.save()}function ia(){if(qa.isActionSupported("CPContinue")||confirm((0,F._)("Are you sure you want to send your drawing to the server and finish drawing now?"))){var aa=new q.default({artwork:qa.getArtwork(),rotation:$a.getRotation90(),swatches:gb.getSwatches(),
url:I.saveUrl}),ua=new y.default(qa,Pa,aa);aa.on("savingComplete",function(){qa.artwork.setHasUnsavedChanges(!1);!qa.isActionSupported("CPContinue")&&qa.isActionSupported("CPPost")&&qa.actionPerformed({action:"CPPost"})});aa.on("savingFailure",function(){alert((0,F._)("Sorry, your drawing could not be saved, please try again later."))});ua.on("shown",function(){aa.save()});ua.show()}}function ya(){if((0,B.isEventSupported)("onbeforeunload"))window.addEventListener("beforeunload",function(aa){if(qa.artwork.getHasUnsavedChanges())return aa.returnValue=
"Your drawing has unsaved changes!"});else(0,e.default)("a").on("click",function(aa){if("#"!=this.getAttribute("href")&&qa.artwork.getHasUnsavedChanges())return confirm("Your drawing has unsaved changes! Are you sure to want to navigate away?")})}function ta(aa,ua){Pa&&(Pa.addEventListener("dblclick",function(Ea){Ea.preventDefault();Ea.stopPropagation()}),qa.artwork.on("editModeChanged",ca),gb=new b.default(qa,Pa),qa.emitEvent("fullScreen",[ra]),qa.emitEvent("smallScreen",[Ma]),Ja.load(),Q(c.T_PEN),
gb.arrangePalettes(),aa&&gb.setSwatches(aa),ua&&gb.setRotation90(ua),H.default.getRef().detectTablet(),ya(),qa.artwork.on("unsavedChanges",function(Ea){I.allowMultipleSends&&qa.emitEvent("unsavedChanges",[Ea])}))}var Ga=this;(0,F.guessLanguage)();I.language&&(0,F.setLanguage)(I.language);var qa=this,Pa=I.uiElem,$a,gb,S=new z.default(0),da=255,xa=c.COLOR_MODE_RGB,Ha=c.T_PENCIL,Xa=c.M_DRAW,rb=Xa,tb=[4278190080,4294967295],Ma=!1,ra=!1,Na=E(),Ja=new G.default,ab,U,ba={CPFullScreen:{action:function(){qa.setFullScreen(!ra)},
isSupported:function(){return!("disable"===I.fullScreenMode||"force"===I.fullScreenMode||!1===I.allowFullScreen)},modifies:{gui:!0}},CPZoomIn:{action:function(){$a.zoomIn()},modifies:{gui:!0}},CPZoomOut:{action:function(){$a.zoomOut()},modifies:{gui:!0}},CPZoom100:{action:function(){$a.zoom100()},modifies:{gui:!0}},CPToolbarStyle:{action:function(){qa.setToolbarStyle("new"===Ja.toolbarStyle?"old":"new")},modifies:{gui:!0}},CPUndo:{action:function(){qa.artwork.undo()},modifies:{document:!0},allowed:"isUndoAllowed"},
CPRedo:{action:function(){qa.artwork.redo()},modifies:{document:!0},allowed:"isRedoAllowed"},CPClearHistory:{action:function(){confirm("You're about to clear the current Undo/Redo history.\nThis operation cannot be undone, are you sure you want to do that?")&&qa.artwork.clearHistory()},modifies:{document:!0}},CPPencil:new R(c.T_PENCIL),CPPen:new R(c.T_PEN),CPEraser:new R(c.T_ERASER),CPSoftEraser:new R(c.T_SOFTERASER),CPAirbrush:new R(c.T_AIRBRUSH),CPDodge:new R(c.T_DODGE),CPBurn:new R(c.T_BURN),CPWater:new R(c.T_WATER),
CPBlur:new R(c.T_BLUR),CPSmudge:new R(c.T_SMUDGE),CPBlender:new R(c.T_BLENDER),CPFloodFill:new ha(c.M_FLOODFILL),CPGradientFill:new ha(c.M_GRADIENTFILL),CPRectSelection:new ha(c.M_RECT_SELECTION),CPMoveTool:new ha(c.M_MOVE_TOOL),CPRotateCanvas:new ha(c.M_ROTATE_CANVAS),CPPanCanvas:new ha(c.M_PAN_CANVAS),CPColorPicker:new ha(c.M_COLOR_PICKER),CPTransform:{action:function(){var aa=qa.artwork.getActiveLayer();aa.visible?0==aa.alpha?qa.showLayerNotification(aa,"Whoops! This layer's opacity is currently 0%",
"opacity"):null==qa.artwork.transformAffineBegin()?qa.showLayerNotification(aa,"Whoops! All of the selected pixels are transparent!","layer"):na(c.M_TRANSFORM):qa.showLayerNotification(aa,"Whoops! This layer is currently hidden","layer")},modifies:{mode:!0},allowed:function(){return 0!=qa.artwork.getActiveLayer().getEffectiveAlpha()}},CPTransformAccept:{action:function(){Xa==c.M_TRANSFORM&&(qa.artwork.transformAffineFinish(),na(rb))},modifies:{mode:!0}},CPTransformReject:{action:function(){Xa==c.M_TRANSFORM&&
(qa.artwork.transformAffineAbort(),na(rb))},modifies:{document:!0,mode:!0}},CPFreeHand:{action:function(){Na[Ha].strokeMode=v.default.STROKE_MODE_FREEHAND;sa()},modifies:{tool:!0}},CPLine:{action:function(){Na[Ha].strokeMode=v.default.STROKE_MODE_LINE;sa()},modifies:{tool:!0}},CPBezier:{action:function(){Na[Ha].strokeMode=v.default.STROKE_MODE_BEZIER;sa()},modifies:{tool:!0}},CPAbout:{action:function(){(new d.default(Pa)).show()},modifies:{}},CPShortcuts:{action:function(){(new m.default(Pa)).show()},
modifies:{}},CPTabletSupport:{action:function(){(new n.default(Pa)).show()},modifies:{}},CPLayerDuplicate:{action:function(){qa.artwork.duplicateLayer()},modifies:{document:!0}},CPLayerMergeDown:{action:function(){qa.artwork.mergeDown()},modifies:{document:!0},allowed:"isMergeDownAllowed"},CPGroupMerge:{action:function(){qa.artwork.mergeGroup()},modifies:{document:!0},allowed:"isMergeGroupAllowed"},CPLayerMergeAll:{action:function(){qa.artwork.mergeAllLayers()},modifies:{document:!0},allowed:"isMergeAllLayersAllowed"},
CPExpandLayerGroup:{action:function(aa){qa.artwork.expandLayerGroup(aa.group,aa.expand)},modifies:{document:!0}},CPFill:{action:function(){qa.artwork.fill(qa.getCurColor().getRgb()|4278190080)},modifies:{document:!0},requiresDrawable:!0},CPClear:{action:function(){qa.artwork.clear()},modifies:{document:!0},requiresDrawable:!0},CPSelectAll:{action:function(){qa.artwork.rectangleSelection(qa.artwork.getBounds());$a.repaintAll()},modifies:{document:!0}},CPDeselectAll:{action:function(){qa.artwork.rectangleSelection(new N.default(0,
0,0,0));$a.repaintAll()},modifies:{document:!0}},CPHFlip:{action:function(){qa.artwork.hFlip()},modifies:{document:!0},requiresDrawable:!0},CPVFlip:{action:function(){qa.artwork.vFlip()},modifies:{document:!0},requiresDrawable:!0},CPMNoise:{action:function(){qa.artwork.monochromaticNoise()},modifies:{document:!0},requiresDrawable:!0},CPCNoise:{action:function(){qa.artwork.colorNoise()},modifies:{document:!0},allowed:"isColorNoiseAllowed"},CPFXBoxBlur:{action:function(){ab||=new f.default(Pa,qa);ab.show()},
modifies:{document:!0},requiresDrawable:!0},CPFXInvert:{action:function(){qa.artwork.invert()},modifies:{document:!0},requiresDrawable:!0},CPCut:{action:function(){qa.artwork.cutSelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCutSelectionAllowed"},CPCopy:{action:function(){qa.artwork.copySelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCopySelectionAllowed"},CPCopyMerged:{action:function(){qa.artwork.copySelectionMerged()},modifies:{document:!0},allowed:"isCopySelectionMergedAllowed"},
CPPaste:{action:function(){qa.artwork.pasteClipboard()},modifies:{document:!0},allowed:"isPasteClipboardAllowed"},CPToggleGrid:{action:function(aa){$a.showGrid(aa.selected)},modifies:{gui:!0}},CPGridOptions:{action:function(){U||=new t.default(Pa,$a);U.show()},modifies:{gui:!0}},CPLinearInterpolation:{action:function(aa){$a.setInterpolation(aa.selected)},modifies:{gui:!0},isSupported:function(){return(0,B.isCanvasInterpolationSupported)()}},CPResetCanvasRotation:{action:function(){$a.resetRotation()},
modifies:{gui:!0}},CPAddLayer:{action:function(){qa.artwork.addLayer("layer")},modifies:{document:!0}},CPAddGroup:{action:function(){qa.artwork.addLayer("group")},modifies:{document:!0}},CPAddLayerMask:{action:function(){qa.artwork.addLayerMask()},modifies:{document:!0},allowed:"isAddLayerMaskAllowed"},CPApplyLayerMask:{action:function(){qa.artwork.applyLayerMask(!0)},modifies:{document:!0},allowed:"isApplyLayerMaskAllowed"},CPRemoveLayerMask:{action:function(){qa.artwork.removeLayerMask(!1)},modifies:{document:!0},
allowed:"isRemoveLayerMaskAllowed"},CPRemoveLayer:{action:function(){qa.artwork.removeLayer()||alert("Sorry, you can't remove the last remaining layer in the drawing.")},modifies:{document:!0},allowed:"isRemoveLayerAllowed"},CPCreateClippingMask:{action:function(){qa.artwork.createClippingMask()},modifies:{document:!0},allowed:"isCreateClippingMaskAllowed"},CPReleaseClippingMask:{action:function(){qa.artwork.releaseClippingMask()},modifies:{document:!0},allowed:"isReleaseClippingMaskAllowed"},CPRelocateLayer:{action:function(aa){qa.artwork.relocateLayer(aa.layer,
aa.toGroup,aa.toIndex)},modifies:{document:!0}},CPSetActiveLayer:{action:function(aa){aa.mask&&aa.layer.mask&&!aa.layer.maskVisible&&qa.artwork.setLayerMaskVisible(aa.layer,!0);qa.artwork.setActiveLayer(aa.layer,aa.mask);qa.artwork.performIdleTasks()},modifies:{document:!0}},CPToggleMaskView:{action:function(){var aa=qa.artwork.toggleMaskView();aa&&qa.emitEvent("maskViewOpened",[aa])},modifies:{gui:!0}},CPSetMaskVisible:{action:function(aa){qa.artwork.setLayerMaskVisible(aa.layer,aa.visible)},modifies:{layerProp:!0}},
CPSetLayerVisibility:{action:function(aa){qa.artwork.setLayerVisibility(aa.layer,aa.visible)},modifies:{layerProp:!0}},CPSetLayerName:{action:function(aa){qa.artwork.setLayerName(aa.layer,aa.name)},modifies:{layerProp:!0}},CPSetLayerBlendMode:{action:function(aa){qa.artwork.setLayerBlendMode(aa.blendMode)},modifies:{layerProp:!0}},CPSetLayerAlpha:{action:function(aa){qa.artwork.setLayerAlpha(aa.alpha)},modifies:{layerProp:!0}},CPSetLayerLockAlpha:{action:function(aa){qa.artwork.setLayerLockAlpha(aa.lock)},
modifies:{layerProp:!0}},CPPalColor:new M("color"),CPPalBrush:new M("brush"),CPPalLayers:new M("layers"),CPPalStroke:new M("stroke"),CPPalSwatches:new M("swatches"),CPPalTool:new M("tool"),CPPalMisc:new M("misc"),CPPalTextures:new M("textures"),CPTogglePalettes:{action:function(){gb.togglePalettes()},modifies:{gui:!0}},CPArrangePalettes:{action:function(){gb.arrangePalettes()},modifies:{gui:!0}},CPSave:{action:function(){oa()},isSupported:function(){return!1!==I.allowDownload},modifies:{document:!0}},
CPSend:{action:function(){ia()},isSupported:function(){return!!I.saveUrl},modifies:{document:!0}},CPPost:{action:function(){window.location=I.postUrl},isSupported:function(){return!!I.postUrl},modifies:{document:!0}},CPContinue:{action:function(){},isSupported:function(){return!!I.allowMultipleSends}},CPExit:{action:function(){window.location=I.exitUrl},isSupported:function(){return!!I.exitUrl},modifies:{}}};M.prototype.action=function(aa){gb.showPalette(this.palName,aa.selected)};M.prototype.modifies=
{gui:!0};R.prototype.action=function(){Q(this.toolNum)};R.prototype.modifies={mode:!0,tool:!0};R.prototype.requiresDrawable=!0;ha.prototype.action=function(){na(this.modeNum)};ha.prototype.modifies={mode:!0};this.callToolListeners=function(){sa()};this.getArtwork=function(){return this.artwork};this.setCanvas=function(aa){$a=aa};this.setTransformInterpolation=function(aa){this.artwork.setTransformInterpolation(aa)};this.setCurColor=function(aa){switch(xa){case c.COLOR_MODE_RGB:S.isEqual(aa)||(S.copyFrom(aa),
this.artwork.setForegroundColor(aa.getRgb()),this.emitEvent("colorChange",[aa]));break;case c.COLOR_MODE_GREYSCALE:if(aa=aa.getValue(),da!=aa){var ua=z.default.greyToRGB(aa);this.artwork.setForegroundColor(ua);da=aa;this.emitEvent("colorChange",[new z.default(ua)])}}};this.getCurColor=function(){switch(xa){case c.COLOR_MODE_RGB:return S.clone();case c.COLOR_MODE_GREYSCALE:return new z.default(z.default.greyToRGB(da))}};this.setCurGradient=function(aa){tb=aa.slice(0);this.emitEvent("gradientChange",
[tb])};this.getCurGradient=function(){return tb.slice(0)};this.setBrushSize=function(aa){Na[Ha].size=Math.max(1,Math.min(200,aa));sa()};this.getBrushSize=function(){return Na[Ha].size};this.setAlpha=function(aa){Na[Ha].alpha=aa;sa()};this.getAlpha=function(){return Na[Ha].alpha};this.getCurMode=function(){return Xa};this.getCurTool=function(){return Ha};this.getBrushInfo=function(){return Na[Ha]};this.isActionSupported=function(aa){if(ba[aa]){var ua=k(ba[aa].isSupported);return"function"==ua?ba[aa].isSupported():
"undefined"==ua?!0:ba[aa].isSupported}return!1};this.isActionAllowed=function(aa){return(aa=ba[aa])?"function"==typeof aa.allowed?aa.allowed():"string"==typeof aa.allowed?this.artwork[aa.allowed]():!aa.requiresDrawable||this.artwork.isActiveLayerDrawable():!1};this.showLayerNotification=function(aa,ua,Ea){this.emitEvent("layerNotification",[aa,ua,Ea])};this.actionPerformed=function(aa){if(null!=this.artwork&&null!=$a){var ua=ba[aa.action];ua&&(Xa==c.M_TRANSFORM&&(ua.modifies.document||ua.modifies.mode)&&
-1==["CPTransformAccept","CPTransformReject"].indexOf(aa.action)?"CPUndo"==aa.action?ba.CPTransformReject.action():"CPTransform"!=aa.action&&(ua=new g.default(Pa,this),ua.on("accept",this.actionPerformed.bind(this,aa)),ua.on("reject",this.actionPerformed.bind(this,aa)),ua.show()):ua.action(aa))}};this.setSmallScreenMode=function(aa){Ma!==aa&&(Ma=aa,(0,e.default)(Pa).toggleClass("chickenpaint-small-screen",Ma),qa.emitEvent("smallScreen",[Ma]))};this.getSmallScreenMode=function(){return Ma};this.setFullScreen=
function(aa){ra!==aa&&(ra=aa,(0,e.default)("body").toggleClass("chickenpaint-full-screen",ra),(0,e.default)(Pa).toggleClass("chickenpaint-full-screen",ra),ra&&0===(0,e.default)("head meta[name=viewport]").length?((0,e.default)("head").append('<meta name="viewport" content="width=device-width,user-scalable=no">'),setTimeout(function(){return qa.emitEvent("fullScreen",[ra])},200)):qa.emitEvent("fullScreen",[ra]))};this.isFullScreen=function(){return ra};this.setToolbarStyle=function(aa){Ja.set("toolbarStyle",
aa);Ja.save()};this.getToolbarStyle=function(){return Ja.get("toolbarStyle")};this.getResourcesRoot=function(){return I.resourcesRoot};u();Pa&&((0,B.isFlexboxSupported)()||(Pa.className+=" no-flexbox"),Pa.className+=" chickenpaint chickenpaint-lang-"+(0,F.currentLanguage)());I.resourcesRoot=I.resourcesRoot||"chickenpaint/";I.disableBootstrapAPI&&(0,e.default)(document).off(".data-api");this.setSmallScreenMode(430>(0,e.default)(window).width()||430>(0,e.default)(window).height());switch(I.fullScreenMode){case "force":this.setFullScreen(!0);
break;case "auto":this.setFullScreen(Ma)}Ja.on("toolbarStyle",function(aa){return Ga.emitEvent("toolbarStyleChange",[aa])});if(I.loadImageUrl||I.loadChibiFileUrl){var ea=new l.default(I);new r.default(Pa,ea,I.resourcesRoot);ea.on("loadingComplete",function(aa){qa.artwork=aa.layers||aa.flat;ta(aa.swatches,I.rotation);if(I.onLoaded)I.onLoaded(this)});ea.load()}else if(I.artwork?this.artwork=I.artwork:(this.artwork=new a.default(I.canvasWidth||800,I.canvasHeight||600),this.artwork.addBackgroundLayer()),
ta(),I.onLoaded)I.onLoaded(this)}Object.defineProperty(C,"__esModule",{value:!0});C.default=c;h("core-js/stable/symbol/index.js");h("core-js/stable/promise/index.js");h("core-js/stable/map/index.js");h("core-js/stable/set/index.js");h("core-js/stable/typed-array/slice.js");h("core-js/stable/typed-array/fill.js");h("core-js/stable/array/iterator.js");h("core-js/stable/array/fill.js");h("core-js/stable/string/ends-with.js");var e=w(h("jquery"));h("bootstrap");h("../lib/raf.js");var v=w(h("./engine/CPBrushInfo.js")),
a=w(h("./engine/CPArtwork.js")),l=w(h("./engine/CPResourceLoader.js")),q=w(h("./engine/CPResourceSaver.js")),r=w(h("./gui/CPSplashScreen.js")),b=w(h("./gui/CPMainGUI.js")),d=w(h("./gui/CPAboutDialog.js")),g=w(h("./gui/CPConfirmTransformDialog.js")),m=w(h("./gui/CPShortcutsDialog.js")),f=w(h("./gui/CPBoxBlurDialog.js")),n=w(h("./gui/CPTabletDialog.js")),t=w(h("./gui/CPGridDialog.js")),y=w(h("./gui/CPSendDialog.js")),B=h("./util/CPPolyfill.js"),z=w(h("./util/CPColor.js")),H=w(h("./util/CPWacomTablet.js")),
N=w(h("./util/CPRect.js")),x=w(h("wolfy87-eventemitter")),F=h("./languages/lang.js"),G=w(h("./gui/CPUserPreferences.js"));window.PointerEvent&&(window.hasNativePointerEvents=!0);h("pepjs");c.prototype=Object.create(x.default.prototype);c.prototype.constructor=c;c.UnsupportedBrowserException=function(I){this.message=I};c.UnsupportedBrowserException.prototype.toString=function(){var I="Sorry, your web browser does not support ChickenPaint.";return I=this.message?I+(" "+this.message):I+" Please try a modern browser like Chrome, Safari, Firefox, or Edge."};
c.M_DRAW=0;c.M_FLOODFILL=1;c.M_RECT_SELECTION=2;c.M_MOVE_TOOL=3;c.M_ROTATE_CANVAS=4;c.M_COLOR_PICKER=5;c.M_GRADIENTFILL=6;c.M_TRANSFORM=7;c.M_PAN_CANVAS=8;c.T_PENCIL=0;c.T_ERASER=1;c.T_PEN=2;c.T_SOFTERASER=3;c.T_AIRBRUSH=4;c.T_DODGE=5;c.T_BURN=6;c.T_WATER=7;c.T_BLUR=8;c.T_SMUDGE=9;c.T_BLENDER=10;c.T_MAX=11;c.COLOR_MODE_RGB=0;c.COLOR_MODE_GREYSCALE=1;K.exports=C.default},{"../lib/raf.js":69,"./engine/CPArtwork.js":3,"./engine/CPBrushInfo.js":8,"./engine/CPResourceLoader.js":20,"./engine/CPResourceSaver.js":21,
"./gui/CPAboutDialog.js":23,"./gui/CPBoxBlurDialog.js":24,"./gui/CPConfirmTransformDialog.js":32,"./gui/CPGridDialog.js":34,"./gui/CPMainGUI.js":36,"./gui/CPSendDialog.js":42,"./gui/CPShortcutsDialog.js":43,"./gui/CPSplashScreen.js":45,"./gui/CPTabletDialog.js":48,"./gui/CPUserPreferences.js":51,"./languages/lang.js":54,"./util/CPColor.js":58,"./util/CPPolyfill.js":60,"./util/CPRect.js":63,"./util/CPWacomTablet.js":66,bootstrap:70,"core-js/stable/array/fill.js":287,"core-js/stable/array/iterator.js":288,
"core-js/stable/map/index.js":289,"core-js/stable/promise/index.js":290,"core-js/stable/set/index.js":291,"core-js/stable/string/ends-with.js":292,"core-js/stable/symbol/index.js":293,"core-js/stable/typed-array/fill.js":294,"core-js/stable/typed-array/slice.js":295,jquery:297,pepjs:314,"wolfy87-eventemitter":316}],2:[function(h,K,C){Object.defineProperty(C,"__esModule",{value:!0});C.createCanvas=function(w,k){var u=document.createElement("canvas");u.width=w;u.height=k;return u};C.createImageData=
function(w,k){return document.createElement("canvas").getContext("2d").createImageData(w,k)}},{}],3:[function(h,K,C){function w(ta){"@babel/helpers - typeof";return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ga){return typeof Ga}:function(Ga){return Ga&&"function"==typeof Symbol&&Ga.constructor===Symbol&&Ga!==Symbol.prototype?"symbol":typeof Ga},w(ta)}function k(ta){return ta&&ta.__esModule?ta:{default:ta}}function u(){u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():
function(ta,Ga,qa){var Pa;for(Pa=ta;!Object.prototype.hasOwnProperty.call(Pa,Ga)&&(Pa=r(Pa),null!==Pa););if(Pa)return Pa=Object.getOwnPropertyDescriptor(Pa,Ga),Pa.get?Pa.get.call(3>arguments.length?ta:qa):Pa.value};return u.apply(this,arguments)}function E(ta,Ga){if(!(ta instanceof Ga))throw new TypeError("Cannot call a class as a function");}function c(ta,Ga){for(var qa=0;qa<Ga.length;qa++){var Pa=Ga[qa];Pa.enumerable=Pa.enumerable||!1;Pa.configurable=!0;"value"in Pa&&(Pa.writable=!0);var $a=Object,
gb=$a.defineProperty;a:{var S=Pa.key;if("object"===w(S)&&null!==S){var da=S[Symbol.toPrimitive];if(void 0!==da){S=da.call(S,"string");if("object"!==w(S))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}S=String(S)}}S="symbol"===w(S)?S:String(S);gb.call($a,ta,S,Pa)}}function e(ta,Ga,qa){Ga&&c(ta.prototype,Ga);qa&&c(ta,qa);Object.defineProperty(ta,"prototype",{writable:!1});return ta}function v(ta,Ga){if("function"!==typeof Ga&&null!==Ga)throw new TypeError("Super expression must either be null or a function");
ta.prototype=Object.create(Ga&&Ga.prototype,{constructor:{value:ta,writable:!0,configurable:!0}});Object.defineProperty(ta,"prototype",{writable:!1});Ga&&a(ta,Ga)}function a(ta,Ga){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(qa,Pa){qa.__proto__=Pa;return qa};return a(ta,Ga)}function l(ta){var Ga=q();return function(){var qa=r(ta);if(Ga){var Pa=r(this).constructor;qa=Reflect.construct(qa,arguments,Pa)}else qa=qa.apply(this,arguments);if(!qa||"object"!==w(qa)&&"function"!==typeof qa){if(void 0!==
qa)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");qa=this}return qa}}function q(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ta){return!1}}function r(ta){r=Object.setPrototypeOf?Object.getPrototypeOf.bind():
function(Ga){return Ga.__proto__||Object.getPrototypeOf(Ga)};return r(ta)}function b(ta,Ga){var qa="undefined"!==typeof Symbol&&ta[Symbol.iterator]||ta["@@iterator"];if(!qa){if(Array.isArray(ta)||(qa=d(ta))||Ga&&ta&&"number"===typeof ta.length){qa&&(ta=qa);var Pa=0;Ga=function(){};return{s:Ga,n:function(){return Pa>=ta.length?{done:!0}:{done:!1,value:ta[Pa++]}},e:function(da){throw da;},f:Ga}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var $a=!0,gb=!1,S;return{s:function(){qa=qa.call(ta)},n:function(){var da=qa.next();$a=da.done;return da},e:function(da){gb=!0;S=da},f:function(){try{$a||null==qa.return||qa.return()}finally{if(gb)throw S;}}}}function d(ta,Ga){if(ta){if("string"===typeof ta)return g(ta,Ga);var qa=Object.prototype.toString.call(ta).slice(8,-1);"Object"===qa&&ta.constructor&&(qa=ta.constructor.name);if("Map"===qa||"Set"===qa)return Array.from(ta);if("Arguments"===qa||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qa))return g(ta,
Ga)}}function g(ta,Ga){if(null==Ga||Ga>ta.length)Ga=ta.length;for(var qa=0,Pa=Array(Ga);qa<Ga;qa++)Pa[qa]=ta[qa];return Pa}function m(ta){return ta.substring(0,1).toUpperCase()+ta.substring(1)}function f(ta,Ga){return ta+Ga}function n(ta){return ta?ta.width*ta.height*4:0}function t(ta,Ga){function qa(V){dc=!1;if(0<wc.size||0<qc.size)V?da():Xb||setTimeout(da,1E3)}function Pa(){db.emitEvent("changeSelection",[])}function $a(V){db.emitEvent("updateRegion",[V])}function gb(){db.emitEvent("changeStructure");
Qa.resetTree();Na();$a(db.getBounds())}function S(V,pa,La){db.emitEvent("changeLayer",[V]);La||(Qa.layerPropertyChanged(V,pa),$a(db.getBounds()))}function da(){var V=b(wc),pa;try{for(V.s();!(pa=V.n()).done;){var La=pa.value;La.rebuildImageThumbnail();db.emitEvent("changeLayerImageThumb",[La])}}catch(Oa){V.e(Oa)}finally{V.f()}V=b(qc);var ja;try{for(V.s();!(ja=V.n()).done;){var Da=ja.value;Da.rebuildMaskThumbnail();db.emitEvent("changeLayerMaskThumb",[Da])}}catch(Oa){V.e(Oa)}finally{V.f()}wc.clear();
Xb&&(clearTimeout(Xb),Xb=null)}function xa(V,pa,La,ja){Array.isArray(V)||(V=[V]);V.forEach(function(Wa){return Qa.invalidateLayerRect(Wa,pa)});var Da=!1;if(La){Db.union(pa);La=b(V);var Oa;try{for(La.s();!(Oa=La.n()).done;){var Ia=Oa.value;Ia instanceof y.default&&(wc.add(Ia),Da=!0)}}catch(Wa){La.e(Wa)}finally{La.f()}}ja&&(Hb.union(pa),V.forEach(function(Wa){qc.add(Wa);Tb&&Tb.layer==Wa&&Tb.invalidateRect(pa)}),Da=!0);Da&&(Xb&&(clearTimeout(Xb),Xb=null),dc||(Xb=setTimeout(da,1E3)));$a(pa)}function Ha(V,
pa){xa(V,pa,!ob,ob)}function Xa(){return ob?Sa.mask:Sa.image}function rb(){if(!Lb.isEmpty()){if(ob){var V=Sa.mask;lb.brushMode==I.default.BRUSH_MODE_ERASE?Ib[I.default.BRUSH_MODE_PAINT].mergeOntoMask(V,O,4278190080):Ib[lb.brushMode].mergeOntoMask(V,O,Ub&255)}else{V=Sa.image;var pa=Sa.getLockAlpha();lb.brushMode==I.default.BRUSH_MODE_ERASE&&pa?Ib[I.default.BRUSH_MODE_PAINT].mergeOntoImage(V,Ua,16777215):Ib[lb.brushMode].mergeOntoImage(V,Ua,Ub);pa&&V.copyAlphaFrom(Ua,Lb)}Lb.makeEmpty()}}function tb(){Sa instanceof
y.default&&!Db.isEmpty()&&(Ua.copyBitmapRect(Sa.image,Db.left,Db.top,Db),Db.makeEmpty())}function Ma(){Sa.mask&&!Hb.isEmpty()&&(O.copyBitmapRect(Sa.mask,Hb.left,Hb.top,Hb),Hb.makeEmpty())}function ra(){ob?Ma():tb()}function Na(){var V=db.getBounds();Db.set(V);Hb.set(V)}function Ja(V){db.setHasUnsavedChanges(!0);0<Qb.length&&(Qb=[]);0!==Eb.length&&Eb[Eb.length-1].merge(V)?Eb[Eb.length-1].noChange()&&Eb.pop():(30<=Eb.length&&Eb.shift(),db.compactUndo(),Eb.push(V))}function ab(V,pa){V||pa||(V=!ob,pa=
ob);var La=Bb.clone(),ja=V?Ua.copyRectXOR(Sa.image,La):null,Da=pa?O.copyRectXOR(Sa.mask,La):null;this.layer=Sa;Bb.makeEmpty();this.redo=this.undo=function(){ja&&this.layer.image.setRectXOR(ja,La);Da&&this.layer.mask.setRectXOR(Da,La);xa(this.layer,La,null!=ja,null!=Da)};this.getMemoryUsed=function(Oa,Ia){return(ja?ja.length:0)+(Da?Da.length:0)}}function U(V){var pa=V.maskLinked,La=V.maskVisible;this.undo=function(){V.setMask(null);V.maskLinked=pa;V.maskVisible=La;gb();db.setActiveLayer(V,!1)};this.redo=
function(){var ja=new H.default(db.width,db.height,8);ja.clearAll(255);V.maskLinked=!0;V.maskVisible=!0;V.setMask(ja);gb();db.setActiveLayer(V,!0)};this.redo()}function ba(V,pa){var La=V.mask,ja=!1;var Da=pa&&V instanceof y.default?V.image.clone():null;ja=Sa==V&&ob;this.undo=function(){V.setMask(La);Da&&(V.image.copyPixelsFrom(Da),xa(V,V.image.getBounds(),!0,!1));ja&&db.setActiveLayer(V,!0);gb()};this.redo=function(){Da&&(z.default.multiplyAlphaByMask(V.image,100,V.mask),xa(V,db.getBounds(),!0,!1));
ja&&db.setActiveLayer(V,!1);V.setMask(null);gb()};this.redo()}function ea(V,pa,La){var ja=La instanceof y.default&&La.clip,Da=V.layers[pa],Oa=Da instanceof y.default&&Da.clip,Ia=ob;this.undo=function(){V.removeLayer(La);var Wa=V.layers[pa-1]||V.layers[0]||V;Da instanceof y.default&&(Da.clip=Oa);La instanceof y.default&&(La.clip=ja);gb();db.setActiveLayer(Wa,Ia)};this.redo=function(){V.insertLayer(pa,La);Oa&&(La instanceof y.default?La.clip=!0:Da.clip=!1);gb();db.setActiveLayer(La,!1)};this.redo()}
function aa(V){var pa=V.clone(),La=ob;this.undo=function(){pa.parent.removeLayer(pa);gb();db.setActiveLayer(V,La)};this.redo=function(){var ja=V.name;ja.endsWith(" Copy")||(ja+=" Copy");pa.name=ja;V.parent.insertLayer(V.parent.indexOf(V)+1,pa);gb();db.setActiveLayer(pa,!1)};this.redo()}function ua(V){var pa=V.parent,La=pa.indexOf(V),ja=ob,Da=0;if(V instanceof y.default&&!V.clip)for(var Oa=La+1;Oa<pa.layers.length;Oa++)if(pa.layers[Oa]instanceof y.default&&pa.layers[Oa].clip)Da++;else break;this.undo=
function(){pa.insertLayer(La,V);for(var Ia=0;Ia<Da;Ia++)pa.layers[Ia+La+1].clip=!0;gb();db.setActiveLayer(V,ja)};this.redo=function(){for(var Ia=0;Ia<Da;Ia++)pa.layers[Ia+La+1].clip=!1;pa.removeLayerAtIndex(La);Ia=0==pa.layers.length?V.parent:pa.layers[Math.max(La-1,0)];gb();db.setActiveLayer(Ia,!1)};this.getMemoryUsed=function(Ia,Wa){return Ia?0:V.getMemoryUsed()};this.redo()}function Ea(V){var pa=V.parent.indexOf(V),La=ob,ja=new y.default(db.width,db.height,"");this.undo=function(){V.parent.setLayerAtIndex(pa,
V);gb();db.setActiveLayer(V,La)};this.redo=function(){V.parent.setLayerAtIndex(pa,ja);gb();db.setActiveLayer(ja,!1)};this.getMemoryUsed=function(Oa,Ia){return Oa?0:V.getMemoryUsed()};var Da=new N.default(V,db.width,db.height,!1);Da.buildTree();Da=Da.blendTree();ja.name=V.name;ja.alpha=Da.alpha;ja.image=Da.image;ja.blendMode=Da.blendMode;ja.mask=Da.mask;ja.blendMode==z.default.LM_PASSTHROUGH&&(ja.blendMode=z.default.LM_NORMAL);this.redo()}function Fa(V){var pa=V.parent,La=pa.layers[pa.indexOf(V)-1],
ja=new y.default(db.width,db.height,""),Da=ob;this.undo=function(){var Oa=pa.indexOf(ja);pa.removeLayerAtIndex(Oa);pa.insertLayer(Oa,V);pa.insertLayer(Oa,La);gb();db.setActiveLayer(V,Da)};this.redo=function(){ja.copyFrom(La);0<V.getEffectiveAlpha()&&(ja.mask?(z.default.multiplyAlphaByMask(ja.image,ja.alpha,ja.mask),ja.mask=null):z.default.multiplyAlphaBy(ja.image,ja.alpha),ja.alpha=100,z.default.fuseImageOntoImage(ja.image,!0,V.image,V.alpha,V.blendMode,V.getBounds(),V.mask));var Oa=pa.indexOf(La);
pa.removeLayerAtIndex(Oa);pa.removeLayerAtIndex(Oa);pa.insertLayer(Oa,ja);gb();db.setActiveLayer(ja,!1)};this.getMemoryUsed=function(Oa,Ia){return Oa?0:V.getMemoryUsed()+ja.getMemoryUsed()};this.redo()}function ma(){var V=db.getActiveLayer(),pa=za.layers.slice(0),La=new y.default(db.width,db.height,"");this.undo=function(){za.layers=pa.slice(0);gb();db.setActiveLayer(V,!1)};this.redo=function(){var ja=db.fusionLayers();La.copyImageFrom(ja);za.clearLayers();La.setName(db.getDefaultLayerName(!1));za.addLayer(La);
gb();db.setActiveLayer(La,!1)};this.getMemoryUsed=function(ja,Da){return pa.map(function(Oa){return Oa.getMemoryUsed()}).reduce(f,0)};this.redo()}function W(V,pa,La){var ja=V.parent,Da=V.parent.indexOf(V),Oa=ob,Ia=ja.layers[ja.indexOf(V)+1],Wa=pa.layers[La],Za=V instanceof y.default&&V.clip,nb=Za?V.getClippingBase():!1,pb=0,ac=0;if(V instanceof y.default&&!V.clip)for(var zb=Da+1;zb<ja.layers.length;zb++)if(ja.layers[zb]instanceof y.default&&ja.layers[zb].clip)pb++;else break;else if(V instanceof B.default)for(zb=
La;zb<pa.layers.length;zb++)if(pa.layers[zb]instanceof y.default&&pa.layers[zb].clip)ac++;else break;this.undo=function(){V.parent.removeLayer(V);var Mb=Ia?ja.indexOf(Ia):ja.layers.length;ja.insertLayer(Mb,V);V instanceof y.default&&(V.clip=Za);for(Mb=0;Mb<pb;Mb++)ja.layers[Mb+Da+1].clip=!0;for(Mb=0;Mb<ac;Mb++)pa.layers[Mb+La].clip=!0;gb();db.setActiveLayer(V,Oa)};this.redo=function(){for(var Mb=0;Mb<pb;Mb++)ja.layers[Mb+Da+1].clip=!1;V.parent.removeLayer(V);Mb=Wa?pa.indexOf(Wa):pa.layers.length;
pa.insertLayer(Mb,V);for(var lc=0;lc<ac;lc++)pa.layers[lc+Mb+1].clip=!1;V instanceof y.default&&(V.clip&&V.getClippingBase()!=nb&&(V.clip=!1),Wa instanceof y.default&&Wa.clip&&(V.clip=!0));for(lc=0;lc<ac;lc++)pa.layers[lc+Mb+1].clip=!1;gb();db.setActiveLayer(V,!1)};this.redo()}function Z(V,pa){var La=m(V),ja=function(Da,Oa){Array.isArray(Da)||(Da=[Da]);this.layers=Da;this.from=this.layers.map(function(Ia){return Ia["get"+La]()});this.to=Oa;this.redo()};ja.prototype=Object.create(M.default.prototype);
ja.prototype.constructor=ja;ja.prototype.undo=function(){var Da=this;this.layers.forEach(function(Oa,Ia){return Oa["set"+La](Da.from[Ia])});this.layers.forEach(function(Oa){return S(Oa,V,!pa)})};ja.prototype.redo=function(){var Da=this;this.layers.forEach(function(Oa){return Oa["set"+La](Da.to)});this.layers.forEach(function(Oa){return S(Oa,V,!pa)})};ja.prototype.merge=function(Da){var Oa;if(Oa=Da instanceof ja)a:{Oa=this.layers;var Ia=Da.layers;if(Oa.length!=Ia.length)Oa=!1;else{for(var Wa=0;Wa<
Oa.length;Wa++)if(Oa[Wa]!=Ia[Wa]){Oa=!1;break a}Oa=!0}}return Oa?(this.to=Da.to,!0):!1};ja.prototype.noChange=function(){for(var Da=0;Da<this.from.length;Da++)if(this.from[Da]!=this.to)return!1;return!0};return ja}function D(V,pa){V=V.clone();pa=pa.clone();this.undo=function(){db.setSelection(V);$a(db.getBounds())};this.redo=function(){db.setSelection(pa);$a(db.getBounds())};this.noChange=function(){return V.equals(pa)}}function J(V,pa,La){var ja=pa?V.mask:V.image,Da=ja.cloneRect(La);La=La.clone();
this.undo=function(){ja.copyBitmapRect(Da,La.left,La.top,Da.getBounds());db.setActiveLayer(V,pa);db.setSelection(La);xa(V,La,!pa,pa)};this.redo=function(){pa?ja.clearRect(La,0):ja.clearRect(La,16777215);jc=new R.default(Da,La.left,La.top);db.setActiveLayer(V,pa);db.emptySelection();xa(V,La,!pa,pa)};this.getMemoryUsed=function(Oa,Ia){return Da==Ia?0:Da.getMemorySize()};this.redo()}function Y(V){var pa=db.getSelection(),La=ob,ja=new y.default(db.width,db.height,db.getDefaultLayerName(!1)),Da=Sa,Oa=
Da.parent;this.undo=function(){Oa.removeLayer(ja);db.setSelection(pa);gb();db.setActiveLayer(Da,La)};this.redo=function(){var Ia=Oa.indexOf(Da),Wa=V.bmp.getBounds();Oa.insertLayer(Ia+1,ja);if(Wa.isInside(db.getBounds())){Ia=V.x;var Za=V.y}else Ia=(db.width-V.bmp.width)/2|0,Za=(db.height-V.bmp.height)/2|0;if(V.bmp instanceof H.default){var nb=new F.default(V.bmp.width,V.bmp.height);nb.copyPixelsFromGreyscale(V.bmp);ja.image.copyBitmapRect(nb,Ia,Za,Wa)}else ja.image.copyBitmapRect(V.bmp,Ia,Za,Wa);db.emptySelection();
gb();db.setActiveLayer(ja,!1)};this.getMemoryUsed=function(Ia,Wa){return V.bmp==Wa?0:V.bmp.getMemorySize()};this.redo()}ta|=0;Ga|=0;var za=new B.default("Root",z.default.LM_NORMAL),Qa=new N.default(za,ta,Ga,!0),Ua=new F.default(ta,Ga),Db=new ca.default(0,0,ta,Ga),O=new H.default(ta,Ga,8),Hb=new ca.default(0,0,ta,Ga),bc=new H.default(ta,Ga,32),Lb=new ca.default(0,0,0,0),rc=new G.default,db=this,Ib=[],Sa=za,ob=!1,Tb=null,Bb=new ca.default(0,0,0,0),zc=!1,kc=new ca.default(0,0,0,0),sc=null,fc=new sa.default,
xb=null,jc=null,Eb=[],Qb=[],lb=null,gc=0,Yb=0,mb=0,Nb=!1,dc=!1,qc=new Set,wc=new Set,Xb=null,Ub=0,mc="smooth";this.getLayersRoot=function(){return za};this.getSelectionAutoSelect=function(){return kc.isEmpty()?this.getBounds():this.getSelection()};this.getSelection=function(){return kc.clone()};this.setHasUnsavedChanges=function(V){V!=zc&&(zc=V,this.emitEvent("unsavedChanges",[V]))};this.getHasUnsavedChanges=function(){return zc};this.isAddLayerMaskAllowed=function(){return!Sa.mask};this.addLayerMask=
function(){this.isAddLayerMaskAllowed()&&Ja(new U(Sa))};this.isRemoveLayerMaskAllowed=function(){return null!==Sa.mask};this.removeLayerMask=function(){this.isRemoveLayerMaskAllowed()&&Ja(new ba(Sa,!1))};this.isApplyLayerMaskAllowed=function(){return null!==Sa.mask&&Sa instanceof y.default};this.applyLayerMask=function(V){this.isApplyLayerMaskAllowed()&&Ja(new ba(Sa,!0))};this.addLayer=function(V){if(Sa instanceof B.default&&Sa.expanded){var pa=Sa;var La=Sa.layers.length}else pa=Sa.parent,La=pa.layers.indexOf(Sa)+
1;switch(V){case "group":for(;pa.layers[La]instanceof y.default&&pa.layers[La].clip;)La++;V=new B.default(this.getDefaultLayerName(!0),z.default.LM_PASSTHROUGH);break;default:V=new y.default(this.width,this.height,this.getDefaultLayerName(!1)),V.image.clearAll(16777215)}Ja(new ea(pa,La,V));return V};this.addLayerObject=function(V,pa){V.addLayer(pa);V==za&&1==za.layers.length&&(Sa=pa);gb()};this.addLayerGroupObject=function(V,pa,La){for(var ja=[],Da=0;Da<La;Da++)ja.unshift(V.layers.pop());ja.forEach(function(Oa){return pa.addLayer(Oa)});
this.addLayerObject(V,pa)};this.isRemoveLayerAllowed=function(){return Sa instanceof y.default?za.getLinearizedLayerList(!1).some(function(V){return V instanceof y.default&&V!=Sa}):Sa instanceof B.default?za.getLinearizedLayerList(!1).some(function(V){return V instanceof y.default&&!V.hasAncestor(Sa)}):!1};this.removeLayer=function(){return this.isRemoveLayerAllowed()?(Ja(new ua(Sa)),!0):!1};this.duplicateLayer=function(){Ja(new aa(Sa))};this.isMergeDownAllowed=function(){var V=Sa.parent.indexOf(Sa);
return 0<V&&Sa instanceof y.default&&Sa.parent.layers[V-1]instanceof y.default};this.mergeDown=function(){this.isMergeDownAllowed()&&Ja(new Fa(Sa))};this.isMergeGroupAllowed=function(){return Sa instanceof B.default&&0<Sa.getEffectiveAlpha()};this.mergeGroup=function(){this.isMergeGroupAllowed()&&Ja(new Ea(Sa))};this.isMergeAllLayersAllowed=function(){return 1<za.getLinearizedLayerList(!1).length};this.mergeAllLayers=function(){this.isMergeAllLayersAllowed()&&Ja(new ma)};this.relocateLayer=function(V,
pa,La){V&&pa&&V!=pa&&!pa.hasAncestor(V)&&Ja(new W(V,pa,La))};this.setLayerVisibility=function(V,pa){var La=[];if(V.ancestorsAreVisible())V.visible!=pa&&Ja(new Ac(V,pa));else{for(;null!=V;V=V.parent)V.visible||La.push(V);Ja(new Ac(La,!0))}};this.expandLayerGroup=function(V,pa){V.expanded!=pa&&(V.expanded=pa,!pa&&Sa.hasAncestor(V)&&this.setActiveLayer(V,!1),S(V,"expanded",!0))};this.setLayerAlpha=function(V){Sa.getAlpha()!=V&&Ja(new xc(Sa,V))};this.setLayerMaskLinked=function(V){Sa.maskLinked!=V&&Ja(new Ra(Sa,
V))};this.setLayerMaskVisible=function(V,pa){V.maskVisible!=pa&&Ja(new tc(V,pa))};this.setLayerBlendMode=function(V){Sa.getBlendMode()!=V&&(V!=z.default.LM_PASSTHROUGH||Sa instanceof B.default)&&Ja(new Fc(Sa,V))};this.setLayerName=function(V,pa){V.getName()!=pa&&Ja(new fa(V,pa))};this.paintDab=function(V,pa,La){lb.applyPressure(La);0<lb.scattering&&(V+=fc.nextGaussian()*lb.curScattering/4,pa+=fc.nextGaussian()*lb.curScattering/4);La=Ib[lb.brushMode];V=rc.getDab(V,pa,lb);pa=new ca.default(0,0,V.width,
V.height);var ja=new ca.default(0,0,V.width,V.height);ja.translate(V.x,V.y);db.getBounds().clipSourceDest(pa,ja);if(!ja.isEmpty()){Bb.union(ja);var Da=ob?Sa.mask:Sa.image;La.paintDab(Da,ja,Nb&&!ob?sc:Da,lb,pa,V,Ub);!ob&&La.noMergePhase&&Sa.getLockAlpha()&&Da.copyAlphaFrom(Ua,ja);La.wantsOutputAsInput&&(rb(),Nb&&!ob&&db.fusionLayers());Ha(Sa,ja)}};this.getDefaultLayerName=function(V){var pa=V?"Group ":"Layer ";V=V?/^Group [0-9]+$/:/^Layer [0-9]+$/;for(var La=0,ja=za.getLinearizedLayerList(!1),Da=0;Da<
ja.length;Da++){var Oa=ja[Da];V.test(Oa.name)&&(La=Math.max(La,parseInt(Oa.name.substring(pa.length),10)))}return pa+(La+1)};this.addBackgroundLayer=function(){var V=new y.default(db.width,db.height,this.getDefaultLayerName(!1));V.image.clearAll(4294967295);this.addLayerObject(this.getLayersRoot(),V)};this.fusionLayers=function(){rb();Qa.buildTree();return sc=Qa.blendTree().image};this.upgradeMultiplyLayers=function(V){for(var pa=this.getLayersRoot().getLinearizedLayerList(!1,[]),La=-1,ja=0;ja<pa.length;ja++){var Da=
pa[ja];if(!(Da instanceof y.default)||Da.mask||Da.blendMode>z.default.LM_LAST_CHIBIPAINT)throw Error("Bad layer type during multiply upgrade");Da.blendMode===z.default.LM_MULTIPLY&&(La=ja)}if(-1!==La){ja=new F.default(this.width,this.height);var Oa=Da=!0,Ia=this.getBounds();ja.clearAll(Ia,16777215);for(var Wa=0;Wa<=La;Wa++){var Za=pa[Wa];Oa||(Da=Da&&ja.hasAlphaInRect(Ia));if(Za.blendMode===z.default.LM_MULTIPLY)switch(V){case "bake":!Da&&0<Za.getEffectiveAlpha()&&(100===Za.alpha?z.default.upgradeMultiplyOfOpaqueLayer(ja,
Za.image,100,Ia):z.default.upgradeMultiplyOfTransparentLayer(ja,Za.image,Za.alpha,Ia),Za.setBlendMode(z.default.LM_MULTIPLY2));break;default:Da&&Za.setBlendMode(z.default.LM_MULTIPLY2)}0<Za.getEffectiveAlpha()&&(Oa=!1,z.default.fuseImageOntoImage(ja,Da,Za.image,Za.alpha,Za.blendMode,Ia,null))}}};this.isCreateClippingMaskAllowed=function(){var V=Sa.parent.indexOf(Sa);V=Sa.parent.layers[V-1];return Sa instanceof y.default&&!Sa.clip&&V instanceof y.default};this.createClippingMask=function(){this.isCreateClippingMaskAllowed()&&
Ja(new Ec(Sa,!0))};this.isReleaseClippingMaskAllowed=function(){return Sa instanceof y.default&&Sa.clip};this.releaseClippingMask=function(){this.isReleaseClippingMaskAllowed()&&Ja(new Ec(Sa,!1))};this.setActiveLayer=function(V,pa){if(V){pa=V.mask&&pa;var La=pa!=ob;if(Sa!=V||La){var ja=Sa;Sa=V;ob=pa;Na();this.emitEvent("changeActiveLayer",[ja,V,ob]);La&&this.emitEvent("editModeChanged",[ob?t.EDITING_MODE_MASK:t.EDITING_MODE_IMAGE]);Tb&&Tb.layer==ja&&(pa?Tb.setLayer(V):this.closeMaskView())}}};this.closeMaskView=
function(){Tb.close();Tb=null};this.toggleMaskView=function(){null!=Tb&&Tb.isOpen()?this.closeMaskView():Tb=Sa.mask?new x.default(Sa,rb):null;return Tb};this.selectTopmostVisibleLayer=function(){for(var V=za.getLinearizedLayerList(!1),pa=V.length-1;0<=pa;pa--)if(V[pa]instanceof y.default&&0<V[pa].getEffectiveAlpha()){this.setActiveLayer(V[pa],!1);return}for(pa=V.length-1;0<=pa;pa--)if(V[pa]instanceof y.default){this.setActiveLayer(V[pa],!1);return}this.setActiveLayer(V[V.length-1],!1)};this.getActiveLayer=
function(){return Sa};this.isEditingMask=function(){return ob};this.isActiveLayerDrawable=function(){return ob&&Sa.mask||!ob&&Sa instanceof y.default};this.getUndoMemoryUsed=function(){for(var V=0,pa=0,La=Qb;pa<La.length;pa++)V+=La[pa].getMemoryUsed(!0,null);pa=0;for(La=Eb;pa<La.length;pa++)V+=La[pa].getMemoryUsed(!1,null);return V};this.isUndoAllowed=function(){return 0<Eb.length};this.isRedoAllowed=function(){return 0<Qb.length};this.undo=function(){if(this.isUndoAllowed()){this.setHasUnsavedChanges(!0);
var V=Eb.pop();V.undo();Qb.push(V)}};this.redo=function(){if(this.isRedoAllowed()){this.setHasUnsavedChanges(!0);var V=Qb.pop();V.redo();Eb.push(V)}};this.performIdleTasks=function(){ra();rb();Qa.buildTree()};this.compactUndo=function(){0<Eb.length&&Eb[Eb.length-1].compact()};this.clearHistory=function(){Eb=[];Qb=[]};this.colorPicker=function(V,pa){return ob&&Sa.mask?ha.default.greyToRGB(Sa.mask.getPixel(~~V,~~pa)):sc.getPixel(~~V,~~pa)&16777215};this.setSelection=function(V){kc.set(V);kc.roundNearest();
kc.clipTo(this.getBounds())};this.emptySelection=function(){kc.makeEmpty()};this.floodFill=function(V,pa){var La=Xa();La&&(ra(),Bb=this.getBounds(),La.floodFill(~~V,~~pa,Ub|4278190080),Ja(new ab),Ha(Sa,this.getBounds()))};this.gradientFill=function(V,pa,La,ja,Da){var Oa=this.getSelectionAutoSelect(),Ia=Xa();Ia&&(ra(),Bb=Oa.clone(),Ia.gradient(Oa,V,pa,La,ja,Da,!1),this.getLayerLockAlpha()&&Ia instanceof F.default&&Ia.copyAlphaFrom(Ua,Oa),Ja(new ab),Ha(Sa,Oa))};this.fill=function(V){var pa=this.getSelectionAutoSelect(),
La=Xa();La&&(ra(),Bb=pa.clone(),La.clearRect(pa,V),Ja(new ab),Ha(Sa,pa))};this.clear=function(){ob?this.fill(0):this.fill(16777215)};this.flip=function(V){var pa=this.getSelection(),La=pa.isEmpty(),ja=La&&Sa instanceof y.default&&Sa.mask&&Sa.maskLinked,Da=(!ob||ja)&&Sa instanceof y.default;ja=(ob||ja)&&Sa.mask;V=V?"copyRegionHFlip":"copyRegionVFlip";if(Da||ja)La&&(pa=this.getBounds()),Bb=pa.clone(),Da&&(tb(),Sa.image[V](pa,Ua)),ja&&(Ma(),Sa.mask[V](pa,O)),Ja(new ab(Da,ja)),xa(Sa,pa,Da,ja)};this.hFlip=
function(){this.flip(!0)};this.vFlip=function(){this.flip(!1)};this.monochromaticNoise=function(){var V=this.getSelectionAutoSelect(),pa=Xa();pa&&(ra(),Bb=V.clone(),pa.fillWithNoise(V),Ja(new ab),Ha(Sa,V))};this.isColorNoiseAllowed=function(){return!this.isEditingMask()&&this.isActiveLayerDrawable()};this.colorNoise=function(){if(this.isColorNoiseAllowed()){var V=this.getSelectionAutoSelect();ra();Bb=V.clone();Sa.image.fillWithColorNoise(V);Ja(new ab(!0,!1));xa(Sa,V,!0,!1)}};this.invert=function(){var V=
this.getSelectionAutoSelect(),pa=Xa();pa&&(ra(),Bb=V.clone(),pa.invert(V),Ja(new ab),Ha(Sa,V))};this.boxBlur=function(V,pa,La){var ja=this.getSelectionAutoSelect(),Da=Xa();if(Da){ra();Bb=ja.clone();for(var Oa=0;Oa<La;Oa++)Da.boxBlur(ja,V,pa);Ja(new ab);Ha(Sa,ja)}};this.rectangleSelection=function(V){V=V.clone();V.clipTo(this.getBounds());Ja(new D(this.getSelection(),V));this.setSelection(V)};this.move=function(V,pa,La){V|=0;pa|=0;if(0!=V||0!=pa){var ja=0<Eb.length?Eb[Eb.length-1]:null;!La&&ja instanceof
hb&&ja.layer==this.getActiveLayer()?(ja.amend(V,pa),Qb=[],this.setHasUnsavedChanges(!0)):(V=new hb(V,pa,La),Ja(V),V.redo())}};this.setTransformInterpolation=function(V){mc=V;xb instanceof ib&&xb.setInterpolation(V)};this.transformAffineAbort=function(){xb instanceof ib&&(xb.undo(),xb=null,qa(!0))};this.transformAffineBegin=function(){if(xb instanceof ib)return{transform:xb.getTransform(),rect:xb.getInitialTransformRect(),selection:xb.getInitialSelectionRect()};var V=new na.default;var pa=new ib(V,
mc);if(pa.getInitialTransformRect().isEmpty())return null;xb=pa;dc=!0;return{transform:V,rect:pa.getInitialTransformRect(),selection:pa.getInitialSelectionRect()}};this.transformAffineFinish=function(){xb instanceof ib&&(Ja(xb),xb=null,qa(!0))};this.transformAffineAmend=function(V){xb instanceof ib&&xb.amend(V)};this.isCopySelectionAllowed=this.isCutSelectionAllowed=function(){return!this.getSelection().isEmpty()&&null!==Xa()};this.cutSelection=function(){this.isCutSelectionAllowed()&&Ja(new J(Sa,
ob,this.getSelection()))};this.copySelection=function(){if(this.isCopySelectionAllowed()){var V=db.getSelection(),pa=Xa();jc=new R.default(pa.cloneRect(V),V.left,V.top)}};this.isCopySelectionMergedAllowed=function(){return!this.getSelection().isEmpty()};this.copySelectionMerged=function(){if(this.isCopySelectionMergedAllowed()){var V=db.getSelection();jc=new R.default(this.fusionLayers().cloneRect(V),V.left,V.top)}};this.isPasteClipboardAllowed=function(){return!this.isClipboardEmpty()};this.pasteClipboard=
function(){this.isPasteClipboardAllowed()&&Ja(new Y(jc))};this.getClipboard=function(){return jc};this.setClipboard=function(V){jc=V};this.isClipboardEmpty=function(){return null==jc};this.setSampleAllLayers=function(V){Nb=V};this.getLayerLockAlpha=function(){return this.getActiveLayer().getLockAlpha()};this.setLayerLockAlpha=function(V){Sa.getLockAlpha()!=V&&Ja(new Ka(Sa,V))};this.setForegroundColor=function(V){Ub=V};this.setBrush=function(V){lb=V};this.setBrushTexture=function(V){rc.setTexture(V)};
this.beginStroke=function(V,pa,La){if(null===lb||!this.isActiveLayerDrawable())return!1;ra();Bb.makeEmpty();bc.clearAll(0);Lb.makeEmpty();gc=V;Yb=pa;mb=La;dc=!0;Ib[lb.brushMode].beginStroke();this.paintDab(V,pa,La);return!0};this.continueStroke=function(V,pa,La){if(null!=lb){var ja=Math.sqrt((gc-V)*(gc-V)+(Yb-pa)*(Yb-pa)),Da=Math.max(lb.minSpacing,lb.curSize*lb.spacing);if(ja>Da){var Oa=gc,Ia=Yb,Wa=mb;for(Da=ja=(Da-.001)/ja;1>=Da;Da+=ja)Oa=Da*V+(1-Da)*gc,Ia=Da*pa+(1-Da)*Yb,Wa=Da*La+(1-Da)*mb,this.paintDab(Oa,
Ia,Wa);gc=Oa;Yb=Ia;mb=Wa}}};this.endStroke=function(){null!=lb&&(rb(),Ib[lb.brushMode].endStroke(),Bb.clipTo(this.getBounds()),Bb.isEmpty()||(Ja(new ab),ra()),qa(!1))};this.hasAlpha=function(){return sc.hasAlpha()};this.getFlatPNG=function(V){this.fusionLayers();return sc.getAsPNG(V)};this.getFlatPNGBuffer=function(V){this.fusionLayers();return sc.getAsPNGBuffer(V)};this.isSimpleDrawing=function(){return 1==za.layers.length&&za.layers[0]instanceof y.default&&!za.layers[0].mask&&100==za.layers[0].getEffectiveAlpha()};
ab.prototype=Object.create(M.default.prototype);ab.prototype.constructor=ab;U.prototype=Object.create(M.default.prototype);U.prototype.constructor=U;ba.prototype=Object.create(M.default.prototype);ba.prototype.constructor=ba;ea.prototype=Object.create(M.default.prototype);ea.prototype.constructor=ea;aa.prototype=Object.create(M.default.prototype);aa.prototype.constructor=aa;ua.prototype=Object.create(M.default.prototype);ua.prototype.constructor=ua;Ea.prototype=Object.create(M.default.prototype);
Ea.prototype.constructor=Ea;Fa.prototype=Object.create(M.default.prototype);Fa.prototype.constructor=Fa;ma.prototype=Object.create(M.default.prototype);ma.prototype.constructor=ma;W.prototype=Object.create(M.default.prototype);W.prototype.constructor=W;var xc=Z("alpha",!0),Fc=Z("blendMode",!0),Ac=Z("visible",!0),Ec=Z("clip",!0),tc=Z("maskVisible",!0),fa=Z("name",!1),Ka=Z("lockAlpha",!1),Ra=Z("maskLinked",!1);D.prototype=Object.create(M.default.prototype);D.prototype.constructor=D;var eb=function(V){function pa(){E(this,
pa);var ja=La.call(this);ja.layer=Sa;ja.fromSelection=db.getSelection();ja.fromMaskMode=ob;ja.movingWholeLayer=ja.fromSelection.isEmpty();ja.movingImage=!ob||ja.movingWholeLayer&&ja.layer.maskLinked;ja.movingMask=ob||ja.movingWholeLayer&&ja.layer.maskLinked;ja.hasFullUndo=!1;ja.erasesSourceRect=!1;ja.dstRect=new ca.default(0,0,0,0);ja.movingLayers=[{layer:ja.layer,moveImage:ja.layer instanceof y.default&&ja.movingImage,moveMask:null!==ja.layer.mask&&ja.movingMask,imageRect:new Map,maskRect:new Map}];
ja.layer instanceof B.default&&ja.movingImage&&ja.movingWholeLayer&&(ja.movingLayers=ja.movingLayers.concat(ja.layer.getLinearizedLayerList(!1).map(function(Wa){return{layer:Wa,moveImage:Wa instanceof y.default,moveMask:null!==Wa.mask&&Wa.maskLinked,imageRect:new Map,maskRect:new Map}})));var Da=new ca.default(0,0,0,0);if(ja.movingWholeLayer){ja.srcRect=db.getBounds();for(var Oa=0;Oa<ja.movingLayers.length&&!Da.equals(ja.srcRect);Oa++){var Ia=ja.movingLayers[Oa];Ia.moveMask&&Da.union(Ia.layer.mask.getValueBounds(ja.srcRect,
255));Ia.moveImage&&Da.union(Ia.layer.image.getNonTransparentBounds(ja.srcRect))}}else for(ja.srcRect=ja.fromSelection.clone(),Oa=0;Oa<ja.movingLayers.length&&!Da.equals(ja.srcRect);Oa++)Ia=ja.movingLayers[Oa],Ia.moveMask&&Da.union(Ia.layer.mask.getValueBounds(ja.srcRect,0)),Ia.moveImage&&Da.union(Ia.layer.image.getNonTransparentBounds(ja.srcRect));ja.srcRect=Da;return ja}v(pa,V);var La=l(pa);e(pa,[{key:"undo",value:function(){var ja=this,Da=[];this.dstRect.isEmpty()||Da.push(this.dstRect);this.erasesSourceRect&&
(Da.push(this.srcRect),Da=ca.default.union(Da));this.movingLayers.forEach(function(Oa){ja.hasFullUndo?Da.forEach(function(Ia){Oa.moveImage&&Oa.layer.image.copyBitmapRect(Oa.imageUndo,Ia.left,Ia.top,Ia);Oa.moveMask&&Oa.layer.mask.copyBitmapRect(Oa.maskUndo,Ia.left,Ia.top,Ia)}):(Oa.moveImage&&Oa.imageRect.forEach(function(Ia,Wa){Oa.layer.image.copyBitmapRect(Ia,Wa.left,Wa.top,Ia.getBounds())}),Oa.moveMask&&Oa.maskRect.forEach(function(Ia,Wa){Oa.layer.mask.copyBitmapRect(Ia,Wa.left,Wa.top,Ia.getBounds())}))});
xa(this.movingLayers.map(function(Oa){return Oa.layer}),Da.reduce(function(Oa,Ia){return Oa.getUnion(Ia)},new ca.default(0,0,0,0)),!0,!0);this.dstRect.makeEmpty();db.setSelection(this.fromSelection);db.setActiveLayer(this.layer,this.fromMaskMode);Pa()}},{key:"getMemoryUsed",value:function(ja,Da){return this.movingLayers.map(function(Oa){return[Oa.imageUndo,Oa.maskUndo,Oa.imageRect,Oa.maskRect].map(function(Ia){return Ia?Ia.getMemorySize():0}).reduce(f,0)}).reduce(f,0)}},{key:"buildFullUndo",value:function(){this.hasFullUndo||
(this.movingLayers.forEach(function(ja){ja.moveImage&&(ja.imageUndo=ja.layer.image.clone());ja.moveMask&&(ja.maskUndo=ja.layer.mask.clone());ja.imageRect.clear();ja.maskRect.clear()}),this.hasFullUndo=!0)}},{key:"compact",value:function(){if(this.hasFullUndo){var ja=[];this.dstRect.isEmpty()||ja.push(this.dstRect);this.erasesSourceRect&&(ja.push(this.srcRect),ja=ca.default.union(ja));this.movingLayers.forEach(function(Da){Da.imageRect.clear();Da.maskRect.clear();ja.forEach(function(Oa){Da.moveImage&&
Da.imageRect.set(Oa,Da.imageUndo.cloneRect(Oa));Da.moveMask&&Da.maskRect.set(Oa,Da.maskUndo.cloneRect(Oa))});Da.imageUndo=null;Da.maskUndo=null});this.hasFullUndo=!1}}}]);return pa}(M.default),ib=function(V){function pa(ja,Da){E(this,pa);var Oa=La.call(this);Oa.erasesSourceRect=!0;Oa.affineTransform=ja.clone();Oa.interpolation=Da||"smooth";Oa.composeCanvas=null;Oa.composeCanvasContext=null;return Oa}v(pa,V);var La=l(pa);e(pa,[{key:"buildFullUndo",value:function(){var ja=this;this.hasFullUndo||(u(r(pa.prototype),
"buildFullUndo",this).call(this),this.movingLayers.forEach(function(Da){if(Da.moveImage){var Oa=(0,oa.createCanvas)(ja.srcRect.getWidth(),ja.srcRect.getHeight());Oa.getContext("2d").putImageData(Da.layer.image.getImageData(),-ja.srcRect.left,-ja.srcRect.top,ja.srcRect.left,ja.srcRect.top,ja.srcRect.getWidth(),ja.srcRect.getHeight());Da.imageSourceCanvas=Oa}Da.moveMask&&(Oa=(0,oa.createCanvas)(ja.srcRect.getWidth(),ja.srcRect.getHeight()),Oa.getContext("2d").putImageData(Da.layer.mask.getImageData(ja.srcRect.left,
ja.srcRect.top,ja.srcRect.getWidth(),ja.srcRect.getHeight()),0,0),Da.maskSourceCanvas=Oa)}),this.composeCanvas=(0,oa.createCanvas)(db.width,db.height),this.composeCanvasContext=this.composeCanvas.getContext("2d",{willReadFrequently:!0}),(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.junk=this.composeCanvasContext.getImageData(0,0,1,1))}},{key:"redo",value:function(){var ja=this;this.buildFullUndo();var Da=this.dstRect.clone(),Oa=this.srcRect.toPoints();this.affineTransform.transformPoints(Oa);
this.dstRect.set(ca.default.createBoundingBox(Oa).roundContain().clipTo(db.getBounds()));var Ia=ca.default.subtract(this.dstRect,this.srcRect),Wa=ca.default.subtract(Da.isEmpty()?this.srcRect:this.srcRect.getIntersection(Da),this.dstRect),Za=this.srcRect.getIntersection(this.dstRect),nb=ca.default.subtract(Da,[this.dstRect,this.srcRect]);Da=this.srcRect.getUnion(this.dstRect).getUnion(Da);this.movingLayers.forEach(function(pb){Wa.forEach(function(zb){pb.moveImage&&pb.layer.image.clearRect(zb,16777215);
pb.moveMask&&(ja.movingWholeLayer?pb.layer.mask.clearRect(zb,255):pb.layer.mask.clearRect(zb,0))});if(!ja.dstRect.isEmpty()){if(pb.moveImage){var ac=pb.imageUndo.getImageData();Ia.forEach(function(zb){ja.composeCanvasContext.putImageData(ac,0,0,zb.left,zb.top,zb.getWidth(),zb.getHeight())});ja.composeCanvasContext.clearRect(Za.left,Za.top,Za.getWidth(),Za.getHeight());ja.composeCanvasContext.save();ja.composeCanvasContext.setTransform(ja.affineTransform.m[0],ja.affineTransform.m[1],ja.affineTransform.m[2],
ja.affineTransform.m[3],ja.affineTransform.m[4],ja.affineTransform.m[5]);ja.composeCanvasContext.drawImage(pb.imageSourceCanvas,ja.srcRect.left,ja.srcRect.top);ja.composeCanvasContext.restore();pb.layer.image.copyBitmapRect(new F.default(ja.composeCanvasContext.getImageData(ja.dstRect.left,ja.dstRect.top,ja.dstRect.getWidth(),ja.dstRect.getHeight())),ja.dstRect.left,ja.dstRect.top,new ca.default(0,0,ja.dstRect.getWidth(),ja.dstRect.getHeight()))}pb.moveMask&&(Ia.forEach(function(zb){ja.composeCanvasContext.putImageData(pb.layer.mask.getImageData(zb.left,
zb.top,zb.getWidth(),zb.getHeight()),zb.left,zb.top)}),ja.composeCanvasContext.fillStyle=ja.movingWholeLayer?"#FFF":"#000",ja.composeCanvasContext.fillRect(Za.left,Za.top,Za.getWidth(),Za.getHeight()),ja.composeCanvasContext.save(),ja.composeCanvasContext.setTransform(ja.affineTransform.m[0],ja.affineTransform.m[1],ja.affineTransform.m[2],ja.affineTransform.m[3],ja.affineTransform.m[4],ja.affineTransform.m[5]),ja.composeCanvasContext.drawImage(pb.maskSourceCanvas,ja.srcRect.left,ja.srcRect.top),ja.composeCanvasContext.restore(),
pb.layer.mask.pasteImageData(ja.composeCanvasContext.getImageData(ja.dstRect.left,ja.dstRect.top,ja.dstRect.getWidth(),ja.dstRect.getHeight()),ja.dstRect.left,ja.dstRect.top))}nb.forEach(function(zb){pb.moveImage&&pb.layer.image.copyBitmapRect(pb.imageUndo,zb.left,zb.top,zb);pb.moveMask&&pb.layer.mask.copyBitmapRect(pb.maskUndo,zb.left,zb.top,zb)})});xa(this.movingLayers.map(function(pb){return pb.layer}),Da,!0,!0);this.fromSelection.isEmpty()||(Da=this.fromSelection.toPoints(),this.affineTransform.transformPoints(Da),
Da=ca.default.createBoundingBox(Da),Da.roundNearest(),db.setSelection(Da),Pa());db.setActiveLayer(this.layer,this.fromMaskMode)}},{key:"amend",value:function(ja){this.hasFullUndo||this.undo();this.affineTransform=ja.clone();this.redo()}},{key:"setInterpolation",value:function(ja){ja!=this.interpolation&&(this.interpolation=ja,this.composeCanvasContext&&(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.undo(),this.redo())}},{key:"compact",value:function(){u(r(pa.prototype),
"compact",this).call(this);this.composeCanvasContext=this.composeCanvas=null;this.movingLayers.forEach(function(ja){return ja.imageSourceCanvas=null})}},{key:"getMemoryUsed",value:function(ja,Da){ja=u(r(pa.prototype),"getMemoryUsed",this).call(this,ja,Da);ja+=n(this.composeCanvas);return ja+=this.movingLayers.map(function(Oa){return n(Oa.imageSourceCanvas)}).reduce(f,0)}},{key:"getTransform",value:function(){return this.affineTransform.clone()}},{key:"getInitialTransformRect",value:function(){return this.srcRect.clone()}},
{key:"getInitialSelectionRect",value:function(){return this.fromSelection.clone()}}]);return pa}(eb),hb=function(V){function pa(ja,Da,Oa){E(this,pa);var Ia=La.call(this);Ia.offsetX=ja;Ia.offsetY=Da;Ia.erasesSourceRect=!Oa;return Ia}v(pa,V);var La=l(pa);e(pa,[{key:"redo",value:function(){var ja=this,Da=this.dstRect.clone(),Oa=Da.clone(),Ia=null;this.buildFullUndo();this.dstRect.set(this.srcRect);this.dstRect.translate(this.offsetX,this.offsetY);var Wa=this.dstRect.clone();this.dstRect.clipTo(db.getBounds());
if(this.erasesSourceRect){Ia=Da.isEmpty()?this.srcRect:this.srcRect.getIntersection(Da);Oa.union(Ia);var Za=Da.subtract(this.srcRect)}else Za=[Da];this.movingLayers.forEach(function(nb){Ia&&(nb.moveImage&&nb.layer.image.clearRect(Ia,16777215),nb.moveMask&&nb.layer.mask.clearRect(Ia,ja.movingWholeLayer?255:0));Za.forEach(function(pb){nb.moveImage&&nb.layer.image.copyBitmapRect(nb.imageUndo,pb.left,pb.top,pb);nb.moveMask&&nb.layer.mask.copyBitmapRect(nb.maskUndo,pb.left,pb.top,pb)});nb.moveImage&&z.default.normalFuseImageOntoImageAtPosition(nb.layer.image,
nb.imageUndo,Wa.left,Wa.top,ja.srcRect);nb.moveMask&&nb.layer.mask.copyBitmapRect(nb.maskUndo,Wa.left,Wa.top,ja.srcRect)});Oa.union(this.dstRect);xa(this.movingLayers.map(function(nb){return nb.layer}),Oa,!0,!0);this.fromSelection.isEmpty()||(Da=this.fromSelection.clone(),Da.translate(this.offsetX,this.offsetY),db.setSelection(Da),Pa())}},{key:"amend",value:function(ja,Da){this.hasFullUndo||this.undo();this.offsetX+=ja;this.offsetY+=Da;this.redo()}}]);return pa}(eb);J.prototype=Object.create(M.default.prototype);
J.prototype.constructor=J;Y.prototype=Object.create(M.default.prototype);Y.prototype.constructor=Y;Ib=[ya.CPBrushTool,ya.CPBrushToolEraser,ya.CPBrushToolDodge,ya.CPBrushToolBurn,ya.CPBrushToolWatercolor,ya.CPBrushToolBlur,ya.CPBrushToolSmudge,ya.CPBrushToolOil].map(function(V){return new V(bc,Lb)});this.width=ta;this.height=Ga}Object.defineProperty(C,"__esModule",{value:!0});C.default=t;var y=k(h("./CPImageLayer.js")),B=k(h("./CPLayerGroup.js")),z=k(h("./CPBlend.js"));h("./CPBlendAdditional.js");
var H=k(h("./CPGreyBmp.js")),N=k(h("./CPBlendTree.js")),x=k(h("./CPMaskView.js")),F=k(h("./CPColorBmp.js")),G=k(h("./CPBrushManager.js")),I=k(h("./CPBrushInfo.js")),M=k(h("./CPUndo.js")),R=k(h("./CPClip.js")),ha=k(h("../util/CPColor.js")),ca=k(h("../util/CPRect.js")),sa=k(h("../util/CPRandom.js")),na=k(h("../util/CPTransform.js")),Q=h("../util/CPPolyfill.js"),oa=h("../util/Canvas.js"),ia=k(h("wolfy87-eventemitter")),ya=h("./CPBrushTool.js");t.prototype=Object.create(ia.default.prototype);t.prototype.constructor=
t;t.prototype.getBounds=function(){return new ca.default(0,0,this.width,this.height)};t.prototype.isPointWithin=function(ta,Ga){return 0<=ta&&0<=Ga&&ta<this.width&&Ga<this.height};t.EDITING_MODE_IMAGE=0;t.EDITING_MODE_MASK=1;K.exports=C.default},{"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPRandom.js":62,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/Canvas.js":2,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPBlendTree.js":7,"./CPBrushInfo.js":8,"./CPBrushManager.js":9,
"./CPBrushTool.js":10,"./CPClip.js":12,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPImageLayer.js":15,"./CPLayerGroup.js":17,"./CPMaskView.js":19,"./CPUndo.js":22,"wolfy87-eventemitter":316}],4:[function(h,K,C){function w(u,E){this.width=u|0;this.height=E|0}Object.defineProperty(C,"__esModule",{value:!0});C.default=w;var k=function(u){return u&&u.__esModule?u:{default:u}}(h("../util/CPRect.js"));w.prototype.getBounds=function(){return new k.default(0,0,this.width,this.height)};w.prototype.isInside=
function(u,E){return 0<=u&&0<=E&&u<this.width&&E<this.height};K.exports=C.default},{"../util/CPRect.js":63}],5:[function(h,K,C){function w(c){return c&&c.__esModule?c:{default:c}}function k(){}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;w(h("./CPColorBmp.js"));w(h("./CPGreyBmp.js"));w(h("./CPLayer.js"));w(h("../util/CPRect.js"));var u=Array(256),E=Array(256);k.multiplyOntoOpaqueFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a];c.data[a]=g-((e.data[a]^255)*g*d/65025|0);g=c.data[a+1];c.data[a+1]=g-((e.data[a+1]^255)*g*d/65025|0);g=c.data[a+2];c.data[a+2]=g-((e.data[a+2]^255)*g*d/65025|0)}}};k.multiplyOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=
c.data[a];c.data[a]=m-((e.data[a]^255)*m*g/65025|0);m=c.data[a+1];c.data[a+1]=m-((e.data[a+1]^255)*m*g/65025|0);m=c.data[a+2];c.data[a+2]=m-((e.data[a+2]^255)*m*g/65025|0)}}};k.multiplyOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,t=(d^255)*g/255|0;d=e.data[a];
g=c.data[a];c.data[a]=(d*n+g*t+(d*g*f/255|0))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(d*n+g*t+(d*g*f/255|0))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(d*n+g*t+(d*g*f/255|0))/m|0;c.data[a+3]=m}}};k.multiplyOntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,
t=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(g*t+m*y+(g*m*n/255|0))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(g*t+m*y+(g*m*n/255|0))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(g*t+m*y+(g*m*n/255|0))/f|0;c.data[a+3]=f}}};k.multiplyOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<
q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b];c.data[b]=n-((e.data[b]^255)*n*f/65025|0);n=c.data[b+1];c.data[b+1]=n-((e.data[b+1]^255)*n*f/65025|0);n=c.data[b+2];c.data[b+2]=n-((e.data[b+2]^255)*n*f/65025|0)}}};k.multiplyOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=
4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d];c.data[d]=t-((e.data[d]^255)*t*n/65025|0);t=c.data[d+1];c.data[d+1]=t-((e.data[d+1]^255)*t*n/65025|0);t=c.data[d+2];c.data[d+2]=t-((e.data[d+2]^255)*t*n/65025|0)}}};k.multiplyOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=
e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=f*n/255|0,B=f*(n^255)/255|0,z=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(f*B+n*z+(f*n*y/255|0))/t|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(f*B+n*z+(f*n*y/255|0))/t|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(f*B+n*z+(f*n*y/255|0))/t|0;c.data[b+3]=t}}};k.multiplyOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|
0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=n*t/255|0,z=n*(t^255)/255|0,H=(n^255)*t/255|0;n=e.data[d];t=c.data[d];c.data[d]=(n*z+t*H+(n*t*B/255|0))/y|0;n=e.data[d+1];t=c.data[d+1];c.data[d+1]=(n*z+t*H+(n*t*B/255|0))/y|0;n=e.data[d+2];t=c.data[d+2];c.data[d+2]=(n*z+t*H+(n*t*B/255|0))/y|0;c.data[d+3]=y}}};k.multiply2OntoOpaqueFusionWithOpaqueLayer=
function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a];c.data[a]=g-Math.ceil((e.data[a]^255)*g*d/65025);g=c.data[a+1];c.data[a+1]=g-Math.ceil((e.data[a+1]^255)*g*d/65025);g=c.data[a+2];c.data[a+2]=g-Math.ceil((e.data[a+2]^255)*g*d/65025)}}};k.multiply2OntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-
q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a];c.data[a]=m-Math.ceil((e.data[a]^255)*m*g/65025);m=c.data[a+1];c.data[a+1]=m-Math.ceil((e.data[a+1]^255)*m*g/65025);m=c.data[a+2];c.data[a+2]=m-Math.ceil((e.data[a+2]^255)*m*g/65025)}}};k.multiply2OntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,
a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,t=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(d*n+g*t+(d*g*f/255|0))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(d*n+g*t+(d*g*f/255|0))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(d*n+g*t+(d*g*f/255|0))/m|0;c.data[a+3]=m}}};k.multiply2OntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,t=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(g*t+m*y+(g*m*n/255|0))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(g*t+m*y+(g*m*n/255|0))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(g*t+m*y+(g*m*n/255|0))/f|0;c.data[a+3]=f}}};k.multiply2OntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|
0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b];c.data[b]=n-Math.ceil((e.data[b]^255)*n*f/65025);n=c.data[b+1];c.data[b+1]=n-Math.ceil((e.data[b+1]^255)*n*f/65025);n=c.data[b+2];c.data[b+2]=n-Math.ceil((e.data[b+2]^255)*n*f/65025)}}};k.multiply2OntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=
a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d];c.data[d]=t-Math.ceil((e.data[d]^255)*t*n/65025);t=c.data[d+1];c.data[d+1]=t-Math.ceil((e.data[d+1]^255)*t*n/65025);t=c.data[d+2];c.data[d+2]=t-Math.ceil((e.data[d+2]^255)*t*n/65025)}}};k.multiply2OntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|
0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=f*n/255|0,B=f*(n^255)/255|0,z=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(f*B+n*z+(f*n*y/255|0))/t|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(f*B+n*z+(f*n*y/255|0))/t|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(f*B+n*z+(f*n*y/255|
0))/t|0;c.data[b+3]=t}}};k.multiply2OntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=n*t/255|0,z=n*(t^255)/255|0,H=(n^255)*t/255|0;n=e.data[d];t=c.data[d];c.data[d]=(n*z+t*H+(n*t*B/255|0))/y|0;n=
e.data[d+1];t=c.data[d+1];c.data[d+1]=(n*z+t*H+(n*t*B/255|0))/y|0;n=e.data[d+2];t=c.data[d+2];c.data[d+2]=(n*z+t*H+(n*t*B/255|0))/y|0;c.data[d+3]=y}}};k.normalOntoOpaqueFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d)if(255==d)c.data[a]=e.data[a],c.data[a+1]=e.data[a+1],c.data[a+2]=e.data[a+2];else{var g=255-d;var m=e.data[a];c.data[a]=(m*d+c.data[a]*
g)/255|0;m=e.data[a+1];c.data[a+1]=(m*d+c.data[a+1]*g)/255|0;m=e.data[a+2];c.data[a+2]=(m*d+c.data[a+2]*g)/255|0}}};k.normalOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=255-g;var f=e.data[a];c.data[a]=(f*g+c.data[a]*m)/255|0;f=e.data[a+1];c.data[a+1]=(f*g+c.data[a+1]*m)/255|0;f=e.data[a+2];c.data[a+2]=(f*g+c.data[a+
2]*m)/255|0}}};k.normalOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];g=d+g-(d*g/255|0)|0;d=255*d/g|0;var m=255-d;c.data[a]=(e.data[a]*d+c.data[a]*m)/255|0;c.data[a+1]=(e.data[a+1]*d+c.data[a+1]*m)/255|0;c.data[a+2]=(e.data[a+2]*d+c.data[a+2]*m)/255|0;c.data[a+3]=g}}};k.normalOntoTransparentFusionWithTransparentLayer=
function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];m=g+m-(g*m/255|0)|0;g=255*g/m|0;var f=255-g;c.data[a]=(e.data[a]*g+c.data[a]*f)/255|0;c.data[a+1]=(e.data[a+1]*g+c.data[a+1]*f)/255|0;c.data[a+2]=(e.data[a+2]*g+c.data[a+2]*f)/255|0;c.data[a+3]=m}}};k.normalOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|
0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f)if(255==f)c.data[b]=e.data[b],c.data[b+1]=e.data[b+1],c.data[b+2]=e.data[b+2];else{var n=255-f;var t=e.data[b];c.data[b]=(t*f+c.data[b]*n)/255|0;t=e.data[b+1];c.data[b+1]=(t*f+c.data[b+1]*n)/255|0;t=e.data[b+2];c.data[b+2]=(t*f+c.data[b+2]*n)/255|0}}};k.normalOntoOpaqueFusionWithTransparentLayerMasked=
function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=255-n;var y=e.data[d];c.data[d]=(y*n+c.data[d]*t)/255|0;y=e.data[d+1];c.data[d+1]=(y*n+c.data[d+1]*t)/255|0;y=e.data[d+2];c.data[d+2]=(y*n+c.data[d+2]*t)/255|0}}};k.normalOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=
a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];n=f+n-(f*n/255|0)|0;f=255*f/n|0;var t=255-f;c.data[b]=(e.data[b]*f+c.data[b]*t)/255|0;c.data[b+1]=(e.data[b+1]*f+c.data[b+1]*t)/255|0;c.data[b+2]=(e.data[b+2]*f+c.data[b+2]*t)/255|0;c.data[b+3]=n}}};k.normalOntoTransparentFusionWithTransparentLayerMasked=
function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];t=n+t-(n*t/255|0)|0;n=255*n/t|0;var y=255-n;c.data[d]=(e.data[d]*n+c.data[d]*y)/255|0;c.data[d+1]=(e.data[d+1]*n+c.data[d+1]*y)/255|0;c.data[d+2]=(e.data[d+2]*n+c.data[d+2]*y)/255|0;c.data[d+3]=t}}};k.addOntoOpaqueFusionWithOpaqueLayer=
function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];d&&(c.data[a]=c.data[a]+d*e.data[a]/255|0,c.data[a+1]=c.data[a+1]+d*e.data[a+1]/255|0,c.data[a+2]=c.data[a+2]+d*e.data[a+2]/255|0)}};k.addOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<
q;d++,a+=4){var g=e.data[a+3]*v/100|0;g&&(c.data[a]=c.data[a]+g*e.data[a]/255|0,c.data[a+1]=c.data[a+1]+g*e.data[a+1]/255|0,c.data[a+2]=c.data[a+2]+g*e.data[a+2]/255|0)}};k.addOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0;c.data[a]=(g*c.data[a]+d*e.data[a])/m|0;c.data[a+1]=(g*c.data[a+
1]+d*e.data[a+1])/m|0;c.data[a+2]=(g*c.data[a+2]+d*e.data[a+2])/m|0;c.data[a+3]=m}}};k.addOntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0;c.data[a]=(m*c.data[a]+g*e.data[a])/f|0;c.data[a+1]=(m*c.data[a+1]+g*e.data[a+1])/f|0;c.data[a+2]=(m*c.data[a+2]+g*e.data[a+2])/f|0;c.data[a+
3]=f}}};k.addOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;f&&(c.data[b]=c.data[b]+f*e.data[b]/255|0,c.data[b+1]=c.data[b+1]+f*e.data[b+1]/255|0,c.data[b+2]=c.data[b+2]+f*e.data[b+2]/255|0)}};k.addOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,
l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;n&&(c.data[d]=c.data[d]+n*e.data[d]/255|0,c.data[d+1]=c.data[d+1]+n*e.data[d+1]/255|0,c.data[d+2]=c.data[d+2]+n*e.data[d+2]/255|0)}};k.addOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,
a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0;c.data[b]=(n*c.data[b]+f*e.data[b])/t|0;c.data[b+1]=(n*c.data[b+1]+f*e.data[b+1])/t|0;c.data[b+2]=(n*c.data[b+2]+f*e.data[b+2])/t|0;c.data[b+3]=t}}};k.addOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,
a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0;c.data[d]=(t*c.data[d]+n*e.data[d])/y|0;c.data[d+1]=(t*c.data[d+1]+n*e.data[d+1])/y|0;c.data[d+2]=(t*c.data[d+2]+n*e.data[d+2])/y|0;c.data[d+3]=y}}};k.subtractOntoOpaqueFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|
0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];d&&(c.data[a]=c.data[a]+d*e.data[a]/255-d|0,c.data[a+1]=c.data[a+1]+d*e.data[a+1]/255-d|0,c.data[a+2]=c.data[a+2]+d*e.data[a+2]/255-d|0)}};k.subtractOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;g&&(c.data[a]=c.data[a]+g*e.data[a]/255-g|0,c.data[a+1]=c.data[a+
1]+g*e.data[a+1]/255-g|0,c.data[a+2]=c.data[a+2]+g*e.data[a+2]/255-g|0)}};k.subtractOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g;c.data[a]=(g*c.data[a]+d*e.data[a]-f)/m|0;c.data[a+1]=(g*c.data[a+1]+d*e.data[a+1]-f)/m|0;c.data[a+2]=(g*c.data[a+2]+d*e.data[a+2]-f)/m|0;c.data[a+3]=
m}}};k.subtractOntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m;c.data[a]=(m*c.data[a]+g*e.data[a]-n)/f|0;c.data[a+1]=(m*c.data[a+1]+g*e.data[a+1]-n)/f|0;c.data[a+2]=(m*c.data[a+2]+g*e.data[a+2]-n)/f|0;c.data[a+3]=f}}};k.subtractOntoOpaqueFusionWithOpaqueLayerMasked=function(c,
e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;f&&(c.data[b]=c.data[b]+f*e.data[b]/255-f|0,c.data[b+1]=c.data[b+1]+f*e.data[b+1]/255-f|0,c.data[b+2]=c.data[b+2]+f*e.data[b+2]/255-f|0)}};k.subtractOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-
r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;n&&(c.data[d]=c.data[d]+n*e.data[d]/255-n|0,c.data[d+1]=c.data[d+1]+n*e.data[d+1]/255-n|0,c.data[d+2]=c.data[d+2]+n*e.data[d+2]/255-n|0)}};k.subtractOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;
a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=f*n;c.data[b]=(n*c.data[b]+f*e.data[b]-y)/t|0;c.data[b+1]=(n*c.data[b+1]+f*e.data[b+1]-y)/t|0;c.data[b+2]=(n*c.data[b+2]+f*e.data[b+2]-y)/t|0;c.data[b+3]=t}}};k.subtractOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|
0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=n*t;c.data[d]=(t*c.data[d]+n*e.data[d]-B)/y|0;c.data[d+1]=(t*c.data[d+1]+n*e.data[d+1]-B)/y|0;c.data[d+2]=(t*c.data[d+2]+n*e.data[d+2]-B)/y|0;c.data[d+3]=y}}};k.screenOntoOpaqueFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|
0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=c.data[a];c.data[a]=255^((m^255)*g+(e.data[a]^255)*(m^255)*d/255)/255;m=c.data[a+1];c.data[a+1]=255^((m^255)*g+(e.data[a+1]^255)*(m^255)*d/255)/255;m=c.data[a+2];c.data[a+2]=255^((m^255)*g+(e.data[a+2]^255)*(m^255)*d/255)/255}}};k.screenOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=
r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=g^255;var f=c.data[a];c.data[a]=255^((f^255)*m+(e.data[a]^255)*(f^255)*g/255)/255;f=c.data[a+1];c.data[a+1]=255^((f^255)*m+(e.data[a+1]^255)*(f^255)*g/255)/255;f=c.data[a+2];c.data[a+2]=255^((f^255)*m+(e.data[a+2]^255)*(f^255)*g/255)/255}}};k.screenOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,
a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,t=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=255^((d^255)*n+(g^255)*t+(d^255)*(g^255)*f/255)/m;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=255^((d^255)*n+(g^255)*t+(d^255)*(g^255)*f/255)/m;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=255^((d^255)*n+(g^255)*t+(d^255)*(g^255)*f/255)/m;c.data[a+3]=m}}};k.screenOntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|
0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,t=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=255^((g^255)*t+(m^255)*y+(g^255)*(m^255)*n/255)/f;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=255^((g^255)*t+(m^255)*y+(g^255)*(m^255)*n/255)/f;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=255^((g^255)*t+(m^255)*y+(g^255)*(m^255)*n/255)/f;c.data[a+3]=
f}}};k.screenOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=f^255;var t=c.data[b];c.data[b]=255^((t^255)*n+(e.data[b]^255)*(t^255)*f/255)/255;t=c.data[b+1];c.data[b+1]=255^((t^255)*n+(e.data[b+1]^255)*(t^255)*f/255)/255;t=c.data[b+2];c.data[b+2]=
255^((t^255)*n+(e.data[b+2]^255)*(t^255)*f/255)/255}}};k.screenOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=n^255;var y=c.data[d];c.data[d]=255^((y^255)*t+(e.data[d]^255)*(y^255)*n/255)/255;y=c.data[d+1];c.data[d+1]=255^((y^255)*t+(e.data[d+
1]^255)*(y^255)*n/255)/255;y=c.data[d+2];c.data[d+2]=255^((y^255)*t+(e.data[d+2]^255)*(y^255)*n/255)/255}}};k.screenOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=f*n/255|0,B=f*(n^255)/255|0,z=(f^255)*n/
255|0;f=e.data[b];n=c.data[b];c.data[b]=255^((f^255)*B+(n^255)*z+(f^255)*(n^255)*y/255)/t;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=255^((f^255)*B+(n^255)*z+(f^255)*(n^255)*y/255)/t;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=255^((f^255)*B+(n^255)*z+(f^255)*(n^255)*y/255)/t;c.data[b+3]=t}}};k.screenOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;
for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=n*t/255|0,z=n*(t^255)/255|0,H=(n^255)*t/255|0;n=e.data[d];t=c.data[d];c.data[d]=255^((n^255)*z+(t^255)*H+(n^255)*(t^255)*B/255)/y;n=e.data[d+1];t=c.data[d+1];c.data[d+1]=255^((n^255)*z+(t^255)*H+(n^255)*(t^255)*B/255)/y;n=e.data[d+2];t=c.data[d+2];c.data[d+2]=255^((n^255)*z+(t^255)*H+(n^255)*(t^255)*B/255)/y;c.data[d+3]=y}}};k.lightenOntoOpaqueFusionWithOpaqueLayer=
function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=f>=m?f:(f*g+m*d)/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=f>=m?f:(f*g+m*d)/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=f>=m?f:(f*g+m*d)/255|0}}};k.lightenOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-
q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=n>=f?n:(n*m+f*g)/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=n>=f?n:(n*m+f*g)/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=n>=f?n:(n*m+f*g)/255|0}}};k.lightenOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,
a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=g*(d^255)/m|0,n=f^255,t=d*(g^255)/m|0,y=t^255;d=e.data[a];g=c.data[a];c.data[a]=(g>=d?d*t+g*y:g*f+d*n)/255|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(g>=d?d*t+g*y:g*f+d*n)/255|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(g>=d?d*t+g*y:g*f+d*n)/255|0;c.data[a+3]=m}}};k.lightenOntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=m*(g^255)/f|0,t=n^255,y=g*(m^255)/f|0,B=y^255;g=e.data[a];m=c.data[a];c.data[a]=(m>=g?g*y+m*B:m*n+g*t)/255|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(m>=g?g*y+m*B:m*n+g*t)/255|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(m>=g?g*y+m*B:m*n+g*t)/255|0;c.data[a+3]=f}}};k.lightenOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|
0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=f^255;var t=e.data[b];var y=c.data[b];c.data[b]=y>=t?y:(y*n+t*f)/255|0;t=e.data[b+1];y=c.data[b+1];c.data[b+1]=y>=t?y:(y*n+t*f)/255|0;t=e.data[b+2];y=c.data[b+2];c.data[b+2]=y>=t?y:(y*n+t*f)/255|0}}};k.lightenOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,
r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=n^255;var y=e.data[d];var B=c.data[d];c.data[d]=B>=y?B:(B*t+y*n)/255|0;y=e.data[d+1];B=c.data[d+1];c.data[d+1]=B>=y?B:(B*t+y*n)/255|0;y=e.data[d+2];B=c.data[d+2];c.data[d+2]=B>=y?B:(B*t+y*n)/255|0}}};k.lightenOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=
a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=n*(f^255)/t|0,B=y^255,z=f*(n^255)/t|0,H=z^255;f=e.data[b];n=c.data[b];c.data[b]=(n>=f?f*z+n*H:n*y+f*B)/255|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(n>=f?f*z+n*H:n*y+f*B)/255|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(n>=
f?f*z+n*H:n*y+f*B)/255|0;c.data[b+3]=t}}};k.lightenOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=t*(n^255)/y|0,z=B^255,H=n*(t^255)/y|0,N=H^255;n=e.data[d];t=c.data[d];c.data[d]=(t>=n?n*H+t*N:t*
B+n*z)/255|0;n=e.data[d+1];t=c.data[d+1];c.data[d+1]=(t>=n?n*H+t*N:t*B+n*z)/255|0;n=e.data[d+2];t=c.data[d+2];c.data[d+2]=(t>=n?n*H+t*N:t*B+n*z)/255|0;c.data[d+3]=y}}};k.darkenOntoOpaqueFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=f>=m?(f*g+m*d)/255|0:f;m=e.data[a+1];f=c.data[a+1];c.data[a+
1]=f>=m?(f*g+m*d)/255|0:f;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=f>=m?(f*g+m*d)/255|0:f}}};k.darkenOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=n>=f?(n*m+f*g)/255|0:n;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=n>=f?(n*m+f*g)/255|0:n;f=e.data[a+2];n=c.data[a+2];c.data[a+
2]=n>=f?(n*m+f*g)/255|0:n}}};k.darkenOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*(g^255)/m|0,n=f^255,t=g*(d^255)/m|0,y=t^255;d=e.data[a];g=c.data[a];c.data[a]=(g>=d?g*t+d*y:d*f+g*n)/255|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(g>=d?g*t+d*y:d*f+g*n)/255|0;d=e.data[a+2];g=c.data[a+
2];c.data[a+2]=(g>=d?g*t+d*y:d*f+g*n)/255|0;c.data[a+3]=m}}};k.darkenOntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*(m^255)/f|0,t=n^255,y=m*(g^255)/f|0,B=y^255;g=e.data[a];m=c.data[a];c.data[a]=(m>=g?m*y+g*B:g*n+m*t)/255|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(m>=g?
m*y+g*B:g*n+m*t)/255|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(m>=g?m*y+g*B:g*n+m*t)/255|0;c.data[a+3]=f}}};k.darkenOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=f^255;var t=e.data[b];var y=c.data[b];c.data[b]=y>=t?(y*n+t*f)/255|0:y;t=e.data[b+
1];y=c.data[b+1];c.data[b+1]=y>=t?(y*n+t*f)/255|0:y;t=e.data[b+2];y=c.data[b+2];c.data[b+2]=y>=t?(y*n+t*f)/255|0:y}}};k.darkenOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=n^255;var y=e.data[d];var B=c.data[d];c.data[d]=B>=y?(B*t+y*n)/
255|0:B;y=e.data[d+1];B=c.data[d+1];c.data[d+1]=B>=y?(B*t+y*n)/255|0:B;y=e.data[d+2];B=c.data[d+2];c.data[d+2]=B>=y?(B*t+y*n)/255|0:B}}};k.darkenOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=f*(n^255)/
t|0,B=y^255,z=n*(f^255)/t|0,H=z^255;f=e.data[b];n=c.data[b];c.data[b]=(n>=f?n*z+f*H:f*y+n*B)/255|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(n>=f?n*z+f*H:f*y+n*B)/255|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(n>=f?n*z+f*H:f*y+n*B)/255|0;c.data[b+3]=t}}};k.darkenOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=
0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=n*(t^255)/y|0,z=B^255,H=t*(n^255)/y|0,N=H^255;n=e.data[d];t=c.data[d];c.data[d]=(t>=n?t*H+n*N:n*B+t*z)/255|0;n=e.data[d+1];t=c.data[d+1];c.data[d+1]=(t>=n?t*H+n*N:n*B+t*z)/255|0;n=e.data[d+2];t=c.data[d+2];c.data[d+2]=(t>=n?t*H+n*N:n*B+t*z)/255|0;c.data[d+3]=y}}};k.dodgeOntoOpaqueFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=(f*g+d*(255==m?255:Math.min(255,255*f/(m^255)|0)))/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=(f*g+d*(255==m?255:Math.min(255,255*f/(m^255)|0)))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(f*g+d*(255==m?255:Math.min(255,255*f/(m^255)|0)))/255|0}}};k.dodgeOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-
q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(n*m+g*(255==f?255:Math.min(255,255*n/(f^255)|0)))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(n*m+g*(255==f?255:Math.min(255,255*n/(f^255)|0)))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(n*m+g*(255==f?255:Math.min(255,255*n/(f^255)|0)))/255|0}}};k.dodgeOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|
0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,t=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(d*n+g*t+f*(255==d?255:Math.min(255,255*g/(d^255)|0)))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(d*n+g*t+f*(255==d?255:Math.min(255,255*g/(d^255)|0)))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(d*n+g*t+f*(255==d?255:Math.min(255,
255*g/(d^255)|0)))/m|0;c.data[a+3]=m}}};k.dodgeOntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,t=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(g*t+m*y+n*(255==g?255:Math.min(255,255*m/(g^255)|0)))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+
1]=(g*t+m*y+n*(255==g?255:Math.min(255,255*m/(g^255)|0)))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(g*t+m*y+n*(255==g?255:Math.min(255,255*m/(g^255)|0)))/f|0;c.data[a+3]=f}}};k.dodgeOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=f^255;var t=e.data[b];
var y=c.data[b];c.data[b]=(y*n+f*(255==t?255:Math.min(255,255*y/(t^255)|0)))/255|0;t=e.data[b+1];y=c.data[b+1];c.data[b+1]=(y*n+f*(255==t?255:Math.min(255,255*y/(t^255)|0)))/255|0;t=e.data[b+2];y=c.data[b+2];c.data[b+2]=(y*n+f*(255==t?255:Math.min(255,255*y/(t^255)|0)))/255|0}}};k.dodgeOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<
q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=n^255;var y=e.data[d];var B=c.data[d];c.data[d]=(B*t+n*(255==y?255:Math.min(255,255*B/(y^255)|0)))/255|0;y=e.data[d+1];B=c.data[d+1];c.data[d+1]=(B*t+n*(255==y?255:Math.min(255,255*B/(y^255)|0)))/255|0;y=e.data[d+2];B=c.data[d+2];c.data[d+2]=(B*t+n*(255==y?255:Math.min(255,255*B/(y^255)|0)))/255|0}}};k.dodgeOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|
0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=f*n/255|0,B=f*(n^255)/255|0,z=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(f*B+n*z+y*(255==f?255:Math.min(255,255*n/(f^255)|0)))/t|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(f*B+n*z+y*(255==f?255:Math.min(255,255*n/(f^255)|0)))/t|0;f=e.data[b+2];n=c.data[b+
2];c.data[b+2]=(f*B+n*z+y*(255==f?255:Math.min(255,255*n/(f^255)|0)))/t|0;c.data[b+3]=t}}};k.dodgeOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=n*t/255|0,z=n*(t^255)/255|0,H=(n^255)*t/255|0;n=
e.data[d];t=c.data[d];c.data[d]=(n*z+t*H+B*(255==n?255:Math.min(255,255*t/(n^255)|0)))/y|0;n=e.data[d+1];t=c.data[d+1];c.data[d+1]=(n*z+t*H+B*(255==n?255:Math.min(255,255*t/(n^255)|0)))/y|0;n=e.data[d+2];t=c.data[d+2];c.data[d+2]=(n*z+t*H+B*(255==n?255:Math.min(255,255*t/(n^255)|0)))/y|0;c.data[d+3]=y}}};k.burnOntoOpaqueFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=
4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=(f*g+d*(0==m?0:Math.min(255,255*(f^255)/m)^255))/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=(f*g+d*(0==m?0:Math.min(255,255*(f^255)/m)^255))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(f*g+d*(0==m?0:Math.min(255,255*(f^255)/m)^255))/255|0}}};k.burnOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,
a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(n*m+g*(0==f?0:Math.min(255,255*(n^255)/f)^255))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(n*m+g*(0==f?0:Math.min(255,255*(n^255)/f)^255))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(n*m+g*(0==f?0:Math.min(255,255*(n^255)/f)^255))/255|0}}};k.burnOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,t=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(d*n+g*t+f*(0==d?0:Math.min(255,255*(g^255)/d)^255))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(d*n+g*t+f*(0==d?0:Math.min(255,255*(g^255)/d)^255))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(d*n+g*t+f*(0==d?0:Math.min(255,255*(g^255)/d)^255))/m|0;c.data[a+3]=m}}};k.burnOntoTransparentFusionWithTransparentLayer=
function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,t=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(g*t+m*y+n*(0==g?0:Math.min(255,255*(m^255)/g)^255))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(g*t+m*y+n*(0==g?0:Math.min(255,255*(m^255)/g)^255))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+
2]=(g*t+m*y+n*(0==g?0:Math.min(255,255*(m^255)/g)^255))/f|0;c.data[a+3]=f}}};k.burnOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=f^255;var t=e.data[b];var y=c.data[b];c.data[b]=(y*n+f*(0==t?0:Math.min(255,255*(y^255)/t)^255))/255|0;t=e.data[b+1];
y=c.data[b+1];c.data[b+1]=(y*n+f*(0==t?0:Math.min(255,255*(y^255)/t)^255))/255|0;t=e.data[b+2];y=c.data[b+2];c.data[b+2]=(y*n+f*(0==t?0:Math.min(255,255*(y^255)/t)^255))/255|0}}};k.burnOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=n^255;
var y=e.data[d];var B=c.data[d];c.data[d]=(B*t+n*(0==y?0:Math.min(255,255*(B^255)/y)^255))/255|0;y=e.data[d+1];B=c.data[d+1];c.data[d+1]=(B*t+n*(0==y?0:Math.min(255,255*(B^255)/y)^255))/255|0;y=e.data[d+2];B=c.data[d+2];c.data[d+2]=(B*t+n*(0==y?0:Math.min(255,255*(B^255)/y)^255))/255|0}}};k.burnOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=
0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=f*n/255|0,B=f*(n^255)/255|0,z=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(f*B+n*z+y*(0==f?0:Math.min(255,255*(n^255)/f)^255))/t|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(f*B+n*z+y*(0==f?0:Math.min(255,255*(n^255)/f)^255))/t|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(f*B+n*z+y*(0==f?0:Math.min(255,255*(n^255)/f)^255))/t|0;c.data[b+3]=t}}};k.burnOntoTransparentFusionWithTransparentLayerMasked=
function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=n*t/255|0,z=n*(t^255)/255|0,H=(n^255)*t/255|0;n=e.data[d];t=c.data[d];c.data[d]=(n*z+t*H+B*(0==n?0:Math.min(255,255*(t^255)/n)^255))/y|0;n=e.data[d+1];t=c.data[d+1];c.data[d+1]=(n*z+t*H+B*(0==n?
0:Math.min(255,255*(t^255)/n)^255))/y|0;n=e.data[d+2];t=c.data[d+2];c.data[d+2]=(n*z+t*H+B*(0==n?0:Math.min(255,255*(t^255)/n)^255))/y|0;c.data[d+3]=y}}};k.overlayOntoOpaqueFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=(g*f+(127>=f?2*d*m*f/255:d*(2*(m^255)*(f^255)/255^255)))/255|0;m=e.data[a+
1];f=c.data[a+1];c.data[a+1]=(g*f+(127>=f?2*d*m*f/255:d*(2*(m^255)*(f^255)/255^255)))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(g*f+(127>=f?2*d*m*f/255:d*(2*(m^255)*(f^255)/255^255)))/255|0}}};k.overlayOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(m*n+(127>=
n?2*g*f*n/255:g*(2*(f^255)*(n^255)/255^255)))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(m*n+(127>=n?2*g*f*n/255:g*(2*(f^255)*(n^255)/255^255)))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(m*n+(127>=n?2*g*f*n/255:g*(2*(f^255)*(n^255)/255^255)))/255|0}}};k.overlayOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+
3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,t=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(n*d+t*g+(127>=g?2*f*d*g/255:f*(2*(d^255)*(g^255)/255^255)))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(n*d+t*g+(127>=g?2*f*d*g/255:f*(2*(d^255)*(g^255)/255^255)))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(n*d+t*g+(127>=g?2*f*d*g/255:f*(2*(d^255)*(g^255)/255^255)))/m|0;c.data[a+3]=m}}};k.overlayOntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|
0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,t=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(t*g+y*m+(127>=m?2*n*g*m/255:n*(2*(g^255)*(m^255)/255^255)))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(t*g+y*m+(127>=m?2*n*g*m/255:n*(2*(g^255)*(m^255)/255^255)))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(t*g+y*m+(127>=m?2*n*g*m/255:n*
(2*(g^255)*(m^255)/255^255)))/f|0;c.data[a+3]=f}}};k.overlayOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=f^255;var t=e.data[b];var y=c.data[b];c.data[b]=(n*y+(127>=y?2*f*t*y/255:f*(2*(t^255)*(y^255)/255^255)))/255|0;t=e.data[b+1];y=c.data[b+1];
c.data[b+1]=(n*y+(127>=y?2*f*t*y/255:f*(2*(t^255)*(y^255)/255^255)))/255|0;t=e.data[b+2];y=c.data[b+2];c.data[b+2]=(n*y+(127>=y?2*f*t*y/255:f*(2*(t^255)*(y^255)/255^255)))/255|0}}};k.overlayOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=
n^255;var y=e.data[d];var B=c.data[d];c.data[d]=(t*B+(127>=B?2*n*y*B/255:n*(2*(y^255)*(B^255)/255^255)))/255|0;y=e.data[d+1];B=c.data[d+1];c.data[d+1]=(t*B+(127>=B?2*n*y*B/255:n*(2*(y^255)*(B^255)/255^255)))/255|0;y=e.data[d+2];B=c.data[d+2];c.data[d+2]=(t*B+(127>=B?2*n*y*B/255:n*(2*(y^255)*(B^255)/255^255)))/255|0}}};k.overlayOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=f*n/255|0,B=f*(n^255)/255|0,z=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(B*f+z*n+(127>=n?2*y*f*n/255:y*(2*(f^255)*(n^255)/255^255)))/t|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(B*f+z*n+(127>=n?2*y*f*n/255:y*(2*(f^255)*(n^255)/255^255)))/t|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(B*f+z*n+(127>=n?2*y*f*n/255:y*(2*(f^255)*(n^255)/255^255)))/
t|0;c.data[b+3]=t}}};k.overlayOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=n*t/255|0,z=n*(t^255)/255|0,H=(n^255)*t/255|0;n=e.data[d];t=c.data[d];c.data[d]=(z*n+H*t+(127>=t?2*B*n*t/255:B*(2*(n^
255)*(t^255)/255^255)))/y|0;n=e.data[d+1];t=c.data[d+1];c.data[d+1]=(z*n+H*t+(127>=t?2*B*n*t/255:B*(2*(n^255)*(t^255)/255^255)))/y|0;n=e.data[d+2];t=c.data[d+2];c.data[d+2]=(z*n+H*t+(127>=t?2*B*n*t/255:B*(2*(n^255)*(t^255)/255^255)))/y|0;c.data[d+3]=y}}};k.hardLightOntoOpaqueFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];
var f=c.data[a];c.data[a]=(g*f+(127>=m?2*d*m*f/255:d*(2*(m^255)*(f^255)/255^255)))/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=(g*f+(127>=m?2*d*m*f/255:d*(2*(m^255)*(f^255)/255^255)))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(g*f+(127>=m?2*d*m*f/255:d*(2*(m^255)*(f^255)/255^255)))/255|0}}};k.hardLightOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=
4){var g=e.data[a+3]*v/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(m*n+(127>=f?2*g*f*n/255:g*(2*(f^255)*(n^255)/255^255)))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(m*n+(127>=f?2*g*f*n/255:g*(2*(f^255)*(n^255)/255^255)))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(m*n+(127>=f?2*g*f*n/255:g*(2*(f^255)*(n^255)/255^255)))/255|0}}};k.hardLightOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,t=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(n*d+t*g+(127>=d?2*f*d*g/255:f*(2*(d^255)*(g^255)/255^255)))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(n*d+t*g+(127>=d?2*f*d*g/255:f*(2*(d^255)*(g^255)/255^255)))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(n*d+t*g+(127>=d?2*f*d*g/255:f*(2*(d^255)*(g^255)/255^255)))/m|0;c.data[a+3]=m}}};k.hardLightOntoTransparentFusionWithTransparentLayer=
function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,t=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(t*g+y*m+(127>=g?2*n*g*m/255:n*(2*(g^255)*(m^255)/255^255)))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(t*g+y*m+(127>=g?2*n*g*m/255:n*(2*(g^255)*(m^255)/255^255)))/f|0;g=e.data[a+2];m=
c.data[a+2];c.data[a+2]=(t*g+y*m+(127>=g?2*n*g*m/255:n*(2*(g^255)*(m^255)/255^255)))/f|0;c.data[a+3]=f}}};k.hardLightOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=f^255;var t=e.data[b];var y=c.data[b];c.data[b]=(n*y+(127>=t?2*f*t*y/255:f*(2*(t^
255)*(y^255)/255^255)))/255|0;t=e.data[b+1];y=c.data[b+1];c.data[b+1]=(n*y+(127>=t?2*f*t*y/255:f*(2*(t^255)*(y^255)/255^255)))/255|0;t=e.data[b+2];y=c.data[b+2];c.data[b+2]=(n*y+(127>=t?2*f*t*y/255:f*(2*(t^255)*(y^255)/255^255)))/255|0}}};k.hardLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,
d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=n^255;var y=e.data[d];var B=c.data[d];c.data[d]=(t*B+(127>=y?2*n*y*B/255:n*(2*(y^255)*(B^255)/255^255)))/255|0;y=e.data[d+1];B=c.data[d+1];c.data[d+1]=(t*B+(127>=y?2*n*y*B/255:n*(2*(y^255)*(B^255)/255^255)))/255|0;y=e.data[d+2];B=c.data[d+2];c.data[d+2]=(t*B+(127>=y?2*n*y*B/255:n*(2*(y^255)*(B^255)/255^255)))/255|0}}};k.hardLightOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-
q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=f*n/255|0,B=f*(n^255)/255|0,z=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(B*f+z*n+(127>=f?2*y*f*n/255:y*(2*(f^255)*(n^255)/255^255)))/t|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(B*f+z*n+(127>=f?2*y*f*n/255:y*(2*(f^255)*(n^255)/255^255)))/t|0;f=e.data[b+2];n=c.data[b+
2];c.data[b+2]=(B*f+z*n+(127>=f?2*y*f*n/255:y*(2*(f^255)*(n^255)/255^255)))/t|0;c.data[b+3]=t}}};k.hardLightOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=n*t/255|0,z=n*(t^255)/255|0,H=(n^255)*
t/255|0;n=e.data[d];t=c.data[d];c.data[d]=(z*n+H*t+(127>=n?2*B*n*t/255:B*(2*(n^255)*(t^255)/255^255)))/y|0;n=e.data[d+1];t=c.data[d+1];c.data[d+1]=(z*n+H*t+(127>=n?2*B*n*t/255:B*(2*(n^255)*(t^255)/255^255)))/y|0;n=e.data[d+2];t=c.data[d+2];c.data[d+2]=(z*n+H*t+(127>=n?2*B*n*t/255:B*(2*(n^255)*(t^255)/255^255)))/y|0;c.data[d+3]=y}}};k.softLightOntoOpaqueFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,
a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=(g*f+d*(127>=m?((2*m-255)*u[f]/255|0)+f:((2*m-255)*E[f]/255|0)+f))/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=(g*f+d*(127>=m?((2*m-255)*u[f]/255|0)+f:((2*m-255)*E[f]/255|0)+f))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(g*f+d*(127>=m?((2*m-255)*u[f]/255|0)+f:((2*m-255)*E[f]/255|0)+f))/255|0}}};k.softLightOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=
a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(m*n+g*(127>=f?((2*f-255)*u[n]/255|0)+n:((2*f-255)*E[n]/255|0)+n))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(m*n+g*(127>=f?((2*f-255)*u[n]/255|0)+n:((2*f-255)*E[n]/255|0)+n))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(m*n+g*(127>=f?((2*f-255)*u[n]/255|0)+n:((2*f-255)*E[n]/255|0)+n))/255|
0}}};k.softLightOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,t=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(n*d+t*g+(127>=d?f*(((2*d-255)*u[g]/255|0)+g):f*(((2*d-255)*E[g]/255|0)+g)))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(n*d+t*g+(127>=d?f*
(((2*d-255)*u[g]/255|0)+g):f*(((2*d-255)*E[g]/255|0)+g)))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(n*d+t*g+(127>=d?f*(((2*d-255)*u[g]/255|0)+g):f*(((2*d-255)*E[g]/255|0)+g)))/m|0;c.data[a+3]=m}}};k.softLightOntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,t=
g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(t*g+y*m+(127>=g?n*(((2*g-255)*u[m]/255|0)+m):n*(((2*g-255)*E[m]/255|0)+m)))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(t*g+y*m+(127>=g?n*(((2*g-255)*u[m]/255|0)+m):n*(((2*g-255)*E[m]/255|0)+m)))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(t*g+y*m+(127>=g?n*(((2*g-255)*u[m]/255|0)+m):n*(((2*g-255)*E[m]/255|0)+m)))/f|0;c.data[a+3]=f}}};k.softLightOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=
a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=f^255;var t=e.data[b];var y=c.data[b];c.data[b]=(n*y+f*(127>=t?((2*t-255)*u[y]/255|0)+y:((2*t-255)*E[y]/255|0)+y))/255|0;t=e.data[b+1];y=c.data[b+1];c.data[b+1]=(n*y+f*(127>=t?((2*t-255)*u[y]/255|0)+y:((2*t-255)*E[y]/255|0)+y))/255|0;t=e.data[b+2];y=c.data[b+2];c.data[b+2]=(n*y+f*
(127>=t?((2*t-255)*u[y]/255|0)+y:((2*t-255)*E[y]/255|0)+y))/255|0}}};k.softLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=n^255;var y=e.data[d];var B=c.data[d];c.data[d]=(t*B+n*(127>=y?((2*y-255)*u[B]/255|0)+B:((2*y-255)*E[B]/255|0)+
B))/255|0;y=e.data[d+1];B=c.data[d+1];c.data[d+1]=(t*B+n*(127>=y?((2*y-255)*u[B]/255|0)+B:((2*y-255)*E[B]/255|0)+B))/255|0;y=e.data[d+2];B=c.data[d+2];c.data[d+2]=(t*B+n*(127>=y?((2*y-255)*u[B]/255|0)+B:((2*y-255)*E[B]/255|0)+B))/255|0}}};k.softLightOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,
b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=f*n/255|0,B=f*(n^255)/255|0,z=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(B*f+z*n+(127>=f?y*(((2*f-255)*u[n]/255|0)+n):y*(((2*f-255)*E[n]/255|0)+n)))/t|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(B*f+z*n+(127>=f?y*(((2*f-255)*u[n]/255|0)+n):y*(((2*f-255)*E[n]/255|0)+n)))/t|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(B*f+z*n+(127>=f?y*(((2*f-255)*u[n]/255|0)+n):y*(((2*f-255)*E[n]/255|0)+n)))/t|0;c.data[b+
3]=t}}};k.softLightOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=n*t/255|0,z=n*(t^255)/255|0,H=(n^255)*t/255|0;n=e.data[d];t=c.data[d];c.data[d]=(z*n+H*t+(127>=n?B*(((2*n-255)*u[t]/255|0)+t):B*
(((2*n-255)*E[t]/255|0)+t)))/y|0;n=e.data[d+1];t=c.data[d+1];c.data[d+1]=(z*n+H*t+(127>=n?B*(((2*n-255)*u[t]/255|0)+t):B*(((2*n-255)*E[t]/255|0)+t)))/y|0;n=e.data[d+2];t=c.data[d+2];c.data[d+2]=(z*n+H*t+(127>=n?B*(((2*n-255)*u[t]/255|0)+t):B*(((2*n-255)*E[t]/255|0)+t)))/y|0;c.data[d+3]=y}}};k.vividLightOntoOpaqueFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=
e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=(g*f+(127>=m?d*(0==m?0:255-Math.min(255,255*(255-f)/(2*m)|0)):d*(255==m?255:Math.min(255,255*f/(2*(255-m))|0))))/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=(g*f+(127>=m?d*(0==m?0:255-Math.min(255,255*(255-f)/(2*m)|0)):d*(255==m?255:Math.min(255,255*f/(2*(255-m))|0))))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(g*f+(127>=m?d*(0==m?0:255-Math.min(255,255*(255-f)/(2*m)|0)):d*(255==m?255:Math.min(255,255*f/(2*(255-m))|0))))/
255|0}}};k.vividLightOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(m*n+(127>=f?g*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):g*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(m*n+(127>=f?g*(0==f?0:255-Math.min(255,
255*(255-n)/(2*f)|0)):g*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(m*n+(127>=f?g*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):g*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/255|0}}};k.vividLightOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-
(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,t=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(n*d+t*g+(127>=d?f*(0==d?0:255-Math.min(255,255*(255-g)/(2*d)|0)):f*(255==d?255:Math.min(255,255*g/(2*(255-d))|0))))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(n*d+t*g+(127>=d?f*(0==d?0:255-Math.min(255,255*(255-g)/(2*d)|0)):f*(255==d?255:Math.min(255,255*g/(2*(255-d))|0))))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(n*d+t*g+(127>=d?f*(0==d?0:255-Math.min(255,255*(255-g)/(2*d)|0)):f*(255==d?255:Math.min(255,
255*g/(2*(255-d))|0))))/m|0;c.data[a+3]=m}}};k.vividLightOntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,t=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(t*g+y*m+(127>=g?n*(0==g?0:255-Math.min(255,255*(255-m)/(2*g)|0)):n*(255==g?255:Math.min(255,
255*m/(2*(255-g))|0))))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(t*g+y*m+(127>=g?n*(0==g?0:255-Math.min(255,255*(255-m)/(2*g)|0)):n*(255==g?255:Math.min(255,255*m/(2*(255-g))|0))))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(t*g+y*m+(127>=g?n*(0==g?0:255-Math.min(255,255*(255-m)/(2*g)|0)):n*(255==g?255:Math.min(255,255*m/(2*(255-g))|0))))/f|0;c.data[a+3]=f}}};k.vividLightOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,
a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=f^255;var t=e.data[b];var y=c.data[b];c.data[b]=(n*y+(127>=t?f*(0==t?0:255-Math.min(255,255*(255-y)/(2*t)|0)):f*(255==t?255:Math.min(255,255*y/(2*(255-t))|0))))/255|0;t=e.data[b+1];y=c.data[b+1];c.data[b+1]=(n*y+(127>=t?f*(0==t?0:255-Math.min(255,255*(255-y)/(2*t)|0)):f*(255==t?255:Math.min(255,255*y/(2*(255-t))|0))))/255|0;t=e.data[b+2];
y=c.data[b+2];c.data[b+2]=(n*y+(127>=t?f*(0==t?0:255-Math.min(255,255*(255-y)/(2*t)|0)):f*(255==t?255:Math.min(255,255*y/(2*(255-t))|0))))/255|0}}};k.vividLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=n^255;var y=e.data[d];var B=c.data[d];
c.data[d]=(t*B+(127>=y?n*(0==y?0:255-Math.min(255,255*(255-B)/(2*y)|0)):n*(255==y?255:Math.min(255,255*B/(2*(255-y))|0))))/255|0;y=e.data[d+1];B=c.data[d+1];c.data[d+1]=(t*B+(127>=y?n*(0==y?0:255-Math.min(255,255*(255-B)/(2*y)|0)):n*(255==y?255:Math.min(255,255*B/(2*(255-y))|0))))/255|0;y=e.data[d+2];B=c.data[d+2];c.data[d+2]=(t*B+(127>=y?n*(0==y?0:255-Math.min(255,255*(255-B)/(2*y)|0)):n*(255==y?255:Math.min(255,255*B/(2*(255-y))|0))))/255|0}}};k.vividLightOntoTransparentFusionWithOpaqueLayerMasked=
function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=f*n/255|0,B=f*(n^255)/255|0,z=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(B*f+z*n+(127>=f?y*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):y*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/t|
0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(B*f+z*n+(127>=f?y*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):y*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/t|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(B*f+z*n+(127>=f?y*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):y*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/t|0;c.data[b+3]=t}}};k.vividLightOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,
a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=n*t/255|0,z=n*(t^255)/255|0,H=(n^255)*t/255|0;n=e.data[d];t=c.data[d];c.data[d]=(z*n+H*t+(127>=n?B*(0==n?0:255-Math.min(255,255*(255-t)/(2*n)|0)):B*(255==n?255:Math.min(255,255*t/(2*(255-n))|0))))/y|0;n=e.data[d+1];t=c.data[d+1];c.data[d+1]=(z*n+H*t+(127>=n?B*(0==n?0:255-Math.min(255,255*(255-t)/
(2*n)|0)):B*(255==n?255:Math.min(255,255*t/(2*(255-n))|0))))/y|0;n=e.data[d+2];t=c.data[d+2];c.data[d+2]=(z*n+H*t+(127>=n?B*(0==n?0:255-Math.min(255,255*(255-t)/(2*n)|0)):B*(255==n?255:Math.min(255,255*t/(2*(255-n))|0))))/y|0;c.data[d+3]=y}}};k.linearLightOntoOpaqueFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=c.data[a];c.data[a]=
(g*m+d*Math.min(255,Math.max(0,m+2*e.data[a]-255)))/255|0;m=c.data[a+1];c.data[a+1]=(g*m+d*Math.min(255,Math.max(0,m+2*e.data[a+1]-255)))/255|0;m=c.data[a+2];c.data[a+2]=(g*m+d*Math.min(255,Math.max(0,m+2*e.data[a+2]-255)))/255|0}}};k.linearLightOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=g^255;var f=c.data[a];
c.data[a]=(m*f+g*Math.min(255,Math.max(0,f+2*e.data[a]-255)))/255|0;f=c.data[a+1];c.data[a+1]=(m*f+g*Math.min(255,Math.max(0,f+2*e.data[a+1]-255)))/255|0;f=c.data[a+2];c.data[a+2]=(m*f+g*Math.min(255,Math.max(0,f+2*e.data[a+2]-255)))/255|0}}};k.linearLightOntoTransparentFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=
d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,t=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(n*d+t*g+f*Math.min(255,Math.max(0,g+2*d-255)))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(n*d+t*g+f*Math.min(255,Math.max(0,g+2*d-255)))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(n*d+t*g+f*Math.min(255,Math.max(0,g+2*d-255)))/m|0;c.data[a+3]=m}}};k.linearLightOntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,t=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(t*g+y*m+n*Math.min(255,Math.max(0,m+2*g-255)))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(t*g+y*m+n*Math.min(255,Math.max(0,m+2*g-255)))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(t*g+y*m+n*Math.min(255,Math.max(0,m+2*g-255)))/f|0;c.data[a+3]=f}}};k.linearLightOntoOpaqueFusionWithOpaqueLayerMasked=
function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=f^255;var t=c.data[b];c.data[b]=(n*t+f*Math.min(255,Math.max(0,t+2*e.data[b]-255)))/255|0;t=c.data[b+1];c.data[b+1]=(n*t+f*Math.min(255,Math.max(0,t+2*e.data[b+1]-255)))/255|0;t=c.data[b+2];c.data[b+2]=(n*t+f*Math.min(255,Math.max(0,t+2*
e.data[b+2]-255)))/255|0}}};k.linearLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=n^255;var y=c.data[d];c.data[d]=(t*y+n*Math.min(255,Math.max(0,y+2*e.data[d]-255)))/255|0;y=c.data[d+1];c.data[d+1]=(t*y+n*Math.min(255,Math.max(0,y+
2*e.data[d+1]-255)))/255|0;y=c.data[d+2];c.data[d+2]=(t*y+n*Math.min(255,Math.max(0,y+2*e.data[d+2]-255)))/255|0}}};k.linearLightOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=f*n/255|0,B=f*(n^255)/255|
0,z=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(B*f+z*n+y*Math.min(255,Math.max(0,n+2*f-255)))/t|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(B*f+z*n+y*Math.min(255,Math.max(0,n+2*f-255)))/t|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(B*f+z*n+y*Math.min(255,Math.max(0,n+2*f-255)))/t|0;c.data[b+3]=t}}};k.linearLightOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=n*t/255|0,z=n*(t^255)/255|0,H=(n^255)*t/255|0;n=e.data[d];t=c.data[d];c.data[d]=(z*n+H*t+B*Math.min(255,Math.max(0,t+2*n-255)))/y|0;n=e.data[d+1];t=c.data[d+1];c.data[d+1]=(z*n+H*t+B*Math.min(255,Math.max(0,t+2*n-255)))/y|0;n=e.data[d+2];t=c.data[d+2];c.data[d+2]=(z*n+H*t+B*Math.min(255,Math.max(0,t+2*n-255)))/y|0;c.data[d+3]=y}}};k.pinLightOntoOpaqueFusionWithOpaqueLayer=
function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=(g*f+d*(f>=2*m?2*m:f<=2*m-255?2*m-255:f))/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=(g*f+d*(f>=2*m?2*m:f<=2*m-255?2*m-255:f))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(g*f+d*(f>=2*m?2*m:f<=2*m-255?2*m-255:f))/255|0}}};k.pinLightOntoOpaqueFusionWithTransparentLayer=
function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(m*n+g*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(m*n+g*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(m*n+g*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/255|0}}};k.pinLightOntoTransparentFusionWithOpaqueLayer=
function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,t=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(n*d+t*g+f*(g>=2*d?2*d:g<=2*d-255?2*d-255:g))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(n*d+t*g+f*(g>=2*d?2*d:g<=2*d-255?2*d-255:g))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(n*d+t*g+f*(g>=
2*d?2*d:g<=2*d-255?2*d-255:g))/m|0;c.data[a+3]=m}}};k.pinLightOntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,t=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(t*g+y*m+n*(m>=2*g?2*g:m<=2*g-255?2*g-255:m))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+
1]=(t*g+y*m+n*(m>=2*g?2*g:m<=2*g-255?2*g-255:m))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(t*g+y*m+n*(m>=2*g?2*g:m<=2*g-255?2*g-255:m))/f|0;c.data[a+3]=f}}};k.pinLightOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=f^255;var t=e.data[b];var y=
c.data[b];c.data[b]=(n*y+f*(y>=2*t?2*t:y<=2*t-255?2*t-255:y))/255|0;t=e.data[b+1];y=c.data[b+1];c.data[b+1]=(n*y+f*(y>=2*t?2*t:y<=2*t-255?2*t-255:y))/255|0;t=e.data[b+2];y=c.data[b+2];c.data[b+2]=(n*y+f*(y>=2*t?2*t:y<=2*t-255?2*t-255:y))/255|0}}};k.pinLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<
r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=n^255;var y=e.data[d];var B=c.data[d];c.data[d]=(t*B+n*(B>=2*y?2*y:B<=2*y-255?2*y-255:B))/255|0;y=e.data[d+1];B=c.data[d+1];c.data[d+1]=(t*B+n*(B>=2*y?2*y:B<=2*y-255?2*y-255:B))/255|0;y=e.data[d+2];B=c.data[d+2];c.data[d+2]=(t*B+n*(B>=2*y?2*y:B<=2*y-255?2*y-255:B))/255|0}}};k.pinLightOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|
0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;if(f){var n=c.data[b+3];var t=f+n-(f*n/255|0)|0,y=f*n/255|0,B=f*(n^255)/255|0,z=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(B*f+z*n+y*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/t|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(B*f+z*n+y*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/t|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(B*f+z*n+y*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/t|
0;c.data[b+3]=t}}};k.pinLightOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;if(n){var t=c.data[d+3];var y=n+t-(n*t/255|0)|0,B=n*t/255|0,z=n*(t^255)/255|0,H=(n^255)*t/255|0;n=e.data[d];t=c.data[d];c.data[d]=(z*n+H*t+B*(t>=2*n?2*n:t<=2*n-255?2*n-
255:t))/y|0;n=e.data[d+1];t=c.data[d+1];c.data[d+1]=(z*n+H*t+B*(t>=2*n?2*n:t<=2*n-255?2*n-255:t))/y|0;n=e.data[d+2];t=c.data[d+2];c.data[d+2]=(z*n+H*t+B*(t>=2*n?2*n:t<=2*n-255?2*n-255:t))/y|0;c.data[d+3]=y}}};k.passthroughOntoOpaqueFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3],m=v/100,f=1-m,n=g*m+255*f;c.data[a]=(e.data[a]*g*m+255*c.data[a]*
f)/n|0;c.data[a+1]=(e.data[a+1]*g*m+255*c.data[a+1]*f)/n|0;c.data[a+2]=(e.data[a+2]*g*m+255*c.data[a+2]*f)/n|0;c.data[a+3]=n}};k.passthroughOntoOpaqueFusionWithOpaqueLayer=k.passthroughOntoOpaqueFusionWithTransparentLayer;k.passthroughOntoTransparentFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3],m=c.data[a+3],f=v/100,n=1-f,t=g*f+m*n;c.data[a]=
(e.data[a]*g*f+c.data[a]*m*n)/t|0;c.data[a+1]=(e.data[a+1]*g*f+c.data[a+1]*m*n)/t|0;c.data[a+2]=(e.data[a+2]*g*f+c.data[a+2]*m*n)/t|0;c.data[a+3]=t}};k.passthroughOntoTransparentFusionWithOpaqueLayer=k.passthroughOntoTransparentFusionWithTransparentLayer;k.passthroughOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=
0;f<r;f++,d+=4,a++){var n=e.data[d+3],t=l.data[a]*v/25500,y=1-t,B=n*t+255*y;c.data[d]=(e.data[d]*n*t+255*c.data[d]*y)/B|0;c.data[d+1]=(e.data[d+1]*n*t+255*c.data[d+1]*y)/B|0;c.data[d+2]=(e.data[d+2]*n*t+255*c.data[d+2]*y)/B|0;c.data[d+3]=B}};k.passthroughOntoOpaqueFusionWithOpaqueLayerMasked=k.passthroughOntoOpaqueFusionWithTransparentLayerMasked;k.passthroughOntoTransparentFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,
a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3],t=c.data[d+3],y=l.data[a]*v/25500,B=1-y,z=n*y+t*B;c.data[d]=(e.data[d]*n*y+c.data[d]*t*B)/z|0;c.data[d+1]=(e.data[d+1]*n*y+c.data[d+1]*t*B)/z|0;c.data[d+2]=(e.data[d+2]*n*y+c.data[d+2]*t*B)/z|0;c.data[d+3]=z}};k.passthroughOntoTransparentFusionWithOpaqueLayerMasked=k.passthroughOntoTransparentFusionWithTransparentLayerMasked;k.replaceOntoFusionWithTransparentLayer=
function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<q;d++,a+=4){var g=e.data[a+3]*v/100|0;c.data[a]=e.data[a];c.data[a+1]=e.data[a+1];c.data[a+2]=e.data[a+2];c.data[a+3]=g}};k.replaceOntoFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];c.data[a]=e.data[a];
c.data[a+1]=e.data[a+1];c.data[a+2]=e.data[a+2];c.data[a+3]=d}};k.replaceOntoFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++){var n=e.data[d+3]*l.data[a]*v/25500|0;c.data[d]=e.data[d];c.data[d+1]=e.data[d+1];c.data[d+2]=e.data[d+2];c.data[d+3]=n}};k.replaceOntoFusionWithOpaqueLayerMasked=function(c,
e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++){var f=e.data[b+3]*l.data[a]/255|0;c.data[b]=e.data[b];c.data[b+1]=e.data[b+1];c.data[b+2]=e.data[b+2];c.data[b+3]=f}};k.replaceAlphaOntoFusionWithTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=
r)for(var d=0;d<q;d++,a+=4)c.data[a+3]=e.data[a+3]*v/100|0};k.replaceAlphaOntoFusionWithTransparentLayerMasked=function(c,e,v,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,b=4*(e.width-r)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<q;m++,d+=b,a+=g)for(var f=0;f<r;f++,d+=4,a++)c.data[d+3]=e.data[d+3]*l.data[a]*v/25500|0};k.replaceAlphaOntoFusionWithOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4)c.data[a+3]=e.data[a+3]};k.replaceAlphaOntoFusionWithOpaqueLayerMasked=function(c,e,v,a,l){v=a.getHeight()|0;var q=a.getWidth()|0,r=4*(e.width-q)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<v;g++,b+=r,a+=d)for(var m=0;m<q;m++,b+=4,a++)c.data[b+3]=e.data[b+3]*l.data[a]/255|0};k.upgradeMultiplyOfOpaqueLayer=function(c,e,v,a){v=a.getHeight()|0;var l=a.getWidth()|0,q=4*(e.width-l)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var r=0;r<v;r++,a+=q)for(var b=0;b<l;b++,a+=4){var d=e.data[a+3];if(d){var g=e.data[a];var m=c.data[a];e.data[a]=g+Math.ceil((255-g)*m*d%65025/(m*d));g=e.data[a+1];m=c.data[a+1];e.data[a+1]=g+Math.ceil((255-g)*m*d%65025/(m*d));g=e.data[a+2];m=c.data[a+2];e.data[a+2]=g+Math.ceil((255-g)*m*d%65025/(m*d))}}};k.upgradeMultiplyOfTransparentLayer=function(c,e,v,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<l;b++,a+=r)for(var d=0;d<
q;d++,a+=4){var g=e.data[a+3]*v/100|0;if(g){var m=e.data[a];var f=c.data[a];e.data[a]=m+Math.ceil((255-m)*f*g%65025/(f*g));m=e.data[a+1];f=c.data[a+1];e.data[a+1]=m+Math.ceil((255-m)*f*g%65025/(f*g));m=e.data[a+2];f=c.data[a+2];e.data[a+2]=m+Math.ceil((255-m)*f*g%65025/(f*g))}}};k._normalFuseImageOntoImageAtPosition=function(c,e,v,a,l,q){v=a.getHeight()|0;var r=a.getWidth()|0,b=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;var d=4*(c.width-r)|0;l=c.offsetOfPixel(l,q)|0;for(q=0;q<v;q++,a+=b,l+=
d)for(var g=0;g<r;g++,a+=4,l+=4){var m=e.data[a+3];if(m){var f=c.data[l+3];f=m+f-(m*f/255|0)|0;m=255*m/f|0;var n=255-m;c.data[l]=(e.data[a]*m+c.data[l]*n)/255|0;c.data[l+1]=(e.data[a+1]*m+c.data[l+1]*n)/255|0;c.data[l+2]=(e.data[a+2]*m+c.data[l+2]*n)/255|0;c.data[l+3]=f}}};k.LM_NORMAL=0;k.LM_MULTIPLY=1;k.LM_ADD=2;k.LM_SCREEN=3;k.LM_LIGHTEN=4;k.LM_DARKEN=5;k.LM_SUBTRACT=6;k.LM_DODGE=7;k.LM_BURN=8;k.LM_OVERLAY=9;k.LM_HARDLIGHT=10;k.LM_SOFTLIGHT=11;k.LM_VIVIDLIGHT=12;k.LM_LINEARLIGHT=13;k.LM_PINLIGHT=
14;k.LM_PASSTHROUGH=15;k.LM_MULTIPLY2=16;k.LM_FIRST=0;k.LM_LAST=16;k.LM_LAST_CHIBIPAINT=k.LM_PINLIGHT;k.BLEND_MODE_CODENAMES="normal multiply add screen lighten darken subtract dodge burn overlay hardLight softLight vividLight linearLight pinLight passthrough multiply2".split(" ");k.BLEND_MODE_DISPLAY_NAMES="Normal;Multiply;Add;Screen;Lighten;Darken;Subtract;Dodge;Burn;Overlay;Hard Light;Soft Light;Vivid Light;Linear Light;Pin Light;Passthrough;Multiply".split(";");(function(){for(var c=0;256>c;c++){var e=
c/255;u[c]=255*(e-e*e)|0}for(c=0;256>c;c++)e=c/255,E[c]=255*(Math.sqrt(e)-e)|0})();K.exports=C.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPLayer.js":16}],6:[function(h,K,C){function w(c){return c&&c.__esModule?c:{default:c}}var k=w(h("./CPBlend.js")),u=w(h("../util/CPRect.js")),E=w(h("./CPColorBmp.js"));w(h("./CPGreyBmp.js"));k.default.blendFunctionNameForParameters=function(c,e,v,a){v=k.default.BLEND_MODE_CODENAMES[v]+"Onto";v=c?v+"TransparentFusion":v+"OpaqueFusion";
v=100==e?v+"WithOpaqueLayer":v+"WithTransparentLayer";a&&(v+="Masked");return v};k.default.fuseImageOntoImage=function(c,e,v,a,l,q,r){0>=a||(e=k.default.blendFunctionNameForParameters(e,a,l,null!=r),q=c.getBounds().clipTo(q),this[e](c,v,a,q,r))};k.default.normalFuseImageOntoImageAtPosition=function(c,e,v,a,l){l=l.clone();v=new u.default(v,a,0,0);c.getBounds().clipSourceDest(l,v);this._normalFuseImageOntoImageAtPosition(c,e,100,l,v.left,v.top)};k.default.multiplyAlphaBy=function(c,e){if(100>e)if(0==
e)c.clearAll(0);else{c=c.data;for(var v=3;v<c.length;v+=4)c[v]=Math.round(c[v]*e/100)}};k.default.multiplyAlphaByMask=function(c,e,v){e/=25500;for(var a=E.default.ALPHA_BYTE_OFFSET,l=0;a<c.data.length;a+=E.default.BYTES_PER_PIXEL,l++)c.data[a]=Math.round(c.data[a]*v.data[l]*e)};k.default.copyAndMultiplyAlphaBy=function(c,e,v,a){if(100==v)c.copyBitmapRect(e,a.left,a.top,a);else if(0==v)c.clearRect(a,0);else for(c=e.data,e=0;e<c.length;e+=4)c[e]=c[e],c[e+1]=c[e+1],c[e+2]=c[e+2],c[e+3]=Math.round(c[e+
3]*v/100)}},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],7:[function(h,K,C){function w(r){return r&&r.__esModule?r:{default:r}}function k(r,b){var d="undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!d){if(Array.isArray(r)||(d=u(r))||b&&r&&"number"===typeof r.length){d&&(r=d);var g=0;b=function(){};return{s:b,n:function(){return g>=r.length?{done:!0}:{done:!1,value:r[g++]}},e:function(t){throw t;},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var m=!0,f=!1,n;return{s:function(){d=d.call(r)},n:function(){var t=d.next();m=t.done;return t},e:function(t){f=!0;n=t},f:function(){try{m||null==d.return||d.return()}finally{if(f)throw n;}}}}function u(r,b){if(r){if("string"===typeof r)return E(r,b);var d=Object.prototype.toString.call(r).slice(8,-1);"Object"===d&&r.constructor&&(d=r.constructor.name);if("Map"===d||"Set"===d)return Array.from(r);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return E(r,b)}}function E(r,b){if(null==
b||b>r.length)b=r.length;for(var d=0,g=Array(b);d<b;d++)g[d]=r[d];return g}function c(r,b,d){d?(this.isGroup=d instanceof v.default,this.image=d.image,this.mask=d.getEffectiveMask(),this.layer=d,this.blendMode=d.blendMode,this.alpha=d.alpha,this.visible=d.visible):(this.isGroup=!0,this.layer=this.mask=this.image=null,this.blendMode=e.default.LM_PASSTHROUGH,this.alpha=100,this.visible=!0);this.dirtyRect=new q.default(0,0,r,b);this.layers=[];this.parent=null;this.clip=!1}Object.defineProperty(C,"__esModule",
{value:!0});C.default=function(r,b,d,g){function m(){return 0<N.length?N.pop():new a.default(b,d)}function f(F){if(0==F.layers.length)return null;if(1==F.layers.length&&(null==F.mask||null==F.layers[0].mask)){var G=F.layers[0];G.alpha=Math.round(F.alpha*G.alpha/100);F.blendMode!=e.default.LM_PASSTHROUGH&&(G.blendMode=F.blendMode);G.mask=F.mask||G.mask;F.layer&&x.set(F.layer,G);return G}if(F.blendMode==e.default.LM_PASSTHROUGH&&100==F.alpha&&null==F.mask)return F.layers;F.image=m();return F}function n(F){var G=
new c(b,d,F);x.set(F,G);return G}function t(F){if(0==F.getEffectiveAlpha())return null;for(var G=n(F),I=0;I<F.layers.length;I++){var M=F.layers[I],R=F.layers[I+1];if(M instanceof l.default&&R&&R.clip){R=new c(b,d,null);R.blendMode=M.blendMode;R.alpha=100;R.clip=!0;R.addChildren(n(M));for(I+=1;I<F.layers.length;I++)if(F.layers[I].clip)0<F.layers[I].getEffectiveAlpha()&&R.addChildren(n(F.layers[I]));else break;0<M.getEffectiveAlpha()&&G.addChildren(f(R));--I}else M instanceof v.default?G.addChildren(t(M)):
0<M.getEffectiveAlpha()&&G.addChildren(n(M))}return f(G)}function y(F,G){F&&(F.dirtyRect.union(G),y(F.parent,G))}function B(F){if(F.isGroup){F.image&&N.push(F.image);F=k(F.layers);var G;try{for(F.s();!(G=F.n()).done;)B(G.value)}catch(I){F.e(I)}finally{F.f()}}}function z(F){if(!F||!F.isGroup)return F;var G=F.dirtyRect,I=!0,M=!0;F.blendMode==e.default.LM_PASSTHROUGH&&F.parent&&G.union(F.parent.dirtyRect);if(G.isEmpty())return F;if(F.blendMode==e.default.LM_PASSTHROUGH&&F.parent){I=!1;var R=F.image,
ha=F.parent.image;G.getWidth()==R.width&&G.getHeight()==R.height?R.copyPixelsFrom(ha):e.default.replaceOntoFusionWithOpaqueLayer(R,ha,100,G)}for(R=0;R<F.layers.length;R++){var ca=z(F.layers[R]);if(I){I=F.image;ha=ca.image;var sa=ca.alpha,na=G;ca=ca.mask;if(100!=sa||ca||na.getWidth()!=I.width||na.getHeight()!=I.height){var Q="replaceOntoFusionWith";Q=100==sa?Q+"OpaqueLayer":Q+"TransparentLayer";ca&&(Q+="Masked");e.default[Q](I,ha,sa,na,ca)}else I.copyPixelsFrom(ha);I=!1}else M=M&&F.image.hasAlphaInRect(G),
e.default.fuseImageOntoImage(F.image,M,ca.image,ca.alpha,ca.blendMode,G,ca.mask)}F.clip&&(M=F.layers[0],100>M.alpha?M.mask?e.default.replaceAlphaOntoFusionWithTransparentLayerMasked(F.image,M.image,M.alpha,G,M.mask):e.default.replaceAlphaOntoFusionWithTransparentLayer(F.image,M.image,M.alpha,G):M.mask?e.default.replaceAlphaOntoFusionWithOpaqueLayerMasked(F.image,M.image,100,G,M.mask):e.default.replaceAlphaOntoFusionWithOpaqueLayer(F.image,M.image,100,G));F.dirtyRect.makeEmpty();return F}var H,N=[],
x=new Map;this.invalidateLayerRect=function(F,G){F=x.get(F);y(F,G)};this.buildTree=function(){if(!H){H=t(r);if(!H)H=new c(b,d,{image:m(),blendMode:e.default.LM_NORMAL,alpha:100,getEffectiveMask:function(){return null},visible:!0}),H.image.clearAll(0);else if(Array.isArray(H)||g&&(100>H.alpha||H.mask)){var F=H;H=new c(b,d);H.blendMode=Array.isArray(F)?e.default.LM_NORMAL:F.blendMode;H.alpha=100;H.image=m();H.addChildren(F)}N=[]}};this.resetTree=function(){H&&(B(H),H=null,x.clear())};this.layerPropertyChanged=
function(F,G){var I=x.get(F);I&&I.visible==F.visible&&I.alpha==F.alpha&&null==I.mask==(null==F.getEffectiveMask())&&I.blendMode==e.default.LM_PASSTHROUGH==(F.blendMode==e.default.LM_PASSTHROUGH)&&"clip"!==G?(I.blendMode=F.blendMode,y(I,new q.default(0,0,b,d))):this.resetTree()};this.blendTree=function(){return z(H)}};var e=w(h("./CPBlend.js"));h("./CPBlendAdditional.js");w(h("./CPLayer.js"));var v=w(h("./CPLayerGroup.js")),a=w(h("./CPColorBmp.js")),l=w(h("./CPImageLayer.js")),q=w(h("../util/CPRect.js"));
c.prototype.addChildren=function(r){var b=this;null!=r&&(Array.isArray(r)?(r.forEach(function(d){return d.parent=b}),this.layers=this.layers.concat(r)):(r.parent=this,this.layers.push(r)))};K.exports=C.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"./CPLayer.js":16,"./CPLayerGroup.js":17}],8:[function(h,K,C){function w(k){for(var u in w.DEFAULTS)w.DEFAULTS.hasOwnProperty(u)&&(this[u]=w.DEFAULTS[u]);for(u in k)k.hasOwnProperty(u)&&
(this[u]=k[u])}Object.defineProperty(C,"__esModule",{value:!0});C.default=w;w.STROKE_MODE_FREEHAND=0;w.STROKE_MODE_LINE=1;w.STROKE_MODE_BEZIER=2;w.TIP_ROUND_PIXEL=0;w.TIP_ROUND_AA=1;w.TIP_ROUND_AIRBRUSH=2;w.TIP_SQUARE_PIXEL=3;w.TIP_SQUARE_AA=4;w.BRUSH_MODE_PAINT=0;w.BRUSH_MODE_ERASE=1;w.BRUSH_MODE_DODGE=2;w.BRUSH_MODE_BURN=3;w.BRUSH_MODE_WATER=4;w.BRUSH_MODE_BLUR=5;w.BRUSH_MODE_SMUDGE=6;w.BRUSH_MODE_OIL=7;w.PAINT_MODE_OPACITY=0;w.PAINT_MODE_FLOW=1;w.DEFAULTS={isAA:!1,minSpacing:0,spacing:0,pressureSize:!0,
pressureAlpha:!1,pressureScattering:!1,alphaScale:1,tip:w.TIP_ROUND_PIXEL,brushMode:w.BRUSH_MODE_PAINT,paintMode:w.PAINT_MODE_OPACITY,strokeMode:w.STROKE_MODE_FREEHAND,resat:1,bleed:0,texture:1,size:0,curSize:0,alpha:0,curAlpha:0,scattering:0,curScattering:0,squeeze:0,curSqueeze:0,angle:Math.PI,curAngle:0,smoothing:0};w.prototype.applyPressure=function(k){this.curSize=this.pressureSize&&this.brushMode!=w.BRUSH_MODE_SMUDGE&&this.brushMode!=w.BRUSH_MODE_OIL?Math.max(.1,this.size*k):Math.max(.1,this.size);
16<this.curSize&&(this.curSize=Math.floor(this.curSize));this.curSize=Math.min(this.curSize,400);this.curAlpha=this.pressureAlpha?Math.floor(this.alpha*Math.min(k,1)):this.alpha;this.curSqueeze=this.squeeze;this.curAngle=this.angle;this.curScattering=this.scattering*this.curSize*(this.pressureScattering?k:1)};w.prototype.clone=function(){return new w(this)};K.exports=C.default},{}],9:[function(h,K,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(){function u(d){if(null!=v&&d.curSize==
a&&d.curSqueeze==l&&d.curAngle==q&&d.tip==r)return v;switch(d.tip){case w.default.TIP_ROUND_AIRBRUSH:for(var g=E,m=Math.ceil(d.curSize),f=m/2,n=d.curSize/2*(d.curSize/2),t=1+d.curSqueeze*k,y=Math.cos(d.curAngle),B=Math.sin(d.curAngle),z=0,H=0;H<m;H++)for(var N=0;N<m;N++){var x=N+.5-f,F=H+.5-f,G=(x*y-F*B)*t;x=F*y+x*B;G=G*G+x*x;G<=n?g[z++]=~~(255*(1-G/n)):g[z++]=0}break;case w.default.TIP_ROUND_AA:g=E;m=Math.ceil(d.curSize);f=m/2;n=d.curSize/2*(d.curSize/2);t=(d.curSize-2)/2*((d.curSize-2)/2);y=(d.curSize+
2)/2*((d.curSize+2)/2);B=1+d.curSqueeze*k;z=Math.cos(d.curAngle);H=Math.sin(d.curAngle);for(G=N=0;G<m;G++)for(x=0;x<m;x++){var I=x+.5-f,M=G+.5-f,R=(I*z-M*H)*B;I=M*z+I*H;R=R*R+I*I;if(R<=t)g[N++]=255;else if(R>y)g[N++]=0;else{for(var ha=F=0;4>ha;ha++)for(var ca=0;4>ca;ca++)I=x+.25*ca-f,M=G+.25*ha-f,R=(I*z-M*H)*B,I=M*z+I*H,R=R*R+I*I,R<=n&&(F+=1);g[N++]=Math.min(16*F,255)}}break;case w.default.TIP_ROUND_PIXEL:g=E;m=Math.ceil(d.curSize);f=m/2;n=d.curSize/2*(d.curSize/2);t=1+d.curSqueeze*k;y=Math.cos(d.curAngle);
B=Math.sin(d.curAngle);for(H=z=0;H<m;H++)for(N=0;N<m;N++)x=N+.5-f,F=H+.5-f,G=(x*y-F*B)*t,x=F*y+x*B,G*G+x*x<=n?g[z++]=255:g[z++]=0;break;case w.default.TIP_SQUARE_AA:g=E;m=Math.ceil(d.curSize);f=m/2;t=d.curSize*Math.sin(Math.PI/4);n=t/2/(1+d.curSqueeze*k);t/=2;y=n-1;B=t-1;z=n+1;H=t+1;N=Math.cos(d.curAngle);G=Math.sin(d.curAngle);for(F=x=0;F<m;F++)for(ha=0;ha<m;ha++){var sa=ha+.5-f,na=F+.5-f;ca=Math.abs(sa*N-na*G);sa=Math.abs(na*N+sa*G);if(ca<=y&&sa<=B)g[x++]=255;else if(ca>z||sa>H)g[x++]=0;else{for(I=
R=0;4>I;I++)for(M=0;4>M;M++)sa=ha+.25*M-f,na=F+.25*I-f,ca=Math.abs(sa*N-na*G),sa=Math.abs(na*N+sa*G),ca<=n&&sa<=t&&R++;g[x++]=Math.min(16*R,255)}}break;case w.default.TIP_SQUARE_PIXEL:for(g=E,m=Math.ceil(d.curSize),f=m/2,t=d.curSize*Math.sin(Math.PI/4),n=t/2/(1+d.curSqueeze*k),t/=2,y=Math.cos(d.curAngle),B=Math.sin(d.curAngle),H=z=0;H<m;H++)for(N=0;N<m;N++)G=N+.5-f,x=H+.5-f,F=Math.abs(x*y+G*B),Math.abs(G*y-x*B)<=n&&F<=t?g[z++]=255:g[z++]=0}v=E;a=d.curSize;r=d.tip;l=d.curSqueeze;q=d.curAngle;return E}
var E=new Uint8Array(160801),c=new Uint8Array(161604),e=[new Float32Array(402),new Float32Array(402)],v=null,a,l,q,r,b=this;this.getDab=function(d,g,m){var f={alpha:m.curAlpha,width:Math.ceil(m.curSize),height:Math.ceil(m.curSize)},n=m.isAA&&m.tip!=w.default.TIP_ROUND_PIXEL;n&&(f.width++,f.height++);var t=d-f.width/2+.5,y=g-f.height/2+.5;g=Math.floor(t);d=Math.floor(y);if(n){var B=t-g,z=y-d;t=u(m);y=Math.ceil(m.curSize);n=Math.ceil(m.curSize)+1;var H=(1-B)*(1-z),N=B*(1-z),x=B*z,F=(1-B)*z,G=0;B=0;
z=e[0];var I=e[1],M;z.fill(0);for(var R=0;R<y;R++){for(M=I[0]=0;M<y;M++,G++,B++){var ha=t[G];c[B]=z[M]+ha*H+.5|0;z[M+1]+=ha*N;I[M]+=ha*F;I[M+1]=ha*x}c[B++]=z[M]+.5|0;M=z;z=I;I=M}for(t=0;t<n;t++,B++)c[B]=z[t]+.5|0;f.brush=c}else f.brush=u(m);f.x=g;f.y=d;if(0<m.texture&&null!=this.texture)for(f.brush==E&&(c.set(E),f.brush=c),m=Math.floor(255*m.texture),g=b.texture,d=f.x%g.width,n=f.y%g.height,t=0,0>d&&(d+=g.width),0>n&&(n+=g.height),N=0;N<f.height;N++){y=n*g.width+d;H=n*g.width+g.width;for(x=0;x<f.width;x++)f.brush[t]=
~~(f.brush[t]*(g.data[y]*m/255^255)/255),t++,y++,y==H&&(y-=g.width);n++;n==g.height&&(n=0)}return f};this.setTexture=function(d){this.texture=d}};var w=function(u){return u&&u.__esModule?u:{default:u}}(h("./CPBrushInfo.js")),k=10;K.exports=C.default},{"./CPBrushInfo.js":8}],10:[function(h,K,C){function w(y){return y&&y.__esModule?y:{default:y}}function k(y){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&
"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},k(y)}function u(y,B){if("function"!==typeof B&&null!==B)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(B&&B.prototype,{constructor:{value:y,writable:!0,configurable:!0}});Object.defineProperty(y,"prototype",{writable:!1});B&&E(y,B)}function E(y,B){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,H){z.__proto__=H;return z};return E(y,B)}function c(y){var B=
e();return function(){var z=v(y);if(B){var H=v(this).constructor;z=Reflect.construct(z,arguments,H)}else z=z.apply(this,arguments);if(!z||"object"!==k(z)&&"function"!==typeof z){if(void 0!==z)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");z=this}return z}}function e(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===
typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}function v(y){v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)};return v(y)}function a(y,B){if(!(y instanceof B))throw new TypeError("Cannot call a class as a function");}function l(y,B){for(var z=0;z<B.length;z++){var H=B[z];H.enumerable=H.enumerable||!1;H.configurable=!0;"value"in H&&(H.writable=!0);var N=Object,
x=N.defineProperty;a:{var F=H.key;if("object"===k(F)&&null!==F){var G=F[Symbol.toPrimitive];if(void 0!==G){F=G.call(F,"string");if("object"!==k(F))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}F=String(F)}}F="symbol"===k(F)?F:String(F);x.call(N,y,F,H)}}function q(y,B,z){B&&l(y.prototype,B);z&&l(y,z);Object.defineProperty(y,"prototype",{writable:!1});return y}function r(y){for(var B=0,z=0;z<y.length;z++)B+=y[z];return B/y.length}function b(y){for(var B=new n.default(0,
0,0),z=0;z<y.length;z++){var H=y[z];B.r+=H.r;B.g+=H.g;B.b+=H.b}B.r/=y.length;B.g/=y.length;B.b/=y.length;return B}function d(y,B){var z=y.data;if(0<B.left)for(var H=B.top;H<B.bottom;H++){var N=H*y.width,x=N;N=z[N+B.left];for(var F=0;F<B.left;F++,x++)z[x]=N}if(B.right<y.width)for(H=B.top;H<B.bottom;H++)for(x=H*y.width+B.right,N=z[x-1],F=B.right;F<y.width;F++,x++)z[x]=N;for(x=H=0;x<B.top;x++)for(N=B.top*y.width,F=0;F<y.width;F++,N++,H++)z[H]=z[N];H=B.bottom*y.width;for(x=B.bottom;x<y.width;x++)for(N=
(B.bottom-1)*y.width,F=0;F<y.width;F++,N++,H++)z[H]=z[N]}Object.defineProperty(C,"__esModule",{value:!0});C.CPBrushToolWatercolor=C.CPBrushToolSmudge=C.CPBrushToolOil=C.CPBrushToolEraser=C.CPBrushToolDodge=C.CPBrushToolBurn=C.CPBrushToolBlur=C.CPBrushTool=void 0;var g=w(h("./CPColorBmp.js")),m=w(h("./CPGreyBmp.js")),f=w(h("./CPBrushInfo.js")),n=w(h("../util/CPColorFloat.js"));h=C.CPBrushTool=function(){function y(B,z){a(this,y);this._strokeBuffer=B;this._strokedRegion=z;this.wantsOutputAsInput=!0}
q(y,[{key:"paintDab",value:function(B,z,H,N,x,F,G){B=Math.max(1,Math.ceil(F.alpha*N.alphaScale));switch(N.paintMode){case f.default.PAINT_MODE_FLOW:this._paintFlow(x,z,F.brush,F.width,B);break;case f.default.PAINT_MODE_OPACITY:this._paintOpacity(x,z,F.brush,F.width,B)}}},{key:"mergeOntoImage",value:function(B,z,H){var N=this._strokeBuffer.data,x=this._strokedRegion;z=z.data;var F=B.data,G=H>>16&255,I=H>>8&255;H&=255;var M=x.getWidth()|0,R=x.getHeight()|0,ha=this._strokeBuffer.offsetOfPixel(x.left,
x.top);x=B.offsetOfPixel(x.left,x.top);var ca=this._strokeBuffer.width-M|0;B=(B.width-M)*g.default.BYTES_PER_PIXEL|0;for(var sa=0;sa<R;sa++,ha+=ca,x+=B)for(var na=0;na<M;na++,ha++,x+=g.default.BYTES_PER_PIXEL){var Q=N[ha]/255+.5|0;if(0<Q){var oa=Q+z[x+g.default.ALPHA_BYTE_OFFSET]*(255-Q)/255|0;Q=255*Q/oa|0;var ia=255-Q;F[x]=(G*Q+z[x]*ia)/255&255;F[x+1]=(I*Q+z[x+1]*ia)/255&255;F[x+2]=(H*Q+z[x+2]*ia)/255&255;F[x+3]=oa}}}},{key:"mergeOntoMask",value:function(B,z,H){var N=this._strokeBuffer.data,x=this._strokedRegion;
z=z.data;var F=B.data,G=x.getWidth()|0,I=x.getHeight()|0,M=B.offsetOfPixel(x.left,x.top);x=this._strokeBuffer.offsetOfPixel(x.left,x.top);var R=this._strokeBuffer.width-G|0;B=B.width-G|0;for(var ha=0;ha<I;ha++,x+=R,M+=B)for(var ca=0;ca<G;ca++,x++,M++){var sa=N[x]/255|0;0<sa&&(F[M]=(H*sa+z[M]*(255-sa))/255)}}},{key:"_paintFlow",value:function(B,z,H,N,x){var F=this._strokeBuffer.data;B=B.left+B.top*N;var G=this._strokeBuffer.offsetOfPixel(z.left,z.top),I=z.getHeight(),M=z.getWidth();N-=M;var R=this._strokeBuffer.width-
M;this._strokedRegion.union(z);for(z=0;z<I;z++,B+=N,G+=R)for(var ha=0;ha<M;ha++,B++,G++){var ca=H[B]*x;0!=ca&&(F[G]=Math.min(65025,F[G]+(255-F[G]/255)*ca/255))}}},{key:"_paintOpacity",value:function(B,z,H,N,x){var F=this._strokeBuffer.data;B=B.left+B.top*N;var G=this._strokeBuffer.offsetOfPixel(z.left,z.top),I=z.getWidth();N-=I;var M=this._strokeBuffer.width-I;x=Math.min(255,x);this._strokedRegion.union(z);for(var R=z.top;R<z.bottom;R++,B+=N,G+=M)for(var ha=0;ha<I;ha++,B++,G++)F[G]=Math.max(H[B]*
x,F[G])}},{key:"beginStroke",value:function(){}},{key:"endStroke",value:function(){}}]);return y}();C.CPBrushToolEraser=function(y){function B(){a(this,B);return z.apply(this,arguments)}u(B,y);var z=c(B);q(B,[{key:"mergeOntoImage",value:function(H,N,x){x=this._strokeBuffer.data;var F=this._strokedRegion;N=N.data;for(var G=H.data,I=F.top;I<F.bottom;I++)for(var M=H.offsetOfPixel(F.left,I)+g.default.ALPHA_BYTE_OFFSET,R=this._strokeBuffer.offsetOfPixel(F.left,I),ha=F.left;ha<F.right;ha++,M+=g.default.BYTES_PER_PIXEL){var ca=
x[R++]/255|0;0<ca&&(G[M]=N[M]*(255-ca)/255)}}}]);return B}(h);C.CPBrushToolDodge=function(y){function B(){a(this,B);return z.apply(this,arguments)}u(B,y);var z=c(B);q(B,[{key:"mergeOntoImage",value:function(H,N,x){x=this._strokeBuffer.data;var F=this._strokedRegion,G=F.getWidth(),I=F.getHeight(),M=H.offsetOfPixel(F.left,F.top);F=this._strokeBuffer.offsetOfPixel(F.left,F.top);var R=(H.width-G)*g.default.BYTES_PER_PIXEL,ha=this._strokeBuffer.width-G;N=N.data;H=H.data;for(var ca=0;ca<I;ca++,F+=ha,M+=
R)for(var sa=0;sa<G;sa++,F++,M+=g.default.BYTES_PER_PIXEL){var na=x[F]/255|0;0<na&&0!=N[M+g.default.ALPHA_BYTE_OFFSET]&&(na=(na+255)/255,H[M+g.default.RED_BYTE_OFFSET]=N[M+g.default.RED_BYTE_OFFSET]*na,H[M+g.default.GREEN_BYTE_OFFSET]=N[M+g.default.GREEN_BYTE_OFFSET]*na,H[M+g.default.BLUE_BYTE_OFFSET]=N[M+g.default.BLUE_BYTE_OFFSET]*na)}}},{key:"mergeOntoMask",value:function(H,N,x){x=this._strokeBuffer.data;var F=this._strokedRegion,G=F.getWidth(),I=F.getHeight(),M=H.offsetOfPixel(F.left,F.top);F=
this._strokeBuffer.offsetOfPixel(F.left,F.top);var R=H.width-G,ha=this._strokeBuffer.width-G;N=N.data;H=H.data;for(var ca=0;ca<I;ca++,F+=ha,M+=R)for(var sa=0;sa<G;sa++,F++,M++){var na=x[F]/255|0;0<na&&(H[M]=Math.min((na+255)/255*N[M],255))}}}]);return B}(h);C.CPBrushToolBurn=function(y){function B(){a(this,B);return z.apply(this,arguments)}u(B,y);var z=c(B);q(B,[{key:"mergeOntoImage",value:function(H,N,x){x=this._strokeBuffer.data;var F=this._strokedRegion,G=F.getWidth(),I=F.getHeight(),M=H.offsetOfPixel(F.left,
F.top);F=this._strokeBuffer.offsetOfPixel(F.left,F.top);var R=(H.width-G)*g.default.BYTES_PER_PIXEL,ha=this._strokeBuffer.width-G;N=N.data;H=H.data;for(var ca=0;ca<I;ca++,F+=ha,M+=R)for(var sa=0;sa<G;sa++,F++,M+=g.default.BYTES_PER_PIXEL){var na=x[F]/255|0;0<na&&0!=N[M+g.default.ALPHA_BYTE_OFFSET]&&(H[M+g.default.RED_BYTE_OFFSET]=N[M+g.default.RED_BYTE_OFFSET]-(260-N[M+g.default.RED_BYTE_OFFSET])*na/255|0,H[M+g.default.GREEN_BYTE_OFFSET]=N[M+g.default.GREEN_BYTE_OFFSET]-(260-N[M+g.default.GREEN_BYTE_OFFSET])*
na/255|0,H[M+g.default.BLUE_BYTE_OFFSET]=N[M+g.default.BLUE_BYTE_OFFSET]-(260-N[M+g.default.BLUE_BYTE_OFFSET])*na/255|0)}}},{key:"mergeOntoMask",value:function(H,N,x){x=this._strokeBuffer.data;var F=this._strokedRegion,G=F.getWidth(),I=F.getHeight(),M=H.offsetOfPixel(F.left,F.top);F=this._strokeBuffer.offsetOfPixel(F.left,F.top);var R=H.width-G,ha=this._strokeBuffer.width-G;N=N.data;H=H.data;for(var ca=0;ca<I;ca++,F+=ha,M+=R)for(var sa=0;sa<G;sa++,F++,M++){var na=x[F]/255|0;0<na&&(H[M]=Math.max(N[M]-
(260-N[M])*na/255,0))}}}]);return B}(h);C.CPBrushToolBlur=function(y){function B(){a(this,B);return z.apply(this,arguments)}u(B,y);var z=c(B);q(B,[{key:"mergeOntoImage",value:function(H,N,x){x=this._strokeBuffer.data;var F=this._strokedRegion,G=N.data;H=H.data;var I=F.getWidth(),M=N.width*g.default.BYTES_PER_PIXEL,R=N.offsetOfPixel(F.left,F.top),ha=this._strokeBuffer.offsetOfPixel(F.left,F.top),ca=(N.width-I)*g.default.BYTES_PER_PIXEL;I=this._strokeBuffer.width-I;for(var sa,na,Q,oa,ia=function(Pa){sa+=
G[Pa+g.default.RED_BYTE_OFFSET];na+=G[Pa+g.default.GREEN_BYTE_OFFSET];Q+=G[Pa+g.default.BLUE_BYTE_OFFSET];oa+=G[Pa+g.default.ALPHA_BYTE_OFFSET]},ya=F.top;ya<F.bottom;ya++,R+=ca,ha+=I)for(var ta=F.left;ta<F.right;ta++,R+=g.default.BYTES_PER_PIXEL,ha++){var Ga=x[ha]/255|0;if(0<Ga){Ga=64+-63*Ga/255|0;var qa=Ga+4;sa=Ga*G[R+g.default.RED_BYTE_OFFSET];na=Ga*G[R+g.default.GREEN_BYTE_OFFSET];Q=Ga*G[R+g.default.BLUE_BYTE_OFFSET];oa=Ga*G[R+g.default.ALPHA_BYTE_OFFSET];ia(0<ya?R-M:R);ia(ya<N.height-1?R+M:R);
ia(0<ta?R-g.default.BYTES_PER_PIXEL:R);ia(ta<N.width-1?R+g.default.BYTES_PER_PIXEL:R);oa/=qa;sa/=qa;na/=qa;Q/=qa;H[R+g.default.RED_BYTE_OFFSET]=sa|0;H[R+g.default.GREEN_BYTE_OFFSET]=na|0;H[R+g.default.BLUE_BYTE_OFFSET]=Q|0;H[R+g.default.ALPHA_BYTE_OFFSET]=oa|0}}}},{key:"mergeOntoMask",value:function(H,N,x){x=this._strokeBuffer.data;var F=this._strokedRegion,G=N.data;H=H.data;var I=F.getWidth(),M=N.width,R=N.offsetOfPixel(F.left,F.top),ha=this._strokeBuffer.offsetOfPixel(F.left,F.top),ca=N.width-I;
I=this._strokeBuffer.width-I;for(var sa,na=F.top;na<F.bottom;na++,R+=ca,ha+=I)for(var Q=F.left;Q<F.right;Q++,R++,ha++){var oa=x[ha]/255|0;0<oa&&(sa=64+-63*oa/255|0,oa=sa+4,sa*=G[R],sa+=G[0<na?R-M:R],sa+=G[na<N.height-1?R+M:R],sa+=G[0<Q?R-1:R],sa+=G[Q<N.width-1?R+1:R],H[R]=sa/oa|0)}}}]);return B}(h);h=function(y){function B(){a(this,B);return z.apply(this,arguments)}u(B,y);var z=c(B);q(B,[{key:"mergeOntoImage",value:function(H,N,x){x=this._strokeBuffer.data;var F=this._strokedRegion;N=N.data;var G=
H.data,I=this._strokeBuffer.offsetOfPixel(F.left,F.top),M=H.offsetOfPixel(F.left,F.top),R=F.getWidth()|0;F=F.getHeight()|0;var ha=this._strokeBuffer.width-R|0;H=(H.width-R)*g.default.BYTES_PER_PIXEL|0;for(var ca=0;ca<F;ca++,I+=ha,M+=H)for(var sa=0;sa<R;sa++,I++,M+=g.default.BYTES_PER_PIXEL){var na=x[I],Q=na>>>24;if(0<Q){var oa=N[M+g.default.ALPHA_BYTE_OFFSET];oa=Q+oa-Q*oa/255|0;Q=255*Q/oa|0;var ia=255-Q;G[M]=((na>>16&255)*Q+N[M]*ia)/255|0;G[M+1]=((na>>8&255)*Q+N[M+1]*ia)/255|0;G[M+2]=((na&255)*Q+
N[M+2]*ia)/255|0;G[M+3]=oa}}}},{key:"mergeOntoMask",value:function(H,N,x){x=this._strokeBuffer.data;var F=this._strokedRegion;N=N.data;var G=H.data,I=this._strokeBuffer.offsetOfPixel(F.left,F.top),M=H.offsetOfPixel(F.left,F.top),R=F.getWidth()|0;F=F.getHeight()|0;var ha=this._strokeBuffer.width-R|0;H=H.width-R|0;for(var ca=0;ca<F;ca++,I+=ha,M+=H)for(var sa=0;sa<R;sa++,I++,M++){var na=x[I],Q=na>>8;0<Q&&(G[M]=((na&255)*Q+N[M]*(255-Q))/255|0)}}}]);return B}(h);var t=2/6;C.CPBrushToolWatercolor=function(y){function B(H,
N){a(this,B);H=z.call(this,H,N);H.wantsOutputAsInput=!0;return H}u(B,y);var z=c(B);q(B,[{key:"_paintToColorStrokeBuffer",value:function(H,N,x,F,G,I){var M=this._strokeBuffer.data,R=N.getWidth(),ha=N.getHeight(),ca=this._strokeBuffer.width-R,sa=F-R;H=H.left+H.top*F;F=this._strokeBuffer.offsetOfPixel(N.left,N.top);this._strokedRegion.union(N);for(N=0;N<ha;N++,H+=sa,F+=ca)for(var na=0;na<R;na++,H++,F++){var Q=x[H]*G/255|0;if(0<Q){var oa=M[F],ia=oa>>>24;ia=Q+ia-Q*ia/255|0;Q=255-(255*Q/ia|0);M[F]=ia<<
24|(I>>16&255)+((oa>>16&255)*Q-(I>>16&255)*Q)/255<<16|(I>>8&255)+((oa>>8&255)*Q-(I>>8&255)*Q)/255<<8|(I&255)+((oa&255)*Q-(I&255)*Q)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(H,N,x,F,G,I){var M=this._strokeBuffer.data;this._strokedRegion.union(N);for(var R=N.top,ha=H.top;R<N.bottom;R++,ha++)for(var ca=H.left+ha*F,sa=this._strokeBuffer.offsetOfPixel(N.left,R),na=N.left;na<N.right;na++,ca++,sa++){var Q=x[ca]*G/255|0;if(!(0>=Q)){var oa=M[sa],ia=oa>>8;ia=Q+ia-Q*ia/255|0;0<ia&&(Q=255-
(255*Q/ia|0),M[sa]=ia<<8|I+((oa&255)*Q-I*Q)/255)}}}},{key:"beginStroke",value:function(){this._previousSamples=null}},{key:"paintDab",value:function(H,N,x,F,G,I,M){H=Math.max(1,I.alpha/4);var R=(N.left+N.right)/2,ha=(N.top+N.bottom)/2,ca=Math.max(1,Math.min(64,N.getWidth()*t)),sa=Math.max(1,Math.min(64,N.getHeight()*t));if(x instanceof m.default){null==this._previousSamples&&(this._previousSamples=Array(50),this._previousSamples.fill(B._sampleGrey(x,R,ha,ca,sa)));var na=r(this._previousSamples),Q=
F.resat*F.resat;M=na=na*(1-Q)+(M&255)*Q;x=B._sampleGrey(x,R,ha,ca,sa);F=F.bleed;this._previousSamples.push(na*(1-F)+x*F);this._previousSamples.shift();this._paintToGreyscaleStrokeBuffer(G,N,I.brush,I.width,H,Math.round(M))}else null==this._previousSamples&&(this._previousSamples=Array(50),this._previousSamples.fill(B._sampleRGB(x,R,ha,ca,sa))),na=b(this._previousSamples),na.mixWith(n.default.createFromInt(M),F.resat*F.resat),M=na.toInt(),na.mixWith(B._sampleRGB(x,R,ha,ca,sa),F.bleed),this._previousSamples.push(na),
this._previousSamples.shift(),this._paintToColorStrokeBuffer(G,N,I.brush,I.width,H,M)}}],[{key:"_sampleGrey",value:function(H,N,x,F,G){N|=0;x|=0;for(var I=[{x:N,y:x}],M=.25;1.001>M;M+=.25)Array.prototype.push.apply(I,[{x:~~(N+M*F),y:x},{x:~~(N-M*F),y:x},{x:N,y:~~(x+M*G)},{x:N,y:~~(x-M*G)},{x:~~(N+.7*M*F),y:~~(x+.7*M*G)},{x:~~(N+.7*M*F),y:~~(x-.7*M*G)},{x:~~(N-.7*M*F),y:~~(x+.7*M*G)},{x:~~(N-.7*M*F),y:~~(x-.7*M*G)}]);return r(I.map(function(R){return H.getPixel(R.x,R.y)}))}},{key:"_sampleRGB",value:function(H,
N,x,F,G){N|=0;x|=0;for(var I=[{x:N,y:x}],M=.25;1.001>M;M+=.25)Array.prototype.push.apply(I,[{x:~~(N+M*F),y:x},{x:~~(N-M*F),y:x},{x:N,y:~~(x+M*G)},{x:N,y:~~(x-M*G)},{x:~~(N+.7*M*F),y:~~(x+.7*M*G)},{x:~~(N+.7*M*F),y:~~(x-.7*M*G)},{x:~~(N-.7*M*F),y:~~(x+.7*M*G)},{x:~~(N-.7*M*F),y:~~(x-.7*M*G)}]);return b(I.map(function(R){return n.default.createFromInt(H.getPixel(R.x,R.y))}))}}]);return B}(h);C.CPBrushToolOil=function(y){function B(H,N){a(this,B);H=z.call(this,H,N);H.wantsOutputAsInput=!0;return H}u(B,
y);var z=c(B);q(B,[{key:"_accumulatePaintFromMask",value:function(H,N,x,F){var G=this._brushBuffer.data,I=H.data,M=x.getWidth(),R=x.getHeight();N=N.left+N.top*this._brushBuffer.width;x=H.offsetOfPixel(x.left,x.top);var ha=this._brushBuffer.width-M;H=H.width-M;if(!(0>=F))for(var ca=0;ca<R;ca++,N+=ha,x+=H)for(var sa=0;sa<M;sa++,N++,x++){var na=I[x],Q=G[N],oa=Q>>8;oa=F+oa-F*oa/255|0;var ia=255-(255*F/oa|0);G[N]=oa<<8|na+((Q&255)*ia-na*ia)/255}}},{key:"_resaturateBrushWithGrey",value:function(H,N,x){if(!(0>=
N)){var F=this._brushBuffer.data,G=H.getWidth(),I=H.getHeight();H=H.left+H.top*this._brushBuffer.width;for(var M=this._brushBuffer.width-G,R=0;R<I;R++,H+=M)for(var ha=0;ha<G;ha++,H++){var ca=F[H],sa=ca>>8;sa=N+sa-N*sa/255|0;var na=255-(255*N/sa|0);F[H]=sa<<8|x+((ca&255)*na-x*na)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(H,N,x,F,G){var I=this._strokeBuffer.data,M=this._brushBuffer.data,R=H.data;this._strokedRegion.union(x);for(var ha=x.top,ca=N.top;ha<x.bottom;ha++,ca++)for(var sa=
this._brushBuffer.offsetOfPixel(N.left,ca),na=this._strokeBuffer.offsetOfPixel(x.left,ha),Q=H.offsetOfPixel(x.left,ha),oa=x.left;oa<x.right;oa++,sa++,Q++,na++){var ia=M[sa],ya=(ia>>8)*F[sa]*G/65025|0;0<ya&&(ya=255-ya,I[na]=65280|(ia&255)+(R[Q]*ya-(ia&255)*ya)/255)}}},{key:"_accumulatePaintFromImage",value:function(H,N,x,F){var G=this._brushBuffer.data,I=H.data,M=x.getWidth(),R=x.getHeight();N=N.left+N.top*this._brushBuffer.width;x=H.offsetOfPixel(x.left,x.top);var ha=this._brushBuffer.width-M;H=(H.width-
M)*g.default.BYTES_PER_PIXEL;for(var ca=0;ca<R;ca++,N+=ha,x+=H)for(var sa=0;sa<M;sa++,N++,x+=g.default.BYTES_PER_PIXEL){var na=I[x+g.default.ALPHA_BYTE_OFFSET]*F/255|0;if(0<na){var Q=G[N],oa=Q>>>24;oa=na+oa-na*oa/255|0;na=255-(255*na/oa|0);var ia=I[x+g.default.RED_BYTE_OFFSET],ya=I[x+g.default.GREEN_BYTE_OFFSET],ta=I[x+g.default.BLUE_BYTE_OFFSET];G[N]=oa<<24|ia+((Q>>16&255)*na-ia*na)/255<<16|ya+((Q>>8&255)*na-ya*na)/255<<8|ta+((Q&255)*na-ta*na)/255}}}},{key:"_resaturateBrushWithColor",value:function(H,
N,x){if(!(0>=N)){var F=this._brushBuffer.data,G=H.getWidth(),I=H.getHeight();H=H.left+H.top*this._brushBuffer.width;for(var M=this._brushBuffer.width-G,R=0;R<I;R++,H+=M)for(var ha=0;ha<G;ha++,H++){var ca=F[H],sa=ca>>>24;sa=N+sa-N*sa/255|0;var na=255-(255*N/sa|0);F[H]=sa<<24|(x>>>16&255)+((ca>>>16&255)*na-(x>>>16&255)*na)/255<<16|(x>>>8&255)+((ca>>>8&255)*na-(x>>>8&255)*na)/255<<8|(x&255)+((ca&255)*na-(x&255)*na)/255}}}},{key:"_paintToColorStrokeBuffer",value:function(H,N,x,F,G){var I=this._strokeBuffer.data,
M=this._brushBuffer.data,R=H.data;this._strokedRegion.union(x);for(var ha=x.top,ca=N.top;ha<x.bottom;ha++,ca++)for(var sa=this._brushBuffer.offsetOfPixel(N.left,ca),na=this._strokeBuffer.offsetOfPixel(x.left,ha),Q=H.offsetOfPixel(x.left,ha),oa=x.left;oa<x.right;oa++,sa++,Q+=g.default.BYTES_PER_PIXEL,na++){var ia=M[sa],ya=(ia>>>24)*F[sa]*G/65025|0;if(0<ya){var ta=R[Q+g.default.ALPHA_BYTE_OFFSET];ta=ya+ta-ya*ta/255|0;ya=255-(255*ya/ta|0);I[na]=ta<<24|(ia>>16&255)+(R[Q+g.default.RED_BYTE_OFFSET]*ya-
(ia>>16&255)*ya)/255<<16|(ia>>8&255)+(R[Q+g.default.GREEN_BYTE_OFFSET]*ya-(ia>>8&255)*ya)/255<<8|(ia&255)+(R[Q+g.default.BLUE_BYTE_OFFSET]*ya-(ia&255)*ya)/255}}}},{key:"paintDab",value:function(H,N,x,F,G,I,M){H instanceof g.default?null==this._brushBuffer?(this._brushBuffer=new m.default(I.width,I.height,32),this._accumulatePaintFromImage(x,G,N,255)):(this._resaturateBrushWithColor(G,~~(0>=F.resat?0:Math.max(1,F.resat*F.resat*255)),M&16777215),this._paintToColorStrokeBuffer(H,G,N,I.brush,I.alpha),
this._accumulatePaintFromImage(x,G,N,~~(255*F.bleed))):null==this._brushBuffer?(this._brushBuffer=new m.default(I.width,I.height,16),this._accumulatePaintFromMask(x,G,N,255)):(this._resaturateBrushWithGrey(G,~~(0>=F.resat?0:Math.max(1,F.resat*F.resat*255)),M&255),this._paintToGreyscaleStrokeBuffer(H,G,N,I.brush,I.alpha),this._accumulatePaintFromMask(x,G,N,~~(255*F.bleed)))}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return B}(h);C.CPBrushToolSmudge=function(y){function B(H,N){a(this,
B);H=z.call(this,H,N);H._brushBuffer=null;H.wantsOutputAsInput=!0;H.noMergePhase=!0;return H}u(B,y);var z=c(B);q(B,[{key:"_sampleFromMask",value:function(H,N,x,F){var G=this._brushBuffer.data,I=N.getWidth(),M=N.getHeight(),R=this._brushBuffer.offsetOfPixel(N.left,N.top);x=H.offsetOfPixel(x.left,x.top);var ha=this._brushBuffer.width-I,ca=H.width-I,sa=255-F;if(255!=F){for(var na=0;na<M;na++,R+=ha,x+=ca)for(var Q=0;Q<I;Q++,R++,x++){var oa=H.data[x],ia=G[R],ya=(oa*sa+(ia&255)*F)/255,ta=(255*sa+(ia>>8)*
F)/255<<8|ya;ta==ia&&(oa>ya?ta++:oa<ya&&ta--);G[R]=ta}d(this._brushBuffer,N)}}},{key:"_paintToMask",value:function(H,N,x,F){var G=N.getWidth(),I=N.getHeight();N=this._brushBuffer.offsetOfPixel(N.left,N.top);x=H.offsetOfPixel(x.left,x.top);var M=this._brushBuffer.width-G,R=H.width-G;H=H.data;for(var ha=this._brushBuffer.data,ca=0;ca<I;ca++,x+=R,N+=M)for(var sa=0;sa<G;sa++,N++,x++){var na=ha[N],Q=na&255;0<((na>>8)*F[N]/255|0)&&(H[x]=Q)}}},{key:"_sampleFromImage",value:function(H,N,x,F){var G=this._brushBuffer.data,
I=N.getWidth(),M=N.getHeight(),R=this._brushBuffer.offsetOfPixel(N.left,N.top);x=H.offsetOfPixel(x.left,x.top);var ha=this._brushBuffer.width-I,ca=(H.width-I)*g.default.BYTES_PER_PIXEL,sa=255-F;if(255!=F){for(var na=0;na<M;na++,R+=ha,x+=ca)for(var Q=0;Q<I;Q++,R++,x+=g.default.BYTES_PER_PIXEL){var oa=H.data[x+g.default.RED_BYTE_OFFSET],ia=H.data[x+g.default.GREEN_BYTE_OFFSET],ya=H.data[x+g.default.BLUE_BYTE_OFFSET],ta=G[R],Ga=(H.data[x+g.default.ALPHA_BYTE_OFFSET]*sa+(ta>>24&255)*F)/255<<24&4278190080|
(oa*sa+(ta>>16&255)*F)/255<<16&16711680|(ia*sa+(ta>>8&255)*F)/255<<8&65280|(ya*sa+(ta&255)*F)/255&255;if(Ga==ta){ta=(Ga&16711680)>>16;var qa=(Ga&65280)>>8,Pa=Ga&255;oa>ta?Ga+=65536:oa<ta&&(Ga-=65536);ia>qa?Ga+=256:ia<qa&&(Ga-=256);ya>Pa?Ga+=1:ya<Pa&&--Ga}G[R]=Ga}d(this._brushBuffer,N)}}},{key:"_paintToImage",value:function(H,N,x,F){var G=N.getWidth(),I=N.getHeight();N=this._brushBuffer.offsetOfPixel(N.left,N.top);x=H.offsetOfPixel(x.left,x.top);var M=this._brushBuffer.width-G,R=(H.width-G)*g.default.BYTES_PER_PIXEL;
H=H.data;for(var ha=this._brushBuffer.data,ca=0;ca<I;ca++,x+=R,N+=M)for(var sa=0;sa<G;sa++,N++,x+=g.default.BYTES_PER_PIXEL){var na=ha[N];0<((na>>>24)*F[N]/255|0)&&(H[x+g.default.RED_BYTE_OFFSET]=na>>16&255,H[x+g.default.GREEN_BYTE_OFFSET]=na>>8&255,H[x+g.default.BLUE_BYTE_OFFSET]=na&255,H[x+g.default.ALPHA_BYTE_OFFSET]=na>>24&255)}}},{key:"paintDab",value:function(H,N,x,F,G,I,M){H instanceof g.default?null==this._brushBuffer?(this._brushBuffer=new m.default(I.width,I.height,32),this._sampleFromImage(x,
G,N,0)):(this._sampleFromImage(x,G,N,I.alpha),this._paintToImage(H,G,N,I.brush)):null==this._brushBuffer?(this._brushBuffer=new m.default(I.width,I.height,16),this._sampleFromMask(x,G,N,0)):(this._sampleFromMask(x,G,N,I.alpha),this._paintToMask(H,G,N,I.brush))}},{key:"mergeOntoImage",value:function(H,N,x){}},{key:"mergeOntoMask",value:function(H,N,x){}},{key:"beginStroke",value:function(){this._brushBuffer=null}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return B}(h)},{"../util/CPColorFloat.js":59,
"./CPBrushInfo.js":8,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],11:[function(h,K,C){function w(Ma){return Ma&&Ma.__esModule?Ma:{default:Ma}}function k(Ma,ra){var Na="undefined"!==typeof Symbol&&Ma[Symbol.iterator]||Ma["@@iterator"];if(!Na){if(Array.isArray(Ma)||(Na=u(Ma))||ra&&Ma&&"number"===typeof Ma.length){Na&&(Ma=Na);var Ja=0;ra=function(){};return{s:ra,n:function(){return Ja>=Ma.length?{done:!0}:{done:!1,value:Ma[Ja++]}},e:function(ea){throw ea;},f:ra}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var ab=!0,U=!1,ba;return{s:function(){Na=Na.call(Ma)},n:function(){var ea=Na.next();ab=ea.done;return ea},e:function(ea){U=!0;ba=ea},f:function(){try{ab||null==Na.return||Na.return()}finally{if(U)throw ba;}}}}function u(Ma,ra){if(Ma){if("string"===typeof Ma)return E(Ma,ra);var Na=Object.prototype.toString.call(Ma).slice(8,-1);"Object"===Na&&Ma.constructor&&(Na=Ma.constructor.name);if("Map"===Na||"Set"===Na)return Array.from(Ma);if("Arguments"===Na||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Na))return E(Ma,
ra)}}function E(Ma,ra){if(null==ra||ra>Ma.length)ra=Ma.length;for(var Na=0,Ja=Array(ra);Na<ra;Na++)Ja[Na]=Ma[Na];return Ja}function c(){c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(Ma,ra,Na){var Ja;for(Ja=Ma;!Object.prototype.hasOwnProperty.call(Ja,ra)&&(Ja=q(Ja),null!==Ja););if(Ja)return Ja=Object.getOwnPropertyDescriptor(Ja,ra),Ja.get?Ja.get.call(3>arguments.length?Ma:Na):Ja.value};return c.apply(this,arguments)}function e(Ma,ra){if("function"!==typeof ra&&null!==ra)throw new TypeError("Super expression must either be null or a function");
Ma.prototype=Object.create(ra&&ra.prototype,{constructor:{value:Ma,writable:!0,configurable:!0}});Object.defineProperty(Ma,"prototype",{writable:!1});ra&&v(Ma,ra)}function v(Ma,ra){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Na,Ja){Na.__proto__=Ja;return Na};return v(Ma,ra)}function a(Ma){var ra=l();return function(){var Na=q(Ma);if(ra){var Ja=q(this).constructor;Na=Reflect.construct(Na,arguments,Ja)}else Na=Na.apply(this,arguments);if(!Na||"object"!==r(Na)&&"function"!==typeof Na){if(void 0!==
Na)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");Na=this}return Na}}function l(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ma){return!1}}function q(Ma){q=Object.setPrototypeOf?Object.getPrototypeOf.bind():
function(ra){return ra.__proto__||Object.getPrototypeOf(ra)};return q(Ma)}function r(Ma){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ra){return typeof ra}:function(ra){return ra&&"function"==typeof Symbol&&ra.constructor===Symbol&&ra!==Symbol.prototype?"symbol":typeof ra},r(Ma)}function b(Ma,ra){if(!(Ma instanceof ra))throw new TypeError("Cannot call a class as a function");}function d(Ma,ra){for(var Na=0;Na<ra.length;Na++){var Ja=ra[Na];
Ja.enumerable=Ja.enumerable||!1;Ja.configurable=!0;"value"in Ja&&(Ja.writable=!0);var ab=Object,U=ab.defineProperty;a:{var ba=Ja.key;if("object"===r(ba)&&null!==ba){var ea=ba[Symbol.toPrimitive];if(void 0!==ea){ba=ea.call(ba,"string");if("object"!==r(ba))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}ba=String(ba)}}ba="symbol"===r(ba)?ba:String(ba);U.call(ab,Ma,ba,Ja)}}function g(Ma,ra,Na){ra&&d(Ma.prototype,ra);Na&&d(Ma,Na);Object.defineProperty(Ma,"prototype",{writable:!1});
return Ma}function m(Ma){this.version=Ma.readU32BE();this.width=Ma.readU32BE();this.height=Ma.readU32BE();this.layersNb=Ma.readU32BE()}function f(Ma){for(var ra=Array(4),Na=0;Na<ra.length;Na++)ra[Na]=String.fromCharCode(Ma.readByte());this.chunkType=ra.join("");this.chunkSize=Ma.readU32BE();if(Ma.eof)throw"Truncated chunk";}function n(Ma){return{major:Ma>>16&65535,minor:Ma&65535}}function t(Ma){Ma=n(Ma);return 0===Ma.major&&0===Ma.minor?"ChibiPaint v0.0":"ChickenPaint v"+Ma.major+"."+Ma.minor}function y(Ma){Ma=
k(Ma.getLayersRoot().getLinearizedLayerList(!1));var ra;try{for(Ma.s();!(ra=Ma.n()).done;){var Na=ra.value;if(Na instanceof I.default||Na.mask||Na.clip||Na.blendMode>R.default.LM_LAST_CHIBIPAINT||Na.blendMode===R.default.LM_MULTIPLY)return ca<<16|sa}}catch(Ja){Ma.e(Ja)}finally{Ma.f()}return 0}function B(Ma,ra){var Na=new Uint8Array(f.HEADER_LENGTH+ra);Na=new G.default(Na);Na.writeString(Ma);Na.writeU32BE(ra);return Na}function z(Ma,ra,Na){var Ja=B(oa,m.FIXED_HEADER_LENGTH);Ja.writeU32BE(ra);Ja.writeU32BE(Ma.width);
Ja.writeU32BE(Ma.height);Ja.writeU32BE(Na);return Ja.getAsDataArray()}function H(Ma){for(var ra=0;ra<Q.length;ra++)if(Ma[ra]!=Q.charCodeAt(ra))return!1;return!0}Object.defineProperty(C,"__esModule",{value:!0});C.load=function(Ma,ra){function Na(ma){var W=Fa;if(null===W||0===W.length)Fa=ma;else if(null===ma||0===ma.length)Fa=W;else{var Z=new Uint8Array(W.length+ma.length);Z.set(W,0);Z.set(ma,W.length);Fa=Z}for(;;){if(Fa)if(aa<Fa.length)Fa=Fa.subarray(aa),aa=0;else{aa-=Fa.length;Fa=null;break}else break;
switch(ab){case 0:if(Fa.length<f.HEADER_LENGTH)break;ma=new G.default(Fa);Ea=new f(ma);Fa=Fa.subarray(ma.pos);if(ua)if(Ea.chunkType==ta)ab=45;else{Ea.chunkType==ia?(ab=2,ea=new Ha(Ea,ua.width,ua.height)):Ea.chunkType==ya?(ab=3,ea=new Xa(Ea,ua.width,ua.height)):(console.log("Unknown chunk type '"+Ea.chunkType+"', attempting to skip..."),aa=Ea.chunkSize);continue}else if(Ea.chunkType==oa){ab=1;continue}else ab=5;break;case 1:if(Fa.length<Ea.chunkSize)break;ma=new G.default(Fa);ua=new m(ma);if(n(ua.version).major>
na){ab=5;break}U=new N.default(ua.width,ua.height);ba=U.getLayersRoot();aa=Ea.chunkSize;ab=0;continue;case 2:Fa=ea.decode(Fa);if(ea.done){U.addLayerObject(ba,ea.layer);ab=0;continue}break;case 3:if(Fa=ea.decode(Fa),ea.done){U.addLayerGroupObject(ba,ea.layer,ea.childLayers);ab=0;continue}}break}}ra=ra||{};var Ja=new ha.default.Inflate({}),ab=0,U=null,ba=null,ea,aa=0,ua=null,Ea=null,Fa=null;return(new Promise(function(ma){if(Ma instanceof ArrayBuffer)ma(Ma);else{var W=new FileReader;W.onload=function(){ma(this.result)};
W.readAsArrayBuffer(Ma)}})).then(function(ma){return new Promise(function(W,Z){var D=new Uint8Array(ma);H(D)?(D=D.subarray(Q.length),Ja.onData=Na,Ja.onEnd=function(J){0===J&&45==ab?(!1!==ra.upgradeMultiplyLayers&&ua.version<(ca<<16|sa)&&U.upgradeMultiplyLayers(ra.upgradeMultiplyLayers),U.selectTopmostVisibleLayer(),W(U)):Z("Fatal error decoding ChibiFile: "+J)},Ja.push(D,!0)):Z("This doesn't appear to be a ChibiPaint layers file, is it damaged?")})})};C.save=function(Ma,ra){ra=ra||{};return Promise.resolve().then(function(){var Na=
new ha.default.Deflate({level:7}),Ja=[],ab=new Uint8Array(Q.length),U=Ma.getLayersRoot().getLinearizedLayerList(!1),ba=ra.forceOldVersion?0:y(Ma),ea=t(ba),aa=Promise.resolve();Na.onData=function(Fa){Ja.push(Fa)};for(var ua=0;ua<Q.length;ua++)ab[ua]=Q.charCodeAt(ua);Ja.push(ab);Na.push(z(Ma,ba,U.length),!1);ab=k(U);var Ea;try{for(U=function(){var Fa=Ea.value;aa=aa.then(function(){return new Promise(function(ma){var W=Na.push,Z=Fa instanceof x.default;var D=4*(Z?5:6);var J=Fa.name.length,Y=D+J;D=B(Z?
ia:ya,D+J+((Z?Fa.image.data.length:0)+(Fa.mask?Fa.mask.data.length:0)));J=0;Fa.visible&&(J|=Ga);Z&&Fa.clip&&(J|=qa);Fa.mask&&(J|=Pa);Fa.maskLinked&&(J|=$a);Fa.maskVisible&&(J|=gb);Fa.lockAlpha&&(J|=da);!Z&&Fa.expanded&&(J|=S);if(Fa.blendMode===R.default.LM_MULTIPLY2){var za=R.default.LM_MULTIPLY;J|=xa}else za=Fa.blendMode;D.writeU32BE(Y);D.writeU32BE(za);D.writeU32BE(Fa.alpha);D.writeU32BE(J);D.writeU32BE(Fa.name.length);Z||D.writeU32BE(Fa.layers.length);D.writeString(Fa.name);if(Z){Z=D.pos;Y=D.data;
J=Fa.image.data;for(za=0;za<J.length;za+=F.default.BYTES_PER_PIXEL)Y[Z++]=J[za+F.default.ALPHA_BYTE_OFFSET],Y[Z++]=J[za+F.default.RED_BYTE_OFFSET],Y[Z++]=J[za+F.default.GREEN_BYTE_OFFSET],Y[Z++]=J[za+F.default.BLUE_BYTE_OFFSET];D.pos=Z}Fa.mask&&(Z=Fa.mask,D.data.set(Z.data,D.pos),D.pos+=Z.data.length);D=D.getAsDataArray();W.call(Na,D,!1);setTimeout(ma,10)})})},ab.s();!(Ea=ab.n()).done;)U()}catch(Fa){ab.e(Fa)}finally{ab.f()}return aa.then(function(){return new Promise(function(Fa,ma){Na.onEnd=function(W){if(0===
W)if("undefined"!==typeof Blob)Fa({bytes:new Blob(Ja,{type:"application/octet-stream"}),version:ea});else{W=Ja.map(function(Y){return Y.byteLength}).reduce(function(Y,za){return Y+za},0);W=new Uint8Array(W);for(var Z=0,D=0;D<Ja.length;D++){var J=Ja[D];W.set(J,Z);Z+=J.byteLength}Fa({bytes:W,version:ea})}else ma(W)};Na.push(B(ta,0).getAsDataArray(),!0)})})})};var N=w(h("./CPArtwork.js")),x=w(h("./CPImageLayer.js")),F=w(h("./CPColorBmp.js")),G=w(h("../util/ArrayDataStream.js")),I=w(h("./CPLayerGroup.js")),
M=w(h("./CPGreyBmp.js")),R=w(h("./CPBlend.js")),ha=w(h("pako")),ca=0,sa=10,na=ca,Q="CHIBIOEK",oa="HEAD",ia="LAYR",ya="GRUP",ta="ZEND";m.FIXED_HEADER_LENGTH=16;f.HEADER_LENGTH=8;var Ga=1,qa=2,Pa=4,$a=8,gb=16,S=32,da=64,xa=128;h=function(){function Ma(ra,Na,Ja){b(this,Ma);this.chunkHeader=ra;this.width=Na;this.height=Ja;this.nameLength=this.skipBytes=this.payloadOffset=this.state=0;this.done=!1;this.maskDecoder=this.colorDecoder=null}g(Ma,[{key:"readFixedHeader",value:function(ra){this.payloadOffset=
ra.readU32BE();this.blendMode=ra.readU32BE();this.alpha=ra.readU32BE();var Na=ra.readU32BE();this.visible=0!=(Na&Ga);this.clip=0!=(Na&qa);this.hasMask=0!=(Na&Pa);this.maskLinked=0!=(Na&$a);this.maskVisible=0!=(Na&gb);this.expanded=0!=(Na&S);this.lockAlpha=0!=(Na&da);this.blendMode===R.default.LM_MULTIPLY&&0!==(Na&xa)&&(this.blendMode=R.default.LM_MULTIPLY2);this.nameLength=ra.readU32BE()}},{key:"getFixedHeaderLen",value:function(){return 20}},{key:"getVariableHeaderLen",value:function(){return this.nameLength}},
{key:"readVariableSizeHeader",value:function(ra){this.name=ra.readString(this.nameLength)}},{key:"decode",value:function(ra){for(var Na;;){if(0<this.skipBytes){if(this.skipBytes>=ra.length)return this.skipBytes-=ra.length,null;ra=ra.subarray(this.skipBytes);this.skipBytes=0}switch(this.state){case 0:if(ra.length<this.getFixedHeaderLen())break;Na=new G.default(ra);this.readFixedHeader(Na);ra=ra.subarray(Na.pos);this.state=1;continue;case 1:if(ra.length<this.getVariableHeaderLen())break;Na=new G.default(ra);
this.readVariableSizeHeader(Na);this.layer=this.createLayer();this.hasMask&&(this.layer.setMask(new M.default(this.width,this.height,8)),this.maskDecoder=new tb(this.layer.mask));this.layer instanceof x.default&&(this.colorDecoder=new rb(this.layer.image));this.skipBytes=this.payloadOffset-this.getFixedHeaderLen();this.state=this.colorDecoder?3:this.maskDecoder?4:5;continue;case 3:ra=this.colorDecoder.decode(ra);if(this.colorDecoder.done){this.state=this.maskDecoder?4:5;continue}break;case 4:ra=this.maskDecoder.decode(ra);
if(this.maskDecoder.done){this.state=5;continue}break;case 5:Na=this.payloadOffset;this.colorDecoder&&(Na+=this.colorDecoder.bytesTotal);this.maskDecoder&&(Na+=this.maskDecoder.bytesTotal);this.state=6;this.skipBytes=this.chunkHeader.chunkSize-Na;continue;case 6:this.done=!0}break}return ra}}]);return Ma}();var Ha=function(Ma){function ra(){b(this,ra);return Na.apply(this,arguments)}e(ra,Ma);var Na=a(ra);g(ra,[{key:"createLayer",value:function(){var Ja=new x.default(this.width,this.height,this.name);
Ja.setBlendMode(this.blendMode);Ja.setAlpha(this.alpha);Ja.setVisible(this.visible);Ja.setClip(this.clip);Ja.setMaskLinked(this.maskLinked);Ja.setMaskVisible(this.maskVisible);Ja.setLockAlpha(this.lockAlpha);return Ja}}]);return ra}(h),Xa=function(Ma){function ra(Ja,ab,U){b(this,ra);Ja=Na.call(this,Ja,ab,U);Ja.childLayers=0;return Ja}e(ra,Ma);var Na=a(ra);g(ra,[{key:"readFixedHeader",value:function(Ja){c(q(ra.prototype),"readFixedHeader",this).call(this,Ja);this.childLayers=Ja.readU32BE()}},{key:"getFixedHeaderLen",
value:function(){return c(q(ra.prototype),"getFixedHeaderLen",this).call(this)+4}},{key:"createLayer",value:function(){var Ja=new I.default(this.name,this.blendMode);Ja.setAlpha(this.alpha);Ja.setVisible(this.visible);Ja.setExpanded(this.expanded);Ja.setMaskLinked(this.maskLinked);Ja.setMaskVisible(this.maskVisible);return Ja}}]);return ra}(h),rb=function(){function Ma(ra){b(this,Ma);this.bytesRead=0;this.bytesTotal=ra.width*ra.height*F.default.BYTES_PER_PIXEL;this.output=ra.data;this.done=!1}g(Ma,
[{key:"decode",value:function(ra){if(null==ra)return null;for(var Na=this.bytesRead%F.default.BYTES_PER_PIXEL,Ja=this.bytesRead-Na,ab=0,U=[F.default.ALPHA_BYTE_OFFSET,F.default.RED_BYTE_OFFSET,F.default.GREEN_BYTE_OFFSET,F.default.BLUE_BYTE_OFFSET];Na<F.default.BYTES_PER_PIXEL&&ab<ra.length;Na++)this.output[Ja+U[Na]]=ra[ab],ab++;this.bytesRead+=ab;var ba=Math.min(ra.length-ab,this.bytesTotal-this.bytesRead)|0;Na=ba/F.default.BYTES_PER_PIXEL|0;ba%=F.default.BYTES_PER_PIXEL;for(Ja=0;Ja<Na;Ja++)this.output[this.bytesRead+
F.default.ALPHA_BYTE_OFFSET]=ra[ab],this.output[this.bytesRead+F.default.RED_BYTE_OFFSET]=ra[ab+1],this.output[this.bytesRead+F.default.GREEN_BYTE_OFFSET]=ra[ab+2],this.output[this.bytesRead+F.default.BLUE_BYTE_OFFSET]=ra[ab+3],this.bytesRead+=F.default.BYTES_PER_PIXEL,ab+=F.default.BYTES_PER_PIXEL;Ja=this.bytesRead;for(Na=0;Na<ba;Na++)this.output[Ja+U[Na]]=ra[ab],ab++;this.bytesRead+=ba;this.bytesRead>=this.bytesTotal&&(this.done=!0);return ab<ra.length?ra.subarray(ab):null}}]);return Ma}(),tb=function(){function Ma(ra){b(this,
Ma);this.bytesRead=0;this.bytesTotal=ra.width*ra.height;this.output=ra.data;this.done=!1}g(Ma,[{key:"decode",value:function(ra){if(null==ra)return null;var Na=Math.min(ra.length,this.bytesTotal-this.bytesRead)|0,Ja=this.bytesRead,ab;for(ab=0;ab<Na;ab++,Ja++)this.output[Ja]=ra[ab];this.bytesRead=Ja;this.bytesRead>=this.bytesTotal&&(this.done=!0);return ab<ra.length?ra.subarray(ab):null}}]);return Ma}()},{"../util/ArrayDataStream.js":56,"./CPArtwork.js":3,"./CPBlend.js":5,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,
"./CPImageLayer.js":15,"./CPLayerGroup.js":17,pako:298}],12:[function(h,K,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(w,k,u){this.bmp=w;this.x=k;this.y=u};K.exports=C.default},{}],13:[function(h,K,C){function w(a){return a&&a.__esModule?a:{default:a}}function k(a,l){"number"==typeof a?(c.default.call(this,a,l),this.imageData=(0,v.createImageData)(this.width,this.height)):(c.default.call(this,a.width,a.height),this.imageData=a);this.data=this.imageData.data}function u(a,
l,q,r){var b=0,d=[0,0,0,0],g,m;for(m=g=0;m<r&&m<q;m++){for(var f=0;f<k.BYTES_PER_PIXEL;f++)d[f]+=a[g++];b++}for(f=m=0;f<q;f++){if(f+r<q){g=(f+r)*k.BYTES_PER_PIXEL;for(var n=0;n<k.BYTES_PER_PIXEL;n++)d[n]+=a[g++];b++}for(g=0;g<k.BYTES_PER_PIXEL;g++)l[m++]=Math.round(d[g]/b);if(0<=f-r){g=(f-r)*k.BYTES_PER_PIXEL;for(n=0;n<k.BYTES_PER_PIXEL;n++)d[n]-=a[g++];b--}}}function E(a,l){l%=4;if(0==l)return a;var q=(0,v.createCanvas)(0,0),r=q.getContext("2d");0==l%2?(q.width=a.width,q.height=a.height):(q.width=
a.height,q.height=a.width);switch(l){case 1:r.rotate(Math.PI/2);r.drawImage(a,0,-a.height);break;case 2:r.rotate(Math.PI);r.drawImage(a,-a.width,-a.height);break;case 3:r.rotate(-Math.PI/2);r.drawImage(a,-a.width,0);break;default:return a}return q}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;C.getRotatedCanvas=E;var c=w(h("./CPBitmap.js")),e=w(h("../util/CPRect.js")),v=h("../util/Canvas.js");k.prototype=Object.create(c.default.prototype);k.prototype.constructor=k;k.BYTES_PER_PIXEL=
4;k.RED_BYTE_OFFSET=0;k.GREEN_BYTE_OFFSET=1;k.BLUE_BYTE_OFFSET=2;k.ALPHA_BYTE_OFFSET=3;k.prototype.clone=function(){return this.cloneRect(this.getBounds())};k.prototype.cloneRect=function(a){var l=new k(a.getWidth(),a.getHeight());l.copyBitmapRect(this,0,0,a);return l};k.prototype.getPixel=function(a,l){a=Math.max(0,Math.min(this.width-1,a));l=Math.max(0,Math.min(this.height-1,l));a=this.offsetOfPixel(a,l);return this.data[a+k.ALPHA_BYTE_OFFSET]<<24|this.data[a+k.RED_BYTE_OFFSET]<<16|this.data[a+
k.GREEN_BYTE_OFFSET]<<8|this.data[a+k.BLUE_BYTE_OFFSET]};k.prototype.copyRectXOR=function(a,l){l=this.getBounds().clipTo(l);var q=l.getWidth(),r=l.getHeight();r=new Uint8Array(q*r*k.BYTES_PER_PIXEL);var b=0,d=this.offsetOfPixel(l.left,l.top),g=a.offsetOfPixel(l.left,l.top),m=(this.width-q)*k.BYTES_PER_PIXEL,f=(a.width-q)*k.BYTES_PER_PIXEL;q*=k.BYTES_PER_PIXEL;for(var n=l.top;n<l.bottom;n++,d+=m,g+=f)for(var t=0;t<q;t++,b++,d++,g++)r[b]=this.data[d]^a.data[g];return r};k.prototype.setRectXOR=function(a,
l){l=this.getBounds().clipTo(l);var q=l.getWidth(),r=l.getHeight();l=this.offsetOfPixel(l.left,l.top);var b=0,d=(this.width-q)*k.BYTES_PER_PIXEL;q*=k.BYTES_PER_PIXEL;for(var g=0;g<r;g++){for(var m=0;m<q;m++)this.data[l++]^=a[b++];l+=d}};k.prototype.copyBitmapRect=function(a,l,q,r){var b=new e.default(l,q,0,0);r=r.clone();this.getBounds().clipSourceDest(r,b);l=b.getWidth()|0;q=b.getHeight()|0;if(0==b.left&&0==b.top&&l==this.width&&q==this.height&&l==a.width&&q==a.height)this.copyPixelsFrom(a);else{b=
this.offsetOfPixel(b.left,b.top);var d=(this.width-l)*k.BYTES_PER_PIXEL;r=a.offsetOfPixel(r.left,r.top);for(var g=(a.width-l)*k.BYTES_PER_PIXEL,m=0;m<q;m++,r+=g,b+=d)for(var f=0;f<l;f++,r+=k.BYTES_PER_PIXEL,b+=k.BYTES_PER_PIXEL)this.data[b]=a.data[r],this.data[b+1]=a.data[r+1],this.data[b+2]=a.data[r+2],this.data[b+3]=a.data[r+3]}};k.prototype.copyAlphaFrom=function(a,l){l=this.getBounds().clipTo(l);var q=l.getWidth()|0,r=l.getHeight()|0;l=this.offsetOfPixel(l.left,l.top)+k.ALPHA_BYTE_OFFSET|0;for(var b=
(this.width-q)*k.BYTES_PER_PIXEL|0,d=0;d<r;d++,l+=b)for(var g=0;g<q;g++,l+=k.BYTES_PER_PIXEL)this.data[l]=a.data[l]};k.prototype.setToSize=function(a){if(a.width!=this.width||a.height!=this.height)this.width=a.width,this.height=a.height,this.imageData=(0,v.createImageData)(this.width,this.height),this.data=this.imageData.data};k.prototype.copyPixelsFrom=function(a){this.setToSize(a);if("set"in this.data)this.data.set(a.data);else for(var l=0;l<this.data.length;l++)this.data[l]=a.data[l]};k.prototype.copyPixelsFromGreyscale=
function(a){var l,q=0,r=a.width*a.height;this.setToSize(a);for(l=0;l<r;l++,q+=k.BYTES_PER_PIXEL)this.data[q+k.RED_BYTE_OFFSET]=a.data[l],this.data[q+k.GREEN_BYTE_OFFSET]=a.data[l],this.data[q+k.BLUE_BYTE_OFFSET]=a.data[l],this.data[q+k.ALPHA_BYTE_OFFSET]=255};k.prototype.copyScaledNearestNeighbor=function(a){for(var l=0,q=a.width/this.width,r=a.height/this.height,b,d=0,g=0;d<this.height;d++,g+=r){b=a.offsetOfPixel(0,Math.round(g));for(var m=0,f=0;m<this.width;m++,l+=k.BYTES_PER_PIXEL,f+=q){var n=
b+Math.round(f)*k.BYTES_PER_PIXEL;this.data[l]=a.data[n];this.data[l+1]=a.data[n+1];this.data[l+2]=a.data[n+2];this.data[l+k.ALPHA_BYTE_OFFSET]=a.data[n+k.ALPHA_BYTE_OFFSET]}}};k.prototype.createThumbnailFrom=function(a){var l=Math.min(Math.floor(a.width/this.width),3);if(2>l)this.copyScaledNearestNeighbor(a);else{var q=new Uint16Array(5*this.width),r=a.width*k.BYTES_PER_PIXEL,b=Math.floor(a.width/this.width)*k.BYTES_PER_PIXEL,d=Math.floor(a.width/this.width/l)*k.BYTES_PER_PIXEL,g=b-d*l,m=Math.floor(a.height/
this.height/l);b=m*r-b*this.width;r*=Math.floor(a.height/this.height)-m*l;for(var f=m=0,n=0;n<this.height;n++,m+=r){var t;q.fill(0);for(var y=0;y<l;y++,m+=b)for(var B=t=0;B<this.width;B++,t+=5,m+=g)for(var z=0;z<l;z++,m+=d){var H=a.data[m+k.ALPHA_BYTE_OFFSET],N=H/255;q[t]+=a.data[m]*N;q[t+1]+=a.data[m+1]*N;q[t+2]+=a.data[m+2]*N;q[t+k.ALPHA_BYTE_OFFSET]+=H;q[t+4]=Math.max(q[t+4],H)}for(y=t=0;y<this.width;y++,t+=5,f+=k.BYTES_PER_PIXEL)B=q[t+4],0==B?this.data[f+k.ALPHA_BYTE_OFFSET]=0:(z=B/q[t+k.ALPHA_BYTE_OFFSET],
this.data[f]=q[t]*z,this.data[f+1]=q[t+1]*z,this.data[f+2]=q[t+2]*z,this.data[f+k.ALPHA_BYTE_OFFSET]=B)}}};k.prototype.floodFill=function(a,l,q){if(this.isInside(a,l)){var r=this.getPixel(a,l),b=r>>24&255,d=r>>16&255,g=r>>8&255,m=r&255,f=q>>24&255,n=q>>16&255,t=q>>8&255,y=q&255,B=[],z=this.getBounds(),H=this.data;z.left*=k.BYTES_PER_PIXEL;z.right*=k.BYTES_PER_PIXEL;B.push({x1:a*k.BYTES_PER_PIXEL,x2:a*k.BYTES_PER_PIXEL,y:l,dy:-1});B.push({x1:a*k.BYTES_PER_PIXEL,x2:a*k.BYTES_PER_PIXEL,y:l+1,dy:1});
if(0==b){if(0!=f)for(;0<B.length;)if(d=B.pop(),!(d.y<z.top||d.y>=z.bottom)){g=this.offsetOfPixel(0,d.y);for(m=d.x1;m>=z.left&&0==H[m+g+k.ALPHA_BYTE_OFFSET];)H[m+g+k.RED_BYTE_OFFSET]=n,H[m+g+k.GREEN_BYTE_OFFSET]=t,H[m+g+k.BLUE_BYTE_OFFSET]=y,H[m+g+k.ALPHA_BYTE_OFFSET]=f,m-=k.BYTES_PER_PIXEL;if(m>=d.x1){for(;m<=d.x2&&H[m+g+k.ALPHA_BYTE_OFFSET]!=b;)m+=k.BYTES_PER_PIXEL;a=m+k.BYTES_PER_PIXEL;if(m>d.x2)continue}else m+=k.BYTES_PER_PIXEL,m<d.x1&&B.push({x1:m,x2:d.x1-k.BYTES_PER_PIXEL,y:d.y-d.dy,dy:-d.dy}),
a=d.x1+k.BYTES_PER_PIXEL;do{H[m+g+k.RED_BYTE_OFFSET]=n;H[m+g+k.GREEN_BYTE_OFFSET]=t;H[m+g+k.BLUE_BYTE_OFFSET]=y;for(H[m+g+k.ALPHA_BYTE_OFFSET]=f;a<z.right&&H[a+g+k.ALPHA_BYTE_OFFSET]==b;)H[a+g+k.RED_BYTE_OFFSET]=n,H[a+g+k.GREEN_BYTE_OFFSET]=t,H[a+g+k.BLUE_BYTE_OFFSET]=y,H[a+g+k.ALPHA_BYTE_OFFSET]=f,a+=k.BYTES_PER_PIXEL;B.push({x1:m,x2:a-k.BYTES_PER_PIXEL,y:d.y+d.dy,dy:d.dy});a-k.BYTES_PER_PIXEL>d.x2&&B.push({x1:d.x2+k.BYTES_PER_PIXEL,x2:a-k.BYTES_PER_PIXEL,y:d.y-d.dy,dy:-d.dy});for(m=a+k.BYTES_PER_PIXEL;m<=
d.x2&&H[m+g+k.ALPHA_BYTE_OFFSET]!=b;)m+=k.BYTES_PER_PIXEL;a=m+k.BYTES_PER_PIXEL}while(m<=d.x2)}}else if(q!=r)for(;0<B.length;)if(a=B.pop(),!(a.y<z.top||a.y>=z.bottom)){l=this.offsetOfPixel(0,a.y);for(q=a.x1;q>=z.left&&H[q+l+k.RED_BYTE_OFFSET]==d&&H[q+l+k.GREEN_BYTE_OFFSET]==g&&H[q+l+k.BLUE_BYTE_OFFSET]==m&&H[q+l+k.ALPHA_BYTE_OFFSET]==b;)H[q+l+k.RED_BYTE_OFFSET]=n,H[q+l+k.GREEN_BYTE_OFFSET]=t,H[q+l+k.BLUE_BYTE_OFFSET]=y,H[q+l+k.ALPHA_BYTE_OFFSET]=f,q-=k.BYTES_PER_PIXEL;if(q>=a.x1){for(;q<=a.x2&&(H[q+
l+k.RED_BYTE_OFFSET]!=d||H[q+l+k.GREEN_BYTE_OFFSET]!=g||H[q+l+k.BLUE_BYTE_OFFSET]!=m||H[q+l+k.ALPHA_BYTE_OFFSET]!=b);)q+=k.BYTES_PER_PIXEL;r=q+k.BYTES_PER_PIXEL;if(q>a.x2)continue}else q+=k.BYTES_PER_PIXEL,q<a.x1&&B.push({x1:q,x2:a.x1-k.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy}),r=a.x1+k.BYTES_PER_PIXEL;do{H[q+l+k.RED_BYTE_OFFSET]=n;H[q+l+k.GREEN_BYTE_OFFSET]=t;H[q+l+k.BLUE_BYTE_OFFSET]=y;for(H[q+l+k.ALPHA_BYTE_OFFSET]=f;r<z.right&&H[r+l+k.RED_BYTE_OFFSET]==d&&H[r+l+k.GREEN_BYTE_OFFSET]==g&&H[r+l+k.BLUE_BYTE_OFFSET]==
m&&H[r+l+k.ALPHA_BYTE_OFFSET]==b;)H[r+l+k.RED_BYTE_OFFSET]=n,H[r+l+k.GREEN_BYTE_OFFSET]=t,H[r+l+k.BLUE_BYTE_OFFSET]=y,H[r+l+k.ALPHA_BYTE_OFFSET]=f,r+=k.BYTES_PER_PIXEL;B.push({x1:q,x2:r-k.BYTES_PER_PIXEL,y:a.y+a.dy,dy:a.dy});r-k.BYTES_PER_PIXEL>a.x2&&B.push({x1:a.x2+k.BYTES_PER_PIXEL,x2:r-k.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy});for(q=r+k.BYTES_PER_PIXEL;q<=a.x2&&(H[q+l+k.RED_BYTE_OFFSET]!=d||H[q+l+k.GREEN_BYTE_OFFSET]!=g||H[q+l+k.BLUE_BYTE_OFFSET]!=m||H[q+l+k.ALPHA_BYTE_OFFSET]!=b);)q+=k.BYTES_PER_PIXEL;
r=q+k.BYTES_PER_PIXEL}while(q<=a.x2)}}};k.prototype.copyPixelColumnToArray=function(a,l,q,r){var b=(this.width-1)*k.BYTES_PER_PIXEL,d=0;a=this.offsetOfPixel(a,l);for(l=0;l<q;l++){for(var g=0;g<k.BYTES_PER_PIXEL;g++)r[d++]=this.data[a++];a+=b}};k.prototype.copyArrayToPixelColumn=function(a,l,q,r){var b=(this.width-1)*k.BYTES_PER_PIXEL,d=0;a=this.offsetOfPixel(a,l);for(l=0;l<q;l++){for(var g=0;g<k.BYTES_PER_PIXEL;g++)this.data[a++]=r[d++];a+=b}};k.prototype.boxBlur=function(a,l,q){a=this.getBounds().clipTo(a);
var r=a.getWidth(),b=r*k.BYTES_PER_PIXEL,d=a.getHeight(),g=Math.max(r,d),m=new Uint8Array(g*k.BYTES_PER_PIXEL);g=new Uint8Array(g*k.BYTES_PER_PIXEL);for(var f=a.top;f<a.bottom;f++){for(var n=this.offsetOfPixel(a.left,f),t=0;t<b;t++)m[t]=this.data[n++];n=m;t=r;for(var y=0,B=0;B<t;B++){for(var z=n[y+k.ALPHA_BYTE_OFFSET],H=0;3>H;H++,y++)n[y]=Math.round(n[y]*z/255);y++}u(m,g,r,l);n=this.offsetOfPixel(a.left,f);for(t=0;t<b;t++)this.data[n++]=g[t]}for(l=a.left;l<a.right;l++){this.copyPixelColumnToArray(l,
a.top,d,m);u(m,g,d,q);r=g;b=d;for(n=f=0;n<b;n++)if(t=r[f+k.ALPHA_BYTE_OFFSET],0!=t){t=255/t;for(y=0;3>y;y++,f++)r[f]=Math.min(Math.round(r[f]*t),255);f++}else f+=k.BYTES_PER_PIXEL;this.copyArrayToPixelColumn(l,a.top,d,g)}};k.prototype.offsetOfPixel=function(a,l){return 4*(l*this.width+a)|0};k.prototype.getMemorySize=function(){return this.data.length};k.prototype.getImageData=function(){return this.imageData};k.prototype.setImageData=function(a){this.width=a.width;this.height=a.height;this.imageData=
a;this.data=a.data};k.prototype.clearAll=function(a){if(0==a&&"fill"in this.data)this.data.fill(0);else{var l=a>>24&255,q=a>>16&255,r=a>>8&255;a&=255;for(var b=0;b<this.width*this.height*k.BYTES_PER_PIXEL;)this.data[b++]=q,this.data[b++]=r,this.data[b++]=a,this.data[b++]=l}};k.prototype.clearRect=function(a,l){a=this.getBounds().clipTo(a);var q=l>>24&255,r=l>>16&255,b=l>>8&255;l&=255;for(var d=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,g=this.offsetOfPixel(a.left,a.top),m=a.top;m<a.bottom;m++,g+=
d)for(var f=a.left;f<a.right;f++)this.data[g++]=r,this.data[g++]=b,this.data[g++]=l,this.data[g++]=q};k.prototype.copyRegionHFlip=function(a,l){a=this.getBounds().clipTo(a);for(var q=a.top;q<a.bottom;q++)for(var r=this.offsetOfPixel(a.left,q),b=l.offsetOfPixel(a.right-1,q),d=a.left;d<a.right;d++,b-=2*k.BYTES_PER_PIXEL)for(var g=0;g<k.BYTES_PER_PIXEL;g++)this.data[r++]=l.data[b++]};k.prototype.copyRegionVFlip=function(a,l){a=this.getBounds().clipTo(a);for(var q=a.getWidth()*k.BYTES_PER_PIXEL,r=a.top;r<
a.bottom;r++)for(var b=this.offsetOfPixel(a.left,r),d=l.offsetOfPixel(a.left,a.bottom-1-(r-a.top)),g=0;g<q;g++)this.data[b++]=l.data[d++]};k.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var l,q=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,r=this.offsetOfPixel(a.left,a.top),b=a.top;b<a.bottom;b++,r+=q)for(var d=a.left;d<a.right;d++,r+=k.BYTES_PER_PIXEL)l=256*Math.random()|0,this.data[r+k.RED_BYTE_OFFSET]=l,this.data[r+k.GREEN_BYTE_OFFSET]=l,this.data[r+k.BLUE_BYTE_OFFSET]=l,
this.data[r+k.ALPHA_BYTE_OFFSET]=255};k.prototype.gradientHorzReplace=function(a,l,q,r){var b={r:r[0]>>16&255,g:r[0]>>8&255,b:r[0]&255,a:r[0]>>24&255};r={r:r[1]>>16&255,g:r[1]>>8&255,b:r[1]&255,a:r[1]>>24&255};var d=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,g=this.offsetOfPixel(a.left,a.top)|0,m=a.bottom-a.top|0;if(q<l){var f=q;q=l;l=f;f=b;b=r;r=f}var n=q-l|0;f=(r.r-b.r)/n;var t=(r.g-b.g)/n,y=(r.b-b.b)/n;n=(r.a-b.a)/n;for(var B=Math.max(a.left-l,0),z=0;z<m;z++,g+=d){for(var H=a.left,N=Math.min(l,
a.right)|0;H<N;H++,g+=k.BYTES_PER_PIXEL)this.data[g+k.RED_BYTE_OFFSET]=b.r,this.data[g+k.GREEN_BYTE_OFFSET]=b.g,this.data[g+k.BLUE_BYTE_OFFSET]=b.b,this.data[g+k.ALPHA_BYTE_OFFSET]=b.a;var x=b.r+f*B,F=b.g+t*B,G=b.b+y*B,I=b.a+n*B;for(N=Math.min(q,a.right)|0;H<N;H++,g+=k.BYTES_PER_PIXEL)this.data[g+k.RED_BYTE_OFFSET]=x,this.data[g+k.GREEN_BYTE_OFFSET]=F,this.data[g+k.BLUE_BYTE_OFFSET]=G,this.data[g+k.ALPHA_BYTE_OFFSET]=I,x+=f,F+=t,G+=y,I+=n;for(;H<a.right;H++,g+=k.BYTES_PER_PIXEL)this.data[g+k.RED_BYTE_OFFSET]=
r.r,this.data[g+k.GREEN_BYTE_OFFSET]=r.g,this.data[g+k.BLUE_BYTE_OFFSET]=r.b,this.data[g+k.ALPHA_BYTE_OFFSET]=r.a}};k.prototype.gradientVertReplace=function(a,l,q,r){var b={r:r[0]>>16&255,g:r[0]>>8&255,b:r[0]&255,a:r[0]>>24&255};r={r:r[1]>>16&255,g:r[1]>>8&255,b:r[1]&255,a:r[1]>>24&255};var d=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,g=this.offsetOfPixel(a.left,a.top)|0,m=a.right-a.left|0;if(q<l){var f=q;q=l;l=f;f=b;b=r;r=f}f=a.top;for(var n=Math.min(a.bottom,l)|0;f<n;f++,g+=d)for(var t=0;t<m;t++,
g+=k.BYTES_PER_PIXEL)this.data[g+k.RED_BYTE_OFFSET]=b.r,this.data[g+k.GREEN_BYTE_OFFSET]=b.g,this.data[g+k.BLUE_BYTE_OFFSET]=b.b,this.data[g+k.ALPHA_BYTE_OFFSET]=b.a;var y=q-l|0;n=(r.r-b.r)/y;t=(r.g-b.g)/y;var B=(r.b-b.b)/y;y=(r.a-b.a)/y;var z=Math.max(f-l,0);l=b.r+n*z;var H=b.g+t*z,N=b.b+B*z;b=b.a+y*z;for(q=Math.min(a.bottom,q)|0;f<q;f++,g+=d){for(z=0;z<m;z++,g+=k.BYTES_PER_PIXEL)this.data[g+k.RED_BYTE_OFFSET]=l,this.data[g+k.GREEN_BYTE_OFFSET]=H,this.data[g+k.BLUE_BYTE_OFFSET]=N,this.data[g+k.ALPHA_BYTE_OFFSET]=
b;l+=n;H+=t;N+=B;b+=y}for(;f<a.bottom;f++,g+=d)for(q=0;q<m;q++,g+=k.BYTES_PER_PIXEL)this.data[g+k.RED_BYTE_OFFSET]=r.r,this.data[g+k.GREEN_BYTE_OFFSET]=r.g,this.data[g+k.BLUE_BYTE_OFFSET]=r.b,this.data[g+k.ALPHA_BYTE_OFFSET]=r.a};k.prototype.gradientReplace=function(a,l,q,r,b,d){var g=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,m=this.offsetOfPixel(a.left,a.top)|0,f=a.right-a.left|0,n=d[0]>>16&255,t=d[0]>>8&255,y=d[0]&255,B=d[0]>>24&255,z=d[1]>>16&255,H=d[1]>>8&255,N=d[1]&255;d=d[1]>>24&255;var x=
b-q+(r-l)*(r-l)/(b-q);r=r-l+(b-q)*(b-q)/(r-l);b=1/r;for(var F=a.top;F<a.bottom;F++,m+=g)for(var G=(a.left-l)/r+(F-q)/x,I=0;I<f;I++,m+=k.BYTES_PER_PIXEL){var M=Math.min(Math.max(G,0),1),R=1-M;this.data[m+k.RED_BYTE_OFFSET]=n*R+z*M;this.data[m+k.GREEN_BYTE_OFFSET]=t*R+H*M;this.data[m+k.BLUE_BYTE_OFFSET]=y*R+N*M;this.data[m+k.ALPHA_BYTE_OFFSET]=B*R+d*M;G+=b}};k.prototype.gradientAlpha=function(a,l,q,r,b,d){var g=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,m=this.offsetOfPixel(a.left,a.top)|0,f=a.right-
a.left|0,n=d[0]>>16&255,t=d[0]>>8&255,y=d[0]&255,B=d[0]>>24&255,z=d[1]>>16&255,H=d[1]>>8&255,N=d[1]&255;d=d[1]>>24&255;var x=b-q+(r-l)*(r-l)/(b-q);r=r-l+(b-q)*(b-q)/(r-l);b=1/r;for(var F=a.top;F<a.bottom;F++,m+=g)for(var G=(a.left-l)/r+(F-q)/x,I=0;I<f;I++,m+=k.BYTES_PER_PIXEL){var M=Math.min(Math.max(G,0),1),R=1-M,ha=n*R+z*M,ca=t*R+H*M,sa=y*R+N*M;R=B*R+d*M;M=this.data[m+k.ALPHA_BYTE_OFFSET];M=R+M-R*M/255|0;if(0<M){R=255*R/M|0;var na=255-R;this.data[m+k.RED_BYTE_OFFSET]=(ha*R+this.data[m+k.RED_BYTE_OFFSET]*
na)/255|0;this.data[m+k.GREEN_BYTE_OFFSET]=(ca*R+this.data[m+k.GREEN_BYTE_OFFSET]*na)/255|0;this.data[m+k.BLUE_BYTE_OFFSET]=(sa*R+this.data[m+k.BLUE_BYTE_OFFSET]*na)/255|0;this.data[m+k.ALPHA_BYTE_OFFSET]=M}G+=b}};k.prototype.gradient=function(a,l,q,r,b,d,g){a=this.getBounds().clipTo(a);if(l!=r||q!=b)g||255==d[0]>>>24&&255==d[1]>>>24?l==r?this.gradientVertReplace(a,q,b,d):q==b?this.gradientHorzReplace(a,l,r,d):this.gradientReplace(a,l,q,r,b,d):this.gradientAlpha(a,l,q,r,b,d)};k.prototype.fillWithColorNoise=
function(a){a=this.getBounds().clipTo(a);for(var l,q=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,r=this.offsetOfPixel(a.left,a.top),b=a.top;b<a.bottom;b++,r+=q)for(var d=a.left;d<a.right;d++,r+=k.BYTES_PER_PIXEL)l=16777216*Math.random()|0,this.data[r+k.RED_BYTE_OFFSET]=l>>16&255,this.data[r+k.GREEN_BYTE_OFFSET]=l>>8&255,this.data[r+k.BLUE_BYTE_OFFSET]=l&255,this.data[r+k.ALPHA_BYTE_OFFSET]=255};k.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var l=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,
q=this.offsetOfPixel(a.left,a.top),r=a.top;r<a.bottom;r++,q+=l)for(var b=a.left;b<a.right;b++,q+=k.BYTES_PER_PIXEL)this.data[q+k.RED_BYTE_OFFSET]^=255,this.data[q+k.GREEN_BYTE_OFFSET]^=255,this.data[q+k.BLUE_BYTE_OFFSET]^=255};k.prototype.getNonTransparentBounds=function(a){var l=a.clone(),q,r;var b=(this.width-l.getWidth())*k.BYTES_PER_PIXEL;a=this.offsetOfPixel(l.left,l.top)+k.ALPHA_BYTE_OFFSET;for(r=l.top;r<l.bottom;r++,a+=b){var d=0;for(q=l.left;q<l.right;q++,a+=k.BYTES_PER_PIXEL)d|=this.data[a];
if(0!=d)break}l.top=r;if(l.top==l.bottom)return l;a=this.offsetOfPixel(l.right-1,l.bottom-1)+k.ALPHA_BYTE_OFFSET;for(r=l.bottom-1;r>=l.top;r--,a-=b){d=0;for(q=l.right-1;q>=l.left;q--,a-=k.BYTES_PER_PIXEL)d|=this.data[a];if(0!=d)break}l.bottom=r+1;b=k.BYTES_PER_PIXEL*this.width;for(q=l.left;q<l.right;q++){a=this.offsetOfPixel(q,l.top)+k.ALPHA_BYTE_OFFSET;d=0;for(r=l.top;r<l.bottom;r++,a+=b)d|=this.data[a];if(0!=d)break}l.left=q;for(q=l.right-1;q>=l.left;q--){a=this.offsetOfPixel(q,l.top)+k.ALPHA_BYTE_OFFSET;
d=0;for(r=l.top;r<l.bottom;r++,a+=b)d|=this.data[a];if(0!=d)break}l.right=q+1;return l};k.prototype.getAsCanvas=function(a){var l=(0,v.createCanvas)(this.imageData.width,this.imageData.height);l.getContext("2d").putImageData(this.imageData,0,0);return E(l,a||0)};k.prototype.getAsPNG=function(a){a=this.getAsCanvas(a).toDataURL("image/png");a="string"===typeof a&&a.match(/^data:image\/png;base64,/i)?window.atob(a.substring(22)):!1;return a};k.prototype.getAsPNGBuffer=function(a){return this.getAsCanvas(a).toBuffer("image/png")};
k.prototype.hasAlphaInRect=function(a){a=this.getBounds().clipTo(a);for(var l=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,q=this.offsetOfPixel(a.left,a.top)+k.ALPHA_BYTE_OFFSET,r=a.top;r<a.bottom;r++,q+=l){for(var b=255,d=a.left;d<a.right;d++,q+=k.BYTES_PER_PIXEL)b&=this.data[q];if(255!=b)return!0}return!1};k.prototype.hasAlpha=function(){return this.hasAlphaInRect(this.getBounds())};k.createFromImage=function(a){var l=(0,v.createCanvas)(a.width,a.height).getContext("2d");l.globalCompositeOperation=
"copy";l.drawImage(a,0,0);return new k(l.getImageData(0,0,a.width,a.height))};k.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var l=0;l<this.data.length;l+=k.BYTES_PER_PIXEL)if(0!=this.data[l+k.ALPHA_BYTE_OFFSET]||0!=a.data[l+k.ALPHA_BYTE_OFFSET])if(this.data[l]!=a.data[l]||this.data[l+1]!=a.data[l+1]||this.data[l+2]!=a.data[l+2]||this.data[l+3]!=a.data[l+3])return!1;return!0}},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4}],14:[function(h,
K,C){function w(a){return a&&a.__esModule?a:{default:a}}function k(a,l,q){E.default.call(this,a,l);this.createBitmap(a,l,q)}function u(a,l,q,r){var b=0,d=0,g;for(g=0;g<r&&g<q;g++)d+=a[g],b++;for(var m=g=0;m<q;m++)m+r<q&&(d+=a[m+r],b++),l[g++]=Math.round(d/b),0<=m-r&&(d-=a[m-r],b--)}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;var E=w(h("./CPBitmap.js")),c=w(h("../util/CPRect.js")),e=h("../util/Canvas.js"),v=h("./CPColorBmp.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=
k;k.prototype.createBitmap=function(a,l,q){this.bitDepth=q;switch(q){case 32:this.data=new Uint32Array(a*l);break;case 16:this.data=new Uint16Array(a*l);break;default:this.data=new Uint8Array(a*l)}};k.prototype.clone=function(){var a=new k(this.width,this.height,this.bitDepth);a.copyPixelsFrom(this);return a};k.prototype.cloneRect=function(a){var l=new k(a.getWidth(),a.getHeight(),this.bitDepth);l.copyBitmapRect(this,0,0,a);return l};k.prototype.getPixel=function(a,l){a=Math.max(0,Math.min(this.width-
1,a));l=Math.max(0,Math.min(this.height-1,l));return this.data[this.offsetOfPixel(a,l)]};k.prototype.clearAll=function(a){this.data.fill(a)};k.prototype.clearRect=function(a,l){a=this.getBounds().clipTo(a);if(a.equals(this.getBounds()))this.clearAll(l);else for(var q=this.width,r=a.right-a.left,b=this.offsetOfPixel(a.left,a.top),d=a.top;d<a.bottom;d++,b+=q)this.data.fill(l,b,b+r)};k.prototype.copyScaledNearestNeighbor=function(a){for(var l=0,q=a.width/this.width,r=a.height/this.height,b,d=0,g=0;d<
this.height;d++,g+=r){b=a.offsetOfPixel(0,Math.round(g));for(var m=0,f=0;m<this.width;m++,l++,f+=q)this.data[l]=a.data[b+Math.round(f)]}};k.prototype.floodFill=function(a,l,q){if(this.isInside(a,l)){q&=255;var r=this.getPixel(a,l),b=[],d=this.getBounds(),g=this.data;b.push({x1:a,x2:a,y:l,dy:-1});b.push({x1:a,x2:a,y:l+1,dy:1});if(q!=r)for(;0<b.length;)if(a=b.pop(),!(a.y<d.top||a.y>=d.bottom)){l=this.offsetOfPixel(0,a.y);for(var m=a.x1,f;m>=d.left&&g[m+l]==r;)g[m+l]=q,m--;if(m>=a.x1){for(;m<=a.x2&&
g[m+l]!=r;)m++;f=m+1;if(m>a.x2)continue}else m++,m<a.x1&&b.push({x1:m,x2:a.x1-1,y:a.y-a.dy,dy:-a.dy}),f=a.x1+1;do{for(g[m+l]=q;f<d.right&&g[f+l]==r;)g[f+l]=q,f++;b.push({x1:m,x2:f-1,y:a.y+a.dy,dy:a.dy});f-1>a.x2&&b.push({x1:a.x2+1,x2:f-1,y:a.y-a.dy,dy:-a.dy});for(m=f+1;m<=a.x2&&g[m+l]!=r;)m++;f=m+1}while(m<=a.x2)}}};k.prototype.createThumbnailFrom=function(a){var l=Math.min(Math.floor(a.width/this.width),3);if(2>l)this.copyScaledNearestNeighbor(a);else{var q=new Uint16Array(this.width),r=a.width,
b=Math.floor(a.width/this.width),d=Math.floor(a.width/this.width/l),g=b-d*l,m=Math.floor(a.height/this.height/l);b=m*r-b*this.width;r*=Math.floor(a.height/this.height)-m*l;for(var f=m=0,n=0;n<this.height;n++,m+=r){var t;q.fill(0);for(var y=0;y<l;y++,m+=b)for(var B=t=0;B<this.width;B++,t++,m+=g)for(var z=0;z<l;z++,m+=d)q[t]+=a.data[m];for(y=t=0;y<this.width;y++,t++,f++)this.data[f]=q[t]/(l*l)}}};k.prototype.mirrorHorizontally=function(){for(var a=this.width,l=this.height,q=new Uint8Array(a*l),r=0,
b=a,d=0;d<l;d++,b+=a+a)for(var g=0;g<a;g++)q[r++]=this.data[--b];this.data=q};k.prototype.applyLUT=function(a){for(var l=0;l<this.data.length;l++)this.data[l]=a.table[this.data[l]]};k.prototype.getAsCanvas=function(a){var l=this.getImageData(0,0,this.width,this.height),q=(0,e.createCanvas)(this.width,this.height);q.getContext("2d").putImageData(l,0,0);return(0,v.getRotatedCanvas)(q,a||0)};k.prototype.getImageData=function(a,l,q,r){var b=(0,e.createImageData)(q,r);a=this.offsetOfPixel(a,l);l=0;for(var d=
this.width-q,g=0;g<r;g++,a+=d)for(var m=0;m<q;m++,a++)b.data[l++]=this.data[a],b.data[l++]=this.data[a],b.data[l++]=this.data[a],b.data[l++]=255;return b};k.prototype.pasteImageData=function(a,l,q){var r=0;l=this.offsetOfPixel(l,q);q=this.width-a.width;for(var b=0;b<a.height;b++,l+=q)for(var d=0;d<a.width;d++,r+=4,l++)this.data[l]=a.data[r];return a};k.prototype.copyPixelsFrom=function(a){a.width!=this.width||a.height!=this.height||a.bitDepth!=this.bitDepth?(this.data=a.data.slice(0),this.width=a.width,
this.height=a.height,this.bitDepth=a.bitDepth):this.data.set(a.data)};k.prototype.copyRectXOR=function(a,l){l=this.getBounds().clipTo(l);var q=l.getWidth(),r=l.getHeight();r=new Uint8Array(q*r);for(var b=0,d=this.offsetOfPixel(l.left,l.top),g=a.offsetOfPixel(l.left,l.top),m=this.width-q,f=a.width-q,n=l.top;n<l.bottom;n++,d+=m,g+=f)for(var t=0;t<q;t++,b++,d++,g++)r[b]=this.data[d]^a.data[g];return r};k.prototype.setRectXOR=function(a,l){l=this.getBounds().clipTo(l);var q=l.getWidth(),r=l.getHeight();
l=this.offsetOfPixel(l.left,l.top);for(var b=0,d=this.width-q,g=0;g<r;g++){for(var m=0;m<q;m++)this.data[l++]^=a[b++];l+=d}};k.prototype.copyBitmapRect=function(a,l,q,r){var b=new c.default(l,q,0,0);r=r.clone();this.getBounds().clipSourceDest(r,b);l=b.getWidth()|0;q=b.getHeight()|0;if(0==b.left&&0==b.top&&l==this.width&&q==this.height&&l==a.width&&q==a.height)this.copyPixelsFrom(a);else{b=this.offsetOfPixel(b.left,b.top);var d=this.width-l;r=a.offsetOfPixel(r.left,r.top);for(var g=a.width-l,m=0;m<
q;m++,r+=g,b+=d)for(var f=0;f<l;f++,r++,b++)this.data[b]=a.data[r]}};k.prototype.copyRegionHFlip=function(a,l){a=this.getBounds().clipTo(a);for(var q=a.top;q<a.bottom;q++)for(var r=this.offsetOfPixel(a.left,q),b=l.offsetOfPixel(a.right-1,q),d=a.left;d<a.right;d++,b-=2)this.data[r++]=l.data[b++]};k.prototype.copyRegionVFlip=function(a,l){a=this.getBounds().clipTo(a);for(var q=a.getWidth(),r=a.top;r<a.bottom;r++)for(var b=this.offsetOfPixel(a.left,r),d=l.offsetOfPixel(a.left,a.bottom-1-(r-a.top)),g=
0;g<q;g++)this.data[b++]=l.data[d++]};k.prototype.copyPixelColumnToArray=function(a,l,q,r){var b=this.width,d=0;a=this.offsetOfPixel(a,l);for(l=0;l<q;l++)r[d]=this.data[a],a+=b,d++};k.prototype.copyArrayToPixelColumn=function(a,l,q,r){var b=this.width,d=0;a=this.offsetOfPixel(a,l);for(l=0;l<q;l++)this.data[a]=r[d],a+=b,d++};k.prototype.boxBlur=function(a,l,q){a=this.getBounds().clipTo(a);var r=a.getWidth(),b=a.getHeight(),d=Math.max(r,b),g=new this.data.constructor(d);d=new this.data.constructor(d);
for(var m=a.top;m<a.bottom;m++){for(var f=this.offsetOfPixel(a.left,m),n=0;n<r;n++)g[n]=this.data[f++];u(g,d,r,l);f=this.offsetOfPixel(a.left,m);for(n=0;n<r;n++)this.data[f++]=d[n]}for(l=a.left;l<a.right;l++)this.copyPixelColumnToArray(l,a.top,b,g),u(g,d,b,q),this.copyArrayToPixelColumn(l,a.top,b,d)};k.prototype.offsetOfPixel=function(a,l){return l*this.width+a};k.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var l=this.width-a.getWidth(),q=this.offsetOfPixel(a.left,a.top),
r=a.top;r<a.bottom;r++,q+=l)for(var b=a.left;b<a.right;b++,q++)this.data[q]=256*Math.random()|0};k.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var l=this.width-a.getWidth(),q=this.offsetOfPixel(a.left,a.top),r=a.top;r<a.bottom;r++,q+=l)for(var b=a.left;b<a.right;b++,q++)this.data[q]=~this.data[q]};k.prototype.getValueBounds=function(a,l){var q=a.clone(),r,b;var d=this.width-q.getWidth();a=this.offsetOfPixel(q.left,q.top);for(b=q.top;b<q.bottom;b++,a+=d){var g=!1;for(r=q.left;r<q.right;r++,
a++)if(this.data[a]!=l){g=!0;break}if(g)break}q.top=b;if(q.top==q.bottom)return q;a=this.offsetOfPixel(q.right-1,q.bottom-1);for(b=q.bottom-1;b>=q.top;b--,a-=d){g=!1;for(r=q.right-1;r>=q.left;r--,a--)if(this.data[a]!=l){g=!0;break}if(g)break}q.bottom=b+1;d=this.width;for(r=q.left;r<q.right;r++){a=this.offsetOfPixel(r,q.top);g=!1;for(b=q.top;b<q.bottom;b++,a+=d)if(this.data[a]!=l){g=!0;break}if(g)break}q.left=r;for(r=q.right-1;r>=q.left;r--){a=this.offsetOfPixel(r,q.top);g=!1;for(b=q.top;b<q.bottom;b++,
a+=d)if(this.data[a]!=l){g=!0;break}if(g)break}q.right=r+1;return q};k.prototype.gradientHorzReplace=function(a,l,q,r){var b=r[0]&255;r=r[1]&255;var d=this.width-a.getWidth(),g=this.offsetOfPixel(a.left,a.top)|0,m=a.bottom-a.top|0;if(q<l){var f=q;q=l;l=f;f=b;b=r;r=f}f=(r-b)/(q-l|0);for(var n=Math.max(a.left-l,0),t=0;t<m;t++,g+=d){for(var y=a.left,B=Math.min(l,a.right)|0;y<B;y++,g++)this.data[g]=b;var z=b+f*n;for(B=Math.min(q,a.right)|0;y<B;y++,g++)this.data[g]=z,z+=f;for(;y<a.right;y++,g++)this.data[g]=
r}};k.prototype.gradientVertReplace=function(a,l,q,r){var b=r[0]&255;r=r[1]&255;var d=this.width-a.getWidth(),g=this.offsetOfPixel(a.left,a.top)|0,m=a.right-a.left|0;if(q<l){var f=q;q=l;l=f;f=b;b=r;r=f}f=a.top;for(var n=Math.min(a.bottom,l)|0;f<n;f++,g+=d)for(var t=0;t<m;t++,g++)this.data[g]=b;n=(r-b)/(q-l|0);l=b+n*Math.max(f-l,0);for(q=Math.min(a.bottom,q)|0;f<q;f++,g+=d){for(b=0;b<m;b++,g++)this.data[g]=l;l+=n}for(;f<a.bottom;f++,g+=d)for(q=0;q<m;q++,g++)this.data[g]=r};k.prototype.gradientReplace=
function(a,l,q,r,b,d){var g=this.width-a.getWidth(),m=this.offsetOfPixel(a.left,a.top)|0,f=a.right-a.left|0,n=d[0]&255;d=d[1]&255;var t=b-q+(r-l)*(r-l)/(b-q);r=r-l+(b-q)*(b-q)/(r-l);b=1/r;for(var y=a.top;y<a.bottom;y++,m+=g)for(var B=(a.left-l)/r+(y-q)/t,z=0;z<f;z++,m++){var H=Math.min(Math.max(B,0),1);this.data[m]=n*(1-H)+d*H;B+=b}};k.prototype.gradientAlpha=function(a,l,q,r,b,d){var g=this.width-a.getWidth(),m=this.offsetOfPixel(a.left,a.top)|0,f=a.right-a.left|0,n=d[0]&255,t=d[0]>>24&255,y=d[1]&
255;d=d[1]>>24&255;var B=b-q+(r-l)*(r-l)/(b-q);r=r-l+(b-q)*(b-q)/(r-l);b=1/r;for(var z=a.top;z<a.bottom;z++,m+=g)for(var H=(a.left-l)/r+(z-q)/B,N=0;N<f;N++,m++){var x=Math.min(Math.max(H,0),1),F=1-x,G=t*F+d*x;this.data[m]=((n*F+y*x)*G+this.data[m]*(255-G))/255|0;H+=b}};k.prototype.gradient=function(a,l,q,r,b,d,g){a=this.getBounds().clipTo(a);if(l!=r||q!=b)g||255==d[0]>>>24&&255==d[1]>>>24?l==r?this.gradientVertReplace(a,q,b,d):q==b?this.gradientHorzReplace(a,l,r,d):this.gradientReplace(a,l,q,r,b,
d):this.gradientAlpha(a,l,q,r,b,d)};k.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var l=0;l<this.data.length;l++)if(this.data[l]!=a.data[l])return!1;return!0};K.exports=C.default},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4,"./CPColorBmp.js":13}],15:[function(h,K,C){function w(e){return e&&e.__esModule?e:{default:e}}function k(e,v,a){E.default.call(this,a);this.image=0<e&&0<v?new u.default(e,v):null;this.clip=!1;this.imageThumbnail=null}
Object.defineProperty(C,"__esModule",{value:!0});C.default=k;var u=w(h("./CPColorBmp.js")),E=w(h("./CPLayer.js")),c=w(h("../util/CPRect.js"));k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;k.createFromImage=function(e,v){v=new k(0,0,v);v.image=e;return v};k.prototype.clone=function(){var e=new k(0,0,this.name);e.copyFrom(this);return e};k.prototype.copyFrom=function(e){E.default.prototype.copyFrom.call(this,e);this.clip=e.clip;this.image?this.image.copyPixelsFrom(e.image):
this.image=e.image.clone()};k.prototype.hasAlpha=function(){return 100!=this.alpha?!0:this.image.hasAlpha()};k.prototype.hasAlphaInRect=function(e){return 100!=this.alpha?!0:this.image.hasAlphaInRect(e)};k.prototype.copyImageFrom=function(e){this.image.copyPixelsFrom(e)};k.prototype.getClippingBase=function(){if(this.clip&&this.parent)for(var e=this.parent.indexOf(this)-1;0<=e;e--)if(this.parent.layers[e]instanceof k){if(!this.parent.layers[e].clip)return this.parent.layers[e]}else break;return null};
k.prototype.getClip=function(){return this.clip};k.prototype.setClip=function(e){this.clip=e};k.prototype.getNonTransparentBounds=function(e){return this.image.getNonTransparentBounds(e)};k.prototype.getBounds=function(){return new c.default(0,0,this.image.width,this.image.height)};k.prototype.getMemoryUsed=function(){return this.image?this.image.getMemorySize():0};k.prototype.rebuildImageThumbnail=function(){if(!this.imageThumbnail){var e=Math.ceil(Math.max(this.image.width/E.default.LAYER_THUMBNAIL_WIDTH,
this.image.height/E.default.LAYER_THUMBNAIL_HEIGHT));this.imageThumbnail=new u.default(Math.floor(this.image.width/e),Math.floor(this.image.height/e))}this.imageThumbnail.createThumbnailFrom(this.image)};k.prototype.getImageThumbnail=function(){this.imageThumbnail||this.rebuildImageThumbnail();return this.imageThumbnail};K.exports=C.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPLayer.js":16}],16:[function(h,K,C){function w(e){return e&&e.__esModule?e:{default:e}}function k(e){this.name=
e||"";this.parent=null;this.lockAlpha=!1;this.alpha=100;this.visible=!0;this.blendMode=u.default.LM_NORMAL;this.mask=null;this.maskVisible=this.maskLinked=!0;this.maskThumbnail=null;this.useLegacyMultiply=!1}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;w(h("./CPLayerGroup.js"));var u=w(h("./CPBlend.js")),E=w(h("./CPGreyBmp.js")),c=w(h("../util/CPRect.js"));k.prototype.copyFrom=function(e){this.name=e.name;this.blendMode=e.blendMode;this.useLegacyMultiply=e.useLegacyMultiply;this.alpha=
e.alpha;this.visible=e.visible;this.parent=e.parent;this.lockAlpha=e.lockAlpha;e.mask?this.mask?this.mask.copyPixelsFrom(e.mask):this.mask=e.mask.clone():this.mask=null;this.maskLinked=e.maskLinked;this.maskVisible=e.maskVisible;e.maskThumbnail?this.maskThumbnail?this.maskThumbnail.copyPixelsFrom(e.maskThumbnail):this.maskThumbnail=e.maskThumbnail.clone():this.maskThumbnail=null};k.prototype.setMask=function(e){this.mask=e;e||(this.maskThumbnail=null)};k.prototype.setAlpha=function(e){this.alpha=
e};k.prototype.getAlpha=function(){return this.alpha};k.prototype.getEffectiveAlpha=function(){return this.visible?this.alpha:0};k.prototype.getEffectiveMask=function(){return this.maskVisible?this.mask:null};k.prototype.setName=function(e){this.name=e};k.prototype.getName=function(){return this.name};k.prototype.setBlendMode=function(e){this.blendMode=e;e===u.default.LM_MULTIPLY?this.useLegacyMultiply=!0:e===u.default.LM_MULTIPLY2&&(this.useLegacyMultiply=!1)};k.prototype.getBlendMode=function(){return this.blendMode};
k.prototype.getLockAlpha=function(){return this.lockAlpha};k.prototype.setLockAlpha=function(e){this.lockAlpha=e};k.prototype.setVisible=function(e){this.visible=e};k.prototype.getVisible=function(){return this.visible};k.prototype.isVisible=k.prototype.getVisible;k.prototype.setMaskLinked=function(e){this.maskLinked=e};k.prototype.getMaskLinked=function(){return this.maskLinked};k.prototype.setMaskVisible=function(e){this.maskVisible=e};k.prototype.getMaskVisible=function(){return this.maskVisible};
k.prototype.getMemoryUsed=function(){return 0};k.prototype.getDepth=function(){return null==this.parent?0:this.parent.getDepth()+1};k.prototype.ancestorsAreVisible=function(){return null==this.parent||this.parent.visible&&this.parent.ancestorsAreVisible()};k.prototype.hasAncestor=function(e){return this.parent==e||this.parent&&this.parent.hasAncestor(e)};k.prototype.clone=function(){throw"Pure virtual CPLayer.clone() call";};k.prototype.getNonTransparentBounds=function(e){return new c.default(0,0,
0,0)};k.prototype.rebuildMaskThumbnail=function(){if(this.mask){if(!this.maskThumbnail){var e=Math.ceil(Math.max(this.mask.width/k.LAYER_THUMBNAIL_WIDTH,this.mask.height/k.LAYER_THUMBNAIL_HEIGHT));this.maskThumbnail=new E.default(Math.floor(this.mask.width/e),Math.floor(this.mask.height/e),8)}this.maskThumbnail.createThumbnailFrom(this.mask)}else this.maskThumbnail=null};k.prototype.getMaskThumbnail=function(){!this.maskThumbnail&&this.mask&&this.rebuildMaskThumbnail();return this.maskThumbnail};
k.LAYER_THUMBNAIL_WIDTH=80;k.LAYER_THUMBNAIL_HEIGHT=50;K.exports=C.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPGreyBmp.js":14,"./CPLayerGroup.js":17}],17:[function(h,K,C){function w(l){return l&&l.__esModule?l:{default:l}}function k(l,q){var r="undefined"!==typeof Symbol&&l[Symbol.iterator]||l["@@iterator"];if(!r){if(Array.isArray(l)||(r=u(l))||q&&l&&"number"===typeof l.length){r&&(l=r);var b=0;q=function(){};return{s:q,n:function(){return b>=l.length?{done:!0}:{done:!1,value:l[b++]}},
e:function(f){throw f;},f:q}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var d=!0,g=!1,m;return{s:function(){r=r.call(l)},n:function(){var f=r.next();d=f.done;return f},e:function(f){g=!0;m=f},f:function(){try{d||null==r.return||r.return()}finally{if(g)throw m;}}}}function u(l,q){if(l){if("string"===typeof l)return E(l,q);var r=Object.prototype.toString.call(l).slice(8,-1);"Object"===
r&&l.constructor&&(r=l.constructor.name);if("Map"===r||"Set"===r)return Array.from(l);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(l,q)}}function E(l,q){if(null==q||q>l.length)q=l.length;for(var r=0,b=Array(q);r<q;r++)b[r]=l[r];return b}function c(l,q){v.default.call(this,l);this.layers=[];this.expanded=!0;this.blendMode=q}function e(l,q){return l+q}Object.defineProperty(C,"__esModule",{value:!0});C.default=c;var v=w(h("./CPLayer.js")),a=w(h("../util/CPRect.js"));
c.prototype=Object.create(v.default.prototype);c.prototype.constructor=c;c.prototype.getLinearizedLayerList=function(l,q){q=q||[];var r=k(this.layers),b;try{for(r.s();!(b=r.n()).done;){var d=b.value;d instanceof c&&(d.expanded||!l)&&d.getLinearizedLayerList(l,q);q.push(d)}}catch(g){r.e(g)}finally{r.f()}return q};c.prototype.clearLayers=function(){this.layers=[]};c.prototype.addLayer=function(l){l.parent=this;this.layers.push(l)};c.prototype.insertLayer=function(l,q){q.parent=this;this.layers.splice(l,
0,q)};c.prototype.removeLayer=function(l){l=this.layers.indexOf(l);-1<l&&this.layers.splice(l,1)};c.prototype.removeLayerAtIndex=function(l){var q=this.layers[l];q&&this.layers.splice(l,1);return q};c.prototype.setLayerAtIndex=function(l,q){var r=this.layers[l];q.parent=this;this.layers[l]=q;return r};c.prototype.setExpanded=function(l){this.expanded=l};c.prototype.getExpanded=function(){return this.expanded};c.prototype.indexOf=function(l){return this.layers.indexOf(l)};c.prototype.getMemoryUsed=
function(){return this.layers.map(function(l){return l.getMemoryUsed()}).reduce(e,0)};c.prototype.clone=function(){var l=new c(this.name,this.blendMode);v.default.prototype.copyFrom.call(l,this);l.expanded=this.expanded;l.layers=this.layers.map(function(q){return q.clone()});l.layers.forEach(function(q){return q.parent=l});return l};c.prototype.getNonTransparentBounds=function(l){var q=new a.default(0,0,0,0);this.layers.forEach(function(r){return q.union(r.getNonTransparentBounds(l))});return q};
K.exports=C.default},{"../util/CPRect.js":63,"./CPLayer.js":16}],18:[function(h,K,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(){this.table=new Uint8Array(256);this.loadIdentity=function(){for(var w=0;256>w;w++)this.table[w]=w};this.loadBrightnessContrast=function(w,k){k=0<k?1/(1.0001-k):1+k;w=.5-.5*k+w;for(var u=0;256>u;u++)this.table[u]=Math.min(255,Math.max(~~(255*(u/255*k+w)),0))};this.invert=function(){for(var w=0;256>w;w++)this.table[w]=255-this.table[w]}};K.exports=
C.default},{}],19:[function(h,K,C){function w(b){"@babel/helpers - typeof";return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},w(b)}function k(b){return b&&b.__esModule?b:{default:b}}function u(b,d){for(var g=0;g<d.length;g++){var m=d[g];m.enumerable=m.enumerable||!1;m.configurable=!0;"value"in m&&(m.writable=!0);var f=Object,n=f.defineProperty;
a:{var t=m.key;if("object"===w(t)&&null!==t){var y=t[Symbol.toPrimitive];if(void 0!==y){t=y.call(t,"string");if("object"!==w(t))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}t=String(t)}}t="symbol"===w(t)?t:String(t);n.call(f,b,t,m)}}function E(b,d,g){d&&u(b.prototype,d);g&&u(b,g);Object.defineProperty(b,"prototype",{writable:!1});return b}function c(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");b.prototype=
Object.create(d&&d.prototype,{constructor:{value:b,writable:!0,configurable:!0}});Object.defineProperty(b,"prototype",{writable:!1});d&&e(b,d)}function e(b,d){e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,m){g.__proto__=m;return g};return e(b,d)}function v(b){var d=a();return function(){var g=l(b);if(d){var m=l(this).constructor;g=Reflect.construct(g,arguments,m)}else g=g.apply(this,arguments);if(!g||"object"!==w(g)&&"function"!==typeof g){if(void 0!==g)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=this}return g}}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(b){return!1}}function l(b){l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)};return l(b)}
Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;var q=k(h("../util/CPRect.js")),r=k(h("./CPColorBmp.js"));k(h("./CPGreyBmp.js"));h=k(h("wolfy87-eventemitter"));C.default=function(b){function d(m,f){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var n=g.call(this);n.layer=m;n.buffer=m.mask.getImageData(0,0,m.mask.width,m.mask.height);n.invalidRect=new q.default(0,0,0,0);n.prepareMask=f;return n}c(d,b);var g=v(d);E(d,[{key:"close",value:function(){this.layer=
this.buffer=null;this.emitEvent("changeLayer")}},{key:"setLayer",value:function(m){this.layer=m;this.invalidRect=m.getBounds();this.emitEvent("changeLayer")}},{key:"isOpen",value:function(){return null!=this.layer}},{key:"invalidateRect",value:function(m){this.invalidRect.union(m)}},{key:"getImageData",value:function(){this.prepareMask();if(!this.invalidRect.isEmpty()&&this.layer&&this.layer.mask){var m=this.buffer,f=this.layer.mask,n=this.invalidRect,t=n.top*f.width+n.left,y=t*r.default.BYTES_PER_PIXEL,
B=n.getWidth();n=n.getHeight();for(var z=f.width-B,H=z*r.default.BYTES_PER_PIXEL,N=0;N<n;N++,t+=z,y+=H)for(var x=0;x<B;x++,t++,y+=r.default.BYTES_PER_PIXEL)m.data[y+r.default.RED_BYTE_OFFSET]=f.data[t],m.data[y+r.default.GREEN_BYTE_OFFSET]=f.data[t],m.data[y+r.default.BLUE_BYTE_OFFSET]=f.data[t],m.data[y+r.default.ALPHA_BYTE_OFFSET]=255;this.invalidRect.makeEmpty()}return this.buffer}}]);return d}(h.default);K.exports=C.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"wolfy87-eventemitter":316}],
20:[function(h,K,C){function w(a){return a&&a.__esModule?a:{default:a}}function k(a){function l(g,m){switch(g.name){case "flat":return new Promise(function(f,n){var t=new Blob([m],{type:"image/png"}),y=window.URL.createObjectURL(t);if(y){var B=new Image;B.onload=function(){var z=new E.default(this.width,this.height),H=new e.default(0,0,"Layer 1");H.image=c.default.createFromImage(B);z.addLayerObject(z.getLayersRoot(),H);B=null;window.URL.revokeObjectURL(y);f(z)};B.src=y}else n(null)});case "swatches":return(g=
(new v.default).read(m))?Promise.resolve(g):Promise.reject(null);case "layers":return(0,u.load)(m);default:return Promise.reject("Unexpected resource type '"+g.name+"'")}}function q(g,m){null===m?d.emitEvent("loadingProgress",[1,"Loading your "+g.friendly+"..."]):d.emitEvent("loadingProgress",[m,"Loading your "+g.friendly+" ("+Math.round(100*m)+"%)..."])}var r=[],b={},d=this;a.loadChibiFileUrl&&0<(""+a.loadChibiFileUrl).length?r.push({url:a.loadChibiFileUrl,friendly:"drawing layers",name:"layers",
required:!0}):a.loadImageUrl&&0<(""+a.loadImageUrl).length&&r.push({url:a.loadImageUrl,friendly:"drawing",name:"flat",required:!0});a.loadSwatchesUrl&&r.push({url:a.loadSwatchesUrl,friendly:"color swatches",name:"swatches",required:!1,noProgress:!0});this.load=function(){function g(){m.required?d.emitEvent("loadingFailure",["Failed to load your "+m.friendly+", please try again later."]):d.load()}if(0==r.length)d.emitEvent("loadingComplete",[b]);else{var m=r.shift(),f=new XMLHttpRequest;f.addEventListener("progress",
function(n){q(m,n.lengthComputable&&!m.noProgress?n.loaded/n.total:null)},!1);f.addEventListener("load",function(n){if(200==this.status){var t=this.response;d.emitEvent("loadingProgress",[1,"Starting ChickenPaint..."]);setTimeout(function(){l(m,t).then(function(y){b[m.name]=y;d.load()},function(){d.emitEvent("loadingFailure",["Failed to read your "+m.friendly])})},0)}else g()},!1);f.addEventListener("error",g);q(m,m.noProgress?null:0);f.open("GET",m.url,!0);f.responseType="arraybuffer";f.send()}}}
Object.defineProperty(C,"__esModule",{value:!0});C.default=k;var u=h("../../js/engine/CPChibiFile.js"),E=w(h("./CPArtwork.js")),c=w(h("./CPColorBmp.js")),e=w(h("./CPImageLayer.js")),v=w(h("../util/AdobeColorTable.js"));h=w(h("wolfy87-eventemitter"));k.prototype=Object.create(h.default.prototype);k.prototype.constructor=k;K.exports=C.default},{"../../js/engine/CPChibiFile.js":11,"../util/AdobeColorTable.js":55,"./CPArtwork.js":3,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"wolfy87-eventemitter":316}],
21:[function(h,K,C){function w(a){return a&&a.__esModule?a:{default:a}}function k(a){for(var l=new Uint8Array(a.length),q=0;q<a.length;q++)l[q]=a.charCodeAt(q);return l}function u(a){function l(d){null===d?r.emitEvent("savingProgress",[1,(0,v._)("Saving drawing...")]):r.emitEvent("savingProgress",[d,(0,v._)("Saving drawing...")+" ("+Math.round(100*d)+"%)"])}function q(d){d={method:"POST",mode:"same-origin",headers:{"X-Requested-With":"chickenpaint"},body:d};l(.5);fetch(a.url,d).then(function(g){if(!g.ok)throw Error("Network response was not ok (".concat(g.status,
")"));return g.text()}).then(function(g){/^CHIBIOK/.test(g)?(l(1),r.emitEvent("savingComplete")):r.emitEvent("savingFailure",[g])}).catch(function(g){r.emitEvent("savingFailure",[g.message])})}var r=this,b=!1;a.rotation=a.rotation||0;this.save=function(){var d;var g=k(a.artwork.getFlatPNG(a.rotation));var m=new Blob([g],{type:"image/png"});g=null;(a.artwork.isSimpleDrawing()?Promise.resolve(null):(0,E.save)(a.artwork)).then(function(f){if(b)r.emitEvent("savingFailure");else{if(a.swatches){var n=new c.default;
d=new Blob([n.write(a.swatches)],{type:"application/octet-stream"})}else d=null;a.url?(n=new FormData,n.append("beginMarker","This marker ensures the upload wasn't truncated"),n.append("painter","ChickenPaint v2.0"),n.append("picture",m),m=null,f?(n.append("chibifileFormat",f.version),n.append("chibifile",f.bytes),n.append("rotation",""+a.rotation)):n.append("rotation","0"),d&&(n.append("swatches",d),d=null),n.append("endMarker","This marker ensures the upload wasn't truncated"),q(n)):(e.default.saveAs(m,
"oekaki.png"),f&&e.default.saveAs(f.bytes,"oekaki.chi"),d&&e.default.saveAs(d,"oekaki.aco"))}}).catch(function(f){r.emitEvent("savingFailure")})};this.cancel=function(){b=!0}}Object.defineProperty(C,"__esModule",{value:!0});C.binaryStringToByteArray=k;C.default=u;var E=h("../../js/engine/CPChibiFile.js"),c=w(h("../util/AdobeColorTable.js"));K=w(h("wolfy87-eventemitter"));var e=w(h("file-saver")),v=h("../languages/lang.js");u.prototype=Object.create(K.default.prototype);u.prototype.constructor=u},
{"../../js/engine/CPChibiFile.js":11,"../languages/lang.js":54,"../util/AdobeColorTable.js":55,"file-saver":296,"wolfy87-eventemitter":316}],22:[function(h,K,C){function w(E){"@babel/helpers - typeof";return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},w(E)}function k(E,c){for(var e=0;e<c.length;e++){var v=c[e];v.enumerable=v.enumerable||!1;
v.configurable=!0;"value"in v&&(v.writable=!0);var a=Object,l=a.defineProperty;a:{var q=v.key;if("object"===w(q)&&null!==q){var r=q[Symbol.toPrimitive];if(void 0!==r){q=r.call(q,"string");if("object"!==w(q))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}q=String(q)}}q="symbol"===w(q)?q:String(q);l.call(a,E,q,v)}}function u(E,c,e){c&&k(E.prototype,c);e&&k(E,e);Object.defineProperty(E,"prototype",{writable:!1});return E}Object.defineProperty(C,"__esModule",{value:!0});
C.default=void 0;C.default=function(){function E(){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");}u(E,[{key:"merge",value:function(c){return!1}},{key:"noChange",value:function(){return!1}},{key:"getMemoryUsed",value:function(c,e){return 0}},{key:"compact",value:function(){}}]);return E}();K.exports=C.default},{}],23:[function(h,K,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(k){var u=(0,w.default)('<div class="modal fade chickenpaint-about-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">About ChickenPaint v2</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <a class="chickenpaint-on-github" target="_blank" href="https://github.com/thenickdude/chickenpaint"><span class="fab fa-github"></span> ChickenPaint on GitHub</a>\n                            \n                            <p>\n                                ChickenPaint is a translation of <a href="https://github.com/thenickdude/chibipaint" target="_blank">ChibiPaint</a>\n                                from Java to JavaScript by Nicholas Sherlock / Chicken Smoothie\n                            </p>\n                            <p>\n                                ChibiPaint is Copyright (c) 2006-2008 Marc Schefer. All Rights Reserved\n                            </p>\n                            <p>\n                                ChickenPaint is free software: you can redistribute it and/or modify\n                                it under the terms of the GNU General Public License as published by\n                                the Free Software Foundation, either version 3 of the License, or\n                                (at your option) any later version.\n                            </p>\n        \n                            <p>\n                                ChickenPaint is distributed in the hope that it will be useful,\n                                but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                <a target="_blank" href="https://www.gnu.org/licenses/">GNU General Public License</a> for more details.\n                            </p>\n        \n                            <pre class="pre-scrollable chickenpaint-third-party-licenses">Toolbar icons designed by <a target="_blank" href="https://github.com/Anteira">Miglena Lapavicheva (Anteira)</a>\n    These icons are dual-licensed under <a target="_blank" href="https://spdx.org/licenses/GPL-3.0-or-later.html">GPL-3.0-or-later</a> and <a target="_blank" href="https://creativecommons.org/licenses/by/3.0/">CC-BY-3.0</a>\n\nIncludes icons from the <a target="_blank" href="https://extensions.libreoffice.org/en/extensions/show/tango-icon-theme-for-libreoffice">Tango Icon Theme for LibreOffice</a>:\n    All artwork is licensed under the Creative Commons Attribution-Share Alike 3.0\n    United States License. To view a copy of this licence, visit\n    https://creativecommons.org/licenses/by-sa/3.0/ or send a letter to Creative\n    Commons, 171 Second Street, Suite 300, San Francisco, California 94105, USA.\n    \n    Credit for icons imported from git://git.gnome.org/gnome-icon-theme or derivatives\n    of these goes to the GNOME project (https://www.gnome.org)\n    Derivatives and new icons were created by Alexander Wilms &lt;f.alexander.wilms@gmail.com> \n    and Miroslav Mazel &lt;mazelm@gmail.com>\n    \nIncludes these MIT-licensed libraries:\n\n    Includes the <a target="_blank" href="https://github.com/eligrey/FileSaver.js">FileSaver.js library</a>\n    FileSaver.js Copyright \u00a9 2015 <a target="_blank" href="https://eligrey.com/">Eli Grey</a>\n\n    Includes the <a target="_blank" href="https://github.com/nodeca/pako">Pako zlib compression library</a>\n    Copyright (C) 2014-2015 by Vitaly Puzrin\n    \n    Includes the <a target="_blank" href="https://github.com/madrobby/keymaster">keymaster.js</a> keyboard library\n    Copyright (c) 2011-2013 Thomas Fuchs\n\n    Includes the <a target="_blank" href="https://github.com/stefanpenner/es6-promise">es6-promise</a> library\n    Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n\n    Includes the <a target="_blank" href="https://benalman.com/projects/jquery-throttle-debounce-plugin/">jQuery throttle-debounce</a> library\n    Copyright (c) 2010 "Cowboy" Ben Alman\n\n    Permission is hereby granted, free of charge, to any person\n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use,\n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://www.jquery.com/" target="_blank">jQuery library</a> \nCopyright <a href="https://jquery.org/" target="_blank">jQuery Foundation and other contributors</a>\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/jquery\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n    \n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://github.com/jquery/PEP/" target="_blank">jQuery PEP library</a>\nCopyright jQuery Foundation and other contributors, https://jquery.org/\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/PEP\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation \n    files (the "Software"), to deal in the Software without \n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or \n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following \n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND \n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, \n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING \n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR \n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes Font Awesome by Dave Gandy - <a href="https://fontawesome.io" target="_blank">https://fontawesome.io</a>\n                    </pre>\n                </div>\n            </div>\n        </div>\n    ');
u.on("hidden.bs.modal",function(E){u.remove()});u.modal({show:!1});u.data("bs.modal").$body=(0,w.default)(k);k.appendChild(u[0]);this.show=function(){u.modal("show")}};var w=function(k){return k&&k.__esModule?k:{default:k}}(h("jquery"));K.exports=C.default},{jquery:297}],24:[function(h,K,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(u,E){var c=(0,w.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,k._)("Box blur"),
'</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Blur amount (pixels)"),'</label>\n                                    <input type="text" class="form-control chickenpaint-blur-amount" value="3">\n                                </div>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Iterations (1-8, larger gives smoother blur)"),
'</label>\n                                    <input type="text" class="form-control chickenpaint-blur-iterations" value="1">\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-dismiss="modal">').concat((0,k._)("Cancel"),'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-box-blur" data-dismiss="modal">').concat((0,k._)("Ok"),
"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),e=(0,w.default)(".chickenpaint-blur-amount",c),v=(0,w.default)(".chickenpaint-blur-iterations",c),a=(0,w.default)(".chickenpaint-apply-box-blur",c);this.show=function(){c.modal("show")};a.on("click",function(l){l=Math.max(parseInt(e.val(),10),1);var q=Math.min(Math.max(parseInt(v.val(),10),1),8);E.getArtwork().boxBlur(l,l,q)});c.modal({show:!1}).on("shown.bs.modal",function(){e.trigger("focus")}).on("keypress",
function(l){"Enter"===l.key&&a.trigger("click")});c.data("bs.modal").$body=(0,w.default)(u);u.appendChild(c[0])};var w=function(u){return u&&u.__esModule?u:{default:u}}(h("jquery")),k=h("../languages/lang.js");K.exports=C.default},{"../languages/lang.js":54,jquery:297}],25:[function(h,K,C){function w(z){return z&&z.__esModule?z:{default:z}}function k(z,H){var N=document.createElement("div");N.className="chickenpaint-checkbox-slider-group";N.appendChild(z.getElement());N.appendChild(H.getElement());
return N}function u(z,H){for(var N in H)if(H.hasOwnProperty(N)){var x=document.createElement("option");x.appendChild(document.createTextNode((0,B._)(H[N])));x.value=N;z.appendChild(x)}}function E(z){function H(){G.gradient(G.getBounds(),0,0,G.width,0,R,!0);M.putImageData(G.imageData,0,0,0,0,150,32);x.fillRect(0,0,N.width,N.height);x.drawImage(I,0,0)}var N=document.createElement("canvas"),x=N.getContext("2d"),F=(0,g.createCheckerboardPattern)(x),G=new m.default(150,32),I=document.createElement("canvas"),
M=I.getContext("2d"),R=z.getCurGradient();this.getElement=function(){return N};z.on("gradientChange",function(ha){R=ha;H()});N.width=I.width=150;N.height=I.height=32;N.className="chickenpaint-gradient-preview";x.fillStyle=F;H()}function c(z){q.default.call(this,z,"brush","Tool options");var H=new e(z),N=new v(z),x=new a(z),F=this.getBodyElement();F.appendChild(H.getElement());F.appendChild(N.getElement());F.appendChild(x.getElement());z.on("modeChange",function(G){H.getElement().style.display="none";
N.getElement().style.display="none";x.getElement().style.display="none";switch(G){case l.default.M_GRADIENTFILL:N.getElement().style.display="block";break;case l.default.M_TRANSFORM:x.getElement().style.display="block";break;default:H.getElement().style.display="block"}})}function e(z){var H=[1,2,3,4,5,6,7,8,9,10,15,20,25,30,35,40,45,50,60,70,80,90,100,125,150,175,200],N=document.createElement("div"),x=document.createElement("select"),F=new r.default(!1,(0,B._)("Control brush opacity with pen pressure")),
G=new d.default(1,255),I=new r.default(!0,(0,B._)("Control brush size with pen pressure")),M=new d.default(1,200,!1,!0),R=new r.default(!1,(0,B._)("Control brush scattering with pen pressure")),ha=new d.default(0,1E3,!1,!0),ca=new d.default(0,100,!1,!0),sa=new d.default(0,100,!1,!0),na=new d.default(0,100,!1,!0),Q=new d.default(0,100,!1,!0),oa=new c.CPBrushPreview(z);this.getElement=function(){return N};G.title=function(ia){return(0,B._)("Opacity")+": "+ia};G.on("valueChange",function(ia){z.setAlpha(ia)});
M.title=function(ia){return(0,B._)("Brush size")+": "+ia};M.on("valueChange",function(ia){z.setBrushSize(ia)});ca.title=function(ia){return(0,B._)("Color")+": "+ia+"%"};ca.on("valueChange",function(ia){z.getBrushInfo().resat=ia/100;z.callToolListeners()});sa.title=function(ia){return(0,B._)("Blend")+": "+ia+"%"};sa.on("valueChange",function(ia){z.getBrushInfo().bleed=ia/100;z.callToolListeners()});na.title=function(ia){return(0,B._)("Spacing")+": "+ia+"%"};na.on("valueChange",function(ia){z.getBrushInfo().spacing=
ia/100;z.callToolListeners()});ha.title=function(ia){return(0,B._)("Scattering")+": "+ia+"%"};ha.on("valueChange",function(ia){z.getBrushInfo().scattering=ia/100;z.callToolListeners()});Q.title=function(ia){return(0,B._)("Smoothing")+": "+ia+"%"};Q.on("valueChange",function(ia){z.getBrushInfo().smoothing=ia/100;z.callToolListeners()});R.on("valueChange",function(ia){z.getBrushInfo().pressureScattering=ia;z.callToolListeners()});F.on("valueChange",function(ia){z.getBrushInfo().pressureAlpha=ia;z.callToolListeners()});
I.on("valueChange",function(ia){z.getBrushInfo().pressureSize=ia;z.callToolListeners()});x.addEventListener("change",function(ia){z.getBrushInfo().tip=parseInt(x.value,10)});x.className="form-control form-control-sm";u(x,["Round Pixelated","Round Hard Edge","Round Soft","Square Pixelated","Square Hard Edge"]);N.appendChild(x);N.appendChild(oa.getElement());N.appendChild(k(I,M));N.appendChild(k(F,G));N.appendChild(ca.getElement());N.appendChild(sa.getElement());N.appendChild(na.getElement());N.appendChild(k(R,
ha));N.appendChild(Q.getElement());F.setValue(z.getBrushInfo().pressureAlpha);G.setValue(z.getAlpha());I.setValue(z.getBrushInfo().pressureSize);M.setValue(z.getBrushSize());R.setValue(z.getBrushInfo().pressureScattering);ha.setValue(~~(100*z.getBrushInfo().scattering));x.value=z.getBrushInfo().tip;ca.setValue(~~(100*z.getBrushInfo().resat));sa.setValue(~~(100*z.getBrushInfo().bleed));na.setValue(~~(100*z.getBrushInfo().spacing));Q.setValue(~~(100*z.getBrushInfo().smoothing));z.on("toolChange",function(ia,
ya){G.setValue(ya.alpha);M.setValue(ya.size);I.setValue(ya.pressureSize);F.setValue(ya.pressureAlpha);x.value=ya.tip;R.setValue(ya.pressureScattering);~~(100*ya.resat)!=ca.value&&ca.setValue(~~(100*ya.resat));~~(100*ya.bleed)!=sa.value&&sa.setValue(~~(100*ya.bleed));~~(100*ya.spacing)!=na.value&&na.setValue(~~(100*ya.spacing));~~(100*ya.scattering)!=ha.value&&ha.setValue(~~(100*ya.scattering));~~(100*ya.smoothing)!=Q.value&&Q.setValue(~~(100*ya.smoothing))});(0,y.default)("1,2,3,4,5,6,7,8,9,0",function(ia,
ya){ia=parseInt(ya.shortcut,10);0==ia&&(ia=10);z.setAlpha(Math.round(ia/10*255))});(0,y.default)("{,[",function(){for(var ia=z.getBrushSize(),ya=H.length-1;0<=ya;ya--)if(ia>H[ya]){z.setBrushSize(H[ya]);break}});(0,y.default)("},]",function(){for(var ia=z.getBrushSize(),ya=0;ya<H.length;ya++)if(ia<H[ya]){z.setBrushSize(H[ya]);break}})}function v(z){function H(){var M=[F.getAlpha()<<24|F.getColorRgb(),G.getAlpha()<<24|G.getColorRgb()];z.setCurGradient(M)}var N=document.createElement("div"),x=new E(z),
F=new b.default(new f.default(z.getCurGradient()[0]&16777215),z.getCurGradient()[0]>>>24,N),G=new b.default(new f.default(z.getCurGradient()[1]&16777215),z.getCurGradient()[1]>>>24,N);this.getElement=function(){return N};N.className="chickenpaint-gradient-panel";N.style.display="none";F.on("colorChange",H);F.on("alphaChange",H);G.on("colorChange",H);G.on("alphaChange",H);var I=document.createElement("p");I.innerHTML="Gradient";N.appendChild(I);N.appendChild(x.getElement());x=document.createElement("div");
x.className="chickenpaint-gradient-colors";I=document.createElement("div");I.className="chickenpaint-gradient-start-color";I.appendChild(F.getElement());x.appendChild(I);I=document.createElement("div");I.className="chickenpaint-gradient-end-color";I.appendChild(G.getElement());x.appendChild(I);N.appendChild(x)}function a(z){var H=document.createElement("div"),N=document.createElement("button"),x=document.createElement("button"),F=document.createElement("select");this.getElement=function(){return H};
H.className="chickenpaint-transform-panel";H.style.display="none";N.type="button";x.type="button";N.className="btn btn-primary btn-block";x.className="btn btn-light btn-block";N.innerHTML="Apply transform";x.innerHTML="Cancel";F.addEventListener("change",function(M){z.setTransformInterpolation(this.value)});F.className="form-control chickenpaint-transform-interpolation";u(F,{smooth:"Smooth",sharp:"Sharp"});if((0,n.isCanvasInterpolationSupported)()){var G=document.createElement("div"),I=document.createElement("label");
I.innerHTML="Transform style";G.className="form-group";G.appendChild(I);G.appendChild(F);H.appendChild(G)}F=document.createElement("div");F.appendChild(N);F.appendChild(x);F.className="form-group";H.appendChild(F);N.addEventListener("click",function(M){z.actionPerformed({action:"CPTransformAccept"});M.preventDefault()});x.addEventListener("click",function(M){z.actionPerformed({action:"CPTransformReject"});M.preventDefault()})}Object.defineProperty(C,"__esModule",{value:!0});C.default=c;var l=w(h("../ChickenPaint.js")),
q=w(h("./CPPalette.js")),r=w(h("./CPCheckbox.js")),b=w(h("./CPColorSwatch.js")),d=w(h("./CPSlider.js")),g=h("./CPGUIUtils.js"),m=w(h("../engine/CPColorBmp.js")),f=w(h("../util/CPColor.js")),n=h("../util/CPPolyfill.js"),t=w(h("jquery")),y=w(h("../../lib/keymaster.js")),B=h("../languages/lang");c.prototype=Object.create(q.default.prototype);c.prototype.constructor=c;c.CPBrushPreview=function(z){function H(){I.clearRect(0,0,G.width,G.height);I.beginPath();I.arc(G.width/2,G.height/2,F/2*window.devicePixelRatio,
0,2*Math.PI);I.stroke()}function N(R){var ha=(0,t.default)(G).offset(),ca=R.pageY-ha.top;R=R.pageX-ha.left-(0,t.default)(G).width()/2;ca-=(0,t.default)(G).height()/2;F=Math.max(1,Math.min(200,Math.round(2*Math.sqrt(R*R+ca*ca))));H();z.setBrushSize(F)}function x(R){M&&(M=!1,window.removeEventListener("mouseup",x),window.removeEventListener("mousemove",N))}var F=16,G=document.createElement("canvas"),I=G.getContext("2d"),M=!1;this.getElement=function(){return G};G.addEventListener("mousedown",function(R){M||
(M=!0,window.addEventListener("mouseup",x),window.addEventListener("mousemove",N),N(R))});z.on("toolChange",function(R,ha){ha.size!=F&&(F=ha.size,H())});G.width=64;G.height=64;1<window.devicePixelRatio&&(G.style.width=G.width+"px",G.style.height=G.height+"px",G.width*=window.devicePixelRatio,G.height*=window.devicePixelRatio);G.className="chickenpaint-brush-preview";I.strokeStyle="black";I.lineWidth=1*window.devicePixelRatio;H()};K.exports=C.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,
"../engine/CPColorBmp.js":13,"../languages/lang":54,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"./CPCheckbox.js":27,"./CPColorSwatch.js":31,"./CPGUIUtils.js":33,"./CPPalette.js":39,"./CPSlider.js":44,jquery:297}],26:[function(h,K,C){function w(I){return I&&I.__esModule?I:{default:I}}function k(){this.modes=[]}function u(I){function M(){}function R(){}function ha(){this.shouldPaintBrushPreview=!1;this.oldPreviewRect=null}function ca(){ha.call(this);this.smoothMouse={x:0,y:0}}function sa(){var fa,
Ka;this.mouseDown=function(Ra,eb,ib){if(!this.capture&&0==eb&&!Ra.altKey&&!e.default.isPressed("space")&&S())return this.capture=!0,fa=Ka={x:Sa+.5,y:ob+.5},this.eraseBrushPreview(),!0};this.mouseDrag=function(Ra){if(this.capture){var eb=new v.default(Math.min(fa.x,Ka.x)-1-1,Math.min(fa.y,Ka.y)-1-1,Math.max(fa.x,Ka.x)+1+1+1,Math.max(fa.y,Ka.y)+1+1+1);Ka={x:Sa+.5,y:ob+.5};if(Ra.shiftKey){var ib=Math.PI/4;Ra=Math.round(Math.atan2(Ka.y-fa.y,Ka.x-fa.x)/ib);switch(Ra){case 0:case 4:Ka.y=fa.y;break;case 2:case 6:Ka.x=
fa.x;break;default:Ra*=ib,ib=Math.sqrt((Ka.y-fa.y)*(Ka.y-fa.y)+(Ka.x-fa.x)*(Ka.x-fa.x)),Ka.x=fa.x+ib*Math.cos(Ra),Ka.y=fa.y+ib*Math.sin(Ra)}}eb.union(new v.default(Math.min(fa.x,Ka.x)-1-1,Math.min(fa.y,Ka.y)-1-1,Math.max(fa.x,Ka.x)+1+1+1,Math.max(fa.y,Ka.y)+1+1+1));ua(eb);return!0}this.mouseMove.call(this,Ra)};this.mouseUp=function(Ra,eb,ib){if(this.capture&&0==eb)return Ra=Ha(fa),eb=Ha(Ka),this.capture=!1,this.drawLine(Ra,eb),Ra=new v.default(Math.min(fa.x,Ka.x)-1-1,Math.min(fa.y,Ka.y)-1-1,Math.max(fa.x,
Ka.x)+1+1+1,Math.max(fa.y,Ka.y)+1+1+1),ua(Ra),!0};this.paint=function(){this.capture?(J.lineWidth=1,J.beginPath(),J.moveTo(fa.x,fa.y),J.lineTo(Ka.x,Ka.y),J.stroke()):ha.prototype.paint.call(this)};ha.call(this)}function na(){var fa=0,Ka,Ra,eb,ib;this.mouseDown=function(hb,V,pa){if(!this.capture&&0==V&&!hb.altKey&&!e.default.isPressed("space")&&S())return hb=Ha({x:Sa,y:ob}),fa=0,Ka=Ra=eb=ib=hb,this.capture=!0,this.eraseBrushPreview(),!0};this.mouseDrag=function(hb){if(this.capture&&0===fa)return eb=
ib=Ha({x:Sa,y:ob}),Fa.repaintAll(),!0;this.mouseMove.call(this,hb)};this.mouseUp=function(hb,V,pa){if(this.capture&&0==V){switch(fa){case 0:fa=1;break;case 1:fa=2;break;case 2:this.capture=!1;V=Ka;pa=Ra;var La=eb,ja=ib;hb=new q.default;hb.x0=V.x;hb.y0=V.y;hb.x1=pa.x;hb.y1=pa.y;hb.x2=La.x;hb.y2=La.y;hb.x3=ja.x;hb.y3=ja.y;V=Array(500);pa=Array(500);hb.compute(V,pa,500);Ua.beginStroke(V[0],pa[0],1);for(hb=1;500>hb;hb++)Ua.continueStroke(V[hb],pa[hb],1);Ua.endStroke();Fa.repaintAll()}return!0}};this.mouseMove=
function(hb,V){if(this.capture)return hb=Ha({x:Sa,y:ob}),1==fa?Ra=hb:2==fa&&(eb=hb),Fa.repaintAll(),!0;ha.prototype.mouseMove.call(this,hb,V)};this.paint=function(){if(this.capture){var hb=new q.default,V=tb(Ka),pa=tb(Ra),La=tb(eb),ja=tb(ib);hb.x0=V.x;hb.y0=V.y;hb.x1=pa.x;hb.y1=pa.y;hb.x2=La.x;hb.y2=La.y;hb.x3=ja.x;hb.y3=ja.y;var Da=Array(100),Oa=Array(100);hb.compute(Da,Oa,100);J.beginPath();J.moveTo(Da[0],Oa[0]);for(hb=1;100>hb;hb++)J.lineTo(Da[hb],Oa[hb]);J.moveTo(~~V.x,~~V.y);J.lineTo(~~pa.x,
~~pa.y);J.moveTo(~~La.x,~~La.y);J.lineTo(~~ja.x,~~ja.y);J.stroke()}else ha.prototype.paint.call(this)};ha.call(this)}function Q(){var fa;this.mouseDown=function(Ka,Ra,eb){if(this.capture)return!0;if(e.default.isPressed("space")||(0!=Ra||this.transient&&!Ka.altKey)&&2!=Ra)this.transient&&lb.pop();else return fa=Ra,this.capture=!0,$a("crosshair"),this.mouseDrag(Ka),!0};this.mouseDrag=function(Ka){if(this.capture)return Ka=Ha({x:Sa,y:ob}),Ua.isPointWithin(Ka.x,Ka.y)&&I.setCurColor(new B.default(Ua.colorPicker(Ka.x,
Ka.y))),!0};this.mouseUp=function(Ka,Ra,eb){if(this.capture&&Ra==fa)return fa=-1,this.capture=!1,$a("default"),this.transient&&lb.pop(),!0};this.enter=function(){M.prototype.enter.call(this);fa=-1}}function oa(){var fa,Ka,Ra,eb;this.keyDown=function(ib){if(" "===ib.key)return this.capture||$a("grab"),!0};this.keyUp=function(ib){if(this.transient&&1!=eb&&" "===ib.key)return $a("default"),lb.pop(),!0};this.mouseDown=function(ib,hb,V){if(this.capture)return!0;if(1==hb||e.default.isPressed("space")&&
0==hb||!this.transient&&0==hb)return this.capture=!0,eb=hb,fa=ib.pageX,Ka=ib.pageY,Ra=Fa.getOffset(),$a("grabbing"),!0;this.transient&&lb.pop()};this.mouseDrag=function(ib){if(this.capture)return Fa.setOffset(Ra.x+ib.pageX-fa,Ra.y+ib.pageY-Ka),!0};this.mouseUp=function(ib,hb,V){if(this.capture&&hb==eb)return eb=-1,this.capture=!1,this.transient&&!e.default.isPressed("space")&&($a("default"),lb.pop()),!0};this.enter=function(){$a("grab")}}function ia(){}function ya(){var fa,Ka=new v.default(0,0,0,
0),Ra=-1;this.mouseDown=function(eb,ib,hb){if(!this.capture&&0==ib&&!eb.altKey&&!e.default.isPressed("space"))return eb=Xa({x:Sa,y:ob}),Ra=ib,Ka.makeEmpty(),fa=eb,Fa.repaintAll(),this.capture=!0};this.mouseDrag=function(eb){if(!this.capture)return!1;var ib=Xa({x:Sa,y:ob});eb=eb.shiftKey;var hb=~~Math.max(Math.abs(ib.x-fa.x),Math.abs(ib.y-fa.y));ib.x>=fa.x?(Ka.left=fa.x,Ka.right=(eb?fa.x+hb:ib.x)+1):(Ka.left=eb?fa.x-hb:ib.x,Ka.right=fa.x+1);ib.y>=fa.y?(Ka.top=fa.y,Ka.bottom=(eb?fa.y+hb:ib.y)+1):(Ka.top=
eb?fa.y-hb:ib.y,Ka.bottom=fa.y+1);Fa.repaintAll();return!0};this.mouseUp=function(eb,ib,hb){if(this.capture&&ib==Ra)return Ua.rectangleSelection(Ka),Ka.makeEmpty(),Fa.repaintAll(),this.capture=!1,Ra=-1,!0};this.paint=function(){Ka.isEmpty()||(J.lineWidth=1,Na(J,ra(Ka)))}}function ta(){var fa,Ka,Ra=!1;this.mouseDown=function(eb,ib,hb){if(!this.capture&&0==ib&&!e.default.isPressed("space")&&gb())return fa=Ha({x:Sa,y:ob}),Ka=eb.altKey,this.capture=Ra=!0};this.mouseDrag=(0,r.throttle)(25,function(eb){if(this.capture){eb=
Ha({x:Sa,y:ob});var ib=eb.x-fa.x,hb=eb.y-fa.y,V=~~ib,pa=~~hb;if(0!=V||0!=pa)Ua.move(V,pa,Ka&&Ra),Ra=!1;fa.x=eb.x-(ib-V);fa.y=eb.y-(hb-pa);return!0}});this.mouseUp=function(eb,ib,hb){if(this.capture&&0==ib)return this.capture=!1,this.transient&&lb.pop(),!0}}function Ga(){function fa(Ia,Wa){return{x:(Ia.x+Wa.x)/2,y:(Ia.y+Wa.y)/2}}function Ka(Ia){return{x:Math.round(Ia.x),y:Math.round(Ia.y)}}function Ra(Ia,Wa){for(var Za=0;Za<Ia.points.length;Za++)if(49>=(Wa.x-Ia.points[Za].x)*(Wa.x-Ia.points[Za].x)+
(Wa.y-Ia.points[Za].y)*(Wa.y-Ia.points[Za].y))return 2*Za;for(Za=0;Za<Ia.points.length;Za++){var nb=Ia.points[Za],pb=Ia.points[(Za+1)%Ia.points.length];pb=new g.default(pb.x-nb.x,pb.y-nb.y);nb=new g.default(Wa.x-nb.x,Wa.y-nb.y);var ac=pb.getLength(),zb=pb.getScaled(1/ac);ac=nb.getScaled(1/ac);zb=zb.getDotProduct(ac);if(0<=zb&&1>=zb&&(pb.scale(zb),49>=(pb.x-nb.x)*(pb.x-nb.x)+(pb.y-nb.y)*(pb.y-nb.y)))return 2*Za+1}return Ia.containsPoint(Wa)?-3:-2}function eb(){var Ia=pa.getTransformed(Lb),Wa=Ra(Ia,
{x:Sa,y:ob});switch(Wa){case 0:case 2:case 4:case 6:Wa=~~(Wa/2);var Za=Ia.points[Wa],nb=Ia.points[(Wa+1)%4];Ia=g.default.subtractPoints(Ia.points[(Wa+3)%4],Za).normalize().add(g.default.subtractPoints(nb,Za).normalize());ib(Ia);break;case 1:case 3:case 5:case 7:Ia=g.default.subtractPoints(Ia.points[(~~(Wa/2)+1)%4],Ia.points[~~(Wa/2)]).getPerpendicular();ib(Ia);break;case -3:$a("move");break;case -2:$a("default");break;default:$a("default")}}function ib(Ia){Ia=Math.floor(Math.atan2(-Ia.y,Ia.x)/(Math.PI/
4)+.5);0>Ia&&(Ia+=4);switch(Ia){default:Ia="ew-resize";break;case 1:Ia="nesw-resize";break;case 2:Ia="ns-resize";break;case 3:Ia="nwse-resize"}$a(Ia)}var hb,V,pa,La=-1,ja,Da,Oa;this.mouseDown=function(Ia,Wa,Za){if(!this.capture&&0==Wa&&!Ia.altKey&&!e.default.isPressed("space"))return Ia=pa.getTransformed(Lb),La=Ra(Ia,{x:Sa,y:ob}),ja={x:Sa,y:ob},Da=Ha(ja),this.capture=!0,eb(),!0};this.mouseDrag=(0,r.throttle)(40,function(Ia){if(this.capture){var Wa={x:Sa,y:ob};switch(La){case -3:Ia=Ka(Ha(Wa));var Za=
g.default.subtractPoints(Ia,Da);Wa=Za.getTruncated();Za=Za.subtract(Wa);var nb=new a.default;nb.translate(Wa.x,Wa.y);hb.preMultiply(nb);Da=g.default.subtractPoints(Ia,Za);break;case -2:nb=Math.PI/4;Za=pa.getCenter();var pb=tb(Za),ac=Math.atan2(Wa.y-pb.y,Wa.x-pb.x)-Math.atan2(ja.y-pb.y,ja.x-pb.x);pb=new a.default;Oa+=ac;Ia=Ia.shiftKey?-hb.decompose().rotate+Math.round(Oa/nb)*nb:ac;pb.rotateAroundPoint(Ia,Za.x,Za.y);hb.preMultiply(pb);ja=Wa;break;case 0:case 2:case 4:case 6:nb=~~(La/2);Za=V.points[nb];
pb=hb.getInverted().getTransformedPoint(Ka(Ha(Wa)));Wa=V.points[(nb+2)%4];nb=(pb.x-Wa.x)/(Za.x-Wa.x);Za=(pb.y-Wa.y)/(Za.y-Wa.y);if(.001>Math.abs(nb)||.001>Math.abs(Za)||isNaN(nb)||isNaN(Za))return!0;Ia.shiftKey&&(Za=nb=Ia=Math.max(nb,Za));hb.scaleAroundPoint(nb,Za,Wa.x,Wa.y);break;case 1:case 5:case 3:case 7:Ia=~~(La/2);Za=fa(V.points[Ia],V.points[(Ia+1)%4]);Wa=hb.getInverted().getTransformedPoint(Ka(Ha(Wa)));Ia=fa(V.points[(Ia+2)%4],V.points[(Ia+3)%4]);Za=g.default.subtractPoints(Za,Ia);Wa=g.default.subtractPoints(Wa,
Ia);nb=Za.getLength();Za=Za.getDotProduct(Wa)/nb/nb;if(.001>Math.abs(Za)||isNaN(Za))return!0;1==La||5==La?Wa=1:(Wa=Za,Za=1);hb.scaleAroundPoint(Wa,Za,Ia.x,Ia.y)}pa=V.getTransformed(hb);Ua.transformAffineAmend(hb);Fa.repaintAll();return!0}});this.mouseUp=function(Ia,Wa,Za){if(this.capture&&0==Wa)return this.capture=!1,La=-1,!0};this.mouseMove=function(){this.capture||eb()};this.paint=function(){for(var Ia=pa.getTransformed(Lb).points,Wa=Array(2*Ia.length),Za=0;Za<Ia.length;Za++)Wa[Za]=Ia[Za];for(Za=
0;Za<Ia.length;Za++){var nb=Ia[Za],pb=Ia[(Za+1)%Ia.length];Wa[Za+Ia.length]={x:(nb.x+pb.x)/2,y:(nb.y+pb.y)/2}}(0,t.setContrastingDrawStyle)(J,"fill");for(Za=0;Za<Wa.length;Za++)J.fillRect(Wa[Za].x-3,Wa[Za].y-3,7,7);Na(J,Ia)};this.keyDown=function(Ia){if("Enter"===Ia.key)return I.actionPerformed({action:"CPTransformAccept"}),!0;if("Escape"===Ia.key)return I.actionPerformed({action:"CPTransformReject"}),!0};this.enter=function(){M.prototype.enter.call(this);var Ia=Ua.transformAffineBegin();hb=Ia.transform;
var Wa=Ia.selection;Wa.isEmpty()&&(Wa=Ia.rect.clone());V=new b.default(Wa.toPoints());pa=V.getTransformed(hb);La=-1;Oa=0;Fa.repaintAll()};this.leave=function(){M.prototype.leave.call(this);Fa.repaintAll()}}function qa(){var fa,Ka,Ra=0,eb,ib=!1,hb=-1;this.mouseDown=function(V,pa,La){if(this.capture)return!0;if(!this.transient&&0==pa&&!V.altKey&&!e.default.isPressed("space")||0==pa&&!V.altKey&&!e.default.isPressed("space")&&e.default.isPressed("r"))return fa=Sa,Ka=ob,Ra=Fa.getRotation(),eb=Lb.clone(),
ib=!1,this.capture=!0,hb=pa,!0;this.transient&&lb.pop()};this.mouseDrag=function(V){if(this.capture){var pa=Sa,La=ob,ja=(0,c.default)(D).width()/2,Da=(0,c.default)(D).height()/2;V=D.width/2;var Oa=D.height/2;pa=Math.atan2(La-Da,pa-ja)-Math.atan2(Ka-Da,fa-ja);La=new a.default;La.rotateAroundPoint(pa,V,Oa);La.multiply(eb);Fa.setRotation(Ra+pa);Fa.setOffset(~~La.getTranslateX(),~~La.getTranslateY());return ib=!0}};this.mouseUp=function(V,pa,La){if(this.capture&&pa==hb){if(ib){V=Math.round(bc/(Math.PI/
2))*Math.PI/2;if(Math.abs(bc-V)<5/180*Math.PI){V-=Ra;pa=D.width/2;La=D.height/2;var ja=new a.default;ja.rotateAroundPoint(V,pa,La);ja.multiply(eb);Fa.setRotation(Ra+V);Fa.setOffset(~~ja.getTranslateX(),~~ja.getTranslateY());Fa.repaintAll()}Fa.emitEvent("canvasRotated90",[Fa.getRotation90()])}else Fa.resetRotation();this.capture=!1;this.transient&&!e.default.isPressed("r")&&lb.pop();return!0}};this.keyUp=function(V){if(this.transient&&1!=hb&&" "===V.key)return $a("default"),lb.pop(),!0};this.keyDown=
function(V){if("r"===V.key.toLowerCase())return!0}}function Pa(){sa.call(this)}function $a(fa){D.getAttribute("data-cursor")!=fa&&D.setAttribute("data-cursor",fa)}function gb(){var fa=Ua.getActiveLayer();return fa.visible&&fa.ancestorsAreVisible()?0==fa.alpha?(I.showLayerNotification(fa,"Whoops! This layer's opacity is currently 0%","opacity"),!1):!0:(I.showLayerNotification(fa,"Whoops! This layer is currently hidden","layer"),!1)}function S(){var fa=Ua.getActiveLayer();return fa instanceof n.default&&
!Ua.isEditingMask()?(I.showLayerNotification(fa,"Whoops! You can't draw on a group","layer"),!1):gb()}function da(fa,Ka,Ra,eb,ib){fa.setValues(-ib,eb,Ka-eb-ib+Ra/4,Ka+Ra-ib-Ra/4);fa.setBlockIncrement(Math.max(1,~~(.66*eb)));fa.setUnitIncrement(Math.max(1,~~(.05*eb)))}function xa(){Lb.setToIdentity();Lb.translate(O,Hb);Lb.scale(Db,Db);Lb.rotate(bc);if(null!=gc&&null!=Yb&&!gc.getValueIsAdjusting()&&!Yb.getValueIsAdjusting()){var fa=Ja(new v.default(0,0,Y.width,Y.height));da(gc,fa.left,fa.getWidth(),
(0,c.default)(D).width(),Fa.getOffset().x);da(Yb,fa.top,fa.getHeight(),(0,c.default)(D).height(),Fa.getOffset().y)}Fa.repaintAll()}function Ha(fa){return Lb.getInverted().getTransformedPoint(fa)}function Xa(fa){fa=Ha(fa);fa.x=Math.floor(fa.x);fa.y=Math.floor(fa.y);return fa}function rb(fa){var Ka=D.getBoundingClientRect();return{x:fa.x-Ka.left-window.pageXOffset,y:fa.y-Ka.top-window.pageYOffset}}function tb(fa){return Lb.getTransformedPoint(fa)}function Ma(fa){fa=tb(fa);fa.x=Math.round(fa.x);fa.y=
Math.round(fa.y);return fa}function ra(fa){var Ka=tb({x:(fa.left+fa.right)/2,y:(fa.top+fa.bottom)/2});fa=fa.toPoints();for(var Ra=0;Ra<fa.length;Ra++)fa[Ra]=Ma(fa[Ra]),fa[Ra].x+=.5*Math.sign(Ka.x-fa[Ra].x),fa[Ra].y+=.5*Math.sign(Ka.y-fa[Ra].y);return fa}function Na(fa,Ka){fa.beginPath();fa.moveTo(Ka[0].x,Ka[0].y);for(var Ra=1;Ra<Ka.length;Ra++)fa.lineTo(Ka[Ra].x,Ka[Ra].y);fa.lineTo(Ka[0].x,Ka[0].y);fa.stroke()}function Ja(fa){var Ka=Ma({x:fa.left-1,y:fa.top-1}),Ra=Ma({x:fa.left-1,y:fa.bottom}),eb=
Ma({x:fa.right,y:fa.top-1});fa=Ma({x:fa.right,y:fa.bottom});Ka=new v.default(Math.min(Math.min(Ka.x,Ra.x),Math.min(eb.x,fa.x)),Math.min(Math.min(Ka.y,Ra.y),Math.min(eb.y,fa.y)),Math.max(Math.max(Ka.x,Ra.x),Math.max(eb.x,fa.x))+1,Math.max(Math.max(Ka.y,Ra.y),Math.max(eb.y,fa.y))+1);Ka.grow(2,2);return Ka}function ab(){var fa=D.width,Ka=D.height,Ra=tb({x:Ua.width/2,y:Ua.height/2});Fa.setOffset(Math.round(O+fa/2-Ra.x),Math.round(Hb+Ka/2-Ra.y))}function U(fa,Ka,Ra){fa=Math.max(.1,Math.min(16,fa));if(Fa.getZoom()!=
fa){var eb=Fa.getOffset();Fa.setOffset(eb.x+~~((Ka-eb.x)*(1-fa/Fa.getZoom())),eb.y+~~((Ra-eb.y)*(1-fa/Fa.getZoom())));Fa.setZoom(fa);Fa.repaintAll()}}function ba(fa){var Ka=(0,c.default)(D).width(),Ra=(0,c.default)(D).height();U(fa,Ka/2,Ra/2)}function ea(fa){return zc?mb.getPressure():"mouse"===fa.pointerType&&0!==fa.buttons&&0===fa.pressure?1:"touch"===fa.pointerType?(0!==fa.pressure&&(sc=!0),sc?2*fa.pressure:1):2*fa.pressure}function aa(){jc||(jc=!0,window.requestAnimationFrame(function(){Fa.paint()}))}
function ua(fa){xb.union(fa);aa()}function Ea(){fc=Ua.getBounds();Fa.repaintAll()}var Fa=this,ma=document.createElement("div"),W=document.createElement("div"),Z=document.createElement("div"),D=document.createElement("canvas"),J=D.getContext("2d"),Y=document.createElement("canvas"),za=Y.getContext("2d"),Qa=(0,t.createCheckerboardPattern)(J),Ua=I.getArtwork(),Db=1,O=0,Hb=0,bc=0,Lb=new a.default,rc=!1,db=!1,Ib=32,Sa=0,ob=0,Tb=!1,Bb=[!1,!1,!1],zc=!1,kc=!1,sc=!1,fc=Ua.getBounds(),xb=new v.default(0,0,
0,0),jc=!1,Eb,Qb=[],lb=new k,gc=new y.default(!1),Yb=new y.default(!0),mb=l.default.getRef();Math.sign=Math.sign||function(fa){fa=+fa;return 0===fa||isNaN(fa)?fa:0<fa?1:-1};M.prototype.transient=!1;M.prototype.capture=!1;M.prototype.enter=function(){$a("default")};M.prototype.leave=function(){this.capture=!1};M.prototype.mouseMove=M.prototype.paint=M.prototype.mouseDown=M.prototype.mouseDrag=M.prototype.mouseUp=M.prototype.keyDown=M.prototype.suspend=M.prototype.resume=M.prototype.keyUp=function(){};
R.prototype=Object.create(M.prototype);R.prototype.constructor=R;R.prototype.mouseDown=function(fa,Ka,Ra){var eb=e.default.isPressed("space");if(!eb&&(2==Ka||0==Ka&&fa.altKey))lb.push(wc,!0),lb.peek().mouseDown(fa,Ka,Ra);else if(!eb&&0==Ka&&!fa.altKey&&e.default.isPressed("r"))lb.push(Ub,!0),lb.peek().mouseDown(fa,Ka,Ra);else if(1==Ka||!fa.altKey&&eb&&0==Ka)lb.push(Xb,!0),lb.peek().mouseDown(fa,Ka,Ra)};R.prototype.keyDown=function(fa){if("r"===fa.key.toLowerCase()&&" "!==fa.key)lb.push(Ub,!0),lb.peek().keyDown(fa);
else if("r"!==fa.key.toLowerCase()&&" "===fa.key&&!fa.altKey)return lb.push(Xb,!0),lb.peek().keyDown(fa),!0};ha.prototype=Object.create(M.prototype);ha.prototype.constructor=ha;ha.prototype.getBrushPreviewOval=function(){var fa=I.getBrushSize()*Db;return new v.default(Sa-fa/2,ob-fa/2,Sa+fa/2,ob+fa/2)};ha.prototype.queueBrushPreview=function(){if(lb.peek()==this){this.shouldPaintBrushPreview=!0;var fa=this.getBrushPreviewOval();fa.grow(2,2);null!=this.oldPreviewRect&&(fa.union(this.oldPreviewRect),
this.oldPreviewRect=null);ua(fa)}};ha.prototype.eraseBrushPreview=function(){this.shouldPaintBrushPreview=!1;null!=this.oldPreviewRect&&(ua(this.oldPreviewRect),this.oldPreviewRect=null)};ha.prototype.mouseMove=function(fa,Ka){this.queueBrushPreview()};ha.prototype.enter=function(){M.prototype.enter.call(this);Tb&&this.queueBrushPreview()};ha.prototype.leave=function(){M.prototype.leave.call(this);this.eraseBrushPreview()};ha.prototype.suspend=ha.prototype.leave;ha.prototype.resume=ha.prototype.enter;
ha.prototype.paint=function(){if(2>navigator.maxTouchPoints||this.shouldPaintBrushPreview){this.shouldPaintBrushPreview=!1;var fa=this.getBrushPreviewOval();J.beginPath();J.arc((fa.left+fa.right)/2,(fa.top+fa.bottom)/2,fa.getWidth()/2,0,2*Math.PI);J.stroke();fa.grow(2,2);null==this.oldPreviewRect?this.oldPreviewRect=fa:this.oldPreviewRect.union(fa)}};ca.prototype=Object.create(ha.prototype);ca.prototype.constructor=ca;ca.prototype.mouseDown=function(fa,Ka,Ra){if(!this.capture&&0==Ka&&!fa.altKey&&
!e.default.isPressed("space")&&S()&&(fa=Ha({x:Sa,y:ob}),this.eraseBrushPreview(),Ua.beginStroke(fa.x,fa.y,Ra)))return this.capture=!0,this.smoothMouse=fa,!0};ca.prototype.mouseDrag=function(fa,Ka){if(this.capture){fa=Ha({x:Sa,y:ob});var Ra=Math.min(.999,Math.pow(I.getBrushInfo().smoothing,.3));this.smoothMouse.x=(1-Ra)*fa.x+Ra*this.smoothMouse.x;this.smoothMouse.y=(1-Ra)*fa.y+Ra*this.smoothMouse.y;Ua.continueStroke(this.smoothMouse.x,this.smoothMouse.y,Ka);return!0}this.mouseMove(fa)};ca.prototype.mouseUp=
function(fa,Ka,Ra){if(this.capture)return 0==Ka&&(this.capture=!1,Ua.endStroke()),!0};sa.prototype=Object.create(ha.prototype);sa.prototype.constructor=sa;sa.prototype.drawLine=function(fa,Ka){Ua.beginStroke(fa.x,fa.y,1);Ua.continueStroke(Ka.x,Ka.y,1);Ua.endStroke()};na.prototype=Object.create(ha.prototype);na.prototype.constructor=na;Q.prototype=Object.create(M.prototype);Q.prototype.constructor=Q;oa.prototype=Object.create(M.prototype);oa.prototype.constructor=oa;ia.prototype=Object.create(M.prototype);
ia.prototype.constructor=ia;ia.prototype.mouseDown=function(fa,Ka,Ra){if(0==Ka&&!fa.altKey&&!e.default.isPressed("space")&&S())return fa=Ha({x:Sa,y:ob}),Ua.isPointWithin(fa.x,fa.y)&&(Ua.floodFill(fa.x,fa.y),Fa.repaintAll()),!0};ya.prototype=Object.create(M.prototype);ya.prototype.constructor=ya;ta.prototype=Object.create(M.prototype);ta.prototype.constructor=ta;ta.prototype.mouseMove=function(fa){if(!e.default.isPressed("r"))return $a("move"),!0};ta.prototype.enter=function(){$a("move")};Ga.prototype=
Object.create(M.prototype);Ga.prototype.constructor=Ga;qa.prototype=Object.create(M.prototype);qa.prototype.constructor=qa;Pa.prototype=Object.create(sa.prototype);Pa.prototype.constructor=Pa;Pa.prototype.drawLine=function(fa,Ka){Ua.gradientFill(Math.round(fa.x),Math.round(fa.y),Math.round(Ka.x),Math.round(Ka.y),I.getCurGradient())};Pa.prototype.queueBrushPreview=function(){};this.setZoom=function(fa){Db=fa;xa()};this.getZoom=function(){return Db};this.setGridSize=function(fa){Ib=Math.max(Math.round(fa),
1);this.repaintAll()};this.getGridSize=function(){return Ib};this.setOffset=function(fa,Ka){isNaN(fa)||isNaN(Ka)?console.log("Bad offset"):(O=fa,Hb=Ka,xa())};this.getOffset=function(){return{x:O,y:Hb}};this.setInterpolation=function(fa){rc=fa;(0,d.setCanvasInterpolation)(J,fa);this.repaintAll()};this.setRotation=function(fa){bc=fa%(2*Math.PI);xa()};this.getRotation=function(){return bc};this.getRotation90=function(){var fa=Math.round(this.getRotation()/Math.PI*2);fa%=4;0>fa&&(fa+=4);return fa};this.zoomIn=
function(){ba(2*this.getZoom())};this.zoomOut=function(){ba(.5*this.getZoom())};this.zoom100=function(){ba(1);ab()};this.resetRotation=function(){var fa=D.width/2,Ka=D.height/2,Ra=new a.default;Ra.rotateAroundPoint(-this.getRotation(),fa,Ka);Ra.multiply(Lb);this.setOffset(~~Ra.getTranslateX(),~~Ra.getTranslateY());this.setRotation(0);Fa.emitEvent("canvasRotated90",[0])};var Nb=!1,dc;this.getElement=function(){return ma};this.repaintAll=function(){xb.left=0;xb.top=0;xb.right=D.width;xb.bottom=D.height;
aa()};this.paint=function(){var fa=!1;jc=!1;xb.isEmpty()||(J.save(),J.clipTo&&(J.beginPath(),xb.left|=0,xb.top|=0,J.rect(xb.left,xb.top,Math.ceil(xb.getWidth()),Math.ceil(xb.getHeight())),J.clip()),fa=!0);if(!fc.isEmpty()){var Ka=Eb&&Eb.isOpen()?Eb.getImageData():Ua.fusionLayers().getImageData();za.putImageData(Ka,0,0,fc.left,fc.top,fc.getWidth(),fc.getHeight());fc.makeEmpty()}J.fillStyle="#606060";J.fillRect(0,0,D.width,D.height);J.save();J.setTransform(Lb.m[0],Lb.m[1],Lb.m[2],Lb.m[3],Lb.m[4],Lb.m[5]);
J.fillStyle=Qa;J.fillRect(0,0,Ua.width,Ua.height);J.drawImage(Y,0,0,Y.width,Y.height);J.restore();(0,t.setContrastingDrawStyle)(J,"stroke");J.lineWidth=1;Ua.getSelection().isEmpty()||lb.peek()instanceof ya&&lb.peek().capture||(J.setLineDash([3,2]),Ka=Ua.getSelection(),Na(J,ra(Ka)),J.setLineDash([]));if(db&&(Ka=Ua.getBounds(),2<Db*Ib)){J.beginPath();for(var Ra=Ib-1;Ra<Ka.right;Ra+=Ib){var eb=tb({x:Ra,y:Ka.top}),ib=tb({x:Ra,y:Ka.bottom});J.moveTo(eb.x+.5,eb.y+.5);J.lineTo(ib.x+.5,ib.y+.5)}for(Ra=Ib-
1;Ra<Ka.bottom;Ra+=Ib)eb=tb({x:0,y:Ra}),ib=tb({x:Ka.right,y:Ra}),J.moveTo(eb.x+.5,eb.y+.5),J.lineTo(ib.x+.5,ib.y+.5);J.stroke()}lb.paint(J);J.globalCompositeOperation="source-over";fa&&(xb.makeEmpty(),J.restore())};this.showGrid=function(fa){db=fa;this.repaintAll()};this.resize=function(fa,Ka){fa-=(0,c.default)(Z).outerHeight();(0,c.default)(D).css("height",fa+"px");D.width=(0,c.default)(D).width();D.height=fa;dc=null;Ka||ab();this.setInterpolation(rc);this.repaintAll()};I.on("toolChange",function(fa,
Ka){fa=Qb[Ka.strokeMode];for(Ka=0;Ka<lb.modes.length;Ka++)if(lb.modes[Ka]instanceof ha){lb.modes[Ka].leave();lb.modes[Ka]=fa;lb.modes[Ka].enter();break}tc=fa});I.on("modeChange",function(fa){switch(fa){case m.default.M_DRAW:var Ka=tc;break;case m.default.M_FLOODFILL:Ka=mc;break;case m.default.M_GRADIENTFILL:Ka=xc;break;case m.default.M_RECT_SELECTION:Ka=Fc;break;case m.default.M_MOVE_TOOL:Ka=Ac;break;case m.default.M_ROTATE_CANVAS:Ka=Ub;break;case m.default.M_PAN_CANVAS:Ka=Xb;break;case m.default.M_COLOR_PICKER:Ka=
wc;break;case m.default.M_TRANSFORM:Ka=Ec}lb.setUserMode(Ka)});I.on("maskViewOpened",function(fa){Eb&&Eb.off("changeLayer",Ea);Eb=fa;Eb.on("changeLayer",Ea);Ea()});var qc=new R;var wc=new Q;var Xb=new oa;var Ub=new qa;var mc=new ia;var xc=new Pa;var Fc=new ya;var Ac=new ta;var Ec=new Ga;Qb=[new ca,new sa,new na];var tc=Qb[f.default.STROKE_MODE_FREEHAND];lb.setDefaultMode(qc);lb.setUserMode(tc);Y.width=Ua.width;Y.height=Ua.height;D.width=800;D.height=900;D.className="chickenpaint-canvas";D.setAttribute("touch-action",
"none");J.setLineDash||(J.setLineDash=function(){});D.addEventListener("contextmenu",function(fa){fa.preventDefault()});D.addEventListener("mouseenter",function(){Tb=!0});D.addEventListener("mouseleave",function(){Tb=!1;Bb[0]||Bb[2]||Bb[1]||Fa.repaintAll()});D.addEventListener("pointerdown",function(fa){kc&&"touch"===fa.pointerType||(D.setPointerCapture(fa.pointerId),dc=D.getBoundingClientRect(),Sa=fa.clientX-dc.left,ob=fa.clientY-dc.top,zc=mb.isPen(),Bb[0]=!1,Bb[2]=!1,Bb[1]=!1,Bb[fa.button]=!0,lb.mouseDown(fa,
fa.button,ea(fa)))});D.addEventListener("pointermove",function(fa){dc||=D.getBoundingClientRect();if(!kc||"touch"!==fa.pointerType){Sa=fa.clientX-dc.left;ob=fa.clientY-dc.top;var Ka=0!==fa.buttons,Ra=Ka?ea(fa):0;if(0!==(fa.buttons&1)!=Bb[0]){if(.5===fa.mozPressure)return;Bb[0]=!Bb[0];Bb[0]?lb.mouseDown(fa,0,Ra):lb.mouseUp(fa,0,Ra)}0!==(fa.buttons&2)!=Bb[2]&&(Bb[2]=!Bb[2],Bb[2]?lb.mouseDown(fa,2,Ra):lb.mouseUp(fa,2,Ra));0!==(fa.buttons&4)!=Bb[1]&&(Bb[1]=!Bb[1],Bb[1]?lb.mouseDown(fa,1,Ra):lb.mouseUp(fa,
1,Ra));Ka?lb.mouseDrag(fa,Ra):lb.mouseMove(fa,Ra);kc||"pen"!==fa.pointerType||(kc=!0)}});D.addEventListener("pointerup",function(fa){Bb[0]=!1;Bb[2]=!1;zc=Bb[1]=!1;lb.mouseUp(fa,fa.button,0);D.releasePointerCapture(fa.pointerId)});D.addEventListener("wheel",function(fa){if(0!=fa.deltaY){if(!Nb||20<Math.abs(fa.deltaY)){var Ka=0<fa.deltaY?1/1.15:1.15;var Ra=rb({x:fa.pageX,y:fa.pageY}),eb=Ha(Ra);Ua.isPointWithin(eb.x,eb.y)?U(Fa.getZoom()*Ka,Ra.x,Ra.y):U(Fa.getZoom()*Ka,O+~~(Ua.width*Db/2),Hb+~~(Ua.height*
Db/2));Nb=Nb||setTimeout(function(){Nb=!1},50)}fa.preventDefault()}});document.addEventListener("keydown",function(fa){lb.keyDown(fa)});document.addEventListener("keyup",function(fa){"alt"===fa.key.toLowerCase()&&fa.preventDefault();lb.keyUp(fa)});document.addEventListener("visibilitychange",function(){var fa=D.height+(0,c.default)(Z).outerHeight();D.width=1;D.height=1;Fa.resize(fa,!0)},!1);window.addEventListener("scroll",function(){dc=null});D.addEventListener("mousedown",function(fa){1==fa.button&&
fa.preventDefault()});Ua.on("changeSelection",function(){Fa.repaintAll()});Ua.on("updateRegion",function(fa){fc.union(fa);ua(Ja(fc))});gc.on("valueChanged",function(fa){var Ka=Fa.getOffset();Fa.setOffset(-fa,Ka.y)});Yb.on("valueChanged",function(fa){var Ka=Fa.getOffset();Fa.setOffset(Ka.x,-fa)});this.setInterpolation(!1);qc=document.createElement("div");qc.className="chickenpaint-canvas-container-wrapper";qc.appendChild(D);W.className="chickenpaint-canvas-container-top";W.appendChild(qc);W.appendChild(Yb.getElement());
Z.className="chickenpaint-canvas-container-bottom";Z.appendChild(gc.getElement());ma.appendChild(W);ma.appendChild(Z);I.setCanvas(this)}Object.defineProperty(C,"__esModule",{value:!0});C.default=u;var E=w(h("wolfy87-eventemitter")),c=w(h("jquery")),e=w(h("../../lib/keymaster.js")),v=w(h("../util/CPRect.js")),a=w(h("../util/CPTransform.js")),l=w(h("../util/CPWacomTablet.js")),q=w(h("../util/CPBezier.js")),r=h("../util/throttle-debounce"),b=w(h("../util/CPPolygon.js")),d=h("../util/CPPolyfill.js"),
g=w(h("../util/CPVector.js")),m=w(h("../ChickenPaint.js")),f=w(h("../engine/CPBrushInfo.js")),n=w(h("../engine/CPLayerGroup.js"));w(h("../engine/CPMaskView.js"));var t=h("./CPGUIUtils.js"),y=w(h("./CPScrollbar.js")),B=w(h("../util/CPColor.js"));k.MODE_INDEX_DEFAULT=0;k.MODE_INDEX_USER=1;k.prototype.setMode=function(I,M){var R=this.modes[I];R!=M&&(R&&R.leave(),this.modes[I]=M,M.enter())};k.prototype.setDefaultMode=function(I){I.transient=!1;I.capture=!1;this.setMode(k.MODE_INDEX_DEFAULT,I)};k.prototype.setUserMode=
function(I){for(var M=this.modes.length-1;M>k.MODE_INDEX_USER;M--)this.modes[M].leave(),this.modes.splice(M,1);I.transient=!1;I.capture=!1;this.setMode(k.MODE_INDEX_USER,I)};k.prototype.deliverEvent=function(I,M){for(var R=this.modes.length-1;0<=R;R--){var ha=this.modes[R];if(ha[I].apply(ha,M)||ha.capture&&"paint"!=I)return!0}return!1};h=function(){var I=H[z];k.prototype[I]=function(M,R,ha){this.deliverEvent(I,[M,R,ha])}};for(var z=0,H=["mouseDown","mouseUp"];z<H.length;z++)h();h=function(){var I=
x[N];k.prototype[I]=function(M,R){this.deliverEvent(I,[M,R])}};for(var N=0,x=["mouseDrag","mouseMove"];N<x.length;N++)h();h=function(){var I=G[F];k.prototype[I]=function(M){this.deliverEvent(I,[M])&&M.preventDefault()}};for(var F=0,G=["keyDown","keyUp"];F<G.length;F++)h();k.prototype.paint=function(I){this.deliverEvent("paint",[I])};k.prototype.push=function(I,M){var R=this.peek();R&&R.suspend();I.transient=M;I.capture=!1;I.enter();this.modes.push(I)};k.prototype.peek=function(){return 0<this.modes.length?
this.modes[this.modes.length-1]:null};k.prototype.pop=function(){var I=this.modes.pop(),M=this.peek();I&&I.leave();M&&M.resume();return M};u.prototype=Object.create(E.default.prototype);u.prototype.constructor=u;K.exports=C.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../engine/CPBrushInfo.js":8,"../engine/CPLayerGroup.js":17,"../engine/CPMaskView.js":19,"../util/CPBezier.js":57,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPPolygon.js":61,"../util/CPRect.js":63,"../util/CPTransform.js":64,
"../util/CPVector.js":65,"../util/CPWacomTablet.js":66,"../util/throttle-debounce":67,"./CPGUIUtils.js":33,"./CPScrollbar.js":41,jquery:297,"wolfy87-eventemitter":316}],27:[function(h,K,C){function w(k,u){function E(){var a=c.width;e.clearRect(0,0,a,c.height);e.beginPath();e.arc(a/2+1,a/2+1,Math.max(a/2,1)-2,0,2*Math.PI);v.state?e.fill():e.stroke()}var c=document.createElement("canvas"),e=c.getContext("2d"),v=this;this.state=k||!1;this.setValue=function(a){this.state!=a&&(this.state=a,this.emitEvent("valueChange",
[a]),E())};this.getElement=function(){return c};c.addEventListener("mousedown",function(a){v.setValue(!v.state)});c.title=u||"";c.className="chickenpaint-checkbox";c.width=20;c.height=20;c.fillStyle="black";c.strokeStyle="black";E()}Object.defineProperty(C,"__esModule",{value:!0});C.default=w;h=function(k){return k&&k.__esModule?k:{default:k}}(h("wolfy87-eventemitter"));w.prototype=Object.create(h.default.prototype);w.prototype.constructor=w;K.exports=C.default},{"wolfy87-eventemitter":316}],28:[function(h,
K,C){function w(l){return l&&l.__esModule?l:{default:l}}function k(l){E.default.call(this,l,"color","Color (picker)");var q=new c.default(l),r=new e.default(l,q);l=new u(l);var b=this.getBodyElement(),d=document.createElement("div");d.className="chickenpaint-colorpicker-top";d.appendChild(q.getElement());d.appendChild(r.getElement());b.appendChild(d);b.appendChild(l.getElement())}function u(l){function q(g,m,f){for(;g.length<f;)g=m+g;return g}function r(){d.style.backgroundColor="#"+q(Number(b).toString(16),
"0",6)}var b=0,d=document.createElement("div");this.getElement=function(){return d};l.on("colorChange",function(g){b=g.getRgb();r()});d.className="chickenpaint-colorpicker-show";d.addEventListener("click",function(g){g.preventDefault();g="#"+q(Number(b).toString(16),"0",6);g=window.prompt((0,a._)("Please enter a color in hex format"),g);if(null!=g)try{if(g.match(/^#/)||g.match(/^$/))g=g.substring(1);var m=parseInt(g,16);l.setCurColor(new v.default(m))}catch(f){}});r()}Object.defineProperty(C,"__esModule",
{value:!0});C.default=k;var E=w(h("./CPPalette.js")),c=w(h("./CPColorSelect.js")),e=w(h("./CPColorSlider.js")),v=w(h("../util/CPColor.js")),a=h("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=C.default},{"../languages/lang":54,"../util/CPColor.js":58,"./CPColorSelect.js":29,"./CPColorSlider.js":30,"./CPPalette.js":39}],29:[function(h,K,C){function w(g){return g&&g.__esModule?g:{default:g}}function k(g){"@babel/helpers - typeof";return k="function"==
typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},k(g)}function u(g,m){for(var f=0;f<m.length;f++){var n=m[f];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(g,e(n.key),n)}}function E(g,m,f){m&&u(g.prototype,m);f&&u(g,f);Object.defineProperty(g,"prototype",{writable:!1});return g}function c(g,m,f){m=e(m);m in
g?Object.defineProperty(g,m,{value:f,enumerable:!0,configurable:!0,writable:!0}):g[m]=f;return g}function e(g){a:if("object"===k(g)&&null!==g){var m=g[Symbol.toPrimitive];if(void 0!==m){g=m.call(g,"string");if("object"!==k(g))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}g=String(g)}return"symbol"===k(g)?g:String(g)}Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;var v=w(h("jquery")),a=w(h("../util/CPColor.js")),l=w(h("../engine/CPColorBmp.js")),q=
h("./CPGUIUtils.js"),r=window.devicePixelRatio||1,b=Math.round(128*r),d=Math.round(128*r);C.default=function(){function g(m,f){var n=this;if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");c(this,"_controller",void 0);c(this,"_canvas",void 0);c(this,"_canvasContext",void 0);c(this,"_imageData",void 0);c(this,"_bitmapInvalid",!0);c(this,"_capturedMouse",!1);c(this,"_greyscale",!1);c(this,"color",new a.default(0));this._controller=m;var t=document.createElement("canvas");
this._canvas=t;t.className="chickenpaint-colorpicker-select";t.setAttribute("touch-action","none");t.width=b;t.height=d;t.style.width="128px";t.style.height="128px";this._canvasContext=t.getContext("2d");this._imageData=this._canvasContext.createImageData(b,d);this._canvasContext.getImageData(0,0,1,1);this._handleEndDrag=this._endDrag.bind(this);this._handleMousePickColor=this._mousePickColor.bind(this);t.addEventListener("pointerdown",function(y){return n._startDrag(y)});f&&this.color.copyFrom(f);
m.on("colorChange",function(y){n.color.copyFrom(y);n._bitmapInvalid=!0;n.paint()});m.on("colorModeChange",function(y){n._greyscale="greyscale"==y;n._bitmapInvalid=!0;n.paint()});this.paint()}E(g,[{key:"_makeBitmap",value:function(){if(this._bitmapInvalid){var m=0,f=this._imageData.data;if(this._greyscale)for(var n=0;n<d;n++)for(var t=255-Math.round(n/(d-1)*255),y=0;y<b;y++)f[m+l.default.RED_BYTE_OFFSET]=t,f[m+l.default.GREEN_BYTE_OFFSET]=t,f[m+l.default.BLUE_BYTE_OFFSET]=t,f[m+l.default.ALPHA_BYTE_OFFSET]=
255,m+=l.default.BYTES_PER_PIXEL;else for(n=this.color.clone(),t=0;t<d;t++)for(n.setValue(255-~~(t/(d-1)*255)),y=0;y<b;y++)n.setSaturation(Math.round(y/(b-1)*255)),f[m+l.default.RED_BYTE_OFFSET]=n.rgb>>16&255,f[m+l.default.GREEN_BYTE_OFFSET]=n.rgb>>8&255,f[m+l.default.BLUE_BYTE_OFFSET]=n.rgb&255,f[m+l.default.ALPHA_BYTE_OFFSET]=255,m+=l.default.BYTES_PER_PIXEL;this._bitmapInvalid=!1}}},{key:"paint",value:function(){this._makeBitmap();this._canvasContext.putImageData(this._imageData,0,0);var m=this.color.getSaturation()/
255*(b-1),f=(255-this.color.getValue())/255*(d-1);(0,q.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5*r;this._canvasContext.beginPath();this._greyscale?(this._canvasContext.moveTo(0,f),this._canvasContext.lineTo(b,f)):this._canvasContext.arc(m,f,5*r,0,2*Math.PI);this._canvasContext.stroke();this._canvasContext.globalCompositeOperation="source-over"}},{key:"_mousePickColor",value:function(m){var f=m.pageX-(0,v.default)(this._canvas).offset().left;m=m.pageY-
(0,v.default)(this._canvas).offset().top;m=Math.max(Math.min(255-~~(255*m/127),255),0);this._greyscale?this.color.setGreyscale(m):(f=Math.max(Math.min(~~(255*f/127),255),0),this.color.setHsv(this.color.getHue(),f,m));this.paint();this._controller.setCurColor(this.color)}},{key:"_endDrag",value:function(m){this._canvas.releasePointerCapture(m.pointerId);this._capturedMouse=!1;this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},
{key:"_startDrag",value:function(m){this._capturedMouse||(this._capturedMouse=!0,this._canvas.setPointerCapture(m.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(m)}},{key:"setHue",value:function(m){this.color.getHue()!=m&&(this.color.setHue(m),this._controller.setCurColor(this.color))}},{key:"getElement",value:function(){return this._canvas}}]);return g}();K.exports=C.default},
{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:297}],30:[function(h,K,C){function w(b){return b&&b.__esModule?b:{default:b}}function k(b){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},k(b)}function u(b,d){for(var g=0;g<d.length;g++){var m=d[g];m.enumerable=m.enumerable||!1;m.configurable=
!0;"value"in m&&(m.writable=!0);Object.defineProperty(b,e(m.key),m)}}function E(b,d,g){d&&u(b.prototype,d);g&&u(b,g);Object.defineProperty(b,"prototype",{writable:!1});return b}function c(b,d,g){d=e(d);d in b?Object.defineProperty(b,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):b[d]=g;return b}function e(b){a:if("object"===k(b)&&null!==b){var d=b[Symbol.toPrimitive];if(void 0!==d){b=d.call(b,"string");if("object"!==k(b))break a;throw new TypeError("@@toPrimitive must return a primitive value.");
}b=String(b)}return"symbol"===k(b)?b:String(b)}function v(b){for(var d=new l.default(65535),g=0,m=b.data,f=0;f<b.height;f++){d.setHue(359*f/b.height);for(var n=0;n<b.width;n++)m[g+q.default.RED_BYTE_OFFSET]=d.rgb>>16&255,m[g+q.default.GREEN_BYTE_OFFSET]=d.rgb>>8&255,m[g+q.default.BLUE_BYTE_OFFSET]=d.rgb&255,m[g+q.default.ALPHA_BYTE_OFFSET]=255,g+=q.default.BYTES_PER_PIXEL}}Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;var a=w(h("jquery")),l=w(h("../util/CPColor.js")),q=w(h("../engine/CPColorBmp.js")),
r=h("./CPGUIUtils.js");C.default=function(){function b(d,g,m){var f=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c(this,"hue",void 0);c(this,"selecter",void 0);c(this,"_canvas",void 0);c(this,"_canvasContext",void 0);c(this,"_imageData",void 0);c(this,"_capturedMouse",!1);this.selecter=g;this.hue=m||0;var n=document.createElement("canvas");this._canvas=n;d.on("colorChange",function(t){f.setHue(t.getHue())});d.on("colorModeChange",function(t){n.style.display=
"greyscale"==t?"none":"block"});n.setAttribute("touch-action","none");n.addEventListener("pointerdown",function(t){return f._startDrag(t)});n.width=24;n.height=128;n.className="chickenpaint-colorpicker-slider";this._canvasContext=n.getContext("2d");this._imageData=this._canvasContext.createImageData(24,128);this._canvasContext.getImageData(0,0,1,1);this._handleEndDrag=this._endDrag.bind(this);this._handleMousePickColor=this._mousePickColor.bind(this);v(this._imageData);this.paint()}E(b,[{key:"paint",
value:function(){this._canvasContext.putImageData(this._imageData,0,0);var d=128*this.hue/360;(0,r.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5;this._canvasContext.beginPath();this._canvasContext.moveTo(0,d);this._canvasContext.lineTo(24,d);this._canvasContext.stroke();this._canvasContext.globalCompositeOperation="source-over"}},{key:"_mousePickColor",value:function(d){d=~~(360*(d.pageY-(0,a.default)(this._canvas).offset().top)/128);this.hue=Math.max(0,
Math.min(359,d));this.paint();this.selecter&&this.selecter.setHue(this.hue)}},{key:"_endDrag",value:function(d){this._canvas.releasePointerCapture(d.pointerId);this._capturedMouse=!1;this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(d){this._capturedMouse||(this._capturedMouse=!0,this._canvas.setPointerCapture(d.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),
this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(d)}},{key:"getElement",value:function(){return this._canvas}},{key:"setHue",value:function(d){this.hue=d;this.paint()}}]);return b}();K.exports=C.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:297}],31:[function(h,K,C){function w(a){return a&&a.__esModule?a:{default:a}}function k(a,l,q){function r(){for(var t=f.style,y=Number(g.getRgb()).toString(16);6>y.length;)y=
"0"+y;t.backgroundColor="#"+y}function b(){var t=document.createElement("div"),y=document.createElement("div"),B=new e.default(d,g),z=new v.default(d,B,g.getHue()),H=new c.default(0,255);t.className="chickenpaint-color-pick-panel";y.className="chickenpaint-colorpicker-top";y.appendChild(B.getElement());y.appendChild(z.getElement());t.appendChild(y);H.value=m;H.title=function(N){return"Opacity: "+N};H.on("valueChange",function(N){d.setAlpha(N)});t.appendChild(H.getElement());setTimeout(function(){H.resize()},
0);return t}var d=this,g=new E.default(0),m=255,f=document.createElement("div");this.getElement=function(){return f};this.setColor=function(t){g.isEqual(t)||(g.copyFrom(t),r(),this.emitEvent("colorChange",[g]))};this.setAlpha=function(t){t!=m&&(m=t,r(),this.emitEvent("alphaChange",[m]))};this.getColorRgb=function(){return g.getRgb()};this.getAlpha=function(){return m};this.setCurColor=this.setColor;f.className="chickenpaint-color-pick-swatch";a&&g.copyFrom(a);l&&(m=l);var n=function(t){0==(0,u.default)(t.target).closest(".popover").length&&
(0,u.default)(t.target).closest(".chickenpaint-color-pick-swatch")[0]!=f&&(0,u.default)(f).popover("hide")};(0,u.default)(f).popover({html:!0,content:function(){window.addEventListener("mousedown",n);return b()},trigger:"manual",placement:"bottom",container:q||!1}).on("click",function(t){t.preventDefault();(0,u.default)(this).popover("toggle")}).on("hidden.bs.popover",function(){window.removeEventListener("mousedown",n)});r()}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;var u=w(h("jquery")),
E=w(h("../util/CPColor.js")),c=w(h("./CPSlider.js")),e=w(h("./CPColorSelect.js")),v=w(h("./CPColorSlider.js"));h=w(h("wolfy87-eventemitter"));k.prototype=Object.create(h.default.prototype);k.prototype.constructor=k;K.exports=C.default},{"../util/CPColor.js":58,"./CPColorSelect.js":29,"./CPColorSlider.js":30,"./CPSlider.js":44,jquery:297,"wolfy87-eventemitter":316}],32:[function(h,K,C){function w(e){return e&&e.__esModule?e:{default:e}}function k(e,v){var a=(0,E.default)('<div class="modal fade" tabindex="-1" role="dialog">\n\t            <div class="modal-dialog">\n\t                <div class="modal-content">\n\t                    <div class="modal-header">\n\t                        <h5 class="modal-title">Complete transform</h5>\n\t                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t                            <span aria-hidden="true">&times;</span>\n\t                        </button>\n\t                    </div>\n\t                    <div class="modal-body">\n\t                        <p>\n\t                            You need to finish transforming this layer before you can do that. What would you like to do with the transform?\n\t\t\t\t\t\t\t</p>\n\t                    </div>\n\t                    <div class="modal-footer">\n\t                        <button type="button" class="btn btn-light" data-dismiss="modal">'.concat((0,c._)("Cancel"),
'</button>\n\t                        <button type="button" class="btn btn-light chickenpaint-reject-transform" data-dismiss="modal">Undo transform</button>\n\t                        <button type="button" class="btn btn-primary chickenpaint-accept-transform" data-dismiss="modal">Apply transform</button>\n\t                    </div>\n\t                </div>\n\t            </div>\n\t        </div>\n\t    ')),l=this,q=(0,E.default)(".chickenpaint-accept-transform",a),r=(0,E.default)(".chickenpaint-reject-transform",
a);q.on("click",function(b){v.actionPerformed({action:"CPTransformAccept"});l.emitEvent("accept")});r.on("click",function(b){v.actionPerformed({action:"CPTransformReject"});l.emitEvent("reject")});a.modal({show:!1}).on("shown.bs.modal",function(){q.focus()}).on("hidden.bs.modal",function(b){a.remove()}).on("keypress",function(b){"Enter"===b.key&&q.trigger("click")});a.data("bs.modal").$body=(0,E.default)(e);e.appendChild(a[0]);this.show=function(){a.modal("show")}}Object.defineProperty(C,"__esModule",
{value:!0});C.default=k;var u=w(h("wolfy87-eventemitter")),E=w(h("jquery")),c=h("../languages/lang.js");k.prototype=Object.create(u.default.prototype);k.prototype.constructor=k;K.exports=C.default},{"../languages/lang.js":54,jquery:297,"wolfy87-eventemitter":316}],33:[function(h,K,C){Object.defineProperty(C,"__esModule",{value:!0});C.createCheckerboardPattern=function(w){for(var k=document.createElement("canvas"),u=k.getContext("2d"),E=u.createImageData(64,64),c=E.data,e=0,v=0;64>v;v++)for(var a=
0;64>a;a++)0!=(a&8)^0!=(v&8)?(c[e++]=255,c[e++]=255,c[e++]=255):(c[e++]=204,c[e++]=204,c[e++]=204),c[e++]=255;k.width=64;k.height=64;u.putImageData(E,0,0);return w.createPattern(k,"repeat")};C.setContrastingDrawStyle=function(w,k){k+="Style";w.globalCompositeOperation="exclusion";"exclusion"==w.globalCompositeOperation?w[k]="white":(w.globalCompositeOperation="difference",w[k]="#888","difference"!=w.globalCompositeOperation&&(w[k]="black"))}},{}],34:[function(h,K,C){Object.defineProperty(C,"__esModule",
{value:!0});C.default=function(u,E){var c=(0,w.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,k._)("Grid options"),'</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Grid size"),
'</label>\n                                    <input type="text" class="form-control chickenpaint-grid-size" value="" autofocus>\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-dismiss="modal">').concat((0,k._)("Cancel"),'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-grid-settings" data-dismiss="modal">').concat((0,k._)("Ok"),
"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),e=(0,w.default)(".chickenpaint-grid-size",c),v=(0,w.default)(".chickenpaint-apply-grid-settings",c);e.val(E.getGridSize());(0,w.default)(".chickenpaint-apply-grid-settings",c).on("click",function(a){a=parseInt(e.val(),10);E.setGridSize(a)});c.modal({show:!1}).on("shown.bs.modal",function(){e.trigger("focus")}).on("keypress",function(a){"Enter"===a.key&&v.trigger("click")});
c.data("bs.modal").$body=(0,w.default)(u);u.appendChild(c[0]);this.show=function(){c.modal("show")}};var w=function(u){return u&&u.__esModule?u:{default:u}}(h("jquery")),k=h("../languages/lang.js");K.exports=C.default},{"../languages/lang.js":54,jquery:297}],35:[function(h,K,C){function w(m){return m&&m.__esModule?m:{default:m}}function k(m){m.preventDefault();m.stopPropagation()}function u(m){var f=document.createElement("span");f.className="fa "+m;return f}function E(m){var f=document.createElement("span");
f.className="chickenpaint-icon chickenpaint-icon-"+m;return f}function c(m,f){var n=document.createElement("div"),t=document.createElement("label");n.className="form-check";m.className="form-check-input";t.className="form-check-label";t.setAttribute("for",m.id);t.appendChild(m);t.appendChild(document.createTextNode(f));n.appendChild(m);n.appendChild(t);return n}function e(m){return{"image-layer":m instanceof d.default,"layer-group":m instanceof b.default,"clipping-mask":m instanceof d.default&&m.clip,
"no-clipping-mask":m instanceof d.default&&!m.clip,"no-clipping-mask-or-is-group":!(m instanceof d.default)||!m.clip,mask:m&&null!==m.mask,"no-mask":m&&null===m.mask,"mask-enabled":m&&null!==m.mask&&m.maskVisible,"mask-disabled":m&&null!==m.mask&&!m.maskVisible}}function v(m){function f(){var ia=z.getActiveLayer();ia=e(ia);for(var ya=0,ta=["clipping-mask","no-clipping-mask-or-is-group"];ya<ta.length;ya++){var Ga=ta[ya];(0,a.default)(".chickenpaint-action-require-"+Ga,oa).css("display",ia[Ga]?"inline-block":
"none")}(0,a.default)("[data-action]",oa).each(function(){var qa=this.getAttribute("data-action");(0,a.default)(this).toggleClass("disabled",!m.isActionAllowed(qa))})}function n(){var ia=z.getActiveLayer();ia.getAlpha()!=G.value&&G.setValue(ia.getAlpha());for(var ya=z.getActiveLayer();I.lastChild;)I.removeChild(I.lastChild);for(var ta=q.default.LM_FIRST;ta<=q.default.LM_LAST;ta++)if(ta!=q.default.LM_MULTIPLY2&&(ta==ya.blendMode||ta===q.default.LM_PASSTHROUGH&&ya instanceof b.default||ta<=q.default.LM_LAST_CHIBIPAINT)){var Ga=
document.createElement("option");Ga.appendChild(document.createTextNode((0,g._)(q.default.BLEND_MODE_DISPLAY_NAMES[ta])));Ga.value=ta!==q.default.LM_MULTIPLY||ya.blendMode===ta||ya.useLegacyMultiply?ta:q.default.LM_MULTIPLY2;I.appendChild(Ga)}ia.getBlendMode()!=parseInt(I.value,10)&&(I.value=ia.getBlendMode());ia.getLockAlpha()!=ha.checked&&(ha.checked=ia.getLockAlpha());f()}function t(){z=this;F.resize();n()}var y=this;l.default.call(this,m,"layers","Layers",{resizeHorz:!0,resizeVert:!0});var B=
this,z=m.getArtwork(),H=null,N=this.getBodyElement(),x=this.getElement(),F=new function(){var ia;function ya(ma){"button"in ma&&0!==ma.button||(Ma(),(0,a.default)(this).off("click",ya))}function ta(ma){var W=(0,a.default)(".chickenpaint-layer",Ja);return W.get(W.length-1-ma)}function Ga(ma){ma=(0,a.default)(ma).closest(".chickenpaint-layer");if(ma.length){var W=(0,a.default)(".chickenpaint-layer",Ja);return W.length-1-W.index(ma)}return-1}function qa(ma,W){var Z=(0,a.default)(".chickenpaint-layer",
Ja);ma={layer:H[H.length-1],displayIndex:H.length-1,direction:"over"};for(var D=0;D<Z.length;D++){var J=Z[Z.length-1-D].getBoundingClientRect();if(0===D&&W>J.bottom){ma=z.getLayersRoot().layers[0];ma={layer:ma,displayIndex:H.indexOf(ma),direction:"under"};break}else if(W>=J.top){Z=H[D];var Y=J.bottom-J.top;ma={layer:Z,displayIndex:D};Z instanceof b.default?W>=J.top+.75*Y?Z.expanded&&0<Z.layers.length?(ma.layer=Z.layers[Z.layers.length-1],ma.displayIndex--,ma.direction="over"):ma.direction="under":
W>=J.top+.25*Y?Z.expanded&&0<Z.layers.length?(ma.layer=Z.layers[Z.layers.length-1],ma.displayIndex--,ma.direction="over"):ma.direction="inside":ma.direction="over":ma.direction=W>=J.top+.5*Y?"under":"over";break}}return ma.layer.parent==ra.layer.parent&&("over"==ma.direction||"under"==ma.direction)&&(W=ma.layer.parent,D=W.indexOf(ma.layer),"over"==ma.direction&&W.layers[D+1]==ra.layer||"under"==ma.direction&&W.layers[D-1]==ra.layer||ma.layer==ra.layer)?null:ra.layer instanceof b.default&&(ma.layer==
ra.layer&&"inside"==ma.direction||ma.layer.hasAncestor(ra.layer))?null:ma}function Pa(){if(2===ra.state){var ma=x.getBoundingClientRect(),W=!0,Z=!0;ra.dropTarget=qa(ra.dragX,ra.dragY);if(ra.dropTarget){var D=ta(ra.dropTarget.displayIndex);switch(ra.dropTarget.direction){case "over":case "under":Ja.appendChild(ra.dropBetweenMarkerElem);W=ra.dropTarget.layer.getDepth()-1;var J;D=D.getBoundingClientRect();if("under"==ra.dropTarget.direction&&ra.dropTarget.layer instanceof b.default&&ra.dropTarget.layer.expanded){for(J=
ra.dropTarget.displayIndex-1;0<=J&&H[J].hasAncestor(ra.dropTarget.layer);J--);J=ta(J+1).getBoundingClientRect().bottom}else J=D.bottom;W=D.left-ma.left+(0<W?26+16*W:0);ra.dropBetweenMarkerElem.style.left=W+"px";ra.dropBetweenMarkerElem.style.width=D.right-ma.left-W+"px";ra.dropBetweenMarkerElem.style.top=("over"==ra.dropTarget.direction?D.top-1:J+1)-ma.top+"px";(0,a.default)(".chickenpaint-layer-drop-target",Ja).removeClass("chickenpaint-layer-drop-target");W=!1;break;case "inside":var Y=(0,a.default)(".chickenpaint-layer",
Ja);Y.each(function(za){(0,a.default)(this).toggleClass("chickenpaint-layer-drop-target",Y.length-1-za==ra.dropTarget.displayIndex)});Z=!1}}Z&&(0,a.default)(".chickenpaint-layer-drop-target",Ja).removeClass("chickenpaint-layer-drop-target");W&&(0,a.default)(ra.dropBetweenMarkerElem).remove();ra.frameElem.style.top=ra.dragY-ma.top-parseInt(ra.frameElem.style.height,10)/2+"px"}else(0,a.default)(ra.dropBetweenMarkerElem).remove(),(0,a.default)(ra.frameElem).remove()}function $a(ma){var W=ma.getImageThumbnail().getAsCanvas(ba);
W.title=(0,g._)("Image");W.className="chickenpaint-layer-thumbnail chickenpaint-layer-image-thumbnail";W.style.maxWidth=W.width/W.height*25+"px";ma!=z.getActiveLayer()||z.isEditingMask()||(W.className+=" active");return W}function gb(ma){var W=ma.getMaskThumbnail().getAsCanvas(ba);W.title=(0,g._)("Layer mask");W.className="chickenpaint-layer-thumbnail chickenpaint-layer-mask-thumbnail";W.style.maxWidth=W.width/W.height*25+"px";ma==z.getActiveLayer()&&z.isEditingMask()&&(W.className+=" active");ma.maskVisible||
(W.className+=" disabled",ma=W.getContext("2d"),ma.strokeStyle="red",ma.lineWidth=3,ma.moveTo(5,5),ma.lineTo(W.width-5,W.height-5),ma.moveTo(W.width-5,5),ma.lineTo(5,W.height-5),ma.stroke());return W}function S(ma,W){var Z=document.createElement("div"),D=document.createElement("div"),J=document.createElement("div"),Y=document.createElement("div"),za=document.createElement("div"),Qa=document.createElement("div"),Ua=document.createElement("div");Z.className="chickenpaint-layer list-group-item";W==z.getActiveLayer()&&
(Z.className+=" active");D.className="chickenpaint-layer-eye";W.ancestorsAreVisible()||(D.className+=" chickenpaint-layer-eye-hidden-ancestors");D.style.marginRight=2+16*(W.getDepth()-1)+"px";W.visible?(Z.className+=" chickenpaint-layer-visible",D.appendChild(u("fa-eye"))):(Z.className+=" chickenpaint-layer-hidden",D.appendChild(u("fa-eye-slash")));Z.appendChild(D);J.className="chickenpaint-layer-description";W instanceof d.default?(W.clip&&(Z.className+=" chickenpaint-layer-clipped",Y.appendChild(u("fa-level-down-alt fa-flip-horizontal"))),
W.lockAlpha&&(D=E("lock-alpha"),D.title=(0,g._)("Transparency locked"),Qa.appendChild(D))):W instanceof b.default&&(Z.className+=" chickenpaint-layer-group",W.expanded?(Z.className+=" chickenpaint-layer-group-expanded",Y.appendChild(u("fa-folder-open chickenpaint-layer-group-toggle"))):(Z.className+=" chickenpaint-layer-group-collapsed",Y.appendChild(u("fa-folder chickenpaint-layer-group-toggle"))));Y.childNodes.length&&(Y.className="chickenpaint-layer-icons",Z.appendChild(Y));try{W instanceof d.default&&
Z.appendChild($a(W)),W.mask&&Z.appendChild(gb(W))}catch(Db){console.log("Failed to create layer thumb")}Y=W.name&&0<W.name.length?W.name:"(unnamed "+(W instanceof b.default?"group":"layer")+")";za.innerText=Y;za.setAttribute("title",Y);za.className="chickenpaint-layer-name";Ua.innerText=(0,g._)(q.default.BLEND_MODE_DISPLAY_NAMES[W.blendMode])+": "+W.alpha+"%";Ua.className="chickenpaint-layer-blend";J.appendChild(za);J.appendChild(Ua);Z.appendChild(J);Qa.className="chickenpaint-layer-status";Z.appendChild(Qa);
Z.setAttribute("data-display-index",""+ma);Z.setAttribute("data-toggle","dropdown");Z.setAttribute("data-target","#chickenpaint-layer-pop");return Z}function da(ma){if(-1<ma){var W=H[ma];ma=ta(ma);W&&ma&&M.show(W,ma)}}function xa(ma){var W=Ga(ma.target);if(-1!=W){var Z=z.getActiveLayer(),D=e(Z);ea=Z;ia=ma.clientX;ma=0;for(Z=["image-layer","layer-group","clipping-mask","no-clipping-mask","no-mask"];ma<Z.length;ma++){var J=Z[ma];(0,a.default)(".chickenpaint-action-require-"+J,U).toggle(D[J])}ma=0;for(Z=
["mask","mask-enabled","mask-disabled"];ma<Z.length;ma++)J=Z[ma],(0,a.default)(".chickenpaint-action-require-"+J,U).toggle(aa&&D[J]);(0,a.default)("[data-action]",U).each(function(){var Y=this.getAttribute("data-action");(0,a.default)(this).parent().toggleClass("disabled","CPRenameLayer"!==Y&&!m.isActionAllowed(Y))});(0,a.default)(ta(W)).dropdown("toggle").off("click.bs.dropdown");(0,a.default)(document).off("click.bs.dropdown.data-api")}}function Ha(ma){switch(ra.state){case 2:(0,a.default)(ra.layerElem).removeClass("chickenpaint-layer-dragging");
ra.dropTarget&&("inside"==ra.dropTarget.direction?m.actionPerformed({action:"CPRelocateLayer",layer:ra.layer,toGroup:ra.dropTarget.layer,toIndex:ra.dropTarget.layer.layers.length}):m.actionPerformed({action:"CPRelocateLayer",layer:ra.layer,toGroup:ra.dropTarget.layer.parent,toIndex:ra.dropTarget.layer.parent.indexOf(ra.dropTarget.layer)+("over"==ra.dropTarget.direction?1:0)}));ra.dropTarget=null;ra.state=0;Pa();break;default:ra.state=0}ua&&(clearTimeout(ua),ua=null);Ja.releasePointerCapture(ma.pointerId);
Ja.removeEventListener("pointermove",rb);Ja.removeEventListener("pointerup",Ha)}function Xa(){ra.state=2;ra.frameElem=document.createElement("div");ra.frameElem.className="chickenpaint-layer-drag-frame";ra.frameElem.style.width=(0,a.default)(ra.layerElem).outerWidth(!1)+"px";ra.frameElem.style.height=(0,a.default)(ra.layerElem).outerHeight(!1)+"px";ra.dropBetweenMarkerElem=document.createElement("div");ra.dropBetweenMarkerElem.className="chickenpaint-layer-drop-between-mark";ra.layerElem.className+=
" chickenpaint-layer-dragging";Ja.appendChild(ra.frameElem)}function rb(ma){ma=ma.clientY;switch(ra.state){case 3:if(5<Math.abs(ma-ra.dragY))ra.state=4;else break;case 4:ab.scrollTop=ra.initialScrollTop+ra.dragY-ma;break;case 1:if(5<Math.abs(ma-ra.dragY))Xa();else break;case 2:ra.dragY=ma,Pa()}}function tb(ma,W,Z){try{Z?(0,a.default)(".chickenpaint-layer-mask-thumbnail",ma).replaceWith(gb(W)):(0,a.default)(".chickenpaint-layer-image-thumbnail",ma).replaceWith($a(W))}catch(D){}}function Ma(){(0,a.default)(x).hasClass("show")&&
(0,a.default)(x).dropdown("toggle").off("click.bs.dropdown")}var ra={state:0,layer:null,layerElem:null,dragX:0,dragY:0,initialScrollTop:0,dropTarget:null,dropBetweenMarkerElem:null,frameElem:null},Na=document.createElement("div"),Ja=document.createElement("div"),ab=Ja,U=function(){var ma=document.createElement("div");ma.className="dropdown-menu";for(var W=0,Z=[{title:"Rename...",action:"CPRenameLayer"},{require:["image-layer"],title:"Delete layer",action:"CPRemoveLayer"},{require:["layer-group"],
title:"Delete group",action:"CPRemoveLayer"},{require:["image-layer","no-clipping-mask"],title:"Clip to the layer below",action:"CPCreateClippingMask"},{require:["image-layer","clipping-mask"],title:"Unclip from the layer below",action:"CPReleaseClippingMask"},{require:["no-mask"],title:"Add mask",action:"CPAddLayerMask"},{require:["mask"],title:"Delete mask",action:"CPRemoveLayerMask"},{require:["mask"],title:"Apply mask",action:"CPApplyLayerMask"},{require:["layer-group"],title:"Merge group",action:"CPGroupMerge"},
{require:["mask-enabled"],title:"Disable mask",action:"CPSetMaskVisible",actionData:{visible:"false"}},{require:["mask-disabled"],title:"Enable mask",action:"CPSetMaskVisible",actionData:{visible:"true"}}];W<Z.length;W++){var D=Z[W],J=document.createElement("a");J.className="dropdown-item";D.require&&(J.className=J.className+" "+D.require.map(function(za){return"chickenpaint-action-require-"+za}).join(" "));J.href="#";J.innerHTML=(0,g._)(D.title);J.setAttribute("data-action",D.action);if(D.actionData)for(var Y in D.actionData)D.actionData.hasOwnProperty(Y)&&
J.setAttribute("data-action-"+Y,D.actionData[Y]);ma.appendChild(J)}return ma}(),ba=ia=0,ea=null,aa=!1,ua=null;this.buildLayers=function(){H=z.getLayersRoot().getLinearizedLayerList(!0);var ma=H.map(function(D,J){return S(J,D)}),W=document.createDocumentFragment();(0,a.default)(Ja).empty();for(var Z=ma.length-1;0<=Z;Z--)W.appendChild(ma[Z]);Ja.appendChild(W);Pa()};this.layerChanged=function(ma){var W=H.indexOf(ma),Z=(0,a.default)(ta(W));0===Z.length||ma instanceof b.default&&(ma.expanded!=(0,a.default)(Z).hasClass("chickenpaint-layer-group-expanded")||
ma.visible!=(0,a.default)(Z).hasClass("chickenpaint-layer-visible"))?this.buildLayers():Z.replaceWith(S(W,ma))};this.setRotation90=function(ma){if(ba!=ma)for(ba=ma,ma=0;ma<H.length;ma++){var W=H[ma],Z=(0,a.default)(ta(ma));0<Z.length&&(tb(Z,W,!1),W.mask&&tb(Z,W,!0))}};this.layerImageThumbChanged=function(ma){var W=H.indexOf(ma);W=(0,a.default)(ta(W));0<W.length&&tb(W,ma,!1)};this.layerMaskThumbChanged=function(ma){var W=H.indexOf(ma);W=(0,a.default)(ta(W));0<W.length&&(ma.mask?tb(W,ma,!0):(0,a.default)(".chickenpaint-layer-mask-thumbnail",
W).remove())};this.activeLayerChanged=function(ma,W){(0,a.default)(".active",Ja).removeClass("active");ma=(0,a.default)(ta(H.indexOf(ma)));ma.addClass("active");(0,a.default)(".chickenpaint-layer-image-thumbnail",ma).toggleClass("active",!W);(0,a.default)(".chickenpaint-layer-mask-thumbnail",ma).toggleClass("active",W)};this.resize=function(){B.dismissNotification();this.buildLayers()};this.getElement=function(){return Na};this.revealLayer=function(ma){ma=ta(ma);var W=ma.getBoundingClientRect(),Z=
Ja.getBoundingClientRect();ab.scrollTop=Math.max(Math.min(Math.max(ab.scrollTop,ab.scrollTop+W.bottom-Z.bottom),ab.scrollTop+W.top-Z.top),0);return ma};x.id="chickenpaint-layer-pop";Na.className="chickenpaint-layers-widget well";Na.addEventListener("contextmenu",function(ma){return ma.preventDefault()},!0);U.addEventListener("click",function(ma){var W=ma.target.getAttribute("data-action");if(W){ma.preventDefault();Ma();m.actionPerformed({action:"CPSetActiveLayer",layer:ea,mask:z.isEditingMask()});
var Z={action:W,layer:ea};ma=ma.target.attributes;for(var D=0;D<ma.length;D++){var J=ma[D].name.match(/^data-action-(.+)/);J&&(Z[J[1]]=JSON.parse(ma[D].value))}"CPRenameLayer"===W?da(H.indexOf(ea)):m.actionPerformed(Z)}});Ja.className="list-group";Ja.addEventListener("dblclick",function(ma){0===ma.button&&0<(0,a.default)(ma.target).closest(".chickenpaint-layer-description").length&&0===(0,a.default)(ma.target).closest("input").length&&(da(Ga(ma.target)),ma.preventDefault())});Ja.addEventListener("pointerdown",
function(ma){var W=(0,a.default)(ma.target).closest(".chickenpaint-layer")[0];W=Ga(W);if(-1!=W){var Z=H[W];if(0==ma.button&&(0,a.default)(ma.target).closest(".chickenpaint-layer-eye").length)m.actionPerformed({action:"CPSetLayerVisibility",layer:Z,visible:!Z.visible});else if(0==ma.button&&Z instanceof b.default&&(0,a.default)(ma.target).closest(".chickenpaint-layer-group-toggle").length)m.actionPerformed({action:"CPExpandLayerGroup",group:Z,expand:!Z.expanded});else{var D=z.getActiveLayer()!=Z;aa=
0<(0,a.default)(ma.target).closest(".chickenpaint-layer-mask-thumbnail").length||Z instanceof b.default&&null!==Z.mask&&D;if(0==ma.button&&ma.shiftKey&&aa)m.actionPerformed({action:"CPSetMaskVisible",layer:Z,visible:!Z.maskVisible});else{var J=0==ma.button||D?aa:z.isEditingMask();var Y=z.isEditingMask()!=J;(D||Y)&&m.actionPerformed({action:"CPSetActiveLayer",layer:Z,mask:J});J&&ma.altKey?m.actionPerformed({action:"CPToggleMaskView"}):0==ma.button?("pen"===ma.pointerType||"touch"===ma.pointerType?
(ra.state=3,ra.initialScrollTop=ab.scrollTop,ua&&clearTimeout(ua),ua=setTimeout(function(){3===ra.state&&(Xa(),ra.dragY=ma.clientY,Pa())},800)):ra.state=1,ra.dropTarget=null,ra.layer=Z,ra.layerElem=ta(W),ra.dragX=ma.clientX,ra.dragY=ma.clientY,Ja.setPointerCapture(ma.pointerId),Ja.addEventListener("pointermove",rb),Ja.addEventListener("pointerup",Ha)):2==ma.button&&(ma.preventDefault(),xa(ma))}}}});Ja.setAttribute("touch-action","none");for(var Ea=0,Fa=["ontouchstart","ontouchmove","ontouchend","ontouchcancel"];Ea<
Fa.length;Ea++)Ja.addEventListener(Fa[Ea],k);Na.appendChild(Ja);Na.appendChild(U);(0,a.default)(x).on("show.bs.dropdown",function(ma){var W=(0,a.default)(ma.relatedTarget)[0];ma=(0,a.default)(x).find(".dropdown-menu");W=W.getBoundingClientRect();var Z=x.getBoundingClientRect();ma.css({left:ia-ma.outerWidth(!0)-Z.left+1+"px",top:W.top-ma.outerHeight(!0)/2-Z.top+"px"});(0,a.default)(document).on("click",ya)})},G=new r.default(0,100),I=document.createElement("select"),M=new function(){var ia=null,ya=
"",ta=document.createElement("input"),Ga=this;this.hide=function(){ia=null;var qa=(0,a.default)(ta).parent();qa&&((0,a.default)(ta).remove(),qa.text(ya))};this.renameAndHide=function(){ia&&ia.name!=ta.value&&m.actionPerformed({action:"CPSetLayerName",layer:ia,name:ta.value});this.hide()};this.show=function(qa,Pa){ia=qa;ya=ia.name;ta.value=ya;(0,a.default)(".chickenpaint-layer-name",Pa).empty().append(ta);ta.select()};ta.type="text";ta.className="chickenpaint-layer-rename form-control input-sm";ta.addEventListener("keydown",
function(qa){qa.stopPropagation()});ta.addEventListener("keypress",function(qa){"Enter"===qa.key&&Ga.renameAndHide();qa.stopPropagation()});ta.addEventListener("keyup",function(qa){"Escape"===qa.key&&Ga.hide();qa.stopPropagation()});ta.addEventListener("blur",function(qa){ia&&Ga.renameAndHide()})},R=document.createElement("input"),ha=document.createElement("input"),ca=!1,sa=this.setSize,na=this.setWidth,Q=this.setHeight;this.setSize=function(ia,ya){sa.call(this,ia,ya);this.dismissNotification();G.resize()};
this.setWidth=function(ia){na.call(this,ia);G.resize();F.resize()};this.setHeight=function(ia){Q.call(this,ia);F.resize()};this.setRotation90=function(ia){F.setRotation90(ia)};this.dismissNotification=function(){(0,a.default)(".chickenpaint-layer[aria-describedby],.chickenpaint-slider[aria-describedby]",N).each(function(ia,ya){ya=(0,a.default)(ya);ya.data("bs.popover")&&ya.popover("dispose")});ca&&(clearTimeout(ca),ca=!1)};this.showNotification=function(ia,ya,ta){var Ga=H.indexOf(ia);ia=z.getActiveLayer()==
ia&&"opacity"==ta?G.getElement():F.revealLayer(Ga);y.dismissNotification();(0,a.default)(ia).popover({html:!1,content:ya,placement:"left",trigger:"manual",fallbackPlacement:[],boundary:"window",container:B.getElement()}).popover("show");ca=setTimeout(function(){ca=!1;y.dismissNotification()},Math.max(Math.round(70*ya.length),3E3))};I.className="form-control form-control-sm";I.title=(0,g._)("Layer blending mode");I.addEventListener("change",function(ia){m.actionPerformed({action:"CPSetLayerBlendMode",
blendMode:parseInt(I.value,10)})});N.appendChild(I);G.title=function(ia){return(0,g._)("Opacity")+": "+ia+"%"};G.on("valueChange",function(ia){m.actionPerformed({action:"CPSetLayerAlpha",alpha:ia})});N.appendChild(G.getElement());R.id="chickenpaint-chk-sample-all-layers";R.type="checkbox";R.addEventListener("click",function(ia){z.setSampleAllLayers(R.checked)});N.appendChild(c(R,(0,g._)("Sample all layers")));ha.id="chickenpaint-chk-lock-alpha";ha.type="checkbox";ha.addEventListener("click",function(ia){m.actionPerformed({action:"CPSetLayerLockAlpha",
lock:ha.checked})});N.appendChild(c(ha,(0,g._)("Lock transparency")));N.appendChild(F.getElement());var oa=function(){var ia=[{title:"Add layer",icon:u("fa-file"),action:"CPAddLayer"},{title:"Add group",icon:u("fa-folder"),action:"CPAddGroup"},{title:"Add layer mask",icon:E("mask"),action:"CPAddLayerMask"},{title:"Clip to the layer below",icon:u("fa-level-down-alt fa-flip-horizontal"),action:"CPCreateClippingMask",require:"no-clipping-mask-or-is-group"},{title:"Unclip from the layer below",icon:u("fa-level-down-alt fa-flip-horizontal"),
action:"CPReleaseClippingMask",require:"clipping-mask"},{title:"Delete layer",icon:u("fa-trash"),action:"CPRemoveLayer"}],ya=document.createElement("ul");ya.className="chickenpaint-layer-buttons list-unstyled";for(var ta=function(){var Pa=qa[Ga],$a=document.createElement("li");$a.setAttribute("data-action",Pa.action);$a.className="chickenpaint-small-toolbar-button "+(Pa.require?"chickenpaint-action-require-"+Pa.require:"");$a.title=(0,g._)(Pa.title);$a.appendChild(Pa.icon);$a.addEventListener("click",
function(){m.actionPerformed({action:Pa.action})});ya.appendChild($a)},Ga=0,qa=ia;Ga<qa.length;Ga++)ta();return ya}();N.appendChild(oa);z.on("changeActiveLayer",function(ia,ya,ta){F.activeLayerChanged(ya,ta);n()});z.on("changeLayer",function(ia){z=this;B.dismissNotification();F.layerChanged(ia);n()});z.on("changeStructure",t);z.on("changeLayerMaskThumb",function(ia){z=this;F.layerMaskThumbChanged(ia)});z.on("changeLayerImageThumb",function(ia){z=this;F.layerImageThumbChanged(ia)});m.on("layerNotification",
this.showNotification.bind(this));t.call(z)}Object.defineProperty(C,"__esModule",{value:!0});C.default=v;var a=w(h("jquery")),l=w(h("./CPPalette.js")),q=w(h("../engine/CPBlend.js")),r=w(h("./CPSlider.js")),b=w(h("../engine/CPLayerGroup.js"));w(h("../engine/CPLayer.js"));var d=w(h("../engine/CPImageLayer.js")),g=h("../languages/lang.js");v.prototype=Object.create(l.default.prototype);v.prototype.constructor=v;K.exports=C.default},{"../engine/CPBlend.js":5,"../engine/CPImageLayer.js":15,"../engine/CPLayer.js":16,
"../engine/CPLayerGroup.js":17,"../languages/lang.js":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:297}],36:[function(h,K,C){function w(v){return v&&v.__esModule?v:{default:v}}function k(v,a){var l=this,q=document.createElement("div"),r=new E.default(v),b=new c.default(v),d=!1,g=this;this.togglePalettes=function(){b.togglePalettes()};this.arrangePalettes=function(){setTimeout(b.arrangePalettes.bind(b),0)};this.constrainPalettes=function(){b.constrainPalettes()};this.showPalette=function(f,n){b.showPaletteByName(f,
n)};this.getSwatches=function(){return b.palettes.swatches.getSwatches()};this.setSwatches=function(f){b.palettes.swatches.setSwatches(f)};this.getPaletteManager=function(){return b};this.setRotation90=function(f){r.setRotation(f*Math.PI/2);b.palettes.layers.setRotation90(f)};this.setFullScreenMode=function(f){d!==f&&(d=f,g.resize(),g.arrangePalettes())};this.resize=function(){var f=(0,u.default)(window).height(),n=(0,u.default)(m.getElement()).outerHeight();r.resize(d?f-n:Math.min(Math.max(f-n-65,
500),850),!1);g.constrainPalettes()};var m=new e.default(v,this);a.appendChild(m.getElement());q.className="chickenpaint-main-section";q.appendChild(r.getElement());q.appendChild(b.getElement());a.appendChild(q);r.on("canvasRotated90",function(f){b.palettes.layers.setRotation90(f)});window.addEventListener("resize",this.resize.bind(this));v.on("fullScreen",function(f){return l.setFullScreenMode(f)});v.on("toolbarStyleChange",function(f){(0,u.default)(a).toggleClass("chickenpaint-toolbar-style-old",
"old"===f)});v.on("unsavedChanges",function(f){(0,u.default)(a).toggleClass("chickenpaint-unsaved",f)});setTimeout(this.resize.bind(this),0)}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;var u=w(h("jquery")),E=w(h("./CPCanvas.js")),c=w(h("./CPPaletteManager.js")),e=w(h("./CPMainMenu.js"));h=w(h("wolfy87-eventemitter"));k.prototype=Object.create(h.default.prototype);k.prototype.constructor=k;K.exports=C.default},{"./CPCanvas.js":26,"./CPMainMenu.js":37,"./CPPaletteManager.js":40,jquery:297,
"wolfy87-eventemitter":316}],37:[function(h,K,C){function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(C,"__esModule",{value:!0});C.default=function(e,v){function a(m){var f=m.data("action"),n=m.data("checkbox");e.isActionAllowed(f)&&(n?(m.toggleClass("selected"),m=m.hasClass("selected")):m=!1,e.actionPerformed({action:f,checkbox:n,selected:m}))}function l(m){m=m.toUpperCase();m=m.replace(/(,.+)$/,"");m=m.replace("ctrl+=","ctrl++");m=m.replace("\u2318+=","\u2318++");return m=b?
m.replace(/([^+])\+/g,"$1"):m.replace(/([^+])\+/g,"$1 ")}function q(m){(0,k.default)("[data-action]",m).each(function(){var y=(0,k.default)(this),B=this.getAttribute("data-action");B=e.isActionAllowed(B);y.toggleClass("disabled",!B).toggleClass("hidden",!B&&!0===y.data("hideIfNotAvailable"))});(0,k.default)(".dropdown-divider",m).removeClass("hidden");m=(0,k.default)(".dropdown-item:not(.hidden),.dropdown-divider:not(.hidden)",m);for(var f=null,n=0;n<m.length;n++){var t=(0,k.default)(m[n]);t.hasClass("dropdown-divider")?
0===n||f?t.addClass("hidden"):f=t:f=null}f&&f.addClass("hidden")}var r=(0,k.default)('<nav class="navbar navbar-expand-md navbar-light bg-light"><a class="navbar-brand" href="#">ChickenPaint</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#chickenpaint-main-menu-content" aria-controls="chickenpaint-main-menu-content" aria-expanded="false" aria-label="Toggle main menu"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="chickenpaint-main-menu-content"><ul class="navbar-nav mr-auto"></ul></div><div class="widget-nav" id="chickenpaint-palette-toggler-content"/></nav>'),
b=/^Mac/i.test(navigator.platform);this.getElement=function(){return r[0]};(function(m,f){m.append(f.map(function(n){var t=(0,k.default)('<li class="nav-item dropdown"><a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">'+(0,E._)(n.name)+'</a><div class="dropdown-menu"></div></li>');(0,k.default)(".dropdown-toggle",t).dropdown();t.on("show.bs.dropdown",function(){q(t);(0,k.default)(document).one("click",function(){t.hasClass("show")&&
(0,k.default)(".dropdown-toggle",t).dropdown("toggle")})});(0,k.default)(".dropdown-menu",t).append(n.children.map(function(y){if(!y.action||e.isActionSupported(y.action)){"CPSend"!=y.action||e.isActionSupported("CPContinue")||(y.name=(0,E._)("Post Oekaki"),y.shortcut="ctrl+p");if("-"==y.name)var B=(0,k.default)('<div class="dropdown-divider"></div>');else B=(0,k.default)('<a class="dropdown-item" href="#" data-action="'+y.action+'"><span>'+(0,E._)(y.name)+"</span></a>"),y.checkbox&&(0,k.default)(B).data("checkbox",
!0).toggleClass("selected",!!y.checked),y.hideIfNotAvailable&&B.data("hideIfNotAvailable",!0);y.title&&B.attr("title",(0,E._)(y.title));if(y.shortcut){var z=B,H=document.createElement("small");b&&(y.shortcut=y.shortcut.replace(/SHIFT/im,"\u21e7"),y.shortcut=y.shortcut.replace(/ALT/im,"\u2325"),y.shortcut=y.shortcut.replace(/CTRL/im,"\u2318"));H.className="chickenpaint-shortcut";H.innerHTML=l(y.shortcut);z.append(H);(0,u.default)(y.shortcut,function(N){a(z);N.preventDefault();N.stopPropagation();return!1})}return B}}));
return t}))})((0,k.default)(".navbar-nav",r),c);(function(m,f){m.append(f.filter(function(n){return!!n.mnemonic&&e.isActionSupported(n.action)}).map(function(n){var t=(0,k.default)('<button class="widget-toggler selected" type="button" data-action="'.concat(n.action,'" data-checkbox="true" data-selected="').concat(!n.checked,'">')+"<span>"+n.mnemonic+"</span></button>");t.on("click",function(y){a(t);y.preventDefault()});return t}))})((0,k.default)(".widget-nav",r),c[5].children);(0,k.default)(r).on("click",
"a:not(.dropdown-toggle)",function(m){a((0,k.default)(this));m.preventDefault()});(0,k.default)(".navbar-toggler",r).on("click",function(m){(0,k.default)(".collapse",r).collapse("toggle");m.preventDefault()});v.getPaletteManager().on("paletteVisChange",function(m,f){(0,k.default)('[data-action="CPPal'+m.substring(0,1).toUpperCase()+m.substring(1)+'"]',r).toggleClass("selected",f)});var d=(0,k.default)(".dropdown-item[data-action=CPFullScreen]",r),g=(0,k.default)(".dropdown-item[data-action=CPToolbarStyle]",
r);e.on("fullScreen",function(m){return d.toggleClass("selected",m)});d.toggleClass("selected",e.isFullScreen());e.on("toolbarStyleChange",function(m){return g.toggleClass("selected","old"===m)});g.toggleClass("selected","old"===e.getToolbarStyle())};var k=w(h("jquery")),u=w(h("../../lib/keymaster.js")),E=h("../languages/lang.js"),c=[{name:"File",mnemonic:"F",children:[{name:"Save to my computer",action:"CPSave",mnemonic:"S",shortcut:"ctrl+s"},{name:"Save Oekaki",action:"CPSend",mnemonic:"S",shortcut:"ctrl+s"}]},
{name:"Edit",mnemonic:"E",children:[{name:"Undo",action:"CPUndo",mnemonic:"U",shortcut:"ctrl+z",title:"Undoes the most recent action"},{name:"Redo",action:"CPRedo",mnemonic:"R",shortcut:"shift+ctrl+z",title:"Redoes a previously undone action"},{name:"Clear history",action:"CPClearHistory",mnemonic:"H",title:"Removes all undo/redo information to regain memory"},{name:"-"},{name:"Cut",action:"CPCut",mnemonic:"T",shortcut:"ctrl+x"},{name:"Copy",action:"CPCopy",mnemonic:"C",shortcut:"ctrl+c"},{name:"Copy merged",
action:"CPCopyMerged",mnemonic:"Y",shortcut:"shift+ctrl+c"},{name:"Paste",action:"CPPaste",mnemonic:"P",shortcut:"ctrl+v"},{name:"-"},{name:"Select all",action:"CPSelectAll",mnemonic:"A",shortcut:"ctrl+a"},{name:"Deselect",action:"CPDeselectAll",mnemonic:"D",shortcut:"ctrl+d"},{name:"-"},{name:"Transform",action:"CPTransform",mnemonic:"T",shortcut:"ctrl+y"}]},{name:"Layers",mnemonic:"L",children:[{name:"Duplicate",action:"CPLayerDuplicate",mnemonic:"D",shortcut:"shift+ctrl+d",title:"Creates a copy of the currently selected layer"},
{name:"-"},{name:"Merge down",action:"CPLayerMergeDown",mnemonic:"E",shortcut:"ctrl+e",title:"Merges the currently selected layer with the one directly below it"},{name:"Merge group",action:"CPGroupMerge",mnemonic:"G",title:"Merges the contents of the selected group"},{name:"Merge all layers",action:"CPLayerMergeAll",mnemonic:"A",title:"Merges all the layers"},{name:"-"},{hideIfNotAvailable:!0,name:"Add layer mask",action:"CPAddLayerMask"},{hideIfNotAvailable:!0,name:"Delete layer mask",action:"CPRemoveLayerMask"},
{hideIfNotAvailable:!0,name:"Apply layer mask",action:"CPApplyLayerMask"},{name:"-"},{hideIfNotAvailable:!0,name:"Clip to the layer below",action:"CPCreateClippingMask"},{hideIfNotAvailable:!0,name:"Unclip from the layer below",action:"CPReleaseClippingMask"}]},{name:"Effects",mnemonic:"E",children:[{name:"Clear",action:"CPClear",mnemonic:"D",shortcut:"del,backspace",title:"Clears the selected area"},{name:"Fill",action:"CPFill",mnemonic:"F",shortcut:"ctrl+f",title:"Fills the selected area with the current color"},
{name:"Flip horizontal",action:"CPHFlip",mnemonic:"H",shortcut:"h",title:"Flips the current selected area horizontally"},{name:"Flip vertical",action:"CPVFlip",mnemonic:"V",title:"Flips the current selected area vertically"},{name:"Invert",action:"CPFXInvert",mnemonic:"I",title:"Invert the image colors"},{name:"-"},{name:"Box blur...",action:"CPFXBoxBlur",mnemonic:"B",title:"Blur effect"},{name:"-"},{name:"Monochromatic noise",action:"CPMNoise",mnemonic:"M",title:"Fills the selection with noise"},
{name:"Color noise",action:"CPCNoise",mnemonic:"C",title:"Fills the selection with colored noise"}]},{name:"View",mnemonic:"V",children:[{name:"Full-screen mode",action:"CPFullScreen",mnemonic:"F",checkbox:!0,checked:!1},{name:"-"},{name:"Zoom in",action:"CPZoomIn",mnemonic:"I",shortcut:"ctrl+=",title:"Zooms in"},{name:"Zoom out",action:"CPZoomOut",mnemonic:"O",shortcut:"ctrl+-",title:"Zooms out"},{name:"Zoom 100%",action:"CPZoom100",mnemonic:"1",shortcut:"ctrl+0",title:"Resets the zoom factor to 100%"},
{action:"CPLinearInterpolation",name:"-"},{name:"Smooth-out zoomed canvas",action:"CPLinearInterpolation",mnemonic:"L",title:"Linear interpolation is used to give a smoothed looked to the picture when zoomed in",checkbox:!0},{name:"-"},{name:"Show grid",action:"CPToggleGrid",mnemonic:"G",shortcut:"ctrl+g",title:"Displays a grid over the image",checkbox:!0,checked:!1},{name:"Grid options...",action:"CPGridOptions",mnemonic:"D",title:"Shows the grid options dialog box"}]},{name:"Palettes",mnemonic:"P",
children:[{name:"Rearrange",action:"CPArrangePalettes",title:"Rearrange the palette windows"},{name:"Toggle palettes",action:"CPTogglePalettes",mnemonic:"P",shortcut:"tab",title:"Hides or shows all palettes"},{name:"Use old icons",action:"CPToolbarStyle",checkbox:!0,checked:!1},{name:"-"},{name:"Show tools",action:"CPPalTool",mnemonic:"T",checkbox:!0,checked:!0},{name:"Show color",action:"CPPalColor",mnemonic:"C",checkbox:!0,checked:!0},{name:"Show stroke",action:"CPPalStroke",mnemonic:"S",checkbox:!0,
checked:!0},{name:"Show misc",action:"CPPalMisc",mnemonic:"M",checkbox:!0,checked:!0},{name:"Show swatches",action:"CPPalSwatches",mnemonic:"W",checkbox:!0,checked:!0},{name:"Show textures",action:"CPPalTextures",mnemonic:"X",checkbox:!0,checked:!0},{name:"Show tool options",action:"CPPalBrush",mnemonic:"B",checkbox:!0,checked:!0},{name:"Show layers",action:"CPPalLayers",mnemonic:"L",checkbox:!0,checked:!0}]},{name:"Help",mnemonic:"H",children:[{name:"Tablet support",mnemonic:"T",action:"CPTabletSupport",
title:"Help with getting a drawing tablet working"},{name:"Shortcuts",mnemonic:"S",action:"CPShortcuts",title:"List of keyboard and mouse shortcuts"},{name:"-"},{name:"About",mnemonic:"A",action:"CPAbout",title:"Displays some information about ChickenPaint"}]}];K.exports=C.default},{"../../lib/keymaster.js":68,"../languages/lang.js":54,jquery:297}],38:[function(h,K,C){function w(e){return e&&e.__esModule?e:{default:e}}function k(e){E.default.call(this,e,"misc","Misc");var v=this,a=[{className:"chickenpaint-tool-zoom-in",
command:"CPZoomIn",toolTip:"Zoom in"},{className:"chickenpaint-tool-zoom-out",command:"CPZoomOut",toolTip:"Zoom out"},{className:"chickenpaint-tool-zoom-100",command:"CPZoom100",toolTip:"Zoom 100%"},{className:"chickenpaint-tool-undo",command:"CPUndo",toolTip:"Undo"},{className:"chickenpaint-tool-redo",command:"CPRedo",toolTip:"Redo"},{className:"chickenpaint-tool-send",command:"CPSend",toolTip:"Save Oekaki"}];(function(){var l=v.getBodyElement(),q=document.createElement("ul");q.className="chickenpaint-misc-tools list-unstyled";
for(var r in a){var b=a[r],d=document.createElement("li"),g=document.createElement("div");"CPSend"!=b.command||e.isActionSupported("CPContinue")||(b.toolTip="Post Oekaki",b.className="chickenpaint-tool-send-and-end");d.className="chickenpaint-toolbar-button "+b.className;d.setAttribute("data-buttonIndex",r);d.setAttribute("title",(0,c._)(b.toolTip));g.className="chickenpaint-toolbar-button-icon";d.appendChild(g);q.appendChild(d)}(0,u.default)(q).on("mousedown","li",function(m){(0,u.default)(this).addClass("selected")}).on("mouseup",
"li",function(m){(0,u.default)(this).removeClass("selected")}).on("click","li",function(m){m=a[parseInt(this.getAttribute("data-buttonIndex"),10)];e.actionPerformed({action:m.command})});l.appendChild(q)})()}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;var u=w(h("jquery")),E=w(h("./CPPalette.js")),c=h("../languages/lang.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=C.default},{"../languages/lang.js":54,"./CPPalette.js":39,jquery:297}],39:[function(h,
K,C){function w(v){return v&&v.__esModule?v:{default:v}}function k(v,a,l,q){var r,b,d,g;function m(ha){"vertResize"==I&&M.setHeight(ha.pageY-(0,u.default)(z).offset().top)}function f(ha){F.releasePointerCapture(ha.pointerId);I=!1}function n(ha){I="vertResize";F.setPointerCapture(ha.pointerId)}function t(ha){"horzResize"==I&&M.setWidth(ha.pageX-(0,u.default)(z).offset().left)}function y(ha){G.releasePointerCapture(ha.pointerId);I=!1}function B(ha){I="horzResize";G.setPointerCapture(ha.pointerId)}v.getSmallScreenMode()&&
(0,c._)(l+" (shorter)")!==l+" (shorter)"?this.title=(0,c._)(l+" (shorter)"):this.title=(0,c._)(l);q=q||{};this.name=a;this.resizeVert=q.resizeVert||!1;this.resizeHorz=q.resizeHorz||!1;var z=document.createElement("div");l=document.createElement("div");var H=document.createElement("i"),N=document.createElement("button"),x=document.createElement("div"),F=null,G=null,I,M=this;this.getElement=function(){return z};this.getBodyElement=function(){return x};this.getWidth=function(){return(0,u.default)(z).outerWidth()};
this.getHeight=function(){return(0,u.default)(z).outerHeight()};this.getX=function(){return parseInt(z.style.left,10)||0};this.getY=function(){return parseInt(z.style.top,10)||0};this.setLocation=function(ha,ca){z.style.left=ha+"px";z.style.top=ca+"px"};this.setWidth=function(ha){z.style.width=ha+"px"};this.setHeight=function(ha){z.style.height=ha+"px"};this.setSize=function(ha,ca){this.setWidth(ha);this.setHeight(ca)};this.setCollapseDownwards=function(ha){q.collapseDownwards=ha};this.toggleCollapse=
function(ha){var ca=(0,u.default)(z);if(void 0===ha)ha=!ca.hasClass("collapsed");else if(ca.hasClass("collapsed")==ha)return;var sa=ca.parents(".chickenpaint").find(".chickenpaint-canvas").height(),na=this.getHeight();na=this.getY()+na;ca.toggleClass("collapsed",ha);(0,u.default)(H).toggleClass("fa-angle-down",!ha).toggleClass("fa-angle-up",ha);ha?q.collapseDownwards&&this.setLocation(this.getX(),Math.min(na,sa)-this.getHeight()):(ha=this.getHeight(),q.collapseDownwards?this.setLocation(this.getX(),
Math.max(na-ha,0)):this.getY()+ha>sa&&this.setLocation(this.getX(),Math.max(sa-ha,0)))};this.userIsDoneWithUs=function(){v.getSmallScreenMode()&&this.toggleCollapse(!0)};H.className="collapse-icon fas fa-angle-down";N.type="button";N.className="close";N.innerHTML="&times;";z.className="chickenpaint-palette chickenpaint-palette-"+a;l.className="chickenpaint-palette-head";l.setAttribute("touch-action","none");a=document.createElement("div");var R=document.createElement("h5");a.className="modal-header";
R.className="modal-title";R.appendChild(document.createTextNode(this.title));R.appendChild(H);a.appendChild(R);a.appendChild(N);l.appendChild(a);x.className="chickenpaint-palette-body";z.appendChild(l);z.appendChild(x);this.resizeVert&&(F=document.createElement("div"),F.className="chickenpaint-resize-handle-vert",F.addEventListener("pointerdown",n),F.addEventListener("pointermove",m),F.addEventListener("pointerup",f),z.appendChild(F));this.resizeHorz&&(G=document.createElement("div"),G.className=
"chickenpaint-resize-handle-horz",G.addEventListener("pointerdown",B),G.addEventListener("pointermove",t),G.addEventListener("pointerup",y),z.appendChild(G));l.addEventListener("pointerdown",function(ha){0==ha.button&&(ha.stopPropagation(),ha.preventDefault(),"BUTTON"==ha.target.nodeName?M.emitEvent("paletteVisChange",[M,!1]):(d=parseInt(z.style.left,10)||0,g=parseInt(z.style.top,10)||0,r=ha.pageX-(0,u.default)(z).position().left,b=ha.pageY-(0,u.default)(z).position().top,I=v.getSmallScreenMode()?
"dragStart":"dragging",ha.target.setPointerCapture(ha.pointerId)))});l.addEventListener("pointermove",function(ha){if(("dragStart"===I||"dragging"===I)&&0!==ha.buttons){var ca=ha.pageX-r;ha=ha.pageY-b;"dragStart"==I&&(ca-d)*(ca-d)+(ha-g)*(ha-g)>e*e&&(I="dragging");"dragging"==I&&M.setLocation(ca,ha)}});l.addEventListener("pointerup",function(ha){if("dragging"===I||"dragStart"===I){"dragStart"===I&&(ha.stopPropagation(),ha.preventDefault(),setTimeout(function(){M.setLocation(d,g);M.toggleCollapse()},
100));I=!1;try{ha.target.releasePointerCapture(ha.pointerId)}catch(ca){console.error(ca)}}})}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;var u=w(h("jquery")),E=w(h("wolfy87-eventemitter")),c=h("../languages/lang"),e=5;k.prototype=Object.create(E.default.prototype);k.prototype.constructor=E.default;K.exports=C.default},{"../languages/lang":54,jquery:297,"wolfy87-eventemitter":316}],40:[function(h,K,C){function w(d){return d&&d.__esModule?d:{default:d}}function k(d){function g(){var I=
(0,u.default)(y).parents(".chickenpaint").find(".chickenpaint-canvas");return{width:I.width(),height:I.height()}}function m(I,M){var R=I.getElement();M?y.appendChild(R):y.removeChild(R);B.emitEvent("paletteVisChange",[I.name,M])}var f={tool:new c.default(d),misc:new e.default(d),stroke:new v.default(d),color:new a.default(d),brush:new l.default(d),layers:new q.default(d),textures:new r.default(d),swatches:new b.default(d)},n={tool:!1,color:!1,misc:!1},t={color:!0,textures:!0,layers:!0},y=document.createElement("div"),
B=this,z=[],H=[];this.palettes=f;this.showPaletteByName=function(I,M){(I=f[I])&&m(I,M)};this.togglePalettes=function(){if(0==H.length)(0,u.default)("> .chickenpaint-palette",y).each(function(){B.showPaletteByName(this.getAttribute("data-paletteName"),!1);H.push(this)});else{for(var I=0;I<H.length;I++)B.showPaletteByName(H[I].getAttribute("data-paletteName"),!0);H=[]}};this.constrainPalettes=function(){var I=g();for(R in f){var M=f[R];M.getX()+M.getWidth()/2>I.width&&M.setLocation(I.width-M.getWidth(),
M.getY());M.getY()+M.getHeight()/2>I.height&&M.setLocation(M.getX(),I.height-M.getHeight())}var R=0<I.width-f.tool.getWidth()-f.misc.getWidth()-f.stroke.getWidth()-f.color.getWidth()-f.brush.getWidth()-15;f.swatches.getX()+f.swatches.getWidth()==f.brush.getX()+f.brush.getWidth()&&20>Math.abs(f.swatches.getY()-f.brush.getY())&&f.swatches.setLocation(f.brush.getX()-f.swatches.getWidth()-(R?5:1),0);f.layers.getY()+f.layers.getHeight()>I.height&&f.layers.setHeight(Math.max(I.height-f.layers.getY(),200))};
this.arrangePalettes=function(){var I=g();if(d.getSmallScreenMode())f.tool.setLocation(0,0),f.misc.setLocation(f.tool.getX()+f.tool.getWidth()+1,0),f.brush.setLocation(I.width-f.brush.getWidth()-15,f.misc.getY()+f.misc.getHeight()+1),f.textures.setWidth(I.width-f.textures.getX()),f.layers.setLocation(f.brush.getX()+f.brush.getWidth()-f.layers.getWidth(),f.textures.getY()-f.layers.getHeight()),f.layers.setHeight(f.textures.getY()-330-1),f.stroke.setLocation(f.misc.getX(),f.misc.getY()+f.misc.getHeight()+
1),f.swatches.setLocation(f.stroke.getX(),f.stroke.getY()+f.stroke.getHeight()+1);else{var M=0<I.width-f.tool.getWidth()-f.misc.getWidth()-f.stroke.getWidth()-f.color.getWidth()-f.brush.getWidth()-15;f.brush.setLocation(I.width-f.brush.getWidth()-15,0);var R=f.brush.getY()+f.brush.getHeight();R=300<I.height-R?R+2:R;f.layers.setSize(f.brush.getWidth()+(M?30:0),I.height-R);f.layers.setLocation(f.brush.getX()+f.brush.getWidth()-f.layers.getWidth(),R);f.tool.setLocation(0,0);f.misc.setLocation(f.tool.getX()+
f.tool.getWidth()+(M?5:1),0);M?f.stroke.setLocation(f.misc.getX()+f.misc.getWidth()+(M?5:1),0):f.stroke.setLocation(f.misc.getX(),f.misc.getY()+f.misc.getHeight()+1);f.swatches.setLocation(Math.max(f.brush.getX()-f.swatches.getWidth()-(M?5:1),f.tool.getX()+f.tool.getWidth()),0);f.textures.setWidth(Math.min(f.layers.getX()-f.textures.getX(),490))}f.textures.setLocation(f.color.getX()+f.color.getWidth()+4,I.height-f.textures.getHeight());f.color.setLocation(0,Math.max(f.tool.getY()+f.tool.getHeight(),
I.height-f.color.getHeight()))};d.on("smallScreen",function(I){if(I)for(var M in f)f[M].toggleCollapse(I&&(!(M in n)||n[M]))});this.getElement=function(){return y};y.className="chickenpaint-palettes";for(var N in f){var x=f[N],F=x.getElement();x.on("paletteVisChange",function(){m(this,!1)});N in t&&x.setCollapseDownwards(!0);F.setAttribute("data-paletteName",N);z.push(F)}for(var G in f)t=f[G].getElement(),y.appendChild(t)}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;var u=w(h("jquery")),
E=w(h("wolfy87-eventemitter")),c=w(h("./CPToolPalette.js")),e=w(h("./CPMiscPalette.js")),v=w(h("./CPStrokePalette.js")),a=w(h("./CPColorPalette.js")),l=w(h("./CPBrushPalette.js")),q=w(h("./CPLayersPalette.js")),r=w(h("./CPTexturePalette.js")),b=w(h("./CPSwatchesPalette.js"));k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=C.default},{"./CPBrushPalette.js":25,"./CPColorPalette.js":28,"./CPLayersPalette.js":35,"./CPMiscPalette.js":38,"./CPStrokePalette.js":46,"./CPSwatchesPalette.js":47,
"./CPTexturePalette.js":49,"./CPToolPalette.js":50,jquery:297,"wolfy87-eventemitter":316}],41:[function(h,K,C){function w(E){return E&&E.__esModule?E:{default:E}}function k(E){function c(){var y=E?(0,u.default)(e).height():(0,u.default)(e).width();m=b/(q-l)*y;y=(r-l)/(q-l)*(y-m);a.style[E?"height":"width"]=m+"px";v.style[E?"height":"width"]=m+"px";v.style[E?"top":"left"]=y+"px"}var e=document.createElement("div"),v=document.createElement("div"),a=document.createElement("div"),l=0,q=1,r=0,b=1,d=10,
g=!1,m=1,f=!1,n,t=this;this.setValues=function(y,B,z,H){r=y;b=B;l=z;q=H;c()};this.setBlockIncrement=function(y){d=y};this.setUnitIncrement=function(y){};this.getElement=function(){return e};this.getValueIsAdjusting=function(){return g};e.className="chickenpaint-scrollbar "+(E?"chickenpaint-scrollbar-vertical":"chickenpaint-scrollbar-horizontal");v.className="chickenpaint-scrollbar-handle";v.setAttribute("touch-action","none");a.className="chickenpaint-scrollbar-handle-inner";v.appendChild(a);e.appendChild(v);
v.addEventListener("pointerdown",function(y){y.stopPropagation();n=E?y.pageY-(0,u.default)(e).offset().top:y.pageX-(0,u.default)(e).offset().left;v.setPointerCapture(y.pointerId);(0,u.default)(v).addClass("dragging");f=!0});v.addEventListener("pointermove",function(y){if(f){g=!0;var B=E?(0,u.default)(e).height():(0,u.default)(e).width();y=E?y.pageY-(0,u.default)(e).offset().top:y.pageX-(0,u.default)(e).offset().left;r+=(y-n)*(q-l)/(B-m);r=Math.min(Math.max(r,l),q);n=y;t.emitEvent("valueChanged",[r]);
c();g=!1}});v.addEventListener("pointerup",function(y){y.stopPropagation();if(f){try{v.releasePointerCapture(y.pointerId)}catch(B){}(0,u.default)(v).removeClass("dragging");f=!1}});v.addEventListener("click",function(y){y.stopPropagation()});e.addEventListener("click",function(y){if(this==e){y=E?y.pageY-(0,u.default)(e).offset().top:y.pageX-(0,u.default)(e).offset().left;var B=parseInt(v.style[E?"top":"left"],10);r=y<B?r-d:r+d;t.emitEvent("valueChanged",[r]);c()}})}Object.defineProperty(C,"__esModule",
{value:!0});C.default=k;var u=w(h("jquery"));h=w(h("wolfy87-eventemitter"));k.prototype=Object.create(h.default.prototype);k.prototype.constructor=k;K.exports=C.default},{jquery:297,"wolfy87-eventemitter":316}],42:[function(h,K,C){function w(e){return e&&e.__esModule?e:{default:e}}function k(e,v,a){var l=(0,u.default)('<div class="modal fade chickenpaint-send-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content" data-stage="saving">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,c._)("Saving drawing..."),
'</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-saving-progress-message">').concat((0,c._)("Preparing your drawing to be saved, please wait..."),'</p>\n                            <pre class="chickenpaint-saving-error-message pre-scrollable"></pre>\n                            <div class="progress">\n                                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>\n                            </div>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light chickenpaint-send-cancel" data-dismiss="modal">').concat((0,c._)("Cancel"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-not-previously-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">').concat((0,c._)("Drawing saved!"),'</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,c._)("Your drawing has been saved, would you like to post it to the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-dismiss="modal">').concat((0,c._)("Yes, post it now"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-dismiss="modal">').concat((0,c._)("No, keep drawing"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-exit" data-dismiss="modal">').concat((0,c._)("No, quit and I'll finish it later"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-already-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,c._)("Your drawing has been saved, would you like to view it on the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-dismiss="modal">').concat((0,c._)("Yes, view the post"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-dismiss="modal">').concat((0,c._)("No, keep drawing"),'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-redirect" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,c._)("Your drawing has been saved, redirecting you to view your new post now..."),
"</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),q=(0,u.default)(".chickenpaint-saving-progress-message",l),r=(0,u.default)(".chickenpaint-saving-error-message",l),b=(0,u.default)(".progress-bar",l),d=this;a.on("savingProgress",function(g,m){g*=100;q.text(m);(0,u.default)(b).attr("aria-valuenow",g).css("width",g+"%")});a.on("savingComplete",function(){(0,u.default)(".modal-content[data-stage='saving']",l).hide();e.isActionSupported("CPContinue")?
e.isActionSupported("CPExit")?(0,u.default)(".modal-content[data-stage='success-not-previously-posted']",l).show():(0,u.default)(".modal-content[data-stage='success-already-posted']",l).show():(0,u.default)(".modal-content[data-stage='success-redirect']",l).show()});a.on("savingFailure",function(g){b.addClass("progress-bar-danger");var m=(0,c._)("Sorry, your drawing could not be saved, please try again later.");g&&(g=g.replace(/^CHIBIERROR\s*/,""),0<g.length&&(m+="<br><br>The error returned from the server was:",
r.text(g).show()),q.html(m))});(0,u.default)(".chickenpaint-post-drawing",l).on("click",function(){e.actionPerformed({action:"CPPost"})});(0,u.default)(".chickenpaint-exit",l).toggle(e.isActionSupported("CPExit")).on("click",function(){alert("When you want to come back and finish your drawing, just click the 'new drawing' button again and you can choose to continue this drawing.");e.actionPerformed({action:"CPExit"})});(0,u.default)(".chickenpaint-send-cancel",l).on("click",function(){a.cancel()});
l.on("hidden.bs.modal",function(g){l.remove()});l.modal({show:!1});l.on("shown.bs.modal",function(){d.emitEvent("shown")});l.data("bs.modal").$body=(0,u.default)(v);v.appendChild(l[0]);this.show=function(){l.modal("show")}}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;var u=w(h("jquery")),E=w(h("wolfy87-eventemitter")),c=h("../languages/lang.js");k.prototype=Object.create(E.default.prototype);k.prototype.contructor=k;K.exports=C.default},{"../languages/lang.js":54,jquery:297,"wolfy87-eventemitter":316}],
43:[function(h,K,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(k){var u=(0,w.default)('<div class="modal fade chickenpaint-shortcuts-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog modal-lg">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Shortcuts</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>\n                                Many of the menu options and painting tools have keyboard shortcuts which are\n                                written next to them or appear when you hover.\n                            </p>\n                            <p>\n                                Here are some other shortcuts which are not as obvious!\n                            </p>\n                            <div class="chickenpaint-shortcuts-sections">\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Color swatches palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Use as the drawing color\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right</span>\n                                                </dt>\n                                                <dd>\n                                                    Remove or replace a color swatch\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Line drawing mode</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Snap line to nearest 45 degrees\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Painting tools</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">1</span> - <span class="chickenpaint-shortcut-key">9</span> , <span class="chickenpaint-shortcut-key">0</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush opacity\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">[</span> , <span class="chickenpaint-shortcut-key">]</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush size\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Brush palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right drag</span>\n                                                </dt>\n                                                <dd>\n                                                    Adjust brush sliders more precisely\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Drawing canvas</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Middle</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Space</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Move the canvas around\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">R</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Rotate the canvas\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Sample the color under the cursor\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Layers palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Double click</span>\n                                                </dt>\n                                                <dd>\n                                                    Rename layer\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ');
u.on("hidden.bs.modal",function(E){u.remove()});u.modal({show:!1});u.data("bs.modal").$body=(0,w.default)(k);k.appendChild(u[0]);this.show=function(){u.modal("show")}};var w=function(k){return k&&k.__esModule?k:{default:k}}(h("jquery"));K.exports=C.default},{jquery:297}],44:[function(h,K,C){function w(e){return e&&e.__esModule?e:{default:e}}function k(e,v,a,l){function q(){var B=d.width,z=d.height,H="string"===typeof y.title?(0,c._)(y.title):y.title(y.value),N=3*window.devicePixelRatio,x=.75*d.height;
if(a)g.save(),g.fillStyle="white",g.fillRect(0,0,B,z),g.fillStyle="black",g.fillText(H,N,x),g.beginPath(),y.value>=m/2?g.rect(B/2,0,(y.value-m/2)*B/m,z):g.rect(y.value*B/m,0,(m/2-y.value)*B/m,z),g.fill(),g.clip(),g.fillStyle="white";else{var F=(y.value-e)/m;l&&(F=Math.pow(F,1/1.5));F*=B;g.save();g.save();g.fillStyle="black";g.beginPath();g.rect(0,0,F,z);g.fill();g.clip();g.fillStyle="white";g.fillText(H,N,x);g.restore();g.fillStyle="white";g.beginPath();g.rect(F,0,B,z);g.fill();g.clip();g.fillStyle=
"black"}g.fillText(H,N,x);g.restore()}function r(B){var z=(0,u.default)(d).width(),H=(0,u.default)(d).offset().left;B=(B.pageX-H)/z;l&&(B=Math.pow(Math.max(B,0),1.5));y.setValue(B*m+e)}function b(B){switch(f){case 1:r(B);break;case 2:var z=(B.pageX-n)/4;if(0!==z){z=y.value+z;var H=z|0;y.setValue(H);n=B.pageX-4*(z-H)}}}var d=document.createElement("canvas"),g=d.getContext("2d"),m=v-e,f=0,n,t=!1,y=this;this.value=void 0;this.title="";a=a||!1;this.setValue=function(B){B=~~Math.max(e,Math.min(v,B));this.value!=
B&&(this.value=B,this.emitEvent("valueChange",[this.value]),t?q():(t=!0,this.resize()))};this.getElement=function(){return d};this.resize=function(){d.width=(0,u.default)(d).width()||150;d.height=(0,u.default)(d).height()||20;1<window.devicePixelRatio&&(d.style.height=d.height+"px",d.width*=window.devicePixelRatio,d.height*=window.devicePixelRatio);g.font=.47*d.height+"pt sans-serif";q()};d.addEventListener("pointerdown",function(B){if(0===f){switch(B.button){case 0:f=1;r(B);break;case 2:f=2;n=B.pageX;
break;default:return}d.setPointerCapture(B.pointerId);d.addEventListener("pointermove",b)}});d.addEventListener("pointerup",function(B){if(0!==f){switch(f){case 1:0===B.button&&(f=0);break;case 2:2==B.button&&(f=0);break;default:return}0===f&&(d.releasePointerCapture(B.pointerId),d.removeEventListener("pointermove",b))}});d.addEventListener("contextmenu",function(B){B.preventDefault()});d.setAttribute("touch-action","none");d.className="chickenpaint-slider";"devicePixelRatio"in window||(window.devicePixelRatio=
1)}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;var u=w(h("jquery")),E=w(h("wolfy87-eventemitter")),c=h("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=C.default},{"../languages/lang":54,jquery:297,"wolfy87-eventemitter":316}],45:[function(h,K,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(w,k,u){function E(){var x=e.width/2,F=e.height/2;v.fillStyle="white";v.fillRect(0,0,e.width,e.height);if(f==m.length){var G=
r.width,I=r.height,M=Math.round(x-G/2),R=Math.round(F-I/2);v.drawImage(r,M,R);var ha=z;n||(n=document.createElement("canvas"),n.width=G,n.height=I,y=n.getContext("2d"));y.globalCompositeOperation="copy";y.drawImage(a,0,0);t||(t=document.createElement("canvas"),t.width=G,t.height=I,B=t.getContext("2d"));B.globalCompositeOperation="copy";B.drawImage(g,0,0);B.globalCompositeOperation="source-in";B.drawImage(g,0,Math.round(170*ha));y.globalCompositeOperation="source-over";y.drawImage(t,0,0);y.drawImage(l,
0,0);y.globalCompositeOperation="screen";y.drawImage(d,0,0);y.globalCompositeOperation="multiply";y.drawImage(b,0,0);v.globalAlpha=.88;v.drawImage(n,M,R);v.globalAlpha=1;v.drawImage(q,M,R);F=Math.round(F+I/2+2)}if(""!=H)for(v.fillStyle="black",G=H.split("\n"),I=0;I<G.length;I++)M=G[I],R=v.measureText(M).width,F+=28,v.fillText(M,x-R/2,F)}function c(){e.width=e.clientWidth;e.height=e.clientHeight;v.font="14pt sans-serif";E()}var e=document.createElement("canvas"),v=e.getContext("2d"),a=new Image,l=
new Image,q=new Image,r=new Image,b=new Image,d=new Image,g=new Image,m=[a,l,q,r,b,d,g],f=0,n,t,y,B,z=0,H="";u+="splash/";for(var N=0;N<m.length;N++)m[N].onload=function(){f++;f==m.length&&E()};a.src=u+"cup.png";d.src=u+"highlights.png";l.src=u+"lid.png";q.src=u+"lines.png";b.src=u+"shading.png";g.src=u+"smoothie.png";r.src=u+"text.png";k.on("loadingProgress",function(x,F){z=x;H=F;E()});k.on("loadingFailure",function(x){z=0;H=x;E()});k.on("loadingComplete",function(){window.removeEventListener("resize",
c);w.removeChild(e)});window.addEventListener("resize",c);e.className="chickenpaint-splash-screen";w.appendChild(e);c()};K.exports=C.default},{}],46:[function(h,K,C){function w(v){return v&&v.__esModule?v:{default:v}}function k(v){E.default.call(this,v,"stroke","Stroke");var a=this,l=[{className:"chickenpaint-tool-freehand",command:"CPFreeHand",toolTip:(0,e._)("Free-hand"),selected:!0},{className:"chickenpaint-tool-line",command:"CPLine",toolTip:(0,e._)("Straight line")},{className:"chickenpaint-tool-bezier",
command:"CPBezier",toolTip:(0,e._)("Bezier curve")}],q=a.getBodyElement();(function(){var r=document.createElement("ul");r.className="chickenpaint-stroke-tools list-unstyled";for(var b in l){var d=l[b],g=document.createElement("li"),m=document.createElement("div");g.className="chickenpaint-toolbar-button "+d.className;g.setAttribute("data-buttonIndex",b);g.setAttribute("title",d.toolTip);d.selected&&(g.className+=" selected");m.className="chickenpaint-toolbar-button-icon";g.appendChild(m);r.appendChild(g)}(0,u.default)(r).on("click",
"li",function(f){f=l[parseInt(this.getAttribute("data-buttonIndex"),10)];(0,u.default)("li",r).removeClass("selected");(0,u.default)(this).addClass("selected");v.actionPerformed({action:f.command});a.userIsDoneWithUs()});q.appendChild(r)})();v.on("toolChange",function(r,b){(0,u.default)(".chickenpaint-tool-freehand",q).toggleClass("selected",b.strokeMode==c.default.STROKE_MODE_FREEHAND);(0,u.default)(".chickenpaint-tool-line",q).toggleClass("selected",b.strokeMode==c.default.STROKE_MODE_LINE);(0,u.default)(".chickenpaint-tool-bezier",
q).toggleClass("selected",b.strokeMode==c.default.STROKE_MODE_BEZIER)})}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;var u=w(h("jquery")),E=w(h("./CPPalette.js")),c=w(h("../engine/CPBrushInfo.js")),e=h("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;K.exports=C.default},{"../engine/CPBrushInfo.js":8,"../languages/lang":54,"./CPPalette.js":39,jquery:297}],47:[function(h,K,C){function w(l){return l&&l.__esModule?l:{default:l}}function k(l){function q(B){var z=
document.createElement("div"),H=document.createElement("a"),N=document.createElement("ul"),x=document.createElement("a"),F=document.createElement("a"),G=this;this.getElement=function(){return z};this.setColor=function(I){H.setAttribute("data-color",I);var M=H.style;for(I=""+Number(I).toString(16);6>I.length;)I="0"+I;M.backgroundColor="#"+I};this.setColor(B);H.href="#";H.className="chickenpaint-color-swatch dropdown-toggle";H.setAttribute("data-toggle","dropdown");x.className="dropdown-item";x.href=
"#";x.innerHTML=(0,a._)("Remove");x.addEventListener("click",function(I){I.preventDefault();(0,u.default)(z).remove();m=!0});F.className="dropdown-item";F.href="#";F.innerHTML=(0,a._)("Replace with current color");F.addEventListener("click",function(I){I.preventDefault();G.setColor(l.getCurColor().getRgb());m=!0});N.className="dropdown-menu";N.appendChild(x);N.appendChild(F);z.className="chickenpaint-color-swatch-wrapper";z.appendChild(H);z.appendChild(N);(0,u.default)(z).on("show.bs.dropdown",function(){var I=
(0,u.default)(this).find(".dropdown-toggle");(0,u.default)(this).find(".dropdown-menu").css({top:I.position().top+I.outerHeight(!0)+"px",left:I.position().left+"px"})})}function r(B){B=new q(B);f.appendChild(B.getElement())}function b(){t.onchange=function(){var B=this.files;if(!(1>B.length)){B=B[0];var z=new FileReader;z.onload=function(){var H=(new v.default).read(this.result);null!=H&&0<H.length?y.setSwatches(H):alert((0,a._)("The swatches could not be read, did you select an .aco file?"))};z.readAsArrayBuffer(B)}};
t.click()}function d(B){var z=document.createElement("span");z.className="fa fa-"+B;return z}c.default.call(this,l,"swatches","Color swatches");var g=[16777215,0,16711680,65280,255,16776960],m=!1,f=document.createElement("ul"),n=document.createElement("div"),t,y=this;this.getSwatches=function(){for(var B=(0,u.default)(".chickenpaint-color-swatch",f),z=Array(B.length),H=0;H<B.length;H++)z[H]=parseInt(B.get(H).getAttribute("data-color"),10);return z};this.setSwatches=function(B){for(;f.lastChild;)f.removeChild(f.lastChild);
for(var z=0;z<B.length;z++)r(B[z]);m=!0};this.isModified=function(){return m};(function(){f.className="chickenpaint-color-swatches list-unstyled";for(var B=0;B<g.length;B++)f.appendChild((new q(g[B])).getElement());f.addEventListener("click",function(z){var H=z.target;/chickenpaint-color-swatch/.test(H.className)&&0==z.button&&void 0!==H.getAttribute("data-color")&&(l.setCurColor(new e.default(parseInt(H.getAttribute("data-color"),10))),z.stopPropagation(),z.preventDefault(),y.userIsDoneWithUs())});
f.addEventListener("contextmenu",function(z){var H=z.target;/chickenpaint-color-swatch/.test(H.className)&&(z.preventDefault(),(0,u.default)(H).dropdown("toggle").off("click.bs.dropdown"),(0,u.default)(document).on("click",function F(x){"button"in x&&0!==x.button||((0,u.default)(H).closest(".chickenpaint-color-swatch-wrapper").hasClass("show")&&(0,u.default)(H).closest(".dropdown-toggle").dropdown("toggle"),(0,u.default)(this).off("click",F))}))})})();this.getBodyElement().appendChild(f);(function(){var B=
document.createElement("button"),z=document.createElement("button"),H=document.createElement("div"),N=document.createElement("a"),x=document.createElement("a");z.type="button";z.title=(0,a._)("Add the current brush color as a new swatch");z.className="btn chickenpaint-small-toolbar-button chickenpaint-color-swatch-add";z.appendChild(d("plus"));B.type="button";B.className="btn dropdown-toggle chickenpaint-small-toolbar-button chickenpaint-color-swatch-settings";B.setAttribute("data-toggle","dropdown");
B.appendChild(d("cog"));N.className="dropdown-item";N.href="#";N.innerHTML=(0,a._)("Save swatches to your computer...");N.addEventListener("click",function(I){I.preventDefault();I=(new v.default).write(y.getSwatches());I=new Blob([I],{type:"application/octet-stream"});E.default.saveAs(I,"oekakiswatches.aco")});x.className="dropdown-item";x.href="#";x.innerHTML=(0,a._)("Load swatches from your computer...");x.addEventListener("click",function(I){I.preventDefault();b()});H.className="dropdown-menu";
H.appendChild(N);H.appendChild(x);var F=document.createElement("div");F.className="btn-group dropright";F.appendChild(B);F.appendChild(H);(0,u.default)(B).dropdown();var G=function R(M){"button"in M&&0!==M.button||((0,u.default)(F).hasClass("show")&&(0,u.default)(B).dropdown("toggle"),(0,u.default)(this).off("click",R))};(0,u.default)(F).on("show.bs.dropdown",function(){(0,u.default)(document).on("click",G)});z.addEventListener("click",function(M){r(l.getCurColor().getRgb());m=!0});n.className="chickenpaint-color-swatches-buttons";
window.File&&window.FileReader&&window.FileList&&window.Blob&&(t=document.createElement("input"),t.type="file",t.multiple=!1,t.style.display="none",n.appendChild(F),n.appendChild(t));n.appendChild(z)})();this.getBodyElement().appendChild(n)}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;var u=w(h("jquery")),E=w(h("file-saver")),c=w(h("./CPPalette.js")),e=w(h("../util/CPColor.js")),v=w(h("../util/AdobeColorTable.js")),a=h("../languages/lang");k.prototype=Object.create(c.default.prototype);
k.prototype.constructor=k;K.exports=C.default},{"../languages/lang":54,"../util/AdobeColorTable.js":55,"../util/CPColor.js":58,"./CPPalette.js":39,"file-saver":296,jquery:297}],48:[function(h,K,C){function w(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(C,"__esModule",{value:!0});C.default=function(E){var c=(0,k.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog" role="document">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing tablet support</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-tablet-there-are-two-options">\n                                There are two ways you could use your tablet\'s pen pressure support with ChickenPaint.\n                            </p>\n                            <div class="chickenpaint-tablet-support chickenpaint-wacom-support">\n                                <h5>\n                                    Plugin for Wacom tablets\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-internet-explorer"></span>\n                                        IE 10, 11\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (32-bit only)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-safari"></span>\n                                        Safari\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-opera"></span>\n                                        Opera\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-installed">\n                                    The plugin for Wacom tablets doesn\'t seem to be installed in your browser yet.\n                                </p>\n                                <p class="chickenpaint-not-installed">\n                                    Please make sure that you\'ve installed the latest drivers for your tablet from the \n                                    <a href="http://www.wacom.com/en-us/support/product-support/drivers" target="_blank">Wacom drivers page</a>,\n                                    then restart your browser.\n                                </p>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t support the Wacom tablet plugin, please \n                                    try one of the browsers listed above instead.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    The Wacom tablet plugin is installed and working.\n                                </p>\n                            </div>\n                            <div class="chickenpaint-tablet-support chickenpaint-pointerevents-support">\n                                <h5>\n                                    Built-in support for most tablets.\n                                    <small>macOS, Windows 8 or newer</small>\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-internet-explorer"></span>\n                                        IE (Windows 8)\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-edge"></span>\n                                        Edge (Windows 10)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (<a href="https://github.com/thenickdude/chickenpaint/blob/master/help/Firefox pressure support.md" target="_blank">help <i class="fa fa-external-link-alt"></i></a>)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-chrome"></span>\n                                        Chrome\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t have built-in support for drawing tablets, please try\n                                    one of the other browsers listed above.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    Your browser has built-in support for drawing tablets!\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n       '),
e=(0,k.default)(".chickenpaint-wacom-support",c),v=(0,k.default)(".chickenpaint-pointerevents-support",c),a=(0,k.default)(".chickenpaint-tablet-there-are-two-options",c),l=u.default.getRef().isTabletPresent(),q=!!window.hasNativePointerEvents;e.toggleClass("supported",l);l?(v.hide(),a.hide()):((/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent))&&e.addClass("not-supported"),q&&(e.hide(),a.hide()));v.toggleClass("supported",
q);v.toggleClass("not-supported",!q);c.modal({show:!1});c.data("bs.modal").$body=(0,k.default)(E);E.appendChild(c[0]);this.show=function(){c.modal("show")}};var k=w(h("jquery")),u=w(h("../util/CPWacomTablet.js"));K.exports=C.default},{"../util/CPWacomTablet.js":66,jquery:297}],49:[function(h,K,C){function w(b){return b&&b.__esModule?b:{default:b}}function k(b,d){var g=document.createElement("div"),m=document.createElement("label");g.className="form-check";b.className="form-check-input";m.className=
"form-check-label";m.setAttribute("for",b.id);m.appendChild(b);m.appendChild(document.createTextNode(d));g.appendChild(b);g.appendChild(m);return g}function u(b,d,g,m,f){var n=new Image,t=[];n.onload=function(){var y=document.createElement("canvas"),B=y.getContext("2d",{willReadFrequently:!0});y.width=n.width;y.height=n.height;for(y=0;y<m;y++){B.drawImage(n,0,y*g,d,g,0,0,d,g);try{for(var z=B.getImageData(0,0,d,g),H=new v.default(d,g,8),N=0;N<d*g;N++)H.data[N]=z.data[4*N];t.push(H)}catch(x){console.log(x)}}f(t)};
n.src=b}function E(b){function d(R){for(var ha=0;ha<R.length;ha++){var ca=new y(R[ha],32,32);ca.on("click",function(){B=this.texture;t()});G.appendChild(ca.getElement())}}function g(R){for(var ha=new v.default(R,R,8),ca=1;ca<R*R;ca++)ha.data[ca]=255;return ha}function m(R){for(var ha=2*R,ca=new v.default(ha,ha,8),sa=0;sa<ha;sa++)for(var na=0;na<ha;na++)ca.data[sa+na*ha]=0==(~~(sa/R)+~~(na/R))%2?0:255;return ca}function f(R,ha){for(var ca=new v.default(ha,ha,8),sa=0;sa<ha*ha;sa++)~~(sa%ha)>=R&&(ca.data[sa]=
255);return ca}function n(R,ha){for(var ca=new v.default(ha,ha,8),sa=0;sa<ha*ha;sa++)sa/ha>=R&&(ca.data[sa]=255);return ca}function t(){if(null!=B){z=B.clone();H&&z.mirrorHorizontally();var R=new a.default;R.loadBrightnessContrast(x,F);N&&R.invert();z.applyLUT(R)}else z=null;b.getArtwork().setBrushTexture(z);null!=M&&M.updateTexture()}function y(R,ha,ca){var sa=document.createElement("canvas"),na=sa.getContext("2d"),Q=this;this.setTexture=function(oa){this.texture=oa;this.paint()};this.getElement=
function(){return sa};this.paint=function(){na.fillStyle=null!=this.texture?na.createPattern(this.texture.getAsCanvas(),"repeat"):"white";na.fillRect(0,0,sa.width,sa.height)};sa.addEventListener("click",function(){Q.emit("click")});sa.width=ha;sa.height=ca;this.setTexture(R)}l.default.call(this,b,"textures","Textures");var B,z,H=!1,N=!1,x=0,F=0,G=document.createElement("div"),I=this.getBodyElement();y.prototype=Object.create(e.default.prototype);y.prototype.constructor=y;var M=new function(){function R(){ca.checked=
N;sa.checked=H;na.setValue(100*x+100);Q.setValue(100*F+100)}var ha=document.createElement("div"),ca=document.createElement("input"),sa=document.createElement("input"),na=new q.default(0,200,!0),Q=new q.default(0,200,!0),oa=new y(null,64,64),ia=document.createElement("button");this.updateTexture=function(){ia.disabled=null==z;oa.setTexture(z)};this.getElement=function(){return ha};ha.className="chickenpaint-texture-options";ha.appendChild(oa.getElement());ia.type="button";ia.className="btn btn-light btn-sm";
ia.innerHTML=(0,r._)("Customize");var ya=function(){var ta=document.createElement("div");ta.className="chickenpaint-texture-controls";ca.id="chickenpaint-chk-texture-invert";ca.type="checkbox";ca.addEventListener("click",function(Pa){N=this.checked;t()});ta.appendChild(k(ca,(0,r._)("Inverse")));sa.id="chickenpaint-chk-texture-mirror";sa.type="checkbox";sa.addEventListener("click",function(Pa){H=this.checked;t()});ta.appendChild(k(sa,(0,r._)("Mirror")));na.title=function(Pa){return(0,r._)("Brightness")+
": "+(Pa-100)+"%"};na.on("valueChange",function(Pa){x=(Pa-100)/100;t()});ta.appendChild(na.getElement());Q.title=function(Pa){return(0,r._)("Contrast")+": "+(Pa-100)+"%"};Q.on("valueChange",function(Pa){F=(Pa-100)/100;t()});ta.appendChild(Q.getElement());var Ga=document.createElement("button"),qa=document.createElement("button");Ga.innerHTML="Ok";Ga.className="btn btn-primary btn-sm";Ga.type="button";Ga.addEventListener("click",function(Pa){(0,c.default)(ia).popover("hide")});ta.appendChild(Ga);ta.appendChild(document.createTextNode(" "));
qa.innerHTML="Reset";qa.className="btn btn-secondary btn-sm";qa.type="button";qa.addEventListener("click",function(Pa){F=x=0;N=H=!1;R();t()});ta.appendChild(qa);R();return ta}();(0,c.default)(ia).popover({html:!0,content:function(){return ya},trigger:"manual",container:I}).on("click",function(){(0,c.default)(this).popover("toggle")});ha.appendChild(ia);this.updateTexture()};I.appendChild(M.getElement());G.className="chickenpaint-texture-swatches";I.appendChild(G);d(function(){var R=[null],ha=new v.default(2,
2,8);ha.data[0]=255;ha.data[3]=255;R.push(ha);R.push(g(2));R.push(g(3));R.push(g(4));R.push(g(6));R.push(g(8));R.push(f(1,2));R.push(f(2,4));R.push(n(1,2));R.push(n(2,4));R.push(m(2));R.push(m(4));R.push(m(8));R.push(m(16));return R}());u(b.getResourcesRoot()+"gfx/textures32.png",32,32,2,function(R){d(R)})}Object.defineProperty(C,"__esModule",{value:!0});C.default=E;var c=w(h("jquery")),e=w(h("wolfy87-eventemitter")),v=w(h("../engine/CPGreyBmp.js")),a=w(h("../engine/CPLookUpTable.js")),l=w(h("./CPPalette.js")),
q=w(h("./CPSlider.js")),r=h("../languages/lang");E.prototype=Object.create(l.default.prototype);E.prototype.constructor=E;K.exports=C.default},{"../engine/CPGreyBmp.js":14,"../engine/CPLookUpTable.js":18,"../languages/lang":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:297,"wolfy87-eventemitter":316}],50:[function(h,K,C){function w(a){return a&&a.__esModule?a:{default:a}}function k(a){function l(d){"LI"==this.nodeName&&(d=r[parseInt(this.getAttribute("data-buttonIndex"),10)],a.actionPerformed({action:d.command}),
q.userIsDoneWithUs())}c.default.call(this,a,"tool","Tools");var q=this,r=[{className:"chickenpaint-tool-rect-selection",command:"CPRectSelection",toolTip:"Marquee",shortcut:"m",mode:e.default.M_RECT_SELECTION},{className:"chickenpaint-tool-move",command:"CPMoveTool",toolTip:"Move tool",shortcut:"v",mode:e.default.M_MOVE_TOOL},{className:"chickenpaint-tool-flood-fill",command:"CPFloodFill",toolTip:"Flood fill",shortcut:"f",mode:e.default.M_FLOODFILL},{className:"chickenpaint-tool-gradient-fill",command:"CPGradientFill",
toolTip:"Gradient fill",shortcut:"g",mode:e.default.M_GRADIENTFILL},{className:"chickenpaint-tool-color-picker",command:"CPColorPicker",toolTip:"Color picker",shortcut:"i",mode:e.default.M_COLOR_PICKER},{className:"chickenpaint-tool-blur",command:"CPBlur",toolTip:"Blur",mode:e.default.M_DRAW,tool:e.default.T_BLUR},{className:"chickenpaint-tool-pencil",command:"CPPencil",toolTip:"Pencil",shortcut:"n",mode:e.default.M_DRAW,tool:e.default.T_PENCIL},{className:"chickenpaint-tool-pen",command:"CPPen",
toolTip:"Pen",selected:!0,shortcut:"b",mode:e.default.M_DRAW,tool:e.default.T_PEN},{className:"chickenpaint-tool-airbrush",command:"CPAirbrush",toolTip:"Airbrush",shortcut:"a",mode:e.default.M_DRAW,tool:e.default.T_AIRBRUSH},{className:"chickenpaint-tool-water",command:"CPWater",toolTip:"Waterpaint",shortcut:"w",mode:e.default.M_DRAW,tool:e.default.T_WATER},{className:"chickenpaint-tool-eraser",command:"CPEraser",toolTip:"Eraser",shortcut:"e",mode:e.default.M_DRAW,tool:e.default.T_ERASER},{className:"chickenpaint-tool-soft-eraser",
command:"CPSoftEraser",toolTip:"Soft eraser",shortcut:"s",mode:e.default.M_DRAW,tool:e.default.T_SOFTERASER},{className:"chickenpaint-tool-smudge",command:"CPSmudge",toolTip:"Smudge",shortcut:"d",mode:e.default.M_DRAW,tool:e.default.T_SMUDGE},{className:"chickenpaint-tool-blender",command:"CPBlender",toolTip:"Blender",shortcut:"c",mode:e.default.M_DRAW,tool:e.default.T_BLENDER},{className:"chickenpaint-tool-dodge",command:"CPDodge",toolTip:"Dodge (tool)",shortcut:"o",mode:e.default.M_DRAW,tool:e.default.T_DODGE},
{className:"chickenpaint-tool-burn",command:"CPBurn",toolTip:"Burn (tool)",shortcut:"p",mode:e.default.M_DRAW,tool:e.default.T_BURN},{className:"chickenpaint-tool-rotate-canvas",command:"CPRotateCanvas",commandDoubleClick:"CPResetCanvasRotation",toolTip:"Rotate canvas",mode:e.default.M_ROTATE_CANVAS},{className:"chickenpaint-tool-pan-canvas",command:"CPPanCanvas",toolTip:"Grab canvas",mode:e.default.M_PAN_CANVAS}],b=document.createElement("ul");a.on("modeChange",function(d){var g=q.getBodyElement();
(0,u.default)("li",g).removeClass("selected");d==e.default.M_DRAW?(0,u.default)("li[data-tool="+a.getCurTool()+"]",g).addClass("selected"):(0,u.default)("li[data-mode="+d+"]",g).addClass("selected")});a.on("toolChange",function(d){var g=q.getBodyElement();a.getCurMode()==e.default.M_DRAW&&((0,u.default)("li",g).removeClass("selected"),(0,u.default)("li[data-tool="+d+"]",g).addClass("selected"))});(function(){var d=q.getBodyElement();b.className="chickenpaint-tools list-unstyled";for(var g in r)(function(m){var f=
r[m],n=document.createElement("li"),t=document.createElement("div");n.className="chickenpaint-toolbar-button "+f.className;n.setAttribute("data-buttonIndex",m);n.setAttribute("data-mode",f.mode);void 0!==f.tool&&n.setAttribute("data-tool",f.tool);n.title=(0,v._)(f.toolTip);f.shortcut&&(n.title+=" ("+f.shortcut.toUpperCase()+")",(0,E.default)(f.shortcut,function(){l.call(n);return!1}));f.selected&&(n.className+=" selected");t.className="chickenpaint-toolbar-button-icon";n.appendChild(t);b.appendChild(n)})(g);
(0,u.default)(b).on("click","li",l).on("dblclick","li",function(m){m=r[parseInt(this.getAttribute("data-buttonIndex"),10)];m.commandDoubleClick&&a.actionPerformed({action:m.commandDoubleClick})});d.appendChild(b)})()}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;var u=w(h("jquery")),E=w(h("../../lib/keymaster.js")),c=w(h("./CPPalette.js")),e=w(h("../ChickenPaint.js")),v=h("../languages/lang");k.prototype=Object.create(c.default.prototype);k.prototype.constructor=k;K.exports=C.default},
{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../languages/lang":54,"./CPPalette.js":39,jquery:297}],51:[function(h,K,C){function w(b){"@babel/helpers - typeof";return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},w(b)}function k(b,d){for(var g=0;g<d.length;g++){var m=d[g];m.enumerable=m.enumerable||!1;m.configurable=!0;"value"in m&&(m.writable=
!0);Object.defineProperty(b,q(m.key),m)}}function u(b,d,g){d&&k(b.prototype,d);g&&k(b,g);Object.defineProperty(b,"prototype",{writable:!1});return b}function E(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,writable:!0,configurable:!0}});Object.defineProperty(b,"prototype",{writable:!1});d&&c(b,d)}function c(b,d){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,
m){g.__proto__=m;return g};return c(b,d)}function e(b){var d=a();return function(){var g=l(b);if(d){var m=l(this).constructor;g=Reflect.construct(g,arguments,m)}else g=g.apply(this,arguments);if(!g||"object"!==w(g)&&"function"!==typeof g){if(void 0!==g)throw new TypeError("Derived constructors may only return object or undefined");g=v(this)}return g}}function v(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function a(){if("undefined"===
typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(b){return!1}}function l(b){l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)};return l(b)}function q(b){a:if("object"===w(b)&&null!==b){var d=b[Symbol.toPrimitive];if(void 0!==d){b=d.call(b,"string");if("object"!==w(b))break a;throw new TypeError("@@toPrimitive must return a primitive value.");
}b=String(b)}return"symbol"===w(b)?b:String(b)}Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;h=function(b){return b&&b.__esModule?b:{default:b}}(h("wolfy87-eventemitter"));var r={toolbarStyle:"new"};C.default=function(b){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var m=g.call(this);var f=v(m);var n=q("toolbarStyle");n in f?Object.defineProperty(f,n,{value:void 0,enumerable:!0,configurable:!0,writable:!0}):f[n]=void 0;m.setDefaults();
return m}E(d,b);var g=e(d);u(d,[{key:"setDefaults",value:function(){for(var m in r)r.hasOwnProperty(m)&&this.set(m,r[m])}},{key:"load",value:function(){var m={};try{m=JSON.parse(localStorage.getItem("chickenpaint-prefs"))}catch(n){console.error(n)}m&&"object"===w(m)||(m={});for(var f in r)if(r.hasOwnProperty(f))try{this.set(f,m.hasOwnProperty(f)?m[f]:r[f])}catch(n){console.error(n)}}},{key:"save",value:function(){try{var m=!1,f;for(f in r)if(r.hasOwnProperty(f)&&this[f]!=r[f]){m=!0;break}m?localStorage.setItem("chickenpaint-prefs",
JSON.stringify({toolbarStyle:this.toolbarStyle})):localStorage.removeItem("chickenpaint-prefs")}catch(n){console.error(n)}}},{key:"set",value:function(m,f){this[m]=f;this.emitEvent(m,[f])}},{key:"get",value:function(m){return this[m]}}]);return d}(h.default);K.exports=C.default},{"wolfy87-eventemitter":316}],52:[function(h,K,C){K.exports={"Dodge (tool)":"Dodge","Burn (tool)":"Burn","Color (picker)":"Color","Color swatches (shorter)":"Swatches"}},{}],53:[function(h,K,C){K.exports={File:"\u30d5\u30a1\u30a4\u30eb",
"Save to my computer":"PC\u306b\u4fdd\u5b58","Post Oekaki":"\u304a\u7d75\u304b\u304d\u3092\u6295\u7a3f",Edit:"\u7de8\u96c6",Undo:"\u53d6\u308a\u6d88\u3057",Redo:"\u3084\u308a\u76f4\u3057",Cut:"\u5207\u308a\u53d6\u308a",Copy:"\u30b3\u30d4\u30fc","Clear history":"\u5c65\u6b74\u524a\u9664","Copy merged":"\u7d50\u5408\u30b3\u30d4\u30fc",Paste:"\u8cbc\u308a\u4ed8\u3051","Select all":"\u3059\u3079\u3066\u9078\u629e",Deselect:"\u9078\u629e\u89e3\u9664",Transform:"\u5909\u5f62",Layers:"\u30ec\u30a4\u30e4\u30fc",
Duplicate:"\u8907\u88fd","Merge down":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3068\u7d50\u5408","Merge group":"\u30b0\u30eb\u30fc\u30d7\u7d50\u5408","Merge all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u7d50\u5408","Add layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0","Delete mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664","Delete layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664","Apply mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528",
"Apply layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Disable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u7121\u52b9\u5316","Enable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u6709\u52b9\u5316","Clip to the layer below":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3067\u30af\u30ea\u30c3\u30d4\u30f3\u30b0","Unclip from the layer below":"\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u89e3\u9664",Effects:"\u52b9\u679c",Clear:"\u6d88\u53bb",Fill:"\u5857\u308a\u6f70\u3057","Flip horizontal":"\u5de6\u53f3\u53cd\u8ee2",
"Flip vertical":"\u4e0a\u4e0b\u53cd\u8ee2",Invert:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2","Box blur...":"\u307c\u304b\u3057","Blur amount (pixels)":"\u307c\u304b\u3057\u91cf(\u30d4\u30af\u30bb\u30eb\u5358\u4f4d)","Iterations (1-8, larger gives smoother blur)":"\u53cd\u5fa9(1-8,\u5927\u304d\u3044\u307b\u3069\u307c\u304b\u3057\u304c\u6ed1\u3089\u304b)","Monochromatic noise":"\u5358\u8272\u30ce\u30a4\u30ba","Color noise":"\u30ab\u30e9\u30fc\u30ce\u30a4\u30ba",View:"\u8868\u793a","Full-screen mode":"\u30d5\u30eb\u30b9\u30af\u30ea\u30fc\u30f3\u30e2\u30fc\u30c9",
"Zoom in":"\u62e1\u5927","Zoom out":"\u7e2e\u5c0f","Zoom 100%":"100%","Smooth-out zoomed canvas":"\u30ba\u30fc\u30e0\u3092\u306a\u3081\u3089\u304b\u306b\u8868\u793a\u3059\u308b","Show grid":"\u30b0\u30ea\u30c3\u30c9\u3092\u8868\u793a","Grid options...":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a",Palettes:"\u30d1\u30ec\u30c3\u30c8",Rearrange:"\u521d\u671f\u5316","Toggle palettes":"\u8868\u793a\u975e\u8868\u793a\u5207\u308a\u66ff\u3048","Use old icons":"\u53e4\u3044\u30a2\u30a4\u30b3\u30f3","Show tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3",
"Show color":"\u30ab\u30e9\u30fc","Show layers":"\u30ec\u30a4\u30e4\u30fc","Show misc":"\u64cd\u4f5c","Show stroke":"\u30b9\u30c8\u30ed\u30fc\u30af","Show swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Show textures":"\u30c6\u30af\u30b9\u30c1\u30e3","Show tools":"\u30c4\u30fc\u30eb",Help:"\u30d8\u30eb\u30d7","Tablet support":"\u30bf\u30d6\u30ec\u30c3\u30c8\u30b5\u30dd\u30fc\u30c8",Shortcuts:"\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8",About:"ChickenPaint\u306b\u3064\u3044\u3066",Misc:"\u64cd\u4f5c",
"Round Pixelated":"\u5186\u30d4\u30af\u30bb\u30eb","Round Hard Edge":"\u5186\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Round Soft":"\u5186\u30bd\u30d5\u30c8","Square Pixelated":"\u89d2\u30d4\u30af\u30bb\u30eb","Square Hard Edge":"\u89d2\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Color (picker)":"\u30ab\u30e9\u30fc","Tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Brush size":"\u30d6\u30e9\u30b7\u30b5\u30a4\u30ba",Opacity:"\u4e0d\u900f\u660e\u5ea6",Color:"\u8272\u88dc\u5145",Blend:"\u6df7\u8272",
Spacing:"\u9593\u9694",Scattering:"\u6563\u4e71",Smoothing:"\u624b\u3076\u308c\u88dc\u6b63","Color swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Color swatches (shorter)":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8",Remove:"\u524a\u9664","Replace with current color":"\u9078\u629e\u4e2d\u306e\u8272\u306b\u7f6e\u304d\u63db\u3048","Save swatches to your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u306b\u4fdd\u5b58","Load swatches from your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u304b\u3089\u8aad\u307f\u8fbc\u307f",
"Add the current brush color as a new swatch":"\u9078\u629e\u4e2d\u306e\u8272\u3092\u8ffd\u52a0","Sample all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u53c2\u7167","Lock transparency":"\u900f\u660e\u90e8\u5206\u3092\u4fdd\u8b77",Textures:"\u30c6\u30af\u30b9\u30c1\u30e3",Customize:"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba",Inverse:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2",Mirror:"\u5de6\u53f3\u53cd\u8ee2",Brightness:"\u8f1d\u5ea6",Contrast:"\u30b3\u30f3\u30c8\u30e9\u30b9\u30c8",Reset:"\u30ea\u30bb\u30c3\u30c8",
"Blending mode":"\u5408\u6210\u30e2\u30fc\u30c9",Normal:"\u901a\u5e38",Multiply:"\u4e57\u7b97",Add:"\u52a0\u7b97",Screen:"\u30b9\u30af\u30ea\u30fc\u30f3",Lighten:"\u6bd4\u8f03(\u660e)",Darken:"\u6bd4\u8f03(\u6697)",Subtract:"\u6e1b\u7b97",Dodge:"\u8986\u3044\u713c\u304d",Burn:"\u713c\u304d\u8fbc\u307f",Overlay:"\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4","Hard Light":"\u30cf\u30fc\u30c9\u30e9\u30a4\u30c8","Soft Light":"\u30bd\u30d5\u30c8\u30e9\u30a4\u30c8","Vivid Light":"\u30d3\u30d3\u30c3\u30c9\u30e9\u30a4\u30c8",
"Linear Light":"\u30ea\u30cb\u30a2\u30e9\u30a4\u30c8","Pin Light":"\u30d4\u30f3\u30e9\u30a4\u30c8",Passthrough:"\u901a\u904e",Stroke:"\u30b9\u30c8\u30ed\u30fc\u30af","Free-hand":"\u30d5\u30ea\u30fc\u30cf\u30f3\u30c9","Straight line":"\u76f4\u7dda","Bezier curve":"Bz\uff08\u30d9\u30b8\u30a7\uff09\u66f2\u7dda",Tools:"\u30c4\u30fc\u30eb",Marquee:"\u9078\u629e\u7bc4\u56f2","Move tool":"\u79fb\u52d5","Flood fill":"\u5857\u308a\u6f70\u3057","Gradient fill":"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3","Color picker":"\u30b9\u30dd\u30a4\u30c8",
"Rotate canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u56de\u8ee2","Grab canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u4f4d\u7f6e",Pencil:"\u925b\u7b46",Pen:"\u30da\u30f3",Airbrush:"\u30a8\u30a2\u30d6\u30e9\u30b7",Waterpaint:"\u6c34\u5f69",Eraser:"\u6d88\u3057\u30b4\u30e0","Soft eraser":"\u8584\u6d88\u3057",Smudge:"\u6307\u5148",Blender:"\u6df7\u8272","Dodge (tool)":"\u8986\u3044\u713c\u304d","Burn (tool)":"\u713c\u304d\u8fbc\u307f",Blur:"\u307c\u304b\u3057","Grid options":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a",
"Grid size":"\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba","Rename...":"\u540d\u524d\u3092\u5909\u66f4","Add layer":"\u65b0\u898f\u30ec\u30a4\u30e4\u30fc","Delete layer":"\u30ec\u30a4\u30e4\u30fc\u524a\u9664","Add group":"\u65b0\u898f\u30b0\u30eb\u30fc\u30d7","Delete group":"\u30b0\u30eb\u30fc\u30d7\u524a\u9664","Add mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0",Gradient:"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210","Please enter a color in hex format":"16\u9032\u5f62\u5f0f\u3067\u8272\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\uff08#xxxxxx\u306e\u5f62\uff09",
Cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",Ok:"OK",Okay:"OK",OK:"OK","Are you sure you want to send your drawing to the server and finish drawing now?":"\u304a\u7d75\u304b\u304d\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f","Your drawing has unsaved changes! Are you sure to want to navigate away?":"\u304a\u7d75\u304b\u304d\u306b\u672a\u4fdd\u5b58\u306e\u5909\u66f4\u304c\u3042\u308a\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",
"Save Oekaki":"\u4fdd\u5b58","Saving drawing...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u4e2d\u2026","Preparing your drawing to be saved, please wait...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3059\u308b\u6e96\u5099\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u2026","Drawing saved!":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\uff01","Your drawing has been saved, would you like to post it to the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f",
"Yes, post it now":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059","No, keep drawing":"\u307e\u3060\u63cf\u304d\u307e\u3059","No, quit and I'll finish it later":"\u30a2\u30d7\u30ea\u3092\u7d42\u4e86\u3057\u7d9a\u304d\u3092\u5f8c\u3067\u63cf\u304f","Your drawing has been saved, would you like to view it on the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f","Yes, view the post":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059\u3002",
"Your drawing has been saved, redirecting you to view your new post now...":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u6295\u7a3f\u5148\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002","Sorry, your drawing could not be saved, please try again later.":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u518d\u5ea6\u6295\u7a3f\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002"}},{}],54:[function(h,K,C){function w(b){"@babel/helpers - typeof";
return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},w(b)}function k(b){if("function"!=typeof WeakMap)return null;var d=new WeakMap,g=new WeakMap;return(k=function(m){return m?g:d})(b)}function u(b,d){if(!d&&b&&b.__esModule)return b;if(null===b||"object"!=w(b)&&"function"!=typeof b)return{default:b};if((d=k(d))&&d.has(b))return d.get(b);var g=
{__proto__:null},m=Object.defineProperty&&Object.getOwnPropertyDescriptor,f;for(f in b)if("default"!==f&&Object.prototype.hasOwnProperty.call(b,f)){var n=m?Object.getOwnPropertyDescriptor(b,f):null;n&&(n.get||n.set)?Object.defineProperty(g,f,n):g[f]=b[f]}return g.default=b,d&&d.set(b,g),g}function E(b,d){var g="undefined"!==typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(!g){if(Array.isArray(b)||(g=c(b))||d&&b&&"number"===typeof b.length){g&&(b=g);var m=0;d=function(){};return{s:d,n:function(){return m>=
b.length?{done:!0}:{done:!1,value:b[m++]}},e:function(y){throw y;},f:d}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var f=!0,n=!1,t;return{s:function(){g=g.call(b)},n:function(){var y=g.next();f=y.done;return y},e:function(y){n=!0;t=y},f:function(){try{f||null==g.return||g.return()}finally{if(n)throw t;}}}}function c(b,d){if(b){if("string"===typeof b)return e(b,d);var g=Object.prototype.toString.call(b).slice(8,
-1);"Object"===g&&b.constructor&&(g=b.constructor.name);if("Map"===g||"Set"===g)return Array.from(b);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return e(b,d)}}function e(b,d){if(null==d||d>b.length)d=b.length;for(var g=0,m=Array(d);g<d;g++)m[g]=b[g];return m}function v(b){b=b.split(/[-_]/,1)[0].toLowerCase();b in l?(q=l[b],r=b):(q=a,r="en")}Object.defineProperty(C,"__esModule",{value:!0});C._=function(b){return b in q?q[b]:b};C.currentLanguage=function(){return r};C.guessLanguage=
function(){try{if("undefined"!==typeof navigator){var b=navigator.languages;Array.isArray(b)||(b=[b]);var d=E(b),g;try{for(d.s();!(g=d.n()).done;){var m=g.value,f=/^(..)([-_].+)?$/.exec(m);if(f){f[1]=f[1].toLowerCase();if(f[1]in l){v(m);break}if("en"===f[1]){v("en");break}}}}catch(n){d.e(n)}finally{d.f()}}}catch(n){console.error(n)}};C.setLanguage=v;var a=u(h("./en.json")),l={ja:u(h("./ja.json")),en:a},q=a,r="en"},{"./en.json":52,"./ja.json":53}],55:[function(h,K,C){function w(){}Object.defineProperty(C,
"__esModule",{value:!0});C.default=w;var k=function(u){return u&&u.__esModule?u:{default:u}}(h("./ArrayDataStream.js"));w.prototype.read=function(u){if(null==u)return null;u=new k.default(new Uint8Array(u));var E=[];if(1!=u.readU16BE())return null;var c=u.readU16BE();for(var e=0;e<c;e++)if(0==u.readU16BE()){var v=255*u.readU16BE()/65535,a=255*u.readU16BE()/65535,l=255*u.readU16BE()/65535;u.readU16BE();E.push(v<<16|a<<8|l)}return E};w.prototype.write=function(u){var E=new Uint8Array(4+10*u.length);
E=new k.default(E);E.writeU16BE(1);E.writeU16BE(u.length);for(var c=0;c<u.length;c++){var e=u[c];E.writeU16BE(0);E.writeU16BE(257*(e>>16&255));E.writeU16BE(257*(e>>8&255));E.writeU16BE(257*(e&255));E.writeU16BE(0)}return E.getAsDataArray()};K.exports=C.default},{"./ArrayDataStream.js":56}],56:[function(h,K,C){function w(k,u,E){this.data=k;this.eof=!1;this.start=void 0===u?0:u;this.end=void 0===E?k.length:E;this.pos=this.start}Object.defineProperty(C,"__esModule",{value:!0});C.default=w;w.prototype.readChar=
function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos++]);this.eof=!0;return-1};w.prototype.readByte=function(){if(this.pos<this.end)return this.data[this.pos++];this.eof=!0;return-1};w.prototype.readU8=w.prototype.readByte;w.prototype.readS8=function(){var k=this.readByte();return k&128?k|4294967040:k};w.prototype.unreadChar=function(k){this.pos--};w.prototype.peekChar=function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos]);this.eof=!0;return-1};w.prototype.readString=
function(k){var u=Array(k),E;for(E=0;E<k;E++)u[E]=this.readChar();return u.join("")};w.prototype.readS16=function(){var k=this.readByte(),u=this.readByte();k=k<<8|u;return k&32768?k|4294901760:k};w.prototype.readU16BE=function(){var k=this.readByte(),u=this.readByte();return k<<8|u};w.prototype.readU16LE=function(){var k=this.readByte();return this.readByte()<<8|k};w.prototype.readU32BE=function(){var k=this.readByte(),u=this.readByte(),E=this.readByte(),c=this.readByte();return(k<<24|u<<16|E<<8|
c)>>>0};w.prototype.readU32LE=function(){var k=this.readByte(),u=this.readByte(),E=this.readByte();return(this.readByte()<<24|E<<16|u<<8|k)>>>0};w.prototype.readBytes=function(k){var u=this.data.subarray(this.pos,this.pos+k);this.pos+=k;this.pos>this.end&&(this.eof=!0);return u};w.prototype.skip=function(k){this.pos+=k;this.pos>this.end&&(this.eof=!0)};w.prototype.seek=function(k){this.pos=k};w.prototype.writeBytes=function(k){for(var u=0;u<k.length;u++)this.data[this.pos++]=k[u]};w.prototype.writeByte=
function(k){this.data[this.pos++]=k};w.prototype.writeU8=w.prototype.writeByte;w.prototype.writeU16LE=function(k){this.data[this.pos++]=k;this.data[this.pos++]=k>>8};w.prototype.writeU16BE=function(k){this.data[this.pos++]=k>>8;this.data[this.pos++]=k};w.prototype.writeU32BE=function(k){this.data[this.pos++]=k>>24;this.data[this.pos++]=k>>16;this.data[this.pos++]=k>>8;this.data[this.pos++]=k};w.prototype.writeU32LE=function(k){this.data[this.pos++]=k;this.data[this.pos++]=k>>8;this.data[this.pos++]=
k>>16;this.data[this.pos++]=k>>24};w.prototype.writeDoubleBE=function(k){k=new Uint8Array((new Float64Array([k])).buffer);for(var u=k.length-1;0<=u;u--)this.writeByte(k[u])};w.prototype.writeFloatBE=function(k){k=new Uint8Array((new Float32Array([k])).buffer);for(var u=k.length-1;0<=u;u--)this.writeByte(k[u])};w.prototype.writeString=function(k){for(var u=0;u<k.length;u++)this.data[this.pos++]=k.charCodeAt(u)};w.prototype.writeUnsignedIntBE=function(k,u){void 0===u&&(u=this.measureUnsignedInt(k));
switch(u){case 5:this.writeU8(Math.floor(k/4294967296));case 4:this.writeU8(k>>24);case 3:this.writeU8(k>>16);case 2:this.writeU8(k>>8);case 1:this.writeU8(k);break;default:throw"Bad UINT size "+u;}};w.prototype.measureUnsignedInt=function(k){return 256>k?1:65536>k?2:16777216>k?3:4294967296>k?4:5};w.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw"ArrayDataStream's pos lies beyond end of buffer";
};w.prototype.EOF=-1;K.exports=C.default},{}],57:[function(h,K,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(){var w=this;this.x0=this.y0=this.x1=this.y1=this.x2=this.y2=this.x3=this.y3=0;var k,u,E,c,e,v,a,l;this.compute=function(q,r,b){var d=1/b,g=3*d,m=g*d;d*=d*d;var f=2*m,n=6*d,t=w.x0-2*w.x1+w.x2,y=w.y0-2*w.y1+w.y2,B=3*(w.x1-w.x2)-w.x0+w.x3,z=3*(w.y1-w.y2)-w.y0+w.y3;k=w.x0;e=w.y0;u=(w.x1-w.x0)*g+t*m+B*d;v=(w.y1-w.y0)*g+y*m+z*d;E=t*f+B*n;a=y*f+z*n;c=B*n;l=z*n;q[0]=k;r[0]=
e;for(g=1;g<b;g++)k+=u,e+=v,u+=E,v+=a,E+=c,a+=l,q[g]=k,r[g]=e}};K.exports=C.default},{}],58:[function(h,K,C){function w(u){if(0==u.saturation)return u.value<<16|u.value<<8|u.value;var E=u.hue/60;E-=Math.floor(E);var c=u.saturation/255,e=~~(u.value*(1-c)),v=~~(u.value*(1-c*E));E=~~(u.value*(1-c*(1-E)));switch(~~(u.hue/60)){case 0:return u.value<<16|E<<8|e;case 1:return v<<16|u.value<<8|e;case 2:return e<<16|u.value<<8|E;case 3:return e<<16|v<<8|u.value;case 4:return E<<16|e<<8|u.value;case 5:return u.value<<
16|e<<8|v;default:return 0}}function k(u){this.value=this.saturation=this.hue=this.rgb=0;this.setRgb(u||0)}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;k.prototype.getRgb=function(){return this.rgb};k.prototype.getSaturation=function(){return this.saturation};k.prototype.getHue=function(){return this.hue};k.prototype.getValue=function(){return this.value};k.prototype.setRgbComponents=function(u,E,c){this.setRgb(u<<16|E<<8|c)};k.prototype.setRgb=function(u){this.rgb=u;var E=u>>16&255,
c=u>>8&255;u&=255;this.value=Math.max(E,Math.max(c,u));var e=Math.min(E,Math.min(c,u));this.saturation=0==this.value?0:~~((this.value-e)/this.value*255);if(0==this.saturation)this.hue=0;else{var v=(this.value-E)/(this.value-e),a=(this.value-c)/(this.value-e);e=(this.value-u)/(this.value-e);var l=0;this.value==E&&(l=e-a);this.value==c&&(l=2+v-e);this.value==u&&(l=4+a-v);l*=60;0>l&&(l+=360);this.hue=~~l}};k.prototype.setHsv=function(u,E,c){this.hue=u;this.saturation=E;this.value=c;this.rgb=w(this)};
k.prototype.setHue=function(u){this.hue=u;this.rgb=w(this)};k.prototype.setSaturation=function(u){this.saturation=u;this.rgb=w(this)};k.prototype.setValue=function(u){this.value=u;this.rgb=w(this)};k.prototype.setGreyscale=function(u){this.rgb=k.greyToRGB(u);this.saturation=this.hue=0;this.value=u};k.prototype.clone=function(){var u=new k(0);u.copyFrom(this);return u};k.prototype.copyFrom=function(u){this.rgb=u.rgb;this.hue=u.hue;this.saturation=u.saturation;this.value=u.value};k.prototype.isEqual=
function(u){return this.rgb==u.rgb&&this.hue==u.hue&&this.saturation==u.saturation&&this.value==u.value};k.greyToRGB=function(u){return u|u<<8|u<<16};K.exports=C.default},{}],59:[function(h,K,C){function w(k,u,E){this.r=k;this.g=u;this.b=E}Object.defineProperty(C,"__esModule",{value:!0});C.default=w;w.prototype.toInt=function(){return Math.max(0,Math.min(255,Math.round(255*this.r)))<<16|Math.max(0,Math.min(255,Math.round(255*this.g)))<<8|Math.max(0,Math.min(255,Math.round(255*this.b)))};w.prototype.mixWith=
function(k,u){this.r=this.r*(1-u)+k.r*u;this.g=this.g*(1-u)+k.g*u;this.b=this.b*(1-u)+k.b*u};w.prototype.clone=function(){return new w(this.r,this.g,this.b)};w.createFromInt=function(k){return new w((k>>>16&255)/255,(k>>>8&255)/255,(k&255)/255)};K.exports=C.default},{}],60:[function(h,K,C){function w(u){for(var E=["imageSmoothingEnabled","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled"],c=0;c<E.length;c++)if(E[c]in u)return E[c];return null}Object.defineProperty(C,
"__esModule",{value:!0});C.isCanvasInterpolationSupported=function(){var u=(0,k.createCanvas)(0,0).getContext("2d");return!!w(u)};C.isCanvasSupported=function(){var u=(0,k.createCanvas)(0,0);return!(!u.getContext||!u.getContext("2d"))};C.isEventSupported=function(u){var E=u in window;E||(E=document.createElement("div"),E.setAttribute(u,"return;"),E="function"==typeof E[u]);return E};C.isFlexboxSupported=function(){return("string"==typeof document.body.style.flexBasis||"string"==typeof document.body.style.msFlexDirection)&&
!/Presto/.test(navigator.userAgent)};C.setCanvasInterpolation=function(u,E){var c=w(u);c&&(u[c]=E)};var k=h("./Canvas.js")},{"./Canvas.js":2}],61:[function(h,K,C){function w(k){this.points=k||[]}Object.defineProperty(C,"__esModule",{value:!0});C.default=w;(function(k){return k&&k.__esModule?k:{default:k}})(h("./CPTransform.js"));w.prototype.clone=function(){for(var k=new w(Array(this.points.length)),u=0;u<this.points.length;u++)k.points[u]={x:this.points[u].x,y:this.points[u].y};return k};w.prototype.getTransformed=
function(k){for(var u=new w(Array(this.points.length)),E=0;E<this.points.length;E++)u.points[E]=k.getTransformedPoint(this.points[E]);return u};w.prototype.getCenter=function(){for(var k=this.points[0].x,u=this.points[0].y,E=1;E<this.points.length;E++)k+=this.points[E].x,u+=this.points[E].y;return{x:k/this.points.length,y:u/this.points.length}};w.prototype.containsPoint=function(k){var u,E=!1;var c=0;for(u=this.points.length-1;c<this.points.length;u=c++)this.points[c].y>k.y!=this.points[u].y>k.y&&
k.x<(this.points[u].x-this.points[c].x)*(k.y-this.points[c].y)/(this.points[u].y-this.points[c].y)+this.points[c].x&&(E=!E);return E};K.exports=C.default},{"./CPTransform.js":64}],62:[function(h,K,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(){var w,k=!1;this.nextGaussian=function(){if(k)return k=!1,w;do{var u=2*Math.random()-1;var E=2*Math.random()-1;var c=u*u+E*E}while(1<=c||0==c);c=Math.sqrt(-2*Math.log(c)/c);w=E*c;k=!0;return u*c}};K.exports=C.default},{}],63:[function(h,
K,C){function w(u){"@babel/helpers - typeof";return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},w(u)}function k(u,E,c,e){this.left=u;this.top=E;this.right=c;this.bottom=e}Object.defineProperty(C,"__esModule",{value:!0});C.default=k;k.prototype.makeEmpty=function(){this.bottom=this.right=this.top=this.left=0};k.prototype.union=function(u){this.isEmpty()?
this.set(u):u.isEmpty()||(this.left=Math.min(this.left,u.left),this.top=Math.min(this.top,u.top),this.right=Math.max(this.right,u.right),this.bottom=Math.max(this.bottom,u.bottom))};k.prototype.getUnion=function(u){var E=this.clone();E.union(u);return E};k.prototype.getIntersection=function(u){return new k(Math.max(this.left,u.left),Math.max(this.top,u.top),Math.min(this.right,u.right),Math.min(this.bottom,u.bottom))};k.prototype.clipTo=function(u){this.isEmpty()||(u.isEmpty()?this.makeEmpty():(this.left=
Math.min(Math.max(this.left,u.left),u.right),this.top=Math.min(Math.max(this.top,u.top),u.bottom),this.right=Math.max(Math.min(this.right,u.right),u.left),this.bottom=Math.max(Math.min(this.bottom,u.bottom),u.top)));return this};k.prototype.containsPoint=function(u){return!(u.x<this.left||u.y<this.top||u.x>=this.right||u.y>=this.bottom)};k.prototype.isInside=function(u){return this.left>=u.left&&this.top>=u.top&&this.right<=u.right&&this.bottom<=u.bottom};k.prototype.clipSourceDest=function(u,E){E.right=
E.left+u.getWidth();E.bottom=E.top+u.getHeight();this.isEmpty()||E.left>=this.right||E.top>=this.bottom||E.right<=this.left||E.bottom<=this.top?(u.makeEmpty(),E.makeEmpty()):(E.right>this.right&&(u.right-=E.right-this.right,E.right=this.right),E.bottom>this.bottom&&(u.bottom-=E.bottom-this.bottom,E.bottom=this.bottom),E.left<this.left&&(u.left+=this.left-E.left,E.left=this.left),E.top<this.top&&(u.top+=this.top-E.top,E.top=this.top))};k.prototype.getWidth=function(){return this.right-this.left};k.prototype.getHeight=
function(){return this.bottom-this.top};k.prototype.getArea=function(){return this.getWidth()*this.getHeight()};k.prototype.isEmpty=function(){return this.right<=this.left||this.bottom<=this.top};k.prototype.set=function(u){this.left=u.left;this.top=u.top;this.right=u.right;this.bottom=u.bottom};k.prototype.clone=function(){return new k(this.left,this.top,this.right,this.bottom)};k.prototype.translate=function(u,E){this.left+=u;this.right+=u;this.top+=E;this.bottom+=E;return this};k.prototype.getTranslated=
function(u,E){var c=this.clone();c.translate(u,E);return c};k.prototype.moveTo=function(u,E){this.translate(u-this.left,E-this.top)};k.prototype.equals=function(u){return this.left==u.left&&this.right==u.right&&this.top==u.top&&this.bottom==u.bottom};k.prototype.grow=function(u,E){this.left-=u;this.right+=u;this.top-=E;this.bottom+=E};k.prototype.toString=function(){return"("+this.left+","+this.top+","+this.right+","+this.bottom+")"};k.prototype.toPoints=function(){return[{x:this.left,y:this.top},
{x:this.right,y:this.top},{x:this.right,y:this.bottom},{x:this.left,y:this.bottom}]};k.prototype.roundNearest=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);return this};k.prototype.roundContain=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);return this};k.createBoundingBox=function(u){if(0===u.length)return new k(0,
0,0,0);for(var E=new k(u[0].x,u[0].y,u[0].x,u[0].y),c=1;c<u.length;c++)E.left=Math.min(E.left,u[c].x),E.top=Math.min(E.top,u[c].y),E.right=Math.max(E.right,u[c].x),E.bottom=Math.max(E.bottom,u[c].y);return E};k.prototype.subtract=function(u){return k.subtract(this,u)};k.subtract=function(u,E){u instanceof k&&(u=[u]);E instanceof k&&(E=[E]);u=u.slice(0);for(var c=0;c<E.length;c++)for(var e=E[c],v=u.length,a=0;a<v;a++){var l=u[a];if(l){var q=l.getIntersection(e);if(!q.isEmpty()){var r=[];l.top<e.top&&
r.push(new k(l.left,l.top,l.right,q.top));l.bottom>e.bottom&&r.push(new k(l.left,q.bottom,l.right,l.bottom));l.left<e.left&&r.push(new k(l.left,q.top,q.left,q.bottom));l.right>e.right&&r.push(new k(q.right,q.top,l.right,q.bottom));r=r.filter(function(b){return!b.isEmpty()});if(0<r.length)for(u[a]=r[0],l=1;l<r.length;l++)u.push(r[l]);else u[a]=null}}}return u.filter(function(b){return null!=b})};k.union=function(u){if(u instanceof k)u=[u];else{u=u.slice(0);for(var E=0;E<u.length;E++){var c=u[E],e=
u.length;if(c)for(var v=E+1;v<e;v++){var a=u[v];if(a&&!c.getIntersection(a).isEmpty()){a=k.subtract(a,c);u[v]=a[0];for(var l=1;l<a.length;l++)u.push(a[l])}}}}return u.filter(function(q){return q&&!q.isEmpty()})};"object"==("undefined"===typeof window?"undefined":w(window))&&(window.cpRectGarbage=new k(1.5,2.5,3.5,4.5));K.exports=C.default},{}],64:[function(h,K,C){function w(){this.setToIdentity()}Object.defineProperty(C,"__esModule",{value:!0});C.default=w;w.prototype.setToIdentity=function(){this.m=
[1,0,0,1,0,0]};w.prototype.multiply=function(k){var u=this.m[1]*k.m[0]+this.m[3]*k.m[1],E=this.m[0]*k.m[2]+this.m[2]*k.m[3],c=this.m[1]*k.m[2]+this.m[3]*k.m[3],e=this.m[0]*k.m[4]+this.m[2]*k.m[5]+this.m[4],v=this.m[1]*k.m[4]+this.m[3]*k.m[5]+this.m[5];this.m[0]=this.m[0]*k.m[0]+this.m[2]*k.m[1];this.m[1]=u;this.m[2]=E;this.m[3]=c;this.m[4]=e;this.m[5]=v};w.prototype.preMultiply=function(k){var u=k.m[1]*this.m[0]+k.m[3]*this.m[1],E=k.m[0]*this.m[2]+k.m[2]*this.m[3],c=k.m[1]*this.m[2]+k.m[3]*this.m[3],
e=k.m[0]*this.m[4]+k.m[2]*this.m[5]+k.m[4],v=k.m[1]*this.m[4]+k.m[3]*this.m[5]+k.m[5];this.m[0]=k.m[0]*this.m[0]+k.m[2]*this.m[1];this.m[1]=u;this.m[2]=E;this.m[3]=c;this.m[4]=e;this.m[5]=v};w.prototype.invert=function(){var k=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),u=-this.m[1]*k,E=-this.m[2]*k,c=this.m[0]*k,e=k*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),v=k*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=this.m[3]*k;this.m[1]=u;this.m[2]=E;this.m[3]=c;this.m[4]=e;this.m[5]=v};w.prototype.getInverted=
function(){var k=new w;k.m[0]=this.m[0];k.m[1]=this.m[1];k.m[2]=this.m[2];k.m[3]=this.m[3];k.m[4]=this.m[4];k.m[5]=this.m[5];k.invert();return k};w.prototype.rotate=function(k){var u=Math.cos(k);k=Math.sin(k);var E=this.m[1]*u+this.m[3]*k,c=this.m[0]*-k+this.m[2]*u,e=this.m[1]*-k+this.m[3]*u;this.m[0]=this.m[0]*u+this.m[2]*k;this.m[1]=E;this.m[2]=c;this.m[3]=e};w.prototype.rotateAroundPoint=function(k,u,E){this.translate(u,E);this.rotate(k);this.translate(-u,-E)};w.prototype.translate=function(k,
u){this.m[4]+=this.m[0]*k+this.m[2]*u;this.m[5]+=this.m[1]*k+this.m[3]*u};w.prototype.scale=function(k,u){this.m[0]*=k;this.m[1]*=k;this.m[2]*=u;this.m[3]*=u};w.prototype.scaleAroundPoint=function(k,u,E,c){this.translate(E,c);this.scale(k,u);this.translate(-E,-c)};w.prototype.shear=function(k,u){var E=this.m[1]+this.m[3]*u,c=this.m[2]+this.m[0]*k;k=this.m[3]+this.m[1]*k;this.m[0]+=this.m[2]*u;this.m[1]=E;this.m[2]=c;this.m[3]=k};w.prototype.getTransformedPoint=function(k){return{x:k.x*this.m[0]+k.y*
this.m[2]+this.m[4],y:k.x*this.m[1]+k.y*this.m[3]+this.m[5]}};w.prototype.transformPoints=function(k){for(var u=0;u<k.length;u++)k[u]=this.getTransformedPoint(k[u])};w.prototype.getTranslateX=function(){return this.m[4]};w.prototype.getTranslateY=function(){return this.m[5]};w.prototype.clone=function(){var k=new w;k.m[0]=this.m[0];k.m[1]=this.m[1];k.m[2]=this.m[2];k.m[3]=this.m[3];k.m[4]=this.m[4];k.m[5]=this.m[5];return k};w.prototype.getDeterminant=function(){return this.m[0]*this.m[3]-this.m[1]*
this.m[2]};w.prototype.decompose=function(){var k=this.getDeterminant(),u=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return{translate:{x:this.m[4],y:this.m[5]},rotate:Math.sign(this.m[1])*Math.acos(this.m[0]/u),scale:{x:u,y:k/u},shear:{x:Math.atan((this.m[0]*this.m[2]+this.m[1]*this.m[3])/(u*u)),y:0}}};w.prototype.toString=function(){return"["+this.m[0].toFixed(2)+" "+this.m[2].toFixed(2)+" "+this.m[4].toFixed(2)+"]\n["+this.m[1].toFixed(2)+" "+this.m[3].toFixed(2)+" "+this.m[5].toFixed(2)+
"]\n[0.00 0.00 1.00]"};Math.sign=Math.sign||function(k){k=+k;return 0===k||isNaN(k)?k:0<k?1:-1};K.exports=C.default},{}],65:[function(h,K,C){function w(k,u){this.x=k;this.y=u}Object.defineProperty(C,"__esModule",{value:!0});C.default=w;w.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};w.prototype.normalize=function(){var k=this.getLength();this.x/=k;this.y/=k;return this};w.prototype.getDotProduct=function(k){return this.x*k.x+this.y*k.y};w.prototype.scale=function(k){this.x*=
k;this.y*=k;return this};w.prototype.getScaled=function(k){var u=new w(this.x,this.y);u.scale(k);return u};w.prototype.getRounded=function(){return new w(Math.round(this.x),Math.round(this.y))};w.prototype.getTruncated=function(){return new w(~~this.x,~~this.y)};w.prototype.getPerpendicular=function(){return new w(-this.y,this.x)};w.prototype.add=function(k){this.x+=k.x;this.y+=k.y;return this};w.prototype.subtract=function(k){this.x-=k.x;this.y-=k.y;return this};w.prototype.getSum=function(k){return new w(this.x+
k.x,this.y+k.y)};w.subtractPoints=function(k,u){return new w(k.x-u.x,k.y-u.y)};K.exports=C.default},{}],66:[function(h,K,C){function w(){var k=null,u,E=this;this.isPen=function(){if(k){var c=k.pointerType;return 1==c||3==c}return!1};this.getPressure=function(){return k?k.pressure:1};this.pluginLoaded=function(){console.log("Wacom tablet support loaded!");k=u.penAPI};this.isTabletPresent=function(){return!!k};this.detectTablet=function(){if(/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent))console.log("Not attempting to load Wacom tablet plugin, since this is Chrome");
else{console.log("Attempting to load Wacom tablet support...");u=document.createElement("object");if("classid"in u)u.classid="CLSID:092dfa86-5807-5a94-bf3b-5a53ba9e5308";else{var c=document.createElement("param");c.name="onload";c.value="onWacomPluginLoaded";u.appendChild(c);u.type="application/x-wacomtabletplugin"}u.style.position="absolute";u.style.visibility="hidden";u.onload="onWacomPluginLoaded";document.body.appendChild(u);setTimeout(function(){E.isTabletPresent()||console.log("Looks like the Wacom plugin isn't installed, or failed to load.")},
5E3)}}}Object.defineProperty(C,"__esModule",{value:!0});C.default=w;w.getRef=function(){null==w.instance&&(w.instance=new w);return w.instance};window.onWacomPluginLoaded=function(){w.getRef().pluginLoaded()};K.exports=C.default},{}],67:[function(h,K,C){function w(k,u,E,c){var e,v=0;"boolean"!==typeof u&&(c=E,E=u,u=void 0);return function(){function a(){v=+new Date;E.apply(q,b)}function l(){e=void 0}var q=this,r=+new Date-v,b=arguments;c&&!e&&a();e&&clearTimeout(e);void 0===c&&r>k?a():!0!==u&&(e=
setTimeout(c?l:a,void 0===c?k-r:k))}}Object.defineProperty(C,"__esModule",{value:!0});C.debounce=function(k,u,E){return void 0===E?w(k,u,!1):w(k,E,!1!==u)};C.throttle=w},{}],68:[function(h,K,C){function w(k){for(var u={DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27," ":32,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,SHIFT:16,"[":219,"]":221,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"-":189,"=":187,"+":187,";":187,LEFTMETA:91,RIGHTMETA:91,ALT:18,ALTGRAPH:18,OPTION:18,CONTROL:17},E=65;90>=
E;E++){var c=String.fromCharCode(E);u[c]=E}k=k.toUpperCase();if(k in u)return u[k]}(function(k){function u(B,z){for(var H=B.length;H--;)if(B[H]===z)return H;return-1}function E(B){var z,H;var N=w(B.key);-1==u(n,N)&&n.push(N);if(N in b)for(z in b[N]=!0,g)g[z]==N&&(c[z]=!0);else{for(q in b)b[q]=B[t[q]];if(c.filter.call(this,B)&&N in r){var x=e();for(H=0;H<r[N].length;H++){var F=r[N][H];if(F.scope==x||"all"==F.scope){var G=0<F.mods.length;for(z in b)if(!b[z]&&-1<u(F.mods,+z)||b[z]&&-1==u(F.mods,+z))G=
!1;(0!=F.mods.length||b[16]||b[18]||b[17]||b[91])&&!G||!1!==F.method(B,F)||(B.preventDefault?B.preventDefault():B.returnValue=!1,B.stopPropagation&&B.stopPropagation(),B.cancelBubble&&(B.cancelBubble=!0))}}}}}function c(B,z,H){var N=v(B);void 0===H&&(H=z,z="all");for(var x=0;x<N.length;x++){var F=[];B=N[x].split("+");1<B.length&&(F=a(B),B=[B[B.length-1]]);B=B[0];B=f(B);B in r||(r[B]=[]);r[B].push({shortcut:N[x],scope:z,method:H,key:N[x],mods:F})}}function e(){return d||"all"}function v(B){B=B.replace(/\s/g,
"");B=B.split(",");""==B[B.length-1]&&(B[B.length-2]+=",");return B}function a(B){B=B.slice(0,B.length-1);for(var z=0;z<B.length;z++)B[z]=g[B[z]];return B}function l(B,z,H){B.addEventListener&&B.addEventListener(z,H,!1)}var q,r={},b={16:!1,18:!1,17:!1,91:!1},d="all",g={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},m={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,
home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},f=function(B){B=m[B]||B.toUpperCase().charCodeAt(0);return"function"===typeof B?B():B},n=[];for(q=1;20>q;q++)m["f"+q]=111+q;var t={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(q in g)c[q]=!1;l(document,"keydown",function(B){E(B)});l(document,"keyup",function(B){B=w(B.key);var z,H=u(n,B);0<=H&&n.splice(H,1);if(B in b)for(z in b[B]=!1,g)g[z]==B&&(c[z]=!1)});l(window,
"focus",function(){for(q in b)b[q]=!1;for(q in g)c[q]=!1});var y=k.key;k.key=c;k.key.setScope=function(B){d=B||"all"};k.key.getScope=e;k.key.deleteScope=function(B){var z,H;for(z in r){var N=r[z];for(H=0;H<N.length;)N[H].scope===B?N.splice(H,1):H++}};k.key.filter=function(B){B=(B.target||B.srcElement).tagName;return!("INPUT"==B||"SELECT"==B||"TEXTAREA"==B)};k.key.isPressed=function(B){"string"==typeof B&&(B=f(B));return-1!=u(n,B)};k.key.getPressedKeyCodes=function(){return n.slice(0)};k.key.noConflict=
function(){var B=k.key;k.key=y;return B};k.key.unbind=function(B,z){var H=[],N,x;var F=v(B);for(x=0;x<F.length;x++){B=F[x].split("+");1<B.length&&(H=a(B));B=B[B.length-1];B=f(B);void 0===z&&(z=e());if(!r[B])break;for(N=0;N<r[B].length;N++){var G=r[B][N];var I;if(I=G.scope===z)a:if(G=G.mods,G.length!=H.length)I=!1;else{for(I=0;I<G.length;I++)if(G[I]!==H[I]){I=!1;break a}I=!0}I&&(r[B][N]={})}}};"undefined"!==typeof K&&(K.exports=c)})({})},{}],69:[function(h,K,C){(function(){for(var w=0,k=["ms","moz",
"webkit","o"],u=0;u<k.length&&!window.requestAnimationFrame;++u)window.requestAnimationFrame=window[k[u]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[k[u]+"CancelAnimationFrame"]||window[k[u]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(E,c){var e=(new Date).getTime(),v=Math.max(0,16-(e-w));c=window.setTimeout(function(){E(e+v)},v);w=e+v;return c});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(E){clearTimeout(E)})})()},
{}],70:[function(h,K,C){(function(w,k){"object"===typeof C&&"undefined"!==typeof K?k(C,h("jquery"),h("popper.js")):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.bootstrap={},w.jQuery,w.Popper))})(this,function(w,k,u){function E(W){return W&&"object"===typeof W&&"default"in W?W:{"default":W}}function c(W,Z){for(var D=0;D<Z.length;D++){var J=Z[D];J.enumerable=J.enumerable||!1;J.configurable=!0;"value"in J&&(J.writable=!0);Object.defineProperty(W,J.key,J)}}function e(W,Z,D){Z&&c(W.prototype,
Z);D&&c(W,D);Object.defineProperty(W,"prototype",{writable:!1});return W}function v(){v=Object.assign?Object.assign.bind():function(W){for(var Z=1;Z<arguments.length;Z++){var D=arguments[Z],J;for(J in D)Object.prototype.hasOwnProperty.call(D,J)&&(W[J]=D[J])}return W};return v.apply(this,arguments)}function a(W,Z){W.prototype=Object.create(Z.prototype);W.prototype.constructor=W;l(W,Z)}function l(W,Z){l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,J){D.__proto__=J;return D};return l(W,
Z)}function q(W,Z){var D=W.nodeName.toLowerCase();if(-1!==Z.indexOf(D))return-1!==ya.indexOf(D)?!(!ta.test(W.nodeValue)&&!Ga.test(W.nodeValue)):!0;W=Z.filter(function(Y){return Y instanceof RegExp});Z=0;for(var J=W.length;Z<J;Z++)if(W[Z].test(D))return!0;return!1}function r(W,Z,D){if(0===W.length)return W;if(D&&"function"===typeof D)return D(W);W=(new window.DOMParser).parseFromString(W,"text/html");var J=Object.keys(Z),Y=[].slice.call(W.body.querySelectorAll("*"));D=function(Ua,Db){var O=Y[Ua];Ua=
O.nodeName.toLowerCase();if(-1===J.indexOf(O.nodeName.toLowerCase()))return O.parentNode.removeChild(O),"continue";Db=[].slice.call(O.attributes);var Hb=[].concat(Z["*"]||[],Z[Ua]||[]);Db.forEach(function(bc){q(bc,Hb)||O.removeAttribute(bc.nodeName)})};for(var za=0,Qa=Y.length;za<Qa;za++)D(za);return W.body.innerHTML}var b=E(k),d=E(u),g={TRANSITION_END:"bsTransitionEnd",getUID:function(W){do W+=~~(1E6*Math.random());while(document.getElementById(W));return W},getSelectorFromElement:function(W){var Z=
W.getAttribute("data-target");Z&&"#"!==Z||(Z=(W=W.getAttribute("href"))&&"#"!==W?W.trim():"");try{return document.querySelector(Z)?Z:null}catch(D){return null}},getTransitionDurationFromElement:function(W){if(!W)return 0;var Z=b["default"](W).css("transition-duration");W=b["default"](W).css("transition-delay");var D=parseFloat(Z),J=parseFloat(W);if(!D&&!J)return 0;Z=Z.split(",")[0];W=W.split(",")[0];return 1E3*(parseFloat(Z)+parseFloat(W))},reflow:function(W){return W.offsetHeight},triggerTransitionEnd:function(W){b["default"](W).trigger("transitionend")},
supportsTransitionEnd:function(){return!0},isElement:function(W){return(W[0]||W).nodeType},typeCheckConfig:function(W,Z,D){for(var J in D)if(Object.prototype.hasOwnProperty.call(D,J)){var Y=D[J],za=Z[J];za=za&&g.isElement(za)?"element":null===za||"undefined"===typeof za?""+za:{}.toString.call(za).match(/\s([a-z]+)/i)[1].toLowerCase();if(!(new RegExp(Y)).test(za))throw Error(W.toUpperCase()+': Option "'+(J+'" provided type "'+za+'" but expected type "')+(Y+'".'));}},findShadowRoot:function(W){return document.documentElement.attachShadow?
"function"===typeof W.getRootNode?(W=W.getRootNode(),W instanceof ShadowRoot?W:null):W instanceof ShadowRoot?W:W.parentNode?g.findShadowRoot(W.parentNode):null:null},jQueryDetection:function(){if("undefined"===typeof b["default"])throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var W=b["default"].fn.jquery.split(" ")[0].split(".");if(2>W[0]&&9>W[1]||1===W[0]&&9===W[1]&&1>W[2]||4<=W[0])throw Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0");
}};g.jQueryDetection();b["default"].fn.emulateTransitionEnd=function(W){var Z=this,D=!1;b["default"](this).one(g.TRANSITION_END,function(){D=!0});setTimeout(function(){D||g.triggerTransitionEnd(Z)},W);return this};b["default"].event.special[g.TRANSITION_END]=function(){return{bindType:"transitionend",delegateType:"transitionend",handle:function(W){if(b["default"](W.target).is(this))return W.handleObj.handler.apply(this,arguments)}}}();var m=b["default"].fn.alert,f=function(){function W(D){this._element=
D}var Z=W.prototype;Z.close=function(D){var J=this._element;D&&(J=this._getRootElement(D));this._triggerCloseEvent(J).isDefaultPrevented()||this._removeElement(J)};Z.dispose=function(){b["default"].removeData(this._element,"bs.alert");this._element=null};Z._getRootElement=function(D){var J=g.getSelectorFromElement(D),Y=!1;J&&(Y=document.querySelector(J));Y||=b["default"](D).closest(".alert")[0];return Y};Z._triggerCloseEvent=function(D){var J=b["default"].Event("close.bs.alert");b["default"](D).trigger(J);
return J};Z._removeElement=function(D){var J=this;b["default"](D).removeClass("show");if(b["default"](D).hasClass("fade")){var Y=g.getTransitionDurationFromElement(D);b["default"](D).one(g.TRANSITION_END,function(za){return J._destroyElement(D,za)}).emulateTransitionEnd(Y)}else this._destroyElement(D)};Z._destroyElement=function(D){b["default"](D).detach().trigger("closed.bs.alert").remove()};W._jQueryInterface=function(D){return this.each(function(){var J=b["default"](this),Y=J.data("bs.alert");
Y||(Y=new W(this),J.data("bs.alert",Y));if("close"===D)Y[D](this)})};W._handleDismiss=function(D){return function(J){J&&J.preventDefault();D.close(this)}};e(W,null,[{key:"VERSION",get:function(){return"4.6.2"}}]);return W}();b["default"](document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',f._handleDismiss(new f));b["default"].fn.alert=f._jQueryInterface;b["default"].fn.alert.Constructor=f;b["default"].fn.alert.noConflict=function(){b["default"].fn.alert=m;return f._jQueryInterface};var n=
b["default"].fn.button,t=function(){function W(D){this._element=D;this.shouldAvoidTriggerChange=!1}var Z=W.prototype;Z.toggle=function(){var D=!0,J=!0,Y=b["default"](this._element).closest('[data-toggle="buttons"]')[0];if(Y){var za=this._element.querySelector('input:not([type="hidden"])');if(za){"radio"===za.type&&(za.checked&&this._element.classList.contains("active")?D=!1:(J=Y.querySelector(".active"))&&b["default"](J).removeClass("active"));if(D){if("checkbox"===za.type||"radio"===za.type)za.checked=
!this._element.classList.contains("active");this.shouldAvoidTriggerChange||b["default"](za).trigger("change")}za.focus();J=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(J&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),D&&b["default"](this._element).toggleClass("active"))};Z.dispose=function(){b["default"].removeData(this._element,"bs.button");this._element=null};W._jQueryInterface=function(D,J){return this.each(function(){var Y=
b["default"](this),za=Y.data("bs.button");za||(za=new W(this),Y.data("bs.button",za));za.shouldAvoidTriggerChange=J;if("toggle"===D)za[D]()})};e(W,null,[{key:"VERSION",get:function(){return"4.6.2"}}]);return W}();b["default"](document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(W){var Z=W.target,D=Z;b["default"](Z).hasClass("btn")||(Z=b["default"](Z).closest(".btn")[0]);if(!Z||Z.hasAttribute("disabled")||Z.classList.contains("disabled"))W.preventDefault();else{var J=Z.querySelector('input:not([type="hidden"])');
J&&(J.hasAttribute("disabled")||J.classList.contains("disabled"))?W.preventDefault():"INPUT"!==D.tagName&&"LABEL"===Z.tagName||t._jQueryInterface.call(b["default"](Z),"toggle","INPUT"===D.tagName)}}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(W){var Z=b["default"](W.target).closest(".btn")[0];b["default"](Z).toggleClass("focus",/^focus(in)?$/.test(W.type))});b["default"](window).on("load.bs.button.data-api",function(){for(var W=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),
Z=0,D=W.length;Z<D;Z++){var J=W[Z],Y=J.querySelector('input:not([type="hidden"])');Y.checked||Y.hasAttribute("checked")?J.classList.add("active"):J.classList.remove("active")}W=[].slice.call(document.querySelectorAll('[data-toggle="button"]'));Z=0;for(D=W.length;Z<D;Z++)J=W[Z],"true"===J.getAttribute("aria-pressed")?J.classList.add("active"):J.classList.remove("active")});b["default"].fn.button=t._jQueryInterface;b["default"].fn.button.Constructor=t;b["default"].fn.button.noConflict=function(){b["default"].fn.button=
n;return t._jQueryInterface};var y=b["default"].fn.carousel,B={interval:5E3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},z={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},H={TOUCH:"touch",PEN:"pen"},N=function(){function W(D,J){this._activeElement=this._interval=this._items=null;this._isSliding=this._isPaused=!1;this.touchTimeout=null;this.touchDeltaX=this.touchStartX=0;this._config=this._getConfig(J);this._element=
D;this._indicatorsElement=this._element.querySelector(".carousel-indicators");this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints;this._pointerEvent=!(!window.PointerEvent&&!window.MSPointerEvent);this._addEventListeners()}var Z=W.prototype;Z.next=function(){this._isSliding||this._slide("next")};Z.nextWhenVisible=function(){var D=b["default"](this._element);!document.hidden&&D.is(":visible")&&"hidden"!==D.css("visibility")&&this.next()};Z.prev=function(){this._isSliding||
this._slide("prev")};Z.pause=function(D){D||(this._isPaused=!0);this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(g.triggerTransitionEnd(this._element),this.cycle(!0));clearInterval(this._interval);this._interval=null};Z.cycle=function(D){D||(this._isPaused=!1);this._interval&&(clearInterval(this._interval),this._interval=null);this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),
this._config.interval))};Z.to=function(D){var J=this;this._activeElement=this._element.querySelector(".active.carousel-item");var Y=this._getItemIndex(this._activeElement);if(!(D>this._items.length-1||0>D))if(this._isSliding)b["default"](this._element).one("slid.bs.carousel",function(){return J.to(D)});else Y===D?(this.pause(),this.cycle()):this._slide(D>Y?"next":"prev",this._items[D])};Z.dispose=function(){b["default"](this._element).off(".bs.carousel");b["default"].removeData(this._element,"bs.carousel");
this._indicatorsElement=this._activeElement=this._isSliding=this._isPaused=this._interval=this._element=this._config=this._items=null};Z._getConfig=function(D){D=v({},B,D);g.typeCheckConfig("carousel",D,z);return D};Z._handleSwipe=function(){var D=Math.abs(this.touchDeltaX);40>=D||(D/=this.touchDeltaX,this.touchDeltaX=0,0<D&&this.prev(),0>D&&this.next())};Z._addEventListeners=function(){var D=this;if(this._config.keyboard)b["default"](this._element).on("keydown.bs.carousel",function(J){return D._keydown(J)});
if("hover"===this._config.pause)b["default"](this._element).on("mouseenter.bs.carousel",function(J){return D.pause(J)}).on("mouseleave.bs.carousel",function(J){return D.cycle(J)});this._config.touch&&this._addTouchEventListeners()};Z._addTouchEventListeners=function(){var D=this;if(this._touchSupported){var J=function(za){D._pointerEvent&&H[za.originalEvent.pointerType.toUpperCase()]?D.touchStartX=za.originalEvent.clientX:D._pointerEvent||(D.touchStartX=za.originalEvent.touches[0].clientX)},Y=function(za){D._pointerEvent&&
H[za.originalEvent.pointerType.toUpperCase()]&&(D.touchDeltaX=za.originalEvent.clientX-D.touchStartX);D._handleSwipe();"hover"===D._config.pause&&(D.pause(),D.touchTimeout&&clearTimeout(D.touchTimeout),D.touchTimeout=setTimeout(function(Qa){return D.cycle(Qa)},500+D._config.interval))};b["default"](this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(za){return za.preventDefault()});this._pointerEvent?(b["default"](this._element).on("pointerdown.bs.carousel",function(za){return J(za)}),
b["default"](this._element).on("pointerup.bs.carousel",function(za){return Y(za)}),this._element.classList.add("pointer-event")):(b["default"](this._element).on("touchstart.bs.carousel",function(za){return J(za)}),b["default"](this._element).on("touchmove.bs.carousel",function(za){D.touchDeltaX=za.originalEvent.touches&&1<za.originalEvent.touches.length?0:za.originalEvent.touches[0].clientX-D.touchStartX}),b["default"](this._element).on("touchend.bs.carousel",function(za){return Y(za)}))}};Z._keydown=
function(D){if(!/input|textarea/i.test(D.target.tagName))switch(D.key){case "ArrowLeft":D.preventDefault();this.prev();break;case "ArrowRight":D.preventDefault(),this.next()}};Z._getItemIndex=function(D){this._items=D&&D.parentNode?[].slice.call(D.parentNode.querySelectorAll(".carousel-item")):[];return this._items.indexOf(D)};Z._getItemByDirection=function(D,J){var Y="next"===D,za="prev"===D,Qa=this._getItemIndex(J),Ua=this._items.length-1;if((za&&0===Qa||Y&&Qa===Ua)&&!this._config.wrap)return J;
D=(Qa+("prev"===D?-1:1))%this._items.length;return-1===D?this._items[this._items.length-1]:this._items[D]};Z._triggerSlideEvent=function(D,J){var Y=this._getItemIndex(D),za=this._getItemIndex(this._element.querySelector(".active.carousel-item"));D=b["default"].Event("slide.bs.carousel",{relatedTarget:D,direction:J,from:za,to:Y});b["default"](this._element).trigger(D);return D};Z._setActiveIndicatorElement=function(D){if(this._indicatorsElement){var J=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));
b["default"](J).removeClass("active");(D=this._indicatorsElement.children[this._getItemIndex(D)])&&b["default"](D).addClass("active")}};Z._updateInterval=function(){var D=this._activeElement||this._element.querySelector(".active.carousel-item");D&&((D=parseInt(D.getAttribute("data-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=D):this._config.interval=this._config.defaultInterval||this._config.interval)};Z._slide=function(D,
J){var Y=this,za=this._element.querySelector(".active.carousel-item"),Qa=this._getItemIndex(za),Ua=J||za&&this._getItemByDirection(D,za),Db=this._getItemIndex(Ua);J=!!this._interval;if("next"===D){var O="carousel-item-left";var Hb="carousel-item-next";D="left"}else O="carousel-item-right",Hb="carousel-item-prev",D="right";if(Ua&&b["default"](Ua).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(Ua,D).isDefaultPrevented()&&za&&Ua){this._isSliding=!0;J&&this.pause();this._setActiveIndicatorElement(Ua);
this._activeElement=Ua;var bc=b["default"].Event("slid.bs.carousel",{relatedTarget:Ua,direction:D,from:Qa,to:Db});b["default"](this._element).hasClass("slide")?(b["default"](Ua).addClass(Hb),g.reflow(Ua),b["default"](za).addClass(O),b["default"](Ua).addClass(O),Qa=g.getTransitionDurationFromElement(za),b["default"](za).one(g.TRANSITION_END,function(){b["default"](Ua).removeClass(O+" "+Hb).addClass("active");b["default"](za).removeClass("active "+Hb+" "+O);Y._isSliding=!1;setTimeout(function(){return b["default"](Y._element).trigger(bc)},
0)}).emulateTransitionEnd(Qa)):(b["default"](za).removeClass("active"),b["default"](Ua).addClass("active"),this._isSliding=!1,b["default"](this._element).trigger(bc));J&&this.cycle()}};W._jQueryInterface=function(D){return this.each(function(){var J=b["default"](this).data("bs.carousel"),Y=v({},B,b["default"](this).data());"object"===typeof D&&(Y=v({},Y,D));var za="string"===typeof D?D:Y.slide;J||(J=new W(this,Y),b["default"](this).data("bs.carousel",J));if("number"===typeof D)J.to(D);else if("string"===
typeof za){if("undefined"===typeof J[za])throw new TypeError('No method named "'+za+'"');J[za]()}else Y.interval&&Y.ride&&(J.pause(),J.cycle())})};W._dataApiClickHandler=function(D){var J=g.getSelectorFromElement(this);if(J&&(J=b["default"](J)[0])&&b["default"](J).hasClass("carousel")){var Y=v({},b["default"](J).data(),b["default"](this).data()),za=this.getAttribute("data-slide-to");za&&(Y.interval=!1);W._jQueryInterface.call(b["default"](J),Y);za&&b["default"](J).data("bs.carousel").to(za);D.preventDefault()}};
e(W,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return B}}]);return W}();b["default"](document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",N._dataApiClickHandler);b["default"](window).on("load.bs.carousel.data-api",function(){for(var W=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),Z=0,D=W.length;Z<D;Z++){var J=b["default"](W[Z]);N._jQueryInterface.call(J,J.data())}});b["default"].fn.carousel=N._jQueryInterface;b["default"].fn.carousel.Constructor=
N;b["default"].fn.carousel.noConflict=function(){b["default"].fn.carousel=y;return N._jQueryInterface};var x=b["default"].fn.collapse,F={toggle:!0,parent:""},G={toggle:"boolean",parent:"(string|element)"},I=function(){function W(D,J){this._isTransitioning=!1;this._element=D;this._config=this._getConfig(J);this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+D.id+'"],[data-toggle="collapse"][data-target="#'+(D.id+'"]')));J=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]'));
for(var Y=0,za=J.length;Y<za;Y++){var Qa=J[Y],Ua=g.getSelectorFromElement(Qa),Db=[].slice.call(document.querySelectorAll(Ua)).filter(function(O){return O===D});null!==Ua&&0<Db.length&&(this._selector=Ua,this._triggerArray.push(Qa))}this._parent=this._config.parent?this._getParent():null;this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray);this._config.toggle&&this.toggle()}var Z=W.prototype;Z.toggle=function(){b["default"](this._element).hasClass("show")?this.hide():
this.show()};Z.show=function(){var D=this;if(!this._isTransitioning&&!b["default"](this._element).hasClass("show")){var J;if(this._parent){var Y=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(Ua){return"string"===typeof D._config.parent?Ua.getAttribute("data-parent")===D._config.parent:Ua.classList.contains("collapse")});0===Y.length&&(Y=null)}if(Y&&(J=b["default"](Y).not(this._selector).data("bs.collapse"))&&J._isTransitioning)return;var za=b["default"].Event("show.bs.collapse");
b["default"](this._element).trigger(za);if(!za.isDefaultPrevented()){Y&&(W._jQueryInterface.call(b["default"](Y).not(this._selector),"hide"),J||b["default"](Y).data("bs.collapse",null));var Qa=this._getDimension();b["default"](this._element).removeClass("collapse").addClass("collapsing");this._element.style[Qa]=0;this._triggerArray.length&&b["default"](this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0);this.setTransitioning(!0);Y="scroll"+(Qa[0].toUpperCase()+Qa.slice(1));J=g.getTransitionDurationFromElement(this._element);
b["default"](this._element).one(g.TRANSITION_END,function(){b["default"](D._element).removeClass("collapsing").addClass("collapse show");D._element.style[Qa]="";D.setTransitioning(!1);b["default"](D._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(J);this._element.style[Qa]=this._element[Y]+"px"}}};Z.hide=function(){var D=this;if(!this._isTransitioning&&b["default"](this._element).hasClass("show")){var J=b["default"].Event("hide.bs.collapse");b["default"](this._element).trigger(J);if(!J.isDefaultPrevented()){J=
this._getDimension();this._element.style[J]=this._element.getBoundingClientRect()[J]+"px";g.reflow(this._element);b["default"](this._element).addClass("collapsing").removeClass("collapse show");var Y=this._triggerArray.length;if(0<Y)for(var za=0;za<Y;za++){var Qa=this._triggerArray[za],Ua=g.getSelectorFromElement(Qa);null!==Ua&&(b["default"]([].slice.call(document.querySelectorAll(Ua))).hasClass("show")||b["default"](Qa).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[J]=
"";J=g.getTransitionDurationFromElement(this._element);b["default"](this._element).one(g.TRANSITION_END,function(){D.setTransitioning(!1);b["default"](D._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")}).emulateTransitionEnd(J)}}};Z.setTransitioning=function(D){this._isTransitioning=D};Z.dispose=function(){b["default"].removeData(this._element,"bs.collapse");this._isTransitioning=this._triggerArray=this._element=this._parent=this._config=null};Z._getConfig=function(D){D=
v({},F,D);D.toggle=!!D.toggle;g.typeCheckConfig("collapse",D,G);return D};Z._getDimension=function(){return b["default"](this._element).hasClass("width")?"width":"height"};Z._getParent=function(){var D=this;if(g.isElement(this._config.parent)){var J=this._config.parent;"undefined"!==typeof this._config.parent.jquery&&(J=this._config.parent[0])}else J=document.querySelector(this._config.parent);var Y=[].slice.call(J.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));
b["default"](Y).each(function(za,Qa){D._addAriaAndCollapsedClass(W._getTargetFromElement(Qa),[Qa])});return J};Z._addAriaAndCollapsedClass=function(D,J){D=b["default"](D).hasClass("show");J.length&&b["default"](J).toggleClass("collapsed",!D).attr("aria-expanded",D)};W._getTargetFromElement=function(D){return(D=g.getSelectorFromElement(D))?document.querySelector(D):null};W._jQueryInterface=function(D){return this.each(function(){var J=b["default"](this),Y=J.data("bs.collapse"),za=v({},F,J.data(),"object"===
typeof D&&D?D:{});!Y&&za.toggle&&"string"===typeof D&&/show|hide/.test(D)&&(za.toggle=!1);Y||(Y=new W(this,za),J.data("bs.collapse",Y));if("string"===typeof D){if("undefined"===typeof Y[D])throw new TypeError('No method named "'+D+'"');Y[D]()}})};e(W,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return F}}]);return W}();b["default"](document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(W){"A"===W.currentTarget.tagName&&W.preventDefault();
var Z=b["default"](this);W=g.getSelectorFromElement(this);W=[].slice.call(document.querySelectorAll(W));b["default"](W).each(function(){var D=b["default"](this),J=D.data("bs.collapse")?"toggle":Z.data();I._jQueryInterface.call(D,J)})});b["default"].fn.collapse=I._jQueryInterface;b["default"].fn.collapse.Constructor=I;b["default"].fn.collapse.noConflict=function(){b["default"].fn.collapse=x;return I._jQueryInterface};var M=b["default"].fn.dropdown,R=RegExp("ArrowUp|ArrowDown|Escape"),ha={offset:0,
flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},ca={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},sa=function(){function W(D,J){this._element=D;this._popper=null;this._config=this._getConfig(J);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}var Z=W.prototype;Z.toggle=function(){if(!this._element.disabled&&
!b["default"](this._element).hasClass("disabled")){var D=b["default"](this._menu).hasClass("show");W._clearMenus();D||this.show(!0)}};Z.show=function(D){void 0===D&&(D=!1);if(!(this._element.disabled||b["default"](this._element).hasClass("disabled")||b["default"](this._menu).hasClass("show"))){var J={relatedTarget:this._element},Y=b["default"].Event("show.bs.dropdown",J),za=W._getParentFromElement(this._element);b["default"](za).trigger(Y);if(!Y.isDefaultPrevented()){if(!this._inNavbar&&D){if("undefined"===
typeof d["default"])throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");D=this._element;"parent"===this._config.reference?D=za:g.isElement(this._config.reference)&&(D=this._config.reference,"undefined"!==typeof this._config.reference.jquery&&(D=this._config.reference[0]));"scrollParent"!==this._config.boundary&&b["default"](za).addClass("position-static");this._popper=new d["default"](D,this._menu,this._getPopperConfig())}if("ontouchstart"in document.documentElement&&
0===b["default"](za).closest(".navbar-nav").length)b["default"](document.body).children().on("mouseover",null,b["default"].noop);this._element.focus();this._element.setAttribute("aria-expanded",!0);b["default"](this._menu).toggleClass("show");b["default"](za).toggleClass("show").trigger(b["default"].Event("shown.bs.dropdown",J))}}};Z.hide=function(){if(!this._element.disabled&&!b["default"](this._element).hasClass("disabled")&&b["default"](this._menu).hasClass("show")){var D={relatedTarget:this._element},
J=b["default"].Event("hide.bs.dropdown",D),Y=W._getParentFromElement(this._element);b["default"](Y).trigger(J);J.isDefaultPrevented()||(this._popper&&this._popper.destroy(),b["default"](this._menu).toggleClass("show"),b["default"](Y).toggleClass("show").trigger(b["default"].Event("hidden.bs.dropdown",D)))}};Z.dispose=function(){b["default"].removeData(this._element,"bs.dropdown");b["default"](this._element).off(".bs.dropdown");this._menu=this._element=null;null!==this._popper&&(this._popper.destroy(),
this._popper=null)};Z.update=function(){this._inNavbar=this._detectNavbar();null!==this._popper&&this._popper.scheduleUpdate()};Z._addEventListeners=function(){var D=this;b["default"](this._element).on("click.bs.dropdown",function(J){J.preventDefault();J.stopPropagation();D.toggle()})};Z._getConfig=function(D){D=v({},this.constructor.Default,b["default"](this._element).data(),D);g.typeCheckConfig("dropdown",D,this.constructor.DefaultType);return D};Z._getMenuElement=function(){if(!this._menu){var D=
W._getParentFromElement(this._element);D&&(this._menu=D.querySelector(".dropdown-menu"))}return this._menu};Z._getPlacement=function(){var D=b["default"](this._element.parentNode),J="bottom-start";D.hasClass("dropup")?J=b["default"](this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":D.hasClass("dropright")?J="right-start":D.hasClass("dropleft")?J="left-start":b["default"](this._menu).hasClass("dropdown-menu-right")&&(J="bottom-end");return J};Z._detectNavbar=function(){return 0<b["default"](this._element).closest(".navbar").length};
Z._getOffset=function(){var D=this,J={};"function"===typeof this._config.offset?J.fn=function(Y){Y.offsets=v({},Y.offsets,D._config.offset(Y.offsets,D._element));return Y}:J.offset=this._config.offset;return J};Z._getPopperConfig=function(){var D={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};"static"===this._config.display&&(D.modifiers.applyStyle={enabled:!1});return v({},D,this._config.popperConfig)};
W._jQueryInterface=function(D){return this.each(function(){var J=b["default"](this).data("bs.dropdown"),Y="object"===typeof D?D:null;J||(J=new W(this,Y),b["default"](this).data("bs.dropdown",J));if("string"===typeof D){if("undefined"===typeof J[D])throw new TypeError('No method named "'+D+'"');J[D]()}})};W._clearMenus=function(D){if(!D||2!==D.button&&("keyup"!==D.type||"Tab"===D.key))for(var J=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),Y=0,za=J.length;Y<za;Y++){var Qa=W._getParentFromElement(J[Y]),
Ua=b["default"](J[Y]).data("bs.dropdown"),Db={relatedTarget:J[Y]};D&&"click"===D.type&&(Db.clickEvent=D);if(Ua){var O=Ua._menu;if(b["default"](Qa).hasClass("show")&&!(D&&("click"===D.type&&/input|textarea/i.test(D.target.tagName)||"keyup"===D.type&&"Tab"===D.key)&&b["default"].contains(Qa,D.target))){var Hb=b["default"].Event("hide.bs.dropdown",Db);b["default"](Qa).trigger(Hb);Hb.isDefaultPrevented()||("ontouchstart"in document.documentElement&&b["default"](document.body).children().off("mouseover",
null,b["default"].noop),J[Y].setAttribute("aria-expanded","false"),Ua._popper&&Ua._popper.destroy(),b["default"](O).removeClass("show"),b["default"](Qa).removeClass("show").trigger(b["default"].Event("hidden.bs.dropdown",Db)))}}}};W._getParentFromElement=function(D){var J,Y=g.getSelectorFromElement(D);Y&&(J=document.querySelector(Y));return J||D.parentNode};W._dataApiKeydownHandler=function(D){if(!((/input|textarea/i.test(D.target.tagName)?" "===D.key||"Escape"!==D.key&&("ArrowDown"!==D.key&&"ArrowUp"!==
D.key||b["default"](D.target).closest(".dropdown-menu").length):!R.test(D.key))||this.disabled||b["default"](this).hasClass("disabled"))){var J=W._getParentFromElement(this),Y=b["default"](J).hasClass("show");if(Y||"Escape"!==D.key)D.preventDefault(),D.stopPropagation(),Y&&"Escape"!==D.key&&" "!==D.key?(J=[].slice.call(J.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(za){return b["default"](za).is(":visible")}),0!==J.length&&(Y=J.indexOf(D.target),
"ArrowUp"===D.key&&0<Y&&Y--,"ArrowDown"===D.key&&Y<J.length-1&&Y++,0>Y&&(Y=0),J[Y].focus())):("Escape"===D.key&&b["default"](J.querySelector('[data-toggle="dropdown"]')).trigger("focus"),b["default"](this).trigger("click"))}};e(W,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return ha}},{key:"DefaultType",get:function(){return ca}}]);return W}();b["default"](document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',sa._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",
".dropdown-menu",sa._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",sa._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',function(W){W.preventDefault();W.stopPropagation();sa._jQueryInterface.call(b["default"](this),"toggle")}).on("click.bs.dropdown.data-api",".dropdown form",function(W){W.stopPropagation()});b["default"].fn.dropdown=sa._jQueryInterface;b["default"].fn.dropdown.Constructor=sa;b["default"].fn.dropdown.noConflict=function(){b["default"].fn.dropdown=
M;return sa._jQueryInterface};var na=b["default"].fn.modal,Q={backdrop:!0,keyboard:!0,focus:!0,show:!0},oa={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ia=function(){function W(D,J){this._config=this._getConfig(J);this._element=D;this._dialog=D.querySelector(".modal-dialog");this._backdrop=null;this._isTransitioning=this._ignoreBackdropClick=this._isBodyOverflowing=this._isShown=!1;this._scrollbarWidth=0}var Z=W.prototype;Z.toggle=function(D){return this._isShown?
this.hide():this.show(D)};Z.show=function(D){var J=this;if(!this._isShown&&!this._isTransitioning){var Y=b["default"].Event("show.bs.modal",{relatedTarget:D});b["default"](this._element).trigger(Y);Y.isDefaultPrevented()||(this._isShown=!0,b["default"](this._element).hasClass("fade")&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),b["default"](this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',
function(za){return J.hide(za)}),b["default"](this._dialog).on("mousedown.dismiss.bs.modal",function(){b["default"](J._element).one("mouseup.dismiss.bs.modal",function(za){b["default"](za.target).is(J._element)&&(J._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return J._showElement(D)}))}};Z.hide=function(D){var J=this;D&&D.preventDefault();if(this._isShown&&!this._isTransitioning&&(D=b["default"].Event("hide.bs.modal"),b["default"](this._element).trigger(D),this._isShown&&!D.isDefaultPrevented())){this._isShown=
!1;if(D=b["default"](this._element).hasClass("fade"))this._isTransitioning=!0;this._setEscapeEvent();this._setResizeEvent();b["default"](document).off("focusin.bs.modal");b["default"](this._element).removeClass("show");b["default"](this._element).off("click.dismiss.bs.modal");b["default"](this._dialog).off("mousedown.dismiss.bs.modal");D?(D=g.getTransitionDurationFromElement(this._element),b["default"](this._element).one(g.TRANSITION_END,function(Y){return J._hideModal(Y)}).emulateTransitionEnd(D)):
this._hideModal()}};Z.dispose=function(){[window,this._element,this._dialog].forEach(function(D){return b["default"](D).off(".bs.modal")});b["default"](document).off("focusin.bs.modal");b["default"].removeData(this._element,"bs.modal");this._scrollbarWidth=this._isTransitioning=this._ignoreBackdropClick=this._isBodyOverflowing=this._isShown=this._backdrop=this._dialog=this._element=this._config=null};Z.handleUpdate=function(){this._adjustDialog()};Z._getConfig=function(D){D=v({},Q,D);g.typeCheckConfig("modal",
D,oa);return D};Z._triggerBackdropTransition=function(){var D=this,J=b["default"].Event("hidePrevented.bs.modal");b["default"](this._element).trigger(J);if(!J.isDefaultPrevented()){var Y=this._element.scrollHeight>document.documentElement.clientHeight;Y||(this._element.style.overflowY="hidden");this._element.classList.add("modal-static");var za=g.getTransitionDurationFromElement(this._dialog);b["default"](this._element).off(g.TRANSITION_END);b["default"](this._element).one(g.TRANSITION_END,function(){D._element.classList.remove("modal-static");
Y||b["default"](D._element).one(g.TRANSITION_END,function(){D._element.style.overflowY=""}).emulateTransitionEnd(D._element,za)}).emulateTransitionEnd(za);this._element.focus()}};Z._showElement=function(D){var J=this,Y=b["default"](this._element).hasClass("fade"),za=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");
this._element.setAttribute("aria-modal",!0);this._element.setAttribute("role","dialog");b["default"](this._dialog).hasClass("modal-dialog-scrollable")&&za?za.scrollTop=0:this._element.scrollTop=0;Y&&g.reflow(this._element);b["default"](this._element).addClass("show");this._config.focus&&this._enforceFocus();var Qa=b["default"].Event("shown.bs.modal",{relatedTarget:D});D=function(){J._config.focus&&J._element.focus();J._isTransitioning=!1;b["default"](J._element).trigger(Qa)};Y?(Y=g.getTransitionDurationFromElement(this._dialog),
b["default"](this._dialog).one(g.TRANSITION_END,D).emulateTransitionEnd(Y)):D()};Z._enforceFocus=function(){var D=this;b["default"](document).off("focusin.bs.modal").on("focusin.bs.modal",function(J){document!==J.target&&D._element!==J.target&&0===b["default"](D._element).has(J.target).length&&D._element.focus()})};Z._setEscapeEvent=function(){var D=this;if(this._isShown)b["default"](this._element).on("keydown.dismiss.bs.modal",function(J){D._config.keyboard&&"Escape"===J.key?(J.preventDefault(),
D.hide()):D._config.keyboard||"Escape"!==J.key||D._triggerBackdropTransition()});else this._isShown||b["default"](this._element).off("keydown.dismiss.bs.modal")};Z._setResizeEvent=function(){var D=this;if(this._isShown)b["default"](window).on("resize.bs.modal",function(J){return D.handleUpdate(J)});else b["default"](window).off("resize.bs.modal")};Z._hideModal=function(){var D=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._element.removeAttribute("aria-modal");
this._element.removeAttribute("role");this._isTransitioning=!1;this._showBackdrop(function(){b["default"](document.body).removeClass("modal-open");D._resetAdjustments();D._resetScrollbar();b["default"](D._element).trigger("hidden.bs.modal")})};Z._removeBackdrop=function(){this._backdrop&&(b["default"](this._backdrop).remove(),this._backdrop=null)};Z._showBackdrop=function(D){var J=this,Y=b["default"](this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop)this._backdrop=
document.createElement("div"),this._backdrop.className="modal-backdrop",Y&&this._backdrop.classList.add(Y),b["default"](this._backdrop).appendTo(document.body),b["default"](this._element).on("click.dismiss.bs.modal",function(Qa){J._ignoreBackdropClick?J._ignoreBackdropClick=!1:Qa.target===Qa.currentTarget&&("static"===J._config.backdrop?J._triggerBackdropTransition():J.hide())}),Y&&g.reflow(this._backdrop),b["default"](this._backdrop).addClass("show"),D&&(Y?(Y=g.getTransitionDurationFromElement(this._backdrop),
b["default"](this._backdrop).one(g.TRANSITION_END,D).emulateTransitionEnd(Y)):D());else if(!this._isShown&&this._backdrop)if(b["default"](this._backdrop).removeClass("show"),Y=function(){J._removeBackdrop();D&&D()},b["default"](this._element).hasClass("fade")){var za=g.getTransitionDurationFromElement(this._backdrop);b["default"](this._backdrop).one(g.TRANSITION_END,Y).emulateTransitionEnd(za)}else Y();else D&&D()};Z._adjustDialog=function(){var D=this._element.scrollHeight>document.documentElement.clientHeight;
!this._isBodyOverflowing&&D&&(this._element.style.paddingLeft=this._scrollbarWidth+"px");this._isBodyOverflowing&&!D&&(this._element.style.paddingRight=this._scrollbarWidth+"px")};Z._resetAdjustments=function(){this._element.style.paddingLeft="";this._element.style.paddingRight=""};Z._checkScrollbar=function(){var D=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(D.left+D.right)<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()};Z._setScrollbar=function(){var D=
this;if(this._isBodyOverflowing){var J=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),Y=[].slice.call(document.querySelectorAll(".sticky-top"));b["default"](J).each(function(za,Qa){za=Qa.style.paddingRight;var Ua=b["default"](Qa).css("padding-right");b["default"](Qa).data("padding-right",za).css("padding-right",parseFloat(Ua)+D._scrollbarWidth+"px")});b["default"](Y).each(function(za,Qa){za=Qa.style.marginRight;var Ua=b["default"](Qa).css("margin-right");
b["default"](Qa).data("margin-right",za).css("margin-right",parseFloat(Ua)-D._scrollbarWidth+"px")});J=document.body.style.paddingRight;Y=b["default"](document.body).css("padding-right");b["default"](document.body).data("padding-right",J).css("padding-right",parseFloat(Y)+this._scrollbarWidth+"px")}b["default"](document.body).addClass("modal-open")};Z._resetScrollbar=function(){var D=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));b["default"](D).each(function(J,
Y){J=b["default"](Y).data("padding-right");b["default"](Y).removeData("padding-right");Y.style.paddingRight=J?J:""});D=[].slice.call(document.querySelectorAll(".sticky-top"));b["default"](D).each(function(J,Y){J=b["default"](Y).data("margin-right");"undefined"!==typeof J&&b["default"](Y).css("margin-right",J).removeData("margin-right")});D=b["default"](document.body).data("padding-right");b["default"](document.body).removeData("padding-right");document.body.style.paddingRight=D?D:""};Z._getScrollbarWidth=
function(){var D=document.createElement("div");D.className="modal-scrollbar-measure";document.body.appendChild(D);var J=D.getBoundingClientRect().width-D.clientWidth;document.body.removeChild(D);return J};W._jQueryInterface=function(D,J){return this.each(function(){var Y=b["default"](this).data("bs.modal"),za=v({},Q,b["default"](this).data(),"object"===typeof D&&D?D:{});Y||(Y=new W(this,za),b["default"](this).data("bs.modal",Y));if("string"===typeof D){if("undefined"===typeof Y[D])throw new TypeError('No method named "'+
D+'"');Y[D](J)}else za.show&&Y.show(J)})};e(W,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Q}}]);return W}();b["default"](document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(W){var Z=this,D,J=g.getSelectorFromElement(this);J&&(D=document.querySelector(J));J=b["default"](D).data("bs.modal")?"toggle":v({},b["default"](D).data(),b["default"](this).data());"A"!==this.tagName&&"AREA"!==this.tagName||W.preventDefault();var Y=b["default"](D).one("show.bs.modal",
function(za){if(!za.isDefaultPrevented())Y.one("hidden.bs.modal",function(){b["default"](Z).is(":visible")&&Z.focus()})});ia._jQueryInterface.call(b["default"](D),J,this)});b["default"].fn.modal=ia._jQueryInterface;b["default"].fn.modal.Constructor=ia;b["default"].fn.modal.noConflict=function(){b["default"].fn.modal=na;return ia._jQueryInterface};var ya="background cite href itemtype longdesc poster src xlink:href".split(" "),ta=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ga=
/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,qa=b["default"].fn.tooltip,Pa=RegExp("(^|\\s)bs-tooltip\\S+","g"),$a=["sanitize","whiteList","sanitizeFn"],gb={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},S={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",
offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:"src srcset alt title width height".split(" "),li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},da={animation:"boolean",template:"string",
title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},xa={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",
INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Ha=function(){function W(D,J){if("undefined"===typeof d["default"])throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=D;this.config=this._getConfig(J);this.tip=null;this._setListeners()}
var Z=W.prototype;Z.enable=function(){this._isEnabled=!0};Z.disable=function(){this._isEnabled=!1};Z.toggleEnabled=function(){this._isEnabled=!this._isEnabled};Z.toggle=function(D){if(this._isEnabled)if(D){var J=this.constructor.DATA_KEY,Y=b["default"](D.currentTarget).data(J);Y||(Y=new this.constructor(D.currentTarget,this._getDelegateConfig()),b["default"](D.currentTarget).data(J,Y));Y._activeTrigger.click=!Y._activeTrigger.click;Y._isWithActiveTrigger()?Y._enter(null,Y):Y._leave(null,Y)}else b["default"](this.getTipElement()).hasClass("show")?
this._leave(null,this):this._enter(null,this)};Z.dispose=function(){clearTimeout(this._timeout);b["default"].removeData(this.element,this.constructor.DATA_KEY);b["default"](this.element).off(this.constructor.EVENT_KEY);b["default"](this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler);this.tip&&b["default"](this.tip).remove();this._activeTrigger=this._hoverState=this._timeout=this._isEnabled=null;this._popper&&this._popper.destroy();this.tip=this.config=this.element=this._popper=
null};Z.show=function(){var D=this;if("none"===b["default"](this.element).css("display"))throw Error("Please use show on visible elements");var J=b["default"].Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){b["default"](this.element).trigger(J);var Y=g.findShadowRoot(this.element);Y=b["default"].contains(null!==Y?Y:this.element.ownerDocument.documentElement,this.element);if(!J.isDefaultPrevented()&&Y){J=this.getTipElement();Y=g.getUID(this.constructor.NAME);J.setAttribute("id",
Y);this.element.setAttribute("aria-describedby",Y);this.setContent();this.config.animation&&b["default"](J).addClass("fade");Y="function"===typeof this.config.placement?this.config.placement.call(this,J,this.element):this.config.placement;Y=this._getAttachment(Y);this.addAttachmentClass(Y);var za=this._getContainer();b["default"](J).data(this.constructor.DATA_KEY,this);b["default"].contains(this.element.ownerDocument.documentElement,this.tip)||b["default"](J).appendTo(za);b["default"](this.element).trigger(this.constructor.Event.INSERTED);
this._popper=new d["default"](this.element,J,this._getPopperConfig(Y));b["default"](J).addClass("show");b["default"](J).addClass(this.config.customClass);if("ontouchstart"in document.documentElement)b["default"](document.body).children().on("mouseover",null,b["default"].noop);J=function(){D.config.animation&&D._fixTransition();var Qa=D._hoverState;D._hoverState=null;b["default"](D.element).trigger(D.constructor.Event.SHOWN);"out"===Qa&&D._leave(null,D)};b["default"](this.tip).hasClass("fade")?(Y=
g.getTransitionDurationFromElement(this.tip),b["default"](this.tip).one(g.TRANSITION_END,J).emulateTransitionEnd(Y)):J()}}};Z.hide=function(D){var J=this,Y=this.getTipElement(),za=b["default"].Event(this.constructor.Event.HIDE),Qa=function(){"show"!==J._hoverState&&Y.parentNode&&Y.parentNode.removeChild(Y);J._cleanTipClass();J.element.removeAttribute("aria-describedby");b["default"](J.element).trigger(J.constructor.Event.HIDDEN);null!==J._popper&&J._popper.destroy();D&&D()};b["default"](this.element).trigger(za);
za.isDefaultPrevented()||(b["default"](Y).removeClass("show"),"ontouchstart"in document.documentElement&&b["default"](document.body).children().off("mouseover",null,b["default"].noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,b["default"](this.tip).hasClass("fade")?(za=g.getTransitionDurationFromElement(Y),b["default"](Y).one(g.TRANSITION_END,Qa).emulateTransitionEnd(za)):Qa(),this._hoverState="")};Z.update=function(){null!==this._popper&&this._popper.scheduleUpdate()};
Z.isWithContent=function(){return!!this.getTitle()};Z.addAttachmentClass=function(D){b["default"](this.getTipElement()).addClass("bs-tooltip-"+D)};Z.getTipElement=function(){return this.tip=this.tip||b["default"](this.config.template)[0]};Z.setContent=function(){var D=this.getTipElement();this.setElementContent(b["default"](D.querySelectorAll(".tooltip-inner")),this.getTitle());b["default"](D).removeClass("fade show")};Z.setElementContent=function(D,J){"object"===typeof J&&(J.nodeType||J.jquery)?
this.config.html?b["default"](J).parent().is(D)||D.empty().append(J):D.text(b["default"](J).text()):this.config.html?(this.config.sanitize&&(J=r(J,this.config.whiteList,this.config.sanitizeFn)),D.html(J)):D.text(J)};Z.getTitle=function(){var D=this.element.getAttribute("data-original-title");D||="function"===typeof this.config.title?this.config.title.call(this.element):this.config.title;return D};Z._getPopperConfig=function(D){var J=this;D={placement:D,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},
arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(Y){Y.originalPlacement!==Y.placement&&J._handlePopperPlacementChange(Y)},onUpdate:function(Y){return J._handlePopperPlacementChange(Y)}};return v({},D,this.config.popperConfig)};Z._getOffset=function(){var D=this,J={};"function"===typeof this.config.offset?J.fn=function(Y){Y.offsets=v({},Y.offsets,D.config.offset(Y.offsets,D.element));return Y}:J.offset=this.config.offset;return J};Z._getContainer=
function(){return!1===this.config.container?document.body:g.isElement(this.config.container)?b["default"](this.config.container):b["default"](document).find(this.config.container)};Z._getAttachment=function(D){return gb[D.toUpperCase()]};Z._setListeners=function(){var D=this;this.config.trigger.split(" ").forEach(function(J){if("click"===J)b["default"](D.element).on(D.constructor.Event.CLICK,D.config.selector,function(za){return D.toggle(za)});else if("manual"!==J){var Y="hover"===J?D.constructor.Event.MOUSEENTER:
D.constructor.Event.FOCUSIN;J="hover"===J?D.constructor.Event.MOUSELEAVE:D.constructor.Event.FOCUSOUT;b["default"](D.element).on(Y,D.config.selector,function(za){return D._enter(za)}).on(J,D.config.selector,function(za){return D._leave(za)})}});this._hideModalHandler=function(){D.element&&D.hide()};b["default"](this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler);this.config.selector?this.config=v({},this.config,{trigger:"manual",selector:""}):this._fixTitle()};Z._fixTitle=function(){var D=
typeof this.element.getAttribute("data-original-title");if(this.element.getAttribute("title")||"string"!==D)this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title","")};Z._enter=function(D,J){var Y=this.constructor.DATA_KEY;J=J||b["default"](D.currentTarget).data(Y);J||(J=new this.constructor(D.currentTarget,this._getDelegateConfig()),b["default"](D.currentTarget).data(Y,J));D&&(J._activeTrigger["focusin"===D.type?"focus":"hover"]=
!0);b["default"](J.getTipElement()).hasClass("show")||"show"===J._hoverState?J._hoverState="show":(clearTimeout(J._timeout),J._hoverState="show",J.config.delay&&J.config.delay.show?J._timeout=setTimeout(function(){"show"===J._hoverState&&J.show()},J.config.delay.show):J.show())};Z._leave=function(D,J){var Y=this.constructor.DATA_KEY;J=J||b["default"](D.currentTarget).data(Y);J||(J=new this.constructor(D.currentTarget,this._getDelegateConfig()),b["default"](D.currentTarget).data(Y,J));D&&(J._activeTrigger["focusout"===
D.type?"focus":"hover"]=!1);J._isWithActiveTrigger()||(clearTimeout(J._timeout),J._hoverState="out",J.config.delay&&J.config.delay.hide?J._timeout=setTimeout(function(){"out"===J._hoverState&&J.hide()},J.config.delay.hide):J.hide())};Z._isWithActiveTrigger=function(){for(var D in this._activeTrigger)if(this._activeTrigger[D])return!0;return!1};Z._getConfig=function(D){var J=b["default"](this.element).data();Object.keys(J).forEach(function(Y){-1!==$a.indexOf(Y)&&delete J[Y]});D=v({},this.constructor.Default,
J,"object"===typeof D&&D?D:{});"number"===typeof D.delay&&(D.delay={show:D.delay,hide:D.delay});"number"===typeof D.title&&(D.title=D.title.toString());"number"===typeof D.content&&(D.content=D.content.toString());g.typeCheckConfig("tooltip",D,this.constructor.DefaultType);D.sanitize&&(D.template=r(D.template,D.whiteList,D.sanitizeFn));return D};Z._getDelegateConfig=function(){var D={};if(this.config)for(var J in this.config)this.constructor.Default[J]!==this.config[J]&&(D[J]=this.config[J]);return D};
Z._cleanTipClass=function(){var D=b["default"](this.getTipElement()),J=D.attr("class").match(Pa);null!==J&&J.length&&D.removeClass(J.join(""))};Z._handlePopperPlacementChange=function(D){this.tip=D.instance.popper;this._cleanTipClass();this.addAttachmentClass(this._getAttachment(D.placement))};Z._fixTransition=function(){var D=this.getTipElement(),J=this.config.animation;null===D.getAttribute("x-placement")&&(b["default"](D).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=
J)};W._jQueryInterface=function(D){return this.each(function(){var J=b["default"](this),Y=J.data("bs.tooltip"),za="object"===typeof D&&D;if(Y||!/dispose|hide/.test(D))if(Y||(Y=new W(this,za),J.data("bs.tooltip",Y)),"string"===typeof D){if("undefined"===typeof Y[D])throw new TypeError('No method named "'+D+'"');Y[D]()}})};e(W,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return S}},{key:"NAME",get:function(){return"tooltip"}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},
{key:"Event",get:function(){return xa}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return da}}]);return W}();b["default"].fn.tooltip=Ha._jQueryInterface;b["default"].fn.tooltip.Constructor=Ha;b["default"].fn.tooltip.noConflict=function(){b["default"].fn.tooltip=qa;return Ha._jQueryInterface};var Xa=b["default"].fn.popover,rb=RegExp("(^|\\s)bs-popover\\S+","g"),tb=v({},Ha.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),
Ma=v({},Ha.DefaultType,{content:"(string|element|function)"}),ra={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Na=function(W){function Z(){return W.apply(this,arguments)||this}a(Z,W);var D=Z.prototype;D.isWithContent=function(){return this.getTitle()||this._getContent()};
D.addAttachmentClass=function(J){b["default"](this.getTipElement()).addClass("bs-popover-"+J)};D.getTipElement=function(){return this.tip=this.tip||b["default"](this.config.template)[0]};D.setContent=function(){var J=b["default"](this.getTipElement());this.setElementContent(J.find(".popover-header"),this.getTitle());var Y=this._getContent();"function"===typeof Y&&(Y=Y.call(this.element));this.setElementContent(J.find(".popover-body"),Y);J.removeClass("fade show")};D._getContent=function(){return this.element.getAttribute("data-content")||
this.config.content};D._cleanTipClass=function(){var J=b["default"](this.getTipElement()),Y=J.attr("class").match(rb);null!==Y&&0<Y.length&&J.removeClass(Y.join(""))};Z._jQueryInterface=function(J){return this.each(function(){var Y=b["default"](this).data("bs.popover"),za="object"===typeof J?J:null;if(Y||!/dispose|hide/.test(J))if(Y||(Y=new Z(this,za),b["default"](this).data("bs.popover",Y)),"string"===typeof J){if("undefined"===typeof Y[J])throw new TypeError('No method named "'+J+'"');Y[J]()}})};
e(Z,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return tb}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return ra}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return Ma}}]);return Z}(Ha);b["default"].fn.popover=Na._jQueryInterface;b["default"].fn.popover.Constructor=Na;b["default"].fn.popover.noConflict=function(){b["default"].fn.popover=
Xa;return Na._jQueryInterface};var Ja=b["default"].fn.scrollspy,ab={offset:10,method:"auto",target:""},U={offset:"number",method:"string",target:"(string|element)"},ba=function(){function W(D,J){var Y=this;this._element=D;this._scrollElement="BODY"===D.tagName?window:D;this._config=this._getConfig(J);this._selector=this._config.target+" .nav-link,"+(this._config.target+" .list-group-item,")+(this._config.target+" .dropdown-item");this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=
0;b["default"](this._scrollElement).on("scroll.bs.scrollspy",function(za){return Y._process(za)});this.refresh();this._process()}var Z=W.prototype;Z.refresh=function(){var D=this,J=this._scrollElement===this._scrollElement.window?"offset":"position",Y="auto"===this._config.method?J:this._config.method,za="position"===Y?this._getScrollTop():0;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();[].slice.call(document.querySelectorAll(this._selector)).map(function(Qa){var Ua;
(Qa=g.getSelectorFromElement(Qa))&&(Ua=document.querySelector(Qa));if(Ua){var Db=Ua.getBoundingClientRect();if(Db.width||Db.height)return[b["default"](Ua)[Y]().top+za,Qa]}return null}).filter(Boolean).sort(function(Qa,Ua){return Qa[0]-Ua[0]}).forEach(function(Qa){D._offsets.push(Qa[0]);D._targets.push(Qa[1])})};Z.dispose=function(){b["default"].removeData(this._element,"bs.scrollspy");b["default"](this._scrollElement).off(".bs.scrollspy");this._scrollHeight=this._activeTarget=this._targets=this._offsets=
this._selector=this._config=this._scrollElement=this._element=null};Z._getConfig=function(D){D=v({},ab,"object"===typeof D&&D?D:{});if("string"!==typeof D.target&&g.isElement(D.target)){var J=b["default"](D.target).attr("id");J||(J=g.getUID("scrollspy"),b["default"](D.target).attr("id",J));D.target="#"+J}g.typeCheckConfig("scrollspy",D,U);return D};Z._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop};Z._getScrollHeight=function(){return this._scrollElement.scrollHeight||
Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)};Z._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height};Z._process=function(){var D=this._getScrollTop()+this._config.offset,J=this._getScrollHeight(),Y=this._config.offset+J-this._getOffsetHeight();this._scrollHeight!==J&&this.refresh();if(D>=Y)D=this._targets[this._targets.length-1],this._activeTarget!==D&&this._activate(D);else if(this._activeTarget&&
D<this._offsets[0]&&0<this._offsets[0])this._activeTarget=null,this._clear();else for(J=this._offsets.length;J--;)this._activeTarget!==this._targets[J]&&D>=this._offsets[J]&&("undefined"===typeof this._offsets[J+1]||D<this._offsets[J+1])&&this._activate(this._targets[J])};Z._activate=function(D){this._activeTarget=D;this._clear();var J=this._selector.split(",").map(function(Y){return Y+'[data-target="'+D+'"],'+Y+'[href="'+D+'"]'});J=b["default"]([].slice.call(document.querySelectorAll(J.join(","))));
J.hasClass("dropdown-item")?(J.closest(".dropdown").find(".dropdown-toggle").addClass("active"),J.addClass("active")):(J.addClass("active"),J.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),J.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active"));b["default"](this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:D})};Z._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(D){return D.classList.contains("active")}).forEach(function(D){return D.classList.remove("active")})};
W._jQueryInterface=function(D){return this.each(function(){var J=b["default"](this).data("bs.scrollspy"),Y="object"===typeof D&&D;J||(J=new W(this,Y),b["default"](this).data("bs.scrollspy",J));if("string"===typeof D){if("undefined"===typeof J[D])throw new TypeError('No method named "'+D+'"');J[D]()}})};e(W,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return ab}}]);return W}();b["default"](window).on("load.bs.scrollspy.data-api",function(){for(var W=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),
Z=W.length;Z--;){var D=b["default"](W[Z]);ba._jQueryInterface.call(D,D.data())}});b["default"].fn.scrollspy=ba._jQueryInterface;b["default"].fn.scrollspy.Constructor=ba;b["default"].fn.scrollspy.noConflict=function(){b["default"].fn.scrollspy=Ja;return ba._jQueryInterface};var ea=b["default"].fn.tab,aa=function(){function W(D){this._element=D}var Z=W.prototype;Z.show=function(){var D=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&b["default"](this._element).hasClass("active")||
b["default"](this._element).hasClass("disabled")||this._element.hasAttribute("disabled"))){var J,Y=b["default"](this._element).closest(".nav, .list-group")[0],za=g.getSelectorFromElement(this._element);if(Y){var Qa="UL"===Y.nodeName||"OL"===Y.nodeName?"> li > .active":".active";var Ua=b["default"].makeArray(b["default"](Y).find(Qa));Ua=Ua[Ua.length-1]}Qa=b["default"].Event("hide.bs.tab",{relatedTarget:this._element});var Db=b["default"].Event("show.bs.tab",{relatedTarget:Ua});Ua&&b["default"](Ua).trigger(Qa);
b["default"](this._element).trigger(Db);Db.isDefaultPrevented()||Qa.isDefaultPrevented()||(za&&(J=document.querySelector(za)),this._activate(this._element,Y),Y=function(){var O=b["default"].Event("hidden.bs.tab",{relatedTarget:D._element}),Hb=b["default"].Event("shown.bs.tab",{relatedTarget:Ua});b["default"](Ua).trigger(O);b["default"](D._element).trigger(Hb)},J?this._activate(J,J.parentNode,Y):Y())}};Z.dispose=function(){b["default"].removeData(this._element,"bs.tab");this._element=null};Z._activate=
function(D,J,Y){var za=this,Qa=(!J||"UL"!==J.nodeName&&"OL"!==J.nodeName?b["default"](J).children(".active"):b["default"](J).find("> li > .active"))[0],Ua=Y&&Qa&&b["default"](Qa).hasClass("fade");J=function(){return za._transitionComplete(D,Qa,Y)};Qa&&Ua?(Ua=g.getTransitionDurationFromElement(Qa),b["default"](Qa).removeClass("show").one(g.TRANSITION_END,J).emulateTransitionEnd(Ua)):J()};Z._transitionComplete=function(D,J,Y){if(J){b["default"](J).removeClass("active");var za=b["default"](J.parentNode).find("> .dropdown-menu .active")[0];
za&&b["default"](za).removeClass("active");"tab"===J.getAttribute("role")&&J.setAttribute("aria-selected",!1)}b["default"](D).addClass("active");"tab"===D.getAttribute("role")&&D.setAttribute("aria-selected",!0);g.reflow(D);D.classList.contains("fade")&&D.classList.add("show");(J=D.parentNode)&&"LI"===J.nodeName&&(J=J.parentNode);if(J&&b["default"](J).hasClass("dropdown-menu")){if(J=b["default"](D).closest(".dropdown")[0])J=[].slice.call(J.querySelectorAll(".dropdown-toggle")),b["default"](J).addClass("active");
D.setAttribute("aria-expanded",!0)}Y&&Y()};W._jQueryInterface=function(D){return this.each(function(){var J=b["default"](this),Y=J.data("bs.tab");Y||(Y=new W(this),J.data("bs.tab",Y));if("string"===typeof D){if("undefined"===typeof Y[D])throw new TypeError('No method named "'+D+'"');Y[D]()}})};e(W,null,[{key:"VERSION",get:function(){return"4.6.2"}}]);return W}();b["default"](document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(W){W.preventDefault();
aa._jQueryInterface.call(b["default"](this),"show")});b["default"].fn.tab=aa._jQueryInterface;b["default"].fn.tab.Constructor=aa;b["default"].fn.tab.noConflict=function(){b["default"].fn.tab=ea;return aa._jQueryInterface};var ua=b["default"].fn.toast,Ea={animation:!0,autohide:!0,delay:500},Fa={animation:"boolean",autohide:"boolean",delay:"number"},ma=function(){function W(D,J){this._element=D;this._config=this._getConfig(J);this._timeout=null;this._setListeners()}var Z=W.prototype;Z.show=function(){var D=
this,J=b["default"].Event("show.bs.toast");b["default"](this._element).trigger(J);if(!J.isDefaultPrevented())if(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),J=function(){D._element.classList.remove("showing");D._element.classList.add("show");b["default"](D._element).trigger("shown.bs.toast");D._config.autohide&&(D._timeout=setTimeout(function(){D.hide()},D._config.delay))},this._element.classList.remove("hide"),g.reflow(this._element),this._element.classList.add("showing"),
this._config.animation){var Y=g.getTransitionDurationFromElement(this._element);b["default"](this._element).one(g.TRANSITION_END,J).emulateTransitionEnd(Y)}else J()};Z.hide=function(){if(this._element.classList.contains("show")){var D=b["default"].Event("hide.bs.toast");b["default"](this._element).trigger(D);D.isDefaultPrevented()||this._close()}};Z.dispose=function(){this._clearTimeout();this._element.classList.contains("show")&&this._element.classList.remove("show");b["default"](this._element).off("click.dismiss.bs.toast");
b["default"].removeData(this._element,"bs.toast");this._config=this._element=null};Z._getConfig=function(D){D=v({},Ea,b["default"](this._element).data(),"object"===typeof D&&D?D:{});g.typeCheckConfig("toast",D,this.constructor.DefaultType);return D};Z._setListeners=function(){var D=this;b["default"](this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',function(){return D.hide()})};Z._close=function(){var D=this,J=function(){D._element.classList.add("hide");b["default"](D._element).trigger("hidden.bs.toast")};
this._element.classList.remove("show");if(this._config.animation){var Y=g.getTransitionDurationFromElement(this._element);b["default"](this._element).one(g.TRANSITION_END,J).emulateTransitionEnd(Y)}else J()};Z._clearTimeout=function(){clearTimeout(this._timeout);this._timeout=null};W._jQueryInterface=function(D){return this.each(function(){var J=b["default"](this),Y=J.data("bs.toast"),za="object"===typeof D&&D;Y||(Y=new W(this,za),J.data("bs.toast",Y));if("string"===typeof D){if("undefined"===typeof Y[D])throw new TypeError('No method named "'+
D+'"');Y[D](this)}})};e(W,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"DefaultType",get:function(){return Fa}},{key:"Default",get:function(){return Ea}}]);return W}();b["default"].fn.toast=ma._jQueryInterface;b["default"].fn.toast.Constructor=ma;b["default"].fn.toast.noConflict=function(){b["default"].fn.toast=ua;return ma._jQueryInterface};w.Alert=f;w.Button=t;w.Carousel=N;w.Collapse=I;w.Dropdown=sa;w.Modal=ia;w.Popover=Na;w.Scrollspy=ba;w.Tab=aa;w.Toast=ma;w.Tooltip=Ha;w.Util=g;Object.defineProperty(w,
"__esModule",{value:!0})})},{jquery:297,"popper.js":315}],71:[function(h,K,C){h("../../modules/es.array.fill");h=h("../../internals/entry-unbind");K.exports=h("Array","fill")},{"../../internals/entry-unbind":127,"../../modules/es.array.fill":242}],72:[function(h,K,C){h("../../modules/es.array.iterator");h("../../modules/es.object.to-string");h=h("../../internals/entry-unbind");K.exports=h("Array","values")},{"../../internals/entry-unbind":127,"../../modules/es.array.iterator":243,"../../modules/es.object.to-string":250}],
73:[function(h,K,C){h("../../modules/es.array.iterator");h("../../modules/es.map");h("../../modules/es.object.to-string");h("../../modules/es.string.iterator");h=h("../../internals/path");K.exports=h.Map},{"../../internals/path":200,"../../modules/es.array.iterator":243,"../../modules/es.map":247,"../../modules/es.object.to-string":250,"../../modules/es.string.iterator":265}],74:[function(h,K,C){h("../../modules/es.aggregate-error");h("../../modules/es.array.iterator");h("../../modules/es.object.to-string");
h("../../modules/es.promise");h("../../modules/es.promise.all-settled");h("../../modules/es.promise.any");h("../../modules/es.promise.finally");h("../../modules/es.string.iterator");h=h("../../internals/path");K.exports=h.Promise},{"../../internals/path":200,"../../modules/es.aggregate-error":240,"../../modules/es.array.iterator":243,"../../modules/es.object.to-string":250,"../../modules/es.promise":257,"../../modules/es.promise.all-settled":251,"../../modules/es.promise.any":253,"../../modules/es.promise.finally":256,
"../../modules/es.string.iterator":265}],75:[function(h,K,C){h("../../modules/es.array.iterator");h("../../modules/es.object.to-string");h("../../modules/es.set");h("../../modules/es.string.iterator");h=h("../../internals/path");K.exports=h.Set},{"../../internals/path":200,"../../modules/es.array.iterator":243,"../../modules/es.object.to-string":250,"../../modules/es.set":263,"../../modules/es.string.iterator":265}],76:[function(h,K,C){h("../../modules/es.string.ends-with");h=h("../../internals/entry-unbind");
K.exports=h("String","endsWith")},{"../../internals/entry-unbind":127,"../../modules/es.string.ends-with":264}],77:[function(h,K,C){h("../../modules/es.array.concat");h("../../modules/es.object.to-string");h("../../modules/es.symbol");h("../../modules/es.symbol.async-iterator");h("../../modules/es.symbol.description");h("../../modules/es.symbol.has-instance");h("../../modules/es.symbol.is-concat-spreadable");h("../../modules/es.symbol.iterator");h("../../modules/es.symbol.match");h("../../modules/es.symbol.match-all");
h("../../modules/es.symbol.replace");h("../../modules/es.symbol.search");h("../../modules/es.symbol.species");h("../../modules/es.symbol.split");h("../../modules/es.symbol.to-primitive");h("../../modules/es.symbol.to-string-tag");h("../../modules/es.symbol.unscopables");h("../../modules/es.json.to-string-tag");h("../../modules/es.math.to-string-tag");h("../../modules/es.reflect.to-string-tag");h=h("../../internals/path");K.exports=h.Symbol},{"../../internals/path":200,"../../modules/es.array.concat":241,
"../../modules/es.json.to-string-tag":245,"../../modules/es.math.to-string-tag":248,"../../modules/es.object.to-string":250,"../../modules/es.reflect.to-string-tag":261,"../../modules/es.symbol":273,"../../modules/es.symbol.async-iterator":266,"../../modules/es.symbol.description":268,"../../modules/es.symbol.has-instance":270,"../../modules/es.symbol.is-concat-spreadable":271,"../../modules/es.symbol.iterator":272,"../../modules/es.symbol.match":276,"../../modules/es.symbol.match-all":275,"../../modules/es.symbol.replace":277,
"../../modules/es.symbol.search":278,"../../modules/es.symbol.species":279,"../../modules/es.symbol.split":280,"../../modules/es.symbol.to-primitive":281,"../../modules/es.symbol.to-string-tag":282,"../../modules/es.symbol.unscopables":283}],78:[function(h,K,C){h("../../modules/es.typed-array.fill")},{"../../modules/es.typed-array.fill":284}],79:[function(h,K,C){h("../../modules/es.typed-array.slice")},{"../../modules/es.typed-array.slice":285}],80:[function(h,K,C){var w=h("../internals/is-callable"),
k=h("../internals/try-to-string"),u=TypeError;K.exports=function(E){if(w(E))return E;throw new u(k(E)+" is not a function");}},{"../internals/is-callable":162,"../internals/try-to-string":229}],81:[function(h,K,C){var w=h("../internals/is-constructor"),k=h("../internals/try-to-string"),u=TypeError;K.exports=function(E){if(w(E))return E;throw new u(k(E)+" is not a constructor");}},{"../internals/is-constructor":163,"../internals/try-to-string":229}],82:[function(h,K,C){var w=h("../internals/is-callable"),
k=String,u=TypeError;K.exports=function(E){if("object"==typeof E||w(E))return E;throw new u("Can't set "+k(E)+" as a prototype");}},{"../internals/is-callable":162}],83:[function(h,K,C){C=h("../internals/well-known-symbol");var w=h("../internals/object-create");h=h("../internals/object-define-property").f;var k=C("unscopables"),u=Array.prototype;void 0===u[k]&&h(u,k,{configurable:!0,value:w(null)});K.exports=function(E){u[k][E]=!0}},{"../internals/object-create":183,"../internals/object-define-property":185,
"../internals/well-known-symbol":238}],84:[function(h,K,C){var w=h("../internals/object-is-prototype-of"),k=TypeError;K.exports=function(u,E){if(w(E,u))return u;throw new k("Incorrect invocation");}},{"../internals/object-is-prototype-of":192}],85:[function(h,K,C){var w=h("../internals/is-object"),k=String,u=TypeError;K.exports=function(E){if(w(E))return E;throw new u(k(E)+" is not an object");}},{"../internals/is-object":166}],86:[function(h,K,C){K.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=
typeof DataView},{}],87:[function(h,K,C){h=h("../internals/fails");K.exports=h(function(){if("function"==typeof ArrayBuffer){var w=new ArrayBuffer(8);Object.isExtensible(w)&&Object.defineProperty(w,"a",{value:8})}})},{"../internals/fails":133}],88:[function(h,K,C){var w=h("../internals/array-buffer-basic-detection"),k=h("../internals/descriptors"),u=h("../internals/global"),E=h("../internals/is-callable"),c=h("../internals/is-object"),e=h("../internals/has-own-property"),v=h("../internals/classof"),
a=h("../internals/try-to-string");C=h("../internals/create-non-enumerable-property");var l=h("../internals/define-built-in"),q=h("../internals/define-built-in-accessor"),r=h("../internals/object-is-prototype-of"),b=h("../internals/object-get-prototype-of"),d=h("../internals/object-set-prototype-of"),g=h("../internals/well-known-symbol"),m=h("../internals/uid"),f=h("../internals/internal-state");h=f.enforce;var n=f.get,t=u.Int8Array,y=t&&t.prototype;f=(f=u.Uint8ClampedArray)&&f.prototype;var B=t&&
b(t),z=y&&b(y);t=Object.prototype;var H=u.TypeError;g=g("toStringTag");var N=m("TYPED_ARRAY_TAG"),x=w&&!!d&&"Opera"!==v(u.opera);w=!1;var F,G,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},R=function(ca){ca=b(ca);if(c(ca)){var sa=n(ca);return sa&&e(sa,"TypedArrayConstructor")?sa.TypedArrayConstructor:R(ca)}},ha=function(ca){if(!c(ca))return!1;ca=v(ca);return e(I,ca)||e(M,ca)};
for(F in I)(G=(m=u[F])&&m.prototype)?h(G).TypedArrayConstructor=m:x=!1;for(F in M)(G=(m=u[F])&&m.prototype)&&(h(G).TypedArrayConstructor=m);if(!x||!E(B)||B===Function.prototype)if(B=function(){throw new H("Incorrect invocation");},x)for(F in I)u[F]&&d(u[F],B);if(!x||!z||z===t)if(z=B.prototype,x)for(F in I)u[F]&&d(u[F].prototype,z);x&&b(f)!==z&&d(f,z);if(k&&!e(z,g))for(F in w=!0,q(z,g,{configurable:!0,get:function(){return c(this)?this[N]:void 0}}),I)u[F]&&C(u[F],N,F);K.exports={NATIVE_ARRAY_BUFFER_VIEWS:x,
TYPED_ARRAY_TAG:w&&N,aTypedArray:function(ca){if(ha(ca))return ca;throw new H("Target is not a typed array");},aTypedArrayConstructor:function(ca){if(E(ca)&&(!d||r(B,ca)))return ca;throw new H(a(ca)+" is not a typed array constructor");},exportTypedArrayMethod:function(ca,sa,na,Q){if(k){if(na)for(var oa in I){var ia=u[oa];if(ia&&e(ia.prototype,ca))try{delete ia.prototype[ca]}catch(ya){try{ia.prototype[ca]=sa}catch(ta){}}}z[ca]&&!na||l(z,ca,na?sa:x&&y[ca]||sa,Q)}},exportTypedArrayStaticMethod:function(ca,
sa,na){var Q,oa;if(k){if(d){if(na)for(Q in I)if((oa=u[Q])&&e(oa,ca))try{delete oa[ca]}catch(ia){}if(!B[ca]||na)try{return l(B,ca,na?sa:x&&B[ca]||sa)}catch(ia){}else return}for(Q in I)oa=u[Q],!oa||oa[ca]&&!na||l(oa,ca,sa)}},getTypedArrayConstructor:R,isView:function(ca){if(!c(ca))return!1;ca=v(ca);return"DataView"===ca||e(I,ca)||e(M,ca)},isTypedArray:ha,TypedArray:B,TypedArrayPrototype:z}},{"../internals/array-buffer-basic-detection":86,"../internals/classof":99,"../internals/create-non-enumerable-property":106,
"../internals/define-built-in":110,"../internals/define-built-in-accessor":109,"../internals/descriptors":113,"../internals/global":148,"../internals/has-own-property":149,"../internals/internal-state":159,"../internals/is-callable":162,"../internals/is-object":166,"../internals/object-get-prototype-of":190,"../internals/object-is-prototype-of":192,"../internals/object-set-prototype-of":196,"../internals/try-to-string":229,"../internals/uid":231,"../internals/well-known-symbol":238}],89:[function(h,
K,C){var w=h("../internals/to-object"),k=h("../internals/to-absolute-index"),u=h("../internals/length-of-array-like");K.exports=function(E){var c=w(this),e=u(c),v=arguments.length,a=k(1<v?arguments[1]:void 0,e);v=2<v?arguments[2]:void 0;for(e=void 0===v?e:k(v,e);e>a;)c[a++]=E;return c}},{"../internals/length-of-array-like":176,"../internals/to-absolute-index":219,"../internals/to-object":224}],90:[function(h,K,C){var w=h("../internals/to-indexed-object"),k=h("../internals/to-absolute-index"),u=h("../internals/length-of-array-like");
h=function(E){return function(c,e,v){c=w(c);var a=u(c);v=k(v,a);if(E&&e!==e)for(;a>v;){if(e=c[v++],e!==e)return!0}else for(;a>v;v++)if((E||v in c)&&c[v]===e)return E||v||0;return!E&&-1}};K.exports={includes:h(!0),indexOf:h(!1)}},{"../internals/length-of-array-like":176,"../internals/to-absolute-index":219,"../internals/to-indexed-object":221}],91:[function(h,K,C){var w=h("../internals/function-bind-context");C=h("../internals/function-uncurry-this");var k=h("../internals/indexed-object"),u=h("../internals/to-object"),
E=h("../internals/length-of-array-like"),c=h("../internals/array-species-create"),e=C([].push);h=function(v){var a=1===v,l=2===v,q=3===v,r=4===v,b=6===v,d=7===v,g=5===v||b;return function(m,f,n,t){var y=u(m),B=k(y);f=w(f,n);n=E(B);var z=0;t=t||c;m=a?t(m,n):l||d?t(m,0):void 0;for(var H;n>z;z++)if(g||z in B)if(t=B[z],H=f(t,z,y),v)if(a)m[z]=H;else if(H)switch(v){case 3:return!0;case 5:return t;case 6:return z;case 2:e(m,t)}else switch(v){case 4:return!1;case 7:e(m,t)}return b?-1:q||r?r:m}};K.exports=
{forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":96,"../internals/function-bind-context":136,"../internals/function-uncurry-this":142,"../internals/indexed-object":154,"../internals/length-of-array-like":176,"../internals/to-object":224}],92:[function(h,K,C){var w=h("../internals/fails");C=h("../internals/well-known-symbol");var k=h("../internals/engine-v8-version"),u=C("species");K.exports=function(E){return 51<=
k||!w(function(){var c=[];(c.constructor={})[u]=function(){return{foo:1}};return 1!==c[E](Boolean).foo})}},{"../internals/engine-v8-version":126,"../internals/fails":133,"../internals/well-known-symbol":238}],93:[function(h,K,C){var w=h("../internals/to-absolute-index"),k=h("../internals/length-of-array-like"),u=h("../internals/create-property"),E=Array,c=Math.max;K.exports=function(e,v,a){var l=k(e);v=w(v,l);a=w(void 0===a?l:a,l);l=E(c(a-v,0));for(var q=0;v<a;v++,q++)u(l,q,e[v]);l.length=q;return l}},
{"../internals/create-property":108,"../internals/length-of-array-like":176,"../internals/to-absolute-index":219}],94:[function(h,K,C){h=h("../internals/function-uncurry-this");K.exports=h([].slice)},{"../internals/function-uncurry-this":142}],95:[function(h,K,C){var w=h("../internals/is-array"),k=h("../internals/is-constructor"),u=h("../internals/is-object"),E=h("../internals/well-known-symbol")("species"),c=Array;K.exports=function(e){if(w(e)){var v=e.constructor;k(v)&&(v===c||w(v.prototype))?v=
void 0:u(v)&&(v=v[E],null===v&&(v=void 0))}return void 0===v?c:v}},{"../internals/is-array":161,"../internals/is-constructor":163,"../internals/is-object":166,"../internals/well-known-symbol":238}],96:[function(h,K,C){var w=h("../internals/array-species-constructor");K.exports=function(k,u){return new (w(k))(0===u?0:u)}},{"../internals/array-species-constructor":95}],97:[function(h,K,C){var w=h("../internals/well-known-symbol")("iterator"),k=!1;try{var u=0;h={next:function(){return{done:!!u++}},"return":function(){k=
!0}};h[w]=function(){return this};Array.from(h,function(){throw 2;})}catch(E){}K.exports=function(E,c){if(!c&&!k)return!1;var e=!1;try{c={},c[w]=function(){return{next:function(){return{done:e=!0}}}},E(c)}catch(v){}return e}},{"../internals/well-known-symbol":238}],98:[function(h,K,C){h=h("../internals/function-uncurry-this");var w=h({}.toString),k=h("".slice);K.exports=function(u){return k(w(u),8,-1)}},{"../internals/function-uncurry-this":142}],99:[function(h,K,C){C=h("../internals/to-string-tag-support");
var w=h("../internals/is-callable"),k=h("../internals/classof-raw"),u=h("../internals/well-known-symbol")("toStringTag"),E=Object,c="Arguments"===k(function(){return arguments}());K.exports=C?k:function(e){var v;if(void 0===e)var a="Undefined";else{if(null===e)var l="Null";else{a:{var q=e=E(e);try{l=q[u];break a}catch(r){}l=void 0}l="string"==typeof(a=l)?a:c?k(e):"Object"===(v=k(e))&&w(e.callee)?"Arguments":v}a=l}return a}},{"../internals/classof-raw":98,"../internals/is-callable":162,"../internals/to-string-tag-support":227,
"../internals/well-known-symbol":238}],100:[function(h,K,C){var w=h("../internals/object-create"),k=h("../internals/define-built-in-accessor"),u=h("../internals/define-built-ins"),E=h("../internals/function-bind-context"),c=h("../internals/an-instance"),e=h("../internals/is-null-or-undefined"),v=h("../internals/iterate"),a=h("../internals/iterator-define"),l=h("../internals/create-iter-result-object"),q=h("../internals/set-species"),r=h("../internals/descriptors"),b=h("../internals/internal-metadata").fastKey;
h=h("../internals/internal-state");var d=h.set,g=h.getterFor;K.exports={getConstructor:function(m,f,n,t){m=m(function(N,x){c(N,y);d(N,{type:f,index:w(null),first:void 0,last:void 0,size:0});r||(N.size=0);e(x)||v(x,N[t],{that:N,AS_ENTRIES:n})});var y=m.prototype,B=g(f),z=function(N,x,F){var G=B(N),I=H(N,x),M,R;I?I.value=F:(G.last=I={index:R=b(x,!0),key:x,value:F,previous:M=G.last,next:void 0,removed:!1},G.first||(G.first=I),M&&(M.next=I),r?G.size++:N.size++,"F"!==R&&(G.index[R]=I));return N},H=function(N,
x){N=B(N);var F=b(x);if("F"!==F)return N.index[F];for(N=N.first;N;N=N.next)if(N.key===x)return N};u(y,{clear:function(){for(var N=B(this),x=N.index,F=N.first;F;)F.removed=!0,F.previous&&(F.previous=F.previous.next=void 0),delete x[F.index],F=F.next;N.first=N.last=void 0;r?N.size=0:this.size=0},"delete":function(N){var x=B(this);if(N=H(this,N)){var F=N.next,G=N.previous;delete x.index[N.index];N.removed=!0;G&&(G.next=F);F&&(F.previous=G);x.first===N&&(x.first=F);x.last===N&&(x.last=G);r?x.size--:this.size--}return!!N},
forEach:function(N){for(var x=B(this),F=E(N,1<arguments.length?arguments[1]:void 0),G;G=G?G.next:x.first;)for(F(G.value,G.key,this);G&&G.removed;)G=G.previous},has:function(N){return!!H(this,N)}});u(y,n?{get:function(N){return(N=H(this,N))&&N.value},set:function(N,x){return z(this,0===N?0:N,x)}}:{add:function(N){return z(this,N=0===N?0:N,N)}});r&&k(y,"size",{configurable:!0,get:function(){return B(this).size}});return m},setStrong:function(m,f,n){var t=f+" Iterator",y=g(f),B=g(t);a(m,f,function(z,
H){d(this,{type:t,target:z,state:y(z),kind:H,last:void 0})},function(){for(var z=B(this),H=z.kind,N=z.last;N&&N.removed;)N=N.previous;return z.target&&(z.last=N=N?N.next:z.state.first)?"keys"===H?l(N.key,!1):"values"===H?l(N.value,!1):l([N.key,N.value],!1):(z.target=void 0,l(void 0,!0))},n?"entries":"values",!n,!0);q(f)}}},{"../internals/an-instance":84,"../internals/create-iter-result-object":105,"../internals/define-built-in-accessor":109,"../internals/define-built-ins":111,"../internals/descriptors":113,
"../internals/function-bind-context":136,"../internals/internal-metadata":158,"../internals/internal-state":159,"../internals/is-null-or-undefined":165,"../internals/iterate":170,"../internals/iterator-define":173,"../internals/object-create":183,"../internals/set-species":208}],101:[function(h,K,C){var w=h("../internals/export"),k=h("../internals/global"),u=h("../internals/function-uncurry-this"),E=h("../internals/is-forced"),c=h("../internals/define-built-in"),e=h("../internals/internal-metadata"),
v=h("../internals/iterate"),a=h("../internals/an-instance"),l=h("../internals/is-callable"),q=h("../internals/is-null-or-undefined"),r=h("../internals/is-object"),b=h("../internals/fails"),d=h("../internals/check-correctness-of-iteration"),g=h("../internals/set-to-string-tag"),m=h("../internals/inherit-if-required");K.exports=function(f,n,t){var y=-1!==f.indexOf("Map"),B=-1!==f.indexOf("Weak"),z=y?"set":"add",H=k[f],N=H&&H.prototype,x=H,F={},G=function(sa){var na=u(N[sa]);c(N,sa,"add"===sa?function(Q){na(this,
0===Q?0:Q);return this}:"delete"===sa?function(Q){return B&&!r(Q)?!1:na(this,0===Q?0:Q)}:"get"===sa?function(Q){return B&&!r(Q)?void 0:na(this,0===Q?0:Q)}:"has"===sa?function(Q){return B&&!r(Q)?!1:na(this,0===Q?0:Q)}:function(Q,oa){na(this,0===Q?0:Q,oa);return this})};if(E(f,!l(H)||!(B||N.forEach&&!b(function(){(new H).entries().next()}))))x=t.getConstructor(n,f,y,z),e.enable();else if(E(f,!0)){var I=new x,M=I[z](B?{}:-0,1)!==I,R=b(function(){I.has(1)}),ha=d(function(sa){new H(sa)}),ca=!B&&b(function(){for(var sa=
new H,na=5;na--;)sa[z](na,na);return!sa.has(-0)});ha||(x=n(function(sa,na){a(sa,N);sa=m(new H,sa,x);q(na)||v(na,sa[z],{that:sa,AS_ENTRIES:y});return sa}),x.prototype=N,N.constructor=x);if(R||ca)G("delete"),G("has"),y&&G("get");(ca||M)&&G(z);B&&N.clear&&delete N.clear}F[f]=x;w({global:!0,constructor:!0,forced:x!==H},F);g(x,f);B||t.setStrong(x,f,y);return x}},{"../internals/an-instance":84,"../internals/check-correctness-of-iteration":97,"../internals/define-built-in":110,"../internals/export":132,
"../internals/fails":133,"../internals/function-uncurry-this":142,"../internals/global":148,"../internals/inherit-if-required":155,"../internals/internal-metadata":158,"../internals/is-callable":162,"../internals/is-forced":164,"../internals/is-null-or-undefined":165,"../internals/is-object":166,"../internals/iterate":170,"../internals/set-to-string-tag":209}],102:[function(h,K,C){var w=h("../internals/has-own-property"),k=h("../internals/own-keys"),u=h("../internals/object-get-own-property-descriptor"),
E=h("../internals/object-define-property");K.exports=function(c,e,v){for(var a=k(e),l=E.f,q=u.f,r=0;r<a.length;r++){var b=a[r];w(c,b)||v&&w(v,b)||l(c,b,q(e,b))}}},{"../internals/has-own-property":149,"../internals/object-define-property":185,"../internals/object-get-own-property-descriptor":186,"../internals/own-keys":199}],103:[function(h,K,C){var w=h("../internals/well-known-symbol")("match");K.exports=function(k){var u=/./;try{"/./"[k](u)}catch(E){try{return u[w]=!1,"/./"[k](u)}catch(c){}}return!1}},
{"../internals/well-known-symbol":238}],104:[function(h,K,C){h=h("../internals/fails");K.exports=!h(function(){function w(){}w.prototype.constructor=null;return Object.getPrototypeOf(new w)!==w.prototype})},{"../internals/fails":133}],105:[function(h,K,C){K.exports=function(w,k){return{value:w,done:k}}},{}],106:[function(h,K,C){C=h("../internals/descriptors");var w=h("../internals/object-define-property"),k=h("../internals/create-property-descriptor");K.exports=C?function(u,E,c){return w.f(u,E,k(1,
c))}:function(u,E,c){u[E]=c;return u}},{"../internals/create-property-descriptor":107,"../internals/descriptors":113,"../internals/object-define-property":185}],107:[function(h,K,C){K.exports=function(w,k){return{enumerable:!(w&1),configurable:!(w&2),writable:!(w&4),value:k}}},{}],108:[function(h,K,C){var w=h("../internals/to-property-key"),k=h("../internals/object-define-property"),u=h("../internals/create-property-descriptor");K.exports=function(E,c,e){c=w(c);c in E?k.f(E,c,u(0,e)):E[c]=e}},{"../internals/create-property-descriptor":107,
"../internals/object-define-property":185,"../internals/to-property-key":226}],109:[function(h,K,C){var w=h("../internals/make-built-in"),k=h("../internals/object-define-property");K.exports=function(u,E,c){c.get&&w(c.get,E,{getter:!0});c.set&&w(c.set,E,{setter:!0});return k.f(u,E,c)}},{"../internals/make-built-in":177,"../internals/object-define-property":185}],110:[function(h,K,C){var w=h("../internals/is-callable"),k=h("../internals/object-define-property"),u=h("../internals/make-built-in"),E=
h("../internals/define-global-property");K.exports=function(c,e,v,a){a||={};var l=a.enumerable,q=void 0!==a.name?a.name:e;w(v)&&u(v,q,a);if(a.global)l?c[e]=v:E(e,v);else{try{a.unsafe?c[e]&&(l=!0):delete c[e]}catch(r){}l?c[e]=v:k.f(c,e,{value:v,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return c}},{"../internals/define-global-property":112,"../internals/is-callable":162,"../internals/make-built-in":177,"../internals/object-define-property":185}],111:[function(h,K,C){var w=
h("../internals/define-built-in");K.exports=function(k,u,E){for(var c in u)w(k,c,u[c],E);return k}},{"../internals/define-built-in":110}],112:[function(h,K,C){var w=h("../internals/global"),k=Object.defineProperty;K.exports=function(u,E){try{k(w,u,{value:E,configurable:!0,writable:!0})}catch(c){w[u]=E}return E}},{"../internals/global":148}],113:[function(h,K,C){h=h("../internals/fails");K.exports=!h(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":133}],
114:[function(h,K,C){h="object"==typeof document&&document.all;K.exports={all:h,IS_HTMLDDA:"undefined"==typeof h&&void 0!==h}},{}],115:[function(h,K,C){C=h("../internals/global");h=h("../internals/is-object");var w=C.document,k=h(w)&&h(w.createElement);K.exports=function(u){return k?w.createElement(u):{}}},{"../internals/global":148,"../internals/is-object":166}],116:[function(h,K,C){var w=TypeError;K.exports=function(k){if(9007199254740991<k)throw w("Maximum allowed index exceeded");return k}},{}],
117:[function(h,K,C){K.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,
TextTrackList:0,TouchList:0}},{}],118:[function(h,K,C){h=(h=h("../internals/document-create-element")("span").classList)&&h.constructor&&h.constructor.prototype;K.exports=h===Object.prototype?void 0:h},{"../internals/document-create-element":115}],119:[function(h,K,C){C=h("../internals/engine-is-deno");h=h("../internals/engine-is-node");K.exports=!C&&!h&&"object"==typeof window&&"object"==typeof document},{"../internals/engine-is-deno":120,"../internals/engine-is-node":123}],120:[function(h,K,C){K.exports=
"object"==typeof Deno&&Deno&&"object"==typeof Deno.version},{}],121:[function(h,K,C){h=h("../internals/engine-user-agent");K.exports=/ipad|iphone|ipod/i.test(h)&&"undefined"!=typeof Pebble},{"../internals/engine-user-agent":125}],122:[function(h,K,C){h=h("../internals/engine-user-agent");K.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(h)},{"../internals/engine-user-agent":125}],123:[function(h,K,C){C=h("../internals/global");h=h("../internals/classof-raw");K.exports="process"===h(C.process)},
{"../internals/classof-raw":98,"../internals/global":148}],124:[function(h,K,C){h=h("../internals/engine-user-agent");K.exports=/web0s(?!.*chrome)/i.test(h)},{"../internals/engine-user-agent":125}],125:[function(h,K,C){K.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},{}],126:[function(h,K,C){C=h("../internals/global");h=h("../internals/engine-user-agent");var w=C.process;C=C.Deno;C=(C=w&&w.versions||C&&C.version)&&C.v8;if(C){C=C.split(".");var k=0<C[0]&&4>C[0]?1:+(C[0]+C[1])}!k&&
h&&(C=h.match(/Edge\/(\d+)/),(!C||74<=C[1])&&(C=h.match(/Chrome\/(\d+)/))&&(k=+C[1]));K.exports=k},{"../internals/engine-user-agent":125,"../internals/global":148}],127:[function(h,K,C){var w=h("../internals/global"),k=h("../internals/function-uncurry-this");K.exports=function(u,E){return k(w[u].prototype[E])}},{"../internals/function-uncurry-this":142,"../internals/global":148}],128:[function(h,K,C){K.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},
{}],129:[function(h,K,C){h=h("../internals/function-uncurry-this");var w=Error,k=h("".replace);h=String((new w("zxcasd")).stack);var u=/\n\s*at [^:]*:[^\n]*/,E=u.test(h);K.exports=function(c,e){if(E&&"string"==typeof c&&!w.prepareStackTrace)for(;e--;)c=k(c,u,"");return c}},{"../internals/function-uncurry-this":142}],130:[function(h,K,C){var w=h("../internals/create-non-enumerable-property"),k=h("../internals/error-stack-clear"),u=h("../internals/error-stack-installable"),E=Error.captureStackTrace;
K.exports=function(c,e,v,a){u&&(E?E(c,e):w(c,"stack",k(v,a)))}},{"../internals/create-non-enumerable-property":106,"../internals/error-stack-clear":129,"../internals/error-stack-installable":131}],131:[function(h,K,C){C=h("../internals/fails");var w=h("../internals/create-property-descriptor");K.exports=!C(function(){var k=Error("a");if(!("stack"in k))return!0;Object.defineProperty(k,"stack",w(1,7));return 7!==k.stack})},{"../internals/create-property-descriptor":107,"../internals/fails":133}],132:[function(h,
K,C){var w=h("../internals/global"),k=h("../internals/object-get-own-property-descriptor").f,u=h("../internals/create-non-enumerable-property"),E=h("../internals/define-built-in"),c=h("../internals/define-global-property"),e=h("../internals/copy-constructor-properties"),v=h("../internals/is-forced");K.exports=function(a,l){var q=a.target,r=a.global,b=a.stat,d,g,m;if(g=r?w:b?w[q]||c(q,{}):(w[q]||{}).prototype)for(m in l){var f=l[m];var n=a.dontCallGetSet?(d=k(g,m))&&d.value:g[m];d=v(r?m:q+(b?".":"#")+
m,a.forced);if(!d&&void 0!==n){if(typeof f==typeof n)continue;e(f,n)}(a.sham||n&&n.sham)&&u(f,"sham",!0);E(g,m,f,a)}}},{"../internals/copy-constructor-properties":102,"../internals/create-non-enumerable-property":106,"../internals/define-built-in":110,"../internals/define-global-property":112,"../internals/global":148,"../internals/is-forced":164,"../internals/object-get-own-property-descriptor":186}],133:[function(h,K,C){K.exports=function(w){try{return!!w()}catch(k){return!0}}},{}],134:[function(h,
K,C){h=h("../internals/fails");K.exports=!h(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":133}],135:[function(h,K,C){h=h("../internals/function-bind-native");C=Function.prototype;var w=C.apply,k=C.call;K.exports="object"==typeof Reflect&&Reflect.apply||(h?k.bind(w):function(){return k.apply(w,arguments)})},{"../internals/function-bind-native":137}],136:[function(h,K,C){C=h("../internals/function-uncurry-this-clause");var w=h("../internals/a-callable"),
k=h("../internals/function-bind-native"),u=C(C.bind);K.exports=function(E,c){w(E);return void 0===c?E:k?u(E,c):function(){return E.apply(c,arguments)}}},{"../internals/a-callable":80,"../internals/function-bind-native":137,"../internals/function-uncurry-this-clause":141}],137:[function(h,K,C){h=h("../internals/fails");K.exports=!h(function(){var w=function(){}.bind();return"function"!=typeof w||w.hasOwnProperty("prototype")})},{"../internals/fails":133}],138:[function(h,K,C){h=h("../internals/function-bind-native");
var w=Function.prototype.call;K.exports=h?w.bind(w):function(){return w.apply(w,arguments)}},{"../internals/function-bind-native":137}],139:[function(h,K,C){C=h("../internals/descriptors");var w=h("../internals/has-own-property");h=Function.prototype;var k=C&&Object.getOwnPropertyDescriptor,u=(w=w(h,"name"))&&"something"===function(){}.name;C=w&&(!C||C&&k(h,"name").configurable);K.exports={EXISTS:w,PROPER:u,CONFIGURABLE:C}},{"../internals/descriptors":113,"../internals/has-own-property":149}],140:[function(h,
K,C){var w=h("../internals/function-uncurry-this"),k=h("../internals/a-callable");K.exports=function(u,E,c){try{return w(k(Object.getOwnPropertyDescriptor(u,E)[c]))}catch(e){}}},{"../internals/a-callable":80,"../internals/function-uncurry-this":142}],141:[function(h,K,C){var w=h("../internals/classof-raw"),k=h("../internals/function-uncurry-this");K.exports=function(u){if("Function"===w(u))return k(u)}},{"../internals/classof-raw":98,"../internals/function-uncurry-this":142}],142:[function(h,K,C){h=
h("../internals/function-bind-native");C=Function.prototype;var w=C.call;C=h&&C.bind.bind(w,w);K.exports=h?C:function(k){return function(){return w.apply(k,arguments)}}},{"../internals/function-bind-native":137}],143:[function(h,K,C){var w=h("../internals/global"),k=h("../internals/is-callable");K.exports=function(u,E){if(2>arguments.length){var c=w[u];c=k(c)?c:void 0}else c=w[u]&&w[u][E];return c}},{"../internals/global":148,"../internals/is-callable":162}],144:[function(h,K,C){var w=h("../internals/classof"),
k=h("../internals/get-method"),u=h("../internals/is-null-or-undefined"),E=h("../internals/iterators"),c=h("../internals/well-known-symbol")("iterator");K.exports=function(e){if(!u(e))return k(e,c)||k(e,"@@iterator")||E[w(e)]}},{"../internals/classof":99,"../internals/get-method":147,"../internals/is-null-or-undefined":165,"../internals/iterators":175,"../internals/well-known-symbol":238}],145:[function(h,K,C){var w=h("../internals/function-call"),k=h("../internals/a-callable"),u=h("../internals/an-object"),
E=h("../internals/try-to-string"),c=h("../internals/get-iterator-method"),e=TypeError;K.exports=function(v,a){var l=2>arguments.length?c(v):a;if(k(l))return u(w(l,v));throw new e(E(v)+" is not iterable");}},{"../internals/a-callable":80,"../internals/an-object":85,"../internals/function-call":138,"../internals/get-iterator-method":144,"../internals/try-to-string":229}],146:[function(h,K,C){C=h("../internals/function-uncurry-this");var w=h("../internals/is-array"),k=h("../internals/is-callable"),u=
h("../internals/classof-raw"),E=h("../internals/to-string"),c=C([].push);K.exports=function(e){if(k(e))return e;if(w(e)){for(var v=e.length,a=[],l=0;l<v;l++){var q=e[l];"string"==typeof q?c(a,q):("number"==typeof q||"Number"===u(q)||"String"===u(q))&&c(a,E(q))}var r=a.length,b=!0;return function(d,g){if(b)return b=!1,g;if(w(this))return g;for(var m=0;m<r;m++)if(a[m]===d)return g}}}},{"../internals/classof-raw":98,"../internals/function-uncurry-this":142,"../internals/is-array":161,"../internals/is-callable":162,
"../internals/to-string":228}],147:[function(h,K,C){var w=h("../internals/a-callable"),k=h("../internals/is-null-or-undefined");K.exports=function(u,E){u=u[E];return k(u)?void 0:w(u)}},{"../internals/a-callable":80,"../internals/is-null-or-undefined":165}],148:[function(h,K,C){(function(w){(function(){var k=function(u){return u&&u.Math===Math&&u};K.exports=k("object"==typeof globalThis&&globalThis)||k("object"==typeof window&&window)||k("object"==typeof self&&self)||k("object"==typeof w&&w)||function(){return this}()||
this||Function("return this")()}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],149:[function(h,K,C){C=h("../internals/function-uncurry-this");var w=h("../internals/to-object"),k=C({}.hasOwnProperty);K.exports=Object.hasOwn||function(u,E){return k(w(u),E)}},{"../internals/function-uncurry-this":142,"../internals/to-object":224}],150:[function(h,K,C){K.exports={}},{}],151:[function(h,K,C){K.exports=function(w,k){try{1===
arguments.length?console.error(w):console.error(w,k)}catch(u){}}},{}],152:[function(h,K,C){h=h("../internals/get-built-in");K.exports=h("document","documentElement")},{"../internals/get-built-in":143}],153:[function(h,K,C){C=h("../internals/descriptors");var w=h("../internals/fails"),k=h("../internals/document-create-element");K.exports=!C&&!w(function(){return 7!==Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":113,"../internals/document-create-element":115,
"../internals/fails":133}],154:[function(h,K,C){C=h("../internals/function-uncurry-this");var w=h("../internals/fails"),k=h("../internals/classof-raw"),u=Object,E=C("".split);K.exports=w(function(){return!u("z").propertyIsEnumerable(0)})?function(c){return"String"===k(c)?E(c,""):u(c)}:u},{"../internals/classof-raw":98,"../internals/fails":133,"../internals/function-uncurry-this":142}],155:[function(h,K,C){var w=h("../internals/is-callable"),k=h("../internals/is-object"),u=h("../internals/object-set-prototype-of");
K.exports=function(E,c,e){var v,a;u&&w(v=c.constructor)&&v!==e&&k(a=v.prototype)&&a!==e.prototype&&u(E,a);return E}},{"../internals/is-callable":162,"../internals/is-object":166,"../internals/object-set-prototype-of":196}],156:[function(h,K,C){C=h("../internals/function-uncurry-this");var w=h("../internals/is-callable");h=h("../internals/shared-store");var k=C(Function.toString);w(h.inspectSource)||(h.inspectSource=function(u){return k(u)});K.exports=h.inspectSource},{"../internals/function-uncurry-this":142,
"../internals/is-callable":162,"../internals/shared-store":211}],157:[function(h,K,C){var w=h("../internals/is-object"),k=h("../internals/create-non-enumerable-property");K.exports=function(u,E){w(E)&&"cause"in E&&k(u,"cause",E.cause)}},{"../internals/create-non-enumerable-property":106,"../internals/is-object":166}],158:[function(h,K,C){var w=h("../internals/export"),k=h("../internals/function-uncurry-this");C=h("../internals/hidden-keys");var u=h("../internals/is-object"),E=h("../internals/has-own-property"),
c=h("../internals/object-define-property").f,e=h("../internals/object-get-own-property-names"),v=h("../internals/object-get-own-property-names-external"),a=h("../internals/object-is-extensible"),l=h("../internals/uid"),q=h("../internals/freezing"),r=!1,b=l("meta"),d=0,g=function(f){c(f,b,{value:{objectID:"O"+d++,weakData:{}}})},m=K.exports={enable:function(){m.enable=function(){};r=!0;var f=e.f,n=k([].splice),t={};t[b]=1;f(t).length&&(e.f=function(y){y=f(y);for(var B=0,z=y.length;B<z;B++)if(y[B]===
b){n(y,B,1);break}return y},w({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:v.f}))},fastKey:function(f,n){if(!u(f))return"symbol"==typeof f?f:("string"==typeof f?"S":"P")+f;if(!E(f,b)){if(!a(f))return"F";if(!n)return"E";g(f)}return f[b].objectID},getWeakData:function(f,n){if(!E(f,b)){if(!a(f))return!0;if(!n)return!1;g(f)}return f[b].weakData},onFreeze:function(f){q&&r&&a(f)&&!E(f,b)&&g(f);return f}};C[b]=!0},{"../internals/export":132,"../internals/freezing":134,"../internals/function-uncurry-this":142,
"../internals/has-own-property":149,"../internals/hidden-keys":150,"../internals/is-object":166,"../internals/object-define-property":185,"../internals/object-get-own-property-names":188,"../internals/object-get-own-property-names-external":187,"../internals/object-is-extensible":191,"../internals/uid":231}],159:[function(h,K,C){C=h("../internals/weak-map-basic-detection");var w=h("../internals/global"),k=h("../internals/is-object"),u=h("../internals/create-non-enumerable-property"),E=h("../internals/has-own-property"),
c=h("../internals/shared-store"),e=h("../internals/shared-key");h=h("../internals/hidden-keys");var v=w.TypeError;w=w.WeakMap;if(C||c.state){var a=c.state||(c.state=new w);a.get=a.get;a.has=a.has;a.set=a.set;var l=function(d,g){if(a.has(d))throw new v("Object already initialized");g.facade=d;a.set(d,g);return g};var q=function(d){return a.get(d)||{}};var r=function(d){return a.has(d)}}else{var b=e("state");h[b]=!0;l=function(d,g){if(E(d,b))throw new v("Object already initialized");g.facade=d;u(d,
b,g);return g};q=function(d){return E(d,b)?d[b]:{}};r=function(d){return E(d,b)}}K.exports={set:l,get:q,has:r,enforce:function(d){return r(d)?q(d):l(d,{})},getterFor:function(d){return function(g){var m;if(!k(g)||(m=q(g)).type!==d)throw new v("Incompatible receiver, "+d+" required");return m}}}},{"../internals/create-non-enumerable-property":106,"../internals/global":148,"../internals/has-own-property":149,"../internals/hidden-keys":150,"../internals/is-object":166,"../internals/shared-key":210,"../internals/shared-store":211,
"../internals/weak-map-basic-detection":235}],160:[function(h,K,C){C=h("../internals/well-known-symbol");var w=h("../internals/iterators"),k=C("iterator"),u=Array.prototype;K.exports=function(E){return void 0!==E&&(w.Array===E||u[k]===E)}},{"../internals/iterators":175,"../internals/well-known-symbol":238}],161:[function(h,K,C){var w=h("../internals/classof-raw");K.exports=Array.isArray||function(k){return"Array"===w(k)}},{"../internals/classof-raw":98}],162:[function(h,K,C){h=h("../internals/document-all");
var w=h.all;K.exports=h.IS_HTMLDDA?function(k){return"function"==typeof k||k===w}:function(k){return"function"==typeof k}},{"../internals/document-all":114}],163:[function(h,K,C){var w=h("../internals/function-uncurry-this");C=h("../internals/fails");var k=h("../internals/is-callable"),u=h("../internals/classof"),E=h("../internals/get-built-in"),c=h("../internals/inspect-source"),e=function(){},v=[],a=E("Reflect","construct"),l=/^\s*(?:class|function)\b/,q=w(l.exec),r=!l.test(e),b=function(d){if(!k(d))return!1;
try{return a(e,v,d),!0}catch(g){return!1}};h=function(d){if(!k(d))return!1;switch(u(d)){case "AsyncFunction":case "GeneratorFunction":case "AsyncGeneratorFunction":return!1}try{return r||!!q(l,c(d))}catch(g){return!0}};h.sham=!0;K.exports=!a||C(function(){var d;return b(b.call)||!b(Object)||!b(function(){d=!0})||d})?h:b},{"../internals/classof":99,"../internals/fails":133,"../internals/function-uncurry-this":142,"../internals/get-built-in":143,"../internals/inspect-source":156,"../internals/is-callable":162}],
164:[function(h,K,C){var w=h("../internals/fails"),k=h("../internals/is-callable"),u=/#|\.prototype\./;h=function(a,l){a=c[E(a)];return a===v?!0:a===e?!1:k(l)?w(l):!!l};var E=h.normalize=function(a){return String(a).replace(u,".").toLowerCase()},c=h.data={},e=h.NATIVE="N",v=h.POLYFILL="P";K.exports=h},{"../internals/fails":133,"../internals/is-callable":162}],165:[function(h,K,C){K.exports=function(w){return null===w||void 0===w}},{}],166:[function(h,K,C){var w=h("../internals/is-callable");h=h("../internals/document-all");
var k=h.all;K.exports=h.IS_HTMLDDA?function(u){return"object"==typeof u?null!==u:w(u)||u===k}:function(u){return"object"==typeof u?null!==u:w(u)}},{"../internals/document-all":114,"../internals/is-callable":162}],167:[function(h,K,C){K.exports=!1},{}],168:[function(h,K,C){var w=h("../internals/is-object"),k=h("../internals/classof-raw"),u=h("../internals/well-known-symbol")("match");K.exports=function(E){var c;return w(E)&&(void 0!==(c=E[u])?!!c:"RegExp"===k(E))}},{"../internals/classof-raw":98,"../internals/is-object":166,
"../internals/well-known-symbol":238}],169:[function(h,K,C){var w=h("../internals/get-built-in"),k=h("../internals/is-callable"),u=h("../internals/object-is-prototype-of");h=h("../internals/use-symbol-as-uid");var E=Object;K.exports=h?function(c){return"symbol"==typeof c}:function(c){var e=w("Symbol");return k(e)&&u(e.prototype,E(c))}},{"../internals/get-built-in":143,"../internals/is-callable":162,"../internals/object-is-prototype-of":192,"../internals/use-symbol-as-uid":232}],170:[function(h,K,
C){var w=h("../internals/function-bind-context"),k=h("../internals/function-call"),u=h("../internals/an-object"),E=h("../internals/try-to-string"),c=h("../internals/is-array-iterator-method"),e=h("../internals/length-of-array-like"),v=h("../internals/object-is-prototype-of"),a=h("../internals/get-iterator"),l=h("../internals/get-iterator-method"),q=h("../internals/iterator-close"),r=TypeError,b=function(g,m){this.stopped=g;this.result=m},d=b.prototype;K.exports=function(g,m,f){var n=!(!f||!f.AS_ENTRIES),
t=!(!f||!f.IS_RECORD),y=!(!f||!f.IS_ITERATOR),B=!(!f||!f.INTERRUPTED),z=w(m,f&&f.that),H,N=function(F){x&&q(x,"normal",F);return new b(!0,F)};m=function(F){return n?(u(F),B?z(F[0],F[1],N):z(F[0],F[1])):B?z(F,N):z(F)};if(t)var x=g.iterator;else if(y)x=g;else{y=l(g);if(!y)throw new r(E(g)+" is not iterable");if(c(y)){t=0;for(y=e(g);y>t;t++)if((H=m(g[t]))&&v(d,H))return H;return new b(!1)}x=a(g,y)}for(g=t?g.next:x.next;!(t=k(g,x)).done;){try{H=m(t.value)}catch(F){q(x,"throw",F)}if("object"==typeof H&&
H&&v(d,H))return H}return new b(!1)}},{"../internals/an-object":85,"../internals/function-bind-context":136,"../internals/function-call":138,"../internals/get-iterator":145,"../internals/get-iterator-method":144,"../internals/is-array-iterator-method":160,"../internals/iterator-close":171,"../internals/length-of-array-like":176,"../internals/object-is-prototype-of":192,"../internals/try-to-string":229}],171:[function(h,K,C){var w=h("../internals/function-call"),k=h("../internals/an-object"),u=h("../internals/get-method");
K.exports=function(E,c,e){k(E);try{var v=u(E,"return");if(!v){if("throw"===c)throw e;return e}v=w(v,E)}catch(l){var a=!0;v=l}if("throw"===c)throw e;if(a)throw v;k(v);return e}},{"../internals/an-object":85,"../internals/function-call":138,"../internals/get-method":147}],172:[function(h,K,C){var w=h("../internals/iterators-core").IteratorPrototype,k=h("../internals/object-create"),u=h("../internals/create-property-descriptor"),E=h("../internals/set-to-string-tag"),c=h("../internals/iterators"),e=function(){return this};
K.exports=function(v,a,l,q){a+=" Iterator";v.prototype=k(w,{next:u(+!q,l)});E(v,a,!1,!0);c[a]=e;return v}},{"../internals/create-property-descriptor":107,"../internals/iterators":175,"../internals/iterators-core":174,"../internals/object-create":183,"../internals/set-to-string-tag":209}],173:[function(h,K,C){var w=h("../internals/export"),k=h("../internals/function-call"),u=h("../internals/is-pure");C=h("../internals/function-name");var E=h("../internals/is-callable"),c=h("../internals/iterator-create-constructor"),
e=h("../internals/object-get-prototype-of"),v=h("../internals/object-set-prototype-of"),a=h("../internals/set-to-string-tag"),l=h("../internals/create-non-enumerable-property"),q=h("../internals/define-built-in"),r=h("../internals/well-known-symbol"),b=h("../internals/iterators");h=h("../internals/iterators-core");var d=C.PROPER,g=C.CONFIGURABLE,m=h.IteratorPrototype,f=h.BUGGY_SAFARI_ITERATORS,n=r("iterator"),t=function(){return this};K.exports=function(y,B,z,H,N,x,F){c(z,B,H);H=function(Q){if(Q===
N&&ha)return ha;if(!f&&Q&&Q in M)return M[Q];switch(Q){case "keys":return function(){return new z(this,Q)};case "values":return function(){return new z(this,Q)};case "entries":return function(){return new z(this,Q)}}return function(){return new z(this)}};var G=B+" Iterator",I=!1,M=y.prototype,R=M[n]||M["@@iterator"]||N&&M[N],ha=!f&&R||H(N),ca="Array"===B?M.entries||R:R,sa;ca&&(y=e(ca.call(new y)),y!==Object.prototype&&y.next&&(u||e(y)===m||(v?v(y,m):E(y[n])||q(y,n,t)),a(y,G,!0,!0),u&&(b[G]=t)));d&&
"values"===N&&R&&"values"!==R.name&&(!u&&g?l(M,"name","values"):(I=!0,ha=function(){return k(R,this)}));if(N){var na={values:H("values"),keys:x?ha:H("keys"),entries:H("entries")};if(F)for(sa in na)!f&&!I&&sa in M||q(M,sa,na[sa]);else w({target:B,proto:!0,forced:f||I},na)}u&&!F||M[n]===ha||q(M,n,ha,{name:N});b[B]=ha;return na}},{"../internals/create-non-enumerable-property":106,"../internals/define-built-in":110,"../internals/export":132,"../internals/function-call":138,"../internals/function-name":139,
"../internals/is-callable":162,"../internals/is-pure":167,"../internals/iterator-create-constructor":172,"../internals/iterators":175,"../internals/iterators-core":174,"../internals/object-get-prototype-of":190,"../internals/object-set-prototype-of":196,"../internals/set-to-string-tag":209,"../internals/well-known-symbol":238}],174:[function(h,K,C){C=h("../internals/fails");var w=h("../internals/is-callable"),k=h("../internals/is-object"),u=h("../internals/object-create"),E=h("../internals/object-get-prototype-of"),
c=h("../internals/define-built-in"),e=h("../internals/well-known-symbol");h=h("../internals/is-pure");var v=e("iterator");e=!1;var a;if([].keys){var l=[].keys();"next"in l?(E=E(E(l)),E!==Object.prototype&&(a=E)):e=!0}!k(a)||C(function(){var q={};return a[v].call(q)!==q})?a={}:h&&(a=u(a));w(a[v])||c(a,v,function(){return this});K.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:e}},{"../internals/define-built-in":110,"../internals/fails":133,"../internals/is-callable":162,"../internals/is-object":166,
"../internals/is-pure":167,"../internals/object-create":183,"../internals/object-get-prototype-of":190,"../internals/well-known-symbol":238}],175:[function(h,K,C){arguments[4][150][0].apply(C,arguments)},{dup:150}],176:[function(h,K,C){var w=h("../internals/to-length");K.exports=function(k){return w(k.length)}},{"../internals/to-length":223}],177:[function(h,K,C){C=h("../internals/function-uncurry-this");var w=h("../internals/fails"),k=h("../internals/is-callable"),u=h("../internals/has-own-property"),
E=h("../internals/descriptors"),c=h("../internals/function-name").CONFIGURABLE,e=h("../internals/inspect-source");h=h("../internals/internal-state");var v=h.enforce,a=h.get,l=String,q=Object.defineProperty,r=C("".slice),b=C("".replace),d=C([].join),g=E&&!w(function(){return 8!==q(function(){},"length",{value:8}).length}),m=String(String).split("String");K=K.exports=function(f,n,t){"Symbol("===r(l(n),0,7)&&(n="["+b(l(n),/^Symbol\(([^)]*)\)/,"$1")+"]");t&&t.getter&&(n="get "+n);t&&t.setter&&(n="set "+
n);if(!u(f,"name")||c&&f.name!==n)E?q(f,"name",{value:n,configurable:!0}):f.name=n;g&&t&&u(t,"arity")&&f.length!==t.arity&&q(f,"length",{value:t.arity});try{t&&u(t,"constructor")&&t.constructor?E&&q(f,"prototype",{writable:!1}):f.prototype&&(f.prototype=void 0)}catch(y){}t=v(f);u(t,"source")||(t.source=d(m,"string"==typeof n?n:""));return f};Function.prototype.toString=K(function(){return k(this)&&a(this).source||e(this)},"toString")},{"../internals/descriptors":113,"../internals/fails":133,"../internals/function-name":139,
"../internals/function-uncurry-this":142,"../internals/has-own-property":149,"../internals/inspect-source":156,"../internals/internal-state":159,"../internals/is-callable":162}],178:[function(h,K,C){var w=Math.ceil,k=Math.floor;K.exports=Math.trunc||function(u){u=+u;return(0<u?k:w)(u)}},{}],179:[function(h,K,C){var w=h("../internals/global");C=h("../internals/function-bind-context");var k=h("../internals/object-get-own-property-descriptor").f,u=h("../internals/task").set,E=h("../internals/queue"),
c=h("../internals/engine-is-ios"),e=h("../internals/engine-is-ios-pebble"),v=h("../internals/engine-is-webos-webkit"),a=h("../internals/engine-is-node"),l=w.MutationObserver||w.WebKitMutationObserver,q=w.document,r=w.process;h=w.Promise;k=(k=k(w,"queueMicrotask"))&&k.value;if(!k){var b=new E,d=function(){var t,y;for(a&&(t=r.domain)&&t.exit();y=b.get();)try{y()}catch(B){throw b.head&&m(),B;}t&&t.enter()};if(c||a||v||!l||!q)if(!e&&h&&h.resolve){w=h.resolve(void 0);w.constructor=h;var g=C(w.then,w);
var m=function(){g(d)}}else a?m=function(){r.nextTick(d)}:(u=C(u,w),m=function(){u(d)});else{var f=!0;var n=q.createTextNode("");(new l(d)).observe(n,{characterData:!0});m=function(){n.data=f=!f}}k=function(t){b.head||m();b.add(t)}}K.exports=k},{"../internals/engine-is-ios":122,"../internals/engine-is-ios-pebble":121,"../internals/engine-is-node":123,"../internals/engine-is-webos-webkit":124,"../internals/function-bind-context":136,"../internals/global":148,"../internals/object-get-own-property-descriptor":186,
"../internals/queue":206,"../internals/task":218}],180:[function(h,K,C){var w=h("../internals/a-callable"),k=TypeError,u=function(E){var c,e;this.promise=new E(function(v,a){if(void 0!==c||void 0!==e)throw new k("Bad Promise constructor");c=v;e=a});this.resolve=w(c);this.reject=w(e)};K.exports.f=function(E){return new u(E)}},{"../internals/a-callable":80}],181:[function(h,K,C){var w=h("../internals/to-string");K.exports=function(k,u){return void 0===k?2>arguments.length?"":u:w(k)}},{"../internals/to-string":228}],
182:[function(h,K,C){var w=h("../internals/is-regexp"),k=TypeError;K.exports=function(u){if(w(u))throw new k("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":168}],183:[function(h,K,C){var w=h("../internals/an-object"),k=h("../internals/object-define-properties"),u=h("../internals/enum-bug-keys");C=h("../internals/hidden-keys");var E=h("../internals/html"),c=h("../internals/document-create-element"),e=h("../internals/shared-key")("IE_PROTO"),v=function(){},a=function(r){r.write("<script>\x3c/script>");
r.close();return r.parentWindow.Object},l,q=function(){try{l=new ActiveXObject("htmlfile")}catch(b){}if("undefined"!=typeof document)if(document.domain&&l)var r=a(l);else r=c("iframe"),r.style.display="none",E.appendChild(r),r.src="javascript:",r=r.contentWindow.document,r.open(),r.write("<script>document.F=Object\x3c/script>"),r.close(),r=r.F;else r=a(l);q=r;for(r=u.length;r--;)delete q.prototype[u[r]];return q()};C[e]=!0;K.exports=Object.create||function(r,b){if(null!==r){v.prototype=w(r);var d=
new v;v.prototype=null;d[e]=r}else d=q();return void 0===b?d:k.f(d,b)}},{"../internals/an-object":85,"../internals/document-create-element":115,"../internals/enum-bug-keys":128,"../internals/hidden-keys":150,"../internals/html":152,"../internals/object-define-properties":184,"../internals/shared-key":210}],184:[function(h,K,C){K=h("../internals/descriptors");var w=h("../internals/v8-prototype-define-bug"),k=h("../internals/object-define-property"),u=h("../internals/an-object"),E=h("../internals/to-indexed-object"),
c=h("../internals/object-keys");C.f=K&&!w?Object.defineProperties:function(e,v){u(e);var a=E(v);v=c(v);for(var l=v.length,q=0,r;l>q;)k.f(e,r=v[q++],a[r]);return e}},{"../internals/an-object":85,"../internals/descriptors":113,"../internals/object-define-property":185,"../internals/object-keys":194,"../internals/to-indexed-object":221,"../internals/v8-prototype-define-bug":233}],185:[function(h,K,C){K=h("../internals/descriptors");var w=h("../internals/ie8-dom-define"),k=h("../internals/v8-prototype-define-bug"),
u=h("../internals/an-object"),E=h("../internals/to-property-key"),c=TypeError,e=Object.defineProperty,v=Object.getOwnPropertyDescriptor;C.f=K?k?function(a,l,q){u(a);l=E(l);u(q);if("function"===typeof a&&"prototype"===l&&"value"in q&&"writable"in q&&!q.writable){var r=v(a,l);r&&r.writable&&(a[l]=q.value,q={configurable:"configurable"in q?q.configurable:r.configurable,enumerable:"enumerable"in q?q.enumerable:r.enumerable,writable:!1})}return e(a,l,q)}:e:function(a,l,q){u(a);l=E(l);u(q);if(w)try{return e(a,
l,q)}catch(r){}if("get"in q||"set"in q)throw new c("Accessors not supported");"value"in q&&(a[l]=q.value);return a}},{"../internals/an-object":85,"../internals/descriptors":113,"../internals/ie8-dom-define":153,"../internals/to-property-key":226,"../internals/v8-prototype-define-bug":233}],186:[function(h,K,C){K=h("../internals/descriptors");var w=h("../internals/function-call"),k=h("../internals/object-property-is-enumerable"),u=h("../internals/create-property-descriptor"),E=h("../internals/to-indexed-object"),
c=h("../internals/to-property-key"),e=h("../internals/has-own-property"),v=h("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;C.f=K?a:function(l,q){l=E(l);q=c(q);if(v)try{return a(l,q)}catch(r){}if(e(l,q))return u(!w(k.f,l,q),l[q])}},{"../internals/create-property-descriptor":107,"../internals/descriptors":113,"../internals/function-call":138,"../internals/has-own-property":149,"../internals/ie8-dom-define":153,"../internals/object-property-is-enumerable":195,"../internals/to-indexed-object":221,
"../internals/to-property-key":226}],187:[function(h,K,C){var w=h("../internals/classof-raw"),k=h("../internals/to-indexed-object"),u=h("../internals/object-get-own-property-names").f,E=h("../internals/array-slice-simple"),c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];K.exports.f=function(e){if(c&&"Window"===w(e))try{var v=u(e)}catch(a){v=E(c)}else v=u(k(e));return v}},{"../internals/array-slice-simple":93,"../internals/classof-raw":98,"../internals/object-get-own-property-names":188,
"../internals/to-indexed-object":221}],188:[function(h,K,C){var w=h("../internals/object-keys-internal"),k=h("../internals/enum-bug-keys").concat("length","prototype");C.f=Object.getOwnPropertyNames||function(u){return w(u,k)}},{"../internals/enum-bug-keys":128,"../internals/object-keys-internal":193}],189:[function(h,K,C){C.f=Object.getOwnPropertySymbols},{}],190:[function(h,K,C){var w=h("../internals/has-own-property"),k=h("../internals/is-callable"),u=h("../internals/to-object");C=h("../internals/shared-key");
h=h("../internals/correct-prototype-getter");var E=C("IE_PROTO"),c=Object,e=c.prototype;K.exports=h?c.getPrototypeOf:function(v){v=u(v);if(w(v,E))return v[E];var a=v.constructor;return k(a)&&v instanceof a?a.prototype:v instanceof c?e:null}},{"../internals/correct-prototype-getter":104,"../internals/has-own-property":149,"../internals/is-callable":162,"../internals/shared-key":210,"../internals/to-object":224}],191:[function(h,K,C){C=h("../internals/fails");var w=h("../internals/is-object"),k=h("../internals/classof-raw"),
u=h("../internals/array-buffer-non-extensible"),E=Object.isExtensible;h=C(function(){E(1)});K.exports=h||u?function(c){return!w(c)||u&&"ArrayBuffer"===k(c)?!1:E?E(c):!0}:E},{"../internals/array-buffer-non-extensible":87,"../internals/classof-raw":98,"../internals/fails":133,"../internals/is-object":166}],192:[function(h,K,C){h=h("../internals/function-uncurry-this");K.exports=h({}.isPrototypeOf)},{"../internals/function-uncurry-this":142}],193:[function(h,K,C){C=h("../internals/function-uncurry-this");
var w=h("../internals/has-own-property"),k=h("../internals/to-indexed-object"),u=h("../internals/array-includes").indexOf,E=h("../internals/hidden-keys"),c=C([].push);K.exports=function(e,v){e=k(e);var a=0,l=[],q;for(q in e)!w(E,q)&&w(e,q)&&c(l,q);for(;v.length>a;)w(e,q=v[a++])&&(~u(l,q)||c(l,q));return l}},{"../internals/array-includes":90,"../internals/function-uncurry-this":142,"../internals/has-own-property":149,"../internals/hidden-keys":150,"../internals/to-indexed-object":221}],194:[function(h,
K,C){var w=h("../internals/object-keys-internal"),k=h("../internals/enum-bug-keys");K.exports=Object.keys||function(u){return w(u,k)}},{"../internals/enum-bug-keys":128,"../internals/object-keys-internal":193}],195:[function(h,K,C){h={}.propertyIsEnumerable;var w=Object.getOwnPropertyDescriptor;K=w&&!h.call({1:2},1);C.f=K?function(k){k=w(this,k);return!!k&&k.enumerable}:h},{}],196:[function(h,K,C){var w=h("../internals/function-uncurry-this-accessor"),k=h("../internals/an-object"),u=h("../internals/a-possible-prototype");
K.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var E=!1,c={};try{var e=w(Object.prototype,"__proto__","set");e(c,[]);E=c instanceof Array}catch(v){}return function(v,a){k(v);u(a);E?e(v,a):v.__proto__=a;return v}}():void 0)},{"../internals/a-possible-prototype":82,"../internals/an-object":85,"../internals/function-uncurry-this-accessor":140}],197:[function(h,K,C){C=h("../internals/to-string-tag-support");var w=h("../internals/classof");K.exports=C?{}.toString:function(){return"[object "+
w(this)+"]"}},{"../internals/classof":99,"../internals/to-string-tag-support":227}],198:[function(h,K,C){var w=h("../internals/function-call"),k=h("../internals/is-callable"),u=h("../internals/is-object"),E=TypeError;K.exports=function(c,e){var v,a;if("string"===e&&k(v=c.toString)&&!u(a=w(v,c))||k(v=c.valueOf)&&!u(a=w(v,c))||"string"!==e&&k(v=c.toString)&&!u(a=w(v,c)))return a;throw new E("Can't convert object to primitive value");}},{"../internals/function-call":138,"../internals/is-callable":162,
"../internals/is-object":166}],199:[function(h,K,C){C=h("../internals/get-built-in");var w=h("../internals/function-uncurry-this"),k=h("../internals/object-get-own-property-names"),u=h("../internals/object-get-own-property-symbols"),E=h("../internals/an-object"),c=w([].concat);K.exports=C("Reflect","ownKeys")||function(e){var v=k.f(E(e)),a=u.f;return a?c(v,a(e)):v}},{"../internals/an-object":85,"../internals/function-uncurry-this":142,"../internals/get-built-in":143,"../internals/object-get-own-property-names":188,
"../internals/object-get-own-property-symbols":189}],200:[function(h,K,C){h=h("../internals/global");K.exports=h},{"../internals/global":148}],201:[function(h,K,C){K.exports=function(w){try{return{error:!1,value:w()}}catch(k){return{error:!0,value:k}}}},{}],202:[function(h,K,C){C=h("../internals/global");var w=h("../internals/promise-native-constructor"),k=h("../internals/is-callable"),u=h("../internals/is-forced"),E=h("../internals/inspect-source"),c=h("../internals/well-known-symbol"),e=h("../internals/engine-is-browser"),
v=h("../internals/engine-is-deno"),a=h("../internals/is-pure"),l=h("../internals/engine-v8-version"),q=w&&w.prototype,r=c("species"),b=!1,d=k(C.PromiseRejectionEvent);h=u("Promise",function(){var g=E(w),m=g!==String(w);if(!m&&66===l||a&&(!q["catch"]||!q["finally"]))return!0;if(!l||51>l||!/native code/.test(g)){g=new w(function(n){n(1)});var f=function(n){n(function(){},function(){})};(g.constructor={})[r]=f;b=g.then(function(){})instanceof f;if(!b)return!0}return!m&&(e||v)&&!d});K.exports={CONSTRUCTOR:h,
REJECTION_EVENT:d,SUBCLASSING:b}},{"../internals/engine-is-browser":119,"../internals/engine-is-deno":120,"../internals/engine-v8-version":126,"../internals/global":148,"../internals/inspect-source":156,"../internals/is-callable":162,"../internals/is-forced":164,"../internals/is-pure":167,"../internals/promise-native-constructor":203,"../internals/well-known-symbol":238}],203:[function(h,K,C){h=h("../internals/global");K.exports=h.Promise},{"../internals/global":148}],204:[function(h,K,C){var w=h("../internals/an-object"),
k=h("../internals/is-object"),u=h("../internals/new-promise-capability");K.exports=function(E,c){w(E);if(k(c)&&c.constructor===E)return c;E=u.f(E);var e=E.resolve;e(c);return E.promise}},{"../internals/an-object":85,"../internals/is-object":166,"../internals/new-promise-capability":180}],205:[function(h,K,C){var w=h("../internals/promise-native-constructor");C=h("../internals/check-correctness-of-iteration");h=h("../internals/promise-constructor-detection").CONSTRUCTOR;K.exports=h||!C(function(k){w.all(k).then(void 0,
function(){})})},{"../internals/check-correctness-of-iteration":97,"../internals/promise-constructor-detection":202,"../internals/promise-native-constructor":203}],206:[function(h,K,C){h=function(){this.tail=this.head=null};h.prototype={add:function(w){w={item:w,next:null};var k=this.tail;k?k.next=w:this.head=w;this.tail=w},get:function(){var w=this.head;if(w)return null===(this.head=w.next)&&(this.tail=null),w.item}};K.exports=h},{}],207:[function(h,K,C){var w=h("../internals/is-null-or-undefined"),
k=TypeError;K.exports=function(u){if(w(u))throw new k("Can't call method on "+u);return u}},{"../internals/is-null-or-undefined":165}],208:[function(h,K,C){var w=h("../internals/get-built-in"),k=h("../internals/define-built-in-accessor");C=h("../internals/well-known-symbol");var u=h("../internals/descriptors"),E=C("species");K.exports=function(c){c=w(c);u&&c&&!c[E]&&k(c,E,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":109,"../internals/descriptors":113,"../internals/get-built-in":143,
"../internals/well-known-symbol":238}],209:[function(h,K,C){var w=h("../internals/object-define-property").f,k=h("../internals/has-own-property"),u=h("../internals/well-known-symbol")("toStringTag");K.exports=function(E,c,e){E&&!e&&(E=E.prototype);E&&!k(E,u)&&w(E,u,{configurable:!0,value:c})}},{"../internals/has-own-property":149,"../internals/object-define-property":185,"../internals/well-known-symbol":238}],210:[function(h,K,C){C=h("../internals/shared");var w=h("../internals/uid"),k=C("keys");
K.exports=function(u){return k[u]||(k[u]=w(u))}},{"../internals/shared":212,"../internals/uid":231}],211:[function(h,K,C){C=h("../internals/global");h=h("../internals/define-global-property");h=C["__core-js_shared__"]||h("__core-js_shared__",{});K.exports=h},{"../internals/define-global-property":112,"../internals/global":148}],212:[function(h,K,C){C=h("../internals/is-pure");var w=h("../internals/shared-store");(K.exports=function(k,u){return w[k]||(w[k]=void 0!==u?u:{})})("versions",[]).push({version:"3.33.2",
mode:C?"pure":"global",copyright:"\u00a9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":167,"../internals/shared-store":211}],213:[function(h,K,C){var w=h("../internals/an-object"),k=h("../internals/a-constructor"),u=h("../internals/is-null-or-undefined"),E=h("../internals/well-known-symbol")("species");K.exports=function(c,e){c=w(c).constructor;var v;return void 0===
c||u(v=w(c)[E])?e:k(v)}},{"../internals/a-constructor":81,"../internals/an-object":85,"../internals/is-null-or-undefined":165,"../internals/well-known-symbol":238}],214:[function(h,K,C){C=h("../internals/function-uncurry-this");var w=h("../internals/to-integer-or-infinity"),k=h("../internals/to-string"),u=h("../internals/require-object-coercible"),E=C("".charAt),c=C("".charCodeAt),e=C("".slice);h=function(v){return function(a,l){a=k(u(a));l=w(l);var q=a.length,r;if(0>l||l>=q)return v?"":void 0;var b=
c(a,l);return 55296>b||56319<b||l+1===q||56320>(r=c(a,l+1))||57343<r?v?E(a,l):b:v?e(a,l,l+2):(b-55296<<10)+(r-56320)+65536}};K.exports={codeAt:h(!1),charAt:h(!0)}},{"../internals/function-uncurry-this":142,"../internals/require-object-coercible":207,"../internals/to-integer-or-infinity":222,"../internals/to-string":228}],215:[function(h,K,C){var w=h("../internals/engine-v8-version");C=h("../internals/fails");var k=h("../internals/global").String;K.exports=!!Object.getOwnPropertySymbols&&!C(function(){var u=
Symbol("symbol detection");return!k(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&w&&41>w})},{"../internals/engine-v8-version":126,"../internals/fails":133,"../internals/global":148}],216:[function(h,K,C){var w=h("../internals/function-call"),k=h("../internals/get-built-in"),u=h("../internals/well-known-symbol"),E=h("../internals/define-built-in");K.exports=function(){var c=k("Symbol"),e=(c=c&&c.prototype)&&c.valueOf,v=u("toPrimitive");c&&!c[v]&&E(c,v,function(a){return w(e,this)},{arity:1})}},
{"../internals/define-built-in":110,"../internals/function-call":138,"../internals/get-built-in":143,"../internals/well-known-symbol":238}],217:[function(h,K,C){h=h("../internals/symbol-constructor-detection");K.exports=h&&!!Symbol["for"]&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":215}],218:[function(h,K,C){var w=h("../internals/global"),k=h("../internals/function-apply");C=h("../internals/function-bind-context");var u=h("../internals/is-callable"),E=h("../internals/has-own-property"),
c=h("../internals/fails"),e=h("../internals/html"),v=h("../internals/array-slice"),a=h("../internals/document-create-element"),l=h("../internals/validate-arguments-length"),q=h("../internals/engine-is-ios"),r=h("../internals/engine-is-node");h=w.setImmediate;var b=w.clearImmediate,d=w.process,g=w.Dispatch,m=w.Function,f=w.MessageChannel,n=w.String,t=0,y={},B;c(function(){B=w.location});var z=function(G){if(E(y,G)){var I=y[G];delete y[G];I()}},H=function(G){return function(){z(G)}},N=function(G){z(G.data)},
x=function(G){w.postMessage(n(G),B.protocol+"//"+B.host)};if(!h||!b)if(h=function(G){l(arguments.length,1);var I=u(G)?G:m(G),M=v(arguments,1);y[++t]=function(){k(I,void 0,M)};F(t);return t},b=function(G){delete y[G]},r)var F=function(G){d.nextTick(H(G))};else g&&g.now?F=function(G){g.now(H(G))}:f&&!q?(c=new f,q=c.port2,c.port1.onmessage=N,F=C(q.postMessage,q)):w.addEventListener&&u(w.postMessage)&&!w.importScripts&&B&&"file:"!==B.protocol&&!c(x)?(F=x,w.addEventListener("message",N,!1)):F="onreadystatechange"in
a("script")?function(G){e.appendChild(a("script")).onreadystatechange=function(){e.removeChild(this);z(G)}}:function(G){setTimeout(H(G),0)};K.exports={set:h,clear:b}},{"../internals/array-slice":94,"../internals/document-create-element":115,"../internals/engine-is-ios":122,"../internals/engine-is-node":123,"../internals/fails":133,"../internals/function-apply":135,"../internals/function-bind-context":136,"../internals/global":148,"../internals/has-own-property":149,"../internals/html":152,"../internals/is-callable":162,
"../internals/validate-arguments-length":234}],219:[function(h,K,C){var w=h("../internals/to-integer-or-infinity"),k=Math.max,u=Math.min;K.exports=function(E,c){E=w(E);return 0>E?k(E+c,0):u(E,c)}},{"../internals/to-integer-or-infinity":222}],220:[function(h,K,C){var w=h("../internals/to-primitive"),k=TypeError;K.exports=function(u){u=w(u,"number");if("number"==typeof u)throw new k("Can't convert number to bigint");return BigInt(u)}},{"../internals/to-primitive":225}],221:[function(h,K,C){var w=h("../internals/indexed-object"),
k=h("../internals/require-object-coercible");K.exports=function(u){return w(k(u))}},{"../internals/indexed-object":154,"../internals/require-object-coercible":207}],222:[function(h,K,C){var w=h("../internals/math-trunc");K.exports=function(k){k=+k;return k!==k||0===k?0:w(k)}},{"../internals/math-trunc":178}],223:[function(h,K,C){var w=h("../internals/to-integer-or-infinity"),k=Math.min;K.exports=function(u){return 0<u?k(w(u),9007199254740991):0}},{"../internals/to-integer-or-infinity":222}],224:[function(h,
K,C){var w=h("../internals/require-object-coercible"),k=Object;K.exports=function(u){return k(w(u))}},{"../internals/require-object-coercible":207}],225:[function(h,K,C){var w=h("../internals/function-call"),k=h("../internals/is-object"),u=h("../internals/is-symbol"),E=h("../internals/get-method"),c=h("../internals/ordinary-to-primitive");h=h("../internals/well-known-symbol");var e=TypeError,v=h("toPrimitive");K.exports=function(a,l){if(!k(a)||u(a))return a;var q=E(a,v);if(q){void 0===l&&(l="default");
a=w(q,a,l);if(!k(a)||u(a))return a;throw new e("Can't convert object to primitive value");}void 0===l&&(l="number");return c(a,l)}},{"../internals/function-call":138,"../internals/get-method":147,"../internals/is-object":166,"../internals/is-symbol":169,"../internals/ordinary-to-primitive":198,"../internals/well-known-symbol":238}],226:[function(h,K,C){var w=h("../internals/to-primitive"),k=h("../internals/is-symbol");K.exports=function(u){u=w(u,"string");return k(u)?u:u+""}},{"../internals/is-symbol":169,
"../internals/to-primitive":225}],227:[function(h,K,C){h=h("../internals/well-known-symbol")("toStringTag");C={};C[h]="z";K.exports="[object z]"===String(C)},{"../internals/well-known-symbol":238}],228:[function(h,K,C){var w=h("../internals/classof"),k=String;K.exports=function(u){if("Symbol"===w(u))throw new TypeError("Cannot convert a Symbol value to a string");return k(u)}},{"../internals/classof":99}],229:[function(h,K,C){var w=String;K.exports=function(k){try{return w(k)}catch(u){return"Object"}}},
{}],230:[function(h,K,C){C=h("../internals/array-buffer-view-core");var w=h("../internals/species-constructor"),k=C.aTypedArrayConstructor,u=C.getTypedArrayConstructor;K.exports=function(E){return k(w(E,u(E)))}},{"../internals/array-buffer-view-core":88,"../internals/species-constructor":213}],231:[function(h,K,C){h=h("../internals/function-uncurry-this");var w=0,k=Math.random(),u=h((1).toString);K.exports=function(E){return"Symbol("+(void 0===E?"":E)+")_"+u(++w+k,36)}},{"../internals/function-uncurry-this":142}],
232:[function(h,K,C){h=h("../internals/symbol-constructor-detection");K.exports=h&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/symbol-constructor-detection":215}],233:[function(h,K,C){C=h("../internals/descriptors");h=h("../internals/fails");K.exports=C&&h(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},{"../internals/descriptors":113,"../internals/fails":133}],234:[function(h,K,C){var w=TypeError;K.exports=function(k,u){if(k<
u)throw new w("Not enough arguments");return k}},{}],235:[function(h,K,C){C=h("../internals/global");h=h("../internals/is-callable");C=C.WeakMap;K.exports=h(C)&&/native code/.test(String(C))},{"../internals/global":148,"../internals/is-callable":162}],236:[function(h,K,C){var w=h("../internals/path"),k=h("../internals/has-own-property"),u=h("../internals/well-known-symbol-wrapped"),E=h("../internals/object-define-property").f;K.exports=function(c){var e=w.Symbol||(w.Symbol={});k(e,c)||E(e,c,{value:u.f(c)})}},
{"../internals/has-own-property":149,"../internals/object-define-property":185,"../internals/path":200,"../internals/well-known-symbol-wrapped":237}],237:[function(h,K,C){h=h("../internals/well-known-symbol");C.f=h},{"../internals/well-known-symbol":238}],238:[function(h,K,C){C=h("../internals/global");var w=h("../internals/shared"),k=h("../internals/has-own-property"),u=h("../internals/uid"),E=h("../internals/symbol-constructor-detection");h=h("../internals/use-symbol-as-uid");var c=C.Symbol,e=w("wks"),
v=h?c["for"]||c:c&&c.withoutSetter||u;K.exports=function(a){k(e,a)||(e[a]=E&&k(c,a)?c[a]:v("Symbol."+a));return e[a]}},{"../internals/global":148,"../internals/has-own-property":149,"../internals/shared":212,"../internals/symbol-constructor-detection":215,"../internals/uid":231,"../internals/use-symbol-as-uid":232}],239:[function(h,K,C){K=h("../internals/export");var w=h("../internals/object-is-prototype-of"),k=h("../internals/object-get-prototype-of"),u=h("../internals/object-set-prototype-of");
C=h("../internals/copy-constructor-properties");var E=h("../internals/object-create"),c=h("../internals/create-non-enumerable-property"),e=h("../internals/create-property-descriptor"),v=h("../internals/install-error-cause"),a=h("../internals/error-stack-install"),l=h("../internals/iterate"),q=h("../internals/normalize-string-argument"),r=h("../internals/well-known-symbol")("toStringTag"),b=Error,d=[].push,g=function(f,n){var t=w(m,this);u?t=u(new b,t?k(this):m):(t=t?this:E(m),c(t,r,"Error"));void 0!==
n&&c(t,"message",q(n));a(t,g,t.stack,1);2<arguments.length&&v(t,arguments[2]);var y=[];l(f,d,{that:y});c(t,"errors",y);return t};u?u(g,b):C(g,b,{name:!0});var m=g.prototype=E(b.prototype,{constructor:e(1,g),message:e(1,""),name:e(1,"AggregateError")});K({global:!0,constructor:!0,arity:2},{AggregateError:g})},{"../internals/copy-constructor-properties":102,"../internals/create-non-enumerable-property":106,"../internals/create-property-descriptor":107,"../internals/error-stack-install":130,"../internals/export":132,
"../internals/install-error-cause":157,"../internals/iterate":170,"../internals/normalize-string-argument":181,"../internals/object-create":183,"../internals/object-get-prototype-of":190,"../internals/object-is-prototype-of":192,"../internals/object-set-prototype-of":196,"../internals/well-known-symbol":238}],240:[function(h,K,C){h("../modules/es.aggregate-error.constructor")},{"../modules/es.aggregate-error.constructor":239}],241:[function(h,K,C){K=h("../internals/export");C=h("../internals/fails");
var w=h("../internals/is-array"),k=h("../internals/is-object"),u=h("../internals/to-object"),E=h("../internals/length-of-array-like"),c=h("../internals/does-not-exceed-safe-integer"),e=h("../internals/create-property"),v=h("../internals/array-species-create"),a=h("../internals/array-method-has-species-support"),l=h("../internals/well-known-symbol");h=h("../internals/engine-v8-version");var q=l("isConcatSpreadable");h=!(51<=h||!C(function(){var r=[];r[q]=!1;return r.concat()[0]!==r}))||!a("concat");
K({target:"Array",proto:!0,arity:1,forced:h},{concat:function(r){var b=u(this),d=v(b,0),g=0,m;var f=-1;for(m=arguments.length;f<m;f++){var n=-1===f?b:arguments[f];var t=n;if(k(t)){var y=t[q];t=void 0!==y?!!y:w(t)}else t=!1;if(t)for(y=E(n),c(g+y),t=0;t<y;t++,g++)t in n&&e(d,g,n[t]);else c(g+1),e(d,g++,n)}d.length=g;return d}})},{"../internals/array-method-has-species-support":92,"../internals/array-species-create":96,"../internals/create-property":108,"../internals/does-not-exceed-safe-integer":116,
"../internals/engine-v8-version":126,"../internals/export":132,"../internals/fails":133,"../internals/is-array":161,"../internals/is-object":166,"../internals/length-of-array-like":176,"../internals/to-object":224,"../internals/well-known-symbol":238}],242:[function(h,K,C){K=h("../internals/export");C=h("../internals/array-fill");h=h("../internals/add-to-unscopables");K({target:"Array",proto:!0},{fill:C});h("fill")},{"../internals/add-to-unscopables":83,"../internals/array-fill":89,"../internals/export":132}],
243:[function(h,K,C){var w=h("../internals/to-indexed-object");C=h("../internals/add-to-unscopables");var k=h("../internals/iterators"),u=h("../internals/internal-state"),E=h("../internals/object-define-property").f,c=h("../internals/iterator-define"),e=h("../internals/create-iter-result-object"),v=h("../internals/is-pure");h=h("../internals/descriptors");var a=u.set,l=u.getterFor("Array Iterator");K.exports=c(Array,"Array",function(q,r){a(this,{type:"Array Iterator",target:w(q),index:0,kind:r})},
function(){var q=l(this),r=q.target,b=q.index++;if(!r||b>=r.length)return q.target=void 0,e(void 0,!0);switch(q.kind){case "keys":return e(b,!1);case "values":return e(r[b],!1)}return e([b,r[b]],!1)},"values");K=k.Arguments=k.Array;C("keys");C("values");C("entries");if(!v&&h&&"values"!==K.name)try{E(K,"name",{value:"values"})}catch(q){}},{"../internals/add-to-unscopables":83,"../internals/create-iter-result-object":105,"../internals/descriptors":113,"../internals/internal-state":159,"../internals/is-pure":167,
"../internals/iterator-define":173,"../internals/iterators":175,"../internals/object-define-property":185,"../internals/to-indexed-object":221}],244:[function(h,K,C){K=h("../internals/export");var w=h("../internals/get-built-in"),k=h("../internals/function-apply"),u=h("../internals/function-call");C=h("../internals/function-uncurry-this");var E=h("../internals/fails"),c=h("../internals/is-callable"),e=h("../internals/is-symbol"),v=h("../internals/array-slice"),a=h("../internals/get-json-replacer-function");
h=h("../internals/symbol-constructor-detection");var l=String,q=w("JSON","stringify"),r=C(/./.exec),b=C("".charAt),d=C("".charCodeAt),g=C("".replace),m=C((1).toString),f=/[\uD800-\uDFFF]/g,n=/^[\uD800-\uDBFF]$/,t=/^[\uDC00-\uDFFF]$/,y=!h||E(function(){var N=w("Symbol")("stringify detection");return"[null]"!==q([N])||"{}"!==q({a:N})||"{}"!==q(Object(N))}),B=E(function(){return'"\\udf06\\ud834"'!==q("\udf06\ud834")||'"\\udead"'!==q("\udead")}),z=function(N,x){var F=v(arguments),G=a(x);if(c(G)||void 0!==
N&&!e(N))return F[1]=function(I,M){c(G)&&(M=u(G,this,l(I),M));if(!e(M))return M},k(q,null,F)},H=function(N,x,F){var G=b(F,x-1);x=b(F,x+1);return r(n,N)&&!r(t,x)||r(t,N)&&!r(n,G)?"\\u"+m(d(N,0),16):N};q&&K({target:"JSON",stat:!0,arity:3,forced:y||B},{stringify:function(N,x,F){var G=v(arguments);G=k(y?z:q,null,G);return B&&"string"==typeof G?g(G,f,H):G}})},{"../internals/array-slice":94,"../internals/export":132,"../internals/fails":133,"../internals/function-apply":135,"../internals/function-call":138,
"../internals/function-uncurry-this":142,"../internals/get-built-in":143,"../internals/get-json-replacer-function":146,"../internals/is-callable":162,"../internals/is-symbol":169,"../internals/symbol-constructor-detection":215}],245:[function(h,K,C){K=h("../internals/global");h("../internals/set-to-string-tag")(K.JSON,"JSON",!0)},{"../internals/global":148,"../internals/set-to-string-tag":209}],246:[function(h,K,C){K=h("../internals/collection");h=h("../internals/collection-strong");K("Map",function(w){return function(){return w(this,
arguments.length?arguments[0]:void 0)}},h)},{"../internals/collection":101,"../internals/collection-strong":100}],247:[function(h,K,C){h("../modules/es.map.constructor")},{"../modules/es.map.constructor":246}],248:[function(h,K,C){h("../internals/set-to-string-tag")(Math,"Math",!0)},{"../internals/set-to-string-tag":209}],249:[function(h,K,C){K=h("../internals/export");C=h("../internals/symbol-constructor-detection");var w=h("../internals/fails"),k=h("../internals/object-get-own-property-symbols"),
u=h("../internals/to-object");h=!C||w(function(){k.f(1)});K({target:"Object",stat:!0,forced:h},{getOwnPropertySymbols:function(E){var c=k.f;return c?c(u(E)):[]}})},{"../internals/export":132,"../internals/fails":133,"../internals/object-get-own-property-symbols":189,"../internals/symbol-constructor-detection":215,"../internals/to-object":224}],250:[function(h,K,C){K=h("../internals/to-string-tag-support");C=h("../internals/define-built-in");h=h("../internals/object-to-string");K||C(Object.prototype,
"toString",h,{unsafe:!0})},{"../internals/define-built-in":110,"../internals/object-to-string":197,"../internals/to-string-tag-support":227}],251:[function(h,K,C){K=h("../internals/export");var w=h("../internals/function-call"),k=h("../internals/a-callable"),u=h("../internals/new-promise-capability"),E=h("../internals/perform"),c=h("../internals/iterate");h=h("../internals/promise-statics-incorrect-iteration");K({target:"Promise",stat:!0,forced:h},{allSettled:function(e){var v=this,a=u.f(v),l=a.resolve,
q=a.reject,r=E(function(){var b=k(v.resolve),d=[],g=0,m=1;c(e,function(f){var n=g++,t=!1;m++;w(b,v,f).then(function(y){t||(t=!0,d[n]={status:"fulfilled",value:y},--m||l(d))},function(y){t||(t=!0,d[n]={status:"rejected",reason:y},--m||l(d))})});--m||l(d)});r.error&&q(r.value);return a.promise}})},{"../internals/a-callable":80,"../internals/export":132,"../internals/function-call":138,"../internals/iterate":170,"../internals/new-promise-capability":180,"../internals/perform":201,"../internals/promise-statics-incorrect-iteration":205}],
252:[function(h,K,C){K=h("../internals/export");var w=h("../internals/function-call"),k=h("../internals/a-callable"),u=h("../internals/new-promise-capability"),E=h("../internals/perform"),c=h("../internals/iterate");h=h("../internals/promise-statics-incorrect-iteration");K({target:"Promise",stat:!0,forced:h},{all:function(e){var v=this,a=u.f(v),l=a.resolve,q=a.reject,r=E(function(){var b=k(v.resolve),d=[],g=0,m=1;c(e,function(f){var n=g++,t=!1;m++;w(b,v,f).then(function(y){t||(t=!0,d[n]=y,--m||l(d))},
q)});--m||l(d)});r.error&&q(r.value);return a.promise}})},{"../internals/a-callable":80,"../internals/export":132,"../internals/function-call":138,"../internals/iterate":170,"../internals/new-promise-capability":180,"../internals/perform":201,"../internals/promise-statics-incorrect-iteration":205}],253:[function(h,K,C){K=h("../internals/export");var w=h("../internals/function-call"),k=h("../internals/a-callable"),u=h("../internals/get-built-in"),E=h("../internals/new-promise-capability"),c=h("../internals/perform"),
e=h("../internals/iterate");h=h("../internals/promise-statics-incorrect-iteration");K({target:"Promise",stat:!0,forced:h},{any:function(v){var a=this,l=u("AggregateError"),q=E.f(a),r=q.resolve,b=q.reject,d=c(function(){var g=k(a.resolve),m=[],f=0,n=1,t=!1;e(v,function(y){var B=f++,z=!1;n++;w(g,a,y).then(function(H){z||t||(t=!0,r(H))},function(H){z||t||(z=!0,m[B]=H,--n||b(new l(m,"No one promise resolved")))})});--n||b(new l(m,"No one promise resolved"))});d.error&&b(d.value);return q.promise}})},
{"../internals/a-callable":80,"../internals/export":132,"../internals/function-call":138,"../internals/get-built-in":143,"../internals/iterate":170,"../internals/new-promise-capability":180,"../internals/perform":201,"../internals/promise-statics-incorrect-iteration":205}],254:[function(h,K,C){K=h("../internals/export");C=h("../internals/is-pure");var w=h("../internals/promise-constructor-detection").CONSTRUCTOR,k=h("../internals/promise-native-constructor"),u=h("../internals/get-built-in"),E=h("../internals/is-callable");
h=h("../internals/define-built-in");var c=k&&k.prototype;K({target:"Promise",proto:!0,forced:w,real:!0},{"catch":function(e){return this.then(void 0,e)}});!C&&E(k)&&(K=u("Promise").prototype["catch"],c["catch"]!==K&&h(c,"catch",K,{unsafe:!0}))},{"../internals/define-built-in":110,"../internals/export":132,"../internals/get-built-in":143,"../internals/is-callable":162,"../internals/is-pure":167,"../internals/promise-constructor-detection":202,"../internals/promise-native-constructor":203}],255:[function(h,
K,C){K=h("../internals/export");C=h("../internals/is-pure");var w=h("../internals/engine-is-node"),k=h("../internals/global"),u=h("../internals/function-call"),E=h("../internals/define-built-in"),c=h("../internals/object-set-prototype-of"),e=h("../internals/set-to-string-tag"),v=h("../internals/set-species"),a=h("../internals/a-callable"),l=h("../internals/is-callable"),q=h("../internals/is-object"),r=h("../internals/an-instance"),b=h("../internals/species-constructor"),d=h("../internals/task").set,
g=h("../internals/microtask"),m=h("../internals/host-report-errors"),f=h("../internals/perform"),n=h("../internals/queue"),t=h("../internals/internal-state"),y=h("../internals/promise-native-constructor"),B=h("../internals/promise-constructor-detection");h=h("../internals/new-promise-capability");var z=B.CONSTRUCTOR,H=B.REJECTION_EVENT;B=B.SUBCLASSING;var N=t.getterFor("Promise"),x=t.set;t=y&&y.prototype;var F=y,G=t,I=k.TypeError,M=k.document,R=k.process,ha=h.f,ca=ha,sa=!!(M&&M.createEvent&&k.dispatchEvent),
na=function(da){var xa;return q(da)&&l(xa=da.then)?xa:!1},Q=function(da,xa){var Ha=xa.value,Xa=1===xa.state,rb=Xa?da.ok:da.fail,tb=da.resolve,Ma=da.reject,ra=da.domain,Na;try{if(rb){Xa||(2===xa.rejection&&ta(xa),xa.rejection=1);if(!0===rb)var Ja=Ha;else if(ra&&ra.enter(),Ja=rb(Ha),ra){ra.exit();var ab=!0}Ja===da.promise?Ma(new I("Promise-chain cycle")):(Na=na(Ja))?u(Na,Ja,tb,Ma):tb(Ja)}else Ma(Ha)}catch(U){ra&&!ab&&ra.exit(),Ma(U)}},oa=function(da,xa){da.notified||(da.notified=!0,g(function(){for(var Ha=
da.reactions,Xa;Xa=Ha.get();)Q(Xa,da);da.notified=!1;xa&&!da.rejection&&ya(da)}))},ia=function(da,xa,Ha){var Xa;if(sa){var rb=M.createEvent("Event");rb.promise=xa;rb.reason=Ha;rb.initEvent(da,!1,!0);k.dispatchEvent(rb)}else rb={promise:xa,reason:Ha};!H&&(Xa=k["on"+da])?Xa(rb):"unhandledrejection"===da&&m("Unhandled promise rejection",Ha)},ya=function(da){u(d,k,function(){var xa=da.facade,Ha=da.value;if(1!==da.rejection&&!da.parent){var Xa=f(function(){w?R.emit("unhandledRejection",Ha,xa):ia("unhandledrejection",
xa,Ha)});da.rejection=w||1!==da.rejection&&!da.parent?2:1;if(Xa.error)throw Xa.value;}})},ta=function(da){u(d,k,function(){var xa=da.facade;w?R.emit("rejectionHandled",xa):ia("rejectionhandled",xa,da.value)})},Ga=function(da,xa,Ha){return function(Xa){da(xa,Xa,Ha)}},qa=function(da,xa,Ha){da.done||(da.done=!0,Ha&&(da=Ha),da.value=xa,da.state=2,oa(da,!0))},Pa=function(da,xa,Ha){if(!da.done){da.done=!0;Ha&&(da=Ha);try{if(da.facade===xa)throw new I("Promise can't be resolved itself");var Xa=na(xa);Xa?
g(function(){var rb={done:!1};try{u(Xa,xa,Ga(Pa,rb,da),Ga(qa,rb,da))}catch(tb){qa(rb,tb,da)}}):(da.value=xa,da.state=1,oa(da,!1))}catch(rb){qa({done:!1},rb,da)}}};if(z){F=function(da){r(this,G);a(da);u($a,this);var xa=N(this);try{da(Ga(Pa,xa),Ga(qa,xa))}catch(Ha){qa(xa,Ha)}};G=F.prototype;var $a=function(da){x(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new n,rejection:!1,state:0,value:void 0})};$a.prototype=E(G,"then",function(da,xa){var Ha=N(this),Xa=ha(b(this,F));Ha.parent=!0;
Xa.ok=l(da)?da:!0;Xa.fail=l(xa)&&xa;Xa.domain=w?R.domain:void 0;0===Ha.state?Ha.reactions.add(Xa):g(function(){Q(Xa,Ha)});return Xa.promise});var gb=function(){var da=new $a,xa=N(da);this.promise=da;this.resolve=Ga(Pa,xa);this.reject=Ga(qa,xa)};h.f=ha=function(da){return da===F||void 0===da?new gb(da):ca(da)};if(!C&&l(y)&&t!==Object.prototype){var S=t.then;B||E(t,"then",function(da,xa){var Ha=this;return(new F(function(Xa,rb){u(S,Ha,Xa,rb)})).then(da,xa)},{unsafe:!0});try{delete t.constructor}catch(da){}c&&
c(t,G)}}K({global:!0,constructor:!0,wrap:!0,forced:z},{Promise:F});e(F,"Promise",!1,!0);v("Promise")},{"../internals/a-callable":80,"../internals/an-instance":84,"../internals/define-built-in":110,"../internals/engine-is-node":123,"../internals/export":132,"../internals/function-call":138,"../internals/global":148,"../internals/host-report-errors":151,"../internals/internal-state":159,"../internals/is-callable":162,"../internals/is-object":166,"../internals/is-pure":167,"../internals/microtask":179,
"../internals/new-promise-capability":180,"../internals/object-set-prototype-of":196,"../internals/perform":201,"../internals/promise-constructor-detection":202,"../internals/promise-native-constructor":203,"../internals/queue":206,"../internals/set-species":208,"../internals/set-to-string-tag":209,"../internals/species-constructor":213,"../internals/task":218}],256:[function(h,K,C){K=h("../internals/export");C=h("../internals/is-pure");var w=h("../internals/promise-native-constructor"),k=h("../internals/fails"),
u=h("../internals/get-built-in"),E=h("../internals/is-callable"),c=h("../internals/species-constructor"),e=h("../internals/promise-resolve");h=h("../internals/define-built-in");var v=w&&w.prototype;k=!!w&&k(function(){v["finally"].call({then:function(){}},function(){})});K({target:"Promise",proto:!0,real:!0,forced:k},{"finally":function(a){var l=c(this,u("Promise")),q=E(a);return this.then(q?function(r){return e(l,a()).then(function(){return r})}:a,q?function(r){return e(l,a()).then(function(){throw r;
})}:a)}});!C&&E(w)&&(K=u("Promise").prototype["finally"],v["finally"]!==K&&h(v,"finally",K,{unsafe:!0}))},{"../internals/define-built-in":110,"../internals/export":132,"../internals/fails":133,"../internals/get-built-in":143,"../internals/is-callable":162,"../internals/is-pure":167,"../internals/promise-native-constructor":203,"../internals/promise-resolve":204,"../internals/species-constructor":213}],257:[function(h,K,C){h("../modules/es.promise.constructor");h("../modules/es.promise.all");h("../modules/es.promise.catch");
h("../modules/es.promise.race");h("../modules/es.promise.reject");h("../modules/es.promise.resolve")},{"../modules/es.promise.all":252,"../modules/es.promise.catch":254,"../modules/es.promise.constructor":255,"../modules/es.promise.race":258,"../modules/es.promise.reject":259,"../modules/es.promise.resolve":260}],258:[function(h,K,C){K=h("../internals/export");var w=h("../internals/function-call"),k=h("../internals/a-callable"),u=h("../internals/new-promise-capability"),E=h("../internals/perform"),
c=h("../internals/iterate");h=h("../internals/promise-statics-incorrect-iteration");K({target:"Promise",stat:!0,forced:h},{race:function(e){var v=this,a=u.f(v),l=a.reject,q=E(function(){var r=k(v.resolve);c(e,function(b){w(r,v,b).then(a.resolve,l)})});q.error&&l(q.value);return a.promise}})},{"../internals/a-callable":80,"../internals/export":132,"../internals/function-call":138,"../internals/iterate":170,"../internals/new-promise-capability":180,"../internals/perform":201,"../internals/promise-statics-incorrect-iteration":205}],
259:[function(h,K,C){K=h("../internals/export");var w=h("../internals/function-call"),k=h("../internals/new-promise-capability");h=h("../internals/promise-constructor-detection").CONSTRUCTOR;K({target:"Promise",stat:!0,forced:h},{reject:function(u){var E=k.f(this);w(E.reject,void 0,u);return E.promise}})},{"../internals/export":132,"../internals/function-call":138,"../internals/new-promise-capability":180,"../internals/promise-constructor-detection":202}],260:[function(h,K,C){K=h("../internals/export");
C=h("../internals/get-built-in");var w=h("../internals/is-pure"),k=h("../internals/promise-native-constructor"),u=h("../internals/promise-constructor-detection").CONSTRUCTOR,E=h("../internals/promise-resolve"),c=C("Promise"),e=w&&!u;K({target:"Promise",stat:!0,forced:w||u},{resolve:function(v){return E(e&&this===c?k:this,v)}})},{"../internals/export":132,"../internals/get-built-in":143,"../internals/is-pure":167,"../internals/promise-constructor-detection":202,"../internals/promise-native-constructor":203,
"../internals/promise-resolve":204}],261:[function(h,K,C){K=h("../internals/export");C=h("../internals/global");h=h("../internals/set-to-string-tag");K({global:!0},{Reflect:{}});h(C.Reflect,"Reflect",!0)},{"../internals/export":132,"../internals/global":148,"../internals/set-to-string-tag":209}],262:[function(h,K,C){K=h("../internals/collection");h=h("../internals/collection-strong");K("Set",function(w){return function(){return w(this,arguments.length?arguments[0]:void 0)}},h)},{"../internals/collection":101,
"../internals/collection-strong":100}],263:[function(h,K,C){h("../modules/es.set.constructor")},{"../modules/es.set.constructor":262}],264:[function(h,K,C){K=h("../internals/export");C=h("../internals/function-uncurry-this-clause");var w=h("../internals/object-get-own-property-descriptor").f,k=h("../internals/to-length"),u=h("../internals/to-string"),E=h("../internals/not-a-regexp"),c=h("../internals/require-object-coercible"),e=h("../internals/correct-is-regexp-logic");h=h("../internals/is-pure");
var v=C("".endsWith),a=C("".slice),l=Math.min;C=e("endsWith");h=!h&&!C&&!!function(){var q=w(String.prototype,"endsWith");return q&&!q.writable}();K({target:"String",proto:!0,forced:!h&&!C},{endsWith:function(q){var r=u(c(this));E(q);var b=1<arguments.length?arguments[1]:void 0,d=r.length;b=void 0===b?d:l(k(b),d);d=u(q);return v?v(r,d,b):a(r,b-d.length,b)===d}})},{"../internals/correct-is-regexp-logic":103,"../internals/export":132,"../internals/function-uncurry-this-clause":141,"../internals/is-pure":167,
"../internals/not-a-regexp":182,"../internals/object-get-own-property-descriptor":186,"../internals/require-object-coercible":207,"../internals/to-length":223,"../internals/to-string":228}],265:[function(h,K,C){var w=h("../internals/string-multibyte").charAt,k=h("../internals/to-string");K=h("../internals/internal-state");C=h("../internals/iterator-define");var u=h("../internals/create-iter-result-object"),E=K.set,c=K.getterFor("String Iterator");C(String,"String",function(e){E(this,{type:"String Iterator",
string:k(e),index:0})},function(){var e=c(this),v=e.string,a=e.index;if(a>=v.length)return u(void 0,!0);v=w(v,a);e.index+=v.length;return u(v,!1)})},{"../internals/create-iter-result-object":105,"../internals/internal-state":159,"../internals/iterator-define":173,"../internals/string-multibyte":214,"../internals/to-string":228}],266:[function(h,K,C){h("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":236}],267:[function(h,K,C){K=h("../internals/export");
var w=h("../internals/global"),k=h("../internals/function-call"),u=h("../internals/function-uncurry-this");C=h("../internals/is-pure");var E=h("../internals/descriptors"),c=h("../internals/symbol-constructor-detection"),e=h("../internals/fails"),v=h("../internals/has-own-property"),a=h("../internals/object-is-prototype-of"),l=h("../internals/an-object"),q=h("../internals/to-indexed-object"),r=h("../internals/to-property-key"),b=h("../internals/to-string"),d=h("../internals/create-property-descriptor"),
g=h("../internals/object-create"),m=h("../internals/object-keys"),f=h("../internals/object-get-own-property-names"),n=h("../internals/object-get-own-property-names-external"),t=h("../internals/object-get-own-property-symbols"),y=h("../internals/object-get-own-property-descriptor"),B=h("../internals/object-define-property"),z=h("../internals/object-define-properties"),H=h("../internals/object-property-is-enumerable"),N=h("../internals/define-built-in"),x=h("../internals/define-built-in-accessor"),
F=h("../internals/shared"),G=h("../internals/shared-key"),I=h("../internals/hidden-keys"),M=h("../internals/uid"),R=h("../internals/well-known-symbol"),ha=h("../internals/well-known-symbol-wrapped"),ca=h("../internals/well-known-symbol-define"),sa=h("../internals/symbol-define-to-primitive"),na=h("../internals/set-to-string-tag"),Q=h("../internals/internal-state"),oa=h("../internals/array-iteration").forEach,ia=G("hidden"),ya=Q.set,ta=Q.getterFor("Symbol"),Ga=Object.prototype,qa=(h=w.Symbol)&&h.prototype,
Pa=w.RangeError,$a=w.TypeError;G=w.QObject;var gb=y.f,S=B.f,da=n.f,xa=H.f,Ha=u([].push),Xa=F("symbols"),rb=F("op-symbols");u=F("wks");var tb=!G||!G.prototype||!G.prototype.findChild,Ma=function(ea,aa,ua){var Ea=gb(Ga,aa);Ea&&delete Ga[aa];S(ea,aa,ua);Ea&&ea!==Ga&&S(Ga,aa,Ea)},ra=E&&e(function(){return 7!==g(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?Ma:S,Na=function(ea,aa){var ua=Xa[ea]=g(qa);ya(ua,{type:"Symbol",tag:ea,description:aa});E||(ua.description=aa);return ua},Ja=function(ea,
aa,ua){ea===Ga&&Ja(rb,aa,ua);l(ea);aa=r(aa);l(ua);return v(Xa,aa)?(ua.enumerable?(v(ea,ia)&&ea[ia][aa]&&(ea[ia][aa]=!1),ua=g(ua,{enumerable:d(0,!1)})):(v(ea,ia)||S(ea,ia,d(1,{})),ea[ia][aa]=!0),ra(ea,aa,ua)):S(ea,aa,ua)},ab=function(ea,aa){l(ea);var ua=q(aa);aa=m(ua).concat(ba(ua));oa(aa,function(Ea){E&&!k(U,ua,Ea)||Ja(ea,Ea,ua[Ea])});return ea},U=function(ea){ea=r(ea);var aa=k(xa,this,ea);return this===Ga&&v(Xa,ea)&&!v(rb,ea)?!1:aa||!v(this,ea)||!v(Xa,ea)||v(this,ia)&&this[ia][ea]?aa:!0};e=function(ea,
aa){ea=q(ea);aa=r(aa);if(ea!==Ga||!v(Xa,aa)||v(rb,aa)){var ua=gb(ea,aa);!ua||!v(Xa,aa)||v(ea,ia)&&ea[ia][aa]||(ua.enumerable=!0);return ua}};F=function(ea){ea=da(q(ea));var aa=[];oa(ea,function(ua){v(Xa,ua)||v(I,ua)||Ha(aa,ua)});return aa};var ba=function(ea){var aa=ea===Ga;ea=da(aa?rb:q(ea));var ua=[];oa(ea,function(Ea){!v(Xa,Ea)||aa&&!v(Ga,Ea)||Ha(ua,Xa[Ea])});return ua};c||(h=function(){if(a(qa,this))throw new $a("Symbol is not a constructor");var ea=arguments.length&&void 0!==arguments[0]?b(arguments[0]):
void 0,aa=M(ea),ua=function(Ea){var Fa=void 0===this?w:this;Fa===Ga&&k(ua,rb,Ea);v(Fa,ia)&&v(Fa[ia],aa)&&(Fa[ia][aa]=!1);Ea=d(1,Ea);try{ra(Fa,aa,Ea)}catch(ma){if(!(ma instanceof Pa))throw ma;Ma(Fa,aa,Ea)}};E&&tb&&ra(Ga,aa,{configurable:!0,set:ua});return Na(aa,ea)},qa=h.prototype,N(qa,"toString",function(){return ta(this).tag}),N(h,"withoutSetter",function(ea){return Na(M(ea),ea)}),H.f=U,B.f=Ja,z.f=ab,y.f=e,f.f=n.f=F,t.f=ba,ha.f=function(ea){return Na(R(ea),ea)},E&&(x(qa,"description",{configurable:!0,
get:function(){return ta(this).description}}),C||N(Ga,"propertyIsEnumerable",U,{unsafe:!0})));K({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:h});oa(m(u),function(ea){ca(ea)});K({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){tb=!0},useSimple:function(){tb=!1}});K({target:"Object",stat:!0,forced:!c,sham:!E},{create:function(ea,aa){return void 0===aa?g(ea):ab(g(ea),aa)},defineProperty:Ja,defineProperties:ab,getOwnPropertyDescriptor:e});K({target:"Object",stat:!0,forced:!c},
{getOwnPropertyNames:F});sa();na(h,"Symbol");I[ia]=!0},{"../internals/an-object":85,"../internals/array-iteration":91,"../internals/create-property-descriptor":107,"../internals/define-built-in":110,"../internals/define-built-in-accessor":109,"../internals/descriptors":113,"../internals/export":132,"../internals/fails":133,"../internals/function-call":138,"../internals/function-uncurry-this":142,"../internals/global":148,"../internals/has-own-property":149,"../internals/hidden-keys":150,"../internals/internal-state":159,
"../internals/is-pure":167,"../internals/object-create":183,"../internals/object-define-properties":184,"../internals/object-define-property":185,"../internals/object-get-own-property-descriptor":186,"../internals/object-get-own-property-names":188,"../internals/object-get-own-property-names-external":187,"../internals/object-get-own-property-symbols":189,"../internals/object-is-prototype-of":192,"../internals/object-keys":194,"../internals/object-property-is-enumerable":195,"../internals/set-to-string-tag":209,
"../internals/shared":212,"../internals/shared-key":210,"../internals/symbol-constructor-detection":215,"../internals/symbol-define-to-primitive":216,"../internals/to-indexed-object":221,"../internals/to-property-key":226,"../internals/to-string":228,"../internals/uid":231,"../internals/well-known-symbol":238,"../internals/well-known-symbol-define":236,"../internals/well-known-symbol-wrapped":237}],268:[function(h,K,C){K=h("../internals/export");var w=h("../internals/descriptors"),k=h("../internals/global");
C=h("../internals/function-uncurry-this");var u=h("../internals/has-own-property"),E=h("../internals/is-callable"),c=h("../internals/object-is-prototype-of"),e=h("../internals/to-string"),v=h("../internals/define-built-in-accessor");h=h("../internals/copy-constructor-properties");var a=k.Symbol,l=a&&a.prototype;if(w&&E(a)&&(!("description"in l)||void 0!==a().description)){var q={};w=function(){var n=1>arguments.length||void 0===arguments[0]?void 0:e(arguments[0]),t=c(l,this)?new a(n):void 0===n?a():
a(n);""===n&&(q[t]=!0);return t};h(w,a);w.prototype=l;l.constructor=w;var r="Symbol(description detection)"===String(a("description detection")),b=C(l.valueOf),d=C(l.toString),g=/^Symbol\((.*)\)[^)]+$/,m=C("".replace),f=C("".slice);v(l,"description",{configurable:!0,get:function(){var n=b(this);if(u(q,n))return"";n=d(n);n=r?f(n,7,-1):m(n,g,"$1");return""===n?void 0:n}});K({global:!0,constructor:!0,forced:!0},{Symbol:w})}},{"../internals/copy-constructor-properties":102,"../internals/define-built-in-accessor":109,
"../internals/descriptors":113,"../internals/export":132,"../internals/function-uncurry-this":142,"../internals/global":148,"../internals/has-own-property":149,"../internals/is-callable":162,"../internals/object-is-prototype-of":192,"../internals/to-string":228}],269:[function(h,K,C){K=h("../internals/export");var w=h("../internals/get-built-in"),k=h("../internals/has-own-property"),u=h("../internals/to-string");C=h("../internals/shared");h=h("../internals/symbol-registry-detection");var E=C("string-to-symbol-registry"),
c=C("symbol-to-string-registry");K({target:"Symbol",stat:!0,forced:!h},{"for":function(e){e=u(e);if(k(E,e))return E[e];var v=w("Symbol")(e);E[e]=v;c[v]=e;return v}})},{"../internals/export":132,"../internals/get-built-in":143,"../internals/has-own-property":149,"../internals/shared":212,"../internals/symbol-registry-detection":217,"../internals/to-string":228}],270:[function(h,K,C){h("../internals/well-known-symbol-define")("hasInstance")},{"../internals/well-known-symbol-define":236}],271:[function(h,
K,C){h("../internals/well-known-symbol-define")("isConcatSpreadable")},{"../internals/well-known-symbol-define":236}],272:[function(h,K,C){h("../internals/well-known-symbol-define")("iterator")},{"../internals/well-known-symbol-define":236}],273:[function(h,K,C){h("../modules/es.symbol.constructor");h("../modules/es.symbol.for");h("../modules/es.symbol.key-for");h("../modules/es.json.stringify");h("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":244,"../modules/es.object.get-own-property-symbols":249,
"../modules/es.symbol.constructor":267,"../modules/es.symbol.for":269,"../modules/es.symbol.key-for":274}],274:[function(h,K,C){K=h("../internals/export");var w=h("../internals/has-own-property"),k=h("../internals/is-symbol"),u=h("../internals/try-to-string");C=h("../internals/shared");h=h("../internals/symbol-registry-detection");var E=C("symbol-to-string-registry");K({target:"Symbol",stat:!0,forced:!h},{keyFor:function(c){if(!k(c))throw new TypeError(u(c)+" is not a symbol");if(w(E,c))return E[c]}})},
{"../internals/export":132,"../internals/has-own-property":149,"../internals/is-symbol":169,"../internals/shared":212,"../internals/symbol-registry-detection":217,"../internals/try-to-string":229}],275:[function(h,K,C){h("../internals/well-known-symbol-define")("matchAll")},{"../internals/well-known-symbol-define":236}],276:[function(h,K,C){h("../internals/well-known-symbol-define")("match")},{"../internals/well-known-symbol-define":236}],277:[function(h,K,C){h("../internals/well-known-symbol-define")("replace")},
{"../internals/well-known-symbol-define":236}],278:[function(h,K,C){h("../internals/well-known-symbol-define")("search")},{"../internals/well-known-symbol-define":236}],279:[function(h,K,C){h("../internals/well-known-symbol-define")("species")},{"../internals/well-known-symbol-define":236}],280:[function(h,K,C){h("../internals/well-known-symbol-define")("split")},{"../internals/well-known-symbol-define":236}],281:[function(h,K,C){K=h("../internals/well-known-symbol-define");h=h("../internals/symbol-define-to-primitive");
K("toPrimitive");h()},{"../internals/symbol-define-to-primitive":216,"../internals/well-known-symbol-define":236}],282:[function(h,K,C){K=h("../internals/get-built-in");C=h("../internals/well-known-symbol-define");h=h("../internals/set-to-string-tag");C("toStringTag");h(K("Symbol"),"Symbol")},{"../internals/get-built-in":143,"../internals/set-to-string-tag":209,"../internals/well-known-symbol-define":236}],283:[function(h,K,C){h("../internals/well-known-symbol-define")("unscopables")},{"../internals/well-known-symbol-define":236}],
284:[function(h,K,C){C=h("../internals/array-buffer-view-core");var w=h("../internals/array-fill"),k=h("../internals/to-big-int"),u=h("../internals/classof"),E=h("../internals/function-call");K=h("../internals/function-uncurry-this");h=h("../internals/fails");var c=C.aTypedArray;C=C.exportTypedArrayMethod;var e=K("".slice);h=h(function(){var v=0;(new Int8Array(2)).fill({valueOf:function(){return v++}});return 1!==v});C("fill",function(v){var a=arguments.length;c(this);var l="Big"===e(u(this),0,3)?
k(v):+v;return E(w,this,l,1<a?arguments[1]:void 0,2<a?arguments[2]:void 0)},h)},{"../internals/array-buffer-view-core":88,"../internals/array-fill":89,"../internals/classof":99,"../internals/fails":133,"../internals/function-call":138,"../internals/function-uncurry-this":142,"../internals/to-big-int":220}],285:[function(h,K,C){C=h("../internals/array-buffer-view-core");var w=h("../internals/typed-array-species-constructor");K=h("../internals/fails");var k=h("../internals/array-slice"),u=C.aTypedArray;
h=C.exportTypedArrayMethod;K=K(function(){(new Int8Array(1)).slice()});h("slice",function(E,c){E=k(u(this),E,c);var e=w(this);c=0;var v=E.length;for(e=new e(v);v>c;)e[c]=E[c++];return e},K)},{"../internals/array-buffer-view-core":88,"../internals/array-slice":94,"../internals/fails":133,"../internals/typed-array-species-constructor":230}],286:[function(h,K,C){K=h("../internals/global");var w=h("../internals/dom-iterables");C=h("../internals/dom-token-list-prototype");var k=h("../modules/es.array.iterator"),
u=h("../internals/create-non-enumerable-property");h=h("../internals/well-known-symbol");var E=h("iterator"),c=h("toStringTag"),e=k.values;h=function(a,l){if(a){if(a[E]!==e)try{u(a,E,e)}catch(r){a[E]=e}a[c]||u(a,c,l);if(w[l])for(var q in k)if(a[q]!==k[q])try{u(a,q,k[q])}catch(r){a[q]=k[q]}}};for(var v in w)h(K[v]&&K[v].prototype,v);h(C,"DOMTokenList")},{"../internals/create-non-enumerable-property":106,"../internals/dom-iterables":117,"../internals/dom-token-list-prototype":118,"../internals/global":148,
"../internals/well-known-symbol":238,"../modules/es.array.iterator":243}],287:[function(h,K,C){h=h("../../es/array/fill");K.exports=h},{"../../es/array/fill":71}],288:[function(h,K,C){h=h("../../es/array/iterator");K.exports=h},{"../../es/array/iterator":72}],289:[function(h,K,C){C=h("../../es/map");h("../../modules/web.dom-collections.iterator");K.exports=C},{"../../es/map":73,"../../modules/web.dom-collections.iterator":286}],290:[function(h,K,C){C=h("../../es/promise");h("../../modules/web.dom-collections.iterator");
K.exports=C},{"../../es/promise":74,"../../modules/web.dom-collections.iterator":286}],291:[function(h,K,C){C=h("../../es/set");h("../../modules/web.dom-collections.iterator");K.exports=C},{"../../es/set":75,"../../modules/web.dom-collections.iterator":286}],292:[function(h,K,C){h=h("../../es/string/ends-with");K.exports=h},{"../../es/string/ends-with":76}],293:[function(h,K,C){C=h("../../es/symbol");h("../../modules/web.dom-collections.iterator");K.exports=C},{"../../es/symbol":77,"../../modules/web.dom-collections.iterator":286}],
294:[function(h,K,C){h=h("../../es/typed-array/fill");K.exports=h},{"../../es/typed-array/fill":78}],295:[function(h,K,C){h=h("../../es/typed-array/slice");K.exports=h},{"../../es/typed-array/slice":79}],296:[function(h,K,C){(function(w){(function(){(function(k,u){"undefined"!=typeof C?u():(u(),k.FileSaver={})})(this,function(){function k(l,q){return"undefined"==typeof q?q={autoBom:!1}:"object"!=typeof q&&(console.warn("Deprecated: Expected third argument to be a object"),q={autoBom:!q}),q.autoBom&&
/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\ufeff",l],{type:l.type}):l}function u(l,q,r){var b=new XMLHttpRequest;b.open("GET",l);b.responseType="blob";b.onload=function(){a(b.response,q,r)};b.onerror=function(){console.error("could not download file")};b.send()}function E(l){var q=new XMLHttpRequest;q.open("HEAD",l,!1);try{q.send()}catch(r){}return 200<=q.status&&299>=q.status}function c(l){try{l.dispatchEvent(new MouseEvent("click"))}catch(r){var q=
document.createEvent("MouseEvents");q.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);l.dispatchEvent(q)}}var e="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof w&&w.global===w?w:void 0,v=e.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=e.saveAs||("object"!=typeof window||window!==e?function(){}:"download"in HTMLAnchorElement.prototype&&
!v?function(l,q,r){var b=e.URL||e.webkitURL,d=document.createElement("a");q=q||l.name||"download";d.download=q;d.rel="noopener";"string"==typeof l?(d.href=l,d.origin===location.origin?c(d):E(d.href)?u(l,q,r):c(d,d.target="_blank")):(d.href=b.createObjectURL(l),setTimeout(function(){b.revokeObjectURL(d.href)},4E4),setTimeout(function(){c(d)},0))}:"msSaveOrOpenBlob"in navigator?function(l,q,r){if(q=q||l.name||"download","string"!=typeof l)navigator.msSaveOrOpenBlob(k(l,r),q);else if(E(l))u(l,q,r);else{var b=
document.createElement("a");b.href=l;b.target="_blank";setTimeout(function(){c(b)})}}:function(l,q,r,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),"string"==typeof l)return u(l,q,r);q="application/octet-stream"===l.type;r=/constructor/i.test(e.HTMLElement)||e.safari;var d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||q&&r||v)&&"undefined"!=typeof FileReader){var g=new FileReader;g.onloadend=function(){var n=g.result;n=d?n:n.replace(/^data:[^;]*;/,
"data:attachment/file;");b?b.location.href=n:location=n;b=null};g.readAsDataURL(l)}else{var m=e.URL||e.webkitURL,f=m.createObjectURL(l);b?b.location=f:location.href=f;b=null;setTimeout(function(){m.revokeObjectURL(f)},4E4)}});e.saveAs=a.saveAs=a;"undefined"!=typeof K&&(K.exports=a)})}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],297:[function(h,K,C){(function(w,k){"object"===typeof K&&"object"===typeof K.exports?
K.exports=w.document?k(w,!0):function(u){if(!u.document)throw Error("jQuery requires a window with a document");return k(u)}:k(w)})("undefined"!==typeof window?window:this,function(w,k){function u(p,A,L){L=L||Qa;var P,T=L.createElement("script");T.text=p;if(A)for(P in Ua)(p=A[P]||A.getAttribute&&A.getAttribute(P))&&T.setAttribute(P,p);L.head.appendChild(T).parentNode.removeChild(T)}function E(p){return null==p?p+"":"object"===typeof p||"function"===typeof p?Fa[ma.call(p)]||"object":typeof p}function c(p){var A=
!!p&&"length"in p&&p.length,L=E(p);return Y(p)||za(p)?!1:"array"===L||0===A||"number"===typeof A&&0<A&&A-1 in p}function e(p,A){return p.nodeName&&p.nodeName.toLowerCase()===A.toLowerCase()}function v(p,A){return A?"\x00"===p?"\ufffd":p.slice(0,-1)+"\\"+p.charCodeAt(p.length-1).toString(16)+" ":"\\"+p}function a(p,A,L){return Y(A)?O.grep(p,function(P,T){return!!A.call(P,T,P)!==L}):A.nodeType?O.grep(p,function(P){return P===A!==L}):"string"!==typeof A?O.grep(p,function(P){return-1<Ea.call(A,P)!==L}):
O.filter(A,p,L)}function l(p,A){for(;(p=p[A])&&1!==p.nodeType;);return p}function q(p){var A={};O.each(p.match(xb)||[],function(L,P){A[P]=!0});return A}function r(p){return p}function b(p){throw p;}function d(p,A,L,P){var T;try{p&&Y(T=p.promise)?T.call(p).done(A).fail(L):p&&Y(T=p.then)?T.call(p,A,L):A.apply(void 0,[p].slice(P))}catch(X){L.apply(void 0,[X])}}function g(){Qa.removeEventListener("DOMContentLoaded",g);w.removeEventListener("load",g);O.ready()}function m(p,A){return A.toUpperCase()}function f(p){return p.replace(lb,
"ms-").replace(gc,m)}function n(){this.expando=O.expando+n.uid++}function t(p,A,L){if(void 0===L&&1===p.nodeType)if(L="data-"+A.replace(qc,"-$&").toLowerCase(),L=p.getAttribute(L),"string"===typeof L){try{var P=L;L="true"===P?!0:"false"===P?!1:"null"===P?null:P===+P+""?+P:dc.test(P)?JSON.parse(P):P}catch(T){}Nb.set(p,A,L)}else L=void 0;return L}function y(p,A,L,P){var T,X=20,ka=P?function(){return P.cur()}:function(){return O.css(p,A,"")},Aa=ka(),va=L&&L[3]||(O.cssNumber[A]?"":"px"),wa=p.nodeType&&
(O.cssNumber[A]||"px"!==va&&+Aa)&&Xb.exec(O.css(p,A));if(wa&&wa[3]!==va){Aa/=2;va=va||wa[3];for(wa=+Aa||1;X--;)O.style(p,A,wa+va),0>=(1-T)*(1-(T=ka()/Aa||.5))&&(X=0),wa/=T;wa*=2;O.style(p,A,wa+va);L=L||[]}if(L){wa=+wa||+Aa||0;var Ta=L[1]?wa+(L[1]+1)*L[2]:+L[2];P&&(P.unit=va,P.start=wa,P.end=Ta)}return Ta}function B(p,A){for(var L,P,T=[],X=0,ka=p.length;X<ka;X++)if(P=p[X],P.style)if(L=P.style.display,A){if("none"===L&&(T[X]=mb.get(P,"display")||null,T[X]||(P.style.display="")),""===P.style.display&&
Ac(P)){L=X;var Aa=P.ownerDocument;P=P.nodeName;var va=Ec[P];va||(Aa=Aa.body.appendChild(Aa.createElement(P)),va=O.css(Aa,"display"),Aa.parentNode.removeChild(Aa),"none"===va&&(va="block"),Ec[P]=va);Aa=va;T[L]=Aa}}else"none"!==L&&(T[X]="none",mb.set(P,"display",L));for(X=0;X<ka;X++)null!=T[X]&&(p[X].style.display=T[X]);return p}function z(p,A){var L="undefined"!==typeof p.getElementsByTagName?p.getElementsByTagName(A||"*"):"undefined"!==typeof p.querySelectorAll?p.querySelectorAll(A||"*"):[];return void 0===
A||A&&e(p,A)?O.merge([p],L):L}function H(p,A){for(var L=0,P=p.length;L<P;L++)mb.set(p[L],"globalEval",!A||mb.get(A[L],"globalEval"))}function N(p,A,L,P,T){for(var X,ka,Aa,va=A.createDocumentFragment(),wa=[],Ta=0,bb=p.length;Ta<bb;Ta++)if((X=p[Ta])||0===X)if("object"===E(X))O.merge(wa,X.nodeType?[X]:X);else if(eb.test(X)){ka=ka||va.appendChild(A.createElement("div"));Aa=(fa.exec(X)||["",""])[1].toLowerCase();Aa=Ra[Aa]||Ra._default;ka.innerHTML=Aa[1]+O.htmlPrefilter(X)+Aa[2];for(Aa=Aa[0];Aa--;)ka=ka.lastChild;
O.merge(wa,ka.childNodes);ka=va.firstChild;ka.textContent=""}else wa.push(A.createTextNode(X));va.textContent="";for(Ta=0;X=wa[Ta++];)if(P&&-1<O.inArray(X,P))T&&T.push(X);else if(p=xc(X),ka=z(va.appendChild(X),"script"),p&&H(ka),L)for(Aa=0;X=ka[Aa++];)Ka.test(X.type||"")&&L.push(X);return va}function x(){return!0}function F(){return!1}function G(p,A,L,P,T,X){var ka;if("object"===typeof A){"string"!==typeof L&&(P=P||L,L=void 0);for(ka in A)G(p,ka,L,P,A[ka],X);return p}null==P&&null==T?(T=L,P=L=void 0):
null==T&&("string"===typeof L?(T=P,P=void 0):(T=P,P=L,L=void 0));if(!1===T)T=F;else if(!T)return p;if(1===X){var Aa=T;T=function(va){O().off(va);return Aa.apply(this,arguments)};T.guid=Aa.guid||(Aa.guid=O.guid++)}return p.each(function(){O.event.add(this,A,T,P,L)})}function I(p,A,L){L?(mb.set(p,A,!1),O.event.add(p,A,{namespace:!1,handler:function(P){var T=mb.get(this,A);if(P.isTrigger&1&&this[A])if(T)(O.event.special[A]||{}).delegateType&&P.stopPropagation();else{T=ea.call(arguments);mb.set(this,
A,T);this[A]();var X=mb.get(this,A);mb.set(this,A,!1);if(T!==X)return P.stopImmediatePropagation(),P.preventDefault(),X}else T&&(mb.set(this,A,O.event.trigger(T[0],T.slice(1),this)),P.stopPropagation(),P.isImmediatePropagationStopped=x)}})):void 0===mb.get(p,A)&&O.event.add(p,A,x)}function M(p,A){return e(p,"table")&&e(11!==A.nodeType?A:A.firstChild,"tr")?O(p).children("tbody")[0]||p:p}function R(p){p.type=(null!==p.getAttribute("type"))+"/"+p.type;return p}function ha(p){"true/"===(p.type||"").slice(0,
5)?p.type=p.type.slice(5):p.removeAttribute("type");return p}function ca(p,A){var L,P,T;if(1===A.nodeType){if(mb.hasData(p)){var X=mb.get(p);if(T=X.events)for(P in mb.remove(A,"handle events"),T)for(X=0,L=T[P].length;X<L;X++)O.event.add(A,P,T[P][X])}Nb.hasData(p)&&(p=Nb.access(p),p=O.extend({},p),Nb.set(A,p))}}function sa(p,A,L,P){A=aa(A);var T,X=0,ka=p.length,Aa=ka-1,va=A[0],wa=Y(va);if(wa||1<ka&&"string"===typeof va&&!J.checkClone&&V.test(va))return p.each(function(Gb){var vb=p.eq(Gb);wa&&(A[0]=
va.call(this,Gb,vb.html()));sa(vb,A,L,P)});if(ka){var Ta=N(A,p[0].ownerDocument,!1,p,P);var bb=Ta.firstChild;1===Ta.childNodes.length&&(Ta=bb);if(bb||P){bb=O.map(z(Ta,"script"),R);for(T=bb.length;X<ka;X++){var jb=Ta;X!==Aa&&(jb=O.clone(jb,!0,!0),T&&O.merge(bb,z(jb,"script")));L.call(p[X],jb,X)}if(T)for(Ta=bb[bb.length-1].ownerDocument,O.map(bb,ha),X=0;X<T;X++)jb=bb[X],Ka.test(jb.type||"")&&!mb.access(jb,"globalEval")&&O.contains(Ta,jb)&&(jb.src&&"module"!==(jb.type||"").toLowerCase()?O._evalUrl&&
!jb.noModule&&O._evalUrl(jb.src,{nonce:jb.nonce||jb.getAttribute("nonce")},Ta):u(jb.textContent.replace(pa,""),jb,Ta))}}return p}function na(p,A,L){for(var P=A?O.filter(A,p):p,T=0;null!=(A=P[T]);T++)L||1!==A.nodeType||O.cleanData(z(A)),A.parentNode&&(L&&xc(A)&&H(z(A,"script")),A.parentNode.removeChild(A));return p}function Q(p,A,L){var P=ja.test(A);var T=p.style;if(L=L||Da(p)){var X=L.getPropertyValue(A)||L[A];P&&X&&(X=X.replace(rc,"$1")||void 0);""!==X||xc(p)||(X=O.style(p,A));!J.pixelBoxStyles()&&
La.test(X)&&Ia.test(A)&&(p=T.width,A=T.minWidth,P=T.maxWidth,T.minWidth=T.maxWidth=T.width=X,X=L.width,T.width=p,T.minWidth=A,T.maxWidth=P)}return void 0!==X?X+"":X}function oa(p,A){return{get:function(){if(p())delete this.get;else return(this.get=A).apply(this,arguments)}}}function ia(p){var A=O.cssProps[p]||nb[p];if(A)return A;if(p in Za)return p;a:{A=p;for(var L=A[0].toUpperCase()+A.slice(1),P=Wa.length;P--;)if(A=Wa[P]+L,A in Za)break a;A=void 0}return nb[p]=A||p}function ya(p,A,L){return(p=Xb.exec(A))?
Math.max(0,p[2]-(L||0))+(p[3]||"px"):A}function ta(p,A,L,P,T,X){var ka="width"===A?1:0,Aa=0,va=0,wa=0;if(L===(P?"border":"content"))return 0;for(;4>ka;ka+=2)"margin"===L&&(wa+=O.css(p,L+Ub[ka],!0,T)),P?("content"===L&&(va-=O.css(p,"padding"+Ub[ka],!0,T)),"margin"!==L&&(va-=O.css(p,"border"+Ub[ka]+"Width",!0,T))):(va+=O.css(p,"padding"+Ub[ka],!0,T),"padding"!==L?va+=O.css(p,"border"+Ub[ka]+"Width",!0,T):Aa+=O.css(p,"border"+Ub[ka]+"Width",!0,T));!P&&0<=X&&(va+=Math.max(0,Math.ceil(p["offset"+A[0].toUpperCase()+
A.slice(1)]-X-va-Aa-.5))||0);return va+wa}function Ga(p,A,L){var P=Da(p),T=(!J.boxSizingReliable()||L)&&"border-box"===O.css(p,"boxSizing",!1,P),X=T,ka=Q(p,A,P),Aa="offset"+A[0].toUpperCase()+A.slice(1);if(La.test(ka)){if(!L)return ka;ka="auto"}(!J.boxSizingReliable()&&T||!J.reliableTrDimensions()&&e(p,"tr")||"auto"===ka||!parseFloat(ka)&&"inline"===O.css(p,"display",!1,P))&&p.getClientRects().length&&(T="border-box"===O.css(p,"boxSizing",!1,P),(X=Aa in p)&&(ka=p[Aa]));ka=parseFloat(ka)||0;return ka+
ta(p,A,L||(T?"border":"content"),X,P,ka)+"px"}function qa(p,A,L,P,T){return new qa.prototype.init(p,A,L,P,T)}function Pa(){lc&&(!1===Qa.hidden&&w.requestAnimationFrame?w.requestAnimationFrame(Pa):w.setTimeout(Pa,O.fx.interval),O.fx.tick())}function $a(){w.setTimeout(function(){Mb=void 0});return Mb=Date.now()}function gb(p,A){var L=0,P={height:p};for(A=A?1:0;4>L;L+=2-A){var T=Ub[L];P["margin"+T]=P["padding"+T]=p}A&&(P.opacity=P.width=p);return P}function S(p,A,L){for(var P,T=(xa.tweeners[A]||[]).concat(xa.tweeners["*"]),
X=0,ka=T.length;X<ka;X++)if(P=T[X].call(L,A,p))return P}function da(p,A){var L,P;for(L in p){var T=f(L);var X=A[T];var ka=p[L];Array.isArray(ka)&&(X=ka[1],ka=p[L]=ka[0]);L!==T&&(p[T]=ka,delete p[L]);if((P=O.cssHooks[T])&&"expand"in P)for(L in ka=P.expand(ka),delete p[T],ka)L in p||(p[L]=ka[L],A[L]=X);else A[T]=X}}function xa(p,A,L){var P,T=0,X=xa.prefilters.length,ka=O.Deferred().always(function(){delete Aa.elem}),Aa=function(){if(P)return!1;var wa=Mb||$a();wa=Math.max(0,va.startTime+va.duration-
wa);for(var Ta=1-(wa/va.duration||0),bb=0,jb=va.tweens.length;bb<jb;bb++)va.tweens[bb].run(Ta);ka.notifyWith(p,[va,Ta,wa]);if(1>Ta&&jb)return wa;jb||ka.notifyWith(p,[va,1,0]);ka.resolveWith(p,[va]);return!1},va=ka.promise({elem:p,props:O.extend({},A),opts:O.extend(!0,{specialEasing:{},easing:O.easing._default},L),originalProperties:A,originalOptions:L,startTime:Mb||$a(),duration:L.duration,tweens:[],createTween:function(wa,Ta){wa=O.Tween(p,va.opts,wa,Ta,va.opts.specialEasing[wa]||va.opts.easing);
va.tweens.push(wa);return wa},stop:function(wa){var Ta=0,bb=wa?va.tweens.length:0;if(P)return this;for(P=!0;Ta<bb;Ta++)va.tweens[Ta].run(1);wa?(ka.notifyWith(p,[va,1,0]),ka.resolveWith(p,[va,wa])):ka.rejectWith(p,[va,wa]);return this}});L=va.props;for(da(L,va.opts.specialEasing);T<X;T++)if(A=xa.prefilters[T].call(va,p,L,va.opts))return Y(A.stop)&&(O._queueHooks(va.elem,va.opts.queue).stop=A.stop.bind(A)),A;O.map(L,S,va);Y(va.opts.start)&&va.opts.start.call(p,va);va.progress(va.opts.progress).done(va.opts.done,
va.opts.complete).fail(va.opts.fail).always(va.opts.always);O.fx.timer(O.extend(Aa,{elem:p,anim:va,queue:va.opts.queue}));return va}function Ha(p){return(p.match(xb)||[]).join(" ")}function Xa(p){return p.getAttribute&&p.getAttribute("class")||""}function rb(p){return Array.isArray(p)?p:"string"===typeof p?p.match(xb)||[]:[]}function tb(p,A,L,P){var T;if(Array.isArray(A))O.each(A,function(X,ka){L||ed.test(p)?P(p,ka):tb(p+"["+("object"===typeof ka&&null!=ka?X:"")+"]",ka,L,P)});else if(L||"object"!==
E(A))P(p,A);else for(T in A)tb(p+"["+T+"]",A[T],L,P)}function Ma(p){return function(A,L){"string"!==typeof A&&(L=A,A="*");var P=0,T=A.toLowerCase().match(xb)||[];if(Y(L))for(;A=T[P++];)"+"===A[0]?(A=A.slice(1)||"*",(p[A]=p[A]||[]).unshift(L)):(p[A]=p[A]||[]).push(L)}}function ra(p,A,L,P){function T(Aa){var va;X[Aa]=!0;O.each(p[Aa]||[],function(wa,Ta){wa=Ta(A,L,P);if("string"===typeof wa&&!ka&&!X[wa])return A.dataTypes.unshift(wa),T(wa),!1;if(ka)return!(va=wa)});return va}var X={},ka=p===Mc;return T(A.dataTypes[0])||
!X["*"]&&T("*")}function Na(p,A){var L,P,T=O.ajaxSettings.flatOptions||{};for(L in A)void 0!==A[L]&&((T[L]?p:P||={})[L]=A[L]);P&&O.extend(!0,p,P);return p}function Ja(p,A,L){for(var P,T,X,ka,Aa=p.contents,va=p.dataTypes;"*"===va[0];)va.shift(),void 0===P&&(P=p.mimeType||A.getResponseHeader("Content-Type"));if(P)for(T in Aa)if(Aa[T]&&Aa[T].test(P)){va.unshift(T);break}if(va[0]in L)X=va[0];else{for(T in L){if(!va[0]||p.converters[T+" "+va[0]]){X=T;break}ka||=T}X=X||ka}if(X)return X!==va[0]&&va.unshift(X),
L[X]}function ab(p,A,L,P){var T,X,ka={},Aa=p.dataTypes.slice();if(Aa[1])for(wa in p.converters)ka[wa.toLowerCase()]=p.converters[wa];for(X=Aa.shift();X;){p.responseFields[X]&&(L[p.responseFields[X]]=A);!va&&P&&p.dataFilter&&(A=p.dataFilter(A,p.dataType));var va=X;if(X=Aa.shift())if("*"===X)X=va;else if("*"!==va&&va!==X){var wa=ka[va+" "+X]||ka["* "+X];if(!wa)for(T in ka){var Ta=T.split(" ");if(Ta[1]===X&&(wa=ka[va+" "+Ta[0]]||ka["* "+Ta[0]])){!0===wa?wa=ka[T]:!0!==ka[T]&&(X=Ta[0],Aa.unshift(Ta[1]));
break}}if(!0!==wa)if(wa&&p.throws)A=wa(A);else try{A=wa(A)}catch(bb){return{state:"parsererror",error:wa?bb:"No conversion from "+va+" to "+X}}}}return{state:"success",data:A}}var U=[],ba=Object.getPrototypeOf,ea=U.slice,aa=U.flat?function(p){return U.flat.call(p)}:function(p){return U.concat.apply([],p)},ua=U.push,Ea=U.indexOf,Fa={},ma=Fa.toString,W=Fa.hasOwnProperty,Z=W.toString,D=Z.call(Object),J={},Y=function(p){return"function"===typeof p&&"number"!==typeof p.nodeType&&"function"!==typeof p.item},
za=function(p){return null!=p&&p===p.window},Qa=w.document,Ua={type:!0,src:!0,nonce:!0,noModule:!0},Db=/HTML$/i,O=function(p,A){return new O.fn.init(p,A)};O.fn=O.prototype={jquery:"3.7.1",constructor:O,length:0,toArray:function(){return ea.call(this)},get:function(p){return null==p?ea.call(this):0>p?this[p+this.length]:this[p]},pushStack:function(p){p=O.merge(this.constructor(),p);p.prevObject=this;return p},each:function(p){return O.each(this,p)},map:function(p){return this.pushStack(O.map(this,
function(A,L){return p.call(A,L,A)}))},slice:function(){return this.pushStack(ea.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(O.grep(this,function(p,A){return(A+1)%2}))},odd:function(){return this.pushStack(O.grep(this,function(p,A){return A%2}))},eq:function(p){var A=this.length;p=+p+(0>p?A:0);return this.pushStack(0<=p&&p<A?[this[p]]:[])},end:function(){return this.prevObject||this.constructor()},push:ua,sort:U.sort,
splice:U.splice};O.extend=O.fn.extend=function(){var p,A,L,P=arguments[0]||{},T=1,X=arguments.length,ka=!1;"boolean"===typeof P&&(ka=P,P=arguments[T]||{},T++);"object"===typeof P||Y(P)||(P={});T===X&&(P=this,T--);for(;T<X;T++)if(null!=(p=arguments[T]))for(A in p){var Aa=p[A];if("__proto__"!==A&&P!==Aa)if(ka&&Aa&&(O.isPlainObject(Aa)||(L=Array.isArray(Aa)))){var va=P[A];va=L&&!Array.isArray(va)?[]:L||O.isPlainObject(va)?va:{};L=!1;P[A]=O.extend(ka,va,Aa)}else void 0!==Aa&&(P[A]=Aa)}return P};O.extend({expando:"jQuery"+
("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(p){throw Error(p);},noop:function(){},isPlainObject:function(p){if(!p||"[object Object]"!==ma.call(p))return!1;p=ba(p);if(!p)return!0;p=W.call(p,"constructor")&&p.constructor;return"function"===typeof p&&Z.call(p)===D},isEmptyObject:function(p){for(var A in p)return!1;return!0},globalEval:function(p,A,L){u(p,{nonce:A&&A.nonce},L)},each:function(p,A){var L,P=0;if(c(p))for(L=p.length;P<L&&!1!==A.call(p[P],P,p[P]);P++);else for(P in p)if(!1===
A.call(p[P],P,p[P]))break;return p},text:function(p){var A,L="",P=0,T=p.nodeType;if(!T)for(;A=p[P++];)L+=O.text(A);return 1===T||11===T?p.textContent:9===T?p.documentElement.textContent:3===T||4===T?p.nodeValue:L},makeArray:function(p,A){A=A||[];null!=p&&(c(Object(p))?O.merge(A,"string"===typeof p?[p]:p):ua.call(A,p));return A},inArray:function(p,A,L){return null==A?-1:Ea.call(A,p,L)},isXMLDoc:function(p){var A=p&&(p.ownerDocument||p).documentElement;return!Db.test(p&&p.namespaceURI||A&&A.nodeName||
"HTML")},merge:function(p,A){for(var L=+A.length,P=0,T=p.length;P<L;P++)p[T++]=A[P];p.length=T;return p},grep:function(p,A,L){for(var P=[],T=0,X=p.length,ka=!L;T<X;T++)L=!A(p[T],T),L!==ka&&P.push(p[T]);return P},map:function(p,A,L){var P,T=0,X=[];if(c(p))for(P=p.length;T<P;T++){var ka=A(p[T],T,L);null!=ka&&X.push(ka)}else for(T in p)ka=A(p[T],T,L),null!=ka&&X.push(ka);return aa(X)},guid:1,support:J});"function"===typeof Symbol&&(O.fn[Symbol.iterator]=U[Symbol.iterator]);O.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),
function(p,A){Fa["[object "+A+"]"]=A.toLowerCase()});var Hb=U.pop,bc=U.sort,Lb=U.splice,rc=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");O.contains=function(p,A){A=A&&A.parentNode;return p===A||!!(A&&1===A.nodeType&&(p.contains?p.contains(A):p.compareDocumentPosition&&p.compareDocumentPosition(A)&16))};var db=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;O.escapeSelector=function(p){return(p+"").replace(db,v)};var Ib=Qa;(function(){function p(la,Ca,Ba,Va){var Ya,
fb,kb,wb,cb=Ca&&Ca.ownerDocument;var sb=Ca?Ca.nodeType:9;Ba=Ba||[];if("string"!==typeof la||!la||1!==sb&&9!==sb&&11!==sb)return Ba;if(!Va&&(wa(Ca),Ca=Ca||Cb,cc)){if(11!==sb&&(wb=fd.exec(la)))if(Ya=wb[1])if(9===sb)if(fb=Ca.getElementById(Ya)){if(fb.id===Ya)return Zb.call(Ba,fb),Ba}else return Ba;else{if(cb&&(fb=cb.getElementById(Ya))&&p.contains(Ca,fb)&&fb.id===Ya)return Zb.call(Ba,fb),Ba}else{if(wb[2])return Zb.apply(Ba,Ca.getElementsByTagName(la)),Ba;if((Ya=wb[3])&&Ca.getElementsByClassName)return Zb.apply(Ba,
Ca.getElementsByClassName(Ya)),Ba}if(!(Jc[la+" "]||ec&&ec.test(la))){Ya=la;cb=Ca;if(1===sb&&(gd.test(la)||Uc.test(la))){cb=Nc.test(la)&&va(Ca.parentNode)||Ca;cb==Ca&&J.scope||((kb=Ca.getAttribute("id"))?kb=O.escapeSelector(kb):Ca.setAttribute("id",kb=Ob));Ya=bb(la);for(sb=Ya.length;sb--;)Ya[sb]=(kb?"#"+kb:":scope")+" "+jb(Ya[sb]);Ya=Ya.join(",")}try{return Zb.apply(Ba,cb.querySelectorAll(Ya)),Ba}catch(yb){Jc(la,!0)}finally{kb===Ob&&Ca.removeAttribute("id")}}}return hc(la.replace(rc,"$1"),Ca,Ba,Va)}
function A(){function la(Ba,Va){Ca.push(Ba+" ")>Fb.cacheLength&&delete la[Ca.shift()];return la[Ba+" "]=Va}var Ca=[];return la}function L(la){la[Ob]=!0;return la}function P(la){var Ca=Cb.createElement("fieldset");try{return!!la(Ca)}catch(Ba){return!1}finally{Ca.parentNode&&Ca.parentNode.removeChild(Ca)}}function T(la){return function(Ca){return e(Ca,"input")&&Ca.type===la}}function X(la){return function(Ca){return(e(Ca,"input")||e(Ca,"button"))&&Ca.type===la}}function ka(la){return function(Ca){return"form"in
Ca?Ca.parentNode&&!1===Ca.disabled?"label"in Ca?"label"in Ca.parentNode?Ca.parentNode.disabled===la:Ca.disabled===la:Ca.isDisabled===la||Ca.isDisabled!==!la&&hd(Ca)===la:Ca.disabled===la:"label"in Ca?Ca.disabled===la:!1}}function Aa(la){return L(function(Ca){Ca=+Ca;return L(function(Ba,Va){for(var Ya,fb=la([],Ba.length,Ca),kb=fb.length;kb--;)Ba[Ya=fb[kb]]&&(Ba[Ya]=!(Va[Ya]=Ba[Ya]))})})}function va(la){return la&&"undefined"!==typeof la.getElementsByTagName&&la}function wa(la){var Ca;la=la?la.ownerDocument||
la:Ib;if(la==Cb||9!==la.nodeType||!la.documentElement)return Cb;Cb=la;nc=Cb.documentElement;cc=!O.isXMLDoc(Cb);Oc=nc.matches||nc.webkitMatchesSelector||nc.msMatchesSelector;nc.msMatchesSelector&&Ib!=Cb&&(Ca=Cb.defaultView)&&Ca.top!==Ca&&Ca.addEventListener("unload",id);J.getById=P(function(Ba){nc.appendChild(Ba).id=O.expando;return!Cb.getElementsByName||!Cb.getElementsByName(O.expando).length});J.disconnectedMatch=P(function(Ba){return Oc.call(Ba,"*")});J.scope=P(function(){return Cb.querySelectorAll(":scope")});
J.cssHas=P(function(){try{return Cb.querySelector(":has(*,:jqfake)"),!1}catch(Ba){return!0}});J.getById?(Fb.filter.ID=function(Ba){var Va=Ba.replace(Bc,Cc);return function(Ya){return Ya.getAttribute("id")===Va}},Fb.find.ID=function(Ba,Va){if("undefined"!==typeof Va.getElementById&&cc)return(Ba=Va.getElementById(Ba))?[Ba]:[]}):(Fb.filter.ID=function(Ba){var Va=Ba.replace(Bc,Cc);return function(Ya){return(Ya="undefined"!==typeof Ya.getAttributeNode&&Ya.getAttributeNode("id"))&&Ya.value===Va}},Fb.find.ID=
function(Ba,Va){if("undefined"!==typeof Va.getElementById&&cc){var Ya,fb=Va.getElementById(Ba);if(fb){if((Ya=fb.getAttributeNode("id"))&&Ya.value===Ba)return[fb];var kb=Va.getElementsByName(Ba);for(Va=0;fb=kb[Va++];)if((Ya=fb.getAttributeNode("id"))&&Ya.value===Ba)return[fb]}return[]}});Fb.find.TAG=function(Ba,Va){return"undefined"!==typeof Va.getElementsByTagName?Va.getElementsByTagName(Ba):Va.querySelectorAll(Ba)};Fb.find.CLASS=function(Ba,Va){if("undefined"!==typeof Va.getElementsByClassName&&
cc)return Va.getElementsByClassName(Ba)};ec=[];P(function(Ba){nc.appendChild(Ba).innerHTML="<a id='"+Ob+"' href='' disabled='disabled'></a><select id='"+Ob+"-\r\\' disabled='disabled'><option selected=''></option></select>";Ba.querySelectorAll("[selected]").length||ec.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");Ba.querySelectorAll("[id~="+Ob+"-]").length||ec.push("~=");Ba.querySelectorAll("a#"+
Ob+"+*").length||ec.push(".#.+[+~]");Ba.querySelectorAll(":checked").length||ec.push(":checked");var Va=Cb.createElement("input");Va.setAttribute("type","hidden");Ba.appendChild(Va).setAttribute("name","D");nc.appendChild(Ba).disabled=!0;2!==Ba.querySelectorAll(":disabled").length&&ec.push(":enabled",":disabled");Va=Cb.createElement("input");Va.setAttribute("name","");Ba.appendChild(Va);Ba.querySelectorAll("[name='']").length||ec.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")")});
J.cssHas||ec.push(":has");ec=ec.length&&new RegExp(ec.join("|"));Pc=function(Ba,Va){if(Ba===Va)return ic=!0,0;var Ya=!Ba.compareDocumentPosition-!Va.compareDocumentPosition;if(Ya)return Ya;Ya=(Ba.ownerDocument||Ba)==(Va.ownerDocument||Va)?Ba.compareDocumentPosition(Va):1;return Ya&1||!J.sortDetached&&Va.compareDocumentPosition(Ba)===Ya?Ba===Cb||Ba.ownerDocument==Ib&&p.contains(Ib,Ba)?-1:Va===Cb||Va.ownerDocument==Ib&&p.contains(Ib,Va)?1:oc?Ea.call(oc,Ba)-Ea.call(oc,Va):0:Ya&4?-1:1};return Cb}function Ta(){}
function bb(la,Ca){var Ba,Va,Ya,fb,kb;if(fb=Vc[la+" "])return Ca?0:fb.slice(0);fb=la;var wb=[];for(kb=Fb.preFilter;fb;){if(!cb||(Ba=jd.exec(fb)))Ba&&(fb=fb.slice(Ba[0].length)||fb),wb.push(Va=[]);var cb=!1;if(Ba=Uc.exec(fb))cb=Ba.shift(),Va.push({value:cb,type:Ba[0].replace(rc," ")}),fb=fb.slice(cb.length);for(Ya in Fb.filter)!(Ba=Kc[Ya].exec(fb))||kb[Ya]&&!(Ba=kb[Ya](Ba))||(cb=Ba.shift(),Va.push({value:cb,type:Ya,matches:Ba}),fb=fb.slice(cb.length));if(!cb)break}return Ca?fb.length:fb?p.error(la):
Vc(la,wb).slice(0)}function jb(la){for(var Ca=0,Ba=la.length,Va="";Ca<Ba;Ca++)Va+=la[Ca].value;return Va}function Gb(la,Ca,Ba){var Va=Ca.dir,Ya=Ca.next,fb=Ya||Va,kb=Ba&&"parentNode"===fb,wb=kd++;return Ca.first?function(cb,sb,yb){for(;cb=cb[Va];)if(1===cb.nodeType||kb)return la(cb,sb,yb);return!1}:function(cb,sb,yb){var qb,Jb=[Dc,wb];if(yb)for(;cb=cb[Va];){if((1===cb.nodeType||kb)&&la(cb,sb,yb))return!0}else for(;cb=cb[Va];)if(1===cb.nodeType||kb){var Pb=cb[Ob]||(cb[Ob]={});if(Ya&&e(cb,Ya))cb=cb[Va]||
cb;else{if((qb=Pb[fb])&&qb[0]===Dc&&qb[1]===wb)return Jb[2]=qb[2];Pb[fb]=Jb;if(Jb[2]=la(cb,sb,yb))return!0}}return!1}}function vb(la){return 1<la.length?function(Ca,Ba,Va){for(var Ya=la.length;Ya--;)if(!la[Ya](Ca,Ba,Va))return!1;return!0}:la[0]}function Vb(la,Ca,Ba,Va,Ya){for(var fb,kb=[],wb=0,cb=la.length,sb=null!=Ca;wb<cb;wb++)if(fb=la[wb])if(!Ba||Ba(fb,Va,Ya))kb.push(fb),sb&&Ca.push(wb);return kb}function $b(la,Ca,Ba,Va,Ya,fb){Va&&!Va[Ob]&&(Va=$b(Va));Ya&&!Ya[Ob]&&(Ya=$b(Ya,fb));return L(function(kb,
wb,cb,sb){var yb,qb,Jb=[],Pb=[],yc=wb.length;if(!(qb=kb)){qb=Ca||"*";for(var Wb=cb.nodeType?[cb]:cb,Kb=[],uc=0,Lc=Wb.length;uc<Lc;uc++)p(qb,Wb[uc],Kb);qb=Kb}Wb=!la||!kb&&Ca?qb:Vb(qb,Jb,la,cb,sb);Ba?(qb=Ya||(kb?la:yc||Va)?[]:wb,Ba(Wb,qb,cb,sb)):qb=Wb;if(Va){var vc=Vb(qb,Pb);Va(vc,[],cb,sb);for(cb=vc.length;cb--;)if(yb=vc[cb])qb[Pb[cb]]=!(Wb[Pb[cb]]=yb)}if(kb){if(Ya||la){if(Ya){vc=[];for(cb=qb.length;cb--;)(yb=qb[cb])&&vc.push(Wb[cb]=yb);Ya(null,qb=[],vc,sb)}for(cb=qb.length;cb--;)(yb=qb[cb])&&-1<(vc=
Ya?Ea.call(kb,yb):Jb[cb])&&(kb[vc]=!(wb[vc]=yb))}}else qb=Vb(qb===wb?qb.splice(yc,qb.length):qb),Ya?Ya(null,wb,qb,sb):Zb.apply(wb,qb)})}function pc(la){var Ca,Ba,Va=la.length,Ya=Fb.relative[la[0].type];var fb=Ya||Fb.relative[" "];for(var kb=Ya?1:0,wb=Gb(function(yb){return yb===Ca},fb,!0),cb=Gb(function(yb){return-1<Ea.call(Ca,yb)},fb,!0),sb=[function(yb,qb,Jb){yb=!Ya&&(Jb||qb!=Rb)||((Ca=qb).nodeType?wb(yb,qb,Jb):cb(yb,qb,Jb));Ca=null;return yb}];kb<Va;kb++)if(fb=Fb.relative[la[kb].type])sb=[Gb(vb(sb),
fb)];else{fb=Fb.filter[la[kb].type].apply(null,la[kb].matches);if(fb[Ob]){for(Ba=++kb;Ba<Va&&!Fb.relative[la[Ba].type];Ba++);return $b(1<kb&&vb(sb),1<kb&&jb(la.slice(0,kb-1).concat({value:" "===la[kb-2].type?"*":""})).replace(rc,"$1"),fb,kb<Ba&&pc(la.slice(kb,Ba)),Ba<Va&&pc(la=la.slice(Ba)),Ba<Va&&jb(la))}sb.push(fb)}return vb(sb)}function ub(la,Ca){var Ba=0<Ca.length,Va=0<la.length,Ya=function(fb,kb,wb,cb,sb){var yb,qb,Jb=0,Pb="0",yc=fb&&[],Wb=[],Kb=Rb,uc=fb||Va&&Fb.find.TAG("*",sb),Lc=Dc+=null==
Kb?1:Math.random()||.1,vc=uc.length;for(sb&&(Rb=kb==Cb||kb||sb);Pb!==vc&&null!=(yb=uc[Pb]);Pb++){if(Va&&yb){var Qc=0;kb||yb.ownerDocument==Cb||(wa(yb),wb=!cc);for(;qb=la[Qc++];)if(qb(yb,kb||Cb,wb)){Zb.call(cb,yb);break}sb&&(Dc=Lc)}Ba&&((yb=!qb&&yb)&&Jb--,fb&&yc.push(yb))}Jb+=Pb;if(Ba&&Pb!==Jb){for(Qc=0;qb=Ca[Qc++];)qb(yc,Wb,kb,wb);if(fb){if(0<Jb)for(;Pb--;)yc[Pb]||Wb[Pb]||(Wb[Pb]=Hb.call(cb));Wb=Vb(Wb)}Zb.apply(cb,Wb);sb&&!fb&&0<Wb.length&&1<Jb+Ca.length&&O.uniqueSort(cb)}sb&&(Dc=Lc,Rb=Kb);return yc};
return Ba?L(Ya):Ya}function Sb(la,Ca){var Ba,Va=[],Ya=[],fb=Wc[la+" "];if(!fb){Ca||=bb(la);for(Ba=Ca.length;Ba--;)fb=pc(Ca[Ba]),fb[Ob]?Va.push(fb):Ya.push(fb);fb=Wc(la,ub(Ya,Va));fb.selector=la}return fb}function hc(la,Ca,Ba,Va){var Ya,fb,kb,wb="function"===typeof la&&la,cb=!Va&&bb(la=wb.selector||la);Ba=Ba||[];if(1===cb.length){var sb=cb[0]=cb[0].slice(0);if(2<sb.length&&"ID"===(fb=sb[0]).type&&9===Ca.nodeType&&cc&&Fb.relative[sb[1].type]){Ca=(Fb.find.ID(fb.matches[0].replace(Bc,Cc),Ca)||[])[0];
if(!Ca)return Ba;wb&&(Ca=Ca.parentNode);la=la.slice(sb.shift().value.length)}for(Ya=Kc.needsContext.test(la)?0:sb.length;Ya--;){fb=sb[Ya];if(Fb.relative[kb=fb.type])break;if(kb=Fb.find[kb])if(Va=kb(fb.matches[0].replace(Bc,Cc),Nc.test(sb[0].type)&&va(Ca.parentNode)||Ca)){sb.splice(Ya,1);la=Va.length&&jb(sb);if(!la)return Zb.apply(Ba,Va),Ba;break}}}(wb||Sb(la,cb))(Va,Ca,!cc,Ba,!Ca||Nc.test(la)&&va(Ca.parentNode)||Ca);return Ba}var Ab,Rb,oc,ic,Zb=ua,Cb,nc,cc,ec,Oc,Ob=O.expando,Dc=0,kd=0,Xc=A(),Vc=A(),
Wc=A(),Jc=A(),Pc=function(la,Ca){la===Ca&&(ic=!0);return 0},ld=RegExp("[\\x20\\t\\r\\n\\f]+","g"),jd=RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),Uc=RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),gd=RegExp("[\\x20\\t\\r\\n\\f]|>"),md=RegExp(":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
nd=RegExp("^(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+$"),Kc={ID:RegExp("^#((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),CLASS:RegExp("^\\.((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),TAG:RegExp("^((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+|[*])"),ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\]"),
PSEUDO:RegExp("^:((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},od=/^(?:input|select|textarea|button)$/i,pd=/^h\d$/i,fd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Nc=/[+~]/,Bc=RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),Cc=function(la,Ca){la="0x"+la.slice(1)-65536;return Ca?Ca:0>la?String.fromCharCode(la+65536):String.fromCharCode(la>>10|55296,la&1023|56320)},id=function(){wa()},hd=Gb(function(la){return!0===la.disabled&&e(la,"fieldset")},{dir:"parentNode",next:"legend"});try{Zb.apply(U=ea.call(Ib.childNodes),Ib.childNodes),U[Ib.childNodes.length].nodeType}catch(la){Zb=
{apply:function(Ca,Ba){ua.apply(Ca,ea.call(Ba))},call:function(Ca){ua.apply(Ca,ea.call(arguments,1))}}}p.matches=function(la,Ca){return p(la,null,null,Ca)};p.matchesSelector=function(la,Ca){wa(la);if(!(!cc||Jc[Ca+" "]||ec&&ec.test(Ca)))try{var Ba=Oc.call(la,Ca);if(Ba||J.disconnectedMatch||la.document&&11!==la.document.nodeType)return Ba}catch(Va){Jc(Ca,!0)}return 0<p(Ca,Cb,null,[la]).length};p.contains=function(la,Ca){(la.ownerDocument||la)!=Cb&&wa(la);return O.contains(la,Ca)};p.attr=function(la,
Ca){(la.ownerDocument||la)!=Cb&&wa(la);var Ba=Fb.attrHandle[Ca.toLowerCase()];Ba=Ba&&W.call(Fb.attrHandle,Ca.toLowerCase())?Ba(la,Ca,!cc):void 0;return void 0!==Ba?Ba:la.getAttribute(Ca)};p.error=function(la){throw Error("Syntax error, unrecognized expression: "+la);};O.uniqueSort=function(la){var Ca,Ba=[],Va=0,Ya=0;ic=!J.sortStable;oc=!J.sortStable&&ea.call(la,0);bc.call(la,Pc);if(ic){for(;Ca=la[Ya++];)Ca===la[Ya]&&(Va=Ba.push(Ya));for(;Va--;)Lb.call(la,Ba[Va],1)}oc=null;return la};O.fn.uniqueSort=
function(){return this.pushStack(O.uniqueSort(ea.apply(this)))};var Fb=O.expr={cacheLength:50,createPseudo:L,match:Kc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(la){la[1]=la[1].replace(Bc,Cc);la[3]=(la[3]||la[4]||la[5]||"").replace(Bc,Cc);"~="===la[2]&&(la[3]=" "+la[3]+" ");return la.slice(0,4)},CHILD:function(la){la[1]=la[1].toLowerCase();"nth"===la[1].slice(0,3)?
(la[3]||p.error(la[0]),la[4]=+(la[4]?la[5]+(la[6]||1):2*("even"===la[3]||"odd"===la[3])),la[5]=+(la[7]+la[8]||"odd"===la[3])):la[3]&&p.error(la[0]);return la},PSEUDO:function(la){var Ca,Ba=!la[6]&&la[2];if(Kc.CHILD.test(la[0]))return null;la[3]?la[2]=la[4]||la[5]||"":Ba&&md.test(Ba)&&(Ca=bb(Ba,!0))&&(Ca=Ba.indexOf(")",Ba.length-Ca)-Ba.length)&&(la[0]=la[0].slice(0,Ca),la[2]=Ba.slice(0,Ca));return la.slice(0,3)}},filter:{TAG:function(la){var Ca=la.replace(Bc,Cc).toLowerCase();return"*"===la?function(){return!0}:
function(Ba){return e(Ba,Ca)}},CLASS:function(la){var Ca=Xc[la+" "];return Ca||(Ca=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+la+"([\\x20\\t\\r\\n\\f]|$)"),Xc(la,function(Ba){return Ca.test("string"===typeof Ba.className&&Ba.className||"undefined"!==typeof Ba.getAttribute&&Ba.getAttribute("class")||"")}))},ATTR:function(la,Ca,Ba){return function(Va){Va=p.attr(Va,la);if(null==Va)return"!="===Ca;if(!Ca)return!0;Va+="";return"="===Ca?Va===Ba:"!="===Ca?Va!==Ba:"^="===Ca?Ba&&0===Va.indexOf(Ba):"*="===Ca?Ba&&
-1<Va.indexOf(Ba):"$="===Ca?Ba&&Va.slice(-Ba.length)===Ba:"~="===Ca?-1<(" "+Va.replace(ld," ")+" ").indexOf(Ba):"|="===Ca?Va===Ba||Va.slice(0,Ba.length+1)===Ba+"-":!1}},CHILD:function(la,Ca,Ba,Va,Ya){var fb="nth"!==la.slice(0,3),kb="last"!==la.slice(-4),wb="of-type"===Ca;return 1===Va&&0===Ya?function(cb){return!!cb.parentNode}:function(cb,sb,yb){var qb,Jb;sb=fb!==kb?"nextSibling":"previousSibling";var Pb=cb.parentNode,yc=wb&&cb.nodeName.toLowerCase(),Wb=!yb&&!wb;var Kb=!1;if(Pb){if(fb){for(;sb;){for(qb=
cb;qb=qb[sb];)if(wb?e(qb,yc):1===qb.nodeType)return!1;var uc=sb="only"===la&&!uc&&"nextSibling"}return!0}uc=[kb?Pb.firstChild:Pb.lastChild];if(kb&&Wb)for(yb=Pb[Ob]||(Pb[Ob]={}),Kb=yb[la]||[],Kb=(Jb=Kb[0]===Dc&&Kb[1])&&Kb[2],qb=Jb&&Pb.childNodes[Jb];qb=++Jb&&qb&&qb[sb]||(Kb=Jb=0)||uc.pop();){if(1===qb.nodeType&&++Kb&&qb===cb){yb[la]=[Dc,Jb,Kb];break}}else if(Wb&&(yb=cb[Ob]||(cb[Ob]={}),Kb=yb[la]||[],Kb=Jb=Kb[0]===Dc&&Kb[1]),!1===Kb)for(;(qb=++Jb&&qb&&qb[sb]||(Kb=Jb=0)||uc.pop())&&((wb?!e(qb,yc):1!==
qb.nodeType)||!++Kb||(Wb&&(yb=qb[Ob]||(qb[Ob]={}),yb[la]=[Dc,Kb]),qb!==cb)););Kb-=Ya;return Kb===Va||0===Kb%Va&&0<=Kb/Va}}},PSEUDO:function(la,Ca){var Ba=Fb.pseudos[la]||Fb.setFilters[la.toLowerCase()]||p.error("unsupported pseudo: "+la);if(Ba[Ob])return Ba(Ca);if(1<Ba.length){var Va=[la,la,"",Ca];return Fb.setFilters.hasOwnProperty(la.toLowerCase())?L(function(Ya,fb){for(var kb,wb=Ba(Ya,Ca),cb=wb.length;cb--;)kb=Ea.call(Ya,wb[cb]),Ya[kb]=!(fb[kb]=wb[cb])}):function(Ya){return Ba(Ya,0,Va)}}return Ba}},
pseudos:{not:L(function(la){var Ca=[],Ba=[],Va=Sb(la.replace(rc,"$1"));return Va[Ob]?L(function(Ya,fb,kb,wb){wb=Va(Ya,null,wb,[]);for(var cb=Ya.length;cb--;)if(kb=wb[cb])Ya[cb]=!(fb[cb]=kb)}):function(Ya,fb,kb){Ca[0]=Ya;Va(Ca,null,kb,Ba);Ca[0]=null;return!Ba.pop()}}),has:L(function(la){return function(Ca){return 0<p(la,Ca).length}}),contains:L(function(la){la=la.replace(Bc,Cc);return function(Ca){return-1<(Ca.textContent||O.text(Ca)).indexOf(la)}}),lang:L(function(la){nd.test(la||"")||p.error("unsupported lang: "+
la);la=la.replace(Bc,Cc).toLowerCase();return function(Ca){var Ba;do if(Ba=cc?Ca.lang:Ca.getAttribute("xml:lang")||Ca.getAttribute("lang"))return Ba=Ba.toLowerCase(),Ba===la||0===Ba.indexOf(la+"-");while((Ca=Ca.parentNode)&&1===Ca.nodeType);return!1}}),target:function(la){var Ca=w.location&&w.location.hash;return Ca&&Ca.slice(1)===la.id},root:function(la){return la===nc},focus:function(la){a:{try{var Ca=Cb.activeElement;break a}catch(Ba){}Ca=void 0}return la===Ca&&Cb.hasFocus()&&!!(la.type||la.href||
~la.tabIndex)},enabled:ka(!1),disabled:ka(!0),checked:function(la){return e(la,"input")&&!!la.checked||e(la,"option")&&!!la.selected},selected:function(la){la.parentNode&&la.parentNode.selectedIndex;return!0===la.selected},empty:function(la){for(la=la.firstChild;la;la=la.nextSibling)if(6>la.nodeType)return!1;return!0},parent:function(la){return!Fb.pseudos.empty(la)},header:function(la){return pd.test(la.nodeName)},input:function(la){return od.test(la.nodeName)},button:function(la){return e(la,"input")&&
"button"===la.type||e(la,"button")},text:function(la){var Ca;return e(la,"input")&&"text"===la.type&&(null==(Ca=la.getAttribute("type"))||"text"===Ca.toLowerCase())},first:Aa(function(){return[0]}),last:Aa(function(la,Ca){return[Ca-1]}),eq:Aa(function(la,Ca,Ba){return[0>Ba?Ba+Ca:Ba]}),even:Aa(function(la,Ca){for(var Ba=0;Ba<Ca;Ba+=2)la.push(Ba);return la}),odd:Aa(function(la,Ca){for(var Ba=1;Ba<Ca;Ba+=2)la.push(Ba);return la}),lt:Aa(function(la,Ca,Ba){for(Ca=0>Ba?Ba+Ca:Ba>Ca?Ca:Ba;0<=--Ca;)la.push(Ca);
return la}),gt:Aa(function(la,Ca,Ba){for(Ba=0>Ba?Ba+Ca:Ba;++Ba<Ca;)la.push(Ba);return la})}};Fb.pseudos.nth=Fb.pseudos.eq;for(Ab in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Fb.pseudos[Ab]=T(Ab);for(Ab in{submit:!0,reset:!0})Fb.pseudos[Ab]=X(Ab);Ta.prototype=Fb.filters=Fb.pseudos;Fb.setFilters=new Ta;J.sortStable=Ob.split("").sort(Pc).join("")===Ob;wa();J.sortDetached=P(function(la){return la.compareDocumentPosition(Cb.createElement("fieldset"))&1});O.find=p;O.expr[":"]=O.expr.pseudos;O.unique=
O.uniqueSort;p.compile=Sb;p.select=hc;p.setDocument=wa;p.tokenize=bb;p.escape=O.escapeSelector;p.getText=O.text;p.isXML=O.isXMLDoc;p.selectors=O.expr;p.support=O.support;p.uniqueSort=O.uniqueSort})();var Sa=function(p,A,L){for(var P=[],T=void 0!==L;(p=p[A])&&9!==p.nodeType;)if(1===p.nodeType){if(T&&O(p).is(L))break;P.push(p)}return P},ob=function(p,A){for(var L=[];p;p=p.nextSibling)1===p.nodeType&&p!==A&&L.push(p);return L},Tb=O.expr.match.needsContext,Bb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
O.filter=function(p,A,L){var P=A[0];L&&(p=":not("+p+")");return 1===A.length&&1===P.nodeType?O.find.matchesSelector(P,p)?[P]:[]:O.find.matches(p,O.grep(A,function(T){return 1===T.nodeType}))};O.fn.extend({find:function(p){var A,L=this.length,P=this;if("string"!==typeof p)return this.pushStack(O(p).filter(function(){for(A=0;A<L;A++)if(O.contains(P[A],this))return!0}));var T=this.pushStack([]);for(A=0;A<L;A++)O.find(p,P[A],T);return 1<L?O.uniqueSort(T):T},filter:function(p){return this.pushStack(a(this,
p||[],!1))},not:function(p){return this.pushStack(a(this,p||[],!0))},is:function(p){return!!a(this,"string"===typeof p&&Tb.test(p)?O(p):p||[],!1).length}});var zc=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(O.fn.init=function(p,A,L){if(!p)return this;L=L||kc;if("string"===typeof p){var P="<"===p[0]&&">"===p[p.length-1]&&3<=p.length?[null,p,null]:zc.exec(p);if(!P||!P[1]&&A)return!A||A.jquery?(A||L).find(p):this.constructor(A).find(p);if(P[1]){if(A=A instanceof O?A[0]:A,O.merge(this,O.parseHTML(P[1],A&&
A.nodeType?A.ownerDocument||A:Qa,!0)),Bb.test(P[1])&&O.isPlainObject(A))for(P in A)if(Y(this[P]))this[P](A[P]);else this.attr(P,A[P])}else if(p=Qa.getElementById(P[2]))this[0]=p,this.length=1;return this}return p.nodeType?(this[0]=p,this.length=1,this):Y(p)?void 0!==L.ready?L.ready(p):p(O):O.makeArray(p,this)}).prototype=O.fn;var kc=O(Qa);var sc=/^(?:parents|prev(?:Until|All))/,fc={children:!0,contents:!0,next:!0,prev:!0};O.fn.extend({has:function(p){var A=O(p,this),L=A.length;return this.filter(function(){for(var P=
0;P<L;P++)if(O.contains(this,A[P]))return!0})},closest:function(p,A){var L,P=0,T=this.length,X=[],ka="string"!==typeof p&&O(p);if(!Tb.test(p))for(;P<T;P++)for(L=this[P];L&&L!==A;L=L.parentNode)if(11>L.nodeType&&(ka?-1<ka.index(L):1===L.nodeType&&O.find.matchesSelector(L,p))){X.push(L);break}return this.pushStack(1<X.length?O.uniqueSort(X):X)},index:function(p){return p?"string"===typeof p?Ea.call(O(p),this[0]):Ea.call(this,p.jquery?p[0]:p):this[0]&&this[0].parentNode?this.first().prevAll().length:
-1},add:function(p,A){return this.pushStack(O.uniqueSort(O.merge(this.get(),O(p,A))))},addBack:function(p){return this.add(null==p?this.prevObject:this.prevObject.filter(p))}});O.each({parent:function(p){return(p=p.parentNode)&&11!==p.nodeType?p:null},parents:function(p){return Sa(p,"parentNode")},parentsUntil:function(p,A,L){return Sa(p,"parentNode",L)},next:function(p){return l(p,"nextSibling")},prev:function(p){return l(p,"previousSibling")},nextAll:function(p){return Sa(p,"nextSibling")},prevAll:function(p){return Sa(p,
"previousSibling")},nextUntil:function(p,A,L){return Sa(p,"nextSibling",L)},prevUntil:function(p,A,L){return Sa(p,"previousSibling",L)},siblings:function(p){return ob((p.parentNode||{}).firstChild,p)},children:function(p){return ob(p.firstChild)},contents:function(p){if(null!=p.contentDocument&&ba(p.contentDocument))return p.contentDocument;e(p,"template")&&(p=p.content||p);return O.merge([],p.childNodes)}},function(p,A){O.fn[p]=function(L,P){var T=O.map(this,A,L);"Until"!==p.slice(-5)&&(P=L);P&&
"string"===typeof P&&(T=O.filter(P,T));1<this.length&&(fc[p]||O.uniqueSort(T),sc.test(p)&&T.reverse());return this.pushStack(T)}});var xb=/[^\x20\t\r\n\f]+/g;O.Callbacks=function(p){p="string"===typeof p?q(p):O.extend({},p);var A,L,P,T,X=[],ka=[],Aa=-1,va=function(){T=T||p.once;for(P=A=!0;ka.length;Aa=-1)for(L=ka.shift();++Aa<X.length;)!1===X[Aa].apply(L[0],L[1])&&p.stopOnFalse&&(Aa=X.length,L=!1);p.memory||(L=!1);A=!1;T&&(X=L?[]:"")},wa={add:function(){X&&(L&&!A&&(Aa=X.length-1,ka.push(L)),function jb(bb){O.each(bb,
function(Gb,vb){Y(vb)?p.unique&&wa.has(vb)||X.push(vb):vb&&vb.length&&"string"!==E(vb)&&jb(vb)})}(arguments),L&&!A&&va());return this},remove:function(){O.each(arguments,function(Ta,bb){for(var jb;-1<(jb=O.inArray(bb,X,jb));)X.splice(jb,1),jb<=Aa&&Aa--});return this},has:function(Ta){return Ta?-1<O.inArray(Ta,X):0<X.length},empty:function(){X&&=[];return this},disable:function(){T=ka=[];X=L="";return this},disabled:function(){return!X},lock:function(){T=ka=[];L||A||(X=L="");return this},locked:function(){return!!T},
fireWith:function(Ta,bb){T||(bb=bb||[],bb=[Ta,bb.slice?bb.slice():bb],ka.push(bb),A||va());return this},fire:function(){wa.fireWith(this,arguments);return this},fired:function(){return!!P}};return wa};O.extend({Deferred:function(p){var A=[["notify","progress",O.Callbacks("memory"),O.Callbacks("memory"),2],["resolve","done",O.Callbacks("once memory"),O.Callbacks("once memory"),0,"resolved"],["reject","fail",O.Callbacks("once memory"),O.Callbacks("once memory"),1,"rejected"]],L="pending",P={state:function(){return L},
always:function(){T.done(arguments).fail(arguments);return this},"catch":function(X){return P.then(null,X)},pipe:function(){var X=arguments;return O.Deferred(function(ka){O.each(A,function(Aa,va){var wa=Y(X[va[4]])&&X[va[4]];T[va[1]](function(){var Ta=wa&&wa.apply(this,arguments);if(Ta&&Y(Ta.promise))Ta.promise().progress(ka.notify).done(ka.resolve).fail(ka.reject);else ka[va[0]+"With"](this,wa?[Ta]:arguments)})});X=null}).promise()},then:function(X,ka,Aa){function va(Ta,bb,jb,Gb){return function(){var vb=
this,Vb=arguments,$b=function(){if(!(Ta<wa)){var ub=jb.apply(vb,Vb);if(ub===bb.promise())throw new TypeError("Thenable self-resolution");var Sb=ub&&("object"===typeof ub||"function"===typeof ub)&&ub.then;Y(Sb)?Gb?Sb.call(ub,va(wa,bb,r,Gb),va(wa,bb,b,Gb)):(wa++,Sb.call(ub,va(wa,bb,r,Gb),va(wa,bb,b,Gb),va(wa,bb,r,bb.notifyWith))):(jb!==r&&(vb=void 0,Vb=[ub]),(Gb||bb.resolveWith)(vb,Vb))}},pc=Gb?$b:function(){try{$b()}catch(ub){O.Deferred.exceptionHook&&O.Deferred.exceptionHook(ub,pc.error),Ta+1>=wa&&
(jb!==b&&(vb=void 0,Vb=[ub]),bb.rejectWith(vb,Vb))}};Ta?pc():(O.Deferred.getErrorHook?pc.error=O.Deferred.getErrorHook():O.Deferred.getStackHook&&(pc.error=O.Deferred.getStackHook()),w.setTimeout(pc))}}var wa=0;return O.Deferred(function(Ta){A[0][3].add(va(0,Ta,Y(Aa)?Aa:r,Ta.notifyWith));A[1][3].add(va(0,Ta,Y(X)?X:r));A[2][3].add(va(0,Ta,Y(ka)?ka:b))}).promise()},promise:function(X){return null!=X?O.extend(X,P):P}},T={};O.each(A,function(X,ka){var Aa=ka[2],va=ka[5];P[ka[1]]=Aa.add;va&&Aa.add(function(){L=
va},A[3-X][2].disable,A[3-X][3].disable,A[0][2].lock,A[0][3].lock);Aa.add(ka[3].fire);T[ka[0]]=function(){T[ka[0]+"With"](this===T?void 0:this,arguments);return this};T[ka[0]+"With"]=Aa.fireWith});P.promise(T);p&&p.call(T,T);return T},when:function(p){var A=arguments.length,L=A,P=Array(L),T=ea.call(arguments),X=O.Deferred(),ka=function(Aa){return function(va){P[Aa]=this;T[Aa]=1<arguments.length?ea.call(arguments):va;--A||X.resolveWith(P,T)}};if(1>=A&&(d(p,X.done(ka(L)).resolve,X.reject,!A),"pending"===
X.state()||Y(T[L]&&T[L].then)))return X.then();for(;L--;)d(T[L],ka(L),X.reject);return X.promise()}});var jc=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;O.Deferred.exceptionHook=function(p,A){w.console&&w.console.warn&&p&&jc.test(p.name)&&w.console.warn("jQuery.Deferred exception: "+p.message,p.stack,A)};O.readyException=function(p){w.setTimeout(function(){throw p;})};var Eb=O.Deferred();O.fn.ready=function(p){Eb.then(p).catch(function(A){O.readyException(A)});return this};O.extend({isReady:!1,
readyWait:1,ready:function(p){(!0===p?--O.readyWait:O.isReady)||(O.isReady=!0,!0!==p&&0<--O.readyWait||Eb.resolveWith(Qa,[O]))}});O.ready.then=Eb.then;"complete"===Qa.readyState||"loading"!==Qa.readyState&&!Qa.documentElement.doScroll?w.setTimeout(O.ready):(Qa.addEventListener("DOMContentLoaded",g),w.addEventListener("load",g));var Qb=function(p,A,L,P,T,X,ka){var Aa=0,va=p.length,wa=null==L;if("object"===E(L))for(Aa in T=!0,L)Qb(p,A,Aa,L[Aa],!0,X,ka);else if(void 0!==P&&(T=!0,Y(P)||(ka=!0),wa&&(ka?
(A.call(p,P),A=null):(wa=A,A=function(Ta,bb,jb){return wa.call(O(Ta),jb)})),A))for(;Aa<va;Aa++)A(p[Aa],L,ka?P:P.call(p[Aa],Aa,A(p[Aa],L)));return T?p:wa?A.call(p):va?A(p[0],L):X},lb=/^-ms-/,gc=/-([a-z])/g,Yb=function(p){return 1===p.nodeType||9===p.nodeType||!+p.nodeType};n.uid=1;n.prototype={cache:function(p){var A=p[this.expando];A||(A={},Yb(p)&&(p.nodeType?p[this.expando]=A:Object.defineProperty(p,this.expando,{value:A,configurable:!0})));return A},set:function(p,A,L){var P;p=this.cache(p);if("string"===
typeof A)p[f(A)]=L;else for(P in A)p[f(P)]=A[P];return p},get:function(p,A){return void 0===A?this.cache(p):p[this.expando]&&p[this.expando][f(A)]},access:function(p,A,L){if(void 0===A||A&&"string"===typeof A&&void 0===L)return this.get(p,A);this.set(p,A,L);return void 0!==L?L:A},remove:function(p,A){var L,P=p[this.expando];if(void 0!==P){if(void 0!==A)for(Array.isArray(A)?A=A.map(f):(A=f(A),A=A in P?[A]:A.match(xb)||[]),L=A.length;L--;)delete P[A[L]];if(void 0===A||O.isEmptyObject(P))p.nodeType?
p[this.expando]=void 0:delete p[this.expando]}},hasData:function(p){p=p[this.expando];return void 0!==p&&!O.isEmptyObject(p)}};var mb=new n,Nb=new n,dc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,qc=/[A-Z]/g;O.extend({hasData:function(p){return Nb.hasData(p)||mb.hasData(p)},data:function(p,A,L){return Nb.access(p,A,L)},removeData:function(p,A){Nb.remove(p,A)},_data:function(p,A,L){return mb.access(p,A,L)},_removeData:function(p,A){mb.remove(p,A)}});O.fn.extend({data:function(p,A){var L,P=this[0],T=P&&P.attributes;
if(void 0===p){if(this.length){var X=Nb.get(P);if(1===P.nodeType&&!mb.get(P,"hasDataAttrs")){for(L=T.length;L--;)if(T[L]){var ka=T[L].name;0===ka.indexOf("data-")&&(ka=f(ka.slice(5)),t(P,ka,X[ka]))}mb.set(P,"hasDataAttrs",!0)}}return X}return"object"===typeof p?this.each(function(){Nb.set(this,p)}):Qb(this,function(Aa){if(P&&void 0===Aa){var va=Nb.get(P,p);if(void 0!==va)return va;va=t(P,p);if(void 0!==va)return va}else this.each(function(){Nb.set(this,p,Aa)})},null,A,1<arguments.length,null,!0)},
removeData:function(p){return this.each(function(){Nb.remove(this,p)})}});O.extend({queue:function(p,A,L){if(p){A=(A||"fx")+"queue";var P=mb.get(p,A);L&&(!P||Array.isArray(L)?P=mb.access(p,A,O.makeArray(L)):P.push(L));return P||[]}},dequeue:function(p,A){A=A||"fx";var L=O.queue(p,A),P=L.length,T=L.shift(),X=O._queueHooks(p,A),ka=function(){O.dequeue(p,A)};"inprogress"===T&&(T=L.shift(),P--);T&&("fx"===A&&L.unshift("inprogress"),delete X.stop,T.call(p,ka,X));!P&&X&&X.empty.fire()},_queueHooks:function(p,
A){var L=A+"queueHooks";return mb.get(p,L)||mb.access(p,L,{empty:O.Callbacks("once memory").add(function(){mb.remove(p,[A+"queue",L])})})}});O.fn.extend({queue:function(p,A){var L=2;"string"!==typeof p&&(A=p,p="fx",L--);return arguments.length<L?O.queue(this[0],p):void 0===A?this:this.each(function(){var P=O.queue(this,p,A);O._queueHooks(this,p);"fx"===p&&"inprogress"!==P[0]&&O.dequeue(this,p)})},dequeue:function(p){return this.each(function(){O.dequeue(this,p)})},clearQueue:function(p){return this.queue(p||
"fx",[])},promise:function(p,A){var L,P=1,T=O.Deferred(),X=this,ka=this.length,Aa=function(){--P||T.resolveWith(X,[X])};"string"!==typeof p&&(A=p,p=void 0);for(p=p||"fx";ka--;)(L=mb.get(X[ka],p+"queueHooks"))&&L.empty&&(P++,L.empty.add(Aa));Aa();return T.promise(A)}});var wc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xb=new RegExp("^(?:([+-])=|)("+wc+")([a-z%]*)$","i"),Ub=["Top","Right","Bottom","Left"],mc=Qa.documentElement,xc=function(p){return O.contains(p.ownerDocument,p)},Fc={composed:!0};
mc.getRootNode&&(xc=function(p){return O.contains(p.ownerDocument,p)||p.getRootNode(Fc)===p.ownerDocument});var Ac=function(p,A){p=A||p;return"none"===p.style.display||""===p.style.display&&xc(p)&&"none"===O.css(p,"display")},Ec={};O.fn.extend({show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(p){return"boolean"===typeof p?p?this.show():this.hide():this.each(function(){Ac(this)?O(this).show():O(this).hide()})}});var tc=/^(?:checkbox|radio)$/i,fa=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
Ka=/^$|^module$|\/(?:java|ecma)script/i;(function(){var p=Qa.createDocumentFragment().appendChild(Qa.createElement("div")),A=Qa.createElement("input");A.setAttribute("type","radio");A.setAttribute("checked","checked");A.setAttribute("name","t");p.appendChild(A);J.checkClone=p.cloneNode(!0).cloneNode(!0).lastChild.checked;p.innerHTML="<textarea>x</textarea>";J.noCloneChecked=!!p.cloneNode(!0).lastChild.defaultValue;p.innerHTML="<option></option>";J.option=!!p.lastChild})();var Ra={thead:[1,"<table>",
"</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ra.tbody=Ra.tfoot=Ra.colgroup=Ra.caption=Ra.thead;Ra.th=Ra.td;J.option||(Ra.optgroup=Ra.option=[1,"<select multiple='multiple'>","</select>"]);var eb=/<|&#?\w+;/,ib=/^([^.]*)(?:\.(.+)|)/;O.event={global:{},add:function(p,A,L,P,T){var X,ka,Aa,va;var wa=mb.get(p);if(Yb(p)){if(L.handler){var Ta=L;L=Ta.handler;T=Ta.selector}T&&
O.find.matchesSelector(mc,T);L.guid||(L.guid=O.guid++);(ka=wa.events)||(ka=wa.events=Object.create(null));(X=wa.handle)||(X=wa.handle=function(vb){return"undefined"!==typeof O&&O.event.triggered!==vb.type?O.event.dispatch.apply(p,arguments):void 0});A=(A||"").match(xb)||[""];for(wa=A.length;wa--;){var bb=ib.exec(A[wa])||[];var jb=Aa=bb[1];var Gb=(bb[2]||"").split(".").sort();jb&&(bb=O.event.special[jb]||{},jb=(T?bb.delegateType:bb.bindType)||jb,bb=O.event.special[jb]||{},Aa=O.extend({type:jb,origType:Aa,
data:P,handler:L,guid:L.guid,selector:T,needsContext:T&&O.expr.match.needsContext.test(T),namespace:Gb.join(".")},Ta),(va=ka[jb])||(va=ka[jb]=[],va.delegateCount=0,bb.setup&&!1!==bb.setup.call(p,P,Gb,X)||p.addEventListener&&p.addEventListener(jb,X)),bb.add&&(bb.add.call(p,Aa),Aa.handler.guid||(Aa.handler.guid=L.guid)),T?va.splice(va.delegateCount++,0,Aa):va.push(Aa),O.event.global[jb]=!0)}}},remove:function(p,A,L,P,T){var X,ka,Aa,va,wa,Ta=mb.hasData(p)&&mb.get(p);if(Ta&&(Aa=Ta.events)){A=(A||"").match(xb)||
[""];for(va=A.length;va--;){var bb=ib.exec(A[va])||[];var jb=wa=bb[1];var Gb=(bb[2]||"").split(".").sort();if(jb){var vb=O.event.special[jb]||{};jb=(P?vb.delegateType:vb.bindType)||jb;var Vb=Aa[jb]||[];bb=bb[2]&&new RegExp("(^|\\.)"+Gb.join("\\.(?:.*\\.|)")+"(\\.|$)");for(ka=X=Vb.length;X--;){var $b=Vb[X];!T&&wa!==$b.origType||L&&L.guid!==$b.guid||bb&&!bb.test($b.namespace)||P&&P!==$b.selector&&("**"!==P||!$b.selector)||(Vb.splice(X,1),$b.selector&&Vb.delegateCount--,vb.remove&&vb.remove.call(p,$b))}ka&&
!Vb.length&&(vb.teardown&&!1!==vb.teardown.call(p,Gb,Ta.handle)||O.removeEvent(p,jb,Ta.handle),delete Aa[jb])}else for(jb in Aa)O.event.remove(p,jb+A[va],L,P,!0)}O.isEmptyObject(Aa)&&mb.remove(p,"handle events")}},dispatch:function(p){var A,L,P,T=Array(arguments.length),X=O.event.fix(p);var ka=(mb.get(this,"events")||Object.create(null))[X.type]||[];var Aa=O.event.special[X.type]||{};T[0]=X;for(A=1;A<arguments.length;A++)T[A]=arguments[A];X.delegateTarget=this;if(!Aa.preDispatch||!1!==Aa.preDispatch.call(this,
X)){var va=O.event.handlers.call(this,X,ka);for(A=0;(P=va[A++])&&!X.isPropagationStopped();)for(X.currentTarget=P.elem,ka=0;(L=P.handlers[ka++])&&!X.isImmediatePropagationStopped();)if(!X.rnamespace||!1===L.namespace||X.rnamespace.test(L.namespace))X.handleObj=L,X.data=L.data,L=((O.event.special[L.origType]||{}).handle||L.handler).apply(P.elem,T),void 0!==L&&!1===(X.result=L)&&(X.preventDefault(),X.stopPropagation());Aa.postDispatch&&Aa.postDispatch.call(this,X);return X.result}},handlers:function(p,
A){var L,P=[],T=A.delegateCount,X=p.target;if(T&&X.nodeType&&!("click"===p.type&&1<=p.button))for(;X!==this;X=X.parentNode||this)if(1===X.nodeType&&("click"!==p.type||!0!==X.disabled)){var ka=[];var Aa={};for(L=0;L<T;L++){var va=A[L];var wa=va.selector+" ";void 0===Aa[wa]&&(Aa[wa]=va.needsContext?-1<O(wa,this).index(X):O.find(wa,this,null,[X]).length);Aa[wa]&&ka.push(va)}ka.length&&P.push({elem:X,handlers:ka})}T<A.length&&P.push({elem:this,handlers:A.slice(T)});return P},addProp:function(p,A){Object.defineProperty(O.Event.prototype,
p,{enumerable:!0,configurable:!0,get:Y(A)?function(){if(this.originalEvent)return A(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[p]},set:function(L){Object.defineProperty(this,p,{enumerable:!0,configurable:!0,writable:!0,value:L})}})},fix:function(p){return p[O.expando]?p:new O.Event(p)},special:{load:{noBubble:!0},click:{setup:function(p){p=this||p;tc.test(p.type)&&p.click&&e(p,"input")&&I(p,"click",!0);return!1},trigger:function(p){p=this||p;tc.test(p.type)&&p.click&&
e(p,"input")&&I(p,"click");return!0},_default:function(p){p=p.target;return tc.test(p.type)&&p.click&&e(p,"input")&&mb.get(p,"click")||e(p,"a")}},beforeunload:{postDispatch:function(p){void 0!==p.result&&p.originalEvent&&(p.originalEvent.returnValue=p.result)}}}};O.removeEvent=function(p,A,L){p.removeEventListener&&p.removeEventListener(A,L)};O.Event=function(p,A){if(!(this instanceof O.Event))return new O.Event(p,A);p&&p.type?(this.originalEvent=p,this.type=p.type,this.isDefaultPrevented=p.defaultPrevented||
void 0===p.defaultPrevented&&!1===p.returnValue?x:F,this.target=p.target&&3===p.target.nodeType?p.target.parentNode:p.target,this.currentTarget=p.currentTarget,this.relatedTarget=p.relatedTarget):this.type=p;A&&O.extend(this,A);this.timeStamp=p&&p.timeStamp||Date.now();this[O.expando]=!0};O.Event.prototype={constructor:O.Event,isDefaultPrevented:F,isPropagationStopped:F,isImmediatePropagationStopped:F,isSimulated:!1,preventDefault:function(){var p=this.originalEvent;this.isDefaultPrevented=x;p&&!this.isSimulated&&
p.preventDefault()},stopPropagation:function(){var p=this.originalEvent;this.isPropagationStopped=x;p&&!this.isSimulated&&p.stopPropagation()},stopImmediatePropagation:function(){var p=this.originalEvent;this.isImmediatePropagationStopped=x;p&&!this.isSimulated&&p.stopImmediatePropagation();this.stopPropagation()}};O.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,
button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},O.event.addProp);O.each({focus:"focusin",blur:"focusout"},function(p,A){function L(P){if(Qa.documentMode){var T=mb.get(this,"handle"),X=O.event.fix(P);X.type="focusin"===P.type?"focus":"blur";X.isSimulated=!0;T(P);X.target===X.currentTarget&&T(X)}else O.event.simulate(A,P.target,O.event.fix(P))}O.event.special[p]={setup:function(){var P;
I(this,p,!0);if(Qa.documentMode)(P=mb.get(this,A))||this.addEventListener(A,L),mb.set(this,A,(P||0)+1);else return!1},trigger:function(){I(this,p);return!0},teardown:function(){var P;if(Qa.documentMode)(P=mb.get(this,A)-1)?mb.set(this,A,P):(this.removeEventListener(A,L),mb.remove(this,A));else return!1},_default:function(P){return mb.get(P.target,p)},delegateType:A};O.event.special[A]={setup:function(){var P=this.ownerDocument||this.document||this,T=Qa.documentMode?this:P,X=mb.get(T,A);X||(Qa.documentMode?
this.addEventListener(A,L):P.addEventListener(p,L,!0));mb.set(T,A,(X||0)+1)},teardown:function(){var P=this.ownerDocument||this.document||this,T=Qa.documentMode?this:P,X=mb.get(T,A)-1;X?mb.set(T,A,X):(Qa.documentMode?this.removeEventListener(A,L):P.removeEventListener(p,L,!0),mb.remove(T,A))}}});O.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(p,A){O.event.special[p]={delegateType:A,bindType:A,handle:function(L){var P=L.relatedTarget,
T=L.handleObj;if(!P||P!==this&&!O.contains(this,P)){L.type=T.origType;var X=T.handler.apply(this,arguments);L.type=A}return X}}});O.fn.extend({on:function(p,A,L,P){return G(this,p,A,L,P)},one:function(p,A,L,P){return G(this,p,A,L,P,1)},off:function(p,A,L){if(p&&p.preventDefault&&p.handleObj){var P=p.handleObj;O(p.delegateTarget).off(P.namespace?P.origType+"."+P.namespace:P.origType,P.selector,P.handler);return this}if("object"===typeof p){for(P in p)this.off(P,A,p[P]);return this}if(!1===A||"function"===
typeof A)L=A,A=void 0;!1===L&&(L=F);return this.each(function(){O.event.remove(this,p,L,A)})}});var hb=/<script|<style|<link/i,V=/checked\s*(?:[^=]|=\s*.checked.)/i,pa=/^\s*<!\[CDATA\[|\]\]>\s*$/g;O.extend({htmlPrefilter:function(p){return p},clone:function(p,A,L){var P,T=p.cloneNode(!0),X=xc(p);if(!(J.noCloneChecked||1!==p.nodeType&&11!==p.nodeType||O.isXMLDoc(p))){var ka=z(T);var Aa=z(p);var va=0;for(P=Aa.length;va<P;va++){var wa=Aa[va],Ta=ka[va],bb=Ta.nodeName.toLowerCase();if("input"===bb&&tc.test(wa.type))Ta.checked=
wa.checked;else if("input"===bb||"textarea"===bb)Ta.defaultValue=wa.defaultValue}}if(A)if(L)for(Aa=Aa||z(p),ka=ka||z(T),va=0,P=Aa.length;va<P;va++)ca(Aa[va],ka[va]);else ca(p,T);ka=z(T,"script");0<ka.length&&H(ka,!X&&z(p,"script"));return T},cleanData:function(p){for(var A,L,P,T=O.event.special,X=0;void 0!==(L=p[X]);X++)if(Yb(L)){if(A=L[mb.expando]){if(A.events)for(P in A.events)T[P]?O.event.remove(L,P):O.removeEvent(L,P,A.handle);L[mb.expando]=void 0}L[Nb.expando]&&(L[Nb.expando]=void 0)}}});O.fn.extend({detach:function(p){return na(this,
p,!0)},remove:function(p){return na(this,p)},text:function(p){return Qb(this,function(A){return void 0===A?O.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=A})},null,p,arguments.length)},append:function(){return sa(this,arguments,function(p){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||M(this,p).appendChild(p)})},prepend:function(){return sa(this,arguments,function(p){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var A=
M(this,p);A.insertBefore(p,A.firstChild)}})},before:function(){return sa(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this)})},after:function(){return sa(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this.nextSibling)})},empty:function(){for(var p,A=0;null!=(p=this[A]);A++)1===p.nodeType&&(O.cleanData(z(p,!1)),p.textContent="");return this},clone:function(p,A){p=null==p?!1:p;A=null==A?p:A;return this.map(function(){return O.clone(this,p,A)})},
html:function(p){return Qb(this,function(A){var L=this[0]||{},P=0,T=this.length;if(void 0===A&&1===L.nodeType)return L.innerHTML;if("string"===typeof A&&!hb.test(A)&&!Ra[(fa.exec(A)||["",""])[1].toLowerCase()]){A=O.htmlPrefilter(A);try{for(;P<T;P++)L=this[P]||{},1===L.nodeType&&(O.cleanData(z(L,!1)),L.innerHTML=A);L=0}catch(X){}}L&&this.empty().append(A)},null,p,arguments.length)},replaceWith:function(){var p=[];return sa(this,arguments,function(A){var L=this.parentNode;0>O.inArray(this,p)&&(O.cleanData(z(this)),
L&&L.replaceChild(A,this))},p)}});O.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(p,A){O.fn[p]=function(L){for(var P=[],T=O(L),X=T.length-1,ka=0;ka<=X;ka++)L=ka===X?this:this.clone(!0),O(T[ka])[A](L),ua.apply(P,L.get());return this.pushStack(P)}});var La=new RegExp("^("+wc+")(?!px)[a-z%]+$","i"),ja=/^--/,Da=function(p){var A=p.ownerDocument.defaultView;A&&A.opener||(A=w);return A.getComputedStyle(p)},Oa=function(p,A,L){var P,
T={};for(P in A)T[P]=p.style[P],p.style[P]=A[P];L=L.call(p);for(P in A)p.style[P]=T[P];return L},Ia=new RegExp(Ub.join("|"),"i");(function(){function p(){if(va){Aa.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";va.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";mc.appendChild(Aa).appendChild(va);var wa=w.getComputedStyle(va);A="1%"!==wa.top;ka=12===Math.round(parseFloat(wa.marginLeft));
va.style.right="60%";T=36===Math.round(parseFloat(wa.right));L=36===Math.round(parseFloat(wa.width));va.style.position="absolute";P=12===Math.round(parseFloat(va.offsetWidth/3));mc.removeChild(Aa);va=null}}var A,L,P,T,X,ka,Aa=Qa.createElement("div"),va=Qa.createElement("div");va.style&&(va.style.backgroundClip="content-box",va.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===va.style.backgroundClip,O.extend(J,{boxSizingReliable:function(){p();return L},pixelBoxStyles:function(){p();
return T},pixelPosition:function(){p();return A},reliableMarginLeft:function(){p();return ka},scrollboxSize:function(){p();return P},reliableTrDimensions:function(){if(null==X){var wa=Qa.createElement("table");var Ta=Qa.createElement("tr");var bb=Qa.createElement("div");wa.style.cssText="position:absolute;left:-11111px;border-collapse:separate";Ta.style.cssText="box-sizing:content-box;border:1px solid";Ta.style.height="1px";bb.style.height="9px";bb.style.display="block";mc.appendChild(wa).appendChild(Ta).appendChild(bb);
bb=w.getComputedStyle(Ta);X=parseInt(bb.height,10)+parseInt(bb.borderTopWidth,10)+parseInt(bb.borderBottomWidth,10)===Ta.offsetHeight;mc.removeChild(wa)}return X}}))})();var Wa=["Webkit","Moz","ms"],Za=Qa.createElement("div").style,nb={},pb=/^(none|table(?!-c[ea]).+)/,ac={position:"absolute",visibility:"hidden",display:"block"},zb={letterSpacing:"0",fontWeight:"400"};O.extend({cssHooks:{opacity:{get:function(p,A){if(A)return p=Q(p,"opacity"),""===p?"1":p}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,
borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(p,A,L,P){if(p&&3!==p.nodeType&&8!==p.nodeType&&p.style){var T,X=f(A),ka=ja.test(A),Aa=p.style;ka||(A=ia(X));var va=O.cssHooks[A]||
O.cssHooks[X];if(void 0!==L){var wa=typeof L;"string"===wa&&(T=Xb.exec(L))&&T[1]&&(L=y(p,A,T),wa="number");null!=L&&L===L&&("number"!==wa||ka||(L+=T&&T[3]||(O.cssNumber[X]?"":"px")),J.clearCloneStyle||""!==L||0!==A.indexOf("background")||(Aa[A]="inherit"),va&&"set"in va&&void 0===(L=va.set(p,L,P))||(ka?Aa.setProperty(A,L):Aa[A]=L))}else return va&&"get"in va&&void 0!==(T=va.get(p,!1,P))?T:Aa[A]}},css:function(p,A,L,P){var T;var X=f(A);ja.test(A)||(A=ia(X));(X=O.cssHooks[A]||O.cssHooks[X])&&"get"in
X&&(T=X.get(p,!0,L));void 0===T&&(T=Q(p,A,P));"normal"===T&&A in zb&&(T=zb[A]);return""===L||L?(p=parseFloat(T),!0===L||isFinite(p)?p||0:T):T}});O.each(["height","width"],function(p,A){O.cssHooks[A]={get:function(L,P,T){if(P)return!pb.test(O.css(L,"display"))||L.getClientRects().length&&L.getBoundingClientRect().width?Ga(L,A,T):Oa(L,ac,function(){return Ga(L,A,T)})},set:function(L,P,T){var X,ka=Da(L),Aa=!J.scrollboxSize()&&"absolute"===ka.position,va=(Aa||T)&&"border-box"===O.css(L,"boxSizing",!1,
ka);T=T?ta(L,A,T,va,ka):0;va&&Aa&&(T-=Math.ceil(L["offset"+A[0].toUpperCase()+A.slice(1)]-parseFloat(ka[A])-ta(L,A,"border",!1,ka)-.5));T&&(X=Xb.exec(P))&&"px"!==(X[3]||"px")&&(L.style[A]=P,P=O.css(L,A));return ya(L,P,T)}}});O.cssHooks.marginLeft=oa(J.reliableMarginLeft,function(p,A){if(A)return(parseFloat(Q(p,"marginLeft"))||p.getBoundingClientRect().left-Oa(p,{marginLeft:0},function(){return p.getBoundingClientRect().left}))+"px"});O.each({margin:"",padding:"",border:"Width"},function(p,A){O.cssHooks[p+
A]={expand:function(L){var P=0,T={};for(L="string"===typeof L?L.split(" "):[L];4>P;P++)T[p+Ub[P]+A]=L[P]||L[P-2]||L[0];return T}};"margin"!==p&&(O.cssHooks[p+A].set=ya)});O.fn.extend({css:function(p,A){return Qb(this,function(L,P,T){var X,ka={},Aa=0;if(Array.isArray(P)){T=Da(L);for(X=P.length;Aa<X;Aa++)ka[P[Aa]]=O.css(L,P[Aa],!1,T);return ka}return void 0!==T?O.style(L,P,T):O.css(L,P)},p,A,1<arguments.length)}});O.Tween=qa;qa.prototype={constructor:qa,init:function(p,A,L,P,T,X){this.elem=p;this.prop=
L;this.easing=T||O.easing._default;this.options=A;this.start=this.now=this.cur();this.end=P;this.unit=X||(O.cssNumber[L]?"":"px")},cur:function(){var p=qa.propHooks[this.prop];return p&&p.get?p.get(this):qa.propHooks._default.get(this)},run:function(p){var A,L=qa.propHooks[this.prop];this.pos=this.options.duration?A=O.easing[this.easing](p,this.options.duration*p,0,1,this.options.duration):A=p;this.now=(this.end-this.start)*A+this.start;this.options.step&&this.options.step.call(this.elem,this.now,
this);L&&L.set?L.set(this):qa.propHooks._default.set(this);return this}};qa.prototype.init.prototype=qa.prototype;qa.propHooks={_default:{get:function(p){return 1!==p.elem.nodeType||null!=p.elem[p.prop]&&null==p.elem.style[p.prop]?p.elem[p.prop]:(p=O.css(p.elem,p.prop,""))&&"auto"!==p?p:0},set:function(p){if(O.fx.step[p.prop])O.fx.step[p.prop](p);else 1!==p.elem.nodeType||!O.cssHooks[p.prop]&&null==p.elem.style[ia(p.prop)]?p.elem[p.prop]=p.now:O.style(p.elem,p.prop,p.now+p.unit)}}};qa.propHooks.scrollTop=
qa.propHooks.scrollLeft={set:function(p){p.elem.nodeType&&p.elem.parentNode&&(p.elem[p.prop]=p.now)}};O.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"};O.fx=qa.prototype.init;O.fx.step={};var Mb,lc,qd=/^(?:toggle|show|hide)$/,rd=/queueHooks$/;O.Animation=O.extend(xa,{tweeners:{"*":[function(p,A){var L=this.createTween(p,A);y(L.elem,p,Xb.exec(A),L);return L}]},tweener:function(p,A){Y(p)?(A=p,p=["*"]):p=p.match(xb);for(var L,P=0,T=p.length;P<
T;P++)L=p[P],xa.tweeners[L]=xa.tweeners[L]||[],xa.tweeners[L].unshift(A)},prefilters:[function(p,A,L){var P;var T="width"in A||"height"in A;var X=this,ka={},Aa=p.style,va=p.nodeType&&Ac(p),wa=mb.get(p,"fxshow");if(!L.queue){var Ta=O._queueHooks(p,"fx");if(null==Ta.unqueued){Ta.unqueued=0;var bb=Ta.empty.fire;Ta.empty.fire=function(){Ta.unqueued||bb()}}Ta.unqueued++;X.always(function(){X.always(function(){Ta.unqueued--;O.queue(p,"fx").length||Ta.empty.fire()})})}for(P in A){var jb=A[P];if(qd.test(jb)){delete A[P];
var Gb=Gb||"toggle"===jb;if(jb===(va?"hide":"show"))if("show"===jb&&wa&&void 0!==wa[P])va=!0;else continue;ka[P]=wa&&wa[P]||O.style(p,P)}}if((A=!O.isEmptyObject(A))||!O.isEmptyObject(ka)){if(T&&1===p.nodeType){L.overflow=[Aa.overflow,Aa.overflowX,Aa.overflowY];var vb=wa&&wa.display;null==vb&&(vb=mb.get(p,"display"));T=O.css(p,"display");"none"===T&&(vb?T=vb:(B([p],!0),vb=p.style.display||vb,T=O.css(p,"display"),B([p])));("inline"===T||"inline-block"===T&&null!=vb)&&"none"===O.css(p,"float")&&(A||
(X.done(function(){Aa.display=vb}),null==vb&&(T=Aa.display,vb="none"===T?"":T)),Aa.display="inline-block")}L.overflow&&(Aa.overflow="hidden",X.always(function(){Aa.overflow=L.overflow[0];Aa.overflowX=L.overflow[1];Aa.overflowY=L.overflow[2]}));A=!1;for(P in ka)A||(wa?"hidden"in wa&&(va=wa.hidden):wa=mb.access(p,"fxshow",{display:vb}),Gb&&(wa.hidden=!va),va&&B([p],!0),X.done(function(){va||B([p]);mb.remove(p,"fxshow");for(P in ka)O.style(p,P,ka[P])})),A=S(va?wa[P]:0,P,X),P in wa||(wa[P]=A.start,va&&
(A.end=A.start,A.start=0))}}],prefilter:function(p,A){A?xa.prefilters.unshift(p):xa.prefilters.push(p)}});O.speed=function(p,A,L){var P=p&&"object"===typeof p?O.extend({},p):{complete:L||!L&&A||Y(p)&&p,duration:p,easing:L&&A||A&&!Y(A)&&A};O.fx.off?P.duration=0:"number"!==typeof P.duration&&(P.duration=P.duration in O.fx.speeds?O.fx.speeds[P.duration]:O.fx.speeds._default);if(null==P.queue||!0===P.queue)P.queue="fx";P.old=P.complete;P.complete=function(){Y(P.old)&&P.old.call(this);P.queue&&O.dequeue(this,
P.queue)};return P};O.fn.extend({fadeTo:function(p,A,L,P){return this.filter(Ac).css("opacity",0).show().end().animate({opacity:A},p,L,P)},animate:function(p,A,L,P){var T=O.isEmptyObject(p),X=O.speed(A,L,P);A=function(){var ka=xa(this,O.extend({},p),X);(T||mb.get(this,"finish"))&&ka.stop(!0)};A.finish=A;return T||!1===X.queue?this.each(A):this.queue(X.queue,A)},stop:function(p,A,L){var P=function(T){var X=T.stop;delete T.stop;X(L)};"string"!==typeof p&&(L=A,A=p,p=void 0);A&&this.queue(p||"fx",[]);
return this.each(function(){var T=!0,X=null!=p&&p+"queueHooks",ka=O.timers,Aa=mb.get(this);if(X)Aa[X]&&Aa[X].stop&&P(Aa[X]);else for(X in Aa)Aa[X]&&Aa[X].stop&&rd.test(X)&&P(Aa[X]);for(X=ka.length;X--;)ka[X].elem!==this||null!=p&&ka[X].queue!==p||(ka[X].anim.stop(L),T=!1,ka.splice(X,1));!T&&L||O.dequeue(this,p)})},finish:function(p){!1!==p&&(p=p||"fx");return this.each(function(){var A=mb.get(this),L=A[p+"queue"];var P=A[p+"queueHooks"];var T=O.timers,X=L?L.length:0;A.finish=!0;O.queue(this,p,[]);
P&&P.stop&&P.stop.call(this,!0);for(P=T.length;P--;)T[P].elem===this&&T[P].queue===p&&(T[P].anim.stop(!0),T.splice(P,1));for(P=0;P<X;P++)L[P]&&L[P].finish&&L[P].finish.call(this);delete A.finish})}});O.each(["toggle","show","hide"],function(p,A){var L=O.fn[A];O.fn[A]=function(P,T,X){return null==P||"boolean"===typeof P?L.apply(this,arguments):this.animate(gb(A,!0),P,T,X)}});O.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(p,A){O.fn[p]=function(L,P,T){return this.animate(A,L,P,T)}});O.timers=[];O.fx.tick=function(){var p=0,A=O.timers;for(Mb=Date.now();p<A.length;p++){var L=A[p];L()||A[p]!==L||A.splice(p--,1)}A.length||O.fx.stop();Mb=void 0};O.fx.timer=function(p){O.timers.push(p);O.fx.start()};O.fx.interval=13;O.fx.start=function(){lc||(lc=!0,Pa())};O.fx.stop=function(){lc=null};O.fx.speeds={slow:600,fast:200,_default:400};O.fn.delay=function(p,A){p=O.fx?O.fx.speeds[p]||p:p;return this.queue(A||"fx",function(L,
P){var T=w.setTimeout(L,p);P.stop=function(){w.clearTimeout(T)}})};(function(){var p=Qa.createElement("input"),A=Qa.createElement("select").appendChild(Qa.createElement("option"));p.type="checkbox";J.checkOn=""!==p.value;J.optSelected=A.selected;p=Qa.createElement("input");p.value="t";p.type="radio";J.radioValue="t"===p.value})();var Gc=O.expr.attrHandle;O.fn.extend({attr:function(p,A){return Qb(this,O.attr,p,A,1<arguments.length)},removeAttr:function(p){return this.each(function(){O.removeAttr(this,
p)})}});O.extend({attr:function(p,A,L){var P,T,X=p.nodeType;if(3!==X&&8!==X&&2!==X){if("undefined"===typeof p.getAttribute)return O.prop(p,A,L);1===X&&O.isXMLDoc(p)||(T=O.attrHooks[A.toLowerCase()]||(O.expr.match.bool.test(A)?sd:void 0));if(void 0!==L){if(null===L){O.removeAttr(p,A);return}if(T&&"set"in T&&void 0!==(P=T.set(p,L,A)))return P;p.setAttribute(A,L+"");return L}if(T&&"get"in T&&null!==(P=T.get(p,A)))return P;P=O.find.attr(p,A);return null==P?void 0:P}},attrHooks:{type:{set:function(p,A){if(!J.radioValue&&
"radio"===A&&e(p,"input")){var L=p.value;p.setAttribute("type",A);L&&(p.value=L);return A}}}},removeAttr:function(p,A){var L=0,P=A&&A.match(xb);if(P&&1===p.nodeType)for(;A=P[L++];)p.removeAttribute(A)}});var sd={set:function(p,A,L){!1===A?O.removeAttr(p,L):p.setAttribute(L,L);return L}};O.each(O.expr.match.bool.source.match(/\w+/g),function(p,A){var L=Gc[A]||O.find.attr;Gc[A]=function(P,T,X){var ka=T.toLowerCase();if(!X){var Aa=Gc[ka];Gc[ka]=va;var va=null!=L(P,T,X)?ka:null;Gc[ka]=Aa}return va}});
var td=/^(?:input|select|textarea|button)$/i,ud=/^(?:a|area)$/i;O.fn.extend({prop:function(p,A){return Qb(this,O.prop,p,A,1<arguments.length)},removeProp:function(p){return this.each(function(){delete this[O.propFix[p]||p]})}});O.extend({prop:function(p,A,L){var P,T=p.nodeType;if(3!==T&&8!==T&&2!==T){if(1!==T||!O.isXMLDoc(p)){A=O.propFix[A]||A;var X=O.propHooks[A]}return void 0!==L?X&&"set"in X&&void 0!==(P=X.set(p,L,A))?P:p[A]=L:X&&"get"in X&&null!==(P=X.get(p,A))?P:p[A]}},propHooks:{tabIndex:{get:function(p){var A=
O.find.attr(p,"tabindex");return A?parseInt(A,10):td.test(p.nodeName)||ud.test(p.nodeName)&&p.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});J.optSelected||(O.propHooks.selected={get:function(p){(p=p.parentNode)&&p.parentNode&&p.parentNode.selectedIndex;return null},set:function(p){if(p=p.parentNode)p.selectedIndex,p.parentNode&&p.parentNode.selectedIndex}});O.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){O.propFix[this.toLowerCase()]=
this});O.fn.extend({addClass:function(p){var A,L,P,T,X;if(Y(p))return this.each(function(Aa){O(this).addClass(p.call(this,Aa,Xa(this)))});var ka=rb(p);return ka.length?this.each(function(){L=Xa(this);if(A=1===this.nodeType&&" "+Ha(L)+" "){for(T=0;T<ka.length;T++)P=ka[T],0>A.indexOf(" "+P+" ")&&(A+=P+" ");X=Ha(A);L!==X&&this.setAttribute("class",X)}}):this},removeClass:function(p){var A,L,P,T,X;if(Y(p))return this.each(function(Aa){O(this).removeClass(p.call(this,Aa,Xa(this)))});if(!arguments.length)return this.attr("class",
"");var ka=rb(p);return ka.length?this.each(function(){L=Xa(this);if(A=1===this.nodeType&&" "+Ha(L)+" "){for(T=0;T<ka.length;T++)for(P=ka[T];-1<A.indexOf(" "+P+" ");)A=A.replace(" "+P+" "," ");X=Ha(A);L!==X&&this.setAttribute("class",X)}}):this},toggleClass:function(p,A){var L,P,T,X=typeof p,ka="string"===X||Array.isArray(p);if(Y(p))return this.each(function(va){O(this).toggleClass(p.call(this,va,Xa(this),A),A)});if("boolean"===typeof A&&ka)return A?this.addClass(p):this.removeClass(p);var Aa=rb(p);
return this.each(function(){if(ka)for(T=O(this),P=0;P<Aa.length;P++)L=Aa[P],T.hasClass(L)?T.removeClass(L):T.addClass(L);else if(void 0===p||"boolean"===X)(L=Xa(this))&&mb.set(this,"__className__",L),this.setAttribute&&this.setAttribute("class",L||!1===p?"":mb.get(this,"__className__")||"")})},hasClass:function(p){var A,L=0;for(p=" "+p+" ";A=this[L++];)if(1===A.nodeType&&-1<(" "+Ha(Xa(A))+" ").indexOf(p))return!0;return!1}});var vd=/\r/g;O.fn.extend({val:function(p){var A,L,P=this[0];if(arguments.length){var T=
Y(p);return this.each(function(X){1===this.nodeType&&(X=T?p.call(this,X,O(this).val()):p,null==X?X="":"number"===typeof X?X+="":Array.isArray(X)&&(X=O.map(X,function(ka){return null==ka?"":ka+""})),A=O.valHooks[this.type]||O.valHooks[this.nodeName.toLowerCase()],A&&"set"in A&&void 0!==A.set(this,X,"value")||(this.value=X))})}if(P){if((A=O.valHooks[P.type]||O.valHooks[P.nodeName.toLowerCase()])&&"get"in A&&void 0!==(L=A.get(P,"value")))return L;L=P.value;return"string"===typeof L?L.replace(vd,""):
null==L?"":L}}});O.extend({valHooks:{option:{get:function(p){var A=O.find.attr(p,"value");return null!=A?A:Ha(O.text(p))}},select:{get:function(p){var A=p.options,L=p.selectedIndex,P="select-one"===p.type,T=P?null:[],X=P?L+1:A.length;for(p=0>L?X:P?L:0;p<X;p++){var ka=A[p];if(!(!ka.selected&&p!==L||ka.disabled||ka.parentNode.disabled&&e(ka.parentNode,"optgroup"))){ka=O(ka).val();if(P)return ka;T.push(ka)}}return T},set:function(p,A){for(var L,P=p.options,T=O.makeArray(A),X=P.length;X--;)if(A=P[X],
A.selected=-1<O.inArray(O.valHooks.option.get(A),T))L=!0;L||(p.selectedIndex=-1);return T}}}});O.each(["radio","checkbox"],function(){O.valHooks[this]={set:function(p,A){if(Array.isArray(A))return p.checked=-1<O.inArray(O(p).val(),A)}};J.checkOn||(O.valHooks[this].get=function(p){return null===p.getAttribute("value")?"on":p.value})});var Hc=w.location,Yc=Date.now(),Rc=/\?/;O.parseXML=function(p){if(!p||"string"!==typeof p)return null;try{var A=(new w.DOMParser).parseFromString(p,"text/xml")}catch(P){}var L=
A&&A.getElementsByTagName("parsererror")[0];A&&!L||O.error("Invalid XML: "+(L?O.map(L.childNodes,function(P){return P.textContent}).join("\n"):p));return A};var Zc=/^(?:focusinfocus|focusoutblur)$/,$c=function(p){p.stopPropagation()};O.extend(O.event,{trigger:function(p,A,L,P){var T,X,ka,Aa=[L||Qa],va=W.call(p,"type")?p.type:p;var wa=W.call(p,"namespace")?p.namespace.split("."):[];var Ta=ka=T=L=L||Qa;if(3!==L.nodeType&&8!==L.nodeType&&!Zc.test(va+O.event.triggered)){-1<va.indexOf(".")&&(wa=va.split("."),
va=wa.shift(),wa.sort());var bb=0>va.indexOf(":")&&"on"+va;p=p[O.expando]?p:new O.Event(va,"object"===typeof p&&p);p.isTrigger=P?2:3;p.namespace=wa.join(".");p.rnamespace=p.namespace?new RegExp("(^|\\.)"+wa.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;p.result=void 0;p.target||(p.target=L);A=null==A?[p]:O.makeArray(A,[p]);wa=O.event.special[va]||{};if(P||!wa.trigger||!1!==wa.trigger.apply(L,A)){if(!P&&!wa.noBubble&&!za(L)){var jb=wa.delegateType||va;Zc.test(jb+va)||(Ta=Ta.parentNode);for(;Ta;Ta=Ta.parentNode)Aa.push(Ta),
T=Ta;T===(L.ownerDocument||Qa)&&Aa.push(T.defaultView||T.parentWindow||w)}for(T=0;(Ta=Aa[T++])&&!p.isPropagationStopped();)ka=Ta,p.type=1<T?jb:wa.bindType||va,(X=(mb.get(Ta,"events")||Object.create(null))[p.type]&&mb.get(Ta,"handle"))&&X.apply(Ta,A),(X=bb&&Ta[bb])&&X.apply&&Yb(Ta)&&(p.result=X.apply(Ta,A),!1===p.result&&p.preventDefault());p.type=va;P||p.isDefaultPrevented()||wa._default&&!1!==wa._default.apply(Aa.pop(),A)||!Yb(L)||!bb||!Y(L[va])||za(L)||((T=L[bb])&&(L[bb]=null),O.event.triggered=
va,p.isPropagationStopped()&&ka.addEventListener(va,$c),L[va](),p.isPropagationStopped()&&ka.removeEventListener(va,$c),O.event.triggered=void 0,T&&(L[bb]=T));return p.result}}},simulate:function(p,A,L){p=O.extend(new O.Event,L,{type:p,isSimulated:!0});O.event.trigger(p,null,A)}});O.fn.extend({trigger:function(p,A){return this.each(function(){O.event.trigger(p,A,this)})},triggerHandler:function(p,A){var L=this[0];if(L)return O.event.trigger(p,A,L,!0)}});var ed=/\[\]$/,ad=/\r?\n/g,wd=/^(?:submit|button|image|reset|file)$/i,
xd=/^(?:input|select|textarea|keygen)/i;O.param=function(p,A){var L,P=[],T=function(X,ka){ka=Y(ka)?ka():ka;P[P.length]=encodeURIComponent(X)+"="+encodeURIComponent(null==ka?"":ka)};if(null==p)return"";if(Array.isArray(p)||p.jquery&&!O.isPlainObject(p))O.each(p,function(){T(this.name,this.value)});else for(L in p)tb(L,p[L],A,T);return P.join("&")};O.fn.extend({serialize:function(){return O.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var p=O.prop(this,"elements");
return p?O.makeArray(p):this}).filter(function(){var p=this.type;return this.name&&!O(this).is(":disabled")&&xd.test(this.nodeName)&&!wd.test(p)&&(this.checked||!tc.test(p))}).map(function(p,A){p=O(this).val();return null==p?null:Array.isArray(p)?O.map(p,function(L){return{name:A.name,value:L.replace(ad,"\r\n")}}):{name:A.name,value:p.replace(ad,"\r\n")}}).get()}});var yd=/%20/g,zd=/#.*$/,Ad=/([?&])_=[^&]*/,Bd=/^(.*?):[ \t]*([^\r\n]*)$/mg,Cd=/^(?:GET|HEAD)$/,Dd=/^\/\//,bd={},Mc={},cd="*/".concat("*"),
Sc=Qa.createElement("a");Sc.href=Hc.href;O.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Hc.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Hc.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":cd,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",
text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":O.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(p,A){return A?Na(Na(p,O.ajaxSettings),A):Na(O.ajaxSettings,p)},ajaxPrefilter:Ma(bd),ajaxTransport:Ma(Mc),ajax:function(p,A){function L(Ab,Rb,oc,ic){var Zb,Cb=Rb;if(!hc){hc=!0;ka&&w.clearTimeout(ka);P=void 0;T=ic||"";ub.readyState=0<Ab?4:0;ic=200<=Ab&&300>Ab||304===Ab;oc&&(Zb=Ja(wa,ub,oc));!ic&&-1<O.inArray("script",wa.dataTypes)&&
0>O.inArray("json",wa.dataTypes)&&(wa.converters["text script"]=function(){});Zb=ab(wa,Zb,ub,ic);if(ic)if(wa.ifModified&&((oc=ub.getResponseHeader("Last-Modified"))&&(O.lastModified[Sb]=oc),(oc=ub.getResponseHeader("etag"))&&(O.etag[Sb]=oc)),204===Ab||"HEAD"===wa.type)Cb="nocontent";else if(304===Ab)Cb="notmodified";else{Cb=Zb.state;var nc=Zb.data;var cc=Zb.error;ic=!cc}else if(cc=Cb,Ab||!Cb)Cb="error",0>Ab&&(Ab=0);ub.status=Ab;ub.statusText=(Rb||Cb)+"";ic?jb.resolveWith(Ta,[nc,Cb,ub]):jb.rejectWith(Ta,
[ub,Cb,cc]);ub.statusCode(vb);vb=void 0;Aa&&bb.trigger(ic?"ajaxSuccess":"ajaxError",[ub,wa,ic?nc:cc]);Gb.fireWith(Ta,[ub,Cb]);Aa&&(bb.trigger("ajaxComplete",[ub,wa]),--O.active||O.event.trigger("ajaxStop"))}}"object"===typeof p&&(A=p,p=void 0);A=A||{};var P,T,X,ka,Aa,va,wa=O.ajaxSetup({},A),Ta=wa.context||wa,bb=wa.context&&(Ta.nodeType||Ta.jquery)?O(Ta):O.event,jb=O.Deferred(),Gb=O.Callbacks("once memory"),vb=wa.statusCode||{},Vb={},$b={},pc="canceled",ub={readyState:0,getResponseHeader:function(Ab){var Rb;
if(hc){if(!X)for(X={};Rb=Bd.exec(T);)X[Rb[1].toLowerCase()+" "]=(X[Rb[1].toLowerCase()+" "]||[]).concat(Rb[2]);Rb=X[Ab.toLowerCase()+" "]}return null==Rb?null:Rb.join(", ")},getAllResponseHeaders:function(){return hc?T:null},setRequestHeader:function(Ab,Rb){null==hc&&(Ab=$b[Ab.toLowerCase()]=$b[Ab.toLowerCase()]||Ab,Vb[Ab]=Rb);return this},overrideMimeType:function(Ab){null==hc&&(wa.mimeType=Ab);return this},statusCode:function(Ab){var Rb;if(Ab)if(hc)ub.always(Ab[ub.status]);else for(Rb in Ab)vb[Rb]=
[vb[Rb],Ab[Rb]];return this},abort:function(Ab){Ab=Ab||pc;P&&P.abort(Ab);L(0,Ab);return this}};jb.promise(ub);wa.url=((p||wa.url||Hc.href)+"").replace(Dd,Hc.protocol+"//");wa.type=A.method||A.type||wa.method||wa.type;wa.dataTypes=(wa.dataType||"*").toLowerCase().match(xb)||[""];if(null==wa.crossDomain){p=Qa.createElement("a");try{p.href=wa.url,p.href=p.href,wa.crossDomain=Sc.protocol+"//"+Sc.host!==p.protocol+"//"+p.host}catch(Ab){wa.crossDomain=!0}}wa.data&&wa.processData&&"string"!==typeof wa.data&&
(wa.data=O.param(wa.data,wa.traditional));ra(bd,wa,A,ub);if(hc)return ub;(Aa=O.event&&wa.global)&&0===O.active++&&O.event.trigger("ajaxStart");wa.type=wa.type.toUpperCase();wa.hasContent=!Cd.test(wa.type);var Sb=wa.url.replace(zd,"");wa.hasContent?wa.data&&wa.processData&&0===(wa.contentType||"").indexOf("application/x-www-form-urlencoded")&&(wa.data=wa.data.replace(yd,"+")):(p=wa.url.slice(Sb.length),wa.data&&(wa.processData||"string"===typeof wa.data)&&(Sb+=(Rc.test(Sb)?"&":"?")+wa.data,delete wa.data),
!1===wa.cache&&(Sb=Sb.replace(Ad,"$1"),p=(Rc.test(Sb)?"&":"?")+"_="+Yc++ +p),wa.url=Sb+p);wa.ifModified&&(O.lastModified[Sb]&&ub.setRequestHeader("If-Modified-Since",O.lastModified[Sb]),O.etag[Sb]&&ub.setRequestHeader("If-None-Match",O.etag[Sb]));(wa.data&&wa.hasContent&&!1!==wa.contentType||A.contentType)&&ub.setRequestHeader("Content-Type",wa.contentType);ub.setRequestHeader("Accept",wa.dataTypes[0]&&wa.accepts[wa.dataTypes[0]]?wa.accepts[wa.dataTypes[0]]+("*"!==wa.dataTypes[0]?", "+cd+"; q=0.01":
""):wa.accepts["*"]);for(va in wa.headers)ub.setRequestHeader(va,wa.headers[va]);if(wa.beforeSend&&(!1===wa.beforeSend.call(Ta,ub,wa)||hc))return ub.abort();pc="abort";Gb.add(wa.complete);ub.done(wa.success);ub.fail(wa.error);if(P=ra(Mc,wa,A,ub)){ub.readyState=1;Aa&&bb.trigger("ajaxSend",[ub,wa]);if(hc)return ub;wa.async&&0<wa.timeout&&(ka=w.setTimeout(function(){ub.abort("timeout")},wa.timeout));try{var hc=!1;P.send(Vb,L)}catch(Ab){if(hc)throw Ab;L(-1,Ab)}}else L(-1,"No Transport");return ub},getJSON:function(p,
A,L){return O.get(p,A,L,"json")},getScript:function(p,A){return O.get(p,void 0,A,"script")}});O.each(["get","post"],function(p,A){O[A]=function(L,P,T,X){Y(P)&&(X=X||T,T=P,P=void 0);return O.ajax(O.extend({url:L,type:A,dataType:X,data:P,success:T},O.isPlainObject(L)&&L))}});O.ajaxPrefilter(function(p){for(var A in p.headers)"content-type"===A.toLowerCase()&&(p.contentType=p.headers[A]||"")});O._evalUrl=function(p,A,L){return O.ajax({url:p,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},
dataFilter:function(P){O.globalEval(P,A,L)}})};O.fn.extend({wrapAll:function(p){this[0]&&(Y(p)&&(p=p.call(this[0])),p=O(p,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&p.insertBefore(this[0]),p.map(function(){for(var A=this;A.firstElementChild;)A=A.firstElementChild;return A}).append(this));return this},wrapInner:function(p){return Y(p)?this.each(function(A){O(this).wrapInner(p.call(this,A))}):this.each(function(){var A=O(this),L=A.contents();L.length?L.wrapAll(p):A.append(p)})},wrap:function(p){var A=
Y(p);return this.each(function(L){O(this).wrapAll(A?p.call(this,L):p)})},unwrap:function(p){this.parent(p).not("body").each(function(){O(this).replaceWith(this.childNodes)});return this}});O.expr.pseudos.hidden=function(p){return!O.expr.pseudos.visible(p)};O.expr.pseudos.visible=function(p){return!!(p.offsetWidth||p.offsetHeight||p.getClientRects().length)};O.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch(p){}};var Ed={0:200,1223:204},Ic=O.ajaxSettings.xhr();J.cors=!!Ic&&"withCredentials"in
Ic;J.ajax=Ic=!!Ic;O.ajaxTransport(function(p){var A,L;if(J.cors||Ic&&!p.crossDomain)return{send:function(P,T){var X,ka=p.xhr();ka.open(p.type,p.url,p.async,p.username,p.password);if(p.xhrFields)for(X in p.xhrFields)ka[X]=p.xhrFields[X];p.mimeType&&ka.overrideMimeType&&ka.overrideMimeType(p.mimeType);p.crossDomain||P["X-Requested-With"]||(P["X-Requested-With"]="XMLHttpRequest");for(X in P)ka.setRequestHeader(X,P[X]);A=function(Aa){return function(){A&&(A=L=ka.onload=ka.onerror=ka.onabort=ka.ontimeout=
ka.onreadystatechange=null,"abort"===Aa?ka.abort():"error"===Aa?"number"!==typeof ka.status?T(0,"error"):T(ka.status,ka.statusText):T(Ed[ka.status]||ka.status,ka.statusText,"text"!==(ka.responseType||"text")||"string"!==typeof ka.responseText?{binary:ka.response}:{text:ka.responseText},ka.getAllResponseHeaders()))}};ka.onload=A();L=ka.onerror=ka.ontimeout=A("error");void 0!==ka.onabort?ka.onabort=L:ka.onreadystatechange=function(){4===ka.readyState&&w.setTimeout(function(){A&&L()})};A=A("abort");
try{ka.send(p.hasContent&&p.data||null)}catch(Aa){if(A)throw Aa;}},abort:function(){A&&A()}}});O.ajaxPrefilter(function(p){p.crossDomain&&(p.contents.script=!1)});O.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(p){O.globalEval(p);return p}}});O.ajaxPrefilter("script",function(p){void 0===p.cache&&(p.cache=!1);p.crossDomain&&(p.type="GET")});O.ajaxTransport("script",
function(p){if(p.crossDomain||p.scriptAttrs){var A,L;return{send:function(P,T){A=O("<script>").attr(p.scriptAttrs||{}).prop({charset:p.scriptCharset,src:p.url}).on("load error",L=function(X){A.remove();L=null;X&&T("error"===X.type?404:200,X.type)});Qa.head.appendChild(A[0])},abort:function(){L&&L()}}}});var dd=[],Tc=/(=)\?(?=&|$)|\?\?/;O.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var p=dd.pop()||O.expando+"_"+Yc++;this[p]=!0;return p}});O.ajaxPrefilter("json jsonp",function(p,A,L){var P,
T=!1!==p.jsonp&&(Tc.test(p.url)?"url":"string"===typeof p.data&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&Tc.test(p.data)&&"data");if(T||"jsonp"===p.dataTypes[0]){var X=p.jsonpCallback=Y(p.jsonpCallback)?p.jsonpCallback():p.jsonpCallback;T?p[T]=p[T].replace(Tc,"$1"+X):!1!==p.jsonp&&(p.url+=(Rc.test(p.url)?"&":"?")+p.jsonp+"="+X);p.converters["script json"]=function(){P||O.error(X+" was not called");return P[0]};p.dataTypes[0]="json";var ka=w[X];w[X]=function(){P=arguments};
L.always(function(){void 0===ka?O(w).removeProp(X):w[X]=ka;p[X]&&(p.jsonpCallback=A.jsonpCallback,dd.push(X));P&&Y(ka)&&ka(P[0]);P=ka=void 0});return"script"}});J.createHTMLDocument=function(){var p=Qa.implementation.createHTMLDocument("").body;p.innerHTML="<form></form><form></form>";return 2===p.childNodes.length}();O.parseHTML=function(p,A,L){if("string"!==typeof p)return[];"boolean"===typeof A&&(L=A,A=!1);if(!A)if(J.createHTMLDocument){A=Qa.implementation.createHTMLDocument("");var P=A.createElement("base");
P.href=Qa.location.href;A.head.appendChild(P)}else A=Qa;P=Bb.exec(p);L=!L&&[];if(P)return[A.createElement(P[1])];P=N([p],A,L);L&&L.length&&O(L).remove();return O.merge([],P.childNodes)};O.fn.load=function(p,A,L){var P,T,X=this,ka=p.indexOf(" ");if(-1<ka){var Aa=Ha(p.slice(ka));p=p.slice(0,ka)}Y(A)?(L=A,A=void 0):A&&"object"===typeof A&&(P="POST");0<X.length&&O.ajax({url:p,type:P||"GET",dataType:"html",data:A}).done(function(va){T=arguments;X.html(Aa?O("<div>").append(O.parseHTML(va)).find(Aa):va)}).always(L&&
function(va,wa){X.each(function(){L.apply(this,T||[va.responseText,wa,va])})});return this};O.expr.pseudos.animated=function(p){return O.grep(O.timers,function(A){return p===A.elem}).length};O.offset={setOffset:function(p,A,L){var P=O.css(p,"position"),T=O(p),X={};"static"===P&&(p.style.position="relative");var ka=T.offset();var Aa=O.css(p,"top");var va=O.css(p,"left");("absolute"===P||"fixed"===P)&&-1<(Aa+va).indexOf("auto")?(va=T.position(),Aa=va.top,va=va.left):(Aa=parseFloat(Aa)||0,va=parseFloat(va)||
0);Y(A)&&(A=A.call(p,L,O.extend({},ka)));null!=A.top&&(X.top=A.top-ka.top+Aa);null!=A.left&&(X.left=A.left-ka.left+va);"using"in A?A.using.call(p,X):T.css(X)}};O.fn.extend({offset:function(p){if(arguments.length)return void 0===p?this:this.each(function(P){O.offset.setOffset(this,p,P)});var A;if(A=this[0]){if(!A.getClientRects().length)return{top:0,left:0};var L=A.getBoundingClientRect();A=A.ownerDocument.defaultView;return{top:L.top+A.pageYOffset,left:L.left+A.pageXOffset}}},position:function(){if(this[0]){var p,
A=this[0],L={top:0,left:0};if("fixed"===O.css(A,"position"))var P=A.getBoundingClientRect();else{P=this.offset();var T=A.ownerDocument;for(p=A.offsetParent||T.documentElement;p&&(p===T.body||p===T.documentElement)&&"static"===O.css(p,"position");)p=p.parentNode;p&&p!==A&&1===p.nodeType&&(L=O(p).offset(),L.top+=O.css(p,"borderTopWidth",!0),L.left+=O.css(p,"borderLeftWidth",!0))}return{top:P.top-L.top-O.css(A,"marginTop",!0),left:P.left-L.left-O.css(A,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var p=
this.offsetParent;p&&"static"===O.css(p,"position");)p=p.offsetParent;return p||mc})}});O.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(p,A){var L="pageYOffset"===A;O.fn[p]=function(P){return Qb(this,function(T,X,ka){if(za(T))var Aa=T;else 9===T.nodeType&&(Aa=T.defaultView);if(void 0===ka)return Aa?Aa[A]:T[X];Aa?Aa.scrollTo(L?Aa.pageXOffset:ka,L?ka:Aa.pageYOffset):T[X]=ka},p,P,arguments.length)}});O.each(["top","left"],function(p,A){O.cssHooks[A]=oa(J.pixelPosition,function(L,P){if(P)return P=
Q(L,A),La.test(P)?O(L).position()[A]+"px":P})});O.each({Height:"height",Width:"width"},function(p,A){O.each({padding:"inner"+p,content:A,"":"outer"+p},function(L,P){O.fn[P]=function(T,X){var ka=arguments.length&&(L||"boolean"!==typeof T),Aa=L||(!0===T||!0===X?"margin":"border");return Qb(this,function(va,wa,Ta){return za(va)?0===P.indexOf("outer")?va["inner"+p]:va.document.documentElement["client"+p]:9===va.nodeType?(wa=va.documentElement,Math.max(va.body["scroll"+p],wa["scroll"+p],va.body["offset"+
p],wa["offset"+p],wa["client"+p])):void 0===Ta?O.css(va,wa,Aa):O.style(va,wa,Ta,Aa)},A,ka?T:void 0,ka)}})});O.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(p,A){O.fn[A]=function(L){return this.on(A,L)}});O.fn.extend({bind:function(p,A,L){return this.on(p,null,A,L)},unbind:function(p,A){return this.off(p,null,A)},delegate:function(p,A,L,P){return this.on(A,p,L,P)},undelegate:function(p,A,L){return 1===arguments.length?this.off(p,"**"):this.off(A,p||"**",
L)},hover:function(p,A){return this.on("mouseenter",p).on("mouseleave",A||p)}});O.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(p,A){O.fn[A]=function(L,P){return 0<arguments.length?this.on(A,null,L,P):this.trigger(A)}});var Fd=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;O.proxy=function(p,A){if("string"===typeof A){var L=p[A];
A=p;p=L}if(Y(p)){var P=ea.call(arguments,2);L=function(){return p.apply(A||this,P.concat(ea.call(arguments)))};L.guid=p.guid=p.guid||O.guid++;return L}};O.holdReady=function(p){p?O.readyWait++:O.ready(!0)};O.isArray=Array.isArray;O.parseJSON=JSON.parse;O.nodeName=e;O.isFunction=Y;O.isWindow=za;O.camelCase=f;O.type=E;O.now=Date.now;O.isNumeric=function(p){var A=O.type(p);return("number"===A||"string"===A)&&!isNaN(p-parseFloat(p))};O.trim=function(p){return null==p?"":(p+"").replace(Fd,"$1")};var Gd=
w.jQuery,Hd=w.$;O.noConflict=function(p){w.$===O&&(w.$=Hd);p&&w.jQuery===O&&(w.jQuery=Gd);return O};"undefined"===typeof k&&(w.jQuery=w.$=O);return O})},{}],298:[function(h,K,C){C=h("./lib/utils/common").assign;var w=h("./lib/deflate"),k=h("./lib/inflate");h=h("./lib/zlib/constants");var u={};C(u,w,k,h);K.exports=u},{"./lib/deflate":299,"./lib/inflate":300,"./lib/utils/common":301,"./lib/zlib/constants":304}],299:[function(h,K,C){function w(l){if(!(this instanceof w))return new w(l);l=this.options=
E.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},l||{});l.raw&&0<l.windowBits?l.windowBits=-l.windowBits:l.gzip&&0<l.windowBits&&16>l.windowBits&&(l.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new v;this.strm.avail_out=0;var q=u.deflateInit2(this.strm,l.level,l.method,l.windowBits,l.memLevel,l.strategy);if(0!==q)throw Error(e[q]);l.header&&u.deflateSetHeader(this.strm,l.header);if(l.dictionary){l="string"===typeof l.dictionary?
c.string2buf(l.dictionary):"[object ArrayBuffer]"===a.call(l.dictionary)?new Uint8Array(l.dictionary):l.dictionary;q=u.deflateSetDictionary(this.strm,l);if(0!==q)throw Error(e[q]);this._dict_set=!0}}function k(l,q){q=new w(q);q.push(l,!0);if(q.err)throw q.msg||e[q.err];return q.result}var u=h("./zlib/deflate"),E=h("./utils/common"),c=h("./utils/strings"),e=h("./zlib/messages"),v=h("./zlib/zstream"),a=Object.prototype.toString;w.prototype.push=function(l,q){var r=this.strm,b=this.options.chunkSize;
if(this.ended)return!1;q=q===~~q?q:!0===q?4:0;"string"===typeof l?r.input=c.string2buf(l):"[object ArrayBuffer]"===a.call(l)?r.input=new Uint8Array(l):r.input=l;r.next_in=0;r.avail_in=r.input.length;do{0===r.avail_out&&(r.output=new E.Buf8(b),r.next_out=0,r.avail_out=b);l=u.deflate(r,q);if(1!==l&&0!==l)return this.onEnd(l),this.ended=!0,!1;if(0===r.avail_out||0===r.avail_in&&(4===q||2===q))if("string"===this.options.to)this.onData(c.buf2binstring(E.shrinkBuf(r.output,r.next_out)));else this.onData(E.shrinkBuf(r.output,
r.next_out))}while((0<r.avail_in||0===r.avail_out)&&1!==l);if(4===q)return l=u.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,0===l;2===q&&(this.onEnd(0),r.avail_out=0);return!0};w.prototype.onData=function(l){this.chunks.push(l)};w.prototype.onEnd=function(l){0===l&&(this.result="string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=l;this.msg=this.strm.msg};C.Deflate=w;C.deflate=k;C.deflateRaw=function(l,q){q=q||{};q.raw=!0;return k(l,q)};C.gzip=
function(l,q){q=q||{};q.gzip=!0;return k(l,q)}},{"./utils/common":301,"./utils/strings":302,"./zlib/deflate":306,"./zlib/messages":311,"./zlib/zstream":313}],300:[function(h,K,C){function w(r){if(!(this instanceof w))return new w(r);var b=this.options=E.assign({chunkSize:16384,windowBits:0,to:""},r||{});b.raw&&0<=b.windowBits&&16>b.windowBits&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15));!(0<=b.windowBits&&16>b.windowBits)||r&&r.windowBits||(b.windowBits+=32);15<b.windowBits&&
48>b.windowBits&&0===(b.windowBits&15)&&(b.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new a;this.strm.avail_out=0;r=u.inflateInit2(this.strm,b.windowBits);if(r!==e.Z_OK)throw Error(v[r]);this.header=new l;u.inflateGetHeader(this.strm,this.header);if(b.dictionary&&("string"===typeof b.dictionary?b.dictionary=c.string2buf(b.dictionary):"[object ArrayBuffer]"===q.call(b.dictionary)&&(b.dictionary=new Uint8Array(b.dictionary)),b.raw&&(r=u.inflateSetDictionary(this.strm,
b.dictionary),r!==e.Z_OK)))throw Error(v[r]);}function k(r,b){b=new w(b);b.push(r,!0);if(b.err)throw b.msg||v[b.err];return b.result}var u=h("./zlib/inflate"),E=h("./utils/common"),c=h("./utils/strings"),e=h("./zlib/constants"),v=h("./zlib/messages"),a=h("./zlib/zstream"),l=h("./zlib/gzheader"),q=Object.prototype.toString;w.prototype.push=function(r,b){var d=this.strm,g=this.options.chunkSize,m=this.options.dictionary,f=!1;if(this.ended)return!1;b=b===~~b?b:!0===b?e.Z_FINISH:e.Z_NO_FLUSH;"string"===
typeof r?d.input=c.binstring2buf(r):"[object ArrayBuffer]"===q.call(r)?d.input=new Uint8Array(r):d.input=r;d.next_in=0;d.avail_in=d.input.length;do{0===d.avail_out&&(d.output=new E.Buf8(g),d.next_out=0,d.avail_out=g);r=u.inflate(d,e.Z_NO_FLUSH);r===e.Z_NEED_DICT&&m&&(r=u.inflateSetDictionary(this.strm,m));r===e.Z_BUF_ERROR&&!0===f&&(r=e.Z_OK,f=!1);if(r!==e.Z_STREAM_END&&r!==e.Z_OK)return this.onEnd(r),this.ended=!0,!1;if(d.next_out&&(0===d.avail_out||r===e.Z_STREAM_END||0===d.avail_in&&(b===e.Z_FINISH||
b===e.Z_SYNC_FLUSH)))if("string"===this.options.to){var n=c.utf8border(d.output,d.next_out);var t=d.next_out-n;var y=c.buf2string(d.output,n);d.next_out=t;d.avail_out=g-t;t&&E.arraySet(d.output,d.output,n,t,0);this.onData(y)}else this.onData(E.shrinkBuf(d.output,d.next_out));0===d.avail_in&&0===d.avail_out&&(f=!0)}while((0<d.avail_in||0===d.avail_out)&&r!==e.Z_STREAM_END);r===e.Z_STREAM_END&&(b=e.Z_FINISH);if(b===e.Z_FINISH)return r=u.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===e.Z_OK;b===
e.Z_SYNC_FLUSH&&(this.onEnd(e.Z_OK),d.avail_out=0);return!0};w.prototype.onData=function(r){this.chunks.push(r)};w.prototype.onEnd=function(r){r===e.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=r;this.msg=this.strm.msg};C.Inflate=w;C.inflate=k;C.inflateRaw=function(r,b){b=b||{};b.raw=!0;return k(r,b)};C.ungzip=k},{"./utils/common":301,"./utils/strings":302,"./zlib/constants":304,"./zlib/gzheader":307,"./zlib/inflate":309,
"./zlib/messages":311,"./zlib/zstream":313}],301:[function(h,K,C){h="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;C.assign=function(u){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var c=E.shift();if(c){if("object"!==typeof c)throw new TypeError(c+"must be non-object");for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(u[e]=c[e])}}return u};C.shrinkBuf=function(u,E){if(u.length===E)return u;if(u.subarray)return u.subarray(0,
E);u.length=E;return u};var w={arraySet:function(u,E,c,e,v){if(E.subarray&&u.subarray)u.set(E.subarray(c,c+e),v);else for(var a=0;a<e;a++)u[v+a]=E[c+a]},flattenChunks:function(u){var E,c;var e=c=0;for(E=u.length;e<E;e++)c+=u[e].length;var v=new Uint8Array(c);e=c=0;for(E=u.length;e<E;e++){var a=u[e];v.set(a,c);c+=a.length}return v}},k={arraySet:function(u,E,c,e,v){for(var a=0;a<e;a++)u[v+a]=E[c+a]},flattenChunks:function(u){return[].concat.apply([],u)}};C.setTyped=function(u){u?(C.Buf8=Uint8Array,
C.Buf16=Uint16Array,C.Buf32=Int32Array,C.assign(C,w)):(C.Buf8=Array,C.Buf16=Array,C.Buf32=Array,C.assign(C,k))};C.setTyped(h)},{}],302:[function(h,K,C){function w(e,v){if(65534>v&&(e.subarray&&E||!e.subarray&&u))return String.fromCharCode.apply(null,k.shrinkBuf(e,v));for(var a="",l=0;l<v;l++)a+=String.fromCharCode(e[l]);return a}var k=h("./common"),u=!0,E=!0;try{String.fromCharCode.apply(null,[0])}catch(e){u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){E=!1}var c=new k.Buf8(256);
for(h=0;256>h;h++)c[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;c[254]=c[254]=1;C.string2buf=function(e){var v,a,l=e.length,q=0;for(v=0;v<l;v++){var r=e.charCodeAt(v);if(55296===(r&64512)&&v+1<l){var b=e.charCodeAt(v+1);56320===(b&64512)&&(r=65536+(r-55296<<10)+(b-56320),v++)}q+=128>r?1:2048>r?2:65536>r?3:4}var d=new k.Buf8(q);for(v=a=0;a<q;v++)r=e.charCodeAt(v),55296===(r&64512)&&v+1<l&&(b=e.charCodeAt(v+1),56320===(b&64512)&&(r=65536+(r-55296<<10)+(b-56320),v++)),128>r?d[a++]=r:(2048>r?d[a++]=
192|r>>>6:(65536>r?d[a++]=224|r>>>12:(d[a++]=240|r>>>18,d[a++]=128|r>>>12&63),d[a++]=128|r>>>6&63),d[a++]=128|r&63);return d};C.buf2binstring=function(e){return w(e,e.length)};C.binstring2buf=function(e){for(var v=new k.Buf8(e.length),a=0,l=v.length;a<l;a++)v[a]=e.charCodeAt(a);return v};C.buf2string=function(e,v){var a,l=v||e.length,q=Array(2*l);for(v=a=0;v<l;){var r=e[v++];if(128>r)q[a++]=r;else{var b=c[r];if(4<b)q[a++]=65533,v+=b-1;else{for(r&=2===b?31:3===b?15:7;1<b&&v<l;)r=r<<6|e[v++]&63,b--;
1<b?q[a++]=65533:65536>r?q[a++]=r:(r-=65536,q[a++]=55296|r>>10&1023,q[a++]=56320|r&1023)}}}return w(q,a)};C.utf8border=function(e,v){var a;v=v||e.length;v>e.length&&(v=e.length);for(a=v-1;0<=a&&128===(e[a]&192);)a--;return 0>a||0===a?v:a+c[e[a]]>v?a:v}},{"./common":301}],303:[function(h,K,C){K.exports=function(w,k,u,E){var c=w&65535|0;w=w>>>16&65535|0;for(var e;0!==u;){e=2E3<u?2E3:u;u-=e;do c=c+k[E++]|0,w=w+c|0;while(--e);c%=65521;w%=65521}return c|w<<16|0}},{}],304:[function(h,K,C){K.exports={Z_NO_FLUSH:0,
Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],305:[function(h,K,C){var w=function(){for(var k,u=[],E=0;256>E;E++){k=E;for(var c=0;8>c;c++)k=k&1?3988292384^k>>>1:k>>>1;u[E]=
k}return u}();K.exports=function(k,u,E,c){E=c+E;for(k^=-1;c<E;c++)k=k>>>8^w[(k^u[c])&255];return k^-1}},{}],306:[function(h,K,C){function w(x,F){x.msg=H[F];return F}function k(x){for(var F=x.length;0<=--F;)x[F]=0}function u(x){var F=x.state,G=F.pending;G>x.avail_out&&(G=x.avail_out);0!==G&&(t.arraySet(x.output,F.pending_buf,F.pending_out,G,x.next_out),x.next_out+=G,F.pending_out+=G,x.total_out+=G,x.avail_out-=G,F.pending-=G,0===F.pending&&(F.pending_out=0))}function E(x,F){y._tr_flush_block(x,0<=
x.block_start?x.block_start:-1,x.strstart-x.block_start,F);x.block_start=x.strstart;u(x.strm)}function c(x,F){x.pending_buf[x.pending++]=F}function e(x,F){x.pending_buf[x.pending++]=F>>>8&255;x.pending_buf[x.pending++]=F&255}function v(x,F){var G=x.max_chain_length,I=x.strstart,M=x.prev_length,R=x.nice_match,ha=x.strstart>x.w_size-262?x.strstart-(x.w_size-262):0,ca=x.window,sa=x.w_mask,na=x.prev,Q=x.strstart+258,oa=ca[I+M-1],ia=ca[I+M];x.prev_length>=x.good_match&&(G>>=2);R>x.lookahead&&(R=x.lookahead);
do{var ya=F;if(ca[ya+M]===ia&&ca[ya+M-1]===oa&&ca[ya]===ca[I]&&ca[++ya]===ca[I+1]){I+=2;for(ya++;ca[++I]===ca[++ya]&&ca[++I]===ca[++ya]&&ca[++I]===ca[++ya]&&ca[++I]===ca[++ya]&&ca[++I]===ca[++ya]&&ca[++I]===ca[++ya]&&ca[++I]===ca[++ya]&&ca[++I]===ca[++ya]&&I<Q;);ya=258-(Q-I);I=Q-258;if(ya>M){x.match_start=F;M=ya;if(ya>=R)break;oa=ca[I+M-1];ia=ca[I+M]}}}while((F=na[F&sa])>ha&&0!==--G);return M<=x.lookahead?M:x.lookahead}function a(x){var F=x.w_size,G;do{var I=x.window_size-x.lookahead-x.strstart;if(x.strstart>=
F+(F-262)){t.arraySet(x.window,x.window,F,F,0);x.match_start-=F;x.strstart-=F;x.block_start-=F;var M=G=x.hash_size;do{var R=x.head[--M];x.head[M]=R>=F?R-F:0}while(--G);M=G=F;do R=x.prev[--M],x.prev[M]=R>=F?R-F:0;while(--G);I+=F}if(0===x.strm.avail_in)break;M=x.strm;G=x.window;R=x.strstart+x.lookahead;var ha=M.avail_in;ha>I&&(ha=I);0===ha?G=0:(M.avail_in-=ha,t.arraySet(G,M.input,M.next_in,ha,R),1===M.state.wrap?M.adler=B(M.adler,G,ha,R):2===M.state.wrap&&(M.adler=z(M.adler,G,ha,R)),M.next_in+=ha,M.total_in+=
ha,G=ha);x.lookahead+=G;if(3<=x.lookahead+x.insert)for(I=x.strstart-x.insert,x.ins_h=x.window[I],x.ins_h=(x.ins_h<<x.hash_shift^x.window[I+1])&x.hash_mask;x.insert&&!(x.ins_h=(x.ins_h<<x.hash_shift^x.window[I+3-1])&x.hash_mask,x.prev[I&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=I,I++,x.insert--,3>x.lookahead+x.insert););}while(262>x.lookahead&&0!==x.strm.avail_in)}function l(x,F){for(var G;;){if(262>x.lookahead){a(x);if(262>x.lookahead&&0===F)return 1;if(0===x.lookahead)break}G=0;3<=x.lookahead&&(x.ins_h=
(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,G=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);0!==G&&x.strstart-G<=x.w_size-262&&(x.match_length=v(x,G));if(3<=x.match_length)if(G=y._tr_tally(x,x.strstart-x.match_start,x.match_length-3),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&3<=x.lookahead){x.match_length--;do x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],
x.head[x.ins_h]=x.strstart;while(0!==--x.match_length);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else G=y._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(G&&(E(x,!1),0===x.strm.avail_out))return 1}x.insert=2>x.strstart?x.strstart:2;return 4===F?(E(x,!0),0===x.strm.avail_out?3:4):x.last_lit&&(E(x,!1),0===x.strm.avail_out)?1:2}function q(x,F){for(var G,I;;){if(262>x.lookahead){a(x);
if(262>x.lookahead&&0===F)return 1;if(0===x.lookahead)break}G=0;3<=x.lookahead&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,G=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);x.prev_length=x.match_length;x.prev_match=x.match_start;x.match_length=2;0!==G&&x.prev_length<x.max_lazy_match&&x.strstart-G<=x.w_size-262&&(x.match_length=v(x,G),5>=x.match_length&&(1===x.strategy||3===x.match_length&&4096<x.strstart-x.match_start)&&(x.match_length=2));if(3<=
x.prev_length&&x.match_length<=x.prev_length){I=x.strstart+x.lookahead-3;G=y._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-3);x.lookahead-=x.prev_length-1;x.prev_length-=2;do++x.strstart<=I&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);while(0!==--x.prev_length);x.match_available=0;x.match_length=2;x.strstart++;if(G&&(E(x,!1),0===x.strm.avail_out))return 1}else if(x.match_available){if((G=y._tr_tally(x,
0,x.window[x.strstart-1]))&&E(x,!1),x.strstart++,x.lookahead--,0===x.strm.avail_out)return 1}else x.match_available=1,x.strstart++,x.lookahead--}x.match_available&&(y._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0);x.insert=2>x.strstart?x.strstart:2;return 4===F?(E(x,!0),0===x.strm.avail_out?3:4):x.last_lit&&(E(x,!1),0===x.strm.avail_out)?1:2}function r(x,F){for(var G,I,M,R=x.window;;){if(258>=x.lookahead){a(x);if(258>=x.lookahead&&0===F)return 1;if(0===x.lookahead)break}x.match_length=
0;if(3<=x.lookahead&&0<x.strstart&&(I=x.strstart-1,G=R[I],G===R[++I]&&G===R[++I]&&G===R[++I])){for(M=x.strstart+258;G===R[++I]&&G===R[++I]&&G===R[++I]&&G===R[++I]&&G===R[++I]&&G===R[++I]&&G===R[++I]&&G===R[++I]&&I<M;);x.match_length=258-(M-I);x.match_length>x.lookahead&&(x.match_length=x.lookahead)}3<=x.match_length?(G=y._tr_tally(x,1,x.match_length-3),x.lookahead-=x.match_length,x.strstart+=x.match_length,x.match_length=0):(G=y._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++);if(G&&
(E(x,!1),0===x.strm.avail_out))return 1}x.insert=0;return 4===F?(E(x,!0),0===x.strm.avail_out?3:4):x.last_lit&&(E(x,!1),0===x.strm.avail_out)?1:2}function b(x,F){for(var G;;){if(0===x.lookahead&&(a(x),0===x.lookahead)){if(0===F)return 1;break}x.match_length=0;G=y._tr_tally(x,0,x.window[x.strstart]);x.lookahead--;x.strstart++;if(G&&(E(x,!1),0===x.strm.avail_out))return 1}x.insert=0;return 4===F?(E(x,!0),0===x.strm.avail_out?3:4):x.last_lit&&(E(x,!1),0===x.strm.avail_out)?1:2}function d(x,F,G,I,M){this.good_length=
x;this.max_lazy=F;this.nice_length=G;this.max_chain=I;this.func=M}function g(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=
this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new t.Buf16(1146);this.dyn_dtree=new t.Buf16(122);this.bl_tree=new t.Buf16(78);k(this.dyn_ltree);k(this.dyn_dtree);k(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new t.Buf16(16);this.heap=new t.Buf16(573);k(this.heap);this.heap_max=this.heap_len=0;this.depth=new t.Buf16(573);k(this.depth);this.bi_valid=
this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function m(x){if(!x||!x.state)return w(x,-2);x.total_in=x.total_out=0;x.data_type=2;var F=x.state;F.pending=0;F.pending_out=0;0>F.wrap&&(F.wrap=-F.wrap);F.status=F.wrap?42:113;x.adler=2===F.wrap?0:1;F.last_flush=0;y._tr_init(F);return 0}function f(x){var F=m(x);0===F&&(x=x.state,x.window_size=2*x.w_size,k(x.head),x.max_lazy_match=N[x.level].max_lazy,x.good_match=N[x.level].good_length,
x.nice_match=N[x.level].nice_length,x.max_chain_length=N[x.level].max_chain,x.strstart=0,x.block_start=0,x.lookahead=0,x.insert=0,x.match_length=x.prev_length=2,x.match_available=0,x.ins_h=0);return F}function n(x,F,G,I,M,R){if(!x)return-2;var ha=1;-1===F&&(F=6);0>I?(ha=0,I=-I):15<I&&(ha=2,I-=16);if(1>M||9<M||8!==G||8>I||15<I||0>F||9<F||0>R||4<R)return w(x,-2);8===I&&(I=9);var ca=new g;x.state=ca;ca.strm=x;ca.wrap=ha;ca.gzhead=null;ca.w_bits=I;ca.w_size=1<<ca.w_bits;ca.w_mask=ca.w_size-1;ca.hash_bits=
M+7;ca.hash_size=1<<ca.hash_bits;ca.hash_mask=ca.hash_size-1;ca.hash_shift=~~((ca.hash_bits+3-1)/3);ca.window=new t.Buf8(2*ca.w_size);ca.head=new t.Buf16(ca.hash_size);ca.prev=new t.Buf16(ca.w_size);ca.lit_bufsize=1<<M+6;ca.pending_buf_size=4*ca.lit_bufsize;ca.pending_buf=new t.Buf8(ca.pending_buf_size);ca.d_buf=1*ca.lit_bufsize;ca.l_buf=3*ca.lit_bufsize;ca.level=F;ca.strategy=R;ca.method=G;return f(x)}var t=h("../utils/common"),y=h("./trees"),B=h("./adler32"),z=h("./crc32"),H=h("./messages");var N=
[new d(0,0,0,0,function(x,F){var G=65535;for(G>x.pending_buf_size-5&&(G=x.pending_buf_size-5);;){if(1>=x.lookahead){a(x);if(0===x.lookahead&&0===F)return 1;if(0===x.lookahead)break}x.strstart+=x.lookahead;x.lookahead=0;var I=x.block_start+G;if(0===x.strstart||x.strstart>=I)if(x.lookahead=x.strstart-I,x.strstart=I,E(x,!1),0===x.strm.avail_out)return 1;if(x.strstart-x.block_start>=x.w_size-262&&(E(x,!1),0===x.strm.avail_out))return 1}x.insert=0;if(4===F)return E(x,!0),0===x.strm.avail_out?3:4;x.strstart>
x.block_start&&E(x,!1);return 1}),new d(4,4,8,4,l),new d(4,5,16,8,l),new d(4,6,32,32,l),new d(4,4,16,16,q),new d(8,16,32,32,q),new d(8,16,128,128,q),new d(8,32,128,256,q),new d(32,128,258,1024,q),new d(32,258,258,4096,q)];C.deflateInit=function(x,F){return n(x,F,8,15,8,0)};C.deflateInit2=n;C.deflateReset=f;C.deflateResetKeep=m;C.deflateSetHeader=function(x,F){if(!x||!x.state||2!==x.state.wrap)return-2;x.state.gzhead=F;return 0};C.deflate=function(x,F){if(!x||!x.state||5<F||0>F)return x?w(x,-2):-2;
var G=x.state;if(!x.output||!x.input&&0!==x.avail_in||666===G.status&&4!==F)return w(x,0===x.avail_out?-5:-2);G.strm=x;var I=G.last_flush;G.last_flush=F;if(42===G.status)if(2===G.wrap)x.adler=0,c(G,31),c(G,139),c(G,8),G.gzhead?(c(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),c(G,G.gzhead.time&255),c(G,G.gzhead.time>>8&255),c(G,G.gzhead.time>>16&255),c(G,G.gzhead.time>>24&255),c(G,9===G.level?2:2<=G.strategy||2>G.level?4:0),c(G,G.gzhead.os&
255),G.gzhead.extra&&G.gzhead.extra.length&&(c(G,G.gzhead.extra.length&255),c(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(x.adler=z(x.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(c(G,0),c(G,0),c(G,0),c(G,0),c(G,0),c(G,9===G.level?2:2<=G.strategy||2>G.level?4:0),c(G,3),G.status=113);else{var M=8+(G.w_bits-8<<4)<<8;M|=(2<=G.strategy||2>G.level?0:6>G.level?1:6===G.level?2:3)<<6;0!==G.strstart&&(M|=32);G.status=113;e(G,M+(31-M%31));0!==G.strstart&&(e(G,x.adler>>>16),e(G,x.adler&65535));
x.adler=1}if(69===G.status)if(G.gzhead.extra){for(M=G.pending;G.gzindex<(G.gzhead.extra.length&65535)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>M&&(x.adler=z(x.adler,G.pending_buf,G.pending-M,M)),u(x),M=G.pending,G.pending!==G.pending_buf_size));)c(G,G.gzhead.extra[G.gzindex]&255),G.gzindex++;G.gzhead.hcrc&&G.pending>M&&(x.adler=z(x.adler,G.pending_buf,G.pending-M,M));G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(73===G.status)if(G.gzhead.name){M=
G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>M&&(x.adler=z(x.adler,G.pending_buf,G.pending-M,M)),u(x),M=G.pending,G.pending===G.pending_buf_size)){var R=1;break}R=G.gzindex<G.gzhead.name.length?G.gzhead.name.charCodeAt(G.gzindex++)&255:0;c(G,R)}while(0!==R);G.gzhead.hcrc&&G.pending>M&&(x.adler=z(x.adler,G.pending_buf,G.pending-M,M));0===R&&(G.gzindex=0,G.status=91)}else G.status=91;if(91===G.status)if(G.gzhead.comment){M=G.pending;do{if(G.pending===G.pending_buf_size&&
(G.gzhead.hcrc&&G.pending>M&&(x.adler=z(x.adler,G.pending_buf,G.pending-M,M)),u(x),M=G.pending,G.pending===G.pending_buf_size)){R=1;break}R=G.gzindex<G.gzhead.comment.length?G.gzhead.comment.charCodeAt(G.gzindex++)&255:0;c(G,R)}while(0!==R);G.gzhead.hcrc&&G.pending>M&&(x.adler=z(x.adler,G.pending_buf,G.pending-M,M));0===R&&(G.status=103)}else G.status=103;103===G.status&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&u(x),G.pending+2<=G.pending_buf_size&&(c(G,x.adler&255),c(G,x.adler>>8&255),x.adler=
0,G.status=113)):G.status=113);if(0!==G.pending){if(u(x),0===x.avail_out)return G.last_flush=-1,0}else if(0===x.avail_in&&(F<<1)-(4<F?9:0)<=(I<<1)-(4<I?9:0)&&4!==F)return w(x,-5);if(666===G.status&&0!==x.avail_in)return w(x,-5);if(0!==x.avail_in||0!==G.lookahead||0!==F&&666!==G.status){I=2===G.strategy?b(G,F):3===G.strategy?r(G,F):N[G.level].func(G,F);if(3===I||4===I)G.status=666;if(1===I||3===I)return 0===x.avail_out&&(G.last_flush=-1),0;if(2===I&&(1===F?y._tr_align(G):5!==F&&(y._tr_stored_block(G,
0,0,!1),3===F&&(k(G.head),0===G.lookahead&&(G.strstart=0,G.block_start=0,G.insert=0))),u(x),0===x.avail_out))return G.last_flush=-1,0}if(4!==F)return 0;if(0>=G.wrap)return 1;2===G.wrap?(c(G,x.adler&255),c(G,x.adler>>8&255),c(G,x.adler>>16&255),c(G,x.adler>>24&255),c(G,x.total_in&255),c(G,x.total_in>>8&255),c(G,x.total_in>>16&255),c(G,x.total_in>>24&255)):(e(G,x.adler>>>16),e(G,x.adler&65535));u(x);0<G.wrap&&(G.wrap=-G.wrap);return 0!==G.pending?0:1};C.deflateEnd=function(x){if(!x||!x.state)return-2;
var F=x.state.status;if(42!==F&&69!==F&&73!==F&&91!==F&&103!==F&&113!==F&&666!==F)return w(x,-2);x.state=null;return 113===F?w(x,-3):0};C.deflateSetDictionary=function(x,F){var G=F.length;if(!x||!x.state)return-2;var I=x.state;var M=I.wrap;if(2===M||1===M&&42!==I.status||I.lookahead)return-2;1===M&&(x.adler=B(x.adler,F,G,0));I.wrap=0;if(G>=I.w_size){0===M&&(k(I.head),I.strstart=0,I.block_start=0,I.insert=0);var R=new t.Buf8(I.w_size);t.arraySet(R,F,G-I.w_size,I.w_size,0);F=R;G=I.w_size}R=x.avail_in;
var ha=x.next_in;var ca=x.input;x.avail_in=G;x.next_in=0;x.input=F;for(a(I);3<=I.lookahead;){F=I.strstart;G=I.lookahead-2;do I.ins_h=(I.ins_h<<I.hash_shift^I.window[F+3-1])&I.hash_mask,I.prev[F&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=F,F++;while(--G);I.strstart=F;I.lookahead=2;a(I)}I.strstart+=I.lookahead;I.block_start=I.strstart;I.insert=I.lookahead;I.lookahead=0;I.match_length=I.prev_length=2;I.match_available=0;x.next_in=ha;x.input=ca;x.avail_in=R;I.wrap=M;return 0};C.deflateInfo="pako deflate (from Nodeca project)"},
{"../utils/common":301,"./adler32":303,"./crc32":305,"./messages":311,"./trees":312}],307:[function(h,K,C){K.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],308:[function(h,K,C){K.exports=function(w,k){var u=w.state;var E=w.next_in;var c=w.input;var e=E+(w.avail_in-5);var v=w.next_out;var a=w.output;k=v-(k-w.avail_out);var l=v+(w.avail_out-257);var q=u.dmax;var r=u.wsize;var b=u.whave;var d=u.wnext;
var g=u.window;var m=u.hold;var f=u.bits;var n=u.lencode;var t=u.distcode;var y=(1<<u.lenbits)-1;var B=(1<<u.distbits)-1;a:do{15>f&&(m+=c[E++]<<f,f+=8,m+=c[E++]<<f,f+=8);var z=n[m&y];b:for(;;){var H=z>>>24;m>>>=H;f-=H;H=z>>>16&255;if(0===H)a[v++]=z&65535;else if(H&16){var N=z&65535;if(H&=15)f<H&&(m+=c[E++]<<f,f+=8),N+=m&(1<<H)-1,m>>>=H,f-=H;15>f&&(m+=c[E++]<<f,f+=8,m+=c[E++]<<f,f+=8);z=t[m&B];c:for(;;){H=z>>>24;m>>>=H;f-=H;H=z>>>16&255;if(H&16){z&=65535;H&=15;f<H&&(m+=c[E++]<<f,f+=8,f<H&&(m+=c[E++]<<
f,f+=8));z+=m&(1<<H)-1;if(z>q){w.msg="invalid distance too far back";u.mode=30;break a}m>>>=H;f-=H;H=v-k;if(z>H){H=z-H;if(H>b&&u.sane){w.msg="invalid distance too far back";u.mode=30;break a}var x=0;var F=g;if(0===d){if(x+=r-H,H<N){N-=H;do a[v++]=g[x++];while(--H);x=v-z;F=a}}else if(d<H){if(x+=r+d-H,H-=d,H<N){N-=H;do a[v++]=g[x++];while(--H);x=0;if(d<N){H=d;N-=H;do a[v++]=g[x++];while(--H);x=v-z;F=a}}}else if(x+=d-H,H<N){N-=H;do a[v++]=g[x++];while(--H);x=v-z;F=a}for(;2<N;)a[v++]=F[x++],a[v++]=F[x++],
a[v++]=F[x++],N-=3;N&&(a[v++]=F[x++],1<N&&(a[v++]=F[x++]))}else{x=v-z;do a[v++]=a[x++],a[v++]=a[x++],a[v++]=a[x++],N-=3;while(2<N);N&&(a[v++]=a[x++],1<N&&(a[v++]=a[x++]))}}else if(0===(H&64)){z=t[(z&65535)+(m&(1<<H)-1)];continue c}else{w.msg="invalid distance code";u.mode=30;break a}break}}else if(0===(H&64)){z=n[(z&65535)+(m&(1<<H)-1)];continue b}else{H&32?u.mode=12:(w.msg="invalid literal/length code",u.mode=30);break a}break}}while(E<e&&v<l);N=f>>3;E-=N;f-=N<<3;w.next_in=E;w.next_out=v;w.avail_in=
E<e?5+(e-E):5-(E-e);w.avail_out=v<l?257+(l-v):257-(v-l);u.hold=m&(1<<f)-1;u.bits=f}},{}],309:[function(h,K,C){function w(f){return(f>>>24&255)+(f>>>8&65280)+((f&65280)<<8)+((f&255)<<24)}function k(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=
this.distbits=this.lenbits=0;this.next=null;this.lens=new a.Buf16(320);this.work=new a.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function u(f){if(!f||!f.state)return-2;var n=f.state;f.total_in=f.total_out=n.total=0;f.msg="";n.wrap&&(f.adler=n.wrap&1);n.mode=1;n.last=0;n.havedict=0;n.dmax=32768;n.head=null;n.hold=0;n.bits=0;n.lencode=n.lendyn=new a.Buf32(852);n.distcode=n.distdyn=new a.Buf32(592);n.sane=1;n.back=-1;return 0}function E(f){if(!f||!f.state)return-2;var n=
f.state;n.wsize=0;n.whave=0;n.wnext=0;return u(f)}function c(f,n){if(!f||!f.state)return-2;var t=f.state;if(0>n){var y=0;n=-n}else y=(n>>4)+1,48>n&&(n&=15);if(n&&(8>n||15<n))return-2;null!==t.window&&t.wbits!==n&&(t.window=null);t.wrap=y;t.wbits=n;return E(f)}function e(f,n){if(!f)return-2;var t=new k;f.state=t;t.window=null;n=c(f,n);0!==n&&(f.state=null);return n}function v(f,n,t,y){var B=f.state;null===B.window&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new a.Buf8(B.wsize));y>=B.wsize?(a.arraySet(B.window,
n,t-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(f=B.wsize-B.wnext,f>y&&(f=y),a.arraySet(B.window,n,t-y,f,B.wnext),(y-=f)?(a.arraySet(B.window,n,t-y,y,0),B.wnext=y,B.whave=B.wsize):(B.wnext+=f,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=f)));return 0}var a=h("../utils/common"),l=h("./adler32"),q=h("./crc32"),r=h("./inffast"),b=h("./inftrees"),d=!0,g,m;C.inflateReset=E;C.inflateReset2=c;C.inflateResetKeep=u;C.inflateInit=function(f){return e(f,15)};C.inflateInit2=e;C.inflate=function(f,
n){var t,y=new a.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!f||!f.state||!f.output||!f.input&&0!==f.avail_in)return-2;var z=f.state;12===z.mode&&(z.mode=13);var H=f.next_out;var N=f.output;var x=f.avail_out;var F=f.next_in;var G=f.input;var I=f.avail_in;var M=z.hold;var R=z.bits;var ha=I;var ca=x;var sa=0;a:for(;;)switch(z.mode){case 1:if(0===z.wrap){z.mode=13;break}for(;16>R;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}if(z.wrap&2&&35615===M){z.check=0;y[0]=M&255;y[1]=M>>>8&255;z.check=
q(z.check,y,2,0);R=M=0;z.mode=2;break}z.flags=0;z.head&&(z.head.done=!1);if(!(z.wrap&1)||(((M&255)<<8)+(M>>8))%31){f.msg="incorrect header check";z.mode=30;break}if(8!==(M&15)){f.msg="unknown compression method";z.mode=30;break}M>>>=4;R-=4;var na=(M&15)+8;if(0===z.wbits)z.wbits=na;else if(na>z.wbits){f.msg="invalid window size";z.mode=30;break}z.dmax=1<<na;f.adler=z.check=1;z.mode=M&512?10:12;R=M=0;break;case 2:for(;16>R;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}z.flags=M;if(8!==(z.flags&255)){f.msg=
"unknown compression method";z.mode=30;break}if(z.flags&57344){f.msg="unknown header flags set";z.mode=30;break}z.head&&(z.head.text=M>>8&1);z.flags&512&&(y[0]=M&255,y[1]=M>>>8&255,z.check=q(z.check,y,2,0));R=M=0;z.mode=3;case 3:for(;32>R;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}z.head&&(z.head.time=M);z.flags&512&&(y[0]=M&255,y[1]=M>>>8&255,y[2]=M>>>16&255,y[3]=M>>>24&255,z.check=q(z.check,y,4,0));R=M=0;z.mode=4;case 4:for(;16>R;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}z.head&&(z.head.xflags=M&255,
z.head.os=M>>8);z.flags&512&&(y[0]=M&255,y[1]=M>>>8&255,z.check=q(z.check,y,2,0));R=M=0;z.mode=5;case 5:if(z.flags&1024){for(;16>R;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}z.length=M;z.head&&(z.head.extra_len=M);z.flags&512&&(y[0]=M&255,y[1]=M>>>8&255,z.check=q(z.check,y,2,0));R=M=0}else z.head&&(z.head.extra=null);z.mode=6;case 6:if(z.flags&1024){var Q=z.length;Q>I&&(Q=I);Q&&(z.head&&(na=z.head.extra_len-z.length,z.head.extra||(z.head.extra=Array(z.head.extra_len)),a.arraySet(z.head.extra,G,F,Q,
na)),z.flags&512&&(z.check=q(z.check,G,Q,F)),I-=Q,F+=Q,z.length-=Q);if(z.length)break a}z.length=0;z.mode=7;case 7:if(z.flags&2048){if(0===I)break a;Q=0;do na=G[F+Q++],z.head&&na&&65536>z.length&&(z.head.name+=String.fromCharCode(na));while(na&&Q<I);z.flags&512&&(z.check=q(z.check,G,Q,F));I-=Q;F+=Q;if(na)break a}else z.head&&(z.head.name=null);z.length=0;z.mode=8;case 8:if(z.flags&4096){if(0===I)break a;Q=0;do na=G[F+Q++],z.head&&na&&65536>z.length&&(z.head.comment+=String.fromCharCode(na));while(na&&
Q<I);z.flags&512&&(z.check=q(z.check,G,Q,F));I-=Q;F+=Q;if(na)break a}else z.head&&(z.head.comment=null);z.mode=9;case 9:if(z.flags&512){for(;16>R;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}if(M!==(z.check&65535)){f.msg="header crc mismatch";z.mode=30;break}R=M=0}z.head&&(z.head.hcrc=z.flags>>9&1,z.head.done=!0);f.adler=z.check=0;z.mode=12;break;case 10:for(;32>R;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}f.adler=z.check=w(M);R=M=0;z.mode=11;case 11:if(0===z.havedict)return f.next_out=H,f.avail_out=x,
f.next_in=F,f.avail_in=I,z.hold=M,z.bits=R,2;f.adler=z.check=1;z.mode=12;case 12:if(5===n||6===n)break a;case 13:if(z.last){M>>>=R&7;R-=R&7;z.mode=27;break}for(;3>R;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}z.last=M&1;M>>>=1;--R;switch(M&3){case 0:z.mode=14;break;case 1:na=z;if(d){g=new a.Buf32(512);m=new a.Buf32(32);for(Q=0;144>Q;)na.lens[Q++]=8;for(;256>Q;)na.lens[Q++]=9;for(;280>Q;)na.lens[Q++]=7;for(;288>Q;)na.lens[Q++]=8;b(1,na.lens,0,288,g,0,na.work,{bits:9});for(Q=0;32>Q;)na.lens[Q++]=5;b(2,
na.lens,0,32,m,0,na.work,{bits:5});d=!1}na.lencode=g;na.lenbits=9;na.distcode=m;na.distbits=5;z.mode=20;if(6===n){M>>>=2;R-=2;break a}break;case 2:z.mode=17;break;case 3:f.msg="invalid block type",z.mode=30}M>>>=2;R-=2;break;case 14:M>>>=R&7;for(R-=R&7;32>R;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}if((M&65535)!==(M>>>16^65535)){f.msg="invalid stored block lengths";z.mode=30;break}z.length=M&65535;R=M=0;z.mode=15;if(6===n)break a;case 15:z.mode=16;case 16:if(Q=z.length){Q>I&&(Q=I);Q>x&&(Q=x);if(0===
Q)break a;a.arraySet(N,G,F,Q,H);I-=Q;F+=Q;x-=Q;H+=Q;z.length-=Q;break}z.mode=12;break;case 17:for(;14>R;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}z.nlen=(M&31)+257;M>>>=5;R-=5;z.ndist=(M&31)+1;M>>>=5;R-=5;z.ncode=(M&15)+4;M>>>=4;R-=4;if(286<z.nlen||30<z.ndist){f.msg="too many length or distance symbols";z.mode=30;break}z.have=0;z.mode=18;case 18:for(;z.have<z.ncode;){for(;3>R;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}z.lens[B[z.have++]]=M&7;M>>>=3;R-=3}for(;19>z.have;)z.lens[B[z.have++]]=0;z.lencode=
z.lendyn;z.lenbits=7;Q={bits:z.lenbits};sa=b(0,z.lens,0,19,z.lencode,0,z.work,Q);z.lenbits=Q.bits;if(sa){f.msg="invalid code lengths set";z.mode=30;break}z.have=0;z.mode=19;case 19:for(;z.have<z.nlen+z.ndist;){for(;;){var oa=z.lencode[M&(1<<z.lenbits)-1];Q=oa>>>24;oa&=65535;if(Q<=R)break;if(0===I)break a;I--;M+=G[F++]<<R;R+=8}if(16>oa)M>>>=Q,R-=Q,z.lens[z.have++]=oa;else{if(16===oa){for(na=Q+2;R<na;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}M>>>=Q;R-=Q;if(0===z.have){f.msg="invalid bit length repeat";
z.mode=30;break}na=z.lens[z.have-1];Q=3+(M&3);M>>>=2;R-=2}else if(17===oa){for(na=Q+3;R<na;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}M>>>=Q;R-=Q;na=0;Q=3+(M&7);M>>>=3;R-=3}else{for(na=Q+7;R<na;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}M>>>=Q;R-=Q;na=0;Q=11+(M&127);M>>>=7;R-=7}if(z.have+Q>z.nlen+z.ndist){f.msg="invalid bit length repeat";z.mode=30;break}for(;Q--;)z.lens[z.have++]=na}}if(30===z.mode)break;if(0===z.lens[256]){f.msg="invalid code -- missing end-of-block";z.mode=30;break}z.lenbits=9;Q={bits:z.lenbits};
sa=b(1,z.lens,0,z.nlen,z.lencode,0,z.work,Q);z.lenbits=Q.bits;if(sa){f.msg="invalid literal/lengths set";z.mode=30;break}z.distbits=6;z.distcode=z.distdyn;Q={bits:z.distbits};sa=b(2,z.lens,z.nlen,z.ndist,z.distcode,0,z.work,Q);z.distbits=Q.bits;if(sa){f.msg="invalid distances set";z.mode=30;break}z.mode=20;if(6===n)break a;case 20:z.mode=21;case 21:if(6<=I&&258<=x){f.next_out=H;f.avail_out=x;f.next_in=F;f.avail_in=I;z.hold=M;z.bits=R;r(f,ca);H=f.next_out;N=f.output;x=f.avail_out;F=f.next_in;G=f.input;
I=f.avail_in;M=z.hold;R=z.bits;12===z.mode&&(z.back=-1);break}for(z.back=0;;){oa=z.lencode[M&(1<<z.lenbits)-1];Q=oa>>>24;na=oa>>>16&255;oa&=65535;if(Q<=R)break;if(0===I)break a;I--;M+=G[F++]<<R;R+=8}if(na&&0===(na&240)){var ia=Q;var ya=na;for(t=oa;;){oa=z.lencode[t+((M&(1<<ia+ya)-1)>>ia)];Q=oa>>>24;na=oa>>>16&255;oa&=65535;if(ia+Q<=R)break;if(0===I)break a;I--;M+=G[F++]<<R;R+=8}M>>>=ia;R-=ia;z.back+=ia}M>>>=Q;R-=Q;z.back+=Q;z.length=oa;if(0===na){z.mode=26;break}if(na&32){z.back=-1;z.mode=12;break}if(na&
64){f.msg="invalid literal/length code";z.mode=30;break}z.extra=na&15;z.mode=22;case 22:if(z.extra){for(na=z.extra;R<na;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}z.length+=M&(1<<z.extra)-1;M>>>=z.extra;R-=z.extra;z.back+=z.extra}z.was=z.length;z.mode=23;case 23:for(;;){oa=z.distcode[M&(1<<z.distbits)-1];Q=oa>>>24;na=oa>>>16&255;oa&=65535;if(Q<=R)break;if(0===I)break a;I--;M+=G[F++]<<R;R+=8}if(0===(na&240)){ia=Q;ya=na;for(t=oa;;){oa=z.distcode[t+((M&(1<<ia+ya)-1)>>ia)];Q=oa>>>24;na=oa>>>16&255;oa&=
65535;if(ia+Q<=R)break;if(0===I)break a;I--;M+=G[F++]<<R;R+=8}M>>>=ia;R-=ia;z.back+=ia}M>>>=Q;R-=Q;z.back+=Q;if(na&64){f.msg="invalid distance code";z.mode=30;break}z.offset=oa;z.extra=na&15;z.mode=24;case 24:if(z.extra){for(na=z.extra;R<na;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}z.offset+=M&(1<<z.extra)-1;M>>>=z.extra;R-=z.extra;z.back+=z.extra}if(z.offset>z.dmax){f.msg="invalid distance too far back";z.mode=30;break}z.mode=25;case 25:if(0===x)break a;Q=ca-x;if(z.offset>Q){Q=z.offset-Q;if(Q>z.whave&&
z.sane){f.msg="invalid distance too far back";z.mode=30;break}Q>z.wnext?(Q-=z.wnext,na=z.wsize-Q):na=z.wnext-Q;Q>z.length&&(Q=z.length);ia=z.window}else ia=N,na=H-z.offset,Q=z.length;Q>x&&(Q=x);x-=Q;z.length-=Q;do N[H++]=ia[na++];while(--Q);0===z.length&&(z.mode=21);break;case 26:if(0===x)break a;N[H++]=z.length;x--;z.mode=21;break;case 27:if(z.wrap){for(;32>R;){if(0===I)break a;I--;M|=G[F++]<<R;R+=8}ca-=x;f.total_out+=ca;z.total+=ca;ca&&(f.adler=z.check=z.flags?q(z.check,N,ca,H-ca):l(z.check,N,ca,
H-ca));ca=x;if((z.flags?M:w(M))!==z.check){f.msg="incorrect data check";z.mode=30;break}R=M=0}z.mode=28;case 28:if(z.wrap&&z.flags){for(;32>R;){if(0===I)break a;I--;M+=G[F++]<<R;R+=8}if(M!==(z.total&4294967295)){f.msg="incorrect length check";z.mode=30;break}R=M=0}z.mode=29;case 29:sa=1;break a;case 30:sa=-3;break a;case 31:return-4;default:return-2}f.next_out=H;f.avail_out=x;f.next_in=F;f.avail_in=I;z.hold=M;z.bits=R;if((z.wsize||ca!==f.avail_out&&30>z.mode&&(27>z.mode||4!==n))&&v(f,f.output,f.next_out,
ca-f.avail_out))return z.mode=31,-4;ha-=f.avail_in;ca-=f.avail_out;f.total_in+=ha;f.total_out+=ca;z.total+=ca;z.wrap&&ca&&(f.adler=z.check=z.flags?q(z.check,N,ca,f.next_out-ca):l(z.check,N,ca,f.next_out-ca));f.data_type=z.bits+(z.last?64:0)+(12===z.mode?128:0)+(20===z.mode||15===z.mode?256:0);(0===ha&&0===ca||4===n)&&0===sa&&(sa=-5);return sa};C.inflateEnd=function(f){if(!f||!f.state)return-2;var n=f.state;n.window&&(n.window=null);f.state=null;return 0};C.inflateGetHeader=function(f,n){if(!f||!f.state)return-2;
f=f.state;if(0===(f.wrap&2))return-2;f.head=n;n.done=!1;return 0};C.inflateSetDictionary=function(f,n){var t=n.length;if(!f||!f.state)return-2;var y=f.state;if(0!==y.wrap&&11!==y.mode)return-2;if(11===y.mode){var B=l(1,n,t,0);if(B!==y.check)return-3}if(v(f,n,t,t))return y.mode=31,-4;y.havedict=1;return 0};C.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":301,"./adler32":303,"./crc32":305,"./inffast":308,"./inftrees":310}],310:[function(h,K,C){var w=h("../utils/common"),k=[3,4,
5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];K.exports=function(e,v,a,l,q,r,b,d){var g=d.bits,m,f,n,t,y,B,z=0,H=new w.Buf16(16);var N=new w.Buf16(16);
var x,F=0;for(m=0;15>=m;m++)H[m]=0;for(f=0;f<l;f++)H[v[a+f]]++;var G=g;for(n=15;1<=n&&0===H[n];n--);G>n&&(G=n);if(0===n)return q[r++]=20971520,q[r++]=20971520,d.bits=1,0;for(g=1;g<n&&0===H[g];g++);G<g&&(G=g);for(m=t=1;15>=m;m++)if(t<<=1,t-=H[m],0>t)return-1;if(0<t&&(0===e||1!==n))return-1;N[1]=0;for(m=1;15>m;m++)N[m+1]=N[m]+H[m];for(f=0;f<l;f++)0!==v[a+f]&&(b[N[v[a+f]]++]=f);if(0===e){var I=x=b;var M=19}else 1===e?(I=k,z-=257,x=u,F-=257,M=256):(I=E,x=c,M=-1);f=y=0;m=g;var R=r;l=G;N=0;var ha=-1;var ca=
1<<G;var sa=ca-1;if(1===e&&852<ca||2===e&&592<ca)return 1;for(;;){var na=m-N;if(b[f]<M){var Q=0;var oa=b[f]}else b[f]>M?(Q=x[F+b[f]],oa=I[z+b[f]]):(Q=96,oa=0);t=1<<m-N;g=B=1<<l;do B-=t,q[R+(y>>N)+B]=na<<24|Q<<16|oa|0;while(0!==B);for(t=1<<m-1;y&t;)t>>=1;0!==t?(y&=t-1,y+=t):y=0;f++;if(0===--H[m]){if(m===n)break;m=v[a+b[f]]}if(m>G&&(y&sa)!==ha){0===N&&(N=G);R+=g;l=m-N;for(t=1<<l;l+N<n;){t-=H[l+N];if(0>=t)break;l++;t<<=1}ca+=1<<l;if(1===e&&852<ca||2===e&&592<ca)return 1;ha=y&sa;q[ha]=G<<24|l<<16|R-r|
0}}0!==y&&(q[R+y]=m-N<<24|4194304);d.bits=G;return 0}},{"../utils/common":301}],311:[function(h,K,C){K.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],312:[function(h,K,C){function w(Q){for(var oa=Q.length;0<=--oa;)Q[oa]=0}function k(Q,oa,ia,ya,ta){this.static_tree=Q;this.extra_bits=oa;this.extra_base=ia;this.elems=ya;this.max_length=ta;this.has_stree=Q&&Q.length}
function u(Q,oa){this.dyn_tree=Q;this.max_code=0;this.stat_desc=oa}function E(Q,oa){Q.pending_buf[Q.pending++]=oa&255;Q.pending_buf[Q.pending++]=oa>>>8&255}function c(Q,oa,ia){Q.bi_valid>16-ia?(Q.bi_buf|=oa<<Q.bi_valid&65535,E(Q,Q.bi_buf),Q.bi_buf=oa>>16-Q.bi_valid,Q.bi_valid+=ia-16):(Q.bi_buf|=oa<<Q.bi_valid&65535,Q.bi_valid+=ia)}function e(Q,oa,ia){c(Q,ia[2*oa],ia[2*oa+1])}function v(Q,oa){var ia=0;do ia|=Q&1,Q>>>=1,ia<<=1;while(0<--oa);return ia>>>1}function a(Q,oa,ia){var ya=Array(16),ta=0,Ga;
for(Ga=1;15>=Ga;Ga++)ya[Ga]=ta=ta+ia[Ga-1]<<1;for(ia=0;ia<=oa;ia++)ta=Q[2*ia+1],0!==ta&&(Q[2*ia]=v(ya[ta]++,ta))}function l(Q){var oa;for(oa=0;286>oa;oa++)Q.dyn_ltree[2*oa]=0;for(oa=0;30>oa;oa++)Q.dyn_dtree[2*oa]=0;for(oa=0;19>oa;oa++)Q.bl_tree[2*oa]=0;Q.dyn_ltree[512]=1;Q.opt_len=Q.static_len=0;Q.last_lit=Q.matches=0}function q(Q){8<Q.bi_valid?E(Q,Q.bi_buf):0<Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf);Q.bi_buf=0;Q.bi_valid=0}function r(Q,oa,ia,ya){var ta=2*oa,Ga=2*ia;return Q[ta]<Q[Ga]||Q[ta]===
Q[Ga]&&ya[oa]<=ya[ia]}function b(Q,oa,ia){for(var ya=Q.heap[ia],ta=ia<<1;ta<=Q.heap_len;){ta<Q.heap_len&&r(oa,Q.heap[ta+1],Q.heap[ta],Q.depth)&&ta++;if(r(oa,ya,Q.heap[ta],Q.depth))break;Q.heap[ia]=Q.heap[ta];ia=ta;ta<<=1}Q.heap[ia]=ya}function d(Q,oa,ia){var ya=0;if(0!==Q.last_lit){do{var ta=Q.pending_buf[Q.d_buf+2*ya]<<8|Q.pending_buf[Q.d_buf+2*ya+1];var Ga=Q.pending_buf[Q.l_buf+ya];ya++;if(0===ta)e(Q,Ga,oa);else{var qa=I[Ga];e(Q,qa+256+1,oa);var Pa=B[qa];0!==Pa&&(Ga-=M[qa],c(Q,Ga,Pa));ta--;qa=256>
ta?G[ta]:G[256+(ta>>>7)];e(Q,qa,ia);Pa=z[qa];0!==Pa&&(ta-=R[qa],c(Q,ta,Pa))}}while(ya<Q.last_lit)}e(Q,256,oa)}function g(Q,oa){var ia=oa.dyn_tree,ya=oa.stat_desc.static_tree,ta=oa.stat_desc.has_stree,Ga=oa.stat_desc.elems,qa,Pa=-1;Q.heap_len=0;Q.heap_max=573;for(qa=0;qa<Ga;qa++)0!==ia[2*qa]?(Q.heap[++Q.heap_len]=Pa=qa,Q.depth[qa]=0):ia[2*qa+1]=0;for(;2>Q.heap_len;){var $a=Q.heap[++Q.heap_len]=2>Pa?++Pa:0;ia[2*$a]=1;Q.depth[$a]=0;Q.opt_len--;ta&&(Q.static_len-=ya[2*$a+1])}oa.max_code=Pa;for(qa=Q.heap_len>>
1;1<=qa;qa--)b(Q,ia,qa);$a=Ga;do qa=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],b(Q,ia,1),ya=Q.heap[1],Q.heap[--Q.heap_max]=qa,Q.heap[--Q.heap_max]=ya,ia[2*$a]=ia[2*qa]+ia[2*ya],Q.depth[$a]=(Q.depth[qa]>=Q.depth[ya]?Q.depth[qa]:Q.depth[ya])+1,ia[2*qa+1]=ia[2*ya+1]=$a,Q.heap[1]=$a++,b(Q,ia,1);while(2<=Q.heap_len);Q.heap[--Q.heap_max]=Q.heap[1];qa=oa.dyn_tree;$a=oa.max_code;ya=oa.stat_desc.static_tree;ta=oa.stat_desc.has_stree;Ga=oa.stat_desc.extra_bits;var gb=oa.stat_desc.extra_base,S=oa.stat_desc.max_length,
da,xa=0;for(da=0;15>=da;da++)Q.bl_count[da]=0;qa[2*Q.heap[Q.heap_max]+1]=0;for(oa=Q.heap_max+1;573>oa;oa++){var Ha=Q.heap[oa];da=qa[2*qa[2*Ha+1]+1]+1;da>S&&(da=S,xa++);qa[2*Ha+1]=da;if(!(Ha>$a)){Q.bl_count[da]++;var Xa=0;Ha>=gb&&(Xa=Ga[Ha-gb]);var rb=qa[2*Ha];Q.opt_len+=rb*(da+Xa);ta&&(Q.static_len+=rb*(ya[2*Ha+1]+Xa))}}if(0!==xa){do{for(da=S-1;0===Q.bl_count[da];)da--;Q.bl_count[da]--;Q.bl_count[da+1]+=2;Q.bl_count[S]--;xa-=2}while(0<xa);for(da=S;0!==da;da--)for(Ha=Q.bl_count[da];0!==Ha;)ya=Q.heap[--oa],
ya>$a||(qa[2*ya+1]!==da&&(Q.opt_len+=(da-qa[2*ya+1])*qa[2*ya],qa[2*ya+1]=da),Ha--)}a(ia,Pa,Q.bl_count)}function m(Q,oa,ia){var ya,ta=-1,Ga=oa[1],qa=0,Pa=7,$a=4;0===Ga&&(Pa=138,$a=3);oa[2*(ia+1)+1]=65535;for(ya=0;ya<=ia;ya++){var gb=Ga;Ga=oa[2*(ya+1)+1];++qa<Pa&&gb===Ga||(qa<$a?Q.bl_tree[2*gb]+=qa:0!==gb?(gb!==ta&&Q.bl_tree[2*gb]++,Q.bl_tree[32]++):10>=qa?Q.bl_tree[34]++:Q.bl_tree[36]++,qa=0,ta=gb,0===Ga?(Pa=138,$a=3):gb===Ga?(Pa=6,$a=3):(Pa=7,$a=4))}}function f(Q,oa,ia){var ya,ta=-1,Ga=oa[1],qa=0,
Pa=7,$a=4;0===Ga&&(Pa=138,$a=3);for(ya=0;ya<=ia;ya++){var gb=Ga;Ga=oa[2*(ya+1)+1];if(!(++qa<Pa&&gb===Ga)){if(qa<$a){do e(Q,gb,Q.bl_tree);while(0!==--qa)}else 0!==gb?(gb!==ta&&(e(Q,gb,Q.bl_tree),qa--),e(Q,16,Q.bl_tree),c(Q,qa-3,2)):10>=qa?(e(Q,17,Q.bl_tree),c(Q,qa-3,3)):(e(Q,18,Q.bl_tree),c(Q,qa-11,7));qa=0;ta=gb;0===Ga?(Pa=138,$a=3):gb===Ga?(Pa=6,$a=3):(Pa=7,$a=4)}}}function n(Q){var oa=4093624447,ia;for(ia=0;31>=ia;ia++,oa>>>=1)if(oa&1&&0!==Q.dyn_ltree[2*ia])return 0;if(0!==Q.dyn_ltree[18]||0!==
Q.dyn_ltree[20]||0!==Q.dyn_ltree[26])return 1;for(ia=32;256>ia;ia++)if(0!==Q.dyn_ltree[2*ia])return 1;return 0}function t(Q,oa,ia,ya){c(Q,ya?1:0,3);q(Q);E(Q,ia);E(Q,~ia);y.arraySet(Q.pending_buf,Q.window,oa,ia,Q.pending);Q.pending+=ia}var y=h("../utils/common"),B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=Array(576);
w(x);var F=Array(60);w(F);var G=Array(512);w(G);var I=Array(256);w(I);var M=Array(29);w(M);var R=Array(30);w(R);var ha,ca,sa,na=!1;C._tr_init=function(Q){if(!na){var oa,ia,ya,ta=Array(16);for(ya=ia=0;28>ya;ya++)for(M[ya]=ia,oa=0;oa<1<<B[ya];oa++)I[ia++]=ya;I[ia-1]=ya;for(ya=ia=0;16>ya;ya++)for(R[ya]=ia,oa=0;oa<1<<z[ya];oa++)G[ia++]=ya;for(ia>>=7;30>ya;ya++)for(R[ya]=ia<<7,oa=0;oa<1<<z[ya]-7;oa++)G[256+ia++]=ya;for(oa=0;15>=oa;oa++)ta[oa]=0;for(oa=0;143>=oa;)x[2*oa+1]=8,oa++,ta[8]++;for(;255>=oa;)x[2*
oa+1]=9,oa++,ta[9]++;for(;279>=oa;)x[2*oa+1]=7,oa++,ta[7]++;for(;287>=oa;)x[2*oa+1]=8,oa++,ta[8]++;a(x,287,ta);for(oa=0;30>oa;oa++)F[2*oa+1]=5,F[2*oa]=v(oa,5);ha=new k(x,B,257,286,15);ca=new k(F,z,0,30,15);sa=new k([],H,0,19,7);na=!0}Q.l_desc=new u(Q.dyn_ltree,ha);Q.d_desc=new u(Q.dyn_dtree,ca);Q.bl_desc=new u(Q.bl_tree,sa);Q.bi_buf=0;Q.bi_valid=0;l(Q)};C._tr_stored_block=t;C._tr_flush_block=function(Q,oa,ia,ya){var ta=0;if(0<Q.level){2===Q.strm.data_type&&(Q.strm.data_type=n(Q));g(Q,Q.l_desc);g(Q,
Q.d_desc);m(Q,Q.dyn_ltree,Q.l_desc.max_code);m(Q,Q.dyn_dtree,Q.d_desc.max_code);g(Q,Q.bl_desc);for(ta=18;3<=ta&&0===Q.bl_tree[2*N[ta]+1];ta--);Q.opt_len+=3*(ta+1)+14;var Ga=Q.opt_len+3+7>>>3;var qa=Q.static_len+3+7>>>3;qa<=Ga&&(Ga=qa)}else Ga=qa=ia+5;if(ia+4<=Ga&&-1!==oa)t(Q,oa,ia,ya);else if(4===Q.strategy||qa===Ga)c(Q,2+(ya?1:0),3),d(Q,x,F);else{c(Q,4+(ya?1:0),3);oa=Q.l_desc.max_code+1;ia=Q.d_desc.max_code+1;ta+=1;c(Q,oa-257,5);c(Q,ia-1,5);c(Q,ta-4,4);for(Ga=0;Ga<ta;Ga++)c(Q,Q.bl_tree[2*N[Ga]+1],
3);f(Q,Q.dyn_ltree,oa-1);f(Q,Q.dyn_dtree,ia-1);d(Q,Q.dyn_ltree,Q.dyn_dtree)}l(Q);ya&&q(Q)};C._tr_tally=function(Q,oa,ia){Q.pending_buf[Q.d_buf+2*Q.last_lit]=oa>>>8&255;Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=oa&255;Q.pending_buf[Q.l_buf+Q.last_lit]=ia&255;Q.last_lit++;0===oa?Q.dyn_ltree[2*ia]++:(Q.matches++,oa--,Q.dyn_ltree[2*(I[ia]+256+1)]++,Q.dyn_dtree[2*(256>oa?G[oa]:G[256+(oa>>>7)])]++);return Q.last_lit===Q.lit_bufsize-1};C._tr_align=function(Q){c(Q,2,3);e(Q,256,x);16===Q.bi_valid?(E(Q,Q.bi_buf),
Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf&255,Q.bi_buf>>=8,Q.bi_valid-=8)}},{"../utils/common":301}],313:[function(h,K,C){K.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],314:[function(h,K,C){(function(w,k){"object"===typeof C&&"undefined"!==typeof K?K.exports=k():w.PointerEventsPolyfill=k()})(this,function(){function w(S,
da){da=da||Object.create(null);var xa=document.createEvent("Event");xa.initEvent(S,da.bubbles||!1,da.cancelable||!1);S=2;for(var Ha;S<l.length;S++)Ha=l[S],xa[Ha]=da[Ha]||q[S];xa.buttons=da.buttons||0;S=da.pressure&&xa.buttons?da.pressure:xa.buttons?.5:0;xa.x=xa.clientX;xa.y=xa.clientY;xa.pointerId=da.pointerId||0;xa.width=da.width||0;xa.height=da.height||0;xa.pressure=S;xa.tiltX=da.tiltX||0;xa.tiltY=da.tiltY||0;xa.twist=da.twist||0;xa.tangentialPressure=da.tangentialPressure||0;xa.pointerType=da.pointerType||
"";xa.hwTimestamp=da.hwTimestamp||0;xa.isPrimary=da.isPrimary||!1;return xa}function k(){this.array=[];this.size=0}function u(S,da,xa,Ha){this.addCallback=S.bind(Ha);this.removeCallback=da.bind(Ha);this.changedCallback=xa.bind(Ha);H&&(this.observer=new H(this.mutationWatcher.bind(this)))}function E(S){return"body /shadow-deep/ "+c(S)}function c(S){return'[touch-action="'+S+'"]'}function e(S){return"{ -ms-touch-action: "+S+"; touch-action: "+S+"; }"}function v(S){if(!f.pointermap.has(S))throw S=Error("InvalidPointerId"),
S.name="InvalidPointerId",S;}function a(S){for(var da=S.parentNode;da&&da!==S.ownerDocument;)da=da.parentNode;if(!da)throw S=Error("InvalidStateError"),S.name="InvalidStateError",S;}var l="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget pageX pageY".split(" "),q=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],r=window.Map&&window.Map.prototype.forEach?Map:k;k.prototype={set:function(S,da){if(void 0===da)return this.delete(S);this.has(S)||
this.size++;this.array[S]=da},has:function(S){return void 0!==this.array[S]},delete:function(S){this.has(S)&&(delete this.array[S],this.size--)},get:function(S){return this.array[S]},clear:function(){this.size=this.array.length=0},forEach:function(S,da){return this.array.forEach(function(xa,Ha){S.call(da,xa,Ha,this)},this)}};var b="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget buttons pointerId width height pressure tiltX tiltY pointerType hwTimestamp isPrimary type target currentTarget which pageX pageY timeStamp".split(" "),
d=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],g={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},m="undefined"!==typeof SVGElementInstance,f={pointermap:new r,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(S,da){var xa=da.events;xa&&(xa.forEach(function(Ha){da[Ha]&&(this.eventMap[Ha]=da[Ha].bind(da))},this),this.eventSources[S]=da,this.eventSourceList.push(da))},
register:function(S){for(var da=this.eventSourceList.length,xa=0,Ha;xa<da&&(Ha=this.eventSourceList[xa]);xa++)Ha.register.call(Ha,S)},unregister:function(S){for(var da=this.eventSourceList.length,xa=0,Ha;xa<da&&(Ha=this.eventSourceList[xa]);xa++)Ha.unregister.call(Ha,S)},contains:function(S,da){try{return S.contains(da)}catch(xa){return!1}},down:function(S){S.bubbles=!0;this.fireEvent("pointerdown",S)},move:function(S){S.bubbles=!0;this.fireEvent("pointermove",S)},up:function(S){S.bubbles=!0;this.fireEvent("pointerup",
S)},enter:function(S){S.bubbles=!1;this.fireEvent("pointerenter",S)},leave:function(S){S.bubbles=!1;this.fireEvent("pointerleave",S)},over:function(S){S.bubbles=!0;this.fireEvent("pointerover",S)},out:function(S){S.bubbles=!0;this.fireEvent("pointerout",S)},cancel:function(S){S.bubbles=!0;this.fireEvent("pointercancel",S)},leaveOut:function(S){this.out(S);this.propagate(S,this.leave,!1)},enterOver:function(S){this.over(S);this.propagate(S,this.enter,!0)},eventHandler:function(S){if(!S._handledByPE){var da=
S.type;(da=this.eventMap&&this.eventMap[da])&&da(S);S._handledByPE=!0}},listen:function(S,da){da.forEach(function(xa){this.addEvent(S,xa)},this)},unlisten:function(S,da){da.forEach(function(xa){this.removeEvent(S,xa)},this)},addEvent:function(S,da){S.addEventListener(da,this.boundHandler)},removeEvent:function(S,da){S.removeEventListener(da,this.boundHandler)},makeEvent:function(S,da){this.captureInfo[da.pointerId]&&(da.relatedTarget=null);S=new w(S,da);da.preventDefault&&(S.preventDefault=da.preventDefault);
S._target=S._target||da.target;return S},fireEvent:function(S,da){S=this.makeEvent(S,da);return this.dispatchEvent(S)},cloneEvent:function(S){for(var da=Object.create(null),xa,Ha=0;Ha<b.length;Ha++)xa=b[Ha],da[xa]=S[xa]||d[Ha],m&&("target"===xa||"relatedTarget"===xa)&&da[xa]instanceof SVGElementInstance&&(da[xa]=da[xa].correspondingUseElement);S.preventDefault&&(da.preventDefault=function(){S.preventDefault()});return da},getTarget:function(S){var da=this.captureInfo[S.pointerId];if(!da)return S._target;
if(S._target===da||!(S.type in g))return da},propagate:function(S,da,xa){for(var Ha=S.target,Xa=[];Ha!==document&&!Ha.contains(S.relatedTarget);)if(Xa.push(Ha),Ha=Ha.parentNode,!Ha)return;xa&&Xa.reverse();Xa.forEach(function(rb){S.target=rb;da.call(this,S)},this)},setCapture:function(S,da,xa){this.captureInfo[S]&&this.releaseCapture(S,xa);this.captureInfo[S]=da;this.implicitRelease=this.releaseCapture.bind(this,S,xa);document.addEventListener("pointerup",this.implicitRelease);document.addEventListener("pointercancel",
this.implicitRelease);var Ha=new w("gotpointercapture");Ha.pointerId=S;Ha._target=da;xa||this.asyncDispatchEvent(Ha)},releaseCapture:function(S,da){var xa=this.captureInfo[S];if(xa){this.captureInfo[S]=void 0;document.removeEventListener("pointerup",this.implicitRelease);document.removeEventListener("pointercancel",this.implicitRelease);var Ha=new w("lostpointercapture");Ha.pointerId=S;Ha._target=xa;da||this.asyncDispatchEvent(Ha)}},dispatchEvent:function(S){var da=this.getTarget(S);if(da)return da.dispatchEvent(S)},
asyncDispatchEvent:function(S){requestAnimationFrame(this.dispatchEvent.bind(this,S))}};f.boundHandler=f.eventHandler.bind(f);var n={shadow:function(S){if(S)return S.shadowRoot||S.webkitShadowRoot},canTarget:function(S){return S&&!!S.elementFromPoint},targetingShadow:function(S){S=this.shadow(S);if(this.canTarget(S))return S},olderShadow:function(S){var da=S.olderShadowRoot;!da&&(S=S.querySelector("shadow"))&&(da=S.olderShadowRoot);return da},allShadows:function(S){var da=[];for(S=this.shadow(S);S;)da.push(S),
S=this.olderShadow(S);return da},searchRoot:function(S,da,xa){if(S){var Ha=S.elementFromPoint(da,xa),Xa;for(Xa=this.targetingShadow(Ha);Xa;){if(S=Xa.elementFromPoint(da,xa))return Ha=this.targetingShadow(S),this.searchRoot(Ha,da,xa)||S;Xa=this.olderShadow(Xa)}return Ha}},owner:function(S){for(;S.parentNode;)S=S.parentNode;S.nodeType!==Node.DOCUMENT_NODE&&S.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(S=document);return S},findTarget:function(S){var da=S.clientX,xa=S.clientY;S=this.owner(S.target);S.elementFromPoint(da,
xa)||(S=document);return this.searchRoot(S,da,xa)}},t=Array.prototype.forEach.call.bind(Array.prototype.forEach),y=Array.prototype.map.call.bind(Array.prototype.map),B=Array.prototype.slice.call.bind(Array.prototype.slice),z=Array.prototype.filter.call.bind(Array.prototype.filter),H=window.MutationObserver||window.WebKitMutationObserver,N={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};u.prototype={watchSubtree:function(S){this.observer&&n.canTarget(S)&&
this.observer.observe(S,N)},enableOnSubtree:function(S){this.watchSubtree(S);S===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(S)},installNewSubtree:function(S){t(this.findElements(S),this.addElement,this)},findElements:function(S){return S.querySelectorAll?S.querySelectorAll("[touch-action]"):[]},removeElement:function(S){this.removeCallback(S)},addElement:function(S){this.addCallback(S)},elementChanged:function(S,da){this.changedCallback(S,da)},concatLists:function(S,
da){return S.concat(B(da))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(S){return S.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(S){var da=y(S,this.findElements,this);da.push(z(S,this.isElement));return da.reduce(this.concatLists,[])},mutationWatcher:function(S){S.forEach(this.mutationHandler,this)},mutationHandler:function(S){"childList"===S.type?
(this.flattenMutationTree(S.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(S.removedNodes).forEach(this.removeElement,this)):"attributes"===S.type&&this.elementChanged(S.target,S.oldValue)}};var x=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],F="",G=window.PointerEvent||window.MSPointerEvent,I=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,M=f.pointermap,R=[1,4,2,8,16],ha=!1;try{ha=1===(new MouseEvent("test",{buttons:1})).buttons}catch(S){}var ca=
{POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(S){f.listen(S,this.events)},unregister:function(S){f.unlisten(S,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(S){var da=this.lastTouches,xa=S.clientX;S=S.clientY;for(var Ha=0,Xa=da.length,rb;Ha<Xa&&(rb=da[Ha]);Ha++){var tb=Math.abs(S-rb.y);if(25>=Math.abs(xa-rb.x)&&25>=tb)return!0}},prepareEvent:function(S){var da=f.cloneEvent(S),xa=da.preventDefault;da.preventDefault=
function(){S.preventDefault();xa()};da.pointerId=this.POINTER_ID;da.isPrimary=!0;da.pointerType=this.POINTER_TYPE;return da},prepareButtonsForMove:function(S,da){var xa=M.get(this.POINTER_ID);[0,1,2].includes(da.button)&&xa?S.buttons=xa.buttons:S.buttons=0;da.buttons=S.buttons},mousedown:function(S){if(!this.isEventSimulatedFromTouch(S)){var da=M.get(this.POINTER_ID),xa=this.prepareEvent(S);ha||(xa.buttons=R[xa.button],da&&(xa.buttons|=da.buttons),S.buttons=xa.buttons);M.set(this.POINTER_ID,S);da&&
0!==da.buttons?f.move(xa):f.down(xa)}},mousemove:function(S){if(!this.isEventSimulatedFromTouch(S)){var da=this.prepareEvent(S);ha||this.prepareButtonsForMove(da,S);da.button=-1;M.set(this.POINTER_ID,S);f.move(da)}},mouseup:function(S){if(!this.isEventSimulatedFromTouch(S)){var da=M.get(this.POINTER_ID),xa=this.prepareEvent(S);if(!ha){var Ha=R[xa.button];xa.buttons=da?da.buttons&~Ha:0;S.buttons=xa.buttons}M.set(this.POINTER_ID,S);xa.buttons&=~R[xa.button];0===xa.buttons?f.up(xa):f.move(xa)}},mouseover:function(S){if(!this.isEventSimulatedFromTouch(S)){var da=
this.prepareEvent(S);ha||this.prepareButtonsForMove(da,S);da.button=-1;M.set(this.POINTER_ID,S);f.enterOver(da)}},mouseout:function(S){if(!this.isEventSimulatedFromTouch(S)){var da=this.prepareEvent(S);ha||this.prepareButtonsForMove(da,S);da.button=-1;f.leaveOut(da)}},cancel:function(S){S=this.prepareEvent(S);f.cancel(S);this.deactivateMouse()},deactivateMouse:function(){M.delete(this.POINTER_ID)}},sa=f.captureInfo,na=n.findTarget.bind(n),Q=n.allShadows.bind(n),oa=f.pointermap,ia={events:["touchstart",
"touchmove","touchend","touchcancel"],register:function(S){ya.enableOnSubtree(S)},unregister:function(){},elementAdded:function(S){var da=S.getAttribute("touch-action"),xa=this.touchActionToScrollType(da);xa&&(S._scrollType=xa,f.listen(S,this.events),Q(S).forEach(function(Ha){Ha._scrollType=xa;f.listen(Ha,this.events)},this))},elementRemoved:function(S){S._scrollType=void 0;f.unlisten(S,this.events);Q(S).forEach(function(da){da._scrollType=void 0;f.unlisten(da,this.events)},this)},elementChanged:function(S,
da){var xa=S.getAttribute("touch-action"),Ha=this.touchActionToScrollType(xa);da=this.touchActionToScrollType(da);Ha&&da?(S._scrollType=Ha,Q(S).forEach(function(Xa){Xa._scrollType=Ha},this)):da?this.elementRemoved(S):Ha&&this.elementAdded(S)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(S){var da=this.scrollTypes;if("none"===S)return"none";if(S===da.XSCROLLER)return"X";if(S===da.YSCROLLER)return"Y";
if(da.SCROLLER.exec(S))return"XY"},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(S){return this.firstTouch===S.identifier},setPrimaryTouch:function(S){if(0===oa.size||1===oa.size&&oa.has(1))this.firstTouch=S.identifier,this.firstXY={X:S.clientX,Y:S.clientY},this.scrolling=!1,this.cancelResetClickCount()},removePrimaryPointer:function(S){S.isPrimary&&(this.firstXY=this.firstTouch=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var S=function(){this.clickCount=
0;this.resetId=null}.bind(this);this.resetId=setTimeout(S,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(S){var da=0;if("touchstart"===S||"touchmove"===S)da=1;return da},touchToPointer:function(S){var da=this.currentTouchEvent,xa=f.cloneEvent(S),Ha=xa.pointerId=S.identifier+2;xa.target=sa[Ha]||na(xa);xa.bubbles=!0;xa.cancelable=!0;xa.detail=this.clickCount;xa.button=0;xa.buttons=this.typeToButtons(da.type);xa.width=2*(S.radiusX||S.webkitRadiusX||
0);xa.height=2*(S.radiusY||S.webkitRadiusY||0);xa.pressure=S.force||S.webkitForce||.5;xa.isPrimary=this.isPrimaryTouch(S);xa.pointerType=this.POINTER_TYPE;xa.altKey=da.altKey;xa.ctrlKey=da.ctrlKey;xa.metaKey=da.metaKey;xa.shiftKey=da.shiftKey;var Xa=this;xa.preventDefault=function(){Xa.scrolling=!1;Xa.firstXY=null;da.preventDefault()};return xa},processTouches:function(S,da){var xa=S.changedTouches;this.currentTouchEvent=S;S=0;for(var Ha;S<xa.length;S++)Ha=xa[S],da.call(this,this.touchToPointer(Ha))},
shouldScroll:function(S){if(this.firstXY){var da=S.currentTarget._scrollType;if("none"===da)da=!1;else if("XY"===da)da=!0;else{S=S.changedTouches[0];var xa="Y"===da?"X":"Y";da=Math.abs(S["client"+da]-this.firstXY[da])>=Math.abs(S["client"+xa]-this.firstXY[xa])}this.firstXY=null;return da}},findTouch:function(S,da){for(var xa=0,Ha=S.length,Xa;xa<Ha&&(Xa=S[xa]);xa++)if(Xa.identifier===da)return!0},vacuumTouches:function(S){var da=S.touches;if(oa.size>=da.length){var xa=[];oa.forEach(function(Ha,Xa){1===
Xa||this.findTouch(da,Xa-2)||xa.push(Ha.out)},this);xa.forEach(this.cancelOut,this)}},touchstart:function(S){this.vacuumTouches(S);this.setPrimaryTouch(S.changedTouches[0]);this.dedupSynthMouse(S);this.scrolling||(this.clickCount++,this.processTouches(S,this.overDown))},overDown:function(S){oa.set(S.pointerId,{target:S.target,out:S,outTarget:S.target});f.enterOver(S);f.down(S)},touchmove:function(S){this.scrolling||(this.shouldScroll(S)?(this.scrolling=!0,this.touchcancel(S)):(S.preventDefault(),
this.processTouches(S,this.moveOverOut)))},moveOverOut:function(S){var da=oa.get(S.pointerId);if(da){var xa=da.out,Ha=da.outTarget;f.move(S);xa&&Ha!==S.target&&(xa.relatedTarget=S.target,S.relatedTarget=Ha,xa.target=Ha,S.target?(f.leaveOut(xa),f.enterOver(S)):(S.target=Ha,S.relatedTarget=null,this.cancelOut(S)));da.out=S;da.outTarget=S.target}},touchend:function(S){this.dedupSynthMouse(S);this.processTouches(S,this.upOut)},upOut:function(S){this.scrolling||(f.up(S),f.leaveOut(S));this.cleanUpPointer(S)},
touchcancel:function(S){this.processTouches(S,this.cancelOut)},cancelOut:function(S){f.cancel(S);f.leaveOut(S);this.cleanUpPointer(S)},cleanUpPointer:function(S){oa.delete(S.pointerId);this.removePrimaryPointer(S)},dedupSynthMouse:function(S){var da=ca.lastTouches;S=S.changedTouches[0];this.isPrimaryTouch(S)&&(S={x:S.clientX,y:S.clientY},da.push(S),da=function(xa,Ha){Ha=xa.indexOf(Ha);-1<Ha&&xa.splice(Ha,1)}.bind(null,da,S),setTimeout(da,2500))}};var ya=new u(ia.elementAdded,ia.elementRemoved,ia.elementChanged,
ia);var ta=f.pointermap,Ga=window.MSPointerEvent&&"number"===typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,qa={events:"MSPointerDown MSPointerMove MSPointerUp MSPointerOut MSPointerOver MSPointerCancel MSGotPointerCapture MSLostPointerCapture".split(" "),register:function(S){f.listen(S,this.events)},unregister:function(S){f.unlisten(S,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(S){var da=S;Ga&&(da=f.cloneEvent(S),da.pointerType=this.POINTER_TYPES[S.pointerType]);
return da},cleanup:function(S){ta.delete(S)},MSPointerDown:function(S){ta.set(S.pointerId,S);S=this.prepareEvent(S);f.down(S)},MSPointerMove:function(S){S=this.prepareEvent(S);f.move(S)},MSPointerUp:function(S){var da=this.prepareEvent(S);f.up(da);this.cleanup(S.pointerId)},MSPointerOut:function(S){S=this.prepareEvent(S);f.leaveOut(S)},MSPointerOver:function(S){S=this.prepareEvent(S);f.enterOver(S)},MSPointerCancel:function(S){var da=this.prepareEvent(S);f.cancel(da);this.cleanup(S.pointerId)},MSLostPointerCapture:function(S){S=
f.makeEvent("lostpointercapture",S);f.dispatchEvent(S)},MSGotPointerCapture:function(S){S=f.makeEvent("gotpointercapture",S);f.dispatchEvent(S)}};if(window.navigator.msPointerEnabled){var Pa=function(S){v(S);a(this);0!==f.pointermap.get(S).buttons&&(f.setCapture(S,this,!0),this.msSetPointerCapture(S))};var $a=function(S){v(S);f.releaseCapture(S,!0);this.msReleasePointerCapture(S)}}else Pa=function(S){v(S);a(this);0!==f.pointermap.get(S).buttons&&f.setCapture(S,this)},$a=function(S){v(S);f.releaseCapture(S)};
var gb=function(S){return!!f.captureInfo[S]};(function(){if(G){x.forEach(function(da){String(da)===da?(F+=c(da)+e(da)+"\n",I&&(F+=E(da)+e(da)+"\n")):(F+=da.selectors.map(c)+e(da.rule)+"\n",I&&(F+=da.selectors.map(E)+e(da.rule)+"\n"))});var S=document.createElement("style");S.textContent=F;document.head.appendChild(S)}})();window.PointerEvent||(window.PointerEvent=w,window.navigator.msPointerEnabled?(Object.defineProperty(window.navigator,"maxTouchPoints",{value:window.navigator.msMaxTouchPoints,enumerable:!0}),
f.registerSource("ms",qa)):(Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),f.registerSource("mouse",ca),void 0!==window.ontouchstart&&f.registerSource("touch",ia)),f.register(document));window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:Pa},releasePointerCapture:{value:$a},hasPointerCapture:{value:gb}});return{dispatcher:f,Installer:u,PointerEvent:w,PointerMap:r,targetFinding:n}})},{}],315:[function(h,
K,C){(function(w){(function(){(function(k,u){"object"===typeof C&&"undefined"!==typeof K?K.exports=u():k.Popper=u()})(this,function(){function k(U){var ba=!1;return function(){ba||(ba=!0,window.Promise.resolve().then(function(){ba=!1;U()}))}}function u(U){var ba=!1;return function(){ba||(ba=!0,setTimeout(function(){ba=!1;U()},da))}}function E(U){var ba={};return U&&"[object Function]"===ba.toString.call(U)}function c(U,ba){if(1!==U.nodeType)return[];U=U.ownerDocument.defaultView.getComputedStyle(U,
null);return ba?U[ba]:U}function e(U){return"HTML"===U.nodeName?U:U.parentNode||U.host}function v(U){if(!U)return document.body;switch(U.nodeName){case "HTML":case "BODY":return U.ownerDocument.body;case "#document":return U.body}var ba=c(U);return/(auto|scroll|overlay)/.test(ba.overflow+ba.overflowY+ba.overflowX)?U:v(e(U))}function a(U){return 11===U?Ha:10===U?Xa:Ha||Xa}function l(U){if(!U)return document.documentElement;for(var ba=a(10)?document.body:null,ea=U.offsetParent||null;ea===ba&&U.nextElementSibling;)ea=
(U=U.nextElementSibling).offsetParent;return(ba=ea&&ea.nodeName)&&"BODY"!==ba&&"HTML"!==ba?-1!==["TH","TD","TABLE"].indexOf(ea.nodeName)&&"static"===c(ea,"position")?l(ea):ea:U?U.ownerDocument.documentElement:document.documentElement}function q(U){return null!==U.parentNode?q(U.parentNode):U}function r(U,ba){if(!(U&&U.nodeType&&ba&&ba.nodeType))return document.documentElement;var ea=U.compareDocumentPosition(ba)&Node.DOCUMENT_POSITION_FOLLOWING,aa=ea?U:ba,ua=ea?ba:U;ea=document.createRange();ea.setStart(aa,
0);ea.setEnd(ua,0);ea=ea.commonAncestorContainer;if(U!==ea&&ba!==ea||aa.contains(ua))return U=ea.nodeName,U="BODY"===U?!1:"HTML"===U||l(ea.firstElementChild)===ea,U?ea:l(ea);aa=q(U);return aa.host?r(aa.host,ba):r(U,q(ba).host)}function b(U){var ba="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",ea=U.nodeName;return"BODY"===ea||"HTML"===ea?(ea=U.ownerDocument.documentElement,(U.ownerDocument.scrollingElement||ea)[ba]):U[ba]}function d(U,ba){var ea=2<
arguments.length&&void 0!==arguments[2]?arguments[2]:!1,aa=b(ba,"top"),ua=b(ba,"left");ea=ea?-1:1;U.top+=aa*ea;U.bottom+=aa*ea;U.left+=ua*ea;U.right+=ua*ea;return U}function g(U,ba){ba="x"===ba?"Left":"Top";var ea="Left"===ba?"Right":"Bottom";return parseFloat(U["border"+ba+"Width"])+parseFloat(U["border"+ea+"Width"])}function m(U,ba,ea,aa){return Math.max(ba["offset"+U],ba["scroll"+U],ea["client"+U],ea["offset"+U],ea["scroll"+U],a(10)?parseInt(ea["offset"+U])+parseInt(aa["margin"+("Height"===U?"Top":
"Left")])+parseInt(aa["margin"+("Height"===U?"Bottom":"Right")]):0)}function f(U){var ba=U.body;U=U.documentElement;var ea=a(10)&&getComputedStyle(U);return{height:m("Height",ba,U,ea),width:m("Width",ba,U,ea)}}function n(U){return Ma({},U,{right:U.left+U.width,bottom:U.top+U.height})}function t(U){var ba={};try{if(a(10)){ba=U.getBoundingClientRect();var ea=b(U,"top"),aa=b(U,"left");ba.top+=ea;ba.left+=aa;ba.bottom+=ea;ba.right+=aa}else ba=U.getBoundingClientRect()}catch(ua){}ba={left:ba.left,top:ba.top,
width:ba.right-ba.left,height:ba.bottom-ba.top};aa="HTML"===U.nodeName?f(U.ownerDocument):{};ea=U.offsetWidth-(aa.width||U.clientWidth||ba.width);aa=U.offsetHeight-(aa.height||U.clientHeight||ba.height);if(ea||aa)U=c(U),ea-=g(U,"x"),aa-=g(U,"y"),ba.width-=ea,ba.height-=aa;return n(ba)}function y(U,ba){var ea=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,aa=a(10),ua="HTML"===ba.nodeName,Ea=t(U),Fa=t(ba),ma=v(U),W=c(ba),Z=parseFloat(W.borderTopWidth),D=parseFloat(W.borderLeftWidth);ea&&
ua&&(Fa.top=Math.max(Fa.top,0),Fa.left=Math.max(Fa.left,0));Ea=n({top:Ea.top-Fa.top-Z,left:Ea.left-Fa.left-D,width:Ea.width,height:Ea.height});Ea.marginTop=0;Ea.marginLeft=0;!aa&&ua&&(ua=parseFloat(W.marginTop),W=parseFloat(W.marginLeft),Ea.top-=Z-ua,Ea.bottom-=Z-ua,Ea.left-=D-W,Ea.right-=D-W,Ea.marginTop=ua,Ea.marginLeft=W);if(aa&&!ea?ba.contains(ma):ba===ma&&"BODY"!==ma.nodeName)Ea=d(Ea,ba);return Ea}function B(U){var ba=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,ea=U.ownerDocument.documentElement,
aa=y(U,ea),ua=Math.max(ea.clientWidth,window.innerWidth||0),Ea=Math.max(ea.clientHeight,window.innerHeight||0),Fa=ba?0:b(ea);ba=ba?0:b(ea,"left");return n({top:Fa-aa.top+aa.marginTop,left:ba-aa.left+aa.marginLeft,width:ua,height:Ea})}function z(U){var ba=U.nodeName;return"BODY"===ba||"HTML"===ba?!1:"fixed"===c(U,"position")?!0:(U=e(U))?z(U):!1}function H(U){if(!U||!U.parentElement||a())return document.documentElement;for(U=U.parentElement;U&&"none"===c(U,"transform");)U=U.parentElement;return U||
document.documentElement}function N(U,ba,ea,aa){var ua=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1,Ea={top:0,left:0},Fa=ua?H(U):r(U,ba&&ba.referenceNode?ba.referenceNode:ba);if("viewport"===aa)Ea=B(Fa,ua);else{if("scrollParent"===aa){var ma=v(e(ba));"BODY"===ma.nodeName&&(ma=U.ownerDocument.documentElement)}else ma="window"===aa?U.ownerDocument.documentElement:aa;ua=y(ma,Fa,ua);"HTML"!==ma.nodeName||z(Fa)?Ea=ua:(ma=f(U.ownerDocument),Fa=ma.height,ma=ma.width,Ea.top+=ua.top-ua.marginTop,
Ea.bottom=Fa+ua.top,Ea.left+=ua.left-ua.marginLeft,Ea.right=ma+ua.left)}ea=ea||0;ua="number"===typeof ea;Ea.left+=ua?ea:ea.left||0;Ea.top+=ua?ea:ea.top||0;Ea.right-=ua?ea:ea.right||0;Ea.bottom-=ua?ea:ea.bottom||0;return Ea}function x(U,ba,ea,aa,ua){var Ea=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===U.indexOf("auto"))return U;Ea=N(ea,aa,Ea,ua);var Fa={top:{width:Ea.width,height:ba.top-Ea.top},right:{width:Ea.right-ba.right,height:Ea.height},bottom:{width:Ea.width,height:Ea.bottom-
ba.bottom},left:{width:ba.left-Ea.left,height:Ea.height}};Ea=Object.keys(Fa).map(function(W){var Z=Fa[W];return Ma({key:W},Fa[W],{area:Z.width*Z.height})}).sort(function(W,Z){return Z.area-W.area});var ma=Ea.filter(function(W){var Z=W.height;return W.width>=ea.clientWidth&&Z>=ea.clientHeight});Ea=0<ma.length?ma[0].key:Ea[0].key;ma=U.split("-")[1];return Ea+(ma?"-"+ma:"")}function F(U,ba,ea){var aa=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,ua=aa?H(ba):r(ba,ea&&ea.referenceNode?ea.referenceNode:
ea);return y(ea,ua,aa)}function G(U){var ba=U.ownerDocument.defaultView.getComputedStyle(U),ea=parseFloat(ba.marginTop||0)+parseFloat(ba.marginBottom||0);ba=parseFloat(ba.marginLeft||0)+parseFloat(ba.marginRight||0);return{width:U.offsetWidth+ba,height:U.offsetHeight+ea}}function I(U){var ba={left:"right",right:"left",bottom:"top",top:"bottom"};return U.replace(/left|right|bottom|top/g,function(ea){return ba[ea]})}function M(U,ba,ea){ea=ea.split("-")[0];U=G(U);var aa={width:U.width,height:U.height},
ua=-1!==["right","left"].indexOf(ea),Ea=ua?"top":"left",Fa=ua?"left":"top",ma=ua?"height":"width";aa[Ea]=ba[Ea]+ba[ma]/2-U[ma]/2;aa[Fa]=ea===Fa?ba[Fa]-U[ua?"width":"height"]:ba[I(Fa)];return aa}function R(U,ba){return Array.prototype.find?U.find(ba):U.filter(ba)[0]}function ha(U,ba,ea){if(Array.prototype.findIndex)return U.findIndex(function(ua){return ua[ba]===ea});var aa=R(U,function(ua){return ua[ba]===ea});return U.indexOf(aa)}function ca(U,ba,ea){(void 0===ea?U:U.slice(0,ha(U,"name",ea))).forEach(function(aa){aa["function"]&&
console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var ua=aa["function"]||aa.fn;aa.enabled&&E(ua)&&(ba.offsets.popper=n(ba.offsets.popper),ba.offsets.reference=n(ba.offsets.reference),ba=ua(ba,aa))});return ba}function sa(U,ba){return U.some(function(ea){var aa=ea.name;return ea.enabled&&aa===ba})}function na(U){for(var ba=[!1,"ms","Webkit","Moz","O"],ea=U.charAt(0).toUpperCase()+U.slice(1),aa=0;aa<ba.length;aa++){var ua=ba[aa];ua=ua?""+ua+ea:U;if("undefined"!==typeof document.body.style[ua])return ua}return null}
function Q(U){return(U=U.ownerDocument)?U.defaultView:window}function oa(U,ba,ea,aa){var ua="BODY"===U.nodeName;U=ua?U.ownerDocument.defaultView:U;U.addEventListener(ba,ea,{passive:!0});ua||oa(v(U.parentNode),ba,ea,aa);aa.push(U)}function ia(U,ba){Q(U).removeEventListener("resize",ba.updateBound);ba.scrollParents.forEach(function(ea){ea.removeEventListener("scroll",ba.updateBound)});ba.updateBound=null;ba.scrollParents=[];ba.scrollElement=null;ba.eventsEnabled=!1;return ba}function ya(U){return""!==
U&&!isNaN(parseFloat(U))&&isFinite(U)}function ta(U,ba){Object.keys(ba).forEach(function(ea){var aa="";-1!=="width height top right bottom left".split(" ").indexOf(ea)&&ya(ba[ea])&&(aa="px");U.style[ea]=ba[ea]+aa})}function Ga(U,ba){Object.keys(ba).forEach(function(ea){!1!==ba[ea]?U.setAttribute(ea,ba[ea]):U.removeAttribute(ea)})}function qa(U,ba){var ea=U.offsets,aa=ea.popper,ua=Math.round,Ea=Math.floor,Fa=function(Z){return Z};ea=ua(ea.reference.width);var ma=ua(aa.width),W=-1!==["left","right"].indexOf(U.placement);
U=-1!==U.placement.indexOf("-");Ea=ba?W||U||ea%2===ma%2?ua:Ea:Fa;ua=ba?ua:Fa;return{left:Ea(1===ea%2&&1===ma%2&&!U&&ba?aa.left-1:aa.left),top:ua(aa.top),bottom:ua(aa.bottom),right:Ea(aa.right)}}function Pa(U,ba,ea){var aa=R(U,function(Ea){return Ea.name===ba});U=!!aa&&U.some(function(Ea){return Ea.name===ea&&Ea.enabled&&Ea.order<aa.order});if(!U){var ua="`"+ba+"`";console.warn("`"+ea+"` modifier is required by "+ua+" modifier in order to work, be sure to include it before "+ua+"!")}return U}function $a(U){var ba=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,ea=Ja.indexOf(U);ea=Ja.slice(ea+1).concat(Ja.slice(0,ea));return ba?ea.reverse():ea}function gb(U,ba,ea,aa){var ua=[0,0],Ea=-1!==["right","left"].indexOf(aa);U=U.split(/(\+|\-)/).map(function(ma){return ma.trim()});aa=U.indexOf(R(U,function(ma){return-1!==ma.search(/,|\s/)}));U[aa]&&-1===U[aa].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var Fa=/\s*,\s*|\s+/;U=-1!==aa?[U.slice(0,
aa).concat([U[aa].split(Fa)[0]]),[U[aa].split(Fa)[1]].concat(U.slice(aa+1))]:[U];U=U.map(function(ma,W){var Z=(1===W?!Ea:Ea)?"height":"width",D=!1;return ma.reduce(function(J,Y){return""===J[J.length-1]&&-1!==["+","-"].indexOf(Y)?(J[J.length-1]=Y,D=!0,J):D?(J[J.length-1]+=Y,D=!1,J):J.concat(Y)},[]).map(function(J){var Y=J.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var za=+Y[1];Y=Y[2];if(za)if(0===Y.indexOf("%")){switch(Y){case "%p":J=ba;break;default:J=ea}za*=n(J)[Z]/100}else za="vh"===Y||"vw"===Y?("vh"===
Y?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*za:za;else za=J;return za})});U.forEach(function(ma,W){ma.forEach(function(Z,D){ya(Z)&&(ua[W]+=Z*("-"===ma[D-1]?-1:1))})});return ua}var S="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,da=function(){for(var U=["Edge","Trident","Firefox"],ba=0;ba<U.length;ba+=1)if(S&&0<=navigator.userAgent.indexOf(U[ba]))return 1;
return 0}(),xa=S&&window.Promise?k:u,Ha=S&&!(!window.MSInputMethodContext||!document.documentMode),Xa=S&&/MSIE 10/.test(navigator.userAgent),rb=function(){function U(ba,ea){for(var aa=0;aa<ea.length;aa++){var ua=ea[aa];ua.enumerable=ua.enumerable||!1;ua.configurable=!0;"value"in ua&&(ua.writable=!0);Object.defineProperty(ba,ua.key,ua)}}return function(ba,ea,aa){ea&&U(ba.prototype,ea);aa&&U(ba,aa);return ba}}(),tb=function(U,ba,ea){ba in U?Object.defineProperty(U,ba,{value:ea,enumerable:!0,configurable:!0,
writable:!0}):U[ba]=ea;return U},Ma=Object.assign||function(U){for(var ba=1;ba<arguments.length;ba++){var ea=arguments[ba],aa;for(aa in ea)Object.prototype.hasOwnProperty.call(ea,aa)&&(U[aa]=ea[aa])}return U},ra=S&&/Firefox/i.test(navigator.userAgent),Na="auto-start auto auto-end top-start top top-end right-start right right-end bottom-end bottom bottom-start left-end left left-start".split(" "),Ja=Na.slice(3),ab=function(){function U(ba,ea){var aa=this,ua=2<arguments.length&&void 0!==arguments[2]?
arguments[2]:{};if(!(this instanceof U))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(aa.update)};this.update=xa(this.update.bind(this));this.options=Ma({},U.Defaults,ua);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=ba&&ba.jquery?ba[0]:ba;this.popper=ea&&ea.jquery?ea[0]:ea;this.options.modifiers={};Object.keys(Ma({},U.Defaults.modifiers,ua.modifiers)).forEach(function(Fa){aa.options.modifiers[Fa]=Ma({},
U.Defaults.modifiers[Fa]||{},ua.modifiers?ua.modifiers[Fa]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(Fa){return Ma({name:Fa},aa.options.modifiers[Fa])}).sort(function(Fa,ma){return Fa.order-ma.order});this.modifiers.forEach(function(Fa){if(Fa.enabled&&E(Fa.onLoad))Fa.onLoad(aa.reference,aa.popper,aa.options,Fa,aa.state)});this.update();var Ea=this.options.eventsEnabled;Ea&&this.enableEventListeners();this.state.eventsEnabled=Ea}rb(U,[{key:"update",value:function(){if(!this.state.isDestroyed){var ba=
{instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};ba.offsets.reference=F(this.state,this.popper,this.reference,this.options.positionFixed);ba.placement=x(this.options.placement,ba.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);ba.originalPlacement=ba.placement;ba.positionFixed=this.options.positionFixed;ba.offsets.popper=M(this.popper,ba.offsets.reference,ba.placement);ba.offsets.popper.position=
this.options.positionFixed?"fixed":"absolute";ba=ca(this.modifiers,ba);if(this.state.isCreated)this.options.onUpdate(ba);else this.state.isCreated=!0,this.options.onCreate(ba)}}},{key:"destroy",value:function(){this.state.isDestroyed=!0;sa(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[na("transform")]=
"");this.disableEventListeners();this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper);return this}},{key:"enableEventListeners",value:function(){if(!this.state.eventsEnabled){var ba=this.reference,ea=this.state;ea.updateBound=this.scheduleUpdate;Q(ba).addEventListener("resize",ea.updateBound,{passive:!0});ba=v(ba);oa(ba,"scroll",ea.updateBound,ea.scrollParents);ea.scrollElement=ba;ea.eventsEnabled=!0;this.state=ea}}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&
(cancelAnimationFrame(this.scheduleUpdate),this.state=ia(this.reference,this.state))}}]);return U}();ab.Utils=("undefined"!==typeof window?window:w).PopperUtils;ab.placements=Na;ab.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(U){var ba=U.placement,ea=ba.split("-")[0];if(ba=ba.split("-")[1]){var aa=U.offsets,ua=aa.reference;aa=aa.popper;var Ea=-1!==["bottom","top"].indexOf(ea);
ea=Ea?"left":"top";Ea=Ea?"width":"height";ua={start:tb({},ea,ua[ea]),end:tb({},ea,ua[ea]+ua[Ea]-aa[Ea])};U.offsets.popper=Ma({},aa,ua[ba])}return U}},offset:{order:200,enabled:!0,fn:function(U,ba){var ea=ba.offset,aa=U.offsets;ba=aa.popper;var ua=aa.reference;aa=U.placement.split("-")[0];ea=ya(+ea)?[+ea,0]:gb(ea,ba,ua,aa);"left"===aa?(ba.top+=ea[0],ba.left-=ea[1]):"right"===aa?(ba.top+=ea[0],ba.left+=ea[1]):"top"===aa?(ba.left+=ea[0],ba.top-=ea[1]):"bottom"===aa&&(ba.left+=ea[0],ba.top+=ea[1]);U.popper=
ba;return U},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(U,ba){var ea=ba.boundariesElement||l(U.instance.popper);U.instance.reference===ea&&(ea=l(ea));var aa=na("transform"),ua=U.instance.popper.style,Ea=ua.top,Fa=ua.left,ma=ua[aa];ua.top="";ua.left="";ua[aa]="";var W=N(U.instance.popper,U.instance.reference,ba.padding,ea,U.positionFixed);ua.top=Ea;ua.left=Fa;ua[aa]=ma;ba.boundaries=W;var Z=U.offsets.popper,D={primary:function(J){var Y=Z[J];Z[J]<W[J]&&!ba.escapeWithReference&&(Y=Math.max(Z[J],
W[J]));return tb({},J,Y)},secondary:function(J){var Y="right"===J?"left":"top",za=Z[Y];Z[J]>W[J]&&!ba.escapeWithReference&&(za=Math.min(Z[Y],W[J]-("right"===J?Z.width:Z.height)));return tb({},Y,za)}};ba.priority.forEach(function(J){var Y=-1!==["left","top"].indexOf(J)?"primary":"secondary";Z=Ma({},Z,D[Y](J))});U.offsets.popper=Z;return U},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(U){var ba=U.offsets,ea=ba.popper;
ba=ba.reference;var aa=U.placement.split("-")[0],ua=Math.floor,Ea=-1!==["top","bottom"].indexOf(aa);aa=Ea?"right":"bottom";var Fa=Ea?"left":"top";Ea=Ea?"width":"height";ea[aa]<ua(ba[Fa])&&(U.offsets.popper[Fa]=ua(ba[Fa])-ea[Ea]);ea[Fa]>ua(ba[aa])&&(U.offsets.popper[Fa]=ua(ba[aa]));return U}},arrow:{order:500,enabled:!0,fn:function(U,ba){var ea;if(!Pa(U.instance.modifiers,"arrow","keepTogether"))return U;ba=ba.element;if("string"===typeof ba){if(ba=U.instance.popper.querySelector(ba),!ba)return U}else if(!U.instance.popper.contains(ba))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),
U;var aa=U.placement.split("-")[0],ua=U.offsets,Ea=ua.popper,Fa=ua.reference,ma=-1!==["left","right"].indexOf(aa);aa=ma?"height":"width";var W=ma?"Top":"Left";ua=W.toLowerCase();var Z=ma?"left":"top",D=ma?"bottom":"right";ma=G(ba)[aa];Fa[D]-ma<Ea[ua]&&(U.offsets.popper[ua]-=Ea[ua]-(Fa[D]-ma));Fa[ua]+ma>Ea[D]&&(U.offsets.popper[ua]+=Fa[ua]+ma-Ea[D]);U.offsets.popper=n(U.offsets.popper);Fa=Fa[ua]+Fa[aa]/2-ma/2;var J=c(U.instance.popper);D=parseFloat(J["margin"+W]);W=parseFloat(J["border"+W+"Width"]);
W=Fa-U.offsets.popper[ua]-D-W;W=Math.max(Math.min(Ea[aa]-ma,W),0);U.arrowElement=ba;U.offsets.arrow=(ea={},tb(ea,ua,Math.round(W)),tb(ea,Z,""),ea);return U},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(U,ba){if(sa(U.instance.modifiers,"inner")||U.flipped&&U.placement===U.originalPlacement)return U;var ea=N(U.instance.popper,U.instance.reference,ba.padding,ba.boundariesElement,U.positionFixed),aa=U.placement.split("-")[0],ua=I(aa),Ea=U.placement.split("-")[1]||"",Fa=[];switch(ba.behavior){case "flip":Fa=
[aa,ua];break;case "clockwise":Fa=$a(aa);break;case "counterclockwise":Fa=$a(aa,!0);break;default:Fa=ba.behavior}Fa.forEach(function(ma,W){if(aa!==ma||Fa.length===W+1)return U;aa=U.placement.split("-")[0];ua=I(aa);var Z=U.offsets.popper;ma=U.offsets.reference;var D=Math.floor;ma="left"===aa&&D(Z.right)>D(ma.left)||"right"===aa&&D(Z.left)<D(ma.right)||"top"===aa&&D(Z.bottom)>D(ma.top)||"bottom"===aa&&D(Z.top)<D(ma.bottom);var J=D(Z.left)<D(ea.left),Y=D(Z.right)>D(ea.right),za=D(Z.top)<D(ea.top);D=
D(Z.bottom)>D(ea.bottom);Z="left"===aa&&J||"right"===aa&&Y||"top"===aa&&za||"bottom"===aa&&D;var Qa=-1!==["top","bottom"].indexOf(aa),Ua=!!ba.flipVariationsByContent&&(Qa&&"start"===Ea&&Y||Qa&&"end"===Ea&&J||!Qa&&"start"===Ea&&D||!Qa&&"end"===Ea&&za);J=!!ba.flipVariations&&(Qa&&"start"===Ea&&J||Qa&&"end"===Ea&&Y||!Qa&&"start"===Ea&&za||!Qa&&"end"===Ea&&D)||Ua;if(ma||Z||J){U.flipped=!0;if(ma||Z)aa=Fa[W+1];J&&("end"===Ea?Ea="start":"start"===Ea&&(Ea="end"));U.placement=aa+(Ea?"-"+Ea:"");U.offsets.popper=
Ma({},U.offsets.popper,M(U.instance.popper,U.offsets.reference,U.placement));U=ca(U.instance.modifiers,U,"flip")}});return U},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(U){var ba=U.placement,ea=ba.split("-")[0],aa=U.offsets,ua=aa.popper;aa=aa.reference;var Ea=-1!==["left","right"].indexOf(ea),Fa=-1===["top","left"].indexOf(ea);ua[Ea?"left":"top"]=aa[ea]-(Fa?ua[Ea?"width":"height"]:0);U.placement=I(ba);
U.offsets.popper=n(ua);return U}},hide:{order:800,enabled:!0,fn:function(U){if(!Pa(U.instance.modifiers,"hide","preventOverflow"))return U;var ba=U.offsets.reference,ea=R(U.instance.modifiers,function(aa){return"preventOverflow"===aa.name}).boundaries;if(ba.bottom<ea.top||ba.left>ea.right||ba.top>ea.bottom||ba.right<ea.left){if(!0===U.hide)return U;U.hide=!0;U.attributes["x-out-of-boundaries"]=""}else{if(!1===U.hide)return U;U.hide=!1;U.attributes["x-out-of-boundaries"]=!1}return U}},computeStyle:{order:850,
enabled:!0,fn:function(U,ba){var ea=ba.x,aa=ba.y,ua=U.offsets.popper,Ea=R(U.instance.modifiers,function(J){return"applyStyle"===J.name}).gpuAcceleration;void 0!==Ea&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");ba=void 0!==Ea?Ea:ba.gpuAcceleration;Ea=l(U.instance.popper);var Fa=t(Ea);ua={position:ua.position};var ma=qa(U,2>window.devicePixelRatio||!ra);ea="bottom"===ea?"top":"bottom";aa="right"===aa?"left":
"right";var W=na("transform"),Z=void 0,D=void 0;D="bottom"===ea?"HTML"===Ea.nodeName?-Ea.clientHeight+ma.bottom:-Fa.height+ma.bottom:ma.top;Z="right"===aa?"HTML"===Ea.nodeName?-Ea.clientWidth+ma.right:-Fa.width+ma.right:ma.left;ba&&W?(ua[W]="translate3d("+Z+"px, "+D+"px, 0)",ua[ea]=0,ua[aa]=0,ua.willChange="transform"):(ua[ea]=D*("bottom"===ea?-1:1),ua[aa]=Z*("right"===aa?-1:1),ua.willChange=ea+", "+aa);U.attributes=Ma({},{"x-placement":U.placement},U.attributes);U.styles=Ma({},ua,U.styles);U.arrowStyles=
Ma({},U.offsets.arrow,U.arrowStyles);return U},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(U){ta(U.instance.popper,U.styles);Ga(U.instance.popper,U.attributes);U.arrowElement&&Object.keys(U.arrowStyles).length&&ta(U.arrowElement,U.arrowStyles);return U},onLoad:function(U,ba,ea,aa,ua){aa=F(ua,ba,U,ea.positionFixed);U=x(ea.placement,aa,ba,U,ea.modifiers.flip.boundariesElement,ea.modifiers.flip.padding);ba.setAttribute("x-placement",U);ta(ba,{position:ea.positionFixed?
"fixed":"absolute"});return ea},gpuAcceleration:void 0}}};return ab})}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],316:[function(h,K,C){(function(w){function k(){}function u(a,l){for(var q=a.length;q--;)if(a[q].listener===l)return q;return-1}function E(a){return function(){return this[a].apply(this,arguments)}}function c(a){return"function"===typeof a||a instanceof RegExp?!0:a&&"object"===typeof a?c(a.listener):
!1}var e=k.prototype,v=w.EventEmitter;e.getListeners=function(a){var l=this._getEvents(),q;if(a instanceof RegExp){var r={};for(q in l)l.hasOwnProperty(q)&&a.test(q)&&(r[q]=l[q])}else r=l[a]||(l[a]=[]);return r};e.flattenListeners=function(a){var l=[],q;for(q=0;q<a.length;q+=1)l.push(a[q].listener);return l};e.getListenersAsObject=function(a){var l=this.getListeners(a);if(l instanceof Array){var q={};q[a]=l}return q||l};e.addListener=function(a,l){if(!c(l))throw new TypeError("listener must be a function");
a=this.getListenersAsObject(a);var q="object"===typeof l,r;for(r in a)a.hasOwnProperty(r)&&-1===u(a[r],l)&&a[r].push(q?l:{listener:l,once:!1});return this};e.on=E("addListener");e.addOnceListener=function(a,l){return this.addListener(a,{listener:l,once:!0})};e.once=E("addOnceListener");e.defineEvent=function(a){this.getListeners(a);return this};e.defineEvents=function(a){for(var l=0;l<a.length;l+=1)this.defineEvent(a[l]);return this};e.removeListener=function(a,l){a=this.getListenersAsObject(a);var q;
for(q in a)if(a.hasOwnProperty(q)){var r=u(a[q],l);-1!==r&&a[q].splice(r,1)}return this};e.off=E("removeListener");e.addListeners=function(a,l){return this.manipulateListeners(!1,a,l)};e.removeListeners=function(a,l){return this.manipulateListeners(!0,a,l)};e.manipulateListeners=function(a,l,q){var r,b,d=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!==typeof l||l instanceof RegExp)for(r=q.length;r--;)d.call(this,l,q[r]);else for(r in l)l.hasOwnProperty(r)&&
(b=l[r])&&("function"===typeof b?d.call(this,r,b):a.call(this,r,b));return this};e.removeEvent=function(a){var l=typeof a,q=this._getEvents(),r;if("string"===l)delete q[a];else if(a instanceof RegExp)for(r in q)q.hasOwnProperty(r)&&a.test(r)&&delete q[r];else delete this._events;return this};e.removeAllListeners=E("removeEvent");e.emitEvent=function(a,l){var q=this.getListenersAsObject(a),r,b;for(b in q)if(q.hasOwnProperty(b)){var d=q[b].slice(0);for(r=0;r<d.length;r++){var g=d[r];!0===g.once&&this.removeListener(a,
g.listener);var m=g.listener.apply(this,l||[]);m===this._getOnceReturnValue()&&this.removeListener(a,g.listener)}}return this};e.trigger=E("emitEvent");e.emit=function(a){var l=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,l)};e.setOnceReturnValue=function(a){this._onceReturnValue=a;return this};e._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};e._getEvents=function(){return this._events||(this._events={})};k.noConflict=function(){w.EventEmitter=
v;return k};"object"===typeof K&&K.exports?K.exports=k:w.EventEmitter=k})("undefined"!==typeof window?window:this||{})},{}]},{},[1])(1)});
