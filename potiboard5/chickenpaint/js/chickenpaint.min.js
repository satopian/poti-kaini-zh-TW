/*
    ChickenPaint

    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.

    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/
/*
 Bootstrap v5.3.0 (https://getbootstrap.com/)
 Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 jQuery throttle / debounce - v1.1 - 3/7/2010
 http://benalman.com/projects/jquery-throttle-debounce-plugin/

 Copyright (c) 2010 "Cowboy" Ben Alman
 Dual licensed under the MIT and GPL licenses.
 http://benalman.com/about/license/
 jQuery JavaScript Library v3.7.1
 https://jquery.com/

 Copyright OpenJS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2023-08-28T13:37Z
 PEP v0.4.3 | https://github.com/jquery/PEP
 Copyright jQuery Foundation and other contributors | http://jquery.org/license
 EventEmitter v5.2.9 - git.io/ee
 Unlicense - http://unlicense.org/
 Oliver Caldwell - https://oli.me.uk/
 @preserve
*/
!function(g,L){"object"==typeof exports&&"undefined"!=typeof module?module.exports=L():"function"==typeof define&&define.amd?define(L):(g="undefined"!=typeof globalThis?globalThis:g||self).bootstrap=L()}(this,function(){function g(t,N){return N&&`${N}::${Ma++}`||t.uidEvent||Ma++}function L(t){const N=g(t);return t.uidEvent=N,La[N]=La[N]||{},La[N]}function D(t,N,W=null){return Object.values(t).find(oa=>oa.callable===N&&oa.delegationSelector===W)}function y(t,N,W){const oa="string"==typeof N;N=oa?W:
N||W;W=E(t);return $a.has(W)||(W=t),[oa,N,W]}function k(t,N,W,oa,l){if("string"==typeof N&&t){var [w,F,M]=y(N,W,oa);N in Ca&&(F=(U=>function(X){if(!X.relatedTarget||X.relatedTarget!==X.delegateTarget&&!X.delegateTarget.contains(X.relatedTarget))return U.call(this,X)})(F));oa=L(t);oa=oa[M]||(oa[M]={});var R=D(oa,F,w?W:null);if(R)return void(R.oneOff=R.oneOff&&l);N=g(F,N.replace(Ta,""));R=w?function(U,X,la){return function Ga(fa){const Na=U.querySelectorAll(X);for(let {target:Ua}=fa;Ua&&Ua!==this;Ua=
Ua.parentNode)for(const hb of Na)if(hb===Ua)return b(fa,{delegateTarget:Ua}),Ga.oneOff&&Ka.off(U,fa.type,X,la),la.apply(Ua,[fa])}}(t,W,F):function(U,X){return function fa(ea){return b(ea,{delegateTarget:U}),fa.oneOff&&Ka.off(U,ea.type,X),X.apply(U,[ea])}}(t,F);R.delegationSelector=w?W:null;R.callable=F;R.oneOff=l;R.uidEvent=N;oa[N]=R;t.addEventListener(M,R,w)}}function v(t,N,W,oa,l){(oa=D(N[W],oa,l))&&(t.removeEventListener(W,oa,!!l),delete N[W][oa.uidEvent])}function E(t){return t=t.replace(ua,""),
Ca[t]||t}function b(t,N={}){for(const [W,oa]of Object.entries(N))try{t[W]=oa}catch(l){Object.defineProperty(t,W,{configurable:!0,get:()=>oa})}return t}function d(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(N){return t}}function x(t){return t.replace(/[A-Z]/g,N=>`-${N.toLowerCase()}`)}function a(t){return t?(t.nodeName||"").toLowerCase():
null}function m(t){return null==t?window:"[object Window]"!==t.toString()?(t=t.ownerDocument)&&t.defaultView||window:t}function q(t){return t instanceof m(t).Element||t instanceof Element}function r(t){return t instanceof m(t).HTMLElement||t instanceof HTMLElement}function h(t){return"undefined"!=typeof ShadowRoot&&(t instanceof m(t).ShadowRoot||t instanceof ShadowRoot)}function c(t){return t.split("-")[0]}function f(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?
t.brands.map(function(N){return N.brand+"/"+N.version}).join(" "):navigator.userAgent}function n(){return!/^((?!chrome|android).)*safari/i.test(f())}function e(t,N,W){void 0===N&&(N=!1);void 0===W&&(W=!1);var oa=t.getBoundingClientRect(),l=1,w=1;N&&r(t)&&(l=0<t.offsetWidth&&lb(oa.width)/t.offsetWidth||1,w=0<t.offsetHeight&&lb(oa.height)/t.offsetHeight||1);t=(q(t)?m(t):window).visualViewport;N=!n()&&W;W=(oa.left+(N&&t?t.offsetLeft:0))/l;t=(oa.top+(N&&t?t.offsetTop:0))/w;l=oa.width/l;oa=oa.height/w;
return{width:l,height:oa,top:t,right:W+l,bottom:t+oa,left:W,x:W,y:t}}function p(t){var N=e(t),W=t.offsetWidth,oa=t.offsetHeight;return 1>=Math.abs(N.width-W)&&(W=N.width),1>=Math.abs(N.height-oa)&&(oa=N.height),{x:t.offsetLeft,y:t.offsetTop,width:W,height:oa}}function u(t,N){var W=N.getRootNode&&N.getRootNode();if(t.contains(N))return!0;if(W&&h(W)){do{if(N&&t.isSameNode(N))return!0;N=N.parentNode||N.host}while(N)}return!1}function B(t){return m(t).getComputedStyle(t)}function C(t){return((q(t)?t.ownerDocument:
t.document)||window.document).documentElement}function A(t){return"html"===a(t)?t:t.assignedSlot||t.parentNode||(h(t)?t.host:null)||C(t)}function I(t){return r(t)&&"fixed"!==B(t).position?t.offsetParent:null}function O(t){for(var N=m(t),W=I(t);W&&0<=["table","td","th"].indexOf(a(W))&&"static"===B(W).position;)W=I(W);if(!W||"html"!==a(W)&&("body"!==a(W)||"static"!==B(W).position)){if(!W)a:{W=/firefox/i.test(f());if(!/Trident/i.test(f())||!r(t)||"fixed"!==B(t).position)for(t=A(t),h(t)&&(t=t.host);r(t)&&
0>["html","body"].indexOf(a(t));){var oa=B(t);if("none"!==oa.transform||"none"!==oa.perspective||"paint"===oa.contain||-1!==["transform","perspective"].indexOf(oa.willChange)||W&&"filter"===oa.willChange||W&&oa.filter&&"none"!==oa.filter){W=t;break a}t=t.parentNode}W=null}N=W||N}return N}function z(t){return 0<=["top","bottom"].indexOf(t)?"x":"y"}function G(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function H(t,N){return N.reduce(function(W,oa){return W[oa]=t,W},{})}function J(t){return t.split("-")[1]}
function K(t){var N,W=t.popper,oa=t.popperRect,l=t.placement,w=t.variation,F=t.offsets,M=t.position,R=t.gpuAcceleration,U=t.adaptive,X=t.roundOffsets,la=t.isFixed;t=F.x;t=void 0===t?0:t;var ea=F.y;ea=void 0===ea?0:ea;ea="function"==typeof X?X({x:t,y:ea}):{x:t,y:ea};t=ea.x;ea=ea.y;var fa=F.hasOwnProperty("x");F=F.hasOwnProperty("y");var Ga="left",Na="top",Ua=window;if(U){var hb=O(W),jb="clientHeight",Eb="clientWidth";hb===m(W)&&"static"!==B(hb=C(W)).position&&"absolute"===M&&(jb="scrollHeight",Eb=
"scrollWidth");("top"===l||("left"===l||"right"===l)&&"end"===w)&&(Na="bottom",ea-=(la&&hb===Ua&&Ua.visualViewport?Ua.visualViewport.height:hb[jb])-oa.height,ea*=R?1:-1);"left"!==l&&("top"!==l&&"bottom"!==l||"end"!==w)||(Ga="right",t-=(la&&hb===Ua&&Ua.visualViewport?Ua.visualViewport.width:hb[Eb])-oa.width,t*=R?1:-1)}var Fb;oa=Object.assign({position:M},U&&kc);!0===X?(X=t,l=ea,W=m(W).devicePixelRatio||1,W={x:lb(X*W)/W||0,y:lb(l*W)/W||0}):W={x:t,y:ea};return t=W.x,ea=W.y,R?Object.assign({},oa,((Fb=
{})[Na]=F?"0":"",Fb[Ga]=fa?"0":"",Fb.transform=1>=(Ua.devicePixelRatio||1)?"translate("+t+"px, "+ea+"px)":"translate3d("+t+"px, "+ea+"px, 0)",Fb)):Object.assign({},oa,((N={})[Na]=F?ea+"px":"",N[Ga]=fa?t+"px":"",N.transform="",N))}function S(t){return t.replace(/left|right|bottom|top/g,function(N){return ec[N]})}function da(t){return t.replace(/start|end/g,function(N){return vc[N]})}function Y(t){t=m(t);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ra(t){return e(C(t)).left+Y(t).scrollLeft}
function ma(t){t=B(t);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function Q(t){return 0<=["html","body","#document"].indexOf(a(t))?t.ownerDocument.body:r(t)&&ma(t)?t:Q(A(t))}function ia(t,N){var W;void 0===N&&(N=[]);var oa=Q(t);t=oa===(null==(W=t.ownerDocument)?void 0:W.body);W=m(oa);oa=t?[W].concat(W.visualViewport||[],ma(oa)?oa:[]):oa;N=N.concat(oa);return t?N:N.concat(ia(A(oa)))}function ba(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+
t.height})}function ta(t,N,W){return"viewport"===N?ba(function(oa,l){var w=m(oa),F=C(oa);w=w.visualViewport;var M=F.clientWidth;F=F.clientHeight;var R=0,U=0;if(w){M=w.width;F=w.height;var X=n();(X||!X&&"fixed"===l)&&(R=w.offsetLeft,U=w.offsetTop)}return{width:M,height:F,x:R+ra(oa),y:U}}(t,W)):q(N)?function(oa,l){l=e(oa,!1,"fixed"===l);return l.top+=oa.clientTop,l.left+=oa.clientLeft,l.bottom=l.top+oa.clientHeight,l.right=l.left+oa.clientWidth,l.width=oa.clientWidth,l.height=oa.clientHeight,l.x=l.left,
l.y=l.top,l}(N,W):ba(function(oa){var l,w=C(oa),F=Y(oa),M=null==(l=oa.ownerDocument)?void 0:l.body;l=Vb(w.scrollWidth,w.clientWidth,M?M.scrollWidth:0,M?M.clientWidth:0);var R=Vb(w.scrollHeight,w.clientHeight,M?M.scrollHeight:0,M?M.clientHeight:0);oa=-F.scrollLeft+ra(oa);F=-F.scrollTop;return"rtl"===B(M||w).direction&&(oa+=Vb(w.clientWidth,M?M.clientWidth:0)-l),{width:l,height:R,x:oa,y:F}}(C(t)))}function pa(t){var N=t.reference,W=t.element,oa=(t=t.placement)?c(t):null;t=t?J(t):null;var l=N.x+N.width/
2-W.width/2;var w=N.y+N.height/2-W.height/2;switch(oa){case "top":l={x:l,y:N.y-W.height};break;case "bottom":l={x:l,y:N.y+N.height};break;case "right":l={x:N.x+N.width,y:w};break;case "left":l={x:N.x-W.width,y:w};break;default:l={x:N.x,y:N.y}}oa=oa?z(oa):null;if(null!=oa)switch(w="y"===oa?"height":"width",t){case "start":l[oa]-=N[w]/2-W[w]/2;break;case "end":l[oa]+=N[w]/2-W[w]/2}return l}function ya(t,N){void 0===N&&(N={});var W=N;N=W.placement;N=void 0===N?t.placement:N;var oa=W.strategy,l=void 0===
oa?t.strategy:oa;oa=W.boundary;var w=void 0===oa?"clippingParents":oa;oa=W.rootBoundary;var F=void 0===oa?"viewport":oa;oa=W.elementContext;oa=void 0===oa?"popper":oa;var M=W.altBoundary,R=void 0!==M&&M;W=W.padding;W=void 0===W?0:W;W=G("number"!=typeof W?W:H(W,Db));M=t.rects.popper;R=t.elements[R?"popper"===oa?"reference":"popper":oa];l=function(la,ea,fa,Ga){ea="clippingParents"===ea?function(Na){var Ua=ia(A(Na)),hb=0<=["absolute","fixed"].indexOf(B(Na).position)&&r(Na)?O(Na):Na;return q(hb)?Ua.filter(function(jb){return q(jb)&&
u(jb,hb)&&"body"!==a(jb)}):[]}(la):[].concat(ea);fa=[].concat(ea,[fa]);fa=fa.reduce(function(Na,Ua){Ua=ta(la,Ua,Ga);return Na.top=Vb(Ua.top,Na.top),Na.right=Sb(Ua.right,Na.right),Na.bottom=Sb(Ua.bottom,Na.bottom),Na.left=Vb(Ua.left,Na.left),Na},ta(la,fa[0],Ga));return fa.width=fa.right-fa.left,fa.height=fa.bottom-fa.top,fa.x=fa.left,fa.y=fa.top,fa}(q(R)?R:R.contextElement||C(t.elements.popper),w,F,l);w=e(t.elements.reference);F=pa({reference:w,element:M,strategy:"absolute",placement:N});F=ba(Object.assign({},
M,F));w="popper"===oa?F:w;var U={top:l.top-w.top+W.top,bottom:w.bottom-l.bottom+W.bottom,left:l.left-w.left+W.left,right:w.right-l.right+W.right};t=t.modifiersData.offset;if("popper"===oa&&t){var X=t[N];Object.keys(U).forEach(function(la){var ea=0<=["right","bottom"].indexOf(la)?1:-1,fa=0<=["top","bottom"].indexOf(la)?"y":"x";U[la]+=X[fa]*ea})}return U}function ka(t,N){void 0===N&&(N={});var W=N.boundary,oa=N.rootBoundary,l=N.padding,w=N.flipVariations,F=N.allowedAutoPlacements,M=void 0===F?Mb:F,
R=J(N.placement);N=R?w?lc:lc.filter(function(X){return J(X)===R}):Db;w=N.filter(function(X){return 0<=M.indexOf(X)});0===w.length&&(w=N);var U=w.reduce(function(X,la){return X[la]=ya(t,{placement:la,boundary:W,rootBoundary:oa,padding:l})[c(la)],X},{});return Object.keys(U).sort(function(X,la){return U[X]-U[la]})}function Oa(t,N,W){return void 0===W&&(W={x:0,y:0}),{top:t.top-N.height-W.y,right:t.right-N.width+W.x,bottom:t.bottom-N.height+W.y,left:t.left-N.width-W.x}}function ab(t){return["top","right",
"bottom","left"].some(function(N){return 0<=t[N]})}function ib(t,N,W){void 0===W&&(W=!1);var oa=r(N),l;if(l=r(N)){var w=N.getBoundingClientRect();l=lb(w.width)/N.offsetWidth||1;w=lb(w.height)/N.offsetHeight||1;l=1!==l||1!==w}w=l;l=C(N);t=e(t,w,W);w={scrollLeft:0,scrollTop:0};var F={x:0,y:0};return(oa||!oa&&!W)&&(("body"!==a(N)||ma(l))&&(w=N!==m(N)&&r(N)?{scrollLeft:N.scrollLeft,scrollTop:N.scrollTop}:Y(N)),r(N)?((F=e(N,!0)).x+=N.clientLeft,F.y+=N.clientTop):l&&(F.x=ra(l))),{x:t.left+w.scrollLeft-
F.x,y:t.top+w.scrollTop-F.y,width:t.width,height:t.height}}function T(t){function N(w){oa.add(w.name);[].concat(w.requires||[],w.requiresIfExists||[]).forEach(function(F){oa.has(F)||(F=W.get(F))&&N(F)});l.push(w)}var W=new Map,oa=new Set,l=[];return t.forEach(function(w){W.set(w.name,w)}),t.forEach(function(w){oa.has(w.name)||N(w)}),l}function Z(){for(var t=arguments.length,N=Array(t),W=0;W<t;W++)N[W]=arguments[W];return!N.some(function(oa){return!(oa&&"function"==typeof oa.getBoundingClientRect)})}
function qa(t){void 0===t&&(t={});var N=t.defaultModifiers,W=void 0===N?[]:N;t=t.defaultOptions;var oa=void 0===t?aa:t;return function(l,w,F){function M(){la.forEach(function(Ga){return Ga()});la=[]}void 0===F&&(F=oa);var R,U,X={placement:"bottom",orderedModifiers:[],options:Object.assign({},aa,oa),modifiersData:{},elements:{reference:l,popper:w},attributes:{},styles:{}},la=[],ea=!1,fa={state:X,setOptions:function(Ga){Ga="function"==typeof Ga?Ga(X.options):Ga;M();X.options=Object.assign({},oa,X.options,
Ga);X.scrollParents={reference:q(l)?ia(l):l.contextElement?ia(l.contextElement):[],popper:ia(w)};var Na,Ua;Ga=function(hb){var jb=T(hb);return Zb.reduce(function(Eb,Fb){return Eb.concat(jb.filter(function(ac){return ac.phase===Fb}))},[])}((Na=[].concat(W,X.options.modifiers),Ua=Na.reduce(function(hb,jb){var Eb=hb[jb.name];return hb[jb.name]=Eb?Object.assign({},Eb,jb,{options:Object.assign({},Eb.options,jb.options),data:Object.assign({},Eb.data,jb.data)}):jb,hb},{}),Object.keys(Ua).map(function(hb){return Ua[hb]})));
return X.orderedModifiers=Ga.filter(function(hb){return hb.enabled}),X.orderedModifiers.forEach(function(hb){var jb=hb.name,Eb=hb.options;Eb=void 0===Eb?{}:Eb;hb=hb.effect;"function"==typeof hb&&(jb=hb({state:X,name:jb,instance:fa,options:Eb}),la.push(jb||function(){}))}),fa.update()},forceUpdate:function(){if(!ea){var Ga=X.elements,Na=Ga.reference;Ga=Ga.popper;if(Z(Na,Ga))for(X.rects={reference:ib(Na,O(Ga),"fixed"===X.options.strategy),popper:p(Ga)},X.reset=!1,X.placement=X.options.placement,X.orderedModifiers.forEach(function(jb){return X.modifiersData[jb.name]=
Object.assign({},jb.data)}),Na=0;Na<X.orderedModifiers.length;Na++)if(!0!==X.reset){var Ua=X.orderedModifiers[Na];Ga=Ua.fn;var hb=Ua.options;hb=void 0===hb?{}:hb;Ua=Ua.name;"function"==typeof Ga&&(X=Ga({state:X,options:hb,name:Ua,instance:fa})||X)}else X.reset=!1,Na=-1}},update:(R=function(){return new Promise(function(Ga){fa.forceUpdate();Ga(X)})},function(){return U||=new Promise(function(Ga){Promise.resolve().then(function(){U=void 0;Ga(R())})}),U}),destroy:function(){M();ea=!0}};return Z(l,w)?
(fa.setOptions(F).then(function(Ga){!ea&&F.onFirstUpdate&&F.onFirstUpdate(Ga)}),fa):fa}}const za=new Map,Xa={set(t,N,W){za.has(t)||za.set(t,new Map);t=za.get(t);t.has(N)||0===t.size?t.set(N,W):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(t.keys())[0]}.`)},get:(t,N)=>za.has(t)&&za.get(t).get(N)||null,remove(t,N){if(za.has(t)){var W=za.get(t);W.delete(N);0===W.size&&za.delete(t)}}},yb=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,
(N,W)=>`#${CSS.escape(W)}`)),t),Cb=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),Ia=t=>Cb(t)?t.jquery?t[0]:t:"string"==typeof t&&0<t.length?document.querySelector(yb(t)):null,na=t=>{if(!Cb(t)||0===t.getClientRects().length)return!1;const N="visible"===getComputedStyle(t).getPropertyValue("visibility"),W=t.closest("details:not([open])");return W?W!==t&&((t=t.closest("summary"))&&t.parentNode!==W||null===t)?!1:N:N},Ha=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||
(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),Da=t=>document.documentElement.attachShadow?"function"==typeof t.getRootNode?(t=t.getRootNode(),t instanceof ShadowRoot?t:null):t instanceof ShadowRoot?t:t.parentNode?Da(t.parentNode):null:null,bb=()=>{},rb=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,vb=[],Ra=t=>{var N=()=>{const W=rb();if(W){const oa=t.NAME,l=W.fn[oa];W.fn[oa]=t.jQueryInterface;W.fn[oa].Constructor=
t;W.fn[oa].noConflict=()=>(W.fn[oa]=l,t.jQueryInterface)}};"loading"===document.readyState?(vb.length||document.addEventListener("DOMContentLoaded",()=>{for(const W of vb)W()}),vb.push(N)):N()},sa=(t,N=[],W=t)=>"function"==typeof t?t(...N):W,Wa=(t,N,W=!0)=>{if(!W)return void sa(t);W=(w=>{if(!w)return 0;let {transitionDuration:F,transitionDelay:M}=window.getComputedStyle(w);w=Number.parseFloat(F);const R=Number.parseFloat(M);return w||R?(F=F.split(",")[0],M=M.split(",")[0],1E3*(Number.parseFloat(F)+
Number.parseFloat(M))):0})(N)+5;let oa=!1;const l=({target:w})=>{w===N&&(oa=!0,N.removeEventListener("transitionend",l),sa(t))};N.addEventListener("transitionend",l);setTimeout(()=>{oa||N.dispatchEvent(new Event("transitionend"))},W)},pb=(t,N,W,oa)=>{const l=t.length;N=t.indexOf(N);return-1===N?!W&&oa?t[l-1]:t[0]:(N+=W?1:-1,oa&&(N=(N+l)%l),t[Math.max(0,Math.min(N,l-1))])},Ta=/[^.]*(?=\..*)\.|.*/,ua=/\..*/,Fa=/::\d+$/,La={};let Ma=1;const Ca={mouseenter:"mouseover",mouseleave:"mouseout"},$a=new Set("click dblclick mouseup mousedown contextmenu mousewheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange touchstart touchmove touchend touchcancel pointerdown pointermove pointerup pointerleave pointercancel gesturestart gesturechange gestureend focus blur change reset select submit focusin focusout load unload beforeunload resize move DOMContentLoaded readystatechange error abort scroll".split(" ")),
Ka={on(t,N,W,oa){k(t,N,W,oa,!1)},one(t,N,W,oa){k(t,N,W,oa,!0)},off(t,N,W,oa){if("string"==typeof N&&t){var [l,w,F]=y(N,W,oa);oa=F!==N;var M=L(t),R=M[F]||{},U=N.startsWith(".");if(void 0===w){if(U)for(var X of Object.keys(M)){W=t;U=N.slice(1);const la=M[X]||{};for(const [ea,fa]of Object.entries(la))ea.includes(U)&&v(W,M,X,fa.callable,fa.delegationSelector)}for(const [la,ea]of Object.entries(R))X=la.replace(Fa,""),oa&&!N.includes(X)||v(t,M,F,ea.callable,ea.delegationSelector)}else Object.keys(R).length&&
v(t,M,F,w,l?W:null)}},trigger(t,N,W){if("string"!=typeof N||!t)return null;const oa=rb();let l=null,w=!0,F=!0,M=!1;N!==E(N)&&oa&&(l=oa.Event(N,W),oa(t).trigger(l),w=!l.isPropagationStopped(),F=!l.isImmediatePropagationStopped(),M=l.isDefaultPrevented());N=b(new Event(N,{bubbles:w,cancelable:!0}),W);return M&&N.preventDefault(),F&&t.dispatchEvent(N),N.defaultPrevented&&l&&l.preventDefault(),N}},qb={setDataAttribute(t,N,W){t.setAttribute(`data-bs-${x(N)}`,W)},removeDataAttribute(t,N){t.removeAttribute(`data-bs-${x(N)}`)},
getDataAttributes(t){if(!t)return{};const N={};var W=Object.keys(t.dataset).filter(oa=>oa.startsWith("bs")&&!oa.startsWith("bsConfig"));for(const oa of W)W=oa.replace(/^bs/,""),W=W.charAt(0).toLowerCase()+W.slice(1,W.length),N[W]=d(t.dataset[oa]);return N},getDataAttribute:(t,N)=>d(t.getAttribute(`data-bs-${x(N)}`))};class wb{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!');}_getConfig(t){return t=
this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,N){const W=Cb(N)?qb.getDataAttribute(N,"config"):{};return{...this.constructor.Default,...("object"==typeof W?W:{}),...(Cb(N)?qb.getDataAttributes(N):{}),...("object"==typeof t?t:{})}}_typeCheckConfig(t,N=this.constructor.DefaultType){for(const [oa,l]of Object.entries(N))if(N=t[oa],N=Cb(N)?"element":null==(W=N)?`${W}`:Object.prototype.toString.call(W).match(/\s([a-z]+)/i)[1].toLowerCase(),
!(new RegExp(l)).test(N))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${oa}" provided type "${N}" but expected type "${l}".`);var W}}class Ob extends wb{constructor(t,N){super();(t=Ia(t))&&(this._element=t,this._config=this._getConfig(N),Xa.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Xa.remove(this._element,this.constructor.DATA_KEY);Ka.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,
N,W=!0){Wa(t,N,W)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Xa.get(Ia(t),this.DATA_KEY)}static getOrCreateInstance(t,N={}){return this.getInstance(t)||new this(t,"object"==typeof N?N:null)}static get VERSION(){return"5.3.0"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const P=t=>{let N=t.getAttribute("data-bs-target");
if(!N||"#"===N){t=t.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`);N=t&&"#"!==t?t.trim():null}return yb(N)},mb={find:(t,N=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(N,t)),findOne:(t,N=document.documentElement)=>Element.prototype.querySelector.call(N,t),children:(t,N)=>[].concat(...t.children).filter(W=>W.matches(N)),parents(t,N){const W=[];for(t=t.parentNode.closest(N);t;)W.push(t),
t=t.parentNode.closest(N);return W},prev(t,N){for(t=t.previousElementSibling;t;){if(t.matches(N))return[t];t=t.previousElementSibling}return[]},next(t,N){for(t=t.nextElementSibling;t;){if(t.matches(N))return[t];t=t.nextElementSibling}return[]},focusableChildren(t){const N='a button input textarea select details [tabindex] [contenteditable="true"]'.split(" ").map(W=>`${W}:not([tabindex^="-"])`).join(",");return this.find(N,t).filter(W=>!Ha(W)&&na(W))},getSelectorFromElement(t){return(t=P(t))&&mb.findOne(t)?
t:null},getElementFromSelector(t){return(t=P(t))?mb.findOne(t):null},getMultipleElementsFromSelector(t){return(t=P(t))?mb.find(t):[]}},pc=(t,N="hide")=>{const W=t.NAME;Ka.on(document,`click.dismiss${t.EVENT_KEY}`,`[data-bs-dismiss="${W}"]`,function(oa){(["A","AREA"].includes(this.tagName)&&oa.preventDefault(),Ha(this))||(oa=mb.getElementFromSelector(this)||this.closest(`.${W}`),t.getOrCreateInstance(oa)[N]())})};class Pb extends Ob{static get NAME(){return"alert"}close(){if(!Ka.trigger(this._element,
"close.bs.alert").defaultPrevented){this._element.classList.remove("show");var t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}}_destroyElement(){this._element.remove();Ka.trigger(this._element,"closed.bs.alert");this.dispose()}static jQueryInterface(t){return this.each(function(){const N=Pb.getOrCreateInstance(this);if("string"==typeof t){if(void 0===N[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);
N[t](this)}})}}pc(Pb,"close");Ra(Pb);class mc extends Ob{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const N=mc.getOrCreateInstance(this);"toggle"===t&&N[t]()})}}Ka.on(document,"click.bs.button.data-api",'[data-bs-toggle="button"]',t=>{t.preventDefault();t=t.target.closest('[data-bs-toggle="button"]');mc.getOrCreateInstance(t).toggle()});Ra(mc);const db={endCallback:null,
leftCallback:null,rightCallback:null},Qb={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Qa extends wb{constructor(t,N){super();(this._element=t)&&Qa.isSupported()&&(this._config=this._getConfig(N),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return db}static get DefaultType(){return Qb}static get NAME(){return"swipe"}dispose(){Ka.off(this._element,".bs.swipe")}_start(t){this._supportPointerEvents?
this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX);this._handleSwipe();sa(this._config.endCallback)}_move(t){this._deltaX=t.touches&&1<t.touches.length?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){var t=Math.abs(this._deltaX);40>=t||(t/=this._deltaX,this._deltaX=0,t&&sa(0<t?this._config.rightCallback:this._config.leftCallback))}_initEvents(){this._supportPointerEvents?(Ka.on(this._element,
"pointerdown.bs.swipe",t=>this._start(t)),Ka.on(this._element,"pointerup.bs.swipe",t=>this._end(t)),this._element.classList.add("pointer-event")):(Ka.on(this._element,"touchstart.bs.swipe",t=>this._start(t)),Ka.on(this._element,"touchmove.bs.swipe",t=>this._move(t)),Ka.on(this._element,"touchend.bs.swipe",t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||
0<navigator.maxTouchPoints}}const tb={ArrowLeft:"right",ArrowRight:"left"},fc={interval:5E3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ib={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class qc extends Ob{constructor(t,N){super(t,N);this._activeElement=this._interval=null;this._isSliding=!1;this._swipeHelper=this.touchTimeout=null;this._indicatorsElement=mb.findOne(".carousel-indicators",this._element);this._addEventListeners();
"carousel"===this._config.ride&&this.cycle()}static get Default(){return fc}static get DefaultType(){return Ib}static get NAME(){return"carousel"}next(){this._slide("next")}nextWhenVisible(){!document.hidden&&na(this._element)&&this.next()}prev(){this._slide("prev")}pause(){this._isSliding&&this._element.dispatchEvent(new Event("transitionend"));this._clearInterval()}cycle(){this._clearInterval();this._updateInterval();this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&
(this._isSliding?Ka.one(this._element,"slid.bs.carousel",()=>this.cycle()):this.cycle())}to(t){const N=this._getItems();if(!(t>N.length-1||0>t)){if(this._isSliding)return void Ka.one(this._element,"slid.bs.carousel",()=>this.to(t));var W=this._getItemIndex(this._getActive());W!==t&&this._slide(t>W?"next":"prev",N[t])}}dispose(){this._swipeHelper&&this._swipeHelper.dispose();super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Ka.on(this._element,
"keydown.bs.carousel",t=>this._keydown(t));"hover"===this._config.pause&&(Ka.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),Ka.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle()));this._config.touch&&Qa.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of mb.find(".carousel-item img",this._element))Ka.on(t,"dragstart.bs.carousel",N=>N.preventDefault());this._swipeHelper=new Qa(this._element,{leftCallback:()=>this._slide(this._directionToOrder("left")),
rightCallback:()=>this._slide(this._directionToOrder("right")),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(!/input|textarea/i.test(t.target.tagName)){var N=tb[t.key];N&&(t.preventDefault(),this._slide(this._directionToOrder(N)))}}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(this._indicatorsElement){var N=
mb.findOne(".active",this._indicatorsElement);N.classList.remove("active");N.removeAttribute("aria-current");(t=mb.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement))&&(t.classList.add("active"),t.setAttribute("aria-current","true"))}}_updateInterval(){var t=this._activeElement||this._getActive();t&&(t=Number.parseInt(t.getAttribute("data-bs-interval"),10),this._config.interval=t||this._config.defaultInterval)}_slide(t,N=null){if(!this._isSliding){var W=this._getActive(),oa="next"===t,l=
N||pb(this._getItems(),W,oa,this._config.wrap);if(l!==W){var w=this._getItemIndex(l),F=U=>Ka.trigger(this._element,U,{relatedTarget:l,direction:this._orderToDirection(t),from:this._getItemIndex(W),to:w});if(!F("slide.bs.carousel").defaultPrevented&&W&&l){N=!!this._interval;this.pause();this._isSliding=!0;this._setActiveIndicatorElement(w);this._activeElement=l;var M=oa?"carousel-item-start":"carousel-item-end",R=oa?"carousel-item-next":"carousel-item-prev";l.classList.add(R);l.offsetHeight;W.classList.add(M);
l.classList.add(M);this._queueCallback(()=>{l.classList.remove(M,R);l.classList.add("active");W.classList.remove("active",R,M);this._isSliding=!1;F("slid.bs.carousel")},W,this._isAnimated());N&&this.cycle()}}}}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return mb.findOne(".active.carousel-item",this._element)}_getItems(){return mb.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return"rtl"===
document.documentElement.dir?"left"===t?"prev":"next":"left"===t?"next":"prev"}_orderToDirection(t){return"rtl"===document.documentElement.dir?"prev"===t?"left":"right":"prev"===t?"right":"left"}static jQueryInterface(t){return this.each(function(){const N=qc.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===N[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);N[t]()}}else N.to(t)})}}Ka.on(document,"click.bs.carousel.data-api",
"[data-bs-slide], [data-bs-slide-to]",function(t){var N=mb.getElementFromSelector(this);if(N&&N.classList.contains("carousel"))return t.preventDefault(),t=qc.getOrCreateInstance(N),(N=this.getAttribute("data-bs-slide-to"))?(t.to(N),void t._maybeEnableCycle()):"next"===qb.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())});Ka.on(window,"load.bs.carousel.data-api",()=>{const t=mb.find('[data-bs-ride="carousel"]');for(const N of t)qc.getOrCreateInstance(N)});
Ra(qc);const rc={parent:null,toggle:!0},yc={parent:"(null|element)",toggle:"boolean"};class gc extends Ob{constructor(t,N){super(t,N);this._isTransitioning=!1;this._triggerArray=[];t=mb.find('[data-bs-toggle="collapse"]');for(const W of t)t=mb.getSelectorFromElement(W),N=mb.find(t).filter(oa=>oa===this._element),null!==t&&N.length&&this._triggerArray.push(W);this._initializeChildren();this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown());this._config.toggle&&this.toggle()}static get Default(){return rc}static get DefaultType(){return yc}static get NAME(){return"collapse"}toggle(){this._isShown()?
this.hide():this.show()}show(){if(!this._isTransitioning&&!this._isShown()){var t=[];if((this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(W=>W!==this._element).map(W=>gc.getOrCreateInstance(W,{toggle:!1}))),!t.length||!t[0]._isTransitioning)&&!Ka.trigger(this._element,"show.bs.collapse").defaultPrevented){for(const W of t)W.hide();var N=this._getDimension();this._element.classList.remove("collapse");this._element.classList.add("collapsing");this._element.style[N]=
0;this._addAriaAndCollapsedClass(this._triggerArray,!0);this._isTransitioning=!0;t=`scroll${N[0].toUpperCase()+N.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1;this._element.classList.remove("collapsing");this._element.classList.add("collapse","show");this._element.style[N]="";Ka.trigger(this._element,"shown.bs.collapse")},this._element,!0);this._element.style[N]=`${this._element[t]}px`}}}hide(){if(!this._isTransitioning&&this._isShown()&&!Ka.trigger(this._element,"hide.bs.collapse").defaultPrevented){var t=
this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`;this._element.offsetHeight;this._element.classList.add("collapsing");this._element.classList.remove("collapse","show");for(const N of this._triggerArray){const W=mb.getElementFromSelector(N);W&&!this._isShown(W)&&this._addAriaAndCollapsedClass([N],!1)}this._isTransitioning=!0;this._element.style[t]="";this._queueCallback(()=>{this._isTransitioning=!1;this._element.classList.remove("collapsing");this._element.classList.add("collapse");
Ka.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}}_isShown(t=this._element){return t.classList.contains("show")}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Ia(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent){var t=this._getFirstLevelChildren('[data-bs-toggle="collapse"]');for(const N of t)(t=mb.getElementFromSelector(N))&&this._addAriaAndCollapsedClass([N],this._isShown(t))}}_getFirstLevelChildren(t){const N=
mb.find(":scope .collapse .collapse",this._config.parent);return mb.find(t,this._config.parent).filter(W=>!N.includes(W))}_addAriaAndCollapsedClass(t,N){if(t.length)for(const W of t)W.classList.toggle("collapsed",!N),W.setAttribute("aria-expanded",N)}static jQueryInterface(t){const N={};return"string"==typeof t&&/show|hide/.test(t)&&(N.toggle=!1),this.each(function(){const W=gc.getOrCreateInstance(this,N);if("string"==typeof t){if(void 0===W[t])throw new TypeError(`No method named "${t}"`);W[t]()}})}}
Ka.on(document,"click.bs.collapse.data-api",'[data-bs-toggle="collapse"]',function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const N of mb.getMultipleElementsFromSelector(this))gc.getOrCreateInstance(N,{toggle:!1}).toggle()});Ra(gc);var Db=["top","bottom","right","left"],lc=Db.reduce(function(t,N){return t.concat([N+"-start",N+"-end"])},[]),Mb=[].concat(Db,["auto"]).reduce(function(t,N){return t.concat([N,N+"-start",N+"-end"])},[]),Zb="beforeRead read afterRead beforeMain main afterMain beforeWrite write afterWrite".split(" ");
const nb={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var N=t.state;Object.keys(N.elements).forEach(function(W){var oa=N.styles[W]||{},l=N.attributes[W]||{},w=N.elements[W];r(w)&&a(w)&&(Object.assign(w.style,oa),Object.keys(l).forEach(function(F){var M=l[F];!1===M?w.removeAttribute(F):w.setAttribute(F,!0===M?"":M)}))})},effect:function(t){var N=t.state,W={popper:{position:N.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(N.elements.popper.style,
W.popper),N.styles=W,N.elements.arrow&&Object.assign(N.elements.arrow.style,W.arrow),function(){Object.keys(N.elements).forEach(function(oa){var l=N.elements[oa],w=N.attributes[oa]||{};oa=Object.keys(N.styles.hasOwnProperty(oa)?N.styles[oa]:W[oa]).reduce(function(F,M){return F[M]="",F},{});r(l)&&a(l)&&(Object.assign(l.style,oa),Object.keys(w).forEach(function(F){l.removeAttribute(F)}))})}},requires:["computeStyles"]};var Vb=Math.max,Sb=Math.min,lb=Math.round;const Wb={name:"arrow",enabled:!0,phase:"main",
fn:function(t){var N,W=t.state,oa=t.name,l=t.options,w=W.elements.arrow,F=W.modifiersData.popperOffsets,M=c(W.placement);t=z(M);M=0<=["left","right"].indexOf(M)?"height":"width";if(w&&F){var R=l.padding;l=G("number"!=typeof(R="function"==typeof R?R(Object.assign({},W.rects,{placement:W.placement})):R)?R:H(R,Db));R=p(w);var U="y"===t?"top":"left",X="y"===t?"bottom":"right",la=W.rects.reference[M]+W.rects.reference[t]-F[t]-W.rects.popper[M];F=F[t]-W.rects.reference[t];w=(w=O(w))?"y"===t?w.clientHeight||
0:w.clientWidth||0:0;F=w/2-R[M]/2+(la/2-F/2);M=Vb(l[U],Sb(F,w-R[M]-l[X]));W.modifiersData[oa]=((N={})[t]=M,N.centerOffset=M-F,N)}},effect:function(t){var N=t.state;t=t.options.element;t=void 0===t?"[data-popper-arrow]":t;null!=t&&("string"!=typeof t||(t=N.elements.popper.querySelector(t)))&&u(N.elements.popper,t)&&(N.elements.arrow=t)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};var kc={top:"auto",right:"auto",bottom:"auto",left:"auto"};const sc={name:"computeStyles",enabled:!0,
phase:"beforeWrite",fn:function(t){var N=t.state,W=t.options;t=W.gpuAcceleration;t=void 0===t||t;var oa=W.adaptive;oa=void 0===oa||oa;W=W.roundOffsets;W=void 0===W||W;t={placement:c(N.placement),variation:J(N.placement),popper:N.elements.popper,popperRect:N.rects.popper,gpuAcceleration:t,isFixed:"fixed"===N.options.strategy};null!=N.modifiersData.popperOffsets&&(N.styles.popper=Object.assign({},N.styles.popper,K(Object.assign({},t,{offsets:N.modifiersData.popperOffsets,position:N.options.strategy,
adaptive:oa,roundOffsets:W}))));null!=N.modifiersData.arrow&&(N.styles.arrow=Object.assign({},N.styles.arrow,K(Object.assign({},t,{offsets:N.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:W}))));N.attributes.popper=Object.assign({},N.attributes.popper,{"data-popper-placement":N.placement})},data:{}};var tc={passive:!0};const dc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var N=t.state,W=t.instance;t=t.options;var oa=t.scroll,l=void 0===oa||
oa;t=t.resize;var w=void 0===t||t,F=m(N.elements.popper),M=[].concat(N.scrollParents.reference,N.scrollParents.popper);return l&&M.forEach(function(R){R.addEventListener("scroll",W.update,tc)}),w&&F.addEventListener("resize",W.update,tc),function(){l&&M.forEach(function(R){R.removeEventListener("scroll",W.update,tc)});w&&F.removeEventListener("resize",W.update,tc)}},data:{}};var ec={left:"right",right:"left",bottom:"top",top:"bottom"},vc={start:"end",end:"start"};const zc={name:"flip",enabled:!0,
phase:"main",fn:function(t){var N=t.state,W=t.options;t=t.name;if(!N.modifiersData[t]._skip){var oa=W.mainAxis;oa=void 0===oa||oa;var l=W.altAxis;l=void 0===l||l;var w=W.fallbackPlacements,F=W.padding,M=W.boundary,R=W.rootBoundary,U=W.altBoundary,X=W.flipVariations,la=void 0===X||X,ea=W.allowedAutoPlacements;W=N.options.placement;X=c(W);w=w||(X!==W&&la?function(Lb){if("auto"===c(Lb))return[];var Rb=S(Lb);return[da(Lb),Rb,da(Rb)]}(W):[S(W)]);var fa=[W].concat(w).reduce(function(Lb,Rb){return Lb.concat("auto"===
c(Rb)?ka(N,{placement:Rb,boundary:M,rootBoundary:R,padding:F,flipVariations:la,allowedAutoPlacements:ea}):Rb)},[]);W=N.rects.reference;w=N.rects.popper;var Ga=new Map;X=!0;for(var Na=fa[0],Ua=0;Ua<fa.length;Ua++){var hb=fa[Ua],jb=c(hb),Eb="start"===J(hb),Fb=0<=["top","bottom"].indexOf(jb),ac=Fb?"width":"height",Ab=ya(N,{placement:hb,boundary:M,rootBoundary:R,altBoundary:U,padding:F});Eb=Fb?Eb?"right":"left":Eb?"bottom":"top";W[ac]>w[ac]&&(Eb=S(Eb));ac=S(Eb);Fb=[];if(oa&&Fb.push(0>=Ab[jb]),l&&Fb.push(0>=
Ab[Eb],0>=Ab[ac]),Fb.every(function(Lb){return Lb})){Na=hb;X=!1;break}Ga.set(hb,Fb)}if(X)for(oa=function(Lb){var Rb=fa.find(function(zb){if(zb=Ga.get(zb))return zb.slice(0,Lb).every(function(Tb){return Tb})});if(Rb)return Na=Rb,"break"},l=la?3:1;0<l&&"break"!==oa(l);l--);N.placement!==Na&&(N.modifiersData[t]._skip=!0,N.placement=Na,N.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Mc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var N=t.state;t=
t.name;var W=N.rects.reference,oa=N.rects.popper,l=N.modifiersData.preventOverflow,w=ya(N,{elementContext:"reference"}),F=ya(N,{altBoundary:!0});W=Oa(w,W);oa=Oa(F,oa,l);l=ab(W);F=ab(oa);N.modifiersData[t]={referenceClippingOffsets:W,popperEscapeOffsets:oa,isReferenceHidden:l,hasPopperEscaped:F};N.attributes.popper=Object.assign({},N.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":F})}},Ac={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var N=
t.state,W=t.name;t=t.options.offset;var oa=void 0===t?[0,0]:t;t=Mb.reduce(function(F,M){var R=N.rects,U=c(M),X=0<=["left","top"].indexOf(U)?-1:1;var la="function"==typeof oa?oa(Object.assign({},R,{placement:M})):oa;R=la[0];var ea=la[1];la=(R=R||0,ea=(ea||0)*X,0<=["left","right"].indexOf(U)?{x:ea,y:R}:{x:R,y:ea});return F[M]=la,F},{});var l=t[N.placement],w=l.x;l=l.y;null!=N.modifiersData.popperOffsets&&(N.modifiersData.popperOffsets.x+=w,N.modifiersData.popperOffsets.y+=l);N.modifiersData[W]=t}},
Dc={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var N=t.state;N.modifiersData[t.name]=pa({reference:N.rects.reference,element:N.rects.popper,strategy:"absolute",placement:N.placement})},data:{}},wc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var N=t.state,W=t.options;t=t.name;var oa=W.mainAxis,l=void 0===oa||oa;oa=W.altAxis;var w=void 0!==oa&&oa;oa=W.tether;var F=void 0===oa||oa;oa=W.tetherOffset;var M=void 0===oa?0:oa,R=ya(N,{boundary:W.boundary,rootBoundary:W.rootBoundary,
padding:W.padding,altBoundary:W.altBoundary}),U=c(N.placement),X=J(N.placement),la=!X,ea=z(U);W="x"===ea?"y":"x";oa=N.modifiersData.popperOffsets;var fa=N.rects.reference,Ga=N.rects.popper;M="function"==typeof M?M(Object.assign({},N.rects,{placement:N.placement})):M;var Na="number"==typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),Ua=N.modifiersData.offset?N.modifiersData.offset[N.placement]:null;M={x:0,y:0};if(oa){if(l){var hb,jb="y"===ea?"top":"left",Eb="y"===ea?"bottom":
"right",Fb="y"===ea?"height":"width";l=oa[ea];var ac=l+R[jb],Ab=l-R[Eb],Lb=F?-Ga[Fb]/2:0,Rb="start"===X?fa[Fb]:Ga[Fb];X="start"===X?-Ga[Fb]:-fa[Fb];var zb=N.elements.arrow;zb=F&&zb?p(zb):{width:0,height:0};var Tb=N.modifiersData["arrow#persistent"]?N.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0};jb=Tb[jb];Eb=Tb[Eb];zb=Vb(0,Sb(fa[Fb],zb[Fb]));Rb=la?fa[Fb]/2-Lb-zb-jb-Na.mainAxis:Rb-zb-jb-Na.mainAxis;la=la?-fa[Fb]/2+Lb+zb+Eb+Na.mainAxis:X+zb+Eb+Na.mainAxis;Fb=(Fb=N.elements.arrow&&
O(N.elements.arrow))?"y"===ea?Fb.clientTop||0:Fb.clientLeft||0:0;Lb=null!=(hb=null==Ua?void 0:Ua[ea])?hb:0;hb=l+la-Lb;ac=F?Sb(ac,l+Rb-Lb-Fb):ac;hb=F?Vb(Ab,hb):Ab;hb=Vb(ac,Sb(l,hb));oa[ea]=hb;M[ea]=hb-l}if(w){var $b;w=oa[W];l="y"===W?"height":"width";hb=w+R["x"===ea?"top":"left"];R=w-R["x"===ea?"bottom":"right"];U=-1!==["top","left"].indexOf(U);ea=null!=($b=null==Ua?void 0:Ua[W])?$b:0;$b=U?hb:w-fa[l]-Ga[l]-ea+Na.altAxis;fa=U?w+fa[l]+Ga[l]-ea-Na.altAxis:R;F&&U?($b=Vb($b,Sb(w,fa)),$b=$b>fa?fa:$b):$b=
Vb(F?$b:hb,Sb(w,F?fa:R));oa[W]=$b;M[W]=$b-w}N.modifiersData[t]=M}},requiresIfExists:["offset"]};var aa={placement:"bottom",modifiers:[],strategy:"absolute"},Ba=qa(),Pa=qa({defaultModifiers:[dc,Dc,sc,nb]}),eb=qa({defaultModifiers:[dc,Dc,sc,nb,Ac,zc,wc,Wb,Mc]});const kb=Object.freeze(Object.defineProperty({__proto__:null,afterMain:"afterMain",afterRead:"afterRead",afterWrite:"afterWrite",applyStyles:nb,arrow:Wb,auto:"auto",basePlacements:Db,beforeMain:"beforeMain",beforeRead:"beforeRead",beforeWrite:"beforeWrite",
bottom:"bottom",clippingParents:"clippingParents",computeStyles:sc,createPopper:eb,createPopperBase:Ba,createPopperLite:Pa,detectOverflow:ya,end:"end",eventListeners:dc,flip:zc,hide:Mc,left:"left",main:"main",modifierPhases:Zb,offset:Ac,placements:Mb,popper:"popper",popperGenerator:qa,popperOffsets:Dc,preventOverflow:wc,read:"read",reference:"reference",right:"right",start:"start",top:"top",variationPlacements:lc,viewport:"viewport",write:"write"},Symbol.toStringTag,{value:"Module"})),fb="rtl"===
document.documentElement.dir?"top-end":"top-start",V="rtl"===document.documentElement.dir?"top-start":"top-end",ja="rtl"===document.documentElement.dir?"bottom-end":"bottom-start",Ea="rtl"===document.documentElement.dir?"bottom-start":"bottom-end",ca="rtl"===document.documentElement.dir?"left-start":"right-start",xa="rtl"===document.documentElement.dir?"right-start":"left-start",Ja={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Aa={autoClose:"(boolean|string)",
boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Sa extends Ob{constructor(t,N){super(t,N);this._popper=null;this._parent=this._element.parentNode;this._menu=mb.next(this._element,".dropdown-menu")[0]||mb.prev(this._element,".dropdown-menu")[0]||mb.findOne(".dropdown-menu",this._parent);this._inNavbar=this._detectNavbar()}static get Default(){return Ja}static get DefaultType(){return Aa}static get NAME(){return"dropdown"}toggle(){return this._isShown()?
this.hide():this.show()}show(){if(!Ha(this._element)&&!this._isShown()){var t={relatedTarget:this._element};if(!Ka.trigger(this._element,"show.bs.dropdown",t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const N of[].concat(...document.body.children))Ka.on(N,"mouseover",bb);this._element.focus();this._element.setAttribute("aria-expanded",!0);this._menu.classList.add("show");this._element.classList.add("show");Ka.trigger(this._element,
"shown.bs.dropdown",t)}}}hide(){!Ha(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy();super.dispose()}update(){this._inNavbar=this._detectNavbar();this._popper&&this._popper.update()}_completeHide(t){if(!Ka.trigger(this._element,"hide.bs.dropdown",t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const N of[].concat(...document.body.children))Ka.off(N,"mouseover",bb);this._popper&&this._popper.destroy();
this._menu.classList.remove("show");this._element.classList.remove("show");this._element.setAttribute("aria-expanded","false");qb.removeDataAttribute(this._menu,"popper");Ka.trigger(this._element,"hidden.bs.dropdown",t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Cb(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError('DROPDOWN: Option "reference" provided type "object" without a required "getBoundingClientRect" method.');return t}_createPopper(){if(void 0===
kb)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Cb(this._config.reference)?t=Ia(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const N=this._getPopperConfig();this._popper=eb(t,this._menu,N)}_isShown(){return this._menu.classList.contains("show")}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return ca;if(t.classList.contains("dropstart"))return xa;
if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const N="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?N?V:fb:N?Ea:ja}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const {offset:t}=this._config;return"string"==typeof t?t.split(",").map(N=>Number.parseInt(N,10)):"function"==typeof t?N=>t(N,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),
modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(qb.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...sa(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:N}){const W=mb.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(oa=>na(oa));W.length&&pb(W,N,"ArrowDown"===
t,!W.includes(N)).focus()}static jQueryInterface(t){return this.each(function(){const N=Sa.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===N[t])throw new TypeError(`No method named "${t}"`);N[t]()}})}static clearMenus(t){if(2!==t.button&&("keyup"!==t.type||"Tab"===t.key)){var N=mb.find('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled).show');for(const oa of N){N=Sa.getInstance(oa);if(!N||!1===N._config.autoClose)continue;var W=t.composedPath();const l=W.includes(N._menu);W.includes(N._element)||
"inside"===N._config.autoClose&&!l||"outside"===N._config.autoClose&&l||N._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName))||(W={relatedTarget:N._element},"click"===t.type&&(W.clickEvent=t),N._completeHide(W))}}}static dataApiKeydownHandler(t){var N=/input|textarea/i.test(t.target.tagName),W="Escape"===t.key;const oa=["ArrowUp","ArrowDown"].includes(t.key);if(oa||W)if(!N||W){t.preventDefault();N=this.matches('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')?
this:mb.prev(this,'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')[0]||mb.next(this,'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')[0]||mb.findOne('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',t.delegateTarget.parentNode);W=Sa.getOrCreateInstance(N);if(oa)return t.stopPropagation(),W.show(),void W._selectMenuItem(t);W._isShown()&&(t.stopPropagation(),W.hide(),N.focus())}}}Ka.on(document,"keydown.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',
Sa.dataApiKeydownHandler);Ka.on(document,"keydown.bs.dropdown.data-api",".dropdown-menu",Sa.dataApiKeydownHandler);Ka.on(document,"click.bs.dropdown.data-api",Sa.clearMenus);Ka.on(document,"keyup.bs.dropdown.data-api",Sa.clearMenus);Ka.on(document,"click.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',function(t){t.preventDefault();Sa.getOrCreateInstance(this).toggle()});Ra(Sa);const Ya={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},
sb={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ub extends wb{constructor(t){super();this._config=this._getConfig(t);this._isAppended=!1;this._element=null}static get Default(){return Ya}static get DefaultType(){return sb}static get NAME(){return"backdrop"}show(t){if(!this._config.isVisible)return void sa(t);this._append();const N=this._getElement();this._config.isAnimated&&N.offsetHeight;N.classList.add("show");
this._emulateAnimation(()=>{sa(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose();sa(t)})):sa(t)}dispose(){this._isAppended&&(Ka.off(this._element,"mousedown.bs.backdrop"),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className;this._config.isAnimated&&t.classList.add("fade");this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=
Ia(t.rootElement),t}_append(){if(!this._isAppended){var t=this._getElement();this._config.rootElement.append(t);Ka.on(t,"mousedown.bs.backdrop",()=>{sa(this._config.clickCallback)});this._isAppended=!0}}_emulateAnimation(t){Wa(t,this._getElement(),this._config.isAnimated)}}const ic={autofocus:!0,trapElement:null},Hb={autofocus:"boolean",trapElement:"element"};class Ub extends wb{constructor(t){super();this._config=this._getConfig(t);this._isActive=!1;this._lastTabNavDirection=null}static get Default(){return ic}static get DefaultType(){return Hb}static get NAME(){return"focustrap"}activate(){this._isActive||
(this._config.autofocus&&this._config.trapElement.focus(),Ka.off(document,".bs.focustrap"),Ka.on(document,"focusin.bs.focustrap",t=>this._handleFocusin(t)),Ka.on(document,"keydown.tab.bs.focustrap",t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ka.off(document,".bs.focustrap"))}_handleFocusin(t){const {trapElement:N}=this._config;t.target===document||t.target===N||N.contains(t.target)||(t=mb.focusableChildren(N),0===t.length?N.focus():"backward"===this._lastTabNavDirection?
t[t.length-1].focus():t[0].focus())}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?"backward":"forward")}}class nc{constructor(){this._element=document.body}getWidth(){return Math.abs(window.innerWidth-document.documentElement.clientWidth)}hide(){const t=this.getWidth();this._disableOverFlow();this._setElementAttributes(this._element,"padding-right",N=>N+t);this._setElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","padding-right",N=>N+t);this._setElementAttributes(".sticky-top",
"margin-right",N=>N-t)}reset(){this._resetElementAttributes(this._element,"overflow");this._resetElementAttributes(this._element,"padding-right");this._resetElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","padding-right");this._resetElementAttributes(".sticky-top","margin-right")}isOverflowing(){return 0<this.getWidth()}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow");this._element.style.overflow="hidden"}_setElementAttributes(t,N,W){const oa=this.getWidth();
this._applyManipulationCallback(t,l=>{if(!(l!==this._element&&window.innerWidth>l.clientWidth+oa)){this._saveInitialAttribute(l,N);var w=window.getComputedStyle(l).getPropertyValue(N);l.style.setProperty(N,`${W(Number.parseFloat(w))}px`)}})}_saveInitialAttribute(t,N){const W=t.style.getPropertyValue(N);W&&qb.setDataAttribute(t,N,W)}_resetElementAttributes(t,N){this._applyManipulationCallback(t,W=>{const oa=qb.getDataAttribute(W,N);null!==oa?(qb.removeDataAttribute(W,N),W.style.setProperty(N,oa)):
W.style.removeProperty(N)})}_applyManipulationCallback(t,N){if(Cb(t))N(t);else for(const W of mb.find(t,this._element))N(W)}}const dd={backdrop:!0,focus:!0,keyboard:!0},ed={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Bc extends Ob{constructor(t,N){super(t,N);this._dialog=mb.findOne(".modal-dialog",this._element);this._backdrop=this._initializeBackDrop();this._focustrap=this._initializeFocusTrap();this._isTransitioning=this._isShown=!1;this._scrollBar=new nc;this._addEventListeners()}static get Default(){return dd}static get DefaultType(){return ed}static get NAME(){return"modal"}toggle(t){return this._isShown?
this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Ka.trigger(this._element,"show.bs.modal",{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add("modal-open"),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){this._isShown&&!this._isTransitioning&&(Ka.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),
this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Ka.off(window,".bs.modal");Ka.off(this._dialog,".bs.modal");this._backdrop.dispose();this._focustrap.deactivate();super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ub({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ub({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||
document.body.append(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.setAttribute("aria-modal",!0);this._element.setAttribute("role","dialog");this._element.scrollTop=0;const N=mb.findOne(".modal-body",this._dialog);N&&(N.scrollTop=0);this._element.offsetHeight;this._element.classList.add("show");this._queueCallback(()=>{this._config.focus&&this._focustrap.activate();this._isTransitioning=!1;Ka.trigger(this._element,"shown.bs.modal",{relatedTarget:t})},
this._dialog,this._isAnimated())}_addEventListeners(){Ka.on(this._element,"keydown.dismiss.bs.modal",t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())});Ka.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()});Ka.on(this._element,"mousedown.dismiss.bs.modal",t=>{Ka.one(this._element,"click.dismiss.bs.modal",N=>{this._element===t.target&&this._element===N.target&&("static"!==this._config.backdrop?this._config.backdrop&&
this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");this._isTransitioning=!1;this._backdrop.hide(()=>{document.body.classList.remove("modal-open");this._resetAdjustments();this._scrollBar.reset();Ka.trigger(this._element,"hidden.bs.modal")})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(!Ka.trigger(this._element,
"hidePrevented.bs.modal").defaultPrevented){var t=this._element.scrollHeight>document.documentElement.clientHeight,N=this._element.style.overflowY;"hidden"===N||this._element.classList.contains("modal-static")||(t||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static"),this._queueCallback(()=>{this._element.classList.remove("modal-static");this._queueCallback(()=>{this._element.style.overflowY=N},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){const t=
this._element.scrollHeight>document.documentElement.clientHeight,N=this._scrollBar.getWidth(),W=0<N;W&&!t&&(this._element.style["rtl"===document.documentElement.dir?"paddingLeft":"paddingRight"]=`${N}px`);!W&&t&&(this._element.style["rtl"===document.documentElement.dir?"paddingRight":"paddingLeft"]=`${N}px`)}_resetAdjustments(){this._element.style.paddingLeft="";this._element.style.paddingRight=""}static jQueryInterface(t,N){return this.each(function(){const W=Bc.getOrCreateInstance(this,t);if("string"==
typeof t){if(void 0===W[t])throw new TypeError(`No method named "${t}"`);W[t](N)}})}}Ka.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(t){const N=mb.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault();Ka.one(N,"show.bs.modal",W=>{W.defaultPrevented||Ka.one(N,"hidden.bs.modal",()=>{na(this)&&this.focus()})});(t=mb.findOne(".modal.show"))&&Bc.getInstance(t).hide();Bc.getOrCreateInstance(N).toggle(this)});pc(Bc);Ra(Bc);const fd={backdrop:!0,
keyboard:!0,scroll:!1},gd={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Gc extends Ob{constructor(t,N){super(t,N);this._isShown=!1;this._backdrop=this._initializeBackDrop();this._focustrap=this._initializeFocusTrap();this._addEventListeners()}static get Default(){return fd}static get DefaultType(){return gd}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||Ka.trigger(this._element,"show.bs.offcanvas",{relatedTarget:t}).defaultPrevented||
(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new nc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("showing"),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate();this._element.classList.add("show");this._element.classList.remove("showing");Ka.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&(Ka.trigger(this._element,
"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding");this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");this._config.scroll||(new nc).reset();Ka.trigger(this._element,"hidden.bs.offcanvas")},this._element,!0)))}dispose(){this._backdrop.dispose();this._focustrap.deactivate();super.dispose()}_initializeBackDrop(){const t=
!!this._config.backdrop;return new ub({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():Ka.trigger(this._element,"hidePrevented.bs.offcanvas")}:null})}_initializeFocusTrap(){return new Ub({trapElement:this._element})}_addEventListeners(){Ka.on(this._element,"keydown.dismiss.bs.offcanvas",t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():Ka.trigger(this._element,"hidePrevented.bs.offcanvas"))})}static jQueryInterface(t){return this.each(function(){const N=
Gc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===N[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);N[t](this)}})}}Ka.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(t){const N=mb.getElementFromSelector(this);(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ha(this))||(Ka.one(N,"hidden.bs.offcanvas",()=>{na(this)&&this.focus()}),(t=mb.findOne(".offcanvas.show"))&&t!==N&&Gc.getInstance(t).hide(),Gc.getOrCreateInstance(N).toggle(this))});
Ka.on(window,"load.bs.offcanvas.data-api",()=>{for(const t of mb.find(".offcanvas.show"))Gc.getOrCreateInstance(t).show()});Ka.on(window,"resize.bs.offcanvas",()=>{for(const t of mb.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&Gc.getOrCreateInstance(t).hide()});pc(Gc);Ra(Gc);const Vc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],
h5:[],h6:[],i:[],img:"src srcset alt title width height".split(" "),li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Oc=new Set("background cite href itemtype longdesc poster src xlink:href".split(" ")),Wc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Sc=(t,N)=>{const W=t.nodeName.toLowerCase();return N.includes(W)?!Oc.has(W)||!!Wc.test(t.nodeValue):N.filter(oa=>oa instanceof RegExp).some(oa=>oa.test(W))},Xc={allowList:Vc,content:{},extraClass:"",html:!1,
sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},hd={entry:"(string|element|function|null)",selector:"(string|element)"};class Zc extends wb{constructor(t){super();this._config=this._getConfig(t)}static get Default(){return Xc}static get DefaultType(){return Yc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>
this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return 0<this.getContent().length}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){var t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const [W,oa]of Object.entries(this._config.content))this._setContent(t,oa,W);t=t.children[0];const N=this._resolvePossibleFunction(this._config.extraClass);return N&&t.classList.add(...N.split(" ")),
t}_typeCheckConfig(t){super._typeCheckConfig(t);this._checkContent(t.content)}_checkContent(t){for(const [N,W]of Object.entries(t))super._typeCheckConfig({selector:N,entry:W},hd)}_setContent(t,N,W){(t=mb.findOne(W,t))&&((N=this._resolvePossibleFunction(N))?Cb(N)?this._putElementInTemplate(Ia(N),t):this._config.html?t.innerHTML=this._maybeSanitize(N):t.textContent=N:t.remove())}_maybeSanitize(t){if(this._config.sanitize){var N=this._config.allowList;var W=this._config.sanitizeFn;if(t.length)if(W&&
"function"==typeof W)N=W(t);else{t=(new window.DOMParser).parseFromString(t,"text/html");W=[].concat(...t.body.querySelectorAll("*"));for(const l of W){var oa=l.nodeName.toLowerCase();if(Object.keys(N).includes(oa)){W=[].concat(...l.attributes);oa=[].concat(N["*"]||[],N[oa]||[]);for(const w of W)Sc(w,oa)||l.removeAttribute(w.nodeName)}else l.remove()}N=t.body.innerHTML}else N=t}else N=t;return N}_resolvePossibleFunction(t){return sa(t,[this])}_putElementInTemplate(t,N){if(this._config.html)return N.innerHTML=
"",void N.append(t);N.textContent=t.textContent}}const id=new Set(["sanitize","allowList","sanitizeFn"]),jd={AUTO:"auto",TOP:"top",RIGHT:"rtl"===document.documentElement.dir?"left":"right",BOTTOM:"bottom",LEFT:"rtl"===document.documentElement.dir?"right":"left"},kd={allowList:Vc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,
template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ld={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",
selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Nc extends Ob{constructor(t,N){if(void 0===kb)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,N);this._isEnabled=!0;this._timeout=0;this._isHovered=null;this._activeTrigger={};this.tip=this._newContent=this._templateFactory=this._popper=null;this._setListeners();this._config.selector||this._fixTitle()}static get Default(){return kd}static get DefaultType(){return ld}static get NAME(){return"tooltip"}enable(){this._isEnabled=
!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout);Ka.off(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler);this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title"));this._disposePopper();super.dispose()}show(){if("none"===
this._element.style.display)throw Error("Please use show on visible elements");if(this._isWithContent()&&this._isEnabled){var t=Ka.trigger(this._element,this.constructor.eventName("show")),N=(Da(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(!t.defaultPrevented&&N){this._disposePopper();t=this._getTipElement();this._element.setAttribute("aria-describedby",t.getAttribute("id"));({container:N}=this._config);if(this._element.ownerDocument.documentElement.contains(this.tip)||
(N.append(t),Ka.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(t),t.classList.add("show"),"ontouchstart"in document.documentElement)for(const W of[].concat(...document.body.children))Ka.on(W,"mouseover",bb);this._queueCallback(()=>{Ka.trigger(this._element,this.constructor.eventName("shown"));!1===this._isHovered&&this._leave();this._isHovered=!1},this.tip,this._isAnimated())}}}hide(){if(this._isShown()&&!Ka.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove("show"),
"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))Ka.off(t,"mouseover",bb);this._activeTrigger.click=!1;this._activeTrigger.focus=!1;this._activeTrigger.hover=!1;this._isHovered=null;this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ka.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||
(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){t=this._getTemplateFactory(t).toHtml();if(!t)return null;t.classList.remove("fade","show");t.classList.add(`bs-${this.constructor.NAME}-auto`);var N=this.constructor.NAME;do N+=Math.floor(1E6*Math.random());while(document.getElementById(N));return t.setAttribute("id",N.toString()),this._isAnimated()&&t.classList.add("fade"),t}setContent(t){this._newContent=t;this._isShown()&&(this._disposePopper(),
this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Zc({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,
this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains("fade")}_isShown(){return this.tip&&this.tip.classList.contains("show")}_createPopper(t){var N=sa(this._config.placement,[this,t,this._element]);N=jd[N.toUpperCase()];return eb(this._element,t,this._getPopperConfig(N))}_getOffset(){const {offset:t}=this._config;return"string"==typeof t?t.split(",").map(N=>Number.parseInt(N,10)):"function"==typeof t?N=>t(N,this._element):t}_resolvePossibleFunction(t){return sa(t,
[this._element])}_getPopperConfig(t){t={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:N=>{this._getTipElement().setAttribute("data-popper-placement",N.state.placement)}}]};return{...t,...sa(this._config.popperConfig,
[t])}}_setListeners(){var t=this._config.trigger.split(" ");for(const N of t)if("click"===N)Ka.on(this._element,this.constructor.eventName("click"),this._config.selector,W=>{this._initializeOnDelegatedTarget(W).toggle()});else if("manual"!==N){t="hover"===N?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin");const W="hover"===N?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Ka.on(this._element,t,this._config.selector,oa=>{const l=this._initializeOnDelegatedTarget(oa);
l._activeTrigger["focusin"===oa.type?"focus":"hover"]=!0;l._enter()});Ka.on(this._element,W,this._config.selector,oa=>{const l=this._initializeOnDelegatedTarget(oa);l._activeTrigger["focusout"===oa.type?"focus":"hover"]=l._element.contains(oa.relatedTarget);l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()};Ka.on(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||
this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,N){clearTimeout(this._timeout);
this._timeout=setTimeout(t,N)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const N=qb.getDataAttributes(this._element);for(const W of Object.keys(N))id.has(W)&&delete N[W];return t={...N,...("object"==typeof t&&t?t:{})},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Ia(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==
typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const [N,W]of Object.entries(this._config))this.constructor.Default[N]!==W&&(t[N]=W);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null);this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const N=Nc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===
N[t])throw new TypeError(`No method named "${t}"`);N[t]()}})}}Ra(Nc);const md={...Nc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},nd={...Nc.DefaultType,content:"(null|string|element|function)"};class Tc extends Nc{static get Default(){return md}static get DefaultType(){return nd}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||
this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const N=Tc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===N[t])throw new TypeError(`No method named "${t}"`);N[t]()}})}}Ra(Tc);const $c={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Uc={offset:"(number|null)",
rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Pc extends Ob{constructor(t,N){super(t,N);this._targetLinks=new Map;this._observableSections=new Map;this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element;this._observer=this._activeTarget=null;this._previousScrollData={visibleEntryTop:0,parentScrollTop:0};this.refresh()}static get Default(){return $c}static get DefaultType(){return Uc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables();
this._maybeEnableSmoothScroll();this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect();super.dispose()}_configAfterMerge(t){return t.target=Ia(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(N=>Number.parseFloat(N))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&
(Ka.off(this._config.target,"click.bs.scrollspy"),Ka.on(this._config.target,"click.bs.scrollspy","[href]",t=>{var N=this._observableSections.get(t.target.hash);if(N){t.preventDefault();t=this._rootElement||window;N=N.offsetTop-this._element.offsetTop;if(t.scrollTo)return void t.scrollTo({top:N,behavior:"smooth"});t.scrollTop=N}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const N=
w=>this._targetLinks.get(`#${w.target.id}`),W=w=>{this._previousScrollData.visibleEntryTop=w.target.offsetTop;this._process(N(w))},oa=(this._rootElement||document.documentElement).scrollTop,l=oa>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=oa;for(const w of t)if(w.isIntersecting)if(t=w.target.offsetTop>=this._previousScrollData.visibleEntryTop,l&&t){if(W(w),!oa)break}else l||t||W(w);else this._activeTarget=null,this._clearActiveClass(N(w))}_initializeTargetsAndObservables(){this._targetLinks=
new Map;this._observableSections=new Map;var t=mb.find("[href]",this._config.target);for(const N of t)N.hash&&!Ha(N)&&(t=mb.findOne(decodeURI(N.hash),this._element),na(t)&&(this._targetLinks.set(decodeURI(N.hash),N),this._observableSections.set(N.hash,t)))}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add("active"),this._activateParents(t),Ka.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))mb.findOne(".dropdown-toggle",
t.closest(".dropdown")).classList.add("active");else for(const N of mb.parents(t,".nav, .list-group"))for(const W of mb.prev(N,".nav-link, .nav-item > .nav-link, .list-group-item"))W.classList.add("active")}_clearActiveClass(t){t.classList.remove("active");t=mb.find("[href].active",t);for(const N of t)N.classList.remove("active")}static jQueryInterface(t){return this.each(function(){const N=Pc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===N[t]||t.startsWith("_")||"constructor"===
t)throw new TypeError(`No method named "${t}"`);N[t]()}})}}Ka.on(window,"load.bs.scrollspy.data-api",()=>{for(const t of mb.find('[data-bs-spy="scroll"]'))Pc.getOrCreateInstance(t)});Ra(Pc);class Hc extends Ob{constructor(t){super(t);(this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'))&&(this._setInitialAttributes(this._parent,this._getChildren()),Ka.on(this._element,"keydown.bs.tab",N=>this._keydown(N)))}static get NAME(){return"tab"}show(){const t=this._element;if(!this._elemIsActive(t)){var N=
this._getActiveElem(),W=N?Ka.trigger(N,"hide.bs.tab",{relatedTarget:t}):null;Ka.trigger(t,"show.bs.tab",{relatedTarget:N}).defaultPrevented||W&&W.defaultPrevented||(this._deactivate(N,t),this._activate(t,N))}}_activate(t,N){t&&(t.classList.add("active"),this._activate(mb.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Ka.trigger(t,"shown.bs.tab",{relatedTarget:N})):t.classList.add("show")},
t,t.classList.contains("fade")))}_deactivate(t,N){t&&(t.classList.remove("active"),t.blur(),this._deactivate(mb.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Ka.trigger(t,"hidden.bs.tab",{relatedTarget:N})):t.classList.remove("show")},t,t.classList.contains("fade")))}_keydown(t){if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(t.key)){t.stopPropagation();
t.preventDefault();var N=["ArrowRight","ArrowDown"].includes(t.key);(t=pb(this._getChildren().filter(W=>!Ha(W)),t.target,N,!0))&&(t.focus({preventScroll:!0}),Hc.getOrCreateInstance(t).show())}}_getChildren(){return mb.find('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,
N){this._setAttributeIfNotExists(t,"role","tablist");for(const W of N)this._setInitialAttributesOnChild(W)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const N=this._elemIsActive(t),W=this._getOuterElement(t);t.setAttribute("aria-selected",N);W!==t&&this._setAttributeIfNotExists(W,"role","presentation");N||t.setAttribute("tabindex","-1");this._setAttributeIfNotExists(t,"role","tab");this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const N=mb.getElementFromSelector(t);
N&&(this._setAttributeIfNotExists(N,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(N,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,N){t=this._getOuterElement(t);if(t.classList.contains("dropdown")){var W=mb.findOne(".dropdown-toggle",t);W&&W.classList.toggle("active",N);(W=mb.findOne(".dropdown-menu",t))&&W.classList.toggle("show",N);t.setAttribute("aria-expanded",N)}}_setAttributeIfNotExists(t,N,W){t.hasAttribute(N)||t.setAttribute(N,W)}_elemIsActive(t){return t.classList.contains("active")}_getInnerElement(t){return t.matches('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]')?
t:mb.findOne('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const N=Hc.getOrCreateInstance(this);if("string"==typeof t){if(void 0===N[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);N[t]()}})}}Ka.on(document,
"click.bs.tab",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault();Ha(this)||Hc.getOrCreateInstance(this).show()});Ka.on(window,"load.bs.tab",()=>{for(const t of mb.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Hc.getOrCreateInstance(t)});Ra(Hc);const od={animation:"boolean",autohide:"boolean",delay:"number"},Qc={animation:!0,autohide:!0,delay:5E3};class Rc extends Ob{constructor(t,
N){super(t,N);this._timeout=null;this._hasKeyboardInteraction=this._hasMouseInteraction=!1;this._setListeners()}static get Default(){return Qc}static get DefaultType(){return od}static get NAME(){return"toast"}show(){Ka.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.offsetHeight,this._element.classList.add("show","showing"),this._queueCallback(()=>{this._element.classList.remove("showing");
Ka.trigger(this._element,"shown.bs.toast");this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Ka.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add("showing"),this._queueCallback(()=>{this._element.classList.add("hide");this._element.classList.remove("showing","show");Ka.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout();this.isShown()&&this._element.classList.remove("show");
super.dispose()}isShown(){return this._element.classList.contains("show")}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,N){switch(t.type){case "mouseover":case "mouseout":this._hasMouseInteraction=N;break;case "focusin":case "focusout":this._hasKeyboardInteraction=N}if(N)return void this._clearTimeout();t=t.relatedTarget;this._element===t||this._element.contains(t)||
this._maybeScheduleHide()}_setListeners(){Ka.on(this._element,"mouseover.bs.toast",t=>this._onInteraction(t,!0));Ka.on(this._element,"mouseout.bs.toast",t=>this._onInteraction(t,!1));Ka.on(this._element,"focusin.bs.toast",t=>this._onInteraction(t,!0));Ka.on(this._element,"focusout.bs.toast",t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout);this._timeout=null}static jQueryInterface(t){return this.each(function(){const N=Rc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===
N[t])throw new TypeError(`No method named "${t}"`);N[t](this)}})}}return pc(Rc),Ra(Rc),{Alert:Pb,Button:mc,Carousel:qc,Collapse:gc,Dropdown:Sa,Modal:Bc,Offcanvas:Gc,Popover:Tc,ScrollSpy:Pc,Tab:Hc,Toast:Rc,Tooltip:Nc}});
(function(g){"object"===typeof exports&&"undefined"!==typeof module?module.exports=g():"function"===typeof define&&define.amd?define([],g):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).ChickenPaint=g()})(function(){return function(){function g(L,D,y){function k(b,d){if(!D[b]){if(!L[b]){var x="function"==typeof require&&require;if(!d&&x)return x(b,!0);if(v)return v(b,!0);d=Error("Cannot find module '"+b+"'");throw d.code="MODULE_NOT_FOUND",
d;}d=D[b]={exports:{}};L[b][0].call(d.exports,function(a){return k(L[b][1][a]||a)},d,d.exports,g,L,D,y)}return D[b].exports}for(var v="function"==typeof require&&require,E=0;E<y.length;E++)k(y[E]);return k}return g}()({1:[function(g,L,D){function y(J){return J&&J.__esModule?J:{default:J}}function k(J){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==
Symbol.prototype?"symbol":typeof K},k(J)}function v(){if(!((0,C.isCanvasSupported)()&&"Uint8Array"in window))throw new b.UnsupportedBrowserException;var J=(-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("iPod")||-1!=navigator.userAgent.indexOf("iPhone"))&&-1!=navigator.userAgent.indexOf(" OS 8_0 "),K=-1==navigator.userAgent.indexOf("CriOS")&&-1!=navigator.userAgent.indexOf("Safari");if(J&&K)throw new b.UnsupportedBrowserException("You are using Safari 8.0.0, which is unable to upload drawings. That bug was fixed in the iOS 8.0.2 update, or in Chrome for iOS.");
return!0}function E(){var J=Array(b.T_MAX);J[b.T_PENCIL]=new x.default({toolNb:b.T_PENCIL,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AA,brushMode:x.default.BRUSH_MODE_PAINT,paintMode:x.default.PAINT_MODE_OPACITY});J[b.T_ERASER]=new x.default({toolNb:b.T_ERASER,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!1,tip:x.default.TIP_ROUND_AA,brushMode:x.default.BRUSH_MODE_ERASE,paintMode:x.default.PAINT_MODE_OPACITY});
J[b.T_PEN]=new x.default({toolNb:b.T_PEN,size:2,alpha:128,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!0,pressureAlpha:!1,tip:x.default.TIP_ROUND_AA,brushMode:x.default.BRUSH_MODE_PAINT,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.5});J[b.T_SOFTERASER]=new x.default({toolNb:b.T_SOFTERASER,size:16,alpha:64,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AIRBRUSH,brushMode:x.default.BRUSH_MODE_ERASE,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125});
J[b.T_AIRBRUSH]=new x.default({toolNb:b.T_AIRBRUSH,size:50,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AIRBRUSH,brushMode:x.default.BRUSH_MODE_PAINT,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125});J[b.T_DODGE]=new x.default({toolNb:b.T_DODGE,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AIRBRUSH,brushMode:x.default.BRUSH_MODE_DODGE,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125});
J[b.T_BURN]=new x.default({toolNb:b.T_BURN,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AIRBRUSH,brushMode:x.default.BRUSH_MODE_BURN,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125});J[b.T_WATER]=new x.default({toolNb:b.T_WATER,size:30,alpha:70,isAA:!1,minSpacing:.5,spacing:.02,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AA,brushMode:x.default.BRUSH_MODE_WATER,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125,resat:.3,
bleed:.6});J[b.T_BLUR]=new x.default({toolNb:b.T_BLUR,size:20,alpha:255,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_PIXEL,brushMode:x.default.BRUSH_MODE_BLUR,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125});J[b.T_SMUDGE]=new x.default({toolNb:b.T_SMUDGE,size:20,alpha:128,isAA:!1,minSpacing:.5,spacing:.01,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AIRBRUSH,brushMode:x.default.BRUSH_MODE_SMUDGE,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125,
resat:0,bleed:1});J[b.T_BLENDER]=new x.default({toolNb:b.T_BLENDER,size:20,alpha:60,isAA:!1,minSpacing:.5,spacing:.1,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AIRBRUSH,brushMode:x.default.BRUSH_MODE_OIL,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125,resat:0,bleed:.07});return J}function b(J){function K(sa){this.palName=sa}function S(sa){this.toolNum=sa}function da(sa){this.modeNum=sa}function Y(sa){qa=sa==a.default.EDITING_MODE_IMAGE?b.COLOR_MODE_RGB:b.COLOR_MODE_GREYSCALE;ka.emitEvent("colorModeChange",
[sa==a.default.EDITING_MODE_IMAGE?"rgb":"greyscale"]);switch(qa){case b.COLOR_MODE_RGB:var Wa=T.clone();break;case b.COLOR_MODE_GREYSCALE:Wa=new A.default(A.default.greyToRGB(Z))}ka.artwork.setForegroundColor(Wa.getRgb());ka.emitEvent("colorChange",[Wa])}function ra(){ka.emitEvent("toolChange",[za,Ha[za]])}function ma(sa){Xa!=sa&&(sa==b.M_TRANSFORM&&(yb=Xa),Xa=sa,ka.emitEvent("modeChange",[Xa]))}function Q(sa){ma(b.M_DRAW);za=sa;ka.artwork.setBrush(Ha[sa]);ra()}function ia(){var sa=new q.default({artwork:ka.getArtwork(),
rotation:ab.getRotation90(),swatches:ib.getSwatches()});sa.on("savingComplete",function(){ka.artwork.setHasUnsavedChanges(!1)});sa.on("savingFailure",function(){alert((0,G._)("Sorry, your drawing could not be saved, please try again later."))});sa.save()}function ba(){if(ka.isActionSupported("CPContinue")||confirm((0,G._)("Are you sure you want to send your drawing to the server and finish drawing now?"))){var sa=new q.default({artwork:ka.getArtwork(),rotation:ab.getRotation90(),swatches:ib.getSwatches(),
url:J.saveUrl}),Wa=new B.default(ka,Oa,sa);sa.on("savingComplete",function(){ka.artwork.setHasUnsavedChanges(!1);!ka.isActionSupported("CPContinue")&&ka.isActionSupported("CPPost")&&ka.actionPerformed({action:"CPPost"})});sa.on("savingFailure",function(){alert((0,G._)("Sorry, your drawing could not be saved, please try again later."))});Wa.on("shown",function(){sa.save()});Wa.show()}}function ta(){if((0,C.isEventSupported)("onbeforeunload"))window.addEventListener("beforeunload",function(sa){if(ka.artwork.getHasUnsavedChanges())return sa.returnValue=
"Your drawing has unsaved changes!"});else(0,d.default)("a").on("click",function(sa){if("#"!=this.getAttribute("href")&&ka.artwork.getHasUnsavedChanges())return confirm("Your drawing has unsaved changes! Are you sure to want to navigate away?")})}function pa(sa,Wa){Oa&&(Oa.addEventListener("dblclick",function(pb){pb.preventDefault();pb.stopPropagation()}),ka.artwork.on("editModeChanged",Y),ib=new h.default(ka,Oa),ka.emitEvent("fullScreen",[na]),ka.emitEvent("smallScreen",[Ia]),Da.load(),Q(b.T_PEN),
ib.arrangePalettes(),sa&&ib.setSwatches(sa),Wa&&ib.setRotation90(Wa),I.default.getRef().detectTablet(),ta(),ka.artwork.on("unsavedChanges",function(pb){J.allowMultipleSends&&ka.emitEvent("unsavedChanges",[pb])}))}var ya=this;(0,G.guessLanguage)();J.language&&(0,G.setLanguage)(J.language);var ka=this,Oa=J.uiElem,ab,ib,T=new A.default(0),Z=255,qa=b.COLOR_MODE_RGB,za=b.T_PENCIL,Xa=b.M_DRAW,yb=Xa,Cb=[4278190080,4294967295],Ia=!1,na=!1,Ha=E(),Da=new H.default,bb,rb,vb={CPFullScreen:{action:function(){ka.setFullScreen(!na)},
isSupported:function(){return!("disable"===J.fullScreenMode||"force"===J.fullScreenMode||!1===J.allowFullScreen)},modifies:{gui:!0}},CPZoomIn:{action:function(){ab.zoomIn()},modifies:{gui:!0}},CPZoomOut:{action:function(){ab.zoomOut()},modifies:{gui:!0}},CPZoom100:{action:function(){ab.zoom100()},modifies:{gui:!0}},CPToolbarStyle:{action:function(){ka.setToolbarStyle("new"===Da.toolbarStyle?"old":"new")},modifies:{gui:!0}},CPUndo:{action:function(){ka.artwork.undo()},modifies:{document:!0},allowed:"isUndoAllowed"},
CPRedo:{action:function(){ka.artwork.redo()},modifies:{document:!0},allowed:"isRedoAllowed"},CPClearHistory:{action:function(){confirm("You're about to clear the current Undo/Redo history.\nThis operation cannot be undone, are you sure you want to do that?")&&ka.artwork.clearHistory()},modifies:{document:!0}},CPPencil:new S(b.T_PENCIL),CPPen:new S(b.T_PEN),CPEraser:new S(b.T_ERASER),CPSoftEraser:new S(b.T_SOFTERASER),CPAirbrush:new S(b.T_AIRBRUSH),CPDodge:new S(b.T_DODGE),CPBurn:new S(b.T_BURN),CPWater:new S(b.T_WATER),
CPBlur:new S(b.T_BLUR),CPSmudge:new S(b.T_SMUDGE),CPBlender:new S(b.T_BLENDER),CPFloodFill:new da(b.M_FLOODFILL),CPGradientFill:new da(b.M_GRADIENTFILL),CPRectSelection:new da(b.M_RECT_SELECTION),CPMoveTool:new da(b.M_MOVE_TOOL),CPRotateCanvas:new da(b.M_ROTATE_CANVAS),CPPanCanvas:new da(b.M_PAN_CANVAS),CPColorPicker:new da(b.M_COLOR_PICKER),CPTransform:{action:function(){var sa=ka.artwork.getActiveLayer();sa.visible?0==sa.alpha?ka.showLayerNotification(sa,"Whoops! This layer's opacity is currently 0%",
"opacity"):null==ka.artwork.transformAffineBegin()?ka.showLayerNotification(sa,"Whoops! All of the selected pixels are transparent!","layer"):ma(b.M_TRANSFORM):ka.showLayerNotification(sa,"Whoops! This layer is currently hidden","layer")},modifies:{mode:!0},allowed:function(){return 0!=ka.artwork.getActiveLayer().getEffectiveAlpha()}},CPTransformAccept:{action:function(){Xa==b.M_TRANSFORM&&(ka.artwork.transformAffineFinish(),ma(yb))},modifies:{mode:!0}},CPTransformReject:{action:function(){Xa==b.M_TRANSFORM&&
(ka.artwork.transformAffineAbort(),ma(yb))},modifies:{document:!0,mode:!0}},CPFreeHand:{action:function(){Ha[za].strokeMode=x.default.STROKE_MODE_FREEHAND;ra()},modifies:{tool:!0}},CPLine:{action:function(){Ha[za].strokeMode=x.default.STROKE_MODE_LINE;ra()},modifies:{tool:!0}},CPBezier:{action:function(){Ha[za].strokeMode=x.default.STROKE_MODE_BEZIER;ra()},modifies:{tool:!0}},CPAbout:{action:function(){(new c.default(Oa)).show()},modifies:{}},CPShortcuts:{action:function(){(new n.default(Oa)).show()},
modifies:{}},CPTabletSupport:{action:function(){(new p.default(Oa)).show()},modifies:{}},CPLayerDuplicate:{action:function(){ka.artwork.duplicateLayer()},modifies:{document:!0}},CPLayerMergeDown:{action:function(){ka.artwork.mergeDown()},modifies:{document:!0},allowed:"isMergeDownAllowed"},CPGroupMerge:{action:function(){ka.artwork.mergeGroup()},modifies:{document:!0},allowed:"isMergeGroupAllowed"},CPLayerMergeAll:{action:function(){ka.artwork.mergeAllLayers()},modifies:{document:!0},allowed:"isMergeAllLayersAllowed"},
CPExpandLayerGroup:{action:function(sa){ka.artwork.expandLayerGroup(sa.group,sa.expand)},modifies:{document:!0}},CPFill:{action:function(){ka.artwork.fill(ka.getCurColor().getRgb()|4278190080)},modifies:{document:!0},requiresDrawable:!0},CPClear:{action:function(){ka.artwork.clear()},modifies:{document:!0},requiresDrawable:!0},CPSelectAll:{action:function(){ka.artwork.rectangleSelection(ka.artwork.getBounds());ab.repaintAll()},modifies:{document:!0}},CPDeselectAll:{action:function(){ka.artwork.rectangleSelection(new O.default(0,
0,0,0));ab.repaintAll()},modifies:{document:!0}},CPHFlip:{action:function(){ka.artwork.hFlip()},modifies:{document:!0},requiresDrawable:!0},CPVFlip:{action:function(){ka.artwork.vFlip()},modifies:{document:!0},requiresDrawable:!0},CPMNoise:{action:function(){ka.artwork.monochromaticNoise()},modifies:{document:!0},requiresDrawable:!0},CPCNoise:{action:function(){ka.artwork.colorNoise()},modifies:{document:!0},allowed:"isColorNoiseAllowed"},CPFXBoxBlur:{action:function(){bb||=new e.default(Oa,ka);bb.show()},
modifies:{document:!0},requiresDrawable:!0},CPFXInvert:{action:function(){ka.artwork.invert()},modifies:{document:!0},requiresDrawable:!0},CPCut:{action:function(){ka.artwork.cutSelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCutSelectionAllowed"},CPCopy:{action:function(){ka.artwork.copySelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCopySelectionAllowed"},CPCopyMerged:{action:function(){ka.artwork.copySelectionMerged()},modifies:{document:!0},allowed:"isCopySelectionMergedAllowed"},
CPPaste:{action:function(){ka.artwork.pasteClipboard()},modifies:{document:!0},allowed:"isPasteClipboardAllowed"},CPToggleGrid:{action:function(sa){ab.showGrid(sa.selected)},modifies:{gui:!0}},CPGridOptions:{action:function(){rb||=new u.default(Oa,ab);rb.show()},modifies:{gui:!0}},CPLinearInterpolation:{action:function(sa){ab.setInterpolation(sa.selected)},modifies:{gui:!0},isSupported:function(){return(0,C.isCanvasInterpolationSupported)()}},CPResetCanvasRotation:{action:function(){ab.resetRotation()},
modifies:{gui:!0}},CPAddLayer:{action:function(){ka.artwork.addLayer("layer")},modifies:{document:!0}},CPAddGroup:{action:function(){ka.artwork.addLayer("group")},modifies:{document:!0}},CPAddLayerMask:{action:function(){ka.artwork.addLayerMask()},modifies:{document:!0},allowed:"isAddLayerMaskAllowed"},CPApplyLayerMask:{action:function(){ka.artwork.applyLayerMask(!0)},modifies:{document:!0},allowed:"isApplyLayerMaskAllowed"},CPRemoveLayerMask:{action:function(){ka.artwork.removeLayerMask(!1)},modifies:{document:!0},
allowed:"isRemoveLayerMaskAllowed"},CPRemoveLayer:{action:function(){ka.artwork.removeLayer()||alert("Sorry, you can't remove the last remaining layer in the drawing.")},modifies:{document:!0},allowed:"isRemoveLayerAllowed"},CPCreateClippingMask:{action:function(){ka.artwork.createClippingMask()},modifies:{document:!0},allowed:"isCreateClippingMaskAllowed"},CPReleaseClippingMask:{action:function(){ka.artwork.releaseClippingMask()},modifies:{document:!0},allowed:"isReleaseClippingMaskAllowed"},CPRelocateLayer:{action:function(sa){ka.artwork.relocateLayer(sa.layer,
sa.toGroup,sa.toIndex)},modifies:{document:!0}},CPSetActiveLayer:{action:function(sa){sa.mask&&sa.layer.mask&&!sa.layer.maskVisible&&ka.artwork.setLayerMaskVisible(sa.layer,!0);ka.artwork.setActiveLayer(sa.layer,sa.mask);ka.artwork.performIdleTasks()},modifies:{document:!0}},CPToggleMaskView:{action:function(){var sa=ka.artwork.toggleMaskView();sa&&ka.emitEvent("maskViewOpened",[sa])},modifies:{gui:!0}},CPSetMaskVisible:{action:function(sa){ka.artwork.setLayerMaskVisible(sa.layer,sa.visible)},modifies:{layerProp:!0}},
CPSetLayerVisibility:{action:function(sa){ka.artwork.setLayerVisibility(sa.layer,sa.visible)},modifies:{layerProp:!0}},CPSetLayerName:{action:function(sa){ka.artwork.setLayerName(sa.layer,sa.name)},modifies:{layerProp:!0}},CPSetLayerBlendMode:{action:function(sa){ka.artwork.setLayerBlendMode(sa.blendMode)},modifies:{layerProp:!0}},CPSetLayerAlpha:{action:function(sa){ka.artwork.setLayerAlpha(sa.alpha)},modifies:{layerProp:!0}},CPSetLayerLockAlpha:{action:function(sa){ka.artwork.setLayerLockAlpha(sa.lock)},
modifies:{layerProp:!0}},CPPalColor:new K("color"),CPPalBrush:new K("brush"),CPPalLayers:new K("layers"),CPPalStroke:new K("stroke"),CPPalSwatches:new K("swatches"),CPPalTool:new K("tool"),CPPalMisc:new K("misc"),CPPalTextures:new K("textures"),CPTogglePalettes:{action:function(){ib.togglePalettes()},modifies:{gui:!0}},CPArrangePalettes:{action:function(){ib.arrangePalettes()},modifies:{gui:!0}},CPSave:{action:function(){ia()},isSupported:function(){return!1!==J.allowDownload},modifies:{document:!0}},
CPSend:{action:function(){ba()},isSupported:function(){return!!J.saveUrl},modifies:{document:!0}},CPPost:{action:function(){window.location=J.postUrl},isSupported:function(){return!!J.postUrl},modifies:{document:!0}},CPContinue:{action:function(){},isSupported:function(){return!!J.allowMultipleSends}},CPExit:{action:function(){window.location=J.exitUrl},isSupported:function(){return!!J.exitUrl},modifies:{}}};K.prototype.action=function(sa){ib.showPalette(this.palName,sa.selected)};K.prototype.modifies=
{gui:!0};S.prototype.action=function(){Q(this.toolNum)};S.prototype.modifies={mode:!0,tool:!0};S.prototype.requiresDrawable=!0;da.prototype.action=function(){ma(this.modeNum)};da.prototype.modifies={mode:!0};this.callToolListeners=function(){ra()};this.getArtwork=function(){return this.artwork};this.setCanvas=function(sa){ab=sa};this.setTransformInterpolation=function(sa){this.artwork.setTransformInterpolation(sa)};this.setCurColor=function(sa){switch(qa){case b.COLOR_MODE_RGB:T.isEqual(sa)||(T.copyFrom(sa),
this.artwork.setForegroundColor(sa.getRgb()),this.emitEvent("colorChange",[sa]));break;case b.COLOR_MODE_GREYSCALE:if(sa=sa.getValue(),Z!=sa){var Wa=A.default.greyToRGB(sa);this.artwork.setForegroundColor(Wa);Z=sa;this.emitEvent("colorChange",[new A.default(Wa)])}}};this.getCurColor=function(){switch(qa){case b.COLOR_MODE_RGB:return T.clone();case b.COLOR_MODE_GREYSCALE:return new A.default(A.default.greyToRGB(Z))}};this.setCurGradient=function(sa){Cb=sa.slice(0);this.emitEvent("gradientChange",[Cb])};
this.getCurGradient=function(){return Cb.slice(0)};this.setBrushSize=function(sa){Ha[za].size=Math.max(1,Math.min(200,sa));ra()};this.getBrushSize=function(){return Ha[za].size};this.setAlpha=function(sa){Ha[za].alpha=sa;ra()};this.getAlpha=function(){return Ha[za].alpha};this.getCurMode=function(){return Xa};this.getCurTool=function(){return za};this.getBrushInfo=function(){return Ha[za]};this.isActionSupported=function(sa){if(vb[sa]){var Wa=k(vb[sa].isSupported);return"function"==Wa?vb[sa].isSupported():
"undefined"==Wa?!0:vb[sa].isSupported}return!1};this.isActionAllowed=function(sa){return(sa=vb[sa])?"function"==typeof sa.allowed?sa.allowed():"string"==typeof sa.allowed?this.artwork[sa.allowed]():!sa.requiresDrawable||this.artwork.isActiveLayerDrawable():!1};this.showLayerNotification=function(sa,Wa,pb){this.emitEvent("layerNotification",[sa,Wa,pb])};this.actionPerformed=function(sa){if(null!=this.artwork&&null!=ab){var Wa=vb[sa.action];Wa&&(Xa==b.M_TRANSFORM&&(Wa.modifies.document||Wa.modifies.mode)&&
-1==["CPTransformAccept","CPTransformReject"].indexOf(sa.action)?"CPUndo"==sa.action?vb.CPTransformReject.action():"CPTransform"!=sa.action&&(Wa=new f.default(Oa,this),Wa.on("accept",this.actionPerformed.bind(this,sa)),Wa.on("reject",this.actionPerformed.bind(this,sa)),Wa.show()):Wa.action(sa))}};this.setSmallScreenMode=function(sa){Ia!==sa&&(Ia=sa,(0,d.default)(Oa).toggleClass("chickenpaint-small-screen",Ia),ka.emitEvent("smallScreen",[Ia]))};this.getSmallScreenMode=function(){return Ia};this.setFullScreen=
function(sa){na!==sa&&(na=sa,(0,d.default)("body").toggleClass("chickenpaint-full-screen",na),(0,d.default)(Oa).toggleClass("chickenpaint-full-screen",na),na&&0===(0,d.default)("head meta[name=viewport]").length?((0,d.default)("head").append('<meta name="viewport" content="width=device-width,user-scalable=no">'),setTimeout(function(){return ka.emitEvent("fullScreen",[na])},200)):ka.emitEvent("fullScreen",[na]))};this.isFullScreen=function(){return na};this.setToolbarStyle=function(sa){Da.set("toolbarStyle",
sa);Da.save()};this.getToolbarStyle=function(){return Da.get("toolbarStyle")};this.getResourcesRoot=function(){return J.resourcesRoot};v();Oa&&((0,C.isFlexboxSupported)()||(Oa.className+=" no-flexbox"),Oa.className+=" chickenpaint chickenpaint-lang-"+(0,G.currentLanguage)());J.resourcesRoot=J.resourcesRoot||"chickenpaint/";J.disableBootstrapAPI&&(0,d.default)(document).off(".data-api");this.setSmallScreenMode(430>(0,d.default)(window).width()||430>(0,d.default)(window).height());switch(J.fullScreenMode){case "force":this.setFullScreen(!0);
break;case "auto":this.setFullScreen(Ia)}Da.on("toolbarStyle",function(sa){return ya.emitEvent("toolbarStyleChange",[sa])});if(J.loadImageUrl||J.loadChibiFileUrl){var Ra=new m.default(J);new r.default(Oa,Ra,J.resourcesRoot);Ra.on("loadingComplete",function(sa){ka.artwork=sa.layers||sa.flat;pa(sa.swatches,J.rotation);if(J.onLoaded)J.onLoaded(this)});Ra.load()}else if(J.artwork?this.artwork=J.artwork:(this.artwork=new a.default(J.canvasWidth||800,J.canvasHeight||600),this.artwork.addBackgroundLayer()),
pa(),J.onLoaded)J.onLoaded(this)}Object.defineProperty(D,"__esModule",{value:!0});D.default=b;g("core-js/stable/symbol/index.js");g("core-js/stable/promise/index.js");g("core-js/stable/map/index.js");g("core-js/stable/set/index.js");g("core-js/stable/typed-array/slice.js");g("core-js/stable/typed-array/fill.js");g("core-js/stable/array/iterator.js");g("core-js/stable/array/fill.js");g("core-js/stable/string/ends-with.js");var d=y(g("jquery"));g("../lib/raf.js");var x=y(g("./engine/CPBrushInfo.js")),
a=y(g("./engine/CPArtwork.js")),m=y(g("./engine/CPResourceLoader.js")),q=y(g("./engine/CPResourceSaver.js")),r=y(g("./gui/CPSplashScreen.js")),h=y(g("./gui/CPMainGUI.js")),c=y(g("./gui/CPAboutDialog.js")),f=y(g("./gui/CPConfirmTransformDialog.js")),n=y(g("./gui/CPShortcutsDialog.js")),e=y(g("./gui/CPBoxBlurDialog.js")),p=y(g("./gui/CPTabletDialog.js")),u=y(g("./gui/CPGridDialog.js")),B=y(g("./gui/CPSendDialog.js")),C=g("./util/CPPolyfill.js"),A=y(g("./util/CPColor.js")),I=y(g("./util/CPWacomTablet.js")),
O=y(g("./util/CPRect.js")),z=y(g("wolfy87-eventemitter")),G=g("./languages/lang.js"),H=y(g("./gui/CPUserPreferences.js"));window.PointerEvent&&(window.hasNativePointerEvents=!0);g("pepjs");b.prototype=Object.create(z.default.prototype);b.prototype.constructor=b;b.UnsupportedBrowserException=function(J){this.message=J};b.UnsupportedBrowserException.prototype.toString=function(){var J="Sorry, your web browser does not support ChickenPaint.";return J=this.message?J+(" "+this.message):J+" Please try a modern browser like Chrome, Safari, Firefox, or Edge."};
b.M_DRAW=0;b.M_FLOODFILL=1;b.M_RECT_SELECTION=2;b.M_MOVE_TOOL=3;b.M_ROTATE_CANVAS=4;b.M_COLOR_PICKER=5;b.M_GRADIENTFILL=6;b.M_TRANSFORM=7;b.M_PAN_CANVAS=8;b.T_PENCIL=0;b.T_ERASER=1;b.T_PEN=2;b.T_SOFTERASER=3;b.T_AIRBRUSH=4;b.T_DODGE=5;b.T_BURN=6;b.T_WATER=7;b.T_BLUR=8;b.T_SMUDGE=9;b.T_BLENDER=10;b.T_MAX=11;b.COLOR_MODE_RGB=0;b.COLOR_MODE_GREYSCALE=1;L.exports=D.default},{"../lib/raf.js":69,"./engine/CPArtwork.js":3,"./engine/CPBrushInfo.js":8,"./engine/CPResourceLoader.js":20,"./engine/CPResourceSaver.js":21,
"./gui/CPAboutDialog.js":23,"./gui/CPBoxBlurDialog.js":24,"./gui/CPConfirmTransformDialog.js":32,"./gui/CPGridDialog.js":34,"./gui/CPMainGUI.js":36,"./gui/CPSendDialog.js":42,"./gui/CPShortcutsDialog.js":43,"./gui/CPSplashScreen.js":45,"./gui/CPTabletDialog.js":48,"./gui/CPUserPreferences.js":51,"./languages/lang.js":54,"./util/CPColor.js":58,"./util/CPPolyfill.js":60,"./util/CPRect.js":63,"./util/CPWacomTablet.js":66,"core-js/stable/array/fill.js":286,"core-js/stable/array/iterator.js":287,"core-js/stable/map/index.js":288,
"core-js/stable/promise/index.js":289,"core-js/stable/set/index.js":290,"core-js/stable/string/ends-with.js":291,"core-js/stable/symbol/index.js":292,"core-js/stable/typed-array/fill.js":293,"core-js/stable/typed-array/slice.js":294,jquery:296,pepjs:313,"wolfy87-eventemitter":314}],2:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.createCanvas=function(y,k){var v=document.createElement("canvas");v.width=y;v.height=k;return v};D.createImageData=function(y,k){return document.createElement("canvas").getContext("2d").createImageData(y,
k)}},{}],3:[function(g,L,D){function y(pa){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ya){return typeof ya}:function(ya){return ya&&"function"==typeof Symbol&&ya.constructor===Symbol&&ya!==Symbol.prototype?"symbol":typeof ya},y(pa)}function k(pa){return pa&&pa.__esModule?pa:{default:pa}}function v(){v="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(pa,ya,ka){var Oa;for(Oa=pa;!Object.prototype.hasOwnProperty.call(Oa,
ya)&&(Oa=r(Oa),null!==Oa););if(Oa)return Oa=Object.getOwnPropertyDescriptor(Oa,ya),Oa.get?Oa.get.call(3>arguments.length?pa:ka):Oa.value};return v.apply(this,arguments)}function E(pa,ya){if(!(pa instanceof ya))throw new TypeError("Cannot call a class as a function");}function b(pa,ya){for(var ka=0;ka<ya.length;ka++){var Oa=ya[ka];Oa.enumerable=Oa.enumerable||!1;Oa.configurable=!0;"value"in Oa&&(Oa.writable=!0);var ab=Object,ib=ab.defineProperty;a:{var T=Oa.key;if("object"===y(T)&&null!==T){var Z=
T[Symbol.toPrimitive];if(void 0!==Z){T=Z.call(T,"string");if("object"!==y(T))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}T=String(T)}}T="symbol"===y(T)?T:String(T);ib.call(ab,pa,T,Oa)}}function d(pa,ya,ka){ya&&b(pa.prototype,ya);ka&&b(pa,ka);Object.defineProperty(pa,"prototype",{writable:!1});return pa}function x(pa,ya){if("function"!==typeof ya&&null!==ya)throw new TypeError("Super expression must either be null or a function");pa.prototype=Object.create(ya&&ya.prototype,
{constructor:{value:pa,writable:!0,configurable:!0}});Object.defineProperty(pa,"prototype",{writable:!1});ya&&a(pa,ya)}function a(pa,ya){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ka,Oa){ka.__proto__=Oa;return ka};return a(pa,ya)}function m(pa){var ya=q();return function(){var ka=r(pa);if(ya){var Oa=r(this).constructor;ka=Reflect.construct(ka,arguments,Oa)}else ka=ka.apply(this,arguments);if(!ka||"object"!==y(ka)&&"function"!==typeof ka){if(void 0!==ka)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");ka=this}return ka}}function q(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(pa){return!1}}function r(pa){r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ya){return ya.__proto__||Object.getPrototypeOf(ya)};return r(pa)}
function h(pa,ya){var ka="undefined"!==typeof Symbol&&pa[Symbol.iterator]||pa["@@iterator"];if(!ka){if(Array.isArray(pa)||(ka=c(pa))||ya&&pa&&"number"===typeof pa.length){ka&&(pa=ka);var Oa=0;ya=function(){};return{s:ya,n:function(){return Oa>=pa.length?{done:!0}:{done:!1,value:pa[Oa++]}},e:function(Z){throw Z;},f:ya}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var ab=!0,ib=!1,T;return{s:function(){ka=
ka.call(pa)},n:function(){var Z=ka.next();ab=Z.done;return Z},e:function(Z){ib=!0;T=Z},f:function(){try{ab||null==ka.return||ka.return()}finally{if(ib)throw T;}}}}function c(pa,ya){if(pa){if("string"===typeof pa)return f(pa,ya);var ka=Object.prototype.toString.call(pa).slice(8,-1);"Object"===ka&&pa.constructor&&(ka=pa.constructor.name);if("Map"===ka||"Set"===ka)return Array.from(pa);if("Arguments"===ka||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ka))return f(pa,ya)}}function f(pa,ya){if(null==
ya||ya>pa.length)ya=pa.length;for(var ka=0,Oa=Array(ya);ka<ya;ka++)Oa[ka]=pa[ka];return Oa}function n(pa){return pa.substring(0,1).toUpperCase()+pa.substring(1)}function e(pa,ya){return pa+ya}function p(pa){return pa?pa.width*pa.height*4:0}function u(pa,ya){function ka(V){kc=!1;if(0<tc.size||0<sc.size)V?Z():dc||setTimeout(Z,1E3)}function Oa(){db.emitEvent("changeSelection",[])}function ab(V){db.emitEvent("updateRegion",[V])}function ib(){db.emitEvent("changeStructure");qb.resetTree();Ha();ab(db.getBounds())}
function T(V,ja,Ea){db.emitEvent("changeLayer",[V]);Ea||(qb.layerPropertyChanged(V,ja),ab(db.getBounds()))}function Z(){var V=h(tc),ja;try{for(V.s();!(ja=V.n()).done;){var Ea=ja.value;Ea.rebuildImageThumbnail();db.emitEvent("changeLayerImageThumb",[Ea])}}catch(Ja){V.e(Ja)}finally{V.f()}V=h(sc);var ca;try{for(V.s();!(ca=V.n()).done;){var xa=ca.value;xa.rebuildMaskThumbnail();db.emitEvent("changeLayerMaskThumb",[xa])}}catch(Ja){V.e(Ja)}finally{V.f()}tc.clear();dc&&(clearTimeout(dc),dc=null)}function qa(V,
ja,Ea,ca){Array.isArray(V)||(V=[V]);V.forEach(function(Sa){return qb.invalidateLayerRect(Sa,ja)});var xa=!1;if(Ea){Ob.union(ja);Ea=h(V);var Ja;try{for(Ea.s();!(Ja=Ea.n()).done;){var Aa=Ja.value;Aa instanceof B.default&&(tc.add(Aa),xa=!0)}}catch(Sa){Ea.e(Sa)}finally{Ea.f()}}ca&&(mb.union(ja),V.forEach(function(Sa){sc.add(Sa);fc&&fc.layer==Sa&&fc.invalidateRect(ja)}),xa=!0);xa&&(dc&&(clearTimeout(dc),dc=null),kc||(dc=setTimeout(Z,1E3)));ab(ja)}function za(V,ja){qa(V,ja,!tb,tb)}function Xa(){return tb?
Qa.mask:Qa.image}function yb(){if(!Pb.isEmpty()){if(tb){var V=Qa.mask;nb.brushMode==J.default.BRUSH_MODE_ERASE?Qb[J.default.BRUSH_MODE_PAINT].mergeOntoMask(V,P,4278190080):Qb[nb.brushMode].mergeOntoMask(V,P,ec&255)}else{V=Qa.image;var ja=Qa.getLockAlpha();nb.brushMode==J.default.BRUSH_MODE_ERASE&&ja?Qb[J.default.BRUSH_MODE_PAINT].mergeOntoImage(V,wb,16777215):Qb[nb.brushMode].mergeOntoImage(V,wb,ec);ja&&V.copyAlphaFrom(wb,Pb)}Pb.makeEmpty()}}function Cb(){Qa instanceof B.default&&!Ob.isEmpty()&&(wb.copyBitmapRect(Qa.image,
Ob.left,Ob.top,Ob),Ob.makeEmpty())}function Ia(){Qa.mask&&!mb.isEmpty()&&(P.copyBitmapRect(Qa.mask,mb.left,mb.top,mb),mb.makeEmpty())}function na(){tb?Ia():Cb()}function Ha(){var V=db.getBounds();Ob.set(V);mb.set(V)}function Da(V){db.setHasUnsavedChanges(!0);0<Zb.length&&(Zb=[]);0!==Mb.length&&Mb[Mb.length-1].merge(V)?Mb[Mb.length-1].noChange()&&Mb.pop():(30<=Mb.length&&Mb.shift(),db.compactUndo(),Mb.push(V))}function bb(V,ja){V||ja||(V=!tb,ja=tb);var Ea=Ib.clone(),ca=V?wb.copyRectXOR(Qa.image,Ea):
null,xa=ja?P.copyRectXOR(Qa.mask,Ea):null;this.layer=Qa;Ib.makeEmpty();this.redo=this.undo=function(){ca&&this.layer.image.setRectXOR(ca,Ea);xa&&this.layer.mask.setRectXOR(xa,Ea);qa(this.layer,Ea,null!=ca,null!=xa)};this.getMemoryUsed=function(Ja,Aa){return(ca?ca.length:0)+(xa?xa.length:0)}}function rb(V){var ja=V.maskLinked,Ea=V.maskVisible;this.undo=function(){V.setMask(null);V.maskLinked=ja;V.maskVisible=Ea;ib();db.setActiveLayer(V,!1)};this.redo=function(){var ca=new I.default(db.width,db.height,
8);ca.clearAll(255);V.maskLinked=!0;V.maskVisible=!0;V.setMask(ca);ib();db.setActiveLayer(V,!0)};this.redo()}function vb(V,ja){var Ea=V.mask,ca=!1;var xa=ja&&V instanceof B.default?V.image.clone():null;ca=Qa==V&&tb;this.undo=function(){V.setMask(Ea);xa&&(V.image.copyPixelsFrom(xa),qa(V,V.image.getBounds(),!0,!1));ca&&db.setActiveLayer(V,!0);ib()};this.redo=function(){xa&&(A.default.multiplyAlphaByMask(V.image,100,V.mask),qa(V,db.getBounds(),!0,!1));ca&&db.setActiveLayer(V,!1);V.setMask(null);ib()};
this.redo()}function Ra(V,ja,Ea){var ca=Ea instanceof B.default&&Ea.clip,xa=V.layers[ja],Ja=xa instanceof B.default&&xa.clip,Aa=tb;this.undo=function(){V.removeLayer(Ea);var Sa=V.layers[ja-1]||V.layers[0]||V;xa instanceof B.default&&(xa.clip=Ja);Ea instanceof B.default&&(Ea.clip=ca);ib();db.setActiveLayer(Sa,Aa)};this.redo=function(){V.insertLayer(ja,Ea);Ja&&(Ea instanceof B.default?Ea.clip=!0:xa.clip=!1);ib();db.setActiveLayer(Ea,!1)};this.redo()}function sa(V){var ja=V.clone(),Ea=tb;this.undo=function(){ja.parent.removeLayer(ja);
ib();db.setActiveLayer(V,Ea)};this.redo=function(){var ca=V.name;ca.endsWith(" Copy")||(ca+=" Copy");ja.name=ca;V.parent.insertLayer(V.parent.indexOf(V)+1,ja);ib();db.setActiveLayer(ja,!1)};this.redo()}function Wa(V){var ja=V.parent,Ea=ja.indexOf(V),ca=tb,xa=0;if(V instanceof B.default&&!V.clip)for(var Ja=Ea+1;Ja<ja.layers.length;Ja++)if(ja.layers[Ja]instanceof B.default&&ja.layers[Ja].clip)xa++;else break;this.undo=function(){ja.insertLayer(Ea,V);for(var Aa=0;Aa<xa;Aa++)ja.layers[Aa+Ea+1].clip=!0;
ib();db.setActiveLayer(V,ca)};this.redo=function(){for(var Aa=0;Aa<xa;Aa++)ja.layers[Aa+Ea+1].clip=!1;ja.removeLayerAtIndex(Ea);Aa=0==ja.layers.length?V.parent:ja.layers[Math.max(Ea-1,0)];ib();db.setActiveLayer(Aa,!1)};this.getMemoryUsed=function(Aa,Sa){return Aa?0:V.getMemoryUsed()};this.redo()}function pb(V){var ja=V.parent.indexOf(V),Ea=tb,ca=new B.default(db.width,db.height,"");this.undo=function(){V.parent.setLayerAtIndex(ja,V);ib();db.setActiveLayer(V,Ea)};this.redo=function(){V.parent.setLayerAtIndex(ja,
ca);ib();db.setActiveLayer(ca,!1)};this.getMemoryUsed=function(Ja,Aa){return Ja?0:V.getMemoryUsed()};var xa=new O.default(V,db.width,db.height,!1);xa.buildTree();xa=xa.blendTree();ca.name=V.name;ca.alpha=xa.alpha;ca.image=xa.image;ca.blendMode=xa.blendMode;ca.mask=xa.mask;ca.blendMode==A.default.LM_PASSTHROUGH&&(ca.blendMode=A.default.LM_NORMAL);this.redo()}function Ta(V){var ja=V.parent,Ea=ja.layers[ja.indexOf(V)-1],ca=new B.default(db.width,db.height,""),xa=tb;this.undo=function(){var Ja=ja.indexOf(ca);
ja.removeLayerAtIndex(Ja);ja.insertLayer(Ja,V);ja.insertLayer(Ja,Ea);ib();db.setActiveLayer(V,xa)};this.redo=function(){ca.copyFrom(Ea);0<V.getEffectiveAlpha()&&(ca.mask?(A.default.multiplyAlphaByMask(ca.image,ca.alpha,ca.mask),ca.mask=null):A.default.multiplyAlphaBy(ca.image,ca.alpha),ca.alpha=100,A.default.fuseImageOntoImage(ca.image,!0,V.image,V.alpha,V.blendMode,V.getBounds(),V.mask));var Ja=ja.indexOf(Ea);ja.removeLayerAtIndex(Ja);ja.removeLayerAtIndex(Ja);ja.insertLayer(Ja,ca);ib();db.setActiveLayer(ca,
!1)};this.getMemoryUsed=function(Ja,Aa){return Ja?0:V.getMemoryUsed()+ca.getMemoryUsed()};this.redo()}function ua(){var V=db.getActiveLayer(),ja=Ka.layers.slice(0),Ea=new B.default(db.width,db.height,"");this.undo=function(){Ka.layers=ja.slice(0);ib();db.setActiveLayer(V,!1)};this.redo=function(){var ca=db.fusionLayers();Ea.copyImageFrom(ca);Ka.clearLayers();Ea.setName(db.getDefaultLayerName(!1));Ka.addLayer(Ea);ib();db.setActiveLayer(Ea,!1)};this.getMemoryUsed=function(ca,xa){return ja.map(function(Ja){return Ja.getMemoryUsed()}).reduce(e,
0)};this.redo()}function Fa(V,ja,Ea){var ca=V.parent,xa=V.parent.indexOf(V),Ja=tb,Aa=ca.layers[ca.indexOf(V)+1],Sa=ja.layers[Ea],Ya=V instanceof B.default&&V.clip,sb=Ya?V.getClippingBase():!1,ub=0,ic=0;if(V instanceof B.default&&!V.clip)for(var Hb=xa+1;Hb<ca.layers.length;Hb++)if(ca.layers[Hb]instanceof B.default&&ca.layers[Hb].clip)ub++;else break;else if(V instanceof C.default)for(Hb=Ea;Hb<ja.layers.length;Hb++)if(ja.layers[Hb]instanceof B.default&&ja.layers[Hb].clip)ic++;else break;this.undo=function(){V.parent.removeLayer(V);
var Ub=Aa?ca.indexOf(Aa):ca.layers.length;ca.insertLayer(Ub,V);V instanceof B.default&&(V.clip=Ya);for(Ub=0;Ub<ub;Ub++)ca.layers[Ub+xa+1].clip=!0;for(Ub=0;Ub<ic;Ub++)ja.layers[Ub+Ea].clip=!0;ib();db.setActiveLayer(V,Ja)};this.redo=function(){for(var Ub=0;Ub<ub;Ub++)ca.layers[Ub+xa+1].clip=!1;V.parent.removeLayer(V);Ub=Sa?ja.indexOf(Sa):ja.layers.length;ja.insertLayer(Ub,V);for(var nc=0;nc<ic;nc++)ja.layers[nc+Ub+1].clip=!1;V instanceof B.default&&(V.clip&&V.getClippingBase()!=sb&&(V.clip=!1),Sa instanceof
B.default&&Sa.clip&&(V.clip=!0));for(nc=0;nc<ic;nc++)ja.layers[nc+Ub+1].clip=!1;ib();db.setActiveLayer(V,!1)};this.redo()}function La(V,ja){var Ea=n(V),ca=function(xa,Ja){Array.isArray(xa)||(xa=[xa]);this.layers=xa;this.from=this.layers.map(function(Aa){return Aa["get"+Ea]()});this.to=Ja;this.redo()};ca.prototype=Object.create(K.default.prototype);ca.prototype.constructor=ca;ca.prototype.undo=function(){var xa=this;this.layers.forEach(function(Ja,Aa){return Ja["set"+Ea](xa.from[Aa])});this.layers.forEach(function(Ja){return T(Ja,
V,!ja)})};ca.prototype.redo=function(){var xa=this;this.layers.forEach(function(Ja){return Ja["set"+Ea](xa.to)});this.layers.forEach(function(Ja){return T(Ja,V,!ja)})};ca.prototype.merge=function(xa){var Ja;if(Ja=xa instanceof ca)a:{Ja=this.layers;var Aa=xa.layers;if(Ja.length!=Aa.length)Ja=!1;else{for(var Sa=0;Sa<Ja.length;Sa++)if(Ja[Sa]!=Aa[Sa]){Ja=!1;break a}Ja=!0}}return Ja?(this.to=xa.to,!0):!1};ca.prototype.noChange=function(){for(var xa=0;xa<this.from.length;xa++)if(this.from[xa]!=this.to)return!1;
return!0};return ca}function Ma(V,ja){V=V.clone();ja=ja.clone();this.undo=function(){db.setSelection(V);ab(db.getBounds())};this.redo=function(){db.setSelection(ja);ab(db.getBounds())};this.noChange=function(){return V.equals(ja)}}function Ca(V,ja,Ea){var ca=ja?V.mask:V.image,xa=ca.cloneRect(Ea);Ea=Ea.clone();this.undo=function(){ca.copyBitmapRect(xa,Ea.left,Ea.top,xa.getBounds());db.setActiveLayer(V,ja);db.setSelection(Ea);qa(V,Ea,!ja,ja)};this.redo=function(){ja?ca.clearRect(Ea,0):ca.clearRect(Ea,
16777215);lc=new S.default(xa,Ea.left,Ea.top);db.setActiveLayer(V,ja);db.emptySelection();qa(V,Ea,!ja,ja)};this.getMemoryUsed=function(Ja,Aa){return xa==Aa?0:xa.getMemorySize()};this.redo()}function $a(V){var ja=db.getSelection(),Ea=tb,ca=new B.default(db.width,db.height,db.getDefaultLayerName(!1)),xa=Qa,Ja=xa.parent;this.undo=function(){Ja.removeLayer(ca);db.setSelection(ja);ib();db.setActiveLayer(xa,Ea)};this.redo=function(){var Aa=Ja.indexOf(xa),Sa=V.bmp.getBounds();Ja.insertLayer(Aa+1,ca);if(Sa.isInside(db.getBounds())){Aa=
V.x;var Ya=V.y}else Aa=(db.width-V.bmp.width)/2|0,Ya=(db.height-V.bmp.height)/2|0;if(V.bmp instanceof I.default){var sb=new G.default(V.bmp.width,V.bmp.height);sb.copyPixelsFromGreyscale(V.bmp);ca.image.copyBitmapRect(sb,Aa,Ya,Sa)}else ca.image.copyBitmapRect(V.bmp,Aa,Ya,Sa);db.emptySelection();ib();db.setActiveLayer(ca,!1)};this.getMemoryUsed=function(Aa,Sa){return V.bmp==Sa?0:V.bmp.getMemorySize()};this.redo()}pa|=0;ya|=0;var Ka=new C.default("Root",A.default.LM_NORMAL),qb=new O.default(Ka,pa,ya,
!0),wb=new G.default(pa,ya),Ob=new Y.default(0,0,pa,ya),P=new I.default(pa,ya,8),mb=new Y.default(0,0,pa,ya),pc=new I.default(pa,ya,32),Pb=new Y.default(0,0,0,0),mc=new H.default,db=this,Qb=[],Qa=Ka,tb=!1,fc=null,Ib=new Y.default(0,0,0,0),qc=!1,rc=new Y.default(0,0,0,0),yc=null,gc=new ra.default,Db=null,lc=null,Mb=[],Zb=[],nb=null,Vb=0,Sb=0,lb=0,Wb=!1,kc=!1,sc=new Set,tc=new Set,dc=null,ec=0,vc="smooth";this.getLayersRoot=function(){return Ka};this.getSelectionAutoSelect=function(){return rc.isEmpty()?
this.getBounds():this.getSelection()};this.getSelection=function(){return rc.clone()};this.setHasUnsavedChanges=function(V){V!=qc&&(qc=V,this.emitEvent("unsavedChanges",[V]))};this.getHasUnsavedChanges=function(){return qc};this.isAddLayerMaskAllowed=function(){return!Qa.mask};this.addLayerMask=function(){this.isAddLayerMaskAllowed()&&Da(new rb(Qa))};this.isRemoveLayerMaskAllowed=function(){return null!==Qa.mask};this.removeLayerMask=function(){this.isRemoveLayerMaskAllowed()&&Da(new vb(Qa,!1))};
this.isApplyLayerMaskAllowed=function(){return null!==Qa.mask&&Qa instanceof B.default};this.applyLayerMask=function(V){this.isApplyLayerMaskAllowed()&&Da(new vb(Qa,!0))};this.addLayer=function(V){if(Qa instanceof C.default&&Qa.expanded){var ja=Qa;var Ea=Qa.layers.length}else ja=Qa.parent,Ea=ja.layers.indexOf(Qa)+1;switch(V){case "group":for(;ja.layers[Ea]instanceof B.default&&ja.layers[Ea].clip;)Ea++;V=new C.default(this.getDefaultLayerName(!0),A.default.LM_PASSTHROUGH);break;default:V=new B.default(this.width,
this.height,this.getDefaultLayerName(!1)),V.image.clearAll(16777215)}Da(new Ra(ja,Ea,V));return V};this.addLayerObject=function(V,ja){V.addLayer(ja);V==Ka&&1==Ka.layers.length&&(Qa=ja);ib()};this.addLayerGroupObject=function(V,ja,Ea){for(var ca=[],xa=0;xa<Ea;xa++)ca.unshift(V.layers.pop());ca.forEach(function(Ja){return ja.addLayer(Ja)});this.addLayerObject(V,ja)};this.isRemoveLayerAllowed=function(){return Qa instanceof B.default?Ka.getLinearizedLayerList(!1).some(function(V){return V instanceof
B.default&&V!=Qa}):Qa instanceof C.default?Ka.getLinearizedLayerList(!1).some(function(V){return V instanceof B.default&&!V.hasAncestor(Qa)}):!1};this.removeLayer=function(){return this.isRemoveLayerAllowed()?(Da(new Wa(Qa)),!0):!1};this.duplicateLayer=function(){Da(new sa(Qa))};this.isMergeDownAllowed=function(){var V=Qa.parent.indexOf(Qa);return 0<V&&Qa instanceof B.default&&Qa.parent.layers[V-1]instanceof B.default};this.mergeDown=function(){this.isMergeDownAllowed()&&Da(new Ta(Qa))};this.isMergeGroupAllowed=
function(){return Qa instanceof C.default&&0<Qa.getEffectiveAlpha()};this.mergeGroup=function(){this.isMergeGroupAllowed()&&Da(new pb(Qa))};this.isMergeAllLayersAllowed=function(){return 1<Ka.getLinearizedLayerList(!1).length};this.mergeAllLayers=function(){this.isMergeAllLayersAllowed()&&Da(new ua)};this.relocateLayer=function(V,ja,Ea){V&&ja&&V!=ja&&!ja.hasAncestor(V)&&Da(new Fa(V,ja,Ea))};this.setLayerVisibility=function(V,ja){var Ea=[];if(V.ancestorsAreVisible())V.visible!=ja&&Da(new Ac(V,ja));
else{for(;null!=V;V=V.parent)V.visible||Ea.push(V);Da(new Ac(Ea,!0))}};this.expandLayerGroup=function(V,ja){V.expanded!=ja&&(V.expanded=ja,!ja&&Qa.hasAncestor(V)&&this.setActiveLayer(V,!1),T(V,"expanded",!0))};this.setLayerAlpha=function(V){Qa.getAlpha()!=V&&Da(new zc(Qa,V))};this.setLayerMaskLinked=function(V){Qa.maskLinked!=V&&Da(new Pa(Qa,V))};this.setLayerMaskVisible=function(V,ja){V.maskVisible!=ja&&Da(new wc(V,ja))};this.setLayerBlendMode=function(V){Qa.getBlendMode()!=V&&(V!=A.default.LM_PASSTHROUGH||
Qa instanceof C.default)&&Da(new Mc(Qa,V))};this.setLayerName=function(V,ja){V.getName()!=ja&&Da(new aa(V,ja))};this.paintDab=function(V,ja,Ea){nb.applyPressure(Ea);0<nb.scattering&&(V+=gc.nextGaussian()*nb.curScattering/4,ja+=gc.nextGaussian()*nb.curScattering/4);Ea=Qb[nb.brushMode];V=mc.getDab(V,ja,nb);ja=new Y.default(0,0,V.width,V.height);var ca=new Y.default(0,0,V.width,V.height);ca.translate(V.x,V.y);db.getBounds().clipSourceDest(ja,ca);if(!ca.isEmpty()){Ib.union(ca);var xa=tb?Qa.mask:Qa.image;
Ea.paintDab(xa,ca,Wb&&!tb?yc:xa,nb,ja,V,ec);!tb&&Ea.noMergePhase&&Qa.getLockAlpha()&&xa.copyAlphaFrom(wb,ca);Ea.wantsOutputAsInput&&(yb(),Wb&&!tb&&db.fusionLayers());za(Qa,ca)}};this.getDefaultLayerName=function(V){var ja=V?"Group ":"Layer ";V=V?/^Group [0-9]+$/:/^Layer [0-9]+$/;for(var Ea=0,ca=Ka.getLinearizedLayerList(!1),xa=0;xa<ca.length;xa++){var Ja=ca[xa];V.test(Ja.name)&&(Ea=Math.max(Ea,parseInt(Ja.name.substring(ja.length),10)))}return ja+(Ea+1)};this.addBackgroundLayer=function(){var V=new B.default(db.width,
db.height,this.getDefaultLayerName(!1));V.image.clearAll(4294967295);this.addLayerObject(this.getLayersRoot(),V)};this.fusionLayers=function(){yb();qb.buildTree();return yc=qb.blendTree().image};this.upgradeMultiplyLayers=function(V){for(var ja=this.getLayersRoot().getLinearizedLayerList(!1,[]),Ea=-1,ca=0;ca<ja.length;ca++){var xa=ja[ca];if(!(xa instanceof B.default)||xa.mask||xa.blendMode>A.default.LM_LAST_CHIBIPAINT)throw Error("Bad layer type during multiply upgrade");xa.blendMode===A.default.LM_MULTIPLY&&
(Ea=ca)}if(-1!==Ea){ca=new G.default(this.width,this.height);var Ja=xa=!0,Aa=this.getBounds();ca.clearAll(Aa,16777215);for(var Sa=0;Sa<=Ea;Sa++){var Ya=ja[Sa];Ja||(xa=xa&&ca.hasAlphaInRect(Aa));if(Ya.blendMode===A.default.LM_MULTIPLY)switch(V){case "bake":!xa&&0<Ya.getEffectiveAlpha()&&(100===Ya.alpha?A.default.upgradeMultiplyOfOpaqueLayer(ca,Ya.image,100,Aa):A.default.upgradeMultiplyOfTransparentLayer(ca,Ya.image,Ya.alpha,Aa),Ya.setBlendMode(A.default.LM_MULTIPLY2));break;default:xa&&Ya.setBlendMode(A.default.LM_MULTIPLY2)}0<
Ya.getEffectiveAlpha()&&(Ja=!1,A.default.fuseImageOntoImage(ca,xa,Ya.image,Ya.alpha,Ya.blendMode,Aa,null))}}};this.isCreateClippingMaskAllowed=function(){var V=Qa.parent.indexOf(Qa);V=Qa.parent.layers[V-1];return Qa instanceof B.default&&!Qa.clip&&V instanceof B.default};this.createClippingMask=function(){this.isCreateClippingMaskAllowed()&&Da(new Dc(Qa,!0))};this.isReleaseClippingMaskAllowed=function(){return Qa instanceof B.default&&Qa.clip};this.releaseClippingMask=function(){this.isReleaseClippingMaskAllowed()&&
Da(new Dc(Qa,!1))};this.setActiveLayer=function(V,ja){if(V){ja=V.mask&&ja;var Ea=ja!=tb;if(Qa!=V||Ea){var ca=Qa;Qa=V;tb=ja;Ha();this.emitEvent("changeActiveLayer",[ca,V,tb]);Ea&&this.emitEvent("editModeChanged",[tb?u.EDITING_MODE_MASK:u.EDITING_MODE_IMAGE]);fc&&fc.layer==ca&&(ja?fc.setLayer(V):this.closeMaskView())}}};this.closeMaskView=function(){fc.close();fc=null};this.toggleMaskView=function(){null!=fc&&fc.isOpen()?this.closeMaskView():fc=Qa.mask?new z.default(Qa,yb):null;return fc};this.selectTopmostVisibleLayer=
function(){for(var V=Ka.getLinearizedLayerList(!1),ja=V.length-1;0<=ja;ja--)if(V[ja]instanceof B.default&&0<V[ja].getEffectiveAlpha()){this.setActiveLayer(V[ja],!1);return}for(ja=V.length-1;0<=ja;ja--)if(V[ja]instanceof B.default){this.setActiveLayer(V[ja],!1);return}this.setActiveLayer(V[V.length-1],!1)};this.getActiveLayer=function(){return Qa};this.isEditingMask=function(){return tb};this.isActiveLayerDrawable=function(){return tb&&Qa.mask||!tb&&Qa instanceof B.default};this.getUndoMemoryUsed=
function(){for(var V=0,ja=0,Ea=Zb;ja<Ea.length;ja++)V+=Ea[ja].getMemoryUsed(!0,null);ja=0;for(Ea=Mb;ja<Ea.length;ja++)V+=Ea[ja].getMemoryUsed(!1,null);return V};this.isUndoAllowed=function(){return 0<Mb.length};this.isRedoAllowed=function(){return 0<Zb.length};this.undo=function(){if(this.isUndoAllowed()){this.setHasUnsavedChanges(!0);var V=Mb.pop();V.undo();Zb.push(V)}};this.redo=function(){if(this.isRedoAllowed()){this.setHasUnsavedChanges(!0);var V=Zb.pop();V.redo();Mb.push(V)}};this.performIdleTasks=
function(){na();yb();qb.buildTree()};this.compactUndo=function(){0<Mb.length&&Mb[Mb.length-1].compact()};this.clearHistory=function(){Mb=[];Zb=[]};this.colorPicker=function(V,ja){return tb&&Qa.mask?da.default.greyToRGB(Qa.mask.getPixel(~~V,~~ja)):yc.getPixel(~~V,~~ja)&16777215};this.setSelection=function(V){rc.set(V);rc.roundNearest();rc.clipTo(this.getBounds())};this.emptySelection=function(){rc.makeEmpty()};this.floodFill=function(V,ja){var Ea=Xa();Ea&&(na(),Ib=this.getBounds(),Ea.floodFill(~~V,
~~ja,ec|4278190080),Da(new bb),za(Qa,this.getBounds()))};this.gradientFill=function(V,ja,Ea,ca,xa){var Ja=this.getSelectionAutoSelect(),Aa=Xa();Aa&&(na(),Ib=Ja.clone(),Aa.gradient(Ja,V,ja,Ea,ca,xa,!1),this.getLayerLockAlpha()&&Aa instanceof G.default&&Aa.copyAlphaFrom(wb,Ja),Da(new bb),za(Qa,Ja))};this.fill=function(V){var ja=this.getSelectionAutoSelect(),Ea=Xa();Ea&&(na(),Ib=ja.clone(),Ea.clearRect(ja,V),Da(new bb),za(Qa,ja))};this.clear=function(){tb?this.fill(0):this.fill(16777215)};this.flip=
function(V){var ja=this.getSelection(),Ea=ja.isEmpty(),ca=Ea&&Qa instanceof B.default&&Qa.mask&&Qa.maskLinked,xa=(!tb||ca)&&Qa instanceof B.default;ca=(tb||ca)&&Qa.mask;V=V?"copyRegionHFlip":"copyRegionVFlip";if(xa||ca)Ea&&(ja=this.getBounds()),Ib=ja.clone(),xa&&(Cb(),Qa.image[V](ja,wb)),ca&&(Ia(),Qa.mask[V](ja,P)),Da(new bb(xa,ca)),qa(Qa,ja,xa,ca)};this.hFlip=function(){this.flip(!0)};this.vFlip=function(){this.flip(!1)};this.monochromaticNoise=function(){var V=this.getSelectionAutoSelect(),ja=Xa();
ja&&(na(),Ib=V.clone(),ja.fillWithNoise(V),Da(new bb),za(Qa,V))};this.isColorNoiseAllowed=function(){return!this.isEditingMask()&&this.isActiveLayerDrawable()};this.colorNoise=function(){if(this.isColorNoiseAllowed()){var V=this.getSelectionAutoSelect();na();Ib=V.clone();Qa.image.fillWithColorNoise(V);Da(new bb(!0,!1));qa(Qa,V,!0,!1)}};this.invert=function(){var V=this.getSelectionAutoSelect(),ja=Xa();ja&&(na(),Ib=V.clone(),ja.invert(V),Da(new bb),za(Qa,V))};this.boxBlur=function(V,ja,Ea){var ca=
this.getSelectionAutoSelect(),xa=Xa();if(xa){na();Ib=ca.clone();for(var Ja=0;Ja<Ea;Ja++)xa.boxBlur(ca,V,ja);Da(new bb);za(Qa,ca)}};this.rectangleSelection=function(V){V=V.clone();V.clipTo(this.getBounds());Da(new Ma(this.getSelection(),V));this.setSelection(V)};this.move=function(V,ja,Ea){V|=0;ja|=0;if(0!=V||0!=ja){var ca=0<Mb.length?Mb[Mb.length-1]:null;!Ea&&ca instanceof fb&&ca.layer==this.getActiveLayer()?(ca.amend(V,ja),Zb=[],this.setHasUnsavedChanges(!0)):(V=new fb(V,ja,Ea),Da(V),V.redo())}};
this.setTransformInterpolation=function(V){vc=V;Db instanceof kb&&Db.setInterpolation(V)};this.transformAffineAbort=function(){Db instanceof kb&&(Db.undo(),Db=null,ka(!0))};this.transformAffineBegin=function(){if(Db instanceof kb)return{transform:Db.getTransform(),rect:Db.getInitialTransformRect(),selection:Db.getInitialSelectionRect()};var V=new ma.default;var ja=new kb(V,vc);if(ja.getInitialTransformRect().isEmpty())return null;Db=ja;kc=!0;return{transform:V,rect:ja.getInitialTransformRect(),selection:ja.getInitialSelectionRect()}};
this.transformAffineFinish=function(){Db instanceof kb&&(Da(Db),Db=null,ka(!0))};this.transformAffineAmend=function(V){Db instanceof kb&&Db.amend(V)};this.isCopySelectionAllowed=this.isCutSelectionAllowed=function(){return!this.getSelection().isEmpty()&&null!==Xa()};this.cutSelection=function(){this.isCutSelectionAllowed()&&Da(new Ca(Qa,tb,this.getSelection()))};this.copySelection=function(){if(this.isCopySelectionAllowed()){var V=db.getSelection(),ja=Xa();lc=new S.default(ja.cloneRect(V),V.left,
V.top)}};this.isCopySelectionMergedAllowed=function(){return!this.getSelection().isEmpty()};this.copySelectionMerged=function(){if(this.isCopySelectionMergedAllowed()){var V=db.getSelection();lc=new S.default(this.fusionLayers().cloneRect(V),V.left,V.top)}};this.isPasteClipboardAllowed=function(){return!this.isClipboardEmpty()};this.pasteClipboard=function(){this.isPasteClipboardAllowed()&&Da(new $a(lc))};this.getClipboard=function(){return lc};this.setClipboard=function(V){lc=V};this.isClipboardEmpty=
function(){return null==lc};this.setSampleAllLayers=function(V){Wb=V};this.getLayerLockAlpha=function(){return this.getActiveLayer().getLockAlpha()};this.setLayerLockAlpha=function(V){Qa.getLockAlpha()!=V&&Da(new Ba(Qa,V))};this.setForegroundColor=function(V){ec=V};this.setBrush=function(V){nb=V};this.setBrushTexture=function(V){mc.setTexture(V)};this.beginStroke=function(V,ja,Ea){if(null===nb||!this.isActiveLayerDrawable())return!1;na();Ib.makeEmpty();pc.clearAll(0);Pb.makeEmpty();Vb=V;Sb=ja;lb=
Ea;kc=!0;Qb[nb.brushMode].beginStroke();this.paintDab(V,ja,Ea);return!0};this.continueStroke=function(V,ja,Ea){if(null!=nb){var ca=Math.sqrt((Vb-V)*(Vb-V)+(Sb-ja)*(Sb-ja)),xa=Math.max(nb.minSpacing,nb.curSize*nb.spacing);if(ca>xa){var Ja=Vb,Aa=Sb,Sa=lb;for(xa=ca=(xa-.001)/ca;1>=xa;xa+=ca)Ja=xa*V+(1-xa)*Vb,Aa=xa*ja+(1-xa)*Sb,Sa=xa*Ea+(1-xa)*lb,this.paintDab(Ja,Aa,Sa);Vb=Ja;Sb=Aa;lb=Sa}}};this.endStroke=function(){null!=nb&&(yb(),Qb[nb.brushMode].endStroke(),Ib.clipTo(this.getBounds()),Ib.isEmpty()||
(Da(new bb),na()),ka(!1))};this.hasAlpha=function(){return yc.hasAlpha()};this.getFlatPNG=function(V){this.fusionLayers();return yc.getAsPNG(V)};this.getFlatPNGBuffer=function(V){this.fusionLayers();return yc.getAsPNGBuffer(V)};this.isSimpleDrawing=function(){return 1==Ka.layers.length&&Ka.layers[0]instanceof B.default&&!Ka.layers[0].mask&&100==Ka.layers[0].getEffectiveAlpha()};bb.prototype=Object.create(K.default.prototype);bb.prototype.constructor=bb;rb.prototype=Object.create(K.default.prototype);
rb.prototype.constructor=rb;vb.prototype=Object.create(K.default.prototype);vb.prototype.constructor=vb;Ra.prototype=Object.create(K.default.prototype);Ra.prototype.constructor=Ra;sa.prototype=Object.create(K.default.prototype);sa.prototype.constructor=sa;Wa.prototype=Object.create(K.default.prototype);Wa.prototype.constructor=Wa;pb.prototype=Object.create(K.default.prototype);pb.prototype.constructor=pb;Ta.prototype=Object.create(K.default.prototype);Ta.prototype.constructor=Ta;ua.prototype=Object.create(K.default.prototype);
ua.prototype.constructor=ua;Fa.prototype=Object.create(K.default.prototype);Fa.prototype.constructor=Fa;var zc=La("alpha",!0),Mc=La("blendMode",!0),Ac=La("visible",!0),Dc=La("clip",!0),wc=La("maskVisible",!0),aa=La("name",!1),Ba=La("lockAlpha",!1),Pa=La("maskLinked",!1);Ma.prototype=Object.create(K.default.prototype);Ma.prototype.constructor=Ma;var eb=function(V){function ja(){E(this,ja);var ca=Ea.call(this);ca.layer=Qa;ca.fromSelection=db.getSelection();ca.fromMaskMode=tb;ca.movingWholeLayer=ca.fromSelection.isEmpty();
ca.movingImage=!tb||ca.movingWholeLayer&&ca.layer.maskLinked;ca.movingMask=tb||ca.movingWholeLayer&&ca.layer.maskLinked;ca.hasFullUndo=!1;ca.erasesSourceRect=!1;ca.dstRect=new Y.default(0,0,0,0);ca.movingLayers=[{layer:ca.layer,moveImage:ca.layer instanceof B.default&&ca.movingImage,moveMask:null!==ca.layer.mask&&ca.movingMask,imageRect:new Map,maskRect:new Map}];ca.layer instanceof C.default&&ca.movingImage&&ca.movingWholeLayer&&(ca.movingLayers=ca.movingLayers.concat(ca.layer.getLinearizedLayerList(!1).map(function(Sa){return{layer:Sa,
moveImage:Sa instanceof B.default,moveMask:null!==Sa.mask&&Sa.maskLinked,imageRect:new Map,maskRect:new Map}})));var xa=new Y.default(0,0,0,0);if(ca.movingWholeLayer){ca.srcRect=db.getBounds();for(var Ja=0;Ja<ca.movingLayers.length&&!xa.equals(ca.srcRect);Ja++){var Aa=ca.movingLayers[Ja];Aa.moveMask&&xa.union(Aa.layer.mask.getValueBounds(ca.srcRect,255));Aa.moveImage&&xa.union(Aa.layer.image.getNonTransparentBounds(ca.srcRect))}}else for(ca.srcRect=ca.fromSelection.clone(),Ja=0;Ja<ca.movingLayers.length&&
!xa.equals(ca.srcRect);Ja++)Aa=ca.movingLayers[Ja],Aa.moveMask&&xa.union(Aa.layer.mask.getValueBounds(ca.srcRect,0)),Aa.moveImage&&xa.union(Aa.layer.image.getNonTransparentBounds(ca.srcRect));ca.srcRect=xa;return ca}x(ja,V);var Ea=m(ja);d(ja,[{key:"undo",value:function(){var ca=this,xa=[];this.dstRect.isEmpty()||xa.push(this.dstRect);this.erasesSourceRect&&(xa.push(this.srcRect),xa=Y.default.union(xa));this.movingLayers.forEach(function(Ja){ca.hasFullUndo?xa.forEach(function(Aa){Ja.moveImage&&Ja.layer.image.copyBitmapRect(Ja.imageUndo,
Aa.left,Aa.top,Aa);Ja.moveMask&&Ja.layer.mask.copyBitmapRect(Ja.maskUndo,Aa.left,Aa.top,Aa)}):(Ja.moveImage&&Ja.imageRect.forEach(function(Aa,Sa){Ja.layer.image.copyBitmapRect(Aa,Sa.left,Sa.top,Aa.getBounds())}),Ja.moveMask&&Ja.maskRect.forEach(function(Aa,Sa){Ja.layer.mask.copyBitmapRect(Aa,Sa.left,Sa.top,Aa.getBounds())}))});qa(this.movingLayers.map(function(Ja){return Ja.layer}),xa.reduce(function(Ja,Aa){return Ja.getUnion(Aa)},new Y.default(0,0,0,0)),!0,!0);this.dstRect.makeEmpty();db.setSelection(this.fromSelection);
db.setActiveLayer(this.layer,this.fromMaskMode);Oa()}},{key:"getMemoryUsed",value:function(ca,xa){return this.movingLayers.map(function(Ja){return[Ja.imageUndo,Ja.maskUndo,Ja.imageRect,Ja.maskRect].map(function(Aa){return Aa?Aa.getMemorySize():0}).reduce(e,0)}).reduce(e,0)}},{key:"buildFullUndo",value:function(){this.hasFullUndo||(this.movingLayers.forEach(function(ca){ca.moveImage&&(ca.imageUndo=ca.layer.image.clone());ca.moveMask&&(ca.maskUndo=ca.layer.mask.clone());ca.imageRect.clear();ca.maskRect.clear()}),
this.hasFullUndo=!0)}},{key:"compact",value:function(){if(this.hasFullUndo){var ca=[];this.dstRect.isEmpty()||ca.push(this.dstRect);this.erasesSourceRect&&(ca.push(this.srcRect),ca=Y.default.union(ca));this.movingLayers.forEach(function(xa){xa.imageRect.clear();xa.maskRect.clear();ca.forEach(function(Ja){xa.moveImage&&xa.imageRect.set(Ja,xa.imageUndo.cloneRect(Ja));xa.moveMask&&xa.maskRect.set(Ja,xa.maskUndo.cloneRect(Ja))});xa.imageUndo=null;xa.maskUndo=null});this.hasFullUndo=!1}}}]);return ja}(K.default),
kb=function(V){function ja(ca,xa){E(this,ja);var Ja=Ea.call(this);Ja.erasesSourceRect=!0;Ja.affineTransform=ca.clone();Ja.interpolation=xa||"smooth";Ja.composeCanvas=null;Ja.composeCanvasContext=null;return Ja}x(ja,V);var Ea=m(ja);d(ja,[{key:"buildFullUndo",value:function(){var ca=this;this.hasFullUndo||(v(r(ja.prototype),"buildFullUndo",this).call(this),this.movingLayers.forEach(function(xa){if(xa.moveImage){var Ja=(0,ia.createCanvas)(ca.srcRect.getWidth(),ca.srcRect.getHeight());Ja.getContext("2d").putImageData(xa.layer.image.getImageData(),
-ca.srcRect.left,-ca.srcRect.top,ca.srcRect.left,ca.srcRect.top,ca.srcRect.getWidth(),ca.srcRect.getHeight());xa.imageSourceCanvas=Ja}xa.moveMask&&(Ja=(0,ia.createCanvas)(ca.srcRect.getWidth(),ca.srcRect.getHeight()),Ja.getContext("2d").putImageData(xa.layer.mask.getImageData(ca.srcRect.left,ca.srcRect.top,ca.srcRect.getWidth(),ca.srcRect.getHeight()),0,0),xa.maskSourceCanvas=Ja)}),this.composeCanvas=(0,ia.createCanvas)(db.width,db.height),this.composeCanvasContext=this.composeCanvas.getContext("2d",
{willReadFrequently:!0}),(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.junk=this.composeCanvasContext.getImageData(0,0,1,1))}},{key:"redo",value:function(){var ca=this;this.buildFullUndo();var xa=this.dstRect.clone(),Ja=this.srcRect.toPoints();this.affineTransform.transformPoints(Ja);this.dstRect.set(Y.default.createBoundingBox(Ja).roundContain().clipTo(db.getBounds()));var Aa=Y.default.subtract(this.dstRect,this.srcRect),Sa=Y.default.subtract(xa.isEmpty()?
this.srcRect:this.srcRect.getIntersection(xa),this.dstRect),Ya=this.srcRect.getIntersection(this.dstRect),sb=Y.default.subtract(xa,[this.dstRect,this.srcRect]);xa=this.srcRect.getUnion(this.dstRect).getUnion(xa);this.movingLayers.forEach(function(ub){Sa.forEach(function(Hb){ub.moveImage&&ub.layer.image.clearRect(Hb,16777215);ub.moveMask&&(ca.movingWholeLayer?ub.layer.mask.clearRect(Hb,255):ub.layer.mask.clearRect(Hb,0))});if(!ca.dstRect.isEmpty()){if(ub.moveImage){var ic=ub.imageUndo.getImageData();
Aa.forEach(function(Hb){ca.composeCanvasContext.putImageData(ic,0,0,Hb.left,Hb.top,Hb.getWidth(),Hb.getHeight())});ca.composeCanvasContext.clearRect(Ya.left,Ya.top,Ya.getWidth(),Ya.getHeight());ca.composeCanvasContext.save();ca.composeCanvasContext.setTransform(ca.affineTransform.m[0],ca.affineTransform.m[1],ca.affineTransform.m[2],ca.affineTransform.m[3],ca.affineTransform.m[4],ca.affineTransform.m[5]);ca.composeCanvasContext.drawImage(ub.imageSourceCanvas,ca.srcRect.left,ca.srcRect.top);ca.composeCanvasContext.restore();
ub.layer.image.copyBitmapRect(new G.default(ca.composeCanvasContext.getImageData(ca.dstRect.left,ca.dstRect.top,ca.dstRect.getWidth(),ca.dstRect.getHeight())),ca.dstRect.left,ca.dstRect.top,new Y.default(0,0,ca.dstRect.getWidth(),ca.dstRect.getHeight()))}ub.moveMask&&(Aa.forEach(function(Hb){ca.composeCanvasContext.putImageData(ub.layer.mask.getImageData(Hb.left,Hb.top,Hb.getWidth(),Hb.getHeight()),Hb.left,Hb.top)}),ca.composeCanvasContext.fillStyle=ca.movingWholeLayer?"#FFF":"#000",ca.composeCanvasContext.fillRect(Ya.left,
Ya.top,Ya.getWidth(),Ya.getHeight()),ca.composeCanvasContext.save(),ca.composeCanvasContext.setTransform(ca.affineTransform.m[0],ca.affineTransform.m[1],ca.affineTransform.m[2],ca.affineTransform.m[3],ca.affineTransform.m[4],ca.affineTransform.m[5]),ca.composeCanvasContext.drawImage(ub.maskSourceCanvas,ca.srcRect.left,ca.srcRect.top),ca.composeCanvasContext.restore(),ub.layer.mask.pasteImageData(ca.composeCanvasContext.getImageData(ca.dstRect.left,ca.dstRect.top,ca.dstRect.getWidth(),ca.dstRect.getHeight()),
ca.dstRect.left,ca.dstRect.top))}sb.forEach(function(Hb){ub.moveImage&&ub.layer.image.copyBitmapRect(ub.imageUndo,Hb.left,Hb.top,Hb);ub.moveMask&&ub.layer.mask.copyBitmapRect(ub.maskUndo,Hb.left,Hb.top,Hb)})});qa(this.movingLayers.map(function(ub){return ub.layer}),xa,!0,!0);this.fromSelection.isEmpty()||(xa=this.fromSelection.toPoints(),this.affineTransform.transformPoints(xa),xa=Y.default.createBoundingBox(xa),xa.roundNearest(),db.setSelection(xa),Oa());db.setActiveLayer(this.layer,this.fromMaskMode)}},
{key:"amend",value:function(ca){this.hasFullUndo||this.undo();this.affineTransform=ca.clone();this.redo()}},{key:"setInterpolation",value:function(ca){ca!=this.interpolation&&(this.interpolation=ca,this.composeCanvasContext&&(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.undo(),this.redo())}},{key:"compact",value:function(){v(r(ja.prototype),"compact",this).call(this);this.composeCanvasContext=this.composeCanvas=null;this.movingLayers.forEach(function(ca){return ca.imageSourceCanvas=
null})}},{key:"getMemoryUsed",value:function(ca,xa){ca=v(r(ja.prototype),"getMemoryUsed",this).call(this,ca,xa);ca+=p(this.composeCanvas);return ca+=this.movingLayers.map(function(Ja){return p(Ja.imageSourceCanvas)}).reduce(e,0)}},{key:"getTransform",value:function(){return this.affineTransform.clone()}},{key:"getInitialTransformRect",value:function(){return this.srcRect.clone()}},{key:"getInitialSelectionRect",value:function(){return this.fromSelection.clone()}}]);return ja}(eb),fb=function(V){function ja(ca,
xa,Ja){E(this,ja);var Aa=Ea.call(this);Aa.offsetX=ca;Aa.offsetY=xa;Aa.erasesSourceRect=!Ja;return Aa}x(ja,V);var Ea=m(ja);d(ja,[{key:"redo",value:function(){var ca=this,xa=this.dstRect.clone(),Ja=xa.clone(),Aa=null;this.buildFullUndo();this.dstRect.set(this.srcRect);this.dstRect.translate(this.offsetX,this.offsetY);var Sa=this.dstRect.clone();this.dstRect.clipTo(db.getBounds());if(this.erasesSourceRect){Aa=xa.isEmpty()?this.srcRect:this.srcRect.getIntersection(xa);Ja.union(Aa);var Ya=xa.subtract(this.srcRect)}else Ya=
[xa];this.movingLayers.forEach(function(sb){Aa&&(sb.moveImage&&sb.layer.image.clearRect(Aa,16777215),sb.moveMask&&sb.layer.mask.clearRect(Aa,ca.movingWholeLayer?255:0));Ya.forEach(function(ub){sb.moveImage&&sb.layer.image.copyBitmapRect(sb.imageUndo,ub.left,ub.top,ub);sb.moveMask&&sb.layer.mask.copyBitmapRect(sb.maskUndo,ub.left,ub.top,ub)});sb.moveImage&&A.default.normalFuseImageOntoImageAtPosition(sb.layer.image,sb.imageUndo,Sa.left,Sa.top,ca.srcRect);sb.moveMask&&sb.layer.mask.copyBitmapRect(sb.maskUndo,
Sa.left,Sa.top,ca.srcRect)});Ja.union(this.dstRect);qa(this.movingLayers.map(function(sb){return sb.layer}),Ja,!0,!0);this.fromSelection.isEmpty()||(xa=this.fromSelection.clone(),xa.translate(this.offsetX,this.offsetY),db.setSelection(xa),Oa())}},{key:"amend",value:function(ca,xa){this.hasFullUndo||this.undo();this.offsetX+=ca;this.offsetY+=xa;this.redo()}}]);return ja}(eb);Ca.prototype=Object.create(K.default.prototype);Ca.prototype.constructor=Ca;$a.prototype=Object.create(K.default.prototype);
$a.prototype.constructor=$a;Qb=[ta.CPBrushTool,ta.CPBrushToolEraser,ta.CPBrushToolDodge,ta.CPBrushToolBurn,ta.CPBrushToolWatercolor,ta.CPBrushToolBlur,ta.CPBrushToolSmudge,ta.CPBrushToolOil].map(function(V){return new V(pc,Pb)});this.width=pa;this.height=ya}Object.defineProperty(D,"__esModule",{value:!0});D.default=u;var B=k(g("./CPImageLayer.js")),C=k(g("./CPLayerGroup.js")),A=k(g("./CPBlend.js"));g("./CPBlendAdditional.js");var I=k(g("./CPGreyBmp.js")),O=k(g("./CPBlendTree.js")),z=k(g("./CPMaskView.js")),
G=k(g("./CPColorBmp.js")),H=k(g("./CPBrushManager.js")),J=k(g("./CPBrushInfo.js")),K=k(g("./CPUndo.js")),S=k(g("./CPClip.js")),da=k(g("../util/CPColor.js")),Y=k(g("../util/CPRect.js")),ra=k(g("../util/CPRandom.js")),ma=k(g("../util/CPTransform.js")),Q=g("../util/CPPolyfill.js"),ia=g("../util/Canvas.js"),ba=k(g("wolfy87-eventemitter")),ta=g("./CPBrushTool.js");u.prototype=Object.create(ba.default.prototype);u.prototype.constructor=u;u.prototype.getBounds=function(){return new Y.default(0,0,this.width,
this.height)};u.prototype.isPointWithin=function(pa,ya){return 0<=pa&&0<=ya&&pa<this.width&&ya<this.height};u.EDITING_MODE_IMAGE=0;u.EDITING_MODE_MASK=1;L.exports=D.default},{"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPRandom.js":62,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/Canvas.js":2,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPBlendTree.js":7,"./CPBrushInfo.js":8,"./CPBrushManager.js":9,"./CPBrushTool.js":10,"./CPClip.js":12,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,
"./CPImageLayer.js":15,"./CPLayerGroup.js":17,"./CPMaskView.js":19,"./CPUndo.js":22,"wolfy87-eventemitter":314}],4:[function(g,L,D){function y(v,E){this.width=v|0;this.height=E|0}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;var k=function(v){return v&&v.__esModule?v:{default:v}}(g("../util/CPRect.js"));y.prototype.getBounds=function(){return new k.default(0,0,this.width,this.height)};y.prototype.isInside=function(v,E){return 0<=v&&0<=E&&v<this.width&&E<this.height};L.exports=D.default},
{"../util/CPRect.js":63}],5:[function(g,L,D){function y(b){return b&&b.__esModule?b:{default:b}}function k(){}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;y(g("./CPColorBmp.js"));y(g("./CPGreyBmp.js"));y(g("./CPLayer.js"));y(g("../util/CPRect.js"));var v=Array(256),E=Array(256);k.multiplyOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=
d.data[a+3];if(c){var f=b.data[a];b.data[a]=f-((d.data[a]^255)*f*c/65025|0);f=b.data[a+1];b.data[a+1]=f-((d.data[a+1]^255)*f*c/65025|0);f=b.data[a+2];b.data[a+2]=f-((d.data[a+2]^255)*f*c/65025|0)}}};k.multiplyOntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a];b.data[a]=n-((d.data[a]^255)*n*f/65025|0);n=b.data[a+
1];b.data[a+1]=n-((d.data[a+1]^255)*n*f/65025|0);n=b.data[a+2];b.data[a+2]=n-((d.data[a+2]^255)*n*f/65025|0)}}};k.multiplyOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*p+f*u+(c*f*e/255|0))/n|0;c=d.data[a+
1];f=b.data[a+1];b.data[a+1]=(c*p+f*u+(c*f*e/255|0))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*p+f*u+(c*f*e/255|0))/n|0;b.data[a+3]=n}}};k.multiplyOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=
(f*u+n*B+(f*n*p/255|0))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(f*u+n*B+(f*n*p/255|0))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(f*u+n*B+(f*n*p/255|0))/e|0;b.data[a+3]=e}}};k.multiplyOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h];
b.data[h]=p-((d.data[h]^255)*p*e/65025|0);p=b.data[h+1];b.data[h+1]=p-((d.data[h+1]^255)*p*e/65025|0);p=b.data[h+2];b.data[h+2]=p-((d.data[h+2]^255)*p*e/65025|0)}}};k.multiplyOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c];b.data[c]=
u-((d.data[c]^255)*u*p/65025|0);u=b.data[c+1];b.data[c+1]=u-((d.data[c+1]^255)*u*p/65025|0);u=b.data[c+2];b.data[c+2]=u-((d.data[c+2]^255)*u*p/65025|0)}}};k.multiplyOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|
0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(e*C+p*A+(e*p*B/255|0))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(e*C+p*A+(e*p*B/255|0))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(e*C+p*A+(e*p*B/255|0))/u|0;b.data[h+3]=u}}};k.multiplyOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,
c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(p*A+u*I+(p*u*C/255|0))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(p*A+u*I+(p*u*C/255|0))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(p*A+u*I+(p*u*C/255|0))/B|0;b.data[c+3]=B}}};k.multiply2OntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-
m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a];b.data[a]=f-Math.ceil((d.data[a]^255)*f*c/65025);f=b.data[a+1];b.data[a+1]=f-Math.ceil((d.data[a+1]^255)*f*c/65025);f=b.data[a+2];b.data[a+2]=f-Math.ceil((d.data[a+2]^255)*f*c/65025)}}};k.multiply2OntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=
0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a];b.data[a]=n-Math.ceil((d.data[a]^255)*n*f/65025);n=b.data[a+1];b.data[a+1]=n-Math.ceil((d.data[a+1]^255)*n*f/65025);n=b.data[a+2];b.data[a+2]=n-Math.ceil((d.data[a+2]^255)*n*f/65025)}}};k.multiply2OntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=
c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*p+f*u+(c*f*e/255|0))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*p+f*u+(c*f*e/255|0))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*p+f*u+(c*f*e/255|0))/n|0;b.data[a+3]=n}}};k.multiply2OntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+
3]*x/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(f*u+n*B+(f*n*p/255|0))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(f*u+n*B+(f*n*p/255|0))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(f*u+n*B+(f*n*p/255|0))/e|0;b.data[a+3]=e}}};k.multiply2OntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h];b.data[h]=p-Math.ceil((d.data[h]^255)*p*e/65025);p=b.data[h+1];b.data[h+1]=p-Math.ceil((d.data[h+1]^255)*p*e/65025);p=b.data[h+2];b.data[h+2]=p-Math.ceil((d.data[h+2]^255)*p*e/65025)}}};k.multiply2OntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c];b.data[c]=u-Math.ceil((d.data[c]^255)*u*p/65025);u=b.data[c+1];b.data[c+1]=u-Math.ceil((d.data[c+1]^255)*u*p/65025);u=b.data[c+2];b.data[c+2]=u-Math.ceil((d.data[c+2]^255)*u*p/65025)}}};k.multiply2OntoTransparentFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(e*C+p*A+(e*p*B/255|0))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(e*C+p*A+(e*p*B/255|0))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(e*C+p*A+(e*p*B/255|0))/u|0;b.data[h+3]=u}}};k.multiply2OntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|
0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(p*A+u*I+(p*u*C/255|0))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(p*A+u*I+(p*u*C/255|0))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(p*A+u*I+(p*u*C/255|
0))/B|0;b.data[c+3]=B}}};k.normalOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c)if(255==c)b.data[a]=d.data[a],b.data[a+1]=d.data[a+1],b.data[a+2]=d.data[a+2];else{var f=255-c;var n=d.data[a];b.data[a]=(n*c+b.data[a]*f)/255|0;n=d.data[a+1];b.data[a+1]=(n*c+b.data[a+1]*f)/255|0;n=d.data[a+2];b.data[a+2]=(n*c+b.data[a+2]*f)/255|0}}};k.normalOntoOpaqueFusionWithTransparentLayer=
function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=255-f;var e=d.data[a];b.data[a]=(e*f+b.data[a]*n)/255|0;e=d.data[a+1];b.data[a+1]=(e*f+b.data[a+1]*n)/255|0;e=d.data[a+2];b.data[a+2]=(e*f+b.data[a+2]*n)/255|0}}};k.normalOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];f=c+f-(c*f/255|0)|0;c=255*c/f|0;var n=255-c;b.data[a]=(d.data[a]*c+b.data[a]*n)/255|0;b.data[a+1]=(d.data[a+1]*c+b.data[a+1]*n)/255|0;b.data[a+2]=(d.data[a+2]*c+b.data[a+2]*n)/255|0;b.data[a+3]=f}}};k.normalOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,
a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a+3];n=f+n-(f*n/255|0)|0;f=255*f/n|0;var e=255-f;b.data[a]=(d.data[a]*f+b.data[a]*e)/255|0;b.data[a+1]=(d.data[a+1]*f+b.data[a+1]*e)/255|0;b.data[a+2]=(d.data[a+2]*f+b.data[a+2]*e)/255|0;b.data[a+3]=n}}};k.normalOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<
q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e)if(255==e)b.data[h]=d.data[h],b.data[h+1]=d.data[h+1],b.data[h+2]=d.data[h+2];else{var p=255-e;var u=d.data[h];b.data[h]=(u*e+b.data[h]*p)/255|0;u=d.data[h+1];b.data[h+1]=(u*e+b.data[h+1]*p)/255|0;u=d.data[h+2];b.data[h+2]=(u*e+b.data[h+2]*p)/255|0}}};k.normalOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=255-p;var B=d.data[c];b.data[c]=(B*p+b.data[c]*u)/255|0;B=d.data[c+1];b.data[c+1]=(B*p+b.data[c+1]*u)/255|0;B=d.data[c+2];b.data[c+2]=(B*p+b.data[c+2]*u)/255|0}}};k.normalOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=
0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];p=e+p-(e*p/255|0)|0;e=255*e/p|0;var u=255-e;b.data[h]=(d.data[h]*e+b.data[h]*u)/255|0;b.data[h+1]=(d.data[h+1]*e+b.data[h+1]*u)/255|0;b.data[h+2]=(d.data[h+2]*e+b.data[h+2]*u)/255|0;b.data[h+3]=p}}};k.normalOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];u=p+u-(p*u/255|0)|0;p=255*p/u|0;var B=255-p;b.data[c]=(d.data[c]*p+b.data[c]*B)/255|0;b.data[c+1]=(d.data[c+1]*p+b.data[c+1]*B)/255|0;b.data[c+2]=(d.data[c+2]*p+b.data[c+2]*B)/255|0;b.data[c+3]=u}}};k.addOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=
0;h<m;h++,a+=4){var c=d.data[a+3];c&&(b.data[a]=b.data[a]+c*d.data[a]/255|0,b.data[a+1]=b.data[a+1]+c*d.data[a+1]/255|0,b.data[a+2]=b.data[a+2]+c*d.data[a+2]/255|0)}};k.addOntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;f&&(b.data[a]=b.data[a]+f*d.data[a]/255|0,b.data[a+1]=b.data[a+1]+f*d.data[a+1]/255|0,b.data[a+2]=b.data[a+
2]+f*d.data[a+2]/255|0)}};k.addOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0;b.data[a]=(f*b.data[a]+c*d.data[a])/n|0;b.data[a+1]=(f*b.data[a+1]+c*d.data[a+1])/n|0;b.data[a+2]=(f*b.data[a+2]+c*d.data[a+2])/n|0;b.data[a+3]=n}}};k.addOntoTransparentFusionWithTransparentLayer=function(b,
d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0;b.data[a]=(n*b.data[a]+f*d.data[a])/e|0;b.data[a+1]=(n*b.data[a+1]+f*d.data[a+1])/e|0;b.data[a+2]=(n*b.data[a+2]+f*d.data[a+2])/e|0;b.data[a+3]=e}}};k.addOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,
a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;e&&(b.data[h]=b.data[h]+e*d.data[h]/255|0,b.data[h+1]=b.data[h+1]+e*d.data[h+1]/255|0,b.data[h+2]=b.data[h+2]+e*d.data[h+2]/255|0)}};k.addOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=
0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;p&&(b.data[c]=b.data[c]+p*d.data[c]/255|0,b.data[c+1]=b.data[c+1]+p*d.data[c+1]/255|0,b.data[c+2]=b.data[c+2]+p*d.data[c+2]/255|0)}};k.addOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+
3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0;b.data[h]=(p*b.data[h]+e*d.data[h])/u|0;b.data[h+1]=(p*b.data[h+1]+e*d.data[h+1])/u|0;b.data[h+2]=(p*b.data[h+2]+e*d.data[h+2])/u|0;b.data[h+3]=u}}};k.addOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+
3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0;b.data[c]=(u*b.data[c]+p*d.data[c])/B|0;b.data[c+1]=(u*b.data[c+1]+p*d.data[c+1])/B|0;b.data[c+2]=(u*b.data[c+2]+p*d.data[c+2])/B|0;b.data[c+3]=B}}};k.subtractOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];c&&(b.data[a]=b.data[a]+c*d.data[a]/255-c|0,b.data[a+1]=b.data[a+
1]+c*d.data[a+1]/255-c|0,b.data[a+2]=b.data[a+2]+c*d.data[a+2]/255-c|0)}};k.subtractOntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;f&&(b.data[a]=b.data[a]+f*d.data[a]/255-f|0,b.data[a+1]=b.data[a+1]+f*d.data[a+1]/255-f|0,b.data[a+2]=b.data[a+2]+f*d.data[a+2]/255-f|0)}};k.subtractOntoTransparentFusionWithOpaqueLayer=function(b,
d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f;b.data[a]=(f*b.data[a]+c*d.data[a]-e)/n|0;b.data[a+1]=(f*b.data[a+1]+c*d.data[a+1]-e)/n|0;b.data[a+2]=(f*b.data[a+2]+c*d.data[a+2]-e)/n|0;b.data[a+3]=n}}};k.subtractOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|
0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n;b.data[a]=(n*b.data[a]+f*d.data[a]-p)/e|0;b.data[a+1]=(n*b.data[a+1]+f*d.data[a+1]-p)/e|0;b.data[a+2]=(n*b.data[a+2]+f*d.data[a+2]-p)/e|0;b.data[a+3]=e}}};k.subtractOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;e&&(b.data[h]=b.data[h]+e*d.data[h]/255-e|0,b.data[h+1]=b.data[h+1]+e*d.data[h+1]/255-e|0,b.data[h+2]=b.data[h+2]+e*d.data[h+2]/255-e|0)}};k.subtractOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,
c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;p&&(b.data[c]=b.data[c]+p*d.data[c]/255-p|0,b.data[c+1]=b.data[c+1]+p*d.data[c+1]/255-p|0,b.data[c+2]=b.data[c+2]+p*d.data[c+2]/255-p|0)}};k.subtractOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=
b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p;b.data[h]=(p*b.data[h]+e*d.data[h]-B)/u|0;b.data[h+1]=(p*b.data[h+1]+e*d.data[h+1]-B)/u|0;b.data[h+2]=(p*b.data[h+2]+e*d.data[h+2]-B)/u|0;b.data[h+3]=u}}};k.subtractOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*
x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u;b.data[c]=(u*b.data[c]+p*d.data[c]-C)/B|0;b.data[c+1]=(u*b.data[c+1]+p*d.data[c+1]-C)/B|0;b.data[c+2]=(u*b.data[c+2]+p*d.data[c+2]-C)/B|0;b.data[c+3]=B}}};k.screenOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=b.data[a];b.data[a]=255^((n^255)*f+(d.data[a]^
255)*(n^255)*c/255)/255;n=b.data[a+1];b.data[a+1]=255^((n^255)*f+(d.data[a+1]^255)*(n^255)*c/255)/255;n=b.data[a+2];b.data[a+2]=255^((n^255)*f+(d.data[a+2]^255)*(n^255)*c/255)/255}}};k.screenOntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=f^255;var e=b.data[a];b.data[a]=255^((e^255)*n+(d.data[a]^255)*(e^255)*f/255)/
255;e=b.data[a+1];b.data[a+1]=255^((e^255)*n+(d.data[a+1]^255)*(e^255)*f/255)/255;e=b.data[a+2];b.data[a+2]=255^((e^255)*n+(d.data[a+2]^255)*(e^255)*f/255)/255}}};k.screenOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];
b.data[a]=255^((c^255)*p+(f^255)*u+(c^255)*(f^255)*e/255)/n;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=255^((c^255)*p+(f^255)*u+(c^255)*(f^255)*e/255)/n;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=255^((c^255)*p+(f^255)*u+(c^255)*(f^255)*e/255)/n;b.data[a+3]=n}}};k.screenOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=
b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=255^((f^255)*u+(n^255)*B+(f^255)*(n^255)*p/255)/e;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=255^((f^255)*u+(n^255)*B+(f^255)*(n^255)*p/255)/e;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=255^((f^255)*u+(n^255)*B+(f^255)*(n^255)*p/255)/e;b.data[a+3]=e}}};k.screenOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,
a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=b.data[h];b.data[h]=255^((u^255)*p+(d.data[h]^255)*(u^255)*e/255)/255;u=b.data[h+1];b.data[h+1]=255^((u^255)*p+(d.data[h+1]^255)*(u^255)*e/255)/255;u=b.data[h+2];b.data[h+2]=255^((u^255)*p+(d.data[h+2]^255)*(u^255)*e/255)/255}}};k.screenOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|
0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var B=b.data[c];b.data[c]=255^((B^255)*u+(d.data[c]^255)*(B^255)*p/255)/255;B=b.data[c+1];b.data[c+1]=255^((B^255)*u+(d.data[c+1]^255)*(B^255)*p/255)/255;B=b.data[c+2];b.data[c+2]=255^((B^255)*u+(d.data[c+2]^255)*(B^255)*p/255)/255}}};k.screenOntoTransparentFusionWithOpaqueLayerMasked=
function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=255^((e^255)*C+(p^255)*A+(e^255)*(p^255)*B/255)/u;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=255^((e^255)*C+(p^255)*A+(e^
255)*(p^255)*B/255)/u;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=255^((e^255)*C+(p^255)*A+(e^255)*(p^255)*B/255)/u;b.data[h+3]=u}}};k.screenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,
A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=255^((p^255)*A+(u^255)*I+(p^255)*(u^255)*C/255)/B;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=255^((p^255)*A+(u^255)*I+(p^255)*(u^255)*C/255)/B;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=255^((p^255)*A+(u^255)*I+(p^255)*(u^255)*C/255)/B;b.data[c+3]=B}}};k.lightenOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=
0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=e>=n?e:(e*f+n*c)/255|0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=e>=n?e:(e*f+n*c)/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=e>=n?e:(e*f+n*c)/255|0}}};k.lightenOntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=f^255;var e=
d.data[a];var p=b.data[a];b.data[a]=p>=e?p:(p*n+e*f)/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=p>=e?p:(p*n+e*f)/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=p>=e?p:(p*n+e*f)/255|0}}};k.lightenOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=f*(c^255)/n|0,p=e^255,u=c*(f^255)/n|0,B=
u^255;c=d.data[a];f=b.data[a];b.data[a]=(f>=c?c*u+f*B:f*e+c*p)/255|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(f>=c?c*u+f*B:f*e+c*p)/255|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(f>=c?c*u+f*B:f*e+c*p)/255|0;b.data[a+3]=n}}};k.lightenOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|
0)|0,p=n*(f^255)/e|0,u=p^255,B=f*(n^255)/e|0,C=B^255;f=d.data[a];n=b.data[a];b.data[a]=(n>=f?f*B+n*C:n*p+f*u)/255|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(n>=f?f*B+n*C:n*p+f*u)/255|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(n>=f?f*B+n*C:n*p+f*u)/255|0;b.data[a+3]=e}}};k.lightenOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,
a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=B>=u?B:(B*p+u*e)/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=B>=u?B:(B*p+u*e)/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=B>=u?B:(B*p+u*e)/255|0}}};k.lightenOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=
0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=C>=B?C:(C*u+B*p)/255|0;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=C>=B?C:(C*u+B*p)/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=C>=B?C:(C*u+B*p)/255|0}}};k.lightenOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=p*(e^255)/u|0,C=B^255,A=e*(p^255)/u|0,I=A^255;e=d.data[h];p=b.data[h];b.data[h]=(p>=e?e*A+p*I:p*B+e*C)/255|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(p>=e?e*A+p*I:p*B+e*C)/255|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(p>=e?e*A+p*I:p*B+e*C)/255|0;b.data[h+3]=u}}};k.lightenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|
0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=u*(p^255)/B|0,A=C^255,I=p*(u^255)/B|0,O=I^255;p=d.data[c];u=b.data[c];b.data[c]=(u>=p?p*I+u*O:u*C+p*A)/255|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(u>=p?p*I+u*O:u*C+p*A)/255|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(u>=p?p*I+u*O:u*
C+p*A)/255|0;b.data[c+3]=B}}};k.darkenOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=e>=n?(e*f+n*c)/255|0:e;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=e>=n?(e*f+n*c)/255|0:e;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=e>=n?(e*f+n*c)/255|0:e}}};k.darkenOntoOpaqueFusionWithTransparentLayer=
function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=p>=e?(p*n+e*f)/255|0:p;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=p>=e?(p*n+e*f)/255|0:p;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=p>=e?(p*n+e*f)/255|0:p}}};k.darkenOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=
4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*(f^255)/n|0,p=e^255,u=f*(c^255)/n|0,B=u^255;c=d.data[a];f=b.data[a];b.data[a]=(f>=c?f*u+c*B:c*e+f*p)/255|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(f>=c?f*u+c*B:c*e+f*p)/255|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(f>=c?f*u+c*B:c*e+f*p)/255|0;b.data[a+3]=n}}};k.darkenOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=
a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*(n^255)/e|0,u=p^255,B=n*(f^255)/e|0,C=B^255;f=d.data[a];n=b.data[a];b.data[a]=(n>=f?n*B+f*C:f*p+n*u)/255|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(n>=f?n*B+f*C:f*p+n*u)/255|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(n>=f?n*B+f*C:f*p+n*u)/255|0;b.data[a+3]=e}}};k.darkenOntoOpaqueFusionWithOpaqueLayerMasked=
function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=B>=u?(B*p+u*e)/255|0:B;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=B>=u?(B*p+u*e)/255|0:B;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=B>=u?(B*p+u*e)/255|0:B}}};k.darkenOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=C>=B?(C*u+B*p)/255|0:C;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=C>=B?(C*u+B*p)/255|0:C;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=C>=B?(C*u+B*p)/255|0:C}}};k.darkenOntoTransparentFusionWithOpaqueLayerMasked=
function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*(p^255)/u|0,C=B^255,A=p*(e^255)/u|0,I=A^255;e=d.data[h];p=b.data[h];b.data[h]=(p>=e?p*A+e*I:e*B+p*C)/255|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(p>=e?p*A+e*I:e*B+p*C)/255|0;e=d.data[h+2];p=b.data[h+
2];b.data[h+2]=(p>=e?p*A+e*I:e*B+p*C)/255|0;b.data[h+3]=u}}};k.darkenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*(u^255)/B|0,A=C^255,I=u*(p^255)/B|0,O=I^255;p=d.data[c];u=b.data[c];b.data[c]=
(u>=p?u*I+p*O:p*C+u*A)/255|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(u>=p?u*I+p*O:p*C+u*A)/255|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(u>=p?u*I+p*O:p*C+u*A)/255|0;b.data[c+3]=B}}};k.dodgeOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(e*f+c*(255==n?255:Math.min(255,255*e/(n^
255)|0)))/255|0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(e*f+c*(255==n?255:Math.min(255,255*e/(n^255)|0)))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=(e*f+c*(255==n?255:Math.min(255,255*e/(n^255)|0)))/255|0}}};k.dodgeOntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=
(p*n+f*(255==e?255:Math.min(255,255*p/(e^255)|0)))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(p*n+f*(255==e?255:Math.min(255,255*p/(e^255)|0)))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(p*n+f*(255==e?255:Math.min(255,255*p/(e^255)|0)))/255|0}}};k.dodgeOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=
c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*p+f*u+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*p+f*u+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*p+f*u+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/n|0;b.data[a+3]=n}}};k.dodgeOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(f*u+n*B+p*(255==f?255:Math.min(255,255*n/(f^255)|0)))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(f*u+n*B+p*(255==f?255:Math.min(255,255*n/(f^255)|0)))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(f*u+n*B+p*(255==f?255:Math.min(255,255*n/(f^255)|0)))/e|0;b.data[a+3]=e}}};k.dodgeOntoOpaqueFusionWithOpaqueLayerMasked=
function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=(B*p+e*(255==u?255:Math.min(255,255*B/(u^255)|0)))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(B*p+e*(255==u?255:Math.min(255,255*B/(u^255)|0)))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+
2]=(B*p+e*(255==u?255:Math.min(255,255*B/(u^255)|0)))/255|0}}};k.dodgeOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(C*u+p*(255==B?255:Math.min(255,255*C/(B^255)|0)))/255|0;B=d.data[c+1];
C=b.data[c+1];b.data[c+1]=(C*u+p*(255==B?255:Math.min(255,255*C/(B^255)|0)))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=(C*u+p*(255==B?255:Math.min(255,255*C/(B^255)|0)))/255|0}}};k.dodgeOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+
3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(e*C+p*A+B*(255==e?255:Math.min(255,255*p/(e^255)|0)))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(e*C+p*A+B*(255==e?255:Math.min(255,255*p/(e^255)|0)))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(e*C+p*A+B*(255==e?255:Math.min(255,255*p/(e^255)|0)))/u|0;b.data[h+3]=u}}};k.dodgeOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*
(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(p*A+u*I+C*(255==p?255:Math.min(255,255*u/(p^255)|0)))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(p*A+u*I+C*(255==p?255:Math.min(255,255*u/(p^255)|0)))/B|0;p=d.data[c+2];u=b.data[c+
2];b.data[c+2]=(p*A+u*I+C*(255==p?255:Math.min(255,255*u/(p^255)|0)))/B|0;b.data[c+3]=B}}};k.burnOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(e*f+c*(0==n?0:Math.min(255,255*(e^255)/n)^255))/255|0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(e*f+c*(0==n?0:Math.min(255,255*(e^255)/
n)^255))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=(e*f+c*(0==n?0:Math.min(255,255*(e^255)/n)^255))/255|0}}};k.burnOntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=(p*n+f*(0==e?0:Math.min(255,255*(p^255)/e)^255))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(p*n+
f*(0==e?0:Math.min(255,255*(p^255)/e)^255))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(p*n+f*(0==e?0:Math.min(255,255*(p^255)/e)^255))/255|0}}};k.burnOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*
p+f*u+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*p+f*u+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*p+f*u+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/n|0;b.data[a+3]=n}}};k.burnOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=
b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(f*u+n*B+p*(0==f?0:Math.min(255,255*(n^255)/f)^255))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(f*u+n*B+p*(0==f?0:Math.min(255,255*(n^255)/f)^255))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(f*u+n*B+p*(0==f?0:Math.min(255,255*(n^255)/f)^255))/e|0;b.data[a+3]=e}}};k.burnOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-
q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=(B*p+e*(0==u?0:Math.min(255,255*(B^255)/u)^255))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(B*p+e*(0==u?0:Math.min(255,255*(B^255)/u)^255))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=(B*p+e*(0==u?0:Math.min(255,255*(B^255)/u)^255))/255|0}}};k.burnOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(C*u+p*(0==B?0:Math.min(255,255*(C^255)/B)^255))/255|0;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=(C*u+p*(0==B?0:Math.min(255,255*(C^255)/B)^255))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+
2]=(C*u+p*(0==B?0:Math.min(255,255*(C^255)/B)^255))/255|0}}};k.burnOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(e*C+p*A+
B*(0==e?0:Math.min(255,255*(p^255)/e)^255))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(e*C+p*A+B*(0==e?0:Math.min(255,255*(p^255)/e)^255))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(e*C+p*A+B*(0==e?0:Math.min(255,255*(p^255)/e)^255))/u|0;b.data[h+3]=u}}};k.burnOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=
0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(p*A+u*I+C*(0==p?0:Math.min(255,255*(u^255)/p)^255))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(p*A+u*I+C*(0==p?0:Math.min(255,255*(u^255)/p)^255))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(p*A+u*I+C*(0==p?0:Math.min(255,255*(u^255)/p)^255))/B|0;b.data[c+3]=B}}};k.overlayOntoOpaqueFusionWithOpaqueLayer=function(b,
d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=e?2*c*n*e/255:c*(2*(n^255)*(e^255)/255^255)))/255|0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=e?2*c*n*e/255:c*(2*(n^255)*(e^255)/255^255)))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+(127>=e?2*c*n*e/255:c*(2*(n^255)*(e^255)/255^255)))/255|0}}};k.overlayOntoOpaqueFusionWithTransparentLayer=
function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=(n*p+(127>=p?2*f*e*p/255:f*(2*(e^255)*(p^255)/255^255)))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(n*p+(127>=p?2*f*e*p/255:f*(2*(e^255)*(p^255)/255^255)))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(n*p+(127>=p?2*f*e*p/255:f*(2*(e^255)*(p^255)/255^
255)))/255|0}}};k.overlayOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(p*c+u*f+(127>=f?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(p*c+u*f+(127>=f?2*e*c*f/255:
e*(2*(c^255)*(f^255)/255^255)))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(p*c+u*f+(127>=f?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/n|0;b.data[a+3]=n}}};k.overlayOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];
n=b.data[a];b.data[a]=(u*f+B*n+(127>=n?2*p*f*n/255:p*(2*(f^255)*(n^255)/255^255)))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(u*f+B*n+(127>=n?2*p*f*n/255:p*(2*(f^255)*(n^255)/255^255)))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(u*f+B*n+(127>=n?2*p*f*n/255:p*(2*(f^255)*(n^255)/255^255)))/e|0;b.data[a+3]=e}}};k.overlayOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=(p*B+(127>=B?2*e*u*B/255:e*(2*(u^255)*(B^255)/255^255)))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(p*B+(127>=B?2*e*u*B/255:e*(2*(u^255)*(B^255)/255^255)))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=(p*B+(127>=B?2*e*u*B/255:e*(2*(u^255)*(B^255)/255^255)))/255|0}}};k.overlayOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,
a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(u*C+(127>=C?2*p*B*C/255:p*(2*(B^255)*(C^255)/255^255)))/255|0;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+(127>=C?2*p*B*C/255:p*(2*(B^255)*(C^255)/255^255)))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+
2]=(u*C+(127>=C?2*p*B*C/255:p*(2*(B^255)*(C^255)/255^255)))/255|0}}};k.overlayOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=
(C*e+A*p+(127>=p?2*B*e*p/255:B*(2*(e^255)*(p^255)/255^255)))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(C*e+A*p+(127>=p?2*B*e*p/255:B*(2*(e^255)*(p^255)/255^255)))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(C*e+A*p+(127>=p?2*B*e*p/255:B*(2*(e^255)*(p^255)/255^255)))/u|0;b.data[h+3]=u}}};k.overlayOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|
0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(A*p+I*u+(127>=u?2*C*p*u/255:C*(2*(p^255)*(u^255)/255^255)))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(A*p+I*u+(127>=u?2*C*p*u/255:C*(2*(p^255)*(u^255)/255^255)))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(A*p+I*u+(127>=u?2*C*p*u/255:C*(2*(p^255)*(u^255)/255^255)))/
B|0;b.data[c+3]=B}}};k.hardLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=n?2*c*n*e/255:c*(2*(n^255)*(e^255)/255^255)))/255|0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=n?2*c*n*e/255:c*(2*(n^255)*(e^255)/255^255)))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+
2]=(f*e+(127>=n?2*c*n*e/255:c*(2*(n^255)*(e^255)/255^255)))/255|0}}};k.hardLightOntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=(n*p+(127>=e?2*f*e*p/255:f*(2*(e^255)*(p^255)/255^255)))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(n*p+(127>=e?2*f*e*p/255:f*(2*(e^255)*
(p^255)/255^255)))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(n*p+(127>=e?2*f*e*p/255:f*(2*(e^255)*(p^255)/255^255)))/255|0}}};k.hardLightOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(p*c+u*f+(127>=
c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(p*c+u*f+(127>=c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(p*c+u*f+(127>=c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/n|0;b.data[a+3]=n}}};k.hardLightOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+
3]*x/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(u*f+B*n+(127>=f?2*p*f*n/255:p*(2*(f^255)*(n^255)/255^255)))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(u*f+B*n+(127>=f?2*p*f*n/255:p*(2*(f^255)*(n^255)/255^255)))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(u*f+B*n+(127>=f?2*p*f*n/255:p*(2*(f^255)*(n^255)/255^255)))/e|0;b.data[a+3]=e}}};k.hardLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=
a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=(p*B+(127>=u?2*e*u*B/255:e*(2*(u^255)*(B^255)/255^255)))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(p*B+(127>=u?2*e*u*B/255:e*(2*(u^255)*(B^255)/255^255)))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=(p*B+
(127>=u?2*e*u*B/255:e*(2*(u^255)*(B^255)/255^255)))/255|0}}};k.hardLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(u*C+(127>=B?2*p*B*C/255:p*(2*(B^255)*(C^255)/255^255)))/255|0;B=d.data[c+
1];C=b.data[c+1];b.data[c+1]=(u*C+(127>=B?2*p*B*C/255:p*(2*(B^255)*(C^255)/255^255)))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+(127>=B?2*p*B*C/255:p*(2*(B^255)*(C^255)/255^255)))/255|0}}};k.hardLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|
0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(C*e+A*p+(127>=e?2*B*e*p/255:B*(2*(e^255)*(p^255)/255^255)))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(C*e+A*p+(127>=e?2*B*e*p/255:B*(2*(e^255)*(p^255)/255^255)))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(C*e+A*p+(127>=e?2*B*e*p/255:B*(2*(e^255)*(p^255)/255^255)))/u|0;b.data[h+3]=u}}};k.hardLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=
a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(A*p+I*u+(127>=p?2*C*p*u/255:C*(2*(p^255)*(u^255)/255^255)))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(A*p+I*u+(127>=p?2*C*p*u/255:C*(2*(p^
255)*(u^255)/255^255)))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(A*p+I*u+(127>=p?2*C*p*u/255:C*(2*(p^255)*(u^255)/255^255)))/B|0;b.data[c+3]=B}}};k.softLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(f*e+c*(127>=n?((2*n-255)*v[e]/255|0)+e:((2*n-255)*E[e]/255|0)+e))/255|
0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+c*(127>=n?((2*n-255)*v[e]/255|0)+e:((2*n-255)*E[e]/255|0)+e))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+c*(127>=n?((2*n-255)*v[e]/255|0)+e:((2*n-255)*E[e]/255|0)+e))/255|0}}};k.softLightOntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=f^255;var e=d.data[a];var p=
b.data[a];b.data[a]=(n*p+f*(127>=e?((2*e-255)*v[p]/255|0)+p:((2*e-255)*E[p]/255|0)+p))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(n*p+f*(127>=e?((2*e-255)*v[p]/255|0)+p:((2*e-255)*E[p]/255|0)+p))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(n*p+f*(127>=e?((2*e-255)*v[p]/255|0)+p:((2*e-255)*E[p]/255|0)+p))/255|0}}};k.softLightOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=
q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(p*c+u*f+(127>=c?e*(((2*c-255)*v[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(p*c+u*f+(127>=c?e*(((2*c-255)*v[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(p*c+u*f+(127>=c?e*(((2*c-255)*v[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/n|0;b.data[a+
3]=n}}};k.softLightOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(u*f+B*n+(127>=f?p*(((2*f-255)*v[n]/255|0)+n):p*(((2*f-255)*E[n]/255|0)+n)))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(u*
f+B*n+(127>=f?p*(((2*f-255)*v[n]/255|0)+n):p*(((2*f-255)*E[n]/255|0)+n)))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(u*f+B*n+(127>=f?p*(((2*f-255)*v[n]/255|0)+n):p*(((2*f-255)*E[n]/255|0)+n)))/e|0;b.data[a+3]=e}}};k.softLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*
m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=(p*B+e*(127>=u?((2*u-255)*v[B]/255|0)+B:((2*u-255)*E[B]/255|0)+B))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(p*B+e*(127>=u?((2*u-255)*v[B]/255|0)+B:((2*u-255)*E[B]/255|0)+B))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=(p*B+e*(127>=u?((2*u-255)*v[B]/255|0)+B:((2*u-255)*E[B]/255|0)+B))/255|0}}};k.softLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-
r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(u*C+p*(127>=B?((2*B-255)*v[C]/255|0)+C:((2*B-255)*E[C]/255|0)+C))/255|0;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+p*(127>=B?((2*B-255)*v[C]/255|0)+C:((2*B-255)*E[C]/255|0)+C))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+p*(127>=B?((2*B-255)*v[C]/
255|0)+C:((2*B-255)*E[C]/255|0)+C))/255|0}}};k.softLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(C*e+A*p+(127>=e?B*
(((2*e-255)*v[p]/255|0)+p):B*(((2*e-255)*E[p]/255|0)+p)))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(C*e+A*p+(127>=e?B*(((2*e-255)*v[p]/255|0)+p):B*(((2*e-255)*E[p]/255|0)+p)))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(C*e+A*p+(127>=e?B*(((2*e-255)*v[p]/255|0)+p):B*(((2*e-255)*E[p]/255|0)+p)))/u|0;b.data[h+3]=u}}};k.softLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-
r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(A*p+I*u+(127>=p?C*(((2*p-255)*v[u]/255|0)+u):C*(((2*p-255)*E[u]/255|0)+u)))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(A*p+I*u+(127>=p?C*(((2*p-255)*v[u]/255|0)+u):C*(((2*p-255)*E[u]/255|0)+u)))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+
2]=(A*p+I*u+(127>=p?C*(((2*p-255)*v[u]/255|0)+u):C*(((2*p-255)*E[u]/255|0)+u)))/B|0;b.data[c+3]=B}}};k.vividLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=n?c*(0==n?0:255-Math.min(255,255*(255-e)/(2*n)|0)):c*(255==n?255:Math.min(255,255*e/(2*(255-n))|0))))/255|0;
n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=n?c*(0==n?0:255-Math.min(255,255*(255-e)/(2*n)|0)):c*(255==n?255:Math.min(255,255*e/(2*(255-n))|0))))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+(127>=n?c*(0==n?0:255-Math.min(255,255*(255-e)/(2*n)|0)):c*(255==n?255:Math.min(255,255*e/(2*(255-n))|0))))/255|0}}};k.vividLightOntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=
r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=(n*p+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-p)/(2*e)|0)):f*(255==e?255:Math.min(255,255*p/(2*(255-e))|0))))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(n*p+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-p)/(2*e)|0)):f*(255==e?255:Math.min(255,255*p/(2*(255-e))|0))))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(n*p+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-p)/(2*e)|0)):f*(255==
e?255:Math.min(255,255*p/(2*(255-e))|0))))/255|0}}};k.vividLightOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(p*c+u*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,
255*f/(2*(255-c))|0))))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(p*c+u*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,255*f/(2*(255-c))|0))))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(p*c+u*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,255*f/(2*(255-c))|0))))/n|0;b.data[a+3]=n}}};k.vividLightOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(u*f+B*n+(127>=f?p*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):p*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(u*f+B*n+(127>=f?p*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):p*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/e|0;f=d.data[a+
2];n=b.data[a+2];b.data[a+2]=(u*f+B*n+(127>=f?p*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):p*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/e|0;b.data[a+3]=e}}};k.vividLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];
var B=b.data[h];b.data[h]=(p*B+(127>=u?e*(0==u?0:255-Math.min(255,255*(255-B)/(2*u)|0)):e*(255==u?255:Math.min(255,255*B/(2*(255-u))|0))))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(p*B+(127>=u?e*(0==u?0:255-Math.min(255,255*(255-B)/(2*u)|0)):e*(255==u?255:Math.min(255,255*B/(2*(255-u))|0))))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=(p*B+(127>=u?e*(0==u?0:255-Math.min(255,255*(255-B)/(2*u)|0)):e*(255==u?255:Math.min(255,255*B/(2*(255-u))|0))))/255|0}}};k.vividLightOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(u*C+(127>=B?p*(0==B?0:255-Math.min(255,255*(255-C)/(2*B)|0)):p*(255==B?255:Math.min(255,255*C/(2*(255-B))|0))))/255|0;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+(127>=B?p*(0==B?0:255-
Math.min(255,255*(255-C)/(2*B)|0)):p*(255==B?255:Math.min(255,255*C/(2*(255-B))|0))))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+(127>=B?p*(0==B?0:255-Math.min(255,255*(255-C)/(2*B)|0)):p*(255==B?255:Math.min(255,255*C/(2*(255-B))|0))))/255|0}}};k.vividLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=
0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(C*e+A*p+(127>=e?B*(0==e?0:255-Math.min(255,255*(255-p)/(2*e)|0)):B*(255==e?255:Math.min(255,255*p/(2*(255-e))|0))))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(C*e+A*p+(127>=e?B*(0==e?0:255-Math.min(255,255*(255-p)/(2*e)|0)):B*(255==e?255:Math.min(255,255*p/(2*(255-e))|0))))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+
2]=(C*e+A*p+(127>=e?B*(0==e?0:255-Math.min(255,255*(255-p)/(2*e)|0)):B*(255==e?255:Math.min(255,255*p/(2*(255-e))|0))))/u|0;b.data[h+3]=u}}};k.vividLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|
0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(A*p+I*u+(127>=p?C*(0==p?0:255-Math.min(255,255*(255-u)/(2*p)|0)):C*(255==p?255:Math.min(255,255*u/(2*(255-p))|0))))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(A*p+I*u+(127>=p?C*(0==p?0:255-Math.min(255,255*(255-u)/(2*p)|0)):C*(255==p?255:Math.min(255,255*u/(2*(255-p))|0))))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(A*p+I*u+(127>=p?C*(0==p?0:255-Math.min(255,255*(255-u)/(2*p)|0)):C*(255==p?255:Math.min(255,
255*u/(2*(255-p))|0))))/B|0;b.data[c+3]=B}}};k.linearLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=b.data[a];b.data[a]=(f*n+c*Math.min(255,Math.max(0,n+2*d.data[a]-255)))/255|0;n=b.data[a+1];b.data[a+1]=(f*n+c*Math.min(255,Math.max(0,n+2*d.data[a+1]-255)))/255|0;n=b.data[a+2];b.data[a+2]=(f*n+c*Math.min(255,
Math.max(0,n+2*d.data[a+2]-255)))/255|0}}};k.linearLightOntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=f^255;var e=b.data[a];b.data[a]=(n*e+f*Math.min(255,Math.max(0,e+2*d.data[a]-255)))/255|0;e=b.data[a+1];b.data[a+1]=(n*e+f*Math.min(255,Math.max(0,e+2*d.data[a+1]-255)))/255|0;e=b.data[a+2];b.data[a+2]=(n*e+f*Math.min(255,
Math.max(0,e+2*d.data[a+2]-255)))/255|0}}};k.linearLightOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(p*c+u*f+e*Math.min(255,Math.max(0,f+2*c-255)))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(p*c+u*f+
e*Math.min(255,Math.max(0,f+2*c-255)))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(p*c+u*f+e*Math.min(255,Math.max(0,f+2*c-255)))/n|0;b.data[a+3]=n}}};k.linearLightOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];
n=b.data[a];b.data[a]=(u*f+B*n+p*Math.min(255,Math.max(0,n+2*f-255)))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(u*f+B*n+p*Math.min(255,Math.max(0,n+2*f-255)))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(u*f+B*n+p*Math.min(255,Math.max(0,n+2*f-255)))/e|0;b.data[a+3]=e}}};k.linearLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,
h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=b.data[h];b.data[h]=(p*u+e*Math.min(255,Math.max(0,u+2*d.data[h]-255)))/255|0;u=b.data[h+1];b.data[h+1]=(p*u+e*Math.min(255,Math.max(0,u+2*d.data[h+1]-255)))/255|0;u=b.data[h+2];b.data[h+2]=(p*u+e*Math.min(255,Math.max(0,u+2*d.data[h+2]-255)))/255|0}}};k.linearLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,
a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var B=b.data[c];b.data[c]=(u*B+p*Math.min(255,Math.max(0,B+2*d.data[c]-255)))/255|0;B=b.data[c+1];b.data[c+1]=(u*B+p*Math.min(255,Math.max(0,B+2*d.data[c+1]-255)))/255|0;B=b.data[c+2];b.data[c+2]=(u*B+p*Math.min(255,Math.max(0,B+2*d.data[c+2]-255)))/255|0}}};k.linearLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,
x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(C*e+A*p+B*Math.min(255,Math.max(0,p+2*e-255)))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(C*e+A*p+B*Math.min(255,Math.max(0,p+2*
e-255)))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(C*e+A*p+B*Math.min(255,Math.max(0,p+2*e-255)))/u|0;b.data[h+3]=u}}};k.linearLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=
p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(A*p+I*u+C*Math.min(255,Math.max(0,u+2*p-255)))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(A*p+I*u+C*Math.min(255,Math.max(0,u+2*p-255)))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+2]=(A*p+I*u+C*Math.min(255,Math.max(0,u+2*p-255)))/B|0;b.data[c+3]=B}}};k.pinLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=
0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var n=d.data[a];var e=b.data[a];b.data[a]=(f*e+c*(e>=2*n?2*n:e<=2*n-255?2*n-255:e))/255|0;n=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+c*(e>=2*n?2*n:e<=2*n-255?2*n-255:e))/255|0;n=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+c*(e>=2*n?2*n:e<=2*n-255?2*n-255:e))/255|0}}};k.pinLightOntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=
0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=f^255;var e=d.data[a];var p=b.data[a];b.data[a]=(n*p+f*(p>=2*e?2*e:p<=2*e-255?2*e-255:p))/255|0;e=d.data[a+1];p=b.data[a+1];b.data[a+1]=(n*p+f*(p>=2*e?2*e:p<=2*e-255?2*e-255:p))/255|0;e=d.data[a+2];p=b.data[a+2];b.data[a+2]=(n*p+f*(p>=2*e?2*e:p<=2*e-255?2*e-255:p))/255|0}}};k.pinLightOntoTransparentFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,
a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var n=c+f-(c*f/255|0)|0,e=c*f/255|0,p=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(p*c+u*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/n|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(p*c+u*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/n|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(p*c+u*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/n|0;b.data[a+3]=n}}};k.pinLightOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=
a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=b.data[a+3];var e=f+n-(f*n/255|0)|0,p=f*n/255|0,u=f*(n^255)/255|0,B=(f^255)*n/255|0;f=d.data[a];n=b.data[a];b.data[a]=(u*f+B*n+p*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/e|0;f=d.data[a+1];n=b.data[a+1];b.data[a+1]=(u*f+B*n+p*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/e|0;f=d.data[a+2];n=b.data[a+2];b.data[a+2]=(u*f+B*n+p*(n>=2*f?2*f:n<=2*f-
255?2*f-255:n))/e|0;b.data[a+3]=e}}};k.pinLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;if(e){var p=e^255;var u=d.data[h];var B=b.data[h];b.data[h]=(p*B+e*(B>=2*u?2*u:B<=2*u-255?2*u-255:B))/255|0;u=d.data[h+1];B=b.data[h+1];b.data[h+1]=(p*B+e*(B>=2*u?
2*u:B<=2*u-255?2*u-255:B))/255|0;u=d.data[h+2];B=b.data[h+2];b.data[h+2]=(p*B+e*(B>=2*u?2*u:B<=2*u-255?2*u-255:B))/255|0}}};k.pinLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var B=d.data[c];var C=b.data[c];b.data[c]=(u*C+p*
(C>=2*B?2*B:C<=2*B-255?2*B-255:C))/255|0;B=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+p*(C>=2*B?2*B:C<=2*B-255?2*B-255:C))/255|0;B=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+p*(C>=2*B?2*B:C<=2*B-255?2*B-255:C))/255|0}}};k.pinLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++){var e=d.data[h+
3]*m.data[a]/255|0;if(e){var p=b.data[h+3];var u=e+p-(e*p/255|0)|0,B=e*p/255|0,C=e*(p^255)/255|0,A=(e^255)*p/255|0;e=d.data[h];p=b.data[h];b.data[h]=(C*e+A*p+B*(p>=2*e?2*e:p<=2*e-255?2*e-255:p))/u|0;e=d.data[h+1];p=b.data[h+1];b.data[h+1]=(C*e+A*p+B*(p>=2*e?2*e:p<=2*e-255?2*e-255:p))/u|0;e=d.data[h+2];p=b.data[h+2];b.data[h+2]=(C*e+A*p+B*(p>=2*e?2*e:p<=2*e-255?2*e-255:p))/u|0;b.data[h+3]=u}}};k.pinLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|
0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;if(p){var u=b.data[c+3];var B=p+u-(p*u/255|0)|0,C=p*u/255|0,A=p*(u^255)/255|0,I=(p^255)*u/255|0;p=d.data[c];u=b.data[c];b.data[c]=(A*p+I*u+C*(u>=2*p?2*p:u<=2*p-255?2*p-255:u))/B|0;p=d.data[c+1];u=b.data[c+1];b.data[c+1]=(A*p+I*u+C*(u>=2*p?2*p:u<=2*p-255?2*p-255:u))/B|0;p=d.data[c+2];u=b.data[c+2];b.data[c+
2]=(A*p+I*u+C*(u>=2*p?2*p:u<=2*p-255?2*p-255:u))/B|0;b.data[c+3]=B}}};k.passthroughOntoOpaqueFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3],n=x/100,e=1-n,p=f*n+255*e;b.data[a]=(d.data[a]*f*n+255*b.data[a]*e)/p|0;b.data[a+1]=(d.data[a+1]*f*n+255*b.data[a+1]*e)/p|0;b.data[a+2]=(d.data[a+2]*f*n+255*b.data[a+2]*e)/p|0;b.data[a+3]=p}};k.passthroughOntoOpaqueFusionWithOpaqueLayer=
k.passthroughOntoOpaqueFusionWithTransparentLayer;k.passthroughOntoTransparentFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3],n=b.data[a+3],e=x/100,p=1-e,u=f*e+n*p;b.data[a]=(d.data[a]*f*e+b.data[a]*n*p)/u|0;b.data[a+1]=(d.data[a+1]*f*e+b.data[a+1]*n*p)/u|0;b.data[a+2]=(d.data[a+2]*f*e+b.data[a+2]*n*p)/u|0;b.data[a+3]=u}};k.passthroughOntoTransparentFusionWithOpaqueLayer=
k.passthroughOntoTransparentFusionWithTransparentLayer;k.passthroughOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3],u=m.data[a]*x/25500,B=1-u,C=p*u+255*B;b.data[c]=(d.data[c]*p*u+255*b.data[c]*B)/C|0;b.data[c+1]=(d.data[c+1]*p*u+255*b.data[c+1]*B)/C|0;b.data[c+2]=(d.data[c+
2]*p*u+255*b.data[c+2]*B)/C|0;b.data[c+3]=C}};k.passthroughOntoOpaqueFusionWithOpaqueLayerMasked=k.passthroughOntoOpaqueFusionWithTransparentLayerMasked;k.passthroughOntoTransparentFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3],u=b.data[c+3],B=m.data[a]*x/25500,C=1-B,A=p*B+u*C;
b.data[c]=(d.data[c]*p*B+b.data[c]*u*C)/A|0;b.data[c+1]=(d.data[c+1]*p*B+b.data[c+1]*u*C)/A|0;b.data[c+2]=(d.data[c+2]*p*B+b.data[c+2]*u*C)/A|0;b.data[c+3]=A}};k.passthroughOntoTransparentFusionWithOpaqueLayerMasked=k.passthroughOntoTransparentFusionWithTransparentLayerMasked;k.replaceOntoFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|
0;b.data[a]=d.data[a];b.data[a+1]=d.data[a+1];b.data[a+2]=d.data[a+2];b.data[a+3]=f}};k.replaceOntoFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];b.data[a]=d.data[a];b.data[a+1]=d.data[a+1];b.data[a+2]=d.data[a+2];b.data[a+3]=c}};k.replaceOntoFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-
r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++){var p=d.data[c+3]*m.data[a]*x/25500|0;b.data[c]=d.data[c];b.data[c+1]=d.data[c+1];b.data[c+2]=d.data[c+2];b.data[c+3]=p}};k.replaceOntoFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=
0;n<q;n++,h+=4,a++){var e=d.data[h+3]*m.data[a]/255|0;b.data[h]=d.data[h];b.data[h+1]=d.data[h+1];b.data[h+2]=d.data[h+2];b.data[h+3]=e}};k.replaceAlphaOntoFusionWithTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4)b.data[a+3]=d.data[a+3]*x/100|0};k.replaceAlphaOntoFusionWithTransparentLayerMasked=function(b,d,x,a,m){var q=a.getHeight()|0,r=a.getWidth()|0,h=4*(d.width-r)|
0,c=d.offsetOfPixel(a.left,a.top)|0,f=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<q;n++,c+=h,a+=f)for(var e=0;e<r;e++,c+=4,a++)b.data[c+3]=d.data[c+3]*m.data[a]*x/25500|0};k.replaceAlphaOntoFusionWithOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4)b.data[a+3]=d.data[a+3]};k.replaceAlphaOntoFusionWithOpaqueLayerMasked=function(b,d,x,a,m){x=a.getHeight()|0;var q=
a.getWidth()|0,r=4*(d.width-q)|0,h=d.offsetOfPixel(a.left,a.top)|0,c=m.width-q|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<x;f++,h+=r,a+=c)for(var n=0;n<q;n++,h+=4,a++)b.data[h+3]=d.data[h+3]*m.data[a]/255|0};k.upgradeMultiplyOfOpaqueLayer=function(b,d,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,q=4*(d.width-m)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<x;r++,a+=q)for(var h=0;h<m;h++,a+=4){var c=d.data[a+3];if(c){var f=d.data[a];var n=b.data[a];d.data[a]=f+Math.ceil((255-f)*n*c%65025/
(n*c));f=d.data[a+1];n=b.data[a+1];d.data[a+1]=f+Math.ceil((255-f)*n*c%65025/(n*c));f=d.data[a+2];n=b.data[a+2];d.data[a+2]=f+Math.ceil((255-f)*n*c%65025/(n*c))}}};k.upgradeMultiplyOfTransparentLayer=function(b,d,x,a){var m=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<m;h++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*x/100|0;if(f){var n=d.data[a];var e=b.data[a];d.data[a]=n+Math.ceil((255-n)*e*f%65025/(e*f));n=d.data[a+1];e=b.data[a+1];d.data[a+
1]=n+Math.ceil((255-n)*e*f%65025/(e*f));n=d.data[a+2];e=b.data[a+2];d.data[a+2]=n+Math.ceil((255-n)*e*f%65025/(e*f))}}};k._normalFuseImageOntoImageAtPosition=function(b,d,x,a,m,q){x=a.getHeight()|0;var r=a.getWidth()|0,h=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;var c=4*(b.width-r)|0;m=b.offsetOfPixel(m,q)|0;for(q=0;q<x;q++,a+=h,m+=c)for(var f=0;f<r;f++,a+=4,m+=4){var n=d.data[a+3];if(n){var e=b.data[m+3];e=n+e-(n*e/255|0)|0;n=255*n/e|0;var p=255-n;b.data[m]=(d.data[a]*n+b.data[m]*p)/255|
0;b.data[m+1]=(d.data[a+1]*n+b.data[m+1]*p)/255|0;b.data[m+2]=(d.data[a+2]*n+b.data[m+2]*p)/255|0;b.data[m+3]=e}}};k.LM_NORMAL=0;k.LM_MULTIPLY=1;k.LM_ADD=2;k.LM_SCREEN=3;k.LM_LIGHTEN=4;k.LM_DARKEN=5;k.LM_SUBTRACT=6;k.LM_DODGE=7;k.LM_BURN=8;k.LM_OVERLAY=9;k.LM_HARDLIGHT=10;k.LM_SOFTLIGHT=11;k.LM_VIVIDLIGHT=12;k.LM_LINEARLIGHT=13;k.LM_PINLIGHT=14;k.LM_PASSTHROUGH=15;k.LM_MULTIPLY2=16;k.LM_FIRST=0;k.LM_LAST=16;k.LM_LAST_CHIBIPAINT=k.LM_PINLIGHT;k.BLEND_MODE_CODENAMES="normal multiply add screen lighten darken subtract dodge burn overlay hardLight softLight vividLight linearLight pinLight passthrough multiply2".split(" ");
k.BLEND_MODE_DISPLAY_NAMES="Normal;Multiply;Add;Screen;Lighten;Darken;Subtract;Dodge;Burn;Overlay;Hard Light;Soft Light;Vivid Light;Linear Light;Pin Light;Passthrough;Multiply".split(";");(function(){for(var b=0;256>b;b++){var d=b/255;v[b]=255*(d-d*d)|0}for(b=0;256>b;b++)d=b/255,E[b]=255*(Math.sqrt(d)-d)|0})();L.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPLayer.js":16}],6:[function(g,L,D){function y(b){return b&&b.__esModule?b:{default:b}}var k=y(g("./CPBlend.js")),
v=y(g("../util/CPRect.js")),E=y(g("./CPColorBmp.js"));y(g("./CPGreyBmp.js"));k.default.blendFunctionNameForParameters=function(b,d,x,a){x=k.default.BLEND_MODE_CODENAMES[x]+"Onto";x=b?x+"TransparentFusion":x+"OpaqueFusion";x=100==d?x+"WithOpaqueLayer":x+"WithTransparentLayer";a&&(x+="Masked");return x};k.default.fuseImageOntoImage=function(b,d,x,a,m,q,r){0>=a||(d=k.default.blendFunctionNameForParameters(d,a,m,null!=r),q=b.getBounds().clipTo(q),this[d](b,x,a,q,r))};k.default.normalFuseImageOntoImageAtPosition=
function(b,d,x,a,m){m=m.clone();x=new v.default(x,a,0,0);b.getBounds().clipSourceDest(m,x);this._normalFuseImageOntoImageAtPosition(b,d,100,m,x.left,x.top)};k.default.multiplyAlphaBy=function(b,d){if(100>d)if(0==d)b.clearAll(0);else{b=b.data;for(var x=3;x<b.length;x+=4)b[x]=Math.round(b[x]*d/100)}};k.default.multiplyAlphaByMask=function(b,d,x){d/=25500;for(var a=E.default.ALPHA_BYTE_OFFSET,m=0;a<b.data.length;a+=E.default.BYTES_PER_PIXEL,m++)b.data[a]=Math.round(b.data[a]*x.data[m]*d)};k.default.copyAndMultiplyAlphaBy=
function(b,d,x,a){if(100==x)b.copyBitmapRect(d,a.left,a.top,a);else if(0==x)b.clearRect(a,0);else for(b=d.data,d=0;d<b.length;d+=4)b[d]=b[d],b[d+1]=b[d+1],b[d+2]=b[d+2],b[d+3]=Math.round(b[d+3]*x/100)}},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],7:[function(g,L,D){function y(r){return r&&r.__esModule?r:{default:r}}function k(r,h){var c="undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!c){if(Array.isArray(r)||(c=v(r))||h&&r&&"number"===typeof r.length){c&&
(r=c);var f=0;h=function(){};return{s:h,n:function(){return f>=r.length?{done:!0}:{done:!1,value:r[f++]}},e:function(u){throw u;},f:h}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var n=!0,e=!1,p;return{s:function(){c=c.call(r)},n:function(){var u=c.next();n=u.done;return u},e:function(u){e=!0;p=u},f:function(){try{n||null==c.return||c.return()}finally{if(e)throw p;}}}}function v(r,h){if(r){if("string"===
typeof r)return E(r,h);var c=Object.prototype.toString.call(r).slice(8,-1);"Object"===c&&r.constructor&&(c=r.constructor.name);if("Map"===c||"Set"===c)return Array.from(r);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return E(r,h)}}function E(r,h){if(null==h||h>r.length)h=r.length;for(var c=0,f=Array(h);c<h;c++)f[c]=r[c];return f}function b(r,h,c){c?(this.isGroup=c instanceof x.default,this.image=c.image,this.mask=c.getEffectiveMask(),this.layer=c,this.blendMode=c.blendMode,
this.alpha=c.alpha,this.visible=c.visible):(this.isGroup=!0,this.layer=this.mask=this.image=null,this.blendMode=d.default.LM_PASSTHROUGH,this.alpha=100,this.visible=!0);this.dirtyRect=new q.default(0,0,r,h);this.layers=[];this.parent=null;this.clip=!1}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(r,h,c,f){function n(){return 0<O.length?O.pop():new a.default(h,c)}function e(G){if(0==G.layers.length)return null;if(1==G.layers.length&&(null==G.mask||null==G.layers[0].mask)){var H=
G.layers[0];H.alpha=Math.round(G.alpha*H.alpha/100);G.blendMode!=d.default.LM_PASSTHROUGH&&(H.blendMode=G.blendMode);H.mask=G.mask||H.mask;G.layer&&z.set(G.layer,H);return H}if(G.blendMode==d.default.LM_PASSTHROUGH&&100==G.alpha&&null==G.mask)return G.layers;G.image=n();return G}function p(G){var H=new b(h,c,G);z.set(G,H);return H}function u(G){if(0==G.getEffectiveAlpha())return null;for(var H=p(G),J=0;J<G.layers.length;J++){var K=G.layers[J],S=G.layers[J+1];if(K instanceof m.default&&S&&S.clip){S=
new b(h,c,null);S.blendMode=K.blendMode;S.alpha=100;S.clip=!0;S.addChildren(p(K));for(J+=1;J<G.layers.length;J++)if(G.layers[J].clip)0<G.layers[J].getEffectiveAlpha()&&S.addChildren(p(G.layers[J]));else break;0<K.getEffectiveAlpha()&&H.addChildren(e(S));--J}else K instanceof x.default?H.addChildren(u(K)):0<K.getEffectiveAlpha()&&H.addChildren(p(K))}return e(H)}function B(G,H){G&&(G.dirtyRect.union(H),B(G.parent,H))}function C(G){if(G.isGroup){G.image&&O.push(G.image);G=k(G.layers);var H;try{for(G.s();!(H=
G.n()).done;)C(H.value)}catch(J){G.e(J)}finally{G.f()}}}function A(G){if(!G||!G.isGroup)return G;var H=G.dirtyRect,J=!0,K=!0;G.blendMode==d.default.LM_PASSTHROUGH&&G.parent&&H.union(G.parent.dirtyRect);if(H.isEmpty())return G;if(G.blendMode==d.default.LM_PASSTHROUGH&&G.parent){J=!1;var S=G.image,da=G.parent.image;H.getWidth()==S.width&&H.getHeight()==S.height?S.copyPixelsFrom(da):d.default.replaceOntoFusionWithOpaqueLayer(S,da,100,H)}for(S=0;S<G.layers.length;S++){var Y=A(G.layers[S]);if(J){J=G.image;
da=Y.image;var ra=Y.alpha,ma=H;Y=Y.mask;if(100!=ra||Y||ma.getWidth()!=J.width||ma.getHeight()!=J.height){var Q="replaceOntoFusionWith";Q=100==ra?Q+"OpaqueLayer":Q+"TransparentLayer";Y&&(Q+="Masked");d.default[Q](J,da,ra,ma,Y)}else J.copyPixelsFrom(da);J=!1}else K=K&&G.image.hasAlphaInRect(H),d.default.fuseImageOntoImage(G.image,K,Y.image,Y.alpha,Y.blendMode,H,Y.mask)}G.clip&&(K=G.layers[0],100>K.alpha?K.mask?d.default.replaceAlphaOntoFusionWithTransparentLayerMasked(G.image,K.image,K.alpha,H,K.mask):
d.default.replaceAlphaOntoFusionWithTransparentLayer(G.image,K.image,K.alpha,H):K.mask?d.default.replaceAlphaOntoFusionWithOpaqueLayerMasked(G.image,K.image,100,H,K.mask):d.default.replaceAlphaOntoFusionWithOpaqueLayer(G.image,K.image,100,H));G.dirtyRect.makeEmpty();return G}var I,O=[],z=new Map;this.invalidateLayerRect=function(G,H){G=z.get(G);B(G,H)};this.buildTree=function(){if(!I){I=u(r);if(!I)I=new b(h,c,{image:n(),blendMode:d.default.LM_NORMAL,alpha:100,getEffectiveMask:function(){return null},
visible:!0}),I.image.clearAll(0);else if(Array.isArray(I)||f&&(100>I.alpha||I.mask)){var G=I;I=new b(h,c);I.blendMode=Array.isArray(G)?d.default.LM_NORMAL:G.blendMode;I.alpha=100;I.image=n();I.addChildren(G)}O=[]}};this.resetTree=function(){I&&(C(I),I=null,z.clear())};this.layerPropertyChanged=function(G,H){var J=z.get(G);J&&J.visible==G.visible&&J.alpha==G.alpha&&null==J.mask==(null==G.getEffectiveMask())&&J.blendMode==d.default.LM_PASSTHROUGH==(G.blendMode==d.default.LM_PASSTHROUGH)&&"clip"!==H?
(J.blendMode=G.blendMode,B(J,new q.default(0,0,h,c))):this.resetTree()};this.blendTree=function(){return A(I)}};var d=y(g("./CPBlend.js"));g("./CPBlendAdditional.js");y(g("./CPLayer.js"));var x=y(g("./CPLayerGroup.js")),a=y(g("./CPColorBmp.js")),m=y(g("./CPImageLayer.js")),q=y(g("../util/CPRect.js"));b.prototype.addChildren=function(r){var h=this;null!=r&&(Array.isArray(r)?(r.forEach(function(c){return c.parent=h}),this.layers=this.layers.concat(r)):(r.parent=this,this.layers.push(r)))};L.exports=
D.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"./CPLayer.js":16,"./CPLayerGroup.js":17}],8:[function(g,L,D){function y(k){for(var v in y.DEFAULTS)y.DEFAULTS.hasOwnProperty(v)&&(this[v]=y.DEFAULTS[v]);for(v in k)k.hasOwnProperty(v)&&(this[v]=k[v])}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.STROKE_MODE_FREEHAND=0;y.STROKE_MODE_LINE=1;y.STROKE_MODE_BEZIER=2;y.TIP_ROUND_PIXEL=0;y.TIP_ROUND_AA=1;y.TIP_ROUND_AIRBRUSH=
2;y.TIP_SQUARE_PIXEL=3;y.TIP_SQUARE_AA=4;y.BRUSH_MODE_PAINT=0;y.BRUSH_MODE_ERASE=1;y.BRUSH_MODE_DODGE=2;y.BRUSH_MODE_BURN=3;y.BRUSH_MODE_WATER=4;y.BRUSH_MODE_BLUR=5;y.BRUSH_MODE_SMUDGE=6;y.BRUSH_MODE_OIL=7;y.PAINT_MODE_OPACITY=0;y.PAINT_MODE_FLOW=1;y.DEFAULTS={isAA:!1,minSpacing:0,spacing:0,pressureSize:!0,pressureAlpha:!1,pressureScattering:!1,alphaScale:1,tip:y.TIP_ROUND_PIXEL,brushMode:y.BRUSH_MODE_PAINT,paintMode:y.PAINT_MODE_OPACITY,strokeMode:y.STROKE_MODE_FREEHAND,resat:1,bleed:0,texture:1,
size:0,curSize:0,alpha:0,curAlpha:0,scattering:0,curScattering:0,squeeze:0,curSqueeze:0,angle:Math.PI,curAngle:0,smoothing:0};y.prototype.applyPressure=function(k){this.curSize=this.pressureSize&&this.brushMode!=y.BRUSH_MODE_SMUDGE&&this.brushMode!=y.BRUSH_MODE_OIL?Math.max(.1,this.size*k):Math.max(.1,this.size);16<this.curSize&&(this.curSize=Math.floor(this.curSize));this.curSize=Math.min(this.curSize,400);this.curAlpha=this.pressureAlpha?Math.floor(this.alpha*Math.min(k,1)):this.alpha;this.curSqueeze=
this.squeeze;this.curAngle=this.angle;this.curScattering=this.scattering*this.curSize*(this.pressureScattering?k:1)};y.prototype.clone=function(){return new y(this)};L.exports=D.default},{}],9:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){function v(c){if(null!=x&&c.curSize==a&&c.curSqueeze==m&&c.curAngle==q&&c.tip==r)return x;switch(c.tip){case y.default.TIP_ROUND_AIRBRUSH:for(var f=E,n=Math.ceil(c.curSize),e=n/2,p=c.curSize/2*(c.curSize/2),u=1+c.curSqueeze*
k,B=Math.cos(c.curAngle),C=Math.sin(c.curAngle),A=0,I=0;I<n;I++)for(var O=0;O<n;O++){var z=O+.5-e,G=I+.5-e,H=(z*B-G*C)*u;z=G*B+z*C;H=H*H+z*z;H<=p?f[A++]=~~(255*(1-H/p)):f[A++]=0}break;case y.default.TIP_ROUND_AA:f=E;n=Math.ceil(c.curSize);e=n/2;p=c.curSize/2*(c.curSize/2);u=(c.curSize-2)/2*((c.curSize-2)/2);B=(c.curSize+2)/2*((c.curSize+2)/2);C=1+c.curSqueeze*k;A=Math.cos(c.curAngle);I=Math.sin(c.curAngle);for(H=O=0;H<n;H++)for(z=0;z<n;z++){var J=z+.5-e,K=H+.5-e,S=(J*A-K*I)*C;J=K*A+J*I;S=S*S+J*J;
if(S<=u)f[O++]=255;else if(S>B)f[O++]=0;else{for(var da=G=0;4>da;da++)for(var Y=0;4>Y;Y++)J=z+.25*Y-e,K=H+.25*da-e,S=(J*A-K*I)*C,J=K*A+J*I,S=S*S+J*J,S<=p&&(G+=1);f[O++]=Math.min(16*G,255)}}break;case y.default.TIP_ROUND_PIXEL:f=E;n=Math.ceil(c.curSize);e=n/2;p=c.curSize/2*(c.curSize/2);u=1+c.curSqueeze*k;B=Math.cos(c.curAngle);C=Math.sin(c.curAngle);for(I=A=0;I<n;I++)for(O=0;O<n;O++)z=O+.5-e,G=I+.5-e,H=(z*B-G*C)*u,z=G*B+z*C,H*H+z*z<=p?f[A++]=255:f[A++]=0;break;case y.default.TIP_SQUARE_AA:f=E;n=Math.ceil(c.curSize);
e=n/2;u=c.curSize*Math.sin(Math.PI/4);p=u/2/(1+c.curSqueeze*k);u/=2;B=p-1;C=u-1;A=p+1;I=u+1;O=Math.cos(c.curAngle);H=Math.sin(c.curAngle);for(G=z=0;G<n;G++)for(da=0;da<n;da++){var ra=da+.5-e,ma=G+.5-e;Y=Math.abs(ra*O-ma*H);ra=Math.abs(ma*O+ra*H);if(Y<=B&&ra<=C)f[z++]=255;else if(Y>A||ra>I)f[z++]=0;else{for(J=S=0;4>J;J++)for(K=0;4>K;K++)ra=da+.25*K-e,ma=G+.25*J-e,Y=Math.abs(ra*O-ma*H),ra=Math.abs(ma*O+ra*H),Y<=p&&ra<=u&&S++;f[z++]=Math.min(16*S,255)}}break;case y.default.TIP_SQUARE_PIXEL:for(f=E,n=
Math.ceil(c.curSize),e=n/2,u=c.curSize*Math.sin(Math.PI/4),p=u/2/(1+c.curSqueeze*k),u/=2,B=Math.cos(c.curAngle),C=Math.sin(c.curAngle),I=A=0;I<n;I++)for(O=0;O<n;O++)H=O+.5-e,z=I+.5-e,G=Math.abs(z*B+H*C),Math.abs(H*B-z*C)<=p&&G<=u?f[A++]=255:f[A++]=0}x=E;a=c.curSize;r=c.tip;m=c.curSqueeze;q=c.curAngle;return E}var E=new Uint8Array(160801),b=new Uint8Array(161604),d=[new Float32Array(402),new Float32Array(402)],x=null,a,m,q,r,h=this;this.getDab=function(c,f,n){var e={alpha:n.curAlpha,width:Math.ceil(n.curSize),
height:Math.ceil(n.curSize)},p=n.isAA&&n.tip!=y.default.TIP_ROUND_PIXEL;p&&(e.width++,e.height++);var u=c-e.width/2+.5,B=f-e.height/2+.5;f=Math.floor(u);c=Math.floor(B);if(p){var C=u-f,A=B-c;u=v(n);B=Math.ceil(n.curSize);p=Math.ceil(n.curSize)+1;var I=(1-C)*(1-A),O=C*(1-A),z=C*A,G=(1-C)*A,H=0;C=0;A=d[0];var J=d[1],K;A.fill(0);for(var S=0;S<B;S++){for(K=J[0]=0;K<B;K++,H++,C++){var da=u[H];b[C]=A[K]+da*I+.5|0;A[K+1]+=da*O;J[K]+=da*G;J[K+1]=da*z}b[C++]=A[K]+.5|0;K=A;A=J;J=K}for(u=0;u<p;u++,C++)b[C]=
A[u]+.5|0;e.brush=b}else e.brush=v(n);e.x=f;e.y=c;if(0<n.texture&&null!=this.texture)for(e.brush==E&&(b.set(E),e.brush=b),n=Math.floor(255*n.texture),f=h.texture,c=e.x%f.width,p=e.y%f.height,u=0,0>c&&(c+=f.width),0>p&&(p+=f.height),O=0;O<e.height;O++){B=p*f.width+c;I=p*f.width+f.width;for(z=0;z<e.width;z++)e.brush[u]=~~(e.brush[u]*(f.data[B]*n/255^255)/255),u++,B++,B==I&&(B-=f.width);p++;p==f.height&&(p=0)}return e};this.setTexture=function(c){this.texture=c}};var y=function(v){return v&&v.__esModule?
v:{default:v}}(g("./CPBrushInfo.js")),k=10;L.exports=D.default},{"./CPBrushInfo.js":8}],10:[function(g,L,D){function y(B){return B&&B.__esModule?B:{default:B}}function k(B){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},k(B)}function v(B,C){if("function"!==typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");
B.prototype=Object.create(C&&C.prototype,{constructor:{value:B,writable:!0,configurable:!0}});Object.defineProperty(B,"prototype",{writable:!1});C&&E(B,C)}function E(B,C){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,I){A.__proto__=I;return A};return E(B,C)}function b(B){var C=d();return function(){var A=x(B);if(C){var I=x(this).constructor;A=Reflect.construct(A,arguments,I)}else A=A.apply(this,arguments);if(!A||"object"!==k(A)&&"function"!==typeof A){if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");A=this}return A}}function d(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(B){return!1}}function x(B){x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)};return x(B)}
function a(B,C){if(!(B instanceof C))throw new TypeError("Cannot call a class as a function");}function m(B,C){for(var A=0;A<C.length;A++){var I=C[A];I.enumerable=I.enumerable||!1;I.configurable=!0;"value"in I&&(I.writable=!0);var O=Object,z=O.defineProperty;a:{var G=I.key;if("object"===k(G)&&null!==G){var H=G[Symbol.toPrimitive];if(void 0!==H){G=H.call(G,"string");if("object"!==k(G))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}G=String(G)}}G="symbol"===k(G)?G:String(G);
z.call(O,B,G,I)}}function q(B,C,A){C&&m(B.prototype,C);A&&m(B,A);Object.defineProperty(B,"prototype",{writable:!1});return B}function r(B){for(var C=0,A=0;A<B.length;A++)C+=B[A];return C/B.length}function h(B){for(var C=new p.default(0,0,0),A=0;A<B.length;A++){var I=B[A];C.r+=I.r;C.g+=I.g;C.b+=I.b}C.r/=B.length;C.g/=B.length;C.b/=B.length;return C}function c(B,C){var A=B.data;if(0<C.left)for(var I=C.top;I<C.bottom;I++){var O=I*B.width,z=O;O=A[O+C.left];for(var G=0;G<C.left;G++,z++)A[z]=O}if(C.right<
B.width)for(I=C.top;I<C.bottom;I++)for(z=I*B.width+C.right,O=A[z-1],G=C.right;G<B.width;G++,z++)A[z]=O;for(z=I=0;z<C.top;z++)for(O=C.top*B.width,G=0;G<B.width;G++,O++,I++)A[I]=A[O];I=C.bottom*B.width;for(z=C.bottom;z<B.width;z++)for(O=(C.bottom-1)*B.width,G=0;G<B.width;G++,O++,I++)A[I]=A[O]}Object.defineProperty(D,"__esModule",{value:!0});D.CPBrushToolWatercolor=D.CPBrushToolSmudge=D.CPBrushToolOil=D.CPBrushToolEraser=D.CPBrushToolDodge=D.CPBrushToolBurn=D.CPBrushToolBlur=D.CPBrushTool=void 0;var f=
y(g("./CPColorBmp.js")),n=y(g("./CPGreyBmp.js")),e=y(g("./CPBrushInfo.js")),p=y(g("../util/CPColorFloat.js"));g=D.CPBrushTool=function(){function B(C,A){a(this,B);this._strokeBuffer=C;this._strokedRegion=A;this.wantsOutputAsInput=!0}q(B,[{key:"paintDab",value:function(C,A,I,O,z,G,H){C=Math.max(1,Math.ceil(G.alpha*O.alphaScale));switch(O.paintMode){case e.default.PAINT_MODE_FLOW:this._paintFlow(z,A,G.brush,G.width,C);break;case e.default.PAINT_MODE_OPACITY:this._paintOpacity(z,A,G.brush,G.width,C)}}},
{key:"mergeOntoImage",value:function(C,A,I){var O=this._strokeBuffer.data,z=this._strokedRegion;A=A.data;var G=C.data,H=I>>16&255,J=I>>8&255;I&=255;var K=z.getWidth()|0,S=z.getHeight()|0,da=this._strokeBuffer.offsetOfPixel(z.left,z.top);z=C.offsetOfPixel(z.left,z.top);var Y=this._strokeBuffer.width-K|0;C=(C.width-K)*f.default.BYTES_PER_PIXEL|0;for(var ra=0;ra<S;ra++,da+=Y,z+=C)for(var ma=0;ma<K;ma++,da++,z+=f.default.BYTES_PER_PIXEL){var Q=O[da]/255+.5|0;if(0<Q){var ia=Q+A[z+f.default.ALPHA_BYTE_OFFSET]*
(255-Q)/255|0;Q=255*Q/ia|0;var ba=255-Q;G[z]=(H*Q+A[z]*ba)/255&255;G[z+1]=(J*Q+A[z+1]*ba)/255&255;G[z+2]=(I*Q+A[z+2]*ba)/255&255;G[z+3]=ia}}}},{key:"mergeOntoMask",value:function(C,A,I){var O=this._strokeBuffer.data,z=this._strokedRegion;A=A.data;var G=C.data,H=z.getWidth()|0,J=z.getHeight()|0,K=C.offsetOfPixel(z.left,z.top);z=this._strokeBuffer.offsetOfPixel(z.left,z.top);var S=this._strokeBuffer.width-H|0;C=C.width-H|0;for(var da=0;da<J;da++,z+=S,K+=C)for(var Y=0;Y<H;Y++,z++,K++){var ra=O[z]/255|
0;0<ra&&(G[K]=(I*ra+A[K]*(255-ra))/255)}}},{key:"_paintFlow",value:function(C,A,I,O,z){var G=this._strokeBuffer.data;C=C.left+C.top*O;var H=this._strokeBuffer.offsetOfPixel(A.left,A.top),J=A.getHeight(),K=A.getWidth();O-=K;var S=this._strokeBuffer.width-K;this._strokedRegion.union(A);for(A=0;A<J;A++,C+=O,H+=S)for(var da=0;da<K;da++,C++,H++){var Y=I[C]*z;0!=Y&&(G[H]=Math.min(65025,G[H]+(255-G[H]/255)*Y/255))}}},{key:"_paintOpacity",value:function(C,A,I,O,z){var G=this._strokeBuffer.data;C=C.left+C.top*
O;var H=this._strokeBuffer.offsetOfPixel(A.left,A.top),J=A.getWidth();O-=J;var K=this._strokeBuffer.width-J;z=Math.min(255,z);this._strokedRegion.union(A);for(var S=A.top;S<A.bottom;S++,C+=O,H+=K)for(var da=0;da<J;da++,C++,H++)G[H]=Math.max(I[C]*z,G[H])}},{key:"beginStroke",value:function(){}},{key:"endStroke",value:function(){}}]);return B}();D.CPBrushToolEraser=function(B){function C(){a(this,C);return A.apply(this,arguments)}v(C,B);var A=b(C);q(C,[{key:"mergeOntoImage",value:function(I,O,z){z=
this._strokeBuffer.data;var G=this._strokedRegion;O=O.data;for(var H=I.data,J=G.top;J<G.bottom;J++)for(var K=I.offsetOfPixel(G.left,J)+f.default.ALPHA_BYTE_OFFSET,S=this._strokeBuffer.offsetOfPixel(G.left,J),da=G.left;da<G.right;da++,K+=f.default.BYTES_PER_PIXEL){var Y=z[S++]/255|0;0<Y&&(H[K]=O[K]*(255-Y)/255)}}}]);return C}(g);D.CPBrushToolDodge=function(B){function C(){a(this,C);return A.apply(this,arguments)}v(C,B);var A=b(C);q(C,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;
var G=this._strokedRegion,H=G.getWidth(),J=G.getHeight(),K=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var S=(I.width-H)*f.default.BYTES_PER_PIXEL,da=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var Y=0;Y<J;Y++,G+=da,K+=S)for(var ra=0;ra<H;ra++,G++,K+=f.default.BYTES_PER_PIXEL){var ma=z[G]/255|0;0<ma&&0!=O[K+f.default.ALPHA_BYTE_OFFSET]&&(ma=(ma+255)/255,I[K+f.default.RED_BYTE_OFFSET]=O[K+f.default.RED_BYTE_OFFSET]*ma,I[K+f.default.GREEN_BYTE_OFFSET]=O[K+f.default.GREEN_BYTE_OFFSET]*
ma,I[K+f.default.BLUE_BYTE_OFFSET]=O[K+f.default.BLUE_BYTE_OFFSET]*ma)}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),J=G.getHeight(),K=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var S=I.width-H,da=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var Y=0;Y<J;Y++,G+=da,K+=S)for(var ra=0;ra<H;ra++,G++,K++){var ma=z[G]/255|0;0<ma&&(I[K]=Math.min((ma+255)/255*O[K],255))}}}]);return C}(g);D.CPBrushToolBurn=
function(B){function C(){a(this,C);return A.apply(this,arguments)}v(C,B);var A=b(C);q(C,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),J=G.getHeight(),K=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var S=(I.width-H)*f.default.BYTES_PER_PIXEL,da=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var Y=0;Y<J;Y++,G+=da,K+=S)for(var ra=0;ra<H;ra++,G++,K+=f.default.BYTES_PER_PIXEL){var ma=z[G]/255|0;0<ma&&
0!=O[K+f.default.ALPHA_BYTE_OFFSET]&&(I[K+f.default.RED_BYTE_OFFSET]=O[K+f.default.RED_BYTE_OFFSET]-(260-O[K+f.default.RED_BYTE_OFFSET])*ma/255|0,I[K+f.default.GREEN_BYTE_OFFSET]=O[K+f.default.GREEN_BYTE_OFFSET]-(260-O[K+f.default.GREEN_BYTE_OFFSET])*ma/255|0,I[K+f.default.BLUE_BYTE_OFFSET]=O[K+f.default.BLUE_BYTE_OFFSET]-(260-O[K+f.default.BLUE_BYTE_OFFSET])*ma/255|0)}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),J=G.getHeight(),
K=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var S=I.width-H,da=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var Y=0;Y<J;Y++,G+=da,K+=S)for(var ra=0;ra<H;ra++,G++,K++){var ma=z[G]/255|0;0<ma&&(I[K]=Math.max(O[K]-(260-O[K])*ma/255,0))}}}]);return C}(g);D.CPBrushToolBlur=function(B){function C(){a(this,C);return A.apply(this,arguments)}v(C,B);var A=b(C);q(C,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=O.data;
I=I.data;var J=G.getWidth(),K=O.width*f.default.BYTES_PER_PIXEL,S=O.offsetOfPixel(G.left,G.top),da=this._strokeBuffer.offsetOfPixel(G.left,G.top),Y=(O.width-J)*f.default.BYTES_PER_PIXEL;J=this._strokeBuffer.width-J;for(var ra,ma,Q,ia,ba=function(Oa){ra+=H[Oa+f.default.RED_BYTE_OFFSET];ma+=H[Oa+f.default.GREEN_BYTE_OFFSET];Q+=H[Oa+f.default.BLUE_BYTE_OFFSET];ia+=H[Oa+f.default.ALPHA_BYTE_OFFSET]},ta=G.top;ta<G.bottom;ta++,S+=Y,da+=J)for(var pa=G.left;pa<G.right;pa++,S+=f.default.BYTES_PER_PIXEL,da++){var ya=
z[da]/255|0;if(0<ya){ya=64+-63*ya/255|0;var ka=ya+4;ra=ya*H[S+f.default.RED_BYTE_OFFSET];ma=ya*H[S+f.default.GREEN_BYTE_OFFSET];Q=ya*H[S+f.default.BLUE_BYTE_OFFSET];ia=ya*H[S+f.default.ALPHA_BYTE_OFFSET];ba(0<ta?S-K:S);ba(ta<O.height-1?S+K:S);ba(0<pa?S-f.default.BYTES_PER_PIXEL:S);ba(pa<O.width-1?S+f.default.BYTES_PER_PIXEL:S);ia/=ka;ra/=ka;ma/=ka;Q/=ka;I[S+f.default.RED_BYTE_OFFSET]=ra|0;I[S+f.default.GREEN_BYTE_OFFSET]=ma|0;I[S+f.default.BLUE_BYTE_OFFSET]=Q|0;I[S+f.default.ALPHA_BYTE_OFFSET]=ia|
0}}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=O.data;I=I.data;var J=G.getWidth(),K=O.width,S=O.offsetOfPixel(G.left,G.top),da=this._strokeBuffer.offsetOfPixel(G.left,G.top),Y=O.width-J;J=this._strokeBuffer.width-J;for(var ra,ma=G.top;ma<G.bottom;ma++,S+=Y,da+=J)for(var Q=G.left;Q<G.right;Q++,S++,da++){var ia=z[da]/255|0;0<ia&&(ra=64+-63*ia/255|0,ia=ra+4,ra*=H[S],ra+=H[0<ma?S-K:S],ra+=H[ma<O.height-1?S+K:S],ra+=H[0<Q?S-1:S],ra+=H[Q<O.width-1?
S+1:S],I[S]=ra/ia|0)}}}]);return C}(g);g=function(B){function C(){a(this,C);return A.apply(this,arguments)}v(C,B);var A=b(C);q(C,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion;O=O.data;var H=I.data,J=this._strokeBuffer.offsetOfPixel(G.left,G.top),K=I.offsetOfPixel(G.left,G.top),S=G.getWidth()|0;G=G.getHeight()|0;var da=this._strokeBuffer.width-S|0;I=(I.width-S)*f.default.BYTES_PER_PIXEL|0;for(var Y=0;Y<G;Y++,J+=da,K+=I)for(var ra=0;ra<S;ra++,J++,K+=
f.default.BYTES_PER_PIXEL){var ma=z[J],Q=ma>>>24;if(0<Q){var ia=O[K+f.default.ALPHA_BYTE_OFFSET];ia=Q+ia-Q*ia/255|0;Q=255*Q/ia|0;var ba=255-Q;H[K]=((ma>>16&255)*Q+O[K]*ba)/255|0;H[K+1]=((ma>>8&255)*Q+O[K+1]*ba)/255|0;H[K+2]=((ma&255)*Q+O[K+2]*ba)/255|0;H[K+3]=ia}}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion;O=O.data;var H=I.data,J=this._strokeBuffer.offsetOfPixel(G.left,G.top),K=I.offsetOfPixel(G.left,G.top),S=G.getWidth()|0;G=G.getHeight()|0;var da=
this._strokeBuffer.width-S|0;I=I.width-S|0;for(var Y=0;Y<G;Y++,J+=da,K+=I)for(var ra=0;ra<S;ra++,J++,K++){var ma=z[J],Q=ma>>8;0<Q&&(H[K]=((ma&255)*Q+O[K]*(255-Q))/255|0)}}}]);return C}(g);var u=2/6;D.CPBrushToolWatercolor=function(B){function C(I,O){a(this,C);I=A.call(this,I,O);I.wantsOutputAsInput=!0;return I}v(C,B);var A=b(C);q(C,[{key:"_paintToColorStrokeBuffer",value:function(I,O,z,G,H,J){var K=this._strokeBuffer.data,S=O.getWidth(),da=O.getHeight(),Y=this._strokeBuffer.width-S,ra=G-S;I=I.left+
I.top*G;G=this._strokeBuffer.offsetOfPixel(O.left,O.top);this._strokedRegion.union(O);for(O=0;O<da;O++,I+=ra,G+=Y)for(var ma=0;ma<S;ma++,I++,G++){var Q=z[I]*H/255|0;if(0<Q){var ia=K[G],ba=ia>>>24;ba=Q+ba-Q*ba/255|0;Q=255-(255*Q/ba|0);K[G]=ba<<24|(J>>16&255)+((ia>>16&255)*Q-(J>>16&255)*Q)/255<<16|(J>>8&255)+((ia>>8&255)*Q-(J>>8&255)*Q)/255<<8|(J&255)+((ia&255)*Q-(J&255)*Q)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(I,O,z,G,H,J){var K=this._strokeBuffer.data;this._strokedRegion.union(O);
for(var S=O.top,da=I.top;S<O.bottom;S++,da++)for(var Y=I.left+da*G,ra=this._strokeBuffer.offsetOfPixel(O.left,S),ma=O.left;ma<O.right;ma++,Y++,ra++){var Q=z[Y]*H/255|0;if(!(0>=Q)){var ia=K[ra],ba=ia>>8;ba=Q+ba-Q*ba/255|0;0<ba&&(Q=255-(255*Q/ba|0),K[ra]=ba<<8|J+((ia&255)*Q-J*Q)/255)}}}},{key:"beginStroke",value:function(){this._previousSamples=null}},{key:"paintDab",value:function(I,O,z,G,H,J,K){I=Math.max(1,J.alpha/4);var S=(O.left+O.right)/2,da=(O.top+O.bottom)/2,Y=Math.max(1,Math.min(64,O.getWidth()*
u)),ra=Math.max(1,Math.min(64,O.getHeight()*u));if(z instanceof n.default){null==this._previousSamples&&(this._previousSamples=Array(50),this._previousSamples.fill(C._sampleGrey(z,S,da,Y,ra)));var ma=r(this._previousSamples),Q=G.resat*G.resat;K=ma=ma*(1-Q)+(K&255)*Q;z=C._sampleGrey(z,S,da,Y,ra);G=G.bleed;this._previousSamples.push(ma*(1-G)+z*G);this._previousSamples.shift();this._paintToGreyscaleStrokeBuffer(H,O,J.brush,J.width,I,Math.round(K))}else null==this._previousSamples&&(this._previousSamples=
Array(50),this._previousSamples.fill(C._sampleRGB(z,S,da,Y,ra))),ma=h(this._previousSamples),ma.mixWith(p.default.createFromInt(K),G.resat*G.resat),K=ma.toInt(),ma.mixWith(C._sampleRGB(z,S,da,Y,ra),G.bleed),this._previousSamples.push(ma),this._previousSamples.shift(),this._paintToColorStrokeBuffer(H,O,J.brush,J.width,I,K)}}],[{key:"_sampleGrey",value:function(I,O,z,G,H){O|=0;z|=0;for(var J=[{x:O,y:z}],K=.25;1.001>K;K+=.25)Array.prototype.push.apply(J,[{x:~~(O+K*G),y:z},{x:~~(O-K*G),y:z},{x:O,y:~~(z+
K*H)},{x:O,y:~~(z-K*H)},{x:~~(O+.7*K*G),y:~~(z+.7*K*H)},{x:~~(O+.7*K*G),y:~~(z-.7*K*H)},{x:~~(O-.7*K*G),y:~~(z+.7*K*H)},{x:~~(O-.7*K*G),y:~~(z-.7*K*H)}]);return r(J.map(function(S){return I.getPixel(S.x,S.y)}))}},{key:"_sampleRGB",value:function(I,O,z,G,H){O|=0;z|=0;for(var J=[{x:O,y:z}],K=.25;1.001>K;K+=.25)Array.prototype.push.apply(J,[{x:~~(O+K*G),y:z},{x:~~(O-K*G),y:z},{x:O,y:~~(z+K*H)},{x:O,y:~~(z-K*H)},{x:~~(O+.7*K*G),y:~~(z+.7*K*H)},{x:~~(O+.7*K*G),y:~~(z-.7*K*H)},{x:~~(O-.7*K*G),y:~~(z+.7*
K*H)},{x:~~(O-.7*K*G),y:~~(z-.7*K*H)}]);return h(J.map(function(S){return p.default.createFromInt(I.getPixel(S.x,S.y))}))}}]);return C}(g);D.CPBrushToolOil=function(B){function C(I,O){a(this,C);I=A.call(this,I,O);I.wantsOutputAsInput=!0;return I}v(C,B);var A=b(C);q(C,[{key:"_accumulatePaintFromMask",value:function(I,O,z,G){var H=this._brushBuffer.data,J=I.data,K=z.getWidth(),S=z.getHeight();O=O.left+O.top*this._brushBuffer.width;z=I.offsetOfPixel(z.left,z.top);var da=this._brushBuffer.width-K;I=I.width-
K;if(!(0>=G))for(var Y=0;Y<S;Y++,O+=da,z+=I)for(var ra=0;ra<K;ra++,O++,z++){var ma=J[z],Q=H[O],ia=Q>>8;ia=G+ia-G*ia/255|0;var ba=255-(255*G/ia|0);H[O]=ia<<8|ma+((Q&255)*ba-ma*ba)/255}}},{key:"_resaturateBrushWithGrey",value:function(I,O,z){if(!(0>=O)){var G=this._brushBuffer.data,H=I.getWidth(),J=I.getHeight();I=I.left+I.top*this._brushBuffer.width;for(var K=this._brushBuffer.width-H,S=0;S<J;S++,I+=K)for(var da=0;da<H;da++,I++){var Y=G[I],ra=Y>>8;ra=O+ra-O*ra/255|0;var ma=255-(255*O/ra|0);G[I]=ra<<
8|z+((Y&255)*ma-z*ma)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(I,O,z,G,H){var J=this._strokeBuffer.data,K=this._brushBuffer.data,S=I.data;this._strokedRegion.union(z);for(var da=z.top,Y=O.top;da<z.bottom;da++,Y++)for(var ra=this._brushBuffer.offsetOfPixel(O.left,Y),ma=this._strokeBuffer.offsetOfPixel(z.left,da),Q=I.offsetOfPixel(z.left,da),ia=z.left;ia<z.right;ia++,ra++,Q++,ma++){var ba=K[ra],ta=(ba>>8)*G[ra]*H/65025|0;0<ta&&(ta=255-ta,J[ma]=65280|(ba&255)+(S[Q]*ta-(ba&255)*ta)/
255)}}},{key:"_accumulatePaintFromImage",value:function(I,O,z,G){var H=this._brushBuffer.data,J=I.data,K=z.getWidth(),S=z.getHeight();O=O.left+O.top*this._brushBuffer.width;z=I.offsetOfPixel(z.left,z.top);var da=this._brushBuffer.width-K;I=(I.width-K)*f.default.BYTES_PER_PIXEL;for(var Y=0;Y<S;Y++,O+=da,z+=I)for(var ra=0;ra<K;ra++,O++,z+=f.default.BYTES_PER_PIXEL){var ma=J[z+f.default.ALPHA_BYTE_OFFSET]*G/255|0;if(0<ma){var Q=H[O],ia=Q>>>24;ia=ma+ia-ma*ia/255|0;ma=255-(255*ma/ia|0);var ba=J[z+f.default.RED_BYTE_OFFSET],
ta=J[z+f.default.GREEN_BYTE_OFFSET],pa=J[z+f.default.BLUE_BYTE_OFFSET];H[O]=ia<<24|ba+((Q>>16&255)*ma-ba*ma)/255<<16|ta+((Q>>8&255)*ma-ta*ma)/255<<8|pa+((Q&255)*ma-pa*ma)/255}}}},{key:"_resaturateBrushWithColor",value:function(I,O,z){if(!(0>=O)){var G=this._brushBuffer.data,H=I.getWidth(),J=I.getHeight();I=I.left+I.top*this._brushBuffer.width;for(var K=this._brushBuffer.width-H,S=0;S<J;S++,I+=K)for(var da=0;da<H;da++,I++){var Y=G[I],ra=Y>>>24;ra=O+ra-O*ra/255|0;var ma=255-(255*O/ra|0);G[I]=ra<<24|
(z>>>16&255)+((Y>>>16&255)*ma-(z>>>16&255)*ma)/255<<16|(z>>>8&255)+((Y>>>8&255)*ma-(z>>>8&255)*ma)/255<<8|(z&255)+((Y&255)*ma-(z&255)*ma)/255}}}},{key:"_paintToColorStrokeBuffer",value:function(I,O,z,G,H){var J=this._strokeBuffer.data,K=this._brushBuffer.data,S=I.data;this._strokedRegion.union(z);for(var da=z.top,Y=O.top;da<z.bottom;da++,Y++)for(var ra=this._brushBuffer.offsetOfPixel(O.left,Y),ma=this._strokeBuffer.offsetOfPixel(z.left,da),Q=I.offsetOfPixel(z.left,da),ia=z.left;ia<z.right;ia++,ra++,
Q+=f.default.BYTES_PER_PIXEL,ma++){var ba=K[ra],ta=(ba>>>24)*G[ra]*H/65025|0;if(0<ta){var pa=S[Q+f.default.ALPHA_BYTE_OFFSET];pa=ta+pa-ta*pa/255|0;ta=255-(255*ta/pa|0);J[ma]=pa<<24|(ba>>16&255)+(S[Q+f.default.RED_BYTE_OFFSET]*ta-(ba>>16&255)*ta)/255<<16|(ba>>8&255)+(S[Q+f.default.GREEN_BYTE_OFFSET]*ta-(ba>>8&255)*ta)/255<<8|(ba&255)+(S[Q+f.default.BLUE_BYTE_OFFSET]*ta-(ba&255)*ta)/255}}}},{key:"paintDab",value:function(I,O,z,G,H,J,K){I instanceof f.default?null==this._brushBuffer?(this._brushBuffer=
new n.default(J.width,J.height,32),this._accumulatePaintFromImage(z,H,O,255)):(this._resaturateBrushWithColor(H,~~(0>=G.resat?0:Math.max(1,G.resat*G.resat*255)),K&16777215),this._paintToColorStrokeBuffer(I,H,O,J.brush,J.alpha),this._accumulatePaintFromImage(z,H,O,~~(255*G.bleed))):null==this._brushBuffer?(this._brushBuffer=new n.default(J.width,J.height,16),this._accumulatePaintFromMask(z,H,O,255)):(this._resaturateBrushWithGrey(H,~~(0>=G.resat?0:Math.max(1,G.resat*G.resat*255)),K&255),this._paintToGreyscaleStrokeBuffer(I,
H,O,J.brush,J.alpha),this._accumulatePaintFromMask(z,H,O,~~(255*G.bleed)))}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return C}(g);D.CPBrushToolSmudge=function(B){function C(I,O){a(this,C);I=A.call(this,I,O);I._brushBuffer=null;I.wantsOutputAsInput=!0;I.noMergePhase=!0;return I}v(C,B);var A=b(C);q(C,[{key:"_sampleFromMask",value:function(I,O,z,G){var H=this._brushBuffer.data,J=O.getWidth(),K=O.getHeight(),S=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,
z.top);var da=this._brushBuffer.width-J,Y=I.width-J,ra=255-G;if(255!=G){for(var ma=0;ma<K;ma++,S+=da,z+=Y)for(var Q=0;Q<J;Q++,S++,z++){var ia=I.data[z],ba=H[S],ta=(ia*ra+(ba&255)*G)/255,pa=(255*ra+(ba>>8)*G)/255<<8|ta;pa==ba&&(ia>ta?pa++:ia<ta&&pa--);H[S]=pa}c(this._brushBuffer,O)}}},{key:"_paintToMask",value:function(I,O,z,G){var H=O.getWidth(),J=O.getHeight();O=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,z.top);var K=this._brushBuffer.width-H,S=I.width-H;I=I.data;for(var da=
this._brushBuffer.data,Y=0;Y<J;Y++,z+=S,O+=K)for(var ra=0;ra<H;ra++,O++,z++){var ma=da[O],Q=ma&255;0<((ma>>8)*G[O]/255|0)&&(I[z]=Q)}}},{key:"_sampleFromImage",value:function(I,O,z,G){var H=this._brushBuffer.data,J=O.getWidth(),K=O.getHeight(),S=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,z.top);var da=this._brushBuffer.width-J,Y=(I.width-J)*f.default.BYTES_PER_PIXEL,ra=255-G;if(255!=G){for(var ma=0;ma<K;ma++,S+=da,z+=Y)for(var Q=0;Q<J;Q++,S++,z+=f.default.BYTES_PER_PIXEL){var ia=
I.data[z+f.default.RED_BYTE_OFFSET],ba=I.data[z+f.default.GREEN_BYTE_OFFSET],ta=I.data[z+f.default.BLUE_BYTE_OFFSET],pa=H[S],ya=(I.data[z+f.default.ALPHA_BYTE_OFFSET]*ra+(pa>>24&255)*G)/255<<24&4278190080|(ia*ra+(pa>>16&255)*G)/255<<16&16711680|(ba*ra+(pa>>8&255)*G)/255<<8&65280|(ta*ra+(pa&255)*G)/255&255;if(ya==pa){pa=(ya&16711680)>>16;var ka=(ya&65280)>>8,Oa=ya&255;ia>pa?ya+=65536:ia<pa&&(ya-=65536);ba>ka?ya+=256:ba<ka&&(ya-=256);ta>Oa?ya+=1:ta<Oa&&--ya}H[S]=ya}c(this._brushBuffer,O)}}},{key:"_paintToImage",
value:function(I,O,z,G){var H=O.getWidth(),J=O.getHeight();O=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,z.top);var K=this._brushBuffer.width-H,S=(I.width-H)*f.default.BYTES_PER_PIXEL;I=I.data;for(var da=this._brushBuffer.data,Y=0;Y<J;Y++,z+=S,O+=K)for(var ra=0;ra<H;ra++,O++,z+=f.default.BYTES_PER_PIXEL){var ma=da[O];0<((ma>>>24)*G[O]/255|0)&&(I[z+f.default.RED_BYTE_OFFSET]=ma>>16&255,I[z+f.default.GREEN_BYTE_OFFSET]=ma>>8&255,I[z+f.default.BLUE_BYTE_OFFSET]=ma&255,I[z+
f.default.ALPHA_BYTE_OFFSET]=ma>>24&255)}}},{key:"paintDab",value:function(I,O,z,G,H,J,K){I instanceof f.default?null==this._brushBuffer?(this._brushBuffer=new n.default(J.width,J.height,32),this._sampleFromImage(z,H,O,0)):(this._sampleFromImage(z,H,O,J.alpha),this._paintToImage(I,H,O,J.brush)):null==this._brushBuffer?(this._brushBuffer=new n.default(J.width,J.height,16),this._sampleFromMask(z,H,O,0)):(this._sampleFromMask(z,H,O,J.alpha),this._paintToMask(I,H,O,J.brush))}},{key:"mergeOntoImage",value:function(I,
O,z){}},{key:"mergeOntoMask",value:function(I,O,z){}},{key:"beginStroke",value:function(){this._brushBuffer=null}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return C}(g)},{"../util/CPColorFloat.js":59,"./CPBrushInfo.js":8,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],11:[function(g,L,D){function y(Ia){return Ia&&Ia.__esModule?Ia:{default:Ia}}function k(Ia,na){var Ha="undefined"!==typeof Symbol&&Ia[Symbol.iterator]||Ia["@@iterator"];if(!Ha){if(Array.isArray(Ia)||(Ha=v(Ia))||na&&Ia&&
"number"===typeof Ia.length){Ha&&(Ia=Ha);var Da=0;na=function(){};return{s:na,n:function(){return Da>=Ia.length?{done:!0}:{done:!1,value:Ia[Da++]}},e:function(Ra){throw Ra;},f:na}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var bb=!0,rb=!1,vb;return{s:function(){Ha=Ha.call(Ia)},n:function(){var Ra=Ha.next();bb=Ra.done;return Ra},e:function(Ra){rb=!0;vb=Ra},f:function(){try{bb||null==Ha.return||
Ha.return()}finally{if(rb)throw vb;}}}}function v(Ia,na){if(Ia){if("string"===typeof Ia)return E(Ia,na);var Ha=Object.prototype.toString.call(Ia).slice(8,-1);"Object"===Ha&&Ia.constructor&&(Ha=Ia.constructor.name);if("Map"===Ha||"Set"===Ha)return Array.from(Ia);if("Arguments"===Ha||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ha))return E(Ia,na)}}function E(Ia,na){if(null==na||na>Ia.length)na=Ia.length;for(var Ha=0,Da=Array(na);Ha<na;Ha++)Da[Ha]=Ia[Ha];return Da}function b(){b="undefined"!==typeof Reflect&&
Reflect.get?Reflect.get.bind():function(Ia,na,Ha){var Da;for(Da=Ia;!Object.prototype.hasOwnProperty.call(Da,na)&&(Da=q(Da),null!==Da););if(Da)return Da=Object.getOwnPropertyDescriptor(Da,na),Da.get?Da.get.call(3>arguments.length?Ia:Ha):Da.value};return b.apply(this,arguments)}function d(Ia,na){if("function"!==typeof na&&null!==na)throw new TypeError("Super expression must either be null or a function");Ia.prototype=Object.create(na&&na.prototype,{constructor:{value:Ia,writable:!0,configurable:!0}});
Object.defineProperty(Ia,"prototype",{writable:!1});na&&x(Ia,na)}function x(Ia,na){x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ha,Da){Ha.__proto__=Da;return Ha};return x(Ia,na)}function a(Ia){var na=m();return function(){var Ha=q(Ia);if(na){var Da=q(this).constructor;Ha=Reflect.construct(Ha,arguments,Da)}else Ha=Ha.apply(this,arguments);if(!Ha||"object"!==r(Ha)&&"function"!==typeof Ha){if(void 0!==Ha)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");Ha=this}return Ha}}function m(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ia){return!1}}function q(Ia){q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(na){return na.__proto__||Object.getPrototypeOf(na)};return q(Ia)}
function r(Ia){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(na){return typeof na}:function(na){return na&&"function"==typeof Symbol&&na.constructor===Symbol&&na!==Symbol.prototype?"symbol":typeof na},r(Ia)}function h(Ia,na){if(!(Ia instanceof na))throw new TypeError("Cannot call a class as a function");}function c(Ia,na){for(var Ha=0;Ha<na.length;Ha++){var Da=na[Ha];Da.enumerable=Da.enumerable||!1;Da.configurable=!0;"value"in Da&&(Da.writable=
!0);var bb=Object,rb=bb.defineProperty;a:{var vb=Da.key;if("object"===r(vb)&&null!==vb){var Ra=vb[Symbol.toPrimitive];if(void 0!==Ra){vb=Ra.call(vb,"string");if("object"!==r(vb))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}vb=String(vb)}}vb="symbol"===r(vb)?vb:String(vb);rb.call(bb,Ia,vb,Da)}}function f(Ia,na,Ha){na&&c(Ia.prototype,na);Ha&&c(Ia,Ha);Object.defineProperty(Ia,"prototype",{writable:!1});return Ia}function n(Ia){this.version=Ia.readU32BE();this.width=Ia.readU32BE();
this.height=Ia.readU32BE();this.layersNb=Ia.readU32BE()}function e(Ia){for(var na=Array(4),Ha=0;Ha<na.length;Ha++)na[Ha]=String.fromCharCode(Ia.readByte());this.chunkType=na.join("");this.chunkSize=Ia.readU32BE();if(Ia.eof)throw"Truncated chunk";}function p(Ia){return{major:Ia>>16&65535,minor:Ia&65535}}function u(Ia){Ia=p(Ia);return 0===Ia.major&&0===Ia.minor?"ChibiPaint v0.0":"ChickenPaint v"+Ia.major+"."+Ia.minor}function B(Ia){Ia=k(Ia.getLayersRoot().getLinearizedLayerList(!1));var na;try{for(Ia.s();!(na=
Ia.n()).done;){var Ha=na.value;if(Ha instanceof J.default||Ha.mask||Ha.clip||Ha.blendMode>S.default.LM_LAST_CHIBIPAINT||Ha.blendMode===S.default.LM_MULTIPLY)return Y<<16|ra}}catch(Da){Ia.e(Da)}finally{Ia.f()}return 0}function C(Ia,na){var Ha=new Uint8Array(e.HEADER_LENGTH+na);Ha=new H.default(Ha);Ha.writeString(Ia);Ha.writeU32BE(na);return Ha}function A(Ia,na,Ha){var Da=C(ia,n.FIXED_HEADER_LENGTH);Da.writeU32BE(na);Da.writeU32BE(Ia.width);Da.writeU32BE(Ia.height);Da.writeU32BE(Ha);return Da.getAsDataArray()}
function I(Ia){for(var na=0;na<Q.length;na++)if(Ia[na]!=Q.charCodeAt(na))return!1;return!0}Object.defineProperty(D,"__esModule",{value:!0});D.load=function(Ia,na){function Ha(ua){var Fa=Ta;if(null===Fa||0===Fa.length)Ta=ua;else if(null===ua||0===ua.length)Ta=Fa;else{var La=new Uint8Array(Fa.length+ua.length);La.set(Fa,0);La.set(ua,Fa.length);Ta=La}for(;;){if(Ta)if(sa<Ta.length)Ta=Ta.subarray(sa),sa=0;else{sa-=Ta.length;Ta=null;break}else break;switch(bb){case 0:if(Ta.length<e.HEADER_LENGTH)break;
ua=new H.default(Ta);pb=new e(ua);Ta=Ta.subarray(ua.pos);if(Wa)if(pb.chunkType==pa)bb=45;else{pb.chunkType==ba?(bb=2,Ra=new za(pb,Wa.width,Wa.height)):pb.chunkType==ta?(bb=3,Ra=new Xa(pb,Wa.width,Wa.height)):(console.log("Unknown chunk type '"+pb.chunkType+"', attempting to skip..."),sa=pb.chunkSize);continue}else if(pb.chunkType==ia){bb=1;continue}else bb=5;break;case 1:if(Ta.length<pb.chunkSize)break;ua=new H.default(Ta);Wa=new n(ua);if(p(Wa.version).major>ma){bb=5;break}rb=new O.default(Wa.width,
Wa.height);vb=rb.getLayersRoot();sa=pb.chunkSize;bb=0;continue;case 2:Ta=Ra.decode(Ta);if(Ra.done){rb.addLayerObject(vb,Ra.layer);bb=0;continue}break;case 3:if(Ta=Ra.decode(Ta),Ra.done){rb.addLayerGroupObject(vb,Ra.layer,Ra.childLayers);bb=0;continue}}break}}na=na||{};var Da=new da.default.Inflate({}),bb=0,rb=null,vb=null,Ra,sa=0,Wa=null,pb=null,Ta=null;return(new Promise(function(ua){if(Ia instanceof ArrayBuffer)ua(Ia);else{var Fa=new FileReader;Fa.onload=function(){ua(this.result)};Fa.readAsArrayBuffer(Ia)}})).then(function(ua){return new Promise(function(Fa,
La){var Ma=new Uint8Array(ua);I(Ma)?(Ma=Ma.subarray(Q.length),Da.onData=Ha,Da.onEnd=function(Ca){0===Ca&&45==bb?(!1!==na.upgradeMultiplyLayers&&Wa.version<(Y<<16|ra)&&rb.upgradeMultiplyLayers(na.upgradeMultiplyLayers),rb.selectTopmostVisibleLayer(),Fa(rb)):La("Fatal error decoding ChibiFile: "+Ca)},Da.push(Ma,!0)):La("This doesn't appear to be a ChibiPaint layers file, is it damaged?")})})};D.save=function(Ia,na){na=na||{};return Promise.resolve().then(function(){var Ha=new da.default.Deflate({level:7}),
Da=[],bb=new Uint8Array(Q.length),rb=Ia.getLayersRoot().getLinearizedLayerList(!1),vb=na.forceOldVersion?0:B(Ia),Ra=u(vb),sa=Promise.resolve();Ha.onData=function(Ta){Da.push(Ta)};for(var Wa=0;Wa<Q.length;Wa++)bb[Wa]=Q.charCodeAt(Wa);Da.push(bb);Ha.push(A(Ia,vb,rb.length),!1);bb=k(rb);var pb;try{for(rb=function(){var Ta=pb.value;sa=sa.then(function(){return new Promise(function(ua){var Fa=Ha.push,La=Ta instanceof z.default;var Ma=4*(La?5:6);var Ca=Ta.name.length,$a=Ma+Ca;Ma=C(La?ba:ta,Ma+Ca+((La?Ta.image.data.length:
0)+(Ta.mask?Ta.mask.data.length:0)));Ca=0;Ta.visible&&(Ca|=ya);La&&Ta.clip&&(Ca|=ka);Ta.mask&&(Ca|=Oa);Ta.maskLinked&&(Ca|=ab);Ta.maskVisible&&(Ca|=ib);Ta.lockAlpha&&(Ca|=Z);!La&&Ta.expanded&&(Ca|=T);if(Ta.blendMode===S.default.LM_MULTIPLY2){var Ka=S.default.LM_MULTIPLY;Ca|=qa}else Ka=Ta.blendMode;Ma.writeU32BE($a);Ma.writeU32BE(Ka);Ma.writeU32BE(Ta.alpha);Ma.writeU32BE(Ca);Ma.writeU32BE(Ta.name.length);La||Ma.writeU32BE(Ta.layers.length);Ma.writeString(Ta.name);if(La){La=Ma.pos;$a=Ma.data;Ca=Ta.image.data;
for(Ka=0;Ka<Ca.length;Ka+=G.default.BYTES_PER_PIXEL)$a[La++]=Ca[Ka+G.default.ALPHA_BYTE_OFFSET],$a[La++]=Ca[Ka+G.default.RED_BYTE_OFFSET],$a[La++]=Ca[Ka+G.default.GREEN_BYTE_OFFSET],$a[La++]=Ca[Ka+G.default.BLUE_BYTE_OFFSET];Ma.pos=La}Ta.mask&&(La=Ta.mask,Ma.data.set(La.data,Ma.pos),Ma.pos+=La.data.length);Ma=Ma.getAsDataArray();Fa.call(Ha,Ma,!1);setTimeout(ua,10)})})},bb.s();!(pb=bb.n()).done;)rb()}catch(Ta){bb.e(Ta)}finally{bb.f()}return sa.then(function(){return new Promise(function(Ta,ua){Ha.onEnd=
function(Fa){if(0===Fa)if("undefined"!==typeof Blob)Ta({bytes:new Blob(Da,{type:"application/octet-stream"}),version:Ra});else{Fa=Da.map(function($a){return $a.byteLength}).reduce(function($a,Ka){return $a+Ka},0);Fa=new Uint8Array(Fa);for(var La=0,Ma=0;Ma<Da.length;Ma++){var Ca=Da[Ma];Fa.set(Ca,La);La+=Ca.byteLength}Ta({bytes:Fa,version:Ra})}else ua(Fa)};Ha.push(C(pa,0).getAsDataArray(),!0)})})})};var O=y(g("./CPArtwork.js")),z=y(g("./CPImageLayer.js")),G=y(g("./CPColorBmp.js")),H=y(g("../util/ArrayDataStream.js")),
J=y(g("./CPLayerGroup.js")),K=y(g("./CPGreyBmp.js")),S=y(g("./CPBlend.js")),da=y(g("pako")),Y=0,ra=10,ma=Y,Q="CHIBIOEK",ia="HEAD",ba="LAYR",ta="GRUP",pa="ZEND";n.FIXED_HEADER_LENGTH=16;e.HEADER_LENGTH=8;var ya=1,ka=2,Oa=4,ab=8,ib=16,T=32,Z=64,qa=128;g=function(){function Ia(na,Ha,Da){h(this,Ia);this.chunkHeader=na;this.width=Ha;this.height=Da;this.nameLength=this.skipBytes=this.payloadOffset=this.state=0;this.done=!1;this.maskDecoder=this.colorDecoder=null}f(Ia,[{key:"readFixedHeader",value:function(na){this.payloadOffset=
na.readU32BE();this.blendMode=na.readU32BE();this.alpha=na.readU32BE();var Ha=na.readU32BE();this.visible=0!=(Ha&ya);this.clip=0!=(Ha&ka);this.hasMask=0!=(Ha&Oa);this.maskLinked=0!=(Ha&ab);this.maskVisible=0!=(Ha&ib);this.expanded=0!=(Ha&T);this.lockAlpha=0!=(Ha&Z);this.blendMode===S.default.LM_MULTIPLY&&0!==(Ha&qa)&&(this.blendMode=S.default.LM_MULTIPLY2);this.nameLength=na.readU32BE()}},{key:"getFixedHeaderLen",value:function(){return 20}},{key:"getVariableHeaderLen",value:function(){return this.nameLength}},
{key:"readVariableSizeHeader",value:function(na){this.name=na.readString(this.nameLength)}},{key:"decode",value:function(na){for(var Ha;;){if(0<this.skipBytes){if(this.skipBytes>=na.length)return this.skipBytes-=na.length,null;na=na.subarray(this.skipBytes);this.skipBytes=0}switch(this.state){case 0:if(na.length<this.getFixedHeaderLen())break;Ha=new H.default(na);this.readFixedHeader(Ha);na=na.subarray(Ha.pos);this.state=1;continue;case 1:if(na.length<this.getVariableHeaderLen())break;Ha=new H.default(na);
this.readVariableSizeHeader(Ha);this.layer=this.createLayer();this.hasMask&&(this.layer.setMask(new K.default(this.width,this.height,8)),this.maskDecoder=new Cb(this.layer.mask));this.layer instanceof z.default&&(this.colorDecoder=new yb(this.layer.image));this.skipBytes=this.payloadOffset-this.getFixedHeaderLen();this.state=this.colorDecoder?3:this.maskDecoder?4:5;continue;case 3:na=this.colorDecoder.decode(na);if(this.colorDecoder.done){this.state=this.maskDecoder?4:5;continue}break;case 4:na=this.maskDecoder.decode(na);
if(this.maskDecoder.done){this.state=5;continue}break;case 5:Ha=this.payloadOffset;this.colorDecoder&&(Ha+=this.colorDecoder.bytesTotal);this.maskDecoder&&(Ha+=this.maskDecoder.bytesTotal);this.state=6;this.skipBytes=this.chunkHeader.chunkSize-Ha;continue;case 6:this.done=!0}break}return na}}]);return Ia}();var za=function(Ia){function na(){h(this,na);return Ha.apply(this,arguments)}d(na,Ia);var Ha=a(na);f(na,[{key:"createLayer",value:function(){var Da=new z.default(this.width,this.height,this.name);
Da.setBlendMode(this.blendMode);Da.setAlpha(this.alpha);Da.setVisible(this.visible);Da.setClip(this.clip);Da.setMaskLinked(this.maskLinked);Da.setMaskVisible(this.maskVisible);Da.setLockAlpha(this.lockAlpha);return Da}}]);return na}(g),Xa=function(Ia){function na(Da,bb,rb){h(this,na);Da=Ha.call(this,Da,bb,rb);Da.childLayers=0;return Da}d(na,Ia);var Ha=a(na);f(na,[{key:"readFixedHeader",value:function(Da){b(q(na.prototype),"readFixedHeader",this).call(this,Da);this.childLayers=Da.readU32BE()}},{key:"getFixedHeaderLen",
value:function(){return b(q(na.prototype),"getFixedHeaderLen",this).call(this)+4}},{key:"createLayer",value:function(){var Da=new J.default(this.name,this.blendMode);Da.setAlpha(this.alpha);Da.setVisible(this.visible);Da.setExpanded(this.expanded);Da.setMaskLinked(this.maskLinked);Da.setMaskVisible(this.maskVisible);return Da}}]);return na}(g),yb=function(){function Ia(na){h(this,Ia);this.bytesRead=0;this.bytesTotal=na.width*na.height*G.default.BYTES_PER_PIXEL;this.output=na.data;this.done=!1}f(Ia,
[{key:"decode",value:function(na){if(null==na)return null;for(var Ha=this.bytesRead%G.default.BYTES_PER_PIXEL,Da=this.bytesRead-Ha,bb=0,rb=[G.default.ALPHA_BYTE_OFFSET,G.default.RED_BYTE_OFFSET,G.default.GREEN_BYTE_OFFSET,G.default.BLUE_BYTE_OFFSET];Ha<G.default.BYTES_PER_PIXEL&&bb<na.length;Ha++)this.output[Da+rb[Ha]]=na[bb],bb++;this.bytesRead+=bb;var vb=Math.min(na.length-bb,this.bytesTotal-this.bytesRead)|0;Ha=vb/G.default.BYTES_PER_PIXEL|0;vb%=G.default.BYTES_PER_PIXEL;for(Da=0;Da<Ha;Da++)this.output[this.bytesRead+
G.default.ALPHA_BYTE_OFFSET]=na[bb],this.output[this.bytesRead+G.default.RED_BYTE_OFFSET]=na[bb+1],this.output[this.bytesRead+G.default.GREEN_BYTE_OFFSET]=na[bb+2],this.output[this.bytesRead+G.default.BLUE_BYTE_OFFSET]=na[bb+3],this.bytesRead+=G.default.BYTES_PER_PIXEL,bb+=G.default.BYTES_PER_PIXEL;Da=this.bytesRead;for(Ha=0;Ha<vb;Ha++)this.output[Da+rb[Ha]]=na[bb],bb++;this.bytesRead+=vb;this.bytesRead>=this.bytesTotal&&(this.done=!0);return bb<na.length?na.subarray(bb):null}}]);return Ia}(),Cb=
function(){function Ia(na){h(this,Ia);this.bytesRead=0;this.bytesTotal=na.width*na.height;this.output=na.data;this.done=!1}f(Ia,[{key:"decode",value:function(na){if(null==na)return null;var Ha=Math.min(na.length,this.bytesTotal-this.bytesRead)|0,Da=this.bytesRead,bb;for(bb=0;bb<Ha;bb++,Da++)this.output[Da]=na[bb];this.bytesRead=Da;this.bytesRead>=this.bytesTotal&&(this.done=!0);return bb<na.length?na.subarray(bb):null}}]);return Ia}()},{"../util/ArrayDataStream.js":56,"./CPArtwork.js":3,"./CPBlend.js":5,
"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPImageLayer.js":15,"./CPLayerGroup.js":17,pako:297}],12:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(y,k,v){this.bmp=y;this.x=k;this.y=v};L.exports=D.default},{}],13:[function(g,L,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a,m){"number"==typeof a?(b.default.call(this,a,m),this.imageData=(0,x.createImageData)(this.width,this.height)):(b.default.call(this,a.width,a.height),this.imageData=a);this.data=
this.imageData.data}function v(a,m,q,r){var h=0,c=[0,0,0,0],f,n;for(n=f=0;n<r&&n<q;n++){for(var e=0;e<k.BYTES_PER_PIXEL;e++)c[e]+=a[f++];h++}for(e=n=0;e<q;e++){if(e+r<q){f=(e+r)*k.BYTES_PER_PIXEL;for(var p=0;p<k.BYTES_PER_PIXEL;p++)c[p]+=a[f++];h++}for(f=0;f<k.BYTES_PER_PIXEL;f++)m[n++]=Math.round(c[f]/h);if(0<=e-r){f=(e-r)*k.BYTES_PER_PIXEL;for(p=0;p<k.BYTES_PER_PIXEL;p++)c[p]-=a[f++];h--}}}function E(a,m){m%=4;if(0==m)return a;var q=(0,x.createCanvas)(0,0),r=q.getContext("2d");0==m%2?(q.width=a.width,
q.height=a.height):(q.width=a.height,q.height=a.width);switch(m){case 1:r.rotate(Math.PI/2);r.drawImage(a,0,-a.height);break;case 2:r.rotate(Math.PI);r.drawImage(a,-a.width,-a.height);break;case 3:r.rotate(-Math.PI/2);r.drawImage(a,-a.width,0);break;default:return a}return q}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;D.getRotatedCanvas=E;var b=y(g("./CPBitmap.js")),d=y(g("../util/CPRect.js")),x=g("../util/Canvas.js");k.prototype=Object.create(b.default.prototype);k.prototype.constructor=
k;k.BYTES_PER_PIXEL=4;k.RED_BYTE_OFFSET=0;k.GREEN_BYTE_OFFSET=1;k.BLUE_BYTE_OFFSET=2;k.ALPHA_BYTE_OFFSET=3;k.prototype.clone=function(){return this.cloneRect(this.getBounds())};k.prototype.cloneRect=function(a){var m=new k(a.getWidth(),a.getHeight());m.copyBitmapRect(this,0,0,a);return m};k.prototype.getPixel=function(a,m){a=Math.max(0,Math.min(this.width-1,a));m=Math.max(0,Math.min(this.height-1,m));a=this.offsetOfPixel(a,m);return this.data[a+k.ALPHA_BYTE_OFFSET]<<24|this.data[a+k.RED_BYTE_OFFSET]<<
16|this.data[a+k.GREEN_BYTE_OFFSET]<<8|this.data[a+k.BLUE_BYTE_OFFSET]};k.prototype.copyRectXOR=function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth(),r=m.getHeight();r=new Uint8Array(q*r*k.BYTES_PER_PIXEL);var h=0,c=this.offsetOfPixel(m.left,m.top),f=a.offsetOfPixel(m.left,m.top),n=(this.width-q)*k.BYTES_PER_PIXEL,e=(a.width-q)*k.BYTES_PER_PIXEL;q*=k.BYTES_PER_PIXEL;for(var p=m.top;p<m.bottom;p++,c+=n,f+=e)for(var u=0;u<q;u++,h++,c++,f++)r[h]=this.data[c]^a.data[f];return r};k.prototype.setRectXOR=
function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth(),r=m.getHeight();m=this.offsetOfPixel(m.left,m.top);var h=0,c=(this.width-q)*k.BYTES_PER_PIXEL;q*=k.BYTES_PER_PIXEL;for(var f=0;f<r;f++){for(var n=0;n<q;n++)this.data[m++]^=a[h++];m+=c}};k.prototype.copyBitmapRect=function(a,m,q,r){var h=new d.default(m,q,0,0);r=r.clone();this.getBounds().clipSourceDest(r,h);m=h.getWidth()|0;q=h.getHeight()|0;if(0==h.left&&0==h.top&&m==this.width&&q==this.height&&m==a.width&&q==a.height)this.copyPixelsFrom(a);
else{h=this.offsetOfPixel(h.left,h.top);var c=(this.width-m)*k.BYTES_PER_PIXEL;r=a.offsetOfPixel(r.left,r.top);for(var f=(a.width-m)*k.BYTES_PER_PIXEL,n=0;n<q;n++,r+=f,h+=c)for(var e=0;e<m;e++,r+=k.BYTES_PER_PIXEL,h+=k.BYTES_PER_PIXEL)this.data[h]=a.data[r],this.data[h+1]=a.data[r+1],this.data[h+2]=a.data[r+2],this.data[h+3]=a.data[r+3]}};k.prototype.copyAlphaFrom=function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth()|0,r=m.getHeight()|0;m=this.offsetOfPixel(m.left,m.top)+k.ALPHA_BYTE_OFFSET|
0;for(var h=(this.width-q)*k.BYTES_PER_PIXEL|0,c=0;c<r;c++,m+=h)for(var f=0;f<q;f++,m+=k.BYTES_PER_PIXEL)this.data[m]=a.data[m]};k.prototype.setToSize=function(a){if(a.width!=this.width||a.height!=this.height)this.width=a.width,this.height=a.height,this.imageData=(0,x.createImageData)(this.width,this.height),this.data=this.imageData.data};k.prototype.copyPixelsFrom=function(a){this.setToSize(a);if("set"in this.data)this.data.set(a.data);else for(var m=0;m<this.data.length;m++)this.data[m]=a.data[m]};
k.prototype.copyPixelsFromGreyscale=function(a){var m,q=0,r=a.width*a.height;this.setToSize(a);for(m=0;m<r;m++,q+=k.BYTES_PER_PIXEL)this.data[q+k.RED_BYTE_OFFSET]=a.data[m],this.data[q+k.GREEN_BYTE_OFFSET]=a.data[m],this.data[q+k.BLUE_BYTE_OFFSET]=a.data[m],this.data[q+k.ALPHA_BYTE_OFFSET]=255};k.prototype.copyScaledNearestNeighbor=function(a){for(var m=0,q=a.width/this.width,r=a.height/this.height,h,c=0,f=0;c<this.height;c++,f+=r){h=a.offsetOfPixel(0,Math.round(f));for(var n=0,e=0;n<this.width;n++,
m+=k.BYTES_PER_PIXEL,e+=q){var p=h+Math.round(e)*k.BYTES_PER_PIXEL;this.data[m]=a.data[p];this.data[m+1]=a.data[p+1];this.data[m+2]=a.data[p+2];this.data[m+k.ALPHA_BYTE_OFFSET]=a.data[p+k.ALPHA_BYTE_OFFSET]}}};k.prototype.createThumbnailFrom=function(a){var m=Math.min(Math.floor(a.width/this.width),3);if(2>m)this.copyScaledNearestNeighbor(a);else{var q=new Uint16Array(5*this.width),r=a.width*k.BYTES_PER_PIXEL,h=Math.floor(a.width/this.width)*k.BYTES_PER_PIXEL,c=Math.floor(a.width/this.width/m)*k.BYTES_PER_PIXEL,
f=h-c*m,n=Math.floor(a.height/this.height/m);h=n*r-h*this.width;r*=Math.floor(a.height/this.height)-n*m;for(var e=n=0,p=0;p<this.height;p++,n+=r){var u;q.fill(0);for(var B=0;B<m;B++,n+=h)for(var C=u=0;C<this.width;C++,u+=5,n+=f)for(var A=0;A<m;A++,n+=c){var I=a.data[n+k.ALPHA_BYTE_OFFSET],O=I/255;q[u]+=a.data[n]*O;q[u+1]+=a.data[n+1]*O;q[u+2]+=a.data[n+2]*O;q[u+k.ALPHA_BYTE_OFFSET]+=I;q[u+4]=Math.max(q[u+4],I)}for(B=u=0;B<this.width;B++,u+=5,e+=k.BYTES_PER_PIXEL)C=q[u+4],0==C?this.data[e+k.ALPHA_BYTE_OFFSET]=
0:(A=C/q[u+k.ALPHA_BYTE_OFFSET],this.data[e]=q[u]*A,this.data[e+1]=q[u+1]*A,this.data[e+2]=q[u+2]*A,this.data[e+k.ALPHA_BYTE_OFFSET]=C)}}};k.prototype.floodFill=function(a,m,q){if(this.isInside(a,m)){var r=this.getPixel(a,m),h=r>>24&255,c=r>>16&255,f=r>>8&255,n=r&255,e=q>>24&255,p=q>>16&255,u=q>>8&255,B=q&255,C=[],A=this.getBounds(),I=this.data;A.left*=k.BYTES_PER_PIXEL;A.right*=k.BYTES_PER_PIXEL;C.push({x1:a*k.BYTES_PER_PIXEL,x2:a*k.BYTES_PER_PIXEL,y:m,dy:-1});C.push({x1:a*k.BYTES_PER_PIXEL,x2:a*
k.BYTES_PER_PIXEL,y:m+1,dy:1});if(0==h){if(0!=e)for(;0<C.length;)if(c=C.pop(),!(c.y<A.top||c.y>=A.bottom)){f=this.offsetOfPixel(0,c.y);for(n=c.x1;n>=A.left&&0==I[n+f+k.ALPHA_BYTE_OFFSET];)I[n+f+k.RED_BYTE_OFFSET]=p,I[n+f+k.GREEN_BYTE_OFFSET]=u,I[n+f+k.BLUE_BYTE_OFFSET]=B,I[n+f+k.ALPHA_BYTE_OFFSET]=e,n-=k.BYTES_PER_PIXEL;if(n>=c.x1){for(;n<=c.x2&&I[n+f+k.ALPHA_BYTE_OFFSET]!=h;)n+=k.BYTES_PER_PIXEL;a=n+k.BYTES_PER_PIXEL;if(n>c.x2)continue}else n+=k.BYTES_PER_PIXEL,n<c.x1&&C.push({x1:n,x2:c.x1-k.BYTES_PER_PIXEL,
y:c.y-c.dy,dy:-c.dy}),a=c.x1+k.BYTES_PER_PIXEL;do{I[n+f+k.RED_BYTE_OFFSET]=p;I[n+f+k.GREEN_BYTE_OFFSET]=u;I[n+f+k.BLUE_BYTE_OFFSET]=B;for(I[n+f+k.ALPHA_BYTE_OFFSET]=e;a<A.right&&I[a+f+k.ALPHA_BYTE_OFFSET]==h;)I[a+f+k.RED_BYTE_OFFSET]=p,I[a+f+k.GREEN_BYTE_OFFSET]=u,I[a+f+k.BLUE_BYTE_OFFSET]=B,I[a+f+k.ALPHA_BYTE_OFFSET]=e,a+=k.BYTES_PER_PIXEL;C.push({x1:n,x2:a-k.BYTES_PER_PIXEL,y:c.y+c.dy,dy:c.dy});a-k.BYTES_PER_PIXEL>c.x2&&C.push({x1:c.x2+k.BYTES_PER_PIXEL,x2:a-k.BYTES_PER_PIXEL,y:c.y-c.dy,dy:-c.dy});
for(n=a+k.BYTES_PER_PIXEL;n<=c.x2&&I[n+f+k.ALPHA_BYTE_OFFSET]!=h;)n+=k.BYTES_PER_PIXEL;a=n+k.BYTES_PER_PIXEL}while(n<=c.x2)}}else if(q!=r)for(;0<C.length;)if(a=C.pop(),!(a.y<A.top||a.y>=A.bottom)){m=this.offsetOfPixel(0,a.y);for(q=a.x1;q>=A.left&&I[q+m+k.RED_BYTE_OFFSET]==c&&I[q+m+k.GREEN_BYTE_OFFSET]==f&&I[q+m+k.BLUE_BYTE_OFFSET]==n&&I[q+m+k.ALPHA_BYTE_OFFSET]==h;)I[q+m+k.RED_BYTE_OFFSET]=p,I[q+m+k.GREEN_BYTE_OFFSET]=u,I[q+m+k.BLUE_BYTE_OFFSET]=B,I[q+m+k.ALPHA_BYTE_OFFSET]=e,q-=k.BYTES_PER_PIXEL;
if(q>=a.x1){for(;q<=a.x2&&(I[q+m+k.RED_BYTE_OFFSET]!=c||I[q+m+k.GREEN_BYTE_OFFSET]!=f||I[q+m+k.BLUE_BYTE_OFFSET]!=n||I[q+m+k.ALPHA_BYTE_OFFSET]!=h);)q+=k.BYTES_PER_PIXEL;r=q+k.BYTES_PER_PIXEL;if(q>a.x2)continue}else q+=k.BYTES_PER_PIXEL,q<a.x1&&C.push({x1:q,x2:a.x1-k.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy}),r=a.x1+k.BYTES_PER_PIXEL;do{I[q+m+k.RED_BYTE_OFFSET]=p;I[q+m+k.GREEN_BYTE_OFFSET]=u;I[q+m+k.BLUE_BYTE_OFFSET]=B;for(I[q+m+k.ALPHA_BYTE_OFFSET]=e;r<A.right&&I[r+m+k.RED_BYTE_OFFSET]==c&&I[r+m+k.GREEN_BYTE_OFFSET]==
f&&I[r+m+k.BLUE_BYTE_OFFSET]==n&&I[r+m+k.ALPHA_BYTE_OFFSET]==h;)I[r+m+k.RED_BYTE_OFFSET]=p,I[r+m+k.GREEN_BYTE_OFFSET]=u,I[r+m+k.BLUE_BYTE_OFFSET]=B,I[r+m+k.ALPHA_BYTE_OFFSET]=e,r+=k.BYTES_PER_PIXEL;C.push({x1:q,x2:r-k.BYTES_PER_PIXEL,y:a.y+a.dy,dy:a.dy});r-k.BYTES_PER_PIXEL>a.x2&&C.push({x1:a.x2+k.BYTES_PER_PIXEL,x2:r-k.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy});for(q=r+k.BYTES_PER_PIXEL;q<=a.x2&&(I[q+m+k.RED_BYTE_OFFSET]!=c||I[q+m+k.GREEN_BYTE_OFFSET]!=f||I[q+m+k.BLUE_BYTE_OFFSET]!=n||I[q+m+k.ALPHA_BYTE_OFFSET]!=
h);)q+=k.BYTES_PER_PIXEL;r=q+k.BYTES_PER_PIXEL}while(q<=a.x2)}}};k.prototype.copyPixelColumnToArray=function(a,m,q,r){var h=(this.width-1)*k.BYTES_PER_PIXEL,c=0;a=this.offsetOfPixel(a,m);for(m=0;m<q;m++){for(var f=0;f<k.BYTES_PER_PIXEL;f++)r[c++]=this.data[a++];a+=h}};k.prototype.copyArrayToPixelColumn=function(a,m,q,r){var h=(this.width-1)*k.BYTES_PER_PIXEL,c=0;a=this.offsetOfPixel(a,m);for(m=0;m<q;m++){for(var f=0;f<k.BYTES_PER_PIXEL;f++)this.data[a++]=r[c++];a+=h}};k.prototype.boxBlur=function(a,
m,q){a=this.getBounds().clipTo(a);var r=a.getWidth(),h=r*k.BYTES_PER_PIXEL,c=a.getHeight(),f=Math.max(r,c),n=new Uint8Array(f*k.BYTES_PER_PIXEL);f=new Uint8Array(f*k.BYTES_PER_PIXEL);for(var e=a.top;e<a.bottom;e++){for(var p=this.offsetOfPixel(a.left,e),u=0;u<h;u++)n[u]=this.data[p++];p=n;u=r;for(var B=0,C=0;C<u;C++){for(var A=p[B+k.ALPHA_BYTE_OFFSET],I=0;3>I;I++,B++)p[B]=Math.round(p[B]*A/255);B++}v(n,f,r,m);p=this.offsetOfPixel(a.left,e);for(u=0;u<h;u++)this.data[p++]=f[u]}for(m=a.left;m<a.right;m++){this.copyPixelColumnToArray(m,
a.top,c,n);v(n,f,c,q);r=f;h=c;for(p=e=0;p<h;p++)if(u=r[e+k.ALPHA_BYTE_OFFSET],0!=u){u=255/u;for(B=0;3>B;B++,e++)r[e]=Math.min(Math.round(r[e]*u),255);e++}else e+=k.BYTES_PER_PIXEL;this.copyArrayToPixelColumn(m,a.top,c,f)}};k.prototype.offsetOfPixel=function(a,m){return 4*(m*this.width+a)|0};k.prototype.getMemorySize=function(){return this.data.length};k.prototype.getImageData=function(){return this.imageData};k.prototype.setImageData=function(a){this.width=a.width;this.height=a.height;this.imageData=
a;this.data=a.data};k.prototype.clearAll=function(a){if(0==a&&"fill"in this.data)this.data.fill(0);else{var m=a>>24&255,q=a>>16&255,r=a>>8&255;a&=255;for(var h=0;h<this.width*this.height*k.BYTES_PER_PIXEL;)this.data[h++]=q,this.data[h++]=r,this.data[h++]=a,this.data[h++]=m}};k.prototype.clearRect=function(a,m){a=this.getBounds().clipTo(a);var q=m>>24&255,r=m>>16&255,h=m>>8&255;m&=255;for(var c=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top),n=a.top;n<a.bottom;n++,f+=
c)for(var e=a.left;e<a.right;e++)this.data[f++]=r,this.data[f++]=h,this.data[f++]=m,this.data[f++]=q};k.prototype.copyRegionHFlip=function(a,m){a=this.getBounds().clipTo(a);for(var q=a.top;q<a.bottom;q++)for(var r=this.offsetOfPixel(a.left,q),h=m.offsetOfPixel(a.right-1,q),c=a.left;c<a.right;c++,h-=2*k.BYTES_PER_PIXEL)for(var f=0;f<k.BYTES_PER_PIXEL;f++)this.data[r++]=m.data[h++]};k.prototype.copyRegionVFlip=function(a,m){a=this.getBounds().clipTo(a);for(var q=a.getWidth()*k.BYTES_PER_PIXEL,r=a.top;r<
a.bottom;r++)for(var h=this.offsetOfPixel(a.left,r),c=m.offsetOfPixel(a.left,a.bottom-1-(r-a.top)),f=0;f<q;f++)this.data[h++]=m.data[c++]};k.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var m,q=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,r=this.offsetOfPixel(a.left,a.top),h=a.top;h<a.bottom;h++,r+=q)for(var c=a.left;c<a.right;c++,r+=k.BYTES_PER_PIXEL)m=256*Math.random()|0,this.data[r+k.RED_BYTE_OFFSET]=m,this.data[r+k.GREEN_BYTE_OFFSET]=m,this.data[r+k.BLUE_BYTE_OFFSET]=m,
this.data[r+k.ALPHA_BYTE_OFFSET]=255};k.prototype.gradientHorzReplace=function(a,m,q,r){var h={r:r[0]>>16&255,g:r[0]>>8&255,b:r[0]&255,a:r[0]>>24&255};r={r:r[1]>>16&255,g:r[1]>>8&255,b:r[1]&255,a:r[1]>>24&255};var c=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top)|0,n=a.bottom-a.top|0;if(q<m){var e=q;q=m;m=e;e=h;h=r;r=e}var p=q-m|0;e=(r.r-h.r)/p;var u=(r.g-h.g)/p,B=(r.b-h.b)/p;p=(r.a-h.a)/p;for(var C=Math.max(a.left-m,0),A=0;A<n;A++,f+=c){for(var I=a.left,O=Math.min(m,
a.right)|0;I<O;I++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=h.r,this.data[f+k.GREEN_BYTE_OFFSET]=h.g,this.data[f+k.BLUE_BYTE_OFFSET]=h.b,this.data[f+k.ALPHA_BYTE_OFFSET]=h.a;var z=h.r+e*C,G=h.g+u*C,H=h.b+B*C,J=h.a+p*C;for(O=Math.min(q,a.right)|0;I<O;I++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=z,this.data[f+k.GREEN_BYTE_OFFSET]=G,this.data[f+k.BLUE_BYTE_OFFSET]=H,this.data[f+k.ALPHA_BYTE_OFFSET]=J,z+=e,G+=u,H+=B,J+=p;for(;I<a.right;I++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=
r.r,this.data[f+k.GREEN_BYTE_OFFSET]=r.g,this.data[f+k.BLUE_BYTE_OFFSET]=r.b,this.data[f+k.ALPHA_BYTE_OFFSET]=r.a}};k.prototype.gradientVertReplace=function(a,m,q,r){var h={r:r[0]>>16&255,g:r[0]>>8&255,b:r[0]&255,a:r[0]>>24&255};r={r:r[1]>>16&255,g:r[1]>>8&255,b:r[1]&255,a:r[1]>>24&255};var c=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top)|0,n=a.right-a.left|0;if(q<m){var e=q;q=m;m=e;e=h;h=r;r=e}e=a.top;for(var p=Math.min(a.bottom,m)|0;e<p;e++,f+=c)for(var u=0;u<n;u++,
f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=h.r,this.data[f+k.GREEN_BYTE_OFFSET]=h.g,this.data[f+k.BLUE_BYTE_OFFSET]=h.b,this.data[f+k.ALPHA_BYTE_OFFSET]=h.a;var B=q-m|0;p=(r.r-h.r)/B;u=(r.g-h.g)/B;var C=(r.b-h.b)/B;B=(r.a-h.a)/B;var A=Math.max(e-m,0);m=h.r+p*A;var I=h.g+u*A,O=h.b+C*A;h=h.a+B*A;for(q=Math.min(a.bottom,q)|0;e<q;e++,f+=c){for(A=0;A<n;A++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=m,this.data[f+k.GREEN_BYTE_OFFSET]=I,this.data[f+k.BLUE_BYTE_OFFSET]=O,this.data[f+k.ALPHA_BYTE_OFFSET]=
h;m+=p;I+=u;O+=C;h+=B}for(;e<a.bottom;e++,f+=c)for(q=0;q<n;q++,f+=k.BYTES_PER_PIXEL)this.data[f+k.RED_BYTE_OFFSET]=r.r,this.data[f+k.GREEN_BYTE_OFFSET]=r.g,this.data[f+k.BLUE_BYTE_OFFSET]=r.b,this.data[f+k.ALPHA_BYTE_OFFSET]=r.a};k.prototype.gradientReplace=function(a,m,q,r,h,c){var f=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,n=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,p=c[0]>>16&255,u=c[0]>>8&255,B=c[0]&255,C=c[0]>>24&255,A=c[1]>>16&255,I=c[1]>>8&255,O=c[1]&255;c=c[1]>>24&255;var z=
h-q+(r-m)*(r-m)/(h-q);r=r-m+(h-q)*(h-q)/(r-m);h=1/r;for(var G=a.top;G<a.bottom;G++,n+=f)for(var H=(a.left-m)/r+(G-q)/z,J=0;J<e;J++,n+=k.BYTES_PER_PIXEL){var K=Math.min(Math.max(H,0),1),S=1-K;this.data[n+k.RED_BYTE_OFFSET]=p*S+A*K;this.data[n+k.GREEN_BYTE_OFFSET]=u*S+I*K;this.data[n+k.BLUE_BYTE_OFFSET]=B*S+O*K;this.data[n+k.ALPHA_BYTE_OFFSET]=C*S+c*K;H+=h}};k.prototype.gradientAlpha=function(a,m,q,r,h,c){var f=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,n=this.offsetOfPixel(a.left,a.top)|0,e=a.right-
a.left|0,p=c[0]>>16&255,u=c[0]>>8&255,B=c[0]&255,C=c[0]>>24&255,A=c[1]>>16&255,I=c[1]>>8&255,O=c[1]&255;c=c[1]>>24&255;var z=h-q+(r-m)*(r-m)/(h-q);r=r-m+(h-q)*(h-q)/(r-m);h=1/r;for(var G=a.top;G<a.bottom;G++,n+=f)for(var H=(a.left-m)/r+(G-q)/z,J=0;J<e;J++,n+=k.BYTES_PER_PIXEL){var K=Math.min(Math.max(H,0),1),S=1-K,da=p*S+A*K,Y=u*S+I*K,ra=B*S+O*K;S=C*S+c*K;K=this.data[n+k.ALPHA_BYTE_OFFSET];K=S+K-S*K/255|0;if(0<K){S=255*S/K|0;var ma=255-S;this.data[n+k.RED_BYTE_OFFSET]=(da*S+this.data[n+k.RED_BYTE_OFFSET]*
ma)/255|0;this.data[n+k.GREEN_BYTE_OFFSET]=(Y*S+this.data[n+k.GREEN_BYTE_OFFSET]*ma)/255|0;this.data[n+k.BLUE_BYTE_OFFSET]=(ra*S+this.data[n+k.BLUE_BYTE_OFFSET]*ma)/255|0;this.data[n+k.ALPHA_BYTE_OFFSET]=K}H+=h}};k.prototype.gradient=function(a,m,q,r,h,c,f){a=this.getBounds().clipTo(a);if(m!=r||q!=h)f||255==c[0]>>>24&&255==c[1]>>>24?m==r?this.gradientVertReplace(a,q,h,c):q==h?this.gradientHorzReplace(a,m,r,c):this.gradientReplace(a,m,q,r,h,c):this.gradientAlpha(a,m,q,r,h,c)};k.prototype.fillWithColorNoise=
function(a){a=this.getBounds().clipTo(a);for(var m,q=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,r=this.offsetOfPixel(a.left,a.top),h=a.top;h<a.bottom;h++,r+=q)for(var c=a.left;c<a.right;c++,r+=k.BYTES_PER_PIXEL)m=16777216*Math.random()|0,this.data[r+k.RED_BYTE_OFFSET]=m>>16&255,this.data[r+k.GREEN_BYTE_OFFSET]=m>>8&255,this.data[r+k.BLUE_BYTE_OFFSET]=m&255,this.data[r+k.ALPHA_BYTE_OFFSET]=255};k.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var m=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,
q=this.offsetOfPixel(a.left,a.top),r=a.top;r<a.bottom;r++,q+=m)for(var h=a.left;h<a.right;h++,q+=k.BYTES_PER_PIXEL)this.data[q+k.RED_BYTE_OFFSET]^=255,this.data[q+k.GREEN_BYTE_OFFSET]^=255,this.data[q+k.BLUE_BYTE_OFFSET]^=255};k.prototype.getNonTransparentBounds=function(a){var m=a.clone(),q,r;var h=(this.width-m.getWidth())*k.BYTES_PER_PIXEL;a=this.offsetOfPixel(m.left,m.top)+k.ALPHA_BYTE_OFFSET;for(r=m.top;r<m.bottom;r++,a+=h){var c=0;for(q=m.left;q<m.right;q++,a+=k.BYTES_PER_PIXEL)c|=this.data[a];
if(0!=c)break}m.top=r;if(m.top==m.bottom)return m;a=this.offsetOfPixel(m.right-1,m.bottom-1)+k.ALPHA_BYTE_OFFSET;for(r=m.bottom-1;r>=m.top;r--,a-=h){c=0;for(q=m.right-1;q>=m.left;q--,a-=k.BYTES_PER_PIXEL)c|=this.data[a];if(0!=c)break}m.bottom=r+1;h=k.BYTES_PER_PIXEL*this.width;for(q=m.left;q<m.right;q++){a=this.offsetOfPixel(q,m.top)+k.ALPHA_BYTE_OFFSET;c=0;for(r=m.top;r<m.bottom;r++,a+=h)c|=this.data[a];if(0!=c)break}m.left=q;for(q=m.right-1;q>=m.left;q--){a=this.offsetOfPixel(q,m.top)+k.ALPHA_BYTE_OFFSET;
c=0;for(r=m.top;r<m.bottom;r++,a+=h)c|=this.data[a];if(0!=c)break}m.right=q+1;return m};k.prototype.getAsCanvas=function(a){var m=(0,x.createCanvas)(this.imageData.width,this.imageData.height);m.getContext("2d").putImageData(this.imageData,0,0);return E(m,a||0)};k.prototype.getAsPNG=function(a){a=this.getAsCanvas(a).toDataURL("image/png");a="string"===typeof a&&a.match(/^data:image\/png;base64,/i)?window.atob(a.substring(22)):!1;return a};k.prototype.getAsPNGBuffer=function(a){return this.getAsCanvas(a).toBuffer("image/png")};
k.prototype.hasAlphaInRect=function(a){a=this.getBounds().clipTo(a);for(var m=(this.width-a.getWidth())*k.BYTES_PER_PIXEL,q=this.offsetOfPixel(a.left,a.top)+k.ALPHA_BYTE_OFFSET,r=a.top;r<a.bottom;r++,q+=m){for(var h=255,c=a.left;c<a.right;c++,q+=k.BYTES_PER_PIXEL)h&=this.data[q];if(255!=h)return!0}return!1};k.prototype.hasAlpha=function(){return this.hasAlphaInRect(this.getBounds())};k.createFromImage=function(a){var m=(0,x.createCanvas)(a.width,a.height).getContext("2d");m.globalCompositeOperation=
"copy";m.drawImage(a,0,0);return new k(m.getImageData(0,0,a.width,a.height))};k.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var m=0;m<this.data.length;m+=k.BYTES_PER_PIXEL)if(0!=this.data[m+k.ALPHA_BYTE_OFFSET]||0!=a.data[m+k.ALPHA_BYTE_OFFSET])if(this.data[m]!=a.data[m]||this.data[m+1]!=a.data[m+1]||this.data[m+2]!=a.data[m+2]||this.data[m+3]!=a.data[m+3])return!1;return!0}},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4}],14:[function(g,
L,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a,m,q){E.default.call(this,a,m);this.createBitmap(a,m,q)}function v(a,m,q,r){var h=0,c=0,f;for(f=0;f<r&&f<q;f++)c+=a[f],h++;for(var n=f=0;n<q;n++)n+r<q&&(c+=a[n+r],h++),m[f++]=Math.round(c/h),0<=n-r&&(c-=a[n-r],h--)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var E=y(g("./CPBitmap.js")),b=y(g("../util/CPRect.js")),d=g("../util/Canvas.js"),x=g("./CPColorBmp.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=
k;k.prototype.createBitmap=function(a,m,q){this.bitDepth=q;switch(q){case 32:this.data=new Uint32Array(a*m);break;case 16:this.data=new Uint16Array(a*m);break;default:this.data=new Uint8Array(a*m)}};k.prototype.clone=function(){var a=new k(this.width,this.height,this.bitDepth);a.copyPixelsFrom(this);return a};k.prototype.cloneRect=function(a){var m=new k(a.getWidth(),a.getHeight(),this.bitDepth);m.copyBitmapRect(this,0,0,a);return m};k.prototype.getPixel=function(a,m){a=Math.max(0,Math.min(this.width-
1,a));m=Math.max(0,Math.min(this.height-1,m));return this.data[this.offsetOfPixel(a,m)]};k.prototype.clearAll=function(a){this.data.fill(a)};k.prototype.clearRect=function(a,m){a=this.getBounds().clipTo(a);if(a.equals(this.getBounds()))this.clearAll(m);else for(var q=this.width,r=a.right-a.left,h=this.offsetOfPixel(a.left,a.top),c=a.top;c<a.bottom;c++,h+=q)this.data.fill(m,h,h+r)};k.prototype.copyScaledNearestNeighbor=function(a){for(var m=0,q=a.width/this.width,r=a.height/this.height,h,c=0,f=0;c<
this.height;c++,f+=r){h=a.offsetOfPixel(0,Math.round(f));for(var n=0,e=0;n<this.width;n++,m++,e+=q)this.data[m]=a.data[h+Math.round(e)]}};k.prototype.floodFill=function(a,m,q){if(this.isInside(a,m)){q&=255;var r=this.getPixel(a,m),h=[],c=this.getBounds(),f=this.data;h.push({x1:a,x2:a,y:m,dy:-1});h.push({x1:a,x2:a,y:m+1,dy:1});if(q!=r)for(;0<h.length;)if(a=h.pop(),!(a.y<c.top||a.y>=c.bottom)){m=this.offsetOfPixel(0,a.y);for(var n=a.x1,e;n>=c.left&&f[n+m]==r;)f[n+m]=q,n--;if(n>=a.x1){for(;n<=a.x2&&
f[n+m]!=r;)n++;e=n+1;if(n>a.x2)continue}else n++,n<a.x1&&h.push({x1:n,x2:a.x1-1,y:a.y-a.dy,dy:-a.dy}),e=a.x1+1;do{for(f[n+m]=q;e<c.right&&f[e+m]==r;)f[e+m]=q,e++;h.push({x1:n,x2:e-1,y:a.y+a.dy,dy:a.dy});e-1>a.x2&&h.push({x1:a.x2+1,x2:e-1,y:a.y-a.dy,dy:-a.dy});for(n=e+1;n<=a.x2&&f[n+m]!=r;)n++;e=n+1}while(n<=a.x2)}}};k.prototype.createThumbnailFrom=function(a){var m=Math.min(Math.floor(a.width/this.width),3);if(2>m)this.copyScaledNearestNeighbor(a);else{var q=new Uint16Array(this.width),r=a.width,
h=Math.floor(a.width/this.width),c=Math.floor(a.width/this.width/m),f=h-c*m,n=Math.floor(a.height/this.height/m);h=n*r-h*this.width;r*=Math.floor(a.height/this.height)-n*m;for(var e=n=0,p=0;p<this.height;p++,n+=r){var u;q.fill(0);for(var B=0;B<m;B++,n+=h)for(var C=u=0;C<this.width;C++,u++,n+=f)for(var A=0;A<m;A++,n+=c)q[u]+=a.data[n];for(B=u=0;B<this.width;B++,u++,e++)this.data[e]=q[u]/(m*m)}}};k.prototype.mirrorHorizontally=function(){for(var a=this.width,m=this.height,q=new Uint8Array(a*m),r=0,
h=a,c=0;c<m;c++,h+=a+a)for(var f=0;f<a;f++)q[r++]=this.data[--h];this.data=q};k.prototype.applyLUT=function(a){for(var m=0;m<this.data.length;m++)this.data[m]=a.table[this.data[m]]};k.prototype.getAsCanvas=function(a){var m=this.getImageData(0,0,this.width,this.height),q=(0,d.createCanvas)(this.width,this.height);q.getContext("2d").putImageData(m,0,0);return(0,x.getRotatedCanvas)(q,a||0)};k.prototype.getImageData=function(a,m,q,r){var h=(0,d.createImageData)(q,r);a=this.offsetOfPixel(a,m);m=0;for(var c=
this.width-q,f=0;f<r;f++,a+=c)for(var n=0;n<q;n++,a++)h.data[m++]=this.data[a],h.data[m++]=this.data[a],h.data[m++]=this.data[a],h.data[m++]=255;return h};k.prototype.pasteImageData=function(a,m,q){var r=0;m=this.offsetOfPixel(m,q);q=this.width-a.width;for(var h=0;h<a.height;h++,m+=q)for(var c=0;c<a.width;c++,r+=4,m++)this.data[m]=a.data[r];return a};k.prototype.copyPixelsFrom=function(a){a.width!=this.width||a.height!=this.height||a.bitDepth!=this.bitDepth?(this.data=a.data.slice(0),this.width=a.width,
this.height=a.height,this.bitDepth=a.bitDepth):this.data.set(a.data)};k.prototype.copyRectXOR=function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth(),r=m.getHeight();r=new Uint8Array(q*r);for(var h=0,c=this.offsetOfPixel(m.left,m.top),f=a.offsetOfPixel(m.left,m.top),n=this.width-q,e=a.width-q,p=m.top;p<m.bottom;p++,c+=n,f+=e)for(var u=0;u<q;u++,h++,c++,f++)r[h]=this.data[c]^a.data[f];return r};k.prototype.setRectXOR=function(a,m){m=this.getBounds().clipTo(m);var q=m.getWidth(),r=m.getHeight();
m=this.offsetOfPixel(m.left,m.top);for(var h=0,c=this.width-q,f=0;f<r;f++){for(var n=0;n<q;n++)this.data[m++]^=a[h++];m+=c}};k.prototype.copyBitmapRect=function(a,m,q,r){var h=new b.default(m,q,0,0);r=r.clone();this.getBounds().clipSourceDest(r,h);m=h.getWidth()|0;q=h.getHeight()|0;if(0==h.left&&0==h.top&&m==this.width&&q==this.height&&m==a.width&&q==a.height)this.copyPixelsFrom(a);else{h=this.offsetOfPixel(h.left,h.top);var c=this.width-m;r=a.offsetOfPixel(r.left,r.top);for(var f=a.width-m,n=0;n<
q;n++,r+=f,h+=c)for(var e=0;e<m;e++,r++,h++)this.data[h]=a.data[r]}};k.prototype.copyRegionHFlip=function(a,m){a=this.getBounds().clipTo(a);for(var q=a.top;q<a.bottom;q++)for(var r=this.offsetOfPixel(a.left,q),h=m.offsetOfPixel(a.right-1,q),c=a.left;c<a.right;c++,h-=2)this.data[r++]=m.data[h++]};k.prototype.copyRegionVFlip=function(a,m){a=this.getBounds().clipTo(a);for(var q=a.getWidth(),r=a.top;r<a.bottom;r++)for(var h=this.offsetOfPixel(a.left,r),c=m.offsetOfPixel(a.left,a.bottom-1-(r-a.top)),f=
0;f<q;f++)this.data[h++]=m.data[c++]};k.prototype.copyPixelColumnToArray=function(a,m,q,r){var h=this.width,c=0;a=this.offsetOfPixel(a,m);for(m=0;m<q;m++)r[c]=this.data[a],a+=h,c++};k.prototype.copyArrayToPixelColumn=function(a,m,q,r){var h=this.width,c=0;a=this.offsetOfPixel(a,m);for(m=0;m<q;m++)this.data[a]=r[c],a+=h,c++};k.prototype.boxBlur=function(a,m,q){a=this.getBounds().clipTo(a);var r=a.getWidth(),h=a.getHeight(),c=Math.max(r,h),f=new this.data.constructor(c);c=new this.data.constructor(c);
for(var n=a.top;n<a.bottom;n++){for(var e=this.offsetOfPixel(a.left,n),p=0;p<r;p++)f[p]=this.data[e++];v(f,c,r,m);e=this.offsetOfPixel(a.left,n);for(p=0;p<r;p++)this.data[e++]=c[p]}for(m=a.left;m<a.right;m++)this.copyPixelColumnToArray(m,a.top,h,f),v(f,c,h,q),this.copyArrayToPixelColumn(m,a.top,h,c)};k.prototype.offsetOfPixel=function(a,m){return m*this.width+a};k.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var m=this.width-a.getWidth(),q=this.offsetOfPixel(a.left,a.top),
r=a.top;r<a.bottom;r++,q+=m)for(var h=a.left;h<a.right;h++,q++)this.data[q]=256*Math.random()|0};k.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var m=this.width-a.getWidth(),q=this.offsetOfPixel(a.left,a.top),r=a.top;r<a.bottom;r++,q+=m)for(var h=a.left;h<a.right;h++,q++)this.data[q]=~this.data[q]};k.prototype.getValueBounds=function(a,m){var q=a.clone(),r,h;var c=this.width-q.getWidth();a=this.offsetOfPixel(q.left,q.top);for(h=q.top;h<q.bottom;h++,a+=c){var f=!1;for(r=q.left;r<q.right;r++,
a++)if(this.data[a]!=m){f=!0;break}if(f)break}q.top=h;if(q.top==q.bottom)return q;a=this.offsetOfPixel(q.right-1,q.bottom-1);for(h=q.bottom-1;h>=q.top;h--,a-=c){f=!1;for(r=q.right-1;r>=q.left;r--,a--)if(this.data[a]!=m){f=!0;break}if(f)break}q.bottom=h+1;c=this.width;for(r=q.left;r<q.right;r++){a=this.offsetOfPixel(r,q.top);f=!1;for(h=q.top;h<q.bottom;h++,a+=c)if(this.data[a]!=m){f=!0;break}if(f)break}q.left=r;for(r=q.right-1;r>=q.left;r--){a=this.offsetOfPixel(r,q.top);f=!1;for(h=q.top;h<q.bottom;h++,
a+=c)if(this.data[a]!=m){f=!0;break}if(f)break}q.right=r+1;return q};k.prototype.gradientHorzReplace=function(a,m,q,r){var h=r[0]&255;r=r[1]&255;var c=this.width-a.getWidth(),f=this.offsetOfPixel(a.left,a.top)|0,n=a.bottom-a.top|0;if(q<m){var e=q;q=m;m=e;e=h;h=r;r=e}e=(r-h)/(q-m|0);for(var p=Math.max(a.left-m,0),u=0;u<n;u++,f+=c){for(var B=a.left,C=Math.min(m,a.right)|0;B<C;B++,f++)this.data[f]=h;var A=h+e*p;for(C=Math.min(q,a.right)|0;B<C;B++,f++)this.data[f]=A,A+=e;for(;B<a.right;B++,f++)this.data[f]=
r}};k.prototype.gradientVertReplace=function(a,m,q,r){var h=r[0]&255;r=r[1]&255;var c=this.width-a.getWidth(),f=this.offsetOfPixel(a.left,a.top)|0,n=a.right-a.left|0;if(q<m){var e=q;q=m;m=e;e=h;h=r;r=e}e=a.top;for(var p=Math.min(a.bottom,m)|0;e<p;e++,f+=c)for(var u=0;u<n;u++,f++)this.data[f]=h;p=(r-h)/(q-m|0);m=h+p*Math.max(e-m,0);for(q=Math.min(a.bottom,q)|0;e<q;e++,f+=c){for(h=0;h<n;h++,f++)this.data[f]=m;m+=p}for(;e<a.bottom;e++,f+=c)for(q=0;q<n;q++,f++)this.data[f]=r};k.prototype.gradientReplace=
function(a,m,q,r,h,c){var f=this.width-a.getWidth(),n=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,p=c[0]&255;c=c[1]&255;var u=h-q+(r-m)*(r-m)/(h-q);r=r-m+(h-q)*(h-q)/(r-m);h=1/r;for(var B=a.top;B<a.bottom;B++,n+=f)for(var C=(a.left-m)/r+(B-q)/u,A=0;A<e;A++,n++){var I=Math.min(Math.max(C,0),1);this.data[n]=p*(1-I)+c*I;C+=h}};k.prototype.gradientAlpha=function(a,m,q,r,h,c){var f=this.width-a.getWidth(),n=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,p=c[0]&255,u=c[0]>>24&255,B=c[1]&
255;c=c[1]>>24&255;var C=h-q+(r-m)*(r-m)/(h-q);r=r-m+(h-q)*(h-q)/(r-m);h=1/r;for(var A=a.top;A<a.bottom;A++,n+=f)for(var I=(a.left-m)/r+(A-q)/C,O=0;O<e;O++,n++){var z=Math.min(Math.max(I,0),1),G=1-z,H=u*G+c*z;this.data[n]=((p*G+B*z)*H+this.data[n]*(255-H))/255|0;I+=h}};k.prototype.gradient=function(a,m,q,r,h,c,f){a=this.getBounds().clipTo(a);if(m!=r||q!=h)f||255==c[0]>>>24&&255==c[1]>>>24?m==r?this.gradientVertReplace(a,q,h,c):q==h?this.gradientHorzReplace(a,m,r,c):this.gradientReplace(a,m,q,r,h,
c):this.gradientAlpha(a,m,q,r,h,c)};k.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var m=0;m<this.data.length;m++)if(this.data[m]!=a.data[m])return!1;return!0};L.exports=D.default},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4,"./CPColorBmp.js":13}],15:[function(g,L,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d,x,a){E.default.call(this,a);this.image=0<d&&0<x?new v.default(d,x):null;this.clip=!1;this.imageThumbnail=null}
Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("./CPColorBmp.js")),E=y(g("./CPLayer.js")),b=y(g("../util/CPRect.js"));k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;k.createFromImage=function(d,x){x=new k(0,0,x);x.image=d;return x};k.prototype.clone=function(){var d=new k(0,0,this.name);d.copyFrom(this);return d};k.prototype.copyFrom=function(d){E.default.prototype.copyFrom.call(this,d);this.clip=d.clip;this.image?this.image.copyPixelsFrom(d.image):
this.image=d.image.clone()};k.prototype.hasAlpha=function(){return 100!=this.alpha?!0:this.image.hasAlpha()};k.prototype.hasAlphaInRect=function(d){return 100!=this.alpha?!0:this.image.hasAlphaInRect(d)};k.prototype.copyImageFrom=function(d){this.image.copyPixelsFrom(d)};k.prototype.getClippingBase=function(){if(this.clip&&this.parent)for(var d=this.parent.indexOf(this)-1;0<=d;d--)if(this.parent.layers[d]instanceof k){if(!this.parent.layers[d].clip)return this.parent.layers[d]}else break;return null};
k.prototype.getClip=function(){return this.clip};k.prototype.setClip=function(d){this.clip=d};k.prototype.getNonTransparentBounds=function(d){return this.image.getNonTransparentBounds(d)};k.prototype.getBounds=function(){return new b.default(0,0,this.image.width,this.image.height)};k.prototype.getMemoryUsed=function(){return this.image?this.image.getMemorySize():0};k.prototype.rebuildImageThumbnail=function(){if(!this.imageThumbnail){var d=Math.ceil(Math.max(this.image.width/E.default.LAYER_THUMBNAIL_WIDTH,
this.image.height/E.default.LAYER_THUMBNAIL_HEIGHT));this.imageThumbnail=new v.default(Math.floor(this.image.width/d),Math.floor(this.image.height/d))}this.imageThumbnail.createThumbnailFrom(this.image)};k.prototype.getImageThumbnail=function(){this.imageThumbnail||this.rebuildImageThumbnail();return this.imageThumbnail};L.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPLayer.js":16}],16:[function(g,L,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d){this.name=
d||"";this.parent=null;this.lockAlpha=!1;this.alpha=100;this.visible=!0;this.blendMode=v.default.LM_NORMAL;this.mask=null;this.maskVisible=this.maskLinked=!0;this.maskThumbnail=null;this.useLegacyMultiply=!1}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;y(g("./CPLayerGroup.js"));var v=y(g("./CPBlend.js")),E=y(g("./CPGreyBmp.js")),b=y(g("../util/CPRect.js"));k.prototype.copyFrom=function(d){this.name=d.name;this.blendMode=d.blendMode;this.useLegacyMultiply=d.useLegacyMultiply;this.alpha=
d.alpha;this.visible=d.visible;this.parent=d.parent;this.lockAlpha=d.lockAlpha;d.mask?this.mask?this.mask.copyPixelsFrom(d.mask):this.mask=d.mask.clone():this.mask=null;this.maskLinked=d.maskLinked;this.maskVisible=d.maskVisible;d.maskThumbnail?this.maskThumbnail?this.maskThumbnail.copyPixelsFrom(d.maskThumbnail):this.maskThumbnail=d.maskThumbnail.clone():this.maskThumbnail=null};k.prototype.setMask=function(d){this.mask=d;d||(this.maskThumbnail=null)};k.prototype.setAlpha=function(d){this.alpha=
d};k.prototype.getAlpha=function(){return this.alpha};k.prototype.getEffectiveAlpha=function(){return this.visible?this.alpha:0};k.prototype.getEffectiveMask=function(){return this.maskVisible?this.mask:null};k.prototype.setName=function(d){this.name=d};k.prototype.getName=function(){return this.name};k.prototype.setBlendMode=function(d){this.blendMode=d;d===v.default.LM_MULTIPLY?this.useLegacyMultiply=!0:d===v.default.LM_MULTIPLY2&&(this.useLegacyMultiply=!1)};k.prototype.getBlendMode=function(){return this.blendMode};
k.prototype.getLockAlpha=function(){return this.lockAlpha};k.prototype.setLockAlpha=function(d){this.lockAlpha=d};k.prototype.setVisible=function(d){this.visible=d};k.prototype.getVisible=function(){return this.visible};k.prototype.isVisible=k.prototype.getVisible;k.prototype.setMaskLinked=function(d){this.maskLinked=d};k.prototype.getMaskLinked=function(){return this.maskLinked};k.prototype.setMaskVisible=function(d){this.maskVisible=d};k.prototype.getMaskVisible=function(){return this.maskVisible};
k.prototype.getMemoryUsed=function(){return 0};k.prototype.getDepth=function(){return null==this.parent?0:this.parent.getDepth()+1};k.prototype.ancestorsAreVisible=function(){return null==this.parent||this.parent.visible&&this.parent.ancestorsAreVisible()};k.prototype.hasAncestor=function(d){return this.parent==d||this.parent&&this.parent.hasAncestor(d)};k.prototype.clone=function(){throw"Pure virtual CPLayer.clone() call";};k.prototype.getNonTransparentBounds=function(d){return new b.default(0,0,
0,0)};k.prototype.rebuildMaskThumbnail=function(){if(this.mask){if(!this.maskThumbnail){var d=Math.ceil(Math.max(this.mask.width/k.LAYER_THUMBNAIL_WIDTH,this.mask.height/k.LAYER_THUMBNAIL_HEIGHT));this.maskThumbnail=new E.default(Math.floor(this.mask.width/d),Math.floor(this.mask.height/d),8)}this.maskThumbnail.createThumbnailFrom(this.mask)}else this.maskThumbnail=null};k.prototype.getMaskThumbnail=function(){!this.maskThumbnail&&this.mask&&this.rebuildMaskThumbnail();return this.maskThumbnail};
k.LAYER_THUMBNAIL_WIDTH=80;k.LAYER_THUMBNAIL_HEIGHT=50;L.exports=D.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPGreyBmp.js":14,"./CPLayerGroup.js":17}],17:[function(g,L,D){function y(m){return m&&m.__esModule?m:{default:m}}function k(m,q){var r="undefined"!==typeof Symbol&&m[Symbol.iterator]||m["@@iterator"];if(!r){if(Array.isArray(m)||(r=v(m))||q&&m&&"number"===typeof m.length){r&&(m=r);var h=0;q=function(){};return{s:q,n:function(){return h>=m.length?{done:!0}:{done:!1,value:m[h++]}},
e:function(e){throw e;},f:q}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var c=!0,f=!1,n;return{s:function(){r=r.call(m)},n:function(){var e=r.next();c=e.done;return e},e:function(e){f=!0;n=e},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw n;}}}}function v(m,q){if(m){if("string"===typeof m)return E(m,q);var r=Object.prototype.toString.call(m).slice(8,-1);"Object"===
r&&m.constructor&&(r=m.constructor.name);if("Map"===r||"Set"===r)return Array.from(m);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(m,q)}}function E(m,q){if(null==q||q>m.length)q=m.length;for(var r=0,h=Array(q);r<q;r++)h[r]=m[r];return h}function b(m,q){x.default.call(this,m);this.layers=[];this.expanded=!0;this.blendMode=q}function d(m,q){return m+q}Object.defineProperty(D,"__esModule",{value:!0});D.default=b;var x=y(g("./CPLayer.js")),a=y(g("../util/CPRect.js"));
b.prototype=Object.create(x.default.prototype);b.prototype.constructor=b;b.prototype.getLinearizedLayerList=function(m,q){q=q||[];var r=k(this.layers),h;try{for(r.s();!(h=r.n()).done;){var c=h.value;c instanceof b&&(c.expanded||!m)&&c.getLinearizedLayerList(m,q);q.push(c)}}catch(f){r.e(f)}finally{r.f()}return q};b.prototype.clearLayers=function(){this.layers=[]};b.prototype.addLayer=function(m){m.parent=this;this.layers.push(m)};b.prototype.insertLayer=function(m,q){q.parent=this;this.layers.splice(m,
0,q)};b.prototype.removeLayer=function(m){m=this.layers.indexOf(m);-1<m&&this.layers.splice(m,1)};b.prototype.removeLayerAtIndex=function(m){var q=this.layers[m];q&&this.layers.splice(m,1);return q};b.prototype.setLayerAtIndex=function(m,q){var r=this.layers[m];q.parent=this;this.layers[m]=q;return r};b.prototype.setExpanded=function(m){this.expanded=m};b.prototype.getExpanded=function(){return this.expanded};b.prototype.indexOf=function(m){return this.layers.indexOf(m)};b.prototype.getMemoryUsed=
function(){return this.layers.map(function(m){return m.getMemoryUsed()}).reduce(d,0)};b.prototype.clone=function(){var m=new b(this.name,this.blendMode);x.default.prototype.copyFrom.call(m,this);m.expanded=this.expanded;m.layers=this.layers.map(function(q){return q.clone()});m.layers.forEach(function(q){return q.parent=m});return m};b.prototype.getNonTransparentBounds=function(m){var q=new a.default(0,0,0,0);this.layers.forEach(function(r){return q.union(r.getNonTransparentBounds(m))});return q};
L.exports=D.default},{"../util/CPRect.js":63,"./CPLayer.js":16}],18:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){this.table=new Uint8Array(256);this.loadIdentity=function(){for(var y=0;256>y;y++)this.table[y]=y};this.loadBrightnessContrast=function(y,k){k=0<k?1/(1.0001-k):1+k;y=.5-.5*k+y;for(var v=0;256>v;v++)this.table[v]=Math.min(255,Math.max(~~(255*(v/255*k+y)),0))};this.invert=function(){for(var y=0;256>y;y++)this.table[y]=255-this.table[y]}};L.exports=
D.default},{}],19:[function(g,L,D){function y(h){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},y(h)}function k(h){return h&&h.__esModule?h:{default:h}}function v(h,c){for(var f=0;f<c.length;f++){var n=c[f];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);var e=Object,p=e.defineProperty;
a:{var u=n.key;if("object"===y(u)&&null!==u){var B=u[Symbol.toPrimitive];if(void 0!==B){u=B.call(u,"string");if("object"!==y(u))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}u=String(u)}}u="symbol"===y(u)?u:String(u);p.call(e,h,u,n)}}function E(h,c,f){c&&v(h.prototype,c);f&&v(h,f);Object.defineProperty(h,"prototype",{writable:!1});return h}function b(h,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");h.prototype=
Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}});Object.defineProperty(h,"prototype",{writable:!1});c&&d(h,c)}function d(h,c){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,n){f.__proto__=n;return f};return d(h,c)}function x(h){var c=a();return function(){var f=m(h);if(c){var n=m(this).constructor;f=Reflect.construct(f,arguments,n)}else f=f.apply(this,arguments);if(!f||"object"!==y(f)&&"function"!==typeof f){if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=this}return f}}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(h){return!1}}function m(h){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)};return m(h)}
Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var q=k(g("../util/CPRect.js")),r=k(g("./CPColorBmp.js"));k(g("./CPGreyBmp.js"));g=k(g("wolfy87-eventemitter"));D.default=function(h){function c(n,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var p=f.call(this);p.layer=n;p.buffer=n.mask.getImageData(0,0,n.mask.width,n.mask.height);p.invalidRect=new q.default(0,0,0,0);p.prepareMask=e;return p}b(c,h);var f=x(c);E(c,[{key:"close",value:function(){this.layer=
this.buffer=null;this.emitEvent("changeLayer")}},{key:"setLayer",value:function(n){this.layer=n;this.invalidRect=n.getBounds();this.emitEvent("changeLayer")}},{key:"isOpen",value:function(){return null!=this.layer}},{key:"invalidateRect",value:function(n){this.invalidRect.union(n)}},{key:"getImageData",value:function(){this.prepareMask();if(!this.invalidRect.isEmpty()&&this.layer&&this.layer.mask){var n=this.buffer,e=this.layer.mask,p=this.invalidRect,u=p.top*e.width+p.left,B=u*r.default.BYTES_PER_PIXEL,
C=p.getWidth();p=p.getHeight();for(var A=e.width-C,I=A*r.default.BYTES_PER_PIXEL,O=0;O<p;O++,u+=A,B+=I)for(var z=0;z<C;z++,u++,B+=r.default.BYTES_PER_PIXEL)n.data[B+r.default.RED_BYTE_OFFSET]=e.data[u],n.data[B+r.default.GREEN_BYTE_OFFSET]=e.data[u],n.data[B+r.default.BLUE_BYTE_OFFSET]=e.data[u],n.data[B+r.default.ALPHA_BYTE_OFFSET]=255;this.invalidRect.makeEmpty()}return this.buffer}}]);return c}(g.default);L.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"wolfy87-eventemitter":314}],
20:[function(g,L,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a){function m(f,n){switch(f.name){case "flat":return new Promise(function(e,p){var u=new Blob([n],{type:"image/png"}),B=window.URL.createObjectURL(u);if(B){var C=new Image;C.onload=function(){var A=new E.default(this.width,this.height),I=new d.default(0,0,"Layer 1");I.image=b.default.createFromImage(C);A.addLayerObject(A.getLayersRoot(),I);C=null;window.URL.revokeObjectURL(B);e(A)};C.src=B}else p(null)});case "swatches":return(f=
(new x.default).read(n))?Promise.resolve(f):Promise.reject(null);case "layers":return(0,v.load)(n);default:return Promise.reject("Unexpected resource type '"+f.name+"'")}}function q(f,n){null===n?c.emitEvent("loadingProgress",[1,"Loading your "+f.friendly+"..."]):c.emitEvent("loadingProgress",[n,"Loading your "+f.friendly+" ("+Math.round(100*n)+"%)..."])}var r=[],h={},c=this;a.loadChibiFileUrl&&0<(""+a.loadChibiFileUrl).length?r.push({url:a.loadChibiFileUrl,friendly:"drawing layers",name:"layers",
required:!0}):a.loadImageUrl&&0<(""+a.loadImageUrl).length&&r.push({url:a.loadImageUrl,friendly:"drawing",name:"flat",required:!0});a.loadSwatchesUrl&&r.push({url:a.loadSwatchesUrl,friendly:"color swatches",name:"swatches",required:!1,noProgress:!0});this.load=function(){function f(){n.required?c.emitEvent("loadingFailure",["Failed to load your "+n.friendly+", please try again later."]):c.load()}if(0==r.length)c.emitEvent("loadingComplete",[h]);else{var n=r.shift(),e=new XMLHttpRequest;e.addEventListener("progress",
function(p){q(n,p.lengthComputable&&!n.noProgress?p.loaded/p.total:null)},!1);e.addEventListener("load",function(p){if(200==this.status){var u=this.response;c.emitEvent("loadingProgress",[1,"Starting ChickenPaint..."]);setTimeout(function(){m(n,u).then(function(B){h[n.name]=B;c.load()},function(){c.emitEvent("loadingFailure",["Failed to read your "+n.friendly])})},0)}else f()},!1);e.addEventListener("error",f);q(n,n.noProgress?null:0);e.open("GET",n.url,!0);e.responseType="arraybuffer";e.send()}}}
Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=g("../../js/engine/CPChibiFile.js"),E=y(g("./CPArtwork.js")),b=y(g("./CPColorBmp.js")),d=y(g("./CPImageLayer.js")),x=y(g("../util/AdobeColorTable.js"));g=y(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;L.exports=D.default},{"../../js/engine/CPChibiFile.js":11,"../util/AdobeColorTable.js":55,"./CPArtwork.js":3,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"wolfy87-eventemitter":314}],
21:[function(g,L,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a){for(var m=new Uint8Array(a.length),q=0;q<a.length;q++)m[q]=a.charCodeAt(q);return m}function v(a){function m(c){null===c?r.emitEvent("savingProgress",[1,(0,x._)("Saving drawing...")]):r.emitEvent("savingProgress",[c,(0,x._)("Saving drawing...")+" ("+Math.round(100*c)+"%)"])}function q(c){c={method:"POST",mode:"same-origin",headers:{"X-Requested-With":"chickenpaint"},body:c};m(.5);fetch(a.url,c).then(function(f){if(!f.ok)throw Error("Network response was not ok (".concat(f.status,
")"));return f.text()}).then(function(f){/^CHIBIOK/.test(f)?(m(1),r.emitEvent("savingComplete")):r.emitEvent("savingFailure",[f])}).catch(function(f){r.emitEvent("savingFailure",[f.message])})}var r=this,h=!1;a.rotation=a.rotation||0;this.save=function(){var c;var f=k(a.artwork.getFlatPNG(a.rotation));var n=new Blob([f],{type:"image/png"});f=null;(a.artwork.isSimpleDrawing()?Promise.resolve(null):(0,E.save)(a.artwork)).then(function(e){if(h)r.emitEvent("savingFailure");else{if(a.swatches){var p=new b.default;
c=new Blob([p.write(a.swatches)],{type:"application/octet-stream"})}else c=null;a.url?(p=new FormData,p.append("beginMarker","This marker ensures the upload wasn't truncated"),p.append("painter","ChickenPaint v2.0"),p.append("picture",n),n=null,e?(p.append("chibifileFormat",e.version),p.append("chibifile",e.bytes),p.append("rotation",""+a.rotation)):p.append("rotation","0"),c&&(p.append("swatches",c),c=null),p.append("endMarker","This marker ensures the upload wasn't truncated"),q(p)):(d.default.saveAs(n,
"oekaki.png"),e&&d.default.saveAs(e.bytes,"oekaki.chi"),c&&d.default.saveAs(c,"oekaki.aco"))}}).catch(function(e){r.emitEvent("savingFailure")})};this.cancel=function(){h=!0}}Object.defineProperty(D,"__esModule",{value:!0});D.binaryStringToByteArray=k;D.default=v;var E=g("../../js/engine/CPChibiFile.js"),b=y(g("../util/AdobeColorTable.js"));L=y(g("wolfy87-eventemitter"));var d=y(g("file-saver")),x=g("../languages/lang.js");v.prototype=Object.create(L.default.prototype);v.prototype.constructor=v},
{"../../js/engine/CPChibiFile.js":11,"../languages/lang.js":54,"../util/AdobeColorTable.js":55,"file-saver":295,"wolfy87-eventemitter":314}],22:[function(g,L,D){function y(E){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},y(E)}function k(E,b){for(var d=0;d<b.length;d++){var x=b[d];x.enumerable=x.enumerable||!1;
x.configurable=!0;"value"in x&&(x.writable=!0);var a=Object,m=a.defineProperty;a:{var q=x.key;if("object"===y(q)&&null!==q){var r=q[Symbol.toPrimitive];if(void 0!==r){q=r.call(q,"string");if("object"!==y(q))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}q=String(q)}}q="symbol"===y(q)?q:String(q);m.call(a,E,q,x)}}function v(E,b,d){b&&k(E.prototype,b);d&&k(E,d);Object.defineProperty(E,"prototype",{writable:!1});return E}Object.defineProperty(D,"__esModule",{value:!0});
D.default=void 0;D.default=function(){function E(){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");}v(E,[{key:"merge",value:function(b){return!1}},{key:"noChange",value:function(){return!1}},{key:"getMemoryUsed",value:function(b,d){return 0}},{key:"compact",value:function(){}}]);return E}();L.exports=D.default},{}],23:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(k){var v=(0,y.default)('<div class="modal fade chickenpaint-about-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">About ChickenPaint v2</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <a class="chickenpaint-on-github" target="_blank" href="https://github.com/thenickdude/chickenpaint"><span class="fab fa-github"></span> ChickenPaint on GitHub</a>\n                            \n                            <p>\n                                ChickenPaint is a translation of <a href="https://github.com/thenickdude/chibipaint" target="_blank">ChibiPaint</a>\n                                from Java to JavaScript by Nicholas Sherlock / Chicken Smoothie\n                            </p>\n                            <p>\n                                ChibiPaint is Copyright (c) 2006-2008 Marc Schefer. All Rights Reserved\n                            </p>\n                            <p>\n                                ChickenPaint is free software: you can redistribute it and/or modify\n                                it under the terms of the GNU General Public License as published by\n                                the Free Software Foundation, either version 3 of the License, or\n                                (at your option) any later version.\n                            </p>\n        \n                            <p>\n                                ChickenPaint is distributed in the hope that it will be useful,\n                                but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                <a target="_blank" href="https://www.gnu.org/licenses/">GNU General Public License</a> for more details.\n                            </p>\n        \n                            <pre class="pre-scrollable chickenpaint-third-party-licenses">Toolbar icons designed by <a target="_blank" href="https://github.com/Anteira">Miglena Lapavicheva (Anteira)</a>\n    These icons are dual-licensed under <a target="_blank" href="https://spdx.org/licenses/GPL-3.0-or-later.html">GPL-3.0-or-later</a> and <a target="_blank" href="https://creativecommons.org/licenses/by/3.0/">CC-BY-3.0</a>\n\nIncludes icons from the <a target="_blank" href="https://extensions.libreoffice.org/en/extensions/show/tango-icon-theme-for-libreoffice">Tango Icon Theme for LibreOffice</a>:\n    All artwork is licensed under the Creative Commons Attribution-Share Alike 3.0\n    United States License. To view a copy of this licence, visit\n    https://creativecommons.org/licenses/by-sa/3.0/ or send a letter to Creative\n    Commons, 171 Second Street, Suite 300, San Francisco, California 94105, USA.\n    \n    Credit for icons imported from git://git.gnome.org/gnome-icon-theme or derivatives\n    of these goes to the GNOME project (https://www.gnome.org)\n    Derivatives and new icons were created by Alexander Wilms &lt;f.alexander.wilms@gmail.com> \n    and Miroslav Mazel &lt;mazelm@gmail.com>\n    \nIncludes these MIT-licensed libraries:\n\n    Includes the <a target="_blank" href="https://github.com/eligrey/FileSaver.js">FileSaver.js library</a>\n    FileSaver.js Copyright \u00a9 2015 <a target="_blank" href="https://eligrey.com/">Eli Grey</a>\n\n    Includes the <a target="_blank" href="https://github.com/nodeca/pako">Pako zlib compression library</a>\n    Copyright (C) 2014-2015 by Vitaly Puzrin\n    \n    Includes the <a target="_blank" href="https://github.com/madrobby/keymaster">keymaster.js</a> keyboard library\n    Copyright (c) 2011-2013 Thomas Fuchs\n\n    Includes the <a target="_blank" href="https://github.com/stefanpenner/es6-promise">es6-promise</a> library\n    Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n\n    Includes the <a target="_blank" href="https://benalman.com/projects/jquery-throttle-debounce-plugin/">jQuery throttle-debounce</a> library\n    Copyright (c) 2010 "Cowboy" Ben Alman\n\n    Permission is hereby granted, free of charge, to any person\n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use,\n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://www.jquery.com/" target="_blank">jQuery library</a> \nCopyright <a href="https://jquery.org/" target="_blank">jQuery Foundation and other contributors</a>\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/jquery\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n    \n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://github.com/jquery/PEP/" target="_blank">jQuery PEP library</a>\nCopyright jQuery Foundation and other contributors, https://jquery.org/\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/PEP\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation \n    files (the "Software"), to deal in the Software without \n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or \n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following \n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND \n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, \n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING \n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR \n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes Font Awesome by Dave Gandy - <a href="https://fontawesome.io" target="_blank">https://fontawesome.io</a>\n                    </pre>\n                </div>\n            </div>\n        </div>\n    ');
v.on("hidden.bs.modal",function(b){v.remove()});var E=new bootstrap.Modal(v[0]);k.appendChild(v[0]);this.show=function(){E.show()}};var y=function(k){return k&&k.__esModule?k:{default:k}}(g("jquery"));L.exports=D.default},{jquery:296}],24:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(v,E){var b=(0,y.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,k._)("Box blur"),
'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Blur amount (pixels)"),'</label>\n                                    <input type="number" class="form-control chickenpaint-blur-amount" value="3">\n                                </div>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Iterations (1-8, larger gives smoother blur)"),
'</label>\n                                    <input type="number" class="form-control chickenpaint-blur-iterations" value="1">\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,k._)("Cancel"),'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-box-blur" data-bs-dismiss="modal">').concat((0,k._)("Ok"),
"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),d=(0,y.default)(".chickenpaint-blur-amount",b),x=(0,y.default)(".chickenpaint-blur-iterations",b),a=(0,y.default)(".chickenpaint-apply-box-blur",b);this.show=function(){(new bootstrap.Modal(b[0])).show()};a.on("click",function(m){m=Math.max(parseInt(d.val(),10),1);var q=Math.min(Math.max(parseInt(x.val(),10),1),8);E.getArtwork().boxBlur(m,m,q)});b.on("shown.bs.modal",function(){d.trigger("focus")});
(0,y.default)(document).on("keypress",function(m){"Enter"===m.key&&b.hasClass("show")&&a.trigger("click")});v.appendChild(b[0])};var y=function(v){return v&&v.__esModule?v:{default:v}}(g("jquery")),k=g("../languages/lang.js");L.exports=D.default},{"../languages/lang.js":54,jquery:296}],25:[function(g,L,D){function y(A){return A&&A.__esModule?A:{default:A}}function k(A,I){var O=document.createElement("div");O.className="chickenpaint-checkbox-slider-group";O.appendChild(A.getElement());O.appendChild(I.getElement());
return O}function v(A,I){for(var O in I)if(I.hasOwnProperty(O)){var z=document.createElement("option");z.appendChild(document.createTextNode((0,C._)(I[O])));z.value=O;A.appendChild(z)}}function E(A){function I(){H.gradient(H.getBounds(),0,0,H.width,0,S,!0);K.putImageData(H.imageData,0,0,0,0,150,32);z.fillRect(0,0,O.width,O.height);z.drawImage(J,0,0)}var O=document.createElement("canvas"),z=O.getContext("2d"),G=(0,f.createCheckerboardPattern)(z),H=new n.default(150,32),J=document.createElement("canvas"),
K=J.getContext("2d"),S=A.getCurGradient();this.getElement=function(){return O};A.on("gradientChange",function(da){S=da;I()});O.width=J.width=150;O.height=J.height=32;O.className="chickenpaint-gradient-preview";z.fillStyle=G;I()}function b(A){q.default.call(this,A,"brush","Tool options");var I=new d(A),O=new x(A),z=new a(A),G=this.getBodyElement();G.appendChild(I.getElement());G.appendChild(O.getElement());G.appendChild(z.getElement());A.on("modeChange",function(H){I.getElement().style.display="none";
O.getElement().style.display="none";z.getElement().style.display="none";switch(H){case m.default.M_GRADIENTFILL:O.getElement().style.display="block";break;case m.default.M_TRANSFORM:z.getElement().style.display="block";break;default:I.getElement().style.display="block"}})}function d(A){var I=[1,2,3,4,5,6,7,8,9,10,15,20,25,30,35,40,45,50,60,70,80,90,100,125,150,175,200],O=document.createElement("div"),z=document.createElement("select"),G=new r.default(!1,(0,C._)("Control brush opacity with pen pressure")),
H=new c.default(1,255),J=new r.default(!0,(0,C._)("Control brush size with pen pressure")),K=new c.default(1,200,!1,!0),S=new r.default(!1,(0,C._)("Control brush scattering with pen pressure")),da=new c.default(0,1E3,!1,!0),Y=new c.default(0,100,!1,!0),ra=new c.default(0,100,!1,!0),ma=new c.default(0,100,!1,!0),Q=new c.default(0,100,!1,!0),ia=new b.CPBrushPreview(A);this.getElement=function(){return O};H.title=function(ba){return(0,C._)("Opacity")+": "+ba};H.on("valueChange",function(ba){A.setAlpha(ba)});
K.title=function(ba){return(0,C._)("Brush size")+": "+ba};K.on("valueChange",function(ba){A.setBrushSize(ba)});Y.title=function(ba){return(0,C._)("Color")+": "+ba+"%"};Y.on("valueChange",function(ba){A.getBrushInfo().resat=ba/100;A.callToolListeners()});ra.title=function(ba){return(0,C._)("Blend")+": "+ba+"%"};ra.on("valueChange",function(ba){A.getBrushInfo().bleed=ba/100;A.callToolListeners()});ma.title=function(ba){return(0,C._)("Spacing")+": "+ba+"%"};ma.on("valueChange",function(ba){A.getBrushInfo().spacing=
ba/100;A.callToolListeners()});da.title=function(ba){return(0,C._)("Scattering")+": "+ba+"%"};da.on("valueChange",function(ba){A.getBrushInfo().scattering=ba/100;A.callToolListeners()});Q.title=function(ba){return(0,C._)("Smoothing")+": "+ba+"%"};Q.on("valueChange",function(ba){A.getBrushInfo().smoothing=ba/100;A.callToolListeners()});S.on("valueChange",function(ba){A.getBrushInfo().pressureScattering=ba;A.callToolListeners()});G.on("valueChange",function(ba){A.getBrushInfo().pressureAlpha=ba;A.callToolListeners()});
J.on("valueChange",function(ba){A.getBrushInfo().pressureSize=ba;A.callToolListeners()});z.addEventListener("change",function(ba){A.getBrushInfo().tip=parseInt(z.value,10)});z.className="form-control form-control-sm";v(z,["Round Pixelated","Round Hard Edge","Round Soft","Square Pixelated","Square Hard Edge"]);O.appendChild(z);O.appendChild(ia.getElement());O.appendChild(k(J,K));O.appendChild(k(G,H));O.appendChild(Y.getElement());O.appendChild(ra.getElement());O.appendChild(ma.getElement());O.appendChild(k(S,
da));O.appendChild(Q.getElement());G.setValue(A.getBrushInfo().pressureAlpha);H.setValue(A.getAlpha());J.setValue(A.getBrushInfo().pressureSize);K.setValue(A.getBrushSize());S.setValue(A.getBrushInfo().pressureScattering);da.setValue(~~(100*A.getBrushInfo().scattering));z.value=A.getBrushInfo().tip;Y.setValue(~~(100*A.getBrushInfo().resat));ra.setValue(~~(100*A.getBrushInfo().bleed));ma.setValue(~~(100*A.getBrushInfo().spacing));Q.setValue(~~(100*A.getBrushInfo().smoothing));A.on("toolChange",function(ba,
ta){H.setValue(ta.alpha);K.setValue(ta.size);J.setValue(ta.pressureSize);G.setValue(ta.pressureAlpha);z.value=ta.tip;S.setValue(ta.pressureScattering);~~(100*ta.resat)!=Y.value&&Y.setValue(~~(100*ta.resat));~~(100*ta.bleed)!=ra.value&&ra.setValue(~~(100*ta.bleed));~~(100*ta.spacing)!=ma.value&&ma.setValue(~~(100*ta.spacing));~~(100*ta.scattering)!=da.value&&da.setValue(~~(100*ta.scattering));~~(100*ta.smoothing)!=Q.value&&Q.setValue(~~(100*ta.smoothing))});(0,B.default)("1,2,3,4,5,6,7,8,9,0",function(ba,
ta){ba=parseInt(ta.shortcut,10);0==ba&&(ba=10);A.setAlpha(Math.round(ba/10*255))});(0,B.default)("{,[",function(){for(var ba=A.getBrushSize(),ta=I.length-1;0<=ta;ta--)if(ba>I[ta]){A.setBrushSize(I[ta]);break}});(0,B.default)("},]",function(){for(var ba=A.getBrushSize(),ta=0;ta<I.length;ta++)if(ba<I[ta]){A.setBrushSize(I[ta]);break}})}function x(A){function I(){var K=[G.getAlpha()<<24|G.getColorRgb(),H.getAlpha()<<24|H.getColorRgb()];A.setCurGradient(K)}var O=document.createElement("div"),z=new E(A),
G=new h.default(new e.default(A.getCurGradient()[0]&16777215),A.getCurGradient()[0]>>>24,O),H=new h.default(new e.default(A.getCurGradient()[1]&16777215),A.getCurGradient()[1]>>>24,O);this.getElement=function(){return O};O.className="chickenpaint-gradient-panel";O.style.display="none";G.on("colorChange",I);G.on("alphaChange",I);H.on("colorChange",I);H.on("alphaChange",I);var J=document.createElement("p");J.innerHTML=(0,C._)("Gradient");O.appendChild(J);O.appendChild(z.getElement());z=document.createElement("div");
z.className="chickenpaint-gradient-colors";J=document.createElement("div");J.className="chickenpaint-gradient-start-color";J.appendChild(G.getElement());z.appendChild(J);J=document.createElement("div");J.className="chickenpaint-gradient-end-color";J.appendChild(H.getElement());z.appendChild(J);O.appendChild(z)}function a(A){var I={smooth:(0,C._)("Smooth"),sharp:(0,C._)("Sharp")},O=document.createElement("div"),z=document.createElement("button"),G=document.createElement("button"),H=document.createElement("select");
this.getElement=function(){return O};O.className="chickenpaint-transform-panel";O.style.display="none";z.type="button";G.type="button";z.className="btn btn-primary btn-block";G.className="btn btn-light btn-block";z.innerHTML=(0,C._)("Apply transform");G.innerHTML=(0,C._)("Cancel");H.addEventListener("change",function(K){A.setTransformInterpolation(this.value)});H.className="form-control chickenpaint-transform-interpolation";v(H,I);if((0,p.isCanvasInterpolationSupported)()){I=document.createElement("div");
var J=document.createElement("label");J.innerHTML=(0,C._)("Transform style");I.className="form-group";I.appendChild(J);I.appendChild(H);O.appendChild(I)}H=document.createElement("div");H.appendChild(z);H.appendChild(G);H.className="form-group";O.appendChild(H);z.addEventListener("click",function(K){A.actionPerformed({action:"CPTransformAccept"});K.preventDefault()});G.addEventListener("click",function(K){A.actionPerformed({action:"CPTransformReject"});K.preventDefault()})}Object.defineProperty(D,
"__esModule",{value:!0});D.default=b;var m=y(g("../ChickenPaint.js")),q=y(g("./CPPalette.js")),r=y(g("./CPCheckbox.js")),h=y(g("./CPColorSwatch.js")),c=y(g("./CPSlider.js")),f=g("./CPGUIUtils.js"),n=y(g("../engine/CPColorBmp.js")),e=y(g("../util/CPColor.js")),p=g("../util/CPPolyfill.js"),u=y(g("jquery")),B=y(g("../../lib/keymaster.js")),C=g("../languages/lang");b.prototype=Object.create(q.default.prototype);b.prototype.constructor=b;b.CPBrushPreview=function(A){function I(){J.clearRect(0,0,H.width,
H.height);J.beginPath();J.arc(H.width/2,H.height/2,G/2*window.devicePixelRatio,0,2*Math.PI);J.stroke()}function O(S){var da=(0,u.default)(H).offset(),Y=S.pageY-da.top;S=S.pageX-da.left-(0,u.default)(H).width()/2;Y-=(0,u.default)(H).height()/2;G=Math.max(1,Math.min(200,Math.round(2*Math.sqrt(S*S+Y*Y))));I();A.setBrushSize(G)}function z(S){K&&(K=!1,window.removeEventListener("mouseup",z),window.removeEventListener("mousemove",O))}var G=16,H=document.createElement("canvas"),J=H.getContext("2d"),K=!1;
this.getElement=function(){return H};H.addEventListener("mousedown",function(S){K||(K=!0,window.addEventListener("mouseup",z),window.addEventListener("mousemove",O),O(S))});A.on("toolChange",function(S,da){da.size!=G&&(G=da.size,I())});H.width=64;H.height=64;1<window.devicePixelRatio&&(H.style.width=H.width+"px",H.style.height=H.height+"px",H.width*=window.devicePixelRatio,H.height*=window.devicePixelRatio);H.className="chickenpaint-brush-preview";J.strokeStyle="black";J.lineWidth=1*window.devicePixelRatio;
I()};L.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../engine/CPColorBmp.js":13,"../languages/lang":54,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"./CPCheckbox.js":27,"./CPColorSwatch.js":31,"./CPGUIUtils.js":33,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296}],26:[function(g,L,D){function y(J){return J&&J.__esModule?J:{default:J}}function k(){this.modes=[]}function v(J){function K(){}function S(){}function da(){this.shouldPaintBrushPreview=!1;this.oldPreviewRect=
null}function Y(){da.call(this);this.smoothMouse={x:0,y:0}}function ra(){var aa,Ba;this.mouseDown=function(Pa,eb,kb){if(!this.capture&&0==eb&&!Pa.altKey&&!d.default.isPressed("space")&&T())return this.capture=!0,aa=Ba={x:Qa+.5,y:tb+.5},this.eraseBrushPreview(),!0};this.mouseDrag=function(Pa){if(this.capture){var eb=new x.default(Math.min(aa.x,Ba.x)-1-1,Math.min(aa.y,Ba.y)-1-1,Math.max(aa.x,Ba.x)+1+1+1,Math.max(aa.y,Ba.y)+1+1+1);Ba={x:Qa+.5,y:tb+.5};if(Pa.shiftKey){var kb=Math.PI/4;Pa=Math.round(Math.atan2(Ba.y-
aa.y,Ba.x-aa.x)/kb);switch(Pa){case 0:case 4:Ba.y=aa.y;break;case 2:case 6:Ba.x=aa.x;break;default:Pa*=kb,kb=Math.sqrt((Ba.y-aa.y)*(Ba.y-aa.y)+(Ba.x-aa.x)*(Ba.x-aa.x)),Ba.x=aa.x+kb*Math.cos(Pa),Ba.y=aa.y+kb*Math.sin(Pa)}}eb.union(new x.default(Math.min(aa.x,Ba.x)-1-1,Math.min(aa.y,Ba.y)-1-1,Math.max(aa.x,Ba.x)+1+1+1,Math.max(aa.y,Ba.y)+1+1+1));Wa(eb);return!0}this.mouseMove.call(this,Pa)};this.mouseUp=function(Pa,eb,kb){if(this.capture&&0==eb)return Pa=za(aa),eb=za(Ba),this.capture=!1,this.drawLine(Pa,
eb),Pa=new x.default(Math.min(aa.x,Ba.x)-1-1,Math.min(aa.y,Ba.y)-1-1,Math.max(aa.x,Ba.x)+1+1+1,Math.max(aa.y,Ba.y)+1+1+1),Wa(Pa),!0};this.paint=function(){this.capture?(Ca.lineWidth=1,Ca.beginPath(),Ca.moveTo(aa.x,aa.y),Ca.lineTo(Ba.x,Ba.y),Ca.stroke()):da.prototype.paint.call(this)};da.call(this)}function ma(){var aa=0,Ba,Pa,eb,kb;this.mouseDown=function(fb,V,ja){if(!this.capture&&0==V&&!fb.altKey&&!d.default.isPressed("space")&&T())return fb=za({x:Qa,y:tb}),aa=0,Ba=Pa=eb=kb=fb,this.capture=!0,this.eraseBrushPreview(),
!0};this.mouseDrag=function(fb){if(this.capture&&0===aa)return eb=kb=za({x:Qa,y:tb}),Ta.repaintAll(),!0;this.mouseMove.call(this,fb)};this.mouseUp=function(fb,V,ja){if(this.capture&&0==V){switch(aa){case 0:aa=1;break;case 1:aa=2;break;case 2:this.capture=!1;V=Ba;ja=Pa;var Ea=eb,ca=kb;fb=new q.default;fb.x0=V.x;fb.y0=V.y;fb.x1=ja.x;fb.y1=ja.y;fb.x2=Ea.x;fb.y2=Ea.y;fb.x3=ca.x;fb.y3=ca.y;V=Array(500);ja=Array(500);fb.compute(V,ja,500);wb.beginStroke(V[0],ja[0],1);for(fb=1;500>fb;fb++)wb.continueStroke(V[fb],
ja[fb],1);wb.endStroke();Ta.repaintAll()}return!0}};this.mouseMove=function(fb,V){if(this.capture)return fb=za({x:Qa,y:tb}),1==aa?Pa=fb:2==aa&&(eb=fb),Ta.repaintAll(),!0;da.prototype.mouseMove.call(this,fb,V)};this.paint=function(){if(this.capture){var fb=new q.default,V=Cb(Ba),ja=Cb(Pa),Ea=Cb(eb),ca=Cb(kb);fb.x0=V.x;fb.y0=V.y;fb.x1=ja.x;fb.y1=ja.y;fb.x2=Ea.x;fb.y2=Ea.y;fb.x3=ca.x;fb.y3=ca.y;var xa=Array(100),Ja=Array(100);fb.compute(xa,Ja,100);Ca.beginPath();Ca.moveTo(xa[0],Ja[0]);for(fb=1;100>fb;fb++)Ca.lineTo(xa[fb],
Ja[fb]);Ca.moveTo(~~V.x,~~V.y);Ca.lineTo(~~ja.x,~~ja.y);Ca.moveTo(~~Ea.x,~~Ea.y);Ca.lineTo(~~ca.x,~~ca.y);Ca.stroke()}else da.prototype.paint.call(this)};da.call(this)}function Q(){var aa;this.mouseDown=function(Ba,Pa,eb){if(this.capture)return!0;if(d.default.isPressed("space")||(0!=Pa||this.transient&&!Ba.altKey)&&2!=Pa)this.transient&&nb.pop();else return aa=Pa,this.capture=!0,ab("crosshair"),this.mouseDrag(Ba),!0};this.mouseDrag=function(Ba){if(this.capture)return Ba=za({x:Qa,y:tb}),wb.isPointWithin(Ba.x,
Ba.y)&&J.setCurColor(new C.default(wb.colorPicker(Ba.x,Ba.y))),!0};this.mouseUp=function(Ba,Pa,eb){if(this.capture&&Pa==aa)return aa=-1,this.capture=!1,ab("default"),this.transient&&nb.pop(),!0};this.enter=function(){K.prototype.enter.call(this);aa=-1}}function ia(){var aa,Ba,Pa,eb;this.keyDown=function(kb){if(" "===kb.key)return this.capture||ab("grab"),!0};this.keyUp=function(kb){if(this.transient&&1!=eb&&" "===kb.key)return ab("default"),nb.pop(),!0};this.mouseDown=function(kb,fb,V){if(this.capture)return!0;
if(1==fb||d.default.isPressed("space")&&0==fb||!this.transient&&0==fb)return this.capture=!0,eb=fb,aa=kb.pageX,Ba=kb.pageY,Pa=Ta.getOffset(),ab("grabbing"),!0;this.transient&&nb.pop()};this.mouseDrag=function(kb){if(this.capture)return Ta.setOffset(Pa.x+kb.pageX-aa,Pa.y+kb.pageY-Ba),!0};this.mouseUp=function(kb,fb,V){if(this.capture&&fb==eb)return eb=-1,this.capture=!1,this.transient&&!d.default.isPressed("space")&&(ab("default"),nb.pop()),!0};this.enter=function(){ab("grab")}}function ba(){}function ta(){var aa,
Ba=new x.default(0,0,0,0),Pa=-1;this.mouseDown=function(eb,kb,fb){if(!this.capture&&0==kb&&!eb.altKey&&!d.default.isPressed("space"))return eb=Xa({x:Qa,y:tb}),Pa=kb,Ba.makeEmpty(),aa=eb,Ta.repaintAll(),this.capture=!0};this.mouseDrag=function(eb){if(!this.capture)return!1;var kb=Xa({x:Qa,y:tb});eb=eb.shiftKey;var fb=~~Math.max(Math.abs(kb.x-aa.x),Math.abs(kb.y-aa.y));kb.x>=aa.x?(Ba.left=aa.x,Ba.right=(eb?aa.x+fb:kb.x)+1):(Ba.left=eb?aa.x-fb:kb.x,Ba.right=aa.x+1);kb.y>=aa.y?(Ba.top=aa.y,Ba.bottom=
(eb?aa.y+fb:kb.y)+1):(Ba.top=eb?aa.y-fb:kb.y,Ba.bottom=aa.y+1);Ta.repaintAll();return!0};this.mouseUp=function(eb,kb,fb){if(this.capture&&kb==Pa)return wb.rectangleSelection(Ba),Ba.makeEmpty(),Ta.repaintAll(),this.capture=!1,Pa=-1,!0};this.paint=function(){Ba.isEmpty()||(Ca.lineWidth=1,Ha(Ca,na(Ba)))}}function pa(){var aa,Ba,Pa=!1;this.mouseDown=function(eb,kb,fb){if(!this.capture&&0==kb&&!d.default.isPressed("space")&&ib())return aa=za({x:Qa,y:tb}),Ba=eb.altKey,this.capture=Pa=!0};this.mouseDrag=
(0,r.throttle)(25,function(eb){if(this.capture){eb=za({x:Qa,y:tb});var kb=eb.x-aa.x,fb=eb.y-aa.y,V=~~kb,ja=~~fb;if(0!=V||0!=ja)wb.move(V,ja,Ba&&Pa),Pa=!1;aa.x=eb.x-(kb-V);aa.y=eb.y-(fb-ja);return!0}});this.mouseUp=function(eb,kb,fb){if(this.capture&&0==kb)return this.capture=!1,this.transient&&nb.pop(),!0}}function ya(){function aa(Aa,Sa){return{x:(Aa.x+Sa.x)/2,y:(Aa.y+Sa.y)/2}}function Ba(Aa){return{x:Math.round(Aa.x),y:Math.round(Aa.y)}}function Pa(Aa,Sa){for(var Ya=0;Ya<Aa.points.length;Ya++)if(49>=
(Sa.x-Aa.points[Ya].x)*(Sa.x-Aa.points[Ya].x)+(Sa.y-Aa.points[Ya].y)*(Sa.y-Aa.points[Ya].y))return 2*Ya;for(Ya=0;Ya<Aa.points.length;Ya++){var sb=Aa.points[Ya],ub=Aa.points[(Ya+1)%Aa.points.length];ub=new f.default(ub.x-sb.x,ub.y-sb.y);sb=new f.default(Sa.x-sb.x,Sa.y-sb.y);var ic=ub.getLength(),Hb=ub.getScaled(1/ic);ic=sb.getScaled(1/ic);Hb=Hb.getDotProduct(ic);if(0<=Hb&&1>=Hb&&(ub.scale(Hb),49>=(ub.x-sb.x)*(ub.x-sb.x)+(ub.y-sb.y)*(ub.y-sb.y)))return 2*Ya+1}return Aa.containsPoint(Sa)?-3:-2}function eb(){var Aa=
ja.getTransformed(Pb),Sa=Pa(Aa,{x:Qa,y:tb});switch(Sa){case 0:case 2:case 4:case 6:Sa=~~(Sa/2);var Ya=Aa.points[Sa],sb=Aa.points[(Sa+1)%4];Aa=f.default.subtractPoints(Aa.points[(Sa+3)%4],Ya).normalize().add(f.default.subtractPoints(sb,Ya).normalize());kb(Aa);break;case 1:case 3:case 5:case 7:Aa=f.default.subtractPoints(Aa.points[(~~(Sa/2)+1)%4],Aa.points[~~(Sa/2)]).getPerpendicular();kb(Aa);break;case -3:ab("move");break;case -2:ab("default");break;default:ab("default")}}function kb(Aa){Aa=Math.floor(Math.atan2(-Aa.y,
Aa.x)/(Math.PI/4)+.5);0>Aa&&(Aa+=4);switch(Aa){default:Aa="ew-resize";break;case 1:Aa="nesw-resize";break;case 2:Aa="ns-resize";break;case 3:Aa="nwse-resize"}ab(Aa)}var fb,V,ja,Ea=-1,ca,xa,Ja;this.mouseDown=function(Aa,Sa,Ya){if(!this.capture&&0==Sa&&!Aa.altKey&&!d.default.isPressed("space"))return Aa=ja.getTransformed(Pb),Ea=Pa(Aa,{x:Qa,y:tb}),ca={x:Qa,y:tb},xa=za(ca),this.capture=!0,eb(),!0};this.mouseDrag=(0,r.throttle)(40,function(Aa){if(this.capture){var Sa={x:Qa,y:tb};switch(Ea){case -3:Aa=
Ba(za(Sa));var Ya=f.default.subtractPoints(Aa,xa);Sa=Ya.getTruncated();Ya=Ya.subtract(Sa);var sb=new a.default;sb.translate(Sa.x,Sa.y);fb.preMultiply(sb);xa=f.default.subtractPoints(Aa,Ya);break;case -2:sb=Math.PI/4;Ya=ja.getCenter();var ub=Cb(Ya),ic=Math.atan2(Sa.y-ub.y,Sa.x-ub.x)-Math.atan2(ca.y-ub.y,ca.x-ub.x);ub=new a.default;Ja+=ic;Aa=Aa.shiftKey?-fb.decompose().rotate+Math.round(Ja/sb)*sb:ic;ub.rotateAroundPoint(Aa,Ya.x,Ya.y);fb.preMultiply(ub);ca=Sa;break;case 0:case 2:case 4:case 6:sb=~~(Ea/
2);Ya=V.points[sb];ub=fb.getInverted().getTransformedPoint(Ba(za(Sa)));Sa=V.points[(sb+2)%4];sb=(ub.x-Sa.x)/(Ya.x-Sa.x);Ya=(ub.y-Sa.y)/(Ya.y-Sa.y);if(.001>Math.abs(sb)||.001>Math.abs(Ya)||isNaN(sb)||isNaN(Ya))return!0;Aa.shiftKey&&(Ya=sb=Aa=Math.max(sb,Ya));fb.scaleAroundPoint(sb,Ya,Sa.x,Sa.y);break;case 1:case 5:case 3:case 7:Aa=~~(Ea/2);Ya=aa(V.points[Aa],V.points[(Aa+1)%4]);Sa=fb.getInverted().getTransformedPoint(Ba(za(Sa)));Aa=aa(V.points[(Aa+2)%4],V.points[(Aa+3)%4]);Ya=f.default.subtractPoints(Ya,
Aa);Sa=f.default.subtractPoints(Sa,Aa);sb=Ya.getLength();Ya=Ya.getDotProduct(Sa)/sb/sb;if(.001>Math.abs(Ya)||isNaN(Ya))return!0;1==Ea||5==Ea?Sa=1:(Sa=Ya,Ya=1);fb.scaleAroundPoint(Sa,Ya,Aa.x,Aa.y)}ja=V.getTransformed(fb);wb.transformAffineAmend(fb);Ta.repaintAll();return!0}});this.mouseUp=function(Aa,Sa,Ya){if(this.capture&&0==Sa)return this.capture=!1,Ea=-1,!0};this.mouseMove=function(){this.capture||eb()};this.paint=function(){for(var Aa=ja.getTransformed(Pb).points,Sa=Array(2*Aa.length),Ya=0;Ya<
Aa.length;Ya++)Sa[Ya]=Aa[Ya];for(Ya=0;Ya<Aa.length;Ya++){var sb=Aa[Ya],ub=Aa[(Ya+1)%Aa.length];Sa[Ya+Aa.length]={x:(sb.x+ub.x)/2,y:(sb.y+ub.y)/2}}(0,u.setContrastingDrawStyle)(Ca,"fill");for(Ya=0;Ya<Sa.length;Ya++)Ca.fillRect(Sa[Ya].x-3,Sa[Ya].y-3,7,7);Ha(Ca,Aa)};this.keyDown=function(Aa){if("Enter"===Aa.key)return J.actionPerformed({action:"CPTransformAccept"}),!0;if("Escape"===Aa.key)return J.actionPerformed({action:"CPTransformReject"}),!0};this.enter=function(){K.prototype.enter.call(this);var Aa=
wb.transformAffineBegin();fb=Aa.transform;var Sa=Aa.selection;Sa.isEmpty()&&(Sa=Aa.rect.clone());V=new h.default(Sa.toPoints());ja=V.getTransformed(fb);Ea=-1;Ja=0;Ta.repaintAll()};this.leave=function(){K.prototype.leave.call(this);Ta.repaintAll()}}function ka(){var aa,Ba,Pa=0,eb,kb=!1,fb=-1;this.mouseDown=function(V,ja,Ea){if(this.capture)return!0;if(!this.transient&&0==ja&&!V.altKey&&!d.default.isPressed("space")||0==ja&&!V.altKey&&!d.default.isPressed("space")&&d.default.isPressed("r"))return aa=
Qa,Ba=tb,Pa=Ta.getRotation(),eb=Pb.clone(),kb=!1,this.capture=!0,fb=ja,!0;this.transient&&nb.pop()};this.mouseDrag=function(V){if(this.capture){var ja=Qa,Ea=tb,ca=(0,b.default)(Ma).width()/2,xa=(0,b.default)(Ma).height()/2;V=Ma.width/2;var Ja=Ma.height/2;ja=Math.atan2(Ea-xa,ja-ca)-Math.atan2(Ba-xa,aa-ca);Ea=new a.default;Ea.rotateAroundPoint(ja,V,Ja);Ea.multiply(eb);Ta.setRotation(Pa+ja);Ta.setOffset(~~Ea.getTranslateX(),~~Ea.getTranslateY());return kb=!0}};this.mouseUp=function(V,ja,Ea){if(this.capture&&
ja==fb){if(kb){V=Math.round(pc/(Math.PI/2))*Math.PI/2;if(Math.abs(pc-V)<5/180*Math.PI){V-=Pa;ja=Ma.width/2;Ea=Ma.height/2;var ca=new a.default;ca.rotateAroundPoint(V,ja,Ea);ca.multiply(eb);Ta.setRotation(Pa+V);Ta.setOffset(~~ca.getTranslateX(),~~ca.getTranslateY());Ta.repaintAll()}Ta.emitEvent("canvasRotated90",[Ta.getRotation90()])}else Ta.resetRotation();this.capture=!1;this.transient&&!d.default.isPressed("r")&&nb.pop();return!0}};this.keyUp=function(V){if(this.transient&&1!=fb&&" "===V.key)return ab("default"),
nb.pop(),!0};this.keyDown=function(V){if("r"===V.key.toLowerCase())return!0}}function Oa(){ra.call(this)}function ab(aa){Ma.getAttribute("data-cursor")!=aa&&Ma.setAttribute("data-cursor",aa)}function ib(){var aa=wb.getActiveLayer();return aa.visible&&aa.ancestorsAreVisible()?0==aa.alpha?(J.showLayerNotification(aa,"Whoops! This layer's opacity is currently 0%","opacity"),!1):!0:(J.showLayerNotification(aa,"Whoops! This layer is currently hidden","layer"),!1)}function T(){var aa=wb.getActiveLayer();
return aa instanceof p.default&&!wb.isEditingMask()?(J.showLayerNotification(aa,"Whoops! You can't draw on a group","layer"),!1):ib()}function Z(aa,Ba,Pa,eb,kb){aa.setValues(-kb,eb,Ba-eb-kb+Pa/4,Ba+Pa-kb-Pa/4);aa.setBlockIncrement(Math.max(1,~~(.66*eb)));aa.setUnitIncrement(Math.max(1,~~(.05*eb)))}function qa(){Pb.setToIdentity();Pb.translate(P,mb);Pb.scale(Ob,Ob);Pb.rotate(pc);if(null!=Vb&&null!=Sb&&!Vb.getValueIsAdjusting()&&!Sb.getValueIsAdjusting()){var aa=Da(new x.default(0,0,$a.width,$a.height));
Z(Vb,aa.left,aa.getWidth(),(0,b.default)(Ma).width(),Ta.getOffset().x);Z(Sb,aa.top,aa.getHeight(),(0,b.default)(Ma).height(),Ta.getOffset().y)}Ta.repaintAll()}function za(aa){return Pb.getInverted().getTransformedPoint(aa)}function Xa(aa){aa=za(aa);aa.x=Math.floor(aa.x);aa.y=Math.floor(aa.y);return aa}function yb(aa){var Ba=Ma.getBoundingClientRect();return{x:aa.x-Ba.left-window.pageXOffset,y:aa.y-Ba.top-window.pageYOffset}}function Cb(aa){return Pb.getTransformedPoint(aa)}function Ia(aa){aa=Cb(aa);
aa.x=Math.round(aa.x);aa.y=Math.round(aa.y);return aa}function na(aa){var Ba=Cb({x:(aa.left+aa.right)/2,y:(aa.top+aa.bottom)/2});aa=aa.toPoints();for(var Pa=0;Pa<aa.length;Pa++)aa[Pa]=Ia(aa[Pa]),aa[Pa].x+=.5*Math.sign(Ba.x-aa[Pa].x),aa[Pa].y+=.5*Math.sign(Ba.y-aa[Pa].y);return aa}function Ha(aa,Ba){aa.beginPath();aa.moveTo(Ba[0].x,Ba[0].y);for(var Pa=1;Pa<Ba.length;Pa++)aa.lineTo(Ba[Pa].x,Ba[Pa].y);aa.lineTo(Ba[0].x,Ba[0].y);aa.stroke()}function Da(aa){var Ba=Ia({x:aa.left-1,y:aa.top-1}),Pa=Ia({x:aa.left-
1,y:aa.bottom}),eb=Ia({x:aa.right,y:aa.top-1});aa=Ia({x:aa.right,y:aa.bottom});Ba=new x.default(Math.min(Math.min(Ba.x,Pa.x),Math.min(eb.x,aa.x)),Math.min(Math.min(Ba.y,Pa.y),Math.min(eb.y,aa.y)),Math.max(Math.max(Ba.x,Pa.x),Math.max(eb.x,aa.x))+1,Math.max(Math.max(Ba.y,Pa.y),Math.max(eb.y,aa.y))+1);Ba.grow(2,2);return Ba}function bb(){var aa=Ma.width,Ba=Ma.height,Pa=Cb({x:wb.width/2,y:wb.height/2});Ta.setOffset(Math.round(P+aa/2-Pa.x),Math.round(mb+Ba/2-Pa.y))}function rb(aa,Ba,Pa){aa=Math.max(.1,
Math.min(16,aa));if(Ta.getZoom()!=aa){var eb=Ta.getOffset();Ta.setOffset(eb.x+~~((Ba-eb.x)*(1-aa/Ta.getZoom())),eb.y+~~((Pa-eb.y)*(1-aa/Ta.getZoom())));Ta.setZoom(aa);Ta.repaintAll()}}function vb(aa){var Ba=(0,b.default)(Ma).width(),Pa=(0,b.default)(Ma).height();rb(aa,Ba/2,Pa/2)}function Ra(aa){return qc?lb.getPressure():"mouse"===aa.pointerType&&0!==aa.buttons&&0===aa.pressure?1:"touch"===aa.pointerType?(0!==aa.pressure&&(yc=!0),yc?2*aa.pressure:1):2*aa.pressure}function sa(){lc||(lc=!0,window.requestAnimationFrame(function(){Ta.paint()}))}
function Wa(aa){Db.union(aa);sa()}function pb(){gc=wb.getBounds();Ta.repaintAll()}var Ta=this,ua=document.createElement("div"),Fa=document.createElement("div"),La=document.createElement("div"),Ma=document.createElement("canvas"),Ca=Ma.getContext("2d"),$a=document.createElement("canvas"),Ka=$a.getContext("2d"),qb=(0,u.createCheckerboardPattern)(Ca),wb=J.getArtwork(),Ob=1,P=0,mb=0,pc=0,Pb=new a.default,mc=!1,db=!1,Qb=32,Qa=0,tb=0,fc=!1,Ib=[!1,!1,!1],qc=!1,rc=!1,yc=!1,gc=wb.getBounds(),Db=new x.default(0,
0,0,0),lc=!1,Mb,Zb=[],nb=new k,Vb=new B.default(!1),Sb=new B.default(!0),lb=m.default.getRef();Math.sign=Math.sign||function(aa){aa=+aa;return 0===aa||isNaN(aa)?aa:0<aa?1:-1};K.prototype.transient=!1;K.prototype.capture=!1;K.prototype.enter=function(){ab("default")};K.prototype.leave=function(){this.capture=!1};K.prototype.mouseMove=K.prototype.paint=K.prototype.mouseDown=K.prototype.mouseDrag=K.prototype.mouseUp=K.prototype.keyDown=K.prototype.suspend=K.prototype.resume=K.prototype.keyUp=function(){};
S.prototype=Object.create(K.prototype);S.prototype.constructor=S;S.prototype.mouseDown=function(aa,Ba,Pa){var eb=d.default.isPressed("space");if(!eb&&(2==Ba||0==Ba&&aa.altKey))nb.push(tc,!0),nb.peek().mouseDown(aa,Ba,Pa);else if(!eb&&0==Ba&&!aa.altKey&&d.default.isPressed("r"))nb.push(ec,!0),nb.peek().mouseDown(aa,Ba,Pa);else if(1==Ba||!aa.altKey&&eb&&0==Ba)nb.push(dc,!0),nb.peek().mouseDown(aa,Ba,Pa)};S.prototype.keyDown=function(aa){if("r"===aa.key.toLowerCase()&&" "!==aa.key)nb.push(ec,!0),nb.peek().keyDown(aa);
else if("r"!==aa.key.toLowerCase()&&" "===aa.key&&!aa.altKey)return nb.push(dc,!0),nb.peek().keyDown(aa),!0};da.prototype=Object.create(K.prototype);da.prototype.constructor=da;da.prototype.getBrushPreviewOval=function(){var aa=J.getBrushSize()*Ob;return new x.default(Qa-aa/2,tb-aa/2,Qa+aa/2,tb+aa/2)};da.prototype.queueBrushPreview=function(){if(nb.peek()==this){this.shouldPaintBrushPreview=!0;var aa=this.getBrushPreviewOval();aa.grow(2,2);null!=this.oldPreviewRect&&(aa.union(this.oldPreviewRect),
this.oldPreviewRect=null);Wa(aa)}};da.prototype.eraseBrushPreview=function(){this.shouldPaintBrushPreview=!1;null!=this.oldPreviewRect&&(Wa(this.oldPreviewRect),this.oldPreviewRect=null)};da.prototype.mouseMove=function(aa,Ba){this.queueBrushPreview()};da.prototype.enter=function(){K.prototype.enter.call(this);fc&&this.queueBrushPreview()};da.prototype.leave=function(){K.prototype.leave.call(this);this.eraseBrushPreview()};da.prototype.suspend=da.prototype.leave;da.prototype.resume=da.prototype.enter;
da.prototype.paint=function(){if(this.shouldPaintBrushPreview){this.shouldPaintBrushPreview=!1;var aa=this.getBrushPreviewOval();Ca.beginPath();Ca.arc((aa.left+aa.right)/2,(aa.top+aa.bottom)/2,aa.getWidth()/2,0,2*Math.PI);Ca.stroke();aa.grow(2,2);null==this.oldPreviewRect?this.oldPreviewRect=aa:this.oldPreviewRect.union(aa)}};Y.prototype=Object.create(da.prototype);Y.prototype.constructor=Y;Y.prototype.mouseDown=function(aa,Ba,Pa){if(!this.capture&&0==Ba&&!aa.altKey&&!d.default.isPressed("space")&&
T()&&(aa=za({x:Qa,y:tb}),this.eraseBrushPreview(),wb.beginStroke(aa.x,aa.y,Pa)))return this.capture=!0,this.smoothMouse=aa,!0};Y.prototype.mouseDrag=function(aa,Ba){(!navigator.maxTouchPoints||2>navigator.maxTouchPoints)&&da.prototype.mouseMove.call(this,aa,Ba);if(this.capture){aa=za({x:Qa,y:tb});var Pa=Math.min(.999,Math.pow(J.getBrushInfo().smoothing,.3));this.smoothMouse.x=(1-Pa)*aa.x+Pa*this.smoothMouse.x;this.smoothMouse.y=(1-Pa)*aa.y+Pa*this.smoothMouse.y;wb.continueStroke(this.smoothMouse.x,
this.smoothMouse.y,Ba);return!0}this.mouseMove(aa)};Y.prototype.mouseUp=function(aa,Ba,Pa){if(this.capture)return 0==Ba&&(this.capture=!1,wb.endStroke()),!0};ra.prototype=Object.create(da.prototype);ra.prototype.constructor=ra;ra.prototype.drawLine=function(aa,Ba){wb.beginStroke(aa.x,aa.y,1);wb.continueStroke(Ba.x,Ba.y,1);wb.endStroke()};ma.prototype=Object.create(da.prototype);ma.prototype.constructor=ma;Q.prototype=Object.create(K.prototype);Q.prototype.constructor=Q;ia.prototype=Object.create(K.prototype);
ia.prototype.constructor=ia;ba.prototype=Object.create(K.prototype);ba.prototype.constructor=ba;ba.prototype.mouseDown=function(aa,Ba,Pa){if(0==Ba&&!aa.altKey&&!d.default.isPressed("space")&&T())return aa=za({x:Qa,y:tb}),wb.isPointWithin(aa.x,aa.y)&&(wb.floodFill(aa.x,aa.y),Ta.repaintAll()),!0};ta.prototype=Object.create(K.prototype);ta.prototype.constructor=ta;pa.prototype=Object.create(K.prototype);pa.prototype.constructor=pa;pa.prototype.mouseMove=function(aa){if(!d.default.isPressed("r"))return ab("move"),
!0};pa.prototype.enter=function(){ab("move")};ya.prototype=Object.create(K.prototype);ya.prototype.constructor=ya;ka.prototype=Object.create(K.prototype);ka.prototype.constructor=ka;Oa.prototype=Object.create(ra.prototype);Oa.prototype.constructor=Oa;Oa.prototype.drawLine=function(aa,Ba){wb.gradientFill(Math.round(aa.x),Math.round(aa.y),Math.round(Ba.x),Math.round(Ba.y),J.getCurGradient())};Oa.prototype.queueBrushPreview=function(){};this.setZoom=function(aa){Ob=aa;qa()};this.getZoom=function(){return Ob};
this.setGridSize=function(aa){Qb=Math.max(Math.round(aa),1);this.repaintAll()};this.getGridSize=function(){return Qb};this.setOffset=function(aa,Ba){isNaN(aa)||isNaN(Ba)?console.log("Bad offset"):(P=aa,mb=Ba,qa())};this.getOffset=function(){return{x:P,y:mb}};this.setInterpolation=function(aa){mc=aa;(0,c.setCanvasInterpolation)(Ca,aa);this.repaintAll()};this.setRotation=function(aa){pc=aa%(2*Math.PI);qa()};this.getRotation=function(){return pc};this.getRotation90=function(){var aa=Math.round(this.getRotation()/
Math.PI*2);aa%=4;0>aa&&(aa+=4);return aa};this.zoomIn=function(){vb(2*this.getZoom())};this.zoomOut=function(){vb(.5*this.getZoom())};this.zoom100=function(){vb(1);bb()};this.resetRotation=function(){var aa=Ma.width/2,Ba=Ma.height/2,Pa=new a.default;Pa.rotateAroundPoint(-this.getRotation(),aa,Ba);Pa.multiply(Pb);this.setOffset(~~Pa.getTranslateX(),~~Pa.getTranslateY());this.setRotation(0);Ta.emitEvent("canvasRotated90",[0])};var Wb=!1,kc;this.getElement=function(){return ua};this.repaintAll=function(){Db.left=
0;Db.top=0;Db.right=Ma.width;Db.bottom=Ma.height;sa()};this.paint=function(){var aa=!1;lc=!1;Db.isEmpty()||(Ca.save(),Ca.clipTo&&(Ca.beginPath(),Db.left|=0,Db.top|=0,Ca.rect(Db.left,Db.top,Math.ceil(Db.getWidth()),Math.ceil(Db.getHeight())),Ca.clip()),aa=!0);if(!gc.isEmpty()){var Ba=Mb&&Mb.isOpen()?Mb.getImageData():wb.fusionLayers().getImageData();Ka.putImageData(Ba,0,0,gc.left,gc.top,gc.getWidth(),gc.getHeight());gc.makeEmpty()}Ca.fillStyle="#606060";Ca.fillRect(0,0,Ma.width,Ma.height);Ca.save();
Ca.setTransform(Pb.m[0],Pb.m[1],Pb.m[2],Pb.m[3],Pb.m[4],Pb.m[5]);Ca.fillStyle=qb;Ca.fillRect(0,0,wb.width,wb.height);Ca.drawImage($a,0,0,$a.width,$a.height);Ca.restore();(0,u.setContrastingDrawStyle)(Ca,"stroke");Ca.lineWidth=1;wb.getSelection().isEmpty()||nb.peek()instanceof ta&&nb.peek().capture||(Ca.setLineDash([3,2]),Ba=wb.getSelection(),Ha(Ca,na(Ba)),Ca.setLineDash([]));if(db&&(Ba=wb.getBounds(),2<Ob*Qb)){Ca.beginPath();for(var Pa=Qb-1;Pa<Ba.right;Pa+=Qb){var eb=Cb({x:Pa,y:Ba.top}),kb=Cb({x:Pa,
y:Ba.bottom});Ca.moveTo(eb.x+.5,eb.y+.5);Ca.lineTo(kb.x+.5,kb.y+.5)}for(Pa=Qb-1;Pa<Ba.bottom;Pa+=Qb)eb=Cb({x:0,y:Pa}),kb=Cb({x:Ba.right,y:Pa}),Ca.moveTo(eb.x+.5,eb.y+.5),Ca.lineTo(kb.x+.5,kb.y+.5);Ca.stroke()}nb.paint(Ca);Ca.globalCompositeOperation="source-over";aa&&(Db.makeEmpty(),Ca.restore())};this.showGrid=function(aa){db=aa;this.repaintAll()};this.resize=function(aa,Ba){aa-=(0,b.default)(La).outerHeight();(0,b.default)(Ma).css("height",aa+"px");Ma.width=(0,b.default)(Ma).width();Ma.height=aa;
kc=null;Ba||bb();this.setInterpolation(mc);this.repaintAll()};J.on("toolChange",function(aa,Ba){aa=Zb[Ba.strokeMode];for(Ba=0;Ba<nb.modes.length;Ba++)if(nb.modes[Ba]instanceof da){nb.modes[Ba].leave();nb.modes[Ba]=aa;nb.modes[Ba].enter();break}wc=aa});J.on("modeChange",function(aa){switch(aa){case n.default.M_DRAW:var Ba=wc;break;case n.default.M_FLOODFILL:Ba=vc;break;case n.default.M_GRADIENTFILL:Ba=zc;break;case n.default.M_RECT_SELECTION:Ba=Mc;break;case n.default.M_MOVE_TOOL:Ba=Ac;break;case n.default.M_ROTATE_CANVAS:Ba=
ec;break;case n.default.M_PAN_CANVAS:Ba=dc;break;case n.default.M_COLOR_PICKER:Ba=tc;break;case n.default.M_TRANSFORM:Ba=Dc}nb.setUserMode(Ba)});J.on("maskViewOpened",function(aa){Mb&&Mb.off("changeLayer",pb);Mb=aa;Mb.on("changeLayer",pb);pb()});var sc=new S;var tc=new Q;var dc=new ia;var ec=new ka;var vc=new ba;var zc=new Oa;var Mc=new ta;var Ac=new pa;var Dc=new ya;Zb=[new Y,new ra,new ma];var wc=Zb[e.default.STROKE_MODE_FREEHAND];nb.setDefaultMode(sc);nb.setUserMode(wc);$a.width=wb.width;$a.height=
wb.height;Ma.width=800;Ma.height=900;Ma.className="chickenpaint-canvas";Ma.setAttribute("touch-action","none");Ca.setLineDash||(Ca.setLineDash=function(){});Ma.addEventListener("contextmenu",function(aa){aa.preventDefault()});Ma.addEventListener("mouseenter",function(){fc=!0});Ma.addEventListener("mouseleave",function(){fc=!1;Ib[0]||Ib[2]||Ib[1]||Ta.repaintAll()});Ma.addEventListener("pointerdown",function(aa){rc&&"touch"===aa.pointerType||(Ma.setPointerCapture(aa.pointerId),kc=Ma.getBoundingClientRect(),
Qa=aa.clientX-kc.left,tb=aa.clientY-kc.top,qc=lb.isPen(),Ib[0]=!1,Ib[2]=!1,Ib[1]=!1,Ib[aa.button]=!0,nb.mouseDown(aa,aa.button,Ra(aa)))});Ma.addEventListener("pointermove",function(aa){kc||=Ma.getBoundingClientRect();if(!rc||"touch"!==aa.pointerType){Qa=aa.clientX-kc.left;tb=aa.clientY-kc.top;var Ba=0!==aa.buttons,Pa=Ba?Ra(aa):0;if(0!==(aa.buttons&1)!=Ib[0]){if(.5===aa.mozPressure)return;Ib[0]=!Ib[0];Ib[0]?nb.mouseDown(aa,0,Pa):nb.mouseUp(aa,0,Pa)}0!==(aa.buttons&2)!=Ib[2]&&(Ib[2]=!Ib[2],Ib[2]?nb.mouseDown(aa,
2,Pa):nb.mouseUp(aa,2,Pa));0!==(aa.buttons&4)!=Ib[1]&&(Ib[1]=!Ib[1],Ib[1]?nb.mouseDown(aa,1,Pa):nb.mouseUp(aa,1,Pa));Ba?nb.mouseDrag(aa,Pa):nb.mouseMove(aa,Pa);rc||"pen"!==aa.pointerType||(rc=!0)}});Ma.addEventListener("pointerup",function(aa){Ib[0]=!1;Ib[2]=!1;qc=Ib[1]=!1;nb.mouseUp(aa,aa.button,0);Ma.releasePointerCapture(aa.pointerId)});Ma.addEventListener("wheel",function(aa){if(0!=aa.deltaY){if(!Wb||20<Math.abs(aa.deltaY)){var Ba=0<aa.deltaY?1/1.15:1.15;var Pa=yb({x:aa.pageX,y:aa.pageY}),eb=
za(Pa);wb.isPointWithin(eb.x,eb.y)?rb(Ta.getZoom()*Ba,Pa.x,Pa.y):rb(Ta.getZoom()*Ba,P+~~(wb.width*Ob/2),mb+~~(wb.height*Ob/2));Wb=Wb||setTimeout(function(){Wb=!1},50)}aa.preventDefault()}});document.addEventListener("keydown",function(aa){nb.keyDown(aa)});document.addEventListener("keyup",function(aa){"alt"===aa.key.toLowerCase()&&aa.preventDefault();nb.keyUp(aa)});document.addEventListener("visibilitychange",function(){var aa=Ma.height+(0,b.default)(La).outerHeight();Ma.width=1;Ma.height=1;Ta.resize(aa,
!0)},!1);window.addEventListener("scroll",function(){kc=null});Ma.addEventListener("mousedown",function(aa){1==aa.button&&aa.preventDefault()});wb.on("changeSelection",function(){Ta.repaintAll()});wb.on("updateRegion",function(aa){gc.union(aa);Wa(Da(gc))});Vb.on("valueChanged",function(aa){var Ba=Ta.getOffset();Ta.setOffset(-aa,Ba.y)});Sb.on("valueChanged",function(aa){var Ba=Ta.getOffset();Ta.setOffset(Ba.x,-aa)});this.setInterpolation(!1);sc=document.createElement("div");sc.className="chickenpaint-canvas-container-wrapper";
sc.appendChild(Ma);Fa.className="chickenpaint-canvas-container-top";Fa.appendChild(sc);Fa.appendChild(Sb.getElement());La.className="chickenpaint-canvas-container-bottom";La.appendChild(Vb.getElement());ua.appendChild(Fa);ua.appendChild(La);J.setCanvas(this)}Object.defineProperty(D,"__esModule",{value:!0});D.default=v;var E=y(g("wolfy87-eventemitter")),b=y(g("jquery")),d=y(g("../../lib/keymaster.js")),x=y(g("../util/CPRect.js")),a=y(g("../util/CPTransform.js")),m=y(g("../util/CPWacomTablet.js")),
q=y(g("../util/CPBezier.js")),r=g("../util/throttle-debounce"),h=y(g("../util/CPPolygon.js")),c=g("../util/CPPolyfill.js"),f=y(g("../util/CPVector.js")),n=y(g("../ChickenPaint.js")),e=y(g("../engine/CPBrushInfo.js")),p=y(g("../engine/CPLayerGroup.js"));y(g("../engine/CPMaskView.js"));var u=g("./CPGUIUtils.js"),B=y(g("./CPScrollbar.js")),C=y(g("../util/CPColor.js"));k.MODE_INDEX_DEFAULT=0;k.MODE_INDEX_USER=1;k.prototype.setMode=function(J,K){var S=this.modes[J];S!=K&&(S&&S.leave(),this.modes[J]=K,
K.enter())};k.prototype.setDefaultMode=function(J){J.transient=!1;J.capture=!1;this.setMode(k.MODE_INDEX_DEFAULT,J)};k.prototype.setUserMode=function(J){for(var K=this.modes.length-1;K>k.MODE_INDEX_USER;K--)this.modes[K].leave(),this.modes.splice(K,1);J.transient=!1;J.capture=!1;this.setMode(k.MODE_INDEX_USER,J)};k.prototype.deliverEvent=function(J,K){for(var S=this.modes.length-1;0<=S;S--){var da=this.modes[S];if(da[J].apply(da,K)||da.capture&&"paint"!=J)return!0}return!1};g=function(){var J=I[A];
k.prototype[J]=function(K,S,da){this.deliverEvent(J,[K,S,da])}};for(var A=0,I=["mouseDown","mouseUp"];A<I.length;A++)g();g=function(){var J=z[O];k.prototype[J]=function(K,S){this.deliverEvent(J,[K,S])}};for(var O=0,z=["mouseDrag","mouseMove"];O<z.length;O++)g();g=function(){var J=H[G];k.prototype[J]=function(K){this.deliverEvent(J,[K])&&K.preventDefault()}};for(var G=0,H=["keyDown","keyUp"];G<H.length;G++)g();k.prototype.paint=function(J){this.deliverEvent("paint",[J])};k.prototype.push=function(J,
K){var S=this.peek();S&&S.suspend();J.transient=K;J.capture=!1;J.enter();this.modes.push(J)};k.prototype.peek=function(){return 0<this.modes.length?this.modes[this.modes.length-1]:null};k.prototype.pop=function(){var J=this.modes.pop(),K=this.peek();J&&J.leave();K&&K.resume();return K};v.prototype=Object.create(E.default.prototype);v.prototype.constructor=v;L.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../engine/CPBrushInfo.js":8,"../engine/CPLayerGroup.js":17,"../engine/CPMaskView.js":19,
"../util/CPBezier.js":57,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPPolygon.js":61,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/CPVector.js":65,"../util/CPWacomTablet.js":66,"../util/throttle-debounce":67,"./CPGUIUtils.js":33,"./CPScrollbar.js":41,jquery:296,"wolfy87-eventemitter":314}],27:[function(g,L,D){function y(k,v){function E(){var a=b.width;d.clearRect(0,0,a,b.height);d.beginPath();d.arc(a/2+1,a/2+1,Math.max(a/2,1)-2,0,2*Math.PI);x.state?d.fill():d.stroke()}
var b=document.createElement("canvas"),d=b.getContext("2d"),x=this;this.state=k||!1;this.setValue=function(a){this.state!=a&&(this.state=a,this.emitEvent("valueChange",[a]),E())};this.getElement=function(){return b};b.addEventListener("mousedown",function(a){x.setValue(!x.state)});b.title=v||"";b.className="chickenpaint-checkbox";b.width=20;b.height=20;b.fillStyle="black";b.strokeStyle="black";E()}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;g=function(k){return k&&k.__esModule?k:
{default:k}}(g("wolfy87-eventemitter"));y.prototype=Object.create(g.default.prototype);y.prototype.constructor=y;L.exports=D.default},{"wolfy87-eventemitter":314}],28:[function(g,L,D){function y(m){return m&&m.__esModule?m:{default:m}}function k(m){E.default.call(this,m,"color","Color (picker)");var q=new b.default(m),r=new d.default(m,q);m=new v(m);var h=this.getBodyElement(),c=document.createElement("div");c.className="chickenpaint-colorpicker-top";c.appendChild(q.getElement());c.appendChild(r.getElement());
h.appendChild(c);h.appendChild(m.getElement())}function v(m){function q(f,n,e){for(;f.length<e;)f=n+f;return f}function r(){c.style.backgroundColor="#"+q(Number(h).toString(16),"0",6)}var h=0,c=document.createElement("div");this.getElement=function(){return c};m.on("colorChange",function(f){h=f.getRgb();r()});c.className="chickenpaint-colorpicker-show";c.addEventListener("click",function(f){f.preventDefault();f="#"+q(Number(h).toString(16),"0",6);f=window.prompt((0,a._)("Please enter a color in hex format"),
f);if(null!=f)try{if(f.match(/^#/)||f.match(/^$/))f=f.substring(1);var n=parseInt(f,16);m.setCurColor(new x.default(n))}catch(e){}});r()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var E=y(g("./CPPalette.js")),b=y(g("./CPColorSelect.js")),d=y(g("./CPColorSlider.js")),x=y(g("../util/CPColor.js")),a=g("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;L.exports=D.default},{"../languages/lang":54,"../util/CPColor.js":58,"./CPColorSelect.js":29,
"./CPColorSlider.js":30,"./CPPalette.js":39}],29:[function(g,L,D){function y(f){return f&&f.__esModule?f:{default:f}}function k(f){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},k(f)}function v(f,n){for(var e=0;e<n.length;e++){var p=n[e];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=
!0);Object.defineProperty(f,d(p.key),p)}}function E(f,n,e){n&&v(f.prototype,n);e&&v(f,e);Object.defineProperty(f,"prototype",{writable:!1});return f}function b(f,n,e){n=d(n);n in f?Object.defineProperty(f,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):f[n]=e;return f}function d(f){a:if("object"===k(f)&&null!==f){var n=f[Symbol.toPrimitive];if(void 0!==n){f=n.call(f,"string");if("object"!==k(f))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}f=String(f)}return"symbol"===
k(f)?f:String(f)}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var x=y(g("jquery")),a=y(g("../util/CPColor.js")),m=y(g("../engine/CPColorBmp.js")),q=g("./CPGUIUtils.js"),r=window.devicePixelRatio||1,h=Math.round(128*r),c=Math.round(128*r);D.default=function(){function f(n,e){var p=this;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");b(this,"_controller",void 0);b(this,"_canvas",void 0);b(this,"_canvasContext",void 0);b(this,"_imageData",void 0);
b(this,"_bitmapInvalid",!0);b(this,"_capturedMouse",!1);b(this,"_greyscale",!1);b(this,"color",new a.default(0));this._controller=n;var u=document.createElement("canvas");this._canvas=u;u.className="chickenpaint-colorpicker-select";u.setAttribute("touch-action","none");u.width=h;u.height=c;u.style.width="128px";u.style.height="128px";this._canvasContext=u.getContext("2d");this._imageData=this._canvasContext.createImageData(h,c);this._canvasContext.getImageData(0,0,1,1);this._handleEndDrag=this._endDrag.bind(this);
this._handleMousePickColor=this._mousePickColor.bind(this);u.addEventListener("pointerdown",function(B){return p._startDrag(B)});e&&this.color.copyFrom(e);n.on("colorChange",function(B){p.color.copyFrom(B);p._bitmapInvalid=!0;p.paint()});n.on("colorModeChange",function(B){p._greyscale="greyscale"==B;p._bitmapInvalid=!0;p.paint()});this.paint()}E(f,[{key:"_makeBitmap",value:function(){if(this._bitmapInvalid){var n=0,e=this._imageData.data;if(this._greyscale)for(var p=0;p<c;p++)for(var u=255-Math.round(p/
(c-1)*255),B=0;B<h;B++)e[n+m.default.RED_BYTE_OFFSET]=u,e[n+m.default.GREEN_BYTE_OFFSET]=u,e[n+m.default.BLUE_BYTE_OFFSET]=u,e[n+m.default.ALPHA_BYTE_OFFSET]=255,n+=m.default.BYTES_PER_PIXEL;else for(p=this.color.clone(),u=0;u<c;u++)for(p.setValue(255-~~(u/(c-1)*255)),B=0;B<h;B++)p.setSaturation(Math.round(B/(h-1)*255)),e[n+m.default.RED_BYTE_OFFSET]=p.rgb>>16&255,e[n+m.default.GREEN_BYTE_OFFSET]=p.rgb>>8&255,e[n+m.default.BLUE_BYTE_OFFSET]=p.rgb&255,e[n+m.default.ALPHA_BYTE_OFFSET]=255,n+=m.default.BYTES_PER_PIXEL;
this._bitmapInvalid=!1}}},{key:"paint",value:function(){this._makeBitmap();this._canvasContext.putImageData(this._imageData,0,0);var n=this.color.getSaturation()/255*(h-1),e=(255-this.color.getValue())/255*(c-1);(0,q.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5*r;this._canvasContext.beginPath();this._greyscale?(this._canvasContext.moveTo(0,e),this._canvasContext.lineTo(h,e)):this._canvasContext.arc(n,e,5*r,0,2*Math.PI);this._canvasContext.stroke();this._canvasContext.globalCompositeOperation=
"source-over"}},{key:"_mousePickColor",value:function(n){var e=n.pageX-(0,x.default)(this._canvas).offset().left;n=n.pageY-(0,x.default)(this._canvas).offset().top;n=Math.max(Math.min(255-~~(255*n/127),255),0);this._greyscale?this.color.setGreyscale(n):(e=Math.max(Math.min(~~(255*e/127),255),0),this.color.setHsv(this.color.getHue(),e,n));this.paint();this._controller.setCurColor(this.color)}},{key:"_endDrag",value:function(n){this._canvas.releasePointerCapture(n.pointerId);this._capturedMouse=!1;
this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(n){this._capturedMouse||(this._capturedMouse=!0,this._canvas.setPointerCapture(n.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(n)}},{key:"setHue",value:function(n){this.color.getHue()!=n&&(this.color.setHue(n),
this._controller.setCurColor(this.color))}},{key:"getElement",value:function(){return this._canvas}}]);return f}();L.exports=D.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:296}],30:[function(g,L,D){function y(h){return h&&h.__esModule?h:{default:h}}function k(h){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&
c!==Symbol.prototype?"symbol":typeof c},k(h)}function v(h,c){for(var f=0;f<c.length;f++){var n=c[f];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(h,d(n.key),n)}}function E(h,c,f){c&&v(h.prototype,c);f&&v(h,f);Object.defineProperty(h,"prototype",{writable:!1});return h}function b(h,c,f){c=d(c);c in h?Object.defineProperty(h,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[c]=f;return h}function d(h){a:if("object"===k(h)&&null!==h){var c=
h[Symbol.toPrimitive];if(void 0!==c){h=c.call(h,"string");if("object"!==k(h))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}h=String(h)}return"symbol"===k(h)?h:String(h)}function x(h){for(var c=new m.default(65535),f=0,n=h.data,e=0;e<h.height;e++){c.setHue(359*e/h.height);for(var p=0;p<h.width;p++)n[f+q.default.RED_BYTE_OFFSET]=c.rgb>>16&255,n[f+q.default.GREEN_BYTE_OFFSET]=c.rgb>>8&255,n[f+q.default.BLUE_BYTE_OFFSET]=c.rgb&255,n[f+q.default.ALPHA_BYTE_OFFSET]=255,f+=
q.default.BYTES_PER_PIXEL}}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var a=y(g("jquery")),m=y(g("../util/CPColor.js")),q=y(g("../engine/CPColorBmp.js")),r=g("./CPGUIUtils.js");D.default=function(){function h(c,f,n){var e=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");b(this,"hue",void 0);b(this,"selecter",void 0);b(this,"_canvas",void 0);b(this,"_canvasContext",void 0);b(this,"_imageData",void 0);b(this,"_capturedMouse",!1);this.selecter=
f;this.hue=n||0;var p=document.createElement("canvas");this._canvas=p;c.on("colorChange",function(u){e.setHue(u.getHue())});c.on("colorModeChange",function(u){p.style.display="greyscale"==u?"none":"block"});p.setAttribute("touch-action","none");p.addEventListener("pointerdown",function(u){return e._startDrag(u)});p.width=24;p.height=128;p.className="chickenpaint-colorpicker-slider";this._canvasContext=p.getContext("2d");this._imageData=this._canvasContext.createImageData(24,128);this._canvasContext.getImageData(0,
0,1,1);this._handleEndDrag=this._endDrag.bind(this);this._handleMousePickColor=this._mousePickColor.bind(this);x(this._imageData);this.paint()}E(h,[{key:"paint",value:function(){this._canvasContext.putImageData(this._imageData,0,0);var c=128*this.hue/360;(0,r.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5;this._canvasContext.beginPath();this._canvasContext.moveTo(0,c);this._canvasContext.lineTo(24,c);this._canvasContext.stroke();this._canvasContext.globalCompositeOperation=
"source-over"}},{key:"_mousePickColor",value:function(c){c=~~(360*(c.pageY-(0,a.default)(this._canvas).offset().top)/128);this.hue=Math.max(0,Math.min(359,c));this.paint();this.selecter&&this.selecter.setHue(this.hue)}},{key:"_endDrag",value:function(c){this._canvas.releasePointerCapture(c.pointerId);this._capturedMouse=!1;this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(c){this._capturedMouse||
(this._capturedMouse=!0,this._canvas.setPointerCapture(c.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(c)}},{key:"getElement",value:function(){return this._canvas}},{key:"setHue",value:function(c){this.hue=c;this.paint()}}]);return h}();L.exports=D.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:296}],31:[function(g,L,D){function y(a){return a&&
a.__esModule?a:{default:a}}function k(a,m,q){function r(){for(var B=e.style,C=Number(f.getRgb()).toString(16);6>C.length;)C="0"+C;B.backgroundColor="#"+C}function h(){var B=document.createElement("div"),C=document.createElement("div"),A=new d.default(c,f),I=new x.default(c,A,f.getHue()),O=new b.default(0,255);B.className="chickenpaint-color-pick-panel";C.className="chickenpaint-colorpicker-top";C.appendChild(A.getElement());C.appendChild(I.getElement());B.appendChild(C);O.value=n;O.title=function(z){return(0,v._)("Opacity: ")+
z};O.on("valueChange",function(z){c.setAlpha(z)});B.appendChild(O.getElement());setTimeout(function(){O.resize()},0);return B}var c=this,f=new E.default(0),n=255,e=document.createElement("div");this.getElement=function(){return e};this.setColor=function(B){f.isEqual(B)||(f.copyFrom(B),r(),this.emitEvent("colorChange",[f]))};this.setAlpha=function(B){B!=n&&(n=B,r(),this.emitEvent("alphaChange",[n]))};this.getColorRgb=function(){return f.getRgb()};this.getAlpha=function(){return n};this.setCurColor=
this.setColor;e.className="chickenpaint-color-pick-swatch";a&&f.copyFrom(a);m&&(n=m);var p=new bootstrap.Popover(e,{html:!0,content:function(){window.addEventListener("mousedown",u);return h()},trigger:"manual",placement:"bottom",container:q||!1}),u=function(B){var C=B.target;C=C.closest(".popover-body")||C.classList.contains("chickenpaint-color-pick-panel")||C.classList.contains("chickenpaint-colorpicker-select")||C.classList.contains("chickenpaint-colorpicker-slider");B.preventDefault();C||p.hide()};
e.addEventListener("click",function(B){B.preventDefault();p.toggle()});e.addEventListener("hidden.bs.popover",function(){window.removeEventListener("mousedown",u)});r()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;y(g("jquery"));var v=g("../languages/lang.js"),E=y(g("../util/CPColor.js")),b=y(g("./CPSlider.js")),d=y(g("./CPColorSelect.js")),x=y(g("./CPColorSlider.js"));g=y(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;L.exports=
D.default},{"../languages/lang.js":54,"../util/CPColor.js":58,"./CPColorSelect.js":29,"./CPColorSlider.js":30,"./CPSlider.js":44,jquery:296,"wolfy87-eventemitter":314}],32:[function(g,L,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d,x){var a=(0,E.default)('<div class="modal fade" tabindex="-1" role="dialog">\n\t            <div class="modal-dialog">\n\t                <div class="modal-content">\n\t                    <div class="modal-header">\n\t                        <h5 class="modal-title">Complete transform</h5>\n\t                        <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n\t                        </button>\n\t                    </div>\n\t                    <div class="modal-body">\n\t                        <p>\n\t                            You need to finish transforming this layer before you can do that. What would you like to do with the transform?\n\t\t\t\t\t\t\t</p>\n\t                    </div>\n\t                    <div class="modal-footer">\n\t                        <button type="button" class="btn btn-light" data-bs-dismiss="modal">'.concat((0,b._)("Cancel"),
'</button>\n\t                        <button type="button" class="btn btn-light chickenpaint-reject-transform" data-bs-dismiss="modal">Undo transform</button>\n\t                        <button type="button" class="btn btn-primary chickenpaint-accept-transform" data-bs-dismiss="modal">Apply transform</button>\n\t                    </div>\n\t                </div>\n\t            </div>\n\t        </div>\n\t    ')),m=this,q=(0,E.default)(".chickenpaint-accept-transform",a),r=(0,E.default)(".chickenpaint-reject-transform",
a);q.on("click",function(h){x.actionPerformed({action:"CPTransformAccept"});m.emitEvent("accept")});r.on("click",function(h){x.actionPerformed({action:"CPTransformReject"});m.emitEvent("reject")});d.appendChild(a[0])}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("wolfy87-eventemitter")),E=y(g("jquery")),b=g("../languages/lang.js");k.prototype=Object.create(v.default.prototype);k.prototype.constructor=k;L.exports=D.default},{"../languages/lang.js":54,jquery:296,"wolfy87-eventemitter":314}],
33:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.createCheckerboardPattern=function(y){for(var k=document.createElement("canvas"),v=k.getContext("2d"),E=v.createImageData(64,64),b=E.data,d=0,x=0;64>x;x++)for(var a=0;64>a;a++)0!=(a&8)^0!=(x&8)?(b[d++]=255,b[d++]=255,b[d++]=255):(b[d++]=204,b[d++]=204,b[d++]=204),b[d++]=255;k.width=64;k.height=64;v.putImageData(E,0,0);return y.createPattern(k,"repeat")};D.setContrastingDrawStyle=function(y,k){k+="Style";y.globalCompositeOperation=
"exclusion";"exclusion"==y.globalCompositeOperation?y[k]="white":(y.globalCompositeOperation="difference",y[k]="#888","difference"!=y.globalCompositeOperation&&(y[k]="black"))}},{}],34:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(v,E){var b=(0,y.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,k._)("Grid options"),
'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,k._)("Grid size"),'</label>\n                                    <input type="number" class="form-control chickenpaint-grid-size" value="" autofocus>\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,k._)("Cancel"),
'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-grid-settings" data-bs-dismiss="modal">').concat((0,k._)("Ok"),"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),d=(0,y.default)(".chickenpaint-grid-size",b),x=(0,y.default)(".chickenpaint-apply-grid-settings",b);this.show=function(){(new bootstrap.Modal(b[0])).show()};d.val(E.getGridSize());x.on("click",function(a){a=
parseInt(d.val(),10);E.setGridSize(a);bootstrap.Modal.getInstance(b[0]).hide()});b.on("shown.bs.modal",function(){d.trigger("focus")});b.on("keypress",function(a){"Enter"===a.key&&(a.preventDefault(),x.trigger("click"))});v.appendChild(b[0])};var y=function(v){return v&&v.__esModule?v:{default:v}}(g("jquery")),k=g("../languages/lang.js");L.exports=D.default},{"../languages/lang.js":54,jquery:296}],35:[function(g,L,D){function y(n){return n&&n.__esModule?n:{default:n}}function k(n){n.preventDefault();
n.stopPropagation()}function v(n){var e=document.createElement("span");e.className="fa "+n;return e}function E(n){var e=document.createElement("span");e.className="chickenpaint-icon chickenpaint-icon-"+n;return e}function b(n,e){var p=document.createElement("div"),u=document.createElement("label");p.className="form-check";n.className="form-check-input";u.className="form-check-label";u.setAttribute("for",n.id);u.appendChild(n);u.appendChild(document.createTextNode(e));p.appendChild(n);p.appendChild(u);
return p}function d(n){return{"image-layer":n instanceof c.default,"layer-group":n instanceof h.default,"clipping-mask":n instanceof c.default&&n.clip,"no-clipping-mask":n instanceof c.default&&!n.clip,"no-clipping-mask-or-is-group":!(n instanceof c.default)||!n.clip,mask:n&&null!==n.mask,"no-mask":n&&null===n.mask,"mask-enabled":n&&null!==n.mask&&n.maskVisible,"mask-disabled":n&&null!==n.mask&&!n.maskVisible}}function x(n){function e(){var ba=A.getActiveLayer();ba=d(ba);for(var ta=0,pa=["clipping-mask",
"no-clipping-mask-or-is-group"];ta<pa.length;ta++){var ya=pa[ta];(0,a.default)(".chickenpaint-action-require-"+ya,ia).css("display",ba[ya]?"inline-block":"none")}(0,a.default)("[data-action]",ia).each(function(){var ka=this.getAttribute("data-action");(0,a.default)(this).toggleClass("disabled",!n.isActionAllowed(ka))})}function p(){var ba=A.getActiveLayer();ba.getAlpha()!=H.value&&H.setValue(ba.getAlpha());for(var ta=A.getActiveLayer();J.lastChild;)J.removeChild(J.lastChild);for(var pa=q.default.LM_FIRST;pa<=
q.default.LM_LAST;pa++)if(pa!=q.default.LM_MULTIPLY2&&(pa==ta.blendMode||pa===q.default.LM_PASSTHROUGH&&ta instanceof h.default||pa<=q.default.LM_LAST_CHIBIPAINT)){var ya=document.createElement("option");ya.appendChild(document.createTextNode((0,f._)(q.default.BLEND_MODE_DISPLAY_NAMES[pa])));ya.value=pa!==q.default.LM_MULTIPLY||ta.blendMode===pa||ta.useLegacyMultiply?pa:q.default.LM_MULTIPLY2;J.appendChild(ya)}ba.getBlendMode()!=parseInt(J.value,10)&&(J.value=ba.getBlendMode());ba.getLockAlpha()!=
da.checked&&(da.checked=ba.getLockAlpha());e()}function u(){A=this;G.resize();p()}var B=this;m.default.call(this,n,"layers","Layers",{resizeHorz:!0,resizeVert:!0});var C=this,A=n.getArtwork(),I=null,O=this.getBodyElement(),z=this.getElement(),G=new function(){var ba;function ta(ua){"button"in ua&&0!==ua.button||(Ia(),(0,a.default)(this).off("click",ta))}function pa(ua){var Fa=(0,a.default)(".chickenpaint-layer",Da);return Fa.get(Fa.length-1-ua)}function ya(ua){ua=(0,a.default)(ua).closest(".chickenpaint-layer");
if(ua.length){var Fa=(0,a.default)(".chickenpaint-layer",Da);return Fa.length-1-Fa.index(ua)}return-1}function ka(ua,Fa){var La=(0,a.default)(".chickenpaint-layer",Da);ua={layer:I[I.length-1],displayIndex:I.length-1,direction:"over"};for(var Ma=0;Ma<La.length;Ma++){var Ca=La[La.length-1-Ma].getBoundingClientRect();if(0===Ma&&Fa>Ca.bottom){ua=A.getLayersRoot().layers[0];ua={layer:ua,displayIndex:I.indexOf(ua),direction:"under"};break}else if(Fa>=Ca.top){La=I[Ma];var $a=Ca.bottom-Ca.top;ua={layer:La,
displayIndex:Ma};La instanceof h.default?Fa>=Ca.top+.75*$a?La.expanded&&0<La.layers.length?(ua.layer=La.layers[La.layers.length-1],ua.displayIndex--,ua.direction="over"):ua.direction="under":Fa>=Ca.top+.25*$a?La.expanded&&0<La.layers.length?(ua.layer=La.layers[La.layers.length-1],ua.displayIndex--,ua.direction="over"):ua.direction="inside":ua.direction="over":ua.direction=Fa>=Ca.top+.5*$a?"under":"over";break}}return ua.layer.parent==na.layer.parent&&("over"==ua.direction||"under"==ua.direction)&&
(Fa=ua.layer.parent,Ma=Fa.indexOf(ua.layer),"over"==ua.direction&&Fa.layers[Ma+1]==na.layer||"under"==ua.direction&&Fa.layers[Ma-1]==na.layer||ua.layer==na.layer)?null:na.layer instanceof h.default&&(ua.layer==na.layer&&"inside"==ua.direction||ua.layer.hasAncestor(na.layer))?null:ua}function Oa(){if(2===na.state){var ua=z.getBoundingClientRect(),Fa=!0,La=!0;na.dropTarget=ka(na.dragX,na.dragY);if(na.dropTarget){var Ma=pa(na.dropTarget.displayIndex);switch(na.dropTarget.direction){case "over":case "under":Da.appendChild(na.dropBetweenMarkerElem);
Fa=na.dropTarget.layer.getDepth()-1;var Ca;Ma=Ma.getBoundingClientRect();if("under"==na.dropTarget.direction&&na.dropTarget.layer instanceof h.default&&na.dropTarget.layer.expanded){for(Ca=na.dropTarget.displayIndex-1;0<=Ca&&I[Ca].hasAncestor(na.dropTarget.layer);Ca--);Ca=pa(Ca+1).getBoundingClientRect().bottom}else Ca=Ma.bottom;Fa=Ma.left-ua.left+(0<Fa?26+16*Fa:0);na.dropBetweenMarkerElem.style.left=Fa+"px";na.dropBetweenMarkerElem.style.width=Ma.right-ua.left-Fa+"px";na.dropBetweenMarkerElem.style.top=
("over"==na.dropTarget.direction?Ma.top-1:Ca+1)-ua.top+"px";(0,a.default)(".chickenpaint-layer-drop-target",Da).removeClass("chickenpaint-layer-drop-target");Fa=!1;break;case "inside":var $a=(0,a.default)(".chickenpaint-layer",Da);$a.each(function(Ka){(0,a.default)(this).toggleClass("chickenpaint-layer-drop-target",$a.length-1-Ka==na.dropTarget.displayIndex)});La=!1}}La&&(0,a.default)(".chickenpaint-layer-drop-target",Da).removeClass("chickenpaint-layer-drop-target");Fa&&(0,a.default)(na.dropBetweenMarkerElem).remove();
na.frameElem.style.top=na.dragY-ua.top-parseInt(na.frameElem.style.height,10)/2+"px"}else(0,a.default)(na.dropBetweenMarkerElem).remove(),(0,a.default)(na.frameElem).remove()}function ab(ua){var Fa=ua.getImageThumbnail().getAsCanvas(vb);Fa.title=(0,f._)("Image");Fa.className="chickenpaint-layer-thumbnail chickenpaint-layer-image-thumbnail";Fa.style.maxWidth=Fa.width/Fa.height*25+"px";ua!=A.getActiveLayer()||A.isEditingMask()||(Fa.className+=" active");return Fa}function ib(ua){var Fa=ua.getMaskThumbnail().getAsCanvas(vb);
Fa.title=(0,f._)("Layer mask");Fa.className="chickenpaint-layer-thumbnail chickenpaint-layer-mask-thumbnail";Fa.style.maxWidth=Fa.width/Fa.height*25+"px";ua==A.getActiveLayer()&&A.isEditingMask()&&(Fa.className+=" active");ua.maskVisible||(Fa.className+=" disabled",ua=Fa.getContext("2d"),ua.strokeStyle="red",ua.lineWidth=3,ua.moveTo(5,5),ua.lineTo(Fa.width-5,Fa.height-5),ua.moveTo(Fa.width-5,5),ua.lineTo(5,Fa.height-5),ua.stroke());return Fa}function T(ua,Fa){var La=document.createElement("div"),
Ma=document.createElement("div"),Ca=document.createElement("div"),$a=document.createElement("div"),Ka=document.createElement("div"),qb=document.createElement("div"),wb=document.createElement("div");La.className="chickenpaint-layer list-group-item";Fa==A.getActiveLayer()&&(La.className+=" active");Ma.className="chickenpaint-layer-eye";Fa.ancestorsAreVisible()||(Ma.className+=" chickenpaint-layer-eye-hidden-ancestors");Ma.style.marginRight=2+16*(Fa.getDepth()-1)+"px";Fa.visible?(La.className+=" chickenpaint-layer-visible",
Ma.appendChild(v("fa-eye"))):(La.className+=" chickenpaint-layer-hidden",Ma.appendChild(v("fa-eye-slash")));La.appendChild(Ma);Ca.className="chickenpaint-layer-description";Fa instanceof c.default?(Fa.clip&&(La.className+=" chickenpaint-layer-clipped",$a.appendChild(v("fa-level-down-alt fa-flip-horizontal"))),Fa.lockAlpha&&(Ma=E("lock-alpha"),Ma.title=(0,f._)("Transparency locked"),qb.appendChild(Ma))):Fa instanceof h.default&&(La.className+=" chickenpaint-layer-group",Fa.expanded?(La.className+=
" chickenpaint-layer-group-expanded",$a.appendChild(v("fa-folder-open chickenpaint-layer-group-toggle"))):(La.className+=" chickenpaint-layer-group-collapsed",$a.appendChild(v("fa-folder chickenpaint-layer-group-toggle"))));$a.childNodes.length&&($a.className="chickenpaint-layer-icons",La.appendChild($a));try{Fa instanceof c.default&&La.appendChild(ab(Fa)),Fa.mask&&La.appendChild(ib(Fa))}catch(Ob){console.log("Failed to create layer thumb")}$a=Fa.name&&0<Fa.name.length?Fa.name:"(unnamed "+(Fa instanceof
h.default?"group":"layer")+")";Ka.innerText=$a;Ka.setAttribute("title",$a);Ka.className="chickenpaint-layer-name";wb.innerText=(0,f._)(q.default.BLEND_MODE_DISPLAY_NAMES[Fa.blendMode])+": "+Fa.alpha+"%";wb.className="chickenpaint-layer-blend";Ca.appendChild(Ka);Ca.appendChild(wb);La.appendChild(Ca);qb.className="chickenpaint-layer-status";La.appendChild(qb);La.setAttribute("data-display-index",""+ua);La.setAttribute("data-toggle","dropdown");La.setAttribute("data-target","#chickenpaint-layer-pop");
return La}function Z(ua){if(-1<ua){var Fa=I[ua];ua=pa(ua);Fa&&ua&&K.show(Fa,ua)}}function qa(ua){var Fa=ya(ua.target);if(-1!=Fa){var La=A.getActiveLayer(),Ma=d(La);Ra=La;ba=ua.clientX;ua=0;for(La=["image-layer","layer-group","clipping-mask","no-clipping-mask","no-mask"];ua<La.length;ua++){var Ca=La[ua];(0,a.default)(".chickenpaint-action-require-"+Ca,rb).toggle(Ma[Ca])}ua=0;for(La=["mask","mask-enabled","mask-disabled"];ua<La.length;ua++)Ca=La[ua],(0,a.default)(".chickenpaint-action-require-"+Ca,
rb).toggle(sa&&Ma[Ca]);(0,a.default)("[data-action]",rb).each(function(){var $a=this.getAttribute("data-action");(0,a.default)(this).parent().toggleClass("disabled","CPRenameLayer"!==$a&&!n.isActionAllowed($a))});Fa=(0,a.default)(pa(Fa));(new bootstrap.Dropdown(Fa.get(0))).toggle()}}function za(ua){switch(na.state){case 2:(0,a.default)(na.layerElem).removeClass("chickenpaint-layer-dragging");na.dropTarget&&("inside"==na.dropTarget.direction?n.actionPerformed({action:"CPRelocateLayer",layer:na.layer,
toGroup:na.dropTarget.layer,toIndex:na.dropTarget.layer.layers.length}):n.actionPerformed({action:"CPRelocateLayer",layer:na.layer,toGroup:na.dropTarget.layer.parent,toIndex:na.dropTarget.layer.parent.indexOf(na.dropTarget.layer)+("over"==na.dropTarget.direction?1:0)}));na.dropTarget=null;na.state=0;Oa();break;default:na.state=0}Wa&&(clearTimeout(Wa),Wa=null);Da.releasePointerCapture(ua.pointerId);Da.removeEventListener("pointermove",yb);Da.removeEventListener("pointerup",za)}function Xa(){na.state=
2;na.frameElem=document.createElement("div");na.frameElem.className="chickenpaint-layer-drag-frame";na.frameElem.style.width=(0,a.default)(na.layerElem).outerWidth(!1)+"px";na.frameElem.style.height=(0,a.default)(na.layerElem).outerHeight(!1)+"px";na.dropBetweenMarkerElem=document.createElement("div");na.dropBetweenMarkerElem.className="chickenpaint-layer-drop-between-mark";na.layerElem.className+=" chickenpaint-layer-dragging";Da.appendChild(na.frameElem)}function yb(ua){ua=ua.clientY;switch(na.state){case 3:if(5<
Math.abs(ua-na.dragY))na.state=4;else break;case 4:bb.scrollTop=na.initialScrollTop+na.dragY-ua;break;case 1:if(5<Math.abs(ua-na.dragY))Xa();else break;case 2:na.dragY=ua,Oa()}}function Cb(ua,Fa,La){try{La?(0,a.default)(".chickenpaint-layer-mask-thumbnail",ua).replaceWith(ib(Fa)):(0,a.default)(".chickenpaint-layer-image-thumbnail",ua).replaceWith(ab(Fa))}catch(Ma){}}function Ia(){(0,a.default)(z).hasClass("show")&&((new bootstrap.Collapse(z)).hide(),(0,a.default)(z).collapse("hide").off("click"))}
var na={state:0,layer:null,layerElem:null,dragX:0,dragY:0,initialScrollTop:0,dropTarget:null,dropBetweenMarkerElem:null,frameElem:null},Ha=document.createElement("div"),Da=document.createElement("div"),bb=Da,rb=function(){var ua=document.createElement("div");ua.className="dropdown-menu";for(var Fa=0,La=[{title:"Rename...",action:"CPRenameLayer"},{require:["image-layer"],title:"Delete layer",action:"CPRemoveLayer"},{require:["layer-group"],title:"Delete group",action:"CPRemoveLayer"},{require:["image-layer",
"no-clipping-mask"],title:"Clip to the layer below",action:"CPCreateClippingMask"},{require:["image-layer","clipping-mask"],title:"Unclip from the layer below",action:"CPReleaseClippingMask"},{require:["no-mask"],title:"Add mask",action:"CPAddLayerMask"},{require:["mask"],title:"Delete mask",action:"CPRemoveLayerMask"},{require:["mask"],title:"Apply mask",action:"CPApplyLayerMask"},{require:["layer-group"],title:"Merge group",action:"CPGroupMerge"},{require:["mask-enabled"],title:"Disable mask",action:"CPSetMaskVisible",
actionData:{visible:"false"}},{require:["mask-disabled"],title:"Enable mask",action:"CPSetMaskVisible",actionData:{visible:"true"}}];Fa<La.length;Fa++){var Ma=La[Fa],Ca=document.createElement("a");Ca.className="dropdown-item";Ma.require&&(Ca.className=Ca.className+" "+Ma.require.map(function(Ka){return"chickenpaint-action-require-"+Ka}).join(" "));Ca.href="#";Ca.innerHTML=(0,f._)(Ma.title);Ca.setAttribute("data-action",Ma.action);if(Ma.actionData)for(var $a in Ma.actionData)Ma.actionData.hasOwnProperty($a)&&
Ca.setAttribute("data-action-"+$a,Ma.actionData[$a]);ua.appendChild(Ca)}return ua}(),vb=ba=0,Ra=null,sa=!1,Wa=null;this.buildLayers=function(){I=A.getLayersRoot().getLinearizedLayerList(!0);var ua=I.map(function(Ma,Ca){return T(Ca,Ma)}),Fa=document.createDocumentFragment();(0,a.default)(Da).empty();for(var La=ua.length-1;0<=La;La--)Fa.appendChild(ua[La]);Da.appendChild(Fa);Oa()};this.layerChanged=function(ua){var Fa=I.indexOf(ua),La=(0,a.default)(pa(Fa));0===La.length||ua instanceof h.default&&(ua.expanded!=
(0,a.default)(La).hasClass("chickenpaint-layer-group-expanded")||ua.visible!=(0,a.default)(La).hasClass("chickenpaint-layer-visible"))?this.buildLayers():La.replaceWith(T(Fa,ua))};this.setRotation90=function(ua){if(vb!=ua)for(vb=ua,ua=0;ua<I.length;ua++){var Fa=I[ua],La=(0,a.default)(pa(ua));0<La.length&&(Cb(La,Fa,!1),Fa.mask&&Cb(La,Fa,!0))}};this.layerImageThumbChanged=function(ua){var Fa=I.indexOf(ua);Fa=(0,a.default)(pa(Fa));0<Fa.length&&Cb(Fa,ua,!1)};this.layerMaskThumbChanged=function(ua){var Fa=
I.indexOf(ua);Fa=(0,a.default)(pa(Fa));0<Fa.length&&(ua.mask?Cb(Fa,ua,!0):(0,a.default)(".chickenpaint-layer-mask-thumbnail",Fa).remove())};this.activeLayerChanged=function(ua,Fa){(0,a.default)(".active",Da).removeClass("active");ua=(0,a.default)(pa(I.indexOf(ua)));ua.addClass("active");(0,a.default)(".chickenpaint-layer-image-thumbnail",ua).toggleClass("active",!Fa);(0,a.default)(".chickenpaint-layer-mask-thumbnail",ua).toggleClass("active",Fa)};this.resize=function(){C.dismissNotification();this.buildLayers()};
this.getElement=function(){return Ha};this.revealLayer=function(ua){ua=pa(ua);var Fa=ua.getBoundingClientRect(),La=Da.getBoundingClientRect();bb.scrollTop=Math.max(Math.min(Math.max(bb.scrollTop,bb.scrollTop+Fa.bottom-La.bottom),bb.scrollTop+Fa.top-La.top),0);return ua};z.id="chickenpaint-layer-pop";Ha.className="chickenpaint-layers-widget well";Ha.addEventListener("contextmenu",function(ua){return ua.preventDefault()},!0);rb.addEventListener("click",function(ua){var Fa=ua.target.getAttribute("data-action");
if(Fa){ua.preventDefault();Ia();n.actionPerformed({action:"CPSetActiveLayer",layer:Ra,mask:A.isEditingMask()});var La={action:Fa,layer:Ra};ua=ua.target.attributes;for(var Ma=0;Ma<ua.length;Ma++){var Ca=ua[Ma].name.match(/^data-action-(.+)/);Ca&&(La[Ca[1]]=JSON.parse(ua[Ma].value))}"CPRenameLayer"===Fa?Z(I.indexOf(Ra)):n.actionPerformed(La)}});Da.className="list-group";Da.addEventListener("dblclick",function(ua){0===ua.button&&0<(0,a.default)(ua.target).closest(".chickenpaint-layer-description").length&&
0===(0,a.default)(ua.target).closest("input").length&&(Z(ya(ua.target)),ua.preventDefault())});Da.addEventListener("pointerdown",function(ua){var Fa=(0,a.default)(ua.target).closest(".chickenpaint-layer")[0];Fa=ya(Fa);if(-1!=Fa){var La=I[Fa];if(0==ua.button&&(0,a.default)(ua.target).closest(".chickenpaint-layer-eye").length)n.actionPerformed({action:"CPSetLayerVisibility",layer:La,visible:!La.visible});else if(0==ua.button&&La instanceof h.default&&(0,a.default)(ua.target).closest(".chickenpaint-layer-group-toggle").length)n.actionPerformed({action:"CPExpandLayerGroup",
group:La,expand:!La.expanded});else{var Ma=A.getActiveLayer()!=La;sa=0<(0,a.default)(ua.target).closest(".chickenpaint-layer-mask-thumbnail").length||La instanceof h.default&&null!==La.mask&&Ma;if(0==ua.button&&ua.shiftKey&&sa)n.actionPerformed({action:"CPSetMaskVisible",layer:La,visible:!La.maskVisible});else{var Ca=0==ua.button||Ma?sa:A.isEditingMask();var $a=A.isEditingMask()!=Ca;(Ma||$a)&&n.actionPerformed({action:"CPSetActiveLayer",layer:La,mask:Ca});Ca&&ua.altKey?n.actionPerformed({action:"CPToggleMaskView"}):
0==ua.button?("pen"===ua.pointerType||"touch"===ua.pointerType?(na.state=3,na.initialScrollTop=bb.scrollTop,Wa&&clearTimeout(Wa),Wa=setTimeout(function(){3===na.state&&(Xa(),na.dragY=ua.clientY,Oa())},800)):na.state=1,na.dropTarget=null,na.layer=La,na.layerElem=pa(Fa),na.dragX=ua.clientX,na.dragY=ua.clientY,Da.setPointerCapture(ua.pointerId),Da.addEventListener("pointermove",yb),Da.addEventListener("pointerup",za)):2==ua.button&&(ua.preventDefault(),qa(ua))}}}});Da.setAttribute("touch-action","none");
for(var pb=0,Ta=["ontouchstart","ontouchmove","ontouchend","ontouchcancel"];pb<Ta.length;pb++)Da.addEventListener(Ta[pb],k);Ha.appendChild(Da);Ha.appendChild(rb);(0,a.default)(z).on("show.bs.dropdown",function(ua){var Fa=(0,a.default)(ua.relatedTarget)[0];ua=(0,a.default)(z).find(".dropdown-menu");Fa=Fa.getBoundingClientRect();var La=z.getBoundingClientRect();ua.css({left:ba-ua.outerWidth(!0)-La.left+1+"px",top:Fa.top-ua.outerHeight(!0)/2-La.top+"px"});(0,a.default)(document).on("click",ta)})},H=
new r.default(0,100),J=document.createElement("select"),K=new function(){var ba=null,ta="",pa=document.createElement("input"),ya=this;this.hide=function(){ba=null;var ka=(0,a.default)(pa).parent();ka&&((0,a.default)(pa).remove(),ka.text(ta))};this.renameAndHide=function(){ba&&ba.name!=pa.value&&n.actionPerformed({action:"CPSetLayerName",layer:ba,name:pa.value});this.hide()};this.show=function(ka,Oa){ba=ka;ta=ba.name;pa.value=ta;(0,a.default)(".chickenpaint-layer-name",Oa).empty().append(pa);pa.select()};
pa.type="text";pa.className="chickenpaint-layer-rename form-control input-sm";pa.addEventListener("keydown",function(ka){ka.stopPropagation()});pa.addEventListener("keypress",function(ka){"Enter"===ka.key&&ya.renameAndHide();ka.stopPropagation()});pa.addEventListener("keyup",function(ka){"Escape"===ka.key&&ya.hide();ka.stopPropagation()});pa.addEventListener("blur",function(ka){ba&&ya.renameAndHide()})},S=document.createElement("input"),da=document.createElement("input"),Y=!1,ra=this.setSize,ma=this.setWidth,
Q=this.setHeight;this.setSize=function(ba,ta){ra.call(this,ba,ta);this.dismissNotification();H.resize()};this.setWidth=function(ba){ma.call(this,ba);H.resize();G.resize()};this.setHeight=function(ba){Q.call(this,ba);G.resize()};this.setRotation90=function(ba){G.setRotation90(ba)};this.dismissNotification=function(){(0,a.default)(".chickenpaint-layer[aria-describedby],.chickenpaint-slider[aria-describedby]",O).each(function(ba,ta){ta=(0,a.default)(ta);(ba=bootstrap.Popover.getInstance(ta[0]))&&ba.dispose()});
Y&&(clearTimeout(Y),Y=!1)};this.showNotification=function(ba,ta,pa){var ya=I.indexOf(ba);ba=A.getActiveLayer()==ba&&"opacity"==pa?H.getElement():G.revealLayer(ya);B.dismissNotification();(new bootstrap.Popover(ba,{html:!1,content:ta,placement:"left",trigger:"manual",fallbackPlacement:[],boundary:"window",container:C.getElement()})).show();Y=setTimeout(function(){Y=!1;B.dismissNotification()},Math.max(Math.round(70*ta.length),3E3))};J.className="form-control form-control-sm";J.title=(0,f._)("Layer blending mode");
J.addEventListener("change",function(ba){n.actionPerformed({action:"CPSetLayerBlendMode",blendMode:parseInt(J.value,10)})});O.appendChild(J);H.title=function(ba){return(0,f._)("Opacity")+": "+ba+"%"};H.on("valueChange",function(ba){n.actionPerformed({action:"CPSetLayerAlpha",alpha:ba})});O.appendChild(H.getElement());S.id="chickenpaint-chk-sample-all-layers";S.type="checkbox";S.addEventListener("click",function(ba){A.setSampleAllLayers(S.checked)});O.appendChild(b(S,(0,f._)("Sample all layers")));
da.id="chickenpaint-chk-lock-alpha";da.type="checkbox";da.addEventListener("click",function(ba){n.actionPerformed({action:"CPSetLayerLockAlpha",lock:da.checked})});O.appendChild(b(da,(0,f._)("Lock transparency")));O.appendChild(G.getElement());var ia=function(){var ba=[{title:"Add layer",icon:v("fa-file"),action:"CPAddLayer"},{title:"Add group",icon:v("fa-folder"),action:"CPAddGroup"},{title:"Add layer mask",icon:E("mask"),action:"CPAddLayerMask"},{title:"Clip to the layer below",icon:v("fa-level-down-alt fa-flip-horizontal"),
action:"CPCreateClippingMask",require:"no-clipping-mask-or-is-group"},{title:"Unclip from the layer below",icon:v("fa-level-down-alt fa-flip-horizontal"),action:"CPReleaseClippingMask",require:"clipping-mask"},{title:"Delete layer",icon:v("fa-trash"),action:"CPRemoveLayer"}],ta=document.createElement("ul");ta.className="chickenpaint-layer-buttons list-unstyled";for(var pa=function(){var Oa=ka[ya],ab=document.createElement("li");ab.setAttribute("data-action",Oa.action);ab.className="chickenpaint-small-toolbar-button "+
(Oa.require?"chickenpaint-action-require-"+Oa.require:"");ab.title=(0,f._)(Oa.title);ab.appendChild(Oa.icon);ab.addEventListener("click",function(){n.actionPerformed({action:Oa.action})});ta.appendChild(ab)},ya=0,ka=ba;ya<ka.length;ya++)pa();return ta}();O.appendChild(ia);A.on("changeActiveLayer",function(ba,ta,pa){G.activeLayerChanged(ta,pa);p()});A.on("changeLayer",function(ba){A=this;C.dismissNotification();G.layerChanged(ba);p()});A.on("changeStructure",u);A.on("changeLayerMaskThumb",function(ba){A=
this;G.layerMaskThumbChanged(ba)});A.on("changeLayerImageThumb",function(ba){A=this;G.layerImageThumbChanged(ba)});n.on("layerNotification",this.showNotification.bind(this));u.call(A)}Object.defineProperty(D,"__esModule",{value:!0});D.default=x;var a=y(g("jquery")),m=y(g("./CPPalette.js")),q=y(g("../engine/CPBlend.js")),r=y(g("./CPSlider.js")),h=y(g("../engine/CPLayerGroup.js"));y(g("../engine/CPLayer.js"));var c=y(g("../engine/CPImageLayer.js")),f=g("../languages/lang.js");x.prototype=Object.create(m.default.prototype);
x.prototype.constructor=x;L.exports=D.default},{"../engine/CPBlend.js":5,"../engine/CPImageLayer.js":15,"../engine/CPLayer.js":16,"../engine/CPLayerGroup.js":17,"../languages/lang.js":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296}],36:[function(g,L,D){function y(x){return x&&x.__esModule?x:{default:x}}function k(x,a){var m=this,q=document.createElement("div"),r=new E.default(x),h=new b.default(x),c=!1,f=this;this.togglePalettes=function(){h.togglePalettes()};this.arrangePalettes=function(){setTimeout(h.arrangePalettes.bind(h),
0)};this.constrainPalettes=function(){h.constrainPalettes()};this.showPalette=function(e,p){h.showPaletteByName(e,p)};this.getSwatches=function(){return h.palettes.swatches.getSwatches()};this.setSwatches=function(e){h.palettes.swatches.setSwatches(e)};this.getPaletteManager=function(){return h};this.setRotation90=function(e){r.setRotation(e*Math.PI/2);h.palettes.layers.setRotation90(e)};this.setFullScreenMode=function(e){c!==e&&(c=e,f.resize(),f.arrangePalettes())};this.resize=function(){var e=(0,v.default)(window).height(),
p=(0,v.default)(n.getElement()).outerHeight();r.resize(c?e-p:Math.min(Math.max(e-p-65,500),850),!1);f.constrainPalettes()};var n=new d.default(x,this);a.appendChild(n.getElement());q.className="chickenpaint-main-section";q.appendChild(r.getElement());q.appendChild(h.getElement());a.appendChild(q);r.on("canvasRotated90",function(e){h.palettes.layers.setRotation90(e)});window.addEventListener("resize",this.resize.bind(this));x.on("fullScreen",function(e){return m.setFullScreenMode(e)});x.on("toolbarStyleChange",
function(e){(0,v.default)(a).toggleClass("chickenpaint-toolbar-style-old","old"===e)});x.on("unsavedChanges",function(e){(0,v.default)(a).toggleClass("chickenpaint-unsaved",e)});setTimeout(this.resize.bind(this),0)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("./CPCanvas.js")),b=y(g("./CPPaletteManager.js")),d=y(g("./CPMainMenu.js"));g=y(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;L.exports=D.default},
{"./CPCanvas.js":26,"./CPMainMenu.js":37,"./CPPaletteManager.js":40,jquery:296,"wolfy87-eventemitter":314}],37:[function(g,L,D){function y(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(d,x){function a(n){var e=n.data("action"),p=n.data("checkbox");d.isActionAllowed(e)&&(p?(n.toggleClass("selected"),n=n.hasClass("selected")):n=!1,d.actionPerformed({action:e,checkbox:p,selected:n}))}function m(n){n=n.toUpperCase();n=n.replace(/(,.+)$/,"");
n=n.replace("ctrl+=","ctrl++");n=n.replace("\u2318+=","\u2318++");return n=h?n.replace(/([^+])\+/g,"$1"):n.replace(/([^+])\+/g,"$1 ")}function q(n){(0,k.default)("[data-action]",n).each(function(){var B=(0,k.default)(this),C=this.getAttribute("data-action");C=d.isActionAllowed(C);B.toggleClass("disabled",!C).toggleClass("hidden",!C&&!0===B.data("hideIfNotAvailable"))});(0,k.default)(".dropdown-divider",n).removeClass("hidden");n=(0,k.default)(".dropdown-item:not(.hidden),.dropdown-divider:not(.hidden)",
n);for(var e=null,p=0;p<n.length;p++){var u=(0,k.default)(n[p]);u.hasClass("dropdown-divider")?0===p||e?u.addClass("hidden"):e=u:e=null}e&&e.addClass("hidden")}var r=(0,k.default)('<nav class="navbar navbar-expand-md navbar-light bg-light"><a class="navbar-brand" href="#">ChickenPaint</a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#chickenpaint-main-menu-content" aria-controls="chickenpaint-main-menu-content" aria-expanded="false" aria-label="Toggle main menu"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="chickenpaint-main-menu-content"><ul class="navbar-nav mr-auto"></ul></div><div class="widget-nav" id="chickenpaint-palette-toggler-content"></div></nav>'),
h=/^Mac/i.test(navigator.platform);this.getElement=function(){return r[0]};(function(n,e){n.append(e.map(function(p){var u=(0,k.default)('<li class="nav-item dropdown"><a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">'+(0,E._)(p.name)+'</a><div class="dropdown-menu"></div></li>'),B=(0,k.default)(".dropdown-toggle",u),C=(0,k.default)(".dropdown-menu",u),A=new bootstrap.Dropdown(B[0]);u.on("show.bs.dropdown",function(){q(u);
(0,k.default)(document).one("click",function(){C.hasClass("show")&&A.hide()})});C.append(p.children.map(function(I){if(!I.action||d.isActionSupported(I.action)){"CPSend"!=I.action||d.isActionSupported("CPContinue")||(I.name=(0,E._)("Post Oekaki"),I.shortcut="ctrl+p");if("-"==I.name)var O=(0,k.default)('<hr class="dropdown-divider"></hr>');else O=(0,k.default)('<a class="dropdown-item" href="#" data-action="'+I.action+'"><span>'+(0,E._)(I.name)+"</span></a>"),I.checkbox&&O.data("checkbox",!0).toggleClass("selected",
!!I.checked),I.hideIfNotAvailable&&O.data("hideIfNotAvailable",!0);I.title&&O.attr("title",(0,E._)(I.title));if(I.shortcut){var z=O,G=document.createElement("small");h&&(I.shortcut=I.shortcut.replace(/SHIFT/im,"\u21e7"),I.shortcut=I.shortcut.replace(/ALT/im,"\u2325"),I.shortcut=I.shortcut.replace(/CTRL/im,"\u2318"));G.className="chickenpaint-shortcut";G.innerHTML=m(I.shortcut);z.append(G);(0,v.default)(I.shortcut,function(H){a(z);H.preventDefault();H.stopPropagation();return!1})}return O}}));return u}))})((0,k.default)(".navbar-nav",
r),b);(function(n,e){n.append(e.filter(function(p){return!!p.mnemonic&&d.isActionSupported(p.action)}).map(function(p){var u=(0,k.default)('<button class="widget-toggler selected" type="button" data-action="'.concat(p.action,'" data-checkbox="true" data-selected="').concat(!p.checked,'">')+"<span>"+p.mnemonic+"</span></button>");u.on("click",function(B){a(u);B.preventDefault()});return u}))})((0,k.default)(".widget-nav",r),b[5].children);(0,k.default)(r).on("click","a:not(.dropdown-toggle)",function(n){a((0,k.default)(this));
n.preventDefault()});(0,k.default)(".navbar-toggler",r).on("click",function(n){n.preventDefault()});x.getPaletteManager().on("paletteVisChange",function(n,e){(0,k.default)('[data-action="CPPal'+n.substring(0,1).toUpperCase()+n.substring(1)+'"]',r).toggleClass("selected",e)});var c=(0,k.default)(".dropdown-item[data-action=CPFullScreen]",r),f=(0,k.default)(".dropdown-item[data-action=CPToolbarStyle]",r);d.on("fullScreen",function(n){return c.toggleClass("selected",n)});c.toggleClass("selected",d.isFullScreen());
d.on("toolbarStyleChange",function(n){return f.toggleClass("selected","old"===n)});f.toggleClass("selected","old"===d.getToolbarStyle())};var k=y(g("jquery")),v=y(g("../../lib/keymaster.js")),E=g("../languages/lang.js"),b=[{name:"File",mnemonic:"F",children:[{name:"Save to my computer",action:"CPSave",mnemonic:"S",shortcut:"ctrl+s"},{name:"Save Oekaki",action:"CPSend",mnemonic:"S",shortcut:"ctrl+s"}]},{name:"Edit",mnemonic:"E",children:[{name:"Undo",action:"CPUndo",mnemonic:"U",shortcut:"ctrl+z",
title:"Undoes the most recent action"},{name:"Redo",action:"CPRedo",mnemonic:"R",shortcut:"shift+ctrl+z",title:"Redoes a previously undone action"},{name:"Clear history",action:"CPClearHistory",mnemonic:"H",title:"Removes all undo/redo information to regain memory"},{name:"-"},{name:"Cut",action:"CPCut",mnemonic:"T",shortcut:"ctrl+x"},{name:"Copy",action:"CPCopy",mnemonic:"C",shortcut:"ctrl+c"},{name:"Copy merged",action:"CPCopyMerged",mnemonic:"Y",shortcut:"shift+ctrl+c"},{name:"Paste",action:"CPPaste",
mnemonic:"P",shortcut:"ctrl+v"},{name:"-"},{name:"Select all",action:"CPSelectAll",mnemonic:"A",shortcut:"ctrl+a"},{name:"Deselect",action:"CPDeselectAll",mnemonic:"D",shortcut:"ctrl+d"},{name:"-"},{name:"Transform",action:"CPTransform",mnemonic:"T",shortcut:"ctrl+y"}]},{name:"Layers",mnemonic:"L",children:[{name:"Duplicate",action:"CPLayerDuplicate",mnemonic:"D",shortcut:"shift+ctrl+d",title:"Creates a copy of the currently selected layer"},{name:"-"},{name:"Merge down",action:"CPLayerMergeDown",
mnemonic:"E",shortcut:"ctrl+e",title:"Merges the currently selected layer with the one directly below it"},{name:"Merge group",action:"CPGroupMerge",mnemonic:"G",title:"Merges the contents of the selected group"},{name:"Merge all layers",action:"CPLayerMergeAll",mnemonic:"A",title:"Merges all the layers"},{name:"-"},{hideIfNotAvailable:!0,name:"Add layer mask",action:"CPAddLayerMask"},{hideIfNotAvailable:!0,name:"Delete layer mask",action:"CPRemoveLayerMask"},{hideIfNotAvailable:!0,name:"Apply layer mask",
action:"CPApplyLayerMask"},{name:"-"},{hideIfNotAvailable:!0,name:"Clip to the layer below",action:"CPCreateClippingMask"},{hideIfNotAvailable:!0,name:"Unclip from the layer below",action:"CPReleaseClippingMask"}]},{name:"Effects",mnemonic:"E",children:[{name:"Clear",action:"CPClear",mnemonic:"D",shortcut:"del,backspace",title:"Clears the selected area"},{name:"Fill",action:"CPFill",mnemonic:"F",shortcut:"ctrl+f",title:"Fills the selected area with the current color"},{name:"Flip horizontal",action:"CPHFlip",
mnemonic:"H",shortcut:"h",title:"Flips the current selected area horizontally"},{name:"Flip vertical",action:"CPVFlip",mnemonic:"V",title:"Flips the current selected area vertically"},{name:"Invert",action:"CPFXInvert",mnemonic:"I",title:"Invert the image colors"},{name:"-"},{name:"Box blur...",action:"CPFXBoxBlur",mnemonic:"B",title:"Blur effect"},{name:"-"},{name:"Monochromatic noise",action:"CPMNoise",mnemonic:"M",title:"Fills the selection with noise"},{name:"Color noise",action:"CPCNoise",mnemonic:"C",
title:"Fills the selection with colored noise"}]},{name:"View",mnemonic:"V",children:[{name:"Full-screen mode",action:"CPFullScreen",mnemonic:"F",checkbox:!0,checked:!1},{name:"Zoom in",action:"CPZoomIn",mnemonic:"I",shortcut:"ctrl+=",title:"Zooms in"},{name:"Zoom out",action:"CPZoomOut",mnemonic:"O",shortcut:"ctrl+-",title:"Zooms out"},{name:"Zoom 100%",action:"CPZoom100",mnemonic:"1",shortcut:"ctrl+0",title:"Resets the zoom factor to 100%"},{action:"CPLinearInterpolation",name:"-"},{name:"Smooth-out zoomed canvas",
action:"CPLinearInterpolation",mnemonic:"L",title:"Linear interpolation is used to give a smoothed looked to the picture when zoomed in",checkbox:!0},{name:"-"},{name:"Show grid",action:"CPToggleGrid",mnemonic:"G",shortcut:"ctrl+g",title:"Displays a grid over the image",checkbox:!0,checked:!1},{name:"Grid options...",action:"CPGridOptions",mnemonic:"D",title:"Shows the grid options dialog box"}]},{name:"Palettes",mnemonic:"P",children:[{name:"Rearrange",action:"CPArrangePalettes",title:"Rearrange the palette windows"},
{name:"Toggle palettes",action:"CPTogglePalettes",mnemonic:"P",shortcut:"tab",title:"Hides or shows all palettes"},{name:"Use old icons",action:"CPToolbarStyle",checkbox:!0,checked:!1},{name:"-"},{name:"Show tools",action:"CPPalTool",mnemonic:"T",checkbox:!0,checked:!0},{name:"Show color",action:"CPPalColor",mnemonic:"C",checkbox:!0,checked:!0},{name:"Show stroke",action:"CPPalStroke",mnemonic:"S",checkbox:!0,checked:!0},{name:"Show misc",action:"CPPalMisc",mnemonic:"M",checkbox:!0,checked:!0},{name:"Show swatches",
action:"CPPalSwatches",mnemonic:"W",checkbox:!0,checked:!0},{name:"Show textures",action:"CPPalTextures",mnemonic:"X",checkbox:!0,checked:!0},{name:"Show tool options",action:"CPPalBrush",mnemonic:"B",checkbox:!0,checked:!0},{name:"Show layers",action:"CPPalLayers",mnemonic:"L",checkbox:!0,checked:!0}]},{name:"Help",mnemonic:"H",children:[{name:"Tablet support",mnemonic:"T",action:"CPTabletSupport",title:"Help with getting a drawing tablet working"},{name:"Shortcuts",mnemonic:"S",action:"CPShortcuts",
title:"List of keyboard and mouse shortcuts"},{name:"-"},{name:"About",mnemonic:"A",action:"CPAbout",title:"Displays some information about ChickenPaint"}]}];L.exports=D.default},{"../../lib/keymaster.js":68,"../languages/lang.js":54,jquery:296}],38:[function(g,L,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d){E.default.call(this,d,"misc","Misc");var x=this,a=[{className:"chickenpaint-tool-zoom-in",command:"CPZoomIn",toolTip:"Zoom in"},{className:"chickenpaint-tool-zoom-out",command:"CPZoomOut",
toolTip:"Zoom out"},{className:"chickenpaint-tool-zoom-100",command:"CPZoom100",toolTip:"Zoom 100%"},{className:"chickenpaint-tool-undo",command:"CPUndo",toolTip:"Undo"},{className:"chickenpaint-tool-redo",command:"CPRedo",toolTip:"Redo"},{className:"chickenpaint-tool-send",command:"CPSend",toolTip:"Save Oekaki"}];(function(){var m=x.getBodyElement(),q=document.createElement("ul");q.className="chickenpaint-misc-tools list-unstyled";for(var r in a){var h=a[r],c=document.createElement("li"),f=document.createElement("div");
"CPSend"!=h.command||d.isActionSupported("CPContinue")||(h.toolTip="Post Oekaki",h.className="chickenpaint-tool-send-and-end");c.className="chickenpaint-toolbar-button "+h.className;c.setAttribute("data-buttonIndex",r);c.setAttribute("title",(0,b._)(h.toolTip));f.className="chickenpaint-toolbar-button-icon";c.appendChild(f);q.appendChild(c)}(0,v.default)(q).on("mousedown","li",function(n){(0,v.default)(this).addClass("selected")}).on("mouseup","li",function(n){(0,v.default)(this).removeClass("selected")}).on("click",
"li",function(n){n=a[parseInt(this.getAttribute("data-buttonIndex"),10)];d.actionPerformed({action:n.command})});m.appendChild(q)})()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("./CPPalette.js")),b=g("../languages/lang.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;L.exports=D.default},{"../languages/lang.js":54,"./CPPalette.js":39,jquery:296}],39:[function(g,L,D){function y(x){return x&&x.__esModule?x:{default:x}}function k(x,
a,m,q){var r,h,c,f;function n(da){"vertResize"==J&&K.setHeight(da.pageY-(0,v.default)(A).offset().top)}function e(da){G.releasePointerCapture(da.pointerId);J=!1}function p(da){J="vertResize";G.setPointerCapture(da.pointerId)}function u(da){"horzResize"==J&&K.setWidth(da.pageX-(0,v.default)(A).offset().left)}function B(da){H.releasePointerCapture(da.pointerId);J=!1}function C(da){J="horzResize";H.setPointerCapture(da.pointerId)}x.getSmallScreenMode()&&(0,b._)(m+" (shorter)")!==m+" (shorter)"?this.title=
(0,b._)(m+" (shorter)"):this.title=(0,b._)(m);q=q||{};this.name=a;this.resizeVert=q.resizeVert||!1;this.resizeHorz=q.resizeHorz||!1;var A=document.createElement("div");m=document.createElement("div");var I=document.createElement("i"),O=document.createElement("button"),z=document.createElement("div"),G=null,H=null,J,K=this;this.getElement=function(){return A};this.getBodyElement=function(){return z};this.getWidth=function(){return(0,v.default)(A).outerWidth()};this.getHeight=function(){return(0,v.default)(A).outerHeight()};
this.getX=function(){return parseInt(A.style.left,10)||0};this.getY=function(){return parseInt(A.style.top,10)||0};this.setLocation=function(da,Y){A.style.left=da+"px";A.style.top=Y+"px"};this.setWidth=function(da){A.style.width=da+"px"};this.setHeight=function(da){A.style.height=da+"px"};this.setSize=function(da,Y){this.setWidth(da);this.setHeight(Y)};this.setCollapseDownwards=function(da){q.collapseDownwards=da};this.toggleCollapse=function(da){var Y=(0,v.default)(A);if(void 0===da)da=!Y.hasClass("collapsed");
else if(Y.hasClass("collapsed")==da)return;var ra=Y.parents(".chickenpaint").find(".chickenpaint-canvas").height(),ma=this.getHeight();ma=this.getY()+ma;Y.toggleClass("collapsed",da);(0,v.default)(I).toggleClass("fa-angle-down",!da).toggleClass("fa-angle-up",da);da?q.collapseDownwards&&this.setLocation(this.getX(),Math.min(ma,ra)-this.getHeight()):(da=this.getHeight(),q.collapseDownwards?this.setLocation(this.getX(),Math.max(ma-da,0)):this.getY()+da>ra&&this.setLocation(this.getX(),Math.max(ra-da,
0)))};this.userIsDoneWithUs=function(){x.getSmallScreenMode()&&this.toggleCollapse(!0)};I.className="collapse-icon fas fa-angle-down";O.type="button";O.className="btn btn-close";O.innerHTML="";A.className="chickenpaint-palette chickenpaint-palette-"+a;m.className="chickenpaint-palette-head";m.setAttribute("touch-action","none");a=document.createElement("div");var S=document.createElement("h5");a.className="modal-header";S.className="modal-title";S.appendChild(document.createTextNode(this.title));
S.appendChild(I);a.appendChild(S);a.appendChild(O);m.appendChild(a);z.className="chickenpaint-palette-body";A.appendChild(m);A.appendChild(z);this.resizeVert&&(G=document.createElement("div"),G.className="chickenpaint-resize-handle-vert",G.addEventListener("pointerdown",p),G.addEventListener("pointermove",n),G.addEventListener("pointerup",e),A.appendChild(G));this.resizeHorz&&(H=document.createElement("div"),H.className="chickenpaint-resize-handle-horz",H.addEventListener("pointerdown",C),H.addEventListener("pointermove",
u),H.addEventListener("pointerup",B),A.appendChild(H));m.addEventListener("pointerdown",function(da){0==da.button&&(da.stopPropagation(),da.preventDefault(),"BUTTON"==da.target.nodeName?K.emitEvent("paletteVisChange",[K,!1]):(c=parseInt(A.style.left,10)||0,f=parseInt(A.style.top,10)||0,r=da.pageX-(0,v.default)(A).position().left,h=da.pageY-(0,v.default)(A).position().top,J=x.getSmallScreenMode()?"dragStart":"dragging",da.target.setPointerCapture(da.pointerId)))});m.addEventListener("pointermove",
function(da){if(("dragStart"===J||"dragging"===J)&&0!==da.buttons){var Y=da.pageX-r;da=da.pageY-h;"dragStart"==J&&(Y-c)*(Y-c)+(da-f)*(da-f)>d*d&&(J="dragging");"dragging"==J&&K.setLocation(Y,da)}});m.addEventListener("pointerup",function(da){if("dragging"===J||"dragStart"===J){"dragStart"===J&&(da.stopPropagation(),da.preventDefault(),setTimeout(function(){K.setLocation(c,f);K.toggleCollapse()},100));J=!1;try{da.target.releasePointerCapture(da.pointerId)}catch(Y){console.error(Y)}}})}Object.defineProperty(D,
"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("wolfy87-eventemitter")),b=g("../languages/lang"),d=5;k.prototype=Object.create(E.default.prototype);k.prototype.constructor=E.default;L.exports=D.default},{"../languages/lang":54,jquery:296,"wolfy87-eventemitter":314}],40:[function(g,L,D){function y(c){return c&&c.__esModule?c:{default:c}}function k(c){function f(){var J=(0,v.default)(B).parents(".chickenpaint").find(".chickenpaint-canvas");return{width:J.width(),height:J.height()}}
function n(J,K){var S=J.getElement();K?B.contains(S)||B.appendChild(S):B.contains(S)&&B.removeChild(S);C.emitEvent("paletteVisChange",[J.name,K])}var e={tool:new b.default(c),misc:new d.default(c),stroke:new x.default(c),color:new a.default(c),brush:new m.default(c),layers:new q.default(c),textures:new r.default(c),swatches:new h.default(c)},p={tool:!1,color:!1,misc:!1},u={color:!0,textures:!0,layers:!0},B=document.createElement("div"),C=this,A=[],I=[];this.palettes=e;this.showPaletteByName=function(J,
K){(J=e[J])&&n(J,K)};this.togglePalettes=function(){if(0==I.length)(0,v.default)("> .chickenpaint-palette",B).each(function(){C.showPaletteByName(this.getAttribute("data-paletteName"),!1);I.push(this)});else{for(var J=0;J<I.length;J++)C.showPaletteByName(I[J].getAttribute("data-paletteName"),!0);I=[]}};this.constrainPalettes=function(){var J=f();for(S in e){var K=e[S];K.getX()+K.getWidth()/2>J.width&&K.setLocation(J.width-K.getWidth(),K.getY());K.getY()+K.getHeight()/2>J.height&&K.setLocation(K.getX(),
J.height-K.getHeight())}var S=0<J.width-e.tool.getWidth()-e.misc.getWidth()-e.stroke.getWidth()-e.color.getWidth()-e.brush.getWidth()-15;e.swatches.getX()+e.swatches.getWidth()==e.brush.getX()+e.brush.getWidth()&&20>Math.abs(e.swatches.getY()-e.brush.getY())&&e.swatches.setLocation(e.brush.getX()-e.swatches.getWidth()-(S?5:1),0);e.layers.getY()+e.layers.getHeight()>J.height&&e.layers.setHeight(Math.max(J.height-e.layers.getY(),200))};this.arrangePalettes=function(){var J=f();if(c.getSmallScreenMode())e.tool.setLocation(0,
0),e.misc.setLocation(e.tool.getX()+e.tool.getWidth()+1,0),e.brush.setLocation(J.width-e.brush.getWidth()-15,e.misc.getY()+e.misc.getHeight()+1),e.textures.setWidth(J.width-e.textures.getX()),e.layers.setLocation(e.brush.getX()+e.brush.getWidth()-e.layers.getWidth(),e.textures.getY()-e.layers.getHeight()),e.layers.setHeight(e.textures.getY()-330-1),e.stroke.setLocation(e.misc.getX(),e.misc.getY()+e.misc.getHeight()+1),e.swatches.setLocation(e.stroke.getX(),e.stroke.getY()+e.stroke.getHeight()+1);
else{var K=0<J.width-e.tool.getWidth()-e.misc.getWidth()-e.stroke.getWidth()-e.color.getWidth()-e.brush.getWidth()-15;e.brush.setLocation(J.width-e.brush.getWidth()-15,0);var S=e.brush.getY()+e.brush.getHeight();S=300<J.height-S?S+2:S;e.layers.setSize(e.brush.getWidth()+(K?30:0),J.height-S);e.layers.setLocation(e.brush.getX()+e.brush.getWidth()-e.layers.getWidth(),S);e.tool.setLocation(0,0);e.misc.setLocation(e.tool.getX()+e.tool.getWidth()+(K?5:1),0);K?e.stroke.setLocation(e.misc.getX()+e.misc.getWidth()+
(K?5:1),0):e.stroke.setLocation(e.misc.getX(),e.misc.getY()+e.misc.getHeight()+1);e.swatches.setLocation(Math.max(e.brush.getX()-e.swatches.getWidth()-(K?5:1),e.tool.getX()+e.tool.getWidth()),0);e.textures.setWidth(Math.min(e.layers.getX()-e.textures.getX(),490))}e.textures.setLocation(e.color.getX()+e.color.getWidth()+4,J.height-e.textures.getHeight());e.color.setLocation(0,Math.max(e.tool.getY()+e.tool.getHeight(),J.height-e.color.getHeight()))};c.on("smallScreen",function(J){if(J)for(var K in e)e[K].toggleCollapse(J&&
(!(K in p)||p[K]))});this.getElement=function(){return B};B.className="chickenpaint-palettes";for(var O in e){var z=e[O],G=z.getElement();z.on("paletteVisChange",function(){n(this,!1)});O in u&&z.setCollapseDownwards(!0);G.setAttribute("data-paletteName",O);A.push(G)}for(var H in e)u=e[H].getElement(),B.appendChild(u)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("wolfy87-eventemitter")),b=y(g("./CPToolPalette.js")),d=y(g("./CPMiscPalette.js")),x=y(g("./CPStrokePalette.js")),
a=y(g("./CPColorPalette.js")),m=y(g("./CPBrushPalette.js")),q=y(g("./CPLayersPalette.js")),r=y(g("./CPTexturePalette.js")),h=y(g("./CPSwatchesPalette.js"));k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;L.exports=D.default},{"./CPBrushPalette.js":25,"./CPColorPalette.js":28,"./CPLayersPalette.js":35,"./CPMiscPalette.js":38,"./CPStrokePalette.js":46,"./CPSwatchesPalette.js":47,"./CPTexturePalette.js":49,"./CPToolPalette.js":50,jquery:296,"wolfy87-eventemitter":314}],41:[function(g,
L,D){function y(E){return E&&E.__esModule?E:{default:E}}function k(E){function b(){var B=E?(0,v.default)(d).height():(0,v.default)(d).width();n=h/(q-m)*B;B=(r-m)/(q-m)*(B-n);a.style[E?"height":"width"]=n+"px";x.style[E?"height":"width"]=n+"px";x.style[E?"top":"left"]=B+"px"}var d=document.createElement("div"),x=document.createElement("div"),a=document.createElement("div"),m=0,q=1,r=0,h=1,c=10,f=!1,n=1,e=!1,p,u=this;this.setValues=function(B,C,A,I){r=B;h=C;m=A;q=I;b()};this.setBlockIncrement=function(B){c=
B};this.setUnitIncrement=function(B){};this.getElement=function(){return d};this.getValueIsAdjusting=function(){return f};d.className="chickenpaint-scrollbar "+(E?"chickenpaint-scrollbar-vertical":"chickenpaint-scrollbar-horizontal");x.className="chickenpaint-scrollbar-handle";x.setAttribute("touch-action","none");a.className="chickenpaint-scrollbar-handle-inner";x.appendChild(a);d.appendChild(x);x.addEventListener("pointerdown",function(B){B.stopPropagation();p=E?B.pageY-(0,v.default)(d).offset().top:
B.pageX-(0,v.default)(d).offset().left;x.setPointerCapture(B.pointerId);(0,v.default)(x).addClass("dragging");e=!0});x.addEventListener("pointermove",function(B){if(e){f=!0;var C=E?(0,v.default)(d).height():(0,v.default)(d).width();B=E?B.pageY-(0,v.default)(d).offset().top:B.pageX-(0,v.default)(d).offset().left;r+=(B-p)*(q-m)/(C-n);r=Math.min(Math.max(r,m),q);p=B;u.emitEvent("valueChanged",[r]);b();f=!1}});x.addEventListener("pointerup",function(B){B.stopPropagation();if(e){try{x.releasePointerCapture(B.pointerId)}catch(C){}(0,v.default)(x).removeClass("dragging");
e=!1}});x.addEventListener("click",function(B){B.stopPropagation()});d.addEventListener("click",function(B){if(this==d){B=E?B.pageY-(0,v.default)(d).offset().top:B.pageX-(0,v.default)(d).offset().left;var C=parseInt(x.style[E?"top":"left"],10);r=B<C?r-c:r+c;u.emitEvent("valueChanged",[r]);b()}})}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery"));g=y(g("wolfy87-eventemitter"));k.prototype=Object.create(g.default.prototype);k.prototype.constructor=k;L.exports=D.default},
{jquery:296,"wolfy87-eventemitter":314}],42:[function(g,L,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d,x,a){var m=(0,v.default)('<div class="modal fade chickenpaint-send-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content" data-stage="saving">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,b._)("Saving drawing..."),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-saving-progress-message">').concat((0,b._)("Preparing your drawing to be saved, please wait..."),
'</p>\n                            <pre class="chickenpaint-saving-error-message pre-scrollable"></pre>\n                            <div class="progress">\n                                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>\n                            </div>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light chickenpaint-send-cancel" data-bs-dismiss="modal">').concat((0,b._)("Cancel"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-not-previously-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">').concat((0,b._)("Drawing saved!"),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, would you like to post it to the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-bs-dismiss="modal">').concat((0,b._)("Yes, post it now"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-bs-dismiss="modal">').concat((0,b._)("No, keep drawing"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-exit" data-bs-dismiss="modal">').concat((0,b._)("No, quit and I'll finish it later"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-already-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, would you like to view it on the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-bs-dismiss="modal">').concat((0,b._)("Yes, view the post"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-bs-dismiss="modal">').concat((0,b._)("No, keep drawing"),'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-redirect" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, redirecting you to view your new post now..."),
"</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),q=(0,v.default)(".chickenpaint-saving-progress-message",m),r=(0,v.default)(".chickenpaint-saving-error-message",m),h=(0,v.default)(".progress-bar",m),c=this;a.on("savingProgress",function(n,e){n*=100;q.text(e);(0,v.default)(h).attr("aria-valuenow",n).css("width",n+"%")});a.on("savingComplete",function(){(0,v.default)(".modal-content[data-stage='saving']",m).hide();d.isActionSupported("CPContinue")?
d.isActionSupported("CPExit")?(0,v.default)(".modal-content[data-stage='success-not-previously-posted']",m).show():(0,v.default)(".modal-content[data-stage='success-already-posted']",m).show():(0,v.default)(".modal-content[data-stage='success-redirect']",m).show()});a.on("savingFailure",function(n){h.addClass("progress-bar-danger");var e=(0,b._)("Sorry, your drawing could not be saved, please try again later.");n&&(n=n.replace(/^CHIBIERROR\s*/,""),0<n.length&&(e+="<br><br>The error returned from the server was:",
r.text(n).show()),q.html(e))});(0,v.default)(".chickenpaint-post-drawing",m).on("click",function(){d.actionPerformed({action:"CPPost"})});(0,v.default)(".chickenpaint-exit",m).toggle(d.isActionSupported("CPExit")).on("click",function(){alert("When you want to come back and finish your drawing, just click the 'new drawing' button again and you can choose to continue this drawing.");d.actionPerformed({action:"CPExit"})});(0,v.default)(".chickenpaint-send-cancel",m).on("click",function(){a.cancel()});
m.on("hidden.bs.modal",function(n){m.remove()});m.appendTo(x);var f=new bootstrap.Modal(m[0]);this.show=function(){f.show();c.emitEvent("shown")}}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("wolfy87-eventemitter")),b=g("../languages/lang.js");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;L.exports=D.default},{"../languages/lang.js":54,jquery:296,"wolfy87-eventemitter":314}],43:[function(g,L,D){Object.defineProperty(D,"__esModule",
{value:!0});D.default=function(k){var v=(0,y.default)('<div class="modal fade chickenpaint-shortcuts-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog modal-lg">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Shortcuts</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>\n                                Many of the menu options and painting tools have keyboard shortcuts which are\n                                written next to them or appear when you hover.\n                            </p>\n                            <p>\n                                Here are some other shortcuts which are not as obvious!\n                            </p>\n                            <div class="chickenpaint-shortcuts-sections">\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Color swatches palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Use as the drawing color\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right</span>\n                                                </dt>\n                                                <dd>\n                                                    Remove or replace a color swatch\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Line drawing mode</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Snap line to nearest 45 degrees\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Painting tools</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">1</span> - <span class="chickenpaint-shortcut-key">9</span> , <span class="chickenpaint-shortcut-key">0</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush opacity\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">[</span> , <span class="chickenpaint-shortcut-key">]</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush size\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Brush palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right drag</span>\n                                                </dt>\n                                                <dd>\n                                                    Adjust brush sliders more precisely\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Drawing canvas</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Middle</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Space</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Move the canvas around\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">R</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Rotate the canvas\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Sample the color under the cursor\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Layers palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Double click</span>\n                                                </dt>\n                                                <dd>\n                                                    Rename layer\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ');
v.on("hidden.bs.modal",function(b){v.remove()});var E=new bootstrap.Modal(v[0]);k.appendChild(v[0]);this.show=function(){E.show()}};var y=function(k){return k&&k.__esModule?k:{default:k}}(g("jquery"));L.exports=D.default},{jquery:296}],44:[function(g,L,D){function y(d){return d&&d.__esModule?d:{default:d}}function k(d,x,a,m){function q(){var C=c.width,A=c.height,I="string"===typeof B.title?(0,b._)(B.title):B.title(B.value),O=3*window.devicePixelRatio,z=.75*c.height;if(a)f.save(),f.fillStyle="white",
f.fillRect(0,0,C,A),f.fillStyle="black",f.fillText(I,O,z),f.beginPath(),B.value>=n/2?f.rect(C/2,0,(B.value-n/2)*C/n,A):f.rect(B.value*C/n,0,(n/2-B.value)*C/n,A),f.fill(),f.clip(),f.fillStyle="white";else{var G=(B.value-d)/n;m&&(G=Math.pow(G,1/1.5));G*=C;f.save();f.save();f.fillStyle="black";f.beginPath();f.rect(0,0,G,A);f.fill();f.clip();f.fillStyle="white";f.fillText(I,O,z);f.restore();f.fillStyle="white";f.beginPath();f.rect(G,0,C,A);f.fill();f.clip();f.fillStyle="black"}f.fillText(I,O,z);f.restore()}
function r(C){var A=(0,v.default)(c).width(),I=(0,v.default)(c).offset().left;C=(C.pageX-I)/A;m&&(C=Math.pow(Math.max(C,0),1.5));B.setValue(C*n+d)}function h(C){switch(e){case 1:r(C);break;case 2:var A=(C.pageX-p)/4;if(0!==A){A=B.value+A;var I=A|0;B.setValue(I);p=C.pageX-4*(A-I)}}}var c=document.createElement("canvas"),f=c.getContext("2d"),n=x-d,e=0,p,u=!1,B=this;this.value=void 0;this.title="";a=a||!1;this.setValue=function(C){C=~~Math.max(d,Math.min(x,C));this.value!=C&&(this.value=C,this.emitEvent("valueChange",
[this.value]),u?q():(u=!0,this.resize()))};this.getElement=function(){return c};this.resize=function(){c.width=(0,v.default)(c).width()||150;c.height=(0,v.default)(c).height()||20;1<window.devicePixelRatio&&(c.style.height=c.height+"px",c.width*=window.devicePixelRatio,c.height*=window.devicePixelRatio);f.font=.47*c.height+"pt sans-serif";q()};c.addEventListener("pointerdown",function(C){if(0===e){switch(C.button){case 0:e=1;r(C);break;case 2:e=2;p=C.pageX;break;default:return}c.setPointerCapture(C.pointerId);
c.addEventListener("pointermove",h)}});c.addEventListener("pointerup",function(C){if(0!==e){switch(e){case 1:0===C.button&&(e=0);break;case 2:2==C.button&&(e=0);break;default:return}0===e&&(c.releasePointerCapture(C.pointerId),c.removeEventListener("pointermove",h))}});c.addEventListener("contextmenu",function(C){C.preventDefault()});c.setAttribute("touch-action","none");c.className="chickenpaint-slider";"devicePixelRatio"in window||(window.devicePixelRatio=1)}Object.defineProperty(D,"__esModule",
{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("wolfy87-eventemitter")),b=g("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;L.exports=D.default},{"../languages/lang":54,jquery:296,"wolfy87-eventemitter":314}],45:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(y,k,v){function E(){var z=d.width/2,G=d.height/2;x.fillStyle="white";x.fillRect(0,0,d.width,d.height);if(e==n.length){var H=r.width,J=r.height,K=Math.round(z-
H/2),S=Math.round(G-J/2);x.drawImage(r,K,S);var da=A;p||(p=document.createElement("canvas"),p.width=H,p.height=J,B=p.getContext("2d"));B.globalCompositeOperation="copy";B.drawImage(a,0,0);u||(u=document.createElement("canvas"),u.width=H,u.height=J,C=u.getContext("2d"));C.globalCompositeOperation="copy";C.drawImage(f,0,0);C.globalCompositeOperation="source-in";C.drawImage(f,0,Math.round(170*da));B.globalCompositeOperation="source-over";B.drawImage(u,0,0);B.drawImage(m,0,0);B.globalCompositeOperation=
"screen";B.drawImage(c,0,0);B.globalCompositeOperation="multiply";B.drawImage(h,0,0);x.globalAlpha=.88;x.drawImage(p,K,S);x.globalAlpha=1;x.drawImage(q,K,S);G=Math.round(G+J/2+2)}if(""!=I)for(x.fillStyle="black",H=I.split("\n"),J=0;J<H.length;J++)K=H[J],S=x.measureText(K).width,G+=28,x.fillText(K,z-S/2,G)}function b(){d.width=d.clientWidth;d.height=d.clientHeight;x.font="14pt sans-serif";E()}var d=document.createElement("canvas"),x=d.getContext("2d"),a=new Image,m=new Image,q=new Image,r=new Image,
h=new Image,c=new Image,f=new Image,n=[a,m,q,r,h,c,f],e=0,p,u,B,C,A=0,I="";v+="splash/";for(var O=0;O<n.length;O++)n[O].onload=function(){e++;e==n.length&&E()};a.src=v+"cup.png";c.src=v+"highlights.png";m.src=v+"lid.png";q.src=v+"lines.png";h.src=v+"shading.png";f.src=v+"smoothie.png";r.src=v+"text.png";k.on("loadingProgress",function(z,G){A=z;I=G;E()});k.on("loadingFailure",function(z){A=0;I=z;E()});k.on("loadingComplete",function(){window.removeEventListener("resize",b);y.removeChild(d)});window.addEventListener("resize",
b);d.className="chickenpaint-splash-screen";y.appendChild(d);b()};L.exports=D.default},{}],46:[function(g,L,D){function y(x){return x&&x.__esModule?x:{default:x}}function k(x){E.default.call(this,x,"stroke","Stroke");var a=this,m=[{className:"chickenpaint-tool-freehand",command:"CPFreeHand",toolTip:(0,d._)("Free-hand"),selected:!0},{className:"chickenpaint-tool-line",command:"CPLine",toolTip:(0,d._)("Straight line")},{className:"chickenpaint-tool-bezier",command:"CPBezier",toolTip:(0,d._)("Bezier curve")}],
q=a.getBodyElement();(function(){var r=document.createElement("ul");r.className="chickenpaint-stroke-tools list-unstyled";for(var h in m){var c=m[h],f=document.createElement("li"),n=document.createElement("div");f.className="chickenpaint-toolbar-button "+c.className;f.setAttribute("data-buttonIndex",h);f.setAttribute("title",c.toolTip);c.selected&&(f.className+=" selected");n.className="chickenpaint-toolbar-button-icon";f.appendChild(n);r.appendChild(f)}(0,v.default)(r).on("click","li",function(e){e=
m[parseInt(this.getAttribute("data-buttonIndex"),10)];(0,v.default)("li",r).removeClass("selected");(0,v.default)(this).addClass("selected");x.actionPerformed({action:e.command});a.userIsDoneWithUs()});q.appendChild(r)})();x.on("toolChange",function(r,h){(0,v.default)(".chickenpaint-tool-freehand",q).toggleClass("selected",h.strokeMode==b.default.STROKE_MODE_FREEHAND);(0,v.default)(".chickenpaint-tool-line",q).toggleClass("selected",h.strokeMode==b.default.STROKE_MODE_LINE);(0,v.default)(".chickenpaint-tool-bezier",
q).toggleClass("selected",h.strokeMode==b.default.STROKE_MODE_BEZIER)})}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("./CPPalette.js")),b=y(g("../engine/CPBrushInfo.js")),d=g("../languages/lang");k.prototype=Object.create(E.default.prototype);k.prototype.constructor=k;L.exports=D.default},{"../engine/CPBrushInfo.js":8,"../languages/lang":54,"./CPPalette.js":39,jquery:296}],47:[function(g,L,D){function y(m){return m&&m.__esModule?m:{default:m}}function k(m){function q(C){var A=
document.createElement("div"),I=document.createElement("a"),O=document.createElement("ul"),z=document.createElement("a"),G=document.createElement("a"),H=this;this.getElement=function(){return A};this.setColor=function(J){I.setAttribute("data-color",J);var K=I.style;for(J=""+Number(J).toString(16);6>J.length;)J="0"+J;K.backgroundColor="#"+J};this.setColor(C);I.href="#";I.className="chickenpaint-color-swatch dropdown-toggle";I.setAttribute("data-toggle","dropdown");z.className="dropdown-item";z.href=
"#";z.innerHTML=(0,a._)("Remove");z.addEventListener("click",function(J){J.preventDefault();(0,v.default)(A).remove();n=!0});G.className="dropdown-item";G.href="#";G.innerHTML=(0,a._)("Replace with current color");G.addEventListener("click",function(J){J.preventDefault();H.setColor(m.getCurColor().getRgb());n=!0});O.className="dropdown-menu";O.appendChild(z);O.appendChild(G);A.className="chickenpaint-color-swatch-wrapper";A.appendChild(I);A.appendChild(O);(0,v.default)(A).on("show.bs.dropdown",function(){var J=
(0,v.default)(this).find(".dropdown-toggle");(0,v.default)(this).find(".dropdown-menu").css({top:J.position().top+J.outerHeight(!0)+"px",left:J.position().left+"px"})})}function r(C){C=new q(C);e.appendChild(C.getElement())}function h(){u.onchange=function(){var C=this.files;if(!(1>C.length)){C=C[0];var A=new FileReader;A.onload=function(){var I=(new x.default).read(this.result);null!=I&&0<I.length?B.setSwatches(I):alert((0,a._)("The swatches could not be read, did you select an .aco file?"))};A.readAsArrayBuffer(C)}};
u.click()}function c(C){var A=document.createElement("span");A.className="fa fa-"+C;return A}b.default.call(this,m,"swatches","Color swatches");var f=[16777215,0,16711680,65280,255,16776960],n=!1,e=document.createElement("ul"),p=document.createElement("div"),u,B=this;this.getSwatches=function(){for(var C=(0,v.default)(".chickenpaint-color-swatch",e),A=Array(C.length),I=0;I<C.length;I++)A[I]=parseInt(C.get(I).getAttribute("data-color"),10);return A};this.setSwatches=function(C){for(;e.lastChild;)e.removeChild(e.lastChild);
for(var A=0;A<C.length;A++)r(C[A]);n=!0};this.isModified=function(){return n};(function(){e.className="chickenpaint-color-swatches list-unstyled";for(var C=0;C<f.length;C++)e.appendChild((new q(f[C])).getElement());e.addEventListener("click",function(A){var I=A.target;/^<a data-color=/i.test(I.outerHTML)&&/chickenpaint-color-swatch/.test(I.className)&&0==A.button&&void 0!==I.getAttribute("data-color")&&(m.setCurColor(new d.default(parseInt(I.getAttribute("data-color"),10))),A.stopPropagation(),A.preventDefault(),
B.userIsDoneWithUs())});e.addEventListener("contextmenu",function(A){var I=A.target;if(/^<a data-color=/i.test(I.outerHTML)&&/chickenpaint-color-swatch/.test(I.className)){A.preventDefault();var O=new bootstrap.Dropdown((0,v.default)(I),{autoClose:!1});O.toggle();document.addEventListener("click",function H(G){(0,v.default)(I).find(G.target).length||(O.hide(),document.removeEventListener("click",H))})}})})();this.getBodyElement().appendChild(e);(function(){var C=document.createElement("button"),A=
document.createElement("button"),I=document.createElement("div"),O=document.createElement("a"),z=document.createElement("a");A.type="button";A.title=(0,a._)("Add the current brush color as a new swatch");A.className="btn chickenpaint-small-toolbar-button chickenpaint-color-swatch-add";A.appendChild(c("plus"));C.type="button";C.className="btn dropdown-toggle chickenpaint-small-toolbar-button chickenpaint-color-swatch-settings";C.setAttribute("data-toggle","dropdown");C.appendChild(c("cog"));O.className=
"dropdown-item";O.href="#";O.innerHTML=(0,a._)("Save swatches to your computer...");O.addEventListener("click",function(J){J.preventDefault();J=(new x.default).write(B.getSwatches());J=new Blob([J],{type:"application/octet-stream"});E.default.saveAs(J,"oekakiswatches.aco")});z.className="dropdown-item";z.href="#";z.innerHTML=(0,a._)("Load swatches from your computer...");z.addEventListener("click",function(J){J.preventDefault();h()});I.className="dropdown-menu";I.appendChild(O);I.appendChild(z);var G=
document.createElement("div");G.className="btn-group dropright";G.appendChild(C);G.appendChild(I);var H=new bootstrap.Dropdown((0,v.default)(C));C.addEventListener("click",function(){H.toggle()});C.addEventListener("show.bs.dropdown",function(J){Array.from(G.querySelectorAll(".dropdown-item")).forEach(function(K){K.addEventListener("click",function(){H.hide()})})});A.addEventListener("click",function(J){r(m.getCurColor().getRgb());n=!0});p.className="chickenpaint-color-swatches-buttons";window.File&&
window.FileReader&&window.FileList&&window.Blob&&(u=document.createElement("input"),u.type="file",u.multiple=!1,u.style.display="none",p.appendChild(G),p.appendChild(u));p.appendChild(A)})();this.getBodyElement().appendChild(p)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("file-saver")),b=y(g("./CPPalette.js")),d=y(g("../util/CPColor.js")),x=y(g("../util/AdobeColorTable.js")),a=g("../languages/lang");k.prototype=Object.create(b.default.prototype);k.prototype.constructor=
k;L.exports=D.default},{"../languages/lang":54,"../util/AdobeColorTable.js":55,"../util/CPColor.js":58,"./CPPalette.js":39,"file-saver":295,jquery:296}],48:[function(g,L,D){function y(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(E){var b=(0,k.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog" role="document">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing tablet support</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-tablet-there-are-two-options">\n                                There are two ways you could use your tablet\'s pen pressure support with ChickenPaint.\n                            </p>\n                            <div class="chickenpaint-tablet-support chickenpaint-wacom-support">\n                                <h5>\n                                    Plugin for Wacom tablets\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-internet-explorer"></span>\n                                        IE 10, 11\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (32-bit only)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-safari"></span>\n                                        Safari\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-opera"></span>\n                                        Opera\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-installed">\n                                    The plugin for Wacom tablets doesn\'t seem to be installed in your browser yet.\n                                </p>\n                                <p class="chickenpaint-not-installed">\n                                    Please make sure that you\'ve installed the latest drivers for your tablet from the \n                                    <a href="http://www.wacom.com/en-us/support/product-support/drivers" target="_blank">Wacom drivers page</a>,\n                                    then restart your browser.\n                                </p>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t support the Wacom tablet plugin, please \n                                    try one of the browsers listed above instead.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    The Wacom tablet plugin is installed and working.\n                                </p>\n                            </div>\n                            <div class="chickenpaint-tablet-support chickenpaint-pointerevents-support">\n                                <h5>\n                                    Built-in support for most tablets.\n                                    <small>macOS, Windows 8 or newer</small>\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-internet-explorer"></span>\n                                        IE (Windows 8)\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-edge"></span>\n                                        Edge (Windows 10)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (<a href="https://github.com/thenickdude/chickenpaint/blob/master/help/Firefox pressure support.md" target="_blank">help <i class="fa fa-external-link-alt"></i></a>)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-chrome"></span>\n                                        Chrome\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t have built-in support for drawing tablets, please try\n                                    one of the other browsers listed above.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    Your browser has built-in support for drawing tablets!\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n       '),
d=(0,k.default)(".chickenpaint-wacom-support",b),x=(0,k.default)(".chickenpaint-pointerevents-support",b),a=(0,k.default)(".chickenpaint-tablet-there-are-two-options",b),m=v.default.getRef().isTabletPresent(),q=!!window.hasNativePointerEvents;d.toggleClass("supported",m);m?(x.hide(),a.hide()):((/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent))&&d.addClass("not-supported"),q&&(d.hide(),a.hide()));x.toggleClass("supported",
q);x.toggleClass("not-supported",!q);b.on("hidden.bs.modal",function(h){b.remove()});var r=new bootstrap.Modal(b[0]);E.appendChild(b[0]);this.show=function(){r.show()}};var k=y(g("jquery")),v=y(g("../util/CPWacomTablet.js"));L.exports=D.default},{"../util/CPWacomTablet.js":66,jquery:296}],49:[function(g,L,D){function y(r){return r&&r.__esModule?r:{default:r}}function k(r,h){var c=document.createElement("div"),f=document.createElement("label");c.className="form-check";r.className="form-check-input";
f.className="form-check-label";f.setAttribute("for",r.id);f.appendChild(r);f.appendChild(document.createTextNode(h));c.appendChild(r);c.appendChild(f);return c}function v(r,h,c,f,n){var e=new Image,p=[];e.onload=function(){var u=document.createElement("canvas"),B=u.getContext("2d",{willReadFrequently:!0});u.width=e.width;u.height=e.height;for(u=0;u<f;u++){B.drawImage(e,0,u*c,h,c,0,0,h,c);try{for(var C=B.getImageData(0,0,h,c),A=new d.default(h,c,8),I=0;I<h*c;I++)A.data[I]=C.data[4*I];p.push(A)}catch(O){console.log(O)}}n(p)};
e.src=r}function E(r){function h(K){for(var S=0;S<K.length;S++){var da=new u(K[S],32,32);da.on("click",function(){B=this.texture;p()});G.appendChild(da.getElement())}}function c(K){for(var S=new d.default(K,K,8),da=1;da<K*K;da++)S.data[da]=255;return S}function f(K){for(var S=2*K,da=new d.default(S,S,8),Y=0;Y<S;Y++)for(var ra=0;ra<S;ra++)da.data[Y+ra*S]=0==(~~(Y/K)+~~(ra/K))%2?0:255;return da}function n(K,S){for(var da=new d.default(S,S,8),Y=0;Y<S*S;Y++)~~(Y%S)>=K&&(da.data[Y]=255);return da}function e(K,
S){for(var da=new d.default(S,S,8),Y=0;Y<S*S;Y++)Y/S>=K&&(da.data[Y]=255);return da}function p(){if(null!=B){C=B.clone();A&&C.mirrorHorizontally();var K=new x.default;K.loadBrightnessContrast(O,z);I&&K.invert();C.applyLUT(K)}else C=null;r.getArtwork().setBrushTexture(C);null!=J&&J.updateTexture()}function u(K,S,da){var Y=document.createElement("canvas"),ra=Y.getContext("2d"),ma=this;this.setTexture=function(Q){this.texture=Q;this.paint()};this.getElement=function(){return Y};this.paint=function(){ra.fillStyle=
null!=this.texture?ra.createPattern(this.texture.getAsCanvas(),"repeat"):"white";ra.fillRect(0,0,Y.width,Y.height)};Y.addEventListener("click",function(){ma.emit("click")});Y.width=S;Y.height=da;this.setTexture(K)}a.default.call(this,r,"textures","Textures");var B,C,A=!1,I=!1,O=0,z=0,G=document.createElement("div"),H=this.getBodyElement();u.prototype=Object.create(b.default.prototype);u.prototype.constructor=u;var J=new function(){function K(){da.checked=I;Y.checked=A;ra.setValue(100*O+100);ma.setValue(100*
z+100)}var S=document.createElement("div"),da=document.createElement("input"),Y=document.createElement("input"),ra=new m.default(0,200,!0),ma=new m.default(0,200,!0),Q=new u(null,64,64),ia=document.createElement("button"),ba=new bootstrap.Popover(ia,{html:!0,content:function(){return ta},trigger:"manual",placement:"right",container:H});this.updateTexture=function(){ia.disabled=null==C;Q.setTexture(C)};this.getElement=function(){return S};S.className="chickenpaint-texture-options";S.appendChild(Q.getElement());
ia.type="button";ia.className="btn btn-light btn-sm";ia.setAttribute("data-bs-toggle","popover");ia.setAttribute("data-bs-placement","right");ia.innerHTML=(0,q._)("Customize");var ta=function(){var pa=document.createElement("div");pa.className="chickenpaint-texture-controls";da.id="chickenpaint-chk-texture-invert";da.type="checkbox";da.addEventListener("click",function(Oa){I=this.checked;p()});pa.appendChild(k(da,(0,q._)("Inverse")));Y.id="chickenpaint-chk-texture-mirror";Y.type="checkbox";Y.addEventListener("click",
function(Oa){A=this.checked;p()});pa.appendChild(k(Y,(0,q._)("Mirror")));ra.title=function(Oa){return(0,q._)("Brightness")+": "+(Oa-100)+"%"};ra.on("valueChange",function(Oa){O=(Oa-100)/100;p()});pa.appendChild(ra.getElement());ma.title=function(Oa){return(0,q._)("Contrast")+": "+(Oa-100)+"%"};ma.on("valueChange",function(Oa){z=(Oa-100)/100;p()});pa.appendChild(ma.getElement());var ya=document.createElement("button"),ka=document.createElement("button");ya.textContent="Ok";ya.className="btn btn-primary btn-sm";
ya.type="button";ya.addEventListener("click",function(Oa){ba.hide()});pa.appendChild(ya);pa.appendChild(document.createTextNode(" "));ka.textContent="Reset";ka.className="btn btn-secondary btn-sm";ka.type="button";ka.addEventListener("click",function(Oa){z=O=0;I=A=!1;K();p()});pa.appendChild(ka);K();return pa}();ia.addEventListener("click",function(){ba.toggle()});S.appendChild(ia);this.updateTexture()};H.appendChild(J.getElement());G.className="chickenpaint-texture-swatches";H.appendChild(G);h(function(){var K=
[null],S=new d.default(2,2,8);S.data[0]=255;S.data[3]=255;K.push(S);K.push(c(2));K.push(c(3));K.push(c(4));K.push(c(6));K.push(c(8));K.push(n(1,2));K.push(n(2,4));K.push(e(1,2));K.push(e(2,4));K.push(f(2));K.push(f(4));K.push(f(8));K.push(f(16));return K}());v(r.getResourcesRoot()+"gfx/textures32.png",32,32,2,function(K){h(K)})}Object.defineProperty(D,"__esModule",{value:!0});D.default=E;y(g("jquery"));var b=y(g("wolfy87-eventemitter")),d=y(g("../engine/CPGreyBmp.js")),x=y(g("../engine/CPLookUpTable.js")),
a=y(g("./CPPalette.js")),m=y(g("./CPSlider.js")),q=g("../languages/lang");E.prototype=Object.create(a.default.prototype);E.prototype.constructor=E;L.exports=D.default},{"../engine/CPGreyBmp.js":14,"../engine/CPLookUpTable.js":18,"../languages/lang":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296,"wolfy87-eventemitter":314}],50:[function(g,L,D){function y(a){return a&&a.__esModule?a:{default:a}}function k(a){function m(c){"LI"==this.nodeName&&(c=r[parseInt(this.getAttribute("data-buttonIndex"),
10)],a.actionPerformed({action:c.command}),q.userIsDoneWithUs())}b.default.call(this,a,"tool","Tools");var q=this,r=[{className:"chickenpaint-tool-rect-selection",command:"CPRectSelection",toolTip:"Marquee",shortcut:"m",mode:d.default.M_RECT_SELECTION},{className:"chickenpaint-tool-move",command:"CPMoveTool",toolTip:"Move tool",shortcut:"v",mode:d.default.M_MOVE_TOOL},{className:"chickenpaint-tool-flood-fill",command:"CPFloodFill",toolTip:"Flood fill",shortcut:"f",mode:d.default.M_FLOODFILL},{className:"chickenpaint-tool-gradient-fill",
command:"CPGradientFill",toolTip:"Gradient fill",shortcut:"g",mode:d.default.M_GRADIENTFILL},{className:"chickenpaint-tool-color-picker",command:"CPColorPicker",toolTip:"Color picker",shortcut:"i",mode:d.default.M_COLOR_PICKER},{className:"chickenpaint-tool-blur",command:"CPBlur",toolTip:"Blur",mode:d.default.M_DRAW,tool:d.default.T_BLUR},{className:"chickenpaint-tool-pencil",command:"CPPencil",toolTip:"Pencil",shortcut:"n",mode:d.default.M_DRAW,tool:d.default.T_PENCIL},{className:"chickenpaint-tool-pen",
command:"CPPen",toolTip:"Pen",selected:!0,shortcut:"b",mode:d.default.M_DRAW,tool:d.default.T_PEN},{className:"chickenpaint-tool-airbrush",command:"CPAirbrush",toolTip:"Airbrush",shortcut:"a",mode:d.default.M_DRAW,tool:d.default.T_AIRBRUSH},{className:"chickenpaint-tool-water",command:"CPWater",toolTip:"Waterpaint",shortcut:"w",mode:d.default.M_DRAW,tool:d.default.T_WATER},{className:"chickenpaint-tool-eraser",command:"CPEraser",toolTip:"Eraser",shortcut:"e",mode:d.default.M_DRAW,tool:d.default.T_ERASER},
{className:"chickenpaint-tool-soft-eraser",command:"CPSoftEraser",toolTip:"Soft eraser",shortcut:"s",mode:d.default.M_DRAW,tool:d.default.T_SOFTERASER},{className:"chickenpaint-tool-smudge",command:"CPSmudge",toolTip:"Smudge",shortcut:"d",mode:d.default.M_DRAW,tool:d.default.T_SMUDGE},{className:"chickenpaint-tool-blender",command:"CPBlender",toolTip:"Blender",shortcut:"c",mode:d.default.M_DRAW,tool:d.default.T_BLENDER},{className:"chickenpaint-tool-dodge",command:"CPDodge",toolTip:"Dodge (tool)",
shortcut:"o",mode:d.default.M_DRAW,tool:d.default.T_DODGE},{className:"chickenpaint-tool-burn",command:"CPBurn",toolTip:"Burn (tool)",shortcut:"p",mode:d.default.M_DRAW,tool:d.default.T_BURN},{className:"chickenpaint-tool-rotate-canvas",command:"CPRotateCanvas",commandDoubleClick:"CPResetCanvasRotation",toolTip:"Rotate canvas",mode:d.default.M_ROTATE_CANVAS},{className:"chickenpaint-tool-pan-canvas",command:"CPPanCanvas",toolTip:"Grab canvas",mode:d.default.M_PAN_CANVAS}],h=document.createElement("ul");
a.on("modeChange",function(c){var f=q.getBodyElement();(0,v.default)("li",f).removeClass("selected");c==d.default.M_DRAW?(0,v.default)("li[data-tool="+a.getCurTool()+"]",f).addClass("selected"):(0,v.default)("li[data-mode="+c+"]",f).addClass("selected")});a.on("toolChange",function(c){var f=q.getBodyElement();a.getCurMode()==d.default.M_DRAW&&((0,v.default)("li",f).removeClass("selected"),(0,v.default)("li[data-tool="+c+"]",f).addClass("selected"))});(function(){var c=q.getBodyElement();h.className=
"chickenpaint-tools list-unstyled";for(var f in r)(function(n){var e=r[n],p=document.createElement("li"),u=document.createElement("div");p.className="chickenpaint-toolbar-button "+e.className;p.setAttribute("data-buttonIndex",n);p.setAttribute("data-mode",e.mode);void 0!==e.tool&&p.setAttribute("data-tool",e.tool);p.title=(0,x._)(e.toolTip);e.shortcut&&(p.title+=" ("+e.shortcut.toUpperCase()+")",(0,E.default)(e.shortcut,function(){m.call(p);return!1}));e.selected&&(p.className+=" selected");u.className=
"chickenpaint-toolbar-button-icon";p.appendChild(u);h.appendChild(p)})(f);(0,v.default)(h).on("click","li",m).on("dblclick","li",function(n){n=r[parseInt(this.getAttribute("data-buttonIndex"),10)];n.commandDoubleClick&&a.actionPerformed({action:n.commandDoubleClick})});c.appendChild(h)})()}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;var v=y(g("jquery")),E=y(g("../../lib/keymaster.js")),b=y(g("./CPPalette.js")),d=y(g("../ChickenPaint.js")),x=g("../languages/lang");k.prototype=Object.create(b.default.prototype);
k.prototype.constructor=k;L.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../languages/lang":54,"./CPPalette.js":39,jquery:296}],51:[function(g,L,D){function y(h){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},y(h)}function k(h,c){for(var f=0;f<c.length;f++){var n=c[f];n.enumerable=n.enumerable||
!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(h,q(n.key),n)}}function v(h,c,f){c&&k(h.prototype,c);f&&k(h,f);Object.defineProperty(h,"prototype",{writable:!1});return h}function E(h,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}});Object.defineProperty(h,"prototype",{writable:!1});c&&b(h,c)}function b(h,c){b=Object.setPrototypeOf?
Object.setPrototypeOf.bind():function(f,n){f.__proto__=n;return f};return b(h,c)}function d(h){var c=a();return function(){var f=m(h);if(c){var n=m(this).constructor;f=Reflect.construct(f,arguments,n)}else f=f.apply(this,arguments);if(!f||"object"!==y(f)&&"function"!==typeof f){if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");f=x(this)}return f}}function x(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return h}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(h){return!1}}function m(h){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)};return m(h)}function q(h){a:if("object"===y(h)&&null!==h){var c=h[Symbol.toPrimitive];if(void 0!==c){h=c.call(h,"string");if("object"!==
y(h))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}h=String(h)}return"symbol"===y(h)?h:String(h)}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;g=function(h){return h&&h.__esModule?h:{default:h}}(g("wolfy87-eventemitter"));var r={toolbarStyle:"new"};D.default=function(h){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var n=f.call(this);var e=x(n);var p=q("toolbarStyle");p in e?Object.defineProperty(e,
p,{value:void 0,enumerable:!0,configurable:!0,writable:!0}):e[p]=void 0;n.setDefaults();return n}E(c,h);var f=d(c);v(c,[{key:"setDefaults",value:function(){for(var n in r)r.hasOwnProperty(n)&&this.set(n,r[n])}},{key:"load",value:function(){var n={};try{n=JSON.parse(localStorage.getItem("chickenpaint-prefs"))}catch(p){console.error(p)}n&&"object"===y(n)||(n={});for(var e in r)if(r.hasOwnProperty(e))try{this.set(e,n.hasOwnProperty(e)?n[e]:r[e])}catch(p){console.error(p)}}},{key:"save",value:function(){try{var n=
!1,e;for(e in r)if(r.hasOwnProperty(e)&&this[e]!=r[e]){n=!0;break}n?localStorage.setItem("chickenpaint-prefs",JSON.stringify({toolbarStyle:this.toolbarStyle})):localStorage.removeItem("chickenpaint-prefs")}catch(p){console.error(p)}}},{key:"set",value:function(n,e){this[n]=e;this.emitEvent(n,[e])}},{key:"get",value:function(n){return this[n]}}]);return c}(g.default);L.exports=D.default},{"wolfy87-eventemitter":314}],52:[function(g,L,D){L.exports={"Dodge (tool)":"Dodge","Burn (tool)":"Burn","Color (picker)":"Color",
"Color swatches (shorter)":"Swatches"}},{}],53:[function(g,L,D){L.exports={File:"\u30d5\u30a1\u30a4\u30eb","Save to my computer":"PC\u306b\u4fdd\u5b58","Post Oekaki":"\u304a\u7d75\u304b\u304d\u3092\u6295\u7a3f",Edit:"\u7de8\u96c6",Undo:"\u53d6\u308a\u6d88\u3057",Redo:"\u3084\u308a\u76f4\u3057",Cut:"\u5207\u308a\u53d6\u308a",Copy:"\u30b3\u30d4\u30fc","Clear history":"\u5c65\u6b74\u524a\u9664","Copy merged":"\u7d50\u5408\u30b3\u30d4\u30fc",Paste:"\u8cbc\u308a\u4ed8\u3051","Select all":"\u3059\u3079\u3066\u9078\u629e",
Deselect:"\u9078\u629e\u89e3\u9664",Transform:"\u5909\u5f62",Layers:"\u30ec\u30a4\u30e4\u30fc",Duplicate:"\u8907\u88fd","Merge down":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3068\u7d50\u5408","Merge group":"\u30b0\u30eb\u30fc\u30d7\u7d50\u5408","Merge all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u7d50\u5408","Add layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0","Delete mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664","Delete layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664",
"Apply mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Apply layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Disable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u7121\u52b9\u5316","Enable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u6709\u52b9\u5316","Clip to the layer below":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3067\u30af\u30ea\u30c3\u30d4\u30f3\u30b0","Unclip from the layer below":"\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u89e3\u9664",Effects:"\u52b9\u679c",
Clear:"\u6d88\u53bb",Fill:"\u5857\u308a\u6f70\u3057","Flip horizontal":"\u5de6\u53f3\u53cd\u8ee2","Flip vertical":"\u4e0a\u4e0b\u53cd\u8ee2",Invert:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2","Box blur...":"\u307c\u304b\u3057","Blur amount (pixels)":"\u307c\u304b\u3057\u91cf(\u30d4\u30af\u30bb\u30eb\u5358\u4f4d)","Iterations (1-8, larger gives smoother blur)":"\u53cd\u5fa9(1-8,\u5927\u304d\u3044\u307b\u3069\u307c\u304b\u3057\u304c\u6ed1\u3089\u304b)","Monochromatic noise":"\u5358\u8272\u30ce\u30a4\u30ba",
"Color noise":"\u30ab\u30e9\u30fc\u30ce\u30a4\u30ba",View:"\u8868\u793a","Full-screen mode":"\u30d5\u30eb\u30b9\u30af\u30ea\u30fc\u30f3\u30e2\u30fc\u30c9","Zoom in":"\u62e1\u5927","Zoom out":"\u7e2e\u5c0f","Zoom 100%":"100%","Smooth-out zoomed canvas":"\u30ba\u30fc\u30e0\u3092\u306a\u3081\u3089\u304b\u306b\u8868\u793a\u3059\u308b","Show grid":"\u30b0\u30ea\u30c3\u30c9\u3092\u8868\u793a","Grid options...":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a",Palettes:"\u30d1\u30ec\u30c3\u30c8",Rearrange:"\u521d\u671f\u5316",
"Toggle palettes":"\u8868\u793a\u975e\u8868\u793a\u5207\u308a\u66ff\u3048","Use old icons":"\u53e4\u3044\u30a2\u30a4\u30b3\u30f3","Show tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Show color":"\u30ab\u30e9\u30fc","Show layers":"\u30ec\u30a4\u30e4\u30fc","Show misc":"\u64cd\u4f5c","Show stroke":"\u30b9\u30c8\u30ed\u30fc\u30af","Show swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Show textures":"\u30c6\u30af\u30b9\u30c1\u30e3","Show tools":"\u30c4\u30fc\u30eb",Help:"\u30d8\u30eb\u30d7",
"Tablet support":"\u30bf\u30d6\u30ec\u30c3\u30c8\u30b5\u30dd\u30fc\u30c8",Shortcuts:"\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8",About:"ChickenPaint\u306b\u3064\u3044\u3066",Misc:"\u64cd\u4f5c","Round Pixelated":"\u5186\u30d4\u30af\u30bb\u30eb","Round Hard Edge":"\u5186\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Round Soft":"\u5186\u30bd\u30d5\u30c8","Square Pixelated":"\u89d2\u30d4\u30af\u30bb\u30eb","Square Hard Edge":"\u89d2\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Color (picker)":"\u30ab\u30e9\u30fc",
"Tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Brush size":"\u30d6\u30e9\u30b7\u30b5\u30a4\u30ba",Opacity:"\u4e0d\u900f\u660e\u5ea6",Color:"\u8272\u88dc\u5145",Blend:"\u6df7\u8272",Spacing:"\u9593\u9694",Scattering:"\u6563\u4e71",Smoothing:"\u624b\u3076\u308c\u88dc\u6b63","Color swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Color swatches (shorter)":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8",Remove:"\u524a\u9664","Replace with current color":"\u9078\u629e\u4e2d\u306e\u8272\u306b\u7f6e\u304d\u63db\u3048",
"Save swatches to your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u306b\u4fdd\u5b58","Load swatches from your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u304b\u3089\u8aad\u307f\u8fbc\u307f","Add the current brush color as a new swatch":"\u9078\u629e\u4e2d\u306e\u8272\u3092\u8ffd\u52a0","Sample all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u6df7\u8272","Lock transparency":"\u900f\u660e\u90e8\u5206\u3092\u4fdd\u8b77",Textures:"\u30c6\u30af\u30b9\u30c1\u30e3",Customize:"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba",
Inverse:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2",Mirror:"\u5de6\u53f3\u53cd\u8ee2",Brightness:"\u8f1d\u5ea6",Contrast:"\u30b3\u30f3\u30c8\u30e9\u30b9\u30c8",Reset:"\u30ea\u30bb\u30c3\u30c8","Blending mode":"\u5408\u6210\u30e2\u30fc\u30c9",Normal:"\u901a\u5e38",Multiply:"\u4e57\u7b97",Add:"\u52a0\u7b97",Screen:"\u30b9\u30af\u30ea\u30fc\u30f3",Lighten:"\u6bd4\u8f03(\u660e)",Darken:"\u6bd4\u8f03(\u6697)",Subtract:"\u6e1b\u7b97",Dodge:"\u8986\u3044\u713c\u304d",Burn:"\u713c\u304d\u8fbc\u307f",Overlay:"\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4",
"Hard Light":"\u30cf\u30fc\u30c9\u30e9\u30a4\u30c8","Soft Light":"\u30bd\u30d5\u30c8\u30e9\u30a4\u30c8","Vivid Light":"\u30d3\u30d3\u30c3\u30c9\u30e9\u30a4\u30c8","Linear Light":"\u30ea\u30cb\u30a2\u30e9\u30a4\u30c8","Pin Light":"\u30d4\u30f3\u30e9\u30a4\u30c8",Passthrough:"\u901a\u904e",Stroke:"\u30b9\u30c8\u30ed\u30fc\u30af","Free-hand":"\u30d5\u30ea\u30fc\u30cf\u30f3\u30c9","Straight line":"\u76f4\u7dda","Bezier curve":"Bz\uff08\u30d9\u30b8\u30a7\uff09\u66f2\u7dda",Tools:"\u30c4\u30fc\u30eb",Marquee:"\u9078\u629e\u7bc4\u56f2",
"Move tool":"\u79fb\u52d5","Flood fill":"\u5857\u308a\u6f70\u3057","Gradient fill":"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3","Color picker":"\u30b9\u30dd\u30a4\u30c8","Rotate canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u56de\u8ee2","Grab canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u4f4d\u7f6e",Pencil:"\u925b\u7b46",Pen:"\u30da\u30f3",Airbrush:"\u30a8\u30a2\u30d6\u30e9\u30b7",Waterpaint:"\u6c34\u5f69",Eraser:"\u6d88\u3057\u30b4\u30e0","Soft eraser":"\u8584\u6d88\u3057",Smudge:"\u6307\u5148",
Blender:"\u6df7\u8272","Dodge (tool)":"\u8986\u3044\u713c\u304d","Burn (tool)":"\u713c\u304d\u8fbc\u307f",Blur:"\u307c\u304b\u3057","Grid options":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a","Grid size":"\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba","Rename...":"\u540d\u524d\u3092\u5909\u66f4","Add layer":"\u65b0\u898f\u30ec\u30a4\u30e4\u30fc","Delete layer":"\u30ec\u30a4\u30e4\u30fc\u524a\u9664","Add group":"\u65b0\u898f\u30b0\u30eb\u30fc\u30d7","Delete group":"\u30b0\u30eb\u30fc\u30d7\u524a\u9664",
"Add mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0",Gradient:"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210","Transform style":"\u5909\u5f62\u30b9\u30bf\u30a4\u30eb","Apply transform":"\u5909\u5f62\u78ba\u5b9a",Smooth:"\u30b9\u30e0\u30fc\u30ba",Sharp:"\u30b7\u30e3\u30fc\u30d7","Opacity: ":"\u4e0d\u900f\u660e\u5ea6:","Please enter a color in hex format":"16\u9032\u5f62\u5f0f\u3067\u8272\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\uff08#xxxxxx\u306e\u5f62\uff09",Cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",
Ok:"OK",Okay:"OK",OK:"OK","Are you sure you want to send your drawing to the server and finish drawing now?":"\u304a\u7d75\u304b\u304d\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f","Your drawing has unsaved changes! Are you sure to want to navigate away?":"\u304a\u7d75\u304b\u304d\u306b\u672a\u4fdd\u5b58\u306e\u5909\u66f4\u304c\u3042\u308a\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",
"Save Oekaki":"\u4fdd\u5b58","Saving drawing...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u4e2d\u2026","Preparing your drawing to be saved, please wait...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3059\u308b\u6e96\u5099\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u2026","Drawing saved!":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\uff01","Your drawing has been saved, would you like to post it to the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f",
"Yes, post it now":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059","No, keep drawing":"\u307e\u3060\u63cf\u304d\u307e\u3059","No, quit and I'll finish it later":"\u30a2\u30d7\u30ea\u3092\u7d42\u4e86\u3057\u7d9a\u304d\u3092\u5f8c\u3067\u63cf\u304f","Your drawing has been saved, would you like to view it on the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f","Yes, view the post":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059\u3002",
"Your drawing has been saved, redirecting you to view your new post now...":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u6295\u7a3f\u5148\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002","Sorry, your drawing could not be saved, please try again later.":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u518d\u5ea6\u6295\u7a3f\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002"}},{}],54:[function(g,L,D){function y(h){"@babel/helpers - typeof";
return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},y(h)}function k(h){if("function"!=typeof WeakMap)return null;var c=new WeakMap,f=new WeakMap;return(k=function(n){return n?f:c})(h)}function v(h,c){if(!c&&h&&h.__esModule)return h;if(null===h||"object"!=y(h)&&"function"!=typeof h)return{default:h};if((c=k(c))&&c.has(h))return c.get(h);var f=
{__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in h)if("default"!==e&&Object.prototype.hasOwnProperty.call(h,e)){var p=n?Object.getOwnPropertyDescriptor(h,e):null;p&&(p.get||p.set)?Object.defineProperty(f,e,p):f[e]=h[e]}return f.default=h,c&&c.set(h,f),f}function E(h,c){var f="undefined"!==typeof Symbol&&h[Symbol.iterator]||h["@@iterator"];if(!f){if(Array.isArray(h)||(f=b(h))||c&&h&&"number"===typeof h.length){f&&(h=f);var n=0;c=function(){};return{s:c,n:function(){return n>=
h.length?{done:!0}:{done:!1,value:h[n++]}},e:function(B){throw B;},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var e=!0,p=!1,u;return{s:function(){f=f.call(h)},n:function(){var B=f.next();e=B.done;return B},e:function(B){p=!0;u=B},f:function(){try{e||null==f.return||f.return()}finally{if(p)throw u;}}}}function b(h,c){if(h){if("string"===typeof h)return d(h,c);var f=Object.prototype.toString.call(h).slice(8,
-1);"Object"===f&&h.constructor&&(f=h.constructor.name);if("Map"===f||"Set"===f)return Array.from(h);if("Arguments"===f||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return d(h,c)}}function d(h,c){if(null==c||c>h.length)c=h.length;for(var f=0,n=Array(c);f<c;f++)n[f]=h[f];return n}function x(h){h=h.split(/[-_]/,1)[0].toLowerCase();h in m?(q=m[h],r=h):(q=a,r="en")}Object.defineProperty(D,"__esModule",{value:!0});D._=function(h){return h in q?q[h]:h};D.currentLanguage=function(){return r};D.guessLanguage=
function(){try{if("undefined"!==typeof navigator){var h=navigator.languages;Array.isArray(h)||(h=[h]);var c=E(h),f;try{for(c.s();!(f=c.n()).done;){var n=f.value,e=/^(..)([-_].+)?$/.exec(n);if(e){e[1]=e[1].toLowerCase();if(e[1]in m){x(n);break}if("en"===e[1]){x("en");break}}}}catch(p){c.e(p)}finally{c.f()}}}catch(p){console.error(p)}};D.setLanguage=x;var a=v(g("./en.json")),m={ja:v(g("./ja.json")),en:a},q=a,r="en"},{"./en.json":52,"./ja.json":53}],55:[function(g,L,D){function y(){}Object.defineProperty(D,
"__esModule",{value:!0});D.default=y;var k=function(v){return v&&v.__esModule?v:{default:v}}(g("./ArrayDataStream.js"));y.prototype.read=function(v){if(null==v)return null;v=new k.default(new Uint8Array(v));var E=[];if(1!=v.readU16BE())return null;var b=v.readU16BE();for(var d=0;d<b;d++)if(0==v.readU16BE()){var x=255*v.readU16BE()/65535,a=255*v.readU16BE()/65535,m=255*v.readU16BE()/65535;v.readU16BE();E.push(x<<16|a<<8|m)}return E};y.prototype.write=function(v){var E=new Uint8Array(4+10*v.length);
E=new k.default(E);E.writeU16BE(1);E.writeU16BE(v.length);for(var b=0;b<v.length;b++){var d=v[b];E.writeU16BE(0);E.writeU16BE(257*(d>>16&255));E.writeU16BE(257*(d>>8&255));E.writeU16BE(257*(d&255));E.writeU16BE(0)}return E.getAsDataArray()};L.exports=D.default},{"./ArrayDataStream.js":56}],56:[function(g,L,D){function y(k,v,E){this.data=k;this.eof=!1;this.start=void 0===v?0:v;this.end=void 0===E?k.length:E;this.pos=this.start}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.prototype.readChar=
function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos++]);this.eof=!0;return-1};y.prototype.readByte=function(){if(this.pos<this.end)return this.data[this.pos++];this.eof=!0;return-1};y.prototype.readU8=y.prototype.readByte;y.prototype.readS8=function(){var k=this.readByte();return k&128?k|4294967040:k};y.prototype.unreadChar=function(k){this.pos--};y.prototype.peekChar=function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos]);this.eof=!0;return-1};y.prototype.readString=
function(k){var v=Array(k),E;for(E=0;E<k;E++)v[E]=this.readChar();return v.join("")};y.prototype.readS16=function(){var k=this.readByte(),v=this.readByte();k=k<<8|v;return k&32768?k|4294901760:k};y.prototype.readU16BE=function(){var k=this.readByte(),v=this.readByte();return k<<8|v};y.prototype.readU16LE=function(){var k=this.readByte();return this.readByte()<<8|k};y.prototype.readU32BE=function(){var k=this.readByte(),v=this.readByte(),E=this.readByte(),b=this.readByte();return(k<<24|v<<16|E<<8|
b)>>>0};y.prototype.readU32LE=function(){var k=this.readByte(),v=this.readByte(),E=this.readByte();return(this.readByte()<<24|E<<16|v<<8|k)>>>0};y.prototype.readBytes=function(k){var v=this.data.subarray(this.pos,this.pos+k);this.pos+=k;this.pos>this.end&&(this.eof=!0);return v};y.prototype.skip=function(k){this.pos+=k;this.pos>this.end&&(this.eof=!0)};y.prototype.seek=function(k){this.pos=k};y.prototype.writeBytes=function(k){for(var v=0;v<k.length;v++)this.data[this.pos++]=k[v]};y.prototype.writeByte=
function(k){this.data[this.pos++]=k};y.prototype.writeU8=y.prototype.writeByte;y.prototype.writeU16LE=function(k){this.data[this.pos++]=k;this.data[this.pos++]=k>>8};y.prototype.writeU16BE=function(k){this.data[this.pos++]=k>>8;this.data[this.pos++]=k};y.prototype.writeU32BE=function(k){this.data[this.pos++]=k>>24;this.data[this.pos++]=k>>16;this.data[this.pos++]=k>>8;this.data[this.pos++]=k};y.prototype.writeU32LE=function(k){this.data[this.pos++]=k;this.data[this.pos++]=k>>8;this.data[this.pos++]=
k>>16;this.data[this.pos++]=k>>24};y.prototype.writeDoubleBE=function(k){k=new Uint8Array((new Float64Array([k])).buffer);for(var v=k.length-1;0<=v;v--)this.writeByte(k[v])};y.prototype.writeFloatBE=function(k){k=new Uint8Array((new Float32Array([k])).buffer);for(var v=k.length-1;0<=v;v--)this.writeByte(k[v])};y.prototype.writeString=function(k){for(var v=0;v<k.length;v++)this.data[this.pos++]=k.charCodeAt(v)};y.prototype.writeUnsignedIntBE=function(k,v){void 0===v&&(v=this.measureUnsignedInt(k));
switch(v){case 5:this.writeU8(Math.floor(k/4294967296));case 4:this.writeU8(k>>24);case 3:this.writeU8(k>>16);case 2:this.writeU8(k>>8);case 1:this.writeU8(k);break;default:throw"Bad UINT size "+v;}};y.prototype.measureUnsignedInt=function(k){return 256>k?1:65536>k?2:16777216>k?3:4294967296>k?4:5};y.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw"ArrayDataStream's pos lies beyond end of buffer";
};y.prototype.EOF=-1;L.exports=D.default},{}],57:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){var y=this;this.x0=this.y0=this.x1=this.y1=this.x2=this.y2=this.x3=this.y3=0;var k,v,E,b,d,x,a,m;this.compute=function(q,r,h){var c=1/h,f=3*c,n=f*c;c*=c*c;var e=2*n,p=6*c,u=y.x0-2*y.x1+y.x2,B=y.y0-2*y.y1+y.y2,C=3*(y.x1-y.x2)-y.x0+y.x3,A=3*(y.y1-y.y2)-y.y0+y.y3;k=y.x0;d=y.y0;v=(y.x1-y.x0)*f+u*n+C*c;x=(y.y1-y.y0)*f+B*n+A*c;E=u*e+C*p;a=B*e+A*p;b=C*p;m=A*p;q[0]=k;r[0]=
d;for(f=1;f<h;f++)k+=v,d+=x,v+=E,x+=a,E+=b,a+=m,q[f]=k,r[f]=d}};L.exports=D.default},{}],58:[function(g,L,D){function y(v){if(0==v.saturation)return v.value<<16|v.value<<8|v.value;var E=v.hue/60;E-=Math.floor(E);var b=v.saturation/255,d=~~(v.value*(1-b)),x=~~(v.value*(1-b*E));E=~~(v.value*(1-b*(1-E)));switch(~~(v.hue/60)){case 0:return v.value<<16|E<<8|d;case 1:return x<<16|v.value<<8|d;case 2:return d<<16|v.value<<8|E;case 3:return d<<16|x<<8|v.value;case 4:return E<<16|d<<8|v.value;case 5:return v.value<<
16|d<<8|x;default:return 0}}function k(v){this.value=this.saturation=this.hue=this.rgb=0;this.setRgb(v||0)}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;k.prototype.getRgb=function(){return this.rgb};k.prototype.getSaturation=function(){return this.saturation};k.prototype.getHue=function(){return this.hue};k.prototype.getValue=function(){return this.value};k.prototype.setRgbComponents=function(v,E,b){this.setRgb(v<<16|E<<8|b)};k.prototype.setRgb=function(v){this.rgb=v;var E=v>>16&255,
b=v>>8&255;v&=255;this.value=Math.max(E,Math.max(b,v));var d=Math.min(E,Math.min(b,v));this.saturation=0==this.value?0:~~((this.value-d)/this.value*255);if(0==this.saturation)this.hue=0;else{var x=(this.value-E)/(this.value-d),a=(this.value-b)/(this.value-d);d=(this.value-v)/(this.value-d);var m=0;this.value==E&&(m=d-a);this.value==b&&(m=2+x-d);this.value==v&&(m=4+a-x);m*=60;0>m&&(m+=360);this.hue=~~m}};k.prototype.setHsv=function(v,E,b){this.hue=v;this.saturation=E;this.value=b;this.rgb=y(this)};
k.prototype.setHue=function(v){this.hue=v;this.rgb=y(this)};k.prototype.setSaturation=function(v){this.saturation=v;this.rgb=y(this)};k.prototype.setValue=function(v){this.value=v;this.rgb=y(this)};k.prototype.setGreyscale=function(v){this.rgb=k.greyToRGB(v);this.saturation=this.hue=0;this.value=v};k.prototype.clone=function(){var v=new k(0);v.copyFrom(this);return v};k.prototype.copyFrom=function(v){this.rgb=v.rgb;this.hue=v.hue;this.saturation=v.saturation;this.value=v.value};k.prototype.isEqual=
function(v){return this.rgb==v.rgb&&this.hue==v.hue&&this.saturation==v.saturation&&this.value==v.value};k.greyToRGB=function(v){return v|v<<8|v<<16};L.exports=D.default},{}],59:[function(g,L,D){function y(k,v,E){this.r=k;this.g=v;this.b=E}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.prototype.toInt=function(){return Math.max(0,Math.min(255,Math.round(255*this.r)))<<16|Math.max(0,Math.min(255,Math.round(255*this.g)))<<8|Math.max(0,Math.min(255,Math.round(255*this.b)))};y.prototype.mixWith=
function(k,v){this.r=this.r*(1-v)+k.r*v;this.g=this.g*(1-v)+k.g*v;this.b=this.b*(1-v)+k.b*v};y.prototype.clone=function(){return new y(this.r,this.g,this.b)};y.createFromInt=function(k){return new y((k>>>16&255)/255,(k>>>8&255)/255,(k&255)/255)};L.exports=D.default},{}],60:[function(g,L,D){function y(v){for(var E=["imageSmoothingEnabled","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled"],b=0;b<E.length;b++)if(E[b]in v)return E[b];return null}Object.defineProperty(D,
"__esModule",{value:!0});D.isCanvasInterpolationSupported=function(){var v=(0,k.createCanvas)(0,0).getContext("2d");return!!y(v)};D.isCanvasSupported=function(){var v=(0,k.createCanvas)(0,0);return!(!v.getContext||!v.getContext("2d"))};D.isEventSupported=function(v){var E=v in window;E||(E=document.createElement("div"),E.setAttribute(v,"return;"),E="function"==typeof E[v]);return E};D.isFlexboxSupported=function(){return("string"==typeof document.body.style.flexBasis||"string"==typeof document.body.style.msFlexDirection)&&
!/Presto/.test(navigator.userAgent)};D.setCanvasInterpolation=function(v,E){var b=y(v);b&&(v[b]=E)};var k=g("./Canvas.js")},{"./Canvas.js":2}],61:[function(g,L,D){function y(k){this.points=k||[]}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;(function(k){return k&&k.__esModule?k:{default:k}})(g("./CPTransform.js"));y.prototype.clone=function(){for(var k=new y(Array(this.points.length)),v=0;v<this.points.length;v++)k.points[v]={x:this.points[v].x,y:this.points[v].y};return k};y.prototype.getTransformed=
function(k){for(var v=new y(Array(this.points.length)),E=0;E<this.points.length;E++)v.points[E]=k.getTransformedPoint(this.points[E]);return v};y.prototype.getCenter=function(){for(var k=this.points[0].x,v=this.points[0].y,E=1;E<this.points.length;E++)k+=this.points[E].x,v+=this.points[E].y;return{x:k/this.points.length,y:v/this.points.length}};y.prototype.containsPoint=function(k){var v,E=!1;var b=0;for(v=this.points.length-1;b<this.points.length;v=b++)this.points[b].y>k.y!=this.points[v].y>k.y&&
k.x<(this.points[v].x-this.points[b].x)*(k.y-this.points[b].y)/(this.points[v].y-this.points[b].y)+this.points[b].x&&(E=!E);return E};L.exports=D.default},{"./CPTransform.js":64}],62:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){var y,k=!1;this.nextGaussian=function(){if(k)return k=!1,y;do{var v=2*Math.random()-1;var E=2*Math.random()-1;var b=v*v+E*E}while(1<=b||0==b);b=Math.sqrt(-2*Math.log(b)/b);y=E*b;k=!0;return v*b}};L.exports=D.default},{}],63:[function(g,
L,D){function y(v){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},y(v)}function k(v,E,b,d){this.left=v;this.top=E;this.right=b;this.bottom=d}Object.defineProperty(D,"__esModule",{value:!0});D.default=k;k.prototype.makeEmpty=function(){this.bottom=this.right=this.top=this.left=0};k.prototype.union=function(v){this.isEmpty()?
this.set(v):v.isEmpty()||(this.left=Math.min(this.left,v.left),this.top=Math.min(this.top,v.top),this.right=Math.max(this.right,v.right),this.bottom=Math.max(this.bottom,v.bottom))};k.prototype.getUnion=function(v){var E=this.clone();E.union(v);return E};k.prototype.getIntersection=function(v){return new k(Math.max(this.left,v.left),Math.max(this.top,v.top),Math.min(this.right,v.right),Math.min(this.bottom,v.bottom))};k.prototype.clipTo=function(v){this.isEmpty()||(v.isEmpty()?this.makeEmpty():(this.left=
Math.min(Math.max(this.left,v.left),v.right),this.top=Math.min(Math.max(this.top,v.top),v.bottom),this.right=Math.max(Math.min(this.right,v.right),v.left),this.bottom=Math.max(Math.min(this.bottom,v.bottom),v.top)));return this};k.prototype.containsPoint=function(v){return!(v.x<this.left||v.y<this.top||v.x>=this.right||v.y>=this.bottom)};k.prototype.isInside=function(v){return this.left>=v.left&&this.top>=v.top&&this.right<=v.right&&this.bottom<=v.bottom};k.prototype.clipSourceDest=function(v,E){E.right=
E.left+v.getWidth();E.bottom=E.top+v.getHeight();this.isEmpty()||E.left>=this.right||E.top>=this.bottom||E.right<=this.left||E.bottom<=this.top?(v.makeEmpty(),E.makeEmpty()):(E.right>this.right&&(v.right-=E.right-this.right,E.right=this.right),E.bottom>this.bottom&&(v.bottom-=E.bottom-this.bottom,E.bottom=this.bottom),E.left<this.left&&(v.left+=this.left-E.left,E.left=this.left),E.top<this.top&&(v.top+=this.top-E.top,E.top=this.top))};k.prototype.getWidth=function(){return this.right-this.left};k.prototype.getHeight=
function(){return this.bottom-this.top};k.prototype.getArea=function(){return this.getWidth()*this.getHeight()};k.prototype.isEmpty=function(){return this.right<=this.left||this.bottom<=this.top};k.prototype.set=function(v){this.left=v.left;this.top=v.top;this.right=v.right;this.bottom=v.bottom};k.prototype.clone=function(){return new k(this.left,this.top,this.right,this.bottom)};k.prototype.translate=function(v,E){this.left+=v;this.right+=v;this.top+=E;this.bottom+=E;return this};k.prototype.getTranslated=
function(v,E){var b=this.clone();b.translate(v,E);return b};k.prototype.moveTo=function(v,E){this.translate(v-this.left,E-this.top)};k.prototype.equals=function(v){return this.left==v.left&&this.right==v.right&&this.top==v.top&&this.bottom==v.bottom};k.prototype.grow=function(v,E){this.left-=v;this.right+=v;this.top-=E;this.bottom+=E};k.prototype.toString=function(){return"("+this.left+","+this.top+","+this.right+","+this.bottom+")"};k.prototype.toPoints=function(){return[{x:this.left,y:this.top},
{x:this.right,y:this.top},{x:this.right,y:this.bottom},{x:this.left,y:this.bottom}]};k.prototype.roundNearest=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);return this};k.prototype.roundContain=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);return this};k.createBoundingBox=function(v){if(0===v.length)return new k(0,
0,0,0);for(var E=new k(v[0].x,v[0].y,v[0].x,v[0].y),b=1;b<v.length;b++)E.left=Math.min(E.left,v[b].x),E.top=Math.min(E.top,v[b].y),E.right=Math.max(E.right,v[b].x),E.bottom=Math.max(E.bottom,v[b].y);return E};k.prototype.subtract=function(v){return k.subtract(this,v)};k.subtract=function(v,E){v instanceof k&&(v=[v]);E instanceof k&&(E=[E]);v=v.slice(0);for(var b=0;b<E.length;b++)for(var d=E[b],x=v.length,a=0;a<x;a++){var m=v[a];if(m){var q=m.getIntersection(d);if(!q.isEmpty()){var r=[];m.top<d.top&&
r.push(new k(m.left,m.top,m.right,q.top));m.bottom>d.bottom&&r.push(new k(m.left,q.bottom,m.right,m.bottom));m.left<d.left&&r.push(new k(m.left,q.top,q.left,q.bottom));m.right>d.right&&r.push(new k(q.right,q.top,m.right,q.bottom));r=r.filter(function(h){return!h.isEmpty()});if(0<r.length)for(v[a]=r[0],m=1;m<r.length;m++)v.push(r[m]);else v[a]=null}}}return v.filter(function(h){return null!=h})};k.union=function(v){if(v instanceof k)v=[v];else{v=v.slice(0);for(var E=0;E<v.length;E++){var b=v[E],d=
v.length;if(b)for(var x=E+1;x<d;x++){var a=v[x];if(a&&!b.getIntersection(a).isEmpty()){a=k.subtract(a,b);v[x]=a[0];for(var m=1;m<a.length;m++)v.push(a[m])}}}}return v.filter(function(q){return q&&!q.isEmpty()})};"object"==("undefined"===typeof window?"undefined":y(window))&&(window.cpRectGarbage=new k(1.5,2.5,3.5,4.5));L.exports=D.default},{}],64:[function(g,L,D){function y(){this.setToIdentity()}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.prototype.setToIdentity=function(){this.m=
[1,0,0,1,0,0]};y.prototype.multiply=function(k){var v=this.m[1]*k.m[0]+this.m[3]*k.m[1],E=this.m[0]*k.m[2]+this.m[2]*k.m[3],b=this.m[1]*k.m[2]+this.m[3]*k.m[3],d=this.m[0]*k.m[4]+this.m[2]*k.m[5]+this.m[4],x=this.m[1]*k.m[4]+this.m[3]*k.m[5]+this.m[5];this.m[0]=this.m[0]*k.m[0]+this.m[2]*k.m[1];this.m[1]=v;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=x};y.prototype.preMultiply=function(k){var v=k.m[1]*this.m[0]+k.m[3]*this.m[1],E=k.m[0]*this.m[2]+k.m[2]*this.m[3],b=k.m[1]*this.m[2]+k.m[3]*this.m[3],
d=k.m[0]*this.m[4]+k.m[2]*this.m[5]+k.m[4],x=k.m[1]*this.m[4]+k.m[3]*this.m[5]+k.m[5];this.m[0]=k.m[0]*this.m[0]+k.m[2]*this.m[1];this.m[1]=v;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=x};y.prototype.invert=function(){var k=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),v=-this.m[1]*k,E=-this.m[2]*k,b=this.m[0]*k,d=k*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),x=k*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=this.m[3]*k;this.m[1]=v;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=x};y.prototype.getInverted=
function(){var k=new y;k.m[0]=this.m[0];k.m[1]=this.m[1];k.m[2]=this.m[2];k.m[3]=this.m[3];k.m[4]=this.m[4];k.m[5]=this.m[5];k.invert();return k};y.prototype.rotate=function(k){var v=Math.cos(k);k=Math.sin(k);var E=this.m[1]*v+this.m[3]*k,b=this.m[0]*-k+this.m[2]*v,d=this.m[1]*-k+this.m[3]*v;this.m[0]=this.m[0]*v+this.m[2]*k;this.m[1]=E;this.m[2]=b;this.m[3]=d};y.prototype.rotateAroundPoint=function(k,v,E){this.translate(v,E);this.rotate(k);this.translate(-v,-E)};y.prototype.translate=function(k,
v){this.m[4]+=this.m[0]*k+this.m[2]*v;this.m[5]+=this.m[1]*k+this.m[3]*v};y.prototype.scale=function(k,v){this.m[0]*=k;this.m[1]*=k;this.m[2]*=v;this.m[3]*=v};y.prototype.scaleAroundPoint=function(k,v,E,b){this.translate(E,b);this.scale(k,v);this.translate(-E,-b)};y.prototype.shear=function(k,v){var E=this.m[1]+this.m[3]*v,b=this.m[2]+this.m[0]*k;k=this.m[3]+this.m[1]*k;this.m[0]+=this.m[2]*v;this.m[1]=E;this.m[2]=b;this.m[3]=k};y.prototype.getTransformedPoint=function(k){return{x:k.x*this.m[0]+k.y*
this.m[2]+this.m[4],y:k.x*this.m[1]+k.y*this.m[3]+this.m[5]}};y.prototype.transformPoints=function(k){for(var v=0;v<k.length;v++)k[v]=this.getTransformedPoint(k[v])};y.prototype.getTranslateX=function(){return this.m[4]};y.prototype.getTranslateY=function(){return this.m[5]};y.prototype.clone=function(){var k=new y;k.m[0]=this.m[0];k.m[1]=this.m[1];k.m[2]=this.m[2];k.m[3]=this.m[3];k.m[4]=this.m[4];k.m[5]=this.m[5];return k};y.prototype.getDeterminant=function(){return this.m[0]*this.m[3]-this.m[1]*
this.m[2]};y.prototype.decompose=function(){var k=this.getDeterminant(),v=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return{translate:{x:this.m[4],y:this.m[5]},rotate:Math.sign(this.m[1])*Math.acos(this.m[0]/v),scale:{x:v,y:k/v},shear:{x:Math.atan((this.m[0]*this.m[2]+this.m[1]*this.m[3])/(v*v)),y:0}}};y.prototype.toString=function(){return"["+this.m[0].toFixed(2)+" "+this.m[2].toFixed(2)+" "+this.m[4].toFixed(2)+"]\n["+this.m[1].toFixed(2)+" "+this.m[3].toFixed(2)+" "+this.m[5].toFixed(2)+
"]\n[0.00 0.00 1.00]"};Math.sign=Math.sign||function(k){k=+k;return 0===k||isNaN(k)?k:0<k?1:-1};L.exports=D.default},{}],65:[function(g,L,D){function y(k,v){this.x=k;this.y=v}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};y.prototype.normalize=function(){var k=this.getLength();this.x/=k;this.y/=k;return this};y.prototype.getDotProduct=function(k){return this.x*k.x+this.y*k.y};y.prototype.scale=function(k){this.x*=
k;this.y*=k;return this};y.prototype.getScaled=function(k){var v=new y(this.x,this.y);v.scale(k);return v};y.prototype.getRounded=function(){return new y(Math.round(this.x),Math.round(this.y))};y.prototype.getTruncated=function(){return new y(~~this.x,~~this.y)};y.prototype.getPerpendicular=function(){return new y(-this.y,this.x)};y.prototype.add=function(k){this.x+=k.x;this.y+=k.y;return this};y.prototype.subtract=function(k){this.x-=k.x;this.y-=k.y;return this};y.prototype.getSum=function(k){return new y(this.x+
k.x,this.y+k.y)};y.subtractPoints=function(k,v){return new y(k.x-v.x,k.y-v.y)};L.exports=D.default},{}],66:[function(g,L,D){function y(){var k=null,v,E=this;this.isPen=function(){if(k){var b=k.pointerType;return 1==b||3==b}return!1};this.getPressure=function(){return k?k.pressure:1};this.pluginLoaded=function(){console.log("Wacom tablet support loaded!");k=v.penAPI};this.isTabletPresent=function(){return!!k};this.detectTablet=function(){if(/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent))console.log("Not attempting to load Wacom tablet plugin, since this is Chrome");
else{console.log("Attempting to load Wacom tablet support...");v=document.createElement("object");if("classid"in v)v.classid="CLSID:092dfa86-5807-5a94-bf3b-5a53ba9e5308";else{var b=document.createElement("param");b.name="onload";b.value="onWacomPluginLoaded";v.appendChild(b);v.type="application/x-wacomtabletplugin"}v.style.position="absolute";v.style.visibility="hidden";v.onload="onWacomPluginLoaded";document.body.appendChild(v);setTimeout(function(){E.isTabletPresent()||console.log("Looks like the Wacom plugin isn't installed, or failed to load.")},
5E3)}}}Object.defineProperty(D,"__esModule",{value:!0});D.default=y;y.getRef=function(){null==y.instance&&(y.instance=new y);return y.instance};window.onWacomPluginLoaded=function(){y.getRef().pluginLoaded()};L.exports=D.default},{}],67:[function(g,L,D){function y(k,v,E,b){var d,x=0;"boolean"!==typeof v&&(b=E,E=v,v=void 0);return function(){function a(){x=+new Date;E.apply(q,h)}function m(){d=void 0}var q=this,r=+new Date-x,h=arguments;b&&!d&&a();d&&clearTimeout(d);void 0===b&&r>k?a():!0!==v&&(d=
setTimeout(b?m:a,void 0===b?k-r:k))}}Object.defineProperty(D,"__esModule",{value:!0});D.debounce=function(k,v,E){return void 0===E?y(k,v,!1):y(k,E,!1!==v)};D.throttle=y},{}],68:[function(g,L,D){function y(k){for(var v={DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27," ":32,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,SHIFT:16,"[":219,"]":221,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"-":189,"=":187,"+":187,";":187,LEFTMETA:91,RIGHTMETA:91,ALT:18,ALTGRAPH:18,OPTION:18,CONTROL:17},E=65;90>=
E;E++){var b=String.fromCharCode(E);v[b]=E}k=k.toUpperCase();if(k in v)return v[k]}(function(k){function v(C,A){for(var I=C.length;I--;)if(C[I]===A)return I;return-1}function E(C){var A,I;var O=y(C.key);-1==v(p,O)&&p.push(O);if(O in h)for(A in h[O]=!0,f)f[A]==O&&(b[A]=!0);else{for(q in h)h[q]=C[u[q]];if(b.filter.call(this,C)&&O in r){var z=d();for(I=0;I<r[O].length;I++){var G=r[O][I];if(G.scope==z||"all"==G.scope){var H=0<G.mods.length;for(A in h)if(!h[A]&&-1<v(G.mods,+A)||h[A]&&-1==v(G.mods,+A))H=
!1;(0!=G.mods.length||h[16]||h[18]||h[17]||h[91])&&!H||!1!==G.method(C,G)||(C.preventDefault?C.preventDefault():C.returnValue=!1,C.stopPropagation&&C.stopPropagation(),C.cancelBubble&&(C.cancelBubble=!0))}}}}}function b(C,A,I){var O=x(C);void 0===I&&(I=A,A="all");for(var z=0;z<O.length;z++){var G=[];C=O[z].split("+");1<C.length&&(G=a(C),C=[C[C.length-1]]);C=C[0];C=e(C);C in r||(r[C]=[]);r[C].push({shortcut:O[z],scope:A,method:I,key:O[z],mods:G})}}function d(){return c||"all"}function x(C){C=C.replace(/\s/g,
"");C=C.split(",");""==C[C.length-1]&&(C[C.length-2]+=",");return C}function a(C){C=C.slice(0,C.length-1);for(var A=0;A<C.length;A++)C[A]=f[C[A]];return C}function m(C,A,I){C.addEventListener&&C.addEventListener(A,I,!1)}var q,r={},h={16:!1,18:!1,17:!1,91:!1},c="all",f={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},n={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,
home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},e=function(C){C=n[C]||C.toUpperCase().charCodeAt(0);return"function"===typeof C?C():C},p=[];for(q=1;20>q;q++)n["f"+q]=111+q;var u={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(q in f)b[q]=!1;m(document,"keydown",function(C){E(C)});m(document,"keyup",function(C){C=y(C.key);var A,I=v(p,C);0<=I&&p.splice(I,1);if(C in h)for(A in h[C]=!1,f)f[A]==C&&(b[A]=!1)});m(window,
"focus",function(){for(q in h)h[q]=!1;for(q in f)b[q]=!1});var B=k.key;k.key=b;k.key.setScope=function(C){c=C||"all"};k.key.getScope=d;k.key.deleteScope=function(C){var A,I;for(A in r){var O=r[A];for(I=0;I<O.length;)O[I].scope===C?O.splice(I,1):I++}};k.key.filter=function(C){C=(C.target||C.srcElement).tagName;return!("INPUT"==C||"SELECT"==C||"TEXTAREA"==C)};k.key.isPressed=function(C){"string"==typeof C&&(C=e(C));return-1!=v(p,C)};k.key.getPressedKeyCodes=function(){return p.slice(0)};k.key.noConflict=
function(){var C=k.key;k.key=B;return C};k.key.unbind=function(C,A){var I=[],O,z;var G=x(C);for(z=0;z<G.length;z++){C=G[z].split("+");1<C.length&&(I=a(C));C=C[C.length-1];C=e(C);void 0===A&&(A=d());if(!r[C])break;for(O=0;O<r[C].length;O++){var H=r[C][O];var J;if(J=H.scope===A)a:if(H=H.mods,H.length!=I.length)J=!1;else{for(J=0;J<H.length;J++)if(H[J]!==I[J]){J=!1;break a}J=!0}J&&(r[C][O]={})}}};"undefined"!==typeof L&&(L.exports=b)})({})},{}],69:[function(g,L,D){(function(){for(var y=0,k=["ms","moz",
"webkit","o"],v=0;v<k.length&&!window.requestAnimationFrame;++v)window.requestAnimationFrame=window[k[v]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[k[v]+"CancelAnimationFrame"]||window[k[v]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(E,b){var d=(new Date).getTime(),x=Math.max(0,16-(d-y));b=window.setTimeout(function(){E(d+x)},x);y=d+x;return b});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(E){clearTimeout(E)})})()},
{}],70:[function(g,L,D){g("../../modules/es.array.fill");g=g("../../internals/entry-unbind");L.exports=g("Array","fill")},{"../../internals/entry-unbind":126,"../../modules/es.array.fill":241}],71:[function(g,L,D){g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g=g("../../internals/entry-unbind");L.exports=g("Array","values")},{"../../internals/entry-unbind":126,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249}],72:[function(g,L,D){g("../../modules/es.array.iterator");
g("../../modules/es.map");g("../../modules/es.object.to-string");g("../../modules/es.string.iterator");g=g("../../internals/path");L.exports=g.Map},{"../../internals/path":199,"../../modules/es.array.iterator":242,"../../modules/es.map":246,"../../modules/es.object.to-string":249,"../../modules/es.string.iterator":264}],73:[function(g,L,D){g("../../modules/es.aggregate-error");g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g("../../modules/es.promise");g("../../modules/es.promise.all-settled");
g("../../modules/es.promise.any");g("../../modules/es.promise.finally");g("../../modules/es.string.iterator");g=g("../../internals/path");L.exports=g.Promise},{"../../internals/path":199,"../../modules/es.aggregate-error":239,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249,"../../modules/es.promise":256,"../../modules/es.promise.all-settled":250,"../../modules/es.promise.any":252,"../../modules/es.promise.finally":255,"../../modules/es.string.iterator":264}],74:[function(g,
L,D){g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g("../../modules/es.set");g("../../modules/es.string.iterator");g=g("../../internals/path");L.exports=g.Set},{"../../internals/path":199,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249,"../../modules/es.set":262,"../../modules/es.string.iterator":264}],75:[function(g,L,D){g("../../modules/es.string.ends-with");g=g("../../internals/entry-unbind");L.exports=g("String","endsWith")},{"../../internals/entry-unbind":126,
"../../modules/es.string.ends-with":263}],76:[function(g,L,D){g("../../modules/es.array.concat");g("../../modules/es.object.to-string");g("../../modules/es.symbol");g("../../modules/es.symbol.async-iterator");g("../../modules/es.symbol.description");g("../../modules/es.symbol.has-instance");g("../../modules/es.symbol.is-concat-spreadable");g("../../modules/es.symbol.iterator");g("../../modules/es.symbol.match");g("../../modules/es.symbol.match-all");g("../../modules/es.symbol.replace");g("../../modules/es.symbol.search");
g("../../modules/es.symbol.species");g("../../modules/es.symbol.split");g("../../modules/es.symbol.to-primitive");g("../../modules/es.symbol.to-string-tag");g("../../modules/es.symbol.unscopables");g("../../modules/es.json.to-string-tag");g("../../modules/es.math.to-string-tag");g("../../modules/es.reflect.to-string-tag");g=g("../../internals/path");L.exports=g.Symbol},{"../../internals/path":199,"../../modules/es.array.concat":240,"../../modules/es.json.to-string-tag":244,"../../modules/es.math.to-string-tag":247,
"../../modules/es.object.to-string":249,"../../modules/es.reflect.to-string-tag":260,"../../modules/es.symbol":272,"../../modules/es.symbol.async-iterator":265,"../../modules/es.symbol.description":267,"../../modules/es.symbol.has-instance":269,"../../modules/es.symbol.is-concat-spreadable":270,"../../modules/es.symbol.iterator":271,"../../modules/es.symbol.match":275,"../../modules/es.symbol.match-all":274,"../../modules/es.symbol.replace":276,"../../modules/es.symbol.search":277,"../../modules/es.symbol.species":278,
"../../modules/es.symbol.split":279,"../../modules/es.symbol.to-primitive":280,"../../modules/es.symbol.to-string-tag":281,"../../modules/es.symbol.unscopables":282}],77:[function(g,L,D){g("../../modules/es.typed-array.fill")},{"../../modules/es.typed-array.fill":283}],78:[function(g,L,D){g("../../modules/es.typed-array.slice")},{"../../modules/es.typed-array.slice":284}],79:[function(g,L,D){var y=g("../internals/is-callable"),k=g("../internals/try-to-string"),v=TypeError;L.exports=function(E){if(y(E))return E;
throw new v(k(E)+" is not a function");}},{"../internals/is-callable":161,"../internals/try-to-string":228}],80:[function(g,L,D){var y=g("../internals/is-constructor"),k=g("../internals/try-to-string"),v=TypeError;L.exports=function(E){if(y(E))return E;throw new v(k(E)+" is not a constructor");}},{"../internals/is-constructor":162,"../internals/try-to-string":228}],81:[function(g,L,D){var y=g("../internals/is-callable"),k=String,v=TypeError;L.exports=function(E){if("object"==typeof E||y(E))return E;
throw new v("Can't set "+k(E)+" as a prototype");}},{"../internals/is-callable":161}],82:[function(g,L,D){D=g("../internals/well-known-symbol");var y=g("../internals/object-create");g=g("../internals/object-define-property").f;var k=D("unscopables"),v=Array.prototype;void 0===v[k]&&g(v,k,{configurable:!0,value:y(null)});L.exports=function(E){v[k][E]=!0}},{"../internals/object-create":182,"../internals/object-define-property":184,"../internals/well-known-symbol":237}],83:[function(g,L,D){var y=g("../internals/object-is-prototype-of"),
k=TypeError;L.exports=function(v,E){if(y(E,v))return v;throw new k("Incorrect invocation");}},{"../internals/object-is-prototype-of":191}],84:[function(g,L,D){var y=g("../internals/is-object"),k=String,v=TypeError;L.exports=function(E){if(y(E))return E;throw new v(k(E)+" is not an object");}},{"../internals/is-object":165}],85:[function(g,L,D){L.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],86:[function(g,L,D){g=g("../internals/fails");L.exports=g(function(){if("function"==
typeof ArrayBuffer){var y=new ArrayBuffer(8);Object.isExtensible(y)&&Object.defineProperty(y,"a",{value:8})}})},{"../internals/fails":132}],87:[function(g,L,D){var y=g("../internals/array-buffer-basic-detection"),k=g("../internals/descriptors"),v=g("../internals/global"),E=g("../internals/is-callable"),b=g("../internals/is-object"),d=g("../internals/has-own-property"),x=g("../internals/classof"),a=g("../internals/try-to-string");D=g("../internals/create-non-enumerable-property");var m=g("../internals/define-built-in"),
q=g("../internals/define-built-in-accessor"),r=g("../internals/object-is-prototype-of"),h=g("../internals/object-get-prototype-of"),c=g("../internals/object-set-prototype-of"),f=g("../internals/well-known-symbol"),n=g("../internals/uid"),e=g("../internals/internal-state");g=e.enforce;var p=e.get,u=v.Int8Array,B=u&&u.prototype;e=(e=v.Uint8ClampedArray)&&e.prototype;var C=u&&h(u),A=B&&h(B);u=Object.prototype;var I=v.TypeError;f=f("toStringTag");var O=n("TYPED_ARRAY_TAG"),z=y&&!!c&&"Opera"!==x(v.opera);
y=!1;var G,H,J={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},K={BigInt64Array:8,BigUint64Array:8},S=function(Y){Y=h(Y);if(b(Y)){var ra=p(Y);return ra&&d(ra,"TypedArrayConstructor")?ra.TypedArrayConstructor:S(Y)}},da=function(Y){if(!b(Y))return!1;Y=x(Y);return d(J,Y)||d(K,Y)};for(G in J)(H=(n=v[G])&&n.prototype)?g(H).TypedArrayConstructor=n:z=!1;for(G in K)(H=(n=v[G])&&n.prototype)&&(g(H).TypedArrayConstructor=n);
if(!z||!E(C)||C===Function.prototype)if(C=function(){throw new I("Incorrect invocation");},z)for(G in J)v[G]&&c(v[G],C);if(!z||!A||A===u)if(A=C.prototype,z)for(G in J)v[G]&&c(v[G].prototype,A);z&&h(e)!==A&&c(e,A);if(k&&!d(A,f))for(G in y=!0,q(A,f,{configurable:!0,get:function(){return b(this)?this[O]:void 0}}),J)v[G]&&D(v[G],O,G);L.exports={NATIVE_ARRAY_BUFFER_VIEWS:z,TYPED_ARRAY_TAG:y&&O,aTypedArray:function(Y){if(da(Y))return Y;throw new I("Target is not a typed array");},aTypedArrayConstructor:function(Y){if(E(Y)&&
(!c||r(C,Y)))return Y;throw new I(a(Y)+" is not a typed array constructor");},exportTypedArrayMethod:function(Y,ra,ma,Q){if(k){if(ma)for(var ia in J){var ba=v[ia];if(ba&&d(ba.prototype,Y))try{delete ba.prototype[Y]}catch(ta){try{ba.prototype[Y]=ra}catch(pa){}}}A[Y]&&!ma||m(A,Y,ma?ra:z&&B[Y]||ra,Q)}},exportTypedArrayStaticMethod:function(Y,ra,ma){var Q,ia;if(k){if(c){if(ma)for(Q in J)if((ia=v[Q])&&d(ia,Y))try{delete ia[Y]}catch(ba){}if(!C[Y]||ma)try{return m(C,Y,ma?ra:z&&C[Y]||ra)}catch(ba){}else return}for(Q in J)ia=
v[Q],!ia||ia[Y]&&!ma||m(ia,Y,ra)}},getTypedArrayConstructor:S,isView:function(Y){if(!b(Y))return!1;Y=x(Y);return"DataView"===Y||d(J,Y)||d(K,Y)},isTypedArray:da,TypedArray:C,TypedArrayPrototype:A}},{"../internals/array-buffer-basic-detection":85,"../internals/classof":98,"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/global":147,"../internals/has-own-property":148,"../internals/internal-state":158,
"../internals/is-callable":161,"../internals/is-object":165,"../internals/object-get-prototype-of":189,"../internals/object-is-prototype-of":191,"../internals/object-set-prototype-of":195,"../internals/try-to-string":228,"../internals/uid":230,"../internals/well-known-symbol":237}],88:[function(g,L,D){var y=g("../internals/to-object"),k=g("../internals/to-absolute-index"),v=g("../internals/length-of-array-like");L.exports=function(E){var b=y(this),d=v(b),x=arguments.length,a=k(1<x?arguments[1]:void 0,
d);x=2<x?arguments[2]:void 0;for(d=void 0===x?d:k(x,d);d>a;)b[a++]=E;return b}},{"../internals/length-of-array-like":175,"../internals/to-absolute-index":218,"../internals/to-object":223}],89:[function(g,L,D){var y=g("../internals/to-indexed-object"),k=g("../internals/to-absolute-index"),v=g("../internals/length-of-array-like");g=function(E){return function(b,d,x){b=y(b);var a=v(b);x=k(x,a);if(E&&d!==d)for(;a>x;){if(d=b[x++],d!==d)return!0}else for(;a>x;x++)if((E||x in b)&&b[x]===d)return E||x||0;
return!E&&-1}};L.exports={includes:g(!0),indexOf:g(!1)}},{"../internals/length-of-array-like":175,"../internals/to-absolute-index":218,"../internals/to-indexed-object":220}],90:[function(g,L,D){var y=g("../internals/function-bind-context");D=g("../internals/function-uncurry-this");var k=g("../internals/indexed-object"),v=g("../internals/to-object"),E=g("../internals/length-of-array-like"),b=g("../internals/array-species-create"),d=D([].push);g=function(x){var a=1===x,m=2===x,q=3===x,r=4===x,h=6===
x,c=7===x,f=5===x||h;return function(n,e,p,u){var B=v(n),C=k(B);e=y(e,p);p=E(C);var A=0;u=u||b;n=a?u(n,p):m||c?u(n,0):void 0;for(var I;p>A;A++)if(f||A in C)if(u=C[A],I=e(u,A,B),x)if(a)n[A]=I;else if(I)switch(x){case 3:return!0;case 5:return u;case 6:return A;case 2:d(n,u)}else switch(x){case 4:return!1;case 7:d(n,u)}return h?-1:q||r?r:n}};L.exports={forEach:g(0),map:g(1),filter:g(2),some:g(3),every:g(4),find:g(5),findIndex:g(6),filterReject:g(7)}},{"../internals/array-species-create":95,"../internals/function-bind-context":135,
"../internals/function-uncurry-this":141,"../internals/indexed-object":153,"../internals/length-of-array-like":175,"../internals/to-object":223}],91:[function(g,L,D){var y=g("../internals/fails");D=g("../internals/well-known-symbol");var k=g("../internals/engine-v8-version"),v=D("species");L.exports=function(E){return 51<=k||!y(function(){var b=[];(b.constructor={})[v]=function(){return{foo:1}};return 1!==b[E](Boolean).foo})}},{"../internals/engine-v8-version":125,"../internals/fails":132,"../internals/well-known-symbol":237}],
92:[function(g,L,D){var y=g("../internals/to-absolute-index"),k=g("../internals/length-of-array-like"),v=g("../internals/create-property"),E=Array,b=Math.max;L.exports=function(d,x,a){var m=k(d);x=y(x,m);a=y(void 0===a?m:a,m);m=E(b(a-x,0));for(var q=0;x<a;x++,q++)v(m,q,d[x]);m.length=q;return m}},{"../internals/create-property":107,"../internals/length-of-array-like":175,"../internals/to-absolute-index":218}],93:[function(g,L,D){g=g("../internals/function-uncurry-this");L.exports=g([].slice)},{"../internals/function-uncurry-this":141}],
94:[function(g,L,D){var y=g("../internals/is-array"),k=g("../internals/is-constructor"),v=g("../internals/is-object"),E=g("../internals/well-known-symbol")("species"),b=Array;L.exports=function(d){if(y(d)){var x=d.constructor;k(x)&&(x===b||y(x.prototype))?x=void 0:v(x)&&(x=x[E],null===x&&(x=void 0))}return void 0===x?b:x}},{"../internals/is-array":160,"../internals/is-constructor":162,"../internals/is-object":165,"../internals/well-known-symbol":237}],95:[function(g,L,D){var y=g("../internals/array-species-constructor");
L.exports=function(k,v){return new (y(k))(0===v?0:v)}},{"../internals/array-species-constructor":94}],96:[function(g,L,D){var y=g("../internals/well-known-symbol")("iterator"),k=!1;try{var v=0;g={next:function(){return{done:!!v++}},"return":function(){k=!0}};g[y]=function(){return this};Array.from(g,function(){throw 2;})}catch(E){}L.exports=function(E,b){if(!b&&!k)return!1;var d=!1;try{b={},b[y]=function(){return{next:function(){return{done:d=!0}}}},E(b)}catch(x){}return d}},{"../internals/well-known-symbol":237}],
97:[function(g,L,D){g=g("../internals/function-uncurry-this");var y=g({}.toString),k=g("".slice);L.exports=function(v){return k(y(v),8,-1)}},{"../internals/function-uncurry-this":141}],98:[function(g,L,D){D=g("../internals/to-string-tag-support");var y=g("../internals/is-callable"),k=g("../internals/classof-raw"),v=g("../internals/well-known-symbol")("toStringTag"),E=Object,b="Arguments"===k(function(){return arguments}());L.exports=D?k:function(d){var x;if(void 0===d)var a="Undefined";else{if(null===
d)var m="Null";else{a:{var q=d=E(d);try{m=q[v];break a}catch(r){}m=void 0}m="string"==typeof(a=m)?a:b?k(d):"Object"===(x=k(d))&&y(d.callee)?"Arguments":x}a=m}return a}},{"../internals/classof-raw":97,"../internals/is-callable":161,"../internals/to-string-tag-support":226,"../internals/well-known-symbol":237}],99:[function(g,L,D){var y=g("../internals/object-create"),k=g("../internals/define-built-in-accessor"),v=g("../internals/define-built-ins"),E=g("../internals/function-bind-context"),b=g("../internals/an-instance"),
d=g("../internals/is-null-or-undefined"),x=g("../internals/iterate"),a=g("../internals/iterator-define"),m=g("../internals/create-iter-result-object"),q=g("../internals/set-species"),r=g("../internals/descriptors"),h=g("../internals/internal-metadata").fastKey;g=g("../internals/internal-state");var c=g.set,f=g.getterFor;L.exports={getConstructor:function(n,e,p,u){n=n(function(O,z){b(O,B);c(O,{type:e,index:y(null),first:void 0,last:void 0,size:0});r||(O.size=0);d(z)||x(z,O[u],{that:O,AS_ENTRIES:p})});
var B=n.prototype,C=f(e),A=function(O,z,G){var H=C(O),J=I(O,z),K,S;J?J.value=G:(H.last=J={index:S=h(z,!0),key:z,value:G,previous:K=H.last,next:void 0,removed:!1},H.first||(H.first=J),K&&(K.next=J),r?H.size++:O.size++,"F"!==S&&(H.index[S]=J));return O},I=function(O,z){O=C(O);var G=h(z);if("F"!==G)return O.index[G];for(O=O.first;O;O=O.next)if(O.key===z)return O};v(B,{clear:function(){for(var O=C(this),z=O.index,G=O.first;G;)G.removed=!0,G.previous&&(G.previous=G.previous.next=void 0),delete z[G.index],
G=G.next;O.first=O.last=void 0;r?O.size=0:this.size=0},"delete":function(O){var z=C(this);if(O=I(this,O)){var G=O.next,H=O.previous;delete z.index[O.index];O.removed=!0;H&&(H.next=G);G&&(G.previous=H);z.first===O&&(z.first=G);z.last===O&&(z.last=H);r?z.size--:this.size--}return!!O},forEach:function(O){for(var z=C(this),G=E(O,1<arguments.length?arguments[1]:void 0),H;H=H?H.next:z.first;)for(G(H.value,H.key,this);H&&H.removed;)H=H.previous},has:function(O){return!!I(this,O)}});v(B,p?{get:function(O){return(O=
I(this,O))&&O.value},set:function(O,z){return A(this,0===O?0:O,z)}}:{add:function(O){return A(this,O=0===O?0:O,O)}});r&&k(B,"size",{configurable:!0,get:function(){return C(this).size}});return n},setStrong:function(n,e,p){var u=e+" Iterator",B=f(e),C=f(u);a(n,e,function(A,I){c(this,{type:u,target:A,state:B(A),kind:I,last:void 0})},function(){for(var A=C(this),I=A.kind,O=A.last;O&&O.removed;)O=O.previous;return A.target&&(A.last=O=O?O.next:A.state.first)?"keys"===I?m(O.key,!1):"values"===I?m(O.value,
!1):m([O.key,O.value],!1):(A.target=void 0,m(void 0,!0))},p?"entries":"values",!p,!0);q(e)}}},{"../internals/an-instance":83,"../internals/create-iter-result-object":104,"../internals/define-built-in-accessor":108,"../internals/define-built-ins":110,"../internals/descriptors":112,"../internals/function-bind-context":135,"../internals/internal-metadata":157,"../internals/internal-state":158,"../internals/is-null-or-undefined":164,"../internals/iterate":169,"../internals/iterator-define":172,"../internals/object-create":182,
"../internals/set-species":207}],100:[function(g,L,D){var y=g("../internals/export"),k=g("../internals/global"),v=g("../internals/function-uncurry-this"),E=g("../internals/is-forced"),b=g("../internals/define-built-in"),d=g("../internals/internal-metadata"),x=g("../internals/iterate"),a=g("../internals/an-instance"),m=g("../internals/is-callable"),q=g("../internals/is-null-or-undefined"),r=g("../internals/is-object"),h=g("../internals/fails"),c=g("../internals/check-correctness-of-iteration"),f=g("../internals/set-to-string-tag"),
n=g("../internals/inherit-if-required");L.exports=function(e,p,u){var B=-1!==e.indexOf("Map"),C=-1!==e.indexOf("Weak"),A=B?"set":"add",I=k[e],O=I&&I.prototype,z=I,G={},H=function(ra){var ma=v(O[ra]);b(O,ra,"add"===ra?function(Q){ma(this,0===Q?0:Q);return this}:"delete"===ra?function(Q){return C&&!r(Q)?!1:ma(this,0===Q?0:Q)}:"get"===ra?function(Q){return C&&!r(Q)?void 0:ma(this,0===Q?0:Q)}:"has"===ra?function(Q){return C&&!r(Q)?!1:ma(this,0===Q?0:Q)}:function(Q,ia){ma(this,0===Q?0:Q,ia);return this})};
if(E(e,!m(I)||!(C||O.forEach&&!h(function(){(new I).entries().next()}))))z=u.getConstructor(p,e,B,A),d.enable();else if(E(e,!0)){var J=new z,K=J[A](C?{}:-0,1)!==J,S=h(function(){J.has(1)}),da=c(function(ra){new I(ra)}),Y=!C&&h(function(){for(var ra=new I,ma=5;ma--;)ra[A](ma,ma);return!ra.has(-0)});da||(z=p(function(ra,ma){a(ra,O);ra=n(new I,ra,z);q(ma)||x(ma,ra[A],{that:ra,AS_ENTRIES:B});return ra}),z.prototype=O,O.constructor=z);if(S||Y)H("delete"),H("has"),B&&H("get");(Y||K)&&H(A);C&&O.clear&&delete O.clear}G[e]=
z;y({global:!0,constructor:!0,forced:z!==I},G);f(z,e);C||u.setStrong(z,e,B);return z}},{"../internals/an-instance":83,"../internals/check-correctness-of-iteration":96,"../internals/define-built-in":109,"../internals/export":131,"../internals/fails":132,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/inherit-if-required":154,"../internals/internal-metadata":157,"../internals/is-callable":161,"../internals/is-forced":163,"../internals/is-null-or-undefined":164,"../internals/is-object":165,
"../internals/iterate":169,"../internals/set-to-string-tag":208}],101:[function(g,L,D){var y=g("../internals/has-own-property"),k=g("../internals/own-keys"),v=g("../internals/object-get-own-property-descriptor"),E=g("../internals/object-define-property");L.exports=function(b,d,x){for(var a=k(d),m=E.f,q=v.f,r=0;r<a.length;r++){var h=a[r];y(b,h)||x&&y(x,h)||m(b,h,q(d,h))}}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/object-get-own-property-descriptor":185,
"../internals/own-keys":198}],102:[function(g,L,D){var y=g("../internals/well-known-symbol")("match");L.exports=function(k){var v=/./;try{"/./"[k](v)}catch(E){try{return v[y]=!1,"/./"[k](v)}catch(b){}}return!1}},{"../internals/well-known-symbol":237}],103:[function(g,L,D){g=g("../internals/fails");L.exports=!g(function(){function y(){}y.prototype.constructor=null;return Object.getPrototypeOf(new y)!==y.prototype})},{"../internals/fails":132}],104:[function(g,L,D){L.exports=function(y,k){return{value:y,
done:k}}},{}],105:[function(g,L,D){D=g("../internals/descriptors");var y=g("../internals/object-define-property"),k=g("../internals/create-property-descriptor");L.exports=D?function(v,E,b){return y.f(v,E,k(1,b))}:function(v,E,b){v[E]=b;return v}},{"../internals/create-property-descriptor":106,"../internals/descriptors":112,"../internals/object-define-property":184}],106:[function(g,L,D){L.exports=function(y,k){return{enumerable:!(y&1),configurable:!(y&2),writable:!(y&4),value:k}}},{}],107:[function(g,
L,D){var y=g("../internals/to-property-key"),k=g("../internals/object-define-property"),v=g("../internals/create-property-descriptor");L.exports=function(E,b,d){b=y(b);b in E?k.f(E,b,v(0,d)):E[b]=d}},{"../internals/create-property-descriptor":106,"../internals/object-define-property":184,"../internals/to-property-key":225}],108:[function(g,L,D){var y=g("../internals/make-built-in"),k=g("../internals/object-define-property");L.exports=function(v,E,b){b.get&&y(b.get,E,{getter:!0});b.set&&y(b.set,E,
{setter:!0});return k.f(v,E,b)}},{"../internals/make-built-in":176,"../internals/object-define-property":184}],109:[function(g,L,D){var y=g("../internals/is-callable"),k=g("../internals/object-define-property"),v=g("../internals/make-built-in"),E=g("../internals/define-global-property");L.exports=function(b,d,x,a){a||={};var m=a.enumerable,q=void 0!==a.name?a.name:d;y(x)&&v(x,q,a);if(a.global)m?b[d]=x:E(d,x);else{try{a.unsafe?b[d]&&(m=!0):delete b[d]}catch(r){}m?b[d]=x:k.f(b,d,{value:x,enumerable:!1,
configurable:!a.nonConfigurable,writable:!a.nonWritable})}return b}},{"../internals/define-global-property":111,"../internals/is-callable":161,"../internals/make-built-in":176,"../internals/object-define-property":184}],110:[function(g,L,D){var y=g("../internals/define-built-in");L.exports=function(k,v,E){for(var b in v)y(k,b,v[b],E);return k}},{"../internals/define-built-in":109}],111:[function(g,L,D){var y=g("../internals/global"),k=Object.defineProperty;L.exports=function(v,E){try{k(y,v,{value:E,
configurable:!0,writable:!0})}catch(b){y[v]=E}return E}},{"../internals/global":147}],112:[function(g,L,D){g=g("../internals/fails");L.exports=!g(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":132}],113:[function(g,L,D){g="object"==typeof document&&document.all;L.exports={all:g,IS_HTMLDDA:"undefined"==typeof g&&void 0!==g}},{}],114:[function(g,L,D){D=g("../internals/global");g=g("../internals/is-object");var y=D.document,k=g(y)&&g(y.createElement);
L.exports=function(v){return k?y.createElement(v):{}}},{"../internals/global":147,"../internals/is-object":165}],115:[function(g,L,D){var y=TypeError;L.exports=function(k){if(9007199254740991<k)throw y("Maximum allowed index exceeded");return k}},{}],116:[function(g,L,D){L.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,
MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],117:[function(g,L,D){g=(g=g("../internals/document-create-element")("span").classList)&&g.constructor&&g.constructor.prototype;L.exports=g===Object.prototype?void 0:g},{"../internals/document-create-element":114}],118:[function(g,
L,D){D=g("../internals/engine-is-deno");g=g("../internals/engine-is-node");L.exports=!D&&!g&&"object"==typeof window&&"object"==typeof document},{"../internals/engine-is-deno":119,"../internals/engine-is-node":122}],119:[function(g,L,D){L.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},{}],120:[function(g,L,D){g=g("../internals/engine-user-agent");L.exports=/ipad|iphone|ipod/i.test(g)&&"undefined"!=typeof Pebble},{"../internals/engine-user-agent":124}],121:[function(g,L,D){g=g("../internals/engine-user-agent");
L.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(g)},{"../internals/engine-user-agent":124}],122:[function(g,L,D){D=g("../internals/global");g=g("../internals/classof-raw");L.exports="process"===g(D.process)},{"../internals/classof-raw":97,"../internals/global":147}],123:[function(g,L,D){g=g("../internals/engine-user-agent");L.exports=/web0s(?!.*chrome)/i.test(g)},{"../internals/engine-user-agent":124}],124:[function(g,L,D){L.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||
""},{}],125:[function(g,L,D){D=g("../internals/global");g=g("../internals/engine-user-agent");var y=D.process;D=D.Deno;D=(D=y&&y.versions||D&&D.version)&&D.v8;if(D){D=D.split(".");var k=0<D[0]&&4>D[0]?1:+(D[0]+D[1])}!k&&g&&(D=g.match(/Edge\/(\d+)/),(!D||74<=D[1])&&(D=g.match(/Chrome\/(\d+)/))&&(k=+D[1]));L.exports=k},{"../internals/engine-user-agent":124,"../internals/global":147}],126:[function(g,L,D){var y=g("../internals/global"),k=g("../internals/function-uncurry-this");L.exports=function(v,E){return k(y[v].prototype[E])}},
{"../internals/function-uncurry-this":141,"../internals/global":147}],127:[function(g,L,D){L.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},{}],128:[function(g,L,D){g=g("../internals/function-uncurry-this");var y=Error,k=g("".replace);g=String((new y("zxcasd")).stack);var v=/\n\s*at [^:]*:[^\n]*/,E=v.test(g);L.exports=function(b,d){if(E&&"string"==typeof b&&!y.prepareStackTrace)for(;d--;)b=k(b,v,"");return b}},{"../internals/function-uncurry-this":141}],
129:[function(g,L,D){var y=g("../internals/create-non-enumerable-property"),k=g("../internals/error-stack-clear"),v=g("../internals/error-stack-installable"),E=Error.captureStackTrace;L.exports=function(b,d,x,a){v&&(E?E(b,d):y(b,"stack",k(x,a)))}},{"../internals/create-non-enumerable-property":105,"../internals/error-stack-clear":128,"../internals/error-stack-installable":130}],130:[function(g,L,D){D=g("../internals/fails");var y=g("../internals/create-property-descriptor");L.exports=!D(function(){var k=
Error("a");if(!("stack"in k))return!0;Object.defineProperty(k,"stack",y(1,7));return 7!==k.stack})},{"../internals/create-property-descriptor":106,"../internals/fails":132}],131:[function(g,L,D){var y=g("../internals/global"),k=g("../internals/object-get-own-property-descriptor").f,v=g("../internals/create-non-enumerable-property"),E=g("../internals/define-built-in"),b=g("../internals/define-global-property"),d=g("../internals/copy-constructor-properties"),x=g("../internals/is-forced");L.exports=
function(a,m){var q=a.target,r=a.global,h=a.stat,c,f,n;if(f=r?y:h?y[q]||b(q,{}):(y[q]||{}).prototype)for(n in m){var e=m[n];var p=a.dontCallGetSet?(c=k(f,n))&&c.value:f[n];c=x(r?n:q+(h?".":"#")+n,a.forced);if(!c&&void 0!==p){if(typeof e==typeof p)continue;d(e,p)}(a.sham||p&&p.sham)&&v(e,"sham",!0);E(f,n,e,a)}}},{"../internals/copy-constructor-properties":101,"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/define-global-property":111,"../internals/global":147,
"../internals/is-forced":163,"../internals/object-get-own-property-descriptor":185}],132:[function(g,L,D){L.exports=function(y){try{return!!y()}catch(k){return!0}}},{}],133:[function(g,L,D){g=g("../internals/fails");L.exports=!g(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":132}],134:[function(g,L,D){g=g("../internals/function-bind-native");D=Function.prototype;var y=D.apply,k=D.call;L.exports="object"==typeof Reflect&&Reflect.apply||(g?k.bind(y):function(){return k.apply(y,
arguments)})},{"../internals/function-bind-native":136}],135:[function(g,L,D){D=g("../internals/function-uncurry-this-clause");var y=g("../internals/a-callable"),k=g("../internals/function-bind-native"),v=D(D.bind);L.exports=function(E,b){y(E);return void 0===b?E:k?v(E,b):function(){return E.apply(b,arguments)}}},{"../internals/a-callable":79,"../internals/function-bind-native":136,"../internals/function-uncurry-this-clause":140}],136:[function(g,L,D){g=g("../internals/fails");L.exports=!g(function(){var y=
function(){}.bind();return"function"!=typeof y||y.hasOwnProperty("prototype")})},{"../internals/fails":132}],137:[function(g,L,D){g=g("../internals/function-bind-native");var y=Function.prototype.call;L.exports=g?y.bind(y):function(){return y.apply(y,arguments)}},{"../internals/function-bind-native":136}],138:[function(g,L,D){D=g("../internals/descriptors");var y=g("../internals/has-own-property");g=Function.prototype;var k=D&&Object.getOwnPropertyDescriptor,v=(y=y(g,"name"))&&"something"===function(){}.name;
D=y&&(!D||D&&k(g,"name").configurable);L.exports={EXISTS:y,PROPER:v,CONFIGURABLE:D}},{"../internals/descriptors":112,"../internals/has-own-property":148}],139:[function(g,L,D){var y=g("../internals/function-uncurry-this"),k=g("../internals/a-callable");L.exports=function(v,E,b){try{return y(k(Object.getOwnPropertyDescriptor(v,E)[b]))}catch(d){}}},{"../internals/a-callable":79,"../internals/function-uncurry-this":141}],140:[function(g,L,D){var y=g("../internals/classof-raw"),k=g("../internals/function-uncurry-this");
L.exports=function(v){if("Function"===y(v))return k(v)}},{"../internals/classof-raw":97,"../internals/function-uncurry-this":141}],141:[function(g,L,D){g=g("../internals/function-bind-native");D=Function.prototype;var y=D.call;D=g&&D.bind.bind(y,y);L.exports=g?D:function(k){return function(){return y.apply(k,arguments)}}},{"../internals/function-bind-native":136}],142:[function(g,L,D){var y=g("../internals/global"),k=g("../internals/is-callable");L.exports=function(v,E){if(2>arguments.length){var b=
y[v];b=k(b)?b:void 0}else b=y[v]&&y[v][E];return b}},{"../internals/global":147,"../internals/is-callable":161}],143:[function(g,L,D){var y=g("../internals/classof"),k=g("../internals/get-method"),v=g("../internals/is-null-or-undefined"),E=g("../internals/iterators"),b=g("../internals/well-known-symbol")("iterator");L.exports=function(d){if(!v(d))return k(d,b)||k(d,"@@iterator")||E[y(d)]}},{"../internals/classof":98,"../internals/get-method":146,"../internals/is-null-or-undefined":164,"../internals/iterators":174,
"../internals/well-known-symbol":237}],144:[function(g,L,D){var y=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/an-object"),E=g("../internals/try-to-string"),b=g("../internals/get-iterator-method"),d=TypeError;L.exports=function(x,a){var m=2>arguments.length?b(x):a;if(k(m))return v(y(m,x));throw new d(E(x)+" is not iterable");}},{"../internals/a-callable":79,"../internals/an-object":84,"../internals/function-call":137,"../internals/get-iterator-method":143,"../internals/try-to-string":228}],
145:[function(g,L,D){D=g("../internals/function-uncurry-this");var y=g("../internals/is-array"),k=g("../internals/is-callable"),v=g("../internals/classof-raw"),E=g("../internals/to-string"),b=D([].push);L.exports=function(d){if(k(d))return d;if(y(d)){for(var x=d.length,a=[],m=0;m<x;m++){var q=d[m];"string"==typeof q?b(a,q):("number"==typeof q||"Number"===v(q)||"String"===v(q))&&b(a,E(q))}var r=a.length,h=!0;return function(c,f){if(h)return h=!1,f;if(y(this))return f;for(var n=0;n<r;n++)if(a[n]===
c)return f}}}},{"../internals/classof-raw":97,"../internals/function-uncurry-this":141,"../internals/is-array":160,"../internals/is-callable":161,"../internals/to-string":227}],146:[function(g,L,D){var y=g("../internals/a-callable"),k=g("../internals/is-null-or-undefined");L.exports=function(v,E){v=v[E];return k(v)?void 0:y(v)}},{"../internals/a-callable":79,"../internals/is-null-or-undefined":164}],147:[function(g,L,D){(function(y){(function(){var k=function(v){return v&&v.Math===Math&&v};L.exports=
k("object"==typeof globalThis&&globalThis)||k("object"==typeof window&&window)||k("object"==typeof self&&self)||k("object"==typeof y&&y)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],148:[function(g,L,D){D=g("../internals/function-uncurry-this");var y=g("../internals/to-object"),k=D({}.hasOwnProperty);L.exports=Object.hasOwn||function(v,E){return k(y(v),
E)}},{"../internals/function-uncurry-this":141,"../internals/to-object":223}],149:[function(g,L,D){L.exports={}},{}],150:[function(g,L,D){L.exports=function(y,k){try{1===arguments.length?console.error(y):console.error(y,k)}catch(v){}}},{}],151:[function(g,L,D){g=g("../internals/get-built-in");L.exports=g("document","documentElement")},{"../internals/get-built-in":142}],152:[function(g,L,D){D=g("../internals/descriptors");var y=g("../internals/fails"),k=g("../internals/document-create-element");L.exports=
!D&&!y(function(){return 7!==Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":112,"../internals/document-create-element":114,"../internals/fails":132}],153:[function(g,L,D){D=g("../internals/function-uncurry-this");var y=g("../internals/fails"),k=g("../internals/classof-raw"),v=Object,E=D("".split);L.exports=y(function(){return!v("z").propertyIsEnumerable(0)})?function(b){return"String"===k(b)?E(b,""):v(b)}:v},{"../internals/classof-raw":97,"../internals/fails":132,
"../internals/function-uncurry-this":141}],154:[function(g,L,D){var y=g("../internals/is-callable"),k=g("../internals/is-object"),v=g("../internals/object-set-prototype-of");L.exports=function(E,b,d){var x,a;v&&y(x=b.constructor)&&x!==d&&k(a=x.prototype)&&a!==d.prototype&&v(E,a);return E}},{"../internals/is-callable":161,"../internals/is-object":165,"../internals/object-set-prototype-of":195}],155:[function(g,L,D){D=g("../internals/function-uncurry-this");var y=g("../internals/is-callable");g=g("../internals/shared-store");
var k=D(Function.toString);y(g.inspectSource)||(g.inspectSource=function(v){return k(v)});L.exports=g.inspectSource},{"../internals/function-uncurry-this":141,"../internals/is-callable":161,"../internals/shared-store":210}],156:[function(g,L,D){var y=g("../internals/is-object"),k=g("../internals/create-non-enumerable-property");L.exports=function(v,E){y(E)&&"cause"in E&&k(v,"cause",E.cause)}},{"../internals/create-non-enumerable-property":105,"../internals/is-object":165}],157:[function(g,L,D){var y=
g("../internals/export"),k=g("../internals/function-uncurry-this");D=g("../internals/hidden-keys");var v=g("../internals/is-object"),E=g("../internals/has-own-property"),b=g("../internals/object-define-property").f,d=g("../internals/object-get-own-property-names"),x=g("../internals/object-get-own-property-names-external"),a=g("../internals/object-is-extensible"),m=g("../internals/uid"),q=g("../internals/freezing"),r=!1,h=m("meta"),c=0,f=function(e){b(e,h,{value:{objectID:"O"+c++,weakData:{}}})},n=
L.exports={enable:function(){n.enable=function(){};r=!0;var e=d.f,p=k([].splice),u={};u[h]=1;e(u).length&&(d.f=function(B){B=e(B);for(var C=0,A=B.length;C<A;C++)if(B[C]===h){p(B,C,1);break}return B},y({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:x.f}))},fastKey:function(e,p){if(!v(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!E(e,h)){if(!a(e))return"F";if(!p)return"E";f(e)}return e[h].objectID},getWeakData:function(e,p){if(!E(e,h)){if(!a(e))return!0;if(!p)return!1;f(e)}return e[h].weakData},
onFreeze:function(e){q&&r&&a(e)&&!E(e,h)&&f(e);return e}};D[h]=!0},{"../internals/export":131,"../internals/freezing":133,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/is-object":165,"../internals/object-define-property":184,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-names-external":186,"../internals/object-is-extensible":190,"../internals/uid":230}],158:[function(g,L,D){D=g("../internals/weak-map-basic-detection");
var y=g("../internals/global"),k=g("../internals/is-object"),v=g("../internals/create-non-enumerable-property"),E=g("../internals/has-own-property"),b=g("../internals/shared-store"),d=g("../internals/shared-key");g=g("../internals/hidden-keys");var x=y.TypeError;y=y.WeakMap;if(D||b.state){var a=b.state||(b.state=new y);a.get=a.get;a.has=a.has;a.set=a.set;var m=function(c,f){if(a.has(c))throw new x("Object already initialized");f.facade=c;a.set(c,f);return f};var q=function(c){return a.get(c)||{}};
var r=function(c){return a.has(c)}}else{var h=d("state");g[h]=!0;m=function(c,f){if(E(c,h))throw new x("Object already initialized");f.facade=c;v(c,h,f);return f};q=function(c){return E(c,h)?c[h]:{}};r=function(c){return E(c,h)}}L.exports={set:m,get:q,has:r,enforce:function(c){return r(c)?q(c):m(c,{})},getterFor:function(c){return function(f){var n;if(!k(f)||(n=q(f)).type!==c)throw new x("Incompatible receiver, "+c+" required");return n}}}},{"../internals/create-non-enumerable-property":105,"../internals/global":147,
"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/is-object":165,"../internals/shared-key":209,"../internals/shared-store":210,"../internals/weak-map-basic-detection":234}],159:[function(g,L,D){D=g("../internals/well-known-symbol");var y=g("../internals/iterators"),k=D("iterator"),v=Array.prototype;L.exports=function(E){return void 0!==E&&(y.Array===E||v[k]===E)}},{"../internals/iterators":174,"../internals/well-known-symbol":237}],160:[function(g,L,D){var y=g("../internals/classof-raw");
L.exports=Array.isArray||function(k){return"Array"===y(k)}},{"../internals/classof-raw":97}],161:[function(g,L,D){g=g("../internals/document-all");var y=g.all;L.exports=g.IS_HTMLDDA?function(k){return"function"==typeof k||k===y}:function(k){return"function"==typeof k}},{"../internals/document-all":113}],162:[function(g,L,D){var y=g("../internals/function-uncurry-this");D=g("../internals/fails");var k=g("../internals/is-callable"),v=g("../internals/classof"),E=g("../internals/get-built-in"),b=g("../internals/inspect-source"),
d=function(){},x=[],a=E("Reflect","construct"),m=/^\s*(?:class|function)\b/,q=y(m.exec),r=!m.test(d),h=function(c){if(!k(c))return!1;try{return a(d,x,c),!0}catch(f){return!1}};g=function(c){if(!k(c))return!1;switch(v(c)){case "AsyncFunction":case "GeneratorFunction":case "AsyncGeneratorFunction":return!1}try{return r||!!q(m,b(c))}catch(f){return!0}};g.sham=!0;L.exports=!a||D(function(){var c;return h(h.call)||!h(Object)||!h(function(){c=!0})||c})?g:h},{"../internals/classof":98,"../internals/fails":132,
"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/inspect-source":155,"../internals/is-callable":161}],163:[function(g,L,D){var y=g("../internals/fails"),k=g("../internals/is-callable"),v=/#|\.prototype\./;g=function(a,m){a=b[E(a)];return a===x?!0:a===d?!1:k(m)?y(m):!!m};var E=g.normalize=function(a){return String(a).replace(v,".").toLowerCase()},b=g.data={},d=g.NATIVE="N",x=g.POLYFILL="P";L.exports=g},{"../internals/fails":132,"../internals/is-callable":161}],
164:[function(g,L,D){L.exports=function(y){return null===y||void 0===y}},{}],165:[function(g,L,D){var y=g("../internals/is-callable");g=g("../internals/document-all");var k=g.all;L.exports=g.IS_HTMLDDA?function(v){return"object"==typeof v?null!==v:y(v)||v===k}:function(v){return"object"==typeof v?null!==v:y(v)}},{"../internals/document-all":113,"../internals/is-callable":161}],166:[function(g,L,D){L.exports=!1},{}],167:[function(g,L,D){var y=g("../internals/is-object"),k=g("../internals/classof-raw"),
v=g("../internals/well-known-symbol")("match");L.exports=function(E){var b;return y(E)&&(void 0!==(b=E[v])?!!b:"RegExp"===k(E))}},{"../internals/classof-raw":97,"../internals/is-object":165,"../internals/well-known-symbol":237}],168:[function(g,L,D){var y=g("../internals/get-built-in"),k=g("../internals/is-callable"),v=g("../internals/object-is-prototype-of");g=g("../internals/use-symbol-as-uid");var E=Object;L.exports=g?function(b){return"symbol"==typeof b}:function(b){var d=y("Symbol");return k(d)&&
v(d.prototype,E(b))}},{"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/object-is-prototype-of":191,"../internals/use-symbol-as-uid":231}],169:[function(g,L,D){var y=g("../internals/function-bind-context"),k=g("../internals/function-call"),v=g("../internals/an-object"),E=g("../internals/try-to-string"),b=g("../internals/is-array-iterator-method"),d=g("../internals/length-of-array-like"),x=g("../internals/object-is-prototype-of"),a=g("../internals/get-iterator"),m=g("../internals/get-iterator-method"),
q=g("../internals/iterator-close"),r=TypeError,h=function(f,n){this.stopped=f;this.result=n},c=h.prototype;L.exports=function(f,n,e){var p=!(!e||!e.AS_ENTRIES),u=!(!e||!e.IS_RECORD),B=!(!e||!e.IS_ITERATOR),C=!(!e||!e.INTERRUPTED),A=y(n,e&&e.that),I,O=function(G){z&&q(z,"normal",G);return new h(!0,G)};n=function(G){return p?(v(G),C?A(G[0],G[1],O):A(G[0],G[1])):C?A(G,O):A(G)};if(u)var z=f.iterator;else if(B)z=f;else{B=m(f);if(!B)throw new r(E(f)+" is not iterable");if(b(B)){u=0;for(B=d(f);B>u;u++)if((I=
n(f[u]))&&x(c,I))return I;return new h(!1)}z=a(f,B)}for(f=u?f.next:z.next;!(u=k(f,z)).done;){try{I=n(u.value)}catch(G){q(z,"throw",G)}if("object"==typeof I&&I&&x(c,I))return I}return new h(!1)}},{"../internals/an-object":84,"../internals/function-bind-context":135,"../internals/function-call":137,"../internals/get-iterator":144,"../internals/get-iterator-method":143,"../internals/is-array-iterator-method":159,"../internals/iterator-close":170,"../internals/length-of-array-like":175,"../internals/object-is-prototype-of":191,
"../internals/try-to-string":228}],170:[function(g,L,D){var y=g("../internals/function-call"),k=g("../internals/an-object"),v=g("../internals/get-method");L.exports=function(E,b,d){k(E);try{var x=v(E,"return");if(!x){if("throw"===b)throw d;return d}x=y(x,E)}catch(m){var a=!0;x=m}if("throw"===b)throw d;if(a)throw x;k(x);return d}},{"../internals/an-object":84,"../internals/function-call":137,"../internals/get-method":146}],171:[function(g,L,D){var y=g("../internals/iterators-core").IteratorPrototype,
k=g("../internals/object-create"),v=g("../internals/create-property-descriptor"),E=g("../internals/set-to-string-tag"),b=g("../internals/iterators"),d=function(){return this};L.exports=function(x,a,m,q){a+=" Iterator";x.prototype=k(y,{next:v(+!q,m)});E(x,a,!1,!0);b[a]=d;return x}},{"../internals/create-property-descriptor":106,"../internals/iterators":174,"../internals/iterators-core":173,"../internals/object-create":182,"../internals/set-to-string-tag":208}],172:[function(g,L,D){var y=g("../internals/export"),
k=g("../internals/function-call"),v=g("../internals/is-pure");D=g("../internals/function-name");var E=g("../internals/is-callable"),b=g("../internals/iterator-create-constructor"),d=g("../internals/object-get-prototype-of"),x=g("../internals/object-set-prototype-of"),a=g("../internals/set-to-string-tag"),m=g("../internals/create-non-enumerable-property"),q=g("../internals/define-built-in"),r=g("../internals/well-known-symbol"),h=g("../internals/iterators");g=g("../internals/iterators-core");var c=
D.PROPER,f=D.CONFIGURABLE,n=g.IteratorPrototype,e=g.BUGGY_SAFARI_ITERATORS,p=r("iterator"),u=function(){return this};L.exports=function(B,C,A,I,O,z,G){b(A,C,I);I=function(Q){if(Q===O&&da)return da;if(!e&&Q&&Q in K)return K[Q];switch(Q){case "keys":return function(){return new A(this,Q)};case "values":return function(){return new A(this,Q)};case "entries":return function(){return new A(this,Q)}}return function(){return new A(this)}};var H=C+" Iterator",J=!1,K=B.prototype,S=K[p]||K["@@iterator"]||O&&
K[O],da=!e&&S||I(O),Y="Array"===C?K.entries||S:S,ra;Y&&(B=d(Y.call(new B)),B!==Object.prototype&&B.next&&(v||d(B)===n||(x?x(B,n):E(B[p])||q(B,p,u)),a(B,H,!0,!0),v&&(h[H]=u)));c&&"values"===O&&S&&"values"!==S.name&&(!v&&f?m(K,"name","values"):(J=!0,da=function(){return k(S,this)}));if(O){var ma={values:I("values"),keys:z?da:I("keys"),entries:I("entries")};if(G)for(ra in ma)!e&&!J&&ra in K||q(K,ra,ma[ra]);else y({target:C,proto:!0,forced:e||J},ma)}v&&!G||K[p]===da||q(K,p,da,{name:O});h[C]=da;return ma}},
{"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/export":131,"../internals/function-call":137,"../internals/function-name":138,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/iterator-create-constructor":171,"../internals/iterators":174,"../internals/iterators-core":173,"../internals/object-get-prototype-of":189,"../internals/object-set-prototype-of":195,"../internals/set-to-string-tag":208,"../internals/well-known-symbol":237}],
173:[function(g,L,D){D=g("../internals/fails");var y=g("../internals/is-callable"),k=g("../internals/is-object"),v=g("../internals/object-create"),E=g("../internals/object-get-prototype-of"),b=g("../internals/define-built-in"),d=g("../internals/well-known-symbol");g=g("../internals/is-pure");var x=d("iterator");d=!1;var a;if([].keys){var m=[].keys();"next"in m?(E=E(E(m)),E!==Object.prototype&&(a=E)):d=!0}!k(a)||D(function(){var q={};return a[x].call(q)!==q})?a={}:g&&(a=v(a));y(a[x])||b(a,x,function(){return this});
L.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:d}},{"../internals/define-built-in":109,"../internals/fails":132,"../internals/is-callable":161,"../internals/is-object":165,"../internals/is-pure":166,"../internals/object-create":182,"../internals/object-get-prototype-of":189,"../internals/well-known-symbol":237}],174:[function(g,L,D){arguments[4][149][0].apply(D,arguments)},{dup:149}],175:[function(g,L,D){var y=g("../internals/to-length");L.exports=function(k){return y(k.length)}},{"../internals/to-length":222}],
176:[function(g,L,D){D=g("../internals/function-uncurry-this");var y=g("../internals/fails"),k=g("../internals/is-callable"),v=g("../internals/has-own-property"),E=g("../internals/descriptors"),b=g("../internals/function-name").CONFIGURABLE,d=g("../internals/inspect-source");g=g("../internals/internal-state");var x=g.enforce,a=g.get,m=String,q=Object.defineProperty,r=D("".slice),h=D("".replace),c=D([].join),f=E&&!y(function(){return 8!==q(function(){},"length",{value:8}).length}),n=String(String).split("String");
L=L.exports=function(e,p,u){"Symbol("===r(m(p),0,7)&&(p="["+h(m(p),/^Symbol\(([^)]*)\)/,"$1")+"]");u&&u.getter&&(p="get "+p);u&&u.setter&&(p="set "+p);if(!v(e,"name")||b&&e.name!==p)E?q(e,"name",{value:p,configurable:!0}):e.name=p;f&&u&&v(u,"arity")&&e.length!==u.arity&&q(e,"length",{value:u.arity});try{u&&v(u,"constructor")&&u.constructor?E&&q(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(B){}u=x(e);v(u,"source")||(u.source=c(n,"string"==typeof p?p:""));return e};Function.prototype.toString=
L(function(){return k(this)&&a(this).source||d(this)},"toString")},{"../internals/descriptors":112,"../internals/fails":132,"../internals/function-name":138,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/inspect-source":155,"../internals/internal-state":158,"../internals/is-callable":161}],177:[function(g,L,D){var y=Math.ceil,k=Math.floor;L.exports=Math.trunc||function(v){v=+v;return(0<v?k:y)(v)}},{}],178:[function(g,L,D){var y=g("../internals/global");
D=g("../internals/function-bind-context");var k=g("../internals/object-get-own-property-descriptor").f,v=g("../internals/task").set,E=g("../internals/queue"),b=g("../internals/engine-is-ios"),d=g("../internals/engine-is-ios-pebble"),x=g("../internals/engine-is-webos-webkit"),a=g("../internals/engine-is-node"),m=y.MutationObserver||y.WebKitMutationObserver,q=y.document,r=y.process;g=y.Promise;k=(k=k(y,"queueMicrotask"))&&k.value;if(!k){var h=new E,c=function(){var u,B;for(a&&(u=r.domain)&&u.exit();B=
h.get();)try{B()}catch(C){throw h.head&&n(),C;}u&&u.enter()};if(b||a||x||!m||!q)if(!d&&g&&g.resolve){y=g.resolve(void 0);y.constructor=g;var f=D(y.then,y);var n=function(){f(c)}}else a?n=function(){r.nextTick(c)}:(v=D(v,y),n=function(){v(c)});else{var e=!0;var p=q.createTextNode("");(new m(c)).observe(p,{characterData:!0});n=function(){p.data=e=!e}}k=function(u){h.head||n();h.add(u)}}L.exports=k},{"../internals/engine-is-ios":121,"../internals/engine-is-ios-pebble":120,"../internals/engine-is-node":122,
"../internals/engine-is-webos-webkit":123,"../internals/function-bind-context":135,"../internals/global":147,"../internals/object-get-own-property-descriptor":185,"../internals/queue":205,"../internals/task":217}],179:[function(g,L,D){var y=g("../internals/a-callable"),k=TypeError,v=function(E){var b,d;this.promise=new E(function(x,a){if(void 0!==b||void 0!==d)throw new k("Bad Promise constructor");b=x;d=a});this.resolve=y(b);this.reject=y(d)};L.exports.f=function(E){return new v(E)}},{"../internals/a-callable":79}],
180:[function(g,L,D){var y=g("../internals/to-string");L.exports=function(k,v){return void 0===k?2>arguments.length?"":v:y(k)}},{"../internals/to-string":227}],181:[function(g,L,D){var y=g("../internals/is-regexp"),k=TypeError;L.exports=function(v){if(y(v))throw new k("The method doesn't accept regular expressions");return v}},{"../internals/is-regexp":167}],182:[function(g,L,D){var y=g("../internals/an-object"),k=g("../internals/object-define-properties"),v=g("../internals/enum-bug-keys");D=g("../internals/hidden-keys");
var E=g("../internals/html"),b=g("../internals/document-create-element"),d=g("../internals/shared-key")("IE_PROTO"),x=function(){},a=function(r){r.write("<script>\x3c/script>");r.close();return r.parentWindow.Object},m,q=function(){try{m=new ActiveXObject("htmlfile")}catch(h){}if("undefined"!=typeof document)if(document.domain&&m)var r=a(m);else r=b("iframe"),r.style.display="none",E.appendChild(r),r.src="javascript:",r=r.contentWindow.document,r.open(),r.write("<script>document.F=Object\x3c/script>"),
r.close(),r=r.F;else r=a(m);q=r;for(r=v.length;r--;)delete q.prototype[v[r]];return q()};D[d]=!0;L.exports=Object.create||function(r,h){if(null!==r){x.prototype=y(r);var c=new x;x.prototype=null;c[d]=r}else c=q();return void 0===h?c:k.f(c,h)}},{"../internals/an-object":84,"../internals/document-create-element":114,"../internals/enum-bug-keys":127,"../internals/hidden-keys":149,"../internals/html":151,"../internals/object-define-properties":183,"../internals/shared-key":209}],183:[function(g,L,D){L=
g("../internals/descriptors");var y=g("../internals/v8-prototype-define-bug"),k=g("../internals/object-define-property"),v=g("../internals/an-object"),E=g("../internals/to-indexed-object"),b=g("../internals/object-keys");D.f=L&&!y?Object.defineProperties:function(d,x){v(d);var a=E(x);x=b(x);for(var m=x.length,q=0,r;m>q;)k.f(d,r=x[q++],a[r]);return d}},{"../internals/an-object":84,"../internals/descriptors":112,"../internals/object-define-property":184,"../internals/object-keys":193,"../internals/to-indexed-object":220,
"../internals/v8-prototype-define-bug":232}],184:[function(g,L,D){L=g("../internals/descriptors");var y=g("../internals/ie8-dom-define"),k=g("../internals/v8-prototype-define-bug"),v=g("../internals/an-object"),E=g("../internals/to-property-key"),b=TypeError,d=Object.defineProperty,x=Object.getOwnPropertyDescriptor;D.f=L?k?function(a,m,q){v(a);m=E(m);v(q);if("function"===typeof a&&"prototype"===m&&"value"in q&&"writable"in q&&!q.writable){var r=x(a,m);r&&r.writable&&(a[m]=q.value,q={configurable:"configurable"in
q?q.configurable:r.configurable,enumerable:"enumerable"in q?q.enumerable:r.enumerable,writable:!1})}return d(a,m,q)}:d:function(a,m,q){v(a);m=E(m);v(q);if(y)try{return d(a,m,q)}catch(r){}if("get"in q||"set"in q)throw new b("Accessors not supported");"value"in q&&(a[m]=q.value);return a}},{"../internals/an-object":84,"../internals/descriptors":112,"../internals/ie8-dom-define":152,"../internals/to-property-key":225,"../internals/v8-prototype-define-bug":232}],185:[function(g,L,D){L=g("../internals/descriptors");
var y=g("../internals/function-call"),k=g("../internals/object-property-is-enumerable"),v=g("../internals/create-property-descriptor"),E=g("../internals/to-indexed-object"),b=g("../internals/to-property-key"),d=g("../internals/has-own-property"),x=g("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;D.f=L?a:function(m,q){m=E(m);q=b(q);if(x)try{return a(m,q)}catch(r){}if(d(m,q))return v(!y(k.f,m,q),m[q])}},{"../internals/create-property-descriptor":106,"../internals/descriptors":112,
"../internals/function-call":137,"../internals/has-own-property":148,"../internals/ie8-dom-define":152,"../internals/object-property-is-enumerable":194,"../internals/to-indexed-object":220,"../internals/to-property-key":225}],186:[function(g,L,D){var y=g("../internals/classof-raw"),k=g("../internals/to-indexed-object"),v=g("../internals/object-get-own-property-names").f,E=g("../internals/array-slice-simple"),b="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):
[];L.exports.f=function(d){if(b&&"Window"===y(d))try{var x=v(d)}catch(a){x=E(b)}else x=v(k(d));return x}},{"../internals/array-slice-simple":92,"../internals/classof-raw":97,"../internals/object-get-own-property-names":187,"../internals/to-indexed-object":220}],187:[function(g,L,D){var y=g("../internals/object-keys-internal"),k=g("../internals/enum-bug-keys").concat("length","prototype");D.f=Object.getOwnPropertyNames||function(v){return y(v,k)}},{"../internals/enum-bug-keys":127,"../internals/object-keys-internal":192}],
188:[function(g,L,D){D.f=Object.getOwnPropertySymbols},{}],189:[function(g,L,D){var y=g("../internals/has-own-property"),k=g("../internals/is-callable"),v=g("../internals/to-object");D=g("../internals/shared-key");g=g("../internals/correct-prototype-getter");var E=D("IE_PROTO"),b=Object,d=b.prototype;L.exports=g?b.getPrototypeOf:function(x){x=v(x);if(y(x,E))return x[E];var a=x.constructor;return k(a)&&x instanceof a?a.prototype:x instanceof b?d:null}},{"../internals/correct-prototype-getter":103,
"../internals/has-own-property":148,"../internals/is-callable":161,"../internals/shared-key":209,"../internals/to-object":223}],190:[function(g,L,D){D=g("../internals/fails");var y=g("../internals/is-object"),k=g("../internals/classof-raw"),v=g("../internals/array-buffer-non-extensible"),E=Object.isExtensible;g=D(function(){E(1)});L.exports=g||v?function(b){return!y(b)||v&&"ArrayBuffer"===k(b)?!1:E?E(b):!0}:E},{"../internals/array-buffer-non-extensible":86,"../internals/classof-raw":97,"../internals/fails":132,
"../internals/is-object":165}],191:[function(g,L,D){g=g("../internals/function-uncurry-this");L.exports=g({}.isPrototypeOf)},{"../internals/function-uncurry-this":141}],192:[function(g,L,D){D=g("../internals/function-uncurry-this");var y=g("../internals/has-own-property"),k=g("../internals/to-indexed-object"),v=g("../internals/array-includes").indexOf,E=g("../internals/hidden-keys"),b=D([].push);L.exports=function(d,x){d=k(d);var a=0,m=[],q;for(q in d)!y(E,q)&&y(d,q)&&b(m,q);for(;x.length>a;)y(d,
q=x[a++])&&(~v(m,q)||b(m,q));return m}},{"../internals/array-includes":89,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/to-indexed-object":220}],193:[function(g,L,D){var y=g("../internals/object-keys-internal"),k=g("../internals/enum-bug-keys");L.exports=Object.keys||function(v){return y(v,k)}},{"../internals/enum-bug-keys":127,"../internals/object-keys-internal":192}],194:[function(g,L,D){g={}.propertyIsEnumerable;var y=
Object.getOwnPropertyDescriptor;L=y&&!g.call({1:2},1);D.f=L?function(k){k=y(this,k);return!!k&&k.enumerable}:g},{}],195:[function(g,L,D){var y=g("../internals/function-uncurry-this-accessor"),k=g("../internals/an-object"),v=g("../internals/a-possible-prototype");L.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var E=!1,b={};try{var d=y(Object.prototype,"__proto__","set");d(b,[]);E=b instanceof Array}catch(x){}return function(x,a){k(x);v(a);E?d(x,a):x.__proto__=a;return x}}():void 0)},
{"../internals/a-possible-prototype":81,"../internals/an-object":84,"../internals/function-uncurry-this-accessor":139}],196:[function(g,L,D){D=g("../internals/to-string-tag-support");var y=g("../internals/classof");L.exports=D?{}.toString:function(){return"[object "+y(this)+"]"}},{"../internals/classof":98,"../internals/to-string-tag-support":226}],197:[function(g,L,D){var y=g("../internals/function-call"),k=g("../internals/is-callable"),v=g("../internals/is-object"),E=TypeError;L.exports=function(b,
d){var x,a;if("string"===d&&k(x=b.toString)&&!v(a=y(x,b))||k(x=b.valueOf)&&!v(a=y(x,b))||"string"!==d&&k(x=b.toString)&&!v(a=y(x,b)))return a;throw new E("Can't convert object to primitive value");}},{"../internals/function-call":137,"../internals/is-callable":161,"../internals/is-object":165}],198:[function(g,L,D){D=g("../internals/get-built-in");var y=g("../internals/function-uncurry-this"),k=g("../internals/object-get-own-property-names"),v=g("../internals/object-get-own-property-symbols"),E=g("../internals/an-object"),
b=y([].concat);L.exports=D("Reflect","ownKeys")||function(d){var x=k.f(E(d)),a=v.f;return a?b(x,a(d)):x}},{"../internals/an-object":84,"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-symbols":188}],199:[function(g,L,D){g=g("../internals/global");L.exports=g},{"../internals/global":147}],200:[function(g,L,D){L.exports=function(y){try{return{error:!1,value:y()}}catch(k){return{error:!0,value:k}}}},
{}],201:[function(g,L,D){D=g("../internals/global");var y=g("../internals/promise-native-constructor"),k=g("../internals/is-callable"),v=g("../internals/is-forced"),E=g("../internals/inspect-source"),b=g("../internals/well-known-symbol"),d=g("../internals/engine-is-browser"),x=g("../internals/engine-is-deno"),a=g("../internals/is-pure"),m=g("../internals/engine-v8-version"),q=y&&y.prototype,r=b("species"),h=!1,c=k(D.PromiseRejectionEvent);g=v("Promise",function(){var f=E(y),n=f!==String(y);if(!n&&
66===m||a&&(!q["catch"]||!q["finally"]))return!0;if(!m||51>m||!/native code/.test(f)){f=new y(function(p){p(1)});var e=function(p){p(function(){},function(){})};(f.constructor={})[r]=e;h=f.then(function(){})instanceof e;if(!h)return!0}return!n&&(d||x)&&!c});L.exports={CONSTRUCTOR:g,REJECTION_EVENT:c,SUBCLASSING:h}},{"../internals/engine-is-browser":118,"../internals/engine-is-deno":119,"../internals/engine-v8-version":125,"../internals/global":147,"../internals/inspect-source":155,"../internals/is-callable":161,
"../internals/is-forced":163,"../internals/is-pure":166,"../internals/promise-native-constructor":202,"../internals/well-known-symbol":237}],202:[function(g,L,D){g=g("../internals/global");L.exports=g.Promise},{"../internals/global":147}],203:[function(g,L,D){var y=g("../internals/an-object"),k=g("../internals/is-object"),v=g("../internals/new-promise-capability");L.exports=function(E,b){y(E);if(k(b)&&b.constructor===E)return b;E=v.f(E);var d=E.resolve;d(b);return E.promise}},{"../internals/an-object":84,
"../internals/is-object":165,"../internals/new-promise-capability":179}],204:[function(g,L,D){var y=g("../internals/promise-native-constructor");D=g("../internals/check-correctness-of-iteration");g=g("../internals/promise-constructor-detection").CONSTRUCTOR;L.exports=g||!D(function(k){y.all(k).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":96,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202}],205:[function(g,L,D){g=function(){this.tail=
this.head=null};g.prototype={add:function(y){y={item:y,next:null};var k=this.tail;k?k.next=y:this.head=y;this.tail=y},get:function(){var y=this.head;if(y)return null===(this.head=y.next)&&(this.tail=null),y.item}};L.exports=g},{}],206:[function(g,L,D){var y=g("../internals/is-null-or-undefined"),k=TypeError;L.exports=function(v){if(y(v))throw new k("Can't call method on "+v);return v}},{"../internals/is-null-or-undefined":164}],207:[function(g,L,D){var y=g("../internals/get-built-in"),k=g("../internals/define-built-in-accessor");
D=g("../internals/well-known-symbol");var v=g("../internals/descriptors"),E=D("species");L.exports=function(b){b=y(b);v&&b&&!b[E]&&k(b,E,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/get-built-in":142,"../internals/well-known-symbol":237}],208:[function(g,L,D){var y=g("../internals/object-define-property").f,k=g("../internals/has-own-property"),v=g("../internals/well-known-symbol")("toStringTag");L.exports=
function(E,b,d){E&&!d&&(E=E.prototype);E&&!k(E,v)&&y(E,v,{configurable:!0,value:b})}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/well-known-symbol":237}],209:[function(g,L,D){D=g("../internals/shared");var y=g("../internals/uid"),k=D("keys");L.exports=function(v){return k[v]||(k[v]=y(v))}},{"../internals/shared":211,"../internals/uid":230}],210:[function(g,L,D){D=g("../internals/global");g=g("../internals/define-global-property");g=D["__core-js_shared__"]||
g("__core-js_shared__",{});L.exports=g},{"../internals/define-global-property":111,"../internals/global":147}],211:[function(g,L,D){D=g("../internals/is-pure");var y=g("../internals/shared-store");(L.exports=function(k,v){return y[k]||(y[k]=void 0!==v?v:{})})("versions",[]).push({version:"3.33.2",mode:D?"pure":"global",copyright:"\u00a9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":166,
"../internals/shared-store":210}],212:[function(g,L,D){var y=g("../internals/an-object"),k=g("../internals/a-constructor"),v=g("../internals/is-null-or-undefined"),E=g("../internals/well-known-symbol")("species");L.exports=function(b,d){b=y(b).constructor;var x;return void 0===b||v(x=y(b)[E])?d:k(x)}},{"../internals/a-constructor":80,"../internals/an-object":84,"../internals/is-null-or-undefined":164,"../internals/well-known-symbol":237}],213:[function(g,L,D){D=g("../internals/function-uncurry-this");
var y=g("../internals/to-integer-or-infinity"),k=g("../internals/to-string"),v=g("../internals/require-object-coercible"),E=D("".charAt),b=D("".charCodeAt),d=D("".slice);g=function(x){return function(a,m){a=k(v(a));m=y(m);var q=a.length,r;if(0>m||m>=q)return x?"":void 0;var h=b(a,m);return 55296>h||56319<h||m+1===q||56320>(r=b(a,m+1))||57343<r?x?E(a,m):h:x?d(a,m,m+2):(h-55296<<10)+(r-56320)+65536}};L.exports={codeAt:g(!1),charAt:g(!0)}},{"../internals/function-uncurry-this":141,"../internals/require-object-coercible":206,
"../internals/to-integer-or-infinity":221,"../internals/to-string":227}],214:[function(g,L,D){var y=g("../internals/engine-v8-version");D=g("../internals/fails");var k=g("../internals/global").String;L.exports=!!Object.getOwnPropertySymbols&&!D(function(){var v=Symbol("symbol detection");return!k(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&y&&41>y})},{"../internals/engine-v8-version":125,"../internals/fails":132,"../internals/global":147}],215:[function(g,L,D){var y=g("../internals/function-call"),
k=g("../internals/get-built-in"),v=g("../internals/well-known-symbol"),E=g("../internals/define-built-in");L.exports=function(){var b=k("Symbol"),d=(b=b&&b.prototype)&&b.valueOf,x=v("toPrimitive");b&&!b[x]&&E(b,x,function(a){return y(d,this)},{arity:1})}},{"../internals/define-built-in":109,"../internals/function-call":137,"../internals/get-built-in":142,"../internals/well-known-symbol":237}],216:[function(g,L,D){g=g("../internals/symbol-constructor-detection");L.exports=g&&!!Symbol["for"]&&!!Symbol.keyFor},
{"../internals/symbol-constructor-detection":214}],217:[function(g,L,D){var y=g("../internals/global"),k=g("../internals/function-apply");D=g("../internals/function-bind-context");var v=g("../internals/is-callable"),E=g("../internals/has-own-property"),b=g("../internals/fails"),d=g("../internals/html"),x=g("../internals/array-slice"),a=g("../internals/document-create-element"),m=g("../internals/validate-arguments-length"),q=g("../internals/engine-is-ios"),r=g("../internals/engine-is-node");g=y.setImmediate;
var h=y.clearImmediate,c=y.process,f=y.Dispatch,n=y.Function,e=y.MessageChannel,p=y.String,u=0,B={},C;b(function(){C=y.location});var A=function(H){if(E(B,H)){var J=B[H];delete B[H];J()}},I=function(H){return function(){A(H)}},O=function(H){A(H.data)},z=function(H){y.postMessage(p(H),C.protocol+"//"+C.host)};if(!g||!h)if(g=function(H){m(arguments.length,1);var J=v(H)?H:n(H),K=x(arguments,1);B[++u]=function(){k(J,void 0,K)};G(u);return u},h=function(H){delete B[H]},r)var G=function(H){c.nextTick(I(H))};
else f&&f.now?G=function(H){f.now(I(H))}:e&&!q?(b=new e,q=b.port2,b.port1.onmessage=O,G=D(q.postMessage,q)):y.addEventListener&&v(y.postMessage)&&!y.importScripts&&C&&"file:"!==C.protocol&&!b(z)?(G=z,y.addEventListener("message",O,!1)):G="onreadystatechange"in a("script")?function(H){d.appendChild(a("script")).onreadystatechange=function(){d.removeChild(this);A(H)}}:function(H){setTimeout(I(H),0)};L.exports={set:g,clear:h}},{"../internals/array-slice":93,"../internals/document-create-element":114,
"../internals/engine-is-ios":121,"../internals/engine-is-node":122,"../internals/fails":132,"../internals/function-apply":134,"../internals/function-bind-context":135,"../internals/global":147,"../internals/has-own-property":148,"../internals/html":151,"../internals/is-callable":161,"../internals/validate-arguments-length":233}],218:[function(g,L,D){var y=g("../internals/to-integer-or-infinity"),k=Math.max,v=Math.min;L.exports=function(E,b){E=y(E);return 0>E?k(E+b,0):v(E,b)}},{"../internals/to-integer-or-infinity":221}],
219:[function(g,L,D){var y=g("../internals/to-primitive"),k=TypeError;L.exports=function(v){v=y(v,"number");if("number"==typeof v)throw new k("Can't convert number to bigint");return BigInt(v)}},{"../internals/to-primitive":224}],220:[function(g,L,D){var y=g("../internals/indexed-object"),k=g("../internals/require-object-coercible");L.exports=function(v){return y(k(v))}},{"../internals/indexed-object":153,"../internals/require-object-coercible":206}],221:[function(g,L,D){var y=g("../internals/math-trunc");
L.exports=function(k){k=+k;return k!==k||0===k?0:y(k)}},{"../internals/math-trunc":177}],222:[function(g,L,D){var y=g("../internals/to-integer-or-infinity"),k=Math.min;L.exports=function(v){return 0<v?k(y(v),9007199254740991):0}},{"../internals/to-integer-or-infinity":221}],223:[function(g,L,D){var y=g("../internals/require-object-coercible"),k=Object;L.exports=function(v){return k(y(v))}},{"../internals/require-object-coercible":206}],224:[function(g,L,D){var y=g("../internals/function-call"),k=
g("../internals/is-object"),v=g("../internals/is-symbol"),E=g("../internals/get-method"),b=g("../internals/ordinary-to-primitive");g=g("../internals/well-known-symbol");var d=TypeError,x=g("toPrimitive");L.exports=function(a,m){if(!k(a)||v(a))return a;var q=E(a,x);if(q){void 0===m&&(m="default");a=y(q,a,m);if(!k(a)||v(a))return a;throw new d("Can't convert object to primitive value");}void 0===m&&(m="number");return b(a,m)}},{"../internals/function-call":137,"../internals/get-method":146,"../internals/is-object":165,
"../internals/is-symbol":168,"../internals/ordinary-to-primitive":197,"../internals/well-known-symbol":237}],225:[function(g,L,D){var y=g("../internals/to-primitive"),k=g("../internals/is-symbol");L.exports=function(v){v=y(v,"string");return k(v)?v:v+""}},{"../internals/is-symbol":168,"../internals/to-primitive":224}],226:[function(g,L,D){g=g("../internals/well-known-symbol")("toStringTag");D={};D[g]="z";L.exports="[object z]"===String(D)},{"../internals/well-known-symbol":237}],227:[function(g,L,
D){var y=g("../internals/classof"),k=String;L.exports=function(v){if("Symbol"===y(v))throw new TypeError("Cannot convert a Symbol value to a string");return k(v)}},{"../internals/classof":98}],228:[function(g,L,D){var y=String;L.exports=function(k){try{return y(k)}catch(v){return"Object"}}},{}],229:[function(g,L,D){D=g("../internals/array-buffer-view-core");var y=g("../internals/species-constructor"),k=D.aTypedArrayConstructor,v=D.getTypedArrayConstructor;L.exports=function(E){return k(y(E,v(E)))}},
{"../internals/array-buffer-view-core":87,"../internals/species-constructor":212}],230:[function(g,L,D){g=g("../internals/function-uncurry-this");var y=0,k=Math.random(),v=g((1).toString);L.exports=function(E){return"Symbol("+(void 0===E?"":E)+")_"+v(++y+k,36)}},{"../internals/function-uncurry-this":141}],231:[function(g,L,D){g=g("../internals/symbol-constructor-detection");L.exports=g&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/symbol-constructor-detection":214}],232:[function(g,
L,D){D=g("../internals/descriptors");g=g("../internals/fails");L.exports=D&&g(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},{"../internals/descriptors":112,"../internals/fails":132}],233:[function(g,L,D){var y=TypeError;L.exports=function(k,v){if(k<v)throw new y("Not enough arguments");return k}},{}],234:[function(g,L,D){D=g("../internals/global");g=g("../internals/is-callable");D=D.WeakMap;L.exports=g(D)&&/native code/.test(String(D))},
{"../internals/global":147,"../internals/is-callable":161}],235:[function(g,L,D){var y=g("../internals/path"),k=g("../internals/has-own-property"),v=g("../internals/well-known-symbol-wrapped"),E=g("../internals/object-define-property").f;L.exports=function(b){var d=y.Symbol||(y.Symbol={});k(d,b)||E(d,b,{value:v.f(b)})}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/path":199,"../internals/well-known-symbol-wrapped":236}],236:[function(g,L,D){g=g("../internals/well-known-symbol");
D.f=g},{"../internals/well-known-symbol":237}],237:[function(g,L,D){D=g("../internals/global");var y=g("../internals/shared"),k=g("../internals/has-own-property"),v=g("../internals/uid"),E=g("../internals/symbol-constructor-detection");g=g("../internals/use-symbol-as-uid");var b=D.Symbol,d=y("wks"),x=g?b["for"]||b:b&&b.withoutSetter||v;L.exports=function(a){k(d,a)||(d[a]=E&&k(b,a)?b[a]:x("Symbol."+a));return d[a]}},{"../internals/global":147,"../internals/has-own-property":148,"../internals/shared":211,
"../internals/symbol-constructor-detection":214,"../internals/uid":230,"../internals/use-symbol-as-uid":231}],238:[function(g,L,D){L=g("../internals/export");var y=g("../internals/object-is-prototype-of"),k=g("../internals/object-get-prototype-of"),v=g("../internals/object-set-prototype-of");D=g("../internals/copy-constructor-properties");var E=g("../internals/object-create"),b=g("../internals/create-non-enumerable-property"),d=g("../internals/create-property-descriptor"),x=g("../internals/install-error-cause"),
a=g("../internals/error-stack-install"),m=g("../internals/iterate"),q=g("../internals/normalize-string-argument"),r=g("../internals/well-known-symbol")("toStringTag"),h=Error,c=[].push,f=function(e,p){var u=y(n,this);v?u=v(new h,u?k(this):n):(u=u?this:E(n),b(u,r,"Error"));void 0!==p&&b(u,"message",q(p));a(u,f,u.stack,1);2<arguments.length&&x(u,arguments[2]);var B=[];m(e,c,{that:B});b(u,"errors",B);return u};v?v(f,h):D(f,h,{name:!0});var n=f.prototype=E(h.prototype,{constructor:d(1,f),message:d(1,
""),name:d(1,"AggregateError")});L({global:!0,constructor:!0,arity:2},{AggregateError:f})},{"../internals/copy-constructor-properties":101,"../internals/create-non-enumerable-property":105,"../internals/create-property-descriptor":106,"../internals/error-stack-install":129,"../internals/export":131,"../internals/install-error-cause":156,"../internals/iterate":169,"../internals/normalize-string-argument":180,"../internals/object-create":182,"../internals/object-get-prototype-of":189,"../internals/object-is-prototype-of":191,
"../internals/object-set-prototype-of":195,"../internals/well-known-symbol":237}],239:[function(g,L,D){g("../modules/es.aggregate-error.constructor")},{"../modules/es.aggregate-error.constructor":238}],240:[function(g,L,D){L=g("../internals/export");D=g("../internals/fails");var y=g("../internals/is-array"),k=g("../internals/is-object"),v=g("../internals/to-object"),E=g("../internals/length-of-array-like"),b=g("../internals/does-not-exceed-safe-integer"),d=g("../internals/create-property"),x=g("../internals/array-species-create"),
a=g("../internals/array-method-has-species-support"),m=g("../internals/well-known-symbol");g=g("../internals/engine-v8-version");var q=m("isConcatSpreadable");g=!(51<=g||!D(function(){var r=[];r[q]=!1;return r.concat()[0]!==r}))||!a("concat");L({target:"Array",proto:!0,arity:1,forced:g},{concat:function(r){var h=v(this),c=x(h,0),f=0,n;var e=-1;for(n=arguments.length;e<n;e++){var p=-1===e?h:arguments[e];var u=p;if(k(u)){var B=u[q];u=void 0!==B?!!B:y(u)}else u=!1;if(u)for(B=E(p),b(f+B),u=0;u<B;u++,
f++)u in p&&d(c,f,p[u]);else b(f+1),d(c,f++,p)}c.length=f;return c}})},{"../internals/array-method-has-species-support":91,"../internals/array-species-create":95,"../internals/create-property":107,"../internals/does-not-exceed-safe-integer":115,"../internals/engine-v8-version":125,"../internals/export":131,"../internals/fails":132,"../internals/is-array":160,"../internals/is-object":165,"../internals/length-of-array-like":175,"../internals/to-object":223,"../internals/well-known-symbol":237}],241:[function(g,
L,D){L=g("../internals/export");D=g("../internals/array-fill");g=g("../internals/add-to-unscopables");L({target:"Array",proto:!0},{fill:D});g("fill")},{"../internals/add-to-unscopables":82,"../internals/array-fill":88,"../internals/export":131}],242:[function(g,L,D){var y=g("../internals/to-indexed-object");D=g("../internals/add-to-unscopables");var k=g("../internals/iterators"),v=g("../internals/internal-state"),E=g("../internals/object-define-property").f,b=g("../internals/iterator-define"),d=g("../internals/create-iter-result-object"),
x=g("../internals/is-pure");g=g("../internals/descriptors");var a=v.set,m=v.getterFor("Array Iterator");L.exports=b(Array,"Array",function(q,r){a(this,{type:"Array Iterator",target:y(q),index:0,kind:r})},function(){var q=m(this),r=q.target,h=q.index++;if(!r||h>=r.length)return q.target=void 0,d(void 0,!0);switch(q.kind){case "keys":return d(h,!1);case "values":return d(r[h],!1)}return d([h,r[h]],!1)},"values");L=k.Arguments=k.Array;D("keys");D("values");D("entries");if(!x&&g&&"values"!==L.name)try{E(L,
"name",{value:"values"})}catch(q){}},{"../internals/add-to-unscopables":82,"../internals/create-iter-result-object":104,"../internals/descriptors":112,"../internals/internal-state":158,"../internals/is-pure":166,"../internals/iterator-define":172,"../internals/iterators":174,"../internals/object-define-property":184,"../internals/to-indexed-object":220}],243:[function(g,L,D){L=g("../internals/export");var y=g("../internals/get-built-in"),k=g("../internals/function-apply"),v=g("../internals/function-call");
D=g("../internals/function-uncurry-this");var E=g("../internals/fails"),b=g("../internals/is-callable"),d=g("../internals/is-symbol"),x=g("../internals/array-slice"),a=g("../internals/get-json-replacer-function");g=g("../internals/symbol-constructor-detection");var m=String,q=y("JSON","stringify"),r=D(/./.exec),h=D("".charAt),c=D("".charCodeAt),f=D("".replace),n=D((1).toString),e=/[\uD800-\uDFFF]/g,p=/^[\uD800-\uDBFF]$/,u=/^[\uDC00-\uDFFF]$/,B=!g||E(function(){var O=y("Symbol")("stringify detection");
return"[null]"!==q([O])||"{}"!==q({a:O})||"{}"!==q(Object(O))}),C=E(function(){return'"\\udf06\\ud834"'!==q("\udf06\ud834")||'"\\udead"'!==q("\udead")}),A=function(O,z){var G=x(arguments),H=a(z);if(b(H)||void 0!==O&&!d(O))return G[1]=function(J,K){b(H)&&(K=v(H,this,m(J),K));if(!d(K))return K},k(q,null,G)},I=function(O,z,G){var H=h(G,z-1);z=h(G,z+1);return r(p,O)&&!r(u,z)||r(u,O)&&!r(p,H)?"\\u"+n(c(O,0),16):O};q&&L({target:"JSON",stat:!0,arity:3,forced:B||C},{stringify:function(O,z,G){var H=x(arguments);
H=k(B?A:q,null,H);return C&&"string"==typeof H?f(H,e,I):H}})},{"../internals/array-slice":93,"../internals/export":131,"../internals/fails":132,"../internals/function-apply":134,"../internals/function-call":137,"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/get-json-replacer-function":145,"../internals/is-callable":161,"../internals/is-symbol":168,"../internals/symbol-constructor-detection":214}],244:[function(g,L,D){L=g("../internals/global");g("../internals/set-to-string-tag")(L.JSON,
"JSON",!0)},{"../internals/global":147,"../internals/set-to-string-tag":208}],245:[function(g,L,D){L=g("../internals/collection");g=g("../internals/collection-strong");L("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":100,"../internals/collection-strong":99}],246:[function(g,L,D){g("../modules/es.map.constructor")},{"../modules/es.map.constructor":245}],247:[function(g,L,D){g("../internals/set-to-string-tag")(Math,"Math",!0)},
{"../internals/set-to-string-tag":208}],248:[function(g,L,D){L=g("../internals/export");D=g("../internals/symbol-constructor-detection");var y=g("../internals/fails"),k=g("../internals/object-get-own-property-symbols"),v=g("../internals/to-object");g=!D||y(function(){k.f(1)});L({target:"Object",stat:!0,forced:g},{getOwnPropertySymbols:function(E){var b=k.f;return b?b(v(E)):[]}})},{"../internals/export":131,"../internals/fails":132,"../internals/object-get-own-property-symbols":188,"../internals/symbol-constructor-detection":214,
"../internals/to-object":223}],249:[function(g,L,D){L=g("../internals/to-string-tag-support");D=g("../internals/define-built-in");g=g("../internals/object-to-string");L||D(Object.prototype,"toString",g,{unsafe:!0})},{"../internals/define-built-in":109,"../internals/object-to-string":196,"../internals/to-string-tag-support":226}],250:[function(g,L,D){L=g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/new-promise-capability"),E=g("../internals/perform"),
b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");L({target:"Promise",stat:!0,forced:g},{allSettled:function(d){var x=this,a=v.f(x),m=a.resolve,q=a.reject,r=E(function(){var h=k(x.resolve),c=[],f=0,n=1;b(d,function(e){var p=f++,u=!1;n++;y(h,x,e).then(function(B){u||(u=!0,c[p]={status:"fulfilled",value:B},--n||m(c))},function(B){u||(u=!0,c[p]={status:"rejected",reason:B},--n||m(c))})});--n||m(c)});r.error&&q(r.value);return a.promise}})},{"../internals/a-callable":79,
"../internals/export":131,"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],251:[function(g,L,D){L=g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/new-promise-capability"),E=g("../internals/perform"),b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");L({target:"Promise",
stat:!0,forced:g},{all:function(d){var x=this,a=v.f(x),m=a.resolve,q=a.reject,r=E(function(){var h=k(x.resolve),c=[],f=0,n=1;b(d,function(e){var p=f++,u=!1;n++;y(h,x,e).then(function(B){u||(u=!0,c[p]=B,--n||m(c))},q)});--n||m(c)});r.error&&q(r.value);return a.promise}})},{"../internals/a-callable":79,"../internals/export":131,"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],
252:[function(g,L,D){L=g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/get-built-in"),E=g("../internals/new-promise-capability"),b=g("../internals/perform"),d=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");L({target:"Promise",stat:!0,forced:g},{any:function(x){var a=this,m=v("AggregateError"),q=E.f(a),r=q.resolve,h=q.reject,c=b(function(){var f=k(a.resolve),n=[],e=0,p=1,u=!1;d(x,function(B){var C=e++,
A=!1;p++;y(f,a,B).then(function(I){A||u||(u=!0,r(I))},function(I){A||u||(A=!0,n[C]=I,--p||h(new m(n,"No one promise resolved")))})});--p||h(new m(n,"No one promise resolved"))});c.error&&h(c.value);return q.promise}})},{"../internals/a-callable":79,"../internals/export":131,"../internals/function-call":137,"../internals/get-built-in":142,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],253:[function(g,
L,D){L=g("../internals/export");D=g("../internals/is-pure");var y=g("../internals/promise-constructor-detection").CONSTRUCTOR,k=g("../internals/promise-native-constructor"),v=g("../internals/get-built-in"),E=g("../internals/is-callable");g=g("../internals/define-built-in");var b=k&&k.prototype;L({target:"Promise",proto:!0,forced:y,real:!0},{"catch":function(d){return this.then(void 0,d)}});!D&&E(k)&&(L=v("Promise").prototype["catch"],b["catch"]!==L&&g(b,"catch",L,{unsafe:!0}))},{"../internals/define-built-in":109,
"../internals/export":131,"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202}],254:[function(g,L,D){L=g("../internals/export");D=g("../internals/is-pure");var y=g("../internals/engine-is-node"),k=g("../internals/global"),v=g("../internals/function-call"),E=g("../internals/define-built-in"),b=g("../internals/object-set-prototype-of"),d=g("../internals/set-to-string-tag"),
x=g("../internals/set-species"),a=g("../internals/a-callable"),m=g("../internals/is-callable"),q=g("../internals/is-object"),r=g("../internals/an-instance"),h=g("../internals/species-constructor"),c=g("../internals/task").set,f=g("../internals/microtask"),n=g("../internals/host-report-errors"),e=g("../internals/perform"),p=g("../internals/queue"),u=g("../internals/internal-state"),B=g("../internals/promise-native-constructor"),C=g("../internals/promise-constructor-detection");g=g("../internals/new-promise-capability");
var A=C.CONSTRUCTOR,I=C.REJECTION_EVENT;C=C.SUBCLASSING;var O=u.getterFor("Promise"),z=u.set;u=B&&B.prototype;var G=B,H=u,J=k.TypeError,K=k.document,S=k.process,da=g.f,Y=da,ra=!!(K&&K.createEvent&&k.dispatchEvent),ma=function(Z){var qa;return q(Z)&&m(qa=Z.then)?qa:!1},Q=function(Z,qa){var za=qa.value,Xa=1===qa.state,yb=Xa?Z.ok:Z.fail,Cb=Z.resolve,Ia=Z.reject,na=Z.domain,Ha;try{if(yb){Xa||(2===qa.rejection&&pa(qa),qa.rejection=1);if(!0===yb)var Da=za;else if(na&&na.enter(),Da=yb(za),na){na.exit();
var bb=!0}Da===Z.promise?Ia(new J("Promise-chain cycle")):(Ha=ma(Da))?v(Ha,Da,Cb,Ia):Cb(Da)}else Ia(za)}catch(rb){na&&!bb&&na.exit(),Ia(rb)}},ia=function(Z,qa){Z.notified||(Z.notified=!0,f(function(){for(var za=Z.reactions,Xa;Xa=za.get();)Q(Xa,Z);Z.notified=!1;qa&&!Z.rejection&&ta(Z)}))},ba=function(Z,qa,za){var Xa;if(ra){var yb=K.createEvent("Event");yb.promise=qa;yb.reason=za;yb.initEvent(Z,!1,!0);k.dispatchEvent(yb)}else yb={promise:qa,reason:za};!I&&(Xa=k["on"+Z])?Xa(yb):"unhandledrejection"===
Z&&n("Unhandled promise rejection",za)},ta=function(Z){v(c,k,function(){var qa=Z.facade,za=Z.value;if(1!==Z.rejection&&!Z.parent){var Xa=e(function(){y?S.emit("unhandledRejection",za,qa):ba("unhandledrejection",qa,za)});Z.rejection=y||1!==Z.rejection&&!Z.parent?2:1;if(Xa.error)throw Xa.value;}})},pa=function(Z){v(c,k,function(){var qa=Z.facade;y?S.emit("rejectionHandled",qa):ba("rejectionhandled",qa,Z.value)})},ya=function(Z,qa,za){return function(Xa){Z(qa,Xa,za)}},ka=function(Z,qa,za){Z.done||(Z.done=
!0,za&&(Z=za),Z.value=qa,Z.state=2,ia(Z,!0))},Oa=function(Z,qa,za){if(!Z.done){Z.done=!0;za&&(Z=za);try{if(Z.facade===qa)throw new J("Promise can't be resolved itself");var Xa=ma(qa);Xa?f(function(){var yb={done:!1};try{v(Xa,qa,ya(Oa,yb,Z),ya(ka,yb,Z))}catch(Cb){ka(yb,Cb,Z)}}):(Z.value=qa,Z.state=1,ia(Z,!1))}catch(yb){ka({done:!1},yb,Z)}}};if(A){G=function(Z){r(this,H);a(Z);v(ab,this);var qa=O(this);try{Z(ya(Oa,qa),ya(ka,qa))}catch(za){ka(qa,za)}};H=G.prototype;var ab=function(Z){z(this,{type:"Promise",
done:!1,notified:!1,parent:!1,reactions:new p,rejection:!1,state:0,value:void 0})};ab.prototype=E(H,"then",function(Z,qa){var za=O(this),Xa=da(h(this,G));za.parent=!0;Xa.ok=m(Z)?Z:!0;Xa.fail=m(qa)&&qa;Xa.domain=y?S.domain:void 0;0===za.state?za.reactions.add(Xa):f(function(){Q(Xa,za)});return Xa.promise});var ib=function(){var Z=new ab,qa=O(Z);this.promise=Z;this.resolve=ya(Oa,qa);this.reject=ya(ka,qa)};g.f=da=function(Z){return Z===G||void 0===Z?new ib(Z):Y(Z)};if(!D&&m(B)&&u!==Object.prototype){var T=
u.then;C||E(u,"then",function(Z,qa){var za=this;return(new G(function(Xa,yb){v(T,za,Xa,yb)})).then(Z,qa)},{unsafe:!0});try{delete u.constructor}catch(Z){}b&&b(u,H)}}L({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:G});d(G,"Promise",!1,!0);x("Promise")},{"../internals/a-callable":79,"../internals/an-instance":83,"../internals/define-built-in":109,"../internals/engine-is-node":122,"../internals/export":131,"../internals/function-call":137,"../internals/global":147,"../internals/host-report-errors":150,
"../internals/internal-state":158,"../internals/is-callable":161,"../internals/is-object":165,"../internals/is-pure":166,"../internals/microtask":178,"../internals/new-promise-capability":179,"../internals/object-set-prototype-of":195,"../internals/perform":200,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202,"../internals/queue":205,"../internals/set-species":207,"../internals/set-to-string-tag":208,"../internals/species-constructor":212,"../internals/task":217}],
255:[function(g,L,D){L=g("../internals/export");D=g("../internals/is-pure");var y=g("../internals/promise-native-constructor"),k=g("../internals/fails"),v=g("../internals/get-built-in"),E=g("../internals/is-callable"),b=g("../internals/species-constructor"),d=g("../internals/promise-resolve");g=g("../internals/define-built-in");var x=y&&y.prototype;k=!!y&&k(function(){x["finally"].call({then:function(){}},function(){})});L({target:"Promise",proto:!0,real:!0,forced:k},{"finally":function(a){var m=
b(this,v("Promise")),q=E(a);return this.then(q?function(r){return d(m,a()).then(function(){return r})}:a,q?function(r){return d(m,a()).then(function(){throw r;})}:a)}});!D&&E(y)&&(L=v("Promise").prototype["finally"],x["finally"]!==L&&g(x,"finally",L,{unsafe:!0}))},{"../internals/define-built-in":109,"../internals/export":131,"../internals/fails":132,"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/promise-native-constructor":202,"../internals/promise-resolve":203,
"../internals/species-constructor":212}],256:[function(g,L,D){g("../modules/es.promise.constructor");g("../modules/es.promise.all");g("../modules/es.promise.catch");g("../modules/es.promise.race");g("../modules/es.promise.reject");g("../modules/es.promise.resolve")},{"../modules/es.promise.all":251,"../modules/es.promise.catch":253,"../modules/es.promise.constructor":254,"../modules/es.promise.race":257,"../modules/es.promise.reject":258,"../modules/es.promise.resolve":259}],257:[function(g,L,D){L=
g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/a-callable"),v=g("../internals/new-promise-capability"),E=g("../internals/perform"),b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");L({target:"Promise",stat:!0,forced:g},{race:function(d){var x=this,a=v.f(x),m=a.reject,q=E(function(){var r=k(x.resolve);b(d,function(h){y(r,x,h).then(a.resolve,m)})});q.error&&m(q.value);return a.promise}})},{"../internals/a-callable":79,"../internals/export":131,
"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],258:[function(g,L,D){L=g("../internals/export");var y=g("../internals/function-call"),k=g("../internals/new-promise-capability");g=g("../internals/promise-constructor-detection").CONSTRUCTOR;L({target:"Promise",stat:!0,forced:g},{reject:function(v){var E=k.f(this);y(E.reject,void 0,v);return E.promise}})},{"../internals/export":131,
"../internals/function-call":137,"../internals/new-promise-capability":179,"../internals/promise-constructor-detection":201}],259:[function(g,L,D){L=g("../internals/export");D=g("../internals/get-built-in");var y=g("../internals/is-pure"),k=g("../internals/promise-native-constructor"),v=g("../internals/promise-constructor-detection").CONSTRUCTOR,E=g("../internals/promise-resolve"),b=D("Promise"),d=y&&!v;L({target:"Promise",stat:!0,forced:y||v},{resolve:function(x){return E(d&&this===b?k:this,x)}})},
{"../internals/export":131,"../internals/get-built-in":142,"../internals/is-pure":166,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202,"../internals/promise-resolve":203}],260:[function(g,L,D){L=g("../internals/export");D=g("../internals/global");g=g("../internals/set-to-string-tag");L({global:!0},{Reflect:{}});g(D.Reflect,"Reflect",!0)},{"../internals/export":131,"../internals/global":147,"../internals/set-to-string-tag":208}],261:[function(g,L,D){L=
g("../internals/collection");g=g("../internals/collection-strong");L("Set",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":100,"../internals/collection-strong":99}],262:[function(g,L,D){g("../modules/es.set.constructor")},{"../modules/es.set.constructor":261}],263:[function(g,L,D){L=g("../internals/export");D=g("../internals/function-uncurry-this-clause");var y=g("../internals/object-get-own-property-descriptor").f,k=g("../internals/to-length"),
v=g("../internals/to-string"),E=g("../internals/not-a-regexp"),b=g("../internals/require-object-coercible"),d=g("../internals/correct-is-regexp-logic");g=g("../internals/is-pure");var x=D("".endsWith),a=D("".slice),m=Math.min;D=d("endsWith");g=!g&&!D&&!!function(){var q=y(String.prototype,"endsWith");return q&&!q.writable}();L({target:"String",proto:!0,forced:!g&&!D},{endsWith:function(q){var r=v(b(this));E(q);var h=1<arguments.length?arguments[1]:void 0,c=r.length;h=void 0===h?c:m(k(h),c);c=v(q);
return x?x(r,c,h):a(r,h-c.length,h)===c}})},{"../internals/correct-is-regexp-logic":102,"../internals/export":131,"../internals/function-uncurry-this-clause":140,"../internals/is-pure":166,"../internals/not-a-regexp":181,"../internals/object-get-own-property-descriptor":185,"../internals/require-object-coercible":206,"../internals/to-length":222,"../internals/to-string":227}],264:[function(g,L,D){var y=g("../internals/string-multibyte").charAt,k=g("../internals/to-string");L=g("../internals/internal-state");
D=g("../internals/iterator-define");var v=g("../internals/create-iter-result-object"),E=L.set,b=L.getterFor("String Iterator");D(String,"String",function(d){E(this,{type:"String Iterator",string:k(d),index:0})},function(){var d=b(this),x=d.string,a=d.index;if(a>=x.length)return v(void 0,!0);x=y(x,a);d.index+=x.length;return v(x,!1)})},{"../internals/create-iter-result-object":104,"../internals/internal-state":158,"../internals/iterator-define":172,"../internals/string-multibyte":213,"../internals/to-string":227}],
265:[function(g,L,D){g("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":235}],266:[function(g,L,D){L=g("../internals/export");var y=g("../internals/global"),k=g("../internals/function-call"),v=g("../internals/function-uncurry-this");D=g("../internals/is-pure");var E=g("../internals/descriptors"),b=g("../internals/symbol-constructor-detection"),d=g("../internals/fails"),x=g("../internals/has-own-property"),a=g("../internals/object-is-prototype-of"),
m=g("../internals/an-object"),q=g("../internals/to-indexed-object"),r=g("../internals/to-property-key"),h=g("../internals/to-string"),c=g("../internals/create-property-descriptor"),f=g("../internals/object-create"),n=g("../internals/object-keys"),e=g("../internals/object-get-own-property-names"),p=g("../internals/object-get-own-property-names-external"),u=g("../internals/object-get-own-property-symbols"),B=g("../internals/object-get-own-property-descriptor"),C=g("../internals/object-define-property"),
A=g("../internals/object-define-properties"),I=g("../internals/object-property-is-enumerable"),O=g("../internals/define-built-in"),z=g("../internals/define-built-in-accessor"),G=g("../internals/shared"),H=g("../internals/shared-key"),J=g("../internals/hidden-keys"),K=g("../internals/uid"),S=g("../internals/well-known-symbol"),da=g("../internals/well-known-symbol-wrapped"),Y=g("../internals/well-known-symbol-define"),ra=g("../internals/symbol-define-to-primitive"),ma=g("../internals/set-to-string-tag"),
Q=g("../internals/internal-state"),ia=g("../internals/array-iteration").forEach,ba=H("hidden"),ta=Q.set,pa=Q.getterFor("Symbol"),ya=Object.prototype,ka=(g=y.Symbol)&&g.prototype,Oa=y.RangeError,ab=y.TypeError;H=y.QObject;var ib=B.f,T=C.f,Z=p.f,qa=I.f,za=v([].push),Xa=G("symbols"),yb=G("op-symbols");v=G("wks");var Cb=!H||!H.prototype||!H.prototype.findChild,Ia=function(Ra,sa,Wa){var pb=ib(ya,sa);pb&&delete ya[sa];T(Ra,sa,Wa);pb&&Ra!==ya&&T(ya,sa,pb)},na=E&&d(function(){return 7!==f(T({},"a",{get:function(){return T(this,
"a",{value:7}).a}})).a})?Ia:T,Ha=function(Ra,sa){var Wa=Xa[Ra]=f(ka);ta(Wa,{type:"Symbol",tag:Ra,description:sa});E||(Wa.description=sa);return Wa},Da=function(Ra,sa,Wa){Ra===ya&&Da(yb,sa,Wa);m(Ra);sa=r(sa);m(Wa);return x(Xa,sa)?(Wa.enumerable?(x(Ra,ba)&&Ra[ba][sa]&&(Ra[ba][sa]=!1),Wa=f(Wa,{enumerable:c(0,!1)})):(x(Ra,ba)||T(Ra,ba,c(1,{})),Ra[ba][sa]=!0),na(Ra,sa,Wa)):T(Ra,sa,Wa)},bb=function(Ra,sa){m(Ra);var Wa=q(sa);sa=n(Wa).concat(vb(Wa));ia(sa,function(pb){E&&!k(rb,Wa,pb)||Da(Ra,pb,Wa[pb])});
return Ra},rb=function(Ra){Ra=r(Ra);var sa=k(qa,this,Ra);return this===ya&&x(Xa,Ra)&&!x(yb,Ra)?!1:sa||!x(this,Ra)||!x(Xa,Ra)||x(this,ba)&&this[ba][Ra]?sa:!0};d=function(Ra,sa){Ra=q(Ra);sa=r(sa);if(Ra!==ya||!x(Xa,sa)||x(yb,sa)){var Wa=ib(Ra,sa);!Wa||!x(Xa,sa)||x(Ra,ba)&&Ra[ba][sa]||(Wa.enumerable=!0);return Wa}};G=function(Ra){Ra=Z(q(Ra));var sa=[];ia(Ra,function(Wa){x(Xa,Wa)||x(J,Wa)||za(sa,Wa)});return sa};var vb=function(Ra){var sa=Ra===ya;Ra=Z(sa?yb:q(Ra));var Wa=[];ia(Ra,function(pb){!x(Xa,pb)||
sa&&!x(ya,pb)||za(Wa,Xa[pb])});return Wa};b||(g=function(){if(a(ka,this))throw new ab("Symbol is not a constructor");var Ra=arguments.length&&void 0!==arguments[0]?h(arguments[0]):void 0,sa=K(Ra),Wa=function(pb){var Ta=void 0===this?y:this;Ta===ya&&k(Wa,yb,pb);x(Ta,ba)&&x(Ta[ba],sa)&&(Ta[ba][sa]=!1);pb=c(1,pb);try{na(Ta,sa,pb)}catch(ua){if(!(ua instanceof Oa))throw ua;Ia(Ta,sa,pb)}};E&&Cb&&na(ya,sa,{configurable:!0,set:Wa});return Ha(sa,Ra)},ka=g.prototype,O(ka,"toString",function(){return pa(this).tag}),
O(g,"withoutSetter",function(Ra){return Ha(K(Ra),Ra)}),I.f=rb,C.f=Da,A.f=bb,B.f=d,e.f=p.f=G,u.f=vb,da.f=function(Ra){return Ha(S(Ra),Ra)},E&&(z(ka,"description",{configurable:!0,get:function(){return pa(this).description}}),D||O(ya,"propertyIsEnumerable",rb,{unsafe:!0})));L({global:!0,constructor:!0,wrap:!0,forced:!b,sham:!b},{Symbol:g});ia(n(v),function(Ra){Y(Ra)});L({target:"Symbol",stat:!0,forced:!b},{useSetter:function(){Cb=!0},useSimple:function(){Cb=!1}});L({target:"Object",stat:!0,forced:!b,
sham:!E},{create:function(Ra,sa){return void 0===sa?f(Ra):bb(f(Ra),sa)},defineProperty:Da,defineProperties:bb,getOwnPropertyDescriptor:d});L({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:G});ra();ma(g,"Symbol");J[ba]=!0},{"../internals/an-object":84,"../internals/array-iteration":90,"../internals/create-property-descriptor":106,"../internals/define-built-in":109,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/export":131,"../internals/fails":132,
"../internals/function-call":137,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/internal-state":158,"../internals/is-pure":166,"../internals/object-create":182,"../internals/object-define-properties":183,"../internals/object-define-property":184,"../internals/object-get-own-property-descriptor":185,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-names-external":186,
"../internals/object-get-own-property-symbols":188,"../internals/object-is-prototype-of":191,"../internals/object-keys":193,"../internals/object-property-is-enumerable":194,"../internals/set-to-string-tag":208,"../internals/shared":211,"../internals/shared-key":209,"../internals/symbol-constructor-detection":214,"../internals/symbol-define-to-primitive":215,"../internals/to-indexed-object":220,"../internals/to-property-key":225,"../internals/to-string":227,"../internals/uid":230,"../internals/well-known-symbol":237,
"../internals/well-known-symbol-define":235,"../internals/well-known-symbol-wrapped":236}],267:[function(g,L,D){L=g("../internals/export");var y=g("../internals/descriptors"),k=g("../internals/global");D=g("../internals/function-uncurry-this");var v=g("../internals/has-own-property"),E=g("../internals/is-callable"),b=g("../internals/object-is-prototype-of"),d=g("../internals/to-string"),x=g("../internals/define-built-in-accessor");g=g("../internals/copy-constructor-properties");var a=k.Symbol,m=a&&
a.prototype;if(y&&E(a)&&(!("description"in m)||void 0!==a().description)){var q={};y=function(){var p=1>arguments.length||void 0===arguments[0]?void 0:d(arguments[0]),u=b(m,this)?new a(p):void 0===p?a():a(p);""===p&&(q[u]=!0);return u};g(y,a);y.prototype=m;m.constructor=y;var r="Symbol(description detection)"===String(a("description detection")),h=D(m.valueOf),c=D(m.toString),f=/^Symbol\((.*)\)[^)]+$/,n=D("".replace),e=D("".slice);x(m,"description",{configurable:!0,get:function(){var p=h(this);if(v(q,
p))return"";p=c(p);p=r?e(p,7,-1):n(p,f,"$1");return""===p?void 0:p}});L({global:!0,constructor:!0,forced:!0},{Symbol:y})}},{"../internals/copy-constructor-properties":101,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/export":131,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/has-own-property":148,"../internals/is-callable":161,"../internals/object-is-prototype-of":191,"../internals/to-string":227}],268:[function(g,L,D){L=
g("../internals/export");var y=g("../internals/get-built-in"),k=g("../internals/has-own-property"),v=g("../internals/to-string");D=g("../internals/shared");g=g("../internals/symbol-registry-detection");var E=D("string-to-symbol-registry"),b=D("symbol-to-string-registry");L({target:"Symbol",stat:!0,forced:!g},{"for":function(d){d=v(d);if(k(E,d))return E[d];var x=y("Symbol")(d);E[d]=x;b[x]=d;return x}})},{"../internals/export":131,"../internals/get-built-in":142,"../internals/has-own-property":148,
"../internals/shared":211,"../internals/symbol-registry-detection":216,"../internals/to-string":227}],269:[function(g,L,D){g("../internals/well-known-symbol-define")("hasInstance")},{"../internals/well-known-symbol-define":235}],270:[function(g,L,D){g("../internals/well-known-symbol-define")("isConcatSpreadable")},{"../internals/well-known-symbol-define":235}],271:[function(g,L,D){g("../internals/well-known-symbol-define")("iterator")},{"../internals/well-known-symbol-define":235}],272:[function(g,
L,D){g("../modules/es.symbol.constructor");g("../modules/es.symbol.for");g("../modules/es.symbol.key-for");g("../modules/es.json.stringify");g("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":243,"../modules/es.object.get-own-property-symbols":248,"../modules/es.symbol.constructor":266,"../modules/es.symbol.for":268,"../modules/es.symbol.key-for":273}],273:[function(g,L,D){L=g("../internals/export");var y=g("../internals/has-own-property"),k=g("../internals/is-symbol"),
v=g("../internals/try-to-string");D=g("../internals/shared");g=g("../internals/symbol-registry-detection");var E=D("symbol-to-string-registry");L({target:"Symbol",stat:!0,forced:!g},{keyFor:function(b){if(!k(b))throw new TypeError(v(b)+" is not a symbol");if(y(E,b))return E[b]}})},{"../internals/export":131,"../internals/has-own-property":148,"../internals/is-symbol":168,"../internals/shared":211,"../internals/symbol-registry-detection":216,"../internals/try-to-string":228}],274:[function(g,L,D){g("../internals/well-known-symbol-define")("matchAll")},
{"../internals/well-known-symbol-define":235}],275:[function(g,L,D){g("../internals/well-known-symbol-define")("match")},{"../internals/well-known-symbol-define":235}],276:[function(g,L,D){g("../internals/well-known-symbol-define")("replace")},{"../internals/well-known-symbol-define":235}],277:[function(g,L,D){g("../internals/well-known-symbol-define")("search")},{"../internals/well-known-symbol-define":235}],278:[function(g,L,D){g("../internals/well-known-symbol-define")("species")},{"../internals/well-known-symbol-define":235}],
279:[function(g,L,D){g("../internals/well-known-symbol-define")("split")},{"../internals/well-known-symbol-define":235}],280:[function(g,L,D){L=g("../internals/well-known-symbol-define");g=g("../internals/symbol-define-to-primitive");L("toPrimitive");g()},{"../internals/symbol-define-to-primitive":215,"../internals/well-known-symbol-define":235}],281:[function(g,L,D){L=g("../internals/get-built-in");D=g("../internals/well-known-symbol-define");g=g("../internals/set-to-string-tag");D("toStringTag");
g(L("Symbol"),"Symbol")},{"../internals/get-built-in":142,"../internals/set-to-string-tag":208,"../internals/well-known-symbol-define":235}],282:[function(g,L,D){g("../internals/well-known-symbol-define")("unscopables")},{"../internals/well-known-symbol-define":235}],283:[function(g,L,D){D=g("../internals/array-buffer-view-core");var y=g("../internals/array-fill"),k=g("../internals/to-big-int"),v=g("../internals/classof"),E=g("../internals/function-call");L=g("../internals/function-uncurry-this");
g=g("../internals/fails");var b=D.aTypedArray;D=D.exportTypedArrayMethod;var d=L("".slice);g=g(function(){var x=0;(new Int8Array(2)).fill({valueOf:function(){return x++}});return 1!==x});D("fill",function(x){var a=arguments.length;b(this);var m="Big"===d(v(this),0,3)?k(x):+x;return E(y,this,m,1<a?arguments[1]:void 0,2<a?arguments[2]:void 0)},g)},{"../internals/array-buffer-view-core":87,"../internals/array-fill":88,"../internals/classof":98,"../internals/fails":132,"../internals/function-call":137,
"../internals/function-uncurry-this":141,"../internals/to-big-int":219}],284:[function(g,L,D){D=g("../internals/array-buffer-view-core");var y=g("../internals/typed-array-species-constructor");L=g("../internals/fails");var k=g("../internals/array-slice"),v=D.aTypedArray;g=D.exportTypedArrayMethod;L=L(function(){(new Int8Array(1)).slice()});g("slice",function(E,b){E=k(v(this),E,b);var d=y(this);b=0;var x=E.length;for(d=new d(x);x>b;)d[b]=E[b++];return d},L)},{"../internals/array-buffer-view-core":87,
"../internals/array-slice":93,"../internals/fails":132,"../internals/typed-array-species-constructor":229}],285:[function(g,L,D){L=g("../internals/global");var y=g("../internals/dom-iterables");D=g("../internals/dom-token-list-prototype");var k=g("../modules/es.array.iterator"),v=g("../internals/create-non-enumerable-property");g=g("../internals/well-known-symbol");var E=g("iterator"),b=g("toStringTag"),d=k.values;g=function(a,m){if(a){if(a[E]!==d)try{v(a,E,d)}catch(r){a[E]=d}a[b]||v(a,b,m);if(y[m])for(var q in k)if(a[q]!==
k[q])try{v(a,q,k[q])}catch(r){a[q]=k[q]}}};for(var x in y)g(L[x]&&L[x].prototype,x);g(D,"DOMTokenList")},{"../internals/create-non-enumerable-property":105,"../internals/dom-iterables":116,"../internals/dom-token-list-prototype":117,"../internals/global":147,"../internals/well-known-symbol":237,"../modules/es.array.iterator":242}],286:[function(g,L,D){g=g("../../es/array/fill");L.exports=g},{"../../es/array/fill":70}],287:[function(g,L,D){g=g("../../es/array/iterator");L.exports=g},{"../../es/array/iterator":71}],
288:[function(g,L,D){D=g("../../es/map");g("../../modules/web.dom-collections.iterator");L.exports=D},{"../../es/map":72,"../../modules/web.dom-collections.iterator":285}],289:[function(g,L,D){D=g("../../es/promise");g("../../modules/web.dom-collections.iterator");L.exports=D},{"../../es/promise":73,"../../modules/web.dom-collections.iterator":285}],290:[function(g,L,D){D=g("../../es/set");g("../../modules/web.dom-collections.iterator");L.exports=D},{"../../es/set":74,"../../modules/web.dom-collections.iterator":285}],
291:[function(g,L,D){g=g("../../es/string/ends-with");L.exports=g},{"../../es/string/ends-with":75}],292:[function(g,L,D){D=g("../../es/symbol");g("../../modules/web.dom-collections.iterator");L.exports=D},{"../../es/symbol":76,"../../modules/web.dom-collections.iterator":285}],293:[function(g,L,D){g=g("../../es/typed-array/fill");L.exports=g},{"../../es/typed-array/fill":77}],294:[function(g,L,D){g=g("../../es/typed-array/slice");L.exports=g},{"../../es/typed-array/slice":78}],295:[function(g,L,
D){(function(y){(function(){(function(k,v){"undefined"!=typeof D?v():(v(),k.FileSaver={})})(this,function(){function k(m,q){return"undefined"==typeof q?q={autoBom:!1}:"object"!=typeof q&&(console.warn("Deprecated: Expected third argument to be a object"),q={autoBom:!q}),q.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\ufeff",m],{type:m.type}):m}function v(m,q,r){var h=new XMLHttpRequest;h.open("GET",m);h.responseType="blob";h.onload=
function(){a(h.response,q,r)};h.onerror=function(){console.error("could not download file")};h.send()}function E(m){var q=new XMLHttpRequest;q.open("HEAD",m,!1);try{q.send()}catch(r){}return 200<=q.status&&299>=q.status}function b(m){try{m.dispatchEvent(new MouseEvent("click"))}catch(r){var q=document.createEvent("MouseEvents");q.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);m.dispatchEvent(q)}}var d="object"==typeof window&&window.window===window?window:"object"==typeof self&&
self.self===self?self:"object"==typeof y&&y.global===y?y:void 0,x=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=d.saveAs||("object"!=typeof window||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!x?function(m,q,r){var h=d.URL||d.webkitURL,c=document.createElement("a");q=q||m.name||"download";c.download=q;c.rel="noopener";"string"==typeof m?(c.href=m,c.origin===location.origin?b(c):E(c.href)?v(m,
q,r):b(c,c.target="_blank")):(c.href=h.createObjectURL(m),setTimeout(function(){h.revokeObjectURL(c.href)},4E4),setTimeout(function(){b(c)},0))}:"msSaveOrOpenBlob"in navigator?function(m,q,r){if(q=q||m.name||"download","string"!=typeof m)navigator.msSaveOrOpenBlob(k(m,r),q);else if(E(m))v(m,q,r);else{var h=document.createElement("a");h.href=m;h.target="_blank";setTimeout(function(){b(h)})}}:function(m,q,r,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),
"string"==typeof m)return v(m,q,r);q="application/octet-stream"===m.type;r=/constructor/i.test(d.HTMLElement)||d.safari;var c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||q&&r||x)&&"undefined"!=typeof FileReader){var f=new FileReader;f.onloadend=function(){var p=f.result;p=c?p:p.replace(/^data:[^;]*;/,"data:attachment/file;");h?h.location.href=p:location=p;h=null};f.readAsDataURL(m)}else{var n=d.URL||d.webkitURL,e=n.createObjectURL(m);h?h.location=e:location.href=e;h=null;setTimeout(function(){n.revokeObjectURL(e)},
4E4)}});d.saveAs=a.saveAs=a;"undefined"!=typeof L&&(L.exports=a)})}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],296:[function(g,L,D){(function(y,k){"object"===typeof L&&"object"===typeof L.exports?L.exports=y.document?k(y,!0):function(v){if(!v.document)throw Error("jQuery requires a window with a document");return k(v)}:k(y)})("undefined"!==typeof window?window:this,function(y,k){function v(l,w,F){F=F||qb;var M,
R=F.createElement("script");R.text=l;if(w)for(M in wb)(l=w[M]||w.getAttribute&&w.getAttribute(M))&&R.setAttribute(M,l);F.head.appendChild(R).parentNode.removeChild(R)}function E(l){return null==l?l+"":"object"===typeof l||"function"===typeof l?Ta[ua.call(l)]||"object":typeof l}function b(l){var w=!!l&&"length"in l&&l.length,F=E(l);return $a(l)||Ka(l)?!1:"array"===F||0===w||"number"===typeof w&&0<w&&w-1 in l}function d(l,w){return l.nodeName&&l.nodeName.toLowerCase()===w.toLowerCase()}function x(l,
w){return w?"\x00"===l?"\ufffd":l.slice(0,-1)+"\\"+l.charCodeAt(l.length-1).toString(16)+" ":"\\"+l}function a(l,w,F){return $a(w)?P.grep(l,function(M,R){return!!w.call(M,R,M)!==F}):w.nodeType?P.grep(l,function(M){return M===w!==F}):"string"!==typeof w?P.grep(l,function(M){return-1<pb.call(w,M)!==F}):P.filter(w,l,F)}function m(l,w){for(;(l=l[w])&&1!==l.nodeType;);return l}function q(l){var w={};P.each(l.match(Db)||[],function(F,M){w[M]=!0});return w}function r(l){return l}function h(l){throw l;}function c(l,
w,F,M){var R;try{l&&$a(R=l.promise)?R.call(l).done(w).fail(F):l&&$a(R=l.then)?R.call(l,w,F):w.apply(void 0,[l].slice(M))}catch(U){F.apply(void 0,[U])}}function f(){qb.removeEventListener("DOMContentLoaded",f);y.removeEventListener("load",f);P.ready()}function n(l,w){return w.toUpperCase()}function e(l){return l.replace(nb,"ms-").replace(Vb,n)}function p(){this.expando=P.expando+p.uid++}function u(l,w,F){if(void 0===F&&1===l.nodeType)if(F="data-"+w.replace(sc,"-$&").toLowerCase(),F=l.getAttribute(F),
"string"===typeof F){try{var M=F;F="true"===M?!0:"false"===M?!1:"null"===M?null:M===+M+""?+M:kc.test(M)?JSON.parse(M):M}catch(R){}Wb.set(l,w,F)}else F=void 0;return F}function B(l,w,F,M){var R,U=20,X=M?function(){return M.cur()}:function(){return P.css(l,w,"")},la=X(),ea=F&&F[3]||(P.cssNumber[w]?"":"px"),fa=l.nodeType&&(P.cssNumber[w]||"px"!==ea&&+la)&&dc.exec(P.css(l,w));if(fa&&fa[3]!==ea){la/=2;ea=ea||fa[3];for(fa=+la||1;U--;)P.style(l,w,fa+ea),0>=(1-R)*(1-(R=X()/la||.5))&&(U=0),fa/=R;fa*=2;P.style(l,
w,fa+ea);F=F||[]}if(F){fa=+fa||+la||0;var Ga=F[1]?fa+(F[1]+1)*F[2]:+F[2];M&&(M.unit=ea,M.start=fa,M.end=Ga)}return Ga}function C(l,w){for(var F,M,R=[],U=0,X=l.length;U<X;U++)if(M=l[U],M.style)if(F=M.style.display,w){if("none"===F&&(R[U]=lb.get(M,"display")||null,R[U]||(M.style.display="")),""===M.style.display&&Ac(M)){F=U;var la=M.ownerDocument;M=M.nodeName;var ea=Dc[M];ea||(la=la.body.appendChild(la.createElement(M)),ea=P.css(la,"display"),la.parentNode.removeChild(la),"none"===ea&&(ea="block"),
Dc[M]=ea);la=ea;R[F]=la}}else"none"!==F&&(R[U]="none",lb.set(M,"display",F));for(U=0;U<X;U++)null!=R[U]&&(l[U].style.display=R[U]);return l}function A(l,w){var F="undefined"!==typeof l.getElementsByTagName?l.getElementsByTagName(w||"*"):"undefined"!==typeof l.querySelectorAll?l.querySelectorAll(w||"*"):[];return void 0===w||w&&d(l,w)?P.merge([l],F):F}function I(l,w){for(var F=0,M=l.length;F<M;F++)lb.set(l[F],"globalEval",!w||lb.get(w[F],"globalEval"))}function O(l,w,F,M,R){for(var U,X,la,ea=w.createDocumentFragment(),
fa=[],Ga=0,Na=l.length;Ga<Na;Ga++)if((U=l[Ga])||0===U)if("object"===E(U))P.merge(fa,U.nodeType?[U]:U);else if(eb.test(U)){X=X||ea.appendChild(w.createElement("div"));la=(aa.exec(U)||["",""])[1].toLowerCase();la=Pa[la]||Pa._default;X.innerHTML=la[1]+P.htmlPrefilter(U)+la[2];for(la=la[0];la--;)X=X.lastChild;P.merge(fa,X.childNodes);X=ea.firstChild;X.textContent=""}else fa.push(w.createTextNode(U));ea.textContent="";for(Ga=0;U=fa[Ga++];)if(M&&-1<P.inArray(U,M))R&&R.push(U);else if(l=zc(U),X=A(ea.appendChild(U),
"script"),l&&I(X),F)for(la=0;U=X[la++];)Ba.test(U.type||"")&&F.push(U);return ea}function z(){return!0}function G(){return!1}function H(l,w,F,M,R,U){var X;if("object"===typeof w){"string"!==typeof F&&(M=M||F,F=void 0);for(X in w)H(l,X,F,M,w[X],U);return l}null==M&&null==R?(R=F,M=F=void 0):null==R&&("string"===typeof F?(R=M,M=void 0):(R=M,M=F,F=void 0));if(!1===R)R=G;else if(!R)return l;if(1===U){var la=R;R=function(ea){P().off(ea);return la.apply(this,arguments)};R.guid=la.guid||(la.guid=P.guid++)}return l.each(function(){P.event.add(this,
w,R,M,F)})}function J(l,w,F){F?(lb.set(l,w,!1),P.event.add(l,w,{namespace:!1,handler:function(M){var R=lb.get(this,w);if(M.isTrigger&1&&this[w])if(R)(P.event.special[w]||{}).delegateType&&M.stopPropagation();else{R=Ra.call(arguments);lb.set(this,w,R);this[w]();var U=lb.get(this,w);lb.set(this,w,!1);if(R!==U)return M.stopImmediatePropagation(),M.preventDefault(),U}else R&&(lb.set(this,w,P.event.trigger(R[0],R.slice(1),this)),M.stopPropagation(),M.isImmediatePropagationStopped=z)}})):void 0===lb.get(l,
w)&&P.event.add(l,w,z)}function K(l,w){return d(l,"table")&&d(11!==w.nodeType?w:w.firstChild,"tr")?P(l).children("tbody")[0]||l:l}function S(l){l.type=(null!==l.getAttribute("type"))+"/"+l.type;return l}function da(l){"true/"===(l.type||"").slice(0,5)?l.type=l.type.slice(5):l.removeAttribute("type");return l}function Y(l,w){var F,M,R;if(1===w.nodeType){if(lb.hasData(l)){var U=lb.get(l);if(R=U.events)for(M in lb.remove(w,"handle events"),R)for(U=0,F=R[M].length;U<F;U++)P.event.add(w,M,R[M][U])}Wb.hasData(l)&&
(l=Wb.access(l),l=P.extend({},l),Wb.set(w,l))}}function ra(l,w,F,M){w=sa(w);var R,U=0,X=l.length,la=X-1,ea=w[0],fa=$a(ea);if(fa||1<X&&"string"===typeof ea&&!Ca.checkClone&&V.test(ea))return l.each(function(hb){var jb=l.eq(hb);fa&&(w[0]=ea.call(this,hb,jb.html()));ra(jb,w,F,M)});if(X){var Ga=O(w,l[0].ownerDocument,!1,l,M);var Na=Ga.firstChild;1===Ga.childNodes.length&&(Ga=Na);if(Na||M){Na=P.map(A(Ga,"script"),S);for(R=Na.length;U<X;U++){var Ua=Ga;U!==la&&(Ua=P.clone(Ua,!0,!0),R&&P.merge(Na,A(Ua,"script")));
F.call(l[U],Ua,U)}if(R)for(Ga=Na[Na.length-1].ownerDocument,P.map(Na,da),U=0;U<R;U++)Ua=Na[U],Ba.test(Ua.type||"")&&!lb.access(Ua,"globalEval")&&P.contains(Ga,Ua)&&(Ua.src&&"module"!==(Ua.type||"").toLowerCase()?P._evalUrl&&!Ua.noModule&&P._evalUrl(Ua.src,{nonce:Ua.nonce||Ua.getAttribute("nonce")},Ga):v(Ua.textContent.replace(ja,""),Ua,Ga))}}return l}function ma(l,w,F){for(var M=w?P.filter(w,l):l,R=0;null!=(w=M[R]);R++)F||1!==w.nodeType||P.cleanData(A(w)),w.parentNode&&(F&&zc(w)&&I(A(w,"script")),
w.parentNode.removeChild(w));return l}function Q(l,w,F){var M=ca.test(w);var R=l.style;if(F=F||xa(l)){var U=F.getPropertyValue(w)||F[w];M&&U&&(U=U.replace(mc,"$1")||void 0);""!==U||zc(l)||(U=P.style(l,w));!Ca.pixelBoxStyles()&&Ea.test(U)&&Aa.test(w)&&(l=R.width,w=R.minWidth,M=R.maxWidth,R.minWidth=R.maxWidth=R.width=U,U=F.width,R.width=l,R.minWidth=w,R.maxWidth=M)}return void 0!==U?U+"":U}function ia(l,w){return{get:function(){if(l())delete this.get;else return(this.get=w).apply(this,arguments)}}}
function ba(l){var w=P.cssProps[l]||sb[l];if(w)return w;if(l in Ya)return l;a:{w=l;for(var F=w[0].toUpperCase()+w.slice(1),M=Sa.length;M--;)if(w=Sa[M]+F,w in Ya)break a;w=void 0}return sb[l]=w||l}function ta(l,w,F){return(l=dc.exec(w))?Math.max(0,l[2]-(F||0))+(l[3]||"px"):w}function pa(l,w,F,M,R,U){var X="width"===w?1:0,la=0,ea=0,fa=0;if(F===(M?"border":"content"))return 0;for(;4>X;X+=2)"margin"===F&&(fa+=P.css(l,F+ec[X],!0,R)),M?("content"===F&&(ea-=P.css(l,"padding"+ec[X],!0,R)),"margin"!==F&&(ea-=
P.css(l,"border"+ec[X]+"Width",!0,R))):(ea+=P.css(l,"padding"+ec[X],!0,R),"padding"!==F?ea+=P.css(l,"border"+ec[X]+"Width",!0,R):la+=P.css(l,"border"+ec[X]+"Width",!0,R));!M&&0<=U&&(ea+=Math.max(0,Math.ceil(l["offset"+w[0].toUpperCase()+w.slice(1)]-U-ea-la-.5))||0);return ea+fa}function ya(l,w,F){var M=xa(l),R=(!Ca.boxSizingReliable()||F)&&"border-box"===P.css(l,"boxSizing",!1,M),U=R,X=Q(l,w,M),la="offset"+w[0].toUpperCase()+w.slice(1);if(Ea.test(X)){if(!F)return X;X="auto"}(!Ca.boxSizingReliable()&&
R||!Ca.reliableTrDimensions()&&d(l,"tr")||"auto"===X||!parseFloat(X)&&"inline"===P.css(l,"display",!1,M))&&l.getClientRects().length&&(R="border-box"===P.css(l,"boxSizing",!1,M),(U=la in l)&&(X=l[la]));X=parseFloat(X)||0;return X+pa(l,w,F||(R?"border":"content"),U,M,X)+"px"}function ka(l,w,F,M,R){return new ka.prototype.init(l,w,F,M,R)}function Oa(){nc&&(!1===qb.hidden&&y.requestAnimationFrame?y.requestAnimationFrame(Oa):y.setTimeout(Oa,P.fx.interval),P.fx.tick())}function ab(){y.setTimeout(function(){Ub=
void 0});return Ub=Date.now()}function ib(l,w){var F=0,M={height:l};for(w=w?1:0;4>F;F+=2-w){var R=ec[F];M["margin"+R]=M["padding"+R]=l}w&&(M.opacity=M.width=l);return M}function T(l,w,F){for(var M,R=(qa.tweeners[w]||[]).concat(qa.tweeners["*"]),U=0,X=R.length;U<X;U++)if(M=R[U].call(F,w,l))return M}function Z(l,w){var F,M;for(F in l){var R=e(F);var U=w[R];var X=l[F];Array.isArray(X)&&(U=X[1],X=l[F]=X[0]);F!==R&&(l[R]=X,delete l[F]);if((M=P.cssHooks[R])&&"expand"in M)for(F in X=M.expand(X),delete l[R],
X)F in l||(l[F]=X[F],w[F]=U);else w[R]=U}}function qa(l,w,F){var M,R=0,U=qa.prefilters.length,X=P.Deferred().always(function(){delete la.elem}),la=function(){if(M)return!1;var fa=Ub||ab();fa=Math.max(0,ea.startTime+ea.duration-fa);for(var Ga=1-(fa/ea.duration||0),Na=0,Ua=ea.tweens.length;Na<Ua;Na++)ea.tweens[Na].run(Ga);X.notifyWith(l,[ea,Ga,fa]);if(1>Ga&&Ua)return fa;Ua||X.notifyWith(l,[ea,1,0]);X.resolveWith(l,[ea]);return!1},ea=X.promise({elem:l,props:P.extend({},w),opts:P.extend(!0,{specialEasing:{},
easing:P.easing._default},F),originalProperties:w,originalOptions:F,startTime:Ub||ab(),duration:F.duration,tweens:[],createTween:function(fa,Ga){fa=P.Tween(l,ea.opts,fa,Ga,ea.opts.specialEasing[fa]||ea.opts.easing);ea.tweens.push(fa);return fa},stop:function(fa){var Ga=0,Na=fa?ea.tweens.length:0;if(M)return this;for(M=!0;Ga<Na;Ga++)ea.tweens[Ga].run(1);fa?(X.notifyWith(l,[ea,1,0]),X.resolveWith(l,[ea,fa])):X.rejectWith(l,[ea,fa]);return this}});F=ea.props;for(Z(F,ea.opts.specialEasing);R<U;R++)if(w=
qa.prefilters[R].call(ea,l,F,ea.opts))return $a(w.stop)&&(P._queueHooks(ea.elem,ea.opts.queue).stop=w.stop.bind(w)),w;P.map(F,T,ea);$a(ea.opts.start)&&ea.opts.start.call(l,ea);ea.progress(ea.opts.progress).done(ea.opts.done,ea.opts.complete).fail(ea.opts.fail).always(ea.opts.always);P.fx.timer(P.extend(la,{elem:l,anim:ea,queue:ea.opts.queue}));return ea}function za(l){return(l.match(Db)||[]).join(" ")}function Xa(l){return l.getAttribute&&l.getAttribute("class")||""}function yb(l){return Array.isArray(l)?
l:"string"===typeof l?l.match(Db)||[]:[]}function Cb(l,w,F,M){var R;if(Array.isArray(w))P.each(w,function(U,X){F||hd.test(l)?M(l,X):Cb(l+"["+("object"===typeof X&&null!=X?U:"")+"]",X,F,M)});else if(F||"object"!==E(w))M(l,w);else for(R in w)Cb(l+"["+R+"]",w[R],F,M)}function Ia(l){return function(w,F){"string"!==typeof w&&(F=w,w="*");var M=0,R=w.toLowerCase().match(Db)||[];if($a(F))for(;w=R[M++];)"+"===w[0]?(w=w.slice(1)||"*",(l[w]=l[w]||[]).unshift(F)):(l[w]=l[w]||[]).push(F)}}function na(l,w,F,M){function R(la){var ea;
U[la]=!0;P.each(l[la]||[],function(fa,Ga){fa=Ga(w,F,M);if("string"===typeof fa&&!X&&!U[fa])return w.dataTypes.unshift(fa),R(fa),!1;if(X)return!(ea=fa)});return ea}var U={},X=l===Uc;return R(w.dataTypes[0])||!U["*"]&&R("*")}function Ha(l,w){var F,M,R=P.ajaxSettings.flatOptions||{};for(F in w)void 0!==w[F]&&((R[F]?l:M||={})[F]=w[F]);M&&P.extend(!0,l,M);return l}function Da(l,w,F){for(var M,R,U,X,la=l.contents,ea=l.dataTypes;"*"===ea[0];)ea.shift(),void 0===M&&(M=l.mimeType||w.getResponseHeader("Content-Type"));
if(M)for(R in la)if(la[R]&&la[R].test(M)){ea.unshift(R);break}if(ea[0]in F)U=ea[0];else{for(R in F){if(!ea[0]||l.converters[R+" "+ea[0]]){U=R;break}X||=R}U=U||X}if(U)return U!==ea[0]&&ea.unshift(U),F[U]}function bb(l,w,F,M){var R,U,X={},la=l.dataTypes.slice();if(la[1])for(fa in l.converters)X[fa.toLowerCase()]=l.converters[fa];for(U=la.shift();U;){l.responseFields[U]&&(F[l.responseFields[U]]=w);!ea&&M&&l.dataFilter&&(w=l.dataFilter(w,l.dataType));var ea=U;if(U=la.shift())if("*"===U)U=ea;else if("*"!==
ea&&ea!==U){var fa=X[ea+" "+U]||X["* "+U];if(!fa)for(R in X){var Ga=R.split(" ");if(Ga[1]===U&&(fa=X[ea+" "+Ga[0]]||X["* "+Ga[0]])){!0===fa?fa=X[R]:!0!==X[R]&&(U=Ga[0],la.unshift(Ga[1]));break}}if(!0!==fa)if(fa&&l.throws)w=fa(w);else try{w=fa(w)}catch(Na){return{state:"parsererror",error:fa?Na:"No conversion from "+ea+" to "+U}}}}return{state:"success",data:w}}var rb=[],vb=Object.getPrototypeOf,Ra=rb.slice,sa=rb.flat?function(l){return rb.flat.call(l)}:function(l){return rb.concat.apply([],l)},Wa=
rb.push,pb=rb.indexOf,Ta={},ua=Ta.toString,Fa=Ta.hasOwnProperty,La=Fa.toString,Ma=La.call(Object),Ca={},$a=function(l){return"function"===typeof l&&"number"!==typeof l.nodeType&&"function"!==typeof l.item},Ka=function(l){return null!=l&&l===l.window},qb=y.document,wb={type:!0,src:!0,nonce:!0,noModule:!0},Ob=/HTML$/i,P=function(l,w){return new P.fn.init(l,w)};P.fn=P.prototype={jquery:"3.7.1",constructor:P,length:0,toArray:function(){return Ra.call(this)},get:function(l){return null==l?Ra.call(this):
0>l?this[l+this.length]:this[l]},pushStack:function(l){l=P.merge(this.constructor(),l);l.prevObject=this;return l},each:function(l){return P.each(this,l)},map:function(l){return this.pushStack(P.map(this,function(w,F){return l.call(w,F,w)}))},slice:function(){return this.pushStack(Ra.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(l,w){return(w+1)%2}))},odd:function(){return this.pushStack(P.grep(this,
function(l,w){return w%2}))},eq:function(l){var w=this.length;l=+l+(0>l?w:0);return this.pushStack(0<=l&&l<w?[this[l]]:[])},end:function(){return this.prevObject||this.constructor()},push:Wa,sort:rb.sort,splice:rb.splice};P.extend=P.fn.extend=function(){var l,w,F,M=arguments[0]||{},R=1,U=arguments.length,X=!1;"boolean"===typeof M&&(X=M,M=arguments[R]||{},R++);"object"===typeof M||$a(M)||(M={});R===U&&(M=this,R--);for(;R<U;R++)if(null!=(l=arguments[R]))for(w in l){var la=l[w];if("__proto__"!==w&&M!==
la)if(X&&la&&(P.isPlainObject(la)||(F=Array.isArray(la)))){var ea=M[w];ea=F&&!Array.isArray(ea)?[]:F||P.isPlainObject(ea)?ea:{};F=!1;M[w]=P.extend(X,ea,la)}else void 0!==la&&(M[w]=la)}return M};P.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(l){throw Error(l);},noop:function(){},isPlainObject:function(l){if(!l||"[object Object]"!==ua.call(l))return!1;l=vb(l);if(!l)return!0;l=Fa.call(l,"constructor")&&l.constructor;return"function"===typeof l&&La.call(l)===
Ma},isEmptyObject:function(l){for(var w in l)return!1;return!0},globalEval:function(l,w,F){v(l,{nonce:w&&w.nonce},F)},each:function(l,w){var F,M=0;if(b(l))for(F=l.length;M<F&&!1!==w.call(l[M],M,l[M]);M++);else for(M in l)if(!1===w.call(l[M],M,l[M]))break;return l},text:function(l){var w,F="",M=0,R=l.nodeType;if(!R)for(;w=l[M++];)F+=P.text(w);return 1===R||11===R?l.textContent:9===R?l.documentElement.textContent:3===R||4===R?l.nodeValue:F},makeArray:function(l,w){w=w||[];null!=l&&(b(Object(l))?P.merge(w,
"string"===typeof l?[l]:l):Wa.call(w,l));return w},inArray:function(l,w,F){return null==w?-1:pb.call(w,l,F)},isXMLDoc:function(l){var w=l&&(l.ownerDocument||l).documentElement;return!Ob.test(l&&l.namespaceURI||w&&w.nodeName||"HTML")},merge:function(l,w){for(var F=+w.length,M=0,R=l.length;M<F;M++)l[R++]=w[M];l.length=R;return l},grep:function(l,w,F){for(var M=[],R=0,U=l.length,X=!F;R<U;R++)F=!w(l[R],R),F!==X&&M.push(l[R]);return M},map:function(l,w,F){var M,R=0,U=[];if(b(l))for(M=l.length;R<M;R++){var X=
w(l[R],R,F);null!=X&&U.push(X)}else for(R in l)X=w(l[R],R,F),null!=X&&U.push(X);return sa(U)},guid:1,support:Ca});"function"===typeof Symbol&&(P.fn[Symbol.iterator]=rb[Symbol.iterator]);P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(l,w){Ta["[object "+w+"]"]=w.toLowerCase()});var mb=rb.pop,pc=rb.sort,Pb=rb.splice,mc=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");P.contains=function(l,w){w=w&&w.parentNode;return l===
w||!!(w&&1===w.nodeType&&(l.contains?l.contains(w):l.compareDocumentPosition&&l.compareDocumentPosition(w)&16))};var db=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;P.escapeSelector=function(l){return(l+"").replace(db,x)};var Qb=qb;(function(){function l(ha,wa,va,Va){var Za,gb,ob,Gb,cb=wa&&wa.ownerDocument;var Bb=wa?wa.nodeType:9;va=va||[];if("string"!==typeof ha||!ha||1!==Bb&&9!==Bb&&11!==Bb)return va;if(!Va&&(fa(wa),wa=wa||Kb,oc)){if(11!==Bb&&(Gb=xd.exec(ha)))if(Za=Gb[1])if(9===Bb)if(gb=wa.getElementById(Za)){if(gb.id===
Za)return jc.call(va,gb),va}else return va;else{if(cb&&(gb=cb.getElementById(Za))&&l.contains(wa,gb)&&gb.id===Za)return jc.call(va,gb),va}else{if(Gb[2])return jc.apply(va,wa.getElementsByTagName(ha)),va;if((Za=Gb[3])&&wa.getElementsByClassName)return jc.apply(va,wa.getElementsByClassName(Za)),va}if(!(ad[ha+" "]||uc&&uc.test(ha))){Za=ha;cb=wa;if(1===Bb&&(yd.test(ha)||td.test(ha))){cb=pd.test(ha)&&ea(wa.parentNode)||wa;cb==wa&&Ca.scope||((ob=wa.getAttribute("id"))?ob=P.escapeSelector(ob):wa.setAttribute("id",
ob=bc));Za=Na(ha);for(Bb=Za.length;Bb--;)Za[Bb]=(ob?"#"+ob:":scope")+" "+Ua(Za[Bb]);Za=Za.join(",")}try{return jc.apply(va,cb.querySelectorAll(Za)),va}catch(Jb){ad(ha,!0)}finally{ob===bc&&wa.removeAttribute("id")}}}return Rb(ha.replace(mc,"$1"),wa,va,Va)}function w(){function ha(va,Va){wa.push(va+" ")>Nb.cacheLength&&delete ha[wa.shift()];return ha[va+" "]=Va}var wa=[];return ha}function F(ha){ha[bc]=!0;return ha}function M(ha){var wa=Kb.createElement("fieldset");try{return!!ha(wa)}catch(va){return!1}finally{wa.parentNode&&
wa.parentNode.removeChild(wa)}}function R(ha){return function(wa){return d(wa,"input")&&wa.type===ha}}function U(ha){return function(wa){return(d(wa,"input")||d(wa,"button"))&&wa.type===ha}}function X(ha){return function(wa){return"form"in wa?wa.parentNode&&!1===wa.disabled?"label"in wa?"label"in wa.parentNode?wa.parentNode.disabled===ha:wa.disabled===ha:wa.isDisabled===ha||wa.isDisabled!==!ha&&zd(wa)===ha:wa.disabled===ha:"label"in wa?wa.disabled===ha:!1}}function la(ha){return F(function(wa){wa=
+wa;return F(function(va,Va){for(var Za,gb=ha([],va.length,wa),ob=gb.length;ob--;)va[Za=gb[ob]]&&(va[Za]=!(Va[Za]=va[Za]))})})}function ea(ha){return ha&&"undefined"!==typeof ha.getElementsByTagName&&ha}function fa(ha){var wa;ha=ha?ha.ownerDocument||ha:Qb;if(ha==Kb||9!==ha.nodeType||!ha.documentElement)return Kb;Kb=ha;Cc=Kb.documentElement;oc=!P.isXMLDoc(Kb);qd=Cc.matches||Cc.webkitMatchesSelector||Cc.msMatchesSelector;Cc.msMatchesSelector&&Qb!=Kb&&(wa=Kb.defaultView)&&wa.top!==wa&&wa.addEventListener("unload",
Ad);Ca.getById=M(function(va){Cc.appendChild(va).id=P.expando;return!Kb.getElementsByName||!Kb.getElementsByName(P.expando).length});Ca.disconnectedMatch=M(function(va){return qd.call(va,"*")});Ca.scope=M(function(){return Kb.querySelectorAll(":scope")});Ca.cssHas=M(function(){try{return Kb.querySelector(":has(*,:jqfake)"),!1}catch(va){return!0}});Ca.getById?(Nb.filter.ID=function(va){var Va=va.replace(Jc,Kc);return function(Za){return Za.getAttribute("id")===Va}},Nb.find.ID=function(va,Va){if("undefined"!==
typeof Va.getElementById&&oc)return(va=Va.getElementById(va))?[va]:[]}):(Nb.filter.ID=function(va){var Va=va.replace(Jc,Kc);return function(Za){return(Za="undefined"!==typeof Za.getAttributeNode&&Za.getAttributeNode("id"))&&Za.value===Va}},Nb.find.ID=function(va,Va){if("undefined"!==typeof Va.getElementById&&oc){var Za,gb=Va.getElementById(va);if(gb){if((Za=gb.getAttributeNode("id"))&&Za.value===va)return[gb];var ob=Va.getElementsByName(va);for(Va=0;gb=ob[Va++];)if((Za=gb.getAttributeNode("id"))&&
Za.value===va)return[gb]}return[]}});Nb.find.TAG=function(va,Va){return"undefined"!==typeof Va.getElementsByTagName?Va.getElementsByTagName(va):Va.querySelectorAll(va)};Nb.find.CLASS=function(va,Va){if("undefined"!==typeof Va.getElementsByClassName&&oc)return Va.getElementsByClassName(va)};uc=[];M(function(va){Cc.appendChild(va).innerHTML="<a id='"+bc+"' href='' disabled='disabled'></a><select id='"+bc+"-\r\\' disabled='disabled'><option selected=''></option></select>";va.querySelectorAll("[selected]").length||
uc.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");va.querySelectorAll("[id~="+bc+"-]").length||uc.push("~=");va.querySelectorAll("a#"+bc+"+*").length||uc.push(".#.+[+~]");va.querySelectorAll(":checked").length||uc.push(":checked");var Va=Kb.createElement("input");Va.setAttribute("type","hidden");va.appendChild(Va).setAttribute("name","D");Cc.appendChild(va).disabled=!0;2!==va.querySelectorAll(":disabled").length&&
uc.push(":enabled",":disabled");Va=Kb.createElement("input");Va.setAttribute("name","");va.appendChild(Va);va.querySelectorAll("[name='']").length||uc.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")")});Ca.cssHas||uc.push(":has");uc=uc.length&&new RegExp(uc.join("|"));rd=function(va,Va){if(va===Va)return xc=!0,0;var Za=!va.compareDocumentPosition-!Va.compareDocumentPosition;if(Za)return Za;Za=(va.ownerDocument||va)==(Va.ownerDocument||Va)?va.compareDocumentPosition(Va):
1;return Za&1||!Ca.sortDetached&&Va.compareDocumentPosition(va)===Za?va===Kb||va.ownerDocument==Qb&&l.contains(Qb,va)?-1:Va===Kb||Va.ownerDocument==Qb&&l.contains(Qb,Va)?1:$b?pb.call($b,va)-pb.call($b,Va):0:Za&4?-1:1};return Kb}function Ga(){}function Na(ha,wa){var va,Va,Za,gb,ob;if(gb=ud[ha+" "])return wa?0:gb.slice(0);gb=ha;var Gb=[];for(ob=Nb.preFilter;gb;){if(!cb||(va=Bd.exec(gb)))va&&(gb=gb.slice(va[0].length)||gb),Gb.push(Va=[]);var cb=!1;if(va=td.exec(gb))cb=va.shift(),Va.push({value:cb,type:va[0].replace(mc,
" ")}),gb=gb.slice(cb.length);for(Za in Nb.filter)!(va=bd[Za].exec(gb))||ob[Za]&&!(va=ob[Za](va))||(cb=va.shift(),Va.push({value:cb,type:Za,matches:va}),gb=gb.slice(cb.length));if(!cb)break}return wa?gb.length:gb?l.error(ha):ud(ha,Gb).slice(0)}function Ua(ha){for(var wa=0,va=ha.length,Va="";wa<va;wa++)Va+=ha[wa].value;return Va}function hb(ha,wa,va){var Va=wa.dir,Za=wa.next,gb=Za||Va,ob=va&&"parentNode"===gb,Gb=Cd++;return wa.first?function(cb,Bb,Jb){for(;cb=cb[Va];)if(1===cb.nodeType||ob)return ha(cb,
Bb,Jb);return!1}:function(cb,Bb,Jb){var xb,Xb=[Lc,Gb];if(Jb)for(;cb=cb[Va];){if((1===cb.nodeType||ob)&&ha(cb,Bb,Jb))return!0}else for(;cb=cb[Va];)if(1===cb.nodeType||ob){var cc=cb[bc]||(cb[bc]={});if(Za&&d(cb,Za))cb=cb[Va]||cb;else{if((xb=cc[gb])&&xb[0]===Lc&&xb[1]===Gb)return Xb[2]=xb[2];cc[gb]=Xb;if(Xb[2]=ha(cb,Bb,Jb))return!0}}return!1}}function jb(ha){return 1<ha.length?function(wa,va,Va){for(var Za=ha.length;Za--;)if(!ha[Za](wa,va,Va))return!1;return!0}:ha[0]}function Eb(ha,wa,va,Va,Za){for(var gb,
ob=[],Gb=0,cb=ha.length,Bb=null!=wa;Gb<cb;Gb++)if(gb=ha[Gb])if(!va||va(gb,Va,Za))ob.push(gb),Bb&&wa.push(Gb);return ob}function Fb(ha,wa,va,Va,Za,gb){Va&&!Va[bc]&&(Va=Fb(Va));Za&&!Za[bc]&&(Za=Fb(Za,gb));return F(function(ob,Gb,cb,Bb){var Jb,xb,Xb=[],cc=[],Ic=Gb.length;if(!(xb=ob)){xb=wa||"*";for(var hc=cb.nodeType?[cb]:cb,Yb=[],Ec=0,cd=hc.length;Ec<cd;Ec++)l(xb,hc[Ec],Yb);xb=Yb}hc=!ha||!ob&&wa?xb:Eb(xb,Xb,ha,cb,Bb);va?(xb=Za||(ob?ha:Ic||Va)?[]:Gb,va(hc,xb,cb,Bb)):xb=hc;if(Va){var Fc=Eb(xb,cc);Va(Fc,
[],cb,Bb);for(cb=Fc.length;cb--;)if(Jb=Fc[cb])xb[cc[cb]]=!(hc[cc[cb]]=Jb)}if(ob){if(Za||ha){if(Za){Fc=[];for(cb=xb.length;cb--;)(Jb=xb[cb])&&Fc.push(hc[cb]=Jb);Za(null,xb=[],Fc,Bb)}for(cb=xb.length;cb--;)(Jb=xb[cb])&&-1<(Fc=Za?pb.call(ob,Jb):Xb[cb])&&(ob[Fc]=!(Gb[Fc]=Jb))}}else xb=Eb(xb===Gb?xb.splice(Ic,xb.length):xb),Za?Za(null,Gb,xb,Bb):jc.apply(Gb,xb)})}function ac(ha){var wa,va,Va=ha.length,Za=Nb.relative[ha[0].type];var gb=Za||Nb.relative[" "];for(var ob=Za?1:0,Gb=hb(function(Jb){return Jb===
wa},gb,!0),cb=hb(function(Jb){return-1<pb.call(wa,Jb)},gb,!0),Bb=[function(Jb,xb,Xb){Jb=!Za&&(Xb||xb!=Tb)||((wa=xb).nodeType?Gb(Jb,xb,Xb):cb(Jb,xb,Xb));wa=null;return Jb}];ob<Va;ob++)if(gb=Nb.relative[ha[ob].type])Bb=[hb(jb(Bb),gb)];else{gb=Nb.filter[ha[ob].type].apply(null,ha[ob].matches);if(gb[bc]){for(va=++ob;va<Va&&!Nb.relative[ha[va].type];va++);return Fb(1<ob&&jb(Bb),1<ob&&Ua(ha.slice(0,ob-1).concat({value:" "===ha[ob-2].type?"*":""})).replace(mc,"$1"),gb,ob<va&&ac(ha.slice(ob,va)),va<Va&&ac(ha=
ha.slice(va)),va<Va&&Ua(ha))}Bb.push(gb)}return jb(Bb)}function Ab(ha,wa){var va=0<wa.length,Va=0<ha.length,Za=function(gb,ob,Gb,cb,Bb){var Jb,xb,Xb=0,cc="0",Ic=gb&&[],hc=[],Yb=Tb,Ec=gb||Va&&Nb.find.TAG("*",Bb),cd=Lc+=null==Yb?1:Math.random()||.1,Fc=Ec.length;for(Bb&&(Tb=ob==Kb||ob||Bb);cc!==Fc&&null!=(Jb=Ec[cc]);cc++){if(Va&&Jb){var sd=0;ob||Jb.ownerDocument==Kb||(fa(Jb),Gb=!oc);for(;xb=ha[sd++];)if(xb(Jb,ob||Kb,Gb)){jc.call(cb,Jb);break}Bb&&(Lc=cd)}va&&((Jb=!xb&&Jb)&&Xb--,gb&&Ic.push(Jb))}Xb+=cc;
if(va&&cc!==Xb){for(sd=0;xb=wa[sd++];)xb(Ic,hc,ob,Gb);if(gb){if(0<Xb)for(;cc--;)Ic[cc]||hc[cc]||(hc[cc]=mb.call(cb));hc=Eb(hc)}jc.apply(cb,hc);Bb&&!gb&&0<hc.length&&1<Xb+wa.length&&P.uniqueSort(cb)}Bb&&(Lc=cd,Tb=Yb);return Ic};return va?F(Za):Za}function Lb(ha,wa){var va,Va=[],Za=[],gb=vd[ha+" "];if(!gb){wa||=Na(ha);for(va=wa.length;va--;)gb=ac(wa[va]),gb[bc]?Va.push(gb):Za.push(gb);gb=vd(ha,Ab(Za,Va));gb.selector=ha}return gb}function Rb(ha,wa,va,Va){var Za,gb,ob,Gb="function"===typeof ha&&ha,cb=
!Va&&Na(ha=Gb.selector||ha);va=va||[];if(1===cb.length){var Bb=cb[0]=cb[0].slice(0);if(2<Bb.length&&"ID"===(gb=Bb[0]).type&&9===wa.nodeType&&oc&&Nb.relative[Bb[1].type]){wa=(Nb.find.ID(gb.matches[0].replace(Jc,Kc),wa)||[])[0];if(!wa)return va;Gb&&(wa=wa.parentNode);ha=ha.slice(Bb.shift().value.length)}for(Za=bd.needsContext.test(ha)?0:Bb.length;Za--;){gb=Bb[Za];if(Nb.relative[ob=gb.type])break;if(ob=Nb.find[ob])if(Va=ob(gb.matches[0].replace(Jc,Kc),pd.test(Bb[0].type)&&ea(wa.parentNode)||wa)){Bb.splice(Za,
1);ha=Va.length&&Ua(Bb);if(!ha)return jc.apply(va,Va),va;break}}}(Gb||Lb(ha,cb))(Va,wa,!oc,va,!wa||pd.test(ha)&&ea(wa.parentNode)||wa);return va}var zb,Tb,$b,xc,jc=Wa,Kb,Cc,oc,uc,qd,bc=P.expando,Lc=0,Cd=0,wd=w(),ud=w(),vd=w(),ad=w(),rd=function(ha,wa){ha===wa&&(xc=!0);return 0},Dd=RegExp("[\\x20\\t\\r\\n\\f]+","g"),Bd=RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),td=RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),yd=RegExp("[\\x20\\t\\r\\n\\f]|>"),Ed=RegExp(":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
Fd=RegExp("^(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+$"),bd={ID:RegExp("^#((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),CLASS:RegExp("^\\.((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),TAG:RegExp("^((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+|[*])"),ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\]"),
PSEUDO:RegExp("^:((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},Gd=/^(?:input|select|textarea|button)$/i,Hd=/^h\d$/i,xd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pd=/[+~]/,Jc=RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),Kc=function(ha,wa){ha="0x"+ha.slice(1)-65536;return wa?wa:0>ha?String.fromCharCode(ha+65536):String.fromCharCode(ha>>10|55296,ha&1023|56320)},Ad=function(){fa()},zd=hb(function(ha){return!0===ha.disabled&&d(ha,"fieldset")},{dir:"parentNode",next:"legend"});try{jc.apply(rb=Ra.call(Qb.childNodes),Qb.childNodes),rb[Qb.childNodes.length].nodeType}catch(ha){jc=
{apply:function(wa,va){Wa.apply(wa,Ra.call(va))},call:function(wa){Wa.apply(wa,Ra.call(arguments,1))}}}l.matches=function(ha,wa){return l(ha,null,null,wa)};l.matchesSelector=function(ha,wa){fa(ha);if(!(!oc||ad[wa+" "]||uc&&uc.test(wa)))try{var va=qd.call(ha,wa);if(va||Ca.disconnectedMatch||ha.document&&11!==ha.document.nodeType)return va}catch(Va){ad(wa,!0)}return 0<l(wa,Kb,null,[ha]).length};l.contains=function(ha,wa){(ha.ownerDocument||ha)!=Kb&&fa(ha);return P.contains(ha,wa)};l.attr=function(ha,
wa){(ha.ownerDocument||ha)!=Kb&&fa(ha);var va=Nb.attrHandle[wa.toLowerCase()];va=va&&Fa.call(Nb.attrHandle,wa.toLowerCase())?va(ha,wa,!oc):void 0;return void 0!==va?va:ha.getAttribute(wa)};l.error=function(ha){throw Error("Syntax error, unrecognized expression: "+ha);};P.uniqueSort=function(ha){var wa,va=[],Va=0,Za=0;xc=!Ca.sortStable;$b=!Ca.sortStable&&Ra.call(ha,0);pc.call(ha,rd);if(xc){for(;wa=ha[Za++];)wa===ha[Za]&&(Va=va.push(Za));for(;Va--;)Pb.call(ha,va[Va],1)}$b=null;return ha};P.fn.uniqueSort=
function(){return this.pushStack(P.uniqueSort(Ra.apply(this)))};var Nb=P.expr={cacheLength:50,createPseudo:F,match:bd,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ha){ha[1]=ha[1].replace(Jc,Kc);ha[3]=(ha[3]||ha[4]||ha[5]||"").replace(Jc,Kc);"~="===ha[2]&&(ha[3]=" "+ha[3]+" ");return ha.slice(0,4)},CHILD:function(ha){ha[1]=ha[1].toLowerCase();"nth"===ha[1].slice(0,3)?
(ha[3]||l.error(ha[0]),ha[4]=+(ha[4]?ha[5]+(ha[6]||1):2*("even"===ha[3]||"odd"===ha[3])),ha[5]=+(ha[7]+ha[8]||"odd"===ha[3])):ha[3]&&l.error(ha[0]);return ha},PSEUDO:function(ha){var wa,va=!ha[6]&&ha[2];if(bd.CHILD.test(ha[0]))return null;ha[3]?ha[2]=ha[4]||ha[5]||"":va&&Ed.test(va)&&(wa=Na(va,!0))&&(wa=va.indexOf(")",va.length-wa)-va.length)&&(ha[0]=ha[0].slice(0,wa),ha[2]=va.slice(0,wa));return ha.slice(0,3)}},filter:{TAG:function(ha){var wa=ha.replace(Jc,Kc).toLowerCase();return"*"===ha?function(){return!0}:
function(va){return d(va,wa)}},CLASS:function(ha){var wa=wd[ha+" "];return wa||(wa=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+ha+"([\\x20\\t\\r\\n\\f]|$)"),wd(ha,function(va){return wa.test("string"===typeof va.className&&va.className||"undefined"!==typeof va.getAttribute&&va.getAttribute("class")||"")}))},ATTR:function(ha,wa,va){return function(Va){Va=l.attr(Va,ha);if(null==Va)return"!="===wa;if(!wa)return!0;Va+="";return"="===wa?Va===va:"!="===wa?Va!==va:"^="===wa?va&&0===Va.indexOf(va):"*="===wa?va&&
-1<Va.indexOf(va):"$="===wa?va&&Va.slice(-va.length)===va:"~="===wa?-1<(" "+Va.replace(Dd," ")+" ").indexOf(va):"|="===wa?Va===va||Va.slice(0,va.length+1)===va+"-":!1}},CHILD:function(ha,wa,va,Va,Za){var gb="nth"!==ha.slice(0,3),ob="last"!==ha.slice(-4),Gb="of-type"===wa;return 1===Va&&0===Za?function(cb){return!!cb.parentNode}:function(cb,Bb,Jb){var xb,Xb;Bb=gb!==ob?"nextSibling":"previousSibling";var cc=cb.parentNode,Ic=Gb&&cb.nodeName.toLowerCase(),hc=!Jb&&!Gb;var Yb=!1;if(cc){if(gb){for(;Bb;){for(xb=
cb;xb=xb[Bb];)if(Gb?d(xb,Ic):1===xb.nodeType)return!1;var Ec=Bb="only"===ha&&!Ec&&"nextSibling"}return!0}Ec=[ob?cc.firstChild:cc.lastChild];if(ob&&hc)for(Jb=cc[bc]||(cc[bc]={}),Yb=Jb[ha]||[],Yb=(Xb=Yb[0]===Lc&&Yb[1])&&Yb[2],xb=Xb&&cc.childNodes[Xb];xb=++Xb&&xb&&xb[Bb]||(Yb=Xb=0)||Ec.pop();){if(1===xb.nodeType&&++Yb&&xb===cb){Jb[ha]=[Lc,Xb,Yb];break}}else if(hc&&(Jb=cb[bc]||(cb[bc]={}),Yb=Jb[ha]||[],Yb=Xb=Yb[0]===Lc&&Yb[1]),!1===Yb)for(;(xb=++Xb&&xb&&xb[Bb]||(Yb=Xb=0)||Ec.pop())&&((Gb?!d(xb,Ic):1!==
xb.nodeType)||!++Yb||(hc&&(Jb=xb[bc]||(xb[bc]={}),Jb[ha]=[Lc,Yb]),xb!==cb)););Yb-=Za;return Yb===Va||0===Yb%Va&&0<=Yb/Va}}},PSEUDO:function(ha,wa){var va=Nb.pseudos[ha]||Nb.setFilters[ha.toLowerCase()]||l.error("unsupported pseudo: "+ha);if(va[bc])return va(wa);if(1<va.length){var Va=[ha,ha,"",wa];return Nb.setFilters.hasOwnProperty(ha.toLowerCase())?F(function(Za,gb){for(var ob,Gb=va(Za,wa),cb=Gb.length;cb--;)ob=pb.call(Za,Gb[cb]),Za[ob]=!(gb[ob]=Gb[cb])}):function(Za){return va(Za,0,Va)}}return va}},
pseudos:{not:F(function(ha){var wa=[],va=[],Va=Lb(ha.replace(mc,"$1"));return Va[bc]?F(function(Za,gb,ob,Gb){Gb=Va(Za,null,Gb,[]);for(var cb=Za.length;cb--;)if(ob=Gb[cb])Za[cb]=!(gb[cb]=ob)}):function(Za,gb,ob){wa[0]=Za;Va(wa,null,ob,va);wa[0]=null;return!va.pop()}}),has:F(function(ha){return function(wa){return 0<l(ha,wa).length}}),contains:F(function(ha){ha=ha.replace(Jc,Kc);return function(wa){return-1<(wa.textContent||P.text(wa)).indexOf(ha)}}),lang:F(function(ha){Fd.test(ha||"")||l.error("unsupported lang: "+
ha);ha=ha.replace(Jc,Kc).toLowerCase();return function(wa){var va;do if(va=oc?wa.lang:wa.getAttribute("xml:lang")||wa.getAttribute("lang"))return va=va.toLowerCase(),va===ha||0===va.indexOf(ha+"-");while((wa=wa.parentNode)&&1===wa.nodeType);return!1}}),target:function(ha){var wa=y.location&&y.location.hash;return wa&&wa.slice(1)===ha.id},root:function(ha){return ha===Cc},focus:function(ha){a:{try{var wa=Kb.activeElement;break a}catch(va){}wa=void 0}return ha===wa&&Kb.hasFocus()&&!!(ha.type||ha.href||
~ha.tabIndex)},enabled:X(!1),disabled:X(!0),checked:function(ha){return d(ha,"input")&&!!ha.checked||d(ha,"option")&&!!ha.selected},selected:function(ha){ha.parentNode&&ha.parentNode.selectedIndex;return!0===ha.selected},empty:function(ha){for(ha=ha.firstChild;ha;ha=ha.nextSibling)if(6>ha.nodeType)return!1;return!0},parent:function(ha){return!Nb.pseudos.empty(ha)},header:function(ha){return Hd.test(ha.nodeName)},input:function(ha){return Gd.test(ha.nodeName)},button:function(ha){return d(ha,"input")&&
"button"===ha.type||d(ha,"button")},text:function(ha){var wa;return d(ha,"input")&&"text"===ha.type&&(null==(wa=ha.getAttribute("type"))||"text"===wa.toLowerCase())},first:la(function(){return[0]}),last:la(function(ha,wa){return[wa-1]}),eq:la(function(ha,wa,va){return[0>va?va+wa:va]}),even:la(function(ha,wa){for(var va=0;va<wa;va+=2)ha.push(va);return ha}),odd:la(function(ha,wa){for(var va=1;va<wa;va+=2)ha.push(va);return ha}),lt:la(function(ha,wa,va){for(wa=0>va?va+wa:va>wa?wa:va;0<=--wa;)ha.push(wa);
return ha}),gt:la(function(ha,wa,va){for(va=0>va?va+wa:va;++va<wa;)ha.push(va);return ha})}};Nb.pseudos.nth=Nb.pseudos.eq;for(zb in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Nb.pseudos[zb]=R(zb);for(zb in{submit:!0,reset:!0})Nb.pseudos[zb]=U(zb);Ga.prototype=Nb.filters=Nb.pseudos;Nb.setFilters=new Ga;Ca.sortStable=bc.split("").sort(rd).join("")===bc;fa();Ca.sortDetached=M(function(ha){return ha.compareDocumentPosition(Kb.createElement("fieldset"))&1});P.find=l;P.expr[":"]=P.expr.pseudos;
P.unique=P.uniqueSort;l.compile=Lb;l.select=Rb;l.setDocument=fa;l.tokenize=Na;l.escape=P.escapeSelector;l.getText=P.text;l.isXML=P.isXMLDoc;l.selectors=P.expr;l.support=P.support;l.uniqueSort=P.uniqueSort})();var Qa=function(l,w,F){for(var M=[],R=void 0!==F;(l=l[w])&&9!==l.nodeType;)if(1===l.nodeType){if(R&&P(l).is(F))break;M.push(l)}return M},tb=function(l,w){for(var F=[];l;l=l.nextSibling)1===l.nodeType&&l!==w&&F.push(l);return F},fc=P.expr.match.needsContext,Ib=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
P.filter=function(l,w,F){var M=w[0];F&&(l=":not("+l+")");return 1===w.length&&1===M.nodeType?P.find.matchesSelector(M,l)?[M]:[]:P.find.matches(l,P.grep(w,function(R){return 1===R.nodeType}))};P.fn.extend({find:function(l){var w,F=this.length,M=this;if("string"!==typeof l)return this.pushStack(P(l).filter(function(){for(w=0;w<F;w++)if(P.contains(M[w],this))return!0}));var R=this.pushStack([]);for(w=0;w<F;w++)P.find(l,M[w],R);return 1<F?P.uniqueSort(R):R},filter:function(l){return this.pushStack(a(this,
l||[],!1))},not:function(l){return this.pushStack(a(this,l||[],!0))},is:function(l){return!!a(this,"string"===typeof l&&fc.test(l)?P(l):l||[],!1).length}});var qc=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(l,w,F){if(!l)return this;F=F||rc;if("string"===typeof l){var M="<"===l[0]&&">"===l[l.length-1]&&3<=l.length?[null,l,null]:qc.exec(l);if(!M||!M[1]&&w)return!w||w.jquery?(w||F).find(l):this.constructor(w).find(l);if(M[1]){if(w=w instanceof P?w[0]:w,P.merge(this,P.parseHTML(M[1],w&&
w.nodeType?w.ownerDocument||w:qb,!0)),Ib.test(M[1])&&P.isPlainObject(w))for(M in w)if($a(this[M]))this[M](w[M]);else this.attr(M,w[M])}else if(l=qb.getElementById(M[2]))this[0]=l,this.length=1;return this}return l.nodeType?(this[0]=l,this.length=1,this):$a(l)?void 0!==F.ready?F.ready(l):l(P):P.makeArray(l,this)}).prototype=P.fn;var rc=P(qb);var yc=/^(?:parents|prev(?:Until|All))/,gc={children:!0,contents:!0,next:!0,prev:!0};P.fn.extend({has:function(l){var w=P(l,this),F=w.length;return this.filter(function(){for(var M=
0;M<F;M++)if(P.contains(this,w[M]))return!0})},closest:function(l,w){var F,M=0,R=this.length,U=[],X="string"!==typeof l&&P(l);if(!fc.test(l))for(;M<R;M++)for(F=this[M];F&&F!==w;F=F.parentNode)if(11>F.nodeType&&(X?-1<X.index(F):1===F.nodeType&&P.find.matchesSelector(F,l))){U.push(F);break}return this.pushStack(1<U.length?P.uniqueSort(U):U)},index:function(l){return l?"string"===typeof l?pb.call(P(l),this[0]):pb.call(this,l.jquery?l[0]:l):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},
add:function(l,w){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(l,w))))},addBack:function(l){return this.add(null==l?this.prevObject:this.prevObject.filter(l))}});P.each({parent:function(l){return(l=l.parentNode)&&11!==l.nodeType?l:null},parents:function(l){return Qa(l,"parentNode")},parentsUntil:function(l,w,F){return Qa(l,"parentNode",F)},next:function(l){return m(l,"nextSibling")},prev:function(l){return m(l,"previousSibling")},nextAll:function(l){return Qa(l,"nextSibling")},prevAll:function(l){return Qa(l,
"previousSibling")},nextUntil:function(l,w,F){return Qa(l,"nextSibling",F)},prevUntil:function(l,w,F){return Qa(l,"previousSibling",F)},siblings:function(l){return tb((l.parentNode||{}).firstChild,l)},children:function(l){return tb(l.firstChild)},contents:function(l){if(null!=l.contentDocument&&vb(l.contentDocument))return l.contentDocument;d(l,"template")&&(l=l.content||l);return P.merge([],l.childNodes)}},function(l,w){P.fn[l]=function(F,M){var R=P.map(this,w,F);"Until"!==l.slice(-5)&&(M=F);M&&
"string"===typeof M&&(R=P.filter(M,R));1<this.length&&(gc[l]||P.uniqueSort(R),yc.test(l)&&R.reverse());return this.pushStack(R)}});var Db=/[^\x20\t\r\n\f]+/g;P.Callbacks=function(l){l="string"===typeof l?q(l):P.extend({},l);var w,F,M,R,U=[],X=[],la=-1,ea=function(){R=R||l.once;for(M=w=!0;X.length;la=-1)for(F=X.shift();++la<U.length;)!1===U[la].apply(F[0],F[1])&&l.stopOnFalse&&(la=U.length,F=!1);l.memory||(F=!1);w=!1;R&&(U=F?[]:"")},fa={add:function(){U&&(F&&!w&&(la=U.length-1,X.push(F)),function Ua(Na){P.each(Na,
function(hb,jb){$a(jb)?l.unique&&fa.has(jb)||U.push(jb):jb&&jb.length&&"string"!==E(jb)&&Ua(jb)})}(arguments),F&&!w&&ea());return this},remove:function(){P.each(arguments,function(Ga,Na){for(var Ua;-1<(Ua=P.inArray(Na,U,Ua));)U.splice(Ua,1),Ua<=la&&la--});return this},has:function(Ga){return Ga?-1<P.inArray(Ga,U):0<U.length},empty:function(){U&&=[];return this},disable:function(){R=X=[];U=F="";return this},disabled:function(){return!U},lock:function(){R=X=[];F||w||(U=F="");return this},locked:function(){return!!R},
fireWith:function(Ga,Na){R||(Na=Na||[],Na=[Ga,Na.slice?Na.slice():Na],X.push(Na),w||ea());return this},fire:function(){fa.fireWith(this,arguments);return this},fired:function(){return!!M}};return fa};P.extend({Deferred:function(l){var w=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],F="pending",M={state:function(){return F},
always:function(){R.done(arguments).fail(arguments);return this},"catch":function(U){return M.then(null,U)},pipe:function(){var U=arguments;return P.Deferred(function(X){P.each(w,function(la,ea){var fa=$a(U[ea[4]])&&U[ea[4]];R[ea[1]](function(){var Ga=fa&&fa.apply(this,arguments);if(Ga&&$a(Ga.promise))Ga.promise().progress(X.notify).done(X.resolve).fail(X.reject);else X[ea[0]+"With"](this,fa?[Ga]:arguments)})});U=null}).promise()},then:function(U,X,la){function ea(Ga,Na,Ua,hb){return function(){var jb=
this,Eb=arguments,Fb=function(){if(!(Ga<fa)){var Ab=Ua.apply(jb,Eb);if(Ab===Na.promise())throw new TypeError("Thenable self-resolution");var Lb=Ab&&("object"===typeof Ab||"function"===typeof Ab)&&Ab.then;$a(Lb)?hb?Lb.call(Ab,ea(fa,Na,r,hb),ea(fa,Na,h,hb)):(fa++,Lb.call(Ab,ea(fa,Na,r,hb),ea(fa,Na,h,hb),ea(fa,Na,r,Na.notifyWith))):(Ua!==r&&(jb=void 0,Eb=[Ab]),(hb||Na.resolveWith)(jb,Eb))}},ac=hb?Fb:function(){try{Fb()}catch(Ab){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(Ab,ac.error),Ga+1>=fa&&
(Ua!==h&&(jb=void 0,Eb=[Ab]),Na.rejectWith(jb,Eb))}};Ga?ac():(P.Deferred.getErrorHook?ac.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&(ac.error=P.Deferred.getStackHook()),y.setTimeout(ac))}}var fa=0;return P.Deferred(function(Ga){w[0][3].add(ea(0,Ga,$a(la)?la:r,Ga.notifyWith));w[1][3].add(ea(0,Ga,$a(U)?U:r));w[2][3].add(ea(0,Ga,$a(X)?X:h))}).promise()},promise:function(U){return null!=U?P.extend(U,M):M}},R={};P.each(w,function(U,X){var la=X[2],ea=X[5];M[X[1]]=la.add;ea&&la.add(function(){F=
ea},w[3-U][2].disable,w[3-U][3].disable,w[0][2].lock,w[0][3].lock);la.add(X[3].fire);R[X[0]]=function(){R[X[0]+"With"](this===R?void 0:this,arguments);return this};R[X[0]+"With"]=la.fireWith});M.promise(R);l&&l.call(R,R);return R},when:function(l){var w=arguments.length,F=w,M=Array(F),R=Ra.call(arguments),U=P.Deferred(),X=function(la){return function(ea){M[la]=this;R[la]=1<arguments.length?Ra.call(arguments):ea;--w||U.resolveWith(M,R)}};if(1>=w&&(c(l,U.done(X(F)).resolve,U.reject,!w),"pending"===
U.state()||$a(R[F]&&R[F].then)))return U.then();for(;F--;)c(R[F],X(F),U.reject);return U.promise()}});var lc=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(l,w){y.console&&y.console.warn&&l&&lc.test(l.name)&&y.console.warn("jQuery.Deferred exception: "+l.message,l.stack,w)};P.readyException=function(l){y.setTimeout(function(){throw l;})};var Mb=P.Deferred();P.fn.ready=function(l){Mb.then(l).catch(function(w){P.readyException(w)});return this};P.extend({isReady:!1,
readyWait:1,ready:function(l){(!0===l?--P.readyWait:P.isReady)||(P.isReady=!0,!0!==l&&0<--P.readyWait||Mb.resolveWith(qb,[P]))}});P.ready.then=Mb.then;"complete"===qb.readyState||"loading"!==qb.readyState&&!qb.documentElement.doScroll?y.setTimeout(P.ready):(qb.addEventListener("DOMContentLoaded",f),y.addEventListener("load",f));var Zb=function(l,w,F,M,R,U,X){var la=0,ea=l.length,fa=null==F;if("object"===E(F))for(la in R=!0,F)Zb(l,w,la,F[la],!0,U,X);else if(void 0!==M&&(R=!0,$a(M)||(X=!0),fa&&(X?(w.call(l,
M),w=null):(fa=w,w=function(Ga,Na,Ua){return fa.call(P(Ga),Ua)})),w))for(;la<ea;la++)w(l[la],F,X?M:M.call(l[la],la,w(l[la],F)));return R?l:fa?w.call(l):ea?w(l[0],F):U},nb=/^-ms-/,Vb=/-([a-z])/g,Sb=function(l){return 1===l.nodeType||9===l.nodeType||!+l.nodeType};p.uid=1;p.prototype={cache:function(l){var w=l[this.expando];w||(w={},Sb(l)&&(l.nodeType?l[this.expando]=w:Object.defineProperty(l,this.expando,{value:w,configurable:!0})));return w},set:function(l,w,F){var M;l=this.cache(l);if("string"===
typeof w)l[e(w)]=F;else for(M in w)l[e(M)]=w[M];return l},get:function(l,w){return void 0===w?this.cache(l):l[this.expando]&&l[this.expando][e(w)]},access:function(l,w,F){if(void 0===w||w&&"string"===typeof w&&void 0===F)return this.get(l,w);this.set(l,w,F);return void 0!==F?F:w},remove:function(l,w){var F,M=l[this.expando];if(void 0!==M){if(void 0!==w)for(Array.isArray(w)?w=w.map(e):(w=e(w),w=w in M?[w]:w.match(Db)||[]),F=w.length;F--;)delete M[w[F]];if(void 0===w||P.isEmptyObject(M))l.nodeType?
l[this.expando]=void 0:delete l[this.expando]}},hasData:function(l){l=l[this.expando];return void 0!==l&&!P.isEmptyObject(l)}};var lb=new p,Wb=new p,kc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,sc=/[A-Z]/g;P.extend({hasData:function(l){return Wb.hasData(l)||lb.hasData(l)},data:function(l,w,F){return Wb.access(l,w,F)},removeData:function(l,w){Wb.remove(l,w)},_data:function(l,w,F){return lb.access(l,w,F)},_removeData:function(l,w){lb.remove(l,w)}});P.fn.extend({data:function(l,w){var F,M=this[0],R=M&&M.attributes;
if(void 0===l){if(this.length){var U=Wb.get(M);if(1===M.nodeType&&!lb.get(M,"hasDataAttrs")){for(F=R.length;F--;)if(R[F]){var X=R[F].name;0===X.indexOf("data-")&&(X=e(X.slice(5)),u(M,X,U[X]))}lb.set(M,"hasDataAttrs",!0)}}return U}return"object"===typeof l?this.each(function(){Wb.set(this,l)}):Zb(this,function(la){if(M&&void 0===la){var ea=Wb.get(M,l);if(void 0!==ea)return ea;ea=u(M,l);if(void 0!==ea)return ea}else this.each(function(){Wb.set(this,l,la)})},null,w,1<arguments.length,null,!0)},removeData:function(l){return this.each(function(){Wb.remove(this,
l)})}});P.extend({queue:function(l,w,F){if(l){w=(w||"fx")+"queue";var M=lb.get(l,w);F&&(!M||Array.isArray(F)?M=lb.access(l,w,P.makeArray(F)):M.push(F));return M||[]}},dequeue:function(l,w){w=w||"fx";var F=P.queue(l,w),M=F.length,R=F.shift(),U=P._queueHooks(l,w),X=function(){P.dequeue(l,w)};"inprogress"===R&&(R=F.shift(),M--);R&&("fx"===w&&F.unshift("inprogress"),delete U.stop,R.call(l,X,U));!M&&U&&U.empty.fire()},_queueHooks:function(l,w){var F=w+"queueHooks";return lb.get(l,F)||lb.access(l,F,{empty:P.Callbacks("once memory").add(function(){lb.remove(l,
[w+"queue",F])})})}});P.fn.extend({queue:function(l,w){var F=2;"string"!==typeof l&&(w=l,l="fx",F--);return arguments.length<F?P.queue(this[0],l):void 0===w?this:this.each(function(){var M=P.queue(this,l,w);P._queueHooks(this,l);"fx"===l&&"inprogress"!==M[0]&&P.dequeue(this,l)})},dequeue:function(l){return this.each(function(){P.dequeue(this,l)})},clearQueue:function(l){return this.queue(l||"fx",[])},promise:function(l,w){var F,M=1,R=P.Deferred(),U=this,X=this.length,la=function(){--M||R.resolveWith(U,
[U])};"string"!==typeof l&&(w=l,l=void 0);for(l=l||"fx";X--;)(F=lb.get(U[X],l+"queueHooks"))&&F.empty&&(M++,F.empty.add(la));la();return R.promise(w)}});var tc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dc=new RegExp("^(?:([+-])=|)("+tc+")([a-z%]*)$","i"),ec=["Top","Right","Bottom","Left"],vc=qb.documentElement,zc=function(l){return P.contains(l.ownerDocument,l)},Mc={composed:!0};vc.getRootNode&&(zc=function(l){return P.contains(l.ownerDocument,l)||l.getRootNode(Mc)===l.ownerDocument});var Ac=function(l,
w){l=w||l;return"none"===l.style.display||""===l.style.display&&zc(l)&&"none"===P.css(l,"display")},Dc={};P.fn.extend({show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(l){return"boolean"===typeof l?l?this.show():this.hide():this.each(function(){Ac(this)?P(this).show():P(this).hide()})}});var wc=/^(?:checkbox|radio)$/i,aa=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ba=/^$|^module$|\/(?:java|ecma)script/i;(function(){var l=qb.createDocumentFragment().appendChild(qb.createElement("div")),
w=qb.createElement("input");w.setAttribute("type","radio");w.setAttribute("checked","checked");w.setAttribute("name","t");l.appendChild(w);Ca.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked;l.innerHTML="<textarea>x</textarea>";Ca.noCloneChecked=!!l.cloneNode(!0).lastChild.defaultValue;l.innerHTML="<option></option>";Ca.option=!!l.lastChild})();var Pa={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>",
"</tr></tbody></table>"],_default:[0,"",""]};Pa.tbody=Pa.tfoot=Pa.colgroup=Pa.caption=Pa.thead;Pa.th=Pa.td;Ca.option||(Pa.optgroup=Pa.option=[1,"<select multiple='multiple'>","</select>"]);var eb=/<|&#?\w+;/,kb=/^([^.]*)(?:\.(.+)|)/;P.event={global:{},add:function(l,w,F,M,R){var U,X,la,ea;var fa=lb.get(l);if(Sb(l)){if(F.handler){var Ga=F;F=Ga.handler;R=Ga.selector}R&&P.find.matchesSelector(vc,R);F.guid||(F.guid=P.guid++);(X=fa.events)||(X=fa.events=Object.create(null));(U=fa.handle)||(U=fa.handle=
function(jb){return"undefined"!==typeof P&&P.event.triggered!==jb.type?P.event.dispatch.apply(l,arguments):void 0});w=(w||"").match(Db)||[""];for(fa=w.length;fa--;){var Na=kb.exec(w[fa])||[];var Ua=la=Na[1];var hb=(Na[2]||"").split(".").sort();Ua&&(Na=P.event.special[Ua]||{},Ua=(R?Na.delegateType:Na.bindType)||Ua,Na=P.event.special[Ua]||{},la=P.extend({type:Ua,origType:la,data:M,handler:F,guid:F.guid,selector:R,needsContext:R&&P.expr.match.needsContext.test(R),namespace:hb.join(".")},Ga),(ea=X[Ua])||
(ea=X[Ua]=[],ea.delegateCount=0,Na.setup&&!1!==Na.setup.call(l,M,hb,U)||l.addEventListener&&l.addEventListener(Ua,U)),Na.add&&(Na.add.call(l,la),la.handler.guid||(la.handler.guid=F.guid)),R?ea.splice(ea.delegateCount++,0,la):ea.push(la),P.event.global[Ua]=!0)}}},remove:function(l,w,F,M,R){var U,X,la,ea,fa,Ga=lb.hasData(l)&&lb.get(l);if(Ga&&(la=Ga.events)){w=(w||"").match(Db)||[""];for(ea=w.length;ea--;){var Na=kb.exec(w[ea])||[];var Ua=fa=Na[1];var hb=(Na[2]||"").split(".").sort();if(Ua){var jb=P.event.special[Ua]||
{};Ua=(M?jb.delegateType:jb.bindType)||Ua;var Eb=la[Ua]||[];Na=Na[2]&&new RegExp("(^|\\.)"+hb.join("\\.(?:.*\\.|)")+"(\\.|$)");for(X=U=Eb.length;U--;){var Fb=Eb[U];!R&&fa!==Fb.origType||F&&F.guid!==Fb.guid||Na&&!Na.test(Fb.namespace)||M&&M!==Fb.selector&&("**"!==M||!Fb.selector)||(Eb.splice(U,1),Fb.selector&&Eb.delegateCount--,jb.remove&&jb.remove.call(l,Fb))}X&&!Eb.length&&(jb.teardown&&!1!==jb.teardown.call(l,hb,Ga.handle)||P.removeEvent(l,Ua,Ga.handle),delete la[Ua])}else for(Ua in la)P.event.remove(l,
Ua+w[ea],F,M,!0)}P.isEmptyObject(la)&&lb.remove(l,"handle events")}},dispatch:function(l){var w,F,M,R=Array(arguments.length),U=P.event.fix(l);var X=(lb.get(this,"events")||Object.create(null))[U.type]||[];var la=P.event.special[U.type]||{};R[0]=U;for(w=1;w<arguments.length;w++)R[w]=arguments[w];U.delegateTarget=this;if(!la.preDispatch||!1!==la.preDispatch.call(this,U)){var ea=P.event.handlers.call(this,U,X);for(w=0;(M=ea[w++])&&!U.isPropagationStopped();)for(U.currentTarget=M.elem,X=0;(F=M.handlers[X++])&&
!U.isImmediatePropagationStopped();)if(!U.rnamespace||!1===F.namespace||U.rnamespace.test(F.namespace))U.handleObj=F,U.data=F.data,F=((P.event.special[F.origType]||{}).handle||F.handler).apply(M.elem,R),void 0!==F&&!1===(U.result=F)&&(U.preventDefault(),U.stopPropagation());la.postDispatch&&la.postDispatch.call(this,U);return U.result}},handlers:function(l,w){var F,M=[],R=w.delegateCount,U=l.target;if(R&&U.nodeType&&!("click"===l.type&&1<=l.button))for(;U!==this;U=U.parentNode||this)if(1===U.nodeType&&
("click"!==l.type||!0!==U.disabled)){var X=[];var la={};for(F=0;F<R;F++){var ea=w[F];var fa=ea.selector+" ";void 0===la[fa]&&(la[fa]=ea.needsContext?-1<P(fa,this).index(U):P.find(fa,this,null,[U]).length);la[fa]&&X.push(ea)}X.length&&M.push({elem:U,handlers:X})}R<w.length&&M.push({elem:this,handlers:w.slice(R)});return M},addProp:function(l,w){Object.defineProperty(P.Event.prototype,l,{enumerable:!0,configurable:!0,get:$a(w)?function(){if(this.originalEvent)return w(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[l]},
set:function(F){Object.defineProperty(this,l,{enumerable:!0,configurable:!0,writable:!0,value:F})}})},fix:function(l){return l[P.expando]?l:new P.Event(l)},special:{load:{noBubble:!0},click:{setup:function(l){l=this||l;wc.test(l.type)&&l.click&&d(l,"input")&&J(l,"click",!0);return!1},trigger:function(l){l=this||l;wc.test(l.type)&&l.click&&d(l,"input")&&J(l,"click");return!0},_default:function(l){l=l.target;return wc.test(l.type)&&l.click&&d(l,"input")&&lb.get(l,"click")||d(l,"a")}},beforeunload:{postDispatch:function(l){void 0!==
l.result&&l.originalEvent&&(l.originalEvent.returnValue=l.result)}}}};P.removeEvent=function(l,w,F){l.removeEventListener&&l.removeEventListener(w,F)};P.Event=function(l,w){if(!(this instanceof P.Event))return new P.Event(l,w);l&&l.type?(this.originalEvent=l,this.type=l.type,this.isDefaultPrevented=l.defaultPrevented||void 0===l.defaultPrevented&&!1===l.returnValue?z:G,this.target=l.target&&3===l.target.nodeType?l.target.parentNode:l.target,this.currentTarget=l.currentTarget,this.relatedTarget=l.relatedTarget):
this.type=l;w&&P.extend(this,w);this.timeStamp=l&&l.timeStamp||Date.now();this[P.expando]=!0};P.Event.prototype={constructor:P.Event,isDefaultPrevented:G,isPropagationStopped:G,isImmediatePropagationStopped:G,isSimulated:!1,preventDefault:function(){var l=this.originalEvent;this.isDefaultPrevented=z;l&&!this.isSimulated&&l.preventDefault()},stopPropagation:function(){var l=this.originalEvent;this.isPropagationStopped=z;l&&!this.isSimulated&&l.stopPropagation()},stopImmediatePropagation:function(){var l=
this.originalEvent;this.isImmediatePropagationStopped=z;l&&!this.isSimulated&&l.stopImmediatePropagation();this.stopPropagation()}};P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp);
P.each({focus:"focusin",blur:"focusout"},function(l,w){function F(M){if(qb.documentMode){var R=lb.get(this,"handle"),U=P.event.fix(M);U.type="focusin"===M.type?"focus":"blur";U.isSimulated=!0;R(M);U.target===U.currentTarget&&R(U)}else P.event.simulate(w,M.target,P.event.fix(M))}P.event.special[l]={setup:function(){var M;J(this,l,!0);if(qb.documentMode)(M=lb.get(this,w))||this.addEventListener(w,F),lb.set(this,w,(M||0)+1);else return!1},trigger:function(){J(this,l);return!0},teardown:function(){var M;
if(qb.documentMode)(M=lb.get(this,w)-1)?lb.set(this,w,M):(this.removeEventListener(w,F),lb.remove(this,w));else return!1},_default:function(M){return lb.get(M.target,l)},delegateType:w};P.event.special[w]={setup:function(){var M=this.ownerDocument||this.document||this,R=qb.documentMode?this:M,U=lb.get(R,w);U||(qb.documentMode?this.addEventListener(w,F):M.addEventListener(l,F,!0));lb.set(R,w,(U||0)+1)},teardown:function(){var M=this.ownerDocument||this.document||this,R=qb.documentMode?this:M,U=lb.get(R,
w)-1;U?lb.set(R,w,U):(qb.documentMode?this.removeEventListener(w,F):M.removeEventListener(l,F,!0),lb.remove(R,w))}}});P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(l,w){P.event.special[l]={delegateType:w,bindType:w,handle:function(F){var M=F.relatedTarget,R=F.handleObj;if(!M||M!==this&&!P.contains(this,M)){F.type=R.origType;var U=R.handler.apply(this,arguments);F.type=w}return U}}});P.fn.extend({on:function(l,w,F,M){return H(this,
l,w,F,M)},one:function(l,w,F,M){return H(this,l,w,F,M,1)},off:function(l,w,F){if(l&&l.preventDefault&&l.handleObj){var M=l.handleObj;P(l.delegateTarget).off(M.namespace?M.origType+"."+M.namespace:M.origType,M.selector,M.handler);return this}if("object"===typeof l){for(M in l)this.off(M,w,l[M]);return this}if(!1===w||"function"===typeof w)F=w,w=void 0;!1===F&&(F=G);return this.each(function(){P.event.remove(this,l,F,w)})}});var fb=/<script|<style|<link/i,V=/checked\s*(?:[^=]|=\s*.checked.)/i,ja=/^\s*<!\[CDATA\[|\]\]>\s*$/g;
P.extend({htmlPrefilter:function(l){return l},clone:function(l,w,F){var M,R=l.cloneNode(!0),U=zc(l);if(!(Ca.noCloneChecked||1!==l.nodeType&&11!==l.nodeType||P.isXMLDoc(l))){var X=A(R);var la=A(l);var ea=0;for(M=la.length;ea<M;ea++){var fa=la[ea],Ga=X[ea],Na=Ga.nodeName.toLowerCase();if("input"===Na&&wc.test(fa.type))Ga.checked=fa.checked;else if("input"===Na||"textarea"===Na)Ga.defaultValue=fa.defaultValue}}if(w)if(F)for(la=la||A(l),X=X||A(R),ea=0,M=la.length;ea<M;ea++)Y(la[ea],X[ea]);else Y(l,R);
X=A(R,"script");0<X.length&&I(X,!U&&A(l,"script"));return R},cleanData:function(l){for(var w,F,M,R=P.event.special,U=0;void 0!==(F=l[U]);U++)if(Sb(F)){if(w=F[lb.expando]){if(w.events)for(M in w.events)R[M]?P.event.remove(F,M):P.removeEvent(F,M,w.handle);F[lb.expando]=void 0}F[Wb.expando]&&(F[Wb.expando]=void 0)}}});P.fn.extend({detach:function(l){return ma(this,l,!0)},remove:function(l){return ma(this,l)},text:function(l){return Zb(this,function(w){return void 0===w?P.text(this):this.empty().each(function(){if(1===
this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=w})},null,l,arguments.length)},append:function(){return ra(this,arguments,function(l){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||K(this,l).appendChild(l)})},prepend:function(){return ra(this,arguments,function(l){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var w=K(this,l);w.insertBefore(l,w.firstChild)}})},before:function(){return ra(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,
this)})},after:function(){return ra(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this.nextSibling)})},empty:function(){for(var l,w=0;null!=(l=this[w]);w++)1===l.nodeType&&(P.cleanData(A(l,!1)),l.textContent="");return this},clone:function(l,w){l=null==l?!1:l;w=null==w?l:w;return this.map(function(){return P.clone(this,l,w)})},html:function(l){return Zb(this,function(w){var F=this[0]||{},M=0,R=this.length;if(void 0===w&&1===F.nodeType)return F.innerHTML;if("string"===
typeof w&&!fb.test(w)&&!Pa[(aa.exec(w)||["",""])[1].toLowerCase()]){w=P.htmlPrefilter(w);try{for(;M<R;M++)F=this[M]||{},1===F.nodeType&&(P.cleanData(A(F,!1)),F.innerHTML=w);F=0}catch(U){}}F&&this.empty().append(w)},null,l,arguments.length)},replaceWith:function(){var l=[];return ra(this,arguments,function(w){var F=this.parentNode;0>P.inArray(this,l)&&(P.cleanData(A(this)),F&&F.replaceChild(w,this))},l)}});P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(l,w){P.fn[l]=function(F){for(var M=[],R=P(F),U=R.length-1,X=0;X<=U;X++)F=X===U?this:this.clone(!0),P(R[X])[w](F),Wa.apply(M,F.get());return this.pushStack(M)}});var Ea=new RegExp("^("+tc+")(?!px)[a-z%]+$","i"),ca=/^--/,xa=function(l){var w=l.ownerDocument.defaultView;w&&w.opener||(w=y);return w.getComputedStyle(l)},Ja=function(l,w,F){var M,R={};for(M in w)R[M]=l.style[M],l.style[M]=w[M];F=F.call(l);for(M in w)l.style[M]=R[M];return F},Aa=new RegExp(ec.join("|"),"i");(function(){function l(){if(ea){la.style.cssText=
"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";ea.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";vc.appendChild(la).appendChild(ea);var fa=y.getComputedStyle(ea);w="1%"!==fa.top;X=12===Math.round(parseFloat(fa.marginLeft));ea.style.right="60%";R=36===Math.round(parseFloat(fa.right));F=36===Math.round(parseFloat(fa.width));ea.style.position="absolute";M=12===Math.round(parseFloat(ea.offsetWidth/
3));vc.removeChild(la);ea=null}}var w,F,M,R,U,X,la=qb.createElement("div"),ea=qb.createElement("div");ea.style&&(ea.style.backgroundClip="content-box",ea.cloneNode(!0).style.backgroundClip="",Ca.clearCloneStyle="content-box"===ea.style.backgroundClip,P.extend(Ca,{boxSizingReliable:function(){l();return F},pixelBoxStyles:function(){l();return R},pixelPosition:function(){l();return w},reliableMarginLeft:function(){l();return X},scrollboxSize:function(){l();return M},reliableTrDimensions:function(){if(null==
U){var fa=qb.createElement("table");var Ga=qb.createElement("tr");var Na=qb.createElement("div");fa.style.cssText="position:absolute;left:-11111px;border-collapse:separate";Ga.style.cssText="box-sizing:content-box;border:1px solid";Ga.style.height="1px";Na.style.height="9px";Na.style.display="block";vc.appendChild(fa).appendChild(Ga).appendChild(Na);Na=y.getComputedStyle(Ga);U=parseInt(Na.height,10)+parseInt(Na.borderTopWidth,10)+parseInt(Na.borderBottomWidth,10)===Ga.offsetHeight;vc.removeChild(fa)}return U}}))})();
var Sa=["Webkit","Moz","ms"],Ya=qb.createElement("div").style,sb={},ub=/^(none|table(?!-c[ea]).+)/,ic={position:"absolute",visibility:"hidden",display:"block"},Hb={letterSpacing:"0",fontWeight:"400"};P.extend({cssHooks:{opacity:{get:function(l,w){if(w)return l=Q(l,"opacity"),""===l?"1":l}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,
gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(l,w,F,M){if(l&&3!==l.nodeType&&8!==l.nodeType&&l.style){var R,U=e(w),X=ca.test(w),la=l.style;X||(w=ba(U));var ea=P.cssHooks[w]||P.cssHooks[U];if(void 0!==F){var fa=typeof F;"string"===fa&&(R=dc.exec(F))&&R[1]&&(F=B(l,w,R),fa="number");null!=F&&F===F&&("number"!==fa||X||(F+=R&&R[3]||(P.cssNumber[U]?
"":"px")),Ca.clearCloneStyle||""!==F||0!==w.indexOf("background")||(la[w]="inherit"),ea&&"set"in ea&&void 0===(F=ea.set(l,F,M))||(X?la.setProperty(w,F):la[w]=F))}else return ea&&"get"in ea&&void 0!==(R=ea.get(l,!1,M))?R:la[w]}},css:function(l,w,F,M){var R;var U=e(w);ca.test(w)||(w=ba(U));(U=P.cssHooks[w]||P.cssHooks[U])&&"get"in U&&(R=U.get(l,!0,F));void 0===R&&(R=Q(l,w,M));"normal"===R&&w in Hb&&(R=Hb[w]);return""===F||F?(l=parseFloat(R),!0===F||isFinite(l)?l||0:R):R}});P.each(["height","width"],
function(l,w){P.cssHooks[w]={get:function(F,M,R){if(M)return!ub.test(P.css(F,"display"))||F.getClientRects().length&&F.getBoundingClientRect().width?ya(F,w,R):Ja(F,ic,function(){return ya(F,w,R)})},set:function(F,M,R){var U,X=xa(F),la=!Ca.scrollboxSize()&&"absolute"===X.position,ea=(la||R)&&"border-box"===P.css(F,"boxSizing",!1,X);R=R?pa(F,w,R,ea,X):0;ea&&la&&(R-=Math.ceil(F["offset"+w[0].toUpperCase()+w.slice(1)]-parseFloat(X[w])-pa(F,w,"border",!1,X)-.5));R&&(U=dc.exec(M))&&"px"!==(U[3]||"px")&&
(F.style[w]=M,M=P.css(F,w));return ta(F,M,R)}}});P.cssHooks.marginLeft=ia(Ca.reliableMarginLeft,function(l,w){if(w)return(parseFloat(Q(l,"marginLeft"))||l.getBoundingClientRect().left-Ja(l,{marginLeft:0},function(){return l.getBoundingClientRect().left}))+"px"});P.each({margin:"",padding:"",border:"Width"},function(l,w){P.cssHooks[l+w]={expand:function(F){var M=0,R={};for(F="string"===typeof F?F.split(" "):[F];4>M;M++)R[l+ec[M]+w]=F[M]||F[M-2]||F[0];return R}};"margin"!==l&&(P.cssHooks[l+w].set=ta)});
P.fn.extend({css:function(l,w){return Zb(this,function(F,M,R){var U,X={},la=0;if(Array.isArray(M)){R=xa(F);for(U=M.length;la<U;la++)X[M[la]]=P.css(F,M[la],!1,R);return X}return void 0!==R?P.style(F,M,R):P.css(F,M)},l,w,1<arguments.length)}});P.Tween=ka;ka.prototype={constructor:ka,init:function(l,w,F,M,R,U){this.elem=l;this.prop=F;this.easing=R||P.easing._default;this.options=w;this.start=this.now=this.cur();this.end=M;this.unit=U||(P.cssNumber[F]?"":"px")},cur:function(){var l=ka.propHooks[this.prop];
return l&&l.get?l.get(this):ka.propHooks._default.get(this)},run:function(l){var w,F=ka.propHooks[this.prop];this.pos=this.options.duration?w=P.easing[this.easing](l,this.options.duration*l,0,1,this.options.duration):w=l;this.now=(this.end-this.start)*w+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);F&&F.set?F.set(this):ka.propHooks._default.set(this);return this}};ka.prototype.init.prototype=ka.prototype;ka.propHooks={_default:{get:function(l){return 1!==l.elem.nodeType||
null!=l.elem[l.prop]&&null==l.elem.style[l.prop]?l.elem[l.prop]:(l=P.css(l.elem,l.prop,""))&&"auto"!==l?l:0},set:function(l){if(P.fx.step[l.prop])P.fx.step[l.prop](l);else 1!==l.elem.nodeType||!P.cssHooks[l.prop]&&null==l.elem.style[ba(l.prop)]?l.elem[l.prop]=l.now:P.style(l.elem,l.prop,l.now+l.unit)}}};ka.propHooks.scrollTop=ka.propHooks.scrollLeft={set:function(l){l.elem.nodeType&&l.elem.parentNode&&(l.elem[l.prop]=l.now)}};P.easing={linear:function(l){return l},swing:function(l){return.5-Math.cos(l*
Math.PI)/2},_default:"swing"};P.fx=ka.prototype.init;P.fx.step={};var Ub,nc,dd=/^(?:toggle|show|hide)$/,ed=/queueHooks$/;P.Animation=P.extend(qa,{tweeners:{"*":[function(l,w){var F=this.createTween(l,w);B(F.elem,l,dc.exec(w),F);return F}]},tweener:function(l,w){$a(l)?(w=l,l=["*"]):l=l.match(Db);for(var F,M=0,R=l.length;M<R;M++)F=l[M],qa.tweeners[F]=qa.tweeners[F]||[],qa.tweeners[F].unshift(w)},prefilters:[function(l,w,F){var M;var R="width"in w||"height"in w;var U=this,X={},la=l.style,ea=l.nodeType&&
Ac(l),fa=lb.get(l,"fxshow");if(!F.queue){var Ga=P._queueHooks(l,"fx");if(null==Ga.unqueued){Ga.unqueued=0;var Na=Ga.empty.fire;Ga.empty.fire=function(){Ga.unqueued||Na()}}Ga.unqueued++;U.always(function(){U.always(function(){Ga.unqueued--;P.queue(l,"fx").length||Ga.empty.fire()})})}for(M in w){var Ua=w[M];if(dd.test(Ua)){delete w[M];var hb=hb||"toggle"===Ua;if(Ua===(ea?"hide":"show"))if("show"===Ua&&fa&&void 0!==fa[M])ea=!0;else continue;X[M]=fa&&fa[M]||P.style(l,M)}}if((w=!P.isEmptyObject(w))||!P.isEmptyObject(X)){if(R&&
1===l.nodeType){F.overflow=[la.overflow,la.overflowX,la.overflowY];var jb=fa&&fa.display;null==jb&&(jb=lb.get(l,"display"));R=P.css(l,"display");"none"===R&&(jb?R=jb:(C([l],!0),jb=l.style.display||jb,R=P.css(l,"display"),C([l])));("inline"===R||"inline-block"===R&&null!=jb)&&"none"===P.css(l,"float")&&(w||(U.done(function(){la.display=jb}),null==jb&&(R=la.display,jb="none"===R?"":R)),la.display="inline-block")}F.overflow&&(la.overflow="hidden",U.always(function(){la.overflow=F.overflow[0];la.overflowX=
F.overflow[1];la.overflowY=F.overflow[2]}));w=!1;for(M in X)w||(fa?"hidden"in fa&&(ea=fa.hidden):fa=lb.access(l,"fxshow",{display:jb}),hb&&(fa.hidden=!ea),ea&&C([l],!0),U.done(function(){ea||C([l]);lb.remove(l,"fxshow");for(M in X)P.style(l,M,X[M])})),w=T(ea?fa[M]:0,M,U),M in fa||(fa[M]=w.start,ea&&(w.end=w.start,w.start=0))}}],prefilter:function(l,w){w?qa.prefilters.unshift(l):qa.prefilters.push(l)}});P.speed=function(l,w,F){var M=l&&"object"===typeof l?P.extend({},l):{complete:F||!F&&w||$a(l)&&
l,duration:l,easing:F&&w||w&&!$a(w)&&w};P.fx.off?M.duration=0:"number"!==typeof M.duration&&(M.duration=M.duration in P.fx.speeds?P.fx.speeds[M.duration]:P.fx.speeds._default);if(null==M.queue||!0===M.queue)M.queue="fx";M.old=M.complete;M.complete=function(){$a(M.old)&&M.old.call(this);M.queue&&P.dequeue(this,M.queue)};return M};P.fn.extend({fadeTo:function(l,w,F,M){return this.filter(Ac).css("opacity",0).show().end().animate({opacity:w},l,F,M)},animate:function(l,w,F,M){var R=P.isEmptyObject(l),
U=P.speed(w,F,M);w=function(){var X=qa(this,P.extend({},l),U);(R||lb.get(this,"finish"))&&X.stop(!0)};w.finish=w;return R||!1===U.queue?this.each(w):this.queue(U.queue,w)},stop:function(l,w,F){var M=function(R){var U=R.stop;delete R.stop;U(F)};"string"!==typeof l&&(F=w,w=l,l=void 0);w&&this.queue(l||"fx",[]);return this.each(function(){var R=!0,U=null!=l&&l+"queueHooks",X=P.timers,la=lb.get(this);if(U)la[U]&&la[U].stop&&M(la[U]);else for(U in la)la[U]&&la[U].stop&&ed.test(U)&&M(la[U]);for(U=X.length;U--;)X[U].elem!==
this||null!=l&&X[U].queue!==l||(X[U].anim.stop(F),R=!1,X.splice(U,1));!R&&F||P.dequeue(this,l)})},finish:function(l){!1!==l&&(l=l||"fx");return this.each(function(){var w=lb.get(this),F=w[l+"queue"];var M=w[l+"queueHooks"];var R=P.timers,U=F?F.length:0;w.finish=!0;P.queue(this,l,[]);M&&M.stop&&M.stop.call(this,!0);for(M=R.length;M--;)R[M].elem===this&&R[M].queue===l&&(R[M].anim.stop(!0),R.splice(M,1));for(M=0;M<U;M++)F[M]&&F[M].finish&&F[M].finish.call(this);delete w.finish})}});P.each(["toggle",
"show","hide"],function(l,w){var F=P.fn[w];P.fn[w]=function(M,R,U){return null==M||"boolean"===typeof M?F.apply(this,arguments):this.animate(ib(w,!0),M,R,U)}});P.each({slideDown:ib("show"),slideUp:ib("hide"),slideToggle:ib("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(l,w){P.fn[l]=function(F,M,R){return this.animate(w,F,M,R)}});P.timers=[];P.fx.tick=function(){var l=0,w=P.timers;for(Ub=Date.now();l<w.length;l++){var F=w[l];F()||w[l]!==F||w.splice(l--,
1)}w.length||P.fx.stop();Ub=void 0};P.fx.timer=function(l){P.timers.push(l);P.fx.start()};P.fx.interval=13;P.fx.start=function(){nc||(nc=!0,Oa())};P.fx.stop=function(){nc=null};P.fx.speeds={slow:600,fast:200,_default:400};P.fn.delay=function(l,w){l=P.fx?P.fx.speeds[l]||l:l;return this.queue(w||"fx",function(F,M){var R=y.setTimeout(F,l);M.stop=function(){y.clearTimeout(R)}})};(function(){var l=qb.createElement("input"),w=qb.createElement("select").appendChild(qb.createElement("option"));l.type="checkbox";
Ca.checkOn=""!==l.value;Ca.optSelected=w.selected;l=qb.createElement("input");l.value="t";l.type="radio";Ca.radioValue="t"===l.value})();var Bc=P.expr.attrHandle;P.fn.extend({attr:function(l,w){return Zb(this,P.attr,l,w,1<arguments.length)},removeAttr:function(l){return this.each(function(){P.removeAttr(this,l)})}});P.extend({attr:function(l,w,F){var M,R,U=l.nodeType;if(3!==U&&8!==U&&2!==U){if("undefined"===typeof l.getAttribute)return P.prop(l,w,F);1===U&&P.isXMLDoc(l)||(R=P.attrHooks[w.toLowerCase()]||
(P.expr.match.bool.test(w)?fd:void 0));if(void 0!==F){if(null===F){P.removeAttr(l,w);return}if(R&&"set"in R&&void 0!==(M=R.set(l,F,w)))return M;l.setAttribute(w,F+"");return F}if(R&&"get"in R&&null!==(M=R.get(l,w)))return M;M=P.find.attr(l,w);return null==M?void 0:M}},attrHooks:{type:{set:function(l,w){if(!Ca.radioValue&&"radio"===w&&d(l,"input")){var F=l.value;l.setAttribute("type",w);F&&(l.value=F);return w}}}},removeAttr:function(l,w){var F=0,M=w&&w.match(Db);if(M&&1===l.nodeType)for(;w=M[F++];)l.removeAttribute(w)}});
var fd={set:function(l,w,F){!1===w?P.removeAttr(l,F):l.setAttribute(F,F);return F}};P.each(P.expr.match.bool.source.match(/\w+/g),function(l,w){var F=Bc[w]||P.find.attr;Bc[w]=function(M,R,U){var X=R.toLowerCase();if(!U){var la=Bc[X];Bc[X]=ea;var ea=null!=F(M,R,U)?X:null;Bc[X]=la}return ea}});var gd=/^(?:input|select|textarea|button)$/i,Gc=/^(?:a|area)$/i;P.fn.extend({prop:function(l,w){return Zb(this,P.prop,l,w,1<arguments.length)},removeProp:function(l){return this.each(function(){delete this[P.propFix[l]||
l]})}});P.extend({prop:function(l,w,F){var M,R=l.nodeType;if(3!==R&&8!==R&&2!==R){if(1!==R||!P.isXMLDoc(l)){w=P.propFix[w]||w;var U=P.propHooks[w]}return void 0!==F?U&&"set"in U&&void 0!==(M=U.set(l,F,w))?M:l[w]=F:U&&"get"in U&&null!==(M=U.get(l,w))?M:l[w]}},propHooks:{tabIndex:{get:function(l){var w=P.find.attr(l,"tabindex");return w?parseInt(w,10):gd.test(l.nodeName)||Gc.test(l.nodeName)&&l.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});Ca.optSelected||(P.propHooks.selected={get:function(l){(l=
l.parentNode)&&l.parentNode&&l.parentNode.selectedIndex;return null},set:function(l){if(l=l.parentNode)l.selectedIndex,l.parentNode&&l.parentNode.selectedIndex}});P.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){P.propFix[this.toLowerCase()]=this});P.fn.extend({addClass:function(l){var w,F,M,R,U;if($a(l))return this.each(function(la){P(this).addClass(l.call(this,la,Xa(this)))});var X=yb(l);return X.length?this.each(function(){F=
Xa(this);if(w=1===this.nodeType&&" "+za(F)+" "){for(R=0;R<X.length;R++)M=X[R],0>w.indexOf(" "+M+" ")&&(w+=M+" ");U=za(w);F!==U&&this.setAttribute("class",U)}}):this},removeClass:function(l){var w,F,M,R,U;if($a(l))return this.each(function(la){P(this).removeClass(l.call(this,la,Xa(this)))});if(!arguments.length)return this.attr("class","");var X=yb(l);return X.length?this.each(function(){F=Xa(this);if(w=1===this.nodeType&&" "+za(F)+" "){for(R=0;R<X.length;R++)for(M=X[R];-1<w.indexOf(" "+M+" ");)w=
w.replace(" "+M+" "," ");U=za(w);F!==U&&this.setAttribute("class",U)}}):this},toggleClass:function(l,w){var F,M,R,U=typeof l,X="string"===U||Array.isArray(l);if($a(l))return this.each(function(ea){P(this).toggleClass(l.call(this,ea,Xa(this),w),w)});if("boolean"===typeof w&&X)return w?this.addClass(l):this.removeClass(l);var la=yb(l);return this.each(function(){if(X)for(R=P(this),M=0;M<la.length;M++)F=la[M],R.hasClass(F)?R.removeClass(F):R.addClass(F);else if(void 0===l||"boolean"===U)(F=Xa(this))&&
lb.set(this,"__className__",F),this.setAttribute&&this.setAttribute("class",F||!1===l?"":lb.get(this,"__className__")||"")})},hasClass:function(l){var w,F=0;for(l=" "+l+" ";w=this[F++];)if(1===w.nodeType&&-1<(" "+za(Xa(w))+" ").indexOf(l))return!0;return!1}});var Vc=/\r/g;P.fn.extend({val:function(l){var w,F,M=this[0];if(arguments.length){var R=$a(l);return this.each(function(U){1===this.nodeType&&(U=R?l.call(this,U,P(this).val()):l,null==U?U="":"number"===typeof U?U+="":Array.isArray(U)&&(U=P.map(U,
function(X){return null==X?"":X+""})),w=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()],w&&"set"in w&&void 0!==w.set(this,U,"value")||(this.value=U))})}if(M){if((w=P.valHooks[M.type]||P.valHooks[M.nodeName.toLowerCase()])&&"get"in w&&void 0!==(F=w.get(M,"value")))return F;F=M.value;return"string"===typeof F?F.replace(Vc,""):null==F?"":F}}});P.extend({valHooks:{option:{get:function(l){var w=P.find.attr(l,"value");return null!=w?w:za(P.text(l))}},select:{get:function(l){var w=l.options,
F=l.selectedIndex,M="select-one"===l.type,R=M?null:[],U=M?F+1:w.length;for(l=0>F?U:M?F:0;l<U;l++){var X=w[l];if(!(!X.selected&&l!==F||X.disabled||X.parentNode.disabled&&d(X.parentNode,"optgroup"))){X=P(X).val();if(M)return X;R.push(X)}}return R},set:function(l,w){for(var F,M=l.options,R=P.makeArray(w),U=M.length;U--;)if(w=M[U],w.selected=-1<P.inArray(P.valHooks.option.get(w),R))F=!0;F||(l.selectedIndex=-1);return R}}}});P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(l,w){if(Array.isArray(w))return l.checked=
-1<P.inArray(P(l).val(),w)}};Ca.checkOn||(P.valHooks[this].get=function(l){return null===l.getAttribute("value")?"on":l.value})});var Oc=y.location,Wc=Date.now(),Sc=/\?/;P.parseXML=function(l){if(!l||"string"!==typeof l)return null;try{var w=(new y.DOMParser).parseFromString(l,"text/xml")}catch(M){}var F=w&&w.getElementsByTagName("parsererror")[0];w&&!F||P.error("Invalid XML: "+(F?P.map(F.childNodes,function(M){return M.textContent}).join("\n"):l));return w};var Xc=/^(?:focusinfocus|focusoutblur)$/,
Yc=function(l){l.stopPropagation()};P.extend(P.event,{trigger:function(l,w,F,M){var R,U,X,la=[F||qb],ea=Fa.call(l,"type")?l.type:l;var fa=Fa.call(l,"namespace")?l.namespace.split("."):[];var Ga=X=R=F=F||qb;if(3!==F.nodeType&&8!==F.nodeType&&!Xc.test(ea+P.event.triggered)){-1<ea.indexOf(".")&&(fa=ea.split("."),ea=fa.shift(),fa.sort());var Na=0>ea.indexOf(":")&&"on"+ea;l=l[P.expando]?l:new P.Event(ea,"object"===typeof l&&l);l.isTrigger=M?2:3;l.namespace=fa.join(".");l.rnamespace=l.namespace?new RegExp("(^|\\.)"+
fa.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;l.result=void 0;l.target||(l.target=F);w=null==w?[l]:P.makeArray(w,[l]);fa=P.event.special[ea]||{};if(M||!fa.trigger||!1!==fa.trigger.apply(F,w)){if(!M&&!fa.noBubble&&!Ka(F)){var Ua=fa.delegateType||ea;Xc.test(Ua+ea)||(Ga=Ga.parentNode);for(;Ga;Ga=Ga.parentNode)la.push(Ga),R=Ga;R===(F.ownerDocument||qb)&&la.push(R.defaultView||R.parentWindow||y)}for(R=0;(Ga=la[R++])&&!l.isPropagationStopped();)X=Ga,l.type=1<R?Ua:fa.bindType||ea,(U=(lb.get(Ga,"events")||Object.create(null))[l.type]&&
lb.get(Ga,"handle"))&&U.apply(Ga,w),(U=Na&&Ga[Na])&&U.apply&&Sb(Ga)&&(l.result=U.apply(Ga,w),!1===l.result&&l.preventDefault());l.type=ea;M||l.isDefaultPrevented()||fa._default&&!1!==fa._default.apply(la.pop(),w)||!Sb(F)||!Na||!$a(F[ea])||Ka(F)||((R=F[Na])&&(F[Na]=null),P.event.triggered=ea,l.isPropagationStopped()&&X.addEventListener(ea,Yc),F[ea](),l.isPropagationStopped()&&X.removeEventListener(ea,Yc),P.event.triggered=void 0,R&&(F[Na]=R));return l.result}}},simulate:function(l,w,F){l=P.extend(new P.Event,
F,{type:l,isSimulated:!0});P.event.trigger(l,null,w)}});P.fn.extend({trigger:function(l,w){return this.each(function(){P.event.trigger(l,w,this)})},triggerHandler:function(l,w){var F=this[0];if(F)return P.event.trigger(l,w,F,!0)}});var hd=/\[\]$/,Zc=/\r?\n/g,id=/^(?:submit|button|image|reset|file)$/i,jd=/^(?:input|select|textarea|keygen)/i;P.param=function(l,w){var F,M=[],R=function(U,X){X=$a(X)?X():X;M[M.length]=encodeURIComponent(U)+"="+encodeURIComponent(null==X?"":X)};if(null==l)return"";if(Array.isArray(l)||
l.jquery&&!P.isPlainObject(l))P.each(l,function(){R(this.name,this.value)});else for(F in l)Cb(F,l[F],w,R);return M.join("&")};P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var l=P.prop(this,"elements");return l?P.makeArray(l):this}).filter(function(){var l=this.type;return this.name&&!P(this).is(":disabled")&&jd.test(this.nodeName)&&!id.test(l)&&(this.checked||!wc.test(l))}).map(function(l,w){l=P(this).val();return null==
l?null:Array.isArray(l)?P.map(l,function(F){return{name:w.name,value:F.replace(Zc,"\r\n")}}):{name:w.name,value:l.replace(Zc,"\r\n")}}).get()}});var kd=/%20/g,ld=/#.*$/,Nc=/([?&])_=[^&]*/,md=/^(.*?):[ \t]*([^\r\n]*)$/mg,nd=/^(?:GET|HEAD)$/,Tc=/^\/\//,$c={},Uc={},Pc="*/".concat("*"),Hc=qb.createElement("a");Hc.href=Oc.href;P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Oc.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Oc.protocol),global:!0,processData:!0,
async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(l,w){return w?Ha(Ha(l,P.ajaxSettings),
w):Ha(P.ajaxSettings,l)},ajaxPrefilter:Ia($c),ajaxTransport:Ia(Uc),ajax:function(l,w){function F(zb,Tb,$b,xc){var jc,Kb=Tb;if(!Rb){Rb=!0;X&&y.clearTimeout(X);M=void 0;R=xc||"";Ab.readyState=0<zb?4:0;xc=200<=zb&&300>zb||304===zb;$b&&(jc=Da(fa,Ab,$b));!xc&&-1<P.inArray("script",fa.dataTypes)&&0>P.inArray("json",fa.dataTypes)&&(fa.converters["text script"]=function(){});jc=bb(fa,jc,Ab,xc);if(xc)if(fa.ifModified&&(($b=Ab.getResponseHeader("Last-Modified"))&&(P.lastModified[Lb]=$b),($b=Ab.getResponseHeader("etag"))&&
(P.etag[Lb]=$b)),204===zb||"HEAD"===fa.type)Kb="nocontent";else if(304===zb)Kb="notmodified";else{Kb=jc.state;var Cc=jc.data;var oc=jc.error;xc=!oc}else if(oc=Kb,zb||!Kb)Kb="error",0>zb&&(zb=0);Ab.status=zb;Ab.statusText=(Tb||Kb)+"";xc?Ua.resolveWith(Ga,[Cc,Kb,Ab]):Ua.rejectWith(Ga,[Ab,Kb,oc]);Ab.statusCode(jb);jb=void 0;la&&Na.trigger(xc?"ajaxSuccess":"ajaxError",[Ab,fa,xc?Cc:oc]);hb.fireWith(Ga,[Ab,Kb]);la&&(Na.trigger("ajaxComplete",[Ab,fa]),--P.active||P.event.trigger("ajaxStop"))}}"object"===
typeof l&&(w=l,l=void 0);w=w||{};var M,R,U,X,la,ea,fa=P.ajaxSetup({},w),Ga=fa.context||fa,Na=fa.context&&(Ga.nodeType||Ga.jquery)?P(Ga):P.event,Ua=P.Deferred(),hb=P.Callbacks("once memory"),jb=fa.statusCode||{},Eb={},Fb={},ac="canceled",Ab={readyState:0,getResponseHeader:function(zb){var Tb;if(Rb){if(!U)for(U={};Tb=md.exec(R);)U[Tb[1].toLowerCase()+" "]=(U[Tb[1].toLowerCase()+" "]||[]).concat(Tb[2]);Tb=U[zb.toLowerCase()+" "]}return null==Tb?null:Tb.join(", ")},getAllResponseHeaders:function(){return Rb?
R:null},setRequestHeader:function(zb,Tb){null==Rb&&(zb=Fb[zb.toLowerCase()]=Fb[zb.toLowerCase()]||zb,Eb[zb]=Tb);return this},overrideMimeType:function(zb){null==Rb&&(fa.mimeType=zb);return this},statusCode:function(zb){var Tb;if(zb)if(Rb)Ab.always(zb[Ab.status]);else for(Tb in zb)jb[Tb]=[jb[Tb],zb[Tb]];return this},abort:function(zb){zb=zb||ac;M&&M.abort(zb);F(0,zb);return this}};Ua.promise(Ab);fa.url=((l||fa.url||Oc.href)+"").replace(Tc,Oc.protocol+"//");fa.type=w.method||w.type||fa.method||fa.type;
fa.dataTypes=(fa.dataType||"*").toLowerCase().match(Db)||[""];if(null==fa.crossDomain){l=qb.createElement("a");try{l.href=fa.url,l.href=l.href,fa.crossDomain=Hc.protocol+"//"+Hc.host!==l.protocol+"//"+l.host}catch(zb){fa.crossDomain=!0}}fa.data&&fa.processData&&"string"!==typeof fa.data&&(fa.data=P.param(fa.data,fa.traditional));na($c,fa,w,Ab);if(Rb)return Ab;(la=P.event&&fa.global)&&0===P.active++&&P.event.trigger("ajaxStart");fa.type=fa.type.toUpperCase();fa.hasContent=!nd.test(fa.type);var Lb=
fa.url.replace(ld,"");fa.hasContent?fa.data&&fa.processData&&0===(fa.contentType||"").indexOf("application/x-www-form-urlencoded")&&(fa.data=fa.data.replace(kd,"+")):(l=fa.url.slice(Lb.length),fa.data&&(fa.processData||"string"===typeof fa.data)&&(Lb+=(Sc.test(Lb)?"&":"?")+fa.data,delete fa.data),!1===fa.cache&&(Lb=Lb.replace(Nc,"$1"),l=(Sc.test(Lb)?"&":"?")+"_="+Wc++ +l),fa.url=Lb+l);fa.ifModified&&(P.lastModified[Lb]&&Ab.setRequestHeader("If-Modified-Since",P.lastModified[Lb]),P.etag[Lb]&&Ab.setRequestHeader("If-None-Match",
P.etag[Lb]));(fa.data&&fa.hasContent&&!1!==fa.contentType||w.contentType)&&Ab.setRequestHeader("Content-Type",fa.contentType);Ab.setRequestHeader("Accept",fa.dataTypes[0]&&fa.accepts[fa.dataTypes[0]]?fa.accepts[fa.dataTypes[0]]+("*"!==fa.dataTypes[0]?", "+Pc+"; q=0.01":""):fa.accepts["*"]);for(ea in fa.headers)Ab.setRequestHeader(ea,fa.headers[ea]);if(fa.beforeSend&&(!1===fa.beforeSend.call(Ga,Ab,fa)||Rb))return Ab.abort();ac="abort";hb.add(fa.complete);Ab.done(fa.success);Ab.fail(fa.error);if(M=
na(Uc,fa,w,Ab)){Ab.readyState=1;la&&Na.trigger("ajaxSend",[Ab,fa]);if(Rb)return Ab;fa.async&&0<fa.timeout&&(X=y.setTimeout(function(){Ab.abort("timeout")},fa.timeout));try{var Rb=!1;M.send(Eb,F)}catch(zb){if(Rb)throw zb;F(-1,zb)}}else F(-1,"No Transport");return Ab},getJSON:function(l,w,F){return P.get(l,w,F,"json")},getScript:function(l,w){return P.get(l,void 0,w,"script")}});P.each(["get","post"],function(l,w){P[w]=function(F,M,R,U){$a(M)&&(U=U||R,R=M,M=void 0);return P.ajax(P.extend({url:F,type:w,
dataType:U,data:M,success:R},P.isPlainObject(F)&&F))}});P.ajaxPrefilter(function(l){for(var w in l.headers)"content-type"===w.toLowerCase()&&(l.contentType=l.headers[w]||"")});P._evalUrl=function(l,w,F){return P.ajax({url:l,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(M){P.globalEval(M,w,F)}})};P.fn.extend({wrapAll:function(l){this[0]&&($a(l)&&(l=l.call(this[0])),l=P(l,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&
l.insertBefore(this[0]),l.map(function(){for(var w=this;w.firstElementChild;)w=w.firstElementChild;return w}).append(this));return this},wrapInner:function(l){return $a(l)?this.each(function(w){P(this).wrapInner(l.call(this,w))}):this.each(function(){var w=P(this),F=w.contents();F.length?F.wrapAll(l):w.append(l)})},wrap:function(l){var w=$a(l);return this.each(function(F){P(this).wrapAll(w?l.call(this,F):l)})},unwrap:function(l){this.parent(l).not("body").each(function(){P(this).replaceWith(this.childNodes)});
return this}});P.expr.pseudos.hidden=function(l){return!P.expr.pseudos.visible(l)};P.expr.pseudos.visible=function(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)};P.ajaxSettings.xhr=function(){try{return new y.XMLHttpRequest}catch(l){}};var od={0:200,1223:204},Qc=P.ajaxSettings.xhr();Ca.cors=!!Qc&&"withCredentials"in Qc;Ca.ajax=Qc=!!Qc;P.ajaxTransport(function(l){var w,F;if(Ca.cors||Qc&&!l.crossDomain)return{send:function(M,R){var U,X=l.xhr();X.open(l.type,l.url,l.async,l.username,
l.password);if(l.xhrFields)for(U in l.xhrFields)X[U]=l.xhrFields[U];l.mimeType&&X.overrideMimeType&&X.overrideMimeType(l.mimeType);l.crossDomain||M["X-Requested-With"]||(M["X-Requested-With"]="XMLHttpRequest");for(U in M)X.setRequestHeader(U,M[U]);w=function(la){return function(){w&&(w=F=X.onload=X.onerror=X.onabort=X.ontimeout=X.onreadystatechange=null,"abort"===la?X.abort():"error"===la?"number"!==typeof X.status?R(0,"error"):R(X.status,X.statusText):R(od[X.status]||X.status,X.statusText,"text"!==
(X.responseType||"text")||"string"!==typeof X.responseText?{binary:X.response}:{text:X.responseText},X.getAllResponseHeaders()))}};X.onload=w();F=X.onerror=X.ontimeout=w("error");void 0!==X.onabort?X.onabort=F:X.onreadystatechange=function(){4===X.readyState&&y.setTimeout(function(){w&&F()})};w=w("abort");try{X.send(l.hasContent&&l.data||null)}catch(la){if(w)throw la;}},abort:function(){w&&w()}}});P.ajaxPrefilter(function(l){l.crossDomain&&(l.contents.script=!1)});P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(l){P.globalEval(l);return l}}});P.ajaxPrefilter("script",function(l){void 0===l.cache&&(l.cache=!1);l.crossDomain&&(l.type="GET")});P.ajaxTransport("script",function(l){if(l.crossDomain||l.scriptAttrs){var w,F;return{send:function(M,R){w=P("<script>").attr(l.scriptAttrs||{}).prop({charset:l.scriptCharset,src:l.url}).on("load error",F=function(U){w.remove();F=null;U&&R("error"===U.type?404:200,U.type)});qb.head.appendChild(w[0])},
abort:function(){F&&F()}}}});var Rc=[],t=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var l=Rc.pop()||P.expando+"_"+Wc++;this[l]=!0;return l}});P.ajaxPrefilter("json jsonp",function(l,w,F){var M,R=!1!==l.jsonp&&(t.test(l.url)?"url":"string"===typeof l.data&&0===(l.contentType||"").indexOf("application/x-www-form-urlencoded")&&t.test(l.data)&&"data");if(R||"jsonp"===l.dataTypes[0]){var U=l.jsonpCallback=$a(l.jsonpCallback)?l.jsonpCallback():l.jsonpCallback;R?l[R]=l[R].replace(t,
"$1"+U):!1!==l.jsonp&&(l.url+=(Sc.test(l.url)?"&":"?")+l.jsonp+"="+U);l.converters["script json"]=function(){M||P.error(U+" was not called");return M[0]};l.dataTypes[0]="json";var X=y[U];y[U]=function(){M=arguments};F.always(function(){void 0===X?P(y).removeProp(U):y[U]=X;l[U]&&(l.jsonpCallback=w.jsonpCallback,Rc.push(U));M&&$a(X)&&X(M[0]);M=X=void 0});return"script"}});Ca.createHTMLDocument=function(){var l=qb.implementation.createHTMLDocument("").body;l.innerHTML="<form></form><form></form>";return 2===
l.childNodes.length}();P.parseHTML=function(l,w,F){if("string"!==typeof l)return[];"boolean"===typeof w&&(F=w,w=!1);if(!w)if(Ca.createHTMLDocument){w=qb.implementation.createHTMLDocument("");var M=w.createElement("base");M.href=qb.location.href;w.head.appendChild(M)}else w=qb;M=Ib.exec(l);F=!F&&[];if(M)return[w.createElement(M[1])];M=O([l],w,F);F&&F.length&&P(F).remove();return P.merge([],M.childNodes)};P.fn.load=function(l,w,F){var M,R,U=this,X=l.indexOf(" ");if(-1<X){var la=za(l.slice(X));l=l.slice(0,
X)}$a(w)?(F=w,w=void 0):w&&"object"===typeof w&&(M="POST");0<U.length&&P.ajax({url:l,type:M||"GET",dataType:"html",data:w}).done(function(ea){R=arguments;U.html(la?P("<div>").append(P.parseHTML(ea)).find(la):ea)}).always(F&&function(ea,fa){U.each(function(){F.apply(this,R||[ea.responseText,fa,ea])})});return this};P.expr.pseudos.animated=function(l){return P.grep(P.timers,function(w){return l===w.elem}).length};P.offset={setOffset:function(l,w,F){var M=P.css(l,"position"),R=P(l),U={};"static"===M&&
(l.style.position="relative");var X=R.offset();var la=P.css(l,"top");var ea=P.css(l,"left");("absolute"===M||"fixed"===M)&&-1<(la+ea).indexOf("auto")?(ea=R.position(),la=ea.top,ea=ea.left):(la=parseFloat(la)||0,ea=parseFloat(ea)||0);$a(w)&&(w=w.call(l,F,P.extend({},X)));null!=w.top&&(U.top=w.top-X.top+la);null!=w.left&&(U.left=w.left-X.left+ea);"using"in w?w.using.call(l,U):R.css(U)}};P.fn.extend({offset:function(l){if(arguments.length)return void 0===l?this:this.each(function(M){P.offset.setOffset(this,
l,M)});var w;if(w=this[0]){if(!w.getClientRects().length)return{top:0,left:0};var F=w.getBoundingClientRect();w=w.ownerDocument.defaultView;return{top:F.top+w.pageYOffset,left:F.left+w.pageXOffset}}},position:function(){if(this[0]){var l,w=this[0],F={top:0,left:0};if("fixed"===P.css(w,"position"))var M=w.getBoundingClientRect();else{M=this.offset();var R=w.ownerDocument;for(l=w.offsetParent||R.documentElement;l&&(l===R.body||l===R.documentElement)&&"static"===P.css(l,"position");)l=l.parentNode;l&&
l!==w&&1===l.nodeType&&(F=P(l).offset(),F.top+=P.css(l,"borderTopWidth",!0),F.left+=P.css(l,"borderLeftWidth",!0))}return{top:M.top-F.top-P.css(w,"marginTop",!0),left:M.left-F.left-P.css(w,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var l=this.offsetParent;l&&"static"===P.css(l,"position");)l=l.offsetParent;return l||vc})}});P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(l,w){var F="pageYOffset"===w;P.fn[l]=function(M){return Zb(this,function(R,U,
X){if(Ka(R))var la=R;else 9===R.nodeType&&(la=R.defaultView);if(void 0===X)return la?la[w]:R[U];la?la.scrollTo(F?la.pageXOffset:X,F?X:la.pageYOffset):R[U]=X},l,M,arguments.length)}});P.each(["top","left"],function(l,w){P.cssHooks[w]=ia(Ca.pixelPosition,function(F,M){if(M)return M=Q(F,w),Ea.test(M)?P(F).position()[w]+"px":M})});P.each({Height:"height",Width:"width"},function(l,w){P.each({padding:"inner"+l,content:w,"":"outer"+l},function(F,M){P.fn[M]=function(R,U){var X=arguments.length&&(F||"boolean"!==
typeof R),la=F||(!0===R||!0===U?"margin":"border");return Zb(this,function(ea,fa,Ga){return Ka(ea)?0===M.indexOf("outer")?ea["inner"+l]:ea.document.documentElement["client"+l]:9===ea.nodeType?(fa=ea.documentElement,Math.max(ea.body["scroll"+l],fa["scroll"+l],ea.body["offset"+l],fa["offset"+l],fa["client"+l])):void 0===Ga?P.css(ea,fa,la):P.style(ea,fa,Ga,la)},w,X?R:void 0,X)}})});P.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(l,w){P.fn[w]=function(F){return this.on(w,
F)}});P.fn.extend({bind:function(l,w,F){return this.on(l,null,w,F)},unbind:function(l,w){return this.off(l,null,w)},delegate:function(l,w,F,M){return this.on(w,l,F,M)},undelegate:function(l,w,F){return 1===arguments.length?this.off(l,"**"):this.off(w,l||"**",F)},hover:function(l,w){return this.on("mouseenter",l).on("mouseleave",w||l)}});P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(l,w){P.fn[w]=function(F,M){return 0<arguments.length?this.on(w,null,F,M):this.trigger(w)}});var N=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(l,w){if("string"===typeof w){var F=l[w];w=l;l=F}if($a(l)){var M=Ra.call(arguments,2);F=function(){return l.apply(w||this,M.concat(Ra.call(arguments)))};F.guid=l.guid=l.guid||P.guid++;return F}};P.holdReady=function(l){l?P.readyWait++:P.ready(!0)};P.isArray=Array.isArray;P.parseJSON=JSON.parse;P.nodeName=d;P.isFunction=$a;
P.isWindow=Ka;P.camelCase=e;P.type=E;P.now=Date.now;P.isNumeric=function(l){var w=P.type(l);return("number"===w||"string"===w)&&!isNaN(l-parseFloat(l))};P.trim=function(l){return null==l?"":(l+"").replace(N,"$1")};var W=y.jQuery,oa=y.$;P.noConflict=function(l){y.$===P&&(y.$=oa);l&&y.jQuery===P&&(y.jQuery=W);return P};"undefined"===typeof k&&(y.jQuery=y.$=P);return P})},{}],297:[function(g,L,D){D=g("./lib/utils/common").assign;var y=g("./lib/deflate"),k=g("./lib/inflate");g=g("./lib/zlib/constants");
var v={};D(v,y,k,g);L.exports=v},{"./lib/deflate":298,"./lib/inflate":299,"./lib/utils/common":300,"./lib/zlib/constants":303}],298:[function(g,L,D){function y(m){if(!(this instanceof y))return new y(m);m=this.options=E.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},m||{});m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&16>m.windowBits&&(m.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new x;this.strm.avail_out=
0;var q=v.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(0!==q)throw Error(d[q]);m.header&&v.deflateSetHeader(this.strm,m.header);if(m.dictionary){m="string"===typeof m.dictionary?b.string2buf(m.dictionary):"[object ArrayBuffer]"===a.call(m.dictionary)?new Uint8Array(m.dictionary):m.dictionary;q=v.deflateSetDictionary(this.strm,m);if(0!==q)throw Error(d[q]);this._dict_set=!0}}function k(m,q){q=new y(q);q.push(m,!0);if(q.err)throw q.msg||d[q.err];return q.result}var v=
g("./zlib/deflate"),E=g("./utils/common"),b=g("./utils/strings"),d=g("./zlib/messages"),x=g("./zlib/zstream"),a=Object.prototype.toString;y.prototype.push=function(m,q){var r=this.strm,h=this.options.chunkSize;if(this.ended)return!1;q=q===~~q?q:!0===q?4:0;"string"===typeof m?r.input=b.string2buf(m):"[object ArrayBuffer]"===a.call(m)?r.input=new Uint8Array(m):r.input=m;r.next_in=0;r.avail_in=r.input.length;do{0===r.avail_out&&(r.output=new E.Buf8(h),r.next_out=0,r.avail_out=h);m=v.deflate(r,q);if(1!==
m&&0!==m)return this.onEnd(m),this.ended=!0,!1;if(0===r.avail_out||0===r.avail_in&&(4===q||2===q))if("string"===this.options.to)this.onData(b.buf2binstring(E.shrinkBuf(r.output,r.next_out)));else this.onData(E.shrinkBuf(r.output,r.next_out))}while((0<r.avail_in||0===r.avail_out)&&1!==m);if(4===q)return m=v.deflateEnd(this.strm),this.onEnd(m),this.ended=!0,0===m;2===q&&(this.onEnd(0),r.avail_out=0);return!0};y.prototype.onData=function(m){this.chunks.push(m)};y.prototype.onEnd=function(m){0===m&&(this.result=
"string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=m;this.msg=this.strm.msg};D.Deflate=y;D.deflate=k;D.deflateRaw=function(m,q){q=q||{};q.raw=!0;return k(m,q)};D.gzip=function(m,q){q=q||{};q.gzip=!0;return k(m,q)}},{"./utils/common":300,"./utils/strings":301,"./zlib/deflate":305,"./zlib/messages":310,"./zlib/zstream":312}],299:[function(g,L,D){function y(r){if(!(this instanceof y))return new y(r);var h=this.options=E.assign({chunkSize:16384,windowBits:0,
to:""},r||{});h.raw&&0<=h.windowBits&&16>h.windowBits&&(h.windowBits=-h.windowBits,0===h.windowBits&&(h.windowBits=-15));!(0<=h.windowBits&&16>h.windowBits)||r&&r.windowBits||(h.windowBits+=32);15<h.windowBits&&48>h.windowBits&&0===(h.windowBits&15)&&(h.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new a;this.strm.avail_out=0;r=v.inflateInit2(this.strm,h.windowBits);if(r!==d.Z_OK)throw Error(x[r]);this.header=new m;v.inflateGetHeader(this.strm,this.header);if(h.dictionary&&
("string"===typeof h.dictionary?h.dictionary=b.string2buf(h.dictionary):"[object ArrayBuffer]"===q.call(h.dictionary)&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(r=v.inflateSetDictionary(this.strm,h.dictionary),r!==d.Z_OK)))throw Error(x[r]);}function k(r,h){h=new y(h);h.push(r,!0);if(h.err)throw h.msg||x[h.err];return h.result}var v=g("./zlib/inflate"),E=g("./utils/common"),b=g("./utils/strings"),d=g("./zlib/constants"),x=g("./zlib/messages"),a=g("./zlib/zstream"),m=g("./zlib/gzheader"),
q=Object.prototype.toString;y.prototype.push=function(r,h){var c=this.strm,f=this.options.chunkSize,n=this.options.dictionary,e=!1;if(this.ended)return!1;h=h===~~h?h:!0===h?d.Z_FINISH:d.Z_NO_FLUSH;"string"===typeof r?c.input=b.binstring2buf(r):"[object ArrayBuffer]"===q.call(r)?c.input=new Uint8Array(r):c.input=r;c.next_in=0;c.avail_in=c.input.length;do{0===c.avail_out&&(c.output=new E.Buf8(f),c.next_out=0,c.avail_out=f);r=v.inflate(c,d.Z_NO_FLUSH);r===d.Z_NEED_DICT&&n&&(r=v.inflateSetDictionary(this.strm,
n));r===d.Z_BUF_ERROR&&!0===e&&(r=d.Z_OK,e=!1);if(r!==d.Z_STREAM_END&&r!==d.Z_OK)return this.onEnd(r),this.ended=!0,!1;if(c.next_out&&(0===c.avail_out||r===d.Z_STREAM_END||0===c.avail_in&&(h===d.Z_FINISH||h===d.Z_SYNC_FLUSH)))if("string"===this.options.to){var p=b.utf8border(c.output,c.next_out);var u=c.next_out-p;var B=b.buf2string(c.output,p);c.next_out=u;c.avail_out=f-u;u&&E.arraySet(c.output,c.output,p,u,0);this.onData(B)}else this.onData(E.shrinkBuf(c.output,c.next_out));0===c.avail_in&&0===
c.avail_out&&(e=!0)}while((0<c.avail_in||0===c.avail_out)&&r!==d.Z_STREAM_END);r===d.Z_STREAM_END&&(h=d.Z_FINISH);if(h===d.Z_FINISH)return r=v.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===d.Z_OK;h===d.Z_SYNC_FLUSH&&(this.onEnd(d.Z_OK),c.avail_out=0);return!0};y.prototype.onData=function(r){this.chunks.push(r)};y.prototype.onEnd=function(r){r===d.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=r;this.msg=this.strm.msg};
D.Inflate=y;D.inflate=k;D.inflateRaw=function(r,h){h=h||{};h.raw=!0;return k(r,h)};D.ungzip=k},{"./utils/common":300,"./utils/strings":301,"./zlib/constants":303,"./zlib/gzheader":306,"./zlib/inflate":308,"./zlib/messages":310,"./zlib/zstream":312}],300:[function(g,L,D){g="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;D.assign=function(v){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var b=E.shift();if(b){if("object"!==typeof b)throw new TypeError(b+
"must be non-object");for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(v[d]=b[d])}}return v};D.shrinkBuf=function(v,E){if(v.length===E)return v;if(v.subarray)return v.subarray(0,E);v.length=E;return v};var y={arraySet:function(v,E,b,d,x){if(E.subarray&&v.subarray)v.set(E.subarray(b,b+d),x);else for(var a=0;a<d;a++)v[x+a]=E[b+a]},flattenChunks:function(v){var E,b;var d=b=0;for(E=v.length;d<E;d++)b+=v[d].length;var x=new Uint8Array(b);d=b=0;for(E=v.length;d<E;d++){var a=v[d];x.set(a,b);b+=
a.length}return x}},k={arraySet:function(v,E,b,d,x){for(var a=0;a<d;a++)v[x+a]=E[b+a]},flattenChunks:function(v){return[].concat.apply([],v)}};D.setTyped=function(v){v?(D.Buf8=Uint8Array,D.Buf16=Uint16Array,D.Buf32=Int32Array,D.assign(D,y)):(D.Buf8=Array,D.Buf16=Array,D.Buf32=Array,D.assign(D,k))};D.setTyped(g)},{}],301:[function(g,L,D){function y(d,x){if(65534>x&&(d.subarray&&E||!d.subarray&&v))return String.fromCharCode.apply(null,k.shrinkBuf(d,x));for(var a="",m=0;m<x;m++)a+=String.fromCharCode(d[m]);
return a}var k=g("./common"),v=!0,E=!0;try{String.fromCharCode.apply(null,[0])}catch(d){v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(d){E=!1}var b=new k.Buf8(256);for(g=0;256>g;g++)b[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;b[254]=b[254]=1;D.string2buf=function(d){var x,a,m=d.length,q=0;for(x=0;x<m;x++){var r=d.charCodeAt(x);if(55296===(r&64512)&&x+1<m){var h=d.charCodeAt(x+1);56320===(h&64512)&&(r=65536+(r-55296<<10)+(h-56320),x++)}q+=128>r?1:2048>r?2:65536>r?3:4}var c=
new k.Buf8(q);for(x=a=0;a<q;x++)r=d.charCodeAt(x),55296===(r&64512)&&x+1<m&&(h=d.charCodeAt(x+1),56320===(h&64512)&&(r=65536+(r-55296<<10)+(h-56320),x++)),128>r?c[a++]=r:(2048>r?c[a++]=192|r>>>6:(65536>r?c[a++]=224|r>>>12:(c[a++]=240|r>>>18,c[a++]=128|r>>>12&63),c[a++]=128|r>>>6&63),c[a++]=128|r&63);return c};D.buf2binstring=function(d){return y(d,d.length)};D.binstring2buf=function(d){for(var x=new k.Buf8(d.length),a=0,m=x.length;a<m;a++)x[a]=d.charCodeAt(a);return x};D.buf2string=function(d,x){var a,
m=x||d.length,q=Array(2*m);for(x=a=0;x<m;){var r=d[x++];if(128>r)q[a++]=r;else{var h=b[r];if(4<h)q[a++]=65533,x+=h-1;else{for(r&=2===h?31:3===h?15:7;1<h&&x<m;)r=r<<6|d[x++]&63,h--;1<h?q[a++]=65533:65536>r?q[a++]=r:(r-=65536,q[a++]=55296|r>>10&1023,q[a++]=56320|r&1023)}}}return y(q,a)};D.utf8border=function(d,x){var a;x=x||d.length;x>d.length&&(x=d.length);for(a=x-1;0<=a&&128===(d[a]&192);)a--;return 0>a||0===a?x:a+b[d[a]]>x?a:x}},{"./common":300}],302:[function(g,L,D){L.exports=function(y,k,v,E){var b=
y&65535|0;y=y>>>16&65535|0;for(var d;0!==v;){d=2E3<v?2E3:v;v-=d;do b=b+k[E++]|0,y=y+b|0;while(--d);b%=65521;y%=65521}return b|y<<16|0}},{}],303:[function(g,L,D){L.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,
Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],304:[function(g,L,D){var y=function(){for(var k,v=[],E=0;256>E;E++){k=E;for(var b=0;8>b;b++)k=k&1?3988292384^k>>>1:k>>>1;v[E]=k}return v}();L.exports=function(k,v,E,b){E=b+E;for(k^=-1;b<E;b++)k=k>>>8^y[(k^v[b])&255];return k^-1}},{}],305:[function(g,L,D){function y(z,G){z.msg=I[G];return G}function k(z){for(var G=z.length;0<=--G;)z[G]=0}function v(z){var G=z.state,H=G.pending;H>z.avail_out&&(H=z.avail_out);0!==H&&(u.arraySet(z.output,G.pending_buf,
G.pending_out,H,z.next_out),z.next_out+=H,G.pending_out+=H,z.total_out+=H,z.avail_out-=H,G.pending-=H,0===G.pending&&(G.pending_out=0))}function E(z,G){B._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,G);z.block_start=z.strstart;v(z.strm)}function b(z,G){z.pending_buf[z.pending++]=G}function d(z,G){z.pending_buf[z.pending++]=G>>>8&255;z.pending_buf[z.pending++]=G&255}function x(z,G){var H=z.max_chain_length,J=z.strstart,K=z.prev_length,S=z.nice_match,da=z.strstart>z.w_size-
262?z.strstart-(z.w_size-262):0,Y=z.window,ra=z.w_mask,ma=z.prev,Q=z.strstart+258,ia=Y[J+K-1],ba=Y[J+K];z.prev_length>=z.good_match&&(H>>=2);S>z.lookahead&&(S=z.lookahead);do{var ta=G;if(Y[ta+K]===ba&&Y[ta+K-1]===ia&&Y[ta]===Y[J]&&Y[++ta]===Y[J+1]){J+=2;for(ta++;Y[++J]===Y[++ta]&&Y[++J]===Y[++ta]&&Y[++J]===Y[++ta]&&Y[++J]===Y[++ta]&&Y[++J]===Y[++ta]&&Y[++J]===Y[++ta]&&Y[++J]===Y[++ta]&&Y[++J]===Y[++ta]&&J<Q;);ta=258-(Q-J);J=Q-258;if(ta>K){z.match_start=G;K=ta;if(ta>=S)break;ia=Y[J+K-1];ba=Y[J+K]}}}while((G=
ma[G&ra])>da&&0!==--H);return K<=z.lookahead?K:z.lookahead}function a(z){var G=z.w_size,H;do{var J=z.window_size-z.lookahead-z.strstart;if(z.strstart>=G+(G-262)){u.arraySet(z.window,z.window,G,G,0);z.match_start-=G;z.strstart-=G;z.block_start-=G;var K=H=z.hash_size;do{var S=z.head[--K];z.head[K]=S>=G?S-G:0}while(--H);K=H=G;do S=z.prev[--K],z.prev[K]=S>=G?S-G:0;while(--H);J+=G}if(0===z.strm.avail_in)break;K=z.strm;H=z.window;S=z.strstart+z.lookahead;var da=K.avail_in;da>J&&(da=J);0===da?H=0:(K.avail_in-=
da,u.arraySet(H,K.input,K.next_in,da,S),1===K.state.wrap?K.adler=C(K.adler,H,da,S):2===K.state.wrap&&(K.adler=A(K.adler,H,da,S)),K.next_in+=da,K.total_in+=da,H=da);z.lookahead+=H;if(3<=z.lookahead+z.insert)for(J=z.strstart-z.insert,z.ins_h=z.window[J],z.ins_h=(z.ins_h<<z.hash_shift^z.window[J+1])&z.hash_mask;z.insert&&!(z.ins_h=(z.ins_h<<z.hash_shift^z.window[J+3-1])&z.hash_mask,z.prev[J&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=J,J++,z.insert--,3>z.lookahead+z.insert););}while(262>z.lookahead&&0!==
z.strm.avail_in)}function m(z,G){for(var H;;){if(262>z.lookahead){a(z);if(262>z.lookahead&&0===G)return 1;if(0===z.lookahead)break}H=0;3<=z.lookahead&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,H=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart);0!==H&&z.strstart-H<=z.w_size-262&&(z.match_length=x(z,H));if(3<=z.match_length)if(H=B._tr_tally(z,z.strstart-z.match_start,z.match_length-3),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&3<=
z.lookahead){z.match_length--;do z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart;while(0!==--z.match_length);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else H=B._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(H&&(E(z,!1),0===z.strm.avail_out))return 1}z.insert=2>
z.strstart?z.strstart:2;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===z.strm.avail_out)?1:2}function q(z,G){for(var H,J;;){if(262>z.lookahead){a(z);if(262>z.lookahead&&0===G)return 1;if(0===z.lookahead)break}H=0;3<=z.lookahead&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,H=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart);z.prev_length=z.match_length;z.prev_match=z.match_start;z.match_length=2;0!==H&&z.prev_length<z.max_lazy_match&&
z.strstart-H<=z.w_size-262&&(z.match_length=x(z,H),5>=z.match_length&&(1===z.strategy||3===z.match_length&&4096<z.strstart-z.match_start)&&(z.match_length=2));if(3<=z.prev_length&&z.match_length<=z.prev_length){J=z.strstart+z.lookahead-3;H=B._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-3);z.lookahead-=z.prev_length-1;z.prev_length-=2;do++z.strstart<=J&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart);
while(0!==--z.prev_length);z.match_available=0;z.match_length=2;z.strstart++;if(H&&(E(z,!1),0===z.strm.avail_out))return 1}else if(z.match_available){if((H=B._tr_tally(z,0,z.window[z.strstart-1]))&&E(z,!1),z.strstart++,z.lookahead--,0===z.strm.avail_out)return 1}else z.match_available=1,z.strstart++,z.lookahead--}z.match_available&&(B._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0);z.insert=2>z.strstart?z.strstart:2;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===
z.strm.avail_out)?1:2}function r(z,G){for(var H,J,K,S=z.window;;){if(258>=z.lookahead){a(z);if(258>=z.lookahead&&0===G)return 1;if(0===z.lookahead)break}z.match_length=0;if(3<=z.lookahead&&0<z.strstart&&(J=z.strstart-1,H=S[J],H===S[++J]&&H===S[++J]&&H===S[++J])){for(K=z.strstart+258;H===S[++J]&&H===S[++J]&&H===S[++J]&&H===S[++J]&&H===S[++J]&&H===S[++J]&&H===S[++J]&&H===S[++J]&&J<K;);z.match_length=258-(K-J);z.match_length>z.lookahead&&(z.match_length=z.lookahead)}3<=z.match_length?(H=B._tr_tally(z,
1,z.match_length-3),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(H=B._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++);if(H&&(E(z,!1),0===z.strm.avail_out))return 1}z.insert=0;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===z.strm.avail_out)?1:2}function h(z,G){for(var H;;){if(0===z.lookahead&&(a(z),0===z.lookahead)){if(0===G)return 1;break}z.match_length=0;H=B._tr_tally(z,0,z.window[z.strstart]);z.lookahead--;z.strstart++;if(H&&
(E(z,!1),0===z.strm.avail_out))return 1}z.insert=0;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===z.strm.avail_out)?1:2}function c(z,G,H,J,K){this.good_length=z;this.max_lazy=G;this.nice_length=H;this.max_chain=J;this.func=K}function f(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=
0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new u.Buf16(1146);this.dyn_dtree=new u.Buf16(122);this.bl_tree=new u.Buf16(78);k(this.dyn_ltree);k(this.dyn_dtree);k(this.bl_tree);this.bl_desc=this.d_desc=
this.l_desc=null;this.bl_count=new u.Buf16(16);this.heap=new u.Buf16(573);k(this.heap);this.heap_max=this.heap_len=0;this.depth=new u.Buf16(573);k(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function n(z){if(!z||!z.state)return y(z,-2);z.total_in=z.total_out=0;z.data_type=2;var G=z.state;G.pending=0;G.pending_out=0;0>G.wrap&&(G.wrap=-G.wrap);G.status=G.wrap?42:113;z.adler=2===G.wrap?0:1;G.last_flush=
0;B._tr_init(G);return 0}function e(z){var G=n(z);0===G&&(z=z.state,z.window_size=2*z.w_size,k(z.head),z.max_lazy_match=O[z.level].max_lazy,z.good_match=O[z.level].good_length,z.nice_match=O[z.level].nice_length,z.max_chain_length=O[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=2,z.match_available=0,z.ins_h=0);return G}function p(z,G,H,J,K,S){if(!z)return-2;var da=1;-1===G&&(G=6);0>J?(da=0,J=-J):15<J&&(da=2,J-=16);if(1>K||9<K||8!==H||8>J||15<
J||0>G||9<G||0>S||4<S)return y(z,-2);8===J&&(J=9);var Y=new f;z.state=Y;Y.strm=z;Y.wrap=da;Y.gzhead=null;Y.w_bits=J;Y.w_size=1<<Y.w_bits;Y.w_mask=Y.w_size-1;Y.hash_bits=K+7;Y.hash_size=1<<Y.hash_bits;Y.hash_mask=Y.hash_size-1;Y.hash_shift=~~((Y.hash_bits+3-1)/3);Y.window=new u.Buf8(2*Y.w_size);Y.head=new u.Buf16(Y.hash_size);Y.prev=new u.Buf16(Y.w_size);Y.lit_bufsize=1<<K+6;Y.pending_buf_size=4*Y.lit_bufsize;Y.pending_buf=new u.Buf8(Y.pending_buf_size);Y.d_buf=1*Y.lit_bufsize;Y.l_buf=3*Y.lit_bufsize;
Y.level=G;Y.strategy=S;Y.method=H;return e(z)}var u=g("../utils/common"),B=g("./trees"),C=g("./adler32"),A=g("./crc32"),I=g("./messages");var O=[new c(0,0,0,0,function(z,G){var H=65535;for(H>z.pending_buf_size-5&&(H=z.pending_buf_size-5);;){if(1>=z.lookahead){a(z);if(0===z.lookahead&&0===G)return 1;if(0===z.lookahead)break}z.strstart+=z.lookahead;z.lookahead=0;var J=z.block_start+H;if(0===z.strstart||z.strstart>=J)if(z.lookahead=z.strstart-J,z.strstart=J,E(z,!1),0===z.strm.avail_out)return 1;if(z.strstart-
z.block_start>=z.w_size-262&&(E(z,!1),0===z.strm.avail_out))return 1}z.insert=0;if(4===G)return E(z,!0),0===z.strm.avail_out?3:4;z.strstart>z.block_start&&E(z,!1);return 1}),new c(4,4,8,4,m),new c(4,5,16,8,m),new c(4,6,32,32,m),new c(4,4,16,16,q),new c(8,16,32,32,q),new c(8,16,128,128,q),new c(8,32,128,256,q),new c(32,128,258,1024,q),new c(32,258,258,4096,q)];D.deflateInit=function(z,G){return p(z,G,8,15,8,0)};D.deflateInit2=p;D.deflateReset=e;D.deflateResetKeep=n;D.deflateSetHeader=function(z,G){if(!z||
!z.state||2!==z.state.wrap)return-2;z.state.gzhead=G;return 0};D.deflate=function(z,G){if(!z||!z.state||5<G||0>G)return z?y(z,-2):-2;var H=z.state;if(!z.output||!z.input&&0!==z.avail_in||666===H.status&&4!==G)return y(z,0===z.avail_out?-5:-2);H.strm=z;var J=H.last_flush;H.last_flush=G;if(42===H.status)if(2===H.wrap)z.adler=0,b(H,31),b(H,139),b(H,8),H.gzhead?(b(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),b(H,H.gzhead.time&255),b(H,H.gzhead.time>>
8&255),b(H,H.gzhead.time>>16&255),b(H,H.gzhead.time>>24&255),b(H,9===H.level?2:2<=H.strategy||2>H.level?4:0),b(H,H.gzhead.os&255),H.gzhead.extra&&H.gzhead.extra.length&&(b(H,H.gzhead.extra.length&255),b(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(z.adler=A(z.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(b(H,0),b(H,0),b(H,0),b(H,0),b(H,0),b(H,9===H.level?2:2<=H.strategy||2>H.level?4:0),b(H,3),H.status=113);else{var K=8+(H.w_bits-8<<4)<<8;K|=(2<=H.strategy||2>H.level?0:6>H.level?
1:6===H.level?2:3)<<6;0!==H.strstart&&(K|=32);H.status=113;d(H,K+(31-K%31));0!==H.strstart&&(d(H,z.adler>>>16),d(H,z.adler&65535));z.adler=1}if(69===H.status)if(H.gzhead.extra){for(K=H.pending;H.gzindex<(H.gzhead.extra.length&65535)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>K&&(z.adler=A(z.adler,H.pending_buf,H.pending-K,K)),v(z),K=H.pending,H.pending!==H.pending_buf_size));)b(H,H.gzhead.extra[H.gzindex]&255),H.gzindex++;H.gzhead.hcrc&&H.pending>K&&(z.adler=A(z.adler,H.pending_buf,
H.pending-K,K));H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(73===H.status)if(H.gzhead.name){K=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>K&&(z.adler=A(z.adler,H.pending_buf,H.pending-K,K)),v(z),K=H.pending,H.pending===H.pending_buf_size)){var S=1;break}S=H.gzindex<H.gzhead.name.length?H.gzhead.name.charCodeAt(H.gzindex++)&255:0;b(H,S)}while(0!==S);H.gzhead.hcrc&&H.pending>K&&(z.adler=A(z.adler,H.pending_buf,H.pending-K,K));0===S&&
(H.gzindex=0,H.status=91)}else H.status=91;if(91===H.status)if(H.gzhead.comment){K=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>K&&(z.adler=A(z.adler,H.pending_buf,H.pending-K,K)),v(z),K=H.pending,H.pending===H.pending_buf_size)){S=1;break}S=H.gzindex<H.gzhead.comment.length?H.gzhead.comment.charCodeAt(H.gzindex++)&255:0;b(H,S)}while(0!==S);H.gzhead.hcrc&&H.pending>K&&(z.adler=A(z.adler,H.pending_buf,H.pending-K,K));0===S&&(H.status=103)}else H.status=103;103===H.status&&
(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&v(z),H.pending+2<=H.pending_buf_size&&(b(H,z.adler&255),b(H,z.adler>>8&255),z.adler=0,H.status=113)):H.status=113);if(0!==H.pending){if(v(z),0===z.avail_out)return H.last_flush=-1,0}else if(0===z.avail_in&&(G<<1)-(4<G?9:0)<=(J<<1)-(4<J?9:0)&&4!==G)return y(z,-5);if(666===H.status&&0!==z.avail_in)return y(z,-5);if(0!==z.avail_in||0!==H.lookahead||0!==G&&666!==H.status){J=2===H.strategy?h(H,G):3===H.strategy?r(H,G):O[H.level].func(H,G);if(3===J||4===J)H.status=
666;if(1===J||3===J)return 0===z.avail_out&&(H.last_flush=-1),0;if(2===J&&(1===G?B._tr_align(H):5!==G&&(B._tr_stored_block(H,0,0,!1),3===G&&(k(H.head),0===H.lookahead&&(H.strstart=0,H.block_start=0,H.insert=0))),v(z),0===z.avail_out))return H.last_flush=-1,0}if(4!==G)return 0;if(0>=H.wrap)return 1;2===H.wrap?(b(H,z.adler&255),b(H,z.adler>>8&255),b(H,z.adler>>16&255),b(H,z.adler>>24&255),b(H,z.total_in&255),b(H,z.total_in>>8&255),b(H,z.total_in>>16&255),b(H,z.total_in>>24&255)):(d(H,z.adler>>>16),
d(H,z.adler&65535));v(z);0<H.wrap&&(H.wrap=-H.wrap);return 0!==H.pending?0:1};D.deflateEnd=function(z){if(!z||!z.state)return-2;var G=z.state.status;if(42!==G&&69!==G&&73!==G&&91!==G&&103!==G&&113!==G&&666!==G)return y(z,-2);z.state=null;return 113===G?y(z,-3):0};D.deflateSetDictionary=function(z,G){var H=G.length;if(!z||!z.state)return-2;var J=z.state;var K=J.wrap;if(2===K||1===K&&42!==J.status||J.lookahead)return-2;1===K&&(z.adler=C(z.adler,G,H,0));J.wrap=0;if(H>=J.w_size){0===K&&(k(J.head),J.strstart=
0,J.block_start=0,J.insert=0);var S=new u.Buf8(J.w_size);u.arraySet(S,G,H-J.w_size,J.w_size,0);G=S;H=J.w_size}S=z.avail_in;var da=z.next_in;var Y=z.input;z.avail_in=H;z.next_in=0;z.input=G;for(a(J);3<=J.lookahead;){G=J.strstart;H=J.lookahead-2;do J.ins_h=(J.ins_h<<J.hash_shift^J.window[G+3-1])&J.hash_mask,J.prev[G&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=G,G++;while(--H);J.strstart=G;J.lookahead=2;a(J)}J.strstart+=J.lookahead;J.block_start=J.strstart;J.insert=J.lookahead;J.lookahead=0;J.match_length=
J.prev_length=2;J.match_available=0;z.next_in=da;z.input=Y;z.avail_in=S;J.wrap=K;return 0};D.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":300,"./adler32":302,"./crc32":304,"./messages":310,"./trees":311}],306:[function(g,L,D){L.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],307:[function(g,L,D){L.exports=function(y,k){var v=y.state;var E=y.next_in;var b=y.input;var d=E+(y.avail_in-
5);var x=y.next_out;var a=y.output;k=x-(k-y.avail_out);var m=x+(y.avail_out-257);var q=v.dmax;var r=v.wsize;var h=v.whave;var c=v.wnext;var f=v.window;var n=v.hold;var e=v.bits;var p=v.lencode;var u=v.distcode;var B=(1<<v.lenbits)-1;var C=(1<<v.distbits)-1;a:do{15>e&&(n+=b[E++]<<e,e+=8,n+=b[E++]<<e,e+=8);var A=p[n&B];b:for(;;){var I=A>>>24;n>>>=I;e-=I;I=A>>>16&255;if(0===I)a[x++]=A&65535;else if(I&16){var O=A&65535;if(I&=15)e<I&&(n+=b[E++]<<e,e+=8),O+=n&(1<<I)-1,n>>>=I,e-=I;15>e&&(n+=b[E++]<<e,e+=
8,n+=b[E++]<<e,e+=8);A=u[n&C];c:for(;;){I=A>>>24;n>>>=I;e-=I;I=A>>>16&255;if(I&16){A&=65535;I&=15;e<I&&(n+=b[E++]<<e,e+=8,e<I&&(n+=b[E++]<<e,e+=8));A+=n&(1<<I)-1;if(A>q){y.msg="invalid distance too far back";v.mode=30;break a}n>>>=I;e-=I;I=x-k;if(A>I){I=A-I;if(I>h&&v.sane){y.msg="invalid distance too far back";v.mode=30;break a}var z=0;var G=f;if(0===c){if(z+=r-I,I<O){O-=I;do a[x++]=f[z++];while(--I);z=x-A;G=a}}else if(c<I){if(z+=r+c-I,I-=c,I<O){O-=I;do a[x++]=f[z++];while(--I);z=0;if(c<O){I=c;O-=
I;do a[x++]=f[z++];while(--I);z=x-A;G=a}}}else if(z+=c-I,I<O){O-=I;do a[x++]=f[z++];while(--I);z=x-A;G=a}for(;2<O;)a[x++]=G[z++],a[x++]=G[z++],a[x++]=G[z++],O-=3;O&&(a[x++]=G[z++],1<O&&(a[x++]=G[z++]))}else{z=x-A;do a[x++]=a[z++],a[x++]=a[z++],a[x++]=a[z++],O-=3;while(2<O);O&&(a[x++]=a[z++],1<O&&(a[x++]=a[z++]))}}else if(0===(I&64)){A=u[(A&65535)+(n&(1<<I)-1)];continue c}else{y.msg="invalid distance code";v.mode=30;break a}break}}else if(0===(I&64)){A=p[(A&65535)+(n&(1<<I)-1)];continue b}else{I&32?
v.mode=12:(y.msg="invalid literal/length code",v.mode=30);break a}break}}while(E<d&&x<m);O=e>>3;E-=O;e-=O<<3;y.next_in=E;y.next_out=x;y.avail_in=E<d?5+(d-E):5-(E-d);y.avail_out=x<m?257+(m-x):257-(x-m);v.hold=n&(1<<e)-1;v.bits=e}},{}],308:[function(g,L,D){function y(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function k(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=
0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new a.Buf16(320);this.work=new a.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function v(e){if(!e||!e.state)return-2;var p=e.state;e.total_in=e.total_out=p.total=0;e.msg="";p.wrap&&(e.adler=p.wrap&1);p.mode=1;p.last=0;p.havedict=0;p.dmax=32768;p.head=null;p.hold=0;p.bits=
0;p.lencode=p.lendyn=new a.Buf32(852);p.distcode=p.distdyn=new a.Buf32(592);p.sane=1;p.back=-1;return 0}function E(e){if(!e||!e.state)return-2;var p=e.state;p.wsize=0;p.whave=0;p.wnext=0;return v(e)}function b(e,p){if(!e||!e.state)return-2;var u=e.state;if(0>p){var B=0;p=-p}else B=(p>>4)+1,48>p&&(p&=15);if(p&&(8>p||15<p))return-2;null!==u.window&&u.wbits!==p&&(u.window=null);u.wrap=B;u.wbits=p;return E(e)}function d(e,p){if(!e)return-2;var u=new k;e.state=u;u.window=null;p=b(e,p);0!==p&&(e.state=
null);return p}function x(e,p,u,B){var C=e.state;null===C.window&&(C.wsize=1<<C.wbits,C.wnext=0,C.whave=0,C.window=new a.Buf8(C.wsize));B>=C.wsize?(a.arraySet(C.window,p,u-C.wsize,C.wsize,0),C.wnext=0,C.whave=C.wsize):(e=C.wsize-C.wnext,e>B&&(e=B),a.arraySet(C.window,p,u-B,e,C.wnext),(B-=e)?(a.arraySet(C.window,p,u-B,B,0),C.wnext=B,C.whave=C.wsize):(C.wnext+=e,C.wnext===C.wsize&&(C.wnext=0),C.whave<C.wsize&&(C.whave+=e)));return 0}var a=g("../utils/common"),m=g("./adler32"),q=g("./crc32"),r=g("./inffast"),
h=g("./inftrees"),c=!0,f,n;D.inflateReset=E;D.inflateReset2=b;D.inflateResetKeep=v;D.inflateInit=function(e){return d(e,15)};D.inflateInit2=d;D.inflate=function(e,p){var u,B=new a.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;var A=e.state;12===A.mode&&(A.mode=13);var I=e.next_out;var O=e.output;var z=e.avail_out;var G=e.next_in;var H=e.input;var J=e.avail_in;var K=A.hold;var S=A.bits;var da=J;var Y=z;var ra=0;a:for(;;)switch(A.mode){case 1:if(0===
A.wrap){A.mode=13;break}for(;16>S;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}if(A.wrap&2&&35615===K){A.check=0;B[0]=K&255;B[1]=K>>>8&255;A.check=q(A.check,B,2,0);S=K=0;A.mode=2;break}A.flags=0;A.head&&(A.head.done=!1);if(!(A.wrap&1)||(((K&255)<<8)+(K>>8))%31){e.msg="incorrect header check";A.mode=30;break}if(8!==(K&15)){e.msg="unknown compression method";A.mode=30;break}K>>>=4;S-=4;var ma=(K&15)+8;if(0===A.wbits)A.wbits=ma;else if(ma>A.wbits){e.msg="invalid window size";A.mode=30;break}A.dmax=1<<ma;
e.adler=A.check=1;A.mode=K&512?10:12;S=K=0;break;case 2:for(;16>S;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}A.flags=K;if(8!==(A.flags&255)){e.msg="unknown compression method";A.mode=30;break}if(A.flags&57344){e.msg="unknown header flags set";A.mode=30;break}A.head&&(A.head.text=K>>8&1);A.flags&512&&(B[0]=K&255,B[1]=K>>>8&255,A.check=q(A.check,B,2,0));S=K=0;A.mode=3;case 3:for(;32>S;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}A.head&&(A.head.time=K);A.flags&512&&(B[0]=K&255,B[1]=K>>>8&255,B[2]=K>>>16&
255,B[3]=K>>>24&255,A.check=q(A.check,B,4,0));S=K=0;A.mode=4;case 4:for(;16>S;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}A.head&&(A.head.xflags=K&255,A.head.os=K>>8);A.flags&512&&(B[0]=K&255,B[1]=K>>>8&255,A.check=q(A.check,B,2,0));S=K=0;A.mode=5;case 5:if(A.flags&1024){for(;16>S;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}A.length=K;A.head&&(A.head.extra_len=K);A.flags&512&&(B[0]=K&255,B[1]=K>>>8&255,A.check=q(A.check,B,2,0));S=K=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(A.flags&1024){var Q=
A.length;Q>J&&(Q=J);Q&&(A.head&&(ma=A.head.extra_len-A.length,A.head.extra||(A.head.extra=Array(A.head.extra_len)),a.arraySet(A.head.extra,H,G,Q,ma)),A.flags&512&&(A.check=q(A.check,H,Q,G)),J-=Q,G+=Q,A.length-=Q);if(A.length)break a}A.length=0;A.mode=7;case 7:if(A.flags&2048){if(0===J)break a;Q=0;do ma=H[G+Q++],A.head&&ma&&65536>A.length&&(A.head.name+=String.fromCharCode(ma));while(ma&&Q<J);A.flags&512&&(A.check=q(A.check,H,Q,G));J-=Q;G+=Q;if(ma)break a}else A.head&&(A.head.name=null);A.length=0;
A.mode=8;case 8:if(A.flags&4096){if(0===J)break a;Q=0;do ma=H[G+Q++],A.head&&ma&&65536>A.length&&(A.head.comment+=String.fromCharCode(ma));while(ma&&Q<J);A.flags&512&&(A.check=q(A.check,H,Q,G));J-=Q;G+=Q;if(ma)break a}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(A.flags&512){for(;16>S;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}if(K!==(A.check&65535)){e.msg="header crc mismatch";A.mode=30;break}S=K=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0);e.adler=A.check=0;A.mode=12;break;case 10:for(;32>
S;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}e.adler=A.check=y(K);S=K=0;A.mode=11;case 11:if(0===A.havedict)return e.next_out=I,e.avail_out=z,e.next_in=G,e.avail_in=J,A.hold=K,A.bits=S,2;e.adler=A.check=1;A.mode=12;case 12:if(5===p||6===p)break a;case 13:if(A.last){K>>>=S&7;S-=S&7;A.mode=27;break}for(;3>S;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}A.last=K&1;K>>>=1;--S;switch(K&3){case 0:A.mode=14;break;case 1:ma=A;if(c){f=new a.Buf32(512);n=new a.Buf32(32);for(Q=0;144>Q;)ma.lens[Q++]=8;for(;256>Q;)ma.lens[Q++]=
9;for(;280>Q;)ma.lens[Q++]=7;for(;288>Q;)ma.lens[Q++]=8;h(1,ma.lens,0,288,f,0,ma.work,{bits:9});for(Q=0;32>Q;)ma.lens[Q++]=5;h(2,ma.lens,0,32,n,0,ma.work,{bits:5});c=!1}ma.lencode=f;ma.lenbits=9;ma.distcode=n;ma.distbits=5;A.mode=20;if(6===p){K>>>=2;S-=2;break a}break;case 2:A.mode=17;break;case 3:e.msg="invalid block type",A.mode=30}K>>>=2;S-=2;break;case 14:K>>>=S&7;for(S-=S&7;32>S;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}if((K&65535)!==(K>>>16^65535)){e.msg="invalid stored block lengths";A.mode=
30;break}A.length=K&65535;S=K=0;A.mode=15;if(6===p)break a;case 15:A.mode=16;case 16:if(Q=A.length){Q>J&&(Q=J);Q>z&&(Q=z);if(0===Q)break a;a.arraySet(O,H,G,Q,I);J-=Q;G+=Q;z-=Q;I+=Q;A.length-=Q;break}A.mode=12;break;case 17:for(;14>S;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}A.nlen=(K&31)+257;K>>>=5;S-=5;A.ndist=(K&31)+1;K>>>=5;S-=5;A.ncode=(K&15)+4;K>>>=4;S-=4;if(286<A.nlen||30<A.ndist){e.msg="too many length or distance symbols";A.mode=30;break}A.have=0;A.mode=18;case 18:for(;A.have<A.ncode;){for(;3>
S;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}A.lens[C[A.have++]]=K&7;K>>>=3;S-=3}for(;19>A.have;)A.lens[C[A.have++]]=0;A.lencode=A.lendyn;A.lenbits=7;Q={bits:A.lenbits};ra=h(0,A.lens,0,19,A.lencode,0,A.work,Q);A.lenbits=Q.bits;if(ra){e.msg="invalid code lengths set";A.mode=30;break}A.have=0;A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;;){var ia=A.lencode[K&(1<<A.lenbits)-1];Q=ia>>>24;ia&=65535;if(Q<=S)break;if(0===J)break a;J--;K+=H[G++]<<S;S+=8}if(16>ia)K>>>=Q,S-=Q,A.lens[A.have++]=ia;else{if(16===
ia){for(ma=Q+2;S<ma;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}K>>>=Q;S-=Q;if(0===A.have){e.msg="invalid bit length repeat";A.mode=30;break}ma=A.lens[A.have-1];Q=3+(K&3);K>>>=2;S-=2}else if(17===ia){for(ma=Q+3;S<ma;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}K>>>=Q;S-=Q;ma=0;Q=3+(K&7);K>>>=3;S-=3}else{for(ma=Q+7;S<ma;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}K>>>=Q;S-=Q;ma=0;Q=11+(K&127);K>>>=7;S-=7}if(A.have+Q>A.nlen+A.ndist){e.msg="invalid bit length repeat";A.mode=30;break}for(;Q--;)A.lens[A.have++]=
ma}}if(30===A.mode)break;if(0===A.lens[256]){e.msg="invalid code -- missing end-of-block";A.mode=30;break}A.lenbits=9;Q={bits:A.lenbits};ra=h(1,A.lens,0,A.nlen,A.lencode,0,A.work,Q);A.lenbits=Q.bits;if(ra){e.msg="invalid literal/lengths set";A.mode=30;break}A.distbits=6;A.distcode=A.distdyn;Q={bits:A.distbits};ra=h(2,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,Q);A.distbits=Q.bits;if(ra){e.msg="invalid distances set";A.mode=30;break}A.mode=20;if(6===p)break a;case 20:A.mode=21;case 21:if(6<=J&&258<=
z){e.next_out=I;e.avail_out=z;e.next_in=G;e.avail_in=J;A.hold=K;A.bits=S;r(e,Y);I=e.next_out;O=e.output;z=e.avail_out;G=e.next_in;H=e.input;J=e.avail_in;K=A.hold;S=A.bits;12===A.mode&&(A.back=-1);break}for(A.back=0;;){ia=A.lencode[K&(1<<A.lenbits)-1];Q=ia>>>24;ma=ia>>>16&255;ia&=65535;if(Q<=S)break;if(0===J)break a;J--;K+=H[G++]<<S;S+=8}if(ma&&0===(ma&240)){var ba=Q;var ta=ma;for(u=ia;;){ia=A.lencode[u+((K&(1<<ba+ta)-1)>>ba)];Q=ia>>>24;ma=ia>>>16&255;ia&=65535;if(ba+Q<=S)break;if(0===J)break a;J--;
K+=H[G++]<<S;S+=8}K>>>=ba;S-=ba;A.back+=ba}K>>>=Q;S-=Q;A.back+=Q;A.length=ia;if(0===ma){A.mode=26;break}if(ma&32){A.back=-1;A.mode=12;break}if(ma&64){e.msg="invalid literal/length code";A.mode=30;break}A.extra=ma&15;A.mode=22;case 22:if(A.extra){for(ma=A.extra;S<ma;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}A.length+=K&(1<<A.extra)-1;K>>>=A.extra;S-=A.extra;A.back+=A.extra}A.was=A.length;A.mode=23;case 23:for(;;){ia=A.distcode[K&(1<<A.distbits)-1];Q=ia>>>24;ma=ia>>>16&255;ia&=65535;if(Q<=S)break;if(0===
J)break a;J--;K+=H[G++]<<S;S+=8}if(0===(ma&240)){ba=Q;ta=ma;for(u=ia;;){ia=A.distcode[u+((K&(1<<ba+ta)-1)>>ba)];Q=ia>>>24;ma=ia>>>16&255;ia&=65535;if(ba+Q<=S)break;if(0===J)break a;J--;K+=H[G++]<<S;S+=8}K>>>=ba;S-=ba;A.back+=ba}K>>>=Q;S-=Q;A.back+=Q;if(ma&64){e.msg="invalid distance code";A.mode=30;break}A.offset=ia;A.extra=ma&15;A.mode=24;case 24:if(A.extra){for(ma=A.extra;S<ma;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}A.offset+=K&(1<<A.extra)-1;K>>>=A.extra;S-=A.extra;A.back+=A.extra}if(A.offset>
A.dmax){e.msg="invalid distance too far back";A.mode=30;break}A.mode=25;case 25:if(0===z)break a;Q=Y-z;if(A.offset>Q){Q=A.offset-Q;if(Q>A.whave&&A.sane){e.msg="invalid distance too far back";A.mode=30;break}Q>A.wnext?(Q-=A.wnext,ma=A.wsize-Q):ma=A.wnext-Q;Q>A.length&&(Q=A.length);ba=A.window}else ba=O,ma=I-A.offset,Q=A.length;Q>z&&(Q=z);z-=Q;A.length-=Q;do O[I++]=ba[ma++];while(--Q);0===A.length&&(A.mode=21);break;case 26:if(0===z)break a;O[I++]=A.length;z--;A.mode=21;break;case 27:if(A.wrap){for(;32>
S;){if(0===J)break a;J--;K|=H[G++]<<S;S+=8}Y-=z;e.total_out+=Y;A.total+=Y;Y&&(e.adler=A.check=A.flags?q(A.check,O,Y,I-Y):m(A.check,O,Y,I-Y));Y=z;if((A.flags?K:y(K))!==A.check){e.msg="incorrect data check";A.mode=30;break}S=K=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;32>S;){if(0===J)break a;J--;K+=H[G++]<<S;S+=8}if(K!==(A.total&4294967295)){e.msg="incorrect length check";A.mode=30;break}S=K=0}A.mode=29;case 29:ra=1;break a;case 30:ra=-3;break a;case 31:return-4;default:return-2}e.next_out=I;e.avail_out=
z;e.next_in=G;e.avail_in=J;A.hold=K;A.bits=S;if((A.wsize||Y!==e.avail_out&&30>A.mode&&(27>A.mode||4!==p))&&x(e,e.output,e.next_out,Y-e.avail_out))return A.mode=31,-4;da-=e.avail_in;Y-=e.avail_out;e.total_in+=da;e.total_out+=Y;A.total+=Y;A.wrap&&Y&&(e.adler=A.check=A.flags?q(A.check,O,Y,e.next_out-Y):m(A.check,O,Y,e.next_out-Y));e.data_type=A.bits+(A.last?64:0)+(12===A.mode?128:0)+(20===A.mode||15===A.mode?256:0);(0===da&&0===Y||4===p)&&0===ra&&(ra=-5);return ra};D.inflateEnd=function(e){if(!e||!e.state)return-2;
var p=e.state;p.window&&(p.window=null);e.state=null;return 0};D.inflateGetHeader=function(e,p){if(!e||!e.state)return-2;e=e.state;if(0===(e.wrap&2))return-2;e.head=p;p.done=!1;return 0};D.inflateSetDictionary=function(e,p){var u=p.length;if(!e||!e.state)return-2;var B=e.state;if(0!==B.wrap&&11!==B.mode)return-2;if(11===B.mode){var C=m(1,p,u,0);if(C!==B.check)return-3}if(x(e,p,u,u))return B.mode=31,-4;B.havedict=1;return 0};D.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":300,
"./adler32":302,"./crc32":304,"./inffast":307,"./inftrees":309}],309:[function(g,L,D){var y=g("../utils/common"),k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,
27,28,28,29,29,64,64];L.exports=function(d,x,a,m,q,r,h,c){var f=c.bits,n,e,p,u,B,C,A=0,I=new y.Buf16(16);var O=new y.Buf16(16);var z,G=0;for(n=0;15>=n;n++)I[n]=0;for(e=0;e<m;e++)I[x[a+e]]++;var H=f;for(p=15;1<=p&&0===I[p];p--);H>p&&(H=p);if(0===p)return q[r++]=20971520,q[r++]=20971520,c.bits=1,0;for(f=1;f<p&&0===I[f];f++);H<f&&(H=f);for(n=u=1;15>=n;n++)if(u<<=1,u-=I[n],0>u)return-1;if(0<u&&(0===d||1!==p))return-1;O[1]=0;for(n=1;15>n;n++)O[n+1]=O[n]+I[n];for(e=0;e<m;e++)0!==x[a+e]&&(h[O[x[a+e]]++]=
e);if(0===d){var J=z=h;var K=19}else 1===d?(J=k,A-=257,z=v,G-=257,K=256):(J=E,z=b,K=-1);e=B=0;n=f;var S=r;m=H;O=0;var da=-1;var Y=1<<H;var ra=Y-1;if(1===d&&852<Y||2===d&&592<Y)return 1;for(;;){var ma=n-O;if(h[e]<K){var Q=0;var ia=h[e]}else h[e]>K?(Q=z[G+h[e]],ia=J[A+h[e]]):(Q=96,ia=0);u=1<<n-O;f=C=1<<m;do C-=u,q[S+(B>>O)+C]=ma<<24|Q<<16|ia|0;while(0!==C);for(u=1<<n-1;B&u;)u>>=1;0!==u?(B&=u-1,B+=u):B=0;e++;if(0===--I[n]){if(n===p)break;n=x[a+h[e]]}if(n>H&&(B&ra)!==da){0===O&&(O=H);S+=f;m=n-O;for(u=
1<<m;m+O<p;){u-=I[m+O];if(0>=u)break;m++;u<<=1}Y+=1<<m;if(1===d&&852<Y||2===d&&592<Y)return 1;da=B&ra;q[da]=H<<24|m<<16|S-r|0}}0!==B&&(q[S+B]=n-O<<24|4194304);c.bits=H;return 0}},{"../utils/common":300}],310:[function(g,L,D){L.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],311:[function(g,L,D){function y(Q){for(var ia=Q.length;0<=--ia;)Q[ia]=0}function k(Q,ia,
ba,ta,pa){this.static_tree=Q;this.extra_bits=ia;this.extra_base=ba;this.elems=ta;this.max_length=pa;this.has_stree=Q&&Q.length}function v(Q,ia){this.dyn_tree=Q;this.max_code=0;this.stat_desc=ia}function E(Q,ia){Q.pending_buf[Q.pending++]=ia&255;Q.pending_buf[Q.pending++]=ia>>>8&255}function b(Q,ia,ba){Q.bi_valid>16-ba?(Q.bi_buf|=ia<<Q.bi_valid&65535,E(Q,Q.bi_buf),Q.bi_buf=ia>>16-Q.bi_valid,Q.bi_valid+=ba-16):(Q.bi_buf|=ia<<Q.bi_valid&65535,Q.bi_valid+=ba)}function d(Q,ia,ba){b(Q,ba[2*ia],ba[2*ia+
1])}function x(Q,ia){var ba=0;do ba|=Q&1,Q>>>=1,ba<<=1;while(0<--ia);return ba>>>1}function a(Q,ia,ba){var ta=Array(16),pa=0,ya;for(ya=1;15>=ya;ya++)ta[ya]=pa=pa+ba[ya-1]<<1;for(ba=0;ba<=ia;ba++)pa=Q[2*ba+1],0!==pa&&(Q[2*ba]=x(ta[pa]++,pa))}function m(Q){var ia;for(ia=0;286>ia;ia++)Q.dyn_ltree[2*ia]=0;for(ia=0;30>ia;ia++)Q.dyn_dtree[2*ia]=0;for(ia=0;19>ia;ia++)Q.bl_tree[2*ia]=0;Q.dyn_ltree[512]=1;Q.opt_len=Q.static_len=0;Q.last_lit=Q.matches=0}function q(Q){8<Q.bi_valid?E(Q,Q.bi_buf):0<Q.bi_valid&&
(Q.pending_buf[Q.pending++]=Q.bi_buf);Q.bi_buf=0;Q.bi_valid=0}function r(Q,ia,ba,ta){var pa=2*ia,ya=2*ba;return Q[pa]<Q[ya]||Q[pa]===Q[ya]&&ta[ia]<=ta[ba]}function h(Q,ia,ba){for(var ta=Q.heap[ba],pa=ba<<1;pa<=Q.heap_len;){pa<Q.heap_len&&r(ia,Q.heap[pa+1],Q.heap[pa],Q.depth)&&pa++;if(r(ia,ta,Q.heap[pa],Q.depth))break;Q.heap[ba]=Q.heap[pa];ba=pa;pa<<=1}Q.heap[ba]=ta}function c(Q,ia,ba){var ta=0;if(0!==Q.last_lit){do{var pa=Q.pending_buf[Q.d_buf+2*ta]<<8|Q.pending_buf[Q.d_buf+2*ta+1];var ya=Q.pending_buf[Q.l_buf+
ta];ta++;if(0===pa)d(Q,ya,ia);else{var ka=J[ya];d(Q,ka+256+1,ia);var Oa=C[ka];0!==Oa&&(ya-=K[ka],b(Q,ya,Oa));pa--;ka=256>pa?H[pa]:H[256+(pa>>>7)];d(Q,ka,ba);Oa=A[ka];0!==Oa&&(pa-=S[ka],b(Q,pa,Oa))}}while(ta<Q.last_lit)}d(Q,256,ia)}function f(Q,ia){var ba=ia.dyn_tree,ta=ia.stat_desc.static_tree,pa=ia.stat_desc.has_stree,ya=ia.stat_desc.elems,ka,Oa=-1;Q.heap_len=0;Q.heap_max=573;for(ka=0;ka<ya;ka++)0!==ba[2*ka]?(Q.heap[++Q.heap_len]=Oa=ka,Q.depth[ka]=0):ba[2*ka+1]=0;for(;2>Q.heap_len;){var ab=Q.heap[++Q.heap_len]=
2>Oa?++Oa:0;ba[2*ab]=1;Q.depth[ab]=0;Q.opt_len--;pa&&(Q.static_len-=ta[2*ab+1])}ia.max_code=Oa;for(ka=Q.heap_len>>1;1<=ka;ka--)h(Q,ba,ka);ab=ya;do ka=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],h(Q,ba,1),ta=Q.heap[1],Q.heap[--Q.heap_max]=ka,Q.heap[--Q.heap_max]=ta,ba[2*ab]=ba[2*ka]+ba[2*ta],Q.depth[ab]=(Q.depth[ka]>=Q.depth[ta]?Q.depth[ka]:Q.depth[ta])+1,ba[2*ka+1]=ba[2*ta+1]=ab,Q.heap[1]=ab++,h(Q,ba,1);while(2<=Q.heap_len);Q.heap[--Q.heap_max]=Q.heap[1];ka=ia.dyn_tree;ab=ia.max_code;ta=ia.stat_desc.static_tree;
pa=ia.stat_desc.has_stree;ya=ia.stat_desc.extra_bits;var ib=ia.stat_desc.extra_base,T=ia.stat_desc.max_length,Z,qa=0;for(Z=0;15>=Z;Z++)Q.bl_count[Z]=0;ka[2*Q.heap[Q.heap_max]+1]=0;for(ia=Q.heap_max+1;573>ia;ia++){var za=Q.heap[ia];Z=ka[2*ka[2*za+1]+1]+1;Z>T&&(Z=T,qa++);ka[2*za+1]=Z;if(!(za>ab)){Q.bl_count[Z]++;var Xa=0;za>=ib&&(Xa=ya[za-ib]);var yb=ka[2*za];Q.opt_len+=yb*(Z+Xa);pa&&(Q.static_len+=yb*(ta[2*za+1]+Xa))}}if(0!==qa){do{for(Z=T-1;0===Q.bl_count[Z];)Z--;Q.bl_count[Z]--;Q.bl_count[Z+1]+=
2;Q.bl_count[T]--;qa-=2}while(0<qa);for(Z=T;0!==Z;Z--)for(za=Q.bl_count[Z];0!==za;)ta=Q.heap[--ia],ta>ab||(ka[2*ta+1]!==Z&&(Q.opt_len+=(Z-ka[2*ta+1])*ka[2*ta],ka[2*ta+1]=Z),za--)}a(ba,Oa,Q.bl_count)}function n(Q,ia,ba){var ta,pa=-1,ya=ia[1],ka=0,Oa=7,ab=4;0===ya&&(Oa=138,ab=3);ia[2*(ba+1)+1]=65535;for(ta=0;ta<=ba;ta++){var ib=ya;ya=ia[2*(ta+1)+1];++ka<Oa&&ib===ya||(ka<ab?Q.bl_tree[2*ib]+=ka:0!==ib?(ib!==pa&&Q.bl_tree[2*ib]++,Q.bl_tree[32]++):10>=ka?Q.bl_tree[34]++:Q.bl_tree[36]++,ka=0,pa=ib,0===ya?
(Oa=138,ab=3):ib===ya?(Oa=6,ab=3):(Oa=7,ab=4))}}function e(Q,ia,ba){var ta,pa=-1,ya=ia[1],ka=0,Oa=7,ab=4;0===ya&&(Oa=138,ab=3);for(ta=0;ta<=ba;ta++){var ib=ya;ya=ia[2*(ta+1)+1];if(!(++ka<Oa&&ib===ya)){if(ka<ab){do d(Q,ib,Q.bl_tree);while(0!==--ka)}else 0!==ib?(ib!==pa&&(d(Q,ib,Q.bl_tree),ka--),d(Q,16,Q.bl_tree),b(Q,ka-3,2)):10>=ka?(d(Q,17,Q.bl_tree),b(Q,ka-3,3)):(d(Q,18,Q.bl_tree),b(Q,ka-11,7));ka=0;pa=ib;0===ya?(Oa=138,ab=3):ib===ya?(Oa=6,ab=3):(Oa=7,ab=4)}}}function p(Q){var ia=4093624447,ba;for(ba=
0;31>=ba;ba++,ia>>>=1)if(ia&1&&0!==Q.dyn_ltree[2*ba])return 0;if(0!==Q.dyn_ltree[18]||0!==Q.dyn_ltree[20]||0!==Q.dyn_ltree[26])return 1;for(ba=32;256>ba;ba++)if(0!==Q.dyn_ltree[2*ba])return 1;return 0}function u(Q,ia,ba,ta){b(Q,ta?1:0,3);q(Q);E(Q,ba);E(Q,~ba);B.arraySet(Q.pending_buf,Q.window,ia,ba,Q.pending);Q.pending+=ba}var B=g("../utils/common"),C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=Array(576);y(z);var G=Array(60);y(G);var H=Array(512);y(H);var J=Array(256);y(J);var K=Array(29);y(K);var S=Array(30);y(S);var da,Y,ra,ma=!1;D._tr_init=function(Q){if(!ma){var ia,ba,ta,pa=Array(16);for(ta=ba=0;28>ta;ta++)for(K[ta]=ba,ia=0;ia<1<<C[ta];ia++)J[ba++]=ta;J[ba-1]=ta;for(ta=ba=0;16>ta;ta++)for(S[ta]=ba,ia=0;ia<1<<A[ta];ia++)H[ba++]=ta;for(ba>>=7;30>ta;ta++)for(S[ta]=ba<<7,ia=0;ia<1<<A[ta]-7;ia++)H[256+ba++]=
ta;for(ia=0;15>=ia;ia++)pa[ia]=0;for(ia=0;143>=ia;)z[2*ia+1]=8,ia++,pa[8]++;for(;255>=ia;)z[2*ia+1]=9,ia++,pa[9]++;for(;279>=ia;)z[2*ia+1]=7,ia++,pa[7]++;for(;287>=ia;)z[2*ia+1]=8,ia++,pa[8]++;a(z,287,pa);for(ia=0;30>ia;ia++)G[2*ia+1]=5,G[2*ia]=x(ia,5);da=new k(z,C,257,286,15);Y=new k(G,A,0,30,15);ra=new k([],I,0,19,7);ma=!0}Q.l_desc=new v(Q.dyn_ltree,da);Q.d_desc=new v(Q.dyn_dtree,Y);Q.bl_desc=new v(Q.bl_tree,ra);Q.bi_buf=0;Q.bi_valid=0;m(Q)};D._tr_stored_block=u;D._tr_flush_block=function(Q,ia,
ba,ta){var pa=0;if(0<Q.level){2===Q.strm.data_type&&(Q.strm.data_type=p(Q));f(Q,Q.l_desc);f(Q,Q.d_desc);n(Q,Q.dyn_ltree,Q.l_desc.max_code);n(Q,Q.dyn_dtree,Q.d_desc.max_code);f(Q,Q.bl_desc);for(pa=18;3<=pa&&0===Q.bl_tree[2*O[pa]+1];pa--);Q.opt_len+=3*(pa+1)+14;var ya=Q.opt_len+3+7>>>3;var ka=Q.static_len+3+7>>>3;ka<=ya&&(ya=ka)}else ya=ka=ba+5;if(ba+4<=ya&&-1!==ia)u(Q,ia,ba,ta);else if(4===Q.strategy||ka===ya)b(Q,2+(ta?1:0),3),c(Q,z,G);else{b(Q,4+(ta?1:0),3);ia=Q.l_desc.max_code+1;ba=Q.d_desc.max_code+
1;pa+=1;b(Q,ia-257,5);b(Q,ba-1,5);b(Q,pa-4,4);for(ya=0;ya<pa;ya++)b(Q,Q.bl_tree[2*O[ya]+1],3);e(Q,Q.dyn_ltree,ia-1);e(Q,Q.dyn_dtree,ba-1);c(Q,Q.dyn_ltree,Q.dyn_dtree)}m(Q);ta&&q(Q)};D._tr_tally=function(Q,ia,ba){Q.pending_buf[Q.d_buf+2*Q.last_lit]=ia>>>8&255;Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=ia&255;Q.pending_buf[Q.l_buf+Q.last_lit]=ba&255;Q.last_lit++;0===ia?Q.dyn_ltree[2*ba]++:(Q.matches++,ia--,Q.dyn_ltree[2*(J[ba]+256+1)]++,Q.dyn_dtree[2*(256>ia?H[ia]:H[256+(ia>>>7)])]++);return Q.last_lit===
Q.lit_bufsize-1};D._tr_align=function(Q){b(Q,2,3);d(Q,256,z);16===Q.bi_valid?(E(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf&255,Q.bi_buf>>=8,Q.bi_valid-=8)}},{"../utils/common":300}],312:[function(g,L,D){L.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],313:[function(g,L,D){(function(y,k){"object"===
typeof D&&"undefined"!==typeof L?L.exports=k():y.PointerEventsPolyfill=k()})(this,function(){function y(T,Z){Z=Z||Object.create(null);var qa=document.createEvent("Event");qa.initEvent(T,Z.bubbles||!1,Z.cancelable||!1);T=2;for(var za;T<m.length;T++)za=m[T],qa[za]=Z[za]||q[T];qa.buttons=Z.buttons||0;T=Z.pressure&&qa.buttons?Z.pressure:qa.buttons?.5:0;qa.x=qa.clientX;qa.y=qa.clientY;qa.pointerId=Z.pointerId||0;qa.width=Z.width||0;qa.height=Z.height||0;qa.pressure=T;qa.tiltX=Z.tiltX||0;qa.tiltY=Z.tiltY||
0;qa.twist=Z.twist||0;qa.tangentialPressure=Z.tangentialPressure||0;qa.pointerType=Z.pointerType||"";qa.hwTimestamp=Z.hwTimestamp||0;qa.isPrimary=Z.isPrimary||!1;return qa}function k(){this.array=[];this.size=0}function v(T,Z,qa,za){this.addCallback=T.bind(za);this.removeCallback=Z.bind(za);this.changedCallback=qa.bind(za);I&&(this.observer=new I(this.mutationWatcher.bind(this)))}function E(T){return"body /shadow-deep/ "+b(T)}function b(T){return'[touch-action="'+T+'"]'}function d(T){return"{ -ms-touch-action: "+
T+"; touch-action: "+T+"; }"}function x(T){if(!e.pointermap.has(T))throw T=Error("InvalidPointerId"),T.name="InvalidPointerId",T;}function a(T){for(var Z=T.parentNode;Z&&Z!==T.ownerDocument;)Z=Z.parentNode;if(!Z)throw T=Error("InvalidStateError"),T.name="InvalidStateError",T;}var m="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget pageX pageY".split(" "),q=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],r=window.Map&&window.Map.prototype.forEach?
Map:k;k.prototype={set:function(T,Z){if(void 0===Z)return this.delete(T);this.has(T)||this.size++;this.array[T]=Z},has:function(T){return void 0!==this.array[T]},delete:function(T){this.has(T)&&(delete this.array[T],this.size--)},get:function(T){return this.array[T]},clear:function(){this.size=this.array.length=0},forEach:function(T,Z){return this.array.forEach(function(qa,za){T.call(Z,qa,za,this)},this)}};var h="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget buttons pointerId width height pressure tiltX tiltY pointerType hwTimestamp isPrimary type target currentTarget which pageX pageY timeStamp".split(" "),
c=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],f={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},n="undefined"!==typeof SVGElementInstance,e={pointermap:new r,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(T,Z){var qa=Z.events;qa&&(qa.forEach(function(za){Z[za]&&(this.eventMap[za]=Z[za].bind(Z))},this),this.eventSources[T]=Z,this.eventSourceList.push(Z))},
register:function(T){for(var Z=this.eventSourceList.length,qa=0,za;qa<Z&&(za=this.eventSourceList[qa]);qa++)za.register.call(za,T)},unregister:function(T){for(var Z=this.eventSourceList.length,qa=0,za;qa<Z&&(za=this.eventSourceList[qa]);qa++)za.unregister.call(za,T)},contains:function(T,Z){try{return T.contains(Z)}catch(qa){return!1}},down:function(T){T.bubbles=!0;this.fireEvent("pointerdown",T)},move:function(T){T.bubbles=!0;this.fireEvent("pointermove",T)},up:function(T){T.bubbles=!0;this.fireEvent("pointerup",
T)},enter:function(T){T.bubbles=!1;this.fireEvent("pointerenter",T)},leave:function(T){T.bubbles=!1;this.fireEvent("pointerleave",T)},over:function(T){T.bubbles=!0;this.fireEvent("pointerover",T)},out:function(T){T.bubbles=!0;this.fireEvent("pointerout",T)},cancel:function(T){T.bubbles=!0;this.fireEvent("pointercancel",T)},leaveOut:function(T){this.out(T);this.propagate(T,this.leave,!1)},enterOver:function(T){this.over(T);this.propagate(T,this.enter,!0)},eventHandler:function(T){if(!T._handledByPE){var Z=
T.type;(Z=this.eventMap&&this.eventMap[Z])&&Z(T);T._handledByPE=!0}},listen:function(T,Z){Z.forEach(function(qa){this.addEvent(T,qa)},this)},unlisten:function(T,Z){Z.forEach(function(qa){this.removeEvent(T,qa)},this)},addEvent:function(T,Z){T.addEventListener(Z,this.boundHandler)},removeEvent:function(T,Z){T.removeEventListener(Z,this.boundHandler)},makeEvent:function(T,Z){this.captureInfo[Z.pointerId]&&(Z.relatedTarget=null);T=new y(T,Z);Z.preventDefault&&(T.preventDefault=Z.preventDefault);T._target=
T._target||Z.target;return T},fireEvent:function(T,Z){T=this.makeEvent(T,Z);return this.dispatchEvent(T)},cloneEvent:function(T){for(var Z=Object.create(null),qa,za=0;za<h.length;za++)qa=h[za],Z[qa]=T[qa]||c[za],n&&("target"===qa||"relatedTarget"===qa)&&Z[qa]instanceof SVGElementInstance&&(Z[qa]=Z[qa].correspondingUseElement);T.preventDefault&&(Z.preventDefault=function(){T.preventDefault()});return Z},getTarget:function(T){var Z=this.captureInfo[T.pointerId];if(!Z)return T._target;if(T._target===
Z||!(T.type in f))return Z},propagate:function(T,Z,qa){for(var za=T.target,Xa=[];za!==document&&!za.contains(T.relatedTarget);)if(Xa.push(za),za=za.parentNode,!za)return;qa&&Xa.reverse();Xa.forEach(function(yb){T.target=yb;Z.call(this,T)},this)},setCapture:function(T,Z,qa){this.captureInfo[T]&&this.releaseCapture(T,qa);this.captureInfo[T]=Z;this.implicitRelease=this.releaseCapture.bind(this,T,qa);document.addEventListener("pointerup",this.implicitRelease);document.addEventListener("pointercancel",
this.implicitRelease);var za=new y("gotpointercapture");za.pointerId=T;za._target=Z;qa||this.asyncDispatchEvent(za)},releaseCapture:function(T,Z){var qa=this.captureInfo[T];if(qa){this.captureInfo[T]=void 0;document.removeEventListener("pointerup",this.implicitRelease);document.removeEventListener("pointercancel",this.implicitRelease);var za=new y("lostpointercapture");za.pointerId=T;za._target=qa;Z||this.asyncDispatchEvent(za)}},dispatchEvent:function(T){var Z=this.getTarget(T);if(Z)return Z.dispatchEvent(T)},
asyncDispatchEvent:function(T){requestAnimationFrame(this.dispatchEvent.bind(this,T))}};e.boundHandler=e.eventHandler.bind(e);var p={shadow:function(T){if(T)return T.shadowRoot||T.webkitShadowRoot},canTarget:function(T){return T&&!!T.elementFromPoint},targetingShadow:function(T){T=this.shadow(T);if(this.canTarget(T))return T},olderShadow:function(T){var Z=T.olderShadowRoot;!Z&&(T=T.querySelector("shadow"))&&(Z=T.olderShadowRoot);return Z},allShadows:function(T){var Z=[];for(T=this.shadow(T);T;)Z.push(T),
T=this.olderShadow(T);return Z},searchRoot:function(T,Z,qa){if(T){var za=T.elementFromPoint(Z,qa),Xa;for(Xa=this.targetingShadow(za);Xa;){if(T=Xa.elementFromPoint(Z,qa))return za=this.targetingShadow(T),this.searchRoot(za,Z,qa)||T;Xa=this.olderShadow(Xa)}return za}},owner:function(T){for(;T.parentNode;)T=T.parentNode;T.nodeType!==Node.DOCUMENT_NODE&&T.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(T=document);return T},findTarget:function(T){var Z=T.clientX,qa=T.clientY;T=this.owner(T.target);T.elementFromPoint(Z,
qa)||(T=document);return this.searchRoot(T,Z,qa)}},u=Array.prototype.forEach.call.bind(Array.prototype.forEach),B=Array.prototype.map.call.bind(Array.prototype.map),C=Array.prototype.slice.call.bind(Array.prototype.slice),A=Array.prototype.filter.call.bind(Array.prototype.filter),I=window.MutationObserver||window.WebKitMutationObserver,O={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};v.prototype={watchSubtree:function(T){this.observer&&p.canTarget(T)&&
this.observer.observe(T,O)},enableOnSubtree:function(T){this.watchSubtree(T);T===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(T)},installNewSubtree:function(T){u(this.findElements(T),this.addElement,this)},findElements:function(T){return T.querySelectorAll?T.querySelectorAll("[touch-action]"):[]},removeElement:function(T){this.removeCallback(T)},addElement:function(T){this.addCallback(T)},elementChanged:function(T,Z){this.changedCallback(T,Z)},concatLists:function(T,
Z){return T.concat(C(Z))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(T){return T.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(T){var Z=B(T,this.findElements,this);Z.push(A(T,this.isElement));return Z.reduce(this.concatLists,[])},mutationWatcher:function(T){T.forEach(this.mutationHandler,this)},mutationHandler:function(T){"childList"===T.type?(this.flattenMutationTree(T.addedNodes).forEach(this.addElement,
this),this.flattenMutationTree(T.removedNodes).forEach(this.removeElement,this)):"attributes"===T.type&&this.elementChanged(T.target,T.oldValue)}};var z=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],G="",H=window.PointerEvent||window.MSPointerEvent,J=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,K=e.pointermap,S=[1,4,2,8,16],da=!1;try{da=1===(new MouseEvent("test",{buttons:1})).buttons}catch(T){}var Y={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown",
"mousemove","mouseup","mouseover","mouseout"],register:function(T){e.listen(T,this.events)},unregister:function(T){e.unlisten(T,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(T){var Z=this.lastTouches,qa=T.clientX;T=T.clientY;for(var za=0,Xa=Z.length,yb;za<Xa&&(yb=Z[za]);za++){var Cb=Math.abs(T-yb.y);if(25>=Math.abs(qa-yb.x)&&25>=Cb)return!0}},prepareEvent:function(T){var Z=e.cloneEvent(T),qa=Z.preventDefault;Z.preventDefault=function(){T.preventDefault();qa()};Z.pointerId=this.POINTER_ID;
Z.isPrimary=!0;Z.pointerType=this.POINTER_TYPE;return Z},prepareButtonsForMove:function(T,Z){var qa=K.get(this.POINTER_ID);T.buttons=0!==Z.which&&qa?qa.buttons:0;Z.buttons=T.buttons},mousedown:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=K.get(this.POINTER_ID),qa=this.prepareEvent(T);da||(qa.buttons=S[qa.button],Z&&(qa.buttons|=Z.buttons),T.buttons=qa.buttons);K.set(this.POINTER_ID,T);Z&&0!==Z.buttons?e.move(qa):e.down(qa)}},mousemove:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=
this.prepareEvent(T);da||this.prepareButtonsForMove(Z,T);Z.button=-1;K.set(this.POINTER_ID,T);e.move(Z)}},mouseup:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=K.get(this.POINTER_ID),qa=this.prepareEvent(T);if(!da){var za=S[qa.button];qa.buttons=Z?Z.buttons&~za:0;T.buttons=qa.buttons}K.set(this.POINTER_ID,T);qa.buttons&=~S[qa.button];0===qa.buttons?e.up(qa):e.move(qa)}},mouseover:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=this.prepareEvent(T);da||this.prepareButtonsForMove(Z,
T);Z.button=-1;K.set(this.POINTER_ID,T);e.enterOver(Z)}},mouseout:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=this.prepareEvent(T);da||this.prepareButtonsForMove(Z,T);Z.button=-1;e.leaveOut(Z)}},cancel:function(T){T=this.prepareEvent(T);e.cancel(T);this.deactivateMouse()},deactivateMouse:function(){K.delete(this.POINTER_ID)}},ra=e.captureInfo,ma=p.findTarget.bind(p),Q=p.allShadows.bind(p),ia=e.pointermap,ba={events:["touchstart","touchmove","touchend","touchcancel"],register:function(T){ta.enableOnSubtree(T)},
unregister:function(){},elementAdded:function(T){var Z=T.getAttribute("touch-action"),qa=this.touchActionToScrollType(Z);qa&&(T._scrollType=qa,e.listen(T,this.events),Q(T).forEach(function(za){za._scrollType=qa;e.listen(za,this.events)},this))},elementRemoved:function(T){T._scrollType=void 0;e.unlisten(T,this.events);Q(T).forEach(function(Z){Z._scrollType=void 0;e.unlisten(Z,this.events)},this)},elementChanged:function(T,Z){var qa=T.getAttribute("touch-action"),za=this.touchActionToScrollType(qa);
Z=this.touchActionToScrollType(Z);za&&Z?(T._scrollType=za,Q(T).forEach(function(Xa){Xa._scrollType=za},this)):Z?this.elementRemoved(T):za&&this.elementAdded(T)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(T){var Z=this.scrollTypes;if("none"===T)return"none";if(T===Z.XSCROLLER)return"X";if(T===Z.YSCROLLER)return"Y";if(Z.SCROLLER.exec(T))return"XY"},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(T){return this.firstTouch===
T.identifier},setPrimaryTouch:function(T){if(0===ia.size||1===ia.size&&ia.has(1))this.firstTouch=T.identifier,this.firstXY={X:T.clientX,Y:T.clientY},this.scrolling=!1,this.cancelResetClickCount()},removePrimaryPointer:function(T){T.isPrimary&&(this.firstXY=this.firstTouch=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var T=function(){this.clickCount=0;this.resetId=null}.bind(this);this.resetId=setTimeout(T,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},
typeToButtons:function(T){var Z=0;if("touchstart"===T||"touchmove"===T)Z=1;return Z},touchToPointer:function(T){var Z=this.currentTouchEvent,qa=e.cloneEvent(T),za=qa.pointerId=T.identifier+2;qa.target=ra[za]||ma(qa);qa.bubbles=!0;qa.cancelable=!0;qa.detail=this.clickCount;qa.button=0;qa.buttons=this.typeToButtons(Z.type);qa.width=2*(T.radiusX||T.webkitRadiusX||0);qa.height=2*(T.radiusY||T.webkitRadiusY||0);qa.pressure=T.force||T.webkitForce||.5;qa.isPrimary=this.isPrimaryTouch(T);qa.pointerType=this.POINTER_TYPE;
qa.altKey=Z.altKey;qa.ctrlKey=Z.ctrlKey;qa.metaKey=Z.metaKey;qa.shiftKey=Z.shiftKey;var Xa=this;qa.preventDefault=function(){Xa.scrolling=!1;Xa.firstXY=null;Z.preventDefault()};return qa},processTouches:function(T,Z){var qa=T.changedTouches;this.currentTouchEvent=T;T=0;for(var za;T<qa.length;T++)za=qa[T],Z.call(this,this.touchToPointer(za))},shouldScroll:function(T){if(this.firstXY){var Z=T.currentTarget._scrollType;if("none"===Z)Z=!1;else if("XY"===Z)Z=!0;else{T=T.changedTouches[0];var qa="Y"===
Z?"X":"Y";Z=Math.abs(T["client"+Z]-this.firstXY[Z])>=Math.abs(T["client"+qa]-this.firstXY[qa])}this.firstXY=null;return Z}},findTouch:function(T,Z){for(var qa=0,za=T.length,Xa;qa<za&&(Xa=T[qa]);qa++)if(Xa.identifier===Z)return!0},vacuumTouches:function(T){var Z=T.touches;if(ia.size>=Z.length){var qa=[];ia.forEach(function(za,Xa){1===Xa||this.findTouch(Z,Xa-2)||qa.push(za.out)},this);qa.forEach(this.cancelOut,this)}},touchstart:function(T){this.vacuumTouches(T);this.setPrimaryTouch(T.changedTouches[0]);
this.dedupSynthMouse(T);this.scrolling||(this.clickCount++,this.processTouches(T,this.overDown))},overDown:function(T){ia.set(T.pointerId,{target:T.target,out:T,outTarget:T.target});e.enterOver(T);e.down(T)},touchmove:function(T){this.scrolling||(this.shouldScroll(T)?(this.scrolling=!0,this.touchcancel(T)):(T.preventDefault(),this.processTouches(T,this.moveOverOut)))},moveOverOut:function(T){var Z=ia.get(T.pointerId);if(Z){var qa=Z.out,za=Z.outTarget;e.move(T);qa&&za!==T.target&&(qa.relatedTarget=
T.target,T.relatedTarget=za,qa.target=za,T.target?(e.leaveOut(qa),e.enterOver(T)):(T.target=za,T.relatedTarget=null,this.cancelOut(T)));Z.out=T;Z.outTarget=T.target}},touchend:function(T){this.dedupSynthMouse(T);this.processTouches(T,this.upOut)},upOut:function(T){this.scrolling||(e.up(T),e.leaveOut(T));this.cleanUpPointer(T)},touchcancel:function(T){this.processTouches(T,this.cancelOut)},cancelOut:function(T){e.cancel(T);e.leaveOut(T);this.cleanUpPointer(T)},cleanUpPointer:function(T){ia.delete(T.pointerId);
this.removePrimaryPointer(T)},dedupSynthMouse:function(T){var Z=Y.lastTouches;T=T.changedTouches[0];this.isPrimaryTouch(T)&&(T={x:T.clientX,y:T.clientY},Z.push(T),Z=function(qa,za){za=qa.indexOf(za);-1<za&&qa.splice(za,1)}.bind(null,Z,T),setTimeout(Z,2500))}};var ta=new v(ba.elementAdded,ba.elementRemoved,ba.elementChanged,ba);var pa=e.pointermap,ya=window.MSPointerEvent&&"number"===typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,ka={events:"MSPointerDown MSPointerMove MSPointerUp MSPointerOut MSPointerOver MSPointerCancel MSGotPointerCapture MSLostPointerCapture".split(" "),
register:function(T){e.listen(T,this.events)},unregister:function(T){e.unlisten(T,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(T){var Z=T;ya&&(Z=e.cloneEvent(T),Z.pointerType=this.POINTER_TYPES[T.pointerType]);return Z},cleanup:function(T){pa.delete(T)},MSPointerDown:function(T){pa.set(T.pointerId,T);T=this.prepareEvent(T);e.down(T)},MSPointerMove:function(T){T=this.prepareEvent(T);e.move(T)},MSPointerUp:function(T){var Z=this.prepareEvent(T);e.up(Z);
this.cleanup(T.pointerId)},MSPointerOut:function(T){T=this.prepareEvent(T);e.leaveOut(T)},MSPointerOver:function(T){T=this.prepareEvent(T);e.enterOver(T)},MSPointerCancel:function(T){var Z=this.prepareEvent(T);e.cancel(Z);this.cleanup(T.pointerId)},MSLostPointerCapture:function(T){T=e.makeEvent("lostpointercapture",T);e.dispatchEvent(T)},MSGotPointerCapture:function(T){T=e.makeEvent("gotpointercapture",T);e.dispatchEvent(T)}};if(window.navigator.msPointerEnabled){var Oa=function(T){x(T);a(this);0!==
e.pointermap.get(T).buttons&&(e.setCapture(T,this,!0),this.msSetPointerCapture(T))};var ab=function(T){x(T);e.releaseCapture(T,!0);this.msReleasePointerCapture(T)}}else Oa=function(T){x(T);a(this);0!==e.pointermap.get(T).buttons&&e.setCapture(T,this)},ab=function(T){x(T);e.releaseCapture(T)};var ib=function(T){return!!e.captureInfo[T]};(function(){if(H){z.forEach(function(Z){String(Z)===Z?(G+=b(Z)+d(Z)+"\n",J&&(G+=E(Z)+d(Z)+"\n")):(G+=Z.selectors.map(b)+d(Z.rule)+"\n",J&&(G+=Z.selectors.map(E)+d(Z.rule)+
"\n"))});var T=document.createElement("style");T.textContent=G;document.head.appendChild(T)}})();window.PointerEvent||(window.PointerEvent=y,window.navigator.msPointerEnabled?(Object.defineProperty(window.navigator,"maxTouchPoints",{value:window.navigator.msMaxTouchPoints,enumerable:!0}),e.registerSource("ms",ka)):(Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),e.registerSource("mouse",Y),void 0!==window.ontouchstart&&e.registerSource("touch",ba)),e.register(document));
window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:Oa},releasePointerCapture:{value:ab},hasPointerCapture:{value:ib}});return{dispatcher:e,Installer:v,PointerEvent:y,PointerMap:r,targetFinding:p}})},{}],314:[function(g,L,D){(function(y){function k(){}function v(a,m){for(var q=a.length;q--;)if(a[q].listener===m)return q;return-1}function E(a){return function(){return this[a].apply(this,arguments)}}function b(a){return"function"===
typeof a||a instanceof RegExp?!0:a&&"object"===typeof a?b(a.listener):!1}var d=k.prototype,x=y.EventEmitter;d.getListeners=function(a){var m=this._getEvents(),q;if(a instanceof RegExp){var r={};for(q in m)m.hasOwnProperty(q)&&a.test(q)&&(r[q]=m[q])}else r=m[a]||(m[a]=[]);return r};d.flattenListeners=function(a){var m=[],q;for(q=0;q<a.length;q+=1)m.push(a[q].listener);return m};d.getListenersAsObject=function(a){var m=this.getListeners(a);if(m instanceof Array){var q={};q[a]=m}return q||m};d.addListener=
function(a,m){if(!b(m))throw new TypeError("listener must be a function");a=this.getListenersAsObject(a);var q="object"===typeof m,r;for(r in a)a.hasOwnProperty(r)&&-1===v(a[r],m)&&a[r].push(q?m:{listener:m,once:!1});return this};d.on=E("addListener");d.addOnceListener=function(a,m){return this.addListener(a,{listener:m,once:!0})};d.once=E("addOnceListener");d.defineEvent=function(a){this.getListeners(a);return this};d.defineEvents=function(a){for(var m=0;m<a.length;m+=1)this.defineEvent(a[m]);return this};
d.removeListener=function(a,m){a=this.getListenersAsObject(a);var q;for(q in a)if(a.hasOwnProperty(q)){var r=v(a[q],m);-1!==r&&a[q].splice(r,1)}return this};d.off=E("removeListener");d.addListeners=function(a,m){return this.manipulateListeners(!1,a,m)};d.removeListeners=function(a,m){return this.manipulateListeners(!0,a,m)};d.manipulateListeners=function(a,m,q){var r,h,c=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!==typeof m||m instanceof RegExp)for(r=
q.length;r--;)c.call(this,m,q[r]);else for(r in m)m.hasOwnProperty(r)&&(h=m[r])&&("function"===typeof h?c.call(this,r,h):a.call(this,r,h));return this};d.removeEvent=function(a){var m=typeof a,q=this._getEvents(),r;if("string"===m)delete q[a];else if(a instanceof RegExp)for(r in q)q.hasOwnProperty(r)&&a.test(r)&&delete q[r];else delete this._events;return this};d.removeAllListeners=E("removeEvent");d.emitEvent=function(a,m){var q=this.getListenersAsObject(a),r,h;for(h in q)if(q.hasOwnProperty(h)){var c=
q[h].slice(0);for(r=0;r<c.length;r++){var f=c[r];!0===f.once&&this.removeListener(a,f.listener);var n=f.listener.apply(this,m||[]);n===this._getOnceReturnValue()&&this.removeListener(a,f.listener)}}return this};d.trigger=E("emitEvent");d.emit=function(a){var m=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,m)};d.setOnceReturnValue=function(a){this._onceReturnValue=a;return this};d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:
!0};d._getEvents=function(){return this._events||(this._events={})};k.noConflict=function(){y.EventEmitter=x;return k};"object"===typeof L&&L.exports?L.exports=k:y.EventEmitter=k})("undefined"!==typeof window?window:this||{})},{}]},{},[1])(1)});
