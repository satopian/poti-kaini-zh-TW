/*

 Copyright (c) 2016 Federico Zivolo and contributors

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in all
 copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
 jQuery throttle / debounce - v1.1 - 3/7/2010
 http://benalman.com/projects/jquery-throttle-debounce-plugin/

 Copyright (c) 2010 "Cowboy" Ben Alman
 Dual licensed under the MIT and GPL licenses.
 http://benalman.com/about/license/
 Bootstrap v4.6.2 (https://getbootstrap.com/)
 Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 jQuery JavaScript Library v3.7.0
 https://jquery.com/

 Copyright OpenJS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2023-05-11T18:29Z
 PEP v0.4.3 | https://github.com/jquery/PEP
 Copyright jQuery Foundation and other contributors | http://jquery.org/license
 EventEmitter v5.2.9 - git.io/ee
 Unlicense - http://unlicense.org/
 Oliver Caldwell - https://oli.me.uk/
 @preserve
*/
(function(l){"object"===typeof exports&&"undefined"!==typeof module?module.exports=l():"function"===typeof define&&define.amd?define([],l):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).ChickenPaint=l()})(function(){return function(){function l(M,C,z){function h(c,e){if(!C[c]){if(!M[c]){var w="function"==typeof require&&require;if(!e&&w)return w(c,!0);if(v)return v(c,!0);e=Error("Cannot find module '"+c+"'");throw e.code="MODULE_NOT_FOUND",
e;}e=C[c]={exports:{}};M[c][0].call(e.exports,function(a){return h(M[c][1][a]||a)},e,e.exports,l,M,C,z)}return C[c].exports}for(var v="function"==typeof require&&require,D=0;D<z.length;D++)h(z[D]);return h}return l}()({1:[function(l,M,C){function z(J){return J&&J.__esModule?J:{default:J}}function h(J){"@babel/helpers - typeof";return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==
Symbol.prototype?"symbol":typeof L},h(J)}function v(){if(!((0,E.isCanvasSupported)()&&"Uint8Array"in window))throw new c.UnsupportedBrowserException;var J=(-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("iPod")||-1!=navigator.userAgent.indexOf("iPhone"))&&-1!=navigator.userAgent.indexOf(" OS 8_0 "),L=-1==navigator.userAgent.indexOf("CriOS")&&-1!=navigator.userAgent.indexOf("Safari");if(J&&L)throw new c.UnsupportedBrowserException("You are using Safari 8.0.0, which is unable to upload drawings. That bug was fixed in the iOS 8.0.2 update, or in Chrome for iOS.");
return!0}function D(){var J=Array(c.T_MAX);J[c.T_PENCIL]=new w.default({toolNb:c.T_PENCIL,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_OPACITY});J[c.T_ERASER]=new w.default({toolNb:c.T_ERASER,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!1,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_ERASE,paintMode:w.default.PAINT_MODE_OPACITY});
J[c.T_PEN]=new w.default({toolNb:c.T_PEN,size:2,alpha:128,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!0,pressureAlpha:!1,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.5});J[c.T_SOFTERASER]=new w.default({toolNb:c.T_SOFTERASER,size:16,alpha:64,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_ERASE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});
J[c.T_AIRBRUSH]=new w.default({toolNb:c.T_AIRBRUSH,size:50,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});J[c.T_DODGE]=new w.default({toolNb:c.T_DODGE,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_DODGE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});
J[c.T_BURN]=new w.default({toolNb:c.T_BURN,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_BURN,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});J[c.T_WATER]=new w.default({toolNb:c.T_WATER,size:30,alpha:70,isAA:!1,minSpacing:.5,spacing:.02,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_WATER,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,resat:.3,
bleed:.6});J[c.T_BLUR]=new w.default({toolNb:c.T_BLUR,size:20,alpha:255,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_PIXEL,brushMode:w.default.BRUSH_MODE_BLUR,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});J[c.T_SMUDGE]=new w.default({toolNb:c.T_SMUDGE,size:20,alpha:128,isAA:!1,minSpacing:.5,spacing:.01,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_SMUDGE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,
resat:0,bleed:1});J[c.T_BLENDER]=new w.default({toolNb:c.T_BLENDER,size:20,alpha:60,isAA:!1,minSpacing:.5,spacing:.1,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_OIL,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,resat:0,bleed:.07});return J}function c(J){function L(aa){this.palName=aa}function R(aa){this.toolNum=aa}function fa(aa){this.modeNum=aa}function ea(aa){Ea=aa==a.default.EDITING_MODE_IMAGE?c.COLOR_MODE_RGB:c.COLOR_MODE_GREYSCALE;qa.emitEvent("colorModeChange",
[aa==a.default.EDITING_MODE_IMAGE?"rgb":"greyscale"]);switch(Ea){case c.COLOR_MODE_RGB:var sa=S.clone();break;case c.COLOR_MODE_GREYSCALE:sa=new t.default(t.default.greyToRGB(ma))}qa.artwork.setForegroundColor(sa.getRgb());qa.emitEvent("colorChange",[sa])}function ua(){qa.emitEvent("toolChange",[La,Oa[La]])}function na(aa){hb!=aa&&(aa==c.M_TRANSFORM&&(yb=hb),hb=aa,qa.emitEvent("modeChange",[hb]))}function Q(aa){na(c.M_DRAW);La=aa;qa.artwork.setBrush(Oa[aa]);ua()}function pa(){var aa=new r.default({artwork:qa.getArtwork(),
rotation:Xa.getRotation90(),swatches:gb.getSwatches()});aa.on("savingComplete",function(){qa.artwork.setHasUnsavedChanges(!1)});aa.on("savingFailure",function(){alert((0,H._)("Sorry, your drawing could not be saved, please try again later."))});aa.save()}function ia(){if(qa.isActionSupported("CPContinue")||confirm((0,H._)("Are you sure you want to send your drawing to the server and finish drawing now?"))){var aa=new r.default({artwork:qa.getArtwork(),rotation:Xa.getRotation90(),swatches:gb.getSwatches(),
url:J.saveUrl}),sa=new y.default(qa,Qa,aa);aa.on("savingComplete",function(){qa.artwork.setHasUnsavedChanges(!1);!qa.isActionSupported("CPContinue")&&qa.isActionSupported("CPPost")&&qa.actionPerformed({action:"CPPost"})});aa.on("savingFailure",function(){alert((0,H._)("Sorry, your drawing could not be saved, please try again later."))});sa.on("shown",function(){aa.save()});sa.show()}}function ya(){if((0,E.isEventSupported)("onbeforeunload"))window.addEventListener("beforeunload",function(aa){if(qa.artwork.getHasUnsavedChanges())return aa.returnValue=
"Your drawing has unsaved changes!"});else(0,e.default)("a").on("click",function(aa){if("#"!=this.getAttribute("href")&&qa.artwork.getHasUnsavedChanges())return confirm("Your drawing has unsaved changes! Are you sure to want to navigate away?")})}function va(aa,sa){Qa&&(Qa.addEventListener("dblclick",function(Ba){Ba.preventDefault();Ba.stopPropagation()}),qa.artwork.on("editModeChanged",ea),gb=new b.default(qa,Qa),qa.emitEvent("fullScreen",[ta]),qa.emitEvent("smallScreen",[Ma]),Ja.load(),Q(c.T_PEN),
gb.arrangePalettes(),aa&&gb.setSwatches(aa),sa&&gb.setRotation90(sa),G.default.getRef().detectTablet(),ya(),qa.artwork.on("unsavedChanges",function(Ba){J.allowMultipleSends&&qa.emitEvent("unsavedChanges",[Ba])}))}var Ha=this;(0,H.guessLanguage)();J.language&&(0,H.setLanguage)(J.language);var qa=this,Qa=J.uiElem,Xa,gb,S=new t.default(0),ma=255,Ea=c.COLOR_MODE_RGB,La=c.T_PENCIL,hb=c.M_DRAW,yb=hb,tb=[4278190080,4294967295],Ma=!1,ta=!1,Oa=D(),Ja=new I.default,$a,U,ca={CPFullScreen:{action:function(){qa.setFullScreen(!ta)},
isSupported:function(){return!("disable"===J.fullScreenMode||"force"===J.fullScreenMode||!1===J.allowFullScreen)},modifies:{gui:!0}},CPZoomIn:{action:function(){Xa.zoomIn()},modifies:{gui:!0}},CPZoomOut:{action:function(){Xa.zoomOut()},modifies:{gui:!0}},CPZoom100:{action:function(){Xa.zoom100()},modifies:{gui:!0}},CPToolbarStyle:{action:function(){qa.setToolbarStyle("new"===Ja.toolbarStyle?"old":"new")},modifies:{gui:!0}},CPUndo:{action:function(){qa.artwork.undo()},modifies:{document:!0},allowed:"isUndoAllowed"},
CPRedo:{action:function(){qa.artwork.redo()},modifies:{document:!0},allowed:"isRedoAllowed"},CPClearHistory:{action:function(){confirm("You're about to clear the current Undo/Redo history.\nThis operation cannot be undone, are you sure you want to do that?")&&qa.artwork.clearHistory()},modifies:{document:!0}},CPPencil:new R(c.T_PENCIL),CPPen:new R(c.T_PEN),CPEraser:new R(c.T_ERASER),CPSoftEraser:new R(c.T_SOFTERASER),CPAirbrush:new R(c.T_AIRBRUSH),CPDodge:new R(c.T_DODGE),CPBurn:new R(c.T_BURN),CPWater:new R(c.T_WATER),
CPBlur:new R(c.T_BLUR),CPSmudge:new R(c.T_SMUDGE),CPBlender:new R(c.T_BLENDER),CPFloodFill:new fa(c.M_FLOODFILL),CPGradientFill:new fa(c.M_GRADIENTFILL),CPRectSelection:new fa(c.M_RECT_SELECTION),CPMoveTool:new fa(c.M_MOVE_TOOL),CPRotateCanvas:new fa(c.M_ROTATE_CANVAS),CPPanCanvas:new fa(c.M_PAN_CANVAS),CPColorPicker:new fa(c.M_COLOR_PICKER),CPTransform:{action:function(){var aa=qa.artwork.getActiveLayer();aa.visible?0==aa.alpha?qa.showLayerNotification(aa,"Whoops! This layer's opacity is currently 0%",
"opacity"):null==qa.artwork.transformAffineBegin()?qa.showLayerNotification(aa,"Whoops! All of the selected pixels are transparent!","layer"):na(c.M_TRANSFORM):qa.showLayerNotification(aa,"Whoops! This layer is currently hidden","layer")},modifies:{mode:!0},allowed:function(){return 0!=qa.artwork.getActiveLayer().getEffectiveAlpha()}},CPTransformAccept:{action:function(){hb==c.M_TRANSFORM&&(qa.artwork.transformAffineFinish(),na(yb))},modifies:{mode:!0}},CPTransformReject:{action:function(){hb==c.M_TRANSFORM&&
(qa.artwork.transformAffineAbort(),na(yb))},modifies:{document:!0,mode:!0}},CPFreeHand:{action:function(){Oa[La].strokeMode=w.default.STROKE_MODE_FREEHAND;ua()},modifies:{tool:!0}},CPLine:{action:function(){Oa[La].strokeMode=w.default.STROKE_MODE_LINE;ua()},modifies:{tool:!0}},CPBezier:{action:function(){Oa[La].strokeMode=w.default.STROKE_MODE_BEZIER;ua()},modifies:{tool:!0}},CPAbout:{action:function(){(new d.default(Qa)).show()},modifies:{}},CPShortcuts:{action:function(){(new m.default(Qa)).show()},
modifies:{}},CPTabletSupport:{action:function(){(new n.default(Qa)).show()},modifies:{}},CPLayerDuplicate:{action:function(){qa.artwork.duplicateLayer()},modifies:{document:!0}},CPLayerMergeDown:{action:function(){qa.artwork.mergeDown()},modifies:{document:!0},allowed:"isMergeDownAllowed"},CPGroupMerge:{action:function(){qa.artwork.mergeGroup()},modifies:{document:!0},allowed:"isMergeGroupAllowed"},CPLayerMergeAll:{action:function(){qa.artwork.mergeAllLayers()},modifies:{document:!0},allowed:"isMergeAllLayersAllowed"},
CPExpandLayerGroup:{action:function(aa){qa.artwork.expandLayerGroup(aa.group,aa.expand)},modifies:{document:!0}},CPFill:{action:function(){qa.artwork.fill(qa.getCurColor().getRgb()|4278190080)},modifies:{document:!0},requiresDrawable:!0},CPClear:{action:function(){qa.artwork.clear()},modifies:{document:!0},requiresDrawable:!0},CPSelectAll:{action:function(){qa.artwork.rectangleSelection(qa.artwork.getBounds());Xa.repaintAll()},modifies:{document:!0}},CPDeselectAll:{action:function(){qa.artwork.rectangleSelection(new P.default(0,
0,0,0));Xa.repaintAll()},modifies:{document:!0}},CPHFlip:{action:function(){qa.artwork.hFlip()},modifies:{document:!0},requiresDrawable:!0},CPVFlip:{action:function(){qa.artwork.vFlip()},modifies:{document:!0},requiresDrawable:!0},CPMNoise:{action:function(){qa.artwork.monochromaticNoise()},modifies:{document:!0},requiresDrawable:!0},CPCNoise:{action:function(){qa.artwork.colorNoise()},modifies:{document:!0},allowed:"isColorNoiseAllowed"},CPFXBoxBlur:{action:function(){$a||=new f.default(Qa,qa);$a.show()},
modifies:{document:!0},requiresDrawable:!0},CPFXInvert:{action:function(){qa.artwork.invert()},modifies:{document:!0},requiresDrawable:!0},CPCut:{action:function(){qa.artwork.cutSelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCutSelectionAllowed"},CPCopy:{action:function(){qa.artwork.copySelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCopySelectionAllowed"},CPCopyMerged:{action:function(){qa.artwork.copySelectionMerged()},modifies:{document:!0},allowed:"isCopySelectionMergedAllowed"},
CPPaste:{action:function(){qa.artwork.pasteClipboard()},modifies:{document:!0},allowed:"isPasteClipboardAllowed"},CPToggleGrid:{action:function(aa){Xa.showGrid(aa.selected)},modifies:{gui:!0}},CPGridOptions:{action:function(){U||=new u.default(Qa,Xa);U.show()},modifies:{gui:!0}},CPLinearInterpolation:{action:function(aa){Xa.setInterpolation(aa.selected)},modifies:{gui:!0},isSupported:function(){return(0,E.isCanvasInterpolationSupported)()}},CPResetCanvasRotation:{action:function(){Xa.resetRotation()},
modifies:{gui:!0}},CPAddLayer:{action:function(){qa.artwork.addLayer("layer")},modifies:{document:!0}},CPAddGroup:{action:function(){qa.artwork.addLayer("group")},modifies:{document:!0}},CPAddLayerMask:{action:function(){qa.artwork.addLayerMask()},modifies:{document:!0},allowed:"isAddLayerMaskAllowed"},CPApplyLayerMask:{action:function(){qa.artwork.applyLayerMask(!0)},modifies:{document:!0},allowed:"isApplyLayerMaskAllowed"},CPRemoveLayerMask:{action:function(){qa.artwork.removeLayerMask(!1)},modifies:{document:!0},
allowed:"isRemoveLayerMaskAllowed"},CPRemoveLayer:{action:function(){qa.artwork.removeLayer()||alert("Sorry, you can't remove the last remaining layer in the drawing.")},modifies:{document:!0},allowed:"isRemoveLayerAllowed"},CPCreateClippingMask:{action:function(){qa.artwork.createClippingMask()},modifies:{document:!0},allowed:"isCreateClippingMaskAllowed"},CPReleaseClippingMask:{action:function(){qa.artwork.releaseClippingMask()},modifies:{document:!0},allowed:"isReleaseClippingMaskAllowed"},CPRelocateLayer:{action:function(aa){qa.artwork.relocateLayer(aa.layer,
aa.toGroup,aa.toIndex)},modifies:{document:!0}},CPSetActiveLayer:{action:function(aa){aa.mask&&aa.layer.mask&&!aa.layer.maskVisible&&qa.artwork.setLayerMaskVisible(aa.layer,!0);qa.artwork.setActiveLayer(aa.layer,aa.mask);qa.artwork.performIdleTasks()},modifies:{document:!0}},CPToggleMaskView:{action:function(){var aa=qa.artwork.toggleMaskView();aa&&qa.emitEvent("maskViewOpened",[aa])},modifies:{gui:!0}},CPSetMaskVisible:{action:function(aa){qa.artwork.setLayerMaskVisible(aa.layer,aa.visible)},modifies:{layerProp:!0}},
CPSetLayerVisibility:{action:function(aa){qa.artwork.setLayerVisibility(aa.layer,aa.visible)},modifies:{layerProp:!0}},CPSetLayerName:{action:function(aa){qa.artwork.setLayerName(aa.layer,aa.name)},modifies:{layerProp:!0}},CPSetLayerBlendMode:{action:function(aa){qa.artwork.setLayerBlendMode(aa.blendMode)},modifies:{layerProp:!0}},CPSetLayerAlpha:{action:function(aa){qa.artwork.setLayerAlpha(aa.alpha)},modifies:{layerProp:!0}},CPSetLayerLockAlpha:{action:function(aa){qa.artwork.setLayerLockAlpha(aa.lock)},
modifies:{layerProp:!0}},CPPalColor:new L("color"),CPPalBrush:new L("brush"),CPPalLayers:new L("layers"),CPPalStroke:new L("stroke"),CPPalSwatches:new L("swatches"),CPPalTool:new L("tool"),CPPalMisc:new L("misc"),CPPalTextures:new L("textures"),CPTogglePalettes:{action:function(){gb.togglePalettes()},modifies:{gui:!0}},CPArrangePalettes:{action:function(){gb.arrangePalettes()},modifies:{gui:!0}},CPSave:{action:function(){pa()},isSupported:function(){return!1!==J.allowDownload},modifies:{document:!0}},
CPSend:{action:function(){ia()},isSupported:function(){return!!J.saveUrl},modifies:{document:!0}},CPPost:{action:function(){window.location=J.postUrl},isSupported:function(){return!!J.postUrl},modifies:{document:!0}},CPContinue:{action:function(){},isSupported:function(){return!!J.allowMultipleSends}},CPExit:{action:function(){window.location=J.exitUrl},isSupported:function(){return!!J.exitUrl},modifies:{}}};L.prototype.action=function(aa){gb.showPalette(this.palName,aa.selected)};L.prototype.modifies=
{gui:!0};R.prototype.action=function(){Q(this.toolNum)};R.prototype.modifies={mode:!0,tool:!0};R.prototype.requiresDrawable=!0;fa.prototype.action=function(){na(this.modeNum)};fa.prototype.modifies={mode:!0};this.callToolListeners=function(){ua()};this.getArtwork=function(){return this.artwork};this.setCanvas=function(aa){Xa=aa};this.setTransformInterpolation=function(aa){this.artwork.setTransformInterpolation(aa)};this.setCurColor=function(aa){switch(Ea){case c.COLOR_MODE_RGB:S.isEqual(aa)||(S.copyFrom(aa),
this.artwork.setForegroundColor(aa.getRgb()),this.emitEvent("colorChange",[aa]));break;case c.COLOR_MODE_GREYSCALE:if(aa=aa.getValue(),ma!=aa){var sa=t.default.greyToRGB(aa);this.artwork.setForegroundColor(sa);ma=aa;this.emitEvent("colorChange",[new t.default(sa)])}}};this.getCurColor=function(){switch(Ea){case c.COLOR_MODE_RGB:return S.clone();case c.COLOR_MODE_GREYSCALE:return new t.default(t.default.greyToRGB(ma))}};this.setCurGradient=function(aa){tb=aa.slice(0);this.emitEvent("gradientChange",
[tb])};this.getCurGradient=function(){return tb.slice(0)};this.setBrushSize=function(aa){Oa[La].size=Math.max(1,Math.min(200,aa));ua()};this.getBrushSize=function(){return Oa[La].size};this.setAlpha=function(aa){Oa[La].alpha=aa;ua()};this.getAlpha=function(){return Oa[La].alpha};this.getCurMode=function(){return hb};this.getCurTool=function(){return La};this.getBrushInfo=function(){return Oa[La]};this.isActionSupported=function(aa){if(ca[aa]){var sa=h(ca[aa].isSupported);return"function"==sa?ca[aa].isSupported():
"undefined"==sa?!0:ca[aa].isSupported}return!1};this.isActionAllowed=function(aa){return(aa=ca[aa])?"function"==typeof aa.allowed?aa.allowed():"string"==typeof aa.allowed?this.artwork[aa.allowed]():!aa.requiresDrawable||this.artwork.isActiveLayerDrawable():!1};this.showLayerNotification=function(aa,sa,Ba){this.emitEvent("layerNotification",[aa,sa,Ba])};this.actionPerformed=function(aa){if(null!=this.artwork&&null!=Xa){var sa=ca[aa.action];sa&&(hb==c.M_TRANSFORM&&(sa.modifies.document||sa.modifies.mode)&&
-1==["CPTransformAccept","CPTransformReject"].indexOf(aa.action)?"CPUndo"==aa.action?ca.CPTransformReject.action():"CPTransform"!=aa.action&&(sa=new g.default(Qa,this),sa.on("accept",this.actionPerformed.bind(this,aa)),sa.on("reject",this.actionPerformed.bind(this,aa)),sa.show()):sa.action(aa))}};this.setSmallScreenMode=function(aa){Ma!==aa&&(Ma=aa,(0,e.default)(Qa).toggleClass("chickenpaint-small-screen",Ma),qa.emitEvent("smallScreen",[Ma]))};this.getSmallScreenMode=function(){return Ma};this.setFullScreen=
function(aa){ta!==aa&&(ta=aa,(0,e.default)("body").toggleClass("chickenpaint-full-screen",ta),(0,e.default)(Qa).toggleClass("chickenpaint-full-screen",ta),ta&&0===(0,e.default)("head meta[name=viewport]").length?((0,e.default)("head").append('<meta name="viewport" content="width=device-width,user-scalable=no">'),setTimeout(function(){return qa.emitEvent("fullScreen",[ta])},200)):qa.emitEvent("fullScreen",[ta]))};this.isFullScreen=function(){return ta};this.setToolbarStyle=function(aa){Ja.set("toolbarStyle",
aa);Ja.save()};this.getToolbarStyle=function(){return Ja.get("toolbarStyle")};this.getResourcesRoot=function(){return J.resourcesRoot};v();Qa&&((0,E.isFlexboxSupported)()||(Qa.className+=" no-flexbox"),Qa.className+=" chickenpaint chickenpaint-lang-"+(0,H.currentLanguage)());J.resourcesRoot=J.resourcesRoot||"chickenpaint/";J.disableBootstrapAPI&&(0,e.default)(document).off(".data-api");this.setSmallScreenMode(430>(0,e.default)(window).width()||430>(0,e.default)(window).height());switch(J.fullScreenMode){case "force":this.setFullScreen(!0);
break;case "auto":this.setFullScreen(Ma)}Ja.on("toolbarStyle",function(aa){return Ha.emitEvent("toolbarStyleChange",[aa])});if(J.loadImageUrl||J.loadChibiFileUrl){var ba=new k.default(J);new q.default(Qa,ba,J.resourcesRoot);ba.on("loadingComplete",function(aa){qa.artwork=aa.layers||aa.flat;va(aa.swatches,J.rotation);if(J.onLoaded)J.onLoaded(this)});ba.load()}else if(J.artwork?this.artwork=J.artwork:(this.artwork=new a.default(J.canvasWidth||800,J.canvasHeight||600),this.artwork.addBackgroundLayer()),
va(),J.onLoaded)J.onLoaded(this)}Object.defineProperty(C,"__esModule",{value:!0});C.default=c;l("core-js/stable/symbol/index.js");l("core-js/stable/promise/index.js");l("core-js/stable/map/index.js");l("core-js/stable/set/index.js");l("core-js/stable/typed-array/slice.js");l("core-js/stable/typed-array/fill.js");l("core-js/stable/array/iterator.js");l("core-js/stable/array/fill.js");l("core-js/stable/string/ends-with.js");var e=z(l("jquery"));l("bootstrap");l("../lib/raf.js");var w=z(l("./engine/CPBrushInfo.js")),
a=z(l("./engine/CPArtwork.js")),k=z(l("./engine/CPResourceLoader.js")),r=z(l("./engine/CPResourceSaver.js")),q=z(l("./gui/CPSplashScreen.js")),b=z(l("./gui/CPMainGUI.js")),d=z(l("./gui/CPAboutDialog.js")),g=z(l("./gui/CPConfirmTransformDialog.js")),m=z(l("./gui/CPShortcutsDialog.js")),f=z(l("./gui/CPBoxBlurDialog.js")),n=z(l("./gui/CPTabletDialog.js")),u=z(l("./gui/CPGridDialog.js")),y=z(l("./gui/CPSendDialog.js")),E=l("./util/CPPolyfill.js"),t=z(l("./util/CPColor.js")),G=z(l("./util/CPWacomTablet.js")),
P=z(l("./util/CPRect.js")),x=z(l("wolfy87-eventemitter")),H=l("./languages/lang.js"),I=z(l("./gui/CPUserPreferences.js"));window.PointerEvent&&(window.hasNativePointerEvents=!0);l("pepjs");c.prototype=Object.create(x.default.prototype);c.prototype.constructor=c;c.UnsupportedBrowserException=function(J){this.message=J};c.UnsupportedBrowserException.prototype.toString=function(){var J="Sorry, your web browser does not support ChickenPaint.";return J=this.message?J+(" "+this.message):J+" Please try a modern browser like Chrome, Safari, Firefox, or Edge."};
c.M_DRAW=0;c.M_FLOODFILL=1;c.M_RECT_SELECTION=2;c.M_MOVE_TOOL=3;c.M_ROTATE_CANVAS=4;c.M_COLOR_PICKER=5;c.M_GRADIENTFILL=6;c.M_TRANSFORM=7;c.M_PAN_CANVAS=8;c.T_PENCIL=0;c.T_ERASER=1;c.T_PEN=2;c.T_SOFTERASER=3;c.T_AIRBRUSH=4;c.T_DODGE=5;c.T_BURN=6;c.T_WATER=7;c.T_BLUR=8;c.T_SMUDGE=9;c.T_BLENDER=10;c.T_MAX=11;c.COLOR_MODE_RGB=0;c.COLOR_MODE_GREYSCALE=1;M.exports=C.default},{"../lib/raf.js":69,"./engine/CPArtwork.js":3,"./engine/CPBrushInfo.js":8,"./engine/CPResourceLoader.js":20,"./engine/CPResourceSaver.js":21,
"./gui/CPAboutDialog.js":23,"./gui/CPBoxBlurDialog.js":24,"./gui/CPConfirmTransformDialog.js":32,"./gui/CPGridDialog.js":34,"./gui/CPMainGUI.js":36,"./gui/CPSendDialog.js":42,"./gui/CPShortcutsDialog.js":43,"./gui/CPSplashScreen.js":45,"./gui/CPTabletDialog.js":48,"./gui/CPUserPreferences.js":51,"./languages/lang.js":54,"./util/CPColor.js":58,"./util/CPPolyfill.js":60,"./util/CPRect.js":63,"./util/CPWacomTablet.js":66,bootstrap:70,"core-js/stable/array/fill.js":255,"core-js/stable/array/iterator.js":256,
"core-js/stable/map/index.js":257,"core-js/stable/promise/index.js":258,"core-js/stable/set/index.js":259,"core-js/stable/string/ends-with.js":260,"core-js/stable/symbol/index.js":261,"core-js/stable/typed-array/fill.js":262,"core-js/stable/typed-array/slice.js":263,jquery:265,pepjs:282,"wolfy87-eventemitter":284}],2:[function(l,M,C){Object.defineProperty(C,"__esModule",{value:!0});C.createCanvas=function(z,h){var v=document.createElement("canvas");v.width=z;v.height=h;return v};C.createImageData=
function(z,h){return document.createElement("canvas").getContext("2d").createImageData(z,h)}},{}],3:[function(l,M,C){function z(va){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ha){return typeof Ha}:function(Ha){return Ha&&"function"==typeof Symbol&&Ha.constructor===Symbol&&Ha!==Symbol.prototype?"symbol":typeof Ha},z(va)}function h(va){return va&&va.__esModule?va:{default:va}}function v(){v="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:
function(va,Ha,qa){var Qa;for(Qa=va;!Object.prototype.hasOwnProperty.call(Qa,Ha)&&(Qa=q(Qa),null!==Qa););if(Qa)return Qa=Object.getOwnPropertyDescriptor(Qa,Ha),Qa.get?Qa.get.call(3>arguments.length?va:qa):Qa.value};return v.apply(this,arguments)}function D(va,Ha){if(!(va instanceof Ha))throw new TypeError("Cannot call a class as a function");}function c(va,Ha){for(var qa=0;qa<Ha.length;qa++){var Qa=Ha[qa];Qa.enumerable=Qa.enumerable||!1;Qa.configurable=!0;"value"in Qa&&(Qa.writable=!0);Object.defineProperty(va,
Qa.key,Qa)}}function e(va,Ha,qa){Ha&&c(va.prototype,Ha);qa&&c(va,qa);Object.defineProperty(va,"prototype",{writable:!1});return va}function w(va,Ha){if("function"!==typeof Ha&&null!==Ha)throw new TypeError("Super expression must either be null or a function");va.prototype=Object.create(Ha&&Ha.prototype,{constructor:{value:va,writable:!0,configurable:!0}});Object.defineProperty(va,"prototype",{writable:!1});Ha&&a(va,Ha)}function a(va,Ha){a=Object.setPrototypeOf||function(qa,Qa){qa.__proto__=Qa;return qa};
return a(va,Ha)}function k(va){var Ha=r();return function(){var qa=q(va);if(Ha){var Qa=q(this).constructor;qa=Reflect.construct(qa,arguments,Qa)}else qa=qa.apply(this,arguments);if(!qa||"object"!==z(qa)&&"function"!==typeof qa){if(void 0!==qa)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");qa=this}return qa}}function r(){if("undefined"===typeof Reflect||!Reflect.construct||
Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(va){return!1}}function q(va){q=Object.setPrototypeOf?Object.getPrototypeOf:function(Ha){return Ha.__proto__||Object.getPrototypeOf(Ha)};return q(va)}function b(va,Ha){var qa="undefined"!==typeof Symbol&&va[Symbol.iterator]||va["@@iterator"];if(!qa){if(Array.isArray(va)||(qa=d(va))||Ha&&va&&"number"===typeof va.length){qa&&(va=qa);var Qa=
0;Ha=function(){};return{s:Ha,n:function(){return Qa>=va.length?{done:!0}:{done:!1,value:va[Qa++]}},e:function(ma){throw ma;},f:Ha}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var Xa=!0,gb=!1,S;return{s:function(){qa=qa.call(va)},n:function(){var ma=qa.next();Xa=ma.done;return ma},e:function(ma){gb=!0;S=ma},f:function(){try{Xa||null==qa.return||qa.return()}finally{if(gb)throw S;}}}}function d(va,
Ha){if(va){if("string"===typeof va)return g(va,Ha);var qa=Object.prototype.toString.call(va).slice(8,-1);"Object"===qa&&va.constructor&&(qa=va.constructor.name);if("Map"===qa||"Set"===qa)return Array.from(va);if("Arguments"===qa||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qa))return g(va,Ha)}}function g(va,Ha){if(null==Ha||Ha>va.length)Ha=va.length;for(var qa=0,Qa=Array(Ha);qa<Ha;qa++)Qa[qa]=va[qa];return Qa}function m(va){return va.substring(0,1).toUpperCase()+va.substring(1)}function f(va,
Ha){return va+Ha}function n(va){return va?va.width*va.height*4:0}function u(va,Ha){function qa(V){dc=!1;if(0<wc.size||0<pc.size)V?ma():Xb||setTimeout(ma,1E3)}function Qa(){cb.emitEvent("changeSelection",[])}function Xa(V){cb.emitEvent("updateRegion",[V])}function gb(){cb.emitEvent("changeStructure");Na.resetTree();Oa();Xa(cb.getBounds())}function S(V,oa,Ka){cb.emitEvent("changeLayer",[V]);Ka||(Na.layerPropertyChanged(V,oa),Xa(cb.getBounds()))}function ma(){var V=b(wc),oa;try{for(V.s();!(oa=V.n()).done;){var Ka=
oa.value;Ka.rebuildImageThumbnail();cb.emitEvent("changeLayerImageThumb",[Ka])}}catch(Pa){V.e(Pa)}finally{V.f()}V=b(pc);var ha;try{for(V.s();!(ha=V.n()).done;){var Fa=ha.value;Fa.rebuildMaskThumbnail();cb.emitEvent("changeLayerMaskThumb",[Fa])}}catch(Pa){V.e(Pa)}finally{V.f()}wc.clear();Xb&&(clearTimeout(Xb),Xb=null)}function Ea(V,oa,Ka,ha){Array.isArray(V)||(V=[V]);V.forEach(function(Wa){return Na.invalidateLayerRect(Wa,oa)});var Fa=!1;if(Ka){Cb.union(oa);Ka=b(V);var Pa;try{for(Ka.s();!(Pa=Ka.n()).done;){var Ga=
Pa.value;Ga instanceof y.default&&(wc.add(Ga),Fa=!0)}}catch(Wa){Ka.e(Wa)}finally{Ka.f()}}ha&&(Hb.union(oa),V.forEach(function(Wa){pc.add(Wa);Tb&&Tb.layer==Wa&&Tb.invalidateRect(oa)}),Fa=!0);Fa&&(Xb&&(clearTimeout(Xb),Xb=null),dc||(Xb=setTimeout(ma,1E3)));Xa(oa)}function La(V,oa){Ea(V,oa,!ob,ob)}function hb(){return ob?Sa.mask:Sa.image}function yb(){if(!Lb.isEmpty()){if(ob){var V=Sa.mask;mb.brushMode==J.default.BRUSH_MODE_ERASE?Ib[J.default.BRUSH_MODE_PAINT].mergeOntoMask(V,N,4278190080):Ib[mb.brushMode].mergeOntoMask(V,
N,Ub&255)}else{V=Sa.image;var oa=Sa.getLockAlpha();mb.brushMode==J.default.BRUSH_MODE_ERASE&&oa?Ib[J.default.BRUSH_MODE_PAINT].mergeOntoImage(V,Ta,16777215):Ib[mb.brushMode].mergeOntoImage(V,Ta,Ub);oa&&V.copyAlphaFrom(Ta,Lb)}Lb.makeEmpty()}}function tb(){Sa instanceof y.default&&!Cb.isEmpty()&&(Ta.copyBitmapRect(Sa.image,Cb.left,Cb.top,Cb),Cb.makeEmpty())}function Ma(){Sa.mask&&!Hb.isEmpty()&&(N.copyBitmapRect(Sa.mask,Hb.left,Hb.top,Hb),Hb.makeEmpty())}function ta(){ob?Ma():tb()}function Oa(){var V=
cb.getBounds();Cb.set(V);Hb.set(V)}function Ja(V){cb.setHasUnsavedChanges(!0);0<Qb.length&&(Qb=[]);0!==Eb.length&&Eb[Eb.length-1].merge(V)?Eb[Eb.length-1].noChange()&&Eb.pop():(30<=Eb.length&&Eb.shift(),cb.compactUndo(),Eb.push(V))}function $a(V,oa){V||oa||(V=!ob,oa=ob);var Ka=Bb.clone(),ha=V?Ta.copyRectXOR(Sa.image,Ka):null,Fa=oa?N.copyRectXOR(Sa.mask,Ka):null;this.layer=Sa;Bb.makeEmpty();this.redo=this.undo=function(){ha&&this.layer.image.setRectXOR(ha,Ka);Fa&&this.layer.mask.setRectXOR(Fa,Ka);
Ea(this.layer,Ka,null!=ha,null!=Fa)};this.getMemoryUsed=function(Pa,Ga){return(ha?ha.length:0)+(Fa?Fa.length:0)}}function U(V){var oa=V.maskLinked,Ka=V.maskVisible;this.undo=function(){V.setMask(null);V.maskLinked=oa;V.maskVisible=Ka;gb();cb.setActiveLayer(V,!1)};this.redo=function(){var ha=new G.default(cb.width,cb.height,8);ha.clearAll(255);V.maskLinked=!0;V.maskVisible=!0;V.setMask(ha);gb();cb.setActiveLayer(V,!0)};this.redo()}function ca(V,oa){var Ka=V.mask,ha=!1;var Fa=oa&&V instanceof y.default?
V.image.clone():null;ha=Sa==V&&ob;this.undo=function(){V.setMask(Ka);Fa&&(V.image.copyPixelsFrom(Fa),Ea(V,V.image.getBounds(),!0,!1));ha&&cb.setActiveLayer(V,!0);gb()};this.redo=function(){Fa&&(t.default.multiplyAlphaByMask(V.image,100,V.mask),Ea(V,cb.getBounds(),!0,!1));ha&&cb.setActiveLayer(V,!1);V.setMask(null);gb()};this.redo()}function ba(V,oa,Ka){var ha=Ka instanceof y.default&&Ka.clip,Fa=V.layers[oa],Pa=Fa instanceof y.default&&Fa.clip,Ga=ob;this.undo=function(){V.removeLayer(Ka);var Wa=V.layers[oa-
1]||V.layers[0]||V;Fa instanceof y.default&&(Fa.clip=Pa);Ka instanceof y.default&&(Ka.clip=ha);gb();cb.setActiveLayer(Wa,Ga)};this.redo=function(){V.insertLayer(oa,Ka);Pa&&(Ka instanceof y.default?Ka.clip=!0:Fa.clip=!1);gb();cb.setActiveLayer(Ka,!1)};this.redo()}function aa(V){var oa=V.clone(),Ka=ob;this.undo=function(){oa.parent.removeLayer(oa);gb();cb.setActiveLayer(V,Ka)};this.redo=function(){var ha=V.name;ha.endsWith(" Copy")||(ha+=" Copy");oa.name=ha;V.parent.insertLayer(V.parent.indexOf(V)+
1,oa);gb();cb.setActiveLayer(oa,!1)};this.redo()}function sa(V){var oa=V.parent,Ka=oa.indexOf(V),ha=ob,Fa=0;if(V instanceof y.default&&!V.clip)for(var Pa=Ka+1;Pa<oa.layers.length;Pa++)if(oa.layers[Pa]instanceof y.default&&oa.layers[Pa].clip)Fa++;else break;this.undo=function(){oa.insertLayer(Ka,V);for(var Ga=0;Ga<Fa;Ga++)oa.layers[Ga+Ka+1].clip=!0;gb();cb.setActiveLayer(V,ha)};this.redo=function(){for(var Ga=0;Ga<Fa;Ga++)oa.layers[Ga+Ka+1].clip=!1;oa.removeLayerAtIndex(Ka);Ga=0==oa.layers.length?
V.parent:oa.layers[Math.max(Ka-1,0)];gb();cb.setActiveLayer(Ga,!1)};this.getMemoryUsed=function(Ga,Wa){return Ga?0:V.getMemoryUsed()};this.redo()}function Ba(V){var oa=V.parent.indexOf(V),Ka=ob,ha=new y.default(cb.width,cb.height,"");this.undo=function(){V.parent.setLayerAtIndex(oa,V);gb();cb.setActiveLayer(V,Ka)};this.redo=function(){V.parent.setLayerAtIndex(oa,ha);gb();cb.setActiveLayer(ha,!1)};this.getMemoryUsed=function(Pa,Ga){return Pa?0:V.getMemoryUsed()};var Fa=new P.default(V,cb.width,cb.height,
!1);Fa.buildTree();Fa=Fa.blendTree();ha.name=V.name;ha.alpha=Fa.alpha;ha.image=Fa.image;ha.blendMode=Fa.blendMode;ha.mask=Fa.mask;ha.blendMode==t.default.LM_PASSTHROUGH&&(ha.blendMode=t.default.LM_NORMAL);this.redo()}function Aa(V){var oa=V.parent,Ka=oa.layers[oa.indexOf(V)-1],ha=new y.default(cb.width,cb.height,""),Fa=ob;this.undo=function(){var Pa=oa.indexOf(ha);oa.removeLayerAtIndex(Pa);oa.insertLayer(Pa,V);oa.insertLayer(Pa,Ka);gb();cb.setActiveLayer(V,Fa)};this.redo=function(){ha.copyFrom(Ka);
0<V.getEffectiveAlpha()&&(ha.mask?(t.default.multiplyAlphaByMask(ha.image,ha.alpha,ha.mask),ha.mask=null):t.default.multiplyAlphaBy(ha.image,ha.alpha),ha.alpha=100,t.default.fuseImageOntoImage(ha.image,!0,V.image,V.alpha,V.blendMode,V.getBounds(),V.mask));var Pa=oa.indexOf(Ka);oa.removeLayerAtIndex(Pa);oa.removeLayerAtIndex(Pa);oa.insertLayer(Pa,ha);gb();cb.setActiveLayer(ha,!1)};this.getMemoryUsed=function(Pa,Ga){return Pa?0:V.getMemoryUsed()+ha.getMemoryUsed()};this.redo()}function ka(){var V=cb.getActiveLayer(),
oa=ra.layers.slice(0),Ka=new y.default(cb.width,cb.height,"");this.undo=function(){ra.layers=oa.slice(0);gb();cb.setActiveLayer(V,!1)};this.redo=function(){var ha=cb.fusionLayers();Ka.copyImageFrom(ha);ra.clearLayers();Ka.setName(cb.getDefaultLayerName(!1));ra.addLayer(Ka);gb();cb.setActiveLayer(Ka,!1)};this.getMemoryUsed=function(ha,Fa){return oa.map(function(Pa){return Pa.getMemoryUsed()}).reduce(f,0)};this.redo()}function X(V,oa,Ka){var ha=V.parent,Fa=V.parent.indexOf(V),Pa=ob,Ga=ha.layers[ha.indexOf(V)+
1],Wa=oa.layers[Ka],Za=V instanceof y.default&&V.clip,nb=Za?V.getClippingBase():!1,pb=0,ac=0;if(V instanceof y.default&&!V.clip)for(var zb=Fa+1;zb<ha.layers.length;zb++)if(ha.layers[zb]instanceof y.default&&ha.layers[zb].clip)pb++;else break;else if(V instanceof E.default)for(zb=Ka;zb<oa.layers.length;zb++)if(oa.layers[zb]instanceof y.default&&oa.layers[zb].clip)ac++;else break;this.undo=function(){V.parent.removeLayer(V);var Mb=Ga?ha.indexOf(Ga):ha.layers.length;ha.insertLayer(Mb,V);V instanceof
y.default&&(V.clip=Za);for(Mb=0;Mb<pb;Mb++)ha.layers[Mb+Fa+1].clip=!0;for(Mb=0;Mb<ac;Mb++)oa.layers[Mb+Ka].clip=!0;gb();cb.setActiveLayer(V,Pa)};this.redo=function(){for(var Mb=0;Mb<pb;Mb++)ha.layers[Mb+Fa+1].clip=!1;V.parent.removeLayer(V);Mb=Wa?oa.indexOf(Wa):oa.layers.length;oa.insertLayer(Mb,V);for(var lc=0;lc<ac;lc++)oa.layers[lc+Mb+1].clip=!1;V instanceof y.default&&(V.clip&&V.getClippingBase()!=nb&&(V.clip=!1),Wa instanceof y.default&&Wa.clip&&(V.clip=!0));for(lc=0;lc<ac;lc++)oa.layers[lc+
Mb+1].clip=!1;gb();cb.setActiveLayer(V,!1)};this.redo()}function Y(V,oa){var Ka=m(V),ha=function(Fa,Pa){Array.isArray(Fa)||(Fa=[Fa]);this.layers=Fa;this.from=this.layers.map(function(Ga){return Ga["get"+Ka]()});this.to=Pa;this.redo()};ha.prototype=Object.create(L.default.prototype);ha.prototype.constructor=ha;ha.prototype.undo=function(){var Fa=this;this.layers.forEach(function(Pa,Ga){return Pa["set"+Ka](Fa.from[Ga])});this.layers.forEach(function(Pa){return S(Pa,V,!oa)})};ha.prototype.redo=function(){var Fa=
this;this.layers.forEach(function(Pa){return Pa["set"+Ka](Fa.to)});this.layers.forEach(function(Pa){return S(Pa,V,!oa)})};ha.prototype.merge=function(Fa){var Pa;if(Pa=Fa instanceof ha)a:{Pa=this.layers;var Ga=Fa.layers;if(Pa.length!=Ga.length)Pa=!1;else{for(var Wa=0;Wa<Pa.length;Wa++)if(Pa[Wa]!=Ga[Wa]){Pa=!1;break a}Pa=!0}}return Pa?(this.to=Fa.to,!0):!1};ha.prototype.noChange=function(){for(var Fa=0;Fa<this.from.length;Fa++)if(this.from[Fa]!=this.to)return!1;return!0};return ha}function B(V,oa){V=
V.clone();oa=oa.clone();this.undo=function(){cb.setSelection(V);Xa(cb.getBounds())};this.redo=function(){cb.setSelection(oa);Xa(cb.getBounds())};this.noChange=function(){return V.equals(oa)}}function F(V,oa,Ka){var ha=oa?V.mask:V.image,Fa=ha.cloneRect(Ka);Ka=Ka.clone();this.undo=function(){ha.copyBitmapRect(Fa,Ka.left,Ka.top,Fa.getBounds());cb.setActiveLayer(V,oa);cb.setSelection(Ka);Ea(V,Ka,!oa,oa)};this.redo=function(){oa?ha.clearRect(Ka,0):ha.clearRect(Ka,16777215);jc=new R.default(Fa,Ka.left,
Ka.top);cb.setActiveLayer(V,oa);cb.emptySelection();Ea(V,Ka,!oa,oa)};this.getMemoryUsed=function(Pa,Ga){return Fa==Ga?0:Fa.getMemorySize()};this.redo()}function T(V){var oa=cb.getSelection(),Ka=ob,ha=new y.default(cb.width,cb.height,cb.getDefaultLayerName(!1)),Fa=Sa,Pa=Fa.parent;this.undo=function(){Pa.removeLayer(ha);cb.setSelection(oa);gb();cb.setActiveLayer(Fa,Ka)};this.redo=function(){var Ga=Pa.indexOf(Fa),Wa=V.bmp.getBounds();Pa.insertLayer(Ga+1,ha);if(Wa.isInside(cb.getBounds())){Ga=V.x;var Za=
V.y}else Ga=(cb.width-V.bmp.width)/2|0,Za=(cb.height-V.bmp.height)/2|0;if(V.bmp instanceof G.default){var nb=new H.default(V.bmp.width,V.bmp.height);nb.copyPixelsFromGreyscale(V.bmp);ha.image.copyBitmapRect(nb,Ga,Za,Wa)}else ha.image.copyBitmapRect(V.bmp,Ga,Za,Wa);cb.emptySelection();gb();cb.setActiveLayer(ha,!1)};this.getMemoryUsed=function(Ga,Wa){return V.bmp==Wa?0:V.bmp.getMemorySize()};this.redo()}va|=0;Ha|=0;var ra=new E.default("Root",t.default.LM_NORMAL),Na=new P.default(ra,va,Ha,!0),Ta=new H.default(va,
Ha),Cb=new ea.default(0,0,va,Ha),N=new G.default(va,Ha,8),Hb=new ea.default(0,0,va,Ha),bc=new G.default(va,Ha,32),Lb=new ea.default(0,0,0,0),qc=new I.default,cb=this,Ib=[],Sa=ra,ob=!1,Tb=null,Bb=new ea.default(0,0,0,0),zc=!1,kc=new ea.default(0,0,0,0),rc=null,fc=new ua.default,wb=null,jc=null,Eb=[],Qb=[],mb=null,gc=0,Yb=0,lb=0,Nb=!1,dc=!1,pc=new Set,wc=new Set,Xb=null,Ub=0,mc="smooth";this.getLayersRoot=function(){return ra};this.getSelectionAutoSelect=function(){return kc.isEmpty()?this.getBounds():
this.getSelection()};this.getSelection=function(){return kc.clone()};this.setHasUnsavedChanges=function(V){V!=zc&&(zc=V,this.emitEvent("unsavedChanges",[V]))};this.getHasUnsavedChanges=function(){return zc};this.isAddLayerMaskAllowed=function(){return!Sa.mask};this.addLayerMask=function(){this.isAddLayerMaskAllowed()&&Ja(new U(Sa))};this.isRemoveLayerMaskAllowed=function(){return null!==Sa.mask};this.removeLayerMask=function(){this.isRemoveLayerMaskAllowed()&&Ja(new ca(Sa,!1))};this.isApplyLayerMaskAllowed=
function(){return null!==Sa.mask&&Sa instanceof y.default};this.applyLayerMask=function(V){this.isApplyLayerMaskAllowed()&&Ja(new ca(Sa,!0))};this.addLayer=function(V){if(Sa instanceof E.default&&Sa.expanded){var oa=Sa;var Ka=Sa.layers.length}else oa=Sa.parent,Ka=oa.layers.indexOf(Sa)+1;switch(V){case "group":for(;oa.layers[Ka]instanceof y.default&&oa.layers[Ka].clip;)Ka++;V=new E.default(this.getDefaultLayerName(!0),t.default.LM_PASSTHROUGH);break;default:V=new y.default(this.width,this.height,this.getDefaultLayerName(!1)),
V.image.clearAll(16777215)}Ja(new ba(oa,Ka,V));return V};this.addLayerObject=function(V,oa){V.addLayer(oa);V==ra&&1==ra.layers.length&&(Sa=oa);gb()};this.addLayerGroupObject=function(V,oa,Ka){for(var ha=[],Fa=0;Fa<Ka;Fa++)ha.unshift(V.layers.pop());ha.forEach(function(Pa){return oa.addLayer(Pa)});this.addLayerObject(V,oa)};this.isRemoveLayerAllowed=function(){return Sa instanceof y.default?ra.getLinearizedLayerList(!1).some(function(V){return V instanceof y.default&&V!=Sa}):Sa instanceof E.default?
ra.getLinearizedLayerList(!1).some(function(V){return V instanceof y.default&&!V.hasAncestor(Sa)}):!1};this.removeLayer=function(){return this.isRemoveLayerAllowed()?(Ja(new sa(Sa)),!0):!1};this.duplicateLayer=function(){Ja(new aa(Sa))};this.isMergeDownAllowed=function(){var V=Sa.parent.indexOf(Sa);return 0<V&&Sa instanceof y.default&&Sa.parent.layers[V-1]instanceof y.default};this.mergeDown=function(){this.isMergeDownAllowed()&&Ja(new Aa(Sa))};this.isMergeGroupAllowed=function(){return Sa instanceof
E.default&&0<Sa.getEffectiveAlpha()};this.mergeGroup=function(){this.isMergeGroupAllowed()&&Ja(new Ba(Sa))};this.isMergeAllLayersAllowed=function(){return 1<ra.getLinearizedLayerList(!1).length};this.mergeAllLayers=function(){this.isMergeAllLayersAllowed()&&Ja(new ka)};this.relocateLayer=function(V,oa,Ka){V&&oa&&V!=oa&&!oa.hasAncestor(V)&&Ja(new X(V,oa,Ka))};this.setLayerVisibility=function(V,oa){var Ka=[];if(V.ancestorsAreVisible())V.visible!=oa&&Ja(new Ac(V,oa));else{for(;null!=V;V=V.parent)V.visible||
Ka.push(V);Ja(new Ac(Ka,!0))}};this.expandLayerGroup=function(V,oa){V.expanded!=oa&&(V.expanded=oa,!oa&&Sa.hasAncestor(V)&&this.setActiveLayer(V,!1),S(V,"expanded",!0))};this.setLayerAlpha=function(V){Sa.getAlpha()!=V&&Ja(new xc(Sa,V))};this.setLayerMaskLinked=function(V){Sa.maskLinked!=V&&Ja(new Ra(Sa,V))};this.setLayerMaskVisible=function(V,oa){V.maskVisible!=oa&&Ja(new sc(V,oa))};this.setLayerBlendMode=function(V){Sa.getBlendMode()!=V&&(V!=t.default.LM_PASSTHROUGH||Sa instanceof E.default)&&Ja(new Fc(Sa,
V))};this.setLayerName=function(V,oa){V.getName()!=oa&&Ja(new da(V,oa))};this.paintDab=function(V,oa,Ka){mb.applyPressure(Ka);0<mb.scattering&&(V+=fc.nextGaussian()*mb.curScattering/4,oa+=fc.nextGaussian()*mb.curScattering/4);Ka=Ib[mb.brushMode];V=qc.getDab(V,oa,mb);oa=new ea.default(0,0,V.width,V.height);var ha=new ea.default(0,0,V.width,V.height);ha.translate(V.x,V.y);cb.getBounds().clipSourceDest(oa,ha);if(!ha.isEmpty()){Bb.union(ha);var Fa=ob?Sa.mask:Sa.image;Ka.paintDab(Fa,ha,Nb&&!ob?rc:Fa,mb,
oa,V,Ub);!ob&&Ka.noMergePhase&&Sa.getLockAlpha()&&Fa.copyAlphaFrom(Ta,ha);Ka.wantsOutputAsInput&&(yb(),Nb&&!ob&&cb.fusionLayers());La(Sa,ha)}};this.getDefaultLayerName=function(V){var oa=V?"Group ":"Layer ";V=V?/^Group [0-9]+$/:/^Layer [0-9]+$/;for(var Ka=0,ha=ra.getLinearizedLayerList(!1),Fa=0;Fa<ha.length;Fa++){var Pa=ha[Fa];V.test(Pa.name)&&(Ka=Math.max(Ka,parseInt(Pa.name.substring(oa.length),10)))}return oa+(Ka+1)};this.addBackgroundLayer=function(){var V=new y.default(cb.width,cb.height,this.getDefaultLayerName(!1));
V.image.clearAll(4294967295);this.addLayerObject(this.getLayersRoot(),V)};this.fusionLayers=function(){yb();Na.buildTree();return rc=Na.blendTree().image};this.upgradeMultiplyLayers=function(V){for(var oa=this.getLayersRoot().getLinearizedLayerList(!1,[]),Ka=-1,ha=0;ha<oa.length;ha++){var Fa=oa[ha];if(!(Fa instanceof y.default)||Fa.mask||Fa.blendMode>t.default.LM_LAST_CHIBIPAINT)throw Error("Bad layer type during multiply upgrade");Fa.blendMode===t.default.LM_MULTIPLY&&(Ka=ha)}if(-1!==Ka){ha=new H.default(this.width,
this.height);var Pa=Fa=!0,Ga=this.getBounds();ha.clearAll(Ga,16777215);for(var Wa=0;Wa<=Ka;Wa++){var Za=oa[Wa];Pa||(Fa=Fa&&ha.hasAlphaInRect(Ga));if(Za.blendMode===t.default.LM_MULTIPLY)switch(V){case "bake":!Fa&&0<Za.getEffectiveAlpha()&&(100===Za.alpha?t.default.upgradeMultiplyOfOpaqueLayer(ha,Za.image,100,Ga):t.default.upgradeMultiplyOfTransparentLayer(ha,Za.image,Za.alpha,Ga),Za.setBlendMode(t.default.LM_MULTIPLY2));break;default:Fa&&Za.setBlendMode(t.default.LM_MULTIPLY2)}0<Za.getEffectiveAlpha()&&
(Pa=!1,t.default.fuseImageOntoImage(ha,Fa,Za.image,Za.alpha,Za.blendMode,Ga,null))}}};this.isCreateClippingMaskAllowed=function(){var V=Sa.parent.indexOf(Sa);V=Sa.parent.layers[V-1];return Sa instanceof y.default&&!Sa.clip&&V instanceof y.default};this.createClippingMask=function(){this.isCreateClippingMaskAllowed()&&Ja(new Ec(Sa,!0))};this.isReleaseClippingMaskAllowed=function(){return Sa instanceof y.default&&Sa.clip};this.releaseClippingMask=function(){this.isReleaseClippingMaskAllowed()&&Ja(new Ec(Sa,
!1))};this.setActiveLayer=function(V,oa){if(V){oa=V.mask&&oa;var Ka=oa!=ob;if(Sa!=V||Ka){var ha=Sa;Sa=V;ob=oa;Oa();this.emitEvent("changeActiveLayer",[ha,V,ob]);Ka&&this.emitEvent("editModeChanged",[ob?u.EDITING_MODE_MASK:u.EDITING_MODE_IMAGE]);Tb&&Tb.layer==ha&&(oa?Tb.setLayer(V):this.closeMaskView())}}};this.closeMaskView=function(){Tb.close();Tb=null};this.toggleMaskView=function(){null!=Tb&&Tb.isOpen()?this.closeMaskView():Tb=Sa.mask?new x.default(Sa,yb):null;return Tb};this.selectTopmostVisibleLayer=
function(){for(var V=ra.getLinearizedLayerList(!1),oa=V.length-1;0<=oa;oa--)if(V[oa]instanceof y.default&&0<V[oa].getEffectiveAlpha()){this.setActiveLayer(V[oa],!1);return}for(oa=V.length-1;0<=oa;oa--)if(V[oa]instanceof y.default){this.setActiveLayer(V[oa],!1);return}this.setActiveLayer(V[V.length-1],!1)};this.getActiveLayer=function(){return Sa};this.isEditingMask=function(){return ob};this.isActiveLayerDrawable=function(){return ob&&Sa.mask||!ob&&Sa instanceof y.default};this.getUndoMemoryUsed=
function(){var V=0,oa=b(Qb),Ka;try{for(oa.s();!(Ka=oa.n()).done;)V+=Ka.value.getMemoryUsed(!0,null)}catch(Fa){oa.e(Fa)}finally{oa.f()}oa=b(Eb);var ha;try{for(oa.s();!(ha=oa.n()).done;)V+=ha.value.getMemoryUsed(!1,null)}catch(Fa){oa.e(Fa)}finally{oa.f()}return V};this.isUndoAllowed=function(){return 0<Eb.length};this.isRedoAllowed=function(){return 0<Qb.length};this.undo=function(){if(this.isUndoAllowed()){this.setHasUnsavedChanges(!0);var V=Eb.pop();V.undo();Qb.push(V)}};this.redo=function(){if(this.isRedoAllowed()){this.setHasUnsavedChanges(!0);
var V=Qb.pop();V.redo();Eb.push(V)}};this.performIdleTasks=function(){ta();yb();Na.buildTree()};this.compactUndo=function(){0<Eb.length&&Eb[Eb.length-1].compact()};this.clearHistory=function(){Eb=[];Qb=[]};this.colorPicker=function(V,oa){return ob&&Sa.mask?fa.default.greyToRGB(Sa.mask.getPixel(~~V,~~oa)):rc.getPixel(~~V,~~oa)&16777215};this.setSelection=function(V){kc.set(V);kc.roundNearest();kc.clipTo(this.getBounds())};this.emptySelection=function(){kc.makeEmpty()};this.floodFill=function(V,oa){var Ka=
hb();Ka&&(ta(),Bb=this.getBounds(),Ka.floodFill(~~V,~~oa,Ub|4278190080),Ja(new $a),La(Sa,this.getBounds()))};this.gradientFill=function(V,oa,Ka,ha,Fa){var Pa=this.getSelectionAutoSelect(),Ga=hb();Ga&&(ta(),Bb=Pa.clone(),Ga.gradient(Pa,V,oa,Ka,ha,Fa,!1),this.getLayerLockAlpha()&&Ga instanceof H.default&&Ga.copyAlphaFrom(Ta,Pa),Ja(new $a),La(Sa,Pa))};this.fill=function(V){var oa=this.getSelectionAutoSelect(),Ka=hb();Ka&&(ta(),Bb=oa.clone(),Ka.clearRect(oa,V),Ja(new $a),La(Sa,oa))};this.clear=function(){ob?
this.fill(0):this.fill(16777215)};this.flip=function(V){var oa=this.getSelection(),Ka=oa.isEmpty(),ha=Ka&&Sa instanceof y.default&&Sa.mask&&Sa.maskLinked,Fa=(!ob||ha)&&Sa instanceof y.default;ha=(ob||ha)&&Sa.mask;V=V?"copyRegionHFlip":"copyRegionVFlip";if(Fa||ha)Ka&&(oa=this.getBounds()),Bb=oa.clone(),Fa&&(tb(),Sa.image[V](oa,Ta)),ha&&(Ma(),Sa.mask[V](oa,N)),Ja(new $a(Fa,ha)),Ea(Sa,oa,Fa,ha)};this.hFlip=function(){this.flip(!0)};this.vFlip=function(){this.flip(!1)};this.monochromaticNoise=function(){var V=
this.getSelectionAutoSelect(),oa=hb();oa&&(ta(),Bb=V.clone(),oa.fillWithNoise(V),Ja(new $a),La(Sa,V))};this.isColorNoiseAllowed=function(){return!this.isEditingMask()&&this.isActiveLayerDrawable()};this.colorNoise=function(){if(this.isColorNoiseAllowed()){var V=this.getSelectionAutoSelect();ta();Bb=V.clone();Sa.image.fillWithColorNoise(V);Ja(new $a(!0,!1));Ea(Sa,V,!0,!1)}};this.invert=function(){var V=this.getSelectionAutoSelect(),oa=hb();oa&&(ta(),Bb=V.clone(),oa.invert(V),Ja(new $a),La(Sa,V))};
this.boxBlur=function(V,oa,Ka){var ha=this.getSelectionAutoSelect(),Fa=hb();if(Fa){ta();Bb=ha.clone();for(var Pa=0;Pa<Ka;Pa++)Fa.boxBlur(ha,V,oa);Ja(new $a);La(Sa,ha)}};this.rectangleSelection=function(V){V=V.clone();V.clipTo(this.getBounds());Ja(new B(this.getSelection(),V));this.setSelection(V)};this.move=function(V,oa,Ka){V|=0;oa|=0;if(0!=V||0!=oa){var ha=0<Eb.length?Eb[Eb.length-1]:null;!Ka&&ha instanceof eb&&ha.layer==this.getActiveLayer()?(ha.amend(V,oa),Qb=[],this.setHasUnsavedChanges(!0)):
(V=new eb(V,oa,Ka),Ja(V),V.redo())}};this.setTransformInterpolation=function(V){mc=V;wb instanceof ib&&wb.setInterpolation(V)};this.transformAffineAbort=function(){wb instanceof ib&&(wb.undo(),wb=null,qa(!0))};this.transformAffineBegin=function(){if(wb instanceof ib)return{transform:wb.getTransform(),rect:wb.getInitialTransformRect(),selection:wb.getInitialSelectionRect()};var V=new na.default;var oa=new ib(V,mc);if(oa.getInitialTransformRect().isEmpty())return null;wb=oa;dc=!0;return{transform:V,
rect:oa.getInitialTransformRect(),selection:oa.getInitialSelectionRect()}};this.transformAffineFinish=function(){wb instanceof ib&&(Ja(wb),wb=null,qa(!0))};this.transformAffineAmend=function(V){wb instanceof ib&&wb.amend(V)};this.isCopySelectionAllowed=this.isCutSelectionAllowed=function(){return!this.getSelection().isEmpty()&&null!==hb()};this.cutSelection=function(){this.isCutSelectionAllowed()&&Ja(new F(Sa,ob,this.getSelection()))};this.copySelection=function(){if(this.isCopySelectionAllowed()){var V=
cb.getSelection(),oa=hb();jc=new R.default(oa.cloneRect(V),V.left,V.top)}};this.isCopySelectionMergedAllowed=function(){return!this.getSelection().isEmpty()};this.copySelectionMerged=function(){if(this.isCopySelectionMergedAllowed()){var V=cb.getSelection();jc=new R.default(this.fusionLayers().cloneRect(V),V.left,V.top)}};this.isPasteClipboardAllowed=function(){return!this.isClipboardEmpty()};this.pasteClipboard=function(){this.isPasteClipboardAllowed()&&Ja(new T(jc))};this.getClipboard=function(){return jc};
this.setClipboard=function(V){jc=V};this.isClipboardEmpty=function(){return null==jc};this.setSampleAllLayers=function(V){Nb=V};this.getLayerLockAlpha=function(){return this.getActiveLayer().getLockAlpha()};this.setLayerLockAlpha=function(V){Sa.getLockAlpha()!=V&&Ja(new Ia(Sa,V))};this.setForegroundColor=function(V){Ub=V};this.setBrush=function(V){mb=V};this.setBrushTexture=function(V){qc.setTexture(V)};this.beginStroke=function(V,oa,Ka){if(null===mb||!this.isActiveLayerDrawable())return!1;ta();Bb.makeEmpty();
bc.clearAll(0);Lb.makeEmpty();gc=V;Yb=oa;lb=Ka;dc=!0;Ib[mb.brushMode].beginStroke();this.paintDab(V,oa,Ka);return!0};this.continueStroke=function(V,oa,Ka){if(null!=mb){var ha=Math.sqrt((gc-V)*(gc-V)+(Yb-oa)*(Yb-oa)),Fa=Math.max(mb.minSpacing,mb.curSize*mb.spacing);if(ha>Fa){var Pa=gc,Ga=Yb,Wa=lb;for(Fa=ha=(Fa-.001)/ha;1>=Fa;Fa+=ha)Pa=Fa*V+(1-Fa)*gc,Ga=Fa*oa+(1-Fa)*Yb,Wa=Fa*Ka+(1-Fa)*lb,this.paintDab(Pa,Ga,Wa);gc=Pa;Yb=Ga;lb=Wa}}};this.endStroke=function(){null!=mb&&(yb(),Ib[mb.brushMode].endStroke(),
Bb.clipTo(this.getBounds()),Bb.isEmpty()||(Ja(new $a),ta()),qa(!1))};this.hasAlpha=function(){return rc.hasAlpha()};this.getFlatPNG=function(V){this.fusionLayers();return rc.getAsPNG(V)};this.getFlatPNGBuffer=function(V){this.fusionLayers();return rc.getAsPNGBuffer(V)};this.isSimpleDrawing=function(){return 1==ra.layers.length&&ra.layers[0]instanceof y.default&&!ra.layers[0].mask&&100==ra.layers[0].getEffectiveAlpha()};$a.prototype=Object.create(L.default.prototype);$a.prototype.constructor=$a;U.prototype=
Object.create(L.default.prototype);U.prototype.constructor=U;ca.prototype=Object.create(L.default.prototype);ca.prototype.constructor=ca;ba.prototype=Object.create(L.default.prototype);ba.prototype.constructor=ba;aa.prototype=Object.create(L.default.prototype);aa.prototype.constructor=aa;sa.prototype=Object.create(L.default.prototype);sa.prototype.constructor=sa;Ba.prototype=Object.create(L.default.prototype);Ba.prototype.constructor=Ba;Aa.prototype=Object.create(L.default.prototype);Aa.prototype.constructor=
Aa;ka.prototype=Object.create(L.default.prototype);ka.prototype.constructor=ka;X.prototype=Object.create(L.default.prototype);X.prototype.constructor=X;var xc=Y("alpha",!0),Fc=Y("blendMode",!0),Ac=Y("visible",!0),Ec=Y("clip",!0),sc=Y("maskVisible",!0),da=Y("name",!1),Ia=Y("lockAlpha",!1),Ra=Y("maskLinked",!1);B.prototype=Object.create(L.default.prototype);B.prototype.constructor=B;var fb=function(V){function oa(){D(this,oa);var ha=Ka.call(this);ha.layer=Sa;ha.fromSelection=cb.getSelection();ha.fromMaskMode=
ob;ha.movingWholeLayer=ha.fromSelection.isEmpty();ha.movingImage=!ob||ha.movingWholeLayer&&ha.layer.maskLinked;ha.movingMask=ob||ha.movingWholeLayer&&ha.layer.maskLinked;ha.hasFullUndo=!1;ha.erasesSourceRect=!1;ha.dstRect=new ea.default(0,0,0,0);ha.movingLayers=[{layer:ha.layer,moveImage:ha.layer instanceof y.default&&ha.movingImage,moveMask:null!==ha.layer.mask&&ha.movingMask,imageRect:new Map,maskRect:new Map}];ha.layer instanceof E.default&&ha.movingImage&&ha.movingWholeLayer&&(ha.movingLayers=
ha.movingLayers.concat(ha.layer.getLinearizedLayerList(!1).map(function(Wa){return{layer:Wa,moveImage:Wa instanceof y.default,moveMask:null!==Wa.mask&&Wa.maskLinked,imageRect:new Map,maskRect:new Map}})));var Fa=new ea.default(0,0,0,0);if(ha.movingWholeLayer){ha.srcRect=cb.getBounds();for(var Pa=0;Pa<ha.movingLayers.length&&!Fa.equals(ha.srcRect);Pa++){var Ga=ha.movingLayers[Pa];Ga.moveMask&&Fa.union(Ga.layer.mask.getValueBounds(ha.srcRect,255));Ga.moveImage&&Fa.union(Ga.layer.image.getNonTransparentBounds(ha.srcRect))}}else for(ha.srcRect=
ha.fromSelection.clone(),Pa=0;Pa<ha.movingLayers.length&&!Fa.equals(ha.srcRect);Pa++)Ga=ha.movingLayers[Pa],Ga.moveMask&&Fa.union(Ga.layer.mask.getValueBounds(ha.srcRect,0)),Ga.moveImage&&Fa.union(Ga.layer.image.getNonTransparentBounds(ha.srcRect));ha.srcRect=Fa;return ha}w(oa,V);var Ka=k(oa);e(oa,[{key:"undo",value:function(){var ha=this,Fa=[];this.dstRect.isEmpty()||Fa.push(this.dstRect);this.erasesSourceRect&&(Fa.push(this.srcRect),Fa=ea.default.union(Fa));this.movingLayers.forEach(function(Pa){ha.hasFullUndo?
Fa.forEach(function(Ga){Pa.moveImage&&Pa.layer.image.copyBitmapRect(Pa.imageUndo,Ga.left,Ga.top,Ga);Pa.moveMask&&Pa.layer.mask.copyBitmapRect(Pa.maskUndo,Ga.left,Ga.top,Ga)}):(Pa.moveImage&&Pa.imageRect.forEach(function(Ga,Wa){Pa.layer.image.copyBitmapRect(Ga,Wa.left,Wa.top,Ga.getBounds())}),Pa.moveMask&&Pa.maskRect.forEach(function(Ga,Wa){Pa.layer.mask.copyBitmapRect(Ga,Wa.left,Wa.top,Ga.getBounds())}))});Ea(this.movingLayers.map(function(Pa){return Pa.layer}),Fa.reduce(function(Pa,Ga){return Pa.getUnion(Ga)},
new ea.default(0,0,0,0)),!0,!0);this.dstRect.makeEmpty();cb.setSelection(this.fromSelection);cb.setActiveLayer(this.layer,this.fromMaskMode);Qa()}},{key:"getMemoryUsed",value:function(ha,Fa){return this.movingLayers.map(function(Pa){return[Pa.imageUndo,Pa.maskUndo,Pa.imageRect,Pa.maskRect].map(function(Ga){return Ga?Ga.getMemorySize():0}).reduce(f,0)}).reduce(f,0)}},{key:"buildFullUndo",value:function(){this.hasFullUndo||(this.movingLayers.forEach(function(ha){ha.moveImage&&(ha.imageUndo=ha.layer.image.clone());
ha.moveMask&&(ha.maskUndo=ha.layer.mask.clone());ha.imageRect.clear();ha.maskRect.clear()}),this.hasFullUndo=!0)}},{key:"compact",value:function(){if(this.hasFullUndo){var ha=[];this.dstRect.isEmpty()||ha.push(this.dstRect);this.erasesSourceRect&&(ha.push(this.srcRect),ha=ea.default.union(ha));this.movingLayers.forEach(function(Fa){Fa.imageRect.clear();Fa.maskRect.clear();ha.forEach(function(Pa){Fa.moveImage&&Fa.imageRect.set(Pa,Fa.imageUndo.cloneRect(Pa));Fa.moveMask&&Fa.maskRect.set(Pa,Fa.maskUndo.cloneRect(Pa))});
Fa.imageUndo=null;Fa.maskUndo=null});this.hasFullUndo=!1}}}]);return oa}(L.default),ib=function(V){function oa(ha,Fa){D(this,oa);var Pa=Ka.call(this);Pa.erasesSourceRect=!0;Pa.affineTransform=ha.clone();Pa.interpolation=Fa||"smooth";Pa.composeCanvas=null;Pa.composeCanvasContext=null;return Pa}w(oa,V);var Ka=k(oa);e(oa,[{key:"buildFullUndo",value:function(){var ha=this;this.hasFullUndo||(v(q(oa.prototype),"buildFullUndo",this).call(this),this.movingLayers.forEach(function(Fa){if(Fa.moveImage){var Pa=
(0,pa.createCanvas)(ha.srcRect.getWidth(),ha.srcRect.getHeight());Pa.getContext("2d").putImageData(Fa.layer.image.getImageData(),-ha.srcRect.left,-ha.srcRect.top,ha.srcRect.left,ha.srcRect.top,ha.srcRect.getWidth(),ha.srcRect.getHeight());Fa.imageSourceCanvas=Pa}Fa.moveMask&&(Pa=(0,pa.createCanvas)(ha.srcRect.getWidth(),ha.srcRect.getHeight()),Pa.getContext("2d").putImageData(Fa.layer.mask.getImageData(ha.srcRect.left,ha.srcRect.top,ha.srcRect.getWidth(),ha.srcRect.getHeight()),0,0),Fa.maskSourceCanvas=
Pa)}),this.composeCanvas=(0,pa.createCanvas)(cb.width,cb.height),this.composeCanvasContext=this.composeCanvas.getContext("2d"),(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.junk=this.composeCanvasContext.getImageData(0,0,1,1))}},{key:"redo",value:function(){var ha=this;this.buildFullUndo();var Fa=this.dstRect.clone(),Pa=this.srcRect.toPoints();this.affineTransform.transformPoints(Pa);this.dstRect.set(ea.default.createBoundingBox(Pa).roundContain().clipTo(cb.getBounds()));
var Ga=ea.default.subtract(this.dstRect,this.srcRect),Wa=ea.default.subtract(Fa.isEmpty()?this.srcRect:this.srcRect.getIntersection(Fa),this.dstRect),Za=this.srcRect.getIntersection(this.dstRect),nb=ea.default.subtract(Fa,[this.dstRect,this.srcRect]);Fa=this.srcRect.getUnion(this.dstRect).getUnion(Fa);this.movingLayers.forEach(function(pb){Wa.forEach(function(zb){pb.moveImage&&pb.layer.image.clearRect(zb,16777215);pb.moveMask&&(ha.movingWholeLayer?pb.layer.mask.clearRect(zb,255):pb.layer.mask.clearRect(zb,
0))});if(!ha.dstRect.isEmpty()){if(pb.moveImage){var ac=pb.imageUndo.getImageData();Ga.forEach(function(zb){ha.composeCanvasContext.putImageData(ac,0,0,zb.left,zb.top,zb.getWidth(),zb.getHeight())});ha.composeCanvasContext.clearRect(Za.left,Za.top,Za.getWidth(),Za.getHeight());ha.composeCanvasContext.save();ha.composeCanvasContext.setTransform(ha.affineTransform.m[0],ha.affineTransform.m[1],ha.affineTransform.m[2],ha.affineTransform.m[3],ha.affineTransform.m[4],ha.affineTransform.m[5]);ha.composeCanvasContext.drawImage(pb.imageSourceCanvas,
ha.srcRect.left,ha.srcRect.top);ha.composeCanvasContext.restore();pb.layer.image.copyBitmapRect(new H.default(ha.composeCanvasContext.getImageData(ha.dstRect.left,ha.dstRect.top,ha.dstRect.getWidth(),ha.dstRect.getHeight())),ha.dstRect.left,ha.dstRect.top,new ea.default(0,0,ha.dstRect.getWidth(),ha.dstRect.getHeight()))}pb.moveMask&&(Ga.forEach(function(zb){ha.composeCanvasContext.putImageData(pb.layer.mask.getImageData(zb.left,zb.top,zb.getWidth(),zb.getHeight()),zb.left,zb.top)}),ha.composeCanvasContext.fillStyle=
ha.movingWholeLayer?"#FFF":"#000",ha.composeCanvasContext.fillRect(Za.left,Za.top,Za.getWidth(),Za.getHeight()),ha.composeCanvasContext.save(),ha.composeCanvasContext.setTransform(ha.affineTransform.m[0],ha.affineTransform.m[1],ha.affineTransform.m[2],ha.affineTransform.m[3],ha.affineTransform.m[4],ha.affineTransform.m[5]),ha.composeCanvasContext.drawImage(pb.maskSourceCanvas,ha.srcRect.left,ha.srcRect.top),ha.composeCanvasContext.restore(),pb.layer.mask.pasteImageData(ha.composeCanvasContext.getImageData(ha.dstRect.left,
ha.dstRect.top,ha.dstRect.getWidth(),ha.dstRect.getHeight()),ha.dstRect.left,ha.dstRect.top))}nb.forEach(function(zb){pb.moveImage&&pb.layer.image.copyBitmapRect(pb.imageUndo,zb.left,zb.top,zb);pb.moveMask&&pb.layer.mask.copyBitmapRect(pb.maskUndo,zb.left,zb.top,zb)})});Ea(this.movingLayers.map(function(pb){return pb.layer}),Fa,!0,!0);this.fromSelection.isEmpty()||(Fa=this.fromSelection.toPoints(),this.affineTransform.transformPoints(Fa),Fa=ea.default.createBoundingBox(Fa),Fa.roundNearest(),cb.setSelection(Fa),
Qa());cb.setActiveLayer(this.layer,this.fromMaskMode)}},{key:"amend",value:function(ha){this.hasFullUndo||this.undo();this.affineTransform=ha.clone();this.redo()}},{key:"setInterpolation",value:function(ha){ha!=this.interpolation&&(this.interpolation=ha,this.composeCanvasContext&&(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.undo(),this.redo())}},{key:"compact",value:function(){v(q(oa.prototype),"compact",this).call(this);this.composeCanvasContext=this.composeCanvas=
null;this.movingLayers.forEach(function(ha){return ha.imageSourceCanvas=null})}},{key:"getMemoryUsed",value:function(ha,Fa){ha=v(q(oa.prototype),"getMemoryUsed",this).call(this,ha,Fa);ha+=n(this.composeCanvas);return ha+=this.movingLayers.map(function(Pa){return n(Pa.imageSourceCanvas)}).reduce(f,0)}},{key:"getTransform",value:function(){return this.affineTransform.clone()}},{key:"getInitialTransformRect",value:function(){return this.srcRect.clone()}},{key:"getInitialSelectionRect",value:function(){return this.fromSelection.clone()}}]);
return oa}(fb),eb=function(V){function oa(ha,Fa,Pa){D(this,oa);var Ga=Ka.call(this);Ga.offsetX=ha;Ga.offsetY=Fa;Ga.erasesSourceRect=!Pa;return Ga}w(oa,V);var Ka=k(oa);e(oa,[{key:"redo",value:function(){var ha=this,Fa=this.dstRect.clone(),Pa=Fa.clone(),Ga=null;this.buildFullUndo();this.dstRect.set(this.srcRect);this.dstRect.translate(this.offsetX,this.offsetY);var Wa=this.dstRect.clone();this.dstRect.clipTo(cb.getBounds());if(this.erasesSourceRect){Ga=Fa.isEmpty()?this.srcRect:this.srcRect.getIntersection(Fa);
Pa.union(Ga);var Za=Fa.subtract(this.srcRect)}else Za=[Fa];this.movingLayers.forEach(function(nb){Ga&&(nb.moveImage&&nb.layer.image.clearRect(Ga,16777215),nb.moveMask&&nb.layer.mask.clearRect(Ga,ha.movingWholeLayer?255:0));Za.forEach(function(pb){nb.moveImage&&nb.layer.image.copyBitmapRect(nb.imageUndo,pb.left,pb.top,pb);nb.moveMask&&nb.layer.mask.copyBitmapRect(nb.maskUndo,pb.left,pb.top,pb)});nb.moveImage&&t.default.normalFuseImageOntoImageAtPosition(nb.layer.image,nb.imageUndo,Wa.left,Wa.top,ha.srcRect);
nb.moveMask&&nb.layer.mask.copyBitmapRect(nb.maskUndo,Wa.left,Wa.top,ha.srcRect)});Pa.union(this.dstRect);Ea(this.movingLayers.map(function(nb){return nb.layer}),Pa,!0,!0);this.fromSelection.isEmpty()||(Fa=this.fromSelection.clone(),Fa.translate(this.offsetX,this.offsetY),cb.setSelection(Fa),Qa())}},{key:"amend",value:function(ha,Fa){this.hasFullUndo||this.undo();this.offsetX+=ha;this.offsetY+=Fa;this.redo()}}]);return oa}(fb);F.prototype=Object.create(L.default.prototype);F.prototype.constructor=
F;T.prototype=Object.create(L.default.prototype);T.prototype.constructor=T;Ib=[ya.CPBrushTool,ya.CPBrushToolEraser,ya.CPBrushToolDodge,ya.CPBrushToolBurn,ya.CPBrushToolWatercolor,ya.CPBrushToolBlur,ya.CPBrushToolSmudge,ya.CPBrushToolOil].map(function(V){return new V(bc,Lb)});this.width=va;this.height=Ha}Object.defineProperty(C,"__esModule",{value:!0});C.default=u;var y=h(l("./CPImageLayer.js")),E=h(l("./CPLayerGroup.js")),t=h(l("./CPBlend.js"));l("./CPBlendAdditional.js");var G=h(l("./CPGreyBmp.js")),
P=h(l("./CPBlendTree.js")),x=h(l("./CPMaskView.js")),H=h(l("./CPColorBmp.js")),I=h(l("./CPBrushManager.js")),J=h(l("./CPBrushInfo.js")),L=h(l("./CPUndo.js")),R=h(l("./CPClip.js")),fa=h(l("../util/CPColor.js")),ea=h(l("../util/CPRect.js")),ua=h(l("../util/CPRandom.js")),na=h(l("../util/CPTransform.js")),Q=l("../util/CPPolyfill.js"),pa=l("../util/Canvas.js"),ia=h(l("wolfy87-eventemitter")),ya=l("./CPBrushTool.js");u.prototype=Object.create(ia.default.prototype);u.prototype.constructor=u;u.prototype.getBounds=
function(){return new ea.default(0,0,this.width,this.height)};u.prototype.isPointWithin=function(va,Ha){return 0<=va&&0<=Ha&&va<this.width&&Ha<this.height};u.EDITING_MODE_IMAGE=0;u.EDITING_MODE_MASK=1;M.exports=C.default},{"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPRandom.js":62,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/Canvas.js":2,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPBlendTree.js":7,"./CPBrushInfo.js":8,"./CPBrushManager.js":9,"./CPBrushTool.js":10,
"./CPClip.js":12,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPImageLayer.js":15,"./CPLayerGroup.js":17,"./CPMaskView.js":19,"./CPUndo.js":22,"wolfy87-eventemitter":284}],4:[function(l,M,C){function z(v,D){this.width=v|0;this.height=D|0}Object.defineProperty(C,"__esModule",{value:!0});C.default=z;var h=function(v){return v&&v.__esModule?v:{default:v}}(l("../util/CPRect.js"));z.prototype.getBounds=function(){return new h.default(0,0,this.width,this.height)};z.prototype.isInside=function(v,D){return 0<=
v&&0<=D&&v<this.width&&D<this.height};M.exports=C.default},{"../util/CPRect.js":63}],5:[function(l,M,C){function z(c){return c&&c.__esModule?c:{default:c}}function h(){}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;z(l("./CPColorBmp.js"));z(l("./CPGreyBmp.js"));z(l("./CPLayer.js"));z(l("../util/CPRect.js"));var v=Array(256),D=Array(256);h.multiplyOntoOpaqueFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|
0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a];c.data[a]=g-((e.data[a]^255)*g*d/65025|0);g=c.data[a+1];c.data[a+1]=g-((e.data[a+1]^255)*g*d/65025|0);g=c.data[a+2];c.data[a+2]=g-((e.data[a+2]^255)*g*d/65025|0)}}};h.multiplyOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=
c.data[a];c.data[a]=m-((e.data[a]^255)*m*g/65025|0);m=c.data[a+1];c.data[a+1]=m-((e.data[a+1]^255)*m*g/65025|0);m=c.data[a+2];c.data[a+2]=m-((e.data[a+2]^255)*m*g/65025|0)}}};h.multiplyOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,u=(d^255)*g/255|0;d=e.data[a];
g=c.data[a];c.data[a]=(d*n+g*u+(d*g*f/255|0))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(d*n+g*u+(d*g*f/255|0))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(d*n+g*u+(d*g*f/255|0))/m|0;c.data[a+3]=m}}};h.multiplyOntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,
u=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(g*u+m*y+(g*m*n/255|0))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(g*u+m*y+(g*m*n/255|0))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(g*u+m*y+(g*m*n/255|0))/f|0;c.data[a+3]=f}}};h.multiplyOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<
r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b];c.data[b]=n-((e.data[b]^255)*n*f/65025|0);n=c.data[b+1];c.data[b+1]=n-((e.data[b+1]^255)*n*f/65025|0);n=c.data[b+2];c.data[b+2]=n-((e.data[b+2]^255)*n*f/65025|0)}}};h.multiplyOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=
4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d];c.data[d]=u-((e.data[d]^255)*u*n/65025|0);u=c.data[d+1];c.data[d+1]=u-((e.data[d+1]^255)*u*n/65025|0);u=c.data[d+2];c.data[d+2]=u-((e.data[d+2]^255)*u*n/65025|0)}}};h.multiplyOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=
e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=f*n/255|0,E=f*(n^255)/255|0,t=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(f*E+n*t+(f*n*y/255|0))/u|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(f*E+n*t+(f*n*y/255|0))/u|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(f*E+n*t+(f*n*y/255|0))/u|0;c.data[b+3]=u}}};h.multiplyOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|
0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=n*u/255|0,t=n*(u^255)/255|0,G=(n^255)*u/255|0;n=e.data[d];u=c.data[d];c.data[d]=(n*t+u*G+(n*u*E/255|0))/y|0;n=e.data[d+1];u=c.data[d+1];c.data[d+1]=(n*t+u*G+(n*u*E/255|0))/y|0;n=e.data[d+2];u=c.data[d+2];c.data[d+2]=(n*t+u*G+(n*u*E/255|0))/y|0;c.data[d+3]=y}}};h.multiply2OntoOpaqueFusionWithOpaqueLayer=
function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a];c.data[a]=g-Math.ceil((e.data[a]^255)*g*d/65025);g=c.data[a+1];c.data[a+1]=g-Math.ceil((e.data[a+1]^255)*g*d/65025);g=c.data[a+2];c.data[a+2]=g-Math.ceil((e.data[a+2]^255)*g*d/65025)}}};h.multiply2OntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-
r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a];c.data[a]=m-Math.ceil((e.data[a]^255)*m*g/65025);m=c.data[a+1];c.data[a+1]=m-Math.ceil((e.data[a+1]^255)*m*g/65025);m=c.data[a+2];c.data[a+2]=m-Math.ceil((e.data[a+2]^255)*m*g/65025)}}};h.multiply2OntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,
a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,u=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(d*n+g*u+(d*g*f/255|0))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(d*n+g*u+(d*g*f/255|0))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(d*n+g*u+(d*g*f/255|0))/m|0;c.data[a+3]=m}}};h.multiply2OntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,u=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(g*u+m*y+(g*m*n/255|0))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(g*u+m*y+(g*m*n/255|0))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(g*u+m*y+(g*m*n/255|0))/f|0;c.data[a+3]=f}}};h.multiply2OntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|
0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b];c.data[b]=n-Math.ceil((e.data[b]^255)*n*f/65025);n=c.data[b+1];c.data[b+1]=n-Math.ceil((e.data[b+1]^255)*n*f/65025);n=c.data[b+2];c.data[b+2]=n-Math.ceil((e.data[b+2]^255)*n*f/65025)}}};h.multiply2OntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=
a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d];c.data[d]=u-Math.ceil((e.data[d]^255)*u*n/65025);u=c.data[d+1];c.data[d+1]=u-Math.ceil((e.data[d+1]^255)*u*n/65025);u=c.data[d+2];c.data[d+2]=u-Math.ceil((e.data[d+2]^255)*u*n/65025)}}};h.multiply2OntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|
0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=f*n/255|0,E=f*(n^255)/255|0,t=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(f*E+n*t+(f*n*y/255|0))/u|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(f*E+n*t+(f*n*y/255|0))/u|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(f*E+n*t+(f*n*y/255|
0))/u|0;c.data[b+3]=u}}};h.multiply2OntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=n*u/255|0,t=n*(u^255)/255|0,G=(n^255)*u/255|0;n=e.data[d];u=c.data[d];c.data[d]=(n*t+u*G+(n*u*E/255|0))/y|0;n=
e.data[d+1];u=c.data[d+1];c.data[d+1]=(n*t+u*G+(n*u*E/255|0))/y|0;n=e.data[d+2];u=c.data[d+2];c.data[d+2]=(n*t+u*G+(n*u*E/255|0))/y|0;c.data[d+3]=y}}};h.normalOntoOpaqueFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d)if(255==d)c.data[a]=e.data[a],c.data[a+1]=e.data[a+1],c.data[a+2]=e.data[a+2];else{var g=255-d;var m=e.data[a];c.data[a]=(m*d+c.data[a]*
g)/255|0;m=e.data[a+1];c.data[a+1]=(m*d+c.data[a+1]*g)/255|0;m=e.data[a+2];c.data[a+2]=(m*d+c.data[a+2]*g)/255|0}}};h.normalOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=255-g;var f=e.data[a];c.data[a]=(f*g+c.data[a]*m)/255|0;f=e.data[a+1];c.data[a+1]=(f*g+c.data[a+1]*m)/255|0;f=e.data[a+2];c.data[a+2]=(f*g+c.data[a+
2]*m)/255|0}}};h.normalOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];g=d+g-(d*g/255|0)|0;d=255*d/g|0;var m=255-d;c.data[a]=(e.data[a]*d+c.data[a]*m)/255|0;c.data[a+1]=(e.data[a+1]*d+c.data[a+1]*m)/255|0;c.data[a+2]=(e.data[a+2]*d+c.data[a+2]*m)/255|0;c.data[a+3]=g}}};h.normalOntoTransparentFusionWithTransparentLayer=
function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];m=g+m-(g*m/255|0)|0;g=255*g/m|0;var f=255-g;c.data[a]=(e.data[a]*g+c.data[a]*f)/255|0;c.data[a+1]=(e.data[a+1]*g+c.data[a+1]*f)/255|0;c.data[a+2]=(e.data[a+2]*g+c.data[a+2]*f)/255|0;c.data[a+3]=m}}};h.normalOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|
0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f)if(255==f)c.data[b]=e.data[b],c.data[b+1]=e.data[b+1],c.data[b+2]=e.data[b+2];else{var n=255-f;var u=e.data[b];c.data[b]=(u*f+c.data[b]*n)/255|0;u=e.data[b+1];c.data[b+1]=(u*f+c.data[b+1]*n)/255|0;u=e.data[b+2];c.data[b+2]=(u*f+c.data[b+2]*n)/255|0}}};h.normalOntoOpaqueFusionWithTransparentLayerMasked=
function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=255-n;var y=e.data[d];c.data[d]=(y*n+c.data[d]*u)/255|0;y=e.data[d+1];c.data[d+1]=(y*n+c.data[d+1]*u)/255|0;y=e.data[d+2];c.data[d+2]=(y*n+c.data[d+2]*u)/255|0}}};h.normalOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=
a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];n=f+n-(f*n/255|0)|0;f=255*f/n|0;var u=255-f;c.data[b]=(e.data[b]*f+c.data[b]*u)/255|0;c.data[b+1]=(e.data[b+1]*f+c.data[b+1]*u)/255|0;c.data[b+2]=(e.data[b+2]*f+c.data[b+2]*u)/255|0;c.data[b+3]=n}}};h.normalOntoTransparentFusionWithTransparentLayerMasked=
function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];u=n+u-(n*u/255|0)|0;n=255*n/u|0;var y=255-n;c.data[d]=(e.data[d]*n+c.data[d]*y)/255|0;c.data[d+1]=(e.data[d+1]*n+c.data[d+1]*y)/255|0;c.data[d+2]=(e.data[d+2]*n+c.data[d+2]*y)/255|0;c.data[d+3]=u}}};h.addOntoOpaqueFusionWithOpaqueLayer=
function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];d&&(c.data[a]=c.data[a]+d*e.data[a]/255|0,c.data[a+1]=c.data[a+1]+d*e.data[a+1]/255|0,c.data[a+2]=c.data[a+2]+d*e.data[a+2]/255|0)}};h.addOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<
r;d++,a+=4){var g=e.data[a+3]*w/100|0;g&&(c.data[a]=c.data[a]+g*e.data[a]/255|0,c.data[a+1]=c.data[a+1]+g*e.data[a+1]/255|0,c.data[a+2]=c.data[a+2]+g*e.data[a+2]/255|0)}};h.addOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0;c.data[a]=(g*c.data[a]+d*e.data[a])/m|0;c.data[a+1]=(g*c.data[a+
1]+d*e.data[a+1])/m|0;c.data[a+2]=(g*c.data[a+2]+d*e.data[a+2])/m|0;c.data[a+3]=m}}};h.addOntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0;c.data[a]=(m*c.data[a]+g*e.data[a])/f|0;c.data[a+1]=(m*c.data[a+1]+g*e.data[a+1])/f|0;c.data[a+2]=(m*c.data[a+2]+g*e.data[a+2])/f|0;c.data[a+
3]=f}}};h.addOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;f&&(c.data[b]=c.data[b]+f*e.data[b]/255|0,c.data[b+1]=c.data[b+1]+f*e.data[b+1]/255|0,c.data[b+2]=c.data[b+2]+f*e.data[b+2]/255|0)}};h.addOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,
k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;n&&(c.data[d]=c.data[d]+n*e.data[d]/255|0,c.data[d+1]=c.data[d+1]+n*e.data[d+1]/255|0,c.data[d+2]=c.data[d+2]+n*e.data[d+2]/255|0)}};h.addOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,
a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0;c.data[b]=(n*c.data[b]+f*e.data[b])/u|0;c.data[b+1]=(n*c.data[b+1]+f*e.data[b+1])/u|0;c.data[b+2]=(n*c.data[b+2]+f*e.data[b+2])/u|0;c.data[b+3]=u}}};h.addOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,
a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0;c.data[d]=(u*c.data[d]+n*e.data[d])/y|0;c.data[d+1]=(u*c.data[d+1]+n*e.data[d+1])/y|0;c.data[d+2]=(u*c.data[d+2]+n*e.data[d+2])/y|0;c.data[d+3]=y}}};h.subtractOntoOpaqueFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|
0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];d&&(c.data[a]=c.data[a]+d*e.data[a]/255-d|0,c.data[a+1]=c.data[a+1]+d*e.data[a+1]/255-d|0,c.data[a+2]=c.data[a+2]+d*e.data[a+2]/255-d|0)}};h.subtractOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;g&&(c.data[a]=c.data[a]+g*e.data[a]/255-g|0,c.data[a+1]=c.data[a+
1]+g*e.data[a+1]/255-g|0,c.data[a+2]=c.data[a+2]+g*e.data[a+2]/255-g|0)}};h.subtractOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g;c.data[a]=(g*c.data[a]+d*e.data[a]-f)/m|0;c.data[a+1]=(g*c.data[a+1]+d*e.data[a+1]-f)/m|0;c.data[a+2]=(g*c.data[a+2]+d*e.data[a+2]-f)/m|0;c.data[a+3]=
m}}};h.subtractOntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m;c.data[a]=(m*c.data[a]+g*e.data[a]-n)/f|0;c.data[a+1]=(m*c.data[a+1]+g*e.data[a+1]-n)/f|0;c.data[a+2]=(m*c.data[a+2]+g*e.data[a+2]-n)/f|0;c.data[a+3]=f}}};h.subtractOntoOpaqueFusionWithOpaqueLayerMasked=function(c,
e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;f&&(c.data[b]=c.data[b]+f*e.data[b]/255-f|0,c.data[b+1]=c.data[b+1]+f*e.data[b+1]/255-f|0,c.data[b+2]=c.data[b+2]+f*e.data[b+2]/255-f|0)}};h.subtractOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-
q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;n&&(c.data[d]=c.data[d]+n*e.data[d]/255-n|0,c.data[d+1]=c.data[d+1]+n*e.data[d+1]/255-n|0,c.data[d+2]=c.data[d+2]+n*e.data[d+2]/255-n|0)}};h.subtractOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;
a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=f*n;c.data[b]=(n*c.data[b]+f*e.data[b]-y)/u|0;c.data[b+1]=(n*c.data[b+1]+f*e.data[b+1]-y)/u|0;c.data[b+2]=(n*c.data[b+2]+f*e.data[b+2]-y)/u|0;c.data[b+3]=u}}};h.subtractOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|
0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=n*u;c.data[d]=(u*c.data[d]+n*e.data[d]-E)/y|0;c.data[d+1]=(u*c.data[d+1]+n*e.data[d+1]-E)/y|0;c.data[d+2]=(u*c.data[d+2]+n*e.data[d+2]-E)/y|0;c.data[d+3]=y}}};h.screenOntoOpaqueFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|
0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=c.data[a];c.data[a]=255^((m^255)*g+(e.data[a]^255)*(m^255)*d/255)/255;m=c.data[a+1];c.data[a+1]=255^((m^255)*g+(e.data[a+1]^255)*(m^255)*d/255)/255;m=c.data[a+2];c.data[a+2]=255^((m^255)*g+(e.data[a+2]^255)*(m^255)*d/255)/255}}};h.screenOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=
q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=g^255;var f=c.data[a];c.data[a]=255^((f^255)*m+(e.data[a]^255)*(f^255)*g/255)/255;f=c.data[a+1];c.data[a+1]=255^((f^255)*m+(e.data[a+1]^255)*(f^255)*g/255)/255;f=c.data[a+2];c.data[a+2]=255^((f^255)*m+(e.data[a+2]^255)*(f^255)*g/255)/255}}};h.screenOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,
a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,u=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=255^((d^255)*n+(g^255)*u+(d^255)*(g^255)*f/255)/m;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=255^((d^255)*n+(g^255)*u+(d^255)*(g^255)*f/255)/m;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=255^((d^255)*n+(g^255)*u+(d^255)*(g^255)*f/255)/m;c.data[a+3]=m}}};h.screenOntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|
0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,u=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=255^((g^255)*u+(m^255)*y+(g^255)*(m^255)*n/255)/f;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=255^((g^255)*u+(m^255)*y+(g^255)*(m^255)*n/255)/f;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=255^((g^255)*u+(m^255)*y+(g^255)*(m^255)*n/255)/f;c.data[a+3]=
f}}};h.screenOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=f^255;var u=c.data[b];c.data[b]=255^((u^255)*n+(e.data[b]^255)*(u^255)*f/255)/255;u=c.data[b+1];c.data[b+1]=255^((u^255)*n+(e.data[b+1]^255)*(u^255)*f/255)/255;u=c.data[b+2];c.data[b+2]=
255^((u^255)*n+(e.data[b+2]^255)*(u^255)*f/255)/255}}};h.screenOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=n^255;var y=c.data[d];c.data[d]=255^((y^255)*u+(e.data[d]^255)*(y^255)*n/255)/255;y=c.data[d+1];c.data[d+1]=255^((y^255)*u+(e.data[d+
1]^255)*(y^255)*n/255)/255;y=c.data[d+2];c.data[d+2]=255^((y^255)*u+(e.data[d+2]^255)*(y^255)*n/255)/255}}};h.screenOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=f*n/255|0,E=f*(n^255)/255|0,t=(f^255)*n/
255|0;f=e.data[b];n=c.data[b];c.data[b]=255^((f^255)*E+(n^255)*t+(f^255)*(n^255)*y/255)/u;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=255^((f^255)*E+(n^255)*t+(f^255)*(n^255)*y/255)/u;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=255^((f^255)*E+(n^255)*t+(f^255)*(n^255)*y/255)/u;c.data[b+3]=u}}};h.screenOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;
for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=n*u/255|0,t=n*(u^255)/255|0,G=(n^255)*u/255|0;n=e.data[d];u=c.data[d];c.data[d]=255^((n^255)*t+(u^255)*G+(n^255)*(u^255)*E/255)/y;n=e.data[d+1];u=c.data[d+1];c.data[d+1]=255^((n^255)*t+(u^255)*G+(n^255)*(u^255)*E/255)/y;n=e.data[d+2];u=c.data[d+2];c.data[d+2]=255^((n^255)*t+(u^255)*G+(n^255)*(u^255)*E/255)/y;c.data[d+3]=y}}};h.lightenOntoOpaqueFusionWithOpaqueLayer=
function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=f>=m?f:(f*g+m*d)/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=f>=m?f:(f*g+m*d)/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=f>=m?f:(f*g+m*d)/255|0}}};h.lightenOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-
r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=n>=f?n:(n*m+f*g)/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=n>=f?n:(n*m+f*g)/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=n>=f?n:(n*m+f*g)/255|0}}};h.lightenOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,
a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=g*(d^255)/m|0,n=f^255,u=d*(g^255)/m|0,y=u^255;d=e.data[a];g=c.data[a];c.data[a]=(g>=d?d*u+g*y:g*f+d*n)/255|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(g>=d?d*u+g*y:g*f+d*n)/255|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(g>=d?d*u+g*y:g*f+d*n)/255|0;c.data[a+3]=m}}};h.lightenOntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=m*(g^255)/f|0,u=n^255,y=g*(m^255)/f|0,E=y^255;g=e.data[a];m=c.data[a];c.data[a]=(m>=g?g*y+m*E:m*n+g*u)/255|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(m>=g?g*y+m*E:m*n+g*u)/255|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(m>=g?g*y+m*E:m*n+g*u)/255|0;c.data[a+3]=f}}};h.lightenOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|
0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=f^255;var u=e.data[b];var y=c.data[b];c.data[b]=y>=u?y:(y*n+u*f)/255|0;u=e.data[b+1];y=c.data[b+1];c.data[b+1]=y>=u?y:(y*n+u*f)/255|0;u=e.data[b+2];y=c.data[b+2];c.data[b+2]=y>=u?y:(y*n+u*f)/255|0}}};h.lightenOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,
q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=n^255;var y=e.data[d];var E=c.data[d];c.data[d]=E>=y?E:(E*u+y*n)/255|0;y=e.data[d+1];E=c.data[d+1];c.data[d+1]=E>=y?E:(E*u+y*n)/255|0;y=e.data[d+2];E=c.data[d+2];c.data[d+2]=E>=y?E:(E*u+y*n)/255|0}}};h.lightenOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=
a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=n*(f^255)/u|0,E=y^255,t=f*(n^255)/u|0,G=t^255;f=e.data[b];n=c.data[b];c.data[b]=(n>=f?f*t+n*G:n*y+f*E)/255|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(n>=f?f*t+n*G:n*y+f*E)/255|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(n>=
f?f*t+n*G:n*y+f*E)/255|0;c.data[b+3]=u}}};h.lightenOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=u*(n^255)/y|0,t=E^255,G=n*(u^255)/y|0,P=G^255;n=e.data[d];u=c.data[d];c.data[d]=(u>=n?n*G+u*P:u*
E+n*t)/255|0;n=e.data[d+1];u=c.data[d+1];c.data[d+1]=(u>=n?n*G+u*P:u*E+n*t)/255|0;n=e.data[d+2];u=c.data[d+2];c.data[d+2]=(u>=n?n*G+u*P:u*E+n*t)/255|0;c.data[d+3]=y}}};h.darkenOntoOpaqueFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=f>=m?(f*g+m*d)/255|0:f;m=e.data[a+1];f=c.data[a+1];c.data[a+
1]=f>=m?(f*g+m*d)/255|0:f;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=f>=m?(f*g+m*d)/255|0:f}}};h.darkenOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=n>=f?(n*m+f*g)/255|0:n;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=n>=f?(n*m+f*g)/255|0:n;f=e.data[a+2];n=c.data[a+2];c.data[a+
2]=n>=f?(n*m+f*g)/255|0:n}}};h.darkenOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*(g^255)/m|0,n=f^255,u=g*(d^255)/m|0,y=u^255;d=e.data[a];g=c.data[a];c.data[a]=(g>=d?g*u+d*y:d*f+g*n)/255|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(g>=d?g*u+d*y:d*f+g*n)/255|0;d=e.data[a+2];g=c.data[a+
2];c.data[a+2]=(g>=d?g*u+d*y:d*f+g*n)/255|0;c.data[a+3]=m}}};h.darkenOntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*(m^255)/f|0,u=n^255,y=m*(g^255)/f|0,E=y^255;g=e.data[a];m=c.data[a];c.data[a]=(m>=g?m*y+g*E:g*n+m*u)/255|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(m>=g?
m*y+g*E:g*n+m*u)/255|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(m>=g?m*y+g*E:g*n+m*u)/255|0;c.data[a+3]=f}}};h.darkenOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=f^255;var u=e.data[b];var y=c.data[b];c.data[b]=y>=u?(y*n+u*f)/255|0:y;u=e.data[b+
1];y=c.data[b+1];c.data[b+1]=y>=u?(y*n+u*f)/255|0:y;u=e.data[b+2];y=c.data[b+2];c.data[b+2]=y>=u?(y*n+u*f)/255|0:y}}};h.darkenOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=n^255;var y=e.data[d];var E=c.data[d];c.data[d]=E>=y?(E*u+y*n)/
255|0:E;y=e.data[d+1];E=c.data[d+1];c.data[d+1]=E>=y?(E*u+y*n)/255|0:E;y=e.data[d+2];E=c.data[d+2];c.data[d+2]=E>=y?(E*u+y*n)/255|0:E}}};h.darkenOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=f*(n^255)/
u|0,E=y^255,t=n*(f^255)/u|0,G=t^255;f=e.data[b];n=c.data[b];c.data[b]=(n>=f?n*t+f*G:f*y+n*E)/255|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(n>=f?n*t+f*G:f*y+n*E)/255|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(n>=f?n*t+f*G:f*y+n*E)/255|0;c.data[b+3]=u}}};h.darkenOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=
0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=n*(u^255)/y|0,t=E^255,G=u*(n^255)/y|0,P=G^255;n=e.data[d];u=c.data[d];c.data[d]=(u>=n?u*G+n*P:n*E+u*t)/255|0;n=e.data[d+1];u=c.data[d+1];c.data[d+1]=(u>=n?u*G+n*P:n*E+u*t)/255|0;n=e.data[d+2];u=c.data[d+2];c.data[d+2]=(u>=n?u*G+n*P:n*E+u*t)/255|0;c.data[d+3]=y}}};h.dodgeOntoOpaqueFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=(f*g+d*(255==m?255:Math.min(255,255*f/(m^255)|0)))/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=(f*g+d*(255==m?255:Math.min(255,255*f/(m^255)|0)))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(f*g+d*(255==m?255:Math.min(255,255*f/(m^255)|0)))/255|0}}};h.dodgeOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-
r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(n*m+g*(255==f?255:Math.min(255,255*n/(f^255)|0)))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(n*m+g*(255==f?255:Math.min(255,255*n/(f^255)|0)))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(n*m+g*(255==f?255:Math.min(255,255*n/(f^255)|0)))/255|0}}};h.dodgeOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|
0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,u=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(d*n+g*u+f*(255==d?255:Math.min(255,255*g/(d^255)|0)))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(d*n+g*u+f*(255==d?255:Math.min(255,255*g/(d^255)|0)))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(d*n+g*u+f*(255==d?255:Math.min(255,
255*g/(d^255)|0)))/m|0;c.data[a+3]=m}}};h.dodgeOntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,u=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(g*u+m*y+n*(255==g?255:Math.min(255,255*m/(g^255)|0)))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+
1]=(g*u+m*y+n*(255==g?255:Math.min(255,255*m/(g^255)|0)))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(g*u+m*y+n*(255==g?255:Math.min(255,255*m/(g^255)|0)))/f|0;c.data[a+3]=f}}};h.dodgeOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=f^255;var u=e.data[b];
var y=c.data[b];c.data[b]=(y*n+f*(255==u?255:Math.min(255,255*y/(u^255)|0)))/255|0;u=e.data[b+1];y=c.data[b+1];c.data[b+1]=(y*n+f*(255==u?255:Math.min(255,255*y/(u^255)|0)))/255|0;u=e.data[b+2];y=c.data[b+2];c.data[b+2]=(y*n+f*(255==u?255:Math.min(255,255*y/(u^255)|0)))/255|0}}};h.dodgeOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<
r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=n^255;var y=e.data[d];var E=c.data[d];c.data[d]=(E*u+n*(255==y?255:Math.min(255,255*E/(y^255)|0)))/255|0;y=e.data[d+1];E=c.data[d+1];c.data[d+1]=(E*u+n*(255==y?255:Math.min(255,255*E/(y^255)|0)))/255|0;y=e.data[d+2];E=c.data[d+2];c.data[d+2]=(E*u+n*(255==y?255:Math.min(255,255*E/(y^255)|0)))/255|0}}};h.dodgeOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|
0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=f*n/255|0,E=f*(n^255)/255|0,t=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(f*E+n*t+y*(255==f?255:Math.min(255,255*n/(f^255)|0)))/u|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(f*E+n*t+y*(255==f?255:Math.min(255,255*n/(f^255)|0)))/u|0;f=e.data[b+2];n=c.data[b+
2];c.data[b+2]=(f*E+n*t+y*(255==f?255:Math.min(255,255*n/(f^255)|0)))/u|0;c.data[b+3]=u}}};h.dodgeOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=n*u/255|0,t=n*(u^255)/255|0,G=(n^255)*u/255|0;n=
e.data[d];u=c.data[d];c.data[d]=(n*t+u*G+E*(255==n?255:Math.min(255,255*u/(n^255)|0)))/y|0;n=e.data[d+1];u=c.data[d+1];c.data[d+1]=(n*t+u*G+E*(255==n?255:Math.min(255,255*u/(n^255)|0)))/y|0;n=e.data[d+2];u=c.data[d+2];c.data[d+2]=(n*t+u*G+E*(255==n?255:Math.min(255,255*u/(n^255)|0)))/y|0;c.data[d+3]=y}}};h.burnOntoOpaqueFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=
4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=(f*g+d*(0==m?0:Math.min(255,255*(f^255)/m)^255))/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=(f*g+d*(0==m?0:Math.min(255,255*(f^255)/m)^255))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(f*g+d*(0==m?0:Math.min(255,255*(f^255)/m)^255))/255|0}}};h.burnOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,
a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(n*m+g*(0==f?0:Math.min(255,255*(n^255)/f)^255))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(n*m+g*(0==f?0:Math.min(255,255*(n^255)/f)^255))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(n*m+g*(0==f?0:Math.min(255,255*(n^255)/f)^255))/255|0}}};h.burnOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,u=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(d*n+g*u+f*(0==d?0:Math.min(255,255*(g^255)/d)^255))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(d*n+g*u+f*(0==d?0:Math.min(255,255*(g^255)/d)^255))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(d*n+g*u+f*(0==d?0:Math.min(255,255*(g^255)/d)^255))/m|0;c.data[a+3]=m}}};h.burnOntoTransparentFusionWithTransparentLayer=
function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,u=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(g*u+m*y+n*(0==g?0:Math.min(255,255*(m^255)/g)^255))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(g*u+m*y+n*(0==g?0:Math.min(255,255*(m^255)/g)^255))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+
2]=(g*u+m*y+n*(0==g?0:Math.min(255,255*(m^255)/g)^255))/f|0;c.data[a+3]=f}}};h.burnOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=f^255;var u=e.data[b];var y=c.data[b];c.data[b]=(y*n+f*(0==u?0:Math.min(255,255*(y^255)/u)^255))/255|0;u=e.data[b+1];
y=c.data[b+1];c.data[b+1]=(y*n+f*(0==u?0:Math.min(255,255*(y^255)/u)^255))/255|0;u=e.data[b+2];y=c.data[b+2];c.data[b+2]=(y*n+f*(0==u?0:Math.min(255,255*(y^255)/u)^255))/255|0}}};h.burnOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=n^255;
var y=e.data[d];var E=c.data[d];c.data[d]=(E*u+n*(0==y?0:Math.min(255,255*(E^255)/y)^255))/255|0;y=e.data[d+1];E=c.data[d+1];c.data[d+1]=(E*u+n*(0==y?0:Math.min(255,255*(E^255)/y)^255))/255|0;y=e.data[d+2];E=c.data[d+2];c.data[d+2]=(E*u+n*(0==y?0:Math.min(255,255*(E^255)/y)^255))/255|0}}};h.burnOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=
0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=f*n/255|0,E=f*(n^255)/255|0,t=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(f*E+n*t+y*(0==f?0:Math.min(255,255*(n^255)/f)^255))/u|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(f*E+n*t+y*(0==f?0:Math.min(255,255*(n^255)/f)^255))/u|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(f*E+n*t+y*(0==f?0:Math.min(255,255*(n^255)/f)^255))/u|0;c.data[b+3]=u}}};h.burnOntoTransparentFusionWithTransparentLayerMasked=
function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=n*u/255|0,t=n*(u^255)/255|0,G=(n^255)*u/255|0;n=e.data[d];u=c.data[d];c.data[d]=(n*t+u*G+E*(0==n?0:Math.min(255,255*(u^255)/n)^255))/y|0;n=e.data[d+1];u=c.data[d+1];c.data[d+1]=(n*t+u*G+E*(0==n?
0:Math.min(255,255*(u^255)/n)^255))/y|0;n=e.data[d+2];u=c.data[d+2];c.data[d+2]=(n*t+u*G+E*(0==n?0:Math.min(255,255*(u^255)/n)^255))/y|0;c.data[d+3]=y}}};h.overlayOntoOpaqueFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=(g*f+(127>=f?2*d*m*f/255:d*(2*(m^255)*(f^255)/255^255)))/255|0;m=e.data[a+
1];f=c.data[a+1];c.data[a+1]=(g*f+(127>=f?2*d*m*f/255:d*(2*(m^255)*(f^255)/255^255)))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(g*f+(127>=f?2*d*m*f/255:d*(2*(m^255)*(f^255)/255^255)))/255|0}}};h.overlayOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(m*n+(127>=
n?2*g*f*n/255:g*(2*(f^255)*(n^255)/255^255)))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(m*n+(127>=n?2*g*f*n/255:g*(2*(f^255)*(n^255)/255^255)))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(m*n+(127>=n?2*g*f*n/255:g*(2*(f^255)*(n^255)/255^255)))/255|0}}};h.overlayOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+
3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,u=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(n*d+u*g+(127>=g?2*f*d*g/255:f*(2*(d^255)*(g^255)/255^255)))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(n*d+u*g+(127>=g?2*f*d*g/255:f*(2*(d^255)*(g^255)/255^255)))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(n*d+u*g+(127>=g?2*f*d*g/255:f*(2*(d^255)*(g^255)/255^255)))/m|0;c.data[a+3]=m}}};h.overlayOntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|
0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,u=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(u*g+y*m+(127>=m?2*n*g*m/255:n*(2*(g^255)*(m^255)/255^255)))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(u*g+y*m+(127>=m?2*n*g*m/255:n*(2*(g^255)*(m^255)/255^255)))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(u*g+y*m+(127>=m?2*n*g*m/255:n*
(2*(g^255)*(m^255)/255^255)))/f|0;c.data[a+3]=f}}};h.overlayOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=f^255;var u=e.data[b];var y=c.data[b];c.data[b]=(n*y+(127>=y?2*f*u*y/255:f*(2*(u^255)*(y^255)/255^255)))/255|0;u=e.data[b+1];y=c.data[b+1];
c.data[b+1]=(n*y+(127>=y?2*f*u*y/255:f*(2*(u^255)*(y^255)/255^255)))/255|0;u=e.data[b+2];y=c.data[b+2];c.data[b+2]=(n*y+(127>=y?2*f*u*y/255:f*(2*(u^255)*(y^255)/255^255)))/255|0}}};h.overlayOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=
n^255;var y=e.data[d];var E=c.data[d];c.data[d]=(u*E+(127>=E?2*n*y*E/255:n*(2*(y^255)*(E^255)/255^255)))/255|0;y=e.data[d+1];E=c.data[d+1];c.data[d+1]=(u*E+(127>=E?2*n*y*E/255:n*(2*(y^255)*(E^255)/255^255)))/255|0;y=e.data[d+2];E=c.data[d+2];c.data[d+2]=(u*E+(127>=E?2*n*y*E/255:n*(2*(y^255)*(E^255)/255^255)))/255|0}}};h.overlayOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,
a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=f*n/255|0,E=f*(n^255)/255|0,t=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(E*f+t*n+(127>=n?2*y*f*n/255:y*(2*(f^255)*(n^255)/255^255)))/u|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(E*f+t*n+(127>=n?2*y*f*n/255:y*(2*(f^255)*(n^255)/255^255)))/u|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(E*f+t*n+(127>=n?2*y*f*n/255:y*(2*(f^255)*(n^255)/255^255)))/
u|0;c.data[b+3]=u}}};h.overlayOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=n*u/255|0,t=n*(u^255)/255|0,G=(n^255)*u/255|0;n=e.data[d];u=c.data[d];c.data[d]=(t*n+G*u+(127>=u?2*E*n*u/255:E*(2*(n^
255)*(u^255)/255^255)))/y|0;n=e.data[d+1];u=c.data[d+1];c.data[d+1]=(t*n+G*u+(127>=u?2*E*n*u/255:E*(2*(n^255)*(u^255)/255^255)))/y|0;n=e.data[d+2];u=c.data[d+2];c.data[d+2]=(t*n+G*u+(127>=u?2*E*n*u/255:E*(2*(n^255)*(u^255)/255^255)))/y|0;c.data[d+3]=y}}};h.hardLightOntoOpaqueFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];
var f=c.data[a];c.data[a]=(g*f+(127>=m?2*d*m*f/255:d*(2*(m^255)*(f^255)/255^255)))/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=(g*f+(127>=m?2*d*m*f/255:d*(2*(m^255)*(f^255)/255^255)))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(g*f+(127>=m?2*d*m*f/255:d*(2*(m^255)*(f^255)/255^255)))/255|0}}};h.hardLightOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=
4){var g=e.data[a+3]*w/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(m*n+(127>=f?2*g*f*n/255:g*(2*(f^255)*(n^255)/255^255)))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(m*n+(127>=f?2*g*f*n/255:g*(2*(f^255)*(n^255)/255^255)))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(m*n+(127>=f?2*g*f*n/255:g*(2*(f^255)*(n^255)/255^255)))/255|0}}};h.hardLightOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,u=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(n*d+u*g+(127>=d?2*f*d*g/255:f*(2*(d^255)*(g^255)/255^255)))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(n*d+u*g+(127>=d?2*f*d*g/255:f*(2*(d^255)*(g^255)/255^255)))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(n*d+u*g+(127>=d?2*f*d*g/255:f*(2*(d^255)*(g^255)/255^255)))/m|0;c.data[a+3]=m}}};h.hardLightOntoTransparentFusionWithTransparentLayer=
function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,u=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(u*g+y*m+(127>=g?2*n*g*m/255:n*(2*(g^255)*(m^255)/255^255)))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(u*g+y*m+(127>=g?2*n*g*m/255:n*(2*(g^255)*(m^255)/255^255)))/f|0;g=e.data[a+2];m=
c.data[a+2];c.data[a+2]=(u*g+y*m+(127>=g?2*n*g*m/255:n*(2*(g^255)*(m^255)/255^255)))/f|0;c.data[a+3]=f}}};h.hardLightOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=f^255;var u=e.data[b];var y=c.data[b];c.data[b]=(n*y+(127>=u?2*f*u*y/255:f*(2*(u^
255)*(y^255)/255^255)))/255|0;u=e.data[b+1];y=c.data[b+1];c.data[b+1]=(n*y+(127>=u?2*f*u*y/255:f*(2*(u^255)*(y^255)/255^255)))/255|0;u=e.data[b+2];y=c.data[b+2];c.data[b+2]=(n*y+(127>=u?2*f*u*y/255:f*(2*(u^255)*(y^255)/255^255)))/255|0}}};h.hardLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,
d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=n^255;var y=e.data[d];var E=c.data[d];c.data[d]=(u*E+(127>=y?2*n*y*E/255:n*(2*(y^255)*(E^255)/255^255)))/255|0;y=e.data[d+1];E=c.data[d+1];c.data[d+1]=(u*E+(127>=y?2*n*y*E/255:n*(2*(y^255)*(E^255)/255^255)))/255|0;y=e.data[d+2];E=c.data[d+2];c.data[d+2]=(u*E+(127>=y?2*n*y*E/255:n*(2*(y^255)*(E^255)/255^255)))/255|0}}};h.hardLightOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-
r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=f*n/255|0,E=f*(n^255)/255|0,t=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(E*f+t*n+(127>=f?2*y*f*n/255:y*(2*(f^255)*(n^255)/255^255)))/u|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(E*f+t*n+(127>=f?2*y*f*n/255:y*(2*(f^255)*(n^255)/255^255)))/u|0;f=e.data[b+2];n=c.data[b+
2];c.data[b+2]=(E*f+t*n+(127>=f?2*y*f*n/255:y*(2*(f^255)*(n^255)/255^255)))/u|0;c.data[b+3]=u}}};h.hardLightOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=n*u/255|0,t=n*(u^255)/255|0,G=(n^255)*
u/255|0;n=e.data[d];u=c.data[d];c.data[d]=(t*n+G*u+(127>=n?2*E*n*u/255:E*(2*(n^255)*(u^255)/255^255)))/y|0;n=e.data[d+1];u=c.data[d+1];c.data[d+1]=(t*n+G*u+(127>=n?2*E*n*u/255:E*(2*(n^255)*(u^255)/255^255)))/y|0;n=e.data[d+2];u=c.data[d+2];c.data[d+2]=(t*n+G*u+(127>=n?2*E*n*u/255:E*(2*(n^255)*(u^255)/255^255)))/y|0;c.data[d+3]=y}}};h.softLightOntoOpaqueFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,
a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=(g*f+d*(127>=m?((2*m-255)*v[f]/255|0)+f:((2*m-255)*D[f]/255|0)+f))/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=(g*f+d*(127>=m?((2*m-255)*v[f]/255|0)+f:((2*m-255)*D[f]/255|0)+f))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(g*f+d*(127>=m?((2*m-255)*v[f]/255|0)+f:((2*m-255)*D[f]/255|0)+f))/255|0}}};h.softLightOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=
a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(m*n+g*(127>=f?((2*f-255)*v[n]/255|0)+n:((2*f-255)*D[n]/255|0)+n))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(m*n+g*(127>=f?((2*f-255)*v[n]/255|0)+n:((2*f-255)*D[n]/255|0)+n))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(m*n+g*(127>=f?((2*f-255)*v[n]/255|0)+n:((2*f-255)*D[n]/255|0)+n))/255|
0}}};h.softLightOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,u=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(n*d+u*g+(127>=d?f*(((2*d-255)*v[g]/255|0)+g):f*(((2*d-255)*D[g]/255|0)+g)))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(n*d+u*g+(127>=d?f*
(((2*d-255)*v[g]/255|0)+g):f*(((2*d-255)*D[g]/255|0)+g)))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(n*d+u*g+(127>=d?f*(((2*d-255)*v[g]/255|0)+g):f*(((2*d-255)*D[g]/255|0)+g)))/m|0;c.data[a+3]=m}}};h.softLightOntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,u=
g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(u*g+y*m+(127>=g?n*(((2*g-255)*v[m]/255|0)+m):n*(((2*g-255)*D[m]/255|0)+m)))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(u*g+y*m+(127>=g?n*(((2*g-255)*v[m]/255|0)+m):n*(((2*g-255)*D[m]/255|0)+m)))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(u*g+y*m+(127>=g?n*(((2*g-255)*v[m]/255|0)+m):n*(((2*g-255)*D[m]/255|0)+m)))/f|0;c.data[a+3]=f}}};h.softLightOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=
a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=f^255;var u=e.data[b];var y=c.data[b];c.data[b]=(n*y+f*(127>=u?((2*u-255)*v[y]/255|0)+y:((2*u-255)*D[y]/255|0)+y))/255|0;u=e.data[b+1];y=c.data[b+1];c.data[b+1]=(n*y+f*(127>=u?((2*u-255)*v[y]/255|0)+y:((2*u-255)*D[y]/255|0)+y))/255|0;u=e.data[b+2];y=c.data[b+2];c.data[b+2]=(n*y+f*
(127>=u?((2*u-255)*v[y]/255|0)+y:((2*u-255)*D[y]/255|0)+y))/255|0}}};h.softLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=n^255;var y=e.data[d];var E=c.data[d];c.data[d]=(u*E+n*(127>=y?((2*y-255)*v[E]/255|0)+E:((2*y-255)*D[E]/255|0)+
E))/255|0;y=e.data[d+1];E=c.data[d+1];c.data[d+1]=(u*E+n*(127>=y?((2*y-255)*v[E]/255|0)+E:((2*y-255)*D[E]/255|0)+E))/255|0;y=e.data[d+2];E=c.data[d+2];c.data[d+2]=(u*E+n*(127>=y?((2*y-255)*v[E]/255|0)+E:((2*y-255)*D[E]/255|0)+E))/255|0}}};h.softLightOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,
b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=f*n/255|0,E=f*(n^255)/255|0,t=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(E*f+t*n+(127>=f?y*(((2*f-255)*v[n]/255|0)+n):y*(((2*f-255)*D[n]/255|0)+n)))/u|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(E*f+t*n+(127>=f?y*(((2*f-255)*v[n]/255|0)+n):y*(((2*f-255)*D[n]/255|0)+n)))/u|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(E*f+t*n+(127>=f?y*(((2*f-255)*v[n]/255|0)+n):y*(((2*f-255)*D[n]/255|0)+n)))/u|0;c.data[b+
3]=u}}};h.softLightOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=n*u/255|0,t=n*(u^255)/255|0,G=(n^255)*u/255|0;n=e.data[d];u=c.data[d];c.data[d]=(t*n+G*u+(127>=n?E*(((2*n-255)*v[u]/255|0)+u):E*
(((2*n-255)*D[u]/255|0)+u)))/y|0;n=e.data[d+1];u=c.data[d+1];c.data[d+1]=(t*n+G*u+(127>=n?E*(((2*n-255)*v[u]/255|0)+u):E*(((2*n-255)*D[u]/255|0)+u)))/y|0;n=e.data[d+2];u=c.data[d+2];c.data[d+2]=(t*n+G*u+(127>=n?E*(((2*n-255)*v[u]/255|0)+u):E*(((2*n-255)*D[u]/255|0)+u)))/y|0;c.data[d+3]=y}}};h.vividLightOntoOpaqueFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=
e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=(g*f+(127>=m?d*(0==m?0:255-Math.min(255,255*(255-f)/(2*m)|0)):d*(255==m?255:Math.min(255,255*f/(2*(255-m))|0))))/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=(g*f+(127>=m?d*(0==m?0:255-Math.min(255,255*(255-f)/(2*m)|0)):d*(255==m?255:Math.min(255,255*f/(2*(255-m))|0))))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(g*f+(127>=m?d*(0==m?0:255-Math.min(255,255*(255-f)/(2*m)|0)):d*(255==m?255:Math.min(255,255*f/(2*(255-m))|0))))/
255|0}}};h.vividLightOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(m*n+(127>=f?g*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):g*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(m*n+(127>=f?g*(0==f?0:255-Math.min(255,
255*(255-n)/(2*f)|0)):g*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(m*n+(127>=f?g*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):g*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/255|0}}};h.vividLightOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-
(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,u=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(n*d+u*g+(127>=d?f*(0==d?0:255-Math.min(255,255*(255-g)/(2*d)|0)):f*(255==d?255:Math.min(255,255*g/(2*(255-d))|0))))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(n*d+u*g+(127>=d?f*(0==d?0:255-Math.min(255,255*(255-g)/(2*d)|0)):f*(255==d?255:Math.min(255,255*g/(2*(255-d))|0))))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(n*d+u*g+(127>=d?f*(0==d?0:255-Math.min(255,255*(255-g)/(2*d)|0)):f*(255==d?255:Math.min(255,
255*g/(2*(255-d))|0))))/m|0;c.data[a+3]=m}}};h.vividLightOntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,u=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(u*g+y*m+(127>=g?n*(0==g?0:255-Math.min(255,255*(255-m)/(2*g)|0)):n*(255==g?255:Math.min(255,
255*m/(2*(255-g))|0))))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(u*g+y*m+(127>=g?n*(0==g?0:255-Math.min(255,255*(255-m)/(2*g)|0)):n*(255==g?255:Math.min(255,255*m/(2*(255-g))|0))))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(u*g+y*m+(127>=g?n*(0==g?0:255-Math.min(255,255*(255-m)/(2*g)|0)):n*(255==g?255:Math.min(255,255*m/(2*(255-g))|0))))/f|0;c.data[a+3]=f}}};h.vividLightOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,
a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=f^255;var u=e.data[b];var y=c.data[b];c.data[b]=(n*y+(127>=u?f*(0==u?0:255-Math.min(255,255*(255-y)/(2*u)|0)):f*(255==u?255:Math.min(255,255*y/(2*(255-u))|0))))/255|0;u=e.data[b+1];y=c.data[b+1];c.data[b+1]=(n*y+(127>=u?f*(0==u?0:255-Math.min(255,255*(255-y)/(2*u)|0)):f*(255==u?255:Math.min(255,255*y/(2*(255-u))|0))))/255|0;u=e.data[b+2];
y=c.data[b+2];c.data[b+2]=(n*y+(127>=u?f*(0==u?0:255-Math.min(255,255*(255-y)/(2*u)|0)):f*(255==u?255:Math.min(255,255*y/(2*(255-u))|0))))/255|0}}};h.vividLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=n^255;var y=e.data[d];var E=c.data[d];
c.data[d]=(u*E+(127>=y?n*(0==y?0:255-Math.min(255,255*(255-E)/(2*y)|0)):n*(255==y?255:Math.min(255,255*E/(2*(255-y))|0))))/255|0;y=e.data[d+1];E=c.data[d+1];c.data[d+1]=(u*E+(127>=y?n*(0==y?0:255-Math.min(255,255*(255-E)/(2*y)|0)):n*(255==y?255:Math.min(255,255*E/(2*(255-y))|0))))/255|0;y=e.data[d+2];E=c.data[d+2];c.data[d+2]=(u*E+(127>=y?n*(0==y?0:255-Math.min(255,255*(255-E)/(2*y)|0)):n*(255==y?255:Math.min(255,255*E/(2*(255-y))|0))))/255|0}}};h.vividLightOntoTransparentFusionWithOpaqueLayerMasked=
function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=f*n/255|0,E=f*(n^255)/255|0,t=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(E*f+t*n+(127>=f?y*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):y*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/u|
0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(E*f+t*n+(127>=f?y*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):y*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/u|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(E*f+t*n+(127>=f?y*(0==f?0:255-Math.min(255,255*(255-n)/(2*f)|0)):y*(255==f?255:Math.min(255,255*n/(2*(255-f))|0))))/u|0;c.data[b+3]=u}}};h.vividLightOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,
a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=n*u/255|0,t=n*(u^255)/255|0,G=(n^255)*u/255|0;n=e.data[d];u=c.data[d];c.data[d]=(t*n+G*u+(127>=n?E*(0==n?0:255-Math.min(255,255*(255-u)/(2*n)|0)):E*(255==n?255:Math.min(255,255*u/(2*(255-n))|0))))/y|0;n=e.data[d+1];u=c.data[d+1];c.data[d+1]=(t*n+G*u+(127>=n?E*(0==n?0:255-Math.min(255,255*(255-u)/
(2*n)|0)):E*(255==n?255:Math.min(255,255*u/(2*(255-n))|0))))/y|0;n=e.data[d+2];u=c.data[d+2];c.data[d+2]=(t*n+G*u+(127>=n?E*(0==n?0:255-Math.min(255,255*(255-u)/(2*n)|0)):E*(255==n?255:Math.min(255,255*u/(2*(255-n))|0))))/y|0;c.data[d+3]=y}}};h.linearLightOntoOpaqueFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=c.data[a];c.data[a]=
(g*m+d*Math.min(255,Math.max(0,m+2*e.data[a]-255)))/255|0;m=c.data[a+1];c.data[a+1]=(g*m+d*Math.min(255,Math.max(0,m+2*e.data[a+1]-255)))/255|0;m=c.data[a+2];c.data[a+2]=(g*m+d*Math.min(255,Math.max(0,m+2*e.data[a+2]-255)))/255|0}}};h.linearLightOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=g^255;var f=c.data[a];
c.data[a]=(m*f+g*Math.min(255,Math.max(0,f+2*e.data[a]-255)))/255|0;f=c.data[a+1];c.data[a+1]=(m*f+g*Math.min(255,Math.max(0,f+2*e.data[a+1]-255)))/255|0;f=c.data[a+2];c.data[a+2]=(m*f+g*Math.min(255,Math.max(0,f+2*e.data[a+2]-255)))/255|0}}};h.linearLightOntoTransparentFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=
d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,u=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(n*d+u*g+f*Math.min(255,Math.max(0,g+2*d-255)))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(n*d+u*g+f*Math.min(255,Math.max(0,g+2*d-255)))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(n*d+u*g+f*Math.min(255,Math.max(0,g+2*d-255)))/m|0;c.data[a+3]=m}}};h.linearLightOntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,u=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(u*g+y*m+n*Math.min(255,Math.max(0,m+2*g-255)))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+1]=(u*g+y*m+n*Math.min(255,Math.max(0,m+2*g-255)))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(u*g+y*m+n*Math.min(255,Math.max(0,m+2*g-255)))/f|0;c.data[a+3]=f}}};h.linearLightOntoOpaqueFusionWithOpaqueLayerMasked=
function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=f^255;var u=c.data[b];c.data[b]=(n*u+f*Math.min(255,Math.max(0,u+2*e.data[b]-255)))/255|0;u=c.data[b+1];c.data[b+1]=(n*u+f*Math.min(255,Math.max(0,u+2*e.data[b+1]-255)))/255|0;u=c.data[b+2];c.data[b+2]=(n*u+f*Math.min(255,Math.max(0,u+2*
e.data[b+2]-255)))/255|0}}};h.linearLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=n^255;var y=c.data[d];c.data[d]=(u*y+n*Math.min(255,Math.max(0,y+2*e.data[d]-255)))/255|0;y=c.data[d+1];c.data[d+1]=(u*y+n*Math.min(255,Math.max(0,y+
2*e.data[d+1]-255)))/255|0;y=c.data[d+2];c.data[d+2]=(u*y+n*Math.min(255,Math.max(0,y+2*e.data[d+2]-255)))/255|0}}};h.linearLightOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=f*n/255|0,E=f*(n^255)/255|
0,t=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(E*f+t*n+y*Math.min(255,Math.max(0,n+2*f-255)))/u|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(E*f+t*n+y*Math.min(255,Math.max(0,n+2*f-255)))/u|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(E*f+t*n+y*Math.min(255,Math.max(0,n+2*f-255)))/u|0;c.data[b+3]=u}}};h.linearLightOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,
a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=n*u/255|0,t=n*(u^255)/255|0,G=(n^255)*u/255|0;n=e.data[d];u=c.data[d];c.data[d]=(t*n+G*u+E*Math.min(255,Math.max(0,u+2*n-255)))/y|0;n=e.data[d+1];u=c.data[d+1];c.data[d+1]=(t*n+G*u+E*Math.min(255,Math.max(0,u+2*n-255)))/y|0;n=e.data[d+2];u=c.data[d+2];c.data[d+2]=(t*n+G*u+E*Math.min(255,Math.max(0,u+2*n-255)))/y|0;c.data[d+3]=y}}};h.pinLightOntoOpaqueFusionWithOpaqueLayer=
function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=d^255;var m=e.data[a];var f=c.data[a];c.data[a]=(g*f+d*(f>=2*m?2*m:f<=2*m-255?2*m-255:f))/255|0;m=e.data[a+1];f=c.data[a+1];c.data[a+1]=(g*f+d*(f>=2*m?2*m:f<=2*m-255?2*m-255:f))/255|0;m=e.data[a+2];f=c.data[a+2];c.data[a+2]=(g*f+d*(f>=2*m?2*m:f<=2*m-255?2*m-255:f))/255|0}}};h.pinLightOntoOpaqueFusionWithTransparentLayer=
function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=g^255;var f=e.data[a];var n=c.data[a];c.data[a]=(m*n+g*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/255|0;f=e.data[a+1];n=c.data[a+1];c.data[a+1]=(m*n+g*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/255|0;f=e.data[a+2];n=c.data[a+2];c.data[a+2]=(m*n+g*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/255|0}}};h.pinLightOntoTransparentFusionWithOpaqueLayer=
function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=c.data[a+3];var m=d+g-(d*g/255|0)|0,f=d*g/255|0,n=d*(g^255)/255|0,u=(d^255)*g/255|0;d=e.data[a];g=c.data[a];c.data[a]=(n*d+u*g+f*(g>=2*d?2*d:g<=2*d-255?2*d-255:g))/m|0;d=e.data[a+1];g=c.data[a+1];c.data[a+1]=(n*d+u*g+f*(g>=2*d?2*d:g<=2*d-255?2*d-255:g))/m|0;d=e.data[a+2];g=c.data[a+2];c.data[a+2]=(n*d+u*g+f*(g>=
2*d?2*d:g<=2*d-255?2*d-255:g))/m|0;c.data[a+3]=m}}};h.pinLightOntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=c.data[a+3];var f=g+m-(g*m/255|0)|0,n=g*m/255|0,u=g*(m^255)/255|0,y=(g^255)*m/255|0;g=e.data[a];m=c.data[a];c.data[a]=(u*g+y*m+n*(m>=2*g?2*g:m<=2*g-255?2*g-255:m))/f|0;g=e.data[a+1];m=c.data[a+1];c.data[a+
1]=(u*g+y*m+n*(m>=2*g?2*g:m<=2*g-255?2*g-255:m))/f|0;g=e.data[a+2];m=c.data[a+2];c.data[a+2]=(u*g+y*m+n*(m>=2*g?2*g:m<=2*g-255?2*g-255:m))/f|0;c.data[a+3]=f}}};h.pinLightOntoOpaqueFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=f^255;var u=e.data[b];var y=
c.data[b];c.data[b]=(n*y+f*(y>=2*u?2*u:y<=2*u-255?2*u-255:y))/255|0;u=e.data[b+1];y=c.data[b+1];c.data[b+1]=(n*y+f*(y>=2*u?2*u:y<=2*u-255?2*u-255:y))/255|0;u=e.data[b+2];y=c.data[b+2];c.data[b+2]=(n*y+f*(y>=2*u?2*u:y<=2*u-255?2*u-255:y))/255|0}}};h.pinLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<
q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=n^255;var y=e.data[d];var E=c.data[d];c.data[d]=(u*E+n*(E>=2*y?2*y:E<=2*y-255?2*y-255:E))/255|0;y=e.data[d+1];E=c.data[d+1];c.data[d+1]=(u*E+n*(E>=2*y?2*y:E<=2*y-255?2*y-255:E))/255|0;y=e.data[d+2];E=c.data[d+2];c.data[d+2]=(u*E+n*(E>=2*y?2*y:E<=2*y-255?2*y-255:E))/255|0}}};h.pinLightOntoTransparentFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|
0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;if(f){var n=c.data[b+3];var u=f+n-(f*n/255|0)|0,y=f*n/255|0,E=f*(n^255)/255|0,t=(f^255)*n/255|0;f=e.data[b];n=c.data[b];c.data[b]=(E*f+t*n+y*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/u|0;f=e.data[b+1];n=c.data[b+1];c.data[b+1]=(E*f+t*n+y*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/u|0;f=e.data[b+2];n=c.data[b+2];c.data[b+2]=(E*f+t*n+y*(n>=2*f?2*f:n<=2*f-255?2*f-255:n))/u|
0;c.data[b+3]=u}}};h.pinLightOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;if(n){var u=c.data[d+3];var y=n+u-(n*u/255|0)|0,E=n*u/255|0,t=n*(u^255)/255|0,G=(n^255)*u/255|0;n=e.data[d];u=c.data[d];c.data[d]=(t*n+G*u+E*(u>=2*n?2*n:u<=2*n-255?2*n-
255:u))/y|0;n=e.data[d+1];u=c.data[d+1];c.data[d+1]=(t*n+G*u+E*(u>=2*n?2*n:u<=2*n-255?2*n-255:u))/y|0;n=e.data[d+2];u=c.data[d+2];c.data[d+2]=(t*n+G*u+E*(u>=2*n?2*n:u<=2*n-255?2*n-255:u))/y|0;c.data[d+3]=y}}};h.passthroughOntoOpaqueFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3],m=w/100,f=1-m,n=g*m+255*f;c.data[a]=(e.data[a]*g*m+255*c.data[a]*
f)/n|0;c.data[a+1]=(e.data[a+1]*g*m+255*c.data[a+1]*f)/n|0;c.data[a+2]=(e.data[a+2]*g*m+255*c.data[a+2]*f)/n|0;c.data[a+3]=n}};h.passthroughOntoOpaqueFusionWithOpaqueLayer=h.passthroughOntoOpaqueFusionWithTransparentLayer;h.passthroughOntoTransparentFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3],m=c.data[a+3],f=w/100,n=1-f,u=g*f+m*n;c.data[a]=
(e.data[a]*g*f+c.data[a]*m*n)/u|0;c.data[a+1]=(e.data[a+1]*g*f+c.data[a+1]*m*n)/u|0;c.data[a+2]=(e.data[a+2]*g*f+c.data[a+2]*m*n)/u|0;c.data[a+3]=u}};h.passthroughOntoTransparentFusionWithOpaqueLayer=h.passthroughOntoTransparentFusionWithTransparentLayer;h.passthroughOntoOpaqueFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=
0;f<q;f++,d+=4,a++){var n=e.data[d+3],u=k.data[a]*w/25500,y=1-u,E=n*u+255*y;c.data[d]=(e.data[d]*n*u+255*c.data[d]*y)/E|0;c.data[d+1]=(e.data[d+1]*n*u+255*c.data[d+1]*y)/E|0;c.data[d+2]=(e.data[d+2]*n*u+255*c.data[d+2]*y)/E|0;c.data[d+3]=E}};h.passthroughOntoOpaqueFusionWithOpaqueLayerMasked=h.passthroughOntoOpaqueFusionWithTransparentLayerMasked;h.passthroughOntoTransparentFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,
a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3],u=c.data[d+3],y=k.data[a]*w/25500,E=1-y,t=n*y+u*E;c.data[d]=(e.data[d]*n*y+c.data[d]*u*E)/t|0;c.data[d+1]=(e.data[d+1]*n*y+c.data[d+1]*u*E)/t|0;c.data[d+2]=(e.data[d+2]*n*y+c.data[d+2]*u*E)/t|0;c.data[d+3]=t}};h.passthroughOntoTransparentFusionWithOpaqueLayerMasked=h.passthroughOntoTransparentFusionWithTransparentLayerMasked;h.replaceOntoFusionWithTransparentLayer=
function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<r;d++,a+=4){var g=e.data[a+3]*w/100|0;c.data[a]=e.data[a];c.data[a+1]=e.data[a+1];c.data[a+2]=e.data[a+2];c.data[a+3]=g}};h.replaceOntoFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];c.data[a]=e.data[a];
c.data[a+1]=e.data[a+1];c.data[a+2]=e.data[a+2];c.data[a+3]=d}};h.replaceOntoFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++){var n=e.data[d+3]*k.data[a]*w/25500|0;c.data[d]=e.data[d];c.data[d+1]=e.data[d+1];c.data[d+2]=e.data[d+2];c.data[d+3]=n}};h.replaceOntoFusionWithOpaqueLayerMasked=function(c,
e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++){var f=e.data[b+3]*k.data[a]/255|0;c.data[b]=e.data[b];c.data[b+1]=e.data[b+1];c.data[b+2]=e.data[b+2];c.data[b+3]=f}};h.replaceAlphaOntoFusionWithTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=
q)for(var d=0;d<r;d++,a+=4)c.data[a+3]=e.data[a+3]*w/100|0};h.replaceAlphaOntoFusionWithTransparentLayerMasked=function(c,e,w,a,k){var r=a.getHeight()|0,q=a.getWidth()|0,b=4*(e.width-q)|0,d=e.offsetOfPixel(a.left,a.top)|0,g=k.width-q|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var m=0;m<r;m++,d+=b,a+=g)for(var f=0;f<q;f++,d+=4,a++)c.data[d+3]=e.data[d+3]*k.data[a]*w/25500|0};h.replaceAlphaOntoFusionWithOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4)c.data[a+3]=e.data[a+3]};h.replaceAlphaOntoFusionWithOpaqueLayerMasked=function(c,e,w,a,k){w=a.getHeight()|0;var r=a.getWidth()|0,q=4*(e.width-r)|0,b=e.offsetOfPixel(a.left,a.top)|0,d=k.width-r|0;a=k.offsetOfPixel(a.left,a.top)|0;for(var g=0;g<w;g++,b+=q,a+=d)for(var m=0;m<r;m++,b+=4,a++)c.data[b+3]=e.data[b+3]*k.data[a]/255|0};h.upgradeMultiplyOfOpaqueLayer=function(c,e,w,a){w=a.getHeight()|0;var k=a.getWidth()|0,r=4*(e.width-k)|0;a=e.offsetOfPixel(a.left,
a.top)|0;for(var q=0;q<w;q++,a+=r)for(var b=0;b<k;b++,a+=4){var d=e.data[a+3];if(d){var g=e.data[a];var m=c.data[a];e.data[a]=g+Math.ceil((255-g)*m*d%65025/(m*d));g=e.data[a+1];m=c.data[a+1];e.data[a+1]=g+Math.ceil((255-g)*m*d%65025/(m*d));g=e.data[a+2];m=c.data[a+2];e.data[a+2]=g+Math.ceil((255-g)*m*d%65025/(m*d))}}};h.upgradeMultiplyOfTransparentLayer=function(c,e,w,a){var k=a.getHeight()|0,r=a.getWidth()|0,q=4*(e.width-r)|0;a=e.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<k;b++,a+=q)for(var d=0;d<
r;d++,a+=4){var g=e.data[a+3]*w/100|0;if(g){var m=e.data[a];var f=c.data[a];e.data[a]=m+Math.ceil((255-m)*f*g%65025/(f*g));m=e.data[a+1];f=c.data[a+1];e.data[a+1]=m+Math.ceil((255-m)*f*g%65025/(f*g));m=e.data[a+2];f=c.data[a+2];e.data[a+2]=m+Math.ceil((255-m)*f*g%65025/(f*g))}}};h._normalFuseImageOntoImageAtPosition=function(c,e,w,a,k,r){w=a.getHeight()|0;var q=a.getWidth()|0,b=4*(e.width-q)|0;a=e.offsetOfPixel(a.left,a.top)|0;var d=4*(c.width-q)|0;k=c.offsetOfPixel(k,r)|0;for(r=0;r<w;r++,a+=b,k+=
d)for(var g=0;g<q;g++,a+=4,k+=4){var m=e.data[a+3];if(m){var f=c.data[k+3];f=m+f-(m*f/255|0)|0;m=255*m/f|0;var n=255-m;c.data[k]=(e.data[a]*m+c.data[k]*n)/255|0;c.data[k+1]=(e.data[a+1]*m+c.data[k+1]*n)/255|0;c.data[k+2]=(e.data[a+2]*m+c.data[k+2]*n)/255|0;c.data[k+3]=f}}};h.LM_NORMAL=0;h.LM_MULTIPLY=1;h.LM_ADD=2;h.LM_SCREEN=3;h.LM_LIGHTEN=4;h.LM_DARKEN=5;h.LM_SUBTRACT=6;h.LM_DODGE=7;h.LM_BURN=8;h.LM_OVERLAY=9;h.LM_HARDLIGHT=10;h.LM_SOFTLIGHT=11;h.LM_VIVIDLIGHT=12;h.LM_LINEARLIGHT=13;h.LM_PINLIGHT=
14;h.LM_PASSTHROUGH=15;h.LM_MULTIPLY2=16;h.LM_FIRST=0;h.LM_LAST=16;h.LM_LAST_CHIBIPAINT=h.LM_PINLIGHT;h.BLEND_MODE_CODENAMES="normal multiply add screen lighten darken subtract dodge burn overlay hardLight softLight vividLight linearLight pinLight passthrough multiply2".split(" ");h.BLEND_MODE_DISPLAY_NAMES="Normal;Multiply;Add;Screen;Lighten;Darken;Subtract;Dodge;Burn;Overlay;Hard Light;Soft Light;Vivid Light;Linear Light;Pin Light;Passthrough;Multiply".split(";");(function(){for(var c=0;256>c;c++){var e=
c/255;v[c]=255*(e-e*e)|0}for(c=0;256>c;c++)e=c/255,D[c]=255*(Math.sqrt(e)-e)|0})();M.exports=C.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPLayer.js":16}],6:[function(l,M,C){function z(c){return c&&c.__esModule?c:{default:c}}var h=z(l("./CPBlend.js")),v=z(l("../util/CPRect.js")),D=z(l("./CPColorBmp.js"));z(l("./CPGreyBmp.js"));h.default.blendFunctionNameForParameters=function(c,e,w,a){w=h.default.BLEND_MODE_CODENAMES[w]+"Onto";w=c?w+"TransparentFusion":w+"OpaqueFusion";
w=100==e?w+"WithOpaqueLayer":w+"WithTransparentLayer";a&&(w+="Masked");return w};h.default.fuseImageOntoImage=function(c,e,w,a,k,r,q){0>=a||(e=h.default.blendFunctionNameForParameters(e,a,k,null!=q),r=c.getBounds().clipTo(r),this[e](c,w,a,r,q))};h.default.normalFuseImageOntoImageAtPosition=function(c,e,w,a,k){k=k.clone();w=new v.default(w,a,0,0);c.getBounds().clipSourceDest(k,w);this._normalFuseImageOntoImageAtPosition(c,e,100,k,w.left,w.top)};h.default.multiplyAlphaBy=function(c,e){if(100>e)if(0==
e)c.clearAll(0);else{c=c.data;for(var w=3;w<c.length;w+=4)c[w]=Math.round(c[w]*e/100)}};h.default.multiplyAlphaByMask=function(c,e,w){e/=25500;for(var a=D.default.ALPHA_BYTE_OFFSET,k=0;a<c.data.length;a+=D.default.BYTES_PER_PIXEL,k++)c.data[a]=Math.round(c.data[a]*w.data[k]*e)};h.default.copyAndMultiplyAlphaBy=function(c,e,w,a){if(100==w)c.copyBitmapRect(e,a.left,a.top,a);else if(0==w)c.clearRect(a,0);else for(c=e.data,e=0;e<c.length;e+=4)c[e]=c[e],c[e+1]=c[e+1],c[e+2]=c[e+2],c[e+3]=Math.round(c[e+
3]*w/100)}},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],7:[function(l,M,C){function z(q){return q&&q.__esModule?q:{default:q}}function h(q,b){var d="undefined"!==typeof Symbol&&q[Symbol.iterator]||q["@@iterator"];if(!d){if(Array.isArray(q)||(d=v(q))||b&&q&&"number"===typeof q.length){d&&(q=d);var g=0;b=function(){};return{s:b,n:function(){return g>=q.length?{done:!0}:{done:!1,value:q[g++]}},e:function(u){throw u;},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var m=!0,f=!1,n;return{s:function(){d=d.call(q)},n:function(){var u=d.next();m=u.done;return u},e:function(u){f=!0;n=u},f:function(){try{m||null==d.return||d.return()}finally{if(f)throw n;}}}}function v(q,b){if(q){if("string"===typeof q)return D(q,b);var d=Object.prototype.toString.call(q).slice(8,-1);"Object"===d&&q.constructor&&(d=q.constructor.name);if("Map"===d||"Set"===d)return Array.from(q);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return D(q,b)}}function D(q,b){if(null==
b||b>q.length)b=q.length;for(var d=0,g=Array(b);d<b;d++)g[d]=q[d];return g}function c(q,b,d){d?(this.isGroup=d instanceof w.default,this.image=d.image,this.mask=d.getEffectiveMask(),this.layer=d,this.blendMode=d.blendMode,this.alpha=d.alpha,this.visible=d.visible):(this.isGroup=!0,this.layer=this.mask=this.image=null,this.blendMode=e.default.LM_PASSTHROUGH,this.alpha=100,this.visible=!0);this.dirtyRect=new r.default(0,0,q,b);this.layers=[];this.parent=null;this.clip=!1}Object.defineProperty(C,"__esModule",
{value:!0});C.default=function(q,b,d,g){function m(){return 0<P.length?P.pop():new a.default(b,d)}function f(H){if(0==H.layers.length)return null;if(1==H.layers.length&&(null==H.mask||null==H.layers[0].mask)){var I=H.layers[0];I.alpha=Math.round(H.alpha*I.alpha/100);H.blendMode!=e.default.LM_PASSTHROUGH&&(I.blendMode=H.blendMode);I.mask=H.mask||I.mask;H.layer&&x.set(H.layer,I);return I}if(H.blendMode==e.default.LM_PASSTHROUGH&&100==H.alpha&&null==H.mask)return H.layers;H.image=m();return H}function n(H){var I=
new c(b,d,H);x.set(H,I);return I}function u(H){if(0==H.getEffectiveAlpha())return null;for(var I=n(H),J=0;J<H.layers.length;J++){var L=H.layers[J],R=H.layers[J+1];if(L instanceof k.default&&R&&R.clip){R=new c(b,d,null);R.blendMode=L.blendMode;R.alpha=100;R.clip=!0;R.addChildren(n(L));for(J+=1;J<H.layers.length;J++)if(H.layers[J].clip)0<H.layers[J].getEffectiveAlpha()&&R.addChildren(n(H.layers[J]));else break;0<L.getEffectiveAlpha()&&I.addChildren(f(R));--J}else L instanceof w.default?I.addChildren(u(L)):
0<L.getEffectiveAlpha()&&I.addChildren(n(L))}return f(I)}function y(H,I){H&&(H.dirtyRect.union(I),y(H.parent,I))}function E(H){if(H.isGroup){H.image&&P.push(H.image);H=h(H.layers);var I;try{for(H.s();!(I=H.n()).done;)E(I.value)}catch(J){H.e(J)}finally{H.f()}}}function t(H){if(!H||!H.isGroup)return H;var I=H.dirtyRect,J=!0,L=!0;H.blendMode==e.default.LM_PASSTHROUGH&&H.parent&&I.union(H.parent.dirtyRect);if(I.isEmpty())return H;if(H.blendMode==e.default.LM_PASSTHROUGH&&H.parent){J=!1;var R=H.image,
fa=H.parent.image;I.getWidth()==R.width&&I.getHeight()==R.height?R.copyPixelsFrom(fa):e.default.replaceOntoFusionWithOpaqueLayer(R,fa,100,I)}for(R=0;R<H.layers.length;R++){var ea=t(H.layers[R]);if(J){J=H.image;fa=ea.image;var ua=ea.alpha,na=I;ea=ea.mask;if(100!=ua||ea||na.getWidth()!=J.width||na.getHeight()!=J.height){var Q="replaceOntoFusionWith";Q=100==ua?Q+"OpaqueLayer":Q+"TransparentLayer";ea&&(Q+="Masked");e.default[Q](J,fa,ua,na,ea)}else J.copyPixelsFrom(fa);J=!1}else L=L&&H.image.hasAlphaInRect(I),
e.default.fuseImageOntoImage(H.image,L,ea.image,ea.alpha,ea.blendMode,I,ea.mask)}H.clip&&(L=H.layers[0],100>L.alpha?L.mask?e.default.replaceAlphaOntoFusionWithTransparentLayerMasked(H.image,L.image,L.alpha,I,L.mask):e.default.replaceAlphaOntoFusionWithTransparentLayer(H.image,L.image,L.alpha,I):L.mask?e.default.replaceAlphaOntoFusionWithOpaqueLayerMasked(H.image,L.image,100,I,L.mask):e.default.replaceAlphaOntoFusionWithOpaqueLayer(H.image,L.image,100,I));H.dirtyRect.makeEmpty();return H}var G,P=[],
x=new Map;this.invalidateLayerRect=function(H,I){H=x.get(H);y(H,I)};this.buildTree=function(){if(!G){G=u(q);if(!G)G=new c(b,d,{image:m(),blendMode:e.default.LM_NORMAL,alpha:100,getEffectiveMask:function(){return null},visible:!0}),G.image.clearAll(0);else if(Array.isArray(G)||g&&(100>G.alpha||G.mask)){var H=G;G=new c(b,d);G.blendMode=Array.isArray(H)?e.default.LM_NORMAL:H.blendMode;G.alpha=100;G.image=m();G.addChildren(H)}P=[]}};this.resetTree=function(){G&&(E(G),G=null,x.clear())};this.layerPropertyChanged=
function(H,I){var J=x.get(H);J&&J.visible==H.visible&&J.alpha==H.alpha&&null==J.mask==(null==H.getEffectiveMask())&&J.blendMode==e.default.LM_PASSTHROUGH==(H.blendMode==e.default.LM_PASSTHROUGH)&&"clip"!==I?(J.blendMode=H.blendMode,y(J,new r.default(0,0,b,d))):this.resetTree()};this.blendTree=function(){return t(G)}};var e=z(l("./CPBlend.js"));l("./CPBlendAdditional.js");z(l("./CPLayer.js"));var w=z(l("./CPLayerGroup.js")),a=z(l("./CPColorBmp.js")),k=z(l("./CPImageLayer.js")),r=z(l("../util/CPRect.js"));
c.prototype.addChildren=function(q){var b=this;null!=q&&(Array.isArray(q)?(q.forEach(function(d){return d.parent=b}),this.layers=this.layers.concat(q)):(q.parent=this,this.layers.push(q)))};M.exports=C.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"./CPLayer.js":16,"./CPLayerGroup.js":17}],8:[function(l,M,C){function z(h){for(var v in z.DEFAULTS)z.DEFAULTS.hasOwnProperty(v)&&(this[v]=z.DEFAULTS[v]);for(v in h)h.hasOwnProperty(v)&&
(this[v]=h[v])}Object.defineProperty(C,"__esModule",{value:!0});C.default=z;z.STROKE_MODE_FREEHAND=0;z.STROKE_MODE_LINE=1;z.STROKE_MODE_BEZIER=2;z.TIP_ROUND_PIXEL=0;z.TIP_ROUND_AA=1;z.TIP_ROUND_AIRBRUSH=2;z.TIP_SQUARE_PIXEL=3;z.TIP_SQUARE_AA=4;z.BRUSH_MODE_PAINT=0;z.BRUSH_MODE_ERASE=1;z.BRUSH_MODE_DODGE=2;z.BRUSH_MODE_BURN=3;z.BRUSH_MODE_WATER=4;z.BRUSH_MODE_BLUR=5;z.BRUSH_MODE_SMUDGE=6;z.BRUSH_MODE_OIL=7;z.PAINT_MODE_OPACITY=0;z.PAINT_MODE_FLOW=1;z.DEFAULTS={isAA:!1,minSpacing:0,spacing:0,pressureSize:!0,
pressureAlpha:!1,pressureScattering:!1,alphaScale:1,tip:z.TIP_ROUND_PIXEL,brushMode:z.BRUSH_MODE_PAINT,paintMode:z.PAINT_MODE_OPACITY,strokeMode:z.STROKE_MODE_FREEHAND,resat:1,bleed:0,texture:1,size:0,curSize:0,alpha:0,curAlpha:0,scattering:0,curScattering:0,squeeze:0,curSqueeze:0,angle:Math.PI,curAngle:0,smoothing:0};z.prototype.applyPressure=function(h){this.curSize=this.pressureSize&&this.brushMode!=z.BRUSH_MODE_SMUDGE&&this.brushMode!=z.BRUSH_MODE_OIL?Math.max(.1,this.size*h):Math.max(.1,this.size);
16<this.curSize&&(this.curSize=Math.floor(this.curSize));this.curSize=Math.min(this.curSize,400);this.curAlpha=this.pressureAlpha?Math.floor(this.alpha*Math.min(h,1)):this.alpha;this.curSqueeze=this.squeeze;this.curAngle=this.angle;this.curScattering=this.scattering*this.curSize*(this.pressureScattering?h:1)};z.prototype.clone=function(){return new z(this)};M.exports=C.default},{}],9:[function(l,M,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(){function v(d){if(null!=w&&d.curSize==
a&&d.curSqueeze==k&&d.curAngle==r&&d.tip==q)return w;switch(d.tip){case z.default.TIP_ROUND_AIRBRUSH:for(var g=D,m=Math.ceil(d.curSize),f=m/2,n=d.curSize/2*(d.curSize/2),u=1+d.curSqueeze*h,y=Math.cos(d.curAngle),E=Math.sin(d.curAngle),t=0,G=0;G<m;G++)for(var P=0;P<m;P++){var x=P+.5-f,H=G+.5-f,I=(x*y-H*E)*u;x=H*y+x*E;I=I*I+x*x;I<=n?g[t++]=~~(255*(1-I/n)):g[t++]=0}break;case z.default.TIP_ROUND_AA:g=D;m=Math.ceil(d.curSize);f=m/2;n=d.curSize/2*(d.curSize/2);u=(d.curSize-2)/2*((d.curSize-2)/2);y=(d.curSize+
2)/2*((d.curSize+2)/2);E=1+d.curSqueeze*h;t=Math.cos(d.curAngle);G=Math.sin(d.curAngle);for(I=P=0;I<m;I++)for(x=0;x<m;x++){var J=x+.5-f,L=I+.5-f,R=(J*t-L*G)*E;J=L*t+J*G;R=R*R+J*J;if(R<=u)g[P++]=255;else if(R>y)g[P++]=0;else{for(var fa=H=0;4>fa;fa++)for(var ea=0;4>ea;ea++)J=x+.25*ea-f,L=I+.25*fa-f,R=(J*t-L*G)*E,J=L*t+J*G,R=R*R+J*J,R<=n&&(H+=1);g[P++]=Math.min(16*H,255)}}break;case z.default.TIP_ROUND_PIXEL:g=D;m=Math.ceil(d.curSize);f=m/2;n=d.curSize/2*(d.curSize/2);u=1+d.curSqueeze*h;y=Math.cos(d.curAngle);
E=Math.sin(d.curAngle);for(G=t=0;G<m;G++)for(P=0;P<m;P++)x=P+.5-f,H=G+.5-f,I=(x*y-H*E)*u,x=H*y+x*E,I*I+x*x<=n?g[t++]=255:g[t++]=0;break;case z.default.TIP_SQUARE_AA:g=D;m=Math.ceil(d.curSize);f=m/2;u=d.curSize*Math.sin(Math.PI/4);n=u/2/(1+d.curSqueeze*h);u/=2;y=n-1;E=u-1;t=n+1;G=u+1;P=Math.cos(d.curAngle);I=Math.sin(d.curAngle);for(H=x=0;H<m;H++)for(fa=0;fa<m;fa++){var ua=fa+.5-f,na=H+.5-f;ea=Math.abs(ua*P-na*I);ua=Math.abs(na*P+ua*I);if(ea<=y&&ua<=E)g[x++]=255;else if(ea>t||ua>G)g[x++]=0;else{for(J=
R=0;4>J;J++)for(L=0;4>L;L++)ua=fa+.25*L-f,na=H+.25*J-f,ea=Math.abs(ua*P-na*I),ua=Math.abs(na*P+ua*I),ea<=n&&ua<=u&&R++;g[x++]=Math.min(16*R,255)}}break;case z.default.TIP_SQUARE_PIXEL:for(g=D,m=Math.ceil(d.curSize),f=m/2,u=d.curSize*Math.sin(Math.PI/4),n=u/2/(1+d.curSqueeze*h),u/=2,y=Math.cos(d.curAngle),E=Math.sin(d.curAngle),G=t=0;G<m;G++)for(P=0;P<m;P++)I=P+.5-f,x=G+.5-f,H=Math.abs(x*y+I*E),Math.abs(I*y-x*E)<=n&&H<=u?g[t++]=255:g[t++]=0}w=D;a=d.curSize;q=d.tip;k=d.curSqueeze;r=d.curAngle;return D}
var D=new Uint8Array(160801),c=new Uint8Array(161604),e=[new Float32Array(402),new Float32Array(402)],w=null,a,k,r,q,b=this;this.getDab=function(d,g,m){var f={alpha:m.curAlpha,width:Math.ceil(m.curSize),height:Math.ceil(m.curSize)},n=m.isAA&&m.tip!=z.default.TIP_ROUND_PIXEL;n&&(f.width++,f.height++);var u=d-f.width/2+.5,y=g-f.height/2+.5;g=Math.floor(u);d=Math.floor(y);if(n){var E=u-g,t=y-d;u=v(m);y=Math.ceil(m.curSize);n=Math.ceil(m.curSize)+1;var G=(1-E)*(1-t),P=E*(1-t),x=E*t,H=(1-E)*t,I=0;E=0;
t=e[0];var J=e[1],L;t.fill(0);for(var R=0;R<y;R++){for(L=J[0]=0;L<y;L++,I++,E++){var fa=u[I];c[E]=t[L]+fa*G+.5|0;t[L+1]+=fa*P;J[L]+=fa*H;J[L+1]=fa*x}c[E++]=t[L]+.5|0;L=t;t=J;J=L}for(u=0;u<n;u++,E++)c[E]=t[u]+.5|0;f.brush=c}else f.brush=v(m);f.x=g;f.y=d;if(0<m.texture&&null!=this.texture)for(f.brush==D&&(c.set(D),f.brush=c),m=Math.floor(255*m.texture),g=b.texture,d=f.x%g.width,n=f.y%g.height,u=0,0>d&&(d+=g.width),0>n&&(n+=g.height),P=0;P<f.height;P++){y=n*g.width+d;G=n*g.width+g.width;for(x=0;x<f.width;x++)f.brush[u]=
~~(f.brush[u]*(g.data[y]*m/255^255)/255),u++,y++,y==G&&(y-=g.width);n++;n==g.height&&(n=0)}return f};this.setTexture=function(d){this.texture=d}};var z=function(v){return v&&v.__esModule?v:{default:v}}(l("./CPBrushInfo.js")),h=10;M.exports=C.default},{"./CPBrushInfo.js":8}],10:[function(l,M,C){function z(y){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&
E!==Symbol.prototype?"symbol":typeof E},z(y)}function h(y){return y&&y.__esModule?y:{default:y}}function v(y,E){if("function"!==typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,writable:!0,configurable:!0}});Object.defineProperty(y,"prototype",{writable:!1});E&&D(y,E)}function D(y,E){D=Object.setPrototypeOf||function(t,G){t.__proto__=G;return t};return D(y,E)}function c(y){var E=e();return function(){var t=
w(y);if(E){var G=w(this).constructor;t=Reflect.construct(t,arguments,G)}else t=t.apply(this,arguments);if(!t||"object"!==z(t)&&"function"!==typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");t=this}return t}}function e(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,
[],function(){})),!0}catch(y){return!1}}function w(y){w=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)};return w(y)}function a(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function");}function k(y,E){for(var t=0;t<E.length;t++){var G=E[t];G.enumerable=G.enumerable||!1;G.configurable=!0;"value"in G&&(G.writable=!0);Object.defineProperty(y,G.key,G)}}function r(y,E,t){E&&k(y.prototype,E);t&&k(y,t);Object.defineProperty(y,
"prototype",{writable:!1});return y}function q(y){for(var E=0,t=0;t<y.length;t++)E+=y[t];return E/y.length}function b(y){for(var E=new n.default(0,0,0),t=0;t<y.length;t++){var G=y[t];E.r+=G.r;E.g+=G.g;E.b+=G.b}E.r/=y.length;E.g/=y.length;E.b/=y.length;return E}function d(y,E){var t=y.data;if(0<E.left)for(var G=E.top;G<E.bottom;G++){var P=G*y.width,x=P;P=t[P+E.left];for(var H=0;H<E.left;H++,x++)t[x]=P}if(E.right<y.width)for(G=E.top;G<E.bottom;G++)for(x=G*y.width+E.right,P=t[x-1],H=E.right;H<y.width;H++,
x++)t[x]=P;for(x=G=0;x<E.top;x++)for(P=E.top*y.width,H=0;H<y.width;H++,P++,G++)t[G]=t[P];G=E.bottom*y.width;for(x=E.bottom;x<y.width;x++)for(P=(E.bottom-1)*y.width,H=0;H<y.width;H++,P++,G++)t[G]=t[P]}Object.defineProperty(C,"__esModule",{value:!0});C.CPBrushToolWatercolor=C.CPBrushToolSmudge=C.CPBrushToolOil=C.CPBrushToolEraser=C.CPBrushToolDodge=C.CPBrushToolBurn=C.CPBrushToolBlur=C.CPBrushTool=void 0;var g=h(l("./CPColorBmp.js")),m=h(l("./CPGreyBmp.js")),f=h(l("./CPBrushInfo.js")),n=h(l("../util/CPColorFloat.js"));
l=function(){function y(E,t){a(this,y);this._strokeBuffer=E;this._strokedRegion=t;this.wantsOutputAsInput=!0}r(y,[{key:"paintDab",value:function(E,t,G,P,x,H,I){E=Math.max(1,Math.ceil(H.alpha*P.alphaScale));switch(P.paintMode){case f.default.PAINT_MODE_FLOW:this._paintFlow(x,t,H.brush,H.width,E);break;case f.default.PAINT_MODE_OPACITY:this._paintOpacity(x,t,H.brush,H.width,E)}}},{key:"mergeOntoImage",value:function(E,t,G){var P=this._strokeBuffer.data,x=this._strokedRegion;t=t.data;var H=E.data,I=
G>>16&255,J=G>>8&255;G&=255;var L=x.getWidth()|0,R=x.getHeight()|0,fa=this._strokeBuffer.offsetOfPixel(x.left,x.top);x=E.offsetOfPixel(x.left,x.top);var ea=this._strokeBuffer.width-L|0;E=(E.width-L)*g.default.BYTES_PER_PIXEL|0;for(var ua=0;ua<R;ua++,fa+=ea,x+=E)for(var na=0;na<L;na++,fa++,x+=g.default.BYTES_PER_PIXEL){var Q=P[fa]/255+.5|0;if(0<Q){var pa=Q+t[x+g.default.ALPHA_BYTE_OFFSET]*(255-Q)/255|0;Q=255*Q/pa|0;var ia=255-Q;H[x]=(I*Q+t[x]*ia)/255&255;H[x+1]=(J*Q+t[x+1]*ia)/255&255;H[x+2]=(G*Q+
t[x+2]*ia)/255&255;H[x+3]=pa}}}},{key:"mergeOntoMask",value:function(E,t,G){var P=this._strokeBuffer.data,x=this._strokedRegion;t=t.data;var H=E.data,I=x.getWidth()|0,J=x.getHeight()|0,L=E.offsetOfPixel(x.left,x.top);x=this._strokeBuffer.offsetOfPixel(x.left,x.top);var R=this._strokeBuffer.width-I|0;E=E.width-I|0;for(var fa=0;fa<J;fa++,x+=R,L+=E)for(var ea=0;ea<I;ea++,x++,L++){var ua=P[x]/255|0;0<ua&&(H[L]=(G*ua+t[L]*(255-ua))/255)}}},{key:"_paintFlow",value:function(E,t,G,P,x){var H=this._strokeBuffer.data;
E=E.left+E.top*P;var I=this._strokeBuffer.offsetOfPixel(t.left,t.top),J=t.getHeight(),L=t.getWidth();P-=L;var R=this._strokeBuffer.width-L;this._strokedRegion.union(t);for(t=0;t<J;t++,E+=P,I+=R)for(var fa=0;fa<L;fa++,E++,I++){var ea=G[E]*x;0!=ea&&(H[I]=Math.min(65025,H[I]+(255-H[I]/255)*ea/255))}}},{key:"_paintOpacity",value:function(E,t,G,P,x){var H=this._strokeBuffer.data;E=E.left+E.top*P;var I=this._strokeBuffer.offsetOfPixel(t.left,t.top),J=t.getWidth();P-=J;var L=this._strokeBuffer.width-J;x=
Math.min(255,x);this._strokedRegion.union(t);for(var R=t.top;R<t.bottom;R++,E+=P,I+=L)for(var fa=0;fa<J;fa++,E++,I++)H[I]=Math.max(G[E]*x,H[I])}},{key:"beginStroke",value:function(){}},{key:"endStroke",value:function(){}}]);return y}();C.CPBrushTool=l;M=function(y){function E(){a(this,E);return t.apply(this,arguments)}v(E,y);var t=c(E);r(E,[{key:"mergeOntoImage",value:function(G,P,x){x=this._strokeBuffer.data;var H=this._strokedRegion;P=P.data;for(var I=G.data,J=H.top;J<H.bottom;J++)for(var L=G.offsetOfPixel(H.left,
J)+g.default.ALPHA_BYTE_OFFSET,R=this._strokeBuffer.offsetOfPixel(H.left,J),fa=H.left;fa<H.right;fa++,L+=g.default.BYTES_PER_PIXEL){var ea=x[R++]/255|0;0<ea&&(I[L]=P[L]*(255-ea)/255)}}}]);return E}(l);C.CPBrushToolEraser=M;M=function(y){function E(){a(this,E);return t.apply(this,arguments)}v(E,y);var t=c(E);r(E,[{key:"mergeOntoImage",value:function(G,P,x){x=this._strokeBuffer.data;var H=this._strokedRegion,I=H.getWidth(),J=H.getHeight(),L=G.offsetOfPixel(H.left,H.top);H=this._strokeBuffer.offsetOfPixel(H.left,
H.top);var R=(G.width-I)*g.default.BYTES_PER_PIXEL,fa=this._strokeBuffer.width-I;P=P.data;G=G.data;for(var ea=0;ea<J;ea++,H+=fa,L+=R)for(var ua=0;ua<I;ua++,H++,L+=g.default.BYTES_PER_PIXEL){var na=x[H]/255|0;0<na&&0!=P[L+g.default.ALPHA_BYTE_OFFSET]&&(na=(na+255)/255,G[L+g.default.RED_BYTE_OFFSET]=P[L+g.default.RED_BYTE_OFFSET]*na,G[L+g.default.GREEN_BYTE_OFFSET]=P[L+g.default.GREEN_BYTE_OFFSET]*na,G[L+g.default.BLUE_BYTE_OFFSET]=P[L+g.default.BLUE_BYTE_OFFSET]*na)}}},{key:"mergeOntoMask",value:function(G,
P,x){x=this._strokeBuffer.data;var H=this._strokedRegion,I=H.getWidth(),J=H.getHeight(),L=G.offsetOfPixel(H.left,H.top);H=this._strokeBuffer.offsetOfPixel(H.left,H.top);var R=G.width-I,fa=this._strokeBuffer.width-I;P=P.data;G=G.data;for(var ea=0;ea<J;ea++,H+=fa,L+=R)for(var ua=0;ua<I;ua++,H++,L++){var na=x[H]/255|0;0<na&&(G[L]=Math.min((na+255)/255*P[L],255))}}}]);return E}(l);C.CPBrushToolDodge=M;M=function(y){function E(){a(this,E);return t.apply(this,arguments)}v(E,y);var t=c(E);r(E,[{key:"mergeOntoImage",
value:function(G,P,x){x=this._strokeBuffer.data;var H=this._strokedRegion,I=H.getWidth(),J=H.getHeight(),L=G.offsetOfPixel(H.left,H.top);H=this._strokeBuffer.offsetOfPixel(H.left,H.top);var R=(G.width-I)*g.default.BYTES_PER_PIXEL,fa=this._strokeBuffer.width-I;P=P.data;G=G.data;for(var ea=0;ea<J;ea++,H+=fa,L+=R)for(var ua=0;ua<I;ua++,H++,L+=g.default.BYTES_PER_PIXEL){var na=x[H]/255|0;0<na&&0!=P[L+g.default.ALPHA_BYTE_OFFSET]&&(G[L+g.default.RED_BYTE_OFFSET]=P[L+g.default.RED_BYTE_OFFSET]-(260-P[L+
g.default.RED_BYTE_OFFSET])*na/255|0,G[L+g.default.GREEN_BYTE_OFFSET]=P[L+g.default.GREEN_BYTE_OFFSET]-(260-P[L+g.default.GREEN_BYTE_OFFSET])*na/255|0,G[L+g.default.BLUE_BYTE_OFFSET]=P[L+g.default.BLUE_BYTE_OFFSET]-(260-P[L+g.default.BLUE_BYTE_OFFSET])*na/255|0)}}},{key:"mergeOntoMask",value:function(G,P,x){x=this._strokeBuffer.data;var H=this._strokedRegion,I=H.getWidth(),J=H.getHeight(),L=G.offsetOfPixel(H.left,H.top);H=this._strokeBuffer.offsetOfPixel(H.left,H.top);var R=G.width-I,fa=this._strokeBuffer.width-
I;P=P.data;G=G.data;for(var ea=0;ea<J;ea++,H+=fa,L+=R)for(var ua=0;ua<I;ua++,H++,L++){var na=x[H]/255|0;0<na&&(G[L]=Math.max(P[L]-(260-P[L])*na/255,0))}}}]);return E}(l);C.CPBrushToolBurn=M;M=function(y){function E(){a(this,E);return t.apply(this,arguments)}v(E,y);var t=c(E);r(E,[{key:"mergeOntoImage",value:function(G,P,x){x=this._strokeBuffer.data;var H=this._strokedRegion,I=P.data;G=G.data;var J=H.getWidth(),L=P.width*g.default.BYTES_PER_PIXEL,R=P.offsetOfPixel(H.left,H.top),fa=this._strokeBuffer.offsetOfPixel(H.left,
H.top),ea=(P.width-J)*g.default.BYTES_PER_PIXEL;J=this._strokeBuffer.width-J;for(var ua,na,Q,pa,ia=function(Qa){ua+=I[Qa+g.default.RED_BYTE_OFFSET];na+=I[Qa+g.default.GREEN_BYTE_OFFSET];Q+=I[Qa+g.default.BLUE_BYTE_OFFSET];pa+=I[Qa+g.default.ALPHA_BYTE_OFFSET]},ya=H.top;ya<H.bottom;ya++,R+=ea,fa+=J)for(var va=H.left;va<H.right;va++,R+=g.default.BYTES_PER_PIXEL,fa++){var Ha=x[fa]/255|0;if(0<Ha){Ha=64+-63*Ha/255|0;var qa=Ha+4;ua=Ha*I[R+g.default.RED_BYTE_OFFSET];na=Ha*I[R+g.default.GREEN_BYTE_OFFSET];
Q=Ha*I[R+g.default.BLUE_BYTE_OFFSET];pa=Ha*I[R+g.default.ALPHA_BYTE_OFFSET];ia(0<ya?R-L:R);ia(ya<P.height-1?R+L:R);ia(0<va?R-g.default.BYTES_PER_PIXEL:R);ia(va<P.width-1?R+g.default.BYTES_PER_PIXEL:R);pa/=qa;ua/=qa;na/=qa;Q/=qa;G[R+g.default.RED_BYTE_OFFSET]=ua|0;G[R+g.default.GREEN_BYTE_OFFSET]=na|0;G[R+g.default.BLUE_BYTE_OFFSET]=Q|0;G[R+g.default.ALPHA_BYTE_OFFSET]=pa|0}}}},{key:"mergeOntoMask",value:function(G,P,x){x=this._strokeBuffer.data;var H=this._strokedRegion,I=P.data;G=G.data;var J=H.getWidth(),
L=P.width,R=P.offsetOfPixel(H.left,H.top),fa=this._strokeBuffer.offsetOfPixel(H.left,H.top),ea=P.width-J;J=this._strokeBuffer.width-J;for(var ua,na=H.top;na<H.bottom;na++,R+=ea,fa+=J)for(var Q=H.left;Q<H.right;Q++,R++,fa++){var pa=x[fa]/255|0;0<pa&&(ua=64+-63*pa/255|0,pa=ua+4,ua*=I[R],ua+=I[0<na?R-L:R],ua+=I[na<P.height-1?R+L:R],ua+=I[0<Q?R-1:R],ua+=I[Q<P.width-1?R+1:R],G[R]=ua/pa|0)}}}]);return E}(l);C.CPBrushToolBlur=M;l=function(y){function E(){a(this,E);return t.apply(this,arguments)}v(E,y);var t=
c(E);r(E,[{key:"mergeOntoImage",value:function(G,P,x){x=this._strokeBuffer.data;var H=this._strokedRegion;P=P.data;var I=G.data,J=this._strokeBuffer.offsetOfPixel(H.left,H.top),L=G.offsetOfPixel(H.left,H.top),R=H.getWidth()|0;H=H.getHeight()|0;var fa=this._strokeBuffer.width-R|0;G=(G.width-R)*g.default.BYTES_PER_PIXEL|0;for(var ea=0;ea<H;ea++,J+=fa,L+=G)for(var ua=0;ua<R;ua++,J++,L+=g.default.BYTES_PER_PIXEL){var na=x[J],Q=na>>>24;if(0<Q){var pa=P[L+g.default.ALPHA_BYTE_OFFSET];pa=Q+pa-Q*pa/255|0;
Q=255*Q/pa|0;var ia=255-Q;I[L]=((na>>16&255)*Q+P[L]*ia)/255|0;I[L+1]=((na>>8&255)*Q+P[L+1]*ia)/255|0;I[L+2]=((na&255)*Q+P[L+2]*ia)/255|0;I[L+3]=pa}}}},{key:"mergeOntoMask",value:function(G,P,x){x=this._strokeBuffer.data;var H=this._strokedRegion;P=P.data;var I=G.data,J=this._strokeBuffer.offsetOfPixel(H.left,H.top),L=G.offsetOfPixel(H.left,H.top),R=H.getWidth()|0;H=H.getHeight()|0;var fa=this._strokeBuffer.width-R|0;G=G.width-R|0;for(var ea=0;ea<H;ea++,J+=fa,L+=G)for(var ua=0;ua<R;ua++,J++,L++){var na=
x[J],Q=na>>8;0<Q&&(I[L]=((na&255)*Q+P[L]*(255-Q))/255|0)}}}]);return E}(l);var u=2/6;M=function(y){function E(G,P){a(this,E);G=t.call(this,G,P);G.wantsOutputAsInput=!0;return G}v(E,y);var t=c(E);r(E,[{key:"_paintToColorStrokeBuffer",value:function(G,P,x,H,I,J){var L=this._strokeBuffer.data,R=P.getWidth(),fa=P.getHeight(),ea=this._strokeBuffer.width-R,ua=H-R;G=G.left+G.top*H;H=this._strokeBuffer.offsetOfPixel(P.left,P.top);this._strokedRegion.union(P);for(P=0;P<fa;P++,G+=ua,H+=ea)for(var na=0;na<R;na++,
G++,H++){var Q=x[G]*I/255|0;if(0<Q){var pa=L[H],ia=pa>>>24;ia=Q+ia-Q*ia/255|0;Q=255-(255*Q/ia|0);L[H]=ia<<24|(J>>16&255)+((pa>>16&255)*Q-(J>>16&255)*Q)/255<<16|(J>>8&255)+((pa>>8&255)*Q-(J>>8&255)*Q)/255<<8|(J&255)+((pa&255)*Q-(J&255)*Q)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(G,P,x,H,I,J){var L=this._strokeBuffer.data;this._strokedRegion.union(P);for(var R=P.top,fa=G.top;R<P.bottom;R++,fa++)for(var ea=G.left+fa*H,ua=this._strokeBuffer.offsetOfPixel(P.left,R),na=P.left;na<P.right;na++,
ea++,ua++){var Q=x[ea]*I/255|0;if(!(0>=Q)){var pa=L[ua],ia=pa>>8;ia=Q+ia-Q*ia/255|0;0<ia&&(Q=255-(255*Q/ia|0),L[ua]=ia<<8|J+((pa&255)*Q-J*Q)/255)}}}},{key:"beginStroke",value:function(){this._previousSamples=null}},{key:"paintDab",value:function(G,P,x,H,I,J,L){G=Math.max(1,J.alpha/4);var R=(P.left+P.right)/2,fa=(P.top+P.bottom)/2,ea=Math.max(1,Math.min(64,P.getWidth()*u)),ua=Math.max(1,Math.min(64,P.getHeight()*u));if(x instanceof m.default){null==this._previousSamples&&(this._previousSamples=Array(50),
this._previousSamples.fill(E._sampleGrey(x,R,fa,ea,ua)));var na=q(this._previousSamples),Q=H.resat*H.resat;L=na=na*(1-Q)+(L&255)*Q;x=E._sampleGrey(x,R,fa,ea,ua);H=H.bleed;this._previousSamples.push(na*(1-H)+x*H);this._previousSamples.shift();this._paintToGreyscaleStrokeBuffer(I,P,J.brush,J.width,G,Math.round(L))}else null==this._previousSamples&&(this._previousSamples=Array(50),this._previousSamples.fill(E._sampleRGB(x,R,fa,ea,ua))),na=b(this._previousSamples),na.mixWith(n.default.createFromInt(L),
H.resat*H.resat),L=na.toInt(),na.mixWith(E._sampleRGB(x,R,fa,ea,ua),H.bleed),this._previousSamples.push(na),this._previousSamples.shift(),this._paintToColorStrokeBuffer(I,P,J.brush,J.width,G,L)}}],[{key:"_sampleGrey",value:function(G,P,x,H,I){P|=0;x|=0;for(var J=[{x:P,y:x}],L=.25;1.001>L;L+=.25)Array.prototype.push.apply(J,[{x:~~(P+L*H),y:x},{x:~~(P-L*H),y:x},{x:P,y:~~(x+L*I)},{x:P,y:~~(x-L*I)},{x:~~(P+.7*L*H),y:~~(x+.7*L*I)},{x:~~(P+.7*L*H),y:~~(x-.7*L*I)},{x:~~(P-.7*L*H),y:~~(x+.7*L*I)},{x:~~(P-
.7*L*H),y:~~(x-.7*L*I)}]);return q(J.map(function(R){return G.getPixel(R.x,R.y)}))}},{key:"_sampleRGB",value:function(G,P,x,H,I){P|=0;x|=0;for(var J=[{x:P,y:x}],L=.25;1.001>L;L+=.25)Array.prototype.push.apply(J,[{x:~~(P+L*H),y:x},{x:~~(P-L*H),y:x},{x:P,y:~~(x+L*I)},{x:P,y:~~(x-L*I)},{x:~~(P+.7*L*H),y:~~(x+.7*L*I)},{x:~~(P+.7*L*H),y:~~(x-.7*L*I)},{x:~~(P-.7*L*H),y:~~(x+.7*L*I)},{x:~~(P-.7*L*H),y:~~(x-.7*L*I)}]);return b(J.map(function(R){return n.default.createFromInt(G.getPixel(R.x,R.y))}))}}]);return E}(l);
C.CPBrushToolWatercolor=M;M=function(y){function E(G,P){a(this,E);G=t.call(this,G,P);G.wantsOutputAsInput=!0;return G}v(E,y);var t=c(E);r(E,[{key:"_accumulatePaintFromMask",value:function(G,P,x,H){var I=this._brushBuffer.data,J=G.data,L=x.getWidth(),R=x.getHeight();P=P.left+P.top*this._brushBuffer.width;x=G.offsetOfPixel(x.left,x.top);var fa=this._brushBuffer.width-L;G=G.width-L;if(!(0>=H))for(var ea=0;ea<R;ea++,P+=fa,x+=G)for(var ua=0;ua<L;ua++,P++,x++){var na=J[x],Q=I[P],pa=Q>>8;pa=H+pa-H*pa/255|
0;var ia=255-(255*H/pa|0);I[P]=pa<<8|na+((Q&255)*ia-na*ia)/255}}},{key:"_resaturateBrushWithGrey",value:function(G,P,x){if(!(0>=P)){var H=this._brushBuffer.data,I=G.getWidth(),J=G.getHeight();G=G.left+G.top*this._brushBuffer.width;for(var L=this._brushBuffer.width-I,R=0;R<J;R++,G+=L)for(var fa=0;fa<I;fa++,G++){var ea=H[G],ua=ea>>8;ua=P+ua-P*ua/255|0;var na=255-(255*P/ua|0);H[G]=ua<<8|x+((ea&255)*na-x*na)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(G,P,x,H,I){var J=this._strokeBuffer.data,
L=this._brushBuffer.data,R=G.data;this._strokedRegion.union(x);for(var fa=x.top,ea=P.top;fa<x.bottom;fa++,ea++)for(var ua=this._brushBuffer.offsetOfPixel(P.left,ea),na=this._strokeBuffer.offsetOfPixel(x.left,fa),Q=G.offsetOfPixel(x.left,fa),pa=x.left;pa<x.right;pa++,ua++,Q++,na++){var ia=L[ua],ya=(ia>>8)*H[ua]*I/65025|0;0<ya&&(ya=255-ya,J[na]=65280|(ia&255)+(R[Q]*ya-(ia&255)*ya)/255)}}},{key:"_accumulatePaintFromImage",value:function(G,P,x,H){var I=this._brushBuffer.data,J=G.data,L=x.getWidth(),R=
x.getHeight();P=P.left+P.top*this._brushBuffer.width;x=G.offsetOfPixel(x.left,x.top);var fa=this._brushBuffer.width-L;G=(G.width-L)*g.default.BYTES_PER_PIXEL;for(var ea=0;ea<R;ea++,P+=fa,x+=G)for(var ua=0;ua<L;ua++,P++,x+=g.default.BYTES_PER_PIXEL){var na=J[x+g.default.ALPHA_BYTE_OFFSET]*H/255|0;if(0<na){var Q=I[P],pa=Q>>>24;pa=na+pa-na*pa/255|0;na=255-(255*na/pa|0);var ia=J[x+g.default.RED_BYTE_OFFSET],ya=J[x+g.default.GREEN_BYTE_OFFSET],va=J[x+g.default.BLUE_BYTE_OFFSET];I[P]=pa<<24|ia+((Q>>16&
255)*na-ia*na)/255<<16|ya+((Q>>8&255)*na-ya*na)/255<<8|va+((Q&255)*na-va*na)/255}}}},{key:"_resaturateBrushWithColor",value:function(G,P,x){if(!(0>=P)){var H=this._brushBuffer.data,I=G.getWidth(),J=G.getHeight();G=G.left+G.top*this._brushBuffer.width;for(var L=this._brushBuffer.width-I,R=0;R<J;R++,G+=L)for(var fa=0;fa<I;fa++,G++){var ea=H[G],ua=ea>>>24;ua=P+ua-P*ua/255|0;var na=255-(255*P/ua|0);H[G]=ua<<24|(x>>>16&255)+((ea>>>16&255)*na-(x>>>16&255)*na)/255<<16|(x>>>8&255)+((ea>>>8&255)*na-(x>>>8&
255)*na)/255<<8|(x&255)+((ea&255)*na-(x&255)*na)/255}}}},{key:"_paintToColorStrokeBuffer",value:function(G,P,x,H,I){var J=this._strokeBuffer.data,L=this._brushBuffer.data,R=G.data;this._strokedRegion.union(x);for(var fa=x.top,ea=P.top;fa<x.bottom;fa++,ea++)for(var ua=this._brushBuffer.offsetOfPixel(P.left,ea),na=this._strokeBuffer.offsetOfPixel(x.left,fa),Q=G.offsetOfPixel(x.left,fa),pa=x.left;pa<x.right;pa++,ua++,Q+=g.default.BYTES_PER_PIXEL,na++){var ia=L[ua],ya=(ia>>>24)*H[ua]*I/65025|0;if(0<ya){var va=
R[Q+g.default.ALPHA_BYTE_OFFSET];va=ya+va-ya*va/255|0;ya=255-(255*ya/va|0);J[na]=va<<24|(ia>>16&255)+(R[Q+g.default.RED_BYTE_OFFSET]*ya-(ia>>16&255)*ya)/255<<16|(ia>>8&255)+(R[Q+g.default.GREEN_BYTE_OFFSET]*ya-(ia>>8&255)*ya)/255<<8|(ia&255)+(R[Q+g.default.BLUE_BYTE_OFFSET]*ya-(ia&255)*ya)/255}}}},{key:"paintDab",value:function(G,P,x,H,I,J,L){G instanceof g.default?null==this._brushBuffer?(this._brushBuffer=new m.default(J.width,J.height,32),this._accumulatePaintFromImage(x,I,P,255)):(this._resaturateBrushWithColor(I,
~~(0>=H.resat?0:Math.max(1,H.resat*H.resat*255)),L&16777215),this._paintToColorStrokeBuffer(G,I,P,J.brush,J.alpha),this._accumulatePaintFromImage(x,I,P,~~(255*H.bleed))):null==this._brushBuffer?(this._brushBuffer=new m.default(J.width,J.height,16),this._accumulatePaintFromMask(x,I,P,255)):(this._resaturateBrushWithGrey(I,~~(0>=H.resat?0:Math.max(1,H.resat*H.resat*255)),L&255),this._paintToGreyscaleStrokeBuffer(G,I,P,J.brush,J.alpha),this._accumulatePaintFromMask(x,I,P,~~(255*H.bleed)))}},{key:"endStroke",
value:function(){this._brushBuffer=null}}]);return E}(l);C.CPBrushToolOil=M;l=function(y){function E(G,P){a(this,E);G=t.call(this,G,P);G._brushBuffer=null;G.wantsOutputAsInput=!0;G.noMergePhase=!0;return G}v(E,y);var t=c(E);r(E,[{key:"_sampleFromMask",value:function(G,P,x,H){var I=this._brushBuffer.data,J=P.getWidth(),L=P.getHeight(),R=this._brushBuffer.offsetOfPixel(P.left,P.top);x=G.offsetOfPixel(x.left,x.top);var fa=this._brushBuffer.width-J,ea=G.width-J,ua=255-H;if(255!=H){for(var na=0;na<L;na++,
R+=fa,x+=ea)for(var Q=0;Q<J;Q++,R++,x++){var pa=G.data[x],ia=I[R],ya=(pa*ua+(ia&255)*H)/255,va=(255*ua+(ia>>8)*H)/255<<8|ya;va==ia&&(pa>ya?va++:pa<ya&&va--);I[R]=va}d(this._brushBuffer,P)}}},{key:"_paintToMask",value:function(G,P,x,H){var I=P.getWidth(),J=P.getHeight();P=this._brushBuffer.offsetOfPixel(P.left,P.top);x=G.offsetOfPixel(x.left,x.top);var L=this._brushBuffer.width-I,R=G.width-I;G=G.data;for(var fa=this._brushBuffer.data,ea=0;ea<J;ea++,x+=R,P+=L)for(var ua=0;ua<I;ua++,P++,x++){var na=
fa[P],Q=na&255;0<((na>>8)*H[P]/255|0)&&(G[x]=Q)}}},{key:"_sampleFromImage",value:function(G,P,x,H){var I=this._brushBuffer.data,J=P.getWidth(),L=P.getHeight(),R=this._brushBuffer.offsetOfPixel(P.left,P.top);x=G.offsetOfPixel(x.left,x.top);var fa=this._brushBuffer.width-J,ea=(G.width-J)*g.default.BYTES_PER_PIXEL,ua=255-H;if(255!=H){for(var na=0;na<L;na++,R+=fa,x+=ea)for(var Q=0;Q<J;Q++,R++,x+=g.default.BYTES_PER_PIXEL){var pa=G.data[x+g.default.RED_BYTE_OFFSET],ia=G.data[x+g.default.GREEN_BYTE_OFFSET],
ya=G.data[x+g.default.BLUE_BYTE_OFFSET],va=I[R],Ha=(G.data[x+g.default.ALPHA_BYTE_OFFSET]*ua+(va>>24&255)*H)/255<<24&4278190080|(pa*ua+(va>>16&255)*H)/255<<16&16711680|(ia*ua+(va>>8&255)*H)/255<<8&65280|(ya*ua+(va&255)*H)/255&255;if(Ha==va){va=(Ha&16711680)>>16;var qa=(Ha&65280)>>8,Qa=Ha&255;pa>va?Ha+=65536:pa<va&&(Ha-=65536);ia>qa?Ha+=256:ia<qa&&(Ha-=256);ya>Qa?Ha+=1:ya<Qa&&--Ha}I[R]=Ha}d(this._brushBuffer,P)}}},{key:"_paintToImage",value:function(G,P,x,H){var I=P.getWidth(),J=P.getHeight();P=this._brushBuffer.offsetOfPixel(P.left,
P.top);x=G.offsetOfPixel(x.left,x.top);var L=this._brushBuffer.width-I,R=(G.width-I)*g.default.BYTES_PER_PIXEL;G=G.data;for(var fa=this._brushBuffer.data,ea=0;ea<J;ea++,x+=R,P+=L)for(var ua=0;ua<I;ua++,P++,x+=g.default.BYTES_PER_PIXEL){var na=fa[P];0<((na>>>24)*H[P]/255|0)&&(G[x+g.default.RED_BYTE_OFFSET]=na>>16&255,G[x+g.default.GREEN_BYTE_OFFSET]=na>>8&255,G[x+g.default.BLUE_BYTE_OFFSET]=na&255,G[x+g.default.ALPHA_BYTE_OFFSET]=na>>24&255)}}},{key:"paintDab",value:function(G,P,x,H,I,J,L){G instanceof
g.default?null==this._brushBuffer?(this._brushBuffer=new m.default(J.width,J.height,32),this._sampleFromImage(x,I,P,0)):(this._sampleFromImage(x,I,P,J.alpha),this._paintToImage(G,I,P,J.brush)):null==this._brushBuffer?(this._brushBuffer=new m.default(J.width,J.height,16),this._sampleFromMask(x,I,P,0)):(this._sampleFromMask(x,I,P,J.alpha),this._paintToMask(G,I,P,J.brush))}},{key:"mergeOntoImage",value:function(G,P,x){}},{key:"mergeOntoMask",value:function(G,P,x){}},{key:"beginStroke",value:function(){this._brushBuffer=
null}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return E}(l);C.CPBrushToolSmudge=l},{"../util/CPColorFloat.js":59,"./CPBrushInfo.js":8,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],11:[function(l,M,C){function z(Ma){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ta){return typeof ta}:function(ta){return ta&&"function"==typeof Symbol&&ta.constructor===Symbol&&ta!==Symbol.prototype?"symbol":typeof ta},z(Ma)}function h(Ma){return Ma&&
Ma.__esModule?Ma:{default:Ma}}function v(Ma,ta){var Oa="undefined"!==typeof Symbol&&Ma[Symbol.iterator]||Ma["@@iterator"];if(!Oa){if(Array.isArray(Ma)||(Oa=D(Ma))||ta&&Ma&&"number"===typeof Ma.length){Oa&&(Ma=Oa);var Ja=0;ta=function(){};return{s:ta,n:function(){return Ja>=Ma.length?{done:!0}:{done:!1,value:Ma[Ja++]}},e:function(ba){throw ba;},f:ta}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var $a=!0,U=!1,ca;return{s:function(){Oa=Oa.call(Ma)},n:function(){var ba=Oa.next();$a=ba.done;return ba},e:function(ba){U=!0;ca=ba},f:function(){try{$a||null==Oa.return||Oa.return()}finally{if(U)throw ca;}}}}function D(Ma,ta){if(Ma){if("string"===typeof Ma)return c(Ma,ta);var Oa=Object.prototype.toString.call(Ma).slice(8,-1);"Object"===Oa&&Ma.constructor&&(Oa=Ma.constructor.name);if("Map"===Oa||"Set"===Oa)return Array.from(Ma);if("Arguments"===Oa||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Oa))return c(Ma,
ta)}}function c(Ma,ta){if(null==ta||ta>Ma.length)ta=Ma.length;for(var Oa=0,Ja=Array(ta);Oa<ta;Oa++)Ja[Oa]=Ma[Oa];return Ja}function e(){e="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(Ma,ta,Oa){var Ja;for(Ja=Ma;!Object.prototype.hasOwnProperty.call(Ja,ta)&&(Ja=q(Ja),null!==Ja););if(Ja)return Ja=Object.getOwnPropertyDescriptor(Ja,ta),Ja.get?Ja.get.call(3>arguments.length?Ma:Oa):Ja.value};return e.apply(this,arguments)}function w(Ma,ta){if("function"!==typeof ta&&null!==ta)throw new TypeError("Super expression must either be null or a function");
Ma.prototype=Object.create(ta&&ta.prototype,{constructor:{value:Ma,writable:!0,configurable:!0}});Object.defineProperty(Ma,"prototype",{writable:!1});ta&&a(Ma,ta)}function a(Ma,ta){a=Object.setPrototypeOf||function(Oa,Ja){Oa.__proto__=Ja;return Oa};return a(Ma,ta)}function k(Ma){var ta=r();return function(){var Oa=q(Ma);if(ta){var Ja=q(this).constructor;Oa=Reflect.construct(Oa,arguments,Ja)}else Oa=Oa.apply(this,arguments);if(!Oa||"object"!==z(Oa)&&"function"!==typeof Oa){if(void 0!==Oa)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");Oa=this}return Oa}}function r(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ma){return!1}}function q(Ma){q=Object.setPrototypeOf?Object.getPrototypeOf:function(ta){return ta.__proto__||Object.getPrototypeOf(ta)};return q(Ma)}
function b(Ma,ta){if(!(Ma instanceof ta))throw new TypeError("Cannot call a class as a function");}function d(Ma,ta){for(var Oa=0;Oa<ta.length;Oa++){var Ja=ta[Oa];Ja.enumerable=Ja.enumerable||!1;Ja.configurable=!0;"value"in Ja&&(Ja.writable=!0);Object.defineProperty(Ma,Ja.key,Ja)}}function g(Ma,ta,Oa){ta&&d(Ma.prototype,ta);Oa&&d(Ma,Oa);Object.defineProperty(Ma,"prototype",{writable:!1});return Ma}function m(Ma){this.version=Ma.readU32BE();this.width=Ma.readU32BE();this.height=Ma.readU32BE();this.layersNb=
Ma.readU32BE()}function f(Ma){for(var ta=Array(4),Oa=0;Oa<ta.length;Oa++)ta[Oa]=String.fromCharCode(Ma.readByte());this.chunkType=ta.join("");this.chunkSize=Ma.readU32BE();if(Ma.eof)throw"Truncated chunk";}function n(Ma){return{major:Ma>>16&65535,minor:Ma&65535}}function u(Ma){Ma=n(Ma);return 0===Ma.major&&0===Ma.minor?"ChibiPaint v0.0":"ChickenPaint v"+Ma.major+"."+Ma.minor}function y(Ma){Ma=v(Ma.getLayersRoot().getLinearizedLayerList(!1));var ta;try{for(Ma.s();!(ta=Ma.n()).done;){var Oa=ta.value;
if(Oa instanceof J.default||Oa.mask||Oa.clip||Oa.blendMode>R.default.LM_LAST_CHIBIPAINT||Oa.blendMode===R.default.LM_MULTIPLY)return ea<<16|ua}}catch(Ja){Ma.e(Ja)}finally{Ma.f()}return 0}function E(Ma,ta){var Oa=new Uint8Array(f.HEADER_LENGTH+ta);Oa=new I.default(Oa);Oa.writeString(Ma);Oa.writeU32BE(ta);return Oa}function t(Ma,ta,Oa){var Ja=E(pa,m.FIXED_HEADER_LENGTH);Ja.writeU32BE(ta);Ja.writeU32BE(Ma.width);Ja.writeU32BE(Ma.height);Ja.writeU32BE(Oa);return Ja.getAsDataArray()}function G(Ma){for(var ta=
0;ta<Q.length;ta++)if(Ma[ta]!=Q.charCodeAt(ta))return!1;return!0}Object.defineProperty(C,"__esModule",{value:!0});C.load=function(Ma,ta){function Oa(ka){var X=Aa;if(null===X||0===X.length)Aa=ka;else if(null===ka||0===ka.length)Aa=X;else{var Y=new Uint8Array(X.length+ka.length);Y.set(X,0);Y.set(ka,X.length);Aa=Y}for(;;){if(Aa)if(aa<Aa.length)Aa=Aa.subarray(aa),aa=0;else{aa-=Aa.length;Aa=null;break}else break;switch($a){case 0:if(Aa.length<f.HEADER_LENGTH)break;ka=new I.default(Aa);Ba=new f(ka);Aa=
Aa.subarray(ka.pos);if(sa)if(Ba.chunkType==va)$a=45;else{Ba.chunkType==ia?($a=2,ba=new La(Ba,sa.width,sa.height)):Ba.chunkType==ya?($a=3,ba=new hb(Ba,sa.width,sa.height)):(console.log("Unknown chunk type '"+Ba.chunkType+"', attempting to skip..."),aa=Ba.chunkSize);continue}else if(Ba.chunkType==pa){$a=1;continue}else $a=5;break;case 1:if(Aa.length<Ba.chunkSize)break;ka=new I.default(Aa);sa=new m(ka);if(n(sa.version).major>na){$a=5;break}U=new P.default(sa.width,sa.height);ca=U.getLayersRoot();aa=
Ba.chunkSize;$a=0;continue;case 2:Aa=ba.decode(Aa);if(ba.done){U.addLayerObject(ca,ba.layer);$a=0;continue}break;case 3:if(Aa=ba.decode(Aa),ba.done){U.addLayerGroupObject(ca,ba.layer,ba.childLayers);$a=0;continue}}break}}ta=ta||{};var Ja=new fa.default.Inflate({}),$a=0,U=null,ca=null,ba,aa=0,sa=null,Ba=null,Aa=null;return(new Promise(function(ka){if(Ma instanceof ArrayBuffer)ka(Ma);else{var X=new FileReader;X.onload=function(){ka(this.result)};X.readAsArrayBuffer(Ma)}})).then(function(ka){return new Promise(function(X,
Y){var B=new Uint8Array(ka);G(B)?(B=B.subarray(Q.length),Ja.onData=Oa,Ja.onEnd=function(F){0===F&&45==$a?(!1!==ta.upgradeMultiplyLayers&&sa.version<(ea<<16|ua)&&U.upgradeMultiplyLayers(ta.upgradeMultiplyLayers),U.selectTopmostVisibleLayer(),X(U)):Y("Fatal error decoding ChibiFile: "+F)},Ja.push(B,!0)):Y("This doesn't appear to be a ChibiPaint layers file, is it damaged?")})})};C.save=function(Ma,ta){ta=ta||{};return Promise.resolve().then(function(){var Oa=new fa.default.Deflate({level:7}),Ja=[],
$a=new Uint8Array(Q.length),U=Ma.getLayersRoot().getLinearizedLayerList(!1),ca=ta.forceOldVersion?0:y(Ma),ba=u(ca),aa=Promise.resolve();Oa.onData=function(Aa){Ja.push(Aa)};for(var sa=0;sa<Q.length;sa++)$a[sa]=Q.charCodeAt(sa);Ja.push($a);Oa.push(t(Ma,ca,U.length),!1);$a=v(U);var Ba;try{for(U=function(){var Aa=Ba.value;aa=aa.then(function(){return new Promise(function(ka){var X=Oa.push,Y=Aa instanceof x.default;var B=4*(Y?5:6);var F=Aa.name.length,T=B+F;B=E(Y?ia:ya,B+F+((Y?Aa.image.data.length:0)+
(Aa.mask?Aa.mask.data.length:0)));F=0;Aa.visible&&(F|=Ha);Y&&Aa.clip&&(F|=qa);Aa.mask&&(F|=Qa);Aa.maskLinked&&(F|=Xa);Aa.maskVisible&&(F|=gb);Aa.lockAlpha&&(F|=ma);!Y&&Aa.expanded&&(F|=S);if(Aa.blendMode===R.default.LM_MULTIPLY2){var ra=R.default.LM_MULTIPLY;F|=Ea}else ra=Aa.blendMode;B.writeU32BE(T);B.writeU32BE(ra);B.writeU32BE(Aa.alpha);B.writeU32BE(F);B.writeU32BE(Aa.name.length);Y||B.writeU32BE(Aa.layers.length);B.writeString(Aa.name);if(Y){Y=B.pos;T=B.data;F=Aa.image.data;for(ra=0;ra<F.length;ra+=
H.default.BYTES_PER_PIXEL)T[Y++]=F[ra+H.default.ALPHA_BYTE_OFFSET],T[Y++]=F[ra+H.default.RED_BYTE_OFFSET],T[Y++]=F[ra+H.default.GREEN_BYTE_OFFSET],T[Y++]=F[ra+H.default.BLUE_BYTE_OFFSET];B.pos=Y}Aa.mask&&(Y=Aa.mask,B.data.set(Y.data,B.pos),B.pos+=Y.data.length);B=B.getAsDataArray();X.call(Oa,B,!1);setTimeout(ka,10)})})},$a.s();!(Ba=$a.n()).done;)U()}catch(Aa){$a.e(Aa)}finally{$a.f()}return aa.then(function(){return new Promise(function(Aa,ka){Oa.onEnd=function(X){if(0===X)if("undefined"!==typeof Blob)Aa({bytes:new Blob(Ja,
{type:"application/octet-stream"}),version:ba});else{X=Ja.map(function(ra){return ra.byteLength}).reduce(function(ra,Na){return ra+Na},0);X=new Uint8Array(X);var Y=0,B=v(Ja),F;try{for(B.s();!(F=B.n()).done;){var T=F.value;X.set(T,Y);Y+=T.byteLength}}catch(ra){B.e(ra)}finally{B.f()}Aa({bytes:X,version:ba})}else ka(X)};Oa.push(E(va,0).getAsDataArray(),!0)})})})};var P=h(l("./CPArtwork.js")),x=h(l("./CPImageLayer.js")),H=h(l("./CPColorBmp.js")),I=h(l("../util/ArrayDataStream.js")),J=h(l("./CPLayerGroup.js")),
L=h(l("./CPGreyBmp.js")),R=h(l("./CPBlend.js")),fa=h(l("pako")),ea=0,ua=10,na=ea,Q="CHIBIOEK",pa="HEAD",ia="LAYR",ya="GRUP",va="ZEND";m.FIXED_HEADER_LENGTH=16;f.HEADER_LENGTH=8;var Ha=1,qa=2,Qa=4,Xa=8,gb=16,S=32,ma=64,Ea=128;l=function(){function Ma(ta,Oa,Ja){b(this,Ma);this.chunkHeader=ta;this.width=Oa;this.height=Ja;this.nameLength=this.skipBytes=this.payloadOffset=this.state=0;this.done=!1;this.maskDecoder=this.colorDecoder=null}g(Ma,[{key:"readFixedHeader",value:function(ta){this.payloadOffset=
ta.readU32BE();this.blendMode=ta.readU32BE();this.alpha=ta.readU32BE();var Oa=ta.readU32BE();this.visible=0!=(Oa&Ha);this.clip=0!=(Oa&qa);this.hasMask=0!=(Oa&Qa);this.maskLinked=0!=(Oa&Xa);this.maskVisible=0!=(Oa&gb);this.expanded=0!=(Oa&S);this.lockAlpha=0!=(Oa&ma);this.blendMode===R.default.LM_MULTIPLY&&0!==(Oa&Ea)&&(this.blendMode=R.default.LM_MULTIPLY2);this.nameLength=ta.readU32BE()}},{key:"getFixedHeaderLen",value:function(){return 20}},{key:"getVariableHeaderLen",value:function(){return this.nameLength}},
{key:"readVariableSizeHeader",value:function(ta){this.name=ta.readString(this.nameLength)}},{key:"decode",value:function(ta){for(var Oa;;){if(0<this.skipBytes){if(this.skipBytes>=ta.length)return this.skipBytes-=ta.length,null;ta=ta.subarray(this.skipBytes);this.skipBytes=0}switch(this.state){case 0:if(ta.length<this.getFixedHeaderLen())break;Oa=new I.default(ta);this.readFixedHeader(Oa);ta=ta.subarray(Oa.pos);this.state=1;continue;case 1:if(ta.length<this.getVariableHeaderLen())break;Oa=new I.default(ta);
this.readVariableSizeHeader(Oa);this.layer=this.createLayer();this.hasMask&&(this.layer.setMask(new L.default(this.width,this.height,8)),this.maskDecoder=new tb(this.layer.mask));this.layer instanceof x.default&&(this.colorDecoder=new yb(this.layer.image));this.skipBytes=this.payloadOffset-this.getFixedHeaderLen();this.state=this.colorDecoder?3:this.maskDecoder?4:5;continue;case 3:ta=this.colorDecoder.decode(ta);if(this.colorDecoder.done){this.state=this.maskDecoder?4:5;continue}break;case 4:ta=this.maskDecoder.decode(ta);
if(this.maskDecoder.done){this.state=5;continue}break;case 5:Oa=this.payloadOffset;this.colorDecoder&&(Oa+=this.colorDecoder.bytesTotal);this.maskDecoder&&(Oa+=this.maskDecoder.bytesTotal);this.state=6;this.skipBytes=this.chunkHeader.chunkSize-Oa;continue;case 6:this.done=!0}break}return ta}}]);return Ma}();var La=function(Ma){function ta(){b(this,ta);return Oa.apply(this,arguments)}w(ta,Ma);var Oa=k(ta);g(ta,[{key:"createLayer",value:function(){var Ja=new x.default(this.width,this.height,this.name);
Ja.setBlendMode(this.blendMode);Ja.setAlpha(this.alpha);Ja.setVisible(this.visible);Ja.setClip(this.clip);Ja.setMaskLinked(this.maskLinked);Ja.setMaskVisible(this.maskVisible);Ja.setLockAlpha(this.lockAlpha);return Ja}}]);return ta}(l),hb=function(Ma){function ta(Ja,$a,U){b(this,ta);Ja=Oa.call(this,Ja,$a,U);Ja.childLayers=0;return Ja}w(ta,Ma);var Oa=k(ta);g(ta,[{key:"readFixedHeader",value:function(Ja){e(q(ta.prototype),"readFixedHeader",this).call(this,Ja);this.childLayers=Ja.readU32BE()}},{key:"getFixedHeaderLen",
value:function(){return e(q(ta.prototype),"getFixedHeaderLen",this).call(this)+4}},{key:"createLayer",value:function(){var Ja=new J.default(this.name,this.blendMode);Ja.setAlpha(this.alpha);Ja.setVisible(this.visible);Ja.setExpanded(this.expanded);Ja.setMaskLinked(this.maskLinked);Ja.setMaskVisible(this.maskVisible);return Ja}}]);return ta}(l),yb=function(){function Ma(ta){b(this,Ma);this.bytesRead=0;this.bytesTotal=ta.width*ta.height*H.default.BYTES_PER_PIXEL;this.output=ta.data;this.done=!1}g(Ma,
[{key:"decode",value:function(ta){if(null==ta)return null;for(var Oa=this.bytesRead%H.default.BYTES_PER_PIXEL,Ja=this.bytesRead-Oa,$a=0,U=[H.default.ALPHA_BYTE_OFFSET,H.default.RED_BYTE_OFFSET,H.default.GREEN_BYTE_OFFSET,H.default.BLUE_BYTE_OFFSET];Oa<H.default.BYTES_PER_PIXEL&&$a<ta.length;Oa++)this.output[Ja+U[Oa]]=ta[$a],$a++;this.bytesRead+=$a;var ca=Math.min(ta.length-$a,this.bytesTotal-this.bytesRead)|0;Oa=ca/H.default.BYTES_PER_PIXEL|0;ca%=H.default.BYTES_PER_PIXEL;for(Ja=0;Ja<Oa;Ja++)this.output[this.bytesRead+
H.default.ALPHA_BYTE_OFFSET]=ta[$a],this.output[this.bytesRead+H.default.RED_BYTE_OFFSET]=ta[$a+1],this.output[this.bytesRead+H.default.GREEN_BYTE_OFFSET]=ta[$a+2],this.output[this.bytesRead+H.default.BLUE_BYTE_OFFSET]=ta[$a+3],this.bytesRead+=H.default.BYTES_PER_PIXEL,$a+=H.default.BYTES_PER_PIXEL;Ja=this.bytesRead;for(Oa=0;Oa<ca;Oa++)this.output[Ja+U[Oa]]=ta[$a],$a++;this.bytesRead+=ca;this.bytesRead>=this.bytesTotal&&(this.done=!0);return $a<ta.length?ta.subarray($a):null}}]);return Ma}(),tb=function(){function Ma(ta){b(this,
Ma);this.bytesRead=0;this.bytesTotal=ta.width*ta.height;this.output=ta.data;this.done=!1}g(Ma,[{key:"decode",value:function(ta){if(null==ta)return null;var Oa=Math.min(ta.length,this.bytesTotal-this.bytesRead)|0,Ja=this.bytesRead,$a;for($a=0;$a<Oa;$a++,Ja++)this.output[Ja]=ta[$a];this.bytesRead=Ja;this.bytesRead>=this.bytesTotal&&(this.done=!0);return $a<ta.length?ta.subarray($a):null}}]);return Ma}()},{"../util/ArrayDataStream.js":56,"./CPArtwork.js":3,"./CPBlend.js":5,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,
"./CPImageLayer.js":15,"./CPLayerGroup.js":17,pako:266}],12:[function(l,M,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(z,h,v){this.bmp=z;this.x=h;this.y=v};M.exports=C.default},{}],13:[function(l,M,C){function z(a){return a&&a.__esModule?a:{default:a}}function h(a,k){"number"==typeof a?(c.default.call(this,a,k),this.imageData=(0,w.createImageData)(this.width,this.height)):(c.default.call(this,a.width,a.height),this.imageData=a);this.data=this.imageData.data}function v(a,
k,r,q){var b=0,d=[0,0,0,0],g,m;for(m=g=0;m<q&&m<r;m++){for(var f=0;f<h.BYTES_PER_PIXEL;f++)d[f]+=a[g++];b++}for(f=m=0;f<r;f++){if(f+q<r){g=(f+q)*h.BYTES_PER_PIXEL;for(var n=0;n<h.BYTES_PER_PIXEL;n++)d[n]+=a[g++];b++}for(g=0;g<h.BYTES_PER_PIXEL;g++)k[m++]=Math.round(d[g]/b);if(0<=f-q){g=(f-q)*h.BYTES_PER_PIXEL;for(n=0;n<h.BYTES_PER_PIXEL;n++)d[n]-=a[g++];b--}}}function D(a,k){k%=4;if(0==k)return a;var r=(0,w.createCanvas)(0,0),q=r.getContext("2d");0==k%2?(r.width=a.width,r.height=a.height):(r.width=
a.height,r.height=a.width);switch(k){case 1:q.rotate(Math.PI/2);q.drawImage(a,0,-a.height);break;case 2:q.rotate(Math.PI);q.drawImage(a,-a.width,-a.height);break;case 3:q.rotate(-Math.PI/2);q.drawImage(a,-a.width,0);break;default:return a}return r}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;C.getRotatedCanvas=D;var c=z(l("./CPBitmap.js")),e=z(l("../util/CPRect.js")),w=l("../util/Canvas.js");h.prototype=Object.create(c.default.prototype);h.prototype.constructor=h;h.BYTES_PER_PIXEL=
4;h.RED_BYTE_OFFSET=0;h.GREEN_BYTE_OFFSET=1;h.BLUE_BYTE_OFFSET=2;h.ALPHA_BYTE_OFFSET=3;h.prototype.clone=function(){return this.cloneRect(this.getBounds())};h.prototype.cloneRect=function(a){var k=new h(a.getWidth(),a.getHeight());k.copyBitmapRect(this,0,0,a);return k};h.prototype.getPixel=function(a,k){a=Math.max(0,Math.min(this.width-1,a));k=Math.max(0,Math.min(this.height-1,k));a=this.offsetOfPixel(a,k);return this.data[a+h.ALPHA_BYTE_OFFSET]<<24|this.data[a+h.RED_BYTE_OFFSET]<<16|this.data[a+
h.GREEN_BYTE_OFFSET]<<8|this.data[a+h.BLUE_BYTE_OFFSET]};h.prototype.copyRectXOR=function(a,k){k=this.getBounds().clipTo(k);var r=k.getWidth(),q=k.getHeight();q=new Uint8Array(r*q*h.BYTES_PER_PIXEL);var b=0,d=this.offsetOfPixel(k.left,k.top),g=a.offsetOfPixel(k.left,k.top),m=(this.width-r)*h.BYTES_PER_PIXEL,f=(a.width-r)*h.BYTES_PER_PIXEL;r*=h.BYTES_PER_PIXEL;for(var n=k.top;n<k.bottom;n++,d+=m,g+=f)for(var u=0;u<r;u++,b++,d++,g++)q[b]=this.data[d]^a.data[g];return q};h.prototype.setRectXOR=function(a,
k){k=this.getBounds().clipTo(k);var r=k.getWidth(),q=k.getHeight();k=this.offsetOfPixel(k.left,k.top);var b=0,d=(this.width-r)*h.BYTES_PER_PIXEL;r*=h.BYTES_PER_PIXEL;for(var g=0;g<q;g++){for(var m=0;m<r;m++)this.data[k++]^=a[b++];k+=d}};h.prototype.copyBitmapRect=function(a,k,r,q){var b=new e.default(k,r,0,0);q=q.clone();this.getBounds().clipSourceDest(q,b);k=b.getWidth()|0;r=b.getHeight()|0;if(0==b.left&&0==b.top&&k==this.width&&r==this.height&&k==a.width&&r==a.height)this.copyPixelsFrom(a);else{b=
this.offsetOfPixel(b.left,b.top);var d=(this.width-k)*h.BYTES_PER_PIXEL;q=a.offsetOfPixel(q.left,q.top);for(var g=(a.width-k)*h.BYTES_PER_PIXEL,m=0;m<r;m++,q+=g,b+=d)for(var f=0;f<k;f++,q+=h.BYTES_PER_PIXEL,b+=h.BYTES_PER_PIXEL)this.data[b]=a.data[q],this.data[b+1]=a.data[q+1],this.data[b+2]=a.data[q+2],this.data[b+3]=a.data[q+3]}};h.prototype.copyAlphaFrom=function(a,k){k=this.getBounds().clipTo(k);var r=k.getWidth()|0,q=k.getHeight()|0;k=this.offsetOfPixel(k.left,k.top)+h.ALPHA_BYTE_OFFSET|0;for(var b=
(this.width-r)*h.BYTES_PER_PIXEL|0,d=0;d<q;d++,k+=b)for(var g=0;g<r;g++,k+=h.BYTES_PER_PIXEL)this.data[k]=a.data[k]};h.prototype.setToSize=function(a){if(a.width!=this.width||a.height!=this.height)this.width=a.width,this.height=a.height,this.imageData=(0,w.createImageData)(this.width,this.height),this.data=this.imageData.data};h.prototype.copyPixelsFrom=function(a){this.setToSize(a);if("set"in this.data)this.data.set(a.data);else for(var k=0;k<this.data.length;k++)this.data[k]=a.data[k]};h.prototype.copyPixelsFromGreyscale=
function(a){var k,r=0,q=a.width*a.height;this.setToSize(a);for(k=0;k<q;k++,r+=h.BYTES_PER_PIXEL)this.data[r+h.RED_BYTE_OFFSET]=a.data[k],this.data[r+h.GREEN_BYTE_OFFSET]=a.data[k],this.data[r+h.BLUE_BYTE_OFFSET]=a.data[k],this.data[r+h.ALPHA_BYTE_OFFSET]=255};h.prototype.copyScaledNearestNeighbor=function(a){for(var k=0,r=a.width/this.width,q=a.height/this.height,b,d=0,g=0;d<this.height;d++,g+=q){b=a.offsetOfPixel(0,Math.round(g));for(var m=0,f=0;m<this.width;m++,k+=h.BYTES_PER_PIXEL,f+=r){var n=
b+Math.round(f)*h.BYTES_PER_PIXEL;this.data[k]=a.data[n];this.data[k+1]=a.data[n+1];this.data[k+2]=a.data[n+2];this.data[k+h.ALPHA_BYTE_OFFSET]=a.data[n+h.ALPHA_BYTE_OFFSET]}}};h.prototype.createThumbnailFrom=function(a){var k=Math.min(Math.floor(a.width/this.width),3);if(2>k)this.copyScaledNearestNeighbor(a);else{var r=new Uint16Array(5*this.width),q=a.width*h.BYTES_PER_PIXEL,b=Math.floor(a.width/this.width)*h.BYTES_PER_PIXEL,d=Math.floor(a.width/this.width/k)*h.BYTES_PER_PIXEL,g=b-d*k,m=Math.floor(a.height/
this.height/k);b=m*q-b*this.width;q*=Math.floor(a.height/this.height)-m*k;for(var f=m=0,n=0;n<this.height;n++,m+=q){var u;r.fill(0);for(var y=0;y<k;y++,m+=b)for(var E=u=0;E<this.width;E++,u+=5,m+=g)for(var t=0;t<k;t++,m+=d){var G=a.data[m+h.ALPHA_BYTE_OFFSET],P=G/255;r[u]+=a.data[m]*P;r[u+1]+=a.data[m+1]*P;r[u+2]+=a.data[m+2]*P;r[u+h.ALPHA_BYTE_OFFSET]+=G;r[u+4]=Math.max(r[u+4],G)}for(y=u=0;y<this.width;y++,u+=5,f+=h.BYTES_PER_PIXEL)E=r[u+4],0==E?this.data[f+h.ALPHA_BYTE_OFFSET]=0:(t=E/r[u+h.ALPHA_BYTE_OFFSET],
this.data[f]=r[u]*t,this.data[f+1]=r[u+1]*t,this.data[f+2]=r[u+2]*t,this.data[f+h.ALPHA_BYTE_OFFSET]=E)}}};h.prototype.floodFill=function(a,k,r){if(this.isInside(a,k)){var q=this.getPixel(a,k),b=q>>24&255,d=q>>16&255,g=q>>8&255,m=q&255,f=r>>24&255,n=r>>16&255,u=r>>8&255,y=r&255,E=[],t=this.getBounds(),G=this.data;t.left*=h.BYTES_PER_PIXEL;t.right*=h.BYTES_PER_PIXEL;E.push({x1:a*h.BYTES_PER_PIXEL,x2:a*h.BYTES_PER_PIXEL,y:k,dy:-1});E.push({x1:a*h.BYTES_PER_PIXEL,x2:a*h.BYTES_PER_PIXEL,y:k+1,dy:1});
if(0==b){if(0!=f)for(;0<E.length;)if(d=E.pop(),!(d.y<t.top||d.y>=t.bottom)){g=this.offsetOfPixel(0,d.y);for(m=d.x1;m>=t.left&&0==G[m+g+h.ALPHA_BYTE_OFFSET];)G[m+g+h.RED_BYTE_OFFSET]=n,G[m+g+h.GREEN_BYTE_OFFSET]=u,G[m+g+h.BLUE_BYTE_OFFSET]=y,G[m+g+h.ALPHA_BYTE_OFFSET]=f,m-=h.BYTES_PER_PIXEL;if(m>=d.x1){for(;m<=d.x2&&G[m+g+h.ALPHA_BYTE_OFFSET]!=b;)m+=h.BYTES_PER_PIXEL;a=m+h.BYTES_PER_PIXEL;if(m>d.x2)continue}else m+=h.BYTES_PER_PIXEL,m<d.x1&&E.push({x1:m,x2:d.x1-h.BYTES_PER_PIXEL,y:d.y-d.dy,dy:-d.dy}),
a=d.x1+h.BYTES_PER_PIXEL;do{G[m+g+h.RED_BYTE_OFFSET]=n;G[m+g+h.GREEN_BYTE_OFFSET]=u;G[m+g+h.BLUE_BYTE_OFFSET]=y;for(G[m+g+h.ALPHA_BYTE_OFFSET]=f;a<t.right&&G[a+g+h.ALPHA_BYTE_OFFSET]==b;)G[a+g+h.RED_BYTE_OFFSET]=n,G[a+g+h.GREEN_BYTE_OFFSET]=u,G[a+g+h.BLUE_BYTE_OFFSET]=y,G[a+g+h.ALPHA_BYTE_OFFSET]=f,a+=h.BYTES_PER_PIXEL;E.push({x1:m,x2:a-h.BYTES_PER_PIXEL,y:d.y+d.dy,dy:d.dy});a-h.BYTES_PER_PIXEL>d.x2&&E.push({x1:d.x2+h.BYTES_PER_PIXEL,x2:a-h.BYTES_PER_PIXEL,y:d.y-d.dy,dy:-d.dy});for(m=a+h.BYTES_PER_PIXEL;m<=
d.x2&&G[m+g+h.ALPHA_BYTE_OFFSET]!=b;)m+=h.BYTES_PER_PIXEL;a=m+h.BYTES_PER_PIXEL}while(m<=d.x2)}}else if(r!=q)for(;0<E.length;)if(a=E.pop(),!(a.y<t.top||a.y>=t.bottom)){k=this.offsetOfPixel(0,a.y);for(r=a.x1;r>=t.left&&G[r+k+h.RED_BYTE_OFFSET]==d&&G[r+k+h.GREEN_BYTE_OFFSET]==g&&G[r+k+h.BLUE_BYTE_OFFSET]==m&&G[r+k+h.ALPHA_BYTE_OFFSET]==b;)G[r+k+h.RED_BYTE_OFFSET]=n,G[r+k+h.GREEN_BYTE_OFFSET]=u,G[r+k+h.BLUE_BYTE_OFFSET]=y,G[r+k+h.ALPHA_BYTE_OFFSET]=f,r-=h.BYTES_PER_PIXEL;if(r>=a.x1){for(;r<=a.x2&&(G[r+
k+h.RED_BYTE_OFFSET]!=d||G[r+k+h.GREEN_BYTE_OFFSET]!=g||G[r+k+h.BLUE_BYTE_OFFSET]!=m||G[r+k+h.ALPHA_BYTE_OFFSET]!=b);)r+=h.BYTES_PER_PIXEL;q=r+h.BYTES_PER_PIXEL;if(r>a.x2)continue}else r+=h.BYTES_PER_PIXEL,r<a.x1&&E.push({x1:r,x2:a.x1-h.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy}),q=a.x1+h.BYTES_PER_PIXEL;do{G[r+k+h.RED_BYTE_OFFSET]=n;G[r+k+h.GREEN_BYTE_OFFSET]=u;G[r+k+h.BLUE_BYTE_OFFSET]=y;for(G[r+k+h.ALPHA_BYTE_OFFSET]=f;q<t.right&&G[q+k+h.RED_BYTE_OFFSET]==d&&G[q+k+h.GREEN_BYTE_OFFSET]==g&&G[q+k+h.BLUE_BYTE_OFFSET]==
m&&G[q+k+h.ALPHA_BYTE_OFFSET]==b;)G[q+k+h.RED_BYTE_OFFSET]=n,G[q+k+h.GREEN_BYTE_OFFSET]=u,G[q+k+h.BLUE_BYTE_OFFSET]=y,G[q+k+h.ALPHA_BYTE_OFFSET]=f,q+=h.BYTES_PER_PIXEL;E.push({x1:r,x2:q-h.BYTES_PER_PIXEL,y:a.y+a.dy,dy:a.dy});q-h.BYTES_PER_PIXEL>a.x2&&E.push({x1:a.x2+h.BYTES_PER_PIXEL,x2:q-h.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy});for(r=q+h.BYTES_PER_PIXEL;r<=a.x2&&(G[r+k+h.RED_BYTE_OFFSET]!=d||G[r+k+h.GREEN_BYTE_OFFSET]!=g||G[r+k+h.BLUE_BYTE_OFFSET]!=m||G[r+k+h.ALPHA_BYTE_OFFSET]!=b);)r+=h.BYTES_PER_PIXEL;
q=r+h.BYTES_PER_PIXEL}while(r<=a.x2)}}};h.prototype.copyPixelColumnToArray=function(a,k,r,q){var b=(this.width-1)*h.BYTES_PER_PIXEL,d=0;a=this.offsetOfPixel(a,k);for(k=0;k<r;k++){for(var g=0;g<h.BYTES_PER_PIXEL;g++)q[d++]=this.data[a++];a+=b}};h.prototype.copyArrayToPixelColumn=function(a,k,r,q){var b=(this.width-1)*h.BYTES_PER_PIXEL,d=0;a=this.offsetOfPixel(a,k);for(k=0;k<r;k++){for(var g=0;g<h.BYTES_PER_PIXEL;g++)this.data[a++]=q[d++];a+=b}};h.prototype.boxBlur=function(a,k,r){a=this.getBounds().clipTo(a);
var q=a.getWidth(),b=q*h.BYTES_PER_PIXEL,d=a.getHeight(),g=Math.max(q,d),m=new Uint8Array(g*h.BYTES_PER_PIXEL);g=new Uint8Array(g*h.BYTES_PER_PIXEL);for(var f=a.top;f<a.bottom;f++){for(var n=this.offsetOfPixel(a.left,f),u=0;u<b;u++)m[u]=this.data[n++];n=m;u=q;for(var y=0,E=0;E<u;E++){for(var t=n[y+h.ALPHA_BYTE_OFFSET],G=0;3>G;G++,y++)n[y]=Math.round(n[y]*t/255);y++}v(m,g,q,k);n=this.offsetOfPixel(a.left,f);for(u=0;u<b;u++)this.data[n++]=g[u]}for(k=a.left;k<a.right;k++){this.copyPixelColumnToArray(k,
a.top,d,m);v(m,g,d,r);q=g;b=d;for(n=f=0;n<b;n++)if(u=q[f+h.ALPHA_BYTE_OFFSET],0!=u){u=255/u;for(y=0;3>y;y++,f++)q[f]=Math.min(Math.round(q[f]*u),255);f++}else f+=h.BYTES_PER_PIXEL;this.copyArrayToPixelColumn(k,a.top,d,g)}};h.prototype.offsetOfPixel=function(a,k){return 4*(k*this.width+a)|0};h.prototype.getMemorySize=function(){return this.data.length};h.prototype.getImageData=function(){return this.imageData};h.prototype.setImageData=function(a){this.width=a.width;this.height=a.height;this.imageData=
a;this.data=a.data};h.prototype.clearAll=function(a){if(0==a&&"fill"in this.data)this.data.fill(0);else{var k=a>>24&255,r=a>>16&255,q=a>>8&255;a&=255;for(var b=0;b<this.width*this.height*h.BYTES_PER_PIXEL;)this.data[b++]=r,this.data[b++]=q,this.data[b++]=a,this.data[b++]=k}};h.prototype.clearRect=function(a,k){a=this.getBounds().clipTo(a);var r=k>>24&255,q=k>>16&255,b=k>>8&255;k&=255;for(var d=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,g=this.offsetOfPixel(a.left,a.top),m=a.top;m<a.bottom;m++,g+=
d)for(var f=a.left;f<a.right;f++)this.data[g++]=q,this.data[g++]=b,this.data[g++]=k,this.data[g++]=r};h.prototype.copyRegionHFlip=function(a,k){a=this.getBounds().clipTo(a);for(var r=a.top;r<a.bottom;r++)for(var q=this.offsetOfPixel(a.left,r),b=k.offsetOfPixel(a.right-1,r),d=a.left;d<a.right;d++,b-=2*h.BYTES_PER_PIXEL)for(var g=0;g<h.BYTES_PER_PIXEL;g++)this.data[q++]=k.data[b++]};h.prototype.copyRegionVFlip=function(a,k){a=this.getBounds().clipTo(a);for(var r=a.getWidth()*h.BYTES_PER_PIXEL,q=a.top;q<
a.bottom;q++)for(var b=this.offsetOfPixel(a.left,q),d=k.offsetOfPixel(a.left,a.bottom-1-(q-a.top)),g=0;g<r;g++)this.data[b++]=k.data[d++]};h.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var k,r=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,q=this.offsetOfPixel(a.left,a.top),b=a.top;b<a.bottom;b++,q+=r)for(var d=a.left;d<a.right;d++,q+=h.BYTES_PER_PIXEL)k=256*Math.random()|0,this.data[q+h.RED_BYTE_OFFSET]=k,this.data[q+h.GREEN_BYTE_OFFSET]=k,this.data[q+h.BLUE_BYTE_OFFSET]=k,
this.data[q+h.ALPHA_BYTE_OFFSET]=255};h.prototype.gradientHorzReplace=function(a,k,r,q){var b={r:q[0]>>16&255,g:q[0]>>8&255,b:q[0]&255,a:q[0]>>24&255};q={r:q[1]>>16&255,g:q[1]>>8&255,b:q[1]&255,a:q[1]>>24&255};var d=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,g=this.offsetOfPixel(a.left,a.top)|0,m=a.bottom-a.top|0;if(r<k){var f=r;r=k;k=f;f=b;b=q;q=f}var n=r-k|0;f=(q.r-b.r)/n;var u=(q.g-b.g)/n,y=(q.b-b.b)/n;n=(q.a-b.a)/n;for(var E=Math.max(a.left-k,0),t=0;t<m;t++,g+=d){for(var G=a.left,P=Math.min(k,
a.right)|0;G<P;G++,g+=h.BYTES_PER_PIXEL)this.data[g+h.RED_BYTE_OFFSET]=b.r,this.data[g+h.GREEN_BYTE_OFFSET]=b.g,this.data[g+h.BLUE_BYTE_OFFSET]=b.b,this.data[g+h.ALPHA_BYTE_OFFSET]=b.a;var x=b.r+f*E,H=b.g+u*E,I=b.b+y*E,J=b.a+n*E;for(P=Math.min(r,a.right)|0;G<P;G++,g+=h.BYTES_PER_PIXEL)this.data[g+h.RED_BYTE_OFFSET]=x,this.data[g+h.GREEN_BYTE_OFFSET]=H,this.data[g+h.BLUE_BYTE_OFFSET]=I,this.data[g+h.ALPHA_BYTE_OFFSET]=J,x+=f,H+=u,I+=y,J+=n;for(;G<a.right;G++,g+=h.BYTES_PER_PIXEL)this.data[g+h.RED_BYTE_OFFSET]=
q.r,this.data[g+h.GREEN_BYTE_OFFSET]=q.g,this.data[g+h.BLUE_BYTE_OFFSET]=q.b,this.data[g+h.ALPHA_BYTE_OFFSET]=q.a}};h.prototype.gradientVertReplace=function(a,k,r,q){var b={r:q[0]>>16&255,g:q[0]>>8&255,b:q[0]&255,a:q[0]>>24&255};q={r:q[1]>>16&255,g:q[1]>>8&255,b:q[1]&255,a:q[1]>>24&255};var d=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,g=this.offsetOfPixel(a.left,a.top)|0,m=a.right-a.left|0;if(r<k){var f=r;r=k;k=f;f=b;b=q;q=f}f=a.top;for(var n=Math.min(a.bottom,k)|0;f<n;f++,g+=d)for(var u=0;u<m;u++,
g+=h.BYTES_PER_PIXEL)this.data[g+h.RED_BYTE_OFFSET]=b.r,this.data[g+h.GREEN_BYTE_OFFSET]=b.g,this.data[g+h.BLUE_BYTE_OFFSET]=b.b,this.data[g+h.ALPHA_BYTE_OFFSET]=b.a;var y=r-k|0;n=(q.r-b.r)/y;u=(q.g-b.g)/y;var E=(q.b-b.b)/y;y=(q.a-b.a)/y;var t=Math.max(f-k,0);k=b.r+n*t;var G=b.g+u*t,P=b.b+E*t;b=b.a+y*t;for(r=Math.min(a.bottom,r)|0;f<r;f++,g+=d){for(t=0;t<m;t++,g+=h.BYTES_PER_PIXEL)this.data[g+h.RED_BYTE_OFFSET]=k,this.data[g+h.GREEN_BYTE_OFFSET]=G,this.data[g+h.BLUE_BYTE_OFFSET]=P,this.data[g+h.ALPHA_BYTE_OFFSET]=
b;k+=n;G+=u;P+=E;b+=y}for(;f<a.bottom;f++,g+=d)for(r=0;r<m;r++,g+=h.BYTES_PER_PIXEL)this.data[g+h.RED_BYTE_OFFSET]=q.r,this.data[g+h.GREEN_BYTE_OFFSET]=q.g,this.data[g+h.BLUE_BYTE_OFFSET]=q.b,this.data[g+h.ALPHA_BYTE_OFFSET]=q.a};h.prototype.gradientReplace=function(a,k,r,q,b,d){var g=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,m=this.offsetOfPixel(a.left,a.top)|0,f=a.right-a.left|0,n=d[0]>>16&255,u=d[0]>>8&255,y=d[0]&255,E=d[0]>>24&255,t=d[1]>>16&255,G=d[1]>>8&255,P=d[1]&255;d=d[1]>>24&255;var x=
b-r+(q-k)*(q-k)/(b-r);q=q-k+(b-r)*(b-r)/(q-k);b=1/q;for(var H=a.top;H<a.bottom;H++,m+=g)for(var I=(a.left-k)/q+(H-r)/x,J=0;J<f;J++,m+=h.BYTES_PER_PIXEL){var L=Math.min(Math.max(I,0),1),R=1-L;this.data[m+h.RED_BYTE_OFFSET]=n*R+t*L;this.data[m+h.GREEN_BYTE_OFFSET]=u*R+G*L;this.data[m+h.BLUE_BYTE_OFFSET]=y*R+P*L;this.data[m+h.ALPHA_BYTE_OFFSET]=E*R+d*L;I+=b}};h.prototype.gradientAlpha=function(a,k,r,q,b,d){var g=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,m=this.offsetOfPixel(a.left,a.top)|0,f=a.right-
a.left|0,n=d[0]>>16&255,u=d[0]>>8&255,y=d[0]&255,E=d[0]>>24&255,t=d[1]>>16&255,G=d[1]>>8&255,P=d[1]&255;d=d[1]>>24&255;var x=b-r+(q-k)*(q-k)/(b-r);q=q-k+(b-r)*(b-r)/(q-k);b=1/q;for(var H=a.top;H<a.bottom;H++,m+=g)for(var I=(a.left-k)/q+(H-r)/x,J=0;J<f;J++,m+=h.BYTES_PER_PIXEL){var L=Math.min(Math.max(I,0),1),R=1-L,fa=n*R+t*L,ea=u*R+G*L,ua=y*R+P*L;R=E*R+d*L;L=this.data[m+h.ALPHA_BYTE_OFFSET];L=R+L-R*L/255|0;if(0<L){R=255*R/L|0;var na=255-R;this.data[m+h.RED_BYTE_OFFSET]=(fa*R+this.data[m+h.RED_BYTE_OFFSET]*
na)/255|0;this.data[m+h.GREEN_BYTE_OFFSET]=(ea*R+this.data[m+h.GREEN_BYTE_OFFSET]*na)/255|0;this.data[m+h.BLUE_BYTE_OFFSET]=(ua*R+this.data[m+h.BLUE_BYTE_OFFSET]*na)/255|0;this.data[m+h.ALPHA_BYTE_OFFSET]=L}I+=b}};h.prototype.gradient=function(a,k,r,q,b,d,g){a=this.getBounds().clipTo(a);if(k!=q||r!=b)g||255==d[0]>>>24&&255==d[1]>>>24?k==q?this.gradientVertReplace(a,r,b,d):r==b?this.gradientHorzReplace(a,k,q,d):this.gradientReplace(a,k,r,q,b,d):this.gradientAlpha(a,k,r,q,b,d)};h.prototype.fillWithColorNoise=
function(a){a=this.getBounds().clipTo(a);for(var k,r=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,q=this.offsetOfPixel(a.left,a.top),b=a.top;b<a.bottom;b++,q+=r)for(var d=a.left;d<a.right;d++,q+=h.BYTES_PER_PIXEL)k=16777216*Math.random()|0,this.data[q+h.RED_BYTE_OFFSET]=k>>16&255,this.data[q+h.GREEN_BYTE_OFFSET]=k>>8&255,this.data[q+h.BLUE_BYTE_OFFSET]=k&255,this.data[q+h.ALPHA_BYTE_OFFSET]=255};h.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var k=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,
r=this.offsetOfPixel(a.left,a.top),q=a.top;q<a.bottom;q++,r+=k)for(var b=a.left;b<a.right;b++,r+=h.BYTES_PER_PIXEL)this.data[r+h.RED_BYTE_OFFSET]^=255,this.data[r+h.GREEN_BYTE_OFFSET]^=255,this.data[r+h.BLUE_BYTE_OFFSET]^=255};h.prototype.getNonTransparentBounds=function(a){var k=a.clone(),r,q;var b=(this.width-k.getWidth())*h.BYTES_PER_PIXEL;a=this.offsetOfPixel(k.left,k.top)+h.ALPHA_BYTE_OFFSET;for(q=k.top;q<k.bottom;q++,a+=b){var d=0;for(r=k.left;r<k.right;r++,a+=h.BYTES_PER_PIXEL)d|=this.data[a];
if(0!=d)break}k.top=q;if(k.top==k.bottom)return k;a=this.offsetOfPixel(k.right-1,k.bottom-1)+h.ALPHA_BYTE_OFFSET;for(q=k.bottom-1;q>=k.top;q--,a-=b){d=0;for(r=k.right-1;r>=k.left;r--,a-=h.BYTES_PER_PIXEL)d|=this.data[a];if(0!=d)break}k.bottom=q+1;b=h.BYTES_PER_PIXEL*this.width;for(r=k.left;r<k.right;r++){a=this.offsetOfPixel(r,k.top)+h.ALPHA_BYTE_OFFSET;d=0;for(q=k.top;q<k.bottom;q++,a+=b)d|=this.data[a];if(0!=d)break}k.left=r;for(r=k.right-1;r>=k.left;r--){a=this.offsetOfPixel(r,k.top)+h.ALPHA_BYTE_OFFSET;
d=0;for(q=k.top;q<k.bottom;q++,a+=b)d|=this.data[a];if(0!=d)break}k.right=r+1;return k};h.prototype.getAsCanvas=function(a){var k=(0,w.createCanvas)(this.imageData.width,this.imageData.height);k.getContext("2d").putImageData(this.imageData,0,0);return D(k,a||0)};h.prototype.getAsPNG=function(a){a=this.getAsCanvas(a).toDataURL("image/png");a="string"===typeof a&&a.match(/^data:image\/png;base64,/i)?window.atob(a.substring(22)):!1;return a};h.prototype.getAsPNGBuffer=function(a){return this.getAsCanvas(a).toBuffer("image/png")};
h.prototype.hasAlphaInRect=function(a){a=this.getBounds().clipTo(a);for(var k=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,r=this.offsetOfPixel(a.left,a.top)+h.ALPHA_BYTE_OFFSET,q=a.top;q<a.bottom;q++,r+=k){for(var b=255,d=a.left;d<a.right;d++,r+=h.BYTES_PER_PIXEL)b&=this.data[r];if(255!=b)return!0}return!1};h.prototype.hasAlpha=function(){return this.hasAlphaInRect(this.getBounds())};h.createFromImage=function(a){var k=(0,w.createCanvas)(a.width,a.height).getContext("2d");k.globalCompositeOperation=
"copy";k.drawImage(a,0,0);return new h(k.getImageData(0,0,a.width,a.height))};h.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var k=0;k<this.data.length;k+=h.BYTES_PER_PIXEL)if(0!=this.data[k+h.ALPHA_BYTE_OFFSET]||0!=a.data[k+h.ALPHA_BYTE_OFFSET])if(this.data[k]!=a.data[k]||this.data[k+1]!=a.data[k+1]||this.data[k+2]!=a.data[k+2]||this.data[k+3]!=a.data[k+3])return!1;return!0}},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4}],14:[function(l,
M,C){function z(a){return a&&a.__esModule?a:{default:a}}function h(a,k,r){D.default.call(this,a,k);this.createBitmap(a,k,r)}function v(a,k,r,q){var b=0,d=0,g;for(g=0;g<q&&g<r;g++)d+=a[g],b++;for(var m=g=0;m<r;m++)m+q<r&&(d+=a[m+q],b++),k[g++]=Math.round(d/b),0<=m-q&&(d-=a[m-q],b--)}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var D=z(l("./CPBitmap.js")),c=z(l("../util/CPRect.js")),e=l("../util/Canvas.js"),w=l("./CPColorBmp.js");h.prototype=Object.create(D.default.prototype);h.prototype.constructor=
h;h.prototype.createBitmap=function(a,k,r){this.bitDepth=r;switch(r){case 32:this.data=new Uint32Array(a*k);break;case 16:this.data=new Uint16Array(a*k);break;default:this.data=new Uint8Array(a*k)}};h.prototype.clone=function(){var a=new h(this.width,this.height,this.bitDepth);a.copyPixelsFrom(this);return a};h.prototype.cloneRect=function(a){var k=new h(a.getWidth(),a.getHeight(),this.bitDepth);k.copyBitmapRect(this,0,0,a);return k};h.prototype.getPixel=function(a,k){a=Math.max(0,Math.min(this.width-
1,a));k=Math.max(0,Math.min(this.height-1,k));return this.data[this.offsetOfPixel(a,k)]};h.prototype.clearAll=function(a){this.data.fill(a)};h.prototype.clearRect=function(a,k){a=this.getBounds().clipTo(a);if(a.equals(this.getBounds()))this.clearAll(k);else for(var r=this.width,q=a.right-a.left,b=this.offsetOfPixel(a.left,a.top),d=a.top;d<a.bottom;d++,b+=r)this.data.fill(k,b,b+q)};h.prototype.copyScaledNearestNeighbor=function(a){for(var k=0,r=a.width/this.width,q=a.height/this.height,b,d=0,g=0;d<
this.height;d++,g+=q){b=a.offsetOfPixel(0,Math.round(g));for(var m=0,f=0;m<this.width;m++,k++,f+=r)this.data[k]=a.data[b+Math.round(f)]}};h.prototype.floodFill=function(a,k,r){if(this.isInside(a,k)){r&=255;var q=this.getPixel(a,k),b=[],d=this.getBounds(),g=this.data;b.push({x1:a,x2:a,y:k,dy:-1});b.push({x1:a,x2:a,y:k+1,dy:1});if(r!=q)for(;0<b.length;)if(a=b.pop(),!(a.y<d.top||a.y>=d.bottom)){k=this.offsetOfPixel(0,a.y);for(var m=a.x1,f;m>=d.left&&g[m+k]==q;)g[m+k]=r,m--;if(m>=a.x1){for(;m<=a.x2&&
g[m+k]!=q;)m++;f=m+1;if(m>a.x2)continue}else m++,m<a.x1&&b.push({x1:m,x2:a.x1-1,y:a.y-a.dy,dy:-a.dy}),f=a.x1+1;do{for(g[m+k]=r;f<d.right&&g[f+k]==q;)g[f+k]=r,f++;b.push({x1:m,x2:f-1,y:a.y+a.dy,dy:a.dy});f-1>a.x2&&b.push({x1:a.x2+1,x2:f-1,y:a.y-a.dy,dy:-a.dy});for(m=f+1;m<=a.x2&&g[m+k]!=q;)m++;f=m+1}while(m<=a.x2)}}};h.prototype.createThumbnailFrom=function(a){var k=Math.min(Math.floor(a.width/this.width),3);if(2>k)this.copyScaledNearestNeighbor(a);else{var r=new Uint16Array(this.width),q=a.width,
b=Math.floor(a.width/this.width),d=Math.floor(a.width/this.width/k),g=b-d*k,m=Math.floor(a.height/this.height/k);b=m*q-b*this.width;q*=Math.floor(a.height/this.height)-m*k;for(var f=m=0,n=0;n<this.height;n++,m+=q){var u;r.fill(0);for(var y=0;y<k;y++,m+=b)for(var E=u=0;E<this.width;E++,u++,m+=g)for(var t=0;t<k;t++,m+=d)r[u]+=a.data[m];for(y=u=0;y<this.width;y++,u++,f++)this.data[f]=r[u]/(k*k)}}};h.prototype.mirrorHorizontally=function(){for(var a=this.width,k=this.height,r=new Uint8Array(a*k),q=0,
b=a,d=0;d<k;d++,b+=a+a)for(var g=0;g<a;g++)r[q++]=this.data[--b];this.data=r};h.prototype.applyLUT=function(a){for(var k=0;k<this.data.length;k++)this.data[k]=a.table[this.data[k]]};h.prototype.getAsCanvas=function(a){var k=this.getImageData(0,0,this.width,this.height),r=(0,e.createCanvas)(this.width,this.height);r.getContext("2d").putImageData(k,0,0);return(0,w.getRotatedCanvas)(r,a||0)};h.prototype.getImageData=function(a,k,r,q){var b=(0,e.createImageData)(r,q);a=this.offsetOfPixel(a,k);k=0;for(var d=
this.width-r,g=0;g<q;g++,a+=d)for(var m=0;m<r;m++,a++)b.data[k++]=this.data[a],b.data[k++]=this.data[a],b.data[k++]=this.data[a],b.data[k++]=255;return b};h.prototype.pasteImageData=function(a,k,r){var q=0;k=this.offsetOfPixel(k,r);r=this.width-a.width;for(var b=0;b<a.height;b++,k+=r)for(var d=0;d<a.width;d++,q+=4,k++)this.data[k]=a.data[q];return a};h.prototype.copyPixelsFrom=function(a){a.width!=this.width||a.height!=this.height||a.bitDepth!=this.bitDepth?(this.data=a.data.slice(0),this.width=a.width,
this.height=a.height,this.bitDepth=a.bitDepth):this.data.set(a.data)};h.prototype.copyRectXOR=function(a,k){k=this.getBounds().clipTo(k);var r=k.getWidth(),q=k.getHeight();q=new Uint8Array(r*q);for(var b=0,d=this.offsetOfPixel(k.left,k.top),g=a.offsetOfPixel(k.left,k.top),m=this.width-r,f=a.width-r,n=k.top;n<k.bottom;n++,d+=m,g+=f)for(var u=0;u<r;u++,b++,d++,g++)q[b]=this.data[d]^a.data[g];return q};h.prototype.setRectXOR=function(a,k){k=this.getBounds().clipTo(k);var r=k.getWidth(),q=k.getHeight();
k=this.offsetOfPixel(k.left,k.top);for(var b=0,d=this.width-r,g=0;g<q;g++){for(var m=0;m<r;m++)this.data[k++]^=a[b++];k+=d}};h.prototype.copyBitmapRect=function(a,k,r,q){var b=new c.default(k,r,0,0);q=q.clone();this.getBounds().clipSourceDest(q,b);k=b.getWidth()|0;r=b.getHeight()|0;if(0==b.left&&0==b.top&&k==this.width&&r==this.height&&k==a.width&&r==a.height)this.copyPixelsFrom(a);else{b=this.offsetOfPixel(b.left,b.top);var d=this.width-k;q=a.offsetOfPixel(q.left,q.top);for(var g=a.width-k,m=0;m<
r;m++,q+=g,b+=d)for(var f=0;f<k;f++,q++,b++)this.data[b]=a.data[q]}};h.prototype.copyRegionHFlip=function(a,k){a=this.getBounds().clipTo(a);for(var r=a.top;r<a.bottom;r++)for(var q=this.offsetOfPixel(a.left,r),b=k.offsetOfPixel(a.right-1,r),d=a.left;d<a.right;d++,b-=2)this.data[q++]=k.data[b++]};h.prototype.copyRegionVFlip=function(a,k){a=this.getBounds().clipTo(a);for(var r=a.getWidth(),q=a.top;q<a.bottom;q++)for(var b=this.offsetOfPixel(a.left,q),d=k.offsetOfPixel(a.left,a.bottom-1-(q-a.top)),g=
0;g<r;g++)this.data[b++]=k.data[d++]};h.prototype.copyPixelColumnToArray=function(a,k,r,q){var b=this.width,d=0;a=this.offsetOfPixel(a,k);for(k=0;k<r;k++)q[d]=this.data[a],a+=b,d++};h.prototype.copyArrayToPixelColumn=function(a,k,r,q){var b=this.width,d=0;a=this.offsetOfPixel(a,k);for(k=0;k<r;k++)this.data[a]=q[d],a+=b,d++};h.prototype.boxBlur=function(a,k,r){a=this.getBounds().clipTo(a);var q=a.getWidth(),b=a.getHeight(),d=Math.max(q,b),g=new this.data.constructor(d);d=new this.data.constructor(d);
for(var m=a.top;m<a.bottom;m++){for(var f=this.offsetOfPixel(a.left,m),n=0;n<q;n++)g[n]=this.data[f++];v(g,d,q,k);f=this.offsetOfPixel(a.left,m);for(n=0;n<q;n++)this.data[f++]=d[n]}for(k=a.left;k<a.right;k++)this.copyPixelColumnToArray(k,a.top,b,g),v(g,d,b,r),this.copyArrayToPixelColumn(k,a.top,b,d)};h.prototype.offsetOfPixel=function(a,k){return k*this.width+a};h.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var k=this.width-a.getWidth(),r=this.offsetOfPixel(a.left,a.top),
q=a.top;q<a.bottom;q++,r+=k)for(var b=a.left;b<a.right;b++,r++)this.data[r]=256*Math.random()|0};h.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var k=this.width-a.getWidth(),r=this.offsetOfPixel(a.left,a.top),q=a.top;q<a.bottom;q++,r+=k)for(var b=a.left;b<a.right;b++,r++)this.data[r]=~this.data[r]};h.prototype.getValueBounds=function(a,k){var r=a.clone(),q,b;var d=this.width-r.getWidth();a=this.offsetOfPixel(r.left,r.top);for(b=r.top;b<r.bottom;b++,a+=d){var g=!1;for(q=r.left;q<r.right;q++,
a++)if(this.data[a]!=k){g=!0;break}if(g)break}r.top=b;if(r.top==r.bottom)return r;a=this.offsetOfPixel(r.right-1,r.bottom-1);for(b=r.bottom-1;b>=r.top;b--,a-=d){g=!1;for(q=r.right-1;q>=r.left;q--,a--)if(this.data[a]!=k){g=!0;break}if(g)break}r.bottom=b+1;d=this.width;for(q=r.left;q<r.right;q++){a=this.offsetOfPixel(q,r.top);g=!1;for(b=r.top;b<r.bottom;b++,a+=d)if(this.data[a]!=k){g=!0;break}if(g)break}r.left=q;for(q=r.right-1;q>=r.left;q--){a=this.offsetOfPixel(q,r.top);g=!1;for(b=r.top;b<r.bottom;b++,
a+=d)if(this.data[a]!=k){g=!0;break}if(g)break}r.right=q+1;return r};h.prototype.gradientHorzReplace=function(a,k,r,q){var b=q[0]&255;q=q[1]&255;var d=this.width-a.getWidth(),g=this.offsetOfPixel(a.left,a.top)|0,m=a.bottom-a.top|0;if(r<k){var f=r;r=k;k=f;f=b;b=q;q=f}f=(q-b)/(r-k|0);for(var n=Math.max(a.left-k,0),u=0;u<m;u++,g+=d){for(var y=a.left,E=Math.min(k,a.right)|0;y<E;y++,g++)this.data[g]=b;var t=b+f*n;for(E=Math.min(r,a.right)|0;y<E;y++,g++)this.data[g]=t,t+=f;for(;y<a.right;y++,g++)this.data[g]=
q}};h.prototype.gradientVertReplace=function(a,k,r,q){var b=q[0]&255;q=q[1]&255;var d=this.width-a.getWidth(),g=this.offsetOfPixel(a.left,a.top)|0,m=a.right-a.left|0;if(r<k){var f=r;r=k;k=f;f=b;b=q;q=f}f=a.top;for(var n=Math.min(a.bottom,k)|0;f<n;f++,g+=d)for(var u=0;u<m;u++,g++)this.data[g]=b;n=(q-b)/(r-k|0);k=b+n*Math.max(f-k,0);for(r=Math.min(a.bottom,r)|0;f<r;f++,g+=d){for(b=0;b<m;b++,g++)this.data[g]=k;k+=n}for(;f<a.bottom;f++,g+=d)for(r=0;r<m;r++,g++)this.data[g]=q};h.prototype.gradientReplace=
function(a,k,r,q,b,d){var g=this.width-a.getWidth(),m=this.offsetOfPixel(a.left,a.top)|0,f=a.right-a.left|0,n=d[0]&255;d=d[1]&255;var u=b-r+(q-k)*(q-k)/(b-r);q=q-k+(b-r)*(b-r)/(q-k);b=1/q;for(var y=a.top;y<a.bottom;y++,m+=g)for(var E=(a.left-k)/q+(y-r)/u,t=0;t<f;t++,m++){var G=Math.min(Math.max(E,0),1);this.data[m]=n*(1-G)+d*G;E+=b}};h.prototype.gradientAlpha=function(a,k,r,q,b,d){var g=this.width-a.getWidth(),m=this.offsetOfPixel(a.left,a.top)|0,f=a.right-a.left|0,n=d[0]&255,u=d[0]>>24&255,y=d[1]&
255;d=d[1]>>24&255;var E=b-r+(q-k)*(q-k)/(b-r);q=q-k+(b-r)*(b-r)/(q-k);b=1/q;for(var t=a.top;t<a.bottom;t++,m+=g)for(var G=(a.left-k)/q+(t-r)/E,P=0;P<f;P++,m++){var x=Math.min(Math.max(G,0),1),H=1-x,I=u*H+d*x;this.data[m]=((n*H+y*x)*I+this.data[m]*(255-I))/255|0;G+=b}};h.prototype.gradient=function(a,k,r,q,b,d,g){a=this.getBounds().clipTo(a);if(k!=q||r!=b)g||255==d[0]>>>24&&255==d[1]>>>24?k==q?this.gradientVertReplace(a,r,b,d):r==b?this.gradientHorzReplace(a,k,q,d):this.gradientReplace(a,k,r,q,b,
d):this.gradientAlpha(a,k,r,q,b,d)};h.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var k=0;k<this.data.length;k++)if(this.data[k]!=a.data[k])return!1;return!0};M.exports=C.default},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4,"./CPColorBmp.js":13}],15:[function(l,M,C){function z(e){return e&&e.__esModule?e:{default:e}}function h(e,w,a){D.default.call(this,a);this.image=0<e&&0<w?new v.default(e,w):null;this.clip=!1;this.imageThumbnail=null}
Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var v=z(l("./CPColorBmp.js")),D=z(l("./CPLayer.js")),c=z(l("../util/CPRect.js"));h.prototype=Object.create(D.default.prototype);h.prototype.constructor=h;h.createFromImage=function(e,w){w=new h(0,0,w);w.image=e;return w};h.prototype.clone=function(){var e=new h(0,0,this.name);e.copyFrom(this);return e};h.prototype.copyFrom=function(e){D.default.prototype.copyFrom.call(this,e);this.clip=e.clip;this.image?this.image.copyPixelsFrom(e.image):
this.image=e.image.clone()};h.prototype.hasAlpha=function(){return 100!=this.alpha?!0:this.image.hasAlpha()};h.prototype.hasAlphaInRect=function(e){return 100!=this.alpha?!0:this.image.hasAlphaInRect(e)};h.prototype.copyImageFrom=function(e){this.image.copyPixelsFrom(e)};h.prototype.getClippingBase=function(){if(this.clip&&this.parent)for(var e=this.parent.indexOf(this)-1;0<=e;e--)if(this.parent.layers[e]instanceof h){if(!this.parent.layers[e].clip)return this.parent.layers[e]}else break;return null};
h.prototype.getClip=function(){return this.clip};h.prototype.setClip=function(e){this.clip=e};h.prototype.getNonTransparentBounds=function(e){return this.image.getNonTransparentBounds(e)};h.prototype.getBounds=function(){return new c.default(0,0,this.image.width,this.image.height)};h.prototype.getMemoryUsed=function(){return this.image?this.image.getMemorySize():0};h.prototype.rebuildImageThumbnail=function(){if(!this.imageThumbnail){var e=Math.ceil(Math.max(this.image.width/D.default.LAYER_THUMBNAIL_WIDTH,
this.image.height/D.default.LAYER_THUMBNAIL_HEIGHT));this.imageThumbnail=new v.default(Math.floor(this.image.width/e),Math.floor(this.image.height/e))}this.imageThumbnail.createThumbnailFrom(this.image)};h.prototype.getImageThumbnail=function(){this.imageThumbnail||this.rebuildImageThumbnail();return this.imageThumbnail};M.exports=C.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPLayer.js":16}],16:[function(l,M,C){function z(e){return e&&e.__esModule?e:{default:e}}function h(e){this.name=
e||"";this.parent=null;this.lockAlpha=!1;this.alpha=100;this.visible=!0;this.blendMode=v.default.LM_NORMAL;this.mask=null;this.maskVisible=this.maskLinked=!0;this.maskThumbnail=null;this.useLegacyMultiply=!1}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;z(l("./CPLayerGroup.js"));var v=z(l("./CPBlend.js")),D=z(l("./CPGreyBmp.js")),c=z(l("../util/CPRect.js"));h.prototype.copyFrom=function(e){this.name=e.name;this.blendMode=e.blendMode;this.useLegacyMultiply=e.useLegacyMultiply;this.alpha=
e.alpha;this.visible=e.visible;this.parent=e.parent;this.lockAlpha=e.lockAlpha;e.mask?this.mask?this.mask.copyPixelsFrom(e.mask):this.mask=e.mask.clone():this.mask=null;this.maskLinked=e.maskLinked;this.maskVisible=e.maskVisible;e.maskThumbnail?this.maskThumbnail?this.maskThumbnail.copyPixelsFrom(e.maskThumbnail):this.maskThumbnail=e.maskThumbnail.clone():this.maskThumbnail=null};h.prototype.setMask=function(e){this.mask=e;e||(this.maskThumbnail=null)};h.prototype.setAlpha=function(e){this.alpha=
e};h.prototype.getAlpha=function(){return this.alpha};h.prototype.getEffectiveAlpha=function(){return this.visible?this.alpha:0};h.prototype.getEffectiveMask=function(){return this.maskVisible?this.mask:null};h.prototype.setName=function(e){this.name=e};h.prototype.getName=function(){return this.name};h.prototype.setBlendMode=function(e){this.blendMode=e;e===v.default.LM_MULTIPLY?this.useLegacyMultiply=!0:e===v.default.LM_MULTIPLY2&&(this.useLegacyMultiply=!1)};h.prototype.getBlendMode=function(){return this.blendMode};
h.prototype.getLockAlpha=function(){return this.lockAlpha};h.prototype.setLockAlpha=function(e){this.lockAlpha=e};h.prototype.setVisible=function(e){this.visible=e};h.prototype.getVisible=function(){return this.visible};h.prototype.isVisible=h.prototype.getVisible;h.prototype.setMaskLinked=function(e){this.maskLinked=e};h.prototype.getMaskLinked=function(){return this.maskLinked};h.prototype.setMaskVisible=function(e){this.maskVisible=e};h.prototype.getMaskVisible=function(){return this.maskVisible};
h.prototype.getMemoryUsed=function(){return 0};h.prototype.getDepth=function(){return null==this.parent?0:this.parent.getDepth()+1};h.prototype.ancestorsAreVisible=function(){return null==this.parent||this.parent.visible&&this.parent.ancestorsAreVisible()};h.prototype.hasAncestor=function(e){return this.parent==e||this.parent&&this.parent.hasAncestor(e)};h.prototype.clone=function(){throw"Pure virtual CPLayer.clone() call";};h.prototype.getNonTransparentBounds=function(e){return new c.default(0,0,
0,0)};h.prototype.rebuildMaskThumbnail=function(){if(this.mask){if(!this.maskThumbnail){var e=Math.ceil(Math.max(this.mask.width/h.LAYER_THUMBNAIL_WIDTH,this.mask.height/h.LAYER_THUMBNAIL_HEIGHT));this.maskThumbnail=new D.default(Math.floor(this.mask.width/e),Math.floor(this.mask.height/e),8)}this.maskThumbnail.createThumbnailFrom(this.mask)}else this.maskThumbnail=null};h.prototype.getMaskThumbnail=function(){!this.maskThumbnail&&this.mask&&this.rebuildMaskThumbnail();return this.maskThumbnail};
h.LAYER_THUMBNAIL_WIDTH=80;h.LAYER_THUMBNAIL_HEIGHT=50;M.exports=C.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPGreyBmp.js":14,"./CPLayerGroup.js":17}],17:[function(l,M,C){function z(k){return k&&k.__esModule?k:{default:k}}function h(k,r){var q="undefined"!==typeof Symbol&&k[Symbol.iterator]||k["@@iterator"];if(!q){if(Array.isArray(k)||(q=v(k))||r&&k&&"number"===typeof k.length){q&&(k=q);var b=0;r=function(){};return{s:r,n:function(){return b>=k.length?{done:!0}:{done:!1,value:k[b++]}},
e:function(f){throw f;},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var d=!0,g=!1,m;return{s:function(){q=q.call(k)},n:function(){var f=q.next();d=f.done;return f},e:function(f){g=!0;m=f},f:function(){try{d||null==q.return||q.return()}finally{if(g)throw m;}}}}function v(k,r){if(k){if("string"===typeof k)return D(k,r);var q=Object.prototype.toString.call(k).slice(8,-1);"Object"===
q&&k.constructor&&(q=k.constructor.name);if("Map"===q||"Set"===q)return Array.from(k);if("Arguments"===q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return D(k,r)}}function D(k,r){if(null==r||r>k.length)r=k.length;for(var q=0,b=Array(r);q<r;q++)b[q]=k[q];return b}function c(k,r){w.default.call(this,k);this.layers=[];this.expanded=!0;this.blendMode=r}function e(k,r){return k+r}Object.defineProperty(C,"__esModule",{value:!0});C.default=c;var w=z(l("./CPLayer.js")),a=z(l("../util/CPRect.js"));
c.prototype=Object.create(w.default.prototype);c.prototype.constructor=c;c.prototype.getLinearizedLayerList=function(k,r){r=r||[];var q=h(this.layers),b;try{for(q.s();!(b=q.n()).done;){var d=b.value;d instanceof c&&(d.expanded||!k)&&d.getLinearizedLayerList(k,r);r.push(d)}}catch(g){q.e(g)}finally{q.f()}return r};c.prototype.clearLayers=function(){this.layers=[]};c.prototype.addLayer=function(k){k.parent=this;this.layers.push(k)};c.prototype.insertLayer=function(k,r){r.parent=this;this.layers.splice(k,
0,r)};c.prototype.removeLayer=function(k){k=this.layers.indexOf(k);-1<k&&this.layers.splice(k,1)};c.prototype.removeLayerAtIndex=function(k){var r=this.layers[k];r&&this.layers.splice(k,1);return r};c.prototype.setLayerAtIndex=function(k,r){var q=this.layers[k];r.parent=this;this.layers[k]=r;return q};c.prototype.setExpanded=function(k){this.expanded=k};c.prototype.getExpanded=function(){return this.expanded};c.prototype.indexOf=function(k){return this.layers.indexOf(k)};c.prototype.getMemoryUsed=
function(){return this.layers.map(function(k){return k.getMemoryUsed()}).reduce(e,0)};c.prototype.clone=function(){var k=new c(this.name,this.blendMode);w.default.prototype.copyFrom.call(k,this);k.expanded=this.expanded;k.layers=this.layers.map(function(r){return r.clone()});k.layers.forEach(function(r){return r.parent=k});return k};c.prototype.getNonTransparentBounds=function(k){var r=new a.default(0,0,0,0);this.layers.forEach(function(q){return r.union(q.getNonTransparentBounds(k))});return r};
M.exports=C.default},{"../util/CPRect.js":63,"./CPLayer.js":16}],18:[function(l,M,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(){this.table=new Uint8Array(256);this.loadIdentity=function(){for(var z=0;256>z;z++)this.table[z]=z};this.loadBrightnessContrast=function(z,h){h=0<h?1/(1.0001-h):1+h;z=.5-.5*h+z;for(var v=0;256>v;v++)this.table[v]=Math.min(255,Math.max(~~(255*(v/255*h+z)),0))};this.invert=function(){for(var z=0;256>z;z++)this.table[z]=255-this.table[z]}};M.exports=
C.default},{}],19:[function(l,M,C){function z(b){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},z(b)}function h(b){return b&&b.__esModule?b:{default:b}}function v(b,d){for(var g=0;g<d.length;g++){var m=d[g];m.enumerable=m.enumerable||!1;m.configurable=!0;"value"in m&&(m.writable=!0);Object.defineProperty(b,m.key,
m)}}function D(b,d,g){d&&v(b.prototype,d);g&&v(b,g);Object.defineProperty(b,"prototype",{writable:!1});return b}function c(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,writable:!0,configurable:!0}});Object.defineProperty(b,"prototype",{writable:!1});d&&e(b,d)}function e(b,d){e=Object.setPrototypeOf||function(g,m){g.__proto__=m;return g};return e(b,d)}function w(b){var d=
a();return function(){var g=k(b);if(d){var m=k(this).constructor;g=Reflect.construct(g,arguments,m)}else g=g.apply(this,arguments);if(!g||"object"!==z(g)&&"function"!==typeof g){if(void 0!==g)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=this}return g}}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===
typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(b){return!1}}function k(b){k=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)};return k(b)}Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;var r=h(l("../util/CPRect.js")),q=h(l("./CPColorBmp.js"));h(l("./CPGreyBmp.js"));l=function(b){function d(m,f){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");
var n=g.call(this);n.layer=m;n.buffer=m.mask.getImageData(0,0,m.mask.width,m.mask.height);n.invalidRect=new r.default(0,0,0,0);n.prepareMask=f;return n}c(d,b);var g=w(d);D(d,[{key:"close",value:function(){this.layer=this.buffer=null;this.emitEvent("changeLayer")}},{key:"setLayer",value:function(m){this.layer=m;this.invalidRect=m.getBounds();this.emitEvent("changeLayer")}},{key:"isOpen",value:function(){return null!=this.layer}},{key:"invalidateRect",value:function(m){this.invalidRect.union(m)}},{key:"getImageData",
value:function(){this.prepareMask();if(!this.invalidRect.isEmpty()&&this.layer&&this.layer.mask){var m=this.buffer,f=this.layer.mask,n=this.invalidRect,u=n.top*f.width+n.left,y=u*q.default.BYTES_PER_PIXEL,E=n.getWidth();n=n.getHeight();for(var t=f.width-E,G=t*q.default.BYTES_PER_PIXEL,P=0;P<n;P++,u+=t,y+=G)for(var x=0;x<E;x++,u++,y+=q.default.BYTES_PER_PIXEL)m.data[y+q.default.RED_BYTE_OFFSET]=f.data[u],m.data[y+q.default.GREEN_BYTE_OFFSET]=f.data[u],m.data[y+q.default.BLUE_BYTE_OFFSET]=f.data[u],
m.data[y+q.default.ALPHA_BYTE_OFFSET]=255;this.invalidRect.makeEmpty()}return this.buffer}}]);return d}(h(l("wolfy87-eventemitter")).default);C.default=l;M.exports=C.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"wolfy87-eventemitter":284}],20:[function(l,M,C){function z(a){return a&&a.__esModule?a:{default:a}}function h(a){function k(g,m){switch(g.name){case "flat":return new Promise(function(f,n){var u=new Blob([m],{type:"image/png"}),y=window.URL.createObjectURL(u);
if(y){var E=new Image;E.onload=function(){var t=new D.default(this.width,this.height),G=new e.default(0,0,"Layer 1");G.image=c.default.createFromImage(E);t.addLayerObject(t.getLayersRoot(),G);E=null;window.URL.revokeObjectURL(y);f(t)};E.src=y}else n(null)});case "swatches":return(g=(new w.default).read(m))?Promise.resolve(g):Promise.reject(null);case "layers":return(0,v.load)(m);default:return Promise.reject("Unexpected resource type '"+g.name+"'")}}function r(g,m){null===m?d.emitEvent("loadingProgress",
[1,"Loading your "+g.friendly+"..."]):d.emitEvent("loadingProgress",[m,"Loading your "+g.friendly+" ("+Math.round(100*m)+"%)..."])}var q=[],b={},d=this;a.loadChibiFileUrl&&0<(""+a.loadChibiFileUrl).length?q.push({url:a.loadChibiFileUrl,friendly:"drawing layers",name:"layers",required:!0}):a.loadImageUrl&&0<(""+a.loadImageUrl).length&&q.push({url:a.loadImageUrl,friendly:"drawing",name:"flat",required:!0});a.loadSwatchesUrl&&q.push({url:a.loadSwatchesUrl,friendly:"color swatches",name:"swatches",required:!1,
noProgress:!0});this.load=function(){function g(){m.required?d.emitEvent("loadingFailure",["Failed to load your "+m.friendly+", please try again later."]):d.load()}if(0==q.length)d.emitEvent("loadingComplete",[b]);else{var m=q.shift(),f=new XMLHttpRequest;f.addEventListener("progress",function(n){r(m,n.lengthComputable&&!m.noProgress?n.loaded/n.total:null)},!1);f.addEventListener("load",function(n){if(200==this.status){var u=this.response;d.emitEvent("loadingProgress",[1,"Starting ChickenPaint..."]);
setTimeout(function(){k(m,u).then(function(y){b[m.name]=y;d.load()},function(){d.emitEvent("loadingFailure",["Failed to read your "+m.friendly])})},0)}else g()},!1);f.addEventListener("error",g);r(m,m.noProgress?null:0);f.open("GET",m.url,!0);f.responseType="arraybuffer";f.send()}}}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var v=l("../../js/engine/CPChibiFile.js"),D=z(l("./CPArtwork.js")),c=z(l("./CPColorBmp.js")),e=z(l("./CPImageLayer.js")),w=z(l("../util/AdobeColorTable.js"));
l=z(l("wolfy87-eventemitter"));h.prototype=Object.create(l.default.prototype);h.prototype.constructor=h;M.exports=C.default},{"../../js/engine/CPChibiFile.js":11,"../util/AdobeColorTable.js":55,"./CPArtwork.js":3,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"wolfy87-eventemitter":284}],21:[function(l,M,C){function z(a){return a&&a.__esModule?a:{default:a}}function h(a){for(var k=new Uint8Array(a.length),r=0;r<a.length;r++)k[r]=a.charCodeAt(r);return k}function v(a){function k(d){null===d?q.emitEvent("savingProgress",
[1,(0,w._)("Saving drawing...")]):q.emitEvent("savingProgress",[d,(0,w._)("Saving drawing...")+" ("+Math.round(100*d)+"%)"])}function r(d){var g=new XMLHttpRequest;g.upload.addEventListener("progress",function(m){k(m.lengthComputable?m.loaded/m.total:null)},!1);g.addEventListener("load",function(m){k(1);200==this.status&&/^CHIBIOK/.test(this.response)?q.emitEvent("savingComplete"):q.emitEvent("savingFailure",[this.response])},!1);g.addEventListener("error",function(){q.emitEvent("savingFailure",[this.response])},
!1);k(0);g.open("POST",a.url,!0);g.responseType="text";g.send(d)}var q=this,b=!1;a.rotation=a.rotation||0;this.save=function(){var d;var g=h(a.artwork.getFlatPNG(a.rotation));var m=new Blob([g],{type:"image/png"});g=null;(a.artwork.isSimpleDrawing()?Promise.resolve(null):(0,D.save)(a.artwork)).then(function(f){if(b)q.emitEvent("savingFailure");else{if(a.swatches){var n=new c.default;d=new Blob([n.write(a.swatches)],{type:"application/octet-stream"})}else d=null;a.url?(n=new FormData,n.append("beginMarker",
"This marker ensures the upload wasn't truncated"),n.append("painter","ChickenPaint v2.0"),n.append("picture",m),m=null,f?(n.append("chibifileFormat",f.version),n.append("chibifile",f.bytes),n.append("rotation",""+a.rotation)):n.append("rotation","0"),d&&(n.append("swatches",d),d=null),n.append("endMarker","This marker ensures the upload wasn't truncated"),r(n)):(e.default.saveAs(m,"oekaki.png"),f&&e.default.saveAs(f.bytes,"oekaki.chi"),d&&e.default.saveAs(d,"oekaki.aco"))}}).catch(function(f){q.emitEvent("savingFailure")})};
this.cancel=function(){b=!0}}Object.defineProperty(C,"__esModule",{value:!0});C.binaryStringToByteArray=h;C.default=v;var D=l("../../js/engine/CPChibiFile.js"),c=z(l("../util/AdobeColorTable.js"));M=z(l("wolfy87-eventemitter"));var e=z(l("file-saver")),w=l("../languages/lang.js");v.prototype=Object.create(M.default.prototype);v.prototype.constructor=v},{"../../js/engine/CPChibiFile.js":11,"../languages/lang.js":54,"../util/AdobeColorTable.js":55,"file-saver":264,"wolfy87-eventemitter":284}],22:[function(l,
M,C){function z(v,D){for(var c=0;c<D.length;c++){var e=D[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(v,e.key,e)}}function h(v,D,c){D&&z(v.prototype,D);c&&z(v,c);Object.defineProperty(v,"prototype",{writable:!1});return v}Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;l=function(){function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");}h(v,[{key:"merge",value:function(D){return!1}},{key:"noChange",
value:function(){return!1}},{key:"getMemoryUsed",value:function(D,c){return 0}},{key:"compact",value:function(){}}]);return v}();C.default=l;M.exports=C.default},{}],23:[function(l,M,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(h){var v=(0,z.default)('<div class="modal fade chickenpaint-about-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">About ChickenPaint v2</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <a class="chickenpaint-on-github" target="_blank" href="https://github.com/thenickdude/chickenpaint"><span class="fab fa-github"></span> ChickenPaint on GitHub</a>\n                            \n                            <p>\n                                ChickenPaint is a translation of <a href="https://github.com/thenickdude/chibipaint" target="_blank">ChibiPaint</a>\n                                from Java to JavaScript by Nicholas Sherlock / Chicken Smoothie\n                            </p>\n                            <p>\n                                ChibiPaint is Copyright (c) 2006-2008 Marc Schefer. All Rights Reserved\n                            </p>\n                            <p>\n                                ChickenPaint is free software: you can redistribute it and/or modify\n                                it under the terms of the GNU General Public License as published by\n                                the Free Software Foundation, either version 3 of the License, or\n                                (at your option) any later version.\n                            </p>\n        \n                            <p>\n                                ChickenPaint is distributed in the hope that it will be useful,\n                                but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                <a target="_blank" href="https://www.gnu.org/licenses/">GNU General Public License</a> for more details.\n                            </p>\n        \n                            <pre class="pre-scrollable chickenpaint-third-party-licenses">Toolbar icons designed by <a target="_blank" href="https://github.com/Anteira">Miglena Lapavicheva (Anteira)</a>\n    These icons are dual-licensed under <a target="_blank" href="https://spdx.org/licenses/GPL-3.0-or-later.html">GPL-3.0-or-later</a> and <a target="_blank" href="https://creativecommons.org/licenses/by/3.0/">CC-BY-3.0</a>\n\nIncludes icons from the <a target="_blank" href="https://extensions.libreoffice.org/en/extensions/show/tango-icon-theme-for-libreoffice">Tango Icon Theme for LibreOffice</a>:\n    All artwork is licensed under the Creative Commons Attribution-Share Alike 3.0\n    United States License. To view a copy of this licence, visit\n    https://creativecommons.org/licenses/by-sa/3.0/ or send a letter to Creative\n    Commons, 171 Second Street, Suite 300, San Francisco, California 94105, USA.\n    \n    Credit for icons imported from git://git.gnome.org/gnome-icon-theme or derivatives\n    of these goes to the GNOME project (https://www.gnome.org)\n    Derivatives and new icons were created by Alexander Wilms &lt;f.alexander.wilms@gmail.com> \n    and Miroslav Mazel &lt;mazelm@gmail.com>\n    \nIncludes these MIT-licensed libraries:\n\n    Includes the <a target="_blank" href="https://github.com/eligrey/FileSaver.js">FileSaver.js library</a>\n    FileSaver.js Copyright \u00a9 2015 <a target="_blank" href="https://eligrey.com/">Eli Grey</a>\n\n    Includes the <a target="_blank" href="https://github.com/nodeca/pako">Pako zlib compression library</a>\n    Copyright (C) 2014-2015 by Vitaly Puzrin\n    \n    Includes the <a target="_blank" href="https://github.com/madrobby/keymaster">keymaster.js</a> keyboard library\n    Copyright (c) 2011-2013 Thomas Fuchs\n\n    Includes the <a target="_blank" href="https://github.com/stefanpenner/es6-promise">es6-promise</a> library\n    Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n\n    Includes the <a target="_blank" href="https://benalman.com/projects/jquery-throttle-debounce-plugin/">jQuery throttle-debounce</a> library\n    Copyright (c) 2010 "Cowboy" Ben Alman\n\n    Permission is hereby granted, free of charge, to any person\n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use,\n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://www.jquery.com/" target="_blank">jQuery library</a> \nCopyright <a href="https://jquery.org/" target="_blank">jQuery Foundation and other contributors</a>\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/jquery\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n    \n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://github.com/jquery/PEP/" target="_blank">jQuery PEP library</a>\nCopyright jQuery Foundation and other contributors, https://jquery.org/\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/PEP\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation \n    files (the "Software"), to deal in the Software without \n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or \n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following \n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND \n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, \n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING \n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR \n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes Font Awesome by Dave Gandy - <a href="https://fontawesome.io" target="_blank">https://fontawesome.io</a>\n                    </pre>\n                </div>\n            </div>\n        </div>\n    ');
v.on("hidden.bs.modal",function(D){v.remove()});v.modal({show:!1});v.data("bs.modal").$body=(0,z.default)(h);h.appendChild(v[0]);this.show=function(){v.modal("show")}};var z=function(h){return h&&h.__esModule?h:{default:h}}(l("jquery"));M.exports=C.default},{jquery:265}],24:[function(l,M,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(v,D){var c=(0,z.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,h._)("Box blur"),
'</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,h._)("Blur amount (pixels)"),'</label>\n                                    <input type="text" class="form-control chickenpaint-blur-amount" value="3">\n                                </div>\n                                <div class="form-group">\n                                    <label>').concat((0,h._)("Iterations (1-8, larger gives smoother blur)"),
'</label>\n                                    <input type="text" class="form-control chickenpaint-blur-iterations" value="1">\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-dismiss="modal">').concat((0,h._)("Cancel"),'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-box-blur" data-dismiss="modal">').concat((0,h._)("Ok"),
"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),e=(0,z.default)(".chickenpaint-blur-amount",c),w=(0,z.default)(".chickenpaint-blur-iterations",c),a=(0,z.default)(".chickenpaint-apply-box-blur",c);this.show=function(){c.modal("show")};a.on("click",function(k){k=Math.max(parseInt(e.val(),10),1);var r=Math.min(Math.max(parseInt(w.val(),10),1),8);D.getArtwork().boxBlur(k,k,r)});c.modal({show:!1}).on("shown.bs.modal",function(){e.trigger("focus")}).on("keypress",
function(k){"Enter"===k.key&&a.trigger("click")});c.data("bs.modal").$body=(0,z.default)(v);v.appendChild(c[0])};var z=function(v){return v&&v.__esModule?v:{default:v}}(l("jquery")),h=l("../languages/lang.js");M.exports=C.default},{"../languages/lang.js":54,jquery:265}],25:[function(l,M,C){function z(t){return t&&t.__esModule?t:{default:t}}function h(t,G){var P=document.createElement("div");P.className="chickenpaint-checkbox-slider-group";P.appendChild(t.getElement());P.appendChild(G.getElement());
return P}function v(t,G){for(var P in G)if(G.hasOwnProperty(P)){var x=document.createElement("option");x.appendChild(document.createTextNode((0,E._)(G[P])));x.value=P;t.appendChild(x)}}function D(t){function G(){I.gradient(I.getBounds(),0,0,I.width,0,R,!0);L.putImageData(I.imageData,0,0,0,0,150,32);x.fillRect(0,0,P.width,P.height);x.drawImage(J,0,0)}var P=document.createElement("canvas"),x=P.getContext("2d"),H=(0,g.createCheckerboardPattern)(x),I=new m.default(150,32),J=document.createElement("canvas"),
L=J.getContext("2d"),R=t.getCurGradient();this.getElement=function(){return P};t.on("gradientChange",function(fa){R=fa;G()});P.width=J.width=150;P.height=J.height=32;P.className="chickenpaint-gradient-preview";x.fillStyle=H;G()}function c(t){r.default.call(this,t,"brush","Tool options");var G=new e(t),P=new w(t),x=new a(t),H=this.getBodyElement();H.appendChild(G.getElement());H.appendChild(P.getElement());H.appendChild(x.getElement());t.on("modeChange",function(I){G.getElement().style.display="none";
P.getElement().style.display="none";x.getElement().style.display="none";switch(I){case k.default.M_GRADIENTFILL:P.getElement().style.display="block";break;case k.default.M_TRANSFORM:x.getElement().style.display="block";break;default:G.getElement().style.display="block"}})}function e(t){var G=[1,2,3,4,5,6,7,8,9,10,15,20,25,30,35,40,45,50,60,70,80,90,100,125,150,175,200],P=document.createElement("div"),x=document.createElement("select"),H=new q.default(!1,(0,E._)("Control brush opacity with pen pressure")),
I=new d.default(1,255),J=new q.default(!0,(0,E._)("Control brush size with pen pressure")),L=new d.default(1,200,!1,!0),R=new q.default(!1,(0,E._)("Control brush scattering with pen pressure")),fa=new d.default(0,1E3,!1,!0),ea=new d.default(0,100,!1,!0),ua=new d.default(0,100,!1,!0),na=new d.default(0,100,!1,!0),Q=new d.default(0,100,!1,!0),pa=new c.CPBrushPreview(t);this.getElement=function(){return P};I.title=function(ia){return(0,E._)("Opacity")+": "+ia};I.on("valueChange",function(ia){t.setAlpha(ia)});
L.title=function(ia){return(0,E._)("Brush size")+": "+ia};L.on("valueChange",function(ia){t.setBrushSize(ia)});ea.title=function(ia){return(0,E._)("Color")+": "+ia+"%"};ea.on("valueChange",function(ia){t.getBrushInfo().resat=ia/100;t.callToolListeners()});ua.title=function(ia){return(0,E._)("Blend")+": "+ia+"%"};ua.on("valueChange",function(ia){t.getBrushInfo().bleed=ia/100;t.callToolListeners()});na.title=function(ia){return(0,E._)("Spacing")+": "+ia+"%"};na.on("valueChange",function(ia){t.getBrushInfo().spacing=
ia/100;t.callToolListeners()});fa.title=function(ia){return(0,E._)("Scattering")+": "+ia+"%"};fa.on("valueChange",function(ia){t.getBrushInfo().scattering=ia/100;t.callToolListeners()});Q.title=function(ia){return(0,E._)("Smoothing")+": "+ia+"%"};Q.on("valueChange",function(ia){t.getBrushInfo().smoothing=ia/100;t.callToolListeners()});R.on("valueChange",function(ia){t.getBrushInfo().pressureScattering=ia;t.callToolListeners()});H.on("valueChange",function(ia){t.getBrushInfo().pressureAlpha=ia;t.callToolListeners()});
J.on("valueChange",function(ia){t.getBrushInfo().pressureSize=ia;t.callToolListeners()});x.addEventListener("change",function(ia){t.getBrushInfo().tip=parseInt(x.value,10)});x.className="form-control form-control-sm";v(x,["Round Pixelated","Round Hard Edge","Round Soft","Square Pixelated","Square Hard Edge"]);P.appendChild(x);P.appendChild(pa.getElement());P.appendChild(h(J,L));P.appendChild(h(H,I));P.appendChild(ea.getElement());P.appendChild(ua.getElement());P.appendChild(na.getElement());P.appendChild(h(R,
fa));P.appendChild(Q.getElement());H.setValue(t.getBrushInfo().pressureAlpha);I.setValue(t.getAlpha());J.setValue(t.getBrushInfo().pressureSize);L.setValue(t.getBrushSize());R.setValue(t.getBrushInfo().pressureScattering);fa.setValue(~~(100*t.getBrushInfo().scattering));x.value=t.getBrushInfo().tip;ea.setValue(~~(100*t.getBrushInfo().resat));ua.setValue(~~(100*t.getBrushInfo().bleed));na.setValue(~~(100*t.getBrushInfo().spacing));Q.setValue(~~(100*t.getBrushInfo().smoothing));t.on("toolChange",function(ia,
ya){I.setValue(ya.alpha);L.setValue(ya.size);J.setValue(ya.pressureSize);H.setValue(ya.pressureAlpha);x.value=ya.tip;R.setValue(ya.pressureScattering);~~(100*ya.resat)!=ea.value&&ea.setValue(~~(100*ya.resat));~~(100*ya.bleed)!=ua.value&&ua.setValue(~~(100*ya.bleed));~~(100*ya.spacing)!=na.value&&na.setValue(~~(100*ya.spacing));~~(100*ya.scattering)!=fa.value&&fa.setValue(~~(100*ya.scattering));~~(100*ya.smoothing)!=Q.value&&Q.setValue(~~(100*ya.smoothing))});(0,y.default)("1,2,3,4,5,6,7,8,9,0",function(ia,
ya){ia=parseInt(ya.shortcut,10);0==ia&&(ia=10);t.setAlpha(Math.round(ia/10*255))});(0,y.default)("{,[",function(){for(var ia=t.getBrushSize(),ya=G.length-1;0<=ya;ya--)if(ia>G[ya]){t.setBrushSize(G[ya]);break}});(0,y.default)("},]",function(){for(var ia=t.getBrushSize(),ya=0;ya<G.length;ya++)if(ia<G[ya]){t.setBrushSize(G[ya]);break}})}function w(t){function G(){var L=[H.getAlpha()<<24|H.getColorRgb(),I.getAlpha()<<24|I.getColorRgb()];t.setCurGradient(L)}var P=document.createElement("div"),x=new D(t),
H=new b.default(new f.default(t.getCurGradient()[0]&16777215),t.getCurGradient()[0]>>>24,P),I=new b.default(new f.default(t.getCurGradient()[1]&16777215),t.getCurGradient()[1]>>>24,P);this.getElement=function(){return P};P.className="chickenpaint-gradient-panel";P.style.display="none";H.on("colorChange",G);H.on("alphaChange",G);I.on("colorChange",G);I.on("alphaChange",G);var J=document.createElement("p");J.innerHTML="Gradient";P.appendChild(J);P.appendChild(x.getElement());x=document.createElement("div");
x.className="chickenpaint-gradient-colors";J=document.createElement("div");J.className="chickenpaint-gradient-start-color";J.appendChild(H.getElement());x.appendChild(J);J=document.createElement("div");J.className="chickenpaint-gradient-end-color";J.appendChild(I.getElement());x.appendChild(J);P.appendChild(x)}function a(t){var G=document.createElement("div"),P=document.createElement("button"),x=document.createElement("button"),H=document.createElement("select");this.getElement=function(){return G};
G.className="chickenpaint-transform-panel";G.style.display="none";P.type="button";x.type="button";P.className="btn btn-primary btn-block";x.className="btn btn-light btn-block";P.innerHTML="Apply transform";x.innerHTML="Cancel";H.addEventListener("change",function(L){t.setTransformInterpolation(this.value)});H.className="form-control chickenpaint-transform-interpolation";v(H,{smooth:"Smooth",sharp:"Sharp"});if((0,n.isCanvasInterpolationSupported)()){var I=document.createElement("div"),J=document.createElement("label");
J.innerHTML="Transform style";I.className="form-group";I.appendChild(J);I.appendChild(H);G.appendChild(I)}H=document.createElement("div");H.appendChild(P);H.appendChild(x);H.className="form-group";G.appendChild(H);P.addEventListener("click",function(L){t.actionPerformed({action:"CPTransformAccept"});L.preventDefault()});x.addEventListener("click",function(L){t.actionPerformed({action:"CPTransformReject"});L.preventDefault()})}Object.defineProperty(C,"__esModule",{value:!0});C.default=c;var k=z(l("../ChickenPaint.js")),
r=z(l("./CPPalette.js")),q=z(l("./CPCheckbox.js")),b=z(l("./CPColorSwatch.js")),d=z(l("./CPSlider.js")),g=l("./CPGUIUtils.js"),m=z(l("../engine/CPColorBmp.js")),f=z(l("../util/CPColor.js")),n=l("../util/CPPolyfill.js"),u=z(l("jquery")),y=z(l("../../lib/keymaster.js")),E=l("../languages/lang");c.prototype=Object.create(r.default.prototype);c.prototype.constructor=c;c.CPBrushPreview=function(t){function G(){J.clearRect(0,0,I.width,I.height);J.beginPath();J.arc(I.width/2,I.height/2,H/2*window.devicePixelRatio,
0,2*Math.PI);J.stroke()}function P(R){var fa=(0,u.default)(I).offset(),ea=R.pageY-fa.top;R=R.pageX-fa.left-(0,u.default)(I).width()/2;ea-=(0,u.default)(I).height()/2;H=Math.max(1,Math.min(200,Math.round(2*Math.sqrt(R*R+ea*ea))));G();t.setBrushSize(H)}function x(R){L&&(L=!1,window.removeEventListener("mouseup",x),window.removeEventListener("mousemove",P))}var H=16,I=document.createElement("canvas"),J=I.getContext("2d"),L=!1;this.getElement=function(){return I};I.addEventListener("mousedown",function(R){L||
(L=!0,window.addEventListener("mouseup",x),window.addEventListener("mousemove",P),P(R))});t.on("toolChange",function(R,fa){fa.size!=H&&(H=fa.size,G())});I.width=64;I.height=64;1<window.devicePixelRatio&&(I.style.width=I.width+"px",I.style.height=I.height+"px",I.width*=window.devicePixelRatio,I.height*=window.devicePixelRatio);I.className="chickenpaint-brush-preview";J.strokeStyle="black";J.lineWidth=1*window.devicePixelRatio;G()};M.exports=C.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,
"../engine/CPColorBmp.js":13,"../languages/lang":54,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"./CPCheckbox.js":27,"./CPColorSwatch.js":31,"./CPGUIUtils.js":33,"./CPPalette.js":39,"./CPSlider.js":44,jquery:265}],26:[function(l,M,C){function z(J){return J&&J.__esModule?J:{default:J}}function h(){this.modes=[]}function v(J){function L(){}function R(){}function fa(){this.shouldPaintBrushPreview=!1;this.oldPreviewRect=null}function ea(){fa.call(this);this.smoothMouse={x:0,y:0}}function ua(){var da,
Ia;this.mouseDown=function(Ra,fb,ib){if(!this.capture&&0==fb&&!Ra.altKey&&!e.default.isPressed("space")&&S())return this.capture=!0,da=Ia={x:Sa+.5,y:ob+.5},this.eraseBrushPreview(),!0};this.mouseDrag=function(Ra){if(this.capture){var fb=new w.default(Math.min(da.x,Ia.x)-1-1,Math.min(da.y,Ia.y)-1-1,Math.max(da.x,Ia.x)+1+1+1,Math.max(da.y,Ia.y)+1+1+1);Ia={x:Sa+.5,y:ob+.5};if(Ra.shiftKey){var ib=Math.PI/4;Ra=Math.round(Math.atan2(Ia.y-da.y,Ia.x-da.x)/ib);switch(Ra){case 0:case 4:Ia.y=da.y;break;case 2:case 6:Ia.x=
da.x;break;default:Ra*=ib,ib=Math.sqrt((Ia.y-da.y)*(Ia.y-da.y)+(Ia.x-da.x)*(Ia.x-da.x)),Ia.x=da.x+ib*Math.cos(Ra),Ia.y=da.y+ib*Math.sin(Ra)}}fb.union(new w.default(Math.min(da.x,Ia.x)-1-1,Math.min(da.y,Ia.y)-1-1,Math.max(da.x,Ia.x)+1+1+1,Math.max(da.y,Ia.y)+1+1+1));sa(fb);return!0}this.mouseMove.call(this,Ra)};this.mouseUp=function(Ra,fb,ib){if(this.capture&&0==fb)return Ra=La(da),fb=La(Ia),this.capture=!1,this.drawLine(Ra,fb),Ra=new w.default(Math.min(da.x,Ia.x)-1-1,Math.min(da.y,Ia.y)-1-1,Math.max(da.x,
Ia.x)+1+1+1,Math.max(da.y,Ia.y)+1+1+1),sa(Ra),!0};this.paint=function(){this.capture?(F.lineWidth=1,F.beginPath(),F.moveTo(da.x,da.y),F.lineTo(Ia.x,Ia.y),F.stroke()):fa.prototype.paint.call(this)};fa.call(this)}function na(){var da=0,Ia,Ra,fb,ib;this.mouseDown=function(eb,V,oa){if(!this.capture&&0==V&&!eb.altKey&&!e.default.isPressed("space")&&S())return eb=La({x:Sa,y:ob}),da=0,Ia=Ra=fb=ib=eb,this.capture=!0,this.eraseBrushPreview(),!0};this.mouseDrag=function(eb){if(this.capture&&0===da)return fb=
ib=La({x:Sa,y:ob}),Aa.repaintAll(),!0;this.mouseMove.call(this,eb)};this.mouseUp=function(eb,V,oa){if(this.capture&&0==V){switch(da){case 0:da=1;break;case 1:da=2;break;case 2:this.capture=!1;V=Ia;oa=Ra;var Ka=fb,ha=ib;eb=new r.default;eb.x0=V.x;eb.y0=V.y;eb.x1=oa.x;eb.y1=oa.y;eb.x2=Ka.x;eb.y2=Ka.y;eb.x3=ha.x;eb.y3=ha.y;V=Array(500);oa=Array(500);eb.compute(V,oa,500);Ta.beginStroke(V[0],oa[0],1);for(eb=1;500>eb;eb++)Ta.continueStroke(V[eb],oa[eb],1);Ta.endStroke();Aa.repaintAll()}return!0}};this.mouseMove=
function(eb,V){if(this.capture)return eb=La({x:Sa,y:ob}),1==da?Ra=eb:2==da&&(fb=eb),Aa.repaintAll(),!0;fa.prototype.mouseMove.call(this,eb,V)};this.paint=function(){if(this.capture){var eb=new r.default,V=tb(Ia),oa=tb(Ra),Ka=tb(fb),ha=tb(ib);eb.x0=V.x;eb.y0=V.y;eb.x1=oa.x;eb.y1=oa.y;eb.x2=Ka.x;eb.y2=Ka.y;eb.x3=ha.x;eb.y3=ha.y;var Fa=Array(100),Pa=Array(100);eb.compute(Fa,Pa,100);F.beginPath();F.moveTo(Fa[0],Pa[0]);for(eb=1;100>eb;eb++)F.lineTo(Fa[eb],Pa[eb]);F.moveTo(~~V.x,~~V.y);F.lineTo(~~oa.x,
~~oa.y);F.moveTo(~~Ka.x,~~Ka.y);F.lineTo(~~ha.x,~~ha.y);F.stroke()}else fa.prototype.paint.call(this)};fa.call(this)}function Q(){var da;this.mouseDown=function(Ia,Ra,fb){if(this.capture)return!0;if(e.default.isPressed("space")||(0!=Ra||this.transient&&!Ia.altKey)&&2!=Ra)this.transient&&mb.pop();else return da=Ra,this.capture=!0,Xa("crosshair"),this.mouseDrag(Ia),!0};this.mouseDrag=function(Ia){if(this.capture)return Ia=La({x:Sa,y:ob}),Ta.isPointWithin(Ia.x,Ia.y)&&J.setCurColor(new E.default(Ta.colorPicker(Ia.x,
Ia.y))),!0};this.mouseUp=function(Ia,Ra,fb){if(this.capture&&Ra==da)return da=-1,this.capture=!1,Xa("default"),this.transient&&mb.pop(),!0};this.enter=function(){L.prototype.enter.call(this);da=-1}}function pa(){var da,Ia,Ra,fb;this.keyDown=function(ib){if(" "===ib.key)return this.capture||Xa("grab"),!0};this.keyUp=function(ib){if(this.transient&&1!=fb&&" "===ib.key)return Xa("default"),mb.pop(),!0};this.mouseDown=function(ib,eb,V){if(this.capture)return!0;if(1==eb||e.default.isPressed("space")&&
0==eb||!this.transient&&0==eb)return this.capture=!0,fb=eb,da=ib.pageX,Ia=ib.pageY,Ra=Aa.getOffset(),Xa("grabbing"),!0;this.transient&&mb.pop()};this.mouseDrag=function(ib){if(this.capture)return Aa.setOffset(Ra.x+ib.pageX-da,Ra.y+ib.pageY-Ia),!0};this.mouseUp=function(ib,eb,V){if(this.capture&&eb==fb)return fb=-1,this.capture=!1,this.transient&&!e.default.isPressed("space")&&(Xa("default"),mb.pop()),!0};this.enter=function(){Xa("grab")}}function ia(){}function ya(){var da,Ia=new w.default(0,0,0,
0),Ra=-1;this.mouseDown=function(fb,ib,eb){if(!this.capture&&0==ib&&!fb.altKey&&!e.default.isPressed("space"))return fb=hb({x:Sa,y:ob}),Ra=ib,Ia.makeEmpty(),da=fb,Aa.repaintAll(),this.capture=!0};this.mouseDrag=function(fb){if(!this.capture)return!1;var ib=hb({x:Sa,y:ob});fb=fb.shiftKey;var eb=~~Math.max(Math.abs(ib.x-da.x),Math.abs(ib.y-da.y));ib.x>=da.x?(Ia.left=da.x,Ia.right=(fb?da.x+eb:ib.x)+1):(Ia.left=fb?da.x-eb:ib.x,Ia.right=da.x+1);ib.y>=da.y?(Ia.top=da.y,Ia.bottom=(fb?da.y+eb:ib.y)+1):(Ia.top=
fb?da.y-eb:ib.y,Ia.bottom=da.y+1);Aa.repaintAll();return!0};this.mouseUp=function(fb,ib,eb){if(this.capture&&ib==Ra)return Ta.rectangleSelection(Ia),Ia.makeEmpty(),Aa.repaintAll(),this.capture=!1,Ra=-1,!0};this.paint=function(){Ia.isEmpty()||(F.lineWidth=1,Oa(F,ta(Ia)))}}function va(){var da,Ia,Ra=!1;this.mouseDown=function(fb,ib,eb){if(!this.capture&&0==ib&&!e.default.isPressed("space")&&gb())return da=La({x:Sa,y:ob}),Ia=fb.altKey,this.capture=Ra=!0};this.mouseDrag=(0,q.throttle)(25,function(fb){if(this.capture){fb=
La({x:Sa,y:ob});var ib=fb.x-da.x,eb=fb.y-da.y,V=~~ib,oa=~~eb;if(0!=V||0!=oa)Ta.move(V,oa,Ia&&Ra),Ra=!1;da.x=fb.x-(ib-V);da.y=fb.y-(eb-oa);return!0}});this.mouseUp=function(fb,ib,eb){if(this.capture&&0==ib)return this.capture=!1,this.transient&&mb.pop(),!0}}function Ha(){function da(Ga,Wa){return{x:(Ga.x+Wa.x)/2,y:(Ga.y+Wa.y)/2}}function Ia(Ga){return{x:Math.round(Ga.x),y:Math.round(Ga.y)}}function Ra(Ga,Wa){for(var Za=0;Za<Ga.points.length;Za++)if(49>=(Wa.x-Ga.points[Za].x)*(Wa.x-Ga.points[Za].x)+
(Wa.y-Ga.points[Za].y)*(Wa.y-Ga.points[Za].y))return 2*Za;for(Za=0;Za<Ga.points.length;Za++){var nb=Ga.points[Za],pb=Ga.points[(Za+1)%Ga.points.length];pb=new g.default(pb.x-nb.x,pb.y-nb.y);nb=new g.default(Wa.x-nb.x,Wa.y-nb.y);var ac=pb.getLength(),zb=pb.getScaled(1/ac);ac=nb.getScaled(1/ac);zb=zb.getDotProduct(ac);if(0<=zb&&1>=zb&&(pb.scale(zb),49>=(pb.x-nb.x)*(pb.x-nb.x)+(pb.y-nb.y)*(pb.y-nb.y)))return 2*Za+1}return Ga.containsPoint(Wa)?-3:-2}function fb(){var Ga=oa.getTransformed(Lb),Wa=Ra(Ga,
{x:Sa,y:ob});switch(Wa){case 0:case 2:case 4:case 6:Wa=~~(Wa/2);var Za=Ga.points[Wa],nb=Ga.points[(Wa+1)%4];Ga=g.default.subtractPoints(Ga.points[(Wa+3)%4],Za).normalize().add(g.default.subtractPoints(nb,Za).normalize());ib(Ga);break;case 1:case 3:case 5:case 7:Ga=g.default.subtractPoints(Ga.points[(~~(Wa/2)+1)%4],Ga.points[~~(Wa/2)]).getPerpendicular();ib(Ga);break;case -3:Xa("move");break;case -2:Xa("default");break;default:Xa("default")}}function ib(Ga){Ga=Math.floor(Math.atan2(-Ga.y,Ga.x)/(Math.PI/
4)+.5);0>Ga&&(Ga+=4);switch(Ga){default:Ga="ew-resize";break;case 1:Ga="nesw-resize";break;case 2:Ga="ns-resize";break;case 3:Ga="nwse-resize"}Xa(Ga)}var eb,V,oa,Ka=-1,ha,Fa,Pa;this.mouseDown=function(Ga,Wa,Za){if(!this.capture&&0==Wa&&!Ga.altKey&&!e.default.isPressed("space"))return Ga=oa.getTransformed(Lb),Ka=Ra(Ga,{x:Sa,y:ob}),ha={x:Sa,y:ob},Fa=La(ha),this.capture=!0,fb(),!0};this.mouseDrag=(0,q.throttle)(40,function(Ga){if(this.capture){var Wa={x:Sa,y:ob};switch(Ka){case -3:Ga=Ia(La(Wa));var Za=
g.default.subtractPoints(Ga,Fa);Wa=Za.getTruncated();Za=Za.subtract(Wa);var nb=new a.default;nb.translate(Wa.x,Wa.y);eb.preMultiply(nb);Fa=g.default.subtractPoints(Ga,Za);break;case -2:nb=Math.PI/4;Za=oa.getCenter();var pb=tb(Za),ac=Math.atan2(Wa.y-pb.y,Wa.x-pb.x)-Math.atan2(ha.y-pb.y,ha.x-pb.x);pb=new a.default;Pa+=ac;Ga=Ga.shiftKey?-eb.decompose().rotate+Math.round(Pa/nb)*nb:ac;pb.rotateAroundPoint(Ga,Za.x,Za.y);eb.preMultiply(pb);ha=Wa;break;case 0:case 2:case 4:case 6:nb=~~(Ka/2);Za=V.points[nb];
pb=eb.getInverted().getTransformedPoint(Ia(La(Wa)));Wa=V.points[(nb+2)%4];nb=(pb.x-Wa.x)/(Za.x-Wa.x);Za=(pb.y-Wa.y)/(Za.y-Wa.y);if(.001>Math.abs(nb)||.001>Math.abs(Za)||isNaN(nb)||isNaN(Za))return!0;Ga.shiftKey&&(Za=nb=Ga=Math.max(nb,Za));eb.scaleAroundPoint(nb,Za,Wa.x,Wa.y);break;case 1:case 5:case 3:case 7:Ga=~~(Ka/2);Za=da(V.points[Ga],V.points[(Ga+1)%4]);Wa=eb.getInverted().getTransformedPoint(Ia(La(Wa)));Ga=da(V.points[(Ga+2)%4],V.points[(Ga+3)%4]);Za=g.default.subtractPoints(Za,Ga);Wa=g.default.subtractPoints(Wa,
Ga);nb=Za.getLength();Za=Za.getDotProduct(Wa)/nb/nb;if(.001>Math.abs(Za)||isNaN(Za))return!0;1==Ka||5==Ka?Wa=1:(Wa=Za,Za=1);eb.scaleAroundPoint(Wa,Za,Ga.x,Ga.y)}oa=V.getTransformed(eb);Ta.transformAffineAmend(eb);Aa.repaintAll();return!0}});this.mouseUp=function(Ga,Wa,Za){if(this.capture&&0==Wa)return this.capture=!1,Ka=-1,!0};this.mouseMove=function(){this.capture||fb()};this.paint=function(){for(var Ga=oa.getTransformed(Lb).points,Wa=Array(2*Ga.length),Za=0;Za<Ga.length;Za++)Wa[Za]=Ga[Za];for(Za=
0;Za<Ga.length;Za++){var nb=Ga[Za],pb=Ga[(Za+1)%Ga.length];Wa[Za+Ga.length]={x:(nb.x+pb.x)/2,y:(nb.y+pb.y)/2}}(0,u.setContrastingDrawStyle)(F,"fill");for(Za=0;Za<Wa.length;Za++)F.fillRect(Wa[Za].x-3,Wa[Za].y-3,7,7);Oa(F,Ga)};this.keyDown=function(Ga){if("Enter"===Ga.key)return J.actionPerformed({action:"CPTransformAccept"}),!0;if("Escape"===Ga.key)return J.actionPerformed({action:"CPTransformReject"}),!0};this.enter=function(){L.prototype.enter.call(this);var Ga=Ta.transformAffineBegin();eb=Ga.transform;
var Wa=Ga.selection;Wa.isEmpty()&&(Wa=Ga.rect.clone());V=new b.default(Wa.toPoints());oa=V.getTransformed(eb);Ka=-1;Pa=0;Aa.repaintAll()};this.leave=function(){L.prototype.leave.call(this);Aa.repaintAll()}}function qa(){var da,Ia,Ra=0,fb,ib=!1,eb=-1;this.mouseDown=function(V,oa,Ka){if(this.capture)return!0;if(!this.transient&&0==oa&&!V.altKey&&!e.default.isPressed("space")||V.altKey&&(1==oa||0==oa&&e.default.isPressed("space")))return da=Sa,Ia=ob,Ra=Aa.getRotation(),fb=Lb.clone(),ib=!1,this.capture=
!0,eb=oa,!0;this.transient&&mb.pop()};this.mouseDrag=function(V){if(this.capture){var oa=Sa,Ka=ob,ha=(0,c.default)(B).width()/2,Fa=(0,c.default)(B).height()/2;V=B.width/2;var Pa=B.height/2;oa=Math.atan2(Ka-Fa,oa-ha)-Math.atan2(Ia-Fa,da-ha);Ka=new a.default;Ka.rotateAroundPoint(oa,V,Pa);Ka.multiply(fb);Aa.setRotation(Ra+oa);Aa.setOffset(~~Ka.getTranslateX(),~~Ka.getTranslateY());return ib=!0}};this.mouseUp=function(V,oa,Ka){if(this.capture&&oa==eb){if(ib){V=Math.round(bc/(Math.PI/2))*Math.PI/2;if(Math.abs(bc-
V)<5/180*Math.PI){V-=Ra;oa=B.width/2;Ka=B.height/2;var ha=new a.default;ha.rotateAroundPoint(V,oa,Ka);ha.multiply(fb);Aa.setRotation(Ra+V);Aa.setOffset(~~ha.getTranslateX(),~~ha.getTranslateY());Aa.repaintAll()}Aa.emitEvent("canvasRotated90",[Aa.getRotation90()])}else Aa.resetRotation();this.capture=!1;!this.transient||e.default.isPressed("space")&&e.default.alt||mb.pop();return!0}};this.keyUp=function(V){if(this.transient&&1!=eb&&" "===V.key)return Xa("default"),mb.pop(),!0};this.keyDown=function(V){if(" "===
V.key&&V.altKey)return!0}}function Qa(){ua.call(this)}function Xa(da){B.getAttribute("data-cursor")!=da&&B.setAttribute("data-cursor",da)}function gb(){var da=Ta.getActiveLayer();return da.visible&&da.ancestorsAreVisible()?0==da.alpha?(J.showLayerNotification(da,"Whoops! This layer's opacity is currently 0%","opacity"),!1):!0:(J.showLayerNotification(da,"Whoops! This layer is currently hidden","layer"),!1)}function S(){var da=Ta.getActiveLayer();return da instanceof n.default&&!Ta.isEditingMask()?
(J.showLayerNotification(da,"Whoops! You can't draw on a group","layer"),!1):gb()}function ma(da,Ia,Ra,fb,ib){da.setValues(-ib,fb,Ia-fb-ib+Ra/4,Ia+Ra-ib-Ra/4);da.setBlockIncrement(Math.max(1,~~(.66*fb)));da.setUnitIncrement(Math.max(1,~~(.05*fb)))}function Ea(){Lb.setToIdentity();Lb.translate(N,Hb);Lb.scale(Cb,Cb);Lb.rotate(bc);if(null!=gc&&null!=Yb&&!gc.getValueIsAdjusting()&&!Yb.getValueIsAdjusting()){var da=Ja(new w.default(0,0,T.width,T.height));ma(gc,da.left,da.getWidth(),(0,c.default)(B).width(),
Aa.getOffset().x);ma(Yb,da.top,da.getHeight(),(0,c.default)(B).height(),Aa.getOffset().y)}Aa.repaintAll()}function La(da){return Lb.getInverted().getTransformedPoint(da)}function hb(da){da=La(da);da.x=Math.floor(da.x);da.y=Math.floor(da.y);return da}function yb(da){var Ia=B.getBoundingClientRect();return{x:da.x-Ia.left-window.pageXOffset,y:da.y-Ia.top-window.pageYOffset}}function tb(da){return Lb.getTransformedPoint(da)}function Ma(da){da=tb(da);da.x=Math.round(da.x);da.y=Math.round(da.y);return da}
function ta(da){var Ia=tb({x:(da.left+da.right)/2,y:(da.top+da.bottom)/2});da=da.toPoints();for(var Ra=0;Ra<da.length;Ra++)da[Ra]=Ma(da[Ra]),da[Ra].x+=.5*Math.sign(Ia.x-da[Ra].x),da[Ra].y+=.5*Math.sign(Ia.y-da[Ra].y);return da}function Oa(da,Ia){da.beginPath();da.moveTo(Ia[0].x,Ia[0].y);for(var Ra=1;Ra<Ia.length;Ra++)da.lineTo(Ia[Ra].x,Ia[Ra].y);da.lineTo(Ia[0].x,Ia[0].y);da.stroke()}function Ja(da){var Ia=Ma({x:da.left-1,y:da.top-1}),Ra=Ma({x:da.left-1,y:da.bottom}),fb=Ma({x:da.right,y:da.top-1});
da=Ma({x:da.right,y:da.bottom});Ia=new w.default(Math.min(Math.min(Ia.x,Ra.x),Math.min(fb.x,da.x)),Math.min(Math.min(Ia.y,Ra.y),Math.min(fb.y,da.y)),Math.max(Math.max(Ia.x,Ra.x),Math.max(fb.x,da.x))+1,Math.max(Math.max(Ia.y,Ra.y),Math.max(fb.y,da.y))+1);Ia.grow(2,2);return Ia}function $a(){var da=B.width,Ia=B.height,Ra=tb({x:Ta.width/2,y:Ta.height/2});Aa.setOffset(Math.round(N+da/2-Ra.x),Math.round(Hb+Ia/2-Ra.y))}function U(da,Ia,Ra){da=Math.max(.1,Math.min(16,da));if(Aa.getZoom()!=da){var fb=Aa.getOffset();
Aa.setOffset(fb.x+~~((Ia-fb.x)*(1-da/Aa.getZoom())),fb.y+~~((Ra-fb.y)*(1-da/Aa.getZoom())));Aa.setZoom(da);Aa.repaintAll()}}function ca(da){var Ia=(0,c.default)(B).width(),Ra=(0,c.default)(B).height();U(da,Ia/2,Ra/2)}function ba(da){return zc?lb.getPressure():"mouse"===da.pointerType&&0!==da.buttons&&0===da.pressure?1:"touch"===da.pointerType?(0!==da.pressure&&(rc=!0),rc?2*da.pressure:1):2*da.pressure}function aa(){jc||(jc=!0,window.requestAnimationFrame(function(){Aa.paint()}))}function sa(da){wb.union(da);
aa()}function Ba(){fc=Ta.getBounds();Aa.repaintAll()}var Aa=this,ka=document.createElement("div"),X=document.createElement("div"),Y=document.createElement("div"),B=document.createElement("canvas"),F=B.getContext("2d"),T=document.createElement("canvas"),ra=T.getContext("2d"),Na=(0,u.createCheckerboardPattern)(F),Ta=J.getArtwork(),Cb=1,N=0,Hb=0,bc=0,Lb=new a.default,qc=!1,cb=!1,Ib=32,Sa=0,ob=0,Tb=!1,Bb=[!1,!1,!1],zc=!1,kc=!1,rc=!1,fc=Ta.getBounds(),wb=new w.default(0,0,0,0),jc=!1,Eb,Qb=[],mb=new h,
gc=new y.default(!1),Yb=new y.default(!0),lb=k.default.getRef();Math.sign=Math.sign||function(da){da=+da;return 0===da||isNaN(da)?da:0<da?1:-1};L.prototype.transient=!1;L.prototype.capture=!1;L.prototype.enter=function(){Xa("default")};L.prototype.leave=function(){this.capture=!1};L.prototype.mouseMove=L.prototype.paint=L.prototype.mouseDown=L.prototype.mouseDrag=L.prototype.mouseUp=L.prototype.keyDown=L.prototype.suspend=L.prototype.resume=L.prototype.keyUp=function(){};R.prototype=Object.create(L.prototype);
R.prototype.constructor=R;R.prototype.mouseDown=function(da,Ia,Ra){var fb=e.default.isPressed("space");if(!fb&&(2==Ia||0==Ia&&da.altKey))mb.push(wc,!0),mb.peek().mouseDown(da,Ia,Ra);else if(1==Ia||fb&&0==Ia)da.altKey?mb.push(Ub,!0):mb.push(Xb,!0),mb.peek().mouseDown(da,Ia,Ra)};R.prototype.keyDown=function(da){if(" "===da.key)return da.altKey?mb.push(Ub,!0):mb.push(Xb,!0),mb.peek().keyDown(da),!0};fa.prototype=Object.create(L.prototype);fa.prototype.constructor=fa;fa.prototype.getBrushPreviewOval=
function(){var da=J.getBrushSize()*Cb;return new w.default(Sa-da/2,ob-da/2,Sa+da/2,ob+da/2)};fa.prototype.queueBrushPreview=function(){if(mb.peek()==this){this.shouldPaintBrushPreview=!0;var da=this.getBrushPreviewOval();da.grow(2,2);null!=this.oldPreviewRect&&(da.union(this.oldPreviewRect),this.oldPreviewRect=null);sa(da)}};fa.prototype.eraseBrushPreview=function(){this.shouldPaintBrushPreview=!1;null!=this.oldPreviewRect&&(sa(this.oldPreviewRect),this.oldPreviewRect=null)};fa.prototype.mouseMove=
function(da,Ia){this.queueBrushPreview()};fa.prototype.enter=function(){L.prototype.enter.call(this);Tb&&this.queueBrushPreview()};fa.prototype.leave=function(){L.prototype.leave.call(this);this.eraseBrushPreview()};fa.prototype.suspend=fa.prototype.leave;fa.prototype.resume=fa.prototype.enter;fa.prototype.paint=function(){if(this.shouldPaintBrushPreview){this.shouldPaintBrushPreview=!1;var da=this.getBrushPreviewOval();F.beginPath();F.arc((da.left+da.right)/2,(da.top+da.bottom)/2,da.getWidth()/2,
0,2*Math.PI);F.stroke();da.grow(2,2);null==this.oldPreviewRect?this.oldPreviewRect=da:this.oldPreviewRect.union(da)}};ea.prototype=Object.create(fa.prototype);ea.prototype.constructor=ea;ea.prototype.mouseDown=function(da,Ia,Ra){if(!this.capture&&0==Ia&&!da.altKey&&!e.default.isPressed("space")&&S()&&(da=La({x:Sa,y:ob}),this.eraseBrushPreview(),Ta.beginStroke(da.x,da.y,Ra)))return this.capture=!0,this.smoothMouse=da,!0};ea.prototype.mouseDrag=function(da,Ia){if(this.capture){da=La({x:Sa,y:ob});var Ra=
Math.min(.999,Math.pow(J.getBrushInfo().smoothing,.3));this.smoothMouse.x=(1-Ra)*da.x+Ra*this.smoothMouse.x;this.smoothMouse.y=(1-Ra)*da.y+Ra*this.smoothMouse.y;Ta.continueStroke(this.smoothMouse.x,this.smoothMouse.y,Ia);return!0}this.mouseMove(da)};ea.prototype.mouseUp=function(da,Ia,Ra){if(this.capture)return 0==Ia&&(this.capture=!1,Ta.endStroke()),!0};ua.prototype=Object.create(fa.prototype);ua.prototype.constructor=ua;ua.prototype.drawLine=function(da,Ia){Ta.beginStroke(da.x,da.y,1);Ta.continueStroke(Ia.x,
Ia.y,1);Ta.endStroke()};na.prototype=Object.create(fa.prototype);na.prototype.constructor=na;Q.prototype=Object.create(L.prototype);Q.prototype.constructor=Q;pa.prototype=Object.create(L.prototype);pa.prototype.constructor=pa;ia.prototype=Object.create(L.prototype);ia.prototype.constructor=ia;ia.prototype.mouseDown=function(da,Ia,Ra){if(0==Ia&&!da.altKey&&!e.default.isPressed("space")&&S())return da=La({x:Sa,y:ob}),Ta.isPointWithin(da.x,da.y)&&(Ta.floodFill(da.x,da.y),Aa.repaintAll()),!0};ya.prototype=
Object.create(L.prototype);ya.prototype.constructor=ya;va.prototype=Object.create(L.prototype);va.prototype.constructor=va;va.prototype.mouseMove=function(da){if(!e.default.isPressed("space")&&!da.altKey)return Xa("move"),!0};va.prototype.enter=function(){Xa("move")};Ha.prototype=Object.create(L.prototype);Ha.prototype.constructor=Ha;qa.prototype=Object.create(L.prototype);qa.prototype.constructor=qa;Qa.prototype=Object.create(ua.prototype);Qa.prototype.constructor=Qa;Qa.prototype.drawLine=function(da,
Ia){Ta.gradientFill(Math.round(da.x),Math.round(da.y),Math.round(Ia.x),Math.round(Ia.y),J.getCurGradient())};Qa.prototype.queueBrushPreview=function(){};this.setZoom=function(da){Cb=da;Ea()};this.getZoom=function(){return Cb};this.setGridSize=function(da){Ib=Math.max(Math.round(da),1);this.repaintAll()};this.getGridSize=function(){return Ib};this.setOffset=function(da,Ia){isNaN(da)||isNaN(Ia)?console.log("Bad offset"):(N=da,Hb=Ia,Ea())};this.getOffset=function(){return{x:N,y:Hb}};this.setInterpolation=
function(da){qc=da;(0,d.setCanvasInterpolation)(F,da);this.repaintAll()};this.setRotation=function(da){bc=da%(2*Math.PI);Ea()};this.getRotation=function(){return bc};this.getRotation90=function(){var da=Math.round(this.getRotation()/Math.PI*2);da%=4;0>da&&(da+=4);return da};this.zoomIn=function(){ca(2*this.getZoom())};this.zoomOut=function(){ca(.5*this.getZoom())};this.zoom100=function(){ca(1);$a()};this.resetRotation=function(){var da=B.width/2,Ia=B.height/2,Ra=new a.default;Ra.rotateAroundPoint(-this.getRotation(),
da,Ia);Ra.multiply(Lb);this.setOffset(~~Ra.getTranslateX(),~~Ra.getTranslateY());this.setRotation(0);Aa.emitEvent("canvasRotated90",[0])};var Nb=!1,dc;this.getElement=function(){return ka};this.repaintAll=function(){wb.left=0;wb.top=0;wb.right=B.width;wb.bottom=B.height;aa()};this.paint=function(){var da=!1;jc=!1;wb.isEmpty()||(F.save(),F.clipTo&&(F.beginPath(),wb.left|=0,wb.top|=0,F.rect(wb.left,wb.top,Math.ceil(wb.getWidth()),Math.ceil(wb.getHeight())),F.clip()),da=!0);if(!fc.isEmpty()){var Ia=
Eb&&Eb.isOpen()?Eb.getImageData():Ta.fusionLayers().getImageData();ra.putImageData(Ia,0,0,fc.left,fc.top,fc.getWidth(),fc.getHeight());fc.makeEmpty()}F.fillStyle="#606060";F.fillRect(0,0,B.width,B.height);F.save();F.setTransform(Lb.m[0],Lb.m[1],Lb.m[2],Lb.m[3],Lb.m[4],Lb.m[5]);F.fillStyle=Na;F.fillRect(0,0,Ta.width,Ta.height);F.drawImage(T,0,0,T.width,T.height);F.restore();(0,u.setContrastingDrawStyle)(F,"stroke");F.lineWidth=1;Ta.getSelection().isEmpty()||mb.peek()instanceof ya&&mb.peek().capture||
(F.setLineDash([3,2]),Ia=Ta.getSelection(),Oa(F,ta(Ia)),F.setLineDash([]));if(cb&&(Ia=Ta.getBounds(),2<Cb*Ib)){F.beginPath();for(var Ra=Ib-1;Ra<Ia.right;Ra+=Ib){var fb=tb({x:Ra,y:Ia.top}),ib=tb({x:Ra,y:Ia.bottom});F.moveTo(fb.x+.5,fb.y+.5);F.lineTo(ib.x+.5,ib.y+.5)}for(Ra=Ib-1;Ra<Ia.bottom;Ra+=Ib)fb=tb({x:0,y:Ra}),ib=tb({x:Ia.right,y:Ra}),F.moveTo(fb.x+.5,fb.y+.5),F.lineTo(ib.x+.5,ib.y+.5);F.stroke()}mb.paint(F);F.globalCompositeOperation="source-over";da&&(wb.makeEmpty(),F.restore())};this.showGrid=
function(da){cb=da;this.repaintAll()};this.resize=function(da,Ia){da-=(0,c.default)(Y).outerHeight();(0,c.default)(B).css("height",da+"px");B.width=(0,c.default)(B).width();B.height=da;dc=null;Ia||$a();this.setInterpolation(qc);this.repaintAll()};J.on("toolChange",function(da,Ia){da=Qb[Ia.strokeMode];for(Ia=0;Ia<mb.modes.length;Ia++)if(mb.modes[Ia]instanceof fa){mb.modes[Ia].leave();mb.modes[Ia]=da;mb.modes[Ia].enter();break}sc=da});J.on("modeChange",function(da){switch(da){case m.default.M_DRAW:var Ia=
sc;break;case m.default.M_FLOODFILL:Ia=mc;break;case m.default.M_GRADIENTFILL:Ia=xc;break;case m.default.M_RECT_SELECTION:Ia=Fc;break;case m.default.M_MOVE_TOOL:Ia=Ac;break;case m.default.M_ROTATE_CANVAS:Ia=Ub;break;case m.default.M_PAN_CANVAS:Ia=Xb;break;case m.default.M_COLOR_PICKER:Ia=wc;break;case m.default.M_TRANSFORM:Ia=Ec}mb.setUserMode(Ia)});J.on("maskViewOpened",function(da){Eb&&Eb.off("changeLayer",Ba);Eb=da;Eb.on("changeLayer",Ba);Ba()});var pc=new R;var wc=new Q;var Xb=new pa;var Ub=new qa;
var mc=new ia;var xc=new Qa;var Fc=new ya;var Ac=new va;var Ec=new Ha;Qb=[new ea,new ua,new na];var sc=Qb[f.default.STROKE_MODE_FREEHAND];mb.setDefaultMode(pc);mb.setUserMode(sc);T.width=Ta.width;T.height=Ta.height;B.width=800;B.height=900;B.className="chickenpaint-canvas";B.setAttribute("touch-action","none");F.setLineDash||(F.setLineDash=function(){});B.addEventListener("contextmenu",function(da){da.preventDefault()});B.addEventListener("mouseenter",function(){Tb=!0});B.addEventListener("mouseleave",
function(){Tb=!1;Bb[0]||Bb[2]||Bb[1]||Aa.repaintAll()});B.addEventListener("pointerdown",function(da){kc&&"touch"===da.pointerType||(B.setPointerCapture(da.pointerId),dc=B.getBoundingClientRect(),Sa=da.clientX-dc.left,ob=da.clientY-dc.top,zc=lb.isPen(),Bb[0]=!1,Bb[2]=!1,Bb[1]=!1,Bb[da.button]=!0,mb.mouseDown(da,da.button,ba(da)))});B.addEventListener("pointermove",function(da){dc||=B.getBoundingClientRect();if(!kc||"touch"!==da.pointerType){Sa=da.clientX-dc.left;ob=da.clientY-dc.top;var Ia=0!==da.buttons,
Ra=Ia?ba(da):0;if(0!==(da.buttons&1)!=Bb[0]){if(.5===da.mozPressure)return;Bb[0]=!Bb[0];Bb[0]?mb.mouseDown(da,0,Ra):mb.mouseUp(da,0,Ra)}0!==(da.buttons&2)!=Bb[2]&&(Bb[2]=!Bb[2],Bb[2]?mb.mouseDown(da,2,Ra):mb.mouseUp(da,2,Ra));0!==(da.buttons&4)!=Bb[1]&&(Bb[1]=!Bb[1],Bb[1]?mb.mouseDown(da,1,Ra):mb.mouseUp(da,1,Ra));Ia?mb.mouseDrag(da,Ra):mb.mouseMove(da,Ra);kc||"pen"!==da.pointerType||(kc=!0)}});B.addEventListener("pointerup",function(da){Bb[0]=!1;Bb[2]=!1;zc=Bb[1]=!1;mb.mouseUp(da,da.button,0);B.releasePointerCapture(da.pointerId)});
B.addEventListener("wheel",function(da){if(0!=da.deltaY){if(!Nb||20<Math.abs(da.deltaY)){var Ia=0<da.deltaY?1/1.15:1.15;var Ra=yb({x:da.pageX,y:da.pageY}),fb=La(Ra);Ta.isPointWithin(fb.x,fb.y)?U(Aa.getZoom()*Ia,Ra.x,Ra.y):U(Aa.getZoom()*Ia,N+~~(Ta.width*Cb/2),Hb+~~(Ta.height*Cb/2));Nb=Nb||setTimeout(function(){Nb=!1},50)}da.preventDefault()}});document.addEventListener("keydown",function(da){mb.keyDown(da)});document.addEventListener("keyup",function(da){mb.keyUp(da)});document.addEventListener("visibilitychange",
function(){var da=B.height+(0,c.default)(Y).outerHeight();B.width=1;B.height=1;Aa.resize(da,!0)},!1);window.addEventListener("scroll",function(){dc=null});B.addEventListener("mousedown",function(da){1==da.button&&da.preventDefault()});Ta.on("changeSelection",function(){Aa.repaintAll()});Ta.on("updateRegion",function(da){fc.union(da);sa(Ja(fc))});gc.on("valueChanged",function(da){var Ia=Aa.getOffset();Aa.setOffset(-da,Ia.y)});Yb.on("valueChanged",function(da){var Ia=Aa.getOffset();Aa.setOffset(Ia.x,
-da)});this.setInterpolation(!1);pc=document.createElement("div");pc.className="chickenpaint-canvas-container-wrapper";pc.appendChild(B);X.className="chickenpaint-canvas-container-top";X.appendChild(pc);X.appendChild(Yb.getElement());Y.className="chickenpaint-canvas-container-bottom";Y.appendChild(gc.getElement());ka.appendChild(X);ka.appendChild(Y);J.setCanvas(this)}Object.defineProperty(C,"__esModule",{value:!0});C.default=v;var D=z(l("wolfy87-eventemitter")),c=z(l("jquery")),e=z(l("../../lib/keymaster.js")),
w=z(l("../util/CPRect.js")),a=z(l("../util/CPTransform.js")),k=z(l("../util/CPWacomTablet.js")),r=z(l("../util/CPBezier.js")),q=l("../util/throttle-debounce"),b=z(l("../util/CPPolygon.js")),d=l("../util/CPPolyfill.js"),g=z(l("../util/CPVector.js")),m=z(l("../ChickenPaint.js")),f=z(l("../engine/CPBrushInfo.js")),n=z(l("../engine/CPLayerGroup.js"));z(l("../engine/CPMaskView.js"));var u=l("./CPGUIUtils.js"),y=z(l("./CPScrollbar.js")),E=z(l("../util/CPColor.js"));h.MODE_INDEX_DEFAULT=0;h.MODE_INDEX_USER=
1;h.prototype.setMode=function(J,L){var R=this.modes[J];R!=L&&(R&&R.leave(),this.modes[J]=L,L.enter())};h.prototype.setDefaultMode=function(J){J.transient=!1;J.capture=!1;this.setMode(h.MODE_INDEX_DEFAULT,J)};h.prototype.setUserMode=function(J){for(var L=this.modes.length-1;L>h.MODE_INDEX_USER;L--)this.modes[L].leave(),this.modes.splice(L,1);J.transient=!1;J.capture=!1;this.setMode(h.MODE_INDEX_USER,J)};h.prototype.deliverEvent=function(J,L){for(var R=this.modes.length-1;0<=R;R--){var fa=this.modes[R];
if(fa[J].apply(fa,L)||fa.capture&&"paint"!=J)return!0}return!1};l=function(){var J=G[t];h.prototype[J]=function(L,R,fa){this.deliverEvent(J,[L,R,fa])}};for(var t=0,G=["mouseDown","mouseUp"];t<G.length;t++)l();l=function(){var J=x[P];h.prototype[J]=function(L,R){this.deliverEvent(J,[L,R])}};for(var P=0,x=["mouseDrag","mouseMove"];P<x.length;P++)l();l=function(){var J=I[H];h.prototype[J]=function(L){this.deliverEvent(J,[L])&&L.preventDefault()}};for(var H=0,I=["keyDown","keyUp"];H<I.length;H++)l();
h.prototype.paint=function(J){this.deliverEvent("paint",[J])};h.prototype.push=function(J,L){var R=this.peek();R&&R.suspend();J.transient=L;J.capture=!1;J.enter();this.modes.push(J)};h.prototype.peek=function(){return 0<this.modes.length?this.modes[this.modes.length-1]:null};h.prototype.pop=function(){var J=this.modes.pop(),L=this.peek();J&&J.leave();L&&L.resume();return L};v.prototype=Object.create(D.default.prototype);v.prototype.constructor=v;M.exports=C.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,
"../engine/CPBrushInfo.js":8,"../engine/CPLayerGroup.js":17,"../engine/CPMaskView.js":19,"../util/CPBezier.js":57,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPPolygon.js":61,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/CPVector.js":65,"../util/CPWacomTablet.js":66,"../util/throttle-debounce":67,"./CPGUIUtils.js":33,"./CPScrollbar.js":41,jquery:265,"wolfy87-eventemitter":284}],27:[function(l,M,C){function z(h,v){function D(){var a=c.width;e.clearRect(0,0,a,c.height);
e.beginPath();e.arc(a/2+1,a/2+1,Math.max(a/2,1)-2,0,2*Math.PI);w.state?e.fill():e.stroke()}var c=document.createElement("canvas"),e=c.getContext("2d"),w=this;this.state=h||!1;this.setValue=function(a){this.state!=a&&(this.state=a,this.emitEvent("valueChange",[a]),D())};this.getElement=function(){return c};c.addEventListener("mousedown",function(a){w.setValue(!w.state)});c.title=v||"";c.className="chickenpaint-checkbox";c.width=20;c.height=20;c.fillStyle="black";c.strokeStyle="black";D()}Object.defineProperty(C,
"__esModule",{value:!0});C.default=z;l=function(h){return h&&h.__esModule?h:{default:h}}(l("wolfy87-eventemitter"));z.prototype=Object.create(l.default.prototype);z.prototype.constructor=z;M.exports=C.default},{"wolfy87-eventemitter":284}],28:[function(l,M,C){function z(k){return k&&k.__esModule?k:{default:k}}function h(k){D.default.call(this,k,"color","Color (picker)");var r=new c.default(k),q=new e.default(k,r);k=new v(k);var b=this.getBodyElement(),d=document.createElement("div");d.className="chickenpaint-colorpicker-top";
d.appendChild(r.getElement());d.appendChild(q.getElement());b.appendChild(d);b.appendChild(k.getElement())}function v(k){function r(g,m,f){for(;g.length<f;)g=m+g;return g}function q(){d.style.backgroundColor="#"+r(Number(b).toString(16),"0",6)}var b=0,d=document.createElement("div");this.getElement=function(){return d};k.on("colorChange",function(g){b=g.getRgb();q()});d.className="chickenpaint-colorpicker-show";d.addEventListener("click",function(g){g.preventDefault();g="#"+r(Number(b).toString(16),
"0",6);g=window.prompt((0,a._)("Please enter a color in hex format"),g);if(null!=g)try{if(g.match(/^#/)||g.match(/^$/))g=g.substring(1);var m=parseInt(g,16);k.setCurColor(new w.default(m))}catch(f){}});q()}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var D=z(l("./CPPalette.js")),c=z(l("./CPColorSelect.js")),e=z(l("./CPColorSlider.js")),w=z(l("../util/CPColor.js")),a=l("../languages/lang");h.prototype=Object.create(D.default.prototype);h.prototype.constructor=h;M.exports=C.default},
{"../languages/lang":54,"../util/CPColor.js":58,"./CPColorSelect.js":29,"./CPColorSlider.js":30,"./CPPalette.js":39}],29:[function(l,M,C){function z(b){return b&&b.__esModule?b:{default:b}}function h(b,d){for(var g=0;g<d.length;g++){var m=d[g];m.enumerable=m.enumerable||!1;m.configurable=!0;"value"in m&&(m.writable=!0);Object.defineProperty(b,m.key,m)}}function v(b,d,g){d&&h(b.prototype,d);g&&h(b,g);Object.defineProperty(b,"prototype",{writable:!1});return b}function D(b,d,g){d in b?Object.defineProperty(b,
d,{value:g,enumerable:!0,configurable:!0,writable:!0}):b[d]=g;return b}Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;var c=z(l("jquery")),e=z(l("../util/CPColor.js")),w=z(l("../engine/CPColorBmp.js")),a=l("./CPGUIUtils.js"),k=window.devicePixelRatio||1,r=Math.round(128*k),q=Math.round(128*k);l=function(){function b(d,g){var m=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");D(this,"_controller",void 0);D(this,"_canvas",void 0);D(this,"_canvasContext",
void 0);D(this,"_imageData",void 0);D(this,"_bitmapInvalid",!0);D(this,"_capturedMouse",!1);D(this,"_greyscale",!1);D(this,"color",new e.default(0));this._controller=d;var f=document.createElement("canvas");this._canvas=f;f.className="chickenpaint-colorpicker-select";f.setAttribute("touch-action","none");f.width=r;f.height=q;f.style.width="128px";f.style.height="128px";this._canvasContext=f.getContext("2d");this._imageData=this._canvasContext.createImageData(r,q);this._canvasContext.getImageData(0,
0,1,1);this._handleEndDrag=this._endDrag.bind(this);this._handleMousePickColor=this._mousePickColor.bind(this);f.addEventListener("pointerdown",function(n){return m._startDrag(n)});g&&this.color.copyFrom(g);d.on("colorChange",function(n){m.color.copyFrom(n);m._bitmapInvalid=!0;m.paint()});d.on("colorModeChange",function(n){m._greyscale="greyscale"==n;m._bitmapInvalid=!0;m.paint()});this.paint()}v(b,[{key:"_makeBitmap",value:function(){if(this._bitmapInvalid){var d=0,g=this._imageData.data;if(this._greyscale)for(var m=
0;m<q;m++)for(var f=255-Math.round(m/(q-1)*255),n=0;n<r;n++)g[d+w.default.RED_BYTE_OFFSET]=f,g[d+w.default.GREEN_BYTE_OFFSET]=f,g[d+w.default.BLUE_BYTE_OFFSET]=f,g[d+w.default.ALPHA_BYTE_OFFSET]=255,d+=w.default.BYTES_PER_PIXEL;else for(m=this.color.clone(),f=0;f<q;f++)for(m.setValue(255-~~(f/(q-1)*255)),n=0;n<r;n++)m.setSaturation(Math.round(n/(r-1)*255)),g[d+w.default.RED_BYTE_OFFSET]=m.rgb>>16&255,g[d+w.default.GREEN_BYTE_OFFSET]=m.rgb>>8&255,g[d+w.default.BLUE_BYTE_OFFSET]=m.rgb&255,g[d+w.default.ALPHA_BYTE_OFFSET]=
255,d+=w.default.BYTES_PER_PIXEL;this._bitmapInvalid=!1}}},{key:"paint",value:function(){this._makeBitmap();this._canvasContext.putImageData(this._imageData,0,0);var d=this.color.getSaturation()/255*(r-1),g=(255-this.color.getValue())/255*(q-1);(0,a.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5*k;this._canvasContext.beginPath();this._greyscale?(this._canvasContext.moveTo(0,g),this._canvasContext.lineTo(r,g)):this._canvasContext.arc(d,g,5*k,0,2*Math.PI);this._canvasContext.stroke();
this._canvasContext.globalCompositeOperation="source-over"}},{key:"_mousePickColor",value:function(d){var g=d.pageX-(0,c.default)(this._canvas).offset().left;d=d.pageY-(0,c.default)(this._canvas).offset().top;d=Math.max(Math.min(255-~~(255*d/127),255),0);this._greyscale?this.color.setGreyscale(d):(g=Math.max(Math.min(~~(255*g/127),255),0),this.color.setHsv(this.color.getHue(),g,d));this.paint();this._controller.setCurColor(this.color)}},{key:"_endDrag",value:function(d){this._canvas.releasePointerCapture(d.pointerId);
this._capturedMouse=!1;this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(d){this._capturedMouse||(this._capturedMouse=!0,this._canvas.setPointerCapture(d.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(d)}},{key:"setHue",value:function(d){this.color.getHue()!=
d&&(this.color.setHue(d),this._controller.setCurColor(this.color))}},{key:"getElement",value:function(){return this._canvas}}]);return b}();C.default=l;M.exports=C.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:265}],30:[function(l,M,C){function z(r){return r&&r.__esModule?r:{default:r}}function h(r,q){for(var b=0;b<q.length;b++){var d=q[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(r,d.key,d)}}function v(r,
q,b){q&&h(r.prototype,q);b&&h(r,b);Object.defineProperty(r,"prototype",{writable:!1});return r}function D(r,q,b){q in r?Object.defineProperty(r,q,{value:b,enumerable:!0,configurable:!0,writable:!0}):r[q]=b;return r}function c(r){for(var q=new w.default(65535),b=0,d=r.data,g=0;g<r.height;g++){q.setHue(359*g/r.height);for(var m=0;m<r.width;m++)d[b+a.default.RED_BYTE_OFFSET]=q.rgb>>16&255,d[b+a.default.GREEN_BYTE_OFFSET]=q.rgb>>8&255,d[b+a.default.BLUE_BYTE_OFFSET]=q.rgb&255,d[b+a.default.ALPHA_BYTE_OFFSET]=
255,b+=a.default.BYTES_PER_PIXEL}}Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;var e=z(l("jquery")),w=z(l("../util/CPColor.js")),a=z(l("../engine/CPColorBmp.js")),k=l("./CPGUIUtils.js");l=function(){function r(q,b,d){var g=this;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");D(this,"hue",void 0);D(this,"selecter",void 0);D(this,"_canvas",void 0);D(this,"_canvasContext",void 0);D(this,"_imageData",void 0);D(this,"_capturedMouse",!1);this.selecter=
b;this.hue=d||0;var m=document.createElement("canvas");this._canvas=m;q.on("colorChange",function(f){g.setHue(f.getHue())});q.on("colorModeChange",function(f){m.style.display="greyscale"==f?"none":"block"});m.setAttribute("touch-action","none");m.addEventListener("pointerdown",function(f){return g._startDrag(f)});m.width=24;m.height=128;m.className="chickenpaint-colorpicker-slider";this._canvasContext=m.getContext("2d");this._imageData=this._canvasContext.createImageData(24,128);this._canvasContext.getImageData(0,
0,1,1);this._handleEndDrag=this._endDrag.bind(this);this._handleMousePickColor=this._mousePickColor.bind(this);c(this._imageData);this.paint()}v(r,[{key:"paint",value:function(){this._canvasContext.putImageData(this._imageData,0,0);var q=128*this.hue/360;(0,k.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5;this._canvasContext.beginPath();this._canvasContext.moveTo(0,q);this._canvasContext.lineTo(24,q);this._canvasContext.stroke();this._canvasContext.globalCompositeOperation=
"source-over"}},{key:"_mousePickColor",value:function(q){q=~~(360*(q.pageY-(0,e.default)(this._canvas).offset().top)/128);this.hue=Math.max(0,Math.min(359,q));this.paint();this.selecter&&this.selecter.setHue(this.hue)}},{key:"_endDrag",value:function(q){this._canvas.releasePointerCapture(q.pointerId);this._capturedMouse=!1;this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(q){this._capturedMouse||
(this._capturedMouse=!0,this._canvas.setPointerCapture(q.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(q)}},{key:"getElement",value:function(){return this._canvas}},{key:"setHue",value:function(q){this.hue=q;this.paint()}}]);return r}();C.default=l;M.exports=C.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:265}],31:[function(l,
M,C){function z(a){return a&&a.__esModule?a:{default:a}}function h(a,k,r){function q(){for(var u=f.style,y=Number(g.getRgb()).toString(16);6>y.length;)y="0"+y;u.backgroundColor="#"+y}function b(){var u=document.createElement("div"),y=document.createElement("div"),E=new e.default(d,g),t=new w.default(d,E,g.getHue()),G=new c.default(0,255);u.className="chickenpaint-color-pick-panel";y.className="chickenpaint-colorpicker-top";y.appendChild(E.getElement());y.appendChild(t.getElement());u.appendChild(y);
G.value=m;G.title=function(P){return"Opacity: "+P};G.on("valueChange",function(P){d.setAlpha(P)});u.appendChild(G.getElement());setTimeout(function(){G.resize()},0);return u}var d=this,g=new D.default(0),m=255,f=document.createElement("div");this.getElement=function(){return f};this.setColor=function(u){g.isEqual(u)||(g.copyFrom(u),q(),this.emitEvent("colorChange",[g]))};this.setAlpha=function(u){u!=m&&(m=u,q(),this.emitEvent("alphaChange",[m]))};this.getColorRgb=function(){return g.getRgb()};this.getAlpha=
function(){return m};this.setCurColor=this.setColor;f.className="chickenpaint-color-pick-swatch";a&&g.copyFrom(a);k&&(m=k);var n=function(u){0==(0,v.default)(u.target).closest(".popover").length&&(0,v.default)(u.target).closest(".chickenpaint-color-pick-swatch")[0]!=f&&(0,v.default)(f).popover("hide")};(0,v.default)(f).popover({html:!0,content:function(){window.addEventListener("mousedown",n);return b()},trigger:"manual",placement:"bottom",container:r||!1}).on("click",function(u){u.preventDefault();
(0,v.default)(this).popover("toggle")}).on("hidden.bs.popover",function(){window.removeEventListener("mousedown",n)});q()}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var v=z(l("jquery")),D=z(l("../util/CPColor.js")),c=z(l("./CPSlider.js")),e=z(l("./CPColorSelect.js")),w=z(l("./CPColorSlider.js"));l=z(l("wolfy87-eventemitter"));h.prototype=Object.create(l.default.prototype);h.prototype.constructor=h;M.exports=C.default},{"../util/CPColor.js":58,"./CPColorSelect.js":29,"./CPColorSlider.js":30,
"./CPSlider.js":44,jquery:265,"wolfy87-eventemitter":284}],32:[function(l,M,C){function z(e){return e&&e.__esModule?e:{default:e}}function h(e,w){var a=(0,D.default)('<div class="modal fade" tabindex="-1" role="dialog">\n\t            <div class="modal-dialog">\n\t                <div class="modal-content">\n\t                    <div class="modal-header">\n\t                        <h5 class="modal-title">Complete transform</h5>\n\t                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t                            <span aria-hidden="true">&times;</span>\n\t                        </button>\n\t                    </div>\n\t                    <div class="modal-body">\n\t                        <p>\n\t                            You need to finish transforming this layer before you can do that. What would you like to do with the transform?\n\t\t\t\t\t\t\t</p>\n\t                    </div>\n\t                    <div class="modal-footer">\n\t                        <button type="button" class="btn btn-light" data-dismiss="modal">'.concat((0,c._)("Cancel"),
'</button>\n\t                        <button type="button" class="btn btn-light chickenpaint-reject-transform" data-dismiss="modal">Undo transform</button>\n\t                        <button type="button" class="btn btn-primary chickenpaint-accept-transform" data-dismiss="modal">Apply transform</button>\n\t                    </div>\n\t                </div>\n\t            </div>\n\t        </div>\n\t    ')),k=this,r=(0,D.default)(".chickenpaint-accept-transform",a),q=(0,D.default)(".chickenpaint-reject-transform",
a);r.on("click",function(b){w.actionPerformed({action:"CPTransformAccept"});k.emitEvent("accept")});q.on("click",function(b){w.actionPerformed({action:"CPTransformReject"});k.emitEvent("reject")});a.modal({show:!1}).on("shown.bs.modal",function(){r.focus()}).on("hidden.bs.modal",function(b){a.remove()}).on("keypress",function(b){"Enter"===b.key&&r.trigger("click")});a.data("bs.modal").$body=(0,D.default)(e);e.appendChild(a[0]);this.show=function(){a.modal("show")}}Object.defineProperty(C,"__esModule",
{value:!0});C.default=h;var v=z(l("wolfy87-eventemitter")),D=z(l("jquery")),c=l("../languages/lang.js");h.prototype=Object.create(v.default.prototype);h.prototype.constructor=h;M.exports=C.default},{"../languages/lang.js":54,jquery:265,"wolfy87-eventemitter":284}],33:[function(l,M,C){Object.defineProperty(C,"__esModule",{value:!0});C.createCheckerboardPattern=function(z){for(var h=document.createElement("canvas"),v=h.getContext("2d"),D=v.createImageData(64,64),c=D.data,e=0,w=0;64>w;w++)for(var a=
0;64>a;a++)0!=(a&8)^0!=(w&8)?(c[e++]=255,c[e++]=255,c[e++]=255):(c[e++]=204,c[e++]=204,c[e++]=204),c[e++]=255;h.width=64;h.height=64;v.putImageData(D,0,0);return z.createPattern(h,"repeat")};C.setContrastingDrawStyle=function(z,h){h+="Style";z.globalCompositeOperation="exclusion";"exclusion"==z.globalCompositeOperation?z[h]="white":(z.globalCompositeOperation="difference",z[h]="#888","difference"!=z.globalCompositeOperation&&(z[h]="black"))}},{}],34:[function(l,M,C){Object.defineProperty(C,"__esModule",
{value:!0});C.default=function(v,D){var c=(0,z.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,h._)("Grid options"),'</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,h._)("Grid size"),
'</label>\n                                    <input type="text" class="form-control chickenpaint-grid-size" value="" autofocus>\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-dismiss="modal">').concat((0,h._)("Cancel"),'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-grid-settings" data-dismiss="modal">').concat((0,h._)("Ok"),
"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),e=(0,z.default)(".chickenpaint-grid-size",c),w=(0,z.default)(".chickenpaint-apply-grid-settings",c);e.val(D.getGridSize());(0,z.default)(".chickenpaint-apply-grid-settings",c).on("click",function(a){a=parseInt(e.val(),10);D.setGridSize(a)});c.modal({show:!1}).on("shown.bs.modal",function(){e.trigger("focus")}).on("keypress",function(a){"Enter"===a.key&&w.trigger("click")});
c.data("bs.modal").$body=(0,z.default)(v);v.appendChild(c[0]);this.show=function(){c.modal("show")}};var z=function(v){return v&&v.__esModule?v:{default:v}}(l("jquery")),h=l("../languages/lang.js");M.exports=C.default},{"../languages/lang.js":54,jquery:265}],35:[function(l,M,C){function z(m){return m&&m.__esModule?m:{default:m}}function h(m){m.preventDefault();m.stopPropagation()}function v(m){var f=document.createElement("span");f.className="fa "+m;return f}function D(m){var f=document.createElement("span");
f.className="chickenpaint-icon chickenpaint-icon-"+m;return f}function c(m,f){var n=document.createElement("div"),u=document.createElement("label");n.className="form-check";m.className="form-check-input";u.className="form-check-label";u.setAttribute("for",m.id);u.appendChild(m);u.appendChild(document.createTextNode(f));n.appendChild(m);n.appendChild(u);return n}function e(m){return{"image-layer":m instanceof d.default,"layer-group":m instanceof b.default,"clipping-mask":m instanceof d.default&&m.clip,
"no-clipping-mask":m instanceof d.default&&!m.clip,"no-clipping-mask-or-is-group":!(m instanceof d.default)||!m.clip,mask:m&&null!==m.mask,"no-mask":m&&null===m.mask,"mask-enabled":m&&null!==m.mask&&m.maskVisible,"mask-disabled":m&&null!==m.mask&&!m.maskVisible}}function w(m){function f(){var ia=t.getActiveLayer();ia=e(ia);for(var ya=0,va=["clipping-mask","no-clipping-mask-or-is-group"];ya<va.length;ya++){var Ha=va[ya];(0,a.default)(".chickenpaint-action-require-"+Ha,pa).css("display",ia[Ha]?"inline-block":
"none")}(0,a.default)("[data-action]",pa).each(function(){var qa=this.getAttribute("data-action");(0,a.default)(this).toggleClass("disabled",!m.isActionAllowed(qa))})}function n(){var ia=t.getActiveLayer();ia.getAlpha()!=I.value&&I.setValue(ia.getAlpha());for(var ya=t.getActiveLayer();J.lastChild;)J.removeChild(J.lastChild);for(var va=r.default.LM_FIRST;va<=r.default.LM_LAST;va++)if(va!=r.default.LM_MULTIPLY2&&(va==ya.blendMode||va===r.default.LM_PASSTHROUGH&&ya instanceof b.default||va<=r.default.LM_LAST_CHIBIPAINT)){var Ha=
document.createElement("option");Ha.appendChild(document.createTextNode((0,g._)(r.default.BLEND_MODE_DISPLAY_NAMES[va])));Ha.value=va!==r.default.LM_MULTIPLY||ya.blendMode===va||ya.useLegacyMultiply?va:r.default.LM_MULTIPLY2;J.appendChild(Ha)}ia.getBlendMode()!=parseInt(J.value,10)&&(J.value=ia.getBlendMode());ia.getLockAlpha()!=fa.checked&&(fa.checked=ia.getLockAlpha());f()}function u(){t=this;H.resize();n()}var y=this;k.default.call(this,m,"layers","Layers",{resizeHorz:!0,resizeVert:!0});var E=
this,t=m.getArtwork(),G=null,P=this.getBodyElement(),x=this.getElement(),H=new function(){var ia;function ya(ka){"button"in ka&&0!==ka.button||(Ma(),(0,a.default)(this).off("click",ya))}function va(ka){var X=(0,a.default)(".chickenpaint-layer",Ja);return X.get(X.length-1-ka)}function Ha(ka){ka=(0,a.default)(ka).closest(".chickenpaint-layer");if(ka.length){var X=(0,a.default)(".chickenpaint-layer",Ja);return X.length-1-X.index(ka)}return-1}function qa(ka,X){var Y=(0,a.default)(".chickenpaint-layer",
Ja);ka={layer:G[G.length-1],displayIndex:G.length-1,direction:"over"};for(var B=0;B<Y.length;B++){var F=Y[Y.length-1-B].getBoundingClientRect();if(0===B&&X>F.bottom){ka=t.getLayersRoot().layers[0];ka={layer:ka,displayIndex:G.indexOf(ka),direction:"under"};break}else if(X>=F.top){Y=G[B];var T=F.bottom-F.top;ka={layer:Y,displayIndex:B};Y instanceof b.default?X>=F.top+.75*T?Y.expanded&&0<Y.layers.length?(ka.layer=Y.layers[Y.layers.length-1],ka.displayIndex--,ka.direction="over"):ka.direction="under":
X>=F.top+.25*T?Y.expanded&&0<Y.layers.length?(ka.layer=Y.layers[Y.layers.length-1],ka.displayIndex--,ka.direction="over"):ka.direction="inside":ka.direction="over":ka.direction=X>=F.top+.5*T?"under":"over";break}}return ka.layer.parent==ta.layer.parent&&("over"==ka.direction||"under"==ka.direction)&&(X=ka.layer.parent,B=X.indexOf(ka.layer),"over"==ka.direction&&X.layers[B+1]==ta.layer||"under"==ka.direction&&X.layers[B-1]==ta.layer||ka.layer==ta.layer)?null:ta.layer instanceof b.default&&(ka.layer==
ta.layer&&"inside"==ka.direction||ka.layer.hasAncestor(ta.layer))?null:ka}function Qa(){if(2===ta.state){var ka=x.getBoundingClientRect(),X=!0,Y=!0;ta.dropTarget=qa(ta.dragX,ta.dragY);if(ta.dropTarget){var B=va(ta.dropTarget.displayIndex);switch(ta.dropTarget.direction){case "over":case "under":Ja.appendChild(ta.dropBetweenMarkerElem);X=ta.dropTarget.layer.getDepth()-1;var F;B=B.getBoundingClientRect();if("under"==ta.dropTarget.direction&&ta.dropTarget.layer instanceof b.default&&ta.dropTarget.layer.expanded){for(F=
ta.dropTarget.displayIndex-1;0<=F&&G[F].hasAncestor(ta.dropTarget.layer);F--);F=va(F+1).getBoundingClientRect().bottom}else F=B.bottom;X=B.left-ka.left+(0<X?26+16*X:0);ta.dropBetweenMarkerElem.style.left=X+"px";ta.dropBetweenMarkerElem.style.width=B.right-ka.left-X+"px";ta.dropBetweenMarkerElem.style.top=("over"==ta.dropTarget.direction?B.top-1:F+1)-ka.top+"px";(0,a.default)(".chickenpaint-layer-drop-target",Ja).removeClass("chickenpaint-layer-drop-target");X=!1;break;case "inside":var T=(0,a.default)(".chickenpaint-layer",
Ja);T.each(function(ra){(0,a.default)(this).toggleClass("chickenpaint-layer-drop-target",T.length-1-ra==ta.dropTarget.displayIndex)});Y=!1}}Y&&(0,a.default)(".chickenpaint-layer-drop-target",Ja).removeClass("chickenpaint-layer-drop-target");X&&(0,a.default)(ta.dropBetweenMarkerElem).remove();ta.frameElem.style.top=ta.dragY-ka.top-parseInt(ta.frameElem.style.height,10)/2+"px"}else(0,a.default)(ta.dropBetweenMarkerElem).remove(),(0,a.default)(ta.frameElem).remove()}function Xa(ka){var X=ka.getImageThumbnail().getAsCanvas(ca);
X.title=(0,g._)("Image");X.className="chickenpaint-layer-thumbnail chickenpaint-layer-image-thumbnail";X.style.maxWidth=X.width/X.height*25+"px";ka!=t.getActiveLayer()||t.isEditingMask()||(X.className+=" active");return X}function gb(ka){var X=ka.getMaskThumbnail().getAsCanvas(ca);X.title=(0,g._)("Layer mask");X.className="chickenpaint-layer-thumbnail chickenpaint-layer-mask-thumbnail";X.style.maxWidth=X.width/X.height*25+"px";ka==t.getActiveLayer()&&t.isEditingMask()&&(X.className+=" active");ka.maskVisible||
(X.className+=" disabled",ka=X.getContext("2d"),ka.strokeStyle="red",ka.lineWidth=3,ka.moveTo(5,5),ka.lineTo(X.width-5,X.height-5),ka.moveTo(X.width-5,5),ka.lineTo(5,X.height-5),ka.stroke());return X}function S(ka,X){var Y=document.createElement("div"),B=document.createElement("div"),F=document.createElement("div"),T=document.createElement("div"),ra=document.createElement("div"),Na=document.createElement("div"),Ta=document.createElement("div");Y.className="chickenpaint-layer list-group-item";X==t.getActiveLayer()&&
(Y.className+=" active");B.className="chickenpaint-layer-eye";X.ancestorsAreVisible()||(B.className+=" chickenpaint-layer-eye-hidden-ancestors");B.style.marginRight=2+16*(X.getDepth()-1)+"px";X.visible?(Y.className+=" chickenpaint-layer-visible",B.appendChild(v("fa-eye"))):(Y.className+=" chickenpaint-layer-hidden",B.appendChild(v("fa-eye-slash")));Y.appendChild(B);F.className="chickenpaint-layer-description";X instanceof d.default?(X.clip&&(Y.className+=" chickenpaint-layer-clipped",T.appendChild(v("fa-level-down-alt fa-flip-horizontal"))),
X.lockAlpha&&(B=D("lock-alpha"),B.title=(0,g._)("Transparency locked"),Na.appendChild(B))):X instanceof b.default&&(Y.className+=" chickenpaint-layer-group",X.expanded?(Y.className+=" chickenpaint-layer-group-expanded",T.appendChild(v("fa-folder-open chickenpaint-layer-group-toggle"))):(Y.className+=" chickenpaint-layer-group-collapsed",T.appendChild(v("fa-folder chickenpaint-layer-group-toggle"))));T.childNodes.length&&(T.className="chickenpaint-layer-icons",Y.appendChild(T));try{X instanceof d.default&&
Y.appendChild(Xa(X)),X.mask&&Y.appendChild(gb(X))}catch(Cb){console.log("Failed to create layer thumb")}T=X.name&&0<X.name.length?X.name:"(unnamed "+(X instanceof b.default?"group":"layer")+")";ra.innerText=T;ra.setAttribute("title",T);ra.className="chickenpaint-layer-name";Ta.innerText=(0,g._)(r.default.BLEND_MODE_DISPLAY_NAMES[X.blendMode])+": "+X.alpha+"%";Ta.className="chickenpaint-layer-blend";F.appendChild(ra);F.appendChild(Ta);Y.appendChild(F);Na.className="chickenpaint-layer-status";Y.appendChild(Na);
Y.setAttribute("data-display-index",""+ka);Y.setAttribute("data-toggle","dropdown");Y.setAttribute("data-target","#chickenpaint-layer-pop");return Y}function ma(ka){if(-1<ka){var X=G[ka];ka=va(ka);X&&ka&&L.show(X,ka)}}function Ea(ka){var X=Ha(ka.target);if(-1!=X){var Y=t.getActiveLayer(),B=e(Y);ba=Y;ia=ka.clientX;ka=0;for(Y=["image-layer","layer-group","clipping-mask","no-clipping-mask","no-mask"];ka<Y.length;ka++){var F=Y[ka];(0,a.default)(".chickenpaint-action-require-"+F,U).toggle(B[F])}ka=0;for(Y=
["mask","mask-enabled","mask-disabled"];ka<Y.length;ka++)F=Y[ka],(0,a.default)(".chickenpaint-action-require-"+F,U).toggle(aa&&B[F]);(0,a.default)("[data-action]",U).each(function(){var T=this.getAttribute("data-action");(0,a.default)(this).parent().toggleClass("disabled","CPRenameLayer"!==T&&!m.isActionAllowed(T))});(0,a.default)(va(X)).dropdown("toggle").off("click.bs.dropdown");(0,a.default)(document).off("click.bs.dropdown.data-api")}}function La(ka){switch(ta.state){case 2:(0,a.default)(ta.layerElem).removeClass("chickenpaint-layer-dragging");
ta.dropTarget&&("inside"==ta.dropTarget.direction?m.actionPerformed({action:"CPRelocateLayer",layer:ta.layer,toGroup:ta.dropTarget.layer,toIndex:ta.dropTarget.layer.layers.length}):m.actionPerformed({action:"CPRelocateLayer",layer:ta.layer,toGroup:ta.dropTarget.layer.parent,toIndex:ta.dropTarget.layer.parent.indexOf(ta.dropTarget.layer)+("over"==ta.dropTarget.direction?1:0)}));ta.dropTarget=null;ta.state=0;Qa();break;default:ta.state=0}sa&&(clearTimeout(sa),sa=null);Ja.releasePointerCapture(ka.pointerId);
Ja.removeEventListener("pointermove",yb);Ja.removeEventListener("pointerup",La)}function hb(){ta.state=2;ta.frameElem=document.createElement("div");ta.frameElem.className="chickenpaint-layer-drag-frame";ta.frameElem.style.width=(0,a.default)(ta.layerElem).outerWidth(!1)+"px";ta.frameElem.style.height=(0,a.default)(ta.layerElem).outerHeight(!1)+"px";ta.dropBetweenMarkerElem=document.createElement("div");ta.dropBetweenMarkerElem.className="chickenpaint-layer-drop-between-mark";ta.layerElem.className+=
" chickenpaint-layer-dragging";Ja.appendChild(ta.frameElem)}function yb(ka){ka=ka.clientY;switch(ta.state){case 3:if(5<Math.abs(ka-ta.dragY))ta.state=4;else break;case 4:$a.scrollTop=ta.initialScrollTop+ta.dragY-ka;break;case 1:if(5<Math.abs(ka-ta.dragY))hb();else break;case 2:ta.dragY=ka,Qa()}}function tb(ka,X,Y){try{Y?(0,a.default)(".chickenpaint-layer-mask-thumbnail",ka).replaceWith(gb(X)):(0,a.default)(".chickenpaint-layer-image-thumbnail",ka).replaceWith(Xa(X))}catch(B){}}function Ma(){(0,a.default)(x).hasClass("show")&&
(0,a.default)(x).dropdown("toggle").off("click.bs.dropdown")}var ta={state:0,layer:null,layerElem:null,dragX:0,dragY:0,initialScrollTop:0,dropTarget:null,dropBetweenMarkerElem:null,frameElem:null},Oa=document.createElement("div"),Ja=document.createElement("div"),$a=Ja,U=function(){var ka=document.createElement("div");ka.className="dropdown-menu";for(var X=0,Y=[{title:"Rename...",action:"CPRenameLayer"},{require:["image-layer"],title:"Delete layer",action:"CPRemoveLayer"},{require:["layer-group"],
title:"Delete group",action:"CPRemoveLayer"},{require:["image-layer","no-clipping-mask"],title:"Clip to the layer below",action:"CPCreateClippingMask"},{require:["image-layer","clipping-mask"],title:"Unclip from the layer below",action:"CPReleaseClippingMask"},{require:["no-mask"],title:"Add mask",action:"CPAddLayerMask"},{require:["mask"],title:"Delete mask",action:"CPRemoveLayerMask"},{require:["mask"],title:"Apply mask",action:"CPApplyLayerMask"},{require:["layer-group"],title:"Merge group",action:"CPGroupMerge"},
{require:["mask-enabled"],title:"Disable mask",action:"CPSetMaskVisible",actionData:{visible:"false"}},{require:["mask-disabled"],title:"Enable mask",action:"CPSetMaskVisible",actionData:{visible:"true"}}];X<Y.length;X++){var B=Y[X],F=document.createElement("a");F.className="dropdown-item";B.require&&(F.className=F.className+" "+B.require.map(function(ra){return"chickenpaint-action-require-"+ra}).join(" "));F.href="#";F.innerHTML=(0,g._)(B.title);F.setAttribute("data-action",B.action);if(B.actionData)for(var T in B.actionData)B.actionData.hasOwnProperty(T)&&
F.setAttribute("data-action-"+T,B.actionData[T]);ka.appendChild(F)}return ka}(),ca=ia=0,ba=null,aa=!1,sa=null;this.buildLayers=function(){G=t.getLayersRoot().getLinearizedLayerList(!0);var ka=G.map(function(B,F){return S(F,B)}),X=document.createDocumentFragment();(0,a.default)(Ja).empty();for(var Y=ka.length-1;0<=Y;Y--)X.appendChild(ka[Y]);Ja.appendChild(X);Qa()};this.layerChanged=function(ka){var X=G.indexOf(ka),Y=(0,a.default)(va(X));0===Y.length||ka instanceof b.default&&(ka.expanded!=(0,a.default)(Y).hasClass("chickenpaint-layer-group-expanded")||
ka.visible!=(0,a.default)(Y).hasClass("chickenpaint-layer-visible"))?this.buildLayers():Y.replaceWith(S(X,ka))};this.setRotation90=function(ka){if(ca!=ka)for(ca=ka,ka=0;ka<G.length;ka++){var X=G[ka],Y=(0,a.default)(va(ka));0<Y.length&&(tb(Y,X,!1),X.mask&&tb(Y,X,!0))}};this.layerImageThumbChanged=function(ka){var X=G.indexOf(ka);X=(0,a.default)(va(X));0<X.length&&tb(X,ka,!1)};this.layerMaskThumbChanged=function(ka){var X=G.indexOf(ka);X=(0,a.default)(va(X));0<X.length&&(ka.mask?tb(X,ka,!0):(0,a.default)(".chickenpaint-layer-mask-thumbnail",
X).remove())};this.activeLayerChanged=function(ka,X){(0,a.default)(".active",Ja).removeClass("active");ka=(0,a.default)(va(G.indexOf(ka)));ka.addClass("active");(0,a.default)(".chickenpaint-layer-image-thumbnail",ka).toggleClass("active",!X);(0,a.default)(".chickenpaint-layer-mask-thumbnail",ka).toggleClass("active",X)};this.resize=function(){E.dismissNotification();this.buildLayers()};this.getElement=function(){return Oa};this.revealLayer=function(ka){ka=va(ka);var X=ka.getBoundingClientRect(),Y=
Ja.getBoundingClientRect();$a.scrollTop=Math.max(Math.min(Math.max($a.scrollTop,$a.scrollTop+X.bottom-Y.bottom),$a.scrollTop+X.top-Y.top),0);return ka};x.id="chickenpaint-layer-pop";Oa.className="chickenpaint-layers-widget well";Oa.addEventListener("contextmenu",function(ka){return ka.preventDefault()},!0);U.addEventListener("click",function(ka){var X=ka.target.getAttribute("data-action");if(X){ka.preventDefault();Ma();m.actionPerformed({action:"CPSetActiveLayer",layer:ba,mask:t.isEditingMask()});
var Y={action:X,layer:ba};ka=ka.target.attributes;for(var B=0;B<ka.length;B++){var F=ka[B].name.match(/^data-action-(.+)/);F&&(Y[F[1]]=JSON.parse(ka[B].value))}"CPRenameLayer"===X?ma(G.indexOf(ba)):m.actionPerformed(Y)}});Ja.className="list-group";Ja.addEventListener("dblclick",function(ka){0===ka.button&&0<(0,a.default)(ka.target).closest(".chickenpaint-layer-description").length&&0===(0,a.default)(ka.target).closest("input").length&&(ma(Ha(ka.target)),ka.preventDefault())});Ja.addEventListener("pointerdown",
function(ka){var X=(0,a.default)(ka.target).closest(".chickenpaint-layer")[0];X=Ha(X);if(-1!=X){var Y=G[X];if(0==ka.button&&(0,a.default)(ka.target).closest(".chickenpaint-layer-eye").length)m.actionPerformed({action:"CPSetLayerVisibility",layer:Y,visible:!Y.visible});else if(0==ka.button&&Y instanceof b.default&&(0,a.default)(ka.target).closest(".chickenpaint-layer-group-toggle").length)m.actionPerformed({action:"CPExpandLayerGroup",group:Y,expand:!Y.expanded});else{var B=t.getActiveLayer()!=Y;aa=
0<(0,a.default)(ka.target).closest(".chickenpaint-layer-mask-thumbnail").length||Y instanceof b.default&&null!==Y.mask&&B;if(0==ka.button&&ka.shiftKey&&aa)m.actionPerformed({action:"CPSetMaskVisible",layer:Y,visible:!Y.maskVisible});else{var F=0==ka.button||B?aa:t.isEditingMask();var T=t.isEditingMask()!=F;(B||T)&&m.actionPerformed({action:"CPSetActiveLayer",layer:Y,mask:F});F&&ka.altKey?m.actionPerformed({action:"CPToggleMaskView"}):0==ka.button?("pen"===ka.pointerType||"touch"===ka.pointerType?
(ta.state=3,ta.initialScrollTop=$a.scrollTop,sa&&clearTimeout(sa),sa=setTimeout(function(){3===ta.state&&(hb(),ta.dragY=ka.clientY,Qa())},800)):ta.state=1,ta.dropTarget=null,ta.layer=Y,ta.layerElem=va(X),ta.dragX=ka.clientX,ta.dragY=ka.clientY,Ja.setPointerCapture(ka.pointerId),Ja.addEventListener("pointermove",yb),Ja.addEventListener("pointerup",La)):2==ka.button&&(ka.preventDefault(),Ea(ka))}}}});Ja.setAttribute("touch-action","none");for(var Ba=0,Aa=["ontouchstart","ontouchmove","ontouchend","ontouchcancel"];Ba<
Aa.length;Ba++)Ja.addEventListener(Aa[Ba],h);Oa.appendChild(Ja);Oa.appendChild(U);(0,a.default)(x).on("show.bs.dropdown",function(ka){var X=(0,a.default)(ka.relatedTarget)[0];ka=(0,a.default)(x).find(".dropdown-menu");X=X.getBoundingClientRect();var Y=x.getBoundingClientRect();ka.css({left:ia-ka.outerWidth(!0)-Y.left+1+"px",top:X.top-ka.outerHeight(!0)/2-Y.top+"px"});(0,a.default)(document).on("click",ya)})},I=new q.default(0,100),J=document.createElement("select"),L=new function(){var ia=null,ya=
"",va=document.createElement("input"),Ha=this;this.hide=function(){ia=null;var qa=(0,a.default)(va).parent();qa&&((0,a.default)(va).remove(),qa.text(ya))};this.renameAndHide=function(){ia&&ia.name!=va.value&&m.actionPerformed({action:"CPSetLayerName",layer:ia,name:va.value});this.hide()};this.show=function(qa,Qa){ia=qa;ya=ia.name;va.value=ya;(0,a.default)(".chickenpaint-layer-name",Qa).empty().append(va);va.select()};va.type="text";va.className="chickenpaint-layer-rename form-control input-sm";va.addEventListener("keydown",
function(qa){qa.stopPropagation()});va.addEventListener("keypress",function(qa){"Enter"===qa.key&&Ha.renameAndHide();qa.stopPropagation()});va.addEventListener("keyup",function(qa){"Escape"===qa.key&&Ha.hide();qa.stopPropagation()});va.addEventListener("blur",function(qa){ia&&Ha.renameAndHide()})},R=document.createElement("input"),fa=document.createElement("input"),ea=!1,ua=this.setSize,na=this.setWidth,Q=this.setHeight;this.setSize=function(ia,ya){ua.call(this,ia,ya);this.dismissNotification();I.resize()};
this.setWidth=function(ia){na.call(this,ia);I.resize();H.resize()};this.setHeight=function(ia){Q.call(this,ia);H.resize()};this.setRotation90=function(ia){H.setRotation90(ia)};this.dismissNotification=function(){(0,a.default)(".chickenpaint-layer[aria-describedby],.chickenpaint-slider[aria-describedby]",P).each(function(ia,ya){ya=(0,a.default)(ya);ya.data("bs.popover")&&ya.popover("dispose")});ea&&(clearTimeout(ea),ea=!1)};this.showNotification=function(ia,ya,va){var Ha=G.indexOf(ia);ia=t.getActiveLayer()==
ia&&"opacity"==va?I.getElement():H.revealLayer(Ha);y.dismissNotification();(0,a.default)(ia).popover({html:!1,content:ya,placement:"left",trigger:"manual",fallbackPlacement:[],boundary:"window",container:E.getElement()}).popover("show");ea=setTimeout(function(){ea=!1;y.dismissNotification()},Math.max(Math.round(70*ya.length),3E3))};J.className="form-control form-control-sm";J.title=(0,g._)("Layer blending mode");J.addEventListener("change",function(ia){m.actionPerformed({action:"CPSetLayerBlendMode",
blendMode:parseInt(J.value,10)})});P.appendChild(J);I.title=function(ia){return(0,g._)("Opacity")+": "+ia+"%"};I.on("valueChange",function(ia){m.actionPerformed({action:"CPSetLayerAlpha",alpha:ia})});P.appendChild(I.getElement());R.id="chickenpaint-chk-sample-all-layers";R.type="checkbox";R.addEventListener("click",function(ia){t.setSampleAllLayers(R.checked)});P.appendChild(c(R,(0,g._)("Sample all layers")));fa.id="chickenpaint-chk-lock-alpha";fa.type="checkbox";fa.addEventListener("click",function(ia){m.actionPerformed({action:"CPSetLayerLockAlpha",
lock:fa.checked})});P.appendChild(c(fa,(0,g._)("Lock transparency")));P.appendChild(H.getElement());var pa=function(){var ia=[{title:"Add layer",icon:v("fa-file"),action:"CPAddLayer"},{title:"Add group",icon:v("fa-folder"),action:"CPAddGroup"},{title:"Add layer mask",icon:D("mask"),action:"CPAddLayerMask"},{title:"Clip to the layer below",icon:v("fa-level-down-alt fa-flip-horizontal"),action:"CPCreateClippingMask",require:"no-clipping-mask-or-is-group"},{title:"Unclip from the layer below",icon:v("fa-level-down-alt fa-flip-horizontal"),
action:"CPReleaseClippingMask",require:"clipping-mask"},{title:"Delete layer",icon:v("fa-trash"),action:"CPRemoveLayer"}],ya=document.createElement("ul");ya.className="chickenpaint-layer-buttons list-unstyled";for(var va=function(){var Qa=qa[Ha],Xa=document.createElement("li");Xa.setAttribute("data-action",Qa.action);Xa.className="chickenpaint-small-toolbar-button "+(Qa.require?"chickenpaint-action-require-"+Qa.require:"");Xa.title=(0,g._)(Qa.title);Xa.appendChild(Qa.icon);Xa.addEventListener("click",
function(){m.actionPerformed({action:Qa.action})});ya.appendChild(Xa)},Ha=0,qa=ia;Ha<qa.length;Ha++)va();return ya}();P.appendChild(pa);t.on("changeActiveLayer",function(ia,ya,va){H.activeLayerChanged(ya,va);n()});t.on("changeLayer",function(ia){t=this;E.dismissNotification();H.layerChanged(ia);n()});t.on("changeStructure",u);t.on("changeLayerMaskThumb",function(ia){t=this;H.layerMaskThumbChanged(ia)});t.on("changeLayerImageThumb",function(ia){t=this;H.layerImageThumbChanged(ia)});m.on("layerNotification",
this.showNotification.bind(this));u.call(t)}Object.defineProperty(C,"__esModule",{value:!0});C.default=w;var a=z(l("jquery")),k=z(l("./CPPalette.js")),r=z(l("../engine/CPBlend.js")),q=z(l("./CPSlider.js")),b=z(l("../engine/CPLayerGroup.js"));z(l("../engine/CPLayer.js"));var d=z(l("../engine/CPImageLayer.js")),g=l("../languages/lang.js");w.prototype=Object.create(k.default.prototype);w.prototype.constructor=w;M.exports=C.default},{"../engine/CPBlend.js":5,"../engine/CPImageLayer.js":15,"../engine/CPLayer.js":16,
"../engine/CPLayerGroup.js":17,"../languages/lang.js":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:265}],36:[function(l,M,C){function z(w){return w&&w.__esModule?w:{default:w}}function h(w,a){var k=this,r=document.createElement("div"),q=new D.default(w),b=new c.default(w),d=!1,g=this;this.togglePalettes=function(){b.togglePalettes()};this.arrangePalettes=function(){setTimeout(b.arrangePalettes.bind(b),0)};this.constrainPalettes=function(){b.constrainPalettes()};this.showPalette=function(f,n){b.showPaletteByName(f,
n)};this.getSwatches=function(){return b.palettes.swatches.getSwatches()};this.setSwatches=function(f){b.palettes.swatches.setSwatches(f)};this.getPaletteManager=function(){return b};this.setRotation90=function(f){q.setRotation(f*Math.PI/2);b.palettes.layers.setRotation90(f)};this.setFullScreenMode=function(f){d!==f&&(d=f,g.resize(),g.arrangePalettes())};this.resize=function(){var f=(0,v.default)(window).height(),n=(0,v.default)(m.getElement()).outerHeight();q.resize(d?f-n:Math.min(Math.max(f-n-65,
500),850),!1);g.constrainPalettes()};var m=new e.default(w,this);a.appendChild(m.getElement());r.className="chickenpaint-main-section";r.appendChild(q.getElement());r.appendChild(b.getElement());a.appendChild(r);q.on("canvasRotated90",function(f){b.palettes.layers.setRotation90(f)});window.addEventListener("resize",this.resize.bind(this));w.on("fullScreen",function(f){return k.setFullScreenMode(f)});w.on("toolbarStyleChange",function(f){(0,v.default)(a).toggleClass("chickenpaint-toolbar-style-old",
"old"===f)});w.on("unsavedChanges",function(f){(0,v.default)(a).toggleClass("chickenpaint-unsaved",f)});setTimeout(this.resize.bind(this),0)}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var v=z(l("jquery")),D=z(l("./CPCanvas.js")),c=z(l("./CPPaletteManager.js")),e=z(l("./CPMainMenu.js"));l=z(l("wolfy87-eventemitter"));h.prototype=Object.create(l.default.prototype);h.prototype.constructor=h;M.exports=C.default},{"./CPCanvas.js":26,"./CPMainMenu.js":37,"./CPPaletteManager.js":40,jquery:265,
"wolfy87-eventemitter":284}],37:[function(l,M,C){function z(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(C,"__esModule",{value:!0});C.default=function(e,w){function a(m){var f=m.data("action"),n=m.data("checkbox");e.isActionAllowed(f)&&(n?(m.toggleClass("selected"),m=m.hasClass("selected")):m=!1,e.actionPerformed({action:f,checkbox:n,selected:m}))}function k(m){m=m.toUpperCase();m=m.replace(/(,.+)$/,"");m=m.replace("ctrl+=","ctrl++");m=m.replace("\u2318+=","\u2318++");return m=b?
m.replace(/([^+])\+/g,"$1"):m.replace(/([^+])\+/g,"$1 ")}function r(m){(0,h.default)("[data-action]",m).each(function(){var y=(0,h.default)(this),E=this.getAttribute("data-action");E=e.isActionAllowed(E);y.toggleClass("disabled",!E).toggleClass("hidden",!E&&!0===y.data("hideIfNotAvailable"))});(0,h.default)(".dropdown-divider",m).removeClass("hidden");m=(0,h.default)(".dropdown-item:not(.hidden),.dropdown-divider:not(.hidden)",m);for(var f=null,n=0;n<m.length;n++){var u=(0,h.default)(m[n]);u.hasClass("dropdown-divider")?
0===n||f?u.addClass("hidden"):f=u:f=null}f&&f.addClass("hidden")}var q=(0,h.default)('<nav class="navbar navbar-expand-md navbar-light bg-light"><a class="navbar-brand" href="#">ChickenPaint</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#chickenpaint-main-menu-content" aria-controls="chickenpaint-main-menu-content" aria-expanded="false" aria-label="Toggle main menu"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="chickenpaint-main-menu-content"><ul class="navbar-nav mr-auto"></ul></div><div class="widget-nav" id="chickenpaint-palette-toggler-content"/></nav>'),
b=/^Mac/i.test(navigator.platform);this.getElement=function(){return q[0]};(function(m,f){m.append(f.map(function(n){var u=(0,h.default)('<li class="nav-item dropdown"><a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">'+(0,D._)(n.name)+'</a><div class="dropdown-menu"></div></li>');(0,h.default)(".dropdown-toggle",u).dropdown();u.on("show.bs.dropdown",function(){r(u);(0,h.default)(document).one("click",function(){u.hasClass("show")&&
(0,h.default)(".dropdown-toggle",u).dropdown("toggle")})});(0,h.default)(".dropdown-menu",u).append(n.children.map(function(y){if(!y.action||e.isActionSupported(y.action)){"CPSend"!=y.action||e.isActionSupported("CPContinue")||(y.name=(0,D._)("Post Oekaki"),y.shortcut="ctrl+p");if("-"==y.name)var E=(0,h.default)('<div class="dropdown-divider"></div>');else E=(0,h.default)('<a class="dropdown-item" href="#" data-action="'+y.action+'"><span>'+(0,D._)(y.name)+"</span></a>"),y.checkbox&&(0,h.default)(E).data("checkbox",
!0).toggleClass("selected",!!y.checked),y.hideIfNotAvailable&&E.data("hideIfNotAvailable",!0);y.title&&E.attr("title",(0,D._)(y.title));if(y.shortcut){var t=E,G=document.createElement("small");b&&(y.shortcut=y.shortcut.replace(/SHIFT/im,"\u21e7"),y.shortcut=y.shortcut.replace(/ALT/im,"\u2325"),y.shortcut=y.shortcut.replace(/CTRL/im,"\u2318"));G.className="chickenpaint-shortcut";G.innerHTML=k(y.shortcut);t.append(G);(0,v.default)(y.shortcut,function(P){a(t);P.preventDefault();P.stopPropagation();return!1})}return E}}));
return u}))})((0,h.default)(".navbar-nav",q),c);(function(m,f){m.append(f.filter(function(n){return!!n.mnemonic&&e.isActionSupported(n.action)}).map(function(n){var u=(0,h.default)('<button class="widget-toggler selected" type="button" data-action="'.concat(n.action,'" data-checkbox="true" data-selected="').concat(!n.checked,'">')+"<span>"+n.mnemonic+"</span></button>");u.on("click",function(y){a(u);y.preventDefault()});return u}))})((0,h.default)(".widget-nav",q),c[5].children);(0,h.default)(q).on("click",
"a:not(.dropdown-toggle)",function(m){a((0,h.default)(this));m.preventDefault()});(0,h.default)(".navbar-toggler",q).on("click",function(m){(0,h.default)(".collapse",q).collapse("toggle");m.preventDefault()});w.getPaletteManager().on("paletteVisChange",function(m,f){(0,h.default)('[data-action="CPPal'+m.substring(0,1).toUpperCase()+m.substring(1)+'"]',q).toggleClass("selected",f)});var d=(0,h.default)(".dropdown-item[data-action=CPFullScreen]",q),g=(0,h.default)(".dropdown-item[data-action=CPToolbarStyle]",
q);e.on("fullScreen",function(m){return d.toggleClass("selected",m)});d.toggleClass("selected",e.isFullScreen());e.on("toolbarStyleChange",function(m){return g.toggleClass("selected","old"===m)});g.toggleClass("selected","old"===e.getToolbarStyle())};var h=z(l("jquery")),v=z(l("../../lib/keymaster.js")),D=l("../languages/lang.js"),c=[{name:"File",mnemonic:"F",children:[{name:"Save to my computer",action:"CPSave",mnemonic:"S",shortcut:"ctrl+s"},{name:"Save Oekaki",action:"CPSend",mnemonic:"S",shortcut:"ctrl+s"}]},
{name:"Edit",mnemonic:"E",children:[{name:"Undo",action:"CPUndo",mnemonic:"U",shortcut:"ctrl+z",title:"Undoes the most recent action"},{name:"Redo",action:"CPRedo",mnemonic:"R",shortcut:"shift+ctrl+z",title:"Redoes a previously undone action"},{name:"Clear history",action:"CPClearHistory",mnemonic:"H",title:"Removes all undo/redo information to regain memory"},{name:"-"},{name:"Cut",action:"CPCut",mnemonic:"T",shortcut:"ctrl+x"},{name:"Copy",action:"CPCopy",mnemonic:"C",shortcut:"ctrl+c"},{name:"Copy merged",
action:"CPCopyMerged",mnemonic:"Y",shortcut:"shift+ctrl+c"},{name:"Paste",action:"CPPaste",mnemonic:"P",shortcut:"ctrl+v"},{name:"-"},{name:"Select all",action:"CPSelectAll",mnemonic:"A",shortcut:"ctrl+a"},{name:"Deselect",action:"CPDeselectAll",mnemonic:"D",shortcut:"ctrl+d"},{name:"-"},{name:"Transform",action:"CPTransform",mnemonic:"T",shortcut:"ctrl+y"}]},{name:"Layers",mnemonic:"L",children:[{name:"Duplicate",action:"CPLayerDuplicate",mnemonic:"D",shortcut:"shift+ctrl+d",title:"Creates a copy of the currently selected layer"},
{name:"-"},{name:"Merge down",action:"CPLayerMergeDown",mnemonic:"E",shortcut:"ctrl+e",title:"Merges the currently selected layer with the one directly below it"},{name:"Merge group",action:"CPGroupMerge",mnemonic:"G",title:"Merges the contents of the selected group"},{name:"Merge all layers",action:"CPLayerMergeAll",mnemonic:"A",title:"Merges all the layers"},{name:"-"},{hideIfNotAvailable:!0,name:"Add layer mask",action:"CPAddLayerMask"},{hideIfNotAvailable:!0,name:"Delete layer mask",action:"CPRemoveLayerMask"},
{hideIfNotAvailable:!0,name:"Apply layer mask",action:"CPApplyLayerMask"},{name:"-"},{hideIfNotAvailable:!0,name:"Clip to the layer below",action:"CPCreateClippingMask"},{hideIfNotAvailable:!0,name:"Unclip from the layer below",action:"CPReleaseClippingMask"}]},{name:"Effects",mnemonic:"E",children:[{name:"Clear",action:"CPClear",mnemonic:"D",shortcut:"del,backspace",title:"Clears the selected area"},{name:"Fill",action:"CPFill",mnemonic:"F",shortcut:"ctrl+f",title:"Fills the selected area with the current color"},
{name:"Flip horizontal",action:"CPHFlip",mnemonic:"H",title:"Flips the current selected area horizontally"},{name:"Flip vertical",action:"CPVFlip",mnemonic:"V",title:"Flips the current selected area vertically"},{name:"Invert",action:"CPFXInvert",mnemonic:"I",title:"Invert the image colors"},{name:"-"},{name:"Box blur...",action:"CPFXBoxBlur",mnemonic:"B",title:"Blur effect"},{name:"-"},{name:"Monochromatic noise",action:"CPMNoise",mnemonic:"M",title:"Fills the selection with noise"},{name:"Color noise",
action:"CPCNoise",mnemonic:"C",title:"Fills the selection with colored noise"}]},{name:"View",mnemonic:"V",children:[{name:"Full-screen mode",action:"CPFullScreen",mnemonic:"F",checkbox:!0,checked:!1},{name:"-"},{name:"Zoom in",action:"CPZoomIn",mnemonic:"I",shortcut:"ctrl+=",title:"Zooms in"},{name:"Zoom out",action:"CPZoomOut",mnemonic:"O",shortcut:"ctrl+-",title:"Zooms out"},{name:"Zoom 100%",action:"CPZoom100",mnemonic:"1",shortcut:"ctrl+0",title:"Resets the zoom factor to 100%"},{action:"CPLinearInterpolation",
name:"-"},{name:"Smooth-out zoomed canvas",action:"CPLinearInterpolation",mnemonic:"L",title:"Linear interpolation is used to give a smoothed looked to the picture when zoomed in",checkbox:!0},{name:"-"},{name:"Show grid",action:"CPToggleGrid",mnemonic:"G",shortcut:"ctrl+g",title:"Displays a grid over the image",checkbox:!0,checked:!1},{name:"Grid options...",action:"CPGridOptions",mnemonic:"D",title:"Shows the grid options dialog box"}]},{name:"Palettes",mnemonic:"P",children:[{name:"Rearrange",
action:"CPArrangePalettes",title:"Rearrange the palette windows"},{name:"Toggle palettes",action:"CPTogglePalettes",mnemonic:"P",shortcut:"tab",title:"Hides or shows all palettes"},{name:"Use old icons",action:"CPToolbarStyle",checkbox:!0,checked:!1},{name:"-"},{name:"Show tools",action:"CPPalTool",mnemonic:"T",checkbox:!0,checked:!0},{name:"Show color",action:"CPPalColor",mnemonic:"C",checkbox:!0,checked:!0},{name:"Show stroke",action:"CPPalStroke",mnemonic:"S",checkbox:!0,checked:!0},{name:"Show misc",
action:"CPPalMisc",mnemonic:"M",checkbox:!0,checked:!0},{name:"Show swatches",action:"CPPalSwatches",mnemonic:"W",checkbox:!0,checked:!0},{name:"Show textures",action:"CPPalTextures",mnemonic:"X",checkbox:!0,checked:!0},{name:"Show tool options",action:"CPPalBrush",mnemonic:"B",checkbox:!0,checked:!0},{name:"Show layers",action:"CPPalLayers",mnemonic:"L",checkbox:!0,checked:!0}]},{name:"Help",mnemonic:"H",children:[{name:"Tablet support",mnemonic:"T",action:"CPTabletSupport",title:"Help with getting a drawing tablet working"},
{name:"Shortcuts",mnemonic:"S",action:"CPShortcuts",title:"List of keyboard and mouse shortcuts"},{name:"-"},{name:"About",mnemonic:"A",action:"CPAbout",title:"Displays some information about ChickenPaint"}]}];M.exports=C.default},{"../../lib/keymaster.js":68,"../languages/lang.js":54,jquery:265}],38:[function(l,M,C){function z(e){return e&&e.__esModule?e:{default:e}}function h(e){D.default.call(this,e,"misc","Misc");var w=this,a=[{className:"chickenpaint-tool-zoom-in",command:"CPZoomIn",toolTip:"Zoom in"},
{className:"chickenpaint-tool-zoom-out",command:"CPZoomOut",toolTip:"Zoom out"},{className:"chickenpaint-tool-zoom-100",command:"CPZoom100",toolTip:"Zoom 100%"},{className:"chickenpaint-tool-undo",command:"CPUndo",toolTip:"Undo"},{className:"chickenpaint-tool-redo",command:"CPRedo",toolTip:"Redo"},{className:"chickenpaint-tool-send",command:"CPSend",toolTip:"Save Oekaki"}];(function(){var k=w.getBodyElement(),r=document.createElement("ul");r.className="chickenpaint-misc-tools list-unstyled";for(var q in a){var b=
a[q],d=document.createElement("li"),g=document.createElement("div");"CPSend"!=b.command||e.isActionSupported("CPContinue")||(b.toolTip="Post Oekaki",b.className="chickenpaint-tool-send-and-end");d.className="chickenpaint-toolbar-button "+b.className;d.setAttribute("data-buttonIndex",q);d.setAttribute("title",(0,c._)(b.toolTip));g.className="chickenpaint-toolbar-button-icon";d.appendChild(g);r.appendChild(d)}(0,v.default)(r).on("mousedown","li",function(m){(0,v.default)(this).addClass("selected")}).on("mouseup",
"li",function(m){(0,v.default)(this).removeClass("selected")}).on("click","li",function(m){m=a[parseInt(this.getAttribute("data-buttonIndex"),10)];e.actionPerformed({action:m.command})});k.appendChild(r)})()}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var v=z(l("jquery")),D=z(l("./CPPalette.js")),c=l("../languages/lang.js");h.prototype=Object.create(D.default.prototype);h.prototype.constructor=h;M.exports=C.default},{"../languages/lang.js":54,"./CPPalette.js":39,jquery:265}],39:[function(l,
M,C){function z(w){return w&&w.__esModule?w:{default:w}}function h(w,a,k,r){var q,b,d,g;function m(fa){"vertResize"==J&&L.setHeight(fa.pageY-(0,v.default)(t).offset().top)}function f(fa){H.releasePointerCapture(fa.pointerId);J=!1}function n(fa){J="vertResize";H.setPointerCapture(fa.pointerId)}function u(fa){"horzResize"==J&&L.setWidth(fa.pageX-(0,v.default)(t).offset().left)}function y(fa){I.releasePointerCapture(fa.pointerId);J=!1}function E(fa){J="horzResize";I.setPointerCapture(fa.pointerId)}w.getSmallScreenMode()&&
(0,c._)(k+" (shorter)")!==k+" (shorter)"?this.title=(0,c._)(k+" (shorter)"):this.title=(0,c._)(k);r=r||{};this.name=a;this.resizeVert=r.resizeVert||!1;this.resizeHorz=r.resizeHorz||!1;var t=document.createElement("div");k=document.createElement("div");var G=document.createElement("i"),P=document.createElement("button"),x=document.createElement("div"),H=null,I=null,J,L=this;this.getElement=function(){return t};this.getBodyElement=function(){return x};this.getWidth=function(){return(0,v.default)(t).outerWidth()};
this.getHeight=function(){return(0,v.default)(t).outerHeight()};this.getX=function(){return parseInt(t.style.left,10)||0};this.getY=function(){return parseInt(t.style.top,10)||0};this.setLocation=function(fa,ea){t.style.left=fa+"px";t.style.top=ea+"px"};this.setWidth=function(fa){t.style.width=fa+"px"};this.setHeight=function(fa){t.style.height=fa+"px"};this.setSize=function(fa,ea){this.setWidth(fa);this.setHeight(ea)};this.setCollapseDownwards=function(fa){r.collapseDownwards=fa};this.toggleCollapse=
function(fa){var ea=(0,v.default)(t);if(void 0===fa)fa=!ea.hasClass("collapsed");else if(ea.hasClass("collapsed")==fa)return;var ua=ea.parents(".chickenpaint").find(".chickenpaint-canvas").height(),na=this.getHeight();na=this.getY()+na;ea.toggleClass("collapsed",fa);(0,v.default)(G).toggleClass("fa-angle-down",!fa).toggleClass("fa-angle-up",fa);fa?r.collapseDownwards&&this.setLocation(this.getX(),Math.min(na,ua)-this.getHeight()):(fa=this.getHeight(),r.collapseDownwards?this.setLocation(this.getX(),
Math.max(na-fa,0)):this.getY()+fa>ua&&this.setLocation(this.getX(),Math.max(ua-fa,0)))};this.userIsDoneWithUs=function(){w.getSmallScreenMode()&&this.toggleCollapse(!0)};G.className="collapse-icon fas fa-angle-down";P.type="button";P.className="close";P.innerHTML="&times;";t.className="chickenpaint-palette chickenpaint-palette-"+a;k.className="chickenpaint-palette-head";k.setAttribute("touch-action","none");a=document.createElement("div");var R=document.createElement("h5");a.className="modal-header";
R.className="modal-title";R.appendChild(document.createTextNode(this.title));R.appendChild(G);a.appendChild(R);a.appendChild(P);k.appendChild(a);x.className="chickenpaint-palette-body";t.appendChild(k);t.appendChild(x);this.resizeVert&&(H=document.createElement("div"),H.className="chickenpaint-resize-handle-vert",H.addEventListener("pointerdown",n),H.addEventListener("pointermove",m),H.addEventListener("pointerup",f),t.appendChild(H));this.resizeHorz&&(I=document.createElement("div"),I.className=
"chickenpaint-resize-handle-horz",I.addEventListener("pointerdown",E),I.addEventListener("pointermove",u),I.addEventListener("pointerup",y),t.appendChild(I));k.addEventListener("pointerdown",function(fa){0==fa.button&&(fa.stopPropagation(),fa.preventDefault(),"BUTTON"==fa.target.nodeName?L.emitEvent("paletteVisChange",[L,!1]):(d=parseInt(t.style.left,10)||0,g=parseInt(t.style.top,10)||0,q=fa.pageX-(0,v.default)(t).position().left,b=fa.pageY-(0,v.default)(t).position().top,J=w.getSmallScreenMode()?
"dragStart":"dragging",fa.target.setPointerCapture(fa.pointerId)))});k.addEventListener("pointermove",function(fa){if(("dragStart"===J||"dragging"===J)&&0!==fa.buttons){var ea=fa.pageX-q;fa=fa.pageY-b;"dragStart"==J&&(ea-d)*(ea-d)+(fa-g)*(fa-g)>e*e&&(J="dragging");"dragging"==J&&L.setLocation(ea,fa)}});k.addEventListener("pointerup",function(fa){if("dragging"===J||"dragStart"===J){"dragStart"===J&&(fa.stopPropagation(),fa.preventDefault(),setTimeout(function(){L.setLocation(d,g);L.toggleCollapse()},
100));J=!1;try{fa.target.releasePointerCapture(fa.pointerId)}catch(ea){console.error(ea)}}})}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var v=z(l("jquery")),D=z(l("wolfy87-eventemitter")),c=l("../languages/lang"),e=5;h.prototype=Object.create(D.default.prototype);h.prototype.constructor=D.default;M.exports=C.default},{"../languages/lang":54,jquery:265,"wolfy87-eventemitter":284}],40:[function(l,M,C){function z(d){return d&&d.__esModule?d:{default:d}}function h(d){function g(){var J=
(0,v.default)(y).parents(".chickenpaint").find(".chickenpaint-canvas");return{width:J.width(),height:J.height()}}function m(J,L){var R=J.getElement();L?y.appendChild(R):y.removeChild(R);E.emitEvent("paletteVisChange",[J.name,L])}var f={tool:new c.default(d),misc:new e.default(d),stroke:new w.default(d),color:new a.default(d),brush:new k.default(d),layers:new r.default(d),textures:new q.default(d),swatches:new b.default(d)},n={tool:!1,color:!1,misc:!1},u={color:!0,textures:!0,layers:!0},y=document.createElement("div"),
E=this,t=[],G=[];this.palettes=f;this.showPaletteByName=function(J,L){(J=f[J])&&m(J,L)};this.togglePalettes=function(){if(0==G.length)(0,v.default)("> .chickenpaint-palette",y).each(function(){E.showPaletteByName(this.getAttribute("data-paletteName"),!1);G.push(this)});else{for(var J=0;J<G.length;J++)E.showPaletteByName(G[J].getAttribute("data-paletteName"),!0);G=[]}};this.constrainPalettes=function(){var J=g();for(R in f){var L=f[R];L.getX()+L.getWidth()/2>J.width&&L.setLocation(J.width-L.getWidth(),
L.getY());L.getY()+L.getHeight()/2>J.height&&L.setLocation(L.getX(),J.height-L.getHeight())}var R=0<J.width-f.tool.getWidth()-f.misc.getWidth()-f.stroke.getWidth()-f.color.getWidth()-f.brush.getWidth()-15;f.swatches.getX()+f.swatches.getWidth()==f.brush.getX()+f.brush.getWidth()&&20>Math.abs(f.swatches.getY()-f.brush.getY())&&f.swatches.setLocation(f.brush.getX()-f.swatches.getWidth()-(R?5:1),0);f.layers.getY()+f.layers.getHeight()>J.height&&f.layers.setHeight(Math.max(J.height-f.layers.getY(),200))};
this.arrangePalettes=function(){var J=g();if(d.getSmallScreenMode())f.tool.setLocation(0,0),f.misc.setLocation(f.tool.getX()+f.tool.getWidth()+1,0),f.brush.setLocation(J.width-f.brush.getWidth()-15,f.misc.getY()+f.misc.getHeight()+1),f.textures.setWidth(J.width-f.textures.getX()),f.layers.setLocation(f.brush.getX()+f.brush.getWidth()-f.layers.getWidth(),f.textures.getY()-f.layers.getHeight()),f.layers.setHeight(f.textures.getY()-330-1),f.stroke.setLocation(f.misc.getX(),f.misc.getY()+f.misc.getHeight()+
1),f.swatches.setLocation(f.stroke.getX(),f.stroke.getY()+f.stroke.getHeight()+1);else{var L=0<J.width-f.tool.getWidth()-f.misc.getWidth()-f.stroke.getWidth()-f.color.getWidth()-f.brush.getWidth()-15;f.brush.setLocation(J.width-f.brush.getWidth()-15,0);var R=f.brush.getY()+f.brush.getHeight();R=300<J.height-R?R+2:R;f.layers.setSize(f.brush.getWidth()+(L?30:0),J.height-R);f.layers.setLocation(f.brush.getX()+f.brush.getWidth()-f.layers.getWidth(),R);f.tool.setLocation(0,0);f.misc.setLocation(f.tool.getX()+
f.tool.getWidth()+(L?5:1),0);L?f.stroke.setLocation(f.misc.getX()+f.misc.getWidth()+(L?5:1),0):f.stroke.setLocation(f.misc.getX(),f.misc.getY()+f.misc.getHeight()+1);f.swatches.setLocation(Math.max(f.brush.getX()-f.swatches.getWidth()-(L?5:1),f.tool.getX()+f.tool.getWidth()),0);f.textures.setWidth(Math.min(f.layers.getX()-f.textures.getX(),490))}f.textures.setLocation(f.color.getX()+f.color.getWidth()+4,J.height-f.textures.getHeight());f.color.setLocation(0,Math.max(f.tool.getY()+f.tool.getHeight(),
J.height-f.color.getHeight()))};d.on("smallScreen",function(J){if(J)for(var L in f)f[L].toggleCollapse(J&&(!(L in n)||n[L]))});this.getElement=function(){return y};y.className="chickenpaint-palettes";for(var P in f){var x=f[P],H=x.getElement();x.on("paletteVisChange",function(){m(this,!1)});P in u&&x.setCollapseDownwards(!0);H.setAttribute("data-paletteName",P);t.push(H)}for(var I in f)u=f[I].getElement(),y.appendChild(u)}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var v=z(l("jquery")),
D=z(l("wolfy87-eventemitter")),c=z(l("./CPToolPalette.js")),e=z(l("./CPMiscPalette.js")),w=z(l("./CPStrokePalette.js")),a=z(l("./CPColorPalette.js")),k=z(l("./CPBrushPalette.js")),r=z(l("./CPLayersPalette.js")),q=z(l("./CPTexturePalette.js")),b=z(l("./CPSwatchesPalette.js"));h.prototype=Object.create(D.default.prototype);h.prototype.constructor=h;M.exports=C.default},{"./CPBrushPalette.js":25,"./CPColorPalette.js":28,"./CPLayersPalette.js":35,"./CPMiscPalette.js":38,"./CPStrokePalette.js":46,"./CPSwatchesPalette.js":47,
"./CPTexturePalette.js":49,"./CPToolPalette.js":50,jquery:265,"wolfy87-eventemitter":284}],41:[function(l,M,C){function z(D){return D&&D.__esModule?D:{default:D}}function h(D){function c(){var y=D?(0,v.default)(e).height():(0,v.default)(e).width();m=b/(r-k)*y;y=(q-k)/(r-k)*(y-m);a.style[D?"height":"width"]=m+"px";w.style[D?"height":"width"]=m+"px";w.style[D?"top":"left"]=y+"px"}var e=document.createElement("div"),w=document.createElement("div"),a=document.createElement("div"),k=0,r=1,q=0,b=1,d=10,
g=!1,m=1,f=!1,n,u=this;this.setValues=function(y,E,t,G){q=y;b=E;k=t;r=G;c()};this.setBlockIncrement=function(y){d=y};this.setUnitIncrement=function(y){};this.getElement=function(){return e};this.getValueIsAdjusting=function(){return g};e.className="chickenpaint-scrollbar "+(D?"chickenpaint-scrollbar-vertical":"chickenpaint-scrollbar-horizontal");w.className="chickenpaint-scrollbar-handle";w.setAttribute("touch-action","none");a.className="chickenpaint-scrollbar-handle-inner";w.appendChild(a);e.appendChild(w);
w.addEventListener("pointerdown",function(y){y.stopPropagation();n=D?y.pageY-(0,v.default)(e).offset().top:y.pageX-(0,v.default)(e).offset().left;w.setPointerCapture(y.pointerId);(0,v.default)(w).addClass("dragging");f=!0});w.addEventListener("pointermove",function(y){if(f){g=!0;var E=D?(0,v.default)(e).height():(0,v.default)(e).width();y=D?y.pageY-(0,v.default)(e).offset().top:y.pageX-(0,v.default)(e).offset().left;q+=(y-n)*(r-k)/(E-m);q=Math.min(Math.max(q,k),r);n=y;u.emitEvent("valueChanged",[q]);
c();g=!1}});w.addEventListener("pointerup",function(y){y.stopPropagation();if(f){try{w.releasePointerCapture(y.pointerId)}catch(E){}(0,v.default)(w).removeClass("dragging");f=!1}});w.addEventListener("click",function(y){y.stopPropagation()});e.addEventListener("click",function(y){if(this==e){y=D?y.pageY-(0,v.default)(e).offset().top:y.pageX-(0,v.default)(e).offset().left;var E=parseInt(w.style[D?"top":"left"],10);q=y<E?q-d:q+d;u.emitEvent("valueChanged",[q]);c()}})}Object.defineProperty(C,"__esModule",
{value:!0});C.default=h;var v=z(l("jquery"));l=z(l("wolfy87-eventemitter"));h.prototype=Object.create(l.default.prototype);h.prototype.constructor=h;M.exports=C.default},{jquery:265,"wolfy87-eventemitter":284}],42:[function(l,M,C){function z(e){return e&&e.__esModule?e:{default:e}}function h(e,w,a){var k=(0,v.default)('<div class="modal fade chickenpaint-send-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content" data-stage="saving">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,c._)("Saving drawing..."),
'</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-saving-progress-message">').concat((0,c._)("Preparing your drawing to be saved, please wait..."),'</p>\n                            <pre class="chickenpaint-saving-error-message pre-scrollable"></pre>\n                            <div class="progress">\n                                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>\n                            </div>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light chickenpaint-send-cancel" data-dismiss="modal">').concat((0,c._)("Cancel"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-not-previously-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">').concat((0,c._)("Drawing saved!"),'</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,c._)("Your drawing has been saved, would you like to post it to the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-dismiss="modal">').concat((0,c._)("Yes, post it now"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-dismiss="modal">').concat((0,c._)("No, keep drawing"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-exit" data-dismiss="modal">').concat((0,c._)("No, quit and I'll finish it later"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-already-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,c._)("Your drawing has been saved, would you like to view it on the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-dismiss="modal">').concat((0,c._)("Yes, view the post"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-dismiss="modal">').concat((0,c._)("No, keep drawing"),'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-redirect" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,c._)("Your drawing has been saved, redirecting you to view your new post now..."),
"</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),r=(0,v.default)(".chickenpaint-saving-progress-message",k),q=(0,v.default)(".chickenpaint-saving-error-message",k),b=(0,v.default)(".progress-bar",k),d=this;a.on("savingProgress",function(g,m){g*=100;r.text(m);(0,v.default)(b).attr("aria-valuenow",g).css("width",g+"%")});a.on("savingComplete",function(){(0,v.default)(".modal-content[data-stage='saving']",k).hide();e.isActionSupported("CPContinue")?
e.isActionSupported("CPExit")?(0,v.default)(".modal-content[data-stage='success-not-previously-posted']",k).show():(0,v.default)(".modal-content[data-stage='success-already-posted']",k).show():(0,v.default)(".modal-content[data-stage='success-redirect']",k).show()});a.on("savingFailure",function(g){b.addClass("progress-bar-danger");var m=(0,c._)("Sorry, your drawing could not be saved, please try again later.");g&&(g=g.replace(/^CHIBIERROR\s*/,""),0<g.length&&(m+="<br><br>The error returned from the server was:",
q.text(g).show()),r.html(m))});(0,v.default)(".chickenpaint-post-drawing",k).on("click",function(){e.actionPerformed({action:"CPPost"})});(0,v.default)(".chickenpaint-exit",k).toggle(e.isActionSupported("CPExit")).on("click",function(){alert("When you want to come back and finish your drawing, just click the 'new drawing' button again and you can choose to continue this drawing.");e.actionPerformed({action:"CPExit"})});(0,v.default)(".chickenpaint-send-cancel",k).on("click",function(){a.cancel()});
k.on("hidden.bs.modal",function(g){k.remove()});k.modal({show:!1});k.on("shown.bs.modal",function(){d.emitEvent("shown")});k.data("bs.modal").$body=(0,v.default)(w);w.appendChild(k[0]);this.show=function(){k.modal("show")}}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var v=z(l("jquery")),D=z(l("wolfy87-eventemitter")),c=l("../languages/lang.js");h.prototype=Object.create(D.default.prototype);h.prototype.contructor=h;M.exports=C.default},{"../languages/lang.js":54,jquery:265,"wolfy87-eventemitter":284}],
43:[function(l,M,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(h){var v=(0,z.default)('<div class="modal fade chickenpaint-shortcuts-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog modal-lg">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Shortcuts</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>\n                                Many of the menu options and painting tools have keyboard shortcuts which are\n                                written next to them or appear when you hover.\n                            </p>\n                            <p>\n                                Here are some other shortcuts which are not as obvious!\n                            </p>\n                            <div class="chickenpaint-shortcuts-sections">\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Color swatches palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Use as the drawing color\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right</span>\n                                                </dt>\n                                                <dd>\n                                                    Remove or replace a color swatch\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Line drawing mode</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Snap line to nearest 45 degrees\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Painting tools</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">1</span> - <span class="chickenpaint-shortcut-key">9</span> , <span class="chickenpaint-shortcut-key">0</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush opacity\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">[</span> , <span class="chickenpaint-shortcut-key">]</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush size\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Brush palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right drag</span>\n                                                </dt>\n                                                <dd>\n                                                    Adjust brush sliders more precisely\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Drawing canvas</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Middle</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Space</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Move the canvas around\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="fa fa-mouse-pointer"></span> Middle</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="chickenpaint-shortcut-key">Space</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Rotate the canvas\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Sample the color under the cursor\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Layers palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Double click</span>\n                                                </dt>\n                                                <dd>\n                                                    Rename layer\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ');
v.on("hidden.bs.modal",function(D){v.remove()});v.modal({show:!1});v.data("bs.modal").$body=(0,z.default)(h);h.appendChild(v[0]);this.show=function(){v.modal("show")}};var z=function(h){return h&&h.__esModule?h:{default:h}}(l("jquery"));M.exports=C.default},{jquery:265}],44:[function(l,M,C){function z(e){return e&&e.__esModule?e:{default:e}}function h(e,w,a,k){function r(){var E=d.width,t=d.height,G="string"===typeof y.title?(0,c._)(y.title):y.title(y.value),P=3*window.devicePixelRatio,x=.75*d.height;
if(a)g.save(),g.fillStyle="white",g.fillRect(0,0,E,t),g.fillStyle="black",g.fillText(G,P,x),g.beginPath(),y.value>=m/2?g.rect(E/2,0,(y.value-m/2)*E/m,t):g.rect(y.value*E/m,0,(m/2-y.value)*E/m,t),g.fill(),g.clip(),g.fillStyle="white";else{var H=(y.value-e)/m;k&&(H=Math.pow(H,1/1.5));H*=E;g.save();g.save();g.fillStyle="black";g.beginPath();g.rect(0,0,H,t);g.fill();g.clip();g.fillStyle="white";g.fillText(G,P,x);g.restore();g.fillStyle="white";g.beginPath();g.rect(H,0,E,t);g.fill();g.clip();g.fillStyle=
"black"}g.fillText(G,P,x);g.restore()}function q(E){var t=(0,v.default)(d).width(),G=(0,v.default)(d).offset().left;E=(E.pageX-G)/t;k&&(E=Math.pow(Math.max(E,0),1.5));y.setValue(E*m+e)}function b(E){switch(f){case 1:q(E);break;case 2:var t=(E.pageX-n)/4;if(0!==t){t=y.value+t;var G=t|0;y.setValue(G);n=E.pageX-4*(t-G)}}}var d=document.createElement("canvas"),g=d.getContext("2d"),m=w-e,f=0,n,u=!1,y=this;this.value=void 0;this.title="";a=a||!1;this.setValue=function(E){E=~~Math.max(e,Math.min(w,E));this.value!=
E&&(this.value=E,this.emitEvent("valueChange",[this.value]),u?r():(u=!0,this.resize()))};this.getElement=function(){return d};this.resize=function(){d.width=(0,v.default)(d).width()||150;d.height=(0,v.default)(d).height()||20;1<window.devicePixelRatio&&(d.style.height=d.height+"px",d.width*=window.devicePixelRatio,d.height*=window.devicePixelRatio);g.font=.47*d.height+"pt sans-serif";r()};d.addEventListener("pointerdown",function(E){if(0===f){switch(E.button){case 0:f=1;q(E);break;case 2:f=2;n=E.pageX;
break;default:return}d.setPointerCapture(E.pointerId);d.addEventListener("pointermove",b)}});d.addEventListener("pointerup",function(E){if(0!==f){switch(f){case 1:0===E.button&&(f=0);break;case 2:2==E.button&&(f=0);break;default:return}0===f&&(d.releasePointerCapture(E.pointerId),d.removeEventListener("pointermove",b))}});d.addEventListener("contextmenu",function(E){E.preventDefault()});d.setAttribute("touch-action","none");d.className="chickenpaint-slider";"devicePixelRatio"in window||(window.devicePixelRatio=
1)}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var v=z(l("jquery")),D=z(l("wolfy87-eventemitter")),c=l("../languages/lang");h.prototype=Object.create(D.default.prototype);h.prototype.constructor=h;M.exports=C.default},{"../languages/lang":54,jquery:265,"wolfy87-eventemitter":284}],45:[function(l,M,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(z,h,v){function D(){var x=e.width/2,H=e.height/2;w.fillStyle="white";w.fillRect(0,0,e.width,e.height);if(f==m.length){var I=
q.width,J=q.height,L=Math.round(x-I/2),R=Math.round(H-J/2);w.drawImage(q,L,R);var fa=t;n||(n=document.createElement("canvas"),n.width=I,n.height=J,y=n.getContext("2d"));y.globalCompositeOperation="copy";y.drawImage(a,0,0);u||(u=document.createElement("canvas"),u.width=I,u.height=J,E=u.getContext("2d"));E.globalCompositeOperation="copy";E.drawImage(g,0,0);E.globalCompositeOperation="source-in";E.drawImage(g,0,Math.round(170*fa));y.globalCompositeOperation="source-over";y.drawImage(u,0,0);y.drawImage(k,
0,0);y.globalCompositeOperation="screen";y.drawImage(d,0,0);y.globalCompositeOperation="multiply";y.drawImage(b,0,0);w.globalAlpha=.88;w.drawImage(n,L,R);w.globalAlpha=1;w.drawImage(r,L,R);H=Math.round(H+J/2+2)}if(""!=G)for(w.fillStyle="black",I=G.split("\n"),J=0;J<I.length;J++)L=I[J],R=w.measureText(L).width,H+=28,w.fillText(L,x-R/2,H)}function c(){e.width=e.clientWidth;e.height=e.clientHeight;w.font="14pt sans-serif";D()}var e=document.createElement("canvas"),w=e.getContext("2d"),a=new Image,k=
new Image,r=new Image,q=new Image,b=new Image,d=new Image,g=new Image,m=[a,k,r,q,b,d,g],f=0,n,u,y,E,t=0,G="";v+="splash/";for(var P=0;P<m.length;P++)m[P].onload=function(){f++;f==m.length&&D()};a.src=v+"cup.png";d.src=v+"highlights.png";k.src=v+"lid.png";r.src=v+"lines.png";b.src=v+"shading.png";g.src=v+"smoothie.png";q.src=v+"text.png";h.on("loadingProgress",function(x,H){t=x;G=H;D()});h.on("loadingFailure",function(x){t=0;G=x;D()});h.on("loadingComplete",function(){window.removeEventListener("resize",
c);z.removeChild(e)});window.addEventListener("resize",c);e.className="chickenpaint-splash-screen";z.appendChild(e);c()};M.exports=C.default},{}],46:[function(l,M,C){function z(w){return w&&w.__esModule?w:{default:w}}function h(w){D.default.call(this,w,"stroke","Stroke");var a=this,k=[{className:"chickenpaint-tool-freehand",command:"CPFreeHand",toolTip:(0,e._)("Free-hand"),selected:!0},{className:"chickenpaint-tool-line",command:"CPLine",toolTip:(0,e._)("Straight line")},{className:"chickenpaint-tool-bezier",
command:"CPBezier",toolTip:(0,e._)("Bezier curve")}],r=a.getBodyElement();(function(){var q=document.createElement("ul");q.className="chickenpaint-stroke-tools list-unstyled";for(var b in k){var d=k[b],g=document.createElement("li"),m=document.createElement("div");g.className="chickenpaint-toolbar-button "+d.className;g.setAttribute("data-buttonIndex",b);g.setAttribute("title",d.toolTip);d.selected&&(g.className+=" selected");m.className="chickenpaint-toolbar-button-icon";g.appendChild(m);q.appendChild(g)}(0,v.default)(q).on("click",
"li",function(f){f=k[parseInt(this.getAttribute("data-buttonIndex"),10)];(0,v.default)("li",q).removeClass("selected");(0,v.default)(this).addClass("selected");w.actionPerformed({action:f.command});a.userIsDoneWithUs()});r.appendChild(q)})();w.on("toolChange",function(q,b){(0,v.default)(".chickenpaint-tool-freehand",r).toggleClass("selected",b.strokeMode==c.default.STROKE_MODE_FREEHAND);(0,v.default)(".chickenpaint-tool-line",r).toggleClass("selected",b.strokeMode==c.default.STROKE_MODE_LINE);(0,v.default)(".chickenpaint-tool-bezier",
r).toggleClass("selected",b.strokeMode==c.default.STROKE_MODE_BEZIER)})}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var v=z(l("jquery")),D=z(l("./CPPalette.js")),c=z(l("../engine/CPBrushInfo.js")),e=l("../languages/lang");h.prototype=Object.create(D.default.prototype);h.prototype.constructor=h;M.exports=C.default},{"../engine/CPBrushInfo.js":8,"../languages/lang":54,"./CPPalette.js":39,jquery:265}],47:[function(l,M,C){function z(k){return k&&k.__esModule?k:{default:k}}function h(k){function r(E){var t=
document.createElement("div"),G=document.createElement("a"),P=document.createElement("ul"),x=document.createElement("a"),H=document.createElement("a"),I=this;this.getElement=function(){return t};this.setColor=function(J){G.setAttribute("data-color",J);var L=G.style;for(J=""+Number(J).toString(16);6>J.length;)J="0"+J;L.backgroundColor="#"+J};this.setColor(E);G.href="#";G.className="chickenpaint-color-swatch dropdown-toggle";G.setAttribute("data-toggle","dropdown");x.className="dropdown-item";x.href=
"#";x.innerHTML=(0,a._)("Remove");x.addEventListener("click",function(J){J.preventDefault();(0,v.default)(t).remove();m=!0});H.className="dropdown-item";H.href="#";H.innerHTML=(0,a._)("Replace with current color");H.addEventListener("click",function(J){J.preventDefault();I.setColor(k.getCurColor().getRgb());m=!0});P.className="dropdown-menu";P.appendChild(x);P.appendChild(H);t.className="chickenpaint-color-swatch-wrapper";t.appendChild(G);t.appendChild(P);(0,v.default)(t).on("show.bs.dropdown",function(){var J=
(0,v.default)(this).find(".dropdown-toggle");(0,v.default)(this).find(".dropdown-menu").css({top:J.position().top+J.outerHeight(!0)+"px",left:J.position().left+"px"})})}function q(E){E=new r(E);f.appendChild(E.getElement())}function b(){u.onchange=function(){var E=this.files;if(!(1>E.length)){E=E[0];var t=new FileReader;t.onload=function(){var G=(new w.default).read(this.result);null!=G&&0<G.length?y.setSwatches(G):alert((0,a._)("The swatches could not be read, did you select an .aco file?"))};t.readAsArrayBuffer(E)}};
u.click()}function d(E){var t=document.createElement("span");t.className="fa fa-"+E;return t}c.default.call(this,k,"swatches","Color swatches");var g=[16777215,0,16711680,65280,255,16776960],m=!1,f=document.createElement("ul"),n=document.createElement("div"),u,y=this;this.getSwatches=function(){for(var E=(0,v.default)(".chickenpaint-color-swatch",f),t=Array(E.length),G=0;G<E.length;G++)t[G]=parseInt(E.get(G).getAttribute("data-color"),10);return t};this.setSwatches=function(E){for(;f.lastChild;)f.removeChild(f.lastChild);
for(var t=0;t<E.length;t++)q(E[t]);m=!0};this.isModified=function(){return m};(function(){f.className="chickenpaint-color-swatches list-unstyled";for(var E=0;E<g.length;E++)f.appendChild((new r(g[E])).getElement());f.addEventListener("click",function(t){var G=t.target;/chickenpaint-color-swatch/.test(G.className)&&0==t.button&&void 0!==G.getAttribute("data-color")&&(k.setCurColor(new e.default(parseInt(G.getAttribute("data-color"),10))),t.stopPropagation(),t.preventDefault(),y.userIsDoneWithUs())});
f.addEventListener("contextmenu",function(t){var G=t.target;/chickenpaint-color-swatch/.test(G.className)&&(t.preventDefault(),(0,v.default)(G).dropdown("toggle").off("click.bs.dropdown"),(0,v.default)(document).on("click",function H(x){"button"in x&&0!==x.button||((0,v.default)(G).closest(".chickenpaint-color-swatch-wrapper").hasClass("show")&&(0,v.default)(G).closest(".dropdown-toggle").dropdown("toggle"),(0,v.default)(this).off("click",H))}))})})();this.getBodyElement().appendChild(f);(function(){var E=
document.createElement("button"),t=document.createElement("button"),G=document.createElement("div"),P=document.createElement("a"),x=document.createElement("a");t.type="button";t.title=(0,a._)("Add the current brush color as a new swatch");t.className="btn chickenpaint-small-toolbar-button chickenpaint-color-swatch-add";t.appendChild(d("plus"));E.type="button";E.className="btn dropdown-toggle chickenpaint-small-toolbar-button chickenpaint-color-swatch-settings";E.setAttribute("data-toggle","dropdown");
E.appendChild(d("cog"));P.className="dropdown-item";P.href="#";P.innerHTML=(0,a._)("Save swatches to your computer...");P.addEventListener("click",function(J){J.preventDefault();J=(new w.default).write(y.getSwatches());J=new Blob([J],{type:"application/octet-stream"});D.default.saveAs(J,"oekakiswatches.aco")});x.className="dropdown-item";x.href="#";x.innerHTML=(0,a._)("Load swatches from your computer...");x.addEventListener("click",function(J){J.preventDefault();b()});G.className="dropdown-menu";
G.appendChild(P);G.appendChild(x);var H=document.createElement("div");H.className="btn-group dropright";H.appendChild(E);H.appendChild(G);(0,v.default)(E).dropdown();var I=function R(L){"button"in L&&0!==L.button||((0,v.default)(H).hasClass("show")&&(0,v.default)(E).dropdown("toggle"),(0,v.default)(this).off("click",R))};(0,v.default)(H).on("show.bs.dropdown",function(){(0,v.default)(document).on("click",I)});t.addEventListener("click",function(L){q(k.getCurColor().getRgb());m=!0});n.className="chickenpaint-color-swatches-buttons";
window.File&&window.FileReader&&window.FileList&&window.Blob&&(u=document.createElement("input"),u.type="file",u.multiple=!1,u.style.display="none",n.appendChild(H),n.appendChild(u));n.appendChild(t)})();this.getBodyElement().appendChild(n)}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var v=z(l("jquery")),D=z(l("file-saver")),c=z(l("./CPPalette.js")),e=z(l("../util/CPColor.js")),w=z(l("../util/AdobeColorTable.js")),a=l("../languages/lang");h.prototype=Object.create(c.default.prototype);
h.prototype.constructor=h;M.exports=C.default},{"../languages/lang":54,"../util/AdobeColorTable.js":55,"../util/CPColor.js":58,"./CPPalette.js":39,"file-saver":264,jquery:265}],48:[function(l,M,C){function z(D){return D&&D.__esModule?D:{default:D}}Object.defineProperty(C,"__esModule",{value:!0});C.default=function(D){var c=(0,h.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog" role="document">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing tablet support</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-tablet-there-are-two-options">\n                                There are two ways you could use your tablet\'s pen pressure support with ChickenPaint.\n                            </p>\n                            <div class="chickenpaint-tablet-support chickenpaint-wacom-support">\n                                <h5>\n                                    Plugin for Wacom tablets\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-internet-explorer"></span>\n                                        IE 10, 11\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (32-bit only)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-safari"></span>\n                                        Safari\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-opera"></span>\n                                        Opera\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-installed">\n                                    The plugin for Wacom tablets doesn\'t seem to be installed in your browser yet.\n                                </p>\n                                <p class="chickenpaint-not-installed">\n                                    Please make sure that you\'ve installed the latest drivers for your tablet from the \n                                    <a href="http://www.wacom.com/en-us/support/product-support/drivers" target="_blank">Wacom drivers page</a>,\n                                    then restart your browser.\n                                </p>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t support the Wacom tablet plugin, please \n                                    try one of the browsers listed above instead.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    The Wacom tablet plugin is installed and working.\n                                </p>\n                            </div>\n                            <div class="chickenpaint-tablet-support chickenpaint-pointerevents-support">\n                                <h5>\n                                    Built-in support for most tablets.\n                                    <small>macOS, Windows 8 or newer</small>\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-internet-explorer"></span>\n                                        IE (Windows 8)\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-edge"></span>\n                                        Edge (Windows 10)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (<a href="https://github.com/thenickdude/chickenpaint/blob/master/help/Firefox pressure support.md" target="_blank">help <i class="fa fa-external-link-alt"></i></a>)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-chrome"></span>\n                                        Chrome\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t have built-in support for drawing tablets, please try\n                                    one of the other browsers listed above.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    Your browser has built-in support for drawing tablets!\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n       '),
e=(0,h.default)(".chickenpaint-wacom-support",c),w=(0,h.default)(".chickenpaint-pointerevents-support",c),a=(0,h.default)(".chickenpaint-tablet-there-are-two-options",c),k=v.default.getRef().isTabletPresent(),r=!!window.hasNativePointerEvents;e.toggleClass("supported",k);k?(w.hide(),a.hide()):((/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent))&&e.addClass("not-supported"),r&&(e.hide(),a.hide()));w.toggleClass("supported",
r);w.toggleClass("not-supported",!r);c.modal({show:!1});c.data("bs.modal").$body=(0,h.default)(D);D.appendChild(c[0]);this.show=function(){c.modal("show")}};var h=z(l("jquery")),v=z(l("../util/CPWacomTablet.js"));M.exports=C.default},{"../util/CPWacomTablet.js":66,jquery:265}],49:[function(l,M,C){function z(b){return b&&b.__esModule?b:{default:b}}function h(b,d){var g=document.createElement("div"),m=document.createElement("label");g.className="form-check";b.className="form-check-input";m.className=
"form-check-label";m.setAttribute("for",b.id);m.appendChild(b);m.appendChild(document.createTextNode(d));g.appendChild(b);g.appendChild(m);return g}function v(b,d,g,m,f){var n=new Image,u=[];n.onload=function(){var y=document.createElement("canvas"),E=y.getContext("2d");y.width=n.width;y.height=n.height;for(y=0;y<m;y++){E.drawImage(n,0,y*g,d,g,0,0,d,g);try{for(var t=E.getImageData(0,0,d,g),G=new w.default(d,g,8),P=0;P<d*g;P++)G.data[P]=t.data[4*P];u.push(G)}catch(x){console.log(x)}}f(u)};n.src=b}
function D(b){function d(R){for(var fa=0;fa<R.length;fa++){var ea=new y(R[fa],32,32);ea.on("click",function(){E=this.texture;u()});I.appendChild(ea.getElement())}}function g(R){for(var fa=new w.default(R,R,8),ea=1;ea<R*R;ea++)fa.data[ea]=255;return fa}function m(R){for(var fa=2*R,ea=new w.default(fa,fa,8),ua=0;ua<fa;ua++)for(var na=0;na<fa;na++)ea.data[ua+na*fa]=0==(~~(ua/R)+~~(na/R))%2?0:255;return ea}function f(R,fa){for(var ea=new w.default(fa,fa,8),ua=0;ua<fa*fa;ua++)~~(ua%fa)>=R&&(ea.data[ua]=
255);return ea}function n(R,fa){for(var ea=new w.default(fa,fa,8),ua=0;ua<fa*fa;ua++)ua/fa>=R&&(ea.data[ua]=255);return ea}function u(){if(null!=E){t=E.clone();G&&t.mirrorHorizontally();var R=new a.default;R.loadBrightnessContrast(x,H);P&&R.invert();t.applyLUT(R)}else t=null;b.getArtwork().setBrushTexture(t);null!=L&&L.updateTexture()}function y(R,fa,ea){var ua=document.createElement("canvas"),na=ua.getContext("2d"),Q=this;this.setTexture=function(pa){this.texture=pa;this.paint()};this.getElement=
function(){return ua};this.paint=function(){na.fillStyle=null!=this.texture?na.createPattern(this.texture.getAsCanvas(),"repeat"):"white";na.fillRect(0,0,ua.width,ua.height)};ua.addEventListener("click",function(){Q.emit("click")});ua.width=fa;ua.height=ea;this.setTexture(R)}k.default.call(this,b,"textures","Textures");var E,t,G=!1,P=!1,x=0,H=0,I=document.createElement("div"),J=this.getBodyElement();y.prototype=Object.create(e.default.prototype);y.prototype.constructor=y;var L=new function(){function R(){ea.checked=
P;ua.checked=G;na.setValue(100*x+100);Q.setValue(100*H+100)}var fa=document.createElement("div"),ea=document.createElement("input"),ua=document.createElement("input"),na=new r.default(0,200,!0),Q=new r.default(0,200,!0),pa=new y(null,64,64),ia=document.createElement("button");this.updateTexture=function(){ia.disabled=null==t;pa.setTexture(t)};this.getElement=function(){return fa};fa.className="chickenpaint-texture-options";fa.appendChild(pa.getElement());ia.type="button";ia.className="btn btn-light btn-sm";
ia.innerHTML=(0,q._)("Customize");var ya=function(){var va=document.createElement("div");va.className="chickenpaint-texture-controls";ea.id="chickenpaint-chk-texture-invert";ea.type="checkbox";ea.addEventListener("click",function(Qa){P=this.checked;u()});va.appendChild(h(ea,(0,q._)("Inverse")));ua.id="chickenpaint-chk-texture-mirror";ua.type="checkbox";ua.addEventListener("click",function(Qa){G=this.checked;u()});va.appendChild(h(ua,(0,q._)("Mirror")));na.title=function(Qa){return(0,q._)("Brightness")+
": "+(Qa-100)+"%"};na.on("valueChange",function(Qa){x=(Qa-100)/100;u()});va.appendChild(na.getElement());Q.title=function(Qa){return(0,q._)("Contrast")+": "+(Qa-100)+"%"};Q.on("valueChange",function(Qa){H=(Qa-100)/100;u()});va.appendChild(Q.getElement());var Ha=document.createElement("button"),qa=document.createElement("button");Ha.innerHTML="Ok";Ha.className="btn btn-primary btn-sm";Ha.type="button";Ha.addEventListener("click",function(Qa){(0,c.default)(ia).popover("hide")});va.appendChild(Ha);va.appendChild(document.createTextNode(" "));
qa.innerHTML="Reset";qa.className="btn btn-secondary btn-sm";qa.type="button";qa.addEventListener("click",function(Qa){H=x=0;P=G=!1;R();u()});va.appendChild(qa);R();return va}();(0,c.default)(ia).popover({html:!0,content:function(){return ya},trigger:"manual",container:J}).on("click",function(){(0,c.default)(this).popover("toggle")});fa.appendChild(ia);this.updateTexture()};J.appendChild(L.getElement());I.className="chickenpaint-texture-swatches";J.appendChild(I);d(function(){var R=[null],fa=new w.default(2,
2,8);fa.data[0]=255;fa.data[3]=255;R.push(fa);R.push(g(2));R.push(g(3));R.push(g(4));R.push(g(6));R.push(g(8));R.push(f(1,2));R.push(f(2,4));R.push(n(1,2));R.push(n(2,4));R.push(m(2));R.push(m(4));R.push(m(8));R.push(m(16));return R}());v(b.getResourcesRoot()+"gfx/textures32.png",32,32,2,function(R){d(R)})}Object.defineProperty(C,"__esModule",{value:!0});C.default=D;var c=z(l("jquery")),e=z(l("wolfy87-eventemitter")),w=z(l("../engine/CPGreyBmp.js")),a=z(l("../engine/CPLookUpTable.js")),k=z(l("./CPPalette.js")),
r=z(l("./CPSlider.js")),q=l("../languages/lang");D.prototype=Object.create(k.default.prototype);D.prototype.constructor=D;M.exports=C.default},{"../engine/CPGreyBmp.js":14,"../engine/CPLookUpTable.js":18,"../languages/lang":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:265,"wolfy87-eventemitter":284}],50:[function(l,M,C){function z(a){return a&&a.__esModule?a:{default:a}}function h(a){function k(d){"LI"==this.nodeName&&(d=q[parseInt(this.getAttribute("data-buttonIndex"),10)],a.actionPerformed({action:d.command}),
r.userIsDoneWithUs())}c.default.call(this,a,"tool","Tools");var r=this,q=[{className:"chickenpaint-tool-rect-selection",command:"CPRectSelection",toolTip:"Marquee",shortcut:"m",mode:e.default.M_RECT_SELECTION},{className:"chickenpaint-tool-move",command:"CPMoveTool",toolTip:"Move tool",shortcut:"v",mode:e.default.M_MOVE_TOOL},{className:"chickenpaint-tool-flood-fill",command:"CPFloodFill",toolTip:"Flood fill",shortcut:"f",mode:e.default.M_FLOODFILL},{className:"chickenpaint-tool-gradient-fill",command:"CPGradientFill",
toolTip:"Gradient fill",shortcut:"g",mode:e.default.M_GRADIENTFILL},{className:"chickenpaint-tool-color-picker",command:"CPColorPicker",toolTip:"Color picker",shortcut:"i",mode:e.default.M_COLOR_PICKER},{className:"chickenpaint-tool-blur",command:"CPBlur",toolTip:"Blur",mode:e.default.M_DRAW,tool:e.default.T_BLUR},{className:"chickenpaint-tool-pencil",command:"CPPencil",toolTip:"Pencil",shortcut:"n",mode:e.default.M_DRAW,tool:e.default.T_PENCIL},{className:"chickenpaint-tool-pen",command:"CPPen",
toolTip:"Pen",selected:!0,shortcut:"b",mode:e.default.M_DRAW,tool:e.default.T_PEN},{className:"chickenpaint-tool-airbrush",command:"CPAirbrush",toolTip:"Airbrush",mode:e.default.M_DRAW,tool:e.default.T_AIRBRUSH},{className:"chickenpaint-tool-water",command:"CPWater",toolTip:"Waterpaint",mode:e.default.M_DRAW,tool:e.default.T_WATER},{className:"chickenpaint-tool-eraser",command:"CPEraser",toolTip:"Eraser",shortcut:"e",mode:e.default.M_DRAW,tool:e.default.T_ERASER},{className:"chickenpaint-tool-soft-eraser",
command:"CPSoftEraser",toolTip:"Soft eraser",mode:e.default.M_DRAW,tool:e.default.T_SOFTERASER},{className:"chickenpaint-tool-smudge",command:"CPSmudge",toolTip:"Smudge",mode:e.default.M_DRAW,tool:e.default.T_SMUDGE},{className:"chickenpaint-tool-blender",command:"CPBlender",toolTip:"Blender",mode:e.default.M_DRAW,tool:e.default.T_BLENDER},{className:"chickenpaint-tool-dodge",command:"CPDodge",toolTip:"Dodge (tool)",shortcut:"o",mode:e.default.M_DRAW,tool:e.default.T_DODGE},{className:"chickenpaint-tool-burn",
command:"CPBurn",toolTip:"Burn (tool)",shortcut:"p",mode:e.default.M_DRAW,tool:e.default.T_BURN},{className:"chickenpaint-tool-rotate-canvas",command:"CPRotateCanvas",commandDoubleClick:"CPResetCanvasRotation",toolTip:"Rotate canvas",mode:e.default.M_ROTATE_CANVAS},{className:"chickenpaint-tool-pan-canvas",command:"CPPanCanvas",toolTip:"Grab canvas",mode:e.default.M_PAN_CANVAS}],b=document.createElement("ul");a.on("modeChange",function(d){var g=r.getBodyElement();(0,v.default)("li",g).removeClass("selected");
d==e.default.M_DRAW?(0,v.default)("li[data-tool="+a.getCurTool()+"]",g).addClass("selected"):(0,v.default)("li[data-mode="+d+"]",g).addClass("selected")});a.on("toolChange",function(d){var g=r.getBodyElement();a.getCurMode()==e.default.M_DRAW&&((0,v.default)("li",g).removeClass("selected"),(0,v.default)("li[data-tool="+d+"]",g).addClass("selected"))});(function(){var d=r.getBodyElement();b.className="chickenpaint-tools list-unstyled";for(var g in q)(function(m){var f=q[m],n=document.createElement("li"),
u=document.createElement("div");n.className="chickenpaint-toolbar-button "+f.className;n.setAttribute("data-buttonIndex",m);n.setAttribute("data-mode",f.mode);void 0!==f.tool&&n.setAttribute("data-tool",f.tool);n.title=(0,w._)(f.toolTip);f.shortcut&&(n.title+=" ("+f.shortcut.toUpperCase()+")",(0,D.default)(f.shortcut,function(){k.call(n);return!1}));f.selected&&(n.className+=" selected");u.className="chickenpaint-toolbar-button-icon";n.appendChild(u);b.appendChild(n)})(g);(0,v.default)(b).on("click",
"li",k).on("dblclick","li",function(m){m=q[parseInt(this.getAttribute("data-buttonIndex"),10)];m.commandDoubleClick&&a.actionPerformed({action:m.commandDoubleClick})});d.appendChild(b)})()}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;var v=z(l("jquery")),D=z(l("../../lib/keymaster.js")),c=z(l("./CPPalette.js")),e=z(l("../ChickenPaint.js")),w=l("../languages/lang");h.prototype=Object.create(c.default.prototype);h.prototype.constructor=h;M.exports=C.default},{"../../lib/keymaster.js":68,
"../ChickenPaint.js":1,"../languages/lang":54,"./CPPalette.js":39,jquery:265}],51:[function(l,M,C){function z(q){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},z(q)}function h(q,b){for(var d=0;d<b.length;d++){var g=b[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(q,
g.key,g)}}function v(q,b,d){b&&h(q.prototype,b);d&&h(q,d);Object.defineProperty(q,"prototype",{writable:!1});return q}function D(q,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(b&&b.prototype,{constructor:{value:q,writable:!0,configurable:!0}});Object.defineProperty(q,"prototype",{writable:!1});b&&c(q,b)}function c(q,b){c=Object.setPrototypeOf||function(d,g){d.__proto__=g;return d};return c(q,b)}function e(q){var b=
a();return function(){var d=k(q);if(b){var g=k(this).constructor;d=Reflect.construct(d,arguments,g)}else d=d.apply(this,arguments);if(!d||"object"!==z(d)&&"function"!==typeof d){if(void 0!==d)throw new TypeError("Derived constructors may only return object or undefined");d=w(this)}return d}}function w(q){if(void 0===q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;
if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}function k(q){k=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)};return k(q)}Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;var r={toolbarStyle:"new"};l=function(q){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var g=d.call(this);var m=
w(g);"toolbarStyle"in m?Object.defineProperty(m,"toolbarStyle",{value:void 0,enumerable:!0,configurable:!0,writable:!0}):m.toolbarStyle=void 0;g.setDefaults();return g}D(b,q);var d=e(b);v(b,[{key:"setDefaults",value:function(){for(var g in r)r.hasOwnProperty(g)&&this.set(g,r[g])}},{key:"load",value:function(){var g={};try{g=JSON.parse(localStorage.getItem("chickenpaint-prefs"))}catch(f){console.error(f)}g&&"object"===z(g)||(g={});for(var m in r)if(r.hasOwnProperty(m))try{this.set(m,g.hasOwnProperty(m)?
g[m]:r[m])}catch(f){console.error(f)}}},{key:"save",value:function(){try{var g=!1,m;for(m in r)if(r.hasOwnProperty(m)&&this[m]!=r[m]){g=!0;break}g?localStorage.setItem("chickenpaint-prefs",JSON.stringify({toolbarStyle:this.toolbarStyle})):localStorage.removeItem("chickenpaint-prefs")}catch(f){console.error(f)}}},{key:"set",value:function(g,m){this[g]=m;this.emitEvent(g,[m])}},{key:"get",value:function(g){return this[g]}}]);return b}(function(q){return q&&q.__esModule?q:{default:q}}(l("wolfy87-eventemitter")).default);
C.default=l;M.exports=C.default},{"wolfy87-eventemitter":284}],52:[function(l,M,C){M.exports={"Dodge (tool)":"Dodge","Burn (tool)":"Burn","Color (picker)":"Color","Color swatches (shorter)":"Swatches"}},{}],53:[function(l,M,C){M.exports={File:"\u30d5\u30a1\u30a4\u30eb","Save to my computer":"PC\u306b\u4fdd\u5b58","Post Oekaki":"\u304a\u7d75\u304b\u304d\u3092\u6295\u7a3f",Edit:"\u7de8\u96c6",Undo:"\u53d6\u308a\u6d88\u3057",Redo:"\u3084\u308a\u76f4\u3057",Cut:"\u5207\u308a\u53d6\u308a",Copy:"\u30b3\u30d4\u30fc",
"Clear history":"\u5c65\u6b74\u524a\u9664","Copy merged":"\u7d50\u5408\u30b3\u30d4\u30fc",Paste:"\u8cbc\u308a\u4ed8\u3051","Select all":"\u3059\u3079\u3066\u9078\u629e",Deselect:"\u9078\u629e\u89e3\u9664",Transform:"\u5909\u5f62",Layers:"\u30ec\u30a4\u30e4\u30fc",Duplicate:"\u8907\u88fd","Merge down":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3068\u7d50\u5408","Merge group":"\u30b0\u30eb\u30fc\u30d7\u7d50\u5408","Merge all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u7d50\u5408","Add layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0",
"Delete mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664","Delete layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664","Apply mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Apply layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Disable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u7121\u52b9\u5316","Enable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u6709\u52b9\u5316","Clip to the layer below":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3067\u30af\u30ea\u30c3\u30d4\u30f3\u30b0",
"Unclip from the layer below":"\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u89e3\u9664",Effects:"\u52b9\u679c",Clear:"\u6d88\u53bb",Fill:"\u5857\u308a\u6f70\u3057","Flip horizontal":"\u5de6\u53f3\u53cd\u8ee2","Flip vertical":"\u4e0a\u4e0b\u53cd\u8ee2",Invert:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2","Box blur...":"\u307c\u304b\u3057","Blur amount (pixels)":"\u307c\u304b\u3057\u91cf(\u30d4\u30af\u30bb\u30eb\u5358\u4f4d)","Iterations (1-8, larger gives smoother blur)":"\u53cd\u5fa9(1-8,\u5927\u304d\u3044\u307b\u3069\u307c\u304b\u3057\u304c\u6ed1\u3089\u304b)",
"Monochromatic noise":"\u5358\u8272\u30ce\u30a4\u30ba","Color noise":"\u30ab\u30e9\u30fc\u30ce\u30a4\u30ba",View:"\u8868\u793a","Full-screen mode":"\u30d5\u30eb\u30b9\u30af\u30ea\u30fc\u30f3\u30e2\u30fc\u30c9","Zoom in":"\u62e1\u5927","Zoom out":"\u7e2e\u5c0f","Zoom 100%":"100%","Smooth-out zoomed canvas":"\u30ba\u30fc\u30e0\u3092\u306a\u3081\u3089\u304b\u306b\u8868\u793a\u3059\u308b","Show grid":"\u30b0\u30ea\u30c3\u30c9\u3092\u8868\u793a","Grid options...":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a",
Palettes:"\u30d1\u30ec\u30c3\u30c8",Rearrange:"\u521d\u671f\u5316","Toggle palettes":"\u8868\u793a\u975e\u8868\u793a\u5207\u308a\u66ff\u3048","Use old icons":"\u53e4\u3044\u30a2\u30a4\u30b3\u30f3","Show tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Show color":"\u30ab\u30e9\u30fc","Show layers":"\u30ec\u30a4\u30e4\u30fc","Show misc":"\u64cd\u4f5c","Show stroke":"\u30b9\u30c8\u30ed\u30fc\u30af","Show swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Show textures":"\u30c6\u30af\u30b9\u30c1\u30e3",
"Show tools":"\u30c4\u30fc\u30eb",Help:"\u30d8\u30eb\u30d7","Tablet support":"\u30bf\u30d6\u30ec\u30c3\u30c8\u30b5\u30dd\u30fc\u30c8",Shortcuts:"\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8",About:"ChickenPaint\u306b\u3064\u3044\u3066",Misc:"\u64cd\u4f5c","Round Pixelated":"\u5186\u30d4\u30af\u30bb\u30eb","Round Hard Edge":"\u5186\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Round Soft":"\u5186\u30bd\u30d5\u30c8","Square Pixelated":"\u89d2\u30d4\u30af\u30bb\u30eb","Square Hard Edge":"\u89d2\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8",
"Color (picker)":"\u30ab\u30e9\u30fc","Tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Brush size":"\u30d6\u30e9\u30b7\u30b5\u30a4\u30ba",Opacity:"\u4e0d\u900f\u660e\u5ea6",Color:"\u8272\u88dc\u5145",Blend:"\u6df7\u8272",Spacing:"\u9593\u9694",Scattering:"\u6563\u4e71",Smoothing:"\u624b\u3076\u308c\u88dc\u6b63","Color swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Color swatches (shorter)":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8",Remove:"\u524a\u9664","Replace with current color":"\u9078\u629e\u4e2d\u306e\u8272\u306b\u7f6e\u304d\u63db\u3048",
"Save swatches to your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u306b\u4fdd\u5b58","Load swatches from your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u304b\u3089\u8aad\u307f\u8fbc\u307f","Add the current brush color as a new swatch":"\u9078\u629e\u4e2d\u306e\u8272\u3092\u8ffd\u52a0","Sample all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u53c2\u7167","Lock transparency":"\u900f\u660e\u90e8\u5206\u3092\u4fdd\u8b77",Textures:"\u30c6\u30af\u30b9\u30c1\u30e3",Customize:"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba",
Inverse:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2",Mirror:"\u5de6\u53f3\u53cd\u8ee2",Brightness:"\u8f1d\u5ea6",Contrast:"\u30b3\u30f3\u30c8\u30e9\u30b9\u30c8",Reset:"\u30ea\u30bb\u30c3\u30c8","Blending mode":"\u5408\u6210\u30e2\u30fc\u30c9",Normal:"\u901a\u5e38",Multiply:"\u4e57\u7b97",Add:"\u52a0\u7b97",Screen:"\u30b9\u30af\u30ea\u30fc\u30f3",Lighten:"\u6bd4\u8f03(\u660e)",Darken:"\u6bd4\u8f03(\u6697)",Subtract:"\u6e1b\u7b97",Dodge:"\u8986\u3044\u713c\u304d",Burn:"\u713c\u304d\u8fbc\u307f",Overlay:"\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4",
"Hard Light":"\u30cf\u30fc\u30c9\u30e9\u30a4\u30c8","Soft Light":"\u30bd\u30d5\u30c8\u30e9\u30a4\u30c8","Vivid Light":"\u30d3\u30d3\u30c3\u30c9\u30e9\u30a4\u30c8","Linear Light":"\u30ea\u30cb\u30a2\u30e9\u30a4\u30c8","Pin Light":"\u30d4\u30f3\u30e9\u30a4\u30c8",Passthrough:"\u901a\u904e",Stroke:"\u30b9\u30c8\u30ed\u30fc\u30af","Free-hand":"\u30d5\u30ea\u30fc\u30cf\u30f3\u30c9","Straight line":"\u76f4\u7dda","Bezier curve":"Bz\uff08\u30d9\u30b8\u30a7\uff09\u66f2\u7dda",Tools:"\u30c4\u30fc\u30eb",Marquee:"\u9078\u629e\u7bc4\u56f2",
"Move tool":"\u79fb\u52d5","Flood fill":"\u5857\u308a\u6f70\u3057","Gradient fill":"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3","Color picker":"\u30b9\u30dd\u30a4\u30c8","Rotate canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u56de\u8ee2","Grab canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u4f4d\u7f6e",Pencil:"\u925b\u7b46",Pen:"\u30da\u30f3",Airbrush:"\u30a8\u30a2\u30d6\u30e9\u30b7",Waterpaint:"\u6c34\u5f69",Eraser:"\u6d88\u3057\u30b4\u30e0","Soft eraser":"\u8584\u6d88\u3057",Smudge:"\u6307\u5148",
Blender:"\u6df7\u8272","Dodge (tool)":"\u8986\u3044\u713c\u304d","Burn (tool)":"\u713c\u304d\u8fbc\u307f",Blur:"\u307c\u304b\u3057","Grid options":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a","Grid size":"\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba","Rename...":"\u540d\u524d\u3092\u5909\u66f4","Add layer":"\u65b0\u898f\u30ec\u30a4\u30e4\u30fc","Delete layer":"\u30ec\u30a4\u30e4\u30fc\u524a\u9664","Add group":"\u65b0\u898f\u30b0\u30eb\u30fc\u30d7","Delete group":"\u30b0\u30eb\u30fc\u30d7\u524a\u9664",
"Add mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0",Gradient:"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210","Please enter a color in hex format":"16\u9032\u5f62\u5f0f\u3067\u8272\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\uff08#xxxxxx\u306e\u5f62\uff09",Cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",Ok:"OK",Okay:"OK",OK:"OK","Are you sure you want to send your drawing to the server and finish drawing now?":"\u304a\u7d75\u304b\u304d\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",
"Your drawing has unsaved changes! Are you sure to want to navigate away?":"\u304a\u7d75\u304b\u304d\u306b\u672a\u4fdd\u5b58\u306e\u5909\u66f4\u304c\u3042\u308a\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f","Save Oekaki":"\u4fdd\u5b58","Saving drawing...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u4e2d\u2026","Preparing your drawing to be saved, please wait...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3059\u308b\u6e96\u5099\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u2026",
"Drawing saved!":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\uff01","Your drawing has been saved, would you like to post it to the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f","Yes, post it now":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059","No, keep drawing":"\u307e\u3060\u63cf\u304d\u307e\u3059","No, quit and I'll finish it later":"\u30a2\u30d7\u30ea\u3092\u7d42\u4e86\u3057\u7d9a\u304d\u3092\u5f8c\u3067\u63cf\u304f",
"Your drawing has been saved, would you like to view it on the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f","Yes, view the post":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059\u3002","Your drawing has been saved, redirecting you to view your new post now...":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u6295\u7a3f\u5148\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002",
"Sorry, your drawing could not be saved, please try again later.":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u518d\u5ea6\u6295\u7a3f\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002"}},{}],54:[function(l,M,C){function z(b){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?
"symbol":typeof d},z(b)}function h(b){if("function"!==typeof WeakMap)return null;var d=new WeakMap,g=new WeakMap;return(h=function(m){return m?g:d})(b)}function v(b,d){if(!d&&b&&b.__esModule)return b;if(null===b||"object"!==z(b)&&"function"!==typeof b)return{default:b};if((d=h(d))&&d.has(b))return d.get(b);var g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor,f;for(f in b)if("default"!==f&&Object.prototype.hasOwnProperty.call(b,f)){var n=m?Object.getOwnPropertyDescriptor(b,f):null;n&&
(n.get||n.set)?Object.defineProperty(g,f,n):g[f]=b[f]}g.default=b;d&&d.set(b,g);return g}function D(b,d){var g="undefined"!==typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(!g){if(Array.isArray(b)||(g=c(b))||d&&b&&"number"===typeof b.length){g&&(b=g);var m=0;d=function(){};return{s:d,n:function(){return m>=b.length?{done:!0}:{done:!1,value:b[m++]}},e:function(y){throw y;},f:d}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var f=!0,n=!1,u;return{s:function(){g=g.call(b)},n:function(){var y=g.next();f=y.done;return y},e:function(y){n=!0;u=y},f:function(){try{f||null==g.return||g.return()}finally{if(n)throw u;}}}}function c(b,d){if(b){if("string"===typeof b)return e(b,d);var g=Object.prototype.toString.call(b).slice(8,-1);"Object"===g&&b.constructor&&(g=b.constructor.name);if("Map"===g||"Set"===g)return Array.from(b);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return e(b,d)}}function e(b,d){if(null==
d||d>b.length)d=b.length;for(var g=0,m=Array(d);g<d;g++)m[g]=b[g];return m}function w(b){b=b.replace(/[-_].+$/,"").toLowerCase();b in k?(r=k[b],q=b):(r=a,q="en")}Object.defineProperty(C,"__esModule",{value:!0});C._=function(b){return b in r?r[b]:b};C.currentLanguage=function(){return q};C.guessLanguage=function(){try{if("undefined"!==typeof navigator){var b=navigator.languages;Array.isArray(b)||(b=[b]);var d=D(b),g;try{for(d.s();!(g=d.n()).done;){var m=g.value,f=/^(..)([-_].+)?$/.exec(m);if(f){f[1]=
f[1].toLowerCase();if(f[1]in k){w(m);break}if("en"===f[1]){w("en");break}}}}catch(n){d.e(n)}finally{d.f()}}}catch(n){console.error(n)}};C.setLanguage=w;var a=v(l("./en.json")),k={ja:v(l("./ja.json")),en:a},r=a,q="en"},{"./en.json":52,"./ja.json":53}],55:[function(l,M,C){function z(){}Object.defineProperty(C,"__esModule",{value:!0});C.default=z;var h=function(v){return v&&v.__esModule?v:{default:v}}(l("./ArrayDataStream.js"));z.prototype.read=function(v){if(null==v)return null;v=new h.default(new Uint8Array(v));
var D=[];if(1!=v.readU16BE())return null;var c=v.readU16BE();for(var e=0;e<c;e++)if(0==v.readU16BE()){var w=255*v.readU16BE()/65535,a=255*v.readU16BE()/65535,k=255*v.readU16BE()/65535;v.readU16BE();D.push(w<<16|a<<8|k)}return D};z.prototype.write=function(v){var D=new Uint8Array(4+10*v.length);D=new h.default(D);D.writeU16BE(1);D.writeU16BE(v.length);for(var c=0;c<v.length;c++){var e=v[c];D.writeU16BE(0);D.writeU16BE(257*(e>>16&255));D.writeU16BE(257*(e>>8&255));D.writeU16BE(257*(e&255));D.writeU16BE(0)}return D.getAsDataArray()};
M.exports=C.default},{"./ArrayDataStream.js":56}],56:[function(l,M,C){function z(h,v,D){this.data=h;this.eof=!1;this.start=void 0===v?0:v;this.end=void 0===D?h.length:D;this.pos=this.start}Object.defineProperty(C,"__esModule",{value:!0});C.default=z;z.prototype.readChar=function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos++]);this.eof=!0;return-1};z.prototype.readByte=function(){if(this.pos<this.end)return this.data[this.pos++];this.eof=!0;return-1};z.prototype.readU8=z.prototype.readByte;
z.prototype.readS8=function(){var h=this.readByte();return h&128?h|4294967040:h};z.prototype.unreadChar=function(h){this.pos--};z.prototype.peekChar=function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos]);this.eof=!0;return-1};z.prototype.readString=function(h){var v=Array(h),D;for(D=0;D<h;D++)v[D]=this.readChar();return v.join("")};z.prototype.readS16=function(){var h=this.readByte(),v=this.readByte();h=h<<8|v;return h&32768?h|4294901760:h};z.prototype.readU16BE=function(){var h=
this.readByte(),v=this.readByte();return h<<8|v};z.prototype.readU16LE=function(){var h=this.readByte();return this.readByte()<<8|h};z.prototype.readU32BE=function(){var h=this.readByte(),v=this.readByte(),D=this.readByte(),c=this.readByte();return(h<<24|v<<16|D<<8|c)>>>0};z.prototype.readU32LE=function(){var h=this.readByte(),v=this.readByte(),D=this.readByte();return(this.readByte()<<24|D<<16|v<<8|h)>>>0};z.prototype.readBytes=function(h){var v=this.data.subarray(this.pos,this.pos+h);this.pos+=
h;this.pos>this.end&&(this.eof=!0);return v};z.prototype.skip=function(h){this.pos+=h;this.pos>this.end&&(this.eof=!0)};z.prototype.seek=function(h){this.pos=h};z.prototype.writeBytes=function(h){for(var v=0;v<h.length;v++)this.data[this.pos++]=h[v]};z.prototype.writeByte=function(h){this.data[this.pos++]=h};z.prototype.writeU8=z.prototype.writeByte;z.prototype.writeU16LE=function(h){this.data[this.pos++]=h;this.data[this.pos++]=h>>8};z.prototype.writeU16BE=function(h){this.data[this.pos++]=h>>8;
this.data[this.pos++]=h};z.prototype.writeU32BE=function(h){this.data[this.pos++]=h>>24;this.data[this.pos++]=h>>16;this.data[this.pos++]=h>>8;this.data[this.pos++]=h};z.prototype.writeU32LE=function(h){this.data[this.pos++]=h;this.data[this.pos++]=h>>8;this.data[this.pos++]=h>>16;this.data[this.pos++]=h>>24};z.prototype.writeDoubleBE=function(h){h=new Uint8Array((new Float64Array([h])).buffer);for(var v=h.length-1;0<=v;v--)this.writeByte(h[v])};z.prototype.writeFloatBE=function(h){h=new Uint8Array((new Float32Array([h])).buffer);
for(var v=h.length-1;0<=v;v--)this.writeByte(h[v])};z.prototype.writeString=function(h){for(var v=0;v<h.length;v++)this.data[this.pos++]=h.charCodeAt(v)};z.prototype.writeUnsignedIntBE=function(h,v){void 0===v&&(v=this.measureUnsignedInt(h));switch(v){case 5:this.writeU8(Math.floor(h/4294967296));case 4:this.writeU8(h>>24);case 3:this.writeU8(h>>16);case 2:this.writeU8(h>>8);case 1:this.writeU8(h);break;default:throw"Bad UINT size "+v;}};z.prototype.measureUnsignedInt=function(h){return 256>h?1:65536>
h?2:16777216>h?3:4294967296>h?4:5};z.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw"ArrayDataStream's pos lies beyond end of buffer";};z.prototype.EOF=-1;M.exports=C.default},{}],57:[function(l,M,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(){var z=this;this.x0=this.y0=this.x1=this.y1=this.x2=this.y2=this.x3=this.y3=0;var h,v,D,c,e,w,a,k;this.compute=function(r,
q,b){var d=1/b,g=3*d,m=g*d;d*=d*d;var f=2*m,n=6*d,u=z.x0-2*z.x1+z.x2,y=z.y0-2*z.y1+z.y2,E=3*(z.x1-z.x2)-z.x0+z.x3,t=3*(z.y1-z.y2)-z.y0+z.y3;h=z.x0;e=z.y0;v=(z.x1-z.x0)*g+u*m+E*d;w=(z.y1-z.y0)*g+y*m+t*d;D=u*f+E*n;a=y*f+t*n;c=E*n;k=t*n;r[0]=h;q[0]=e;for(g=1;g<b;g++)h+=v,e+=w,v+=D,w+=a,D+=c,a+=k,r[g]=h,q[g]=e}};M.exports=C.default},{}],58:[function(l,M,C){function z(v){if(0==v.saturation)return v.value<<16|v.value<<8|v.value;var D=v.hue/60;D-=Math.floor(D);var c=v.saturation/255,e=~~(v.value*(1-c)),
w=~~(v.value*(1-c*D));D=~~(v.value*(1-c*(1-D)));switch(~~(v.hue/60)){case 0:return v.value<<16|D<<8|e;case 1:return w<<16|v.value<<8|e;case 2:return e<<16|v.value<<8|D;case 3:return e<<16|w<<8|v.value;case 4:return D<<16|e<<8|v.value;case 5:return v.value<<16|e<<8|w;default:return 0}}function h(v){this.value=this.saturation=this.hue=this.rgb=0;this.setRgb(v||0)}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;h.prototype.getRgb=function(){return this.rgb};h.prototype.getSaturation=function(){return this.saturation};
h.prototype.getHue=function(){return this.hue};h.prototype.getValue=function(){return this.value};h.prototype.setRgbComponents=function(v,D,c){this.setRgb(v<<16|D<<8|c)};h.prototype.setRgb=function(v){this.rgb=v;var D=v>>16&255,c=v>>8&255;v&=255;this.value=Math.max(D,Math.max(c,v));var e=Math.min(D,Math.min(c,v));this.saturation=0==this.value?0:~~((this.value-e)/this.value*255);if(0==this.saturation)this.hue=0;else{var w=(this.value-D)/(this.value-e),a=(this.value-c)/(this.value-e);e=(this.value-
v)/(this.value-e);var k=0;this.value==D&&(k=e-a);this.value==c&&(k=2+w-e);this.value==v&&(k=4+a-w);k*=60;0>k&&(k+=360);this.hue=~~k}};h.prototype.setHsv=function(v,D,c){this.hue=v;this.saturation=D;this.value=c;this.rgb=z(this)};h.prototype.setHue=function(v){this.hue=v;this.rgb=z(this)};h.prototype.setSaturation=function(v){this.saturation=v;this.rgb=z(this)};h.prototype.setValue=function(v){this.value=v;this.rgb=z(this)};h.prototype.setGreyscale=function(v){this.rgb=h.greyToRGB(v);this.saturation=
this.hue=0;this.value=v};h.prototype.clone=function(){var v=new h(0);v.copyFrom(this);return v};h.prototype.copyFrom=function(v){this.rgb=v.rgb;this.hue=v.hue;this.saturation=v.saturation;this.value=v.value};h.prototype.isEqual=function(v){return this.rgb==v.rgb&&this.hue==v.hue&&this.saturation==v.saturation&&this.value==v.value};h.greyToRGB=function(v){return v|v<<8|v<<16};M.exports=C.default},{}],59:[function(l,M,C){function z(h,v,D){this.r=h;this.g=v;this.b=D}Object.defineProperty(C,"__esModule",
{value:!0});C.default=z;z.prototype.toInt=function(){return Math.max(0,Math.min(255,Math.round(255*this.r)))<<16|Math.max(0,Math.min(255,Math.round(255*this.g)))<<8|Math.max(0,Math.min(255,Math.round(255*this.b)))};z.prototype.mixWith=function(h,v){this.r=this.r*(1-v)+h.r*v;this.g=this.g*(1-v)+h.g*v;this.b=this.b*(1-v)+h.b*v};z.prototype.clone=function(){return new z(this.r,this.g,this.b)};z.createFromInt=function(h){return new z((h>>>16&255)/255,(h>>>8&255)/255,(h&255)/255)};M.exports=C.default},
{}],60:[function(l,M,C){function z(v){for(var D=["imageSmoothingEnabled","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled"],c=0;c<D.length;c++)if(D[c]in v)return D[c];return null}Object.defineProperty(C,"__esModule",{value:!0});C.isCanvasInterpolationSupported=function(){var v=(0,h.createCanvas)(0,0).getContext("2d");return!!z(v)};C.isCanvasSupported=function(){var v=(0,h.createCanvas)(0,0);return!(!v.getContext||!v.getContext("2d"))};C.isEventSupported=function(v){var D=
v in window;D||(D=document.createElement("div"),D.setAttribute(v,"return;"),D="function"==typeof D[v]);return D};C.isFlexboxSupported=function(){return("string"==typeof document.body.style.flexBasis||"string"==typeof document.body.style.msFlexDirection)&&!/Presto/.test(navigator.userAgent)};C.setCanvasInterpolation=function(v,D){var c=z(v);c&&(v[c]=D)};var h=l("./Canvas.js")},{"./Canvas.js":2}],61:[function(l,M,C){function z(h){this.points=h||[]}Object.defineProperty(C,"__esModule",{value:!0});C.default=
z;(function(h){return h&&h.__esModule?h:{default:h}})(l("./CPTransform.js"));z.prototype.clone=function(){for(var h=new z(Array(this.points.length)),v=0;v<this.points.length;v++)h.points[v]={x:this.points[v].x,y:this.points[v].y};return h};z.prototype.getTransformed=function(h){for(var v=new z(Array(this.points.length)),D=0;D<this.points.length;D++)v.points[D]=h.getTransformedPoint(this.points[D]);return v};z.prototype.getCenter=function(){for(var h=this.points[0].x,v=this.points[0].y,D=1;D<this.points.length;D++)h+=
this.points[D].x,v+=this.points[D].y;return{x:h/this.points.length,y:v/this.points.length}};z.prototype.containsPoint=function(h){var v,D=!1;var c=0;for(v=this.points.length-1;c<this.points.length;v=c++)this.points[c].y>h.y!=this.points[v].y>h.y&&h.x<(this.points[v].x-this.points[c].x)*(h.y-this.points[c].y)/(this.points[v].y-this.points[c].y)+this.points[c].x&&(D=!D);return D};M.exports=C.default},{"./CPTransform.js":64}],62:[function(l,M,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=
function(){var z,h=!1;this.nextGaussian=function(){if(h)return h=!1,z;do{var v=2*Math.random()-1;var D=2*Math.random()-1;var c=v*v+D*D}while(1<=c||0==c);c=Math.sqrt(-2*Math.log(c)/c);z=D*c;h=!0;return v*c}};M.exports=C.default},{}],63:[function(l,M,C){function z(v){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},
z(v)}function h(v,D,c,e){this.left=v;this.top=D;this.right=c;this.bottom=e}Object.defineProperty(C,"__esModule",{value:!0});C.default=h;h.prototype.makeEmpty=function(){this.bottom=this.right=this.top=this.left=0};h.prototype.union=function(v){this.isEmpty()?this.set(v):v.isEmpty()||(this.left=Math.min(this.left,v.left),this.top=Math.min(this.top,v.top),this.right=Math.max(this.right,v.right),this.bottom=Math.max(this.bottom,v.bottom))};h.prototype.getUnion=function(v){var D=this.clone();D.union(v);
return D};h.prototype.getIntersection=function(v){return new h(Math.max(this.left,v.left),Math.max(this.top,v.top),Math.min(this.right,v.right),Math.min(this.bottom,v.bottom))};h.prototype.clipTo=function(v){this.isEmpty()||(v.isEmpty()?this.makeEmpty():(this.left=Math.min(Math.max(this.left,v.left),v.right),this.top=Math.min(Math.max(this.top,v.top),v.bottom),this.right=Math.max(Math.min(this.right,v.right),v.left),this.bottom=Math.max(Math.min(this.bottom,v.bottom),v.top)));return this};h.prototype.containsPoint=
function(v){return!(v.x<this.left||v.y<this.top||v.x>=this.right||v.y>=this.bottom)};h.prototype.isInside=function(v){return this.left>=v.left&&this.top>=v.top&&this.right<=v.right&&this.bottom<=v.bottom};h.prototype.clipSourceDest=function(v,D){D.right=D.left+v.getWidth();D.bottom=D.top+v.getHeight();this.isEmpty()||D.left>=this.right||D.top>=this.bottom||D.right<=this.left||D.bottom<=this.top?(v.makeEmpty(),D.makeEmpty()):(D.right>this.right&&(v.right-=D.right-this.right,D.right=this.right),D.bottom>
this.bottom&&(v.bottom-=D.bottom-this.bottom,D.bottom=this.bottom),D.left<this.left&&(v.left+=this.left-D.left,D.left=this.left),D.top<this.top&&(v.top+=this.top-D.top,D.top=this.top))};h.prototype.getWidth=function(){return this.right-this.left};h.prototype.getHeight=function(){return this.bottom-this.top};h.prototype.getArea=function(){return this.getWidth()*this.getHeight()};h.prototype.isEmpty=function(){return this.right<=this.left||this.bottom<=this.top};h.prototype.set=function(v){this.left=
v.left;this.top=v.top;this.right=v.right;this.bottom=v.bottom};h.prototype.clone=function(){return new h(this.left,this.top,this.right,this.bottom)};h.prototype.translate=function(v,D){this.left+=v;this.right+=v;this.top+=D;this.bottom+=D;return this};h.prototype.getTranslated=function(v,D){var c=this.clone();c.translate(v,D);return c};h.prototype.moveTo=function(v,D){this.translate(v-this.left,D-this.top)};h.prototype.equals=function(v){return this.left==v.left&&this.right==v.right&&this.top==v.top&&
this.bottom==v.bottom};h.prototype.grow=function(v,D){this.left-=v;this.right+=v;this.top-=D;this.bottom+=D};h.prototype.toString=function(){return"("+this.left+","+this.top+","+this.right+","+this.bottom+")"};h.prototype.toPoints=function(){return[{x:this.left,y:this.top},{x:this.right,y:this.top},{x:this.right,y:this.bottom},{x:this.left,y:this.bottom}]};h.prototype.roundNearest=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=
Math.round(this.bottom);return this};h.prototype.roundContain=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);return this};h.createBoundingBox=function(v){if(0===v.length)return new h(0,0,0,0);for(var D=new h(v[0].x,v[0].y,v[0].x,v[0].y),c=1;c<v.length;c++)D.left=Math.min(D.left,v[c].x),D.top=Math.min(D.top,v[c].y),D.right=Math.max(D.right,v[c].x),D.bottom=Math.max(D.bottom,v[c].y);return D};h.prototype.subtract=
function(v){return h.subtract(this,v)};h.subtract=function(v,D){v instanceof h&&(v=[v]);D instanceof h&&(D=[D]);v=v.slice(0);for(var c=0;c<D.length;c++)for(var e=D[c],w=v.length,a=0;a<w;a++){var k=v[a];if(k){var r=k.getIntersection(e);if(!r.isEmpty()){var q=[];k.top<e.top&&q.push(new h(k.left,k.top,k.right,r.top));k.bottom>e.bottom&&q.push(new h(k.left,r.bottom,k.right,k.bottom));k.left<e.left&&q.push(new h(k.left,r.top,r.left,r.bottom));k.right>e.right&&q.push(new h(r.right,r.top,k.right,r.bottom));
q=q.filter(function(b){return!b.isEmpty()});if(0<q.length)for(v[a]=q[0],k=1;k<q.length;k++)v.push(q[k]);else v[a]=null}}}return v.filter(function(b){return null!=b})};h.union=function(v){if(v instanceof h)v=[v];else{v=v.slice(0);for(var D=0;D<v.length;D++){var c=v[D],e=v.length;if(c)for(var w=D+1;w<e;w++){var a=v[w];if(a&&!c.getIntersection(a).isEmpty()){a=h.subtract(a,c);v[w]=a[0];for(var k=1;k<a.length;k++)v.push(a[k])}}}}return v.filter(function(r){return r&&!r.isEmpty()})};"object"==("undefined"===
typeof window?"undefined":z(window))&&(window.cpRectGarbage=new h(1.5,2.5,3.5,4.5));M.exports=C.default},{}],64:[function(l,M,C){function z(){this.setToIdentity()}Object.defineProperty(C,"__esModule",{value:!0});C.default=z;z.prototype.setToIdentity=function(){this.m=[1,0,0,1,0,0]};z.prototype.multiply=function(h){var v=this.m[1]*h.m[0]+this.m[3]*h.m[1],D=this.m[0]*h.m[2]+this.m[2]*h.m[3],c=this.m[1]*h.m[2]+this.m[3]*h.m[3],e=this.m[0]*h.m[4]+this.m[2]*h.m[5]+this.m[4],w=this.m[1]*h.m[4]+this.m[3]*
h.m[5]+this.m[5];this.m[0]=this.m[0]*h.m[0]+this.m[2]*h.m[1];this.m[1]=v;this.m[2]=D;this.m[3]=c;this.m[4]=e;this.m[5]=w};z.prototype.preMultiply=function(h){var v=h.m[1]*this.m[0]+h.m[3]*this.m[1],D=h.m[0]*this.m[2]+h.m[2]*this.m[3],c=h.m[1]*this.m[2]+h.m[3]*this.m[3],e=h.m[0]*this.m[4]+h.m[2]*this.m[5]+h.m[4],w=h.m[1]*this.m[4]+h.m[3]*this.m[5]+h.m[5];this.m[0]=h.m[0]*this.m[0]+h.m[2]*this.m[1];this.m[1]=v;this.m[2]=D;this.m[3]=c;this.m[4]=e;this.m[5]=w};z.prototype.invert=function(){var h=1/(this.m[0]*
this.m[3]-this.m[1]*this.m[2]),v=-this.m[1]*h,D=-this.m[2]*h,c=this.m[0]*h,e=h*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),w=h*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=this.m[3]*h;this.m[1]=v;this.m[2]=D;this.m[3]=c;this.m[4]=e;this.m[5]=w};z.prototype.getInverted=function(){var h=new z;h.m[0]=this.m[0];h.m[1]=this.m[1];h.m[2]=this.m[2];h.m[3]=this.m[3];h.m[4]=this.m[4];h.m[5]=this.m[5];h.invert();return h};z.prototype.rotate=function(h){var v=Math.cos(h);h=Math.sin(h);var D=this.m[1]*v+
this.m[3]*h,c=this.m[0]*-h+this.m[2]*v,e=this.m[1]*-h+this.m[3]*v;this.m[0]=this.m[0]*v+this.m[2]*h;this.m[1]=D;this.m[2]=c;this.m[3]=e};z.prototype.rotateAroundPoint=function(h,v,D){this.translate(v,D);this.rotate(h);this.translate(-v,-D)};z.prototype.translate=function(h,v){this.m[4]+=this.m[0]*h+this.m[2]*v;this.m[5]+=this.m[1]*h+this.m[3]*v};z.prototype.scale=function(h,v){this.m[0]*=h;this.m[1]*=h;this.m[2]*=v;this.m[3]*=v};z.prototype.scaleAroundPoint=function(h,v,D,c){this.translate(D,c);this.scale(h,
v);this.translate(-D,-c)};z.prototype.shear=function(h,v){var D=this.m[1]+this.m[3]*v,c=this.m[2]+this.m[0]*h;h=this.m[3]+this.m[1]*h;this.m[0]+=this.m[2]*v;this.m[1]=D;this.m[2]=c;this.m[3]=h};z.prototype.getTransformedPoint=function(h){return{x:h.x*this.m[0]+h.y*this.m[2]+this.m[4],y:h.x*this.m[1]+h.y*this.m[3]+this.m[5]}};z.prototype.transformPoints=function(h){for(var v=0;v<h.length;v++)h[v]=this.getTransformedPoint(h[v])};z.prototype.getTranslateX=function(){return this.m[4]};z.prototype.getTranslateY=
function(){return this.m[5]};z.prototype.clone=function(){var h=new z;h.m[0]=this.m[0];h.m[1]=this.m[1];h.m[2]=this.m[2];h.m[3]=this.m[3];h.m[4]=this.m[4];h.m[5]=this.m[5];return h};z.prototype.getDeterminant=function(){return this.m[0]*this.m[3]-this.m[1]*this.m[2]};z.prototype.decompose=function(){var h=this.getDeterminant(),v=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return{translate:{x:this.m[4],y:this.m[5]},rotate:Math.sign(this.m[1])*Math.acos(this.m[0]/v),scale:{x:v,y:h/v},shear:{x:Math.atan((this.m[0]*
this.m[2]+this.m[1]*this.m[3])/(v*v)),y:0}}};z.prototype.toString=function(){return"["+this.m[0].toFixed(2)+" "+this.m[2].toFixed(2)+" "+this.m[4].toFixed(2)+"]\n["+this.m[1].toFixed(2)+" "+this.m[3].toFixed(2)+" "+this.m[5].toFixed(2)+"]\n[0.00 0.00 1.00]"};Math.sign=Math.sign||function(h){h=+h;return 0===h||isNaN(h)?h:0<h?1:-1};M.exports=C.default},{}],65:[function(l,M,C){function z(h,v){this.x=h;this.y=v}Object.defineProperty(C,"__esModule",{value:!0});C.default=z;z.prototype.getLength=function(){return Math.sqrt(this.x*
this.x+this.y*this.y)};z.prototype.normalize=function(){var h=this.getLength();this.x/=h;this.y/=h;return this};z.prototype.getDotProduct=function(h){return this.x*h.x+this.y*h.y};z.prototype.scale=function(h){this.x*=h;this.y*=h;return this};z.prototype.getScaled=function(h){var v=new z(this.x,this.y);v.scale(h);return v};z.prototype.getRounded=function(){return new z(Math.round(this.x),Math.round(this.y))};z.prototype.getTruncated=function(){return new z(~~this.x,~~this.y)};z.prototype.getPerpendicular=
function(){return new z(-this.y,this.x)};z.prototype.add=function(h){this.x+=h.x;this.y+=h.y;return this};z.prototype.subtract=function(h){this.x-=h.x;this.y-=h.y;return this};z.prototype.getSum=function(h){return new z(this.x+h.x,this.y+h.y)};z.subtractPoints=function(h,v){return new z(h.x-v.x,h.y-v.y)};M.exports=C.default},{}],66:[function(l,M,C){function z(){var h=null,v,D=this;this.isPen=function(){if(h){var c=h.pointerType;return 1==c||3==c}return!1};this.getPressure=function(){return h?h.pressure:
1};this.pluginLoaded=function(){console.log("Wacom tablet support loaded!");h=v.penAPI};this.isTabletPresent=function(){return!!h};this.detectTablet=function(){if(/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent))console.log("Not attempting to load Wacom tablet plugin, since this is Chrome");else{console.log("Attempting to load Wacom tablet support...");v=document.createElement("object");if("classid"in v)v.classid="CLSID:092dfa86-5807-5a94-bf3b-5a53ba9e5308";else{var c=document.createElement("param");
c.name="onload";c.value="onWacomPluginLoaded";v.appendChild(c);v.type="application/x-wacomtabletplugin"}v.style.position="absolute";v.style.visibility="hidden";v.onload="onWacomPluginLoaded";document.body.appendChild(v);setTimeout(function(){D.isTabletPresent()||console.log("Looks like the Wacom plugin isn't installed, or failed to load.")},5E3)}}}Object.defineProperty(C,"__esModule",{value:!0});C.default=z;z.getRef=function(){null==z.instance&&(z.instance=new z);return z.instance};window.onWacomPluginLoaded=
function(){z.getRef().pluginLoaded()};M.exports=C.default},{}],67:[function(l,M,C){function z(h,v,D,c){var e,w=0;"boolean"!==typeof v&&(c=D,D=v,v=void 0);return function(){function a(){w=+new Date;D.apply(r,b)}function k(){e=void 0}var r=this,q=+new Date-w,b=arguments;c&&!e&&a();e&&clearTimeout(e);void 0===c&&q>h?a():!0!==v&&(e=setTimeout(c?k:a,void 0===c?h-q:h))}}Object.defineProperty(C,"__esModule",{value:!0});C.debounce=function(h,v,D){return void 0===D?z(h,v,!1):z(h,D,!1!==v)};C.throttle=z},{}],
68:[function(l,M,C){function z(h){for(var v={DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27," ":32,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,SHIFT:16,"[":219,"]":221,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"-":189,"=":187,"+":187,";":187},D=65;90>=D;D++){var c=String.fromCharCode(D);v[c]=D}h=h.toUpperCase();if(h in v)return v[h]}(function(h){function v(t,G){for(var P=t.length;P--;)if(t[P]===G)return P;return-1}function D(){if(0<navigator.userAgent.toLowerCase().indexOf("firefox"))return"firefox"}
function c(t){var G,P;var x=z(t.key);-1==v(u,x)&&u.push(x);if(93==x||224==x)x=91;if(x in d)for(G in d[x]=!0,m)m[G]==x&&(e[G]=!0);else{for(q in d)d[q]=t[y[q]];if(e.filter.call(this,t)&&x in b){var H=w();for(P=0;P<b[x].length;P++){var I=b[x][P];if(I.scope==H||"all"==I.scope){var J=0<I.mods.length;for(G in d)if(!d[G]&&-1<v(I.mods,+G)||d[G]&&-1==v(I.mods,+G))J=!1;(0!=I.mods.length||d[16]||d[18]||d[17]||d[91])&&!J||!1!==I.method(t,I)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&
t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}}}}function e(t,G,P){var x=a(t);void 0===P&&(P=G,G="all");for(var H=0;H<x.length;H++){var I=[];t=x[H].split("+");1<t.length&&(I=k(t),t=[t[t.length-1]]);t=t[0];t=n(t);t in b||(b[t]=[]);b[t].push({shortcut:x[H],scope:G,method:P,key:x[H],mods:I})}}function w(){return g||"all"}function a(t){t=t.replace(/\s/g,"");t=t.split(",");""==t[t.length-1]&&(t[t.length-2]+=",");return t}function k(t){t=t.slice(0,t.length-1);for(var G=0;G<t.length;G++)t[G]=
m[t[G]];return t}function r(t,G,P){t.addEventListener?t.addEventListener(G,P,!1):t.attachEvent&&t.attachEvent("on"+G,function(){P(window.event)})}var q,b={},d={16:!1,18:!1,17:!1,91:!1},g="all",m={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},f={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":function(){return"firefox"==
D()?173:189},"=":function(){return"firefox"==D()?61:187},";":186,"'":222,"[":219,"]":221,"\\":220},n=function(t){t=f[t]||t.toUpperCase().charCodeAt(0);return"function"===typeof t?t():t},u=[];for(q=1;20>q;q++)f["f"+q]=111+q;var y={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(q in m)e[q]=!1;r(document,"keydown",function(t){c(t)});r(document,"keyup",function(t){t=z(t.key);var G,P=v(u,t);0<=P&&u.splice(P,1);if(93==t||224==t)t=91;if(t in d)for(G in d[t]=!1,m)m[G]==t&&(e[G]=!1)});r(window,"focus",
function(){for(q in d)d[q]=!1;for(q in m)e[q]=!1});var E=h.key;h.key=e;h.key.setScope=function(t){g=t||"all"};h.key.getScope=w;h.key.deleteScope=function(t){var G,P;for(G in b){var x=b[G];for(P=0;P<x.length;)x[P].scope===t?x.splice(P,1):P++}};h.key.filter=function(t){t=(t.target||t.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)};h.key.isPressed=function(t){"string"==typeof t&&(t=n(t));return-1!=v(u,t)};h.key.getPressedKeyCodes=function(){return u.slice(0)};h.key.noConflict=function(){var t=
h.key;h.key=E;return t};h.key.unbind=function(t,G){var P=[],x,H;var I=a(t);for(H=0;H<I.length;H++){t=I[H].split("+");1<t.length&&(P=k(t));t=t[t.length-1];t=n(t);void 0===G&&(G=w());if(!b[t])break;for(x=0;x<b[t].length;x++){var J=b[t][x];var L;if(L=J.scope===G)a:if(J=J.mods,J.length!=P.length)L=!1;else{for(L=0;L<J.length;L++)if(J[L]!==P[L]){L=!1;break a}L=!0}L&&(b[t][x]={})}}};"undefined"!==typeof M&&(M.exports=e)})({})},{}],69:[function(l,M,C){(function(){for(var z=0,h=["ms","moz","webkit","o"],v=
0;v<h.length&&!window.requestAnimationFrame;++v)window.requestAnimationFrame=window[h[v]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h[v]+"CancelAnimationFrame"]||window[h[v]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(D,c){var e=(new Date).getTime(),w=Math.max(0,16-(e-z));c=window.setTimeout(function(){D(e+w)},w);z=e+w;return c});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(D){clearTimeout(D)})})()},{}],
70:[function(l,M,C){(function(z,h){"object"===typeof C&&"undefined"!==typeof M?h(C,l("jquery"),l("popper.js")):(z="undefined"!==typeof globalThis?globalThis:z||self,h(z.bootstrap={},z.jQuery,z.Popper))})(this,function(z,h,v){function D(X){return X&&"object"===typeof X&&"default"in X?X:{"default":X}}function c(X,Y){for(var B=0;B<Y.length;B++){var F=Y[B];F.enumerable=F.enumerable||!1;F.configurable=!0;"value"in F&&(F.writable=!0);Object.defineProperty(X,F.key,F)}}function e(X,Y,B){Y&&c(X.prototype,
Y);B&&c(X,B);Object.defineProperty(X,"prototype",{writable:!1});return X}function w(){w=Object.assign?Object.assign.bind():function(X){for(var Y=1;Y<arguments.length;Y++){var B=arguments[Y],F;for(F in B)Object.prototype.hasOwnProperty.call(B,F)&&(X[F]=B[F])}return X};return w.apply(this,arguments)}function a(X,Y){X.prototype=Object.create(Y.prototype);X.prototype.constructor=X;k(X,Y)}function k(X,Y){k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,F){B.__proto__=F;return B};return k(X,
Y)}function r(X,Y){var B=X.nodeName.toLowerCase();if(-1!==Y.indexOf(B))return-1!==ya.indexOf(B)?!(!va.test(X.nodeValue)&&!Ha.test(X.nodeValue)):!0;X=Y.filter(function(T){return T instanceof RegExp});Y=0;for(var F=X.length;Y<F;Y++)if(X[Y].test(B))return!0;return!1}function q(X,Y,B){if(0===X.length)return X;if(B&&"function"===typeof B)return B(X);X=(new window.DOMParser).parseFromString(X,"text/html");var F=Object.keys(Y),T=[].slice.call(X.body.querySelectorAll("*"));B=function(Ta,Cb){var N=T[Ta];Ta=
N.nodeName.toLowerCase();if(-1===F.indexOf(N.nodeName.toLowerCase()))return N.parentNode.removeChild(N),"continue";Cb=[].slice.call(N.attributes);var Hb=[].concat(Y["*"]||[],Y[Ta]||[]);Cb.forEach(function(bc){r(bc,Hb)||N.removeAttribute(bc.nodeName)})};for(var ra=0,Na=T.length;ra<Na;ra++)B(ra);return X.body.innerHTML}var b=D(h),d=D(v),g={TRANSITION_END:"bsTransitionEnd",getUID:function(X){do X+=~~(1E6*Math.random());while(document.getElementById(X));return X},getSelectorFromElement:function(X){var Y=
X.getAttribute("data-target");Y&&"#"!==Y||(Y=(X=X.getAttribute("href"))&&"#"!==X?X.trim():"");try{return document.querySelector(Y)?Y:null}catch(B){return null}},getTransitionDurationFromElement:function(X){if(!X)return 0;var Y=b["default"](X).css("transition-duration");X=b["default"](X).css("transition-delay");var B=parseFloat(Y),F=parseFloat(X);if(!B&&!F)return 0;Y=Y.split(",")[0];X=X.split(",")[0];return 1E3*(parseFloat(Y)+parseFloat(X))},reflow:function(X){return X.offsetHeight},triggerTransitionEnd:function(X){b["default"](X).trigger("transitionend")},
supportsTransitionEnd:function(){return!0},isElement:function(X){return(X[0]||X).nodeType},typeCheckConfig:function(X,Y,B){for(var F in B)if(Object.prototype.hasOwnProperty.call(B,F)){var T=B[F],ra=Y[F];ra=ra&&g.isElement(ra)?"element":null===ra||"undefined"===typeof ra?""+ra:{}.toString.call(ra).match(/\s([a-z]+)/i)[1].toLowerCase();if(!(new RegExp(T)).test(ra))throw Error(X.toUpperCase()+': Option "'+(F+'" provided type "'+ra+'" but expected type "')+(T+'".'));}},findShadowRoot:function(X){return document.documentElement.attachShadow?
"function"===typeof X.getRootNode?(X=X.getRootNode(),X instanceof ShadowRoot?X:null):X instanceof ShadowRoot?X:X.parentNode?g.findShadowRoot(X.parentNode):null:null},jQueryDetection:function(){if("undefined"===typeof b["default"])throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var X=b["default"].fn.jquery.split(" ")[0].split(".");if(2>X[0]&&9>X[1]||1===X[0]&&9===X[1]&&1>X[2]||4<=X[0])throw Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0");
}};g.jQueryDetection();b["default"].fn.emulateTransitionEnd=function(X){var Y=this,B=!1;b["default"](this).one(g.TRANSITION_END,function(){B=!0});setTimeout(function(){B||g.triggerTransitionEnd(Y)},X);return this};b["default"].event.special[g.TRANSITION_END]=function(){return{bindType:"transitionend",delegateType:"transitionend",handle:function(X){if(b["default"](X.target).is(this))return X.handleObj.handler.apply(this,arguments)}}}();var m=b["default"].fn.alert,f=function(){function X(B){this._element=
B}var Y=X.prototype;Y.close=function(B){var F=this._element;B&&(F=this._getRootElement(B));this._triggerCloseEvent(F).isDefaultPrevented()||this._removeElement(F)};Y.dispose=function(){b["default"].removeData(this._element,"bs.alert");this._element=null};Y._getRootElement=function(B){var F=g.getSelectorFromElement(B),T=!1;F&&(T=document.querySelector(F));T||=b["default"](B).closest(".alert")[0];return T};Y._triggerCloseEvent=function(B){var F=b["default"].Event("close.bs.alert");b["default"](B).trigger(F);
return F};Y._removeElement=function(B){var F=this;b["default"](B).removeClass("show");if(b["default"](B).hasClass("fade")){var T=g.getTransitionDurationFromElement(B);b["default"](B).one(g.TRANSITION_END,function(ra){return F._destroyElement(B,ra)}).emulateTransitionEnd(T)}else this._destroyElement(B)};Y._destroyElement=function(B){b["default"](B).detach().trigger("closed.bs.alert").remove()};X._jQueryInterface=function(B){return this.each(function(){var F=b["default"](this),T=F.data("bs.alert");
T||(T=new X(this),F.data("bs.alert",T));if("close"===B)T[B](this)})};X._handleDismiss=function(B){return function(F){F&&F.preventDefault();B.close(this)}};e(X,null,[{key:"VERSION",get:function(){return"4.6.2"}}]);return X}();b["default"](document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',f._handleDismiss(new f));b["default"].fn.alert=f._jQueryInterface;b["default"].fn.alert.Constructor=f;b["default"].fn.alert.noConflict=function(){b["default"].fn.alert=m;return f._jQueryInterface};var n=
b["default"].fn.button,u=function(){function X(B){this._element=B;this.shouldAvoidTriggerChange=!1}var Y=X.prototype;Y.toggle=function(){var B=!0,F=!0,T=b["default"](this._element).closest('[data-toggle="buttons"]')[0];if(T){var ra=this._element.querySelector('input:not([type="hidden"])');if(ra){"radio"===ra.type&&(ra.checked&&this._element.classList.contains("active")?B=!1:(F=T.querySelector(".active"))&&b["default"](F).removeClass("active"));if(B){if("checkbox"===ra.type||"radio"===ra.type)ra.checked=
!this._element.classList.contains("active");this.shouldAvoidTriggerChange||b["default"](ra).trigger("change")}ra.focus();F=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(F&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),B&&b["default"](this._element).toggleClass("active"))};Y.dispose=function(){b["default"].removeData(this._element,"bs.button");this._element=null};X._jQueryInterface=function(B,F){return this.each(function(){var T=
b["default"](this),ra=T.data("bs.button");ra||(ra=new X(this),T.data("bs.button",ra));ra.shouldAvoidTriggerChange=F;if("toggle"===B)ra[B]()})};e(X,null,[{key:"VERSION",get:function(){return"4.6.2"}}]);return X}();b["default"](document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(X){var Y=X.target,B=Y;b["default"](Y).hasClass("btn")||(Y=b["default"](Y).closest(".btn")[0]);if(!Y||Y.hasAttribute("disabled")||Y.classList.contains("disabled"))X.preventDefault();else{var F=Y.querySelector('input:not([type="hidden"])');
F&&(F.hasAttribute("disabled")||F.classList.contains("disabled"))?X.preventDefault():"INPUT"!==B.tagName&&"LABEL"===Y.tagName||u._jQueryInterface.call(b["default"](Y),"toggle","INPUT"===B.tagName)}}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(X){var Y=b["default"](X.target).closest(".btn")[0];b["default"](Y).toggleClass("focus",/^focus(in)?$/.test(X.type))});b["default"](window).on("load.bs.button.data-api",function(){for(var X=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),
Y=0,B=X.length;Y<B;Y++){var F=X[Y],T=F.querySelector('input:not([type="hidden"])');T.checked||T.hasAttribute("checked")?F.classList.add("active"):F.classList.remove("active")}X=[].slice.call(document.querySelectorAll('[data-toggle="button"]'));Y=0;for(B=X.length;Y<B;Y++)F=X[Y],"true"===F.getAttribute("aria-pressed")?F.classList.add("active"):F.classList.remove("active")});b["default"].fn.button=u._jQueryInterface;b["default"].fn.button.Constructor=u;b["default"].fn.button.noConflict=function(){b["default"].fn.button=
n;return u._jQueryInterface};var y=b["default"].fn.carousel,E={interval:5E3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},t={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},G={TOUCH:"touch",PEN:"pen"},P=function(){function X(B,F){this._activeElement=this._interval=this._items=null;this._isSliding=this._isPaused=!1;this.touchTimeout=null;this.touchDeltaX=this.touchStartX=0;this._config=this._getConfig(F);this._element=
B;this._indicatorsElement=this._element.querySelector(".carousel-indicators");this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints;this._pointerEvent=!(!window.PointerEvent&&!window.MSPointerEvent);this._addEventListeners()}var Y=X.prototype;Y.next=function(){this._isSliding||this._slide("next")};Y.nextWhenVisible=function(){var B=b["default"](this._element);!document.hidden&&B.is(":visible")&&"hidden"!==B.css("visibility")&&this.next()};Y.prev=function(){this._isSliding||
this._slide("prev")};Y.pause=function(B){B||(this._isPaused=!0);this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(g.triggerTransitionEnd(this._element),this.cycle(!0));clearInterval(this._interval);this._interval=null};Y.cycle=function(B){B||(this._isPaused=!1);this._interval&&(clearInterval(this._interval),this._interval=null);this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),
this._config.interval))};Y.to=function(B){var F=this;this._activeElement=this._element.querySelector(".active.carousel-item");var T=this._getItemIndex(this._activeElement);if(!(B>this._items.length-1||0>B))if(this._isSliding)b["default"](this._element).one("slid.bs.carousel",function(){return F.to(B)});else T===B?(this.pause(),this.cycle()):this._slide(B>T?"next":"prev",this._items[B])};Y.dispose=function(){b["default"](this._element).off(".bs.carousel");b["default"].removeData(this._element,"bs.carousel");
this._indicatorsElement=this._activeElement=this._isSliding=this._isPaused=this._interval=this._element=this._config=this._items=null};Y._getConfig=function(B){B=w({},E,B);g.typeCheckConfig("carousel",B,t);return B};Y._handleSwipe=function(){var B=Math.abs(this.touchDeltaX);40>=B||(B/=this.touchDeltaX,this.touchDeltaX=0,0<B&&this.prev(),0>B&&this.next())};Y._addEventListeners=function(){var B=this;if(this._config.keyboard)b["default"](this._element).on("keydown.bs.carousel",function(F){return B._keydown(F)});
if("hover"===this._config.pause)b["default"](this._element).on("mouseenter.bs.carousel",function(F){return B.pause(F)}).on("mouseleave.bs.carousel",function(F){return B.cycle(F)});this._config.touch&&this._addTouchEventListeners()};Y._addTouchEventListeners=function(){var B=this;if(this._touchSupported){var F=function(ra){B._pointerEvent&&G[ra.originalEvent.pointerType.toUpperCase()]?B.touchStartX=ra.originalEvent.clientX:B._pointerEvent||(B.touchStartX=ra.originalEvent.touches[0].clientX)},T=function(ra){B._pointerEvent&&
G[ra.originalEvent.pointerType.toUpperCase()]&&(B.touchDeltaX=ra.originalEvent.clientX-B.touchStartX);B._handleSwipe();"hover"===B._config.pause&&(B.pause(),B.touchTimeout&&clearTimeout(B.touchTimeout),B.touchTimeout=setTimeout(function(Na){return B.cycle(Na)},500+B._config.interval))};b["default"](this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(ra){return ra.preventDefault()});this._pointerEvent?(b["default"](this._element).on("pointerdown.bs.carousel",function(ra){return F(ra)}),
b["default"](this._element).on("pointerup.bs.carousel",function(ra){return T(ra)}),this._element.classList.add("pointer-event")):(b["default"](this._element).on("touchstart.bs.carousel",function(ra){return F(ra)}),b["default"](this._element).on("touchmove.bs.carousel",function(ra){B.touchDeltaX=ra.originalEvent.touches&&1<ra.originalEvent.touches.length?0:ra.originalEvent.touches[0].clientX-B.touchStartX}),b["default"](this._element).on("touchend.bs.carousel",function(ra){return T(ra)}))}};Y._keydown=
function(B){if(!/input|textarea/i.test(B.target.tagName))switch(B.key){case "ArrowLeft":B.preventDefault();this.prev();break;case "ArrowRight":B.preventDefault(),this.next()}};Y._getItemIndex=function(B){this._items=B&&B.parentNode?[].slice.call(B.parentNode.querySelectorAll(".carousel-item")):[];return this._items.indexOf(B)};Y._getItemByDirection=function(B,F){var T="next"===B,ra="prev"===B,Na=this._getItemIndex(F),Ta=this._items.length-1;if((ra&&0===Na||T&&Na===Ta)&&!this._config.wrap)return F;
B=(Na+("prev"===B?-1:1))%this._items.length;return-1===B?this._items[this._items.length-1]:this._items[B]};Y._triggerSlideEvent=function(B,F){var T=this._getItemIndex(B),ra=this._getItemIndex(this._element.querySelector(".active.carousel-item"));B=b["default"].Event("slide.bs.carousel",{relatedTarget:B,direction:F,from:ra,to:T});b["default"](this._element).trigger(B);return B};Y._setActiveIndicatorElement=function(B){if(this._indicatorsElement){var F=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));
b["default"](F).removeClass("active");(B=this._indicatorsElement.children[this._getItemIndex(B)])&&b["default"](B).addClass("active")}};Y._updateInterval=function(){var B=this._activeElement||this._element.querySelector(".active.carousel-item");B&&((B=parseInt(B.getAttribute("data-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=B):this._config.interval=this._config.defaultInterval||this._config.interval)};Y._slide=function(B,
F){var T=this,ra=this._element.querySelector(".active.carousel-item"),Na=this._getItemIndex(ra),Ta=F||ra&&this._getItemByDirection(B,ra),Cb=this._getItemIndex(Ta);F=!!this._interval;if("next"===B){var N="carousel-item-left";var Hb="carousel-item-next";B="left"}else N="carousel-item-right",Hb="carousel-item-prev",B="right";if(Ta&&b["default"](Ta).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(Ta,B).isDefaultPrevented()&&ra&&Ta){this._isSliding=!0;F&&this.pause();this._setActiveIndicatorElement(Ta);
this._activeElement=Ta;var bc=b["default"].Event("slid.bs.carousel",{relatedTarget:Ta,direction:B,from:Na,to:Cb});b["default"](this._element).hasClass("slide")?(b["default"](Ta).addClass(Hb),g.reflow(Ta),b["default"](ra).addClass(N),b["default"](Ta).addClass(N),Na=g.getTransitionDurationFromElement(ra),b["default"](ra).one(g.TRANSITION_END,function(){b["default"](Ta).removeClass(N+" "+Hb).addClass("active");b["default"](ra).removeClass("active "+Hb+" "+N);T._isSliding=!1;setTimeout(function(){return b["default"](T._element).trigger(bc)},
0)}).emulateTransitionEnd(Na)):(b["default"](ra).removeClass("active"),b["default"](Ta).addClass("active"),this._isSliding=!1,b["default"](this._element).trigger(bc));F&&this.cycle()}};X._jQueryInterface=function(B){return this.each(function(){var F=b["default"](this).data("bs.carousel"),T=w({},E,b["default"](this).data());"object"===typeof B&&(T=w({},T,B));var ra="string"===typeof B?B:T.slide;F||(F=new X(this,T),b["default"](this).data("bs.carousel",F));if("number"===typeof B)F.to(B);else if("string"===
typeof ra){if("undefined"===typeof F[ra])throw new TypeError('No method named "'+ra+'"');F[ra]()}else T.interval&&T.ride&&(F.pause(),F.cycle())})};X._dataApiClickHandler=function(B){var F=g.getSelectorFromElement(this);if(F&&(F=b["default"](F)[0])&&b["default"](F).hasClass("carousel")){var T=w({},b["default"](F).data(),b["default"](this).data()),ra=this.getAttribute("data-slide-to");ra&&(T.interval=!1);X._jQueryInterface.call(b["default"](F),T);ra&&b["default"](F).data("bs.carousel").to(ra);B.preventDefault()}};
e(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return E}}]);return X}();b["default"](document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",P._dataApiClickHandler);b["default"](window).on("load.bs.carousel.data-api",function(){for(var X=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),Y=0,B=X.length;Y<B;Y++){var F=b["default"](X[Y]);P._jQueryInterface.call(F,F.data())}});b["default"].fn.carousel=P._jQueryInterface;b["default"].fn.carousel.Constructor=
P;b["default"].fn.carousel.noConflict=function(){b["default"].fn.carousel=y;return P._jQueryInterface};var x=b["default"].fn.collapse,H={toggle:!0,parent:""},I={toggle:"boolean",parent:"(string|element)"},J=function(){function X(B,F){this._isTransitioning=!1;this._element=B;this._config=this._getConfig(F);this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+B.id+'"],[data-toggle="collapse"][data-target="#'+(B.id+'"]')));F=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]'));
for(var T=0,ra=F.length;T<ra;T++){var Na=F[T],Ta=g.getSelectorFromElement(Na),Cb=[].slice.call(document.querySelectorAll(Ta)).filter(function(N){return N===B});null!==Ta&&0<Cb.length&&(this._selector=Ta,this._triggerArray.push(Na))}this._parent=this._config.parent?this._getParent():null;this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray);this._config.toggle&&this.toggle()}var Y=X.prototype;Y.toggle=function(){b["default"](this._element).hasClass("show")?this.hide():
this.show()};Y.show=function(){var B=this;if(!this._isTransitioning&&!b["default"](this._element).hasClass("show")){var F;if(this._parent){var T=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(Ta){return"string"===typeof B._config.parent?Ta.getAttribute("data-parent")===B._config.parent:Ta.classList.contains("collapse")});0===T.length&&(T=null)}if(T&&(F=b["default"](T).not(this._selector).data("bs.collapse"))&&F._isTransitioning)return;var ra=b["default"].Event("show.bs.collapse");
b["default"](this._element).trigger(ra);if(!ra.isDefaultPrevented()){T&&(X._jQueryInterface.call(b["default"](T).not(this._selector),"hide"),F||b["default"](T).data("bs.collapse",null));var Na=this._getDimension();b["default"](this._element).removeClass("collapse").addClass("collapsing");this._element.style[Na]=0;this._triggerArray.length&&b["default"](this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0);this.setTransitioning(!0);T="scroll"+(Na[0].toUpperCase()+Na.slice(1));F=g.getTransitionDurationFromElement(this._element);
b["default"](this._element).one(g.TRANSITION_END,function(){b["default"](B._element).removeClass("collapsing").addClass("collapse show");B._element.style[Na]="";B.setTransitioning(!1);b["default"](B._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(F);this._element.style[Na]=this._element[T]+"px"}}};Y.hide=function(){var B=this;if(!this._isTransitioning&&b["default"](this._element).hasClass("show")){var F=b["default"].Event("hide.bs.collapse");b["default"](this._element).trigger(F);if(!F.isDefaultPrevented()){F=
this._getDimension();this._element.style[F]=this._element.getBoundingClientRect()[F]+"px";g.reflow(this._element);b["default"](this._element).addClass("collapsing").removeClass("collapse show");var T=this._triggerArray.length;if(0<T)for(var ra=0;ra<T;ra++){var Na=this._triggerArray[ra],Ta=g.getSelectorFromElement(Na);null!==Ta&&(b["default"]([].slice.call(document.querySelectorAll(Ta))).hasClass("show")||b["default"](Na).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[F]=
"";F=g.getTransitionDurationFromElement(this._element);b["default"](this._element).one(g.TRANSITION_END,function(){B.setTransitioning(!1);b["default"](B._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")}).emulateTransitionEnd(F)}}};Y.setTransitioning=function(B){this._isTransitioning=B};Y.dispose=function(){b["default"].removeData(this._element,"bs.collapse");this._isTransitioning=this._triggerArray=this._element=this._parent=this._config=null};Y._getConfig=function(B){B=
w({},H,B);B.toggle=!!B.toggle;g.typeCheckConfig("collapse",B,I);return B};Y._getDimension=function(){return b["default"](this._element).hasClass("width")?"width":"height"};Y._getParent=function(){var B=this;if(g.isElement(this._config.parent)){var F=this._config.parent;"undefined"!==typeof this._config.parent.jquery&&(F=this._config.parent[0])}else F=document.querySelector(this._config.parent);var T=[].slice.call(F.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));
b["default"](T).each(function(ra,Na){B._addAriaAndCollapsedClass(X._getTargetFromElement(Na),[Na])});return F};Y._addAriaAndCollapsedClass=function(B,F){B=b["default"](B).hasClass("show");F.length&&b["default"](F).toggleClass("collapsed",!B).attr("aria-expanded",B)};X._getTargetFromElement=function(B){return(B=g.getSelectorFromElement(B))?document.querySelector(B):null};X._jQueryInterface=function(B){return this.each(function(){var F=b["default"](this),T=F.data("bs.collapse"),ra=w({},H,F.data(),"object"===
typeof B&&B?B:{});!T&&ra.toggle&&"string"===typeof B&&/show|hide/.test(B)&&(ra.toggle=!1);T||(T=new X(this,ra),F.data("bs.collapse",T));if("string"===typeof B){if("undefined"===typeof T[B])throw new TypeError('No method named "'+B+'"');T[B]()}})};e(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return H}}]);return X}();b["default"](document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(X){"A"===X.currentTarget.tagName&&X.preventDefault();
var Y=b["default"](this);X=g.getSelectorFromElement(this);X=[].slice.call(document.querySelectorAll(X));b["default"](X).each(function(){var B=b["default"](this),F=B.data("bs.collapse")?"toggle":Y.data();J._jQueryInterface.call(B,F)})});b["default"].fn.collapse=J._jQueryInterface;b["default"].fn.collapse.Constructor=J;b["default"].fn.collapse.noConflict=function(){b["default"].fn.collapse=x;return J._jQueryInterface};var L=b["default"].fn.dropdown,R=RegExp("ArrowUp|ArrowDown|Escape"),fa={offset:0,
flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},ea={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},ua=function(){function X(B,F){this._element=B;this._popper=null;this._config=this._getConfig(F);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}var Y=X.prototype;Y.toggle=function(){if(!this._element.disabled&&
!b["default"](this._element).hasClass("disabled")){var B=b["default"](this._menu).hasClass("show");X._clearMenus();B||this.show(!0)}};Y.show=function(B){void 0===B&&(B=!1);if(!(this._element.disabled||b["default"](this._element).hasClass("disabled")||b["default"](this._menu).hasClass("show"))){var F={relatedTarget:this._element},T=b["default"].Event("show.bs.dropdown",F),ra=X._getParentFromElement(this._element);b["default"](ra).trigger(T);if(!T.isDefaultPrevented()){if(!this._inNavbar&&B){if("undefined"===
typeof d["default"])throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");B=this._element;"parent"===this._config.reference?B=ra:g.isElement(this._config.reference)&&(B=this._config.reference,"undefined"!==typeof this._config.reference.jquery&&(B=this._config.reference[0]));"scrollParent"!==this._config.boundary&&b["default"](ra).addClass("position-static");this._popper=new d["default"](B,this._menu,this._getPopperConfig())}if("ontouchstart"in document.documentElement&&
0===b["default"](ra).closest(".navbar-nav").length)b["default"](document.body).children().on("mouseover",null,b["default"].noop);this._element.focus();this._element.setAttribute("aria-expanded",!0);b["default"](this._menu).toggleClass("show");b["default"](ra).toggleClass("show").trigger(b["default"].Event("shown.bs.dropdown",F))}}};Y.hide=function(){if(!this._element.disabled&&!b["default"](this._element).hasClass("disabled")&&b["default"](this._menu).hasClass("show")){var B={relatedTarget:this._element},
F=b["default"].Event("hide.bs.dropdown",B),T=X._getParentFromElement(this._element);b["default"](T).trigger(F);F.isDefaultPrevented()||(this._popper&&this._popper.destroy(),b["default"](this._menu).toggleClass("show"),b["default"](T).toggleClass("show").trigger(b["default"].Event("hidden.bs.dropdown",B)))}};Y.dispose=function(){b["default"].removeData(this._element,"bs.dropdown");b["default"](this._element).off(".bs.dropdown");this._menu=this._element=null;null!==this._popper&&(this._popper.destroy(),
this._popper=null)};Y.update=function(){this._inNavbar=this._detectNavbar();null!==this._popper&&this._popper.scheduleUpdate()};Y._addEventListeners=function(){var B=this;b["default"](this._element).on("click.bs.dropdown",function(F){F.preventDefault();F.stopPropagation();B.toggle()})};Y._getConfig=function(B){B=w({},this.constructor.Default,b["default"](this._element).data(),B);g.typeCheckConfig("dropdown",B,this.constructor.DefaultType);return B};Y._getMenuElement=function(){if(!this._menu){var B=
X._getParentFromElement(this._element);B&&(this._menu=B.querySelector(".dropdown-menu"))}return this._menu};Y._getPlacement=function(){var B=b["default"](this._element.parentNode),F="bottom-start";B.hasClass("dropup")?F=b["default"](this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":B.hasClass("dropright")?F="right-start":B.hasClass("dropleft")?F="left-start":b["default"](this._menu).hasClass("dropdown-menu-right")&&(F="bottom-end");return F};Y._detectNavbar=function(){return 0<b["default"](this._element).closest(".navbar").length};
Y._getOffset=function(){var B=this,F={};"function"===typeof this._config.offset?F.fn=function(T){T.offsets=w({},T.offsets,B._config.offset(T.offsets,B._element));return T}:F.offset=this._config.offset;return F};Y._getPopperConfig=function(){var B={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};"static"===this._config.display&&(B.modifiers.applyStyle={enabled:!1});return w({},B,this._config.popperConfig)};
X._jQueryInterface=function(B){return this.each(function(){var F=b["default"](this).data("bs.dropdown"),T="object"===typeof B?B:null;F||(F=new X(this,T),b["default"](this).data("bs.dropdown",F));if("string"===typeof B){if("undefined"===typeof F[B])throw new TypeError('No method named "'+B+'"');F[B]()}})};X._clearMenus=function(B){if(!B||3!==B.button&&("keyup"!==B.type||"Tab"===B.key))for(var F=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),T=0,ra=F.length;T<ra;T++){var Na=X._getParentFromElement(F[T]),
Ta=b["default"](F[T]).data("bs.dropdown"),Cb={relatedTarget:F[T]};B&&"click"===B.type&&(Cb.clickEvent=B);if(Ta){var N=Ta._menu;if(b["default"](Na).hasClass("show")&&!(B&&("click"===B.type&&/input|textarea/i.test(B.target.tagName)||"keyup"===B.type&&"Tab"===B.key)&&b["default"].contains(Na,B.target))){var Hb=b["default"].Event("hide.bs.dropdown",Cb);b["default"](Na).trigger(Hb);Hb.isDefaultPrevented()||("ontouchstart"in document.documentElement&&b["default"](document.body).children().off("mouseover",
null,b["default"].noop),F[T].setAttribute("aria-expanded","false"),Ta._popper&&Ta._popper.destroy(),b["default"](N).removeClass("show"),b["default"](Na).removeClass("show").trigger(b["default"].Event("hidden.bs.dropdown",Cb)))}}}};X._getParentFromElement=function(B){var F,T=g.getSelectorFromElement(B);T&&(F=document.querySelector(T));return F||B.parentNode};X._dataApiKeydownHandler=function(B){if(!((/input|textarea/i.test(B.target.tagName)?" "===B.key||"Escape"!==B.key&&("ArrowDown"!==B.key&&"ArrowUp"!==
B.key||b["default"](B.target).closest(".dropdown-menu").length):!R.test(B.key))||this.disabled||b["default"](this).hasClass("disabled"))){var F=X._getParentFromElement(this),T=b["default"](F).hasClass("show");if(T||"Escape"!==B.key)B.preventDefault(),B.stopPropagation(),T&&"Escape"!==B.key&&" "!==B.key?(F=[].slice.call(F.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(ra){return b["default"](ra).is(":visible")}),0!==F.length&&(T=F.indexOf(B.target),
"ArrowUp"===B.key&&0<T&&T--,"ArrowDown"===B.key&&T<F.length-1&&T++,0>T&&(T=0),F[T].focus())):("Escape"===B.key&&b["default"](F.querySelector('[data-toggle="dropdown"]')).trigger("focus"),b["default"](this).trigger("click"))}};e(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return fa}},{key:"DefaultType",get:function(){return ea}}]);return X}();b["default"](document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',ua._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",
".dropdown-menu",ua._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",ua._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',function(X){X.preventDefault();X.stopPropagation();ua._jQueryInterface.call(b["default"](this),"toggle")}).on("click.bs.dropdown.data-api",".dropdown form",function(X){X.stopPropagation()});b["default"].fn.dropdown=ua._jQueryInterface;b["default"].fn.dropdown.Constructor=ua;b["default"].fn.dropdown.noConflict=function(){b["default"].fn.dropdown=
L;return ua._jQueryInterface};var na=b["default"].fn.modal,Q={backdrop:!0,keyboard:!0,focus:!0,show:!0},pa={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ia=function(){function X(B,F){this._config=this._getConfig(F);this._element=B;this._dialog=B.querySelector(".modal-dialog");this._backdrop=null;this._isTransitioning=this._ignoreBackdropClick=this._isBodyOverflowing=this._isShown=!1;this._scrollbarWidth=0}var Y=X.prototype;Y.toggle=function(B){return this._isShown?
this.hide():this.show(B)};Y.show=function(B){var F=this;if(!this._isShown&&!this._isTransitioning){var T=b["default"].Event("show.bs.modal",{relatedTarget:B});b["default"](this._element).trigger(T);T.isDefaultPrevented()||(this._isShown=!0,b["default"](this._element).hasClass("fade")&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),b["default"](this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',
function(ra){return F.hide(ra)}),b["default"](this._dialog).on("mousedown.dismiss.bs.modal",function(){b["default"](F._element).one("mouseup.dismiss.bs.modal",function(ra){b["default"](ra.target).is(F._element)&&(F._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return F._showElement(B)}))}};Y.hide=function(B){var F=this;B&&B.preventDefault();if(this._isShown&&!this._isTransitioning&&(B=b["default"].Event("hide.bs.modal"),b["default"](this._element).trigger(B),this._isShown&&!B.isDefaultPrevented())){this._isShown=
!1;if(B=b["default"](this._element).hasClass("fade"))this._isTransitioning=!0;this._setEscapeEvent();this._setResizeEvent();b["default"](document).off("focusin.bs.modal");b["default"](this._element).removeClass("show");b["default"](this._element).off("click.dismiss.bs.modal");b["default"](this._dialog).off("mousedown.dismiss.bs.modal");B?(B=g.getTransitionDurationFromElement(this._element),b["default"](this._element).one(g.TRANSITION_END,function(T){return F._hideModal(T)}).emulateTransitionEnd(B)):
this._hideModal()}};Y.dispose=function(){[window,this._element,this._dialog].forEach(function(B){return b["default"](B).off(".bs.modal")});b["default"](document).off("focusin.bs.modal");b["default"].removeData(this._element,"bs.modal");this._scrollbarWidth=this._isTransitioning=this._ignoreBackdropClick=this._isBodyOverflowing=this._isShown=this._backdrop=this._dialog=this._element=this._config=null};Y.handleUpdate=function(){this._adjustDialog()};Y._getConfig=function(B){B=w({},Q,B);g.typeCheckConfig("modal",
B,pa);return B};Y._triggerBackdropTransition=function(){var B=this,F=b["default"].Event("hidePrevented.bs.modal");b["default"](this._element).trigger(F);if(!F.isDefaultPrevented()){var T=this._element.scrollHeight>document.documentElement.clientHeight;T||(this._element.style.overflowY="hidden");this._element.classList.add("modal-static");var ra=g.getTransitionDurationFromElement(this._dialog);b["default"](this._element).off(g.TRANSITION_END);b["default"](this._element).one(g.TRANSITION_END,function(){B._element.classList.remove("modal-static");
T||b["default"](B._element).one(g.TRANSITION_END,function(){B._element.style.overflowY=""}).emulateTransitionEnd(B._element,ra)}).emulateTransitionEnd(ra);this._element.focus()}};Y._showElement=function(B){var F=this,T=b["default"](this._element).hasClass("fade"),ra=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");
this._element.setAttribute("aria-modal",!0);this._element.setAttribute("role","dialog");b["default"](this._dialog).hasClass("modal-dialog-scrollable")&&ra?ra.scrollTop=0:this._element.scrollTop=0;T&&g.reflow(this._element);b["default"](this._element).addClass("show");this._config.focus&&this._enforceFocus();var Na=b["default"].Event("shown.bs.modal",{relatedTarget:B});B=function(){F._config.focus&&F._element.focus();F._isTransitioning=!1;b["default"](F._element).trigger(Na)};T?(T=g.getTransitionDurationFromElement(this._dialog),
b["default"](this._dialog).one(g.TRANSITION_END,B).emulateTransitionEnd(T)):B()};Y._enforceFocus=function(){var B=this;b["default"](document).off("focusin.bs.modal").on("focusin.bs.modal",function(F){document!==F.target&&B._element!==F.target&&0===b["default"](B._element).has(F.target).length&&B._element.focus()})};Y._setEscapeEvent=function(){var B=this;if(this._isShown)b["default"](this._element).on("keydown.dismiss.bs.modal",function(F){B._config.keyboard&&"Escape"===F.key?(F.preventDefault(),
B.hide()):B._config.keyboard||"Escape"!==F.key||B._triggerBackdropTransition()});else this._isShown||b["default"](this._element).off("keydown.dismiss.bs.modal")};Y._setResizeEvent=function(){var B=this;if(this._isShown)b["default"](window).on("resize.bs.modal",function(F){return B.handleUpdate(F)});else b["default"](window).off("resize.bs.modal")};Y._hideModal=function(){var B=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._element.removeAttribute("aria-modal");
this._element.removeAttribute("role");this._isTransitioning=!1;this._showBackdrop(function(){b["default"](document.body).removeClass("modal-open");B._resetAdjustments();B._resetScrollbar();b["default"](B._element).trigger("hidden.bs.modal")})};Y._removeBackdrop=function(){this._backdrop&&(b["default"](this._backdrop).remove(),this._backdrop=null)};Y._showBackdrop=function(B){var F=this,T=b["default"](this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop)this._backdrop=
document.createElement("div"),this._backdrop.className="modal-backdrop",T&&this._backdrop.classList.add(T),b["default"](this._backdrop).appendTo(document.body),b["default"](this._element).on("click.dismiss.bs.modal",function(Na){F._ignoreBackdropClick?F._ignoreBackdropClick=!1:Na.target===Na.currentTarget&&("static"===F._config.backdrop?F._triggerBackdropTransition():F.hide())}),T&&g.reflow(this._backdrop),b["default"](this._backdrop).addClass("show"),B&&(T?(T=g.getTransitionDurationFromElement(this._backdrop),
b["default"](this._backdrop).one(g.TRANSITION_END,B).emulateTransitionEnd(T)):B());else if(!this._isShown&&this._backdrop)if(b["default"](this._backdrop).removeClass("show"),T=function(){F._removeBackdrop();B&&B()},b["default"](this._element).hasClass("fade")){var ra=g.getTransitionDurationFromElement(this._backdrop);b["default"](this._backdrop).one(g.TRANSITION_END,T).emulateTransitionEnd(ra)}else T();else B&&B()};Y._adjustDialog=function(){var B=this._element.scrollHeight>document.documentElement.clientHeight;
!this._isBodyOverflowing&&B&&(this._element.style.paddingLeft=this._scrollbarWidth+"px");this._isBodyOverflowing&&!B&&(this._element.style.paddingRight=this._scrollbarWidth+"px")};Y._resetAdjustments=function(){this._element.style.paddingLeft="";this._element.style.paddingRight=""};Y._checkScrollbar=function(){var B=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(B.left+B.right)<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()};Y._setScrollbar=function(){var B=
this;if(this._isBodyOverflowing){var F=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),T=[].slice.call(document.querySelectorAll(".sticky-top"));b["default"](F).each(function(ra,Na){ra=Na.style.paddingRight;var Ta=b["default"](Na).css("padding-right");b["default"](Na).data("padding-right",ra).css("padding-right",parseFloat(Ta)+B._scrollbarWidth+"px")});b["default"](T).each(function(ra,Na){ra=Na.style.marginRight;var Ta=b["default"](Na).css("margin-right");
b["default"](Na).data("margin-right",ra).css("margin-right",parseFloat(Ta)-B._scrollbarWidth+"px")});F=document.body.style.paddingRight;T=b["default"](document.body).css("padding-right");b["default"](document.body).data("padding-right",F).css("padding-right",parseFloat(T)+this._scrollbarWidth+"px")}b["default"](document.body).addClass("modal-open")};Y._resetScrollbar=function(){var B=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));b["default"](B).each(function(F,
T){F=b["default"](T).data("padding-right");b["default"](T).removeData("padding-right");T.style.paddingRight=F?F:""});B=[].slice.call(document.querySelectorAll(".sticky-top"));b["default"](B).each(function(F,T){F=b["default"](T).data("margin-right");"undefined"!==typeof F&&b["default"](T).css("margin-right",F).removeData("margin-right")});B=b["default"](document.body).data("padding-right");b["default"](document.body).removeData("padding-right");document.body.style.paddingRight=B?B:""};Y._getScrollbarWidth=
function(){var B=document.createElement("div");B.className="modal-scrollbar-measure";document.body.appendChild(B);var F=B.getBoundingClientRect().width-B.clientWidth;document.body.removeChild(B);return F};X._jQueryInterface=function(B,F){return this.each(function(){var T=b["default"](this).data("bs.modal"),ra=w({},Q,b["default"](this).data(),"object"===typeof B&&B?B:{});T||(T=new X(this,ra),b["default"](this).data("bs.modal",T));if("string"===typeof B){if("undefined"===typeof T[B])throw new TypeError('No method named "'+
B+'"');T[B](F)}else ra.show&&T.show(F)})};e(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Q}}]);return X}();b["default"](document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(X){var Y=this,B,F=g.getSelectorFromElement(this);F&&(B=document.querySelector(F));F=b["default"](B).data("bs.modal")?"toggle":w({},b["default"](B).data(),b["default"](this).data());"A"!==this.tagName&&"AREA"!==this.tagName||X.preventDefault();var T=b["default"](B).one("show.bs.modal",
function(ra){if(!ra.isDefaultPrevented())T.one("hidden.bs.modal",function(){b["default"](Y).is(":visible")&&Y.focus()})});ia._jQueryInterface.call(b["default"](B),F,this)});b["default"].fn.modal=ia._jQueryInterface;b["default"].fn.modal.Constructor=ia;b["default"].fn.modal.noConflict=function(){b["default"].fn.modal=na;return ia._jQueryInterface};var ya="background cite href itemtype longdesc poster src xlink:href".split(" "),va=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ha=
/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,qa=b["default"].fn.tooltip,Qa=RegExp("(^|\\s)bs-tooltip\\S+","g"),Xa=["sanitize","whiteList","sanitizeFn"],gb={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},S={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",
offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:"src srcset alt title width height".split(" "),li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},ma={animation:"boolean",template:"string",
title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Ea={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",
INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},La=function(){function X(B,F){if("undefined"===typeof d["default"])throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=B;this.config=this._getConfig(F);this.tip=null;this._setListeners()}
var Y=X.prototype;Y.enable=function(){this._isEnabled=!0};Y.disable=function(){this._isEnabled=!1};Y.toggleEnabled=function(){this._isEnabled=!this._isEnabled};Y.toggle=function(B){if(this._isEnabled)if(B){var F=this.constructor.DATA_KEY,T=b["default"](B.currentTarget).data(F);T||(T=new this.constructor(B.currentTarget,this._getDelegateConfig()),b["default"](B.currentTarget).data(F,T));T._activeTrigger.click=!T._activeTrigger.click;T._isWithActiveTrigger()?T._enter(null,T):T._leave(null,T)}else b["default"](this.getTipElement()).hasClass("show")?
this._leave(null,this):this._enter(null,this)};Y.dispose=function(){clearTimeout(this._timeout);b["default"].removeData(this.element,this.constructor.DATA_KEY);b["default"](this.element).off(this.constructor.EVENT_KEY);b["default"](this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler);this.tip&&b["default"](this.tip).remove();this._activeTrigger=this._hoverState=this._timeout=this._isEnabled=null;this._popper&&this._popper.destroy();this.tip=this.config=this.element=this._popper=
null};Y.show=function(){var B=this;if("none"===b["default"](this.element).css("display"))throw Error("Please use show on visible elements");var F=b["default"].Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){b["default"](this.element).trigger(F);var T=g.findShadowRoot(this.element);T=b["default"].contains(null!==T?T:this.element.ownerDocument.documentElement,this.element);if(!F.isDefaultPrevented()&&T){F=this.getTipElement();T=g.getUID(this.constructor.NAME);F.setAttribute("id",
T);this.element.setAttribute("aria-describedby",T);this.setContent();this.config.animation&&b["default"](F).addClass("fade");T="function"===typeof this.config.placement?this.config.placement.call(this,F,this.element):this.config.placement;T=this._getAttachment(T);this.addAttachmentClass(T);var ra=this._getContainer();b["default"](F).data(this.constructor.DATA_KEY,this);b["default"].contains(this.element.ownerDocument.documentElement,this.tip)||b["default"](F).appendTo(ra);b["default"](this.element).trigger(this.constructor.Event.INSERTED);
this._popper=new d["default"](this.element,F,this._getPopperConfig(T));b["default"](F).addClass("show");b["default"](F).addClass(this.config.customClass);if("ontouchstart"in document.documentElement)b["default"](document.body).children().on("mouseover",null,b["default"].noop);F=function(){B.config.animation&&B._fixTransition();var Na=B._hoverState;B._hoverState=null;b["default"](B.element).trigger(B.constructor.Event.SHOWN);"out"===Na&&B._leave(null,B)};b["default"](this.tip).hasClass("fade")?(T=
g.getTransitionDurationFromElement(this.tip),b["default"](this.tip).one(g.TRANSITION_END,F).emulateTransitionEnd(T)):F()}}};Y.hide=function(B){var F=this,T=this.getTipElement(),ra=b["default"].Event(this.constructor.Event.HIDE),Na=function(){"show"!==F._hoverState&&T.parentNode&&T.parentNode.removeChild(T);F._cleanTipClass();F.element.removeAttribute("aria-describedby");b["default"](F.element).trigger(F.constructor.Event.HIDDEN);null!==F._popper&&F._popper.destroy();B&&B()};b["default"](this.element).trigger(ra);
ra.isDefaultPrevented()||(b["default"](T).removeClass("show"),"ontouchstart"in document.documentElement&&b["default"](document.body).children().off("mouseover",null,b["default"].noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,b["default"](this.tip).hasClass("fade")?(ra=g.getTransitionDurationFromElement(T),b["default"](T).one(g.TRANSITION_END,Na).emulateTransitionEnd(ra)):Na(),this._hoverState="")};Y.update=function(){null!==this._popper&&this._popper.scheduleUpdate()};
Y.isWithContent=function(){return!!this.getTitle()};Y.addAttachmentClass=function(B){b["default"](this.getTipElement()).addClass("bs-tooltip-"+B)};Y.getTipElement=function(){return this.tip=this.tip||b["default"](this.config.template)[0]};Y.setContent=function(){var B=this.getTipElement();this.setElementContent(b["default"](B.querySelectorAll(".tooltip-inner")),this.getTitle());b["default"](B).removeClass("fade show")};Y.setElementContent=function(B,F){"object"===typeof F&&(F.nodeType||F.jquery)?
this.config.html?b["default"](F).parent().is(B)||B.empty().append(F):B.text(b["default"](F).text()):this.config.html?(this.config.sanitize&&(F=q(F,this.config.whiteList,this.config.sanitizeFn)),B.html(F)):B.text(F)};Y.getTitle=function(){var B=this.element.getAttribute("data-original-title");B||="function"===typeof this.config.title?this.config.title.call(this.element):this.config.title;return B};Y._getPopperConfig=function(B){var F=this;B={placement:B,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},
arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(T){T.originalPlacement!==T.placement&&F._handlePopperPlacementChange(T)},onUpdate:function(T){return F._handlePopperPlacementChange(T)}};return w({},B,this.config.popperConfig)};Y._getOffset=function(){var B=this,F={};"function"===typeof this.config.offset?F.fn=function(T){T.offsets=w({},T.offsets,B.config.offset(T.offsets,B.element));return T}:F.offset=this.config.offset;return F};Y._getContainer=
function(){return!1===this.config.container?document.body:g.isElement(this.config.container)?b["default"](this.config.container):b["default"](document).find(this.config.container)};Y._getAttachment=function(B){return gb[B.toUpperCase()]};Y._setListeners=function(){var B=this;this.config.trigger.split(" ").forEach(function(F){if("click"===F)b["default"](B.element).on(B.constructor.Event.CLICK,B.config.selector,function(ra){return B.toggle(ra)});else if("manual"!==F){var T="hover"===F?B.constructor.Event.MOUSEENTER:
B.constructor.Event.FOCUSIN;F="hover"===F?B.constructor.Event.MOUSELEAVE:B.constructor.Event.FOCUSOUT;b["default"](B.element).on(T,B.config.selector,function(ra){return B._enter(ra)}).on(F,B.config.selector,function(ra){return B._leave(ra)})}});this._hideModalHandler=function(){B.element&&B.hide()};b["default"](this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler);this.config.selector?this.config=w({},this.config,{trigger:"manual",selector:""}):this._fixTitle()};Y._fixTitle=function(){var B=
typeof this.element.getAttribute("data-original-title");if(this.element.getAttribute("title")||"string"!==B)this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title","")};Y._enter=function(B,F){var T=this.constructor.DATA_KEY;F=F||b["default"](B.currentTarget).data(T);F||(F=new this.constructor(B.currentTarget,this._getDelegateConfig()),b["default"](B.currentTarget).data(T,F));B&&(F._activeTrigger["focusin"===B.type?"focus":"hover"]=
!0);b["default"](F.getTipElement()).hasClass("show")||"show"===F._hoverState?F._hoverState="show":(clearTimeout(F._timeout),F._hoverState="show",F.config.delay&&F.config.delay.show?F._timeout=setTimeout(function(){"show"===F._hoverState&&F.show()},F.config.delay.show):F.show())};Y._leave=function(B,F){var T=this.constructor.DATA_KEY;F=F||b["default"](B.currentTarget).data(T);F||(F=new this.constructor(B.currentTarget,this._getDelegateConfig()),b["default"](B.currentTarget).data(T,F));B&&(F._activeTrigger["focusout"===
B.type?"focus":"hover"]=!1);F._isWithActiveTrigger()||(clearTimeout(F._timeout),F._hoverState="out",F.config.delay&&F.config.delay.hide?F._timeout=setTimeout(function(){"out"===F._hoverState&&F.hide()},F.config.delay.hide):F.hide())};Y._isWithActiveTrigger=function(){for(var B in this._activeTrigger)if(this._activeTrigger[B])return!0;return!1};Y._getConfig=function(B){var F=b["default"](this.element).data();Object.keys(F).forEach(function(T){-1!==Xa.indexOf(T)&&delete F[T]});B=w({},this.constructor.Default,
F,"object"===typeof B&&B?B:{});"number"===typeof B.delay&&(B.delay={show:B.delay,hide:B.delay});"number"===typeof B.title&&(B.title=B.title.toString());"number"===typeof B.content&&(B.content=B.content.toString());g.typeCheckConfig("tooltip",B,this.constructor.DefaultType);B.sanitize&&(B.template=q(B.template,B.whiteList,B.sanitizeFn));return B};Y._getDelegateConfig=function(){var B={};if(this.config)for(var F in this.config)this.constructor.Default[F]!==this.config[F]&&(B[F]=this.config[F]);return B};
Y._cleanTipClass=function(){var B=b["default"](this.getTipElement()),F=B.attr("class").match(Qa);null!==F&&F.length&&B.removeClass(F.join(""))};Y._handlePopperPlacementChange=function(B){this.tip=B.instance.popper;this._cleanTipClass();this.addAttachmentClass(this._getAttachment(B.placement))};Y._fixTransition=function(){var B=this.getTipElement(),F=this.config.animation;null===B.getAttribute("x-placement")&&(b["default"](B).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=
F)};X._jQueryInterface=function(B){return this.each(function(){var F=b["default"](this),T=F.data("bs.tooltip"),ra="object"===typeof B&&B;if(T||!/dispose|hide/.test(B))if(T||(T=new X(this,ra),F.data("bs.tooltip",T)),"string"===typeof B){if("undefined"===typeof T[B])throw new TypeError('No method named "'+B+'"');T[B]()}})};e(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return S}},{key:"NAME",get:function(){return"tooltip"}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},
{key:"Event",get:function(){return Ea}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return ma}}]);return X}();b["default"].fn.tooltip=La._jQueryInterface;b["default"].fn.tooltip.Constructor=La;b["default"].fn.tooltip.noConflict=function(){b["default"].fn.tooltip=qa;return La._jQueryInterface};var hb=b["default"].fn.popover,yb=RegExp("(^|\\s)bs-popover\\S+","g"),tb=w({},La.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),
Ma=w({},La.DefaultType,{content:"(string|element|function)"}),ta={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Oa=function(X){function Y(){return X.apply(this,arguments)||this}a(Y,X);var B=Y.prototype;B.isWithContent=function(){return this.getTitle()||this._getContent()};
B.addAttachmentClass=function(F){b["default"](this.getTipElement()).addClass("bs-popover-"+F)};B.getTipElement=function(){return this.tip=this.tip||b["default"](this.config.template)[0]};B.setContent=function(){var F=b["default"](this.getTipElement());this.setElementContent(F.find(".popover-header"),this.getTitle());var T=this._getContent();"function"===typeof T&&(T=T.call(this.element));this.setElementContent(F.find(".popover-body"),T);F.removeClass("fade show")};B._getContent=function(){return this.element.getAttribute("data-content")||
this.config.content};B._cleanTipClass=function(){var F=b["default"](this.getTipElement()),T=F.attr("class").match(yb);null!==T&&0<T.length&&F.removeClass(T.join(""))};Y._jQueryInterface=function(F){return this.each(function(){var T=b["default"](this).data("bs.popover"),ra="object"===typeof F?F:null;if(T||!/dispose|hide/.test(F))if(T||(T=new Y(this,ra),b["default"](this).data("bs.popover",T)),"string"===typeof F){if("undefined"===typeof T[F])throw new TypeError('No method named "'+F+'"');T[F]()}})};
e(Y,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return tb}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return ta}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return Ma}}]);return Y}(La);b["default"].fn.popover=Oa._jQueryInterface;b["default"].fn.popover.Constructor=Oa;b["default"].fn.popover.noConflict=function(){b["default"].fn.popover=
hb;return Oa._jQueryInterface};var Ja=b["default"].fn.scrollspy,$a={offset:10,method:"auto",target:""},U={offset:"number",method:"string",target:"(string|element)"},ca=function(){function X(B,F){var T=this;this._element=B;this._scrollElement="BODY"===B.tagName?window:B;this._config=this._getConfig(F);this._selector=this._config.target+" .nav-link,"+(this._config.target+" .list-group-item,")+(this._config.target+" .dropdown-item");this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=
0;b["default"](this._scrollElement).on("scroll.bs.scrollspy",function(ra){return T._process(ra)});this.refresh();this._process()}var Y=X.prototype;Y.refresh=function(){var B=this,F=this._scrollElement===this._scrollElement.window?"offset":"position",T="auto"===this._config.method?F:this._config.method,ra="position"===T?this._getScrollTop():0;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();[].slice.call(document.querySelectorAll(this._selector)).map(function(Na){var Ta;
(Na=g.getSelectorFromElement(Na))&&(Ta=document.querySelector(Na));if(Ta){var Cb=Ta.getBoundingClientRect();if(Cb.width||Cb.height)return[b["default"](Ta)[T]().top+ra,Na]}return null}).filter(Boolean).sort(function(Na,Ta){return Na[0]-Ta[0]}).forEach(function(Na){B._offsets.push(Na[0]);B._targets.push(Na[1])})};Y.dispose=function(){b["default"].removeData(this._element,"bs.scrollspy");b["default"](this._scrollElement).off(".bs.scrollspy");this._scrollHeight=this._activeTarget=this._targets=this._offsets=
this._selector=this._config=this._scrollElement=this._element=null};Y._getConfig=function(B){B=w({},$a,"object"===typeof B&&B?B:{});if("string"!==typeof B.target&&g.isElement(B.target)){var F=b["default"](B.target).attr("id");F||(F=g.getUID("scrollspy"),b["default"](B.target).attr("id",F));B.target="#"+F}g.typeCheckConfig("scrollspy",B,U);return B};Y._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop};Y._getScrollHeight=function(){return this._scrollElement.scrollHeight||
Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)};Y._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height};Y._process=function(){var B=this._getScrollTop()+this._config.offset,F=this._getScrollHeight(),T=this._config.offset+F-this._getOffsetHeight();this._scrollHeight!==F&&this.refresh();if(B>=T)B=this._targets[this._targets.length-1],this._activeTarget!==B&&this._activate(B);else if(this._activeTarget&&
B<this._offsets[0]&&0<this._offsets[0])this._activeTarget=null,this._clear();else for(F=this._offsets.length;F--;)this._activeTarget!==this._targets[F]&&B>=this._offsets[F]&&("undefined"===typeof this._offsets[F+1]||B<this._offsets[F+1])&&this._activate(this._targets[F])};Y._activate=function(B){this._activeTarget=B;this._clear();var F=this._selector.split(",").map(function(T){return T+'[data-target="'+B+'"],'+T+'[href="'+B+'"]'});F=b["default"]([].slice.call(document.querySelectorAll(F.join(","))));
F.hasClass("dropdown-item")?(F.closest(".dropdown").find(".dropdown-toggle").addClass("active"),F.addClass("active")):(F.addClass("active"),F.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),F.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active"));b["default"](this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:B})};Y._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(B){return B.classList.contains("active")}).forEach(function(B){return B.classList.remove("active")})};
X._jQueryInterface=function(B){return this.each(function(){var F=b["default"](this).data("bs.scrollspy"),T="object"===typeof B&&B;F||(F=new X(this,T),b["default"](this).data("bs.scrollspy",F));if("string"===typeof B){if("undefined"===typeof F[B])throw new TypeError('No method named "'+B+'"');F[B]()}})};e(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return $a}}]);return X}();b["default"](window).on("load.bs.scrollspy.data-api",function(){for(var X=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),
Y=X.length;Y--;){var B=b["default"](X[Y]);ca._jQueryInterface.call(B,B.data())}});b["default"].fn.scrollspy=ca._jQueryInterface;b["default"].fn.scrollspy.Constructor=ca;b["default"].fn.scrollspy.noConflict=function(){b["default"].fn.scrollspy=Ja;return ca._jQueryInterface};var ba=b["default"].fn.tab,aa=function(){function X(B){this._element=B}var Y=X.prototype;Y.show=function(){var B=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&b["default"](this._element).hasClass("active")||
b["default"](this._element).hasClass("disabled")||this._element.hasAttribute("disabled"))){var F,T=b["default"](this._element).closest(".nav, .list-group")[0],ra=g.getSelectorFromElement(this._element);if(T){var Na="UL"===T.nodeName||"OL"===T.nodeName?"> li > .active":".active";var Ta=b["default"].makeArray(b["default"](T).find(Na));Ta=Ta[Ta.length-1]}Na=b["default"].Event("hide.bs.tab",{relatedTarget:this._element});var Cb=b["default"].Event("show.bs.tab",{relatedTarget:Ta});Ta&&b["default"](Ta).trigger(Na);
b["default"](this._element).trigger(Cb);Cb.isDefaultPrevented()||Na.isDefaultPrevented()||(ra&&(F=document.querySelector(ra)),this._activate(this._element,T),T=function(){var N=b["default"].Event("hidden.bs.tab",{relatedTarget:B._element}),Hb=b["default"].Event("shown.bs.tab",{relatedTarget:Ta});b["default"](Ta).trigger(N);b["default"](B._element).trigger(Hb)},F?this._activate(F,F.parentNode,T):T())}};Y.dispose=function(){b["default"].removeData(this._element,"bs.tab");this._element=null};Y._activate=
function(B,F,T){var ra=this,Na=(!F||"UL"!==F.nodeName&&"OL"!==F.nodeName?b["default"](F).children(".active"):b["default"](F).find("> li > .active"))[0],Ta=T&&Na&&b["default"](Na).hasClass("fade");F=function(){return ra._transitionComplete(B,Na,T)};Na&&Ta?(Ta=g.getTransitionDurationFromElement(Na),b["default"](Na).removeClass("show").one(g.TRANSITION_END,F).emulateTransitionEnd(Ta)):F()};Y._transitionComplete=function(B,F,T){if(F){b["default"](F).removeClass("active");var ra=b["default"](F.parentNode).find("> .dropdown-menu .active")[0];
ra&&b["default"](ra).removeClass("active");"tab"===F.getAttribute("role")&&F.setAttribute("aria-selected",!1)}b["default"](B).addClass("active");"tab"===B.getAttribute("role")&&B.setAttribute("aria-selected",!0);g.reflow(B);B.classList.contains("fade")&&B.classList.add("show");(F=B.parentNode)&&"LI"===F.nodeName&&(F=F.parentNode);if(F&&b["default"](F).hasClass("dropdown-menu")){if(F=b["default"](B).closest(".dropdown")[0])F=[].slice.call(F.querySelectorAll(".dropdown-toggle")),b["default"](F).addClass("active");
B.setAttribute("aria-expanded",!0)}T&&T()};X._jQueryInterface=function(B){return this.each(function(){var F=b["default"](this),T=F.data("bs.tab");T||(T=new X(this),F.data("bs.tab",T));if("string"===typeof B){if("undefined"===typeof T[B])throw new TypeError('No method named "'+B+'"');T[B]()}})};e(X,null,[{key:"VERSION",get:function(){return"4.6.2"}}]);return X}();b["default"](document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(X){X.preventDefault();
aa._jQueryInterface.call(b["default"](this),"show")});b["default"].fn.tab=aa._jQueryInterface;b["default"].fn.tab.Constructor=aa;b["default"].fn.tab.noConflict=function(){b["default"].fn.tab=ba;return aa._jQueryInterface};var sa=b["default"].fn.toast,Ba={animation:!0,autohide:!0,delay:500},Aa={animation:"boolean",autohide:"boolean",delay:"number"},ka=function(){function X(B,F){this._element=B;this._config=this._getConfig(F);this._timeout=null;this._setListeners()}var Y=X.prototype;Y.show=function(){var B=
this,F=b["default"].Event("show.bs.toast");b["default"](this._element).trigger(F);if(!F.isDefaultPrevented())if(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),F=function(){B._element.classList.remove("showing");B._element.classList.add("show");b["default"](B._element).trigger("shown.bs.toast");B._config.autohide&&(B._timeout=setTimeout(function(){B.hide()},B._config.delay))},this._element.classList.remove("hide"),g.reflow(this._element),this._element.classList.add("showing"),
this._config.animation){var T=g.getTransitionDurationFromElement(this._element);b["default"](this._element).one(g.TRANSITION_END,F).emulateTransitionEnd(T)}else F()};Y.hide=function(){if(this._element.classList.contains("show")){var B=b["default"].Event("hide.bs.toast");b["default"](this._element).trigger(B);B.isDefaultPrevented()||this._close()}};Y.dispose=function(){this._clearTimeout();this._element.classList.contains("show")&&this._element.classList.remove("show");b["default"](this._element).off("click.dismiss.bs.toast");
b["default"].removeData(this._element,"bs.toast");this._config=this._element=null};Y._getConfig=function(B){B=w({},Ba,b["default"](this._element).data(),"object"===typeof B&&B?B:{});g.typeCheckConfig("toast",B,this.constructor.DefaultType);return B};Y._setListeners=function(){var B=this;b["default"](this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',function(){return B.hide()})};Y._close=function(){var B=this,F=function(){B._element.classList.add("hide");b["default"](B._element).trigger("hidden.bs.toast")};
this._element.classList.remove("show");if(this._config.animation){var T=g.getTransitionDurationFromElement(this._element);b["default"](this._element).one(g.TRANSITION_END,F).emulateTransitionEnd(T)}else F()};Y._clearTimeout=function(){clearTimeout(this._timeout);this._timeout=null};X._jQueryInterface=function(B){return this.each(function(){var F=b["default"](this),T=F.data("bs.toast"),ra="object"===typeof B&&B;T||(T=new X(this,ra),F.data("bs.toast",T));if("string"===typeof B){if("undefined"===typeof T[B])throw new TypeError('No method named "'+
B+'"');T[B](this)}})};e(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"DefaultType",get:function(){return Aa}},{key:"Default",get:function(){return Ba}}]);return X}();b["default"].fn.toast=ka._jQueryInterface;b["default"].fn.toast.Constructor=ka;b["default"].fn.toast.noConflict=function(){b["default"].fn.toast=sa;return ka._jQueryInterface};z.Alert=f;z.Button=u;z.Carousel=P;z.Collapse=J;z.Dropdown=ua;z.Modal=ia;z.Popover=Oa;z.Scrollspy=ca;z.Tab=aa;z.Toast=ka;z.Tooltip=La;z.Util=g;Object.defineProperty(z,
"__esModule",{value:!0})})},{jquery:265,"popper.js":283}],71:[function(l,M,C){l("../../modules/es.array.fill");l=l("../../internals/entry-unbind");M.exports=l("Array","fill")},{"../../internals/entry-unbind":123,"../../modules/es.array.fill":223}],72:[function(l,M,C){l("../../modules/es.array.iterator");l("../../modules/es.object.to-string");l=l("../../internals/entry-unbind");M.exports=l("Array","values")},{"../../internals/entry-unbind":123,"../../modules/es.array.iterator":224,"../../modules/es.object.to-string":228}],
73:[function(l,M,C){l("../../modules/es.array.iterator");l("../../modules/es.map");l("../../modules/es.object.to-string");l("../../modules/es.string.iterator");l=l("../../internals/path");M.exports=l.Map},{"../../internals/path":189,"../../modules/es.array.iterator":224,"../../modules/es.map":226,"../../modules/es.object.to-string":228,"../../modules/es.string.iterator":236}],74:[function(l,M,C){l("../../modules/es.aggregate-error");l("../../modules/es.array.iterator");l("../../modules/es.object.to-string");
l("../../modules/es.promise");l("../../modules/es.promise.all-settled");l("../../modules/es.promise.any");l("../../modules/es.promise.finally");l("../../modules/es.string.iterator");l=l("../../internals/path");M.exports=l.Promise},{"../../internals/path":189,"../../modules/es.aggregate-error":221,"../../modules/es.array.iterator":224,"../../modules/es.object.to-string":228,"../../modules/es.promise":232,"../../modules/es.promise.all-settled":229,"../../modules/es.promise.any":230,"../../modules/es.promise.finally":231,
"../../modules/es.string.iterator":236}],75:[function(l,M,C){l("../../modules/es.array.iterator");l("../../modules/es.object.to-string");l("../../modules/es.set");l("../../modules/es.string.iterator");l=l("../../internals/path");M.exports=l.Set},{"../../internals/path":189,"../../modules/es.array.iterator":224,"../../modules/es.object.to-string":228,"../../modules/es.set":234,"../../modules/es.string.iterator":236}],76:[function(l,M,C){l("../../modules/es.string.ends-with");l=l("../../internals/entry-unbind");
M.exports=l("String","endsWith")},{"../../internals/entry-unbind":123,"../../modules/es.string.ends-with":235}],77:[function(l,M,C){l("../../modules/es.array.concat");l("../../modules/es.object.to-string");l("../../modules/es.symbol");l("../../modules/es.symbol.async-iterator");l("../../modules/es.symbol.description");l("../../modules/es.symbol.has-instance");l("../../modules/es.symbol.is-concat-spreadable");l("../../modules/es.symbol.iterator");l("../../modules/es.symbol.match");l("../../modules/es.symbol.match-all");
l("../../modules/es.symbol.replace");l("../../modules/es.symbol.search");l("../../modules/es.symbol.species");l("../../modules/es.symbol.split");l("../../modules/es.symbol.to-primitive");l("../../modules/es.symbol.to-string-tag");l("../../modules/es.symbol.unscopables");l("../../modules/es.json.to-string-tag");l("../../modules/es.math.to-string-tag");l("../../modules/es.reflect.to-string-tag");l=l("../../internals/path");M.exports=l.Symbol},{"../../internals/path":189,"../../modules/es.array.concat":222,
"../../modules/es.json.to-string-tag":225,"../../modules/es.math.to-string-tag":227,"../../modules/es.object.to-string":228,"../../modules/es.reflect.to-string-tag":233,"../../modules/es.symbol":242,"../../modules/es.symbol.async-iterator":237,"../../modules/es.symbol.description":238,"../../modules/es.symbol.has-instance":239,"../../modules/es.symbol.is-concat-spreadable":240,"../../modules/es.symbol.iterator":241,"../../modules/es.symbol.match":244,"../../modules/es.symbol.match-all":243,"../../modules/es.symbol.replace":245,
"../../modules/es.symbol.search":246,"../../modules/es.symbol.species":247,"../../modules/es.symbol.split":248,"../../modules/es.symbol.to-primitive":249,"../../modules/es.symbol.to-string-tag":250,"../../modules/es.symbol.unscopables":251}],78:[function(l,M,C){l("../../modules/es.typed-array.fill")},{"../../modules/es.typed-array.fill":252}],79:[function(l,M,C){l("../../modules/es.typed-array.slice")},{"../../modules/es.typed-array.slice":253}],80:[function(l,M,C){C=l("../internals/global");var z=
l("../internals/is-callable"),h=l("../internals/try-to-string"),v=C.TypeError;M.exports=function(D){if(z(D))return D;throw v(h(D)+" is not a function");}},{"../internals/global":139,"../internals/is-callable":153,"../internals/try-to-string":214}],81:[function(l,M,C){C=l("../internals/global");var z=l("../internals/is-constructor"),h=l("../internals/try-to-string"),v=C.TypeError;M.exports=function(D){if(z(D))return D;throw v(h(D)+" is not a constructor");}},{"../internals/global":139,"../internals/is-constructor":154,
"../internals/try-to-string":214}],82:[function(l,M,C){C=l("../internals/global");var z=l("../internals/is-callable"),h=C.String,v=C.TypeError;M.exports=function(D){if("object"==typeof D||z(D))return D;throw v("Can't set "+h(D)+" as a prototype");}},{"../internals/global":139,"../internals/is-callable":153}],83:[function(l,M,C){C=l("../internals/well-known-symbol");var z=l("../internals/object-create");l=l("../internals/object-define-property");var h=C("unscopables"),v=Array.prototype;void 0==v[h]&&
l.f(v,h,{configurable:!0,value:z(null)});M.exports=function(D){v[h][D]=!0}},{"../internals/object-create":172,"../internals/object-define-property":174,"../internals/well-known-symbol":220}],84:[function(l,M,C){C=l("../internals/global");var z=l("../internals/object-is-prototype-of"),h=C.TypeError;M.exports=function(v,D){if(z(D,v))return v;throw h("Incorrect invocation");}},{"../internals/global":139,"../internals/object-is-prototype-of":181}],85:[function(l,M,C){C=l("../internals/global");var z=
l("../internals/is-object"),h=C.String,v=C.TypeError;M.exports=function(D){if(z(D))return D;throw v(h(D)+" is not an object");}},{"../internals/global":139,"../internals/is-object":156}],86:[function(l,M,C){M.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],87:[function(l,M,C){l=l("../internals/fails");M.exports=l(function(){if("function"==typeof ArrayBuffer){var z=new ArrayBuffer(8);Object.isExtensible(z)&&Object.defineProperty(z,"a",{value:8})}})},{"../internals/fails":127}],
88:[function(l,M,C){var z=l("../internals/array-buffer-native"),h=l("../internals/descriptors"),v=l("../internals/global"),D=l("../internals/is-callable"),c=l("../internals/is-object"),e=l("../internals/has-own-property"),w=l("../internals/classof"),a=l("../internals/try-to-string");C=l("../internals/create-non-enumerable-property");var k=l("../internals/redefine"),r=l("../internals/object-define-property").f,q=l("../internals/object-is-prototype-of"),b=l("../internals/object-get-prototype-of"),d=
l("../internals/object-set-prototype-of"),g=l("../internals/well-known-symbol"),m=l("../internals/uid"),f=v.Int8Array,n=f&&f.prototype;l=(l=v.Uint8ClampedArray)&&l.prototype;var u=f&&b(f),y=n&&b(n);f=Object.prototype;var E=v.TypeError;g=g("toStringTag");var t=m("TYPED_ARRAY_TAG");m=m("TYPED_ARRAY_CONSTRUCTOR");var G=z&&!!d&&"Opera"!==w(v.opera);z=!1;var P,x,H,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},J={BigInt64Array:8,
BigUint64Array:8},L=function(R){if(!c(R))return!1;R=w(R);return e(I,R)||e(J,R)};for(P in I)(H=(x=v[P])&&x.prototype)?C(H,m,x):G=!1;for(P in J)(H=(x=v[P])&&x.prototype)&&C(H,m,x);if(!G||!D(u)||u===Function.prototype)if(u=function(){throw E("Incorrect invocation");},G)for(P in I)v[P]&&d(v[P],u);if(!G||!y||y===f)if(y=u.prototype,G)for(P in I)v[P]&&d(v[P].prototype,y);G&&b(l)!==y&&d(l,y);if(h&&!e(y,g))for(P in z=!0,r(y,g,{get:function(){return c(this)?this[t]:void 0}}),I)v[P]&&C(v[P],t,P);M.exports={NATIVE_ARRAY_BUFFER_VIEWS:G,
TYPED_ARRAY_CONSTRUCTOR:m,TYPED_ARRAY_TAG:z&&t,aTypedArray:function(R){if(L(R))return R;throw E("Target is not a typed array");},aTypedArrayConstructor:function(R){if(D(R)&&(!d||q(u,R)))return R;throw E(a(R)+" is not a typed array constructor");},exportTypedArrayMethod:function(R,fa,ea,ua){if(h){if(ea)for(var na in I){var Q=v[na];if(Q&&e(Q.prototype,R))try{delete Q.prototype[R]}catch(pa){try{Q.prototype[R]=fa}catch(ia){}}}y[R]&&!ea||k(y,R,ea?fa:G&&n[R]||fa,ua)}},exportTypedArrayStaticMethod:function(R,
fa,ea){var ua,na;if(h){if(d){if(ea)for(ua in I)if((na=v[ua])&&e(na,R))try{delete na[R]}catch(Q){}if(!u[R]||ea)try{return k(u,R,ea?fa:G&&u[R]||fa)}catch(Q){}else return}for(ua in I)na=v[ua],!na||na[R]&&!ea||k(na,R,fa)}},isView:function(R){if(!c(R))return!1;R=w(R);return"DataView"===R||e(I,R)||e(J,R)},isTypedArray:L,TypedArray:u,TypedArrayPrototype:y}},{"../internals/array-buffer-native":86,"../internals/classof":99,"../internals/create-non-enumerable-property":107,"../internals/descriptors":112,"../internals/global":139,
"../internals/has-own-property":140,"../internals/is-callable":153,"../internals/is-object":156,"../internals/object-define-property":174,"../internals/object-get-prototype-of":179,"../internals/object-is-prototype-of":181,"../internals/object-set-prototype-of":185,"../internals/redefine":194,"../internals/try-to-string":214,"../internals/uid":216,"../internals/well-known-symbol":220}],89:[function(l,M,C){var z=l("../internals/to-object"),h=l("../internals/to-absolute-index"),v=l("../internals/length-of-array-like");
M.exports=function(D){var c=z(this),e=v(c),w=arguments.length,a=h(1<w?arguments[1]:void 0,e);w=2<w?arguments[2]:void 0;for(e=void 0===w?e:h(w,e);e>a;)c[a++]=D;return c}},{"../internals/length-of-array-like":164,"../internals/to-absolute-index":205,"../internals/to-object":209}],90:[function(l,M,C){var z=l("../internals/to-indexed-object"),h=l("../internals/to-absolute-index"),v=l("../internals/length-of-array-like");l=function(D){return function(c,e,w){c=z(c);var a=v(c);w=h(w,a);if(D&&e!=e)for(;a>
w;){if(e=c[w++],e!=e)return!0}else for(;a>w;w++)if((D||w in c)&&c[w]===e)return D||w||0;return!D&&-1}};M.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":164,"../internals/to-absolute-index":205,"../internals/to-indexed-object":206}],91:[function(l,M,C){var z=l("../internals/function-bind-context");C=l("../internals/function-uncurry-this");var h=l("../internals/indexed-object"),v=l("../internals/to-object"),D=l("../internals/length-of-array-like"),c=l("../internals/array-species-create"),
e=C([].push);l=function(w){var a=1==w,k=2==w,r=3==w,q=4==w,b=6==w,d=7==w,g=5==w||b;return function(m,f,n,u){var y=v(m),E=h(y);f=z(f,n);n=D(E);var t=0;u=u||c;m=a?u(m,n):k||d?u(m,0):void 0;for(var G;n>t;t++)if(g||t in E)if(u=E[t],G=f(u,t,y),w)if(a)m[t]=G;else if(G)switch(w){case 3:return!0;case 5:return u;case 6:return t;case 2:e(m,u)}else switch(w){case 4:return!1;case 7:e(m,u)}return b?-1:r||q?q:m}};M.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},
{"../internals/array-species-create":96,"../internals/function-bind-context":130,"../internals/function-uncurry-this":134,"../internals/indexed-object":145,"../internals/length-of-array-like":164,"../internals/to-object":209}],92:[function(l,M,C){var z=l("../internals/fails");C=l("../internals/well-known-symbol");var h=l("../internals/engine-v8-version"),v=C("species");M.exports=function(D){return 51<=h||!z(function(){var c=[];(c.constructor={})[v]=function(){return{foo:1}};return 1!==c[D](Boolean).foo})}},
{"../internals/engine-v8-version":122,"../internals/fails":127,"../internals/well-known-symbol":220}],93:[function(l,M,C){C=l("../internals/global");var z=l("../internals/to-absolute-index"),h=l("../internals/length-of-array-like"),v=l("../internals/create-property"),D=C.Array,c=Math.max;M.exports=function(e,w,a){var k=h(e);w=z(w,k);a=z(void 0===a?k:a,k);k=D(c(a-w,0));for(var r=0;w<a;w++,r++)v(k,r,e[w]);k.length=r;return k}},{"../internals/create-property":109,"../internals/global":139,"../internals/length-of-array-like":164,
"../internals/to-absolute-index":205}],94:[function(l,M,C){l=l("../internals/function-uncurry-this");M.exports=l([].slice)},{"../internals/function-uncurry-this":134}],95:[function(l,M,C){C=l("../internals/global");var z=l("../internals/is-array"),h=l("../internals/is-constructor"),v=l("../internals/is-object"),D=l("../internals/well-known-symbol")("species"),c=C.Array;M.exports=function(e){if(z(e)){var w=e.constructor;h(w)&&(w===c||z(w.prototype))?w=void 0:v(w)&&(w=w[D],null===w&&(w=void 0))}return void 0===
w?c:w}},{"../internals/global":139,"../internals/is-array":152,"../internals/is-constructor":154,"../internals/is-object":156,"../internals/well-known-symbol":220}],96:[function(l,M,C){var z=l("../internals/array-species-constructor");M.exports=function(h,v){return new (z(h))(0===v?0:v)}},{"../internals/array-species-constructor":95}],97:[function(l,M,C){var z=l("../internals/well-known-symbol")("iterator"),h=!1;try{var v=0;l={next:function(){return{done:!!v++}},"return":function(){h=!0}};l[z]=function(){return this};
Array.from(l,function(){throw 2;})}catch(D){}M.exports=function(D,c){if(!c&&!h)return!1;var e=!1;try{c={},c[z]=function(){return{next:function(){return{done:e=!0}}}},D(c)}catch(w){}return e}},{"../internals/well-known-symbol":220}],98:[function(l,M,C){l=l("../internals/function-uncurry-this");var z=l({}.toString),h=l("".slice);M.exports=function(v){return h(z(v),8,-1)}},{"../internals/function-uncurry-this":134}],99:[function(l,M,C){C=l("../internals/global");var z=l("../internals/to-string-tag-support"),
h=l("../internals/is-callable"),v=l("../internals/classof-raw"),D=l("../internals/well-known-symbol")("toStringTag"),c=C.Object,e="Arguments"==v(function(){return arguments}());M.exports=z?v:function(w){var a;if(void 0===w)var k="Undefined";else{if(null===w)var r="Null";else{a:{var q=w=c(w);try{r=q[D];break a}catch(b){}r=void 0}r="string"==typeof(k=r)?k:e?v(w):"Object"==(a=v(w))&&h(w.callee)?"Arguments":a}k=r}return k}},{"../internals/classof-raw":98,"../internals/global":139,"../internals/is-callable":153,
"../internals/to-string-tag-support":212,"../internals/well-known-symbol":220}],100:[function(l,M,C){var z=l("../internals/function-uncurry-this")("".replace),h=/\n\s*at [^:]*:[^\n]*/,v=h.test(String(Error("zxcasd").stack));M.exports=function(D,c){if(v&&"string"==typeof D)for(;c--;)D=z(D,h,"");return D}},{"../internals/function-uncurry-this":134}],101:[function(l,M,C){var z=l("../internals/object-define-property").f,h=l("../internals/object-create"),v=l("../internals/redefine-all"),D=l("../internals/function-bind-context"),
c=l("../internals/an-instance"),e=l("../internals/iterate"),w=l("../internals/define-iterator"),a=l("../internals/set-species"),k=l("../internals/descriptors"),r=l("../internals/internal-metadata").fastKey;l=l("../internals/internal-state");var q=l.set,b=l.getterFor;M.exports={getConstructor:function(d,g,m,f){d=d(function(t,G){c(t,n);q(t,{type:g,index:h(null),first:void 0,last:void 0,size:0});k||(t.size=0);void 0!=G&&e(G,t[f],{that:t,AS_ENTRIES:m})});var n=d.prototype,u=b(g),y=function(t,G,P){var x=
u(t),H=E(t,G),I,J;H?H.value=P:(x.last=H={index:J=r(G,!0),key:G,value:P,previous:I=x.last,next:void 0,removed:!1},x.first||(x.first=H),I&&(I.next=H),k?x.size++:t.size++,"F"!==J&&(x.index[J]=H));return t},E=function(t,G){t=u(t);var P=r(G);if("F"!==P)return t.index[P];for(t=t.first;t;t=t.next)if(t.key==G)return t};v(n,{clear:function(){for(var t=u(this),G=t.index,P=t.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=void 0),delete G[P.index],P=P.next;t.first=t.last=void 0;k?t.size=0:this.size=
0},"delete":function(t){var G=u(this);if(t=E(this,t)){var P=t.next,x=t.previous;delete G.index[t.index];t.removed=!0;x&&(x.next=P);P&&(P.previous=x);G.first==t&&(G.first=P);G.last==t&&(G.last=x);k?G.size--:this.size--}return!!t},forEach:function(t){for(var G=u(this),P=D(t,1<arguments.length?arguments[1]:void 0),x;x=x?x.next:G.first;)for(P(x.value,x.key,this);x&&x.removed;)x=x.previous},has:function(t){return!!E(this,t)}});v(n,m?{get:function(t){return(t=E(this,t))&&t.value},set:function(t,G){return y(this,
0===t?0:t,G)}}:{add:function(t){return y(this,t=0===t?0:t,t)}});k&&z(n,"size",{get:function(){return u(this).size}});return d},setStrong:function(d,g,m){var f=g+" Iterator",n=b(g),u=b(f);w(d,g,function(y,E){q(this,{type:f,target:y,state:n(y),kind:E,last:void 0})},function(){for(var y=u(this),E=y.kind,t=y.last;t&&t.removed;)t=t.previous;return y.target&&(y.last=t=t?t.next:y.state.first)?"keys"==E?{value:t.key,done:!1}:"values"==E?{value:t.value,done:!1}:{value:[t.key,t.value],done:!1}:(y.target=void 0,
{value:void 0,done:!0})},m?"entries":"values",!m,!0);a(g)}}},{"../internals/an-instance":84,"../internals/define-iterator":110,"../internals/descriptors":112,"../internals/function-bind-context":130,"../internals/internal-metadata":149,"../internals/internal-state":150,"../internals/iterate":160,"../internals/object-create":172,"../internals/object-define-property":174,"../internals/redefine-all":193,"../internals/set-species":197}],102:[function(l,M,C){var z=l("../internals/export"),h=l("../internals/global"),
v=l("../internals/function-uncurry-this"),D=l("../internals/is-forced"),c=l("../internals/redefine"),e=l("../internals/internal-metadata"),w=l("../internals/iterate"),a=l("../internals/an-instance"),k=l("../internals/is-callable"),r=l("../internals/is-object"),q=l("../internals/fails"),b=l("../internals/check-correctness-of-iteration"),d=l("../internals/set-to-string-tag"),g=l("../internals/inherit-if-required");M.exports=function(m,f,n){var u=-1!==m.indexOf("Map"),y=-1!==m.indexOf("Weak"),E=u?"set":
"add",t=h[m],G=t&&t.prototype,P=t,x={},H=function(ea){var ua=v(G[ea]);c(G,ea,"add"==ea?function(na){ua(this,0===na?0:na);return this}:"delete"==ea?function(na){return y&&!r(na)?!1:ua(this,0===na?0:na)}:"get"==ea?function(na){return y&&!r(na)?void 0:ua(this,0===na?0:na)}:"has"==ea?function(na){return y&&!r(na)?!1:ua(this,0===na?0:na)}:function(na,Q){ua(this,0===na?0:na,Q);return this})};if(D(m,!k(t)||!(y||G.forEach&&!q(function(){(new t).entries().next()}))))P=n.getConstructor(f,m,u,E),e.enable();
else if(D(m,!0)){var I=new P,J=I[E](y?{}:-0,1)!=I,L=q(function(){I.has(1)}),R=b(function(ea){new t(ea)}),fa=!y&&q(function(){for(var ea=new t,ua=5;ua--;)ea[E](ua,ua);return!ea.has(-0)});R||(P=f(function(ea,ua){a(ea,G);ea=g(new t,ea,P);void 0!=ua&&w(ua,ea[E],{that:ea,AS_ENTRIES:u});return ea}),P.prototype=G,G.constructor=P);if(L||fa)H("delete"),H("has"),u&&H("get");(fa||J)&&H(E);y&&G.clear&&delete G.clear}x[m]=P;z({global:!0,forced:P!=t},x);d(P,m);y||n.setStrong(P,m,u);return P}},{"../internals/an-instance":84,
"../internals/check-correctness-of-iteration":97,"../internals/export":126,"../internals/fails":127,"../internals/function-uncurry-this":134,"../internals/global":139,"../internals/inherit-if-required":146,"../internals/internal-metadata":149,"../internals/is-callable":153,"../internals/is-forced":155,"../internals/is-object":156,"../internals/iterate":160,"../internals/redefine":194,"../internals/set-to-string-tag":198}],103:[function(l,M,C){var z=l("../internals/has-own-property"),h=l("../internals/own-keys"),
v=l("../internals/object-get-own-property-descriptor"),D=l("../internals/object-define-property");M.exports=function(c,e,w){for(var a=h(e),k=D.f,r=v.f,q=0;q<a.length;q++){var b=a[q];z(c,b)||w&&z(w,b)||k(c,b,r(e,b))}}},{"../internals/has-own-property":140,"../internals/object-define-property":174,"../internals/object-get-own-property-descriptor":175,"../internals/own-keys":188}],104:[function(l,M,C){var z=l("../internals/well-known-symbol")("match");M.exports=function(h){var v=/./;try{"/./"[h](v)}catch(D){try{return v[z]=
!1,"/./"[h](v)}catch(c){}}return!1}},{"../internals/well-known-symbol":220}],105:[function(l,M,C){l=l("../internals/fails");M.exports=!l(function(){function z(){}z.prototype.constructor=null;return Object.getPrototypeOf(new z)!==z.prototype})},{"../internals/fails":127}],106:[function(l,M,C){var z=l("../internals/iterators-core").IteratorPrototype,h=l("../internals/object-create"),v=l("../internals/create-property-descriptor"),D=l("../internals/set-to-string-tag"),c=l("../internals/iterators"),e=
function(){return this};M.exports=function(w,a,k,r){a+=" Iterator";w.prototype=h(z,{next:v(+!r,k)});D(w,a,!1,!0);c[a]=e;return w}},{"../internals/create-property-descriptor":108,"../internals/iterators":163,"../internals/iterators-core":162,"../internals/object-create":172,"../internals/set-to-string-tag":198}],107:[function(l,M,C){C=l("../internals/descriptors");var z=l("../internals/object-define-property"),h=l("../internals/create-property-descriptor");M.exports=C?function(v,D,c){return z.f(v,
D,h(1,c))}:function(v,D,c){v[D]=c;return v}},{"../internals/create-property-descriptor":108,"../internals/descriptors":112,"../internals/object-define-property":174}],108:[function(l,M,C){M.exports=function(z,h){return{enumerable:!(z&1),configurable:!(z&2),writable:!(z&4),value:h}}},{}],109:[function(l,M,C){var z=l("../internals/to-property-key"),h=l("../internals/object-define-property"),v=l("../internals/create-property-descriptor");M.exports=function(D,c,e){c=z(c);c in D?h.f(D,c,v(0,e)):D[c]=e}},
{"../internals/create-property-descriptor":108,"../internals/object-define-property":174,"../internals/to-property-key":211}],110:[function(l,M,C){var z=l("../internals/export"),h=l("../internals/function-call"),v=l("../internals/is-pure");C=l("../internals/function-name");var D=l("../internals/is-callable"),c=l("../internals/create-iterator-constructor"),e=l("../internals/object-get-prototype-of"),w=l("../internals/object-set-prototype-of"),a=l("../internals/set-to-string-tag"),k=l("../internals/create-non-enumerable-property"),
r=l("../internals/redefine"),q=l("../internals/well-known-symbol"),b=l("../internals/iterators");l=l("../internals/iterators-core");var d=C.PROPER,g=C.CONFIGURABLE,m=l.IteratorPrototype,f=l.BUGGY_SAFARI_ITERATORS,n=q("iterator"),u=function(){return this};M.exports=function(y,E,t,G,P,x,H){c(t,E,G);G=function(Q){if(Q===P&&fa)return fa;if(!f&&Q in L)return L[Q];switch(Q){case "keys":return function(){return new t(this,Q)};case "values":return function(){return new t(this,Q)};case "entries":return function(){return new t(this,
Q)}}return function(){return new t(this)}};var I=E+" Iterator",J=!1,L=y.prototype,R=L[n]||L["@@iterator"]||P&&L[P],fa=!f&&R||G(P),ea="Array"==E?L.entries||R:R,ua;ea&&(y=e(ea.call(new y)),y!==Object.prototype&&y.next&&(v||e(y)===m||(w?w(y,m):D(y[n])||r(y,n,u)),a(y,I,!0,!0),v&&(b[I]=u)));d&&"values"==P&&R&&"values"!==R.name&&(!v&&g?k(L,"name","values"):(J=!0,fa=function(){return h(R,this)}));if(P){var na={values:G("values"),keys:x?fa:G("keys"),entries:G("entries")};if(H)for(ua in na)!f&&!J&&ua in L||
r(L,ua,na[ua]);else z({target:E,proto:!0,forced:f||J},na)}v&&!H||L[n]===fa||r(L,n,fa,{name:P});b[E]=fa;return na}},{"../internals/create-iterator-constructor":106,"../internals/create-non-enumerable-property":107,"../internals/export":126,"../internals/function-call":132,"../internals/function-name":133,"../internals/is-callable":153,"../internals/is-pure":157,"../internals/iterators":163,"../internals/iterators-core":162,"../internals/object-get-prototype-of":179,"../internals/object-set-prototype-of":185,
"../internals/redefine":194,"../internals/set-to-string-tag":198,"../internals/well-known-symbol":220}],111:[function(l,M,C){var z=l("../internals/path"),h=l("../internals/has-own-property"),v=l("../internals/well-known-symbol-wrapped"),D=l("../internals/object-define-property").f;M.exports=function(c){var e=z.Symbol||(z.Symbol={});h(e,c)||D(e,c,{value:v.f(c)})}},{"../internals/has-own-property":140,"../internals/object-define-property":174,"../internals/path":189,"../internals/well-known-symbol-wrapped":219}],
112:[function(l,M,C){l=l("../internals/fails");M.exports=!l(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":127}],113:[function(l,M,C){C=l("../internals/global");l=l("../internals/is-object");var z=C.document,h=l(z)&&l(z.createElement);M.exports=function(v){return h?z.createElement(v):{}}},{"../internals/global":139,"../internals/is-object":156}],114:[function(l,M,C){M.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,
DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],115:[function(l,M,C){l=(l=l("../internals/document-create-element")("span").classList)&&
l.constructor&&l.constructor.prototype;M.exports=l===Object.prototype?void 0:l},{"../internals/document-create-element":113}],116:[function(l,M,C){M.exports="object"==typeof window},{}],117:[function(l,M,C){C=l("../internals/engine-user-agent");l=l("../internals/global");M.exports=/ipad|iphone|ipod/i.test(C)&&void 0!==l.Pebble},{"../internals/engine-user-agent":121,"../internals/global":139}],118:[function(l,M,C){l=l("../internals/engine-user-agent");M.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(l)},
{"../internals/engine-user-agent":121}],119:[function(l,M,C){C=l("../internals/classof-raw");l=l("../internals/global");M.exports="process"==C(l.process)},{"../internals/classof-raw":98,"../internals/global":139}],120:[function(l,M,C){l=l("../internals/engine-user-agent");M.exports=/web0s(?!.*chrome)/i.test(l)},{"../internals/engine-user-agent":121}],121:[function(l,M,C){l=l("../internals/get-built-in");M.exports=l("navigator","userAgent")||""},{"../internals/get-built-in":135}],122:[function(l,M,
C){C=l("../internals/global");l=l("../internals/engine-user-agent");var z=C.process;C=C.Deno;C=(C=z&&z.versions||C&&C.version)&&C.v8;if(C){C=C.split(".");var h=0<C[0]&&4>C[0]?1:+(C[0]+C[1])}!h&&l&&(C=l.match(/Edge\/(\d+)/),(!C||74<=C[1])&&(C=l.match(/Chrome\/(\d+)/))&&(h=+C[1]));M.exports=h},{"../internals/engine-user-agent":121,"../internals/global":139}],123:[function(l,M,C){var z=l("../internals/global"),h=l("../internals/function-uncurry-this");M.exports=function(v,D){return h(z[v].prototype[D])}},
{"../internals/function-uncurry-this":134,"../internals/global":139}],124:[function(l,M,C){M.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},{}],125:[function(l,M,C){C=l("../internals/fails");var z=l("../internals/create-property-descriptor");M.exports=!C(function(){var h=Error("a");if(!("stack"in h))return!0;Object.defineProperty(h,"stack",z(1,7));return 7!==h.stack})},{"../internals/create-property-descriptor":108,"../internals/fails":127}],
126:[function(l,M,C){var z=l("../internals/global"),h=l("../internals/object-get-own-property-descriptor").f,v=l("../internals/create-non-enumerable-property"),D=l("../internals/redefine"),c=l("../internals/set-global"),e=l("../internals/copy-constructor-properties"),w=l("../internals/is-forced");M.exports=function(a,k){var r=a.target,q=a.global,b=a.stat,d,g,m;if(g=q?z:b?z[r]||c(r,{}):(z[r]||{}).prototype)for(m in k){var f=k[m];var n=a.noTargetGet?(d=h(g,m))&&d.value:g[m];d=w(q?m:r+(b?".":"#")+m,
a.forced);if(!d&&void 0!==n){if(typeof f==typeof n)continue;e(f,n)}(a.sham||n&&n.sham)&&v(f,"sham",!0);D(g,m,f,a)}}},{"../internals/copy-constructor-properties":103,"../internals/create-non-enumerable-property":107,"../internals/global":139,"../internals/is-forced":155,"../internals/object-get-own-property-descriptor":175,"../internals/redefine":194,"../internals/set-global":196}],127:[function(l,M,C){M.exports=function(z){try{return!!z()}catch(h){return!0}}},{}],128:[function(l,M,C){l=l("../internals/fails");
M.exports=!l(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":127}],129:[function(l,M,C){l=l("../internals/function-bind-native");C=Function.prototype;var z=C.apply,h=C.call;M.exports="object"==typeof Reflect&&Reflect.apply||(l?h.bind(z):function(){return h.apply(z,arguments)})},{"../internals/function-bind-native":131}],130:[function(l,M,C){C=l("../internals/function-uncurry-this");var z=l("../internals/a-callable"),h=l("../internals/function-bind-native"),
v=C(C.bind);M.exports=function(D,c){z(D);return void 0===c?D:h?v(D,c):function(){return D.apply(c,arguments)}}},{"../internals/a-callable":80,"../internals/function-bind-native":131,"../internals/function-uncurry-this":134}],131:[function(l,M,C){l=l("../internals/fails");M.exports=!l(function(){var z=function(){}.bind();return"function"!=typeof z||z.hasOwnProperty("prototype")})},{"../internals/fails":127}],132:[function(l,M,C){l=l("../internals/function-bind-native");var z=Function.prototype.call;
M.exports=l?z.bind(z):function(){return z.apply(z,arguments)}},{"../internals/function-bind-native":131}],133:[function(l,M,C){C=l("../internals/descriptors");var z=l("../internals/has-own-property");l=Function.prototype;var h=C&&Object.getOwnPropertyDescriptor,v=(z=z(l,"name"))&&"something"===function(){}.name;C=z&&(!C||C&&h(l,"name").configurable);M.exports={EXISTS:z,PROPER:v,CONFIGURABLE:C}},{"../internals/descriptors":112,"../internals/has-own-property":140}],134:[function(l,M,C){l=l("../internals/function-bind-native");
C=Function.prototype;var z=C.bind,h=C.call,v=l&&z.bind(h,h);M.exports=l?function(D){return D&&v(D)}:function(D){return D&&function(){return h.apply(D,arguments)}}},{"../internals/function-bind-native":131}],135:[function(l,M,C){var z=l("../internals/global"),h=l("../internals/is-callable");M.exports=function(v,D){if(2>arguments.length){var c=z[v];c=h(c)?c:void 0}else c=z[v]&&z[v][D];return c}},{"../internals/global":139,"../internals/is-callable":153}],136:[function(l,M,C){var z=l("../internals/classof"),
h=l("../internals/get-method"),v=l("../internals/iterators"),D=l("../internals/well-known-symbol")("iterator");M.exports=function(c){if(void 0!=c)return h(c,D)||h(c,"@@iterator")||v[z(c)]}},{"../internals/classof":99,"../internals/get-method":138,"../internals/iterators":163,"../internals/well-known-symbol":220}],137:[function(l,M,C){C=l("../internals/global");var z=l("../internals/function-call"),h=l("../internals/a-callable"),v=l("../internals/an-object"),D=l("../internals/try-to-string"),c=l("../internals/get-iterator-method"),
e=C.TypeError;M.exports=function(w,a){var k=2>arguments.length?c(w):a;if(h(k))return v(z(k,w));throw e(D(w)+" is not iterable");}},{"../internals/a-callable":80,"../internals/an-object":85,"../internals/function-call":132,"../internals/get-iterator-method":136,"../internals/global":139,"../internals/try-to-string":214}],138:[function(l,M,C){var z=l("../internals/a-callable");M.exports=function(h,v){h=h[v];return null==h?void 0:z(h)}},{"../internals/a-callable":80}],139:[function(l,M,C){(function(z){(function(){var h=
function(v){return v&&v.Math==Math&&v};M.exports=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof z&&z)||function(){return this}()||Function("return this")()}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],140:[function(l,M,C){C=l("../internals/function-uncurry-this");var z=l("../internals/to-object"),h=C({}.hasOwnProperty);M.exports=
Object.hasOwn||function(v,D){return h(z(v),D)}},{"../internals/function-uncurry-this":134,"../internals/to-object":209}],141:[function(l,M,C){M.exports={}},{}],142:[function(l,M,C){var z=l("../internals/global");M.exports=function(h,v){var D=z.console;D&&D.error&&(1==arguments.length?D.error(h):D.error(h,v))}},{"../internals/global":139}],143:[function(l,M,C){l=l("../internals/get-built-in");M.exports=l("document","documentElement")},{"../internals/get-built-in":135}],144:[function(l,M,C){C=l("../internals/descriptors");
var z=l("../internals/fails"),h=l("../internals/document-create-element");M.exports=!C&&!z(function(){return 7!=Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":112,"../internals/document-create-element":113,"../internals/fails":127}],145:[function(l,M,C){C=l("../internals/global");var z=l("../internals/function-uncurry-this"),h=l("../internals/fails"),v=l("../internals/classof-raw"),D=C.Object,c=z("".split);M.exports=h(function(){return!D("z").propertyIsEnumerable(0)})?
function(e){return"String"==v(e)?c(e,""):D(e)}:D},{"../internals/classof-raw":98,"../internals/fails":127,"../internals/function-uncurry-this":134,"../internals/global":139}],146:[function(l,M,C){var z=l("../internals/is-callable"),h=l("../internals/is-object"),v=l("../internals/object-set-prototype-of");M.exports=function(D,c,e){var w,a;v&&z(w=c.constructor)&&w!==e&&h(a=w.prototype)&&a!==e.prototype&&v(D,a);return D}},{"../internals/is-callable":153,"../internals/is-object":156,"../internals/object-set-prototype-of":185}],
147:[function(l,M,C){C=l("../internals/function-uncurry-this");var z=l("../internals/is-callable");l=l("../internals/shared-store");var h=C(Function.toString);z(l.inspectSource)||(l.inspectSource=function(v){return h(v)});M.exports=l.inspectSource},{"../internals/function-uncurry-this":134,"../internals/is-callable":153,"../internals/shared-store":200}],148:[function(l,M,C){var z=l("../internals/is-object"),h=l("../internals/create-non-enumerable-property");M.exports=function(v,D){z(D)&&"cause"in
D&&h(v,"cause",D.cause)}},{"../internals/create-non-enumerable-property":107,"../internals/is-object":156}],149:[function(l,M,C){var z=l("../internals/export"),h=l("../internals/function-uncurry-this");C=l("../internals/hidden-keys");var v=l("../internals/is-object"),D=l("../internals/has-own-property"),c=l("../internals/object-define-property").f,e=l("../internals/object-get-own-property-names"),w=l("../internals/object-get-own-property-names-external"),a=l("../internals/object-is-extensible"),k=
l("../internals/uid"),r=l("../internals/freezing"),q=!1,b=k("meta"),d=0,g=function(f){c(f,b,{value:{objectID:"O"+d++,weakData:{}}})},m=M.exports={enable:function(){m.enable=function(){};q=!0;var f=e.f,n=h([].splice),u={};u[b]=1;f(u).length&&(e.f=function(y){y=f(y);for(var E=0,t=y.length;E<t;E++)if(y[E]===b){n(y,E,1);break}return y},z({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:w.f}))},fastKey:function(f,n){if(!v(f))return"symbol"==typeof f?f:("string"==typeof f?"S":"P")+f;if(!D(f,b)){if(!a(f))return"F";
if(!n)return"E";g(f)}return f[b].objectID},getWeakData:function(f,n){if(!D(f,b)){if(!a(f))return!0;if(!n)return!1;g(f)}return f[b].weakData},onFreeze:function(f){r&&q&&a(f)&&!D(f,b)&&g(f);return f}};C[b]=!0},{"../internals/export":126,"../internals/freezing":128,"../internals/function-uncurry-this":134,"../internals/has-own-property":140,"../internals/hidden-keys":141,"../internals/is-object":156,"../internals/object-define-property":174,"../internals/object-get-own-property-names":177,"../internals/object-get-own-property-names-external":176,
"../internals/object-is-extensible":180,"../internals/uid":216}],150:[function(l,M,C){C=l("../internals/native-weak-map");var z=l("../internals/global"),h=l("../internals/function-uncurry-this"),v=l("../internals/is-object"),D=l("../internals/create-non-enumerable-property"),c=l("../internals/has-own-property"),e=l("../internals/shared-store"),w=l("../internals/shared-key");l=l("../internals/hidden-keys");var a=z.TypeError;z=z.WeakMap;if(C||e.state){var k=e.state||(e.state=new z),r=h(k.get),q=h(k.has),
b=h(k.set);var d=function(n,u){if(q(k,n))throw new a("Object already initialized");u.facade=n;b(k,n,u);return u};var g=function(n){return r(k,n)||{}};var m=function(n){return q(k,n)}}else{var f=w("state");l[f]=!0;d=function(n,u){if(c(n,f))throw new a("Object already initialized");u.facade=n;D(n,f,u);return u};g=function(n){return c(n,f)?n[f]:{}};m=function(n){return c(n,f)}}M.exports={set:d,get:g,has:m,enforce:function(n){return m(n)?g(n):d(n,{})},getterFor:function(n){return function(u){var y;if(!v(u)||
(y=g(u)).type!==n)throw a("Incompatible receiver, "+n+" required");return y}}}},{"../internals/create-non-enumerable-property":107,"../internals/function-uncurry-this":134,"../internals/global":139,"../internals/has-own-property":140,"../internals/hidden-keys":141,"../internals/is-object":156,"../internals/native-weak-map":168,"../internals/shared-key":199,"../internals/shared-store":200}],151:[function(l,M,C){C=l("../internals/well-known-symbol");var z=l("../internals/iterators"),h=C("iterator"),
v=Array.prototype;M.exports=function(D){return void 0!==D&&(z.Array===D||v[h]===D)}},{"../internals/iterators":163,"../internals/well-known-symbol":220}],152:[function(l,M,C){var z=l("../internals/classof-raw");M.exports=Array.isArray||function(h){return"Array"==z(h)}},{"../internals/classof-raw":98}],153:[function(l,M,C){M.exports=function(z){return"function"==typeof z}},{}],154:[function(l,M,C){var z=l("../internals/function-uncurry-this");C=l("../internals/fails");var h=l("../internals/is-callable"),
v=l("../internals/classof"),D=l("../internals/get-built-in"),c=l("../internals/inspect-source"),e=function(){},w=[],a=D("Reflect","construct"),k=/^\s*(?:class|function)\b/,r=z(k.exec),q=!k.exec(e),b=function(d){if(!h(d))return!1;try{return a(e,w,d),!0}catch(g){return!1}};l=function(d){if(!h(d))return!1;switch(v(d)){case "AsyncFunction":case "GeneratorFunction":case "AsyncGeneratorFunction":return!1}try{return q||!!r(k,c(d))}catch(g){return!0}};l.sham=!0;M.exports=!a||C(function(){var d;return b(b.call)||
!b(Object)||!b(function(){d=!0})||d})?l:b},{"../internals/classof":99,"../internals/fails":127,"../internals/function-uncurry-this":134,"../internals/get-built-in":135,"../internals/inspect-source":147,"../internals/is-callable":153}],155:[function(l,M,C){var z=l("../internals/fails"),h=l("../internals/is-callable"),v=/#|\.prototype\./;l=function(a,k){a=c[D(a)];return a==w?!0:a==e?!1:h(k)?z(k):!!k};var D=l.normalize=function(a){return String(a).replace(v,".").toLowerCase()},c=l.data={},e=l.NATIVE=
"N",w=l.POLYFILL="P";M.exports=l},{"../internals/fails":127,"../internals/is-callable":153}],156:[function(l,M,C){var z=l("../internals/is-callable");M.exports=function(h){return"object"==typeof h?null!==h:z(h)}},{"../internals/is-callable":153}],157:[function(l,M,C){M.exports=!1},{}],158:[function(l,M,C){var z=l("../internals/is-object"),h=l("../internals/classof-raw"),v=l("../internals/well-known-symbol")("match");M.exports=function(D){var c;return z(D)&&(void 0!==(c=D[v])?!!c:"RegExp"==h(D))}},
{"../internals/classof-raw":98,"../internals/is-object":156,"../internals/well-known-symbol":220}],159:[function(l,M,C){C=l("../internals/global");var z=l("../internals/get-built-in"),h=l("../internals/is-callable"),v=l("../internals/object-is-prototype-of");l=l("../internals/use-symbol-as-uid");var D=C.Object;M.exports=l?function(c){return"symbol"==typeof c}:function(c){var e=z("Symbol");return h(e)&&v(e.prototype,D(c))}},{"../internals/get-built-in":135,"../internals/global":139,"../internals/is-callable":153,
"../internals/object-is-prototype-of":181,"../internals/use-symbol-as-uid":217}],160:[function(l,M,C){C=l("../internals/global");var z=l("../internals/function-bind-context"),h=l("../internals/function-call"),v=l("../internals/an-object"),D=l("../internals/try-to-string"),c=l("../internals/is-array-iterator-method"),e=l("../internals/length-of-array-like"),w=l("../internals/object-is-prototype-of"),a=l("../internals/get-iterator"),k=l("../internals/get-iterator-method"),r=l("../internals/iterator-close"),
q=C.TypeError,b=function(g,m){this.stopped=g;this.result=m},d=b.prototype;M.exports=function(g,m,f){var n=!(!f||!f.AS_ENTRIES),u=!(!f||!f.IS_ITERATOR),y=!(!f||!f.INTERRUPTED),E=z(m,f&&f.that),t,G=function(x){P&&r(P,"normal",x);return new b(!0,x)};m=function(x){return n?(v(x),y?E(x[0],x[1],G):E(x[0],x[1])):y?E(x,G):E(x)};if(u)var P=g;else{u=k(g);if(!u)throw q(D(g)+" is not iterable");if(c(u)){u=0;for(f=e(g);f>u;u++)if((t=m(g[u]))&&w(d,t))return t;return new b(!1)}P=a(g,u)}for(g=P.next;!(u=h(g,P)).done;){try{t=
m(u.value)}catch(x){r(P,"throw",x)}if("object"==typeof t&&t&&w(d,t))return t}return new b(!1)}},{"../internals/an-object":85,"../internals/function-bind-context":130,"../internals/function-call":132,"../internals/get-iterator":137,"../internals/get-iterator-method":136,"../internals/global":139,"../internals/is-array-iterator-method":151,"../internals/iterator-close":161,"../internals/length-of-array-like":164,"../internals/object-is-prototype-of":181,"../internals/try-to-string":214}],161:[function(l,
M,C){var z=l("../internals/function-call"),h=l("../internals/an-object"),v=l("../internals/get-method");M.exports=function(D,c,e){h(D);try{var w=v(D,"return");if(!w){if("throw"===c)throw e;return e}w=z(w,D)}catch(k){var a=!0;w=k}if("throw"===c)throw e;if(a)throw w;h(w);return e}},{"../internals/an-object":85,"../internals/function-call":132,"../internals/get-method":138}],162:[function(l,M,C){C=l("../internals/fails");var z=l("../internals/is-callable"),h=l("../internals/object-create"),v=l("../internals/object-get-prototype-of"),
D=l("../internals/redefine"),c=l("../internals/well-known-symbol");l=l("../internals/is-pure");var e=c("iterator");c=!1;var w;if([].keys){var a=[].keys();"next"in a?(v=v(v(a)),v!==Object.prototype&&(w=v)):c=!0}void 0==w||C(function(){var k={};return w[e].call(k)!==k})?w={}:l&&(w=h(w));z(w[e])||D(w,e,function(){return this});M.exports={IteratorPrototype:w,BUGGY_SAFARI_ITERATORS:c}},{"../internals/fails":127,"../internals/is-callable":153,"../internals/is-pure":157,"../internals/object-create":172,
"../internals/object-get-prototype-of":179,"../internals/redefine":194,"../internals/well-known-symbol":220}],163:[function(l,M,C){arguments[4][141][0].apply(C,arguments)},{dup:141}],164:[function(l,M,C){var z=l("../internals/to-length");M.exports=function(h){return z(h.length)}},{"../internals/to-length":208}],165:[function(l,M,C){var z=l("../internals/global");C=l("../internals/function-bind-context");var h=l("../internals/object-get-own-property-descriptor").f,v=l("../internals/task").set,D=l("../internals/engine-is-ios"),
c=l("../internals/engine-is-ios-pebble"),e=l("../internals/engine-is-webos-webkit"),w=l("../internals/engine-is-node"),a=z.MutationObserver||z.WebKitMutationObserver,k=z.document,r=z.process;l=z.Promise;h=(h=h(z,"queueMicrotask"))&&h.value;var q,b;if(!h){var d=function(){var u;for(w&&(u=r.domain)&&u.exit();q;){var y=q.fn;q=q.next;try{y()}catch(E){throw q?m():b=void 0,E;}}b=void 0;u&&u.enter()};if(D||w||e||!a||!k)if(!c&&l&&l.resolve){z=l.resolve(void 0);z.constructor=l;var g=C(z.then,z);var m=function(){g(d)}}else w?
m=function(){r.nextTick(d)}:(v=C(v,z),m=function(){v(d)});else{var f=!0;var n=k.createTextNode("");(new a(d)).observe(n,{characterData:!0});m=function(){n.data=f=!f}}}M.exports=h||function(u){u={fn:u,next:void 0};b&&(b.next=u);q||(q=u,m());b=u}},{"../internals/engine-is-ios":118,"../internals/engine-is-ios-pebble":117,"../internals/engine-is-node":119,"../internals/engine-is-webos-webkit":120,"../internals/function-bind-context":130,"../internals/global":139,"../internals/object-get-own-property-descriptor":175,
"../internals/task":204}],166:[function(l,M,C){l=l("../internals/global");M.exports=l.Promise},{"../internals/global":139}],167:[function(l,M,C){var z=l("../internals/engine-v8-version");l=l("../internals/fails");M.exports=!!Object.getOwnPropertySymbols&&!l(function(){var h=Symbol();return!String(h)||!(Object(h)instanceof Symbol)||!Symbol.sham&&z&&41>z})},{"../internals/engine-v8-version":122,"../internals/fails":127}],168:[function(l,M,C){var z=l("../internals/global");C=l("../internals/is-callable");
l=l("../internals/inspect-source");z=z.WeakMap;M.exports=C(z)&&/native code/.test(l(z))},{"../internals/global":139,"../internals/inspect-source":147,"../internals/is-callable":153}],169:[function(l,M,C){var z=l("../internals/a-callable"),h=function(v){var D,c;this.promise=new v(function(e,w){if(void 0!==D||void 0!==c)throw TypeError("Bad Promise constructor");D=e;c=w});this.resolve=z(D);this.reject=z(c)};M.exports.f=function(v){return new h(v)}},{"../internals/a-callable":80}],170:[function(l,M,
C){var z=l("../internals/to-string");M.exports=function(h,v){return void 0===h?2>arguments.length?"":v:z(h)}},{"../internals/to-string":213}],171:[function(l,M,C){C=l("../internals/global");var z=l("../internals/is-regexp"),h=C.TypeError;M.exports=function(v){if(z(v))throw h("The method doesn't accept regular expressions");return v}},{"../internals/global":139,"../internals/is-regexp":158}],172:[function(l,M,C){var z=l("../internals/an-object"),h=l("../internals/object-define-properties"),v=l("../internals/enum-bug-keys");
C=l("../internals/hidden-keys");var D=l("../internals/html"),c=l("../internals/document-create-element"),e=l("../internals/shared-key")("IE_PROTO"),w=function(){},a=function(q){q.write("<script>\x3c/script>");q.close();return q.parentWindow.Object},k,r=function(){try{k=new ActiveXObject("htmlfile")}catch(b){}if("undefined"!=typeof document)if(document.domain&&k)var q=a(k);else q=c("iframe"),q.style.display="none",D.appendChild(q),q.src="javascript:",q=q.contentWindow.document,q.open(),q.write("<script>document.F=Object\x3c/script>"),
q.close(),q=q.F;else q=a(k);r=q;for(q=v.length;q--;)delete r.prototype[v[q]];return r()};C[e]=!0;M.exports=Object.create||function(q,b){if(null!==q){w.prototype=z(q);var d=new w;w.prototype=null;d[e]=q}else d=r();return void 0===b?d:h.f(d,b)}},{"../internals/an-object":85,"../internals/document-create-element":113,"../internals/enum-bug-keys":124,"../internals/hidden-keys":141,"../internals/html":143,"../internals/object-define-properties":173,"../internals/shared-key":199}],173:[function(l,M,C){M=
l("../internals/descriptors");var z=l("../internals/v8-prototype-define-bug"),h=l("../internals/object-define-property"),v=l("../internals/an-object"),D=l("../internals/to-indexed-object"),c=l("../internals/object-keys");C.f=M&&!z?Object.defineProperties:function(e,w){v(e);var a=D(w);w=c(w);for(var k=w.length,r=0,q;k>r;)h.f(e,q=w[r++],a[q]);return e}},{"../internals/an-object":85,"../internals/descriptors":112,"../internals/object-define-property":174,"../internals/object-keys":183,"../internals/to-indexed-object":206,
"../internals/v8-prototype-define-bug":218}],174:[function(l,M,C){M=l("../internals/global");var z=l("../internals/descriptors"),h=l("../internals/ie8-dom-define"),v=l("../internals/v8-prototype-define-bug"),D=l("../internals/an-object"),c=l("../internals/to-property-key"),e=M.TypeError,w=Object.defineProperty,a=Object.getOwnPropertyDescriptor;C.f=z?v?function(k,r,q){D(k);r=c(r);D(q);if("function"===typeof k&&"prototype"===r&&"value"in q&&"writable"in q&&!q.writable){var b=a(k,r);b&&b.writable&&(k[r]=
q.value,q={configurable:"configurable"in q?q.configurable:b.configurable,enumerable:"enumerable"in q?q.enumerable:b.enumerable,writable:!1})}return w(k,r,q)}:w:function(k,r,q){D(k);r=c(r);D(q);if(h)try{return w(k,r,q)}catch(b){}if("get"in q||"set"in q)throw e("Accessors not supported");"value"in q&&(k[r]=q.value);return k}},{"../internals/an-object":85,"../internals/descriptors":112,"../internals/global":139,"../internals/ie8-dom-define":144,"../internals/to-property-key":211,"../internals/v8-prototype-define-bug":218}],
175:[function(l,M,C){M=l("../internals/descriptors");var z=l("../internals/function-call"),h=l("../internals/object-property-is-enumerable"),v=l("../internals/create-property-descriptor"),D=l("../internals/to-indexed-object"),c=l("../internals/to-property-key"),e=l("../internals/has-own-property"),w=l("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;C.f=M?a:function(k,r){k=D(k);r=c(r);if(w)try{return a(k,r)}catch(q){}if(e(k,r))return v(!z(h.f,k,r),k[r])}},{"../internals/create-property-descriptor":108,
"../internals/descriptors":112,"../internals/function-call":132,"../internals/has-own-property":140,"../internals/ie8-dom-define":144,"../internals/object-property-is-enumerable":184,"../internals/to-indexed-object":206,"../internals/to-property-key":211}],176:[function(l,M,C){var z=l("../internals/classof-raw"),h=l("../internals/to-indexed-object"),v=l("../internals/object-get-own-property-names").f,D=l("../internals/array-slice-simple"),c="object"==typeof window&&window&&Object.getOwnPropertyNames?
Object.getOwnPropertyNames(window):[];M.exports.f=function(e){if(c&&"Window"==z(e))try{var w=v(e)}catch(a){w=D(c)}else w=v(h(e));return w}},{"../internals/array-slice-simple":93,"../internals/classof-raw":98,"../internals/object-get-own-property-names":177,"../internals/to-indexed-object":206}],177:[function(l,M,C){var z=l("../internals/object-keys-internal"),h=l("../internals/enum-bug-keys").concat("length","prototype");C.f=Object.getOwnPropertyNames||function(v){return z(v,h)}},{"../internals/enum-bug-keys":124,
"../internals/object-keys-internal":182}],178:[function(l,M,C){C.f=Object.getOwnPropertySymbols},{}],179:[function(l,M,C){C=l("../internals/global");var z=l("../internals/has-own-property"),h=l("../internals/is-callable"),v=l("../internals/to-object"),D=l("../internals/shared-key");l=l("../internals/correct-prototype-getter");var c=D("IE_PROTO"),e=C.Object,w=e.prototype;M.exports=l?e.getPrototypeOf:function(a){a=v(a);if(z(a,c))return a[c];var k=a.constructor;return h(k)&&a instanceof k?k.prototype:
a instanceof e?w:null}},{"../internals/correct-prototype-getter":105,"../internals/global":139,"../internals/has-own-property":140,"../internals/is-callable":153,"../internals/shared-key":199,"../internals/to-object":209}],180:[function(l,M,C){C=l("../internals/fails");var z=l("../internals/is-object"),h=l("../internals/classof-raw"),v=l("../internals/array-buffer-non-extensible"),D=Object.isExtensible;l=C(function(){D(1)});M.exports=l||v?function(c){return!z(c)||v&&"ArrayBuffer"==h(c)?!1:D?D(c):
!0}:D},{"../internals/array-buffer-non-extensible":87,"../internals/classof-raw":98,"../internals/fails":127,"../internals/is-object":156}],181:[function(l,M,C){l=l("../internals/function-uncurry-this");M.exports=l({}.isPrototypeOf)},{"../internals/function-uncurry-this":134}],182:[function(l,M,C){C=l("../internals/function-uncurry-this");var z=l("../internals/has-own-property"),h=l("../internals/to-indexed-object"),v=l("../internals/array-includes").indexOf,D=l("../internals/hidden-keys"),c=C([].push);
M.exports=function(e,w){e=h(e);var a=0,k=[],r;for(r in e)!z(D,r)&&z(e,r)&&c(k,r);for(;w.length>a;)z(e,r=w[a++])&&(~v(k,r)||c(k,r));return k}},{"../internals/array-includes":90,"../internals/function-uncurry-this":134,"../internals/has-own-property":140,"../internals/hidden-keys":141,"../internals/to-indexed-object":206}],183:[function(l,M,C){var z=l("../internals/object-keys-internal"),h=l("../internals/enum-bug-keys");M.exports=Object.keys||function(v){return z(v,h)}},{"../internals/enum-bug-keys":124,
"../internals/object-keys-internal":182}],184:[function(l,M,C){l={}.propertyIsEnumerable;var z=Object.getOwnPropertyDescriptor;M=z&&!l.call({1:2},1);C.f=M?function(h){h=z(this,h);return!!h&&h.enumerable}:l},{}],185:[function(l,M,C){var z=l("../internals/function-uncurry-this"),h=l("../internals/an-object"),v=l("../internals/a-possible-prototype");M.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var D=!1,c={};try{var e=z(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set);
e(c,[]);D=c instanceof Array}catch(w){}return function(w,a){h(w);v(a);D?e(w,a):w.__proto__=a;return w}}():void 0)},{"../internals/a-possible-prototype":82,"../internals/an-object":85,"../internals/function-uncurry-this":134}],186:[function(l,M,C){C=l("../internals/to-string-tag-support");var z=l("../internals/classof");M.exports=C?{}.toString:function(){return"[object "+z(this)+"]"}},{"../internals/classof":99,"../internals/to-string-tag-support":212}],187:[function(l,M,C){C=l("../internals/global");
var z=l("../internals/function-call"),h=l("../internals/is-callable"),v=l("../internals/is-object"),D=C.TypeError;M.exports=function(c,e){var w,a;if("string"===e&&h(w=c.toString)&&!v(a=z(w,c))||h(w=c.valueOf)&&!v(a=z(w,c))||"string"!==e&&h(w=c.toString)&&!v(a=z(w,c)))return a;throw D("Can't convert object to primitive value");}},{"../internals/function-call":132,"../internals/global":139,"../internals/is-callable":153,"../internals/is-object":156}],188:[function(l,M,C){C=l("../internals/get-built-in");
var z=l("../internals/function-uncurry-this"),h=l("../internals/object-get-own-property-names"),v=l("../internals/object-get-own-property-symbols"),D=l("../internals/an-object"),c=z([].concat);M.exports=C("Reflect","ownKeys")||function(e){var w=h.f(D(e)),a=v.f;return a?c(w,a(e)):w}},{"../internals/an-object":85,"../internals/function-uncurry-this":134,"../internals/get-built-in":135,"../internals/object-get-own-property-names":177,"../internals/object-get-own-property-symbols":178}],189:[function(l,
M,C){l=l("../internals/global");M.exports=l},{"../internals/global":139}],190:[function(l,M,C){M.exports=function(z){try{return{error:!1,value:z()}}catch(h){return{error:!0,value:h}}}},{}],191:[function(l,M,C){var z=l("../internals/an-object"),h=l("../internals/is-object"),v=l("../internals/new-promise-capability");M.exports=function(D,c){z(D);if(h(c)&&c.constructor===D)return c;D=v.f(D);var e=D.resolve;e(c);return D.promise}},{"../internals/an-object":85,"../internals/is-object":156,"../internals/new-promise-capability":169}],
192:[function(l,M,C){l=function(){this.tail=this.head=null};l.prototype={add:function(z){z={item:z,next:null};this.head?this.tail.next=z:this.head=z;this.tail=z},get:function(){var z=this.head;if(z)return this.head=z.next,this.tail===z&&(this.tail=null),z.item}};M.exports=l},{}],193:[function(l,M,C){var z=l("../internals/redefine");M.exports=function(h,v,D){for(var c in v)z(h,c,v[c],D);return h}},{"../internals/redefine":194}],194:[function(l,M,C){var z=l("../internals/global"),h=l("../internals/is-callable"),
v=l("../internals/has-own-property"),D=l("../internals/create-non-enumerable-property"),c=l("../internals/set-global"),e=l("../internals/inspect-source");C=l("../internals/internal-state");var w=l("../internals/function-name").CONFIGURABLE,a=C.get,k=C.enforce,r=String(String).split("String");(M.exports=function(q,b,d,g){var m=g?!!g.unsafe:!1,f=g?!!g.enumerable:!1,n=g?!!g.noTargetGet:!1;g=g&&void 0!==g.name?g.name:b;if(h(d)){"Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,
"$1")+"]");(!v(d,"name")||w&&d.name!==g)&&D(d,"name",g);var u=k(d);u.source||(u.source=r.join("string"==typeof g?g:""))}q===z?f?q[b]=d:c(b,d):(m?!n&&q[b]&&(f=!0):delete q[b],f?q[b]=d:D(q,b,d))})(Function.prototype,"toString",function(){return h(this)&&a(this).source||e(this)})},{"../internals/create-non-enumerable-property":107,"../internals/function-name":133,"../internals/global":139,"../internals/has-own-property":140,"../internals/inspect-source":147,"../internals/internal-state":150,"../internals/is-callable":153,
"../internals/set-global":196}],195:[function(l,M,C){var z=l("../internals/global").TypeError;M.exports=function(h){if(void 0==h)throw z("Can't call method on "+h);return h}},{"../internals/global":139}],196:[function(l,M,C){var z=l("../internals/global"),h=Object.defineProperty;M.exports=function(v,D){try{h(z,v,{value:D,configurable:!0,writable:!0})}catch(c){z[v]=D}return D}},{"../internals/global":139}],197:[function(l,M,C){var z=l("../internals/get-built-in"),h=l("../internals/object-define-property");
C=l("../internals/well-known-symbol");var v=l("../internals/descriptors"),D=C("species");M.exports=function(c){c=z(c);var e=h.f;v&&c&&!c[D]&&e(c,D,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":112,"../internals/get-built-in":135,"../internals/object-define-property":174,"../internals/well-known-symbol":220}],198:[function(l,M,C){var z=l("../internals/object-define-property").f,h=l("../internals/has-own-property"),v=l("../internals/well-known-symbol")("toStringTag");
M.exports=function(D,c,e){D&&!e&&(D=D.prototype);D&&!h(D,v)&&z(D,v,{configurable:!0,value:c})}},{"../internals/has-own-property":140,"../internals/object-define-property":174,"../internals/well-known-symbol":220}],199:[function(l,M,C){C=l("../internals/shared");var z=l("../internals/uid"),h=C("keys");M.exports=function(v){return h[v]||(h[v]=z(v))}},{"../internals/shared":201,"../internals/uid":216}],200:[function(l,M,C){C=l("../internals/global");l=l("../internals/set-global");l=C["__core-js_shared__"]||
l("__core-js_shared__",{});M.exports=l},{"../internals/global":139,"../internals/set-global":196}],201:[function(l,M,C){C=l("../internals/is-pure");var z=l("../internals/shared-store");(M.exports=function(h,v){return z[h]||(z[h]=void 0!==v?v:{})})("versions",[]).push({version:"3.20.3",mode:C?"pure":"global",copyright:"\u00a9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":157,
"../internals/shared-store":200}],202:[function(l,M,C){var z=l("../internals/an-object"),h=l("../internals/a-constructor"),v=l("../internals/well-known-symbol")("species");M.exports=function(D,c){D=z(D).constructor;var e;return void 0===D||void 0==(e=z(D)[v])?c:h(e)}},{"../internals/a-constructor":81,"../internals/an-object":85,"../internals/well-known-symbol":220}],203:[function(l,M,C){C=l("../internals/function-uncurry-this");var z=l("../internals/to-integer-or-infinity"),h=l("../internals/to-string"),
v=l("../internals/require-object-coercible"),D=C("".charAt),c=C("".charCodeAt),e=C("".slice);l=function(w){return function(a,k){a=h(v(a));k=z(k);var r=a.length,q;if(0>k||k>=r)return w?"":void 0;var b=c(a,k);return 55296>b||56319<b||k+1===r||56320>(q=c(a,k+1))||57343<q?w?D(a,k):b:w?e(a,k,k+2):(b-55296<<10)+(q-56320)+65536}};M.exports={codeAt:l(!1),charAt:l(!0)}},{"../internals/function-uncurry-this":134,"../internals/require-object-coercible":195,"../internals/to-integer-or-infinity":207,"../internals/to-string":213}],
204:[function(l,M,C){var z=l("../internals/global"),h=l("../internals/function-apply");C=l("../internals/function-bind-context");var v=l("../internals/is-callable"),D=l("../internals/has-own-property"),c=l("../internals/fails"),e=l("../internals/html"),w=l("../internals/array-slice"),a=l("../internals/document-create-element"),k=l("../internals/engine-is-ios"),r=l("../internals/engine-is-node");l=z.setImmediate;var q=z.clearImmediate,b=z.process,d=z.Dispatch,g=z.Function,m=z.MessageChannel,f=z.String,
n=0,u={};try{var y=z.location}catch(H){}var E=function(H){if(D(u,H)){var I=u[H];delete u[H];I()}},t=function(H){return function(){E(H)}},G=function(H){E(H.data)},P=function(H){z.postMessage(f(H),y.protocol+"//"+y.host)};if(!l||!q)if(l=function(H){var I=w(arguments,1);u[++n]=function(){h(v(H)?H:g(H),void 0,I)};x(n);return n},q=function(H){delete u[H]},r)var x=function(H){b.nextTick(t(H))};else d&&d.now?x=function(H){d.now(t(H))}:m&&!k?(c=new m,k=c.port2,c.port1.onmessage=G,x=C(k.postMessage,k)):z.addEventListener&&
v(z.postMessage)&&!z.importScripts&&y&&"file:"!==y.protocol&&!c(P)?(x=P,z.addEventListener("message",G,!1)):x="onreadystatechange"in a("script")?function(H){e.appendChild(a("script")).onreadystatechange=function(){e.removeChild(this);E(H)}}:function(H){setTimeout(t(H),0)};M.exports={set:l,clear:q}},{"../internals/array-slice":94,"../internals/document-create-element":113,"../internals/engine-is-ios":118,"../internals/engine-is-node":119,"../internals/fails":127,"../internals/function-apply":129,"../internals/function-bind-context":130,
"../internals/global":139,"../internals/has-own-property":140,"../internals/html":143,"../internals/is-callable":153}],205:[function(l,M,C){var z=l("../internals/to-integer-or-infinity"),h=Math.max,v=Math.min;M.exports=function(D,c){D=z(D);return 0>D?h(D+c,0):v(D,c)}},{"../internals/to-integer-or-infinity":207}],206:[function(l,M,C){var z=l("../internals/indexed-object"),h=l("../internals/require-object-coercible");M.exports=function(v){return z(h(v))}},{"../internals/indexed-object":145,"../internals/require-object-coercible":195}],
207:[function(l,M,C){var z=Math.ceil,h=Math.floor;M.exports=function(v){v=+v;return v!==v||0===v?0:(0<v?h:z)(v)}},{}],208:[function(l,M,C){var z=l("../internals/to-integer-or-infinity"),h=Math.min;M.exports=function(v){return 0<v?h(z(v),9007199254740991):0}},{"../internals/to-integer-or-infinity":207}],209:[function(l,M,C){C=l("../internals/global");var z=l("../internals/require-object-coercible"),h=C.Object;M.exports=function(v){return h(z(v))}},{"../internals/global":139,"../internals/require-object-coercible":195}],
210:[function(l,M,C){C=l("../internals/global");var z=l("../internals/function-call"),h=l("../internals/is-object"),v=l("../internals/is-symbol"),D=l("../internals/get-method"),c=l("../internals/ordinary-to-primitive");l=l("../internals/well-known-symbol");var e=C.TypeError,w=l("toPrimitive");M.exports=function(a,k){if(!h(a)||v(a))return a;var r=D(a,w);if(r){void 0===k&&(k="default");a=z(r,a,k);if(!h(a)||v(a))return a;throw e("Can't convert object to primitive value");}void 0===k&&(k="number");return c(a,
k)}},{"../internals/function-call":132,"../internals/get-method":138,"../internals/global":139,"../internals/is-object":156,"../internals/is-symbol":159,"../internals/ordinary-to-primitive":187,"../internals/well-known-symbol":220}],211:[function(l,M,C){var z=l("../internals/to-primitive"),h=l("../internals/is-symbol");M.exports=function(v){v=z(v,"string");return h(v)?v:v+""}},{"../internals/is-symbol":159,"../internals/to-primitive":210}],212:[function(l,M,C){l=l("../internals/well-known-symbol")("toStringTag");
C={};C[l]="z";M.exports="[object z]"===String(C)},{"../internals/well-known-symbol":220}],213:[function(l,M,C){C=l("../internals/global");var z=l("../internals/classof"),h=C.String;M.exports=function(v){if("Symbol"===z(v))throw TypeError("Cannot convert a Symbol value to a string");return h(v)}},{"../internals/classof":99,"../internals/global":139}],214:[function(l,M,C){var z=l("../internals/global").String;M.exports=function(h){try{return z(h)}catch(v){return"Object"}}},{"../internals/global":139}],
215:[function(l,M,C){C=l("../internals/array-buffer-view-core");var z=l("../internals/species-constructor"),h=C.TYPED_ARRAY_CONSTRUCTOR,v=C.aTypedArrayConstructor;M.exports=function(D){return v(z(D,D[h]))}},{"../internals/array-buffer-view-core":88,"../internals/species-constructor":202}],216:[function(l,M,C){l=l("../internals/function-uncurry-this");var z=0,h=Math.random(),v=l((1).toString);M.exports=function(D){return"Symbol("+(void 0===D?"":D)+")_"+v(++z+h,36)}},{"../internals/function-uncurry-this":134}],
217:[function(l,M,C){l=l("../internals/native-symbol");M.exports=l&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":167}],218:[function(l,M,C){C=l("../internals/descriptors");l=l("../internals/fails");M.exports=C&&l(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},{"../internals/descriptors":112,"../internals/fails":127}],219:[function(l,M,C){l=l("../internals/well-known-symbol");C.f=l},{"../internals/well-known-symbol":220}],
220:[function(l,M,C){C=l("../internals/global");var z=l("../internals/shared"),h=l("../internals/has-own-property"),v=l("../internals/uid"),D=l("../internals/native-symbol"),c=l("../internals/use-symbol-as-uid"),e=z("wks"),w=C.Symbol,a=w&&w["for"],k=c?w:w&&w.withoutSetter||v;M.exports=function(r){if(!h(e,r)||!D&&"string"!=typeof e[r]){var q="Symbol."+r;D&&h(w,r)?e[r]=w[r]:e[r]=c&&a?a(q):k(q)}return e[r]}},{"../internals/global":139,"../internals/has-own-property":140,"../internals/native-symbol":167,
"../internals/shared":201,"../internals/uid":216,"../internals/use-symbol-as-uid":217}],221:[function(l,M,C){M=l("../internals/export");var z=l("../internals/global"),h=l("../internals/object-is-prototype-of"),v=l("../internals/object-get-prototype-of"),D=l("../internals/object-set-prototype-of");C=l("../internals/copy-constructor-properties");var c=l("../internals/object-create"),e=l("../internals/create-non-enumerable-property"),w=l("../internals/create-property-descriptor"),a=l("../internals/clear-error-stack"),
k=l("../internals/install-error-cause"),r=l("../internals/iterate"),q=l("../internals/normalize-string-argument"),b=l("../internals/well-known-symbol"),d=l("../internals/error-stack-installable"),g=b("toStringTag"),m=z.Error,f=[].push;l=function(u,y){var E=2<arguments.length?arguments[2]:void 0,t=h(n,this);D?t=D(new m,t?v(this):n):(t=t?this:c(n),e(t,g,"Error"));void 0!==y&&e(t,"message",q(y));d&&e(t,"stack",a(t.stack,1));k(t,E);E=[];r(u,f,{that:E});e(t,"errors",E);return t};D?D(l,m):C(l,m,{name:!0});
var n=l.prototype=c(m.prototype,{constructor:w(1,l),message:w(1,""),name:w(1,"AggregateError")});M({global:!0},{AggregateError:l})},{"../internals/clear-error-stack":100,"../internals/copy-constructor-properties":103,"../internals/create-non-enumerable-property":107,"../internals/create-property-descriptor":108,"../internals/error-stack-installable":125,"../internals/export":126,"../internals/global":139,"../internals/install-error-cause":148,"../internals/iterate":160,"../internals/normalize-string-argument":170,
"../internals/object-create":172,"../internals/object-get-prototype-of":179,"../internals/object-is-prototype-of":181,"../internals/object-set-prototype-of":185,"../internals/well-known-symbol":220}],222:[function(l,M,C){M=l("../internals/export");var z=l("../internals/global"),h=l("../internals/fails"),v=l("../internals/is-array"),D=l("../internals/is-object"),c=l("../internals/to-object"),e=l("../internals/length-of-array-like"),w=l("../internals/create-property"),a=l("../internals/array-species-create");
C=l("../internals/array-method-has-species-support");var k=l("../internals/well-known-symbol");l=l("../internals/engine-v8-version");var r=k("isConcatSpreadable"),q=z.TypeError;l=51<=l||!h(function(){var b=[];b[r]=!1;return b.concat()[0]!==b});C=C("concat");M({target:"Array",proto:!0,forced:!l||!C},{concat:function(b){var d=c(this),g=a(d,0),m=0,f;var n=-1;for(f=arguments.length;n<f;n++){var u=-1===n?d:arguments[n];var y=u;if(D(y)){var E=y[r];y=void 0!==E?!!E:v(y)}else y=!1;if(y){E=e(u);if(9007199254740991<
m+E)throw q("Maximum allowed index exceeded");for(y=0;y<E;y++,m++)y in u&&w(g,m,u[y])}else{if(9007199254740991<=m)throw q("Maximum allowed index exceeded");w(g,m++,u)}}g.length=m;return g}})},{"../internals/array-method-has-species-support":92,"../internals/array-species-create":96,"../internals/create-property":109,"../internals/engine-v8-version":122,"../internals/export":126,"../internals/fails":127,"../internals/global":139,"../internals/is-array":152,"../internals/is-object":156,"../internals/length-of-array-like":164,
"../internals/to-object":209,"../internals/well-known-symbol":220}],223:[function(l,M,C){M=l("../internals/export");C=l("../internals/array-fill");l=l("../internals/add-to-unscopables");M({target:"Array",proto:!0},{fill:C});l("fill")},{"../internals/add-to-unscopables":83,"../internals/array-fill":89,"../internals/export":126}],224:[function(l,M,C){var z=l("../internals/to-indexed-object");C=l("../internals/add-to-unscopables");var h=l("../internals/iterators"),v=l("../internals/internal-state"),
D=l("../internals/object-define-property").f,c=l("../internals/define-iterator"),e=l("../internals/is-pure");l=l("../internals/descriptors");var w=v.set,a=v.getterFor("Array Iterator");M.exports=c(Array,"Array",function(k,r){w(this,{type:"Array Iterator",target:z(k),index:0,kind:r})},function(){var k=a(this),r=k.target,q=k.kind,b=k.index++;return!r||b>=r.length?(k.target=void 0,{value:void 0,done:!0}):"keys"==q?{value:b,done:!1}:"values"==q?{value:r[b],done:!1}:{value:[b,r[b]],done:!1}},"values");
M=h.Arguments=h.Array;C("keys");C("values");C("entries");if(!e&&l&&"values"!==M.name)try{D(M,"name",{value:"values"})}catch(k){}},{"../internals/add-to-unscopables":83,"../internals/define-iterator":110,"../internals/descriptors":112,"../internals/internal-state":150,"../internals/is-pure":157,"../internals/iterators":163,"../internals/object-define-property":174,"../internals/to-indexed-object":206}],225:[function(l,M,C){M=l("../internals/global");l("../internals/set-to-string-tag")(M.JSON,"JSON",
!0)},{"../internals/global":139,"../internals/set-to-string-tag":198}],226:[function(l,M,C){M=l("../internals/collection");l=l("../internals/collection-strong");M("Map",function(z){return function(){return z(this,arguments.length?arguments[0]:void 0)}},l)},{"../internals/collection":102,"../internals/collection-strong":101}],227:[function(l,M,C){l("../internals/set-to-string-tag")(Math,"Math",!0)},{"../internals/set-to-string-tag":198}],228:[function(l,M,C){M=l("../internals/to-string-tag-support");
C=l("../internals/redefine");l=l("../internals/object-to-string");M||C(Object.prototype,"toString",l,{unsafe:!0})},{"../internals/object-to-string":186,"../internals/redefine":194,"../internals/to-string-tag-support":212}],229:[function(l,M,C){M=l("../internals/export");var z=l("../internals/function-call"),h=l("../internals/a-callable"),v=l("../internals/new-promise-capability"),D=l("../internals/perform"),c=l("../internals/iterate");M({target:"Promise",stat:!0},{allSettled:function(e){var w=this,
a=v.f(w),k=a.resolve,r=a.reject,q=D(function(){var b=h(w.resolve),d=[],g=0,m=1;c(e,function(f){var n=g++,u=!1;m++;z(b,w,f).then(function(y){u||(u=!0,d[n]={status:"fulfilled",value:y},--m||k(d))},function(y){u||(u=!0,d[n]={status:"rejected",reason:y},--m||k(d))})});--m||k(d)});q.error&&r(q.value);return a.promise}})},{"../internals/a-callable":80,"../internals/export":126,"../internals/function-call":132,"../internals/iterate":160,"../internals/new-promise-capability":169,"../internals/perform":190}],
230:[function(l,M,C){M=l("../internals/export");var z=l("../internals/a-callable"),h=l("../internals/get-built-in"),v=l("../internals/function-call"),D=l("../internals/new-promise-capability"),c=l("../internals/perform"),e=l("../internals/iterate");M({target:"Promise",stat:!0},{any:function(w){var a=this,k=h("AggregateError"),r=D.f(a),q=r.resolve,b=r.reject,d=c(function(){var g=z(a.resolve),m=[],f=0,n=1,u=!1;e(w,function(y){var E=f++,t=!1;n++;v(g,a,y).then(function(G){t||u||(u=!0,q(G))},function(G){t||
u||(t=!0,m[E]=G,--n||b(new k(m,"No one promise resolved")))})});--n||b(new k(m,"No one promise resolved"))});d.error&&b(d.value);return r.promise}})},{"../internals/a-callable":80,"../internals/export":126,"../internals/function-call":132,"../internals/get-built-in":135,"../internals/iterate":160,"../internals/new-promise-capability":169,"../internals/perform":190}],231:[function(l,M,C){M=l("../internals/export");C=l("../internals/is-pure");var z=l("../internals/native-promise-constructor"),h=l("../internals/fails"),
v=l("../internals/get-built-in"),D=l("../internals/is-callable"),c=l("../internals/species-constructor"),e=l("../internals/promise-resolve");l=l("../internals/redefine");h=!!z&&h(function(){z.prototype["finally"].call({then:function(){}},function(){})});M({target:"Promise",proto:!0,real:!0,forced:h},{"finally":function(w){var a=c(this,v("Promise")),k=D(w);return this.then(k?function(r){return e(a,w()).then(function(){return r})}:w,k?function(r){return e(a,w()).then(function(){throw r;})}:w)}});!C&&
D(z)&&(M=v("Promise").prototype["finally"],z.prototype["finally"]!==M&&l(z.prototype,"finally",M,{unsafe:!0}))},{"../internals/export":126,"../internals/fails":127,"../internals/get-built-in":135,"../internals/is-callable":153,"../internals/is-pure":157,"../internals/native-promise-constructor":166,"../internals/promise-resolve":191,"../internals/redefine":194,"../internals/species-constructor":202}],232:[function(l,M,C){M=l("../internals/export");var z=l("../internals/is-pure"),h=l("../internals/global");
C=l("../internals/get-built-in");var v=l("../internals/function-call"),D=l("../internals/native-promise-constructor"),c=l("../internals/redefine"),e=l("../internals/redefine-all"),w=l("../internals/object-set-prototype-of"),a=l("../internals/set-to-string-tag"),k=l("../internals/set-species"),r=l("../internals/a-callable"),q=l("../internals/is-callable"),b=l("../internals/is-object"),d=l("../internals/an-instance"),g=l("../internals/inspect-source"),m=l("../internals/iterate"),f=l("../internals/check-correctness-of-iteration"),
n=l("../internals/species-constructor"),u=l("../internals/task").set,y=l("../internals/microtask"),E=l("../internals/promise-resolve"),t=l("../internals/host-report-errors"),G=l("../internals/new-promise-capability"),P=l("../internals/perform"),x=l("../internals/queue"),H=l("../internals/internal-state"),I=l("../internals/is-forced"),J=l("../internals/well-known-symbol"),L=l("../internals/engine-is-browser"),R=l("../internals/engine-is-node"),fa=l("../internals/engine-v8-version"),ea=J("species"),
ua=H.getterFor("Promise"),na=H.set,Q=H.getterFor("Promise");l=D&&D.prototype;var pa=D,ia=l,ya=h.TypeError,va=h.document,Ha=h.process,qa=G.f,Qa=qa,Xa=!!(va&&va.createEvent&&h.dispatchEvent),gb=q(h.PromiseRejectionEvent),S=!1;f=(I=I("Promise",function(){var ba=g(pa),aa=ba!==String(pa);if(!aa&&66===fa||z&&!ia["finally"])return!0;if(51<=fa&&/native code/.test(ba))return!1;ba=new pa(function(Ba){Ba(1)});var sa=function(Ba){Ba(function(){},function(){})};(ba.constructor={})[ea]=sa;return(S=ba.then(function(){})instanceof
sa)?!aa&&L&&!gb:!0}))||!f(function(ba){pa.all(ba)["catch"](function(){})});var ma=function(ba){var aa;return b(ba)&&q(aa=ba.then)?aa:!1},Ea=function(ba,aa){var sa=aa.value,Ba=1==aa.state,Aa=Ba?ba.ok:ba.fail,ka=ba.resolve,X=ba.reject,Y=ba.domain,B;try{if(Aa){Ba||(2===aa.rejection&&tb(aa),aa.rejection=1);if(!0===Aa)var F=sa;else if(Y&&Y.enter(),F=Aa(sa),Y){Y.exit();var T=!0}F===ba.promise?X(ya("Promise-chain cycle")):(B=ma(F))?v(B,F,ka,X):ka(F)}else X(sa)}catch(ra){Y&&!T&&Y.exit(),X(ra)}},La=function(ba,
aa){ba.notified||(ba.notified=!0,y(function(){for(var sa=ba.reactions,Ba;Ba=sa.get();)Ea(Ba,ba);ba.notified=!1;aa&&!ba.rejection&&yb(ba)}))},hb=function(ba,aa,sa){var Ba;if(Xa){var Aa=va.createEvent("Event");Aa.promise=aa;Aa.reason=sa;Aa.initEvent(ba,!1,!0);h.dispatchEvent(Aa)}else Aa={promise:aa,reason:sa};!gb&&(Ba=h["on"+ba])?Ba(Aa):"unhandledrejection"===ba&&t("Unhandled promise rejection",sa)},yb=function(ba){v(u,h,function(){var aa=ba.facade,sa=ba.value;if(1!==ba.rejection&&!ba.parent){var Ba=
P(function(){R?Ha.emit("unhandledRejection",sa,aa):hb("unhandledrejection",aa,sa)});ba.rejection=R||1!==ba.rejection&&!ba.parent?2:1;if(Ba.error)throw Ba.value;}})},tb=function(ba){v(u,h,function(){var aa=ba.facade;R?Ha.emit("rejectionHandled",aa):hb("rejectionhandled",aa,ba.value)})},Ma=function(ba,aa,sa){return function(Ba){ba(aa,Ba,sa)}},ta=function(ba,aa,sa){ba.done||(ba.done=!0,sa&&(ba=sa),ba.value=aa,ba.state=2,La(ba,!0))},Oa=function(ba,aa,sa){if(!ba.done){ba.done=!0;sa&&(ba=sa);try{if(ba.facade===
aa)throw ya("Promise can't be resolved itself");var Ba=ma(aa);Ba?y(function(){var Aa={done:!1};try{v(Ba,aa,Ma(Oa,Aa,ba),Ma(ta,Aa,ba))}catch(ka){ta(Aa,ka,ba)}}):(ba.value=aa,ba.state=1,La(ba,!1))}catch(Aa){ta({done:!1},Aa,ba)}}};if(I){pa=function(ba){d(this,ia);r(ba);v(Ja,this);var aa=ua(this);try{ba(Ma(Oa,aa),Ma(ta,aa))}catch(sa){ta(aa,sa)}};ia=pa.prototype;var Ja=function(ba){na(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new x,rejection:!1,state:0,value:void 0})};Ja.prototype=e(ia,
{then:function(ba,aa){var sa=Q(this),Ba=qa(n(this,pa));sa.parent=!0;Ba.ok=q(ba)?ba:!0;Ba.fail=q(aa)&&aa;Ba.domain=R?Ha.domain:void 0;0==sa.state?sa.reactions.add(Ba):y(function(){Ea(Ba,sa)});return Ba.promise},"catch":function(ba){return this.then(void 0,ba)}});var $a=function(){var ba=new Ja,aa=ua(ba);this.promise=ba;this.resolve=Ma(Oa,aa);this.reject=Ma(ta,aa)};G.f=qa=function(ba){return ba===pa||ba===ca?new $a(ba):Qa(ba)};if(!z&&q(D)&&l!==Object.prototype){var U=l.then;S||(c(l,"then",function(ba,
aa){var sa=this;return(new pa(function(Ba,Aa){v(U,sa,Ba,Aa)})).then(ba,aa)},{unsafe:!0}),c(l,"catch",ia["catch"],{unsafe:!0}));try{delete l.constructor}catch(ba){}w&&w(l,ia)}}M({global:!0,wrap:!0,forced:I},{Promise:pa});a(pa,"Promise",!1,!0);k("Promise");var ca=C("Promise");M({target:"Promise",stat:!0,forced:I},{reject:function(ba){var aa=qa(this);v(aa.reject,void 0,ba);return aa.promise}});M({target:"Promise",stat:!0,forced:z||I},{resolve:function(ba){return E(z&&this===ca?pa:this,ba)}});M({target:"Promise",
stat:!0,forced:f},{all:function(ba){var aa=this,sa=qa(aa),Ba=sa.resolve,Aa=sa.reject,ka=P(function(){var X=r(aa.resolve),Y=[],B=0,F=1;m(ba,function(T){var ra=B++,Na=!1;F++;v(X,aa,T).then(function(Ta){Na||(Na=!0,Y[ra]=Ta,--F||Ba(Y))},Aa)});--F||Ba(Y)});ka.error&&Aa(ka.value);return sa.promise},race:function(ba){var aa=this,sa=qa(aa),Ba=sa.reject,Aa=P(function(){var ka=r(aa.resolve);m(ba,function(X){v(ka,aa,X).then(sa.resolve,Ba)})});Aa.error&&Ba(Aa.value);return sa.promise}})},{"../internals/a-callable":80,
"../internals/an-instance":84,"../internals/check-correctness-of-iteration":97,"../internals/engine-is-browser":116,"../internals/engine-is-node":119,"../internals/engine-v8-version":122,"../internals/export":126,"../internals/function-call":132,"../internals/get-built-in":135,"../internals/global":139,"../internals/host-report-errors":142,"../internals/inspect-source":147,"../internals/internal-state":150,"../internals/is-callable":153,"../internals/is-forced":155,"../internals/is-object":156,"../internals/is-pure":157,
"../internals/iterate":160,"../internals/microtask":165,"../internals/native-promise-constructor":166,"../internals/new-promise-capability":169,"../internals/object-set-prototype-of":185,"../internals/perform":190,"../internals/promise-resolve":191,"../internals/queue":192,"../internals/redefine":194,"../internals/redefine-all":193,"../internals/set-species":197,"../internals/set-to-string-tag":198,"../internals/species-constructor":202,"../internals/task":204,"../internals/well-known-symbol":220}],
233:[function(l,M,C){M=l("../internals/export");C=l("../internals/global");l=l("../internals/set-to-string-tag");M({global:!0},{Reflect:{}});l(C.Reflect,"Reflect",!0)},{"../internals/export":126,"../internals/global":139,"../internals/set-to-string-tag":198}],234:[function(l,M,C){M=l("../internals/collection");l=l("../internals/collection-strong");M("Set",function(z){return function(){return z(this,arguments.length?arguments[0]:void 0)}},l)},{"../internals/collection":102,"../internals/collection-strong":101}],
235:[function(l,M,C){M=l("../internals/export");C=l("../internals/function-uncurry-this");var z=l("../internals/object-get-own-property-descriptor").f,h=l("../internals/to-length"),v=l("../internals/to-string"),D=l("../internals/not-a-regexp"),c=l("../internals/require-object-coercible"),e=l("../internals/correct-is-regexp-logic");l=l("../internals/is-pure");var w=C("".endsWith),a=C("".slice),k=Math.min;C=e("endsWith");l=!l&&!C&&!!function(){var r=z(String.prototype,"endsWith");return r&&!r.writable}();
M({target:"String",proto:!0,forced:!l&&!C},{endsWith:function(r){var q=v(c(this));D(r);var b=1<arguments.length?arguments[1]:void 0,d=q.length;b=void 0===b?d:k(h(b),d);d=v(r);return w?w(q,d,b):a(q,b-d.length,b)===d}})},{"../internals/correct-is-regexp-logic":104,"../internals/export":126,"../internals/function-uncurry-this":134,"../internals/is-pure":157,"../internals/not-a-regexp":171,"../internals/object-get-own-property-descriptor":175,"../internals/require-object-coercible":195,"../internals/to-length":208,
"../internals/to-string":213}],236:[function(l,M,C){var z=l("../internals/string-multibyte").charAt,h=l("../internals/to-string");M=l("../internals/internal-state");l=l("../internals/define-iterator");var v=M.set,D=M.getterFor("String Iterator");l(String,"String",function(c){v(this,{type:"String Iterator",string:h(c),index:0})},function(){var c=D(this),e=c.string,w=c.index;if(w>=e.length)return{value:void 0,done:!0};e=z(e,w);c.index+=e.length;return{value:e,done:!1}})},{"../internals/define-iterator":110,
"../internals/internal-state":150,"../internals/string-multibyte":203,"../internals/to-string":213}],237:[function(l,M,C){l("../internals/define-well-known-symbol")("asyncIterator")},{"../internals/define-well-known-symbol":111}],238:[function(l,M,C){M=l("../internals/export");var z=l("../internals/descriptors"),h=l("../internals/global");C=l("../internals/function-uncurry-this");var v=l("../internals/has-own-property"),D=l("../internals/is-callable"),c=l("../internals/object-is-prototype-of"),e=
l("../internals/to-string"),w=l("../internals/object-define-property").f;l=l("../internals/copy-constructor-properties");var a=h.Symbol,k=a&&a.prototype;if(z&&D(a)&&(!("description"in k)||void 0!==a().description)){var r={};z=function(){var n=1>arguments.length||void 0===arguments[0]?void 0:e(arguments[0]),u=c(k,this)?new a(n):void 0===n?a():a(n);""===n&&(r[u]=!0);return u};l(z,a);z.prototype=k;k.constructor=z;var q="Symbol(test)"==String(a("test")),b=C(k.toString),d=C(k.valueOf),g=/^Symbol\((.*)\)[^)]+$/,
m=C("".replace),f=C("".slice);w(k,"description",{configurable:!0,get:function(){var n=d(this),u=b(n);if(v(r,n))return"";n=q?f(u,7,-1):m(u,g,"$1");return""===n?void 0:n}});M({global:!0,forced:!0},{Symbol:z})}},{"../internals/copy-constructor-properties":103,"../internals/descriptors":112,"../internals/export":126,"../internals/function-uncurry-this":134,"../internals/global":139,"../internals/has-own-property":140,"../internals/is-callable":153,"../internals/object-define-property":174,"../internals/object-is-prototype-of":181,
"../internals/to-string":213}],239:[function(l,M,C){l("../internals/define-well-known-symbol")("hasInstance")},{"../internals/define-well-known-symbol":111}],240:[function(l,M,C){l("../internals/define-well-known-symbol")("isConcatSpreadable")},{"../internals/define-well-known-symbol":111}],241:[function(l,M,C){l("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":111}],242:[function(l,M,C){M=l("../internals/export");var z=l("../internals/global"),h=l("../internals/get-built-in"),
v=l("../internals/function-apply"),D=l("../internals/function-call"),c=l("../internals/function-uncurry-this"),e=l("../internals/is-pure"),w=l("../internals/descriptors"),a=l("../internals/native-symbol"),k=l("../internals/fails"),r=l("../internals/has-own-property"),q=l("../internals/is-array"),b=l("../internals/is-callable"),d=l("../internals/is-object"),g=l("../internals/object-is-prototype-of"),m=l("../internals/is-symbol"),f=l("../internals/an-object"),n=l("../internals/to-object"),u=l("../internals/to-indexed-object"),
y=l("../internals/to-property-key"),E=l("../internals/to-string"),t=l("../internals/create-property-descriptor"),G=l("../internals/object-create"),P=l("../internals/object-keys"),x=l("../internals/object-get-own-property-names"),H=l("../internals/object-get-own-property-names-external"),I=l("../internals/object-get-own-property-symbols"),J=l("../internals/object-get-own-property-descriptor"),L=l("../internals/object-define-property"),R=l("../internals/object-define-properties"),fa=l("../internals/object-property-is-enumerable"),
ea=l("../internals/array-slice");C=l("../internals/redefine");var ua=l("../internals/shared"),na=l("../internals/shared-key"),Q=l("../internals/hidden-keys"),pa=l("../internals/uid"),ia=l("../internals/well-known-symbol"),ya=l("../internals/well-known-symbol-wrapped"),va=l("../internals/define-well-known-symbol"),Ha=l("../internals/set-to-string-tag"),qa=l("../internals/internal-state"),Qa=l("../internals/array-iteration").forEach,Xa=na("hidden");l=ia("toPrimitive");var gb=qa.set,S=qa.getterFor("Symbol"),
ma=Object.prototype,Ea=z.Symbol,La=Ea&&Ea.prototype,hb=z.TypeError;z=z.QObject;var yb=h("JSON","stringify"),tb=J.f,Ma=L.f,ta=H.f,Oa=fa.f,Ja=c([].push),$a=ua("symbols"),U=ua("op-symbols"),ca=ua("string-to-symbol-registry"),ba=ua("symbol-to-string-registry");h=ua("wks");var aa=!z||!z.prototype||!z.prototype.findChild,sa=w&&k(function(){return 7!=G(Ma({},"a",{get:function(){return Ma(this,"a",{value:7}).a}})).a})?function(F,T,ra){var Na=tb(ma,T);Na&&delete ma[T];Ma(F,T,ra);Na&&F!==ma&&Ma(ma,T,Na)}:Ma,
Ba=function(F,T){var ra=$a[F]=G(La);gb(ra,{type:"Symbol",tag:F,description:T});w||(ra.description=T);return ra},Aa=function(F,T,ra){F===ma&&Aa(U,T,ra);f(F);T=y(T);f(ra);return r($a,T)?(ra.enumerable?(r(F,Xa)&&F[Xa][T]&&(F[Xa][T]=!1),ra=G(ra,{enumerable:t(0,!1)})):(r(F,Xa)||Ma(F,Xa,t(1,{})),F[Xa][T]=!0),sa(F,T,ra)):Ma(F,T,ra)},ka=function(F,T){f(F);var ra=u(T);T=P(ra).concat(Y(ra));Qa(T,function(Na){w&&!D(X,ra,Na)||Aa(F,Na,ra[Na])});return F},X=function(F){F=y(F);var T=D(Oa,this,F);return this===ma&&
r($a,F)&&!r(U,F)?!1:T||!r(this,F)||!r($a,F)||r(this,Xa)&&this[Xa][F]?T:!0};c=function(F,T){F=u(F);T=y(T);if(F!==ma||!r($a,T)||r(U,T)){var ra=tb(F,T);!ra||!r($a,T)||r(F,Xa)&&F[Xa][T]||(ra.enumerable=!0);return ra}};ua=function(F){F=ta(u(F));var T=[];Qa(F,function(ra){r($a,ra)||r(Q,ra)||Ja(T,ra)});return T};var Y=function(F){var T=F===ma;F=ta(T?U:u(F));var ra=[];Qa(F,function(Na){!r($a,Na)||T&&!r(ma,Na)||Ja(ra,$a[Na])});return ra};a||(Ea=function(){if(g(La,this))throw hb("Symbol is not a constructor");
var F=arguments.length&&void 0!==arguments[0]?E(arguments[0]):void 0,T=pa(F),ra=function(Na){this===ma&&D(ra,U,Na);r(this,Xa)&&r(this[Xa],T)&&(this[Xa][T]=!1);sa(this,T,t(1,Na))};w&&aa&&sa(ma,T,{configurable:!0,set:ra});return Ba(T,F)},La=Ea.prototype,C(La,"toString",function(){return S(this).tag}),C(Ea,"withoutSetter",function(F){return Ba(pa(F),F)}),fa.f=X,L.f=Aa,R.f=ka,J.f=c,x.f=H.f=ua,I.f=Y,ya.f=function(F){return Ba(ia(F),F)},w&&(Ma(La,"description",{configurable:!0,get:function(){return S(this).description}}),
e||C(ma,"propertyIsEnumerable",X,{unsafe:!0})));M({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ea});Qa(P(h),function(F){va(F)});M({target:"Symbol",stat:!0,forced:!a},{"for":function(F){F=E(F);if(r(ca,F))return ca[F];var T=Ea(F);ca[F]=T;ba[T]=F;return T},keyFor:function(F){if(!m(F))throw hb(F+" is not a symbol");if(r(ba,F))return ba[F]},useSetter:function(){aa=!0},useSimple:function(){aa=!1}});M({target:"Object",stat:!0,forced:!a,sham:!w},{create:function(F,T){return void 0===T?G(F):ka(G(F),T)},defineProperty:Aa,
defineProperties:ka,getOwnPropertyDescriptor:c});M({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:ua,getOwnPropertySymbols:Y});M({target:"Object",stat:!0,forced:k(function(){I.f(1)})},{getOwnPropertySymbols:function(F){return I.f(n(F))}});yb&&(e=!a||k(function(){var F=Ea();return"[null]"!=yb([F])||"{}"!=yb({a:F})||"{}"!=yb(Object(F))}),M({target:"JSON",stat:!0,forced:e},{stringify:function(F,T,ra){var Na=ea(arguments),Ta=T;if((d(T)||void 0!==F)&&!m(F))return q(T)||(T=function(Cb,N){b(Ta)&&
(N=D(Ta,this,Cb,N));if(!m(N))return N}),Na[1]=T,v(yb,null,Na)}}));if(!La[l]){var B=La.valueOf;C(La,l,function(F){return D(B,this)})}Ha(Ea,"Symbol");Q[Xa]=!0},{"../internals/an-object":85,"../internals/array-iteration":91,"../internals/array-slice":94,"../internals/create-property-descriptor":108,"../internals/define-well-known-symbol":111,"../internals/descriptors":112,"../internals/export":126,"../internals/fails":127,"../internals/function-apply":129,"../internals/function-call":132,"../internals/function-uncurry-this":134,
"../internals/get-built-in":135,"../internals/global":139,"../internals/has-own-property":140,"../internals/hidden-keys":141,"../internals/internal-state":150,"../internals/is-array":152,"../internals/is-callable":153,"../internals/is-object":156,"../internals/is-pure":157,"../internals/is-symbol":159,"../internals/native-symbol":167,"../internals/object-create":172,"../internals/object-define-properties":173,"../internals/object-define-property":174,"../internals/object-get-own-property-descriptor":175,
"../internals/object-get-own-property-names":177,"../internals/object-get-own-property-names-external":176,"../internals/object-get-own-property-symbols":178,"../internals/object-is-prototype-of":181,"../internals/object-keys":183,"../internals/object-property-is-enumerable":184,"../internals/redefine":194,"../internals/set-to-string-tag":198,"../internals/shared":201,"../internals/shared-key":199,"../internals/to-indexed-object":206,"../internals/to-object":209,"../internals/to-property-key":211,
"../internals/to-string":213,"../internals/uid":216,"../internals/well-known-symbol":220,"../internals/well-known-symbol-wrapped":219}],243:[function(l,M,C){l("../internals/define-well-known-symbol")("matchAll")},{"../internals/define-well-known-symbol":111}],244:[function(l,M,C){l("../internals/define-well-known-symbol")("match")},{"../internals/define-well-known-symbol":111}],245:[function(l,M,C){l("../internals/define-well-known-symbol")("replace")},{"../internals/define-well-known-symbol":111}],
246:[function(l,M,C){l("../internals/define-well-known-symbol")("search")},{"../internals/define-well-known-symbol":111}],247:[function(l,M,C){l("../internals/define-well-known-symbol")("species")},{"../internals/define-well-known-symbol":111}],248:[function(l,M,C){l("../internals/define-well-known-symbol")("split")},{"../internals/define-well-known-symbol":111}],249:[function(l,M,C){l("../internals/define-well-known-symbol")("toPrimitive")},{"../internals/define-well-known-symbol":111}],250:[function(l,
M,C){l("../internals/define-well-known-symbol")("toStringTag")},{"../internals/define-well-known-symbol":111}],251:[function(l,M,C){l("../internals/define-well-known-symbol")("unscopables")},{"../internals/define-well-known-symbol":111}],252:[function(l,M,C){M=l("../internals/array-buffer-view-core");var z=l("../internals/function-call"),h=l("../internals/array-fill"),v=M.aTypedArray;l=M.exportTypedArrayMethod;l("fill",function(D){var c=arguments.length;return z(h,v(this),D,1<c?arguments[1]:void 0,
2<c?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":88,"../internals/array-fill":89,"../internals/function-call":132}],253:[function(l,M,C){C=l("../internals/array-buffer-view-core");var z=l("../internals/typed-array-species-constructor");M=l("../internals/fails");var h=l("../internals/array-slice"),v=C.aTypedArray;l=C.exportTypedArrayMethod;M=M(function(){(new Int8Array(1)).slice()});l("slice",function(D,c){D=h(v(this),D,c);var e=z(this);c=0;var w=D.length;for(e=new e(w);w>c;)e[c]=
D[c++];return e},M)},{"../internals/array-buffer-view-core":88,"../internals/array-slice":94,"../internals/fails":127,"../internals/typed-array-species-constructor":215}],254:[function(l,M,C){M=l("../internals/global");var z=l("../internals/dom-iterables");C=l("../internals/dom-token-list-prototype");var h=l("../modules/es.array.iterator"),v=l("../internals/create-non-enumerable-property");l=l("../internals/well-known-symbol");var D=l("iterator"),c=l("toStringTag"),e=h.values;l=function(a,k){if(a){if(a[D]!==
e)try{v(a,D,e)}catch(q){a[D]=e}a[c]||v(a,c,k);if(z[k])for(var r in h)if(a[r]!==h[r])try{v(a,r,h[r])}catch(q){a[r]=h[r]}}};for(var w in z)l(M[w]&&M[w].prototype,w);l(C,"DOMTokenList")},{"../internals/create-non-enumerable-property":107,"../internals/dom-iterables":114,"../internals/dom-token-list-prototype":115,"../internals/global":139,"../internals/well-known-symbol":220,"../modules/es.array.iterator":224}],255:[function(l,M,C){l=l("../../es/array/fill");M.exports=l},{"../../es/array/fill":71}],
256:[function(l,M,C){l=l("../../es/array/iterator");M.exports=l},{"../../es/array/iterator":72}],257:[function(l,M,C){C=l("../../es/map");l("../../modules/web.dom-collections.iterator");M.exports=C},{"../../es/map":73,"../../modules/web.dom-collections.iterator":254}],258:[function(l,M,C){C=l("../../es/promise");l("../../modules/web.dom-collections.iterator");M.exports=C},{"../../es/promise":74,"../../modules/web.dom-collections.iterator":254}],259:[function(l,M,C){C=l("../../es/set");l("../../modules/web.dom-collections.iterator");
M.exports=C},{"../../es/set":75,"../../modules/web.dom-collections.iterator":254}],260:[function(l,M,C){l=l("../../es/string/ends-with");M.exports=l},{"../../es/string/ends-with":76}],261:[function(l,M,C){C=l("../../es/symbol");l("../../modules/web.dom-collections.iterator");M.exports=C},{"../../es/symbol":77,"../../modules/web.dom-collections.iterator":254}],262:[function(l,M,C){l=l("../../es/typed-array/fill");M.exports=l},{"../../es/typed-array/fill":78}],263:[function(l,M,C){l=l("../../es/typed-array/slice");
M.exports=l},{"../../es/typed-array/slice":79}],264:[function(l,M,C){(function(z){(function(){(function(h,v){"undefined"!=typeof C?v():(v(),h.FileSaver={})})(this,function(){function h(k,r){return"undefined"==typeof r?r={autoBom:!1}:"object"!=typeof r&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(k.type)?new Blob(["\ufeff",k],{type:k.type}):k}function v(k,r,q){var b=
new XMLHttpRequest;b.open("GET",k);b.responseType="blob";b.onload=function(){a(b.response,r,q)};b.onerror=function(){console.error("could not download file")};b.send()}function D(k){var r=new XMLHttpRequest;r.open("HEAD",k,!1);try{r.send()}catch(q){}return 200<=r.status&&299>=r.status}function c(k){try{k.dispatchEvent(new MouseEvent("click"))}catch(q){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);k.dispatchEvent(r)}}var e="object"==
typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof z&&z.global===z?z:void 0,w=e.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=e.saveAs||("object"!=typeof window||window!==e?function(){}:"download"in HTMLAnchorElement.prototype&&!w?function(k,r,q){var b=e.URL||e.webkitURL,d=document.createElement("a");r=r||k.name||"download";d.download=r;d.rel="noopener";"string"==
typeof k?(d.href=k,d.origin===location.origin?c(d):D(d.href)?v(k,r,q):c(d,d.target="_blank")):(d.href=b.createObjectURL(k),setTimeout(function(){b.revokeObjectURL(d.href)},4E4),setTimeout(function(){c(d)},0))}:"msSaveOrOpenBlob"in navigator?function(k,r,q){if(r=r||k.name||"download","string"!=typeof k)navigator.msSaveOrOpenBlob(h(k,q),r);else if(D(k))v(k,r,q);else{var b=document.createElement("a");b.href=k;b.target="_blank";setTimeout(function(){c(b)})}}:function(k,r,q,b){if(b=b||open("","_blank"),
b&&(b.document.title=b.document.body.innerText="downloading..."),"string"==typeof k)return v(k,r,q);r="application/octet-stream"===k.type;q=/constructor/i.test(e.HTMLElement)||e.safari;var d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||r&&q||w)&&"undefined"!=typeof FileReader){var g=new FileReader;g.onloadend=function(){var n=g.result;n=d?n:n.replace(/^data:[^;]*;/,"data:attachment/file;");b?b.location.href=n:location=n;b=null};g.readAsDataURL(k)}else{var m=e.URL||e.webkitURL,f=m.createObjectURL(k);
b?b.location=f:location.href=f;b=null;setTimeout(function(){m.revokeObjectURL(f)},4E4)}});e.saveAs=a.saveAs=a;"undefined"!=typeof M&&(M.exports=a)})}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],265:[function(l,M,C){(function(z,h){"object"===typeof M&&"object"===typeof M.exports?M.exports=z.document?h(z,!0):function(v){if(!v.document)throw Error("jQuery requires a window with a document");return h(v)}:h(z)})("undefined"!==
typeof window?window:this,function(z,h){function v(p,A,K){K=K||Na;var O,W=K.createElement("script");W.text=p;if(A)for(O in Ta)(p=A[O]||A.getAttribute&&A.getAttribute(O))&&W.setAttribute(O,p);K.head.appendChild(W).parentNode.removeChild(W)}function D(p){return null==p?p+"":"object"===typeof p||"function"===typeof p?Aa[ka.call(p)]||"object":typeof p}function c(p){var A=!!p&&"length"in p&&p.length,K=D(p);return T(p)||ra(p)?!1:"array"===K||0===A||"number"===typeof A&&0<A&&A-1 in p}function e(p,A){return p.nodeName&&
p.nodeName.toLowerCase()===A.toLowerCase()}function w(p,A){return A?"\x00"===p?"\ufffd":p.slice(0,-1)+"\\"+p.charCodeAt(p.length-1).toString(16)+" ":"\\"+p}function a(p,A,K){return T(A)?N.grep(p,function(O,W){return!!A.call(O,W,O)!==K}):A.nodeType?N.grep(p,function(O){return O===A!==K}):"string"!==typeof A?N.grep(p,function(O){return-1<Ba.call(A,O)!==K}):N.filter(A,p,K)}function k(p,A){for(;(p=p[A])&&1!==p.nodeType;);return p}function r(p){var A={};N.each(p.match(wb)||[],function(K,O){A[O]=!0});return A}
function q(p){return p}function b(p){throw p;}function d(p,A,K,O){var W;try{p&&T(W=p.promise)?W.call(p).done(A).fail(K):p&&T(W=p.then)?W.call(p,A,K):A.apply(void 0,[p].slice(O))}catch(Z){K.apply(void 0,[Z])}}function g(){Na.removeEventListener("DOMContentLoaded",g);z.removeEventListener("load",g);N.ready()}function m(p,A){return A.toUpperCase()}function f(p){return p.replace(mb,"ms-").replace(gc,m)}function n(){this.expando=N.expando+n.uid++}function u(p,A,K){if(void 0===K&&1===p.nodeType)if(K="data-"+
A.replace(pc,"-$&").toLowerCase(),K=p.getAttribute(K),"string"===typeof K){try{var O=K;K="true"===O?!0:"false"===O?!1:"null"===O?null:O===+O+""?+O:dc.test(O)?JSON.parse(O):O}catch(W){}Nb.set(p,A,K)}else K=void 0;return K}function y(p,A,K,O){var W,Z=20,ja=O?function(){return O.cur()}:function(){return N.css(p,A,"")},za=ja(),wa=K&&K[3]||(N.cssNumber[A]?"":"px"),xa=p.nodeType&&(N.cssNumber[A]||"px"!==wa&&+za)&&Xb.exec(N.css(p,A));if(xa&&xa[3]!==wa){za/=2;wa=wa||xa[3];for(xa=+za||1;Z--;)N.style(p,A,xa+
wa),0>=(1-W)*(1-(W=ja()/za||.5))&&(Z=0),xa/=W;xa*=2;N.style(p,A,xa+wa);K=K||[]}if(K){xa=+xa||+za||0;var Ua=K[1]?xa+(K[1]+1)*K[2]:+K[2];O&&(O.unit=wa,O.start=xa,O.end=Ua)}return Ua}function E(p,A){for(var K,O,W=[],Z=0,ja=p.length;Z<ja;Z++)if(O=p[Z],O.style)if(K=O.style.display,A){if("none"===K&&(W[Z]=lb.get(O,"display")||null,W[Z]||(O.style.display="")),""===O.style.display&&Ac(O)){K=Z;var za=O.ownerDocument;O=O.nodeName;var wa=Ec[O];wa||(za=za.body.appendChild(za.createElement(O)),wa=N.css(za,"display"),
za.parentNode.removeChild(za),"none"===wa&&(wa="block"),Ec[O]=wa);za=wa;W[K]=za}}else"none"!==K&&(W[Z]="none",lb.set(O,"display",K));for(Z=0;Z<ja;Z++)null!=W[Z]&&(p[Z].style.display=W[Z]);return p}function t(p,A){var K="undefined"!==typeof p.getElementsByTagName?p.getElementsByTagName(A||"*"):"undefined"!==typeof p.querySelectorAll?p.querySelectorAll(A||"*"):[];return void 0===A||A&&e(p,A)?N.merge([p],K):K}function G(p,A){for(var K=0,O=p.length;K<O;K++)lb.set(p[K],"globalEval",!A||lb.get(A[K],"globalEval"))}
function P(p,A,K,O,W){for(var Z,ja,za,wa=A.createDocumentFragment(),xa=[],Ua=0,ab=p.length;Ua<ab;Ua++)if((Z=p[Ua])||0===Z)if("object"===D(Z))N.merge(xa,Z.nodeType?[Z]:Z);else if(fb.test(Z)){ja=ja||wa.appendChild(A.createElement("div"));za=(da.exec(Z)||["",""])[1].toLowerCase();za=Ra[za]||Ra._default;ja.innerHTML=za[1]+N.htmlPrefilter(Z)+za[2];for(za=za[0];za--;)ja=ja.lastChild;N.merge(xa,ja.childNodes);ja=wa.firstChild;ja.textContent=""}else xa.push(A.createTextNode(Z));wa.textContent="";for(Ua=0;Z=
xa[Ua++];)if(O&&-1<N.inArray(Z,O))W&&W.push(Z);else if(p=xc(Z),ja=t(wa.appendChild(Z),"script"),p&&G(ja),K)for(za=0;Z=ja[za++];)Ia.test(Z.type||"")&&K.push(Z);return wa}function x(){return!0}function H(){return!1}function I(p,A,K,O,W,Z){var ja;if("object"===typeof A){"string"!==typeof K&&(O=O||K,K=void 0);for(ja in A)I(p,ja,K,O,A[ja],Z);return p}null==O&&null==W?(W=K,O=K=void 0):null==W&&("string"===typeof K?(W=O,O=void 0):(W=O,O=K,K=void 0));if(!1===W)W=H;else if(!W)return p;if(1===Z){var za=W;W=
function(wa){N().off(wa);return za.apply(this,arguments)};W.guid=za.guid||(za.guid=N.guid++)}return p.each(function(){N.event.add(this,A,W,O,K)})}function J(p,A,K){K?(lb.set(p,A,!1),N.event.add(p,A,{namespace:!1,handler:function(O){var W=lb.get(this,A);if(O.isTrigger&1&&this[A])if(W)(N.event.special[A]||{}).delegateType&&O.stopPropagation();else{W=ba.call(arguments);lb.set(this,A,W);this[A]();var Z=lb.get(this,A);lb.set(this,A,!1);if(W!==Z)return O.stopImmediatePropagation(),O.preventDefault(),Z}else W&&
(lb.set(this,A,N.event.trigger(W[0],W.slice(1),this)),O.stopPropagation(),O.isImmediatePropagationStopped=x)}})):void 0===lb.get(p,A)&&N.event.add(p,A,x)}function L(p,A){return e(p,"table")&&e(11!==A.nodeType?A:A.firstChild,"tr")?N(p).children("tbody")[0]||p:p}function R(p){p.type=(null!==p.getAttribute("type"))+"/"+p.type;return p}function fa(p){"true/"===(p.type||"").slice(0,5)?p.type=p.type.slice(5):p.removeAttribute("type");return p}function ea(p,A){var K,O,W;if(1===A.nodeType){if(lb.hasData(p)){var Z=
lb.get(p);if(W=Z.events)for(O in lb.remove(A,"handle events"),W)for(Z=0,K=W[O].length;Z<K;Z++)N.event.add(A,O,W[O][Z])}Nb.hasData(p)&&(p=Nb.access(p),p=N.extend({},p),Nb.set(A,p))}}function ua(p,A,K,O){A=aa(A);var W,Z=0,ja=p.length,za=ja-1,wa=A[0],xa=T(wa);if(xa||1<ja&&"string"===typeof wa&&!F.checkClone&&V.test(wa))return p.each(function(Gb){var ub=p.eq(Gb);xa&&(A[0]=wa.call(this,Gb,ub.html()));ua(ub,A,K,O)});if(ja){var Ua=P(A,p[0].ownerDocument,!1,p,O);var ab=Ua.firstChild;1===Ua.childNodes.length&&
(Ua=ab);if(ab||O){ab=N.map(t(Ua,"script"),R);for(W=ab.length;Z<ja;Z++){var jb=Ua;Z!==za&&(jb=N.clone(jb,!0,!0),W&&N.merge(ab,t(jb,"script")));K.call(p[Z],jb,Z)}if(W)for(Ua=ab[ab.length-1].ownerDocument,N.map(ab,fa),Z=0;Z<W;Z++)jb=ab[Z],Ia.test(jb.type||"")&&!lb.access(jb,"globalEval")&&N.contains(Ua,jb)&&(jb.src&&"module"!==(jb.type||"").toLowerCase()?N._evalUrl&&!jb.noModule&&N._evalUrl(jb.src,{nonce:jb.nonce||jb.getAttribute("nonce")},Ua):v(jb.textContent.replace(oa,""),jb,Ua))}}return p}function na(p,
A,K){for(var O=A?N.filter(A,p):p,W=0;null!=(A=O[W]);W++)K||1!==A.nodeType||N.cleanData(t(A)),A.parentNode&&(K&&xc(A)&&G(t(A,"script")),A.parentNode.removeChild(A));return p}function Q(p,A,K){var O=ha.test(A);var W=p.style;if(K=K||Fa(p)){var Z=K.getPropertyValue(A)||K[A];O&&Z&&(Z=Z.replace(qc,"$1")||void 0);""!==Z||xc(p)||(Z=N.style(p,A));!F.pixelBoxStyles()&&Ka.test(Z)&&Ga.test(A)&&(p=W.width,A=W.minWidth,O=W.maxWidth,W.minWidth=W.maxWidth=W.width=Z,Z=K.width,W.width=p,W.minWidth=A,W.maxWidth=O)}return void 0!==
Z?Z+"":Z}function pa(p,A){return{get:function(){if(p())delete this.get;else return(this.get=A).apply(this,arguments)}}}function ia(p){var A=N.cssProps[p]||nb[p];if(A)return A;if(p in Za)return p;a:{A=p;for(var K=A[0].toUpperCase()+A.slice(1),O=Wa.length;O--;)if(A=Wa[O]+K,A in Za)break a;A=void 0}return nb[p]=A||p}function ya(p,A,K){return(p=Xb.exec(A))?Math.max(0,p[2]-(K||0))+(p[3]||"px"):A}function va(p,A,K,O,W,Z){var ja="width"===A?1:0,za=0,wa=0,xa=0;if(K===(O?"border":"content"))return 0;for(;4>
ja;ja+=2)"margin"===K&&(xa+=N.css(p,K+Ub[ja],!0,W)),O?("content"===K&&(wa-=N.css(p,"padding"+Ub[ja],!0,W)),"margin"!==K&&(wa-=N.css(p,"border"+Ub[ja]+"Width",!0,W))):(wa+=N.css(p,"padding"+Ub[ja],!0,W),"padding"!==K?wa+=N.css(p,"border"+Ub[ja]+"Width",!0,W):za+=N.css(p,"border"+Ub[ja]+"Width",!0,W));!O&&0<=Z&&(wa+=Math.max(0,Math.ceil(p["offset"+A[0].toUpperCase()+A.slice(1)]-Z-wa-za-.5))||0);return wa+xa}function Ha(p,A,K){var O=Fa(p),W=(!F.boxSizingReliable()||K)&&"border-box"===N.css(p,"boxSizing",
!1,O),Z=W,ja=Q(p,A,O),za="offset"+A[0].toUpperCase()+A.slice(1);if(Ka.test(ja)){if(!K)return ja;ja="auto"}(!F.boxSizingReliable()&&W||!F.reliableTrDimensions()&&e(p,"tr")||"auto"===ja||!parseFloat(ja)&&"inline"===N.css(p,"display",!1,O))&&p.getClientRects().length&&(W="border-box"===N.css(p,"boxSizing",!1,O),(Z=za in p)&&(ja=p[za]));ja=parseFloat(ja)||0;return ja+va(p,A,K||(W?"border":"content"),Z,O,ja)+"px"}function qa(p,A,K,O,W){return new qa.prototype.init(p,A,K,O,W)}function Qa(){lc&&(!1===Na.hidden&&
z.requestAnimationFrame?z.requestAnimationFrame(Qa):z.setTimeout(Qa,N.fx.interval),N.fx.tick())}function Xa(){z.setTimeout(function(){Mb=void 0});return Mb=Date.now()}function gb(p,A){var K=0,O={height:p};for(A=A?1:0;4>K;K+=2-A){var W=Ub[K];O["margin"+W]=O["padding"+W]=p}A&&(O.opacity=O.width=p);return O}function S(p,A,K){for(var O,W=(Ea.tweeners[A]||[]).concat(Ea.tweeners["*"]),Z=0,ja=W.length;Z<ja;Z++)if(O=W[Z].call(K,A,p))return O}function ma(p,A){var K,O;for(K in p){var W=f(K);var Z=A[W];var ja=
p[K];Array.isArray(ja)&&(Z=ja[1],ja=p[K]=ja[0]);K!==W&&(p[W]=ja,delete p[K]);if((O=N.cssHooks[W])&&"expand"in O)for(K in ja=O.expand(ja),delete p[W],ja)K in p||(p[K]=ja[K],A[K]=Z);else A[W]=Z}}function Ea(p,A,K){var O,W=0,Z=Ea.prefilters.length,ja=N.Deferred().always(function(){delete za.elem}),za=function(){if(O)return!1;var xa=Mb||Xa();xa=Math.max(0,wa.startTime+wa.duration-xa);for(var Ua=1-(xa/wa.duration||0),ab=0,jb=wa.tweens.length;ab<jb;ab++)wa.tweens[ab].run(Ua);ja.notifyWith(p,[wa,Ua,xa]);
if(1>Ua&&jb)return xa;jb||ja.notifyWith(p,[wa,1,0]);ja.resolveWith(p,[wa]);return!1},wa=ja.promise({elem:p,props:N.extend({},A),opts:N.extend(!0,{specialEasing:{},easing:N.easing._default},K),originalProperties:A,originalOptions:K,startTime:Mb||Xa(),duration:K.duration,tweens:[],createTween:function(xa,Ua){xa=N.Tween(p,wa.opts,xa,Ua,wa.opts.specialEasing[xa]||wa.opts.easing);wa.tweens.push(xa);return xa},stop:function(xa){var Ua=0,ab=xa?wa.tweens.length:0;if(O)return this;for(O=!0;Ua<ab;Ua++)wa.tweens[Ua].run(1);
xa?(ja.notifyWith(p,[wa,1,0]),ja.resolveWith(p,[wa,xa])):ja.rejectWith(p,[wa,xa]);return this}});K=wa.props;for(ma(K,wa.opts.specialEasing);W<Z;W++)if(A=Ea.prefilters[W].call(wa,p,K,wa.opts))return T(A.stop)&&(N._queueHooks(wa.elem,wa.opts.queue).stop=A.stop.bind(A)),A;N.map(K,S,wa);T(wa.opts.start)&&wa.opts.start.call(p,wa);wa.progress(wa.opts.progress).done(wa.opts.done,wa.opts.complete).fail(wa.opts.fail).always(wa.opts.always);N.fx.timer(N.extend(za,{elem:p,anim:wa,queue:wa.opts.queue}));return wa}
function La(p){return(p.match(wb)||[]).join(" ")}function hb(p){return p.getAttribute&&p.getAttribute("class")||""}function yb(p){return Array.isArray(p)?p:"string"===typeof p?p.match(wb)||[]:[]}function tb(p,A,K,O){var W;if(Array.isArray(A))N.each(A,function(Z,ja){K||ed.test(p)?O(p,ja):tb(p+"["+("object"===typeof ja&&null!=ja?Z:"")+"]",ja,K,O)});else if(K||"object"!==D(A))O(p,A);else for(W in A)tb(p+"["+W+"]",A[W],K,O)}function Ma(p){return function(A,K){"string"!==typeof A&&(K=A,A="*");var O=0,
W=A.toLowerCase().match(wb)||[];if(T(K))for(;A=W[O++];)"+"===A[0]?(A=A.slice(1)||"*",(p[A]=p[A]||[]).unshift(K)):(p[A]=p[A]||[]).push(K)}}function ta(p,A,K,O){function W(za){var wa;Z[za]=!0;N.each(p[za]||[],function(xa,Ua){xa=Ua(A,K,O);if("string"===typeof xa&&!ja&&!Z[xa])return A.dataTypes.unshift(xa),W(xa),!1;if(ja)return!(wa=xa)});return wa}var Z={},ja=p===Mc;return W(A.dataTypes[0])||!Z["*"]&&W("*")}function Oa(p,A){var K,O,W=N.ajaxSettings.flatOptions||{};for(K in A)void 0!==A[K]&&((W[K]?p:O||=
{})[K]=A[K]);O&&N.extend(!0,p,O);return p}function Ja(p,A,K){for(var O,W,Z,ja,za=p.contents,wa=p.dataTypes;"*"===wa[0];)wa.shift(),void 0===O&&(O=p.mimeType||A.getResponseHeader("Content-Type"));if(O)for(W in za)if(za[W]&&za[W].test(O)){wa.unshift(W);break}if(wa[0]in K)Z=wa[0];else{for(W in K){if(!wa[0]||p.converters[W+" "+wa[0]]){Z=W;break}ja||=W}Z=Z||ja}if(Z)return Z!==wa[0]&&wa.unshift(Z),K[Z]}function $a(p,A,K,O){var W,Z,ja={},za=p.dataTypes.slice();if(za[1])for(xa in p.converters)ja[xa.toLowerCase()]=
p.converters[xa];for(Z=za.shift();Z;){p.responseFields[Z]&&(K[p.responseFields[Z]]=A);!wa&&O&&p.dataFilter&&(A=p.dataFilter(A,p.dataType));var wa=Z;if(Z=za.shift())if("*"===Z)Z=wa;else if("*"!==wa&&wa!==Z){var xa=ja[wa+" "+Z]||ja["* "+Z];if(!xa)for(W in ja){var Ua=W.split(" ");if(Ua[1]===Z&&(xa=ja[wa+" "+Ua[0]]||ja["* "+Ua[0]])){!0===xa?xa=ja[W]:!0!==ja[W]&&(Z=Ua[0],za.unshift(Ua[1]));break}}if(!0!==xa)if(xa&&p.throws)A=xa(A);else try{A=xa(A)}catch(ab){return{state:"parsererror",error:xa?ab:"No conversion from "+
wa+" to "+Z}}}}return{state:"success",data:A}}var U=[],ca=Object.getPrototypeOf,ba=U.slice,aa=U.flat?function(p){return U.flat.call(p)}:function(p){return U.concat.apply([],p)},sa=U.push,Ba=U.indexOf,Aa={},ka=Aa.toString,X=Aa.hasOwnProperty,Y=X.toString,B=Y.call(Object),F={},T=function(p){return"function"===typeof p&&"number"!==typeof p.nodeType&&"function"!==typeof p.item},ra=function(p){return null!=p&&p===p.window},Na=z.document,Ta={type:!0,src:!0,nonce:!0,noModule:!0},Cb=/HTML$/i,N=function(p,
A){return new N.fn.init(p,A)};N.fn=N.prototype={jquery:"3.7.0",constructor:N,length:0,toArray:function(){return ba.call(this)},get:function(p){return null==p?ba.call(this):0>p?this[p+this.length]:this[p]},pushStack:function(p){p=N.merge(this.constructor(),p);p.prevObject=this;return p},each:function(p){return N.each(this,p)},map:function(p){return this.pushStack(N.map(this,function(A,K){return p.call(A,K,A)}))},slice:function(){return this.pushStack(ba.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},even:function(){return this.pushStack(N.grep(this,function(p,A){return(A+1)%2}))},odd:function(){return this.pushStack(N.grep(this,function(p,A){return A%2}))},eq:function(p){var A=this.length;p=+p+(0>p?A:0);return this.pushStack(0<=p&&p<A?[this[p]]:[])},end:function(){return this.prevObject||this.constructor()},push:sa,sort:U.sort,splice:U.splice};N.extend=N.fn.extend=function(){var p,A,K,O=arguments[0]||{},W=1,Z=arguments.length,ja=!1;"boolean"===typeof O&&(ja=
O,O=arguments[W]||{},W++);"object"===typeof O||T(O)||(O={});W===Z&&(O=this,W--);for(;W<Z;W++)if(null!=(p=arguments[W]))for(A in p){var za=p[A];if("__proto__"!==A&&O!==za)if(ja&&za&&(N.isPlainObject(za)||(K=Array.isArray(za)))){var wa=O[A];wa=K&&!Array.isArray(wa)?[]:K||N.isPlainObject(wa)?wa:{};K=!1;O[A]=N.extend(ja,wa,za)}else void 0!==za&&(O[A]=za)}return O};N.extend({expando:"jQuery"+("3.7.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(p){throw Error(p);},noop:function(){},isPlainObject:function(p){if(!p||
"[object Object]"!==ka.call(p))return!1;p=ca(p);if(!p)return!0;p=X.call(p,"constructor")&&p.constructor;return"function"===typeof p&&Y.call(p)===B},isEmptyObject:function(p){for(var A in p)return!1;return!0},globalEval:function(p,A,K){v(p,{nonce:A&&A.nonce},K)},each:function(p,A){var K,O=0;if(c(p))for(K=p.length;O<K&&!1!==A.call(p[O],O,p[O]);O++);else for(O in p)if(!1===A.call(p[O],O,p[O]))break;return p},text:function(p){var A,K="",O=0;if(A=p.nodeType){if(1===A||9===A||11===A)return p.textContent;
if(3===A||4===A)return p.nodeValue}else for(;A=p[O++];)K+=N.text(A);return K},makeArray:function(p,A){A=A||[];null!=p&&(c(Object(p))?N.merge(A,"string"===typeof p?[p]:p):sa.call(A,p));return A},inArray:function(p,A,K){return null==A?-1:Ba.call(A,p,K)},isXMLDoc:function(p){var A=p&&(p.ownerDocument||p).documentElement;return!Cb.test(p&&p.namespaceURI||A&&A.nodeName||"HTML")},merge:function(p,A){for(var K=+A.length,O=0,W=p.length;O<K;O++)p[W++]=A[O];p.length=W;return p},grep:function(p,A,K){for(var O=
[],W=0,Z=p.length,ja=!K;W<Z;W++)K=!A(p[W],W),K!==ja&&O.push(p[W]);return O},map:function(p,A,K){var O,W=0,Z=[];if(c(p))for(O=p.length;W<O;W++){var ja=A(p[W],W,K);null!=ja&&Z.push(ja)}else for(W in p)ja=A(p[W],W,K),null!=ja&&Z.push(ja);return aa(Z)},guid:1,support:F});"function"===typeof Symbol&&(N.fn[Symbol.iterator]=U[Symbol.iterator]);N.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(p,A){Aa["[object "+A+"]"]=A.toLowerCase()});var Hb=U.pop,bc=U.sort,
Lb=U.splice,qc=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");N.contains=function(p,A){A=A&&A.parentNode;return p===A||!!(A&&1===A.nodeType&&(p.contains?p.contains(A):p.compareDocumentPosition&&p.compareDocumentPosition(A)&16))};var cb=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;N.escapeSelector=function(p){return(p+"").replace(cb,w)};var Ib=Na;(function(){function p(la,Da,Ca,Va){var Ya,db,kb,vb,bb=Da&&Da.ownerDocument;var rb=Da?Da.nodeType:9;Ca=Ca||[];if("string"!==
typeof la||!la||1!==rb&&9!==rb&&11!==rb)return Ca;if(!Va&&(xa(Da),Da=Da||Db,cc)){if(11!==rb&&(vb=fd.exec(la)))if(Ya=vb[1])if(9===rb)if(db=Da.getElementById(Ya)){if(db.id===Ya)return Zb.call(Ca,db),Ca}else return Ca;else{if(bb&&(db=bb.getElementById(Ya))&&p.contains(Da,db)&&db.id===Ya)return Zb.call(Ca,db),Ca}else{if(vb[2])return Zb.apply(Ca,Da.getElementsByTagName(la)),Ca;if((Ya=vb[3])&&Da.getElementsByClassName)return Zb.apply(Ca,Da.getElementsByClassName(Ya)),Ca}if(!(Jc[la+" "]||ec&&ec.test(la))){Ya=
la;bb=Da;if(1===rb&&(gd.test(la)||Uc.test(la))){bb=Nc.test(la)&&wa(Da.parentNode)||Da;bb==Da&&F.scope||((kb=Da.getAttribute("id"))?kb=N.escapeSelector(kb):Da.setAttribute("id",kb=Ob));Ya=ab(la);for(rb=Ya.length;rb--;)Ya[rb]=(kb?"#"+kb:":scope")+" "+jb(Ya[rb]);Ya=Ya.join(",")}try{return Zb.apply(Ca,bb.querySelectorAll(Ya)),Ca}catch(xb){Jc(la,!0)}finally{kb===Ob&&Da.removeAttribute("id")}}}return hc(la.replace(qc,"$1"),Da,Ca,Va)}function A(){function la(Ca,Va){Da.push(Ca+" ")>Fb.cacheLength&&delete la[Da.shift()];
return la[Ca+" "]=Va}var Da=[];return la}function K(la){la[Ob]=!0;return la}function O(la){var Da=Db.createElement("fieldset");try{return!!la(Da)}catch(Ca){return!1}finally{Da.parentNode&&Da.parentNode.removeChild(Da)}}function W(la){return function(Da){return e(Da,"input")&&Da.type===la}}function Z(la){return function(Da){return(e(Da,"input")||e(Da,"button"))&&Da.type===la}}function ja(la){return function(Da){return"form"in Da?Da.parentNode&&!1===Da.disabled?"label"in Da?"label"in Da.parentNode?
Da.parentNode.disabled===la:Da.disabled===la:Da.isDisabled===la||Da.isDisabled!==!la&&hd(Da)===la:Da.disabled===la:"label"in Da?Da.disabled===la:!1}}function za(la){return K(function(Da){Da=+Da;return K(function(Ca,Va){for(var Ya,db=la([],Ca.length,Da),kb=db.length;kb--;)Ca[Ya=db[kb]]&&(Ca[Ya]=!(Va[Ya]=Ca[Ya]))})})}function wa(la){return la&&"undefined"!==typeof la.getElementsByTagName&&la}function xa(la){var Da;la=la?la.ownerDocument||la:Ib;if(la==Db||9!==la.nodeType||!la.documentElement)return Db;
Db=la;tc=Db.documentElement;cc=!N.isXMLDoc(Db);Oc=tc.matches||tc.webkitMatchesSelector||tc.msMatchesSelector;Ib!=Db&&(Da=Db.defaultView)&&Da.top!==Da&&Da.addEventListener("unload",id);F.getById=O(function(Ca){tc.appendChild(Ca).id=N.expando;return!Db.getElementsByName||!Db.getElementsByName(N.expando).length});F.disconnectedMatch=O(function(Ca){return Oc.call(Ca,"*")});F.scope=O(function(){return Db.querySelectorAll(":scope")});F.cssHas=O(function(){try{return Db.querySelector(":has(*,:jqfake)"),
!1}catch(Ca){return!0}});F.getById?(Fb.filter.ID=function(Ca){var Va=Ca.replace(Bc,Cc);return function(Ya){return Ya.getAttribute("id")===Va}},Fb.find.ID=function(Ca,Va){if("undefined"!==typeof Va.getElementById&&cc)return(Ca=Va.getElementById(Ca))?[Ca]:[]}):(Fb.filter.ID=function(Ca){var Va=Ca.replace(Bc,Cc);return function(Ya){return(Ya="undefined"!==typeof Ya.getAttributeNode&&Ya.getAttributeNode("id"))&&Ya.value===Va}},Fb.find.ID=function(Ca,Va){if("undefined"!==typeof Va.getElementById&&cc){var Ya,
db=Va.getElementById(Ca);if(db){if((Ya=db.getAttributeNode("id"))&&Ya.value===Ca)return[db];var kb=Va.getElementsByName(Ca);for(Va=0;db=kb[Va++];)if((Ya=db.getAttributeNode("id"))&&Ya.value===Ca)return[db]}return[]}});Fb.find.TAG=function(Ca,Va){return"undefined"!==typeof Va.getElementsByTagName?Va.getElementsByTagName(Ca):Va.querySelectorAll(Ca)};Fb.find.CLASS=function(Ca,Va){if("undefined"!==typeof Va.getElementsByClassName&&cc)return Va.getElementsByClassName(Ca)};ec=[];O(function(Ca){tc.appendChild(Ca).innerHTML=
"<a id='"+Ob+"' href='' disabled='disabled'></a><select id='"+Ob+"-\r\\' disabled='disabled'><option selected=''></option></select>";Ca.querySelectorAll("[selected]").length||ec.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");Ca.querySelectorAll("[id~="+Ob+"-]").length||ec.push("~=");Ca.querySelectorAll("a#"+Ob+"+*").length||ec.push(".#.+[+~]");Ca.querySelectorAll(":checked").length||
ec.push(":checked");var Va=Db.createElement("input");Va.setAttribute("type","hidden");Ca.appendChild(Va).setAttribute("name","D");tc.appendChild(Ca).disabled=!0;2!==Ca.querySelectorAll(":disabled").length&&ec.push(":enabled",":disabled");Va=Db.createElement("input");Va.setAttribute("name","");Ca.appendChild(Va);Ca.querySelectorAll("[name='']").length||ec.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")")});F.cssHas||ec.push(":has");ec=ec.length&&new RegExp(ec.join("|"));
Pc=function(Ca,Va){if(Ca===Va)return ic=!0,0;var Ya=!Ca.compareDocumentPosition-!Va.compareDocumentPosition;if(Ya)return Ya;Ya=(Ca.ownerDocument||Ca)==(Va.ownerDocument||Va)?Ca.compareDocumentPosition(Va):1;return Ya&1||!F.sortDetached&&Va.compareDocumentPosition(Ca)===Ya?Ca===Db||Ca.ownerDocument==Ib&&p.contains(Ib,Ca)?-1:Va===Db||Va.ownerDocument==Ib&&p.contains(Ib,Va)?1:nc?Ba.call(nc,Ca)-Ba.call(nc,Va):0:Ya&4?-1:1};return Db}function Ua(){}function ab(la,Da){var Ca,Va,Ya,db,kb;if(db=Vc[la+" "])return Da?
0:db.slice(0);db=la;var vb=[];for(kb=Fb.preFilter;db;){if(!bb||(Ca=jd.exec(db)))Ca&&(db=db.slice(Ca[0].length)||db),vb.push(Va=[]);var bb=!1;if(Ca=Uc.exec(db))bb=Ca.shift(),Va.push({value:bb,type:Ca[0].replace(qc," ")}),db=db.slice(bb.length);for(Ya in Fb.filter)!(Ca=Kc[Ya].exec(db))||kb[Ya]&&!(Ca=kb[Ya](Ca))||(bb=Ca.shift(),Va.push({value:bb,type:Ya,matches:Ca}),db=db.slice(bb.length));if(!bb)break}return Da?db.length:db?p.error(la):Vc(la,vb).slice(0)}function jb(la){for(var Da=0,Ca=la.length,Va=
"";Da<Ca;Da++)Va+=la[Da].value;return Va}function Gb(la,Da,Ca){var Va=Da.dir,Ya=Da.next,db=Ya||Va,kb=Ca&&"parentNode"===db,vb=kd++;return Da.first?function(bb,rb,xb){for(;bb=bb[Va];)if(1===bb.nodeType||kb)return la(bb,rb,xb);return!1}:function(bb,rb,xb){var qb,Jb=[Dc,vb];if(xb)for(;bb=bb[Va];){if((1===bb.nodeType||kb)&&la(bb,rb,xb))return!0}else for(;bb=bb[Va];)if(1===bb.nodeType||kb){var Pb=bb[Ob]||(bb[Ob]={});if(Ya&&e(bb,Ya))bb=bb[Va]||bb;else{if((qb=Pb[db])&&qb[0]===Dc&&qb[1]===vb)return Jb[2]=
qb[2];Pb[db]=Jb;if(Jb[2]=la(bb,rb,xb))return!0}}return!1}}function ub(la){return 1<la.length?function(Da,Ca,Va){for(var Ya=la.length;Ya--;)if(!la[Ya](Da,Ca,Va))return!1;return!0}:la[0]}function Vb(la,Da,Ca,Va,Ya){for(var db,kb=[],vb=0,bb=la.length,rb=null!=Da;vb<bb;vb++)if(db=la[vb])if(!Ca||Ca(db,Va,Ya))kb.push(db),rb&&Da.push(vb);return kb}function $b(la,Da,Ca,Va,Ya,db){Va&&!Va[Ob]&&(Va=$b(Va));Ya&&!Ya[Ob]&&(Ya=$b(Ya,db));return K(function(kb,vb,bb,rb){var xb,qb,Jb=[],Pb=[],yc=vb.length;if(!(qb=
kb)){qb=Da||"*";for(var Wb=bb.nodeType?[bb]:bb,Kb=[],uc=0,Lc=Wb.length;uc<Lc;uc++)p(qb,Wb[uc],Kb);qb=Kb}Wb=!la||!kb&&Da?qb:Vb(qb,Jb,la,bb,rb);Ca?(qb=Ya||(kb?la:yc||Va)?[]:vb,Ca(Wb,qb,bb,rb)):qb=Wb;if(Va){var vc=Vb(qb,Pb);Va(vc,[],bb,rb);for(bb=vc.length;bb--;)if(xb=vc[bb])qb[Pb[bb]]=!(Wb[Pb[bb]]=xb)}if(kb){if(Ya||la){if(Ya){vc=[];for(bb=qb.length;bb--;)(xb=qb[bb])&&vc.push(Wb[bb]=xb);Ya(null,qb=[],vc,rb)}for(bb=qb.length;bb--;)(xb=qb[bb])&&-1<(vc=Ya?Ba.call(kb,xb):Jb[bb])&&(kb[vc]=!(vb[vc]=xb))}}else qb=
Vb(qb===vb?qb.splice(yc,qb.length):qb),Ya?Ya(null,vb,qb,rb):Zb.apply(vb,qb)})}function oc(la){var Da,Ca,Va=la.length,Ya=Fb.relative[la[0].type];var db=Ya||Fb.relative[" "];for(var kb=Ya?1:0,vb=Gb(function(xb){return xb===Da},db,!0),bb=Gb(function(xb){return-1<Ba.call(Da,xb)},db,!0),rb=[function(xb,qb,Jb){xb=!Ya&&(Jb||qb!=Rb)||((Da=qb).nodeType?vb(xb,qb,Jb):bb(xb,qb,Jb));Da=null;return xb}];kb<Va;kb++)if(db=Fb.relative[la[kb].type])rb=[Gb(ub(rb),db)];else{db=Fb.filter[la[kb].type].apply(null,la[kb].matches);
if(db[Ob]){for(Ca=++kb;Ca<Va&&!Fb.relative[la[Ca].type];Ca++);return $b(1<kb&&ub(rb),1<kb&&jb(la.slice(0,kb-1).concat({value:" "===la[kb-2].type?"*":""})).replace(qc,"$1"),db,kb<Ca&&oc(la.slice(kb,Ca)),Ca<Va&&oc(la=la.slice(Ca)),Ca<Va&&jb(la))}rb.push(db)}return ub(rb)}function sb(la,Da){var Ca=0<Da.length,Va=0<la.length,Ya=function(db,kb,vb,bb,rb){var xb,qb,Jb=0,Pb="0",yc=db&&[],Wb=[],Kb=Rb,uc=db||Va&&Fb.find.TAG("*",rb),Lc=Dc+=null==Kb?1:Math.random()||.1,vc=uc.length;for(rb&&(Rb=kb==Db||kb||rb);Pb!==
vc&&null!=(xb=uc[Pb]);Pb++){if(Va&&xb){var Qc=0;kb||xb.ownerDocument==Db||(xa(xb),vb=!cc);for(;qb=la[Qc++];)if(qb(xb,kb||Db,vb)){Zb.call(bb,xb);break}rb&&(Dc=Lc)}Ca&&((xb=!qb&&xb)&&Jb--,db&&yc.push(xb))}Jb+=Pb;if(Ca&&Pb!==Jb){for(Qc=0;qb=Da[Qc++];)qb(yc,Wb,kb,vb);if(db){if(0<Jb)for(;Pb--;)yc[Pb]||Wb[Pb]||(Wb[Pb]=Hb.call(bb));Wb=Vb(Wb)}Zb.apply(bb,Wb);rb&&!db&&0<Wb.length&&1<Jb+Da.length&&N.uniqueSort(bb)}rb&&(Dc=Lc,Rb=Kb);return yc};return Ca?K(Ya):Ya}function Sb(la,Da){var Ca,Va=[],Ya=[],db=Wc[la+
" "];if(!db){Da||=ab(la);for(Ca=Da.length;Ca--;)db=oc(Da[Ca]),db[Ob]?Va.push(db):Ya.push(db);db=Wc(la,sb(Ya,Va));db.selector=la}return db}function hc(la,Da,Ca,Va){var Ya,db,kb,vb="function"===typeof la&&la,bb=!Va&&ab(la=vb.selector||la);Ca=Ca||[];if(1===bb.length){var rb=bb[0]=bb[0].slice(0);if(2<rb.length&&"ID"===(db=rb[0]).type&&9===Da.nodeType&&cc&&Fb.relative[rb[1].type]){Da=(Fb.find.ID(db.matches[0].replace(Bc,Cc),Da)||[])[0];if(!Da)return Ca;vb&&(Da=Da.parentNode);la=la.slice(rb.shift().value.length)}for(Ya=
Kc.needsContext.test(la)?0:rb.length;Ya--;){db=rb[Ya];if(Fb.relative[kb=db.type])break;if(kb=Fb.find[kb])if(Va=kb(db.matches[0].replace(Bc,Cc),Nc.test(rb[0].type)&&wa(Da.parentNode)||Da)){rb.splice(Ya,1);la=Va.length&&jb(rb);if(!la)return Zb.apply(Ca,Va),Ca;break}}}(vb||Sb(la,bb))(Va,Da,!cc,Ca,!Da||Nc.test(la)&&wa(Da.parentNode)||Da);return Ca}var Ab,Rb,nc,ic,Zb=sa,Db,tc,cc,ec,Oc,Ob=N.expando,Dc=0,kd=0,Xc=A(),Vc=A(),Wc=A(),Jc=A(),Pc=function(la,Da){la===Da&&(ic=!0);return 0},ld=RegExp("[\\x20\\t\\r\\n\\f]+",
"g"),jd=RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),Uc=RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),gd=RegExp("[\\x20\\t\\r\\n\\f]|>"),md=RegExp(":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
nd=RegExp("^(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+$"),Kc={ID:RegExp("^#((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),CLASS:RegExp("^\\.((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),TAG:RegExp("^((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+|[*])"),ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\]"),
PSEUDO:RegExp("^:((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},od=/^(?:input|select|textarea|button)$/i,pd=/^h\d$/i,fd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Nc=/[+~]/,Bc=RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),Cc=function(la,Da){la="0x"+la.slice(1)-65536;return Da?Da:0>la?String.fromCharCode(la+65536):String.fromCharCode(la>>10|55296,la&1023|56320)},id=function(){xa()},hd=Gb(function(la){return!0===la.disabled&&e(la,"fieldset")},{dir:"parentNode",next:"legend"});try{Zb.apply(U=ba.call(Ib.childNodes),Ib.childNodes),U[Ib.childNodes.length].nodeType}catch(la){Zb=
{apply:function(Da,Ca){sa.apply(Da,ba.call(Ca))},call:function(Da){sa.apply(Da,ba.call(arguments,1))}}}p.matches=function(la,Da){return p(la,null,null,Da)};p.matchesSelector=function(la,Da){xa(la);if(!(!cc||Jc[Da+" "]||ec&&ec.test(Da)))try{var Ca=Oc.call(la,Da);if(Ca||F.disconnectedMatch||la.document&&11!==la.document.nodeType)return Ca}catch(Va){Jc(Da,!0)}return 0<p(Da,Db,null,[la]).length};p.contains=function(la,Da){(la.ownerDocument||la)!=Db&&xa(la);return N.contains(la,Da)};p.attr=function(la,
Da){(la.ownerDocument||la)!=Db&&xa(la);var Ca=Fb.attrHandle[Da.toLowerCase()];Ca=Ca&&X.call(Fb.attrHandle,Da.toLowerCase())?Ca(la,Da,!cc):void 0;return void 0!==Ca?Ca:la.getAttribute(Da)};p.error=function(la){throw Error("Syntax error, unrecognized expression: "+la);};N.uniqueSort=function(la){var Da,Ca=[],Va=0,Ya=0;ic=!F.sortStable;nc=!F.sortStable&&ba.call(la,0);bc.call(la,Pc);if(ic){for(;Da=la[Ya++];)Da===la[Ya]&&(Va=Ca.push(Ya));for(;Va--;)Lb.call(la,Ca[Va],1)}nc=null;return la};N.fn.uniqueSort=
function(){return this.pushStack(N.uniqueSort(ba.apply(this)))};var Fb=N.expr={cacheLength:50,createPseudo:K,match:Kc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(la){la[1]=la[1].replace(Bc,Cc);la[3]=(la[3]||la[4]||la[5]||"").replace(Bc,Cc);"~="===la[2]&&(la[3]=" "+la[3]+" ");return la.slice(0,4)},CHILD:function(la){la[1]=la[1].toLowerCase();"nth"===la[1].slice(0,3)?
(la[3]||p.error(la[0]),la[4]=+(la[4]?la[5]+(la[6]||1):2*("even"===la[3]||"odd"===la[3])),la[5]=+(la[7]+la[8]||"odd"===la[3])):la[3]&&p.error(la[0]);return la},PSEUDO:function(la){var Da,Ca=!la[6]&&la[2];if(Kc.CHILD.test(la[0]))return null;la[3]?la[2]=la[4]||la[5]||"":Ca&&md.test(Ca)&&(Da=ab(Ca,!0))&&(Da=Ca.indexOf(")",Ca.length-Da)-Ca.length)&&(la[0]=la[0].slice(0,Da),la[2]=Ca.slice(0,Da));return la.slice(0,3)}},filter:{TAG:function(la){var Da=la.replace(Bc,Cc).toLowerCase();return"*"===la?function(){return!0}:
function(Ca){return e(Ca,Da)}},CLASS:function(la){var Da=Xc[la+" "];return Da||(Da=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+la+"([\\x20\\t\\r\\n\\f]|$)"),Xc(la,function(Ca){return Da.test("string"===typeof Ca.className&&Ca.className||"undefined"!==typeof Ca.getAttribute&&Ca.getAttribute("class")||"")}))},ATTR:function(la,Da,Ca){return function(Va){Va=p.attr(Va,la);if(null==Va)return"!="===Da;if(!Da)return!0;Va+="";return"="===Da?Va===Ca:"!="===Da?Va!==Ca:"^="===Da?Ca&&0===Va.indexOf(Ca):"*="===Da?Ca&&
-1<Va.indexOf(Ca):"$="===Da?Ca&&Va.slice(-Ca.length)===Ca:"~="===Da?-1<(" "+Va.replace(ld," ")+" ").indexOf(Ca):"|="===Da?Va===Ca||Va.slice(0,Ca.length+1)===Ca+"-":!1}},CHILD:function(la,Da,Ca,Va,Ya){var db="nth"!==la.slice(0,3),kb="last"!==la.slice(-4),vb="of-type"===Da;return 1===Va&&0===Ya?function(bb){return!!bb.parentNode}:function(bb,rb,xb){var qb,Jb;rb=db!==kb?"nextSibling":"previousSibling";var Pb=bb.parentNode,yc=vb&&bb.nodeName.toLowerCase(),Wb=!xb&&!vb;var Kb=!1;if(Pb){if(db){for(;rb;){for(qb=
bb;qb=qb[rb];)if(vb?e(qb,yc):1===qb.nodeType)return!1;var uc=rb="only"===la&&!uc&&"nextSibling"}return!0}uc=[kb?Pb.firstChild:Pb.lastChild];if(kb&&Wb)for(xb=Pb[Ob]||(Pb[Ob]={}),Kb=xb[la]||[],Kb=(Jb=Kb[0]===Dc&&Kb[1])&&Kb[2],qb=Jb&&Pb.childNodes[Jb];qb=++Jb&&qb&&qb[rb]||(Kb=Jb=0)||uc.pop();){if(1===qb.nodeType&&++Kb&&qb===bb){xb[la]=[Dc,Jb,Kb];break}}else if(Wb&&(xb=bb[Ob]||(bb[Ob]={}),Kb=xb[la]||[],Kb=Jb=Kb[0]===Dc&&Kb[1]),!1===Kb)for(;(qb=++Jb&&qb&&qb[rb]||(Kb=Jb=0)||uc.pop())&&((vb?!e(qb,yc):1!==
qb.nodeType)||!++Kb||(Wb&&(xb=qb[Ob]||(qb[Ob]={}),xb[la]=[Dc,Kb]),qb!==bb)););Kb-=Ya;return Kb===Va||0===Kb%Va&&0<=Kb/Va}}},PSEUDO:function(la,Da){var Ca=Fb.pseudos[la]||Fb.setFilters[la.toLowerCase()]||p.error("unsupported pseudo: "+la);if(Ca[Ob])return Ca(Da);if(1<Ca.length){var Va=[la,la,"",Da];return Fb.setFilters.hasOwnProperty(la.toLowerCase())?K(function(Ya,db){for(var kb,vb=Ca(Ya,Da),bb=vb.length;bb--;)kb=Ba.call(Ya,vb[bb]),Ya[kb]=!(db[kb]=vb[bb])}):function(Ya){return Ca(Ya,0,Va)}}return Ca}},
pseudos:{not:K(function(la){var Da=[],Ca=[],Va=Sb(la.replace(qc,"$1"));return Va[Ob]?K(function(Ya,db,kb,vb){vb=Va(Ya,null,vb,[]);for(var bb=Ya.length;bb--;)if(kb=vb[bb])Ya[bb]=!(db[bb]=kb)}):function(Ya,db,kb){Da[0]=Ya;Va(Da,null,kb,Ca);Da[0]=null;return!Ca.pop()}}),has:K(function(la){return function(Da){return 0<p(la,Da).length}}),contains:K(function(la){la=la.replace(Bc,Cc);return function(Da){return-1<(Da.textContent||N.text(Da)).indexOf(la)}}),lang:K(function(la){nd.test(la||"")||p.error("unsupported lang: "+
la);la=la.replace(Bc,Cc).toLowerCase();return function(Da){var Ca;do if(Ca=cc?Da.lang:Da.getAttribute("xml:lang")||Da.getAttribute("lang"))return Ca=Ca.toLowerCase(),Ca===la||0===Ca.indexOf(la+"-");while((Da=Da.parentNode)&&1===Da.nodeType);return!1}}),target:function(la){var Da=z.location&&z.location.hash;return Da&&Da.slice(1)===la.id},root:function(la){return la===tc},focus:function(la){a:{try{var Da=Db.activeElement;break a}catch(Ca){}Da=void 0}return la===Da&&Db.hasFocus()&&!!(la.type||la.href||
~la.tabIndex)},enabled:ja(!1),disabled:ja(!0),checked:function(la){return e(la,"input")&&!!la.checked||e(la,"option")&&!!la.selected},selected:function(la){la.parentNode&&la.parentNode.selectedIndex;return!0===la.selected},empty:function(la){for(la=la.firstChild;la;la=la.nextSibling)if(6>la.nodeType)return!1;return!0},parent:function(la){return!Fb.pseudos.empty(la)},header:function(la){return pd.test(la.nodeName)},input:function(la){return od.test(la.nodeName)},button:function(la){return e(la,"input")&&
"button"===la.type||e(la,"button")},text:function(la){var Da;return e(la,"input")&&"text"===la.type&&(null==(Da=la.getAttribute("type"))||"text"===Da.toLowerCase())},first:za(function(){return[0]}),last:za(function(la,Da){return[Da-1]}),eq:za(function(la,Da,Ca){return[0>Ca?Ca+Da:Ca]}),even:za(function(la,Da){for(var Ca=0;Ca<Da;Ca+=2)la.push(Ca);return la}),odd:za(function(la,Da){for(var Ca=1;Ca<Da;Ca+=2)la.push(Ca);return la}),lt:za(function(la,Da,Ca){for(Da=0>Ca?Ca+Da:Ca>Da?Da:Ca;0<=--Da;)la.push(Da);
return la}),gt:za(function(la,Da,Ca){for(Ca=0>Ca?Ca+Da:Ca;++Ca<Da;)la.push(Ca);return la})}};Fb.pseudos.nth=Fb.pseudos.eq;for(Ab in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Fb.pseudos[Ab]=W(Ab);for(Ab in{submit:!0,reset:!0})Fb.pseudos[Ab]=Z(Ab);Ua.prototype=Fb.filters=Fb.pseudos;Fb.setFilters=new Ua;F.sortStable=Ob.split("").sort(Pc).join("")===Ob;xa();F.sortDetached=O(function(la){return la.compareDocumentPosition(Db.createElement("fieldset"))&1});N.find=p;N.expr[":"]=N.expr.pseudos;N.unique=
N.uniqueSort;p.compile=Sb;p.select=hc;p.setDocument=xa;p.escape=N.escapeSelector;p.getText=N.text;p.isXML=N.isXMLDoc;p.selectors=N.expr;p.support=N.support;p.uniqueSort=N.uniqueSort})();var Sa=function(p,A,K){for(var O=[],W=void 0!==K;(p=p[A])&&9!==p.nodeType;)if(1===p.nodeType){if(W&&N(p).is(K))break;O.push(p)}return O},ob=function(p,A){for(var K=[];p;p=p.nextSibling)1===p.nodeType&&p!==A&&K.push(p);return K},Tb=N.expr.match.needsContext,Bb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
N.filter=function(p,A,K){var O=A[0];K&&(p=":not("+p+")");return 1===A.length&&1===O.nodeType?N.find.matchesSelector(O,p)?[O]:[]:N.find.matches(p,N.grep(A,function(W){return 1===W.nodeType}))};N.fn.extend({find:function(p){var A,K=this.length,O=this;if("string"!==typeof p)return this.pushStack(N(p).filter(function(){for(A=0;A<K;A++)if(N.contains(O[A],this))return!0}));var W=this.pushStack([]);for(A=0;A<K;A++)N.find(p,O[A],W);return 1<K?N.uniqueSort(W):W},filter:function(p){return this.pushStack(a(this,
p||[],!1))},not:function(p){return this.pushStack(a(this,p||[],!0))},is:function(p){return!!a(this,"string"===typeof p&&Tb.test(p)?N(p):p||[],!1).length}});var zc=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(N.fn.init=function(p,A,K){if(!p)return this;K=K||kc;if("string"===typeof p){var O="<"===p[0]&&">"===p[p.length-1]&&3<=p.length?[null,p,null]:zc.exec(p);if(!O||!O[1]&&A)return!A||A.jquery?(A||K).find(p):this.constructor(A).find(p);if(O[1]){if(A=A instanceof N?A[0]:A,N.merge(this,N.parseHTML(O[1],A&&
A.nodeType?A.ownerDocument||A:Na,!0)),Bb.test(O[1])&&N.isPlainObject(A))for(O in A)if(T(this[O]))this[O](A[O]);else this.attr(O,A[O])}else if(p=Na.getElementById(O[2]))this[0]=p,this.length=1;return this}return p.nodeType?(this[0]=p,this.length=1,this):T(p)?void 0!==K.ready?K.ready(p):p(N):N.makeArray(p,this)}).prototype=N.fn;var kc=N(Na);var rc=/^(?:parents|prev(?:Until|All))/,fc={children:!0,contents:!0,next:!0,prev:!0};N.fn.extend({has:function(p){var A=N(p,this),K=A.length;return this.filter(function(){for(var O=
0;O<K;O++)if(N.contains(this,A[O]))return!0})},closest:function(p,A){var K,O=0,W=this.length,Z=[],ja="string"!==typeof p&&N(p);if(!Tb.test(p))for(;O<W;O++)for(K=this[O];K&&K!==A;K=K.parentNode)if(11>K.nodeType&&(ja?-1<ja.index(K):1===K.nodeType&&N.find.matchesSelector(K,p))){Z.push(K);break}return this.pushStack(1<Z.length?N.uniqueSort(Z):Z)},index:function(p){return p?"string"===typeof p?Ba.call(N(p),this[0]):Ba.call(this,p.jquery?p[0]:p):this[0]&&this[0].parentNode?this.first().prevAll().length:
-1},add:function(p,A){return this.pushStack(N.uniqueSort(N.merge(this.get(),N(p,A))))},addBack:function(p){return this.add(null==p?this.prevObject:this.prevObject.filter(p))}});N.each({parent:function(p){return(p=p.parentNode)&&11!==p.nodeType?p:null},parents:function(p){return Sa(p,"parentNode")},parentsUntil:function(p,A,K){return Sa(p,"parentNode",K)},next:function(p){return k(p,"nextSibling")},prev:function(p){return k(p,"previousSibling")},nextAll:function(p){return Sa(p,"nextSibling")},prevAll:function(p){return Sa(p,
"previousSibling")},nextUntil:function(p,A,K){return Sa(p,"nextSibling",K)},prevUntil:function(p,A,K){return Sa(p,"previousSibling",K)},siblings:function(p){return ob((p.parentNode||{}).firstChild,p)},children:function(p){return ob(p.firstChild)},contents:function(p){if(null!=p.contentDocument&&ca(p.contentDocument))return p.contentDocument;e(p,"template")&&(p=p.content||p);return N.merge([],p.childNodes)}},function(p,A){N.fn[p]=function(K,O){var W=N.map(this,A,K);"Until"!==p.slice(-5)&&(O=K);O&&
"string"===typeof O&&(W=N.filter(O,W));1<this.length&&(fc[p]||N.uniqueSort(W),rc.test(p)&&W.reverse());return this.pushStack(W)}});var wb=/[^\x20\t\r\n\f]+/g;N.Callbacks=function(p){p="string"===typeof p?r(p):N.extend({},p);var A,K,O,W,Z=[],ja=[],za=-1,wa=function(){W=W||p.once;for(O=A=!0;ja.length;za=-1)for(K=ja.shift();++za<Z.length;)!1===Z[za].apply(K[0],K[1])&&p.stopOnFalse&&(za=Z.length,K=!1);p.memory||(K=!1);A=!1;W&&(Z=K?[]:"")},xa={add:function(){Z&&(K&&!A&&(za=Z.length-1,ja.push(K)),function jb(ab){N.each(ab,
function(Gb,ub){T(ub)?p.unique&&xa.has(ub)||Z.push(ub):ub&&ub.length&&"string"!==D(ub)&&jb(ub)})}(arguments),K&&!A&&wa());return this},remove:function(){N.each(arguments,function(Ua,ab){for(var jb;-1<(jb=N.inArray(ab,Z,jb));)Z.splice(jb,1),jb<=za&&za--});return this},has:function(Ua){return Ua?-1<N.inArray(Ua,Z):0<Z.length},empty:function(){Z&&=[];return this},disable:function(){W=ja=[];Z=K="";return this},disabled:function(){return!Z},lock:function(){W=ja=[];K||A||(Z=K="");return this},locked:function(){return!!W},
fireWith:function(Ua,ab){W||(ab=ab||[],ab=[Ua,ab.slice?ab.slice():ab],ja.push(ab),A||wa());return this},fire:function(){xa.fireWith(this,arguments);return this},fired:function(){return!!O}};return xa};N.extend({Deferred:function(p){var A=[["notify","progress",N.Callbacks("memory"),N.Callbacks("memory"),2],["resolve","done",N.Callbacks("once memory"),N.Callbacks("once memory"),0,"resolved"],["reject","fail",N.Callbacks("once memory"),N.Callbacks("once memory"),1,"rejected"]],K="pending",O={state:function(){return K},
always:function(){W.done(arguments).fail(arguments);return this},"catch":function(Z){return O.then(null,Z)},pipe:function(){var Z=arguments;return N.Deferred(function(ja){N.each(A,function(za,wa){var xa=T(Z[wa[4]])&&Z[wa[4]];W[wa[1]](function(){var Ua=xa&&xa.apply(this,arguments);if(Ua&&T(Ua.promise))Ua.promise().progress(ja.notify).done(ja.resolve).fail(ja.reject);else ja[wa[0]+"With"](this,xa?[Ua]:arguments)})});Z=null}).promise()},then:function(Z,ja,za){function wa(Ua,ab,jb,Gb){return function(){var ub=
this,Vb=arguments,$b=function(){if(!(Ua<xa)){var sb=jb.apply(ub,Vb);if(sb===ab.promise())throw new TypeError("Thenable self-resolution");var Sb=sb&&("object"===typeof sb||"function"===typeof sb)&&sb.then;T(Sb)?Gb?Sb.call(sb,wa(xa,ab,q,Gb),wa(xa,ab,b,Gb)):(xa++,Sb.call(sb,wa(xa,ab,q,Gb),wa(xa,ab,b,Gb),wa(xa,ab,q,ab.notifyWith))):(jb!==q&&(ub=void 0,Vb=[sb]),(Gb||ab.resolveWith)(ub,Vb))}},oc=Gb?$b:function(){try{$b()}catch(sb){N.Deferred.exceptionHook&&N.Deferred.exceptionHook(sb,oc.error),Ua+1>=xa&&
(jb!==b&&(ub=void 0,Vb=[sb]),ab.rejectWith(ub,Vb))}};Ua?oc():(N.Deferred.getErrorHook?oc.error=N.Deferred.getErrorHook():N.Deferred.getStackHook&&(oc.error=N.Deferred.getStackHook()),z.setTimeout(oc))}}var xa=0;return N.Deferred(function(Ua){A[0][3].add(wa(0,Ua,T(za)?za:q,Ua.notifyWith));A[1][3].add(wa(0,Ua,T(Z)?Z:q));A[2][3].add(wa(0,Ua,T(ja)?ja:b))}).promise()},promise:function(Z){return null!=Z?N.extend(Z,O):O}},W={};N.each(A,function(Z,ja){var za=ja[2],wa=ja[5];O[ja[1]]=za.add;wa&&za.add(function(){K=
wa},A[3-Z][2].disable,A[3-Z][3].disable,A[0][2].lock,A[0][3].lock);za.add(ja[3].fire);W[ja[0]]=function(){W[ja[0]+"With"](this===W?void 0:this,arguments);return this};W[ja[0]+"With"]=za.fireWith});O.promise(W);p&&p.call(W,W);return W},when:function(p){var A=arguments.length,K=A,O=Array(K),W=ba.call(arguments),Z=N.Deferred(),ja=function(za){return function(wa){O[za]=this;W[za]=1<arguments.length?ba.call(arguments):wa;--A||Z.resolveWith(O,W)}};if(1>=A&&(d(p,Z.done(ja(K)).resolve,Z.reject,!A),"pending"===
Z.state()||T(W[K]&&W[K].then)))return Z.then();for(;K--;)d(W[K],ja(K),Z.reject);return Z.promise()}});var jc=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;N.Deferred.exceptionHook=function(p,A){z.console&&z.console.warn&&p&&jc.test(p.name)&&z.console.warn("jQuery.Deferred exception: "+p.message,p.stack,A)};N.readyException=function(p){z.setTimeout(function(){throw p;})};var Eb=N.Deferred();N.fn.ready=function(p){Eb.then(p).catch(function(A){N.readyException(A)});return this};N.extend({isReady:!1,
readyWait:1,ready:function(p){(!0===p?--N.readyWait:N.isReady)||(N.isReady=!0,!0!==p&&0<--N.readyWait||Eb.resolveWith(Na,[N]))}});N.ready.then=Eb.then;"complete"===Na.readyState||"loading"!==Na.readyState&&!Na.documentElement.doScroll?z.setTimeout(N.ready):(Na.addEventListener("DOMContentLoaded",g),z.addEventListener("load",g));var Qb=function(p,A,K,O,W,Z,ja){var za=0,wa=p.length,xa=null==K;if("object"===D(K))for(za in W=!0,K)Qb(p,A,za,K[za],!0,Z,ja);else if(void 0!==O&&(W=!0,T(O)||(ja=!0),xa&&(ja?
(A.call(p,O),A=null):(xa=A,A=function(Ua,ab,jb){return xa.call(N(Ua),jb)})),A))for(;za<wa;za++)A(p[za],K,ja?O:O.call(p[za],za,A(p[za],K)));return W?p:xa?A.call(p):wa?A(p[0],K):Z},mb=/^-ms-/,gc=/-([a-z])/g,Yb=function(p){return 1===p.nodeType||9===p.nodeType||!+p.nodeType};n.uid=1;n.prototype={cache:function(p){var A=p[this.expando];A||(A={},Yb(p)&&(p.nodeType?p[this.expando]=A:Object.defineProperty(p,this.expando,{value:A,configurable:!0})));return A},set:function(p,A,K){var O;p=this.cache(p);if("string"===
typeof A)p[f(A)]=K;else for(O in A)p[f(O)]=A[O];return p},get:function(p,A){return void 0===A?this.cache(p):p[this.expando]&&p[this.expando][f(A)]},access:function(p,A,K){if(void 0===A||A&&"string"===typeof A&&void 0===K)return this.get(p,A);this.set(p,A,K);return void 0!==K?K:A},remove:function(p,A){var K,O=p[this.expando];if(void 0!==O){if(void 0!==A)for(Array.isArray(A)?A=A.map(f):(A=f(A),A=A in O?[A]:A.match(wb)||[]),K=A.length;K--;)delete O[A[K]];if(void 0===A||N.isEmptyObject(O))p.nodeType?
p[this.expando]=void 0:delete p[this.expando]}},hasData:function(p){p=p[this.expando];return void 0!==p&&!N.isEmptyObject(p)}};var lb=new n,Nb=new n,dc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,pc=/[A-Z]/g;N.extend({hasData:function(p){return Nb.hasData(p)||lb.hasData(p)},data:function(p,A,K){return Nb.access(p,A,K)},removeData:function(p,A){Nb.remove(p,A)},_data:function(p,A,K){return lb.access(p,A,K)},_removeData:function(p,A){lb.remove(p,A)}});N.fn.extend({data:function(p,A){var K,O=this[0],W=O&&O.attributes;
if(void 0===p){if(this.length){var Z=Nb.get(O);if(1===O.nodeType&&!lb.get(O,"hasDataAttrs")){for(K=W.length;K--;)if(W[K]){var ja=W[K].name;0===ja.indexOf("data-")&&(ja=f(ja.slice(5)),u(O,ja,Z[ja]))}lb.set(O,"hasDataAttrs",!0)}}return Z}return"object"===typeof p?this.each(function(){Nb.set(this,p)}):Qb(this,function(za){if(O&&void 0===za){var wa=Nb.get(O,p);if(void 0!==wa)return wa;wa=u(O,p);if(void 0!==wa)return wa}else this.each(function(){Nb.set(this,p,za)})},null,A,1<arguments.length,null,!0)},
removeData:function(p){return this.each(function(){Nb.remove(this,p)})}});N.extend({queue:function(p,A,K){if(p){A=(A||"fx")+"queue";var O=lb.get(p,A);K&&(!O||Array.isArray(K)?O=lb.access(p,A,N.makeArray(K)):O.push(K));return O||[]}},dequeue:function(p,A){A=A||"fx";var K=N.queue(p,A),O=K.length,W=K.shift(),Z=N._queueHooks(p,A),ja=function(){N.dequeue(p,A)};"inprogress"===W&&(W=K.shift(),O--);W&&("fx"===A&&K.unshift("inprogress"),delete Z.stop,W.call(p,ja,Z));!O&&Z&&Z.empty.fire()},_queueHooks:function(p,
A){var K=A+"queueHooks";return lb.get(p,K)||lb.access(p,K,{empty:N.Callbacks("once memory").add(function(){lb.remove(p,[A+"queue",K])})})}});N.fn.extend({queue:function(p,A){var K=2;"string"!==typeof p&&(A=p,p="fx",K--);return arguments.length<K?N.queue(this[0],p):void 0===A?this:this.each(function(){var O=N.queue(this,p,A);N._queueHooks(this,p);"fx"===p&&"inprogress"!==O[0]&&N.dequeue(this,p)})},dequeue:function(p){return this.each(function(){N.dequeue(this,p)})},clearQueue:function(p){return this.queue(p||
"fx",[])},promise:function(p,A){var K,O=1,W=N.Deferred(),Z=this,ja=this.length,za=function(){--O||W.resolveWith(Z,[Z])};"string"!==typeof p&&(A=p,p=void 0);for(p=p||"fx";ja--;)(K=lb.get(Z[ja],p+"queueHooks"))&&K.empty&&(O++,K.empty.add(za));za();return W.promise(A)}});var wc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xb=new RegExp("^(?:([+-])=|)("+wc+")([a-z%]*)$","i"),Ub=["Top","Right","Bottom","Left"],mc=Na.documentElement,xc=function(p){return N.contains(p.ownerDocument,p)},Fc={composed:!0};
mc.getRootNode&&(xc=function(p){return N.contains(p.ownerDocument,p)||p.getRootNode(Fc)===p.ownerDocument});var Ac=function(p,A){p=A||p;return"none"===p.style.display||""===p.style.display&&xc(p)&&"none"===N.css(p,"display")},Ec={};N.fn.extend({show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(p){return"boolean"===typeof p?p?this.show():this.hide():this.each(function(){Ac(this)?N(this).show():N(this).hide()})}});var sc=/^(?:checkbox|radio)$/i,da=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
Ia=/^$|^module$|\/(?:java|ecma)script/i;(function(){var p=Na.createDocumentFragment().appendChild(Na.createElement("div")),A=Na.createElement("input");A.setAttribute("type","radio");A.setAttribute("checked","checked");A.setAttribute("name","t");p.appendChild(A);F.checkClone=p.cloneNode(!0).cloneNode(!0).lastChild.checked;p.innerHTML="<textarea>x</textarea>";F.noCloneChecked=!!p.cloneNode(!0).lastChild.defaultValue;p.innerHTML="<option></option>";F.option=!!p.lastChild})();var Ra={thead:[1,"<table>",
"</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ra.tbody=Ra.tfoot=Ra.colgroup=Ra.caption=Ra.thead;Ra.th=Ra.td;F.option||(Ra.optgroup=Ra.option=[1,"<select multiple='multiple'>","</select>"]);var fb=/<|&#?\w+;/,ib=/^([^.]*)(?:\.(.+)|)/;N.event={global:{},add:function(p,A,K,O,W){var Z,ja,za,wa;var xa=lb.get(p);if(Yb(p)){if(K.handler){var Ua=K;K=Ua.handler;W=Ua.selector}W&&
N.find.matchesSelector(mc,W);K.guid||(K.guid=N.guid++);(ja=xa.events)||(ja=xa.events=Object.create(null));(Z=xa.handle)||(Z=xa.handle=function(ub){return"undefined"!==typeof N&&N.event.triggered!==ub.type?N.event.dispatch.apply(p,arguments):void 0});A=(A||"").match(wb)||[""];for(xa=A.length;xa--;){var ab=ib.exec(A[xa])||[];var jb=za=ab[1];var Gb=(ab[2]||"").split(".").sort();jb&&(ab=N.event.special[jb]||{},jb=(W?ab.delegateType:ab.bindType)||jb,ab=N.event.special[jb]||{},za=N.extend({type:jb,origType:za,
data:O,handler:K,guid:K.guid,selector:W,needsContext:W&&N.expr.match.needsContext.test(W),namespace:Gb.join(".")},Ua),(wa=ja[jb])||(wa=ja[jb]=[],wa.delegateCount=0,ab.setup&&!1!==ab.setup.call(p,O,Gb,Z)||p.addEventListener&&p.addEventListener(jb,Z)),ab.add&&(ab.add.call(p,za),za.handler.guid||(za.handler.guid=K.guid)),W?wa.splice(wa.delegateCount++,0,za):wa.push(za),N.event.global[jb]=!0)}}},remove:function(p,A,K,O,W){var Z,ja,za,wa,xa,Ua=lb.hasData(p)&&lb.get(p);if(Ua&&(za=Ua.events)){A=(A||"").match(wb)||
[""];for(wa=A.length;wa--;){var ab=ib.exec(A[wa])||[];var jb=xa=ab[1];var Gb=(ab[2]||"").split(".").sort();if(jb){var ub=N.event.special[jb]||{};jb=(O?ub.delegateType:ub.bindType)||jb;var Vb=za[jb]||[];ab=ab[2]&&new RegExp("(^|\\.)"+Gb.join("\\.(?:.*\\.|)")+"(\\.|$)");for(ja=Z=Vb.length;Z--;){var $b=Vb[Z];!W&&xa!==$b.origType||K&&K.guid!==$b.guid||ab&&!ab.test($b.namespace)||O&&O!==$b.selector&&("**"!==O||!$b.selector)||(Vb.splice(Z,1),$b.selector&&Vb.delegateCount--,ub.remove&&ub.remove.call(p,$b))}ja&&
!Vb.length&&(ub.teardown&&!1!==ub.teardown.call(p,Gb,Ua.handle)||N.removeEvent(p,jb,Ua.handle),delete za[jb])}else for(jb in za)N.event.remove(p,jb+A[wa],K,O,!0)}N.isEmptyObject(za)&&lb.remove(p,"handle events")}},dispatch:function(p){var A,K,O,W=Array(arguments.length),Z=N.event.fix(p);var ja=(lb.get(this,"events")||Object.create(null))[Z.type]||[];var za=N.event.special[Z.type]||{};W[0]=Z;for(A=1;A<arguments.length;A++)W[A]=arguments[A];Z.delegateTarget=this;if(!za.preDispatch||!1!==za.preDispatch.call(this,
Z)){var wa=N.event.handlers.call(this,Z,ja);for(A=0;(O=wa[A++])&&!Z.isPropagationStopped();)for(Z.currentTarget=O.elem,ja=0;(K=O.handlers[ja++])&&!Z.isImmediatePropagationStopped();)if(!Z.rnamespace||!1===K.namespace||Z.rnamespace.test(K.namespace))Z.handleObj=K,Z.data=K.data,K=((N.event.special[K.origType]||{}).handle||K.handler).apply(O.elem,W),void 0!==K&&!1===(Z.result=K)&&(Z.preventDefault(),Z.stopPropagation());za.postDispatch&&za.postDispatch.call(this,Z);return Z.result}},handlers:function(p,
A){var K,O=[],W=A.delegateCount,Z=p.target;if(W&&Z.nodeType&&!("click"===p.type&&1<=p.button))for(;Z!==this;Z=Z.parentNode||this)if(1===Z.nodeType&&("click"!==p.type||!0!==Z.disabled)){var ja=[];var za={};for(K=0;K<W;K++){var wa=A[K];var xa=wa.selector+" ";void 0===za[xa]&&(za[xa]=wa.needsContext?-1<N(xa,this).index(Z):N.find(xa,this,null,[Z]).length);za[xa]&&ja.push(wa)}ja.length&&O.push({elem:Z,handlers:ja})}W<A.length&&O.push({elem:this,handlers:A.slice(W)});return O},addProp:function(p,A){Object.defineProperty(N.Event.prototype,
p,{enumerable:!0,configurable:!0,get:T(A)?function(){if(this.originalEvent)return A(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[p]},set:function(K){Object.defineProperty(this,p,{enumerable:!0,configurable:!0,writable:!0,value:K})}})},fix:function(p){return p[N.expando]?p:new N.Event(p)},special:{load:{noBubble:!0},click:{setup:function(p){p=this||p;sc.test(p.type)&&p.click&&e(p,"input")&&J(p,"click",!0);return!1},trigger:function(p){p=this||p;sc.test(p.type)&&p.click&&
e(p,"input")&&J(p,"click");return!0},_default:function(p){p=p.target;return sc.test(p.type)&&p.click&&e(p,"input")&&lb.get(p,"click")||e(p,"a")}},beforeunload:{postDispatch:function(p){void 0!==p.result&&p.originalEvent&&(p.originalEvent.returnValue=p.result)}}}};N.removeEvent=function(p,A,K){p.removeEventListener&&p.removeEventListener(A,K)};N.Event=function(p,A){if(!(this instanceof N.Event))return new N.Event(p,A);p&&p.type?(this.originalEvent=p,this.type=p.type,this.isDefaultPrevented=p.defaultPrevented||
void 0===p.defaultPrevented&&!1===p.returnValue?x:H,this.target=p.target&&3===p.target.nodeType?p.target.parentNode:p.target,this.currentTarget=p.currentTarget,this.relatedTarget=p.relatedTarget):this.type=p;A&&N.extend(this,A);this.timeStamp=p&&p.timeStamp||Date.now();this[N.expando]=!0};N.Event.prototype={constructor:N.Event,isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H,isSimulated:!1,preventDefault:function(){var p=this.originalEvent;this.isDefaultPrevented=x;p&&!this.isSimulated&&
p.preventDefault()},stopPropagation:function(){var p=this.originalEvent;this.isPropagationStopped=x;p&&!this.isSimulated&&p.stopPropagation()},stopImmediatePropagation:function(){var p=this.originalEvent;this.isImmediatePropagationStopped=x;p&&!this.isSimulated&&p.stopImmediatePropagation();this.stopPropagation()}};N.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,
button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},N.event.addProp);N.each({focus:"focusin",blur:"focusout"},function(p,A){function K(O){if(Na.documentMode){var W=lb.get(this,"handle"),Z=N.event.fix(O);Z.type="focusin"===O.type?"focus":"blur";Z.isSimulated=!0;W(O);Z.target===Z.currentTarget&&W(Z)}else N.event.simulate(A,O.target,N.event.fix(O))}N.event.special[p]={setup:function(){var O;
J(this,p,!0);if(Na.documentMode)(O=lb.get(this,A))||this.addEventListener(A,K),lb.set(this,A,(O||0)+1);else return!1},trigger:function(){J(this,p);return!0},teardown:function(){var O;if(Na.documentMode)(O=lb.get(this,A)-1)?lb.set(this,A,O):(this.removeEventListener(A,K),lb.remove(this,A));else return!1},_default:function(O){return lb.get(O.target,p)},delegateType:A};N.event.special[A]={setup:function(){var O=this.ownerDocument||this.document||this,W=Na.documentMode?this:O,Z=lb.get(W,A);Z||(Na.documentMode?
this.addEventListener(A,K):O.addEventListener(p,K,!0));lb.set(W,A,(Z||0)+1)},teardown:function(){var O=this.ownerDocument||this.document||this,W=Na.documentMode?this:O,Z=lb.get(W,A)-1;Z?lb.set(W,A,Z):(Na.documentMode?this.removeEventListener(A,K):O.removeEventListener(p,K,!0),lb.remove(W,A))}}});N.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(p,A){N.event.special[p]={delegateType:A,bindType:A,handle:function(K){var O=K.relatedTarget,
W=K.handleObj;if(!O||O!==this&&!N.contains(this,O)){K.type=W.origType;var Z=W.handler.apply(this,arguments);K.type=A}return Z}}});N.fn.extend({on:function(p,A,K,O){return I(this,p,A,K,O)},one:function(p,A,K,O){return I(this,p,A,K,O,1)},off:function(p,A,K){if(p&&p.preventDefault&&p.handleObj){var O=p.handleObj;N(p.delegateTarget).off(O.namespace?O.origType+"."+O.namespace:O.origType,O.selector,O.handler);return this}if("object"===typeof p){for(O in p)this.off(O,A,p[O]);return this}if(!1===A||"function"===
typeof A)K=A,A=void 0;!1===K&&(K=H);return this.each(function(){N.event.remove(this,p,K,A)})}});var eb=/<script|<style|<link/i,V=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^\s*<!\[CDATA\[|\]\]>\s*$/g;N.extend({htmlPrefilter:function(p){return p},clone:function(p,A,K){var O,W=p.cloneNode(!0),Z=xc(p);if(!(F.noCloneChecked||1!==p.nodeType&&11!==p.nodeType||N.isXMLDoc(p))){var ja=t(W);var za=t(p);var wa=0;for(O=za.length;wa<O;wa++){var xa=za[wa],Ua=ja[wa],ab=Ua.nodeName.toLowerCase();if("input"===ab&&sc.test(xa.type))Ua.checked=
xa.checked;else if("input"===ab||"textarea"===ab)Ua.defaultValue=xa.defaultValue}}if(A)if(K)for(za=za||t(p),ja=ja||t(W),wa=0,O=za.length;wa<O;wa++)ea(za[wa],ja[wa]);else ea(p,W);ja=t(W,"script");0<ja.length&&G(ja,!Z&&t(p,"script"));return W},cleanData:function(p){for(var A,K,O,W=N.event.special,Z=0;void 0!==(K=p[Z]);Z++)if(Yb(K)){if(A=K[lb.expando]){if(A.events)for(O in A.events)W[O]?N.event.remove(K,O):N.removeEvent(K,O,A.handle);K[lb.expando]=void 0}K[Nb.expando]&&(K[Nb.expando]=void 0)}}});N.fn.extend({detach:function(p){return na(this,
p,!0)},remove:function(p){return na(this,p)},text:function(p){return Qb(this,function(A){return void 0===A?N.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=A})},null,p,arguments.length)},append:function(){return ua(this,arguments,function(p){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||L(this,p).appendChild(p)})},prepend:function(){return ua(this,arguments,function(p){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var A=
L(this,p);A.insertBefore(p,A.firstChild)}})},before:function(){return ua(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this)})},after:function(){return ua(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this.nextSibling)})},empty:function(){for(var p,A=0;null!=(p=this[A]);A++)1===p.nodeType&&(N.cleanData(t(p,!1)),p.textContent="");return this},clone:function(p,A){p=null==p?!1:p;A=null==A?p:A;return this.map(function(){return N.clone(this,p,A)})},
html:function(p){return Qb(this,function(A){var K=this[0]||{},O=0,W=this.length;if(void 0===A&&1===K.nodeType)return K.innerHTML;if("string"===typeof A&&!eb.test(A)&&!Ra[(da.exec(A)||["",""])[1].toLowerCase()]){A=N.htmlPrefilter(A);try{for(;O<W;O++)K=this[O]||{},1===K.nodeType&&(N.cleanData(t(K,!1)),K.innerHTML=A);K=0}catch(Z){}}K&&this.empty().append(A)},null,p,arguments.length)},replaceWith:function(){var p=[];return ua(this,arguments,function(A){var K=this.parentNode;0>N.inArray(this,p)&&(N.cleanData(t(this)),
K&&K.replaceChild(A,this))},p)}});N.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(p,A){N.fn[p]=function(K){for(var O=[],W=N(K),Z=W.length-1,ja=0;ja<=Z;ja++)K=ja===Z?this:this.clone(!0),N(W[ja])[A](K),sa.apply(O,K.get());return this.pushStack(O)}});var Ka=new RegExp("^("+wc+")(?!px)[a-z%]+$","i"),ha=/^--/,Fa=function(p){var A=p.ownerDocument.defaultView;A&&A.opener||(A=z);return A.getComputedStyle(p)},Pa=function(p,A,K){var O,
W={};for(O in A)W[O]=p.style[O],p.style[O]=A[O];K=K.call(p);for(O in A)p.style[O]=W[O];return K},Ga=new RegExp(Ub.join("|"),"i");(function(){function p(){if(wa){za.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";wa.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";mc.appendChild(za).appendChild(wa);var xa=z.getComputedStyle(wa);A="1%"!==xa.top;ja=12===Math.round(parseFloat(xa.marginLeft));
wa.style.right="60%";W=36===Math.round(parseFloat(xa.right));K=36===Math.round(parseFloat(xa.width));wa.style.position="absolute";O=12===Math.round(parseFloat(wa.offsetWidth/3));mc.removeChild(za);wa=null}}var A,K,O,W,Z,ja,za=Na.createElement("div"),wa=Na.createElement("div");wa.style&&(wa.style.backgroundClip="content-box",wa.cloneNode(!0).style.backgroundClip="",F.clearCloneStyle="content-box"===wa.style.backgroundClip,N.extend(F,{boxSizingReliable:function(){p();return K},pixelBoxStyles:function(){p();
return W},pixelPosition:function(){p();return A},reliableMarginLeft:function(){p();return ja},scrollboxSize:function(){p();return O},reliableTrDimensions:function(){if(null==Z){var xa=Na.createElement("table");var Ua=Na.createElement("tr");var ab=Na.createElement("div");xa.style.cssText="position:absolute;left:-11111px;border-collapse:separate";Ua.style.cssText="border:1px solid";Ua.style.height="1px";ab.style.height="9px";ab.style.display="block";mc.appendChild(xa).appendChild(Ua).appendChild(ab);
ab=z.getComputedStyle(Ua);Z=parseInt(ab.height,10)+parseInt(ab.borderTopWidth,10)+parseInt(ab.borderBottomWidth,10)===Ua.offsetHeight;mc.removeChild(xa)}return Z}}))})();var Wa=["Webkit","Moz","ms"],Za=Na.createElement("div").style,nb={},pb=/^(none|table(?!-c[ea]).+)/,ac={position:"absolute",visibility:"hidden",display:"block"},zb={letterSpacing:"0",fontWeight:"400"};N.extend({cssHooks:{opacity:{get:function(p,A){if(A)return p=Q(p,"opacity"),""===p?"1":p}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,
borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(p,A,K,O){if(p&&3!==p.nodeType&&8!==p.nodeType&&p.style){var W,Z=f(A),ja=ha.test(A),za=p.style;ja||(A=ia(Z));var wa=N.cssHooks[A]||
N.cssHooks[Z];if(void 0!==K){var xa=typeof K;"string"===xa&&(W=Xb.exec(K))&&W[1]&&(K=y(p,A,W),xa="number");null!=K&&K===K&&("number"!==xa||ja||(K+=W&&W[3]||(N.cssNumber[Z]?"":"px")),F.clearCloneStyle||""!==K||0!==A.indexOf("background")||(za[A]="inherit"),wa&&"set"in wa&&void 0===(K=wa.set(p,K,O))||(ja?za.setProperty(A,K):za[A]=K))}else return wa&&"get"in wa&&void 0!==(W=wa.get(p,!1,O))?W:za[A]}},css:function(p,A,K,O){var W;var Z=f(A);ha.test(A)||(A=ia(Z));(Z=N.cssHooks[A]||N.cssHooks[Z])&&"get"in
Z&&(W=Z.get(p,!0,K));void 0===W&&(W=Q(p,A,O));"normal"===W&&A in zb&&(W=zb[A]);return""===K||K?(p=parseFloat(W),!0===K||isFinite(p)?p||0:W):W}});N.each(["height","width"],function(p,A){N.cssHooks[A]={get:function(K,O,W){if(O)return!pb.test(N.css(K,"display"))||K.getClientRects().length&&K.getBoundingClientRect().width?Ha(K,A,W):Pa(K,ac,function(){return Ha(K,A,W)})},set:function(K,O,W){var Z,ja=Fa(K),za=!F.scrollboxSize()&&"absolute"===ja.position,wa=(za||W)&&"border-box"===N.css(K,"boxSizing",!1,
ja);W=W?va(K,A,W,wa,ja):0;wa&&za&&(W-=Math.ceil(K["offset"+A[0].toUpperCase()+A.slice(1)]-parseFloat(ja[A])-va(K,A,"border",!1,ja)-.5));W&&(Z=Xb.exec(O))&&"px"!==(Z[3]||"px")&&(K.style[A]=O,O=N.css(K,A));return ya(K,O,W)}}});N.cssHooks.marginLeft=pa(F.reliableMarginLeft,function(p,A){if(A)return(parseFloat(Q(p,"marginLeft"))||p.getBoundingClientRect().left-Pa(p,{marginLeft:0},function(){return p.getBoundingClientRect().left}))+"px"});N.each({margin:"",padding:"",border:"Width"},function(p,A){N.cssHooks[p+
A]={expand:function(K){var O=0,W={};for(K="string"===typeof K?K.split(" "):[K];4>O;O++)W[p+Ub[O]+A]=K[O]||K[O-2]||K[0];return W}};"margin"!==p&&(N.cssHooks[p+A].set=ya)});N.fn.extend({css:function(p,A){return Qb(this,function(K,O,W){var Z,ja={},za=0;if(Array.isArray(O)){W=Fa(K);for(Z=O.length;za<Z;za++)ja[O[za]]=N.css(K,O[za],!1,W);return ja}return void 0!==W?N.style(K,O,W):N.css(K,O)},p,A,1<arguments.length)}});N.Tween=qa;qa.prototype={constructor:qa,init:function(p,A,K,O,W,Z){this.elem=p;this.prop=
K;this.easing=W||N.easing._default;this.options=A;this.start=this.now=this.cur();this.end=O;this.unit=Z||(N.cssNumber[K]?"":"px")},cur:function(){var p=qa.propHooks[this.prop];return p&&p.get?p.get(this):qa.propHooks._default.get(this)},run:function(p){var A,K=qa.propHooks[this.prop];this.pos=this.options.duration?A=N.easing[this.easing](p,this.options.duration*p,0,1,this.options.duration):A=p;this.now=(this.end-this.start)*A+this.start;this.options.step&&this.options.step.call(this.elem,this.now,
this);K&&K.set?K.set(this):qa.propHooks._default.set(this);return this}};qa.prototype.init.prototype=qa.prototype;qa.propHooks={_default:{get:function(p){return 1!==p.elem.nodeType||null!=p.elem[p.prop]&&null==p.elem.style[p.prop]?p.elem[p.prop]:(p=N.css(p.elem,p.prop,""))&&"auto"!==p?p:0},set:function(p){if(N.fx.step[p.prop])N.fx.step[p.prop](p);else 1!==p.elem.nodeType||!N.cssHooks[p.prop]&&null==p.elem.style[ia(p.prop)]?p.elem[p.prop]=p.now:N.style(p.elem,p.prop,p.now+p.unit)}}};qa.propHooks.scrollTop=
qa.propHooks.scrollLeft={set:function(p){p.elem.nodeType&&p.elem.parentNode&&(p.elem[p.prop]=p.now)}};N.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"};N.fx=qa.prototype.init;N.fx.step={};var Mb,lc,qd=/^(?:toggle|show|hide)$/,rd=/queueHooks$/;N.Animation=N.extend(Ea,{tweeners:{"*":[function(p,A){var K=this.createTween(p,A);y(K.elem,p,Xb.exec(A),K);return K}]},tweener:function(p,A){T(p)?(A=p,p=["*"]):p=p.match(wb);for(var K,O=0,W=p.length;O<
W;O++)K=p[O],Ea.tweeners[K]=Ea.tweeners[K]||[],Ea.tweeners[K].unshift(A)},prefilters:[function(p,A,K){var O;var W="width"in A||"height"in A;var Z=this,ja={},za=p.style,wa=p.nodeType&&Ac(p),xa=lb.get(p,"fxshow");if(!K.queue){var Ua=N._queueHooks(p,"fx");if(null==Ua.unqueued){Ua.unqueued=0;var ab=Ua.empty.fire;Ua.empty.fire=function(){Ua.unqueued||ab()}}Ua.unqueued++;Z.always(function(){Z.always(function(){Ua.unqueued--;N.queue(p,"fx").length||Ua.empty.fire()})})}for(O in A){var jb=A[O];if(qd.test(jb)){delete A[O];
var Gb=Gb||"toggle"===jb;if(jb===(wa?"hide":"show"))if("show"===jb&&xa&&void 0!==xa[O])wa=!0;else continue;ja[O]=xa&&xa[O]||N.style(p,O)}}if((A=!N.isEmptyObject(A))||!N.isEmptyObject(ja)){if(W&&1===p.nodeType){K.overflow=[za.overflow,za.overflowX,za.overflowY];var ub=xa&&xa.display;null==ub&&(ub=lb.get(p,"display"));W=N.css(p,"display");"none"===W&&(ub?W=ub:(E([p],!0),ub=p.style.display||ub,W=N.css(p,"display"),E([p])));("inline"===W||"inline-block"===W&&null!=ub)&&"none"===N.css(p,"float")&&(A||
(Z.done(function(){za.display=ub}),null==ub&&(W=za.display,ub="none"===W?"":W)),za.display="inline-block")}K.overflow&&(za.overflow="hidden",Z.always(function(){za.overflow=K.overflow[0];za.overflowX=K.overflow[1];za.overflowY=K.overflow[2]}));A=!1;for(O in ja)A||(xa?"hidden"in xa&&(wa=xa.hidden):xa=lb.access(p,"fxshow",{display:ub}),Gb&&(xa.hidden=!wa),wa&&E([p],!0),Z.done(function(){wa||E([p]);lb.remove(p,"fxshow");for(O in ja)N.style(p,O,ja[O])})),A=S(wa?xa[O]:0,O,Z),O in xa||(xa[O]=A.start,wa&&
(A.end=A.start,A.start=0))}}],prefilter:function(p,A){A?Ea.prefilters.unshift(p):Ea.prefilters.push(p)}});N.speed=function(p,A,K){var O=p&&"object"===typeof p?N.extend({},p):{complete:K||!K&&A||T(p)&&p,duration:p,easing:K&&A||A&&!T(A)&&A};N.fx.off?O.duration=0:"number"!==typeof O.duration&&(O.duration=O.duration in N.fx.speeds?N.fx.speeds[O.duration]:N.fx.speeds._default);if(null==O.queue||!0===O.queue)O.queue="fx";O.old=O.complete;O.complete=function(){T(O.old)&&O.old.call(this);O.queue&&N.dequeue(this,
O.queue)};return O};N.fn.extend({fadeTo:function(p,A,K,O){return this.filter(Ac).css("opacity",0).show().end().animate({opacity:A},p,K,O)},animate:function(p,A,K,O){var W=N.isEmptyObject(p),Z=N.speed(A,K,O);A=function(){var ja=Ea(this,N.extend({},p),Z);(W||lb.get(this,"finish"))&&ja.stop(!0)};A.finish=A;return W||!1===Z.queue?this.each(A):this.queue(Z.queue,A)},stop:function(p,A,K){var O=function(W){var Z=W.stop;delete W.stop;Z(K)};"string"!==typeof p&&(K=A,A=p,p=void 0);A&&this.queue(p||"fx",[]);
return this.each(function(){var W=!0,Z=null!=p&&p+"queueHooks",ja=N.timers,za=lb.get(this);if(Z)za[Z]&&za[Z].stop&&O(za[Z]);else for(Z in za)za[Z]&&za[Z].stop&&rd.test(Z)&&O(za[Z]);for(Z=ja.length;Z--;)ja[Z].elem!==this||null!=p&&ja[Z].queue!==p||(ja[Z].anim.stop(K),W=!1,ja.splice(Z,1));!W&&K||N.dequeue(this,p)})},finish:function(p){!1!==p&&(p=p||"fx");return this.each(function(){var A=lb.get(this),K=A[p+"queue"];var O=A[p+"queueHooks"];var W=N.timers,Z=K?K.length:0;A.finish=!0;N.queue(this,p,[]);
O&&O.stop&&O.stop.call(this,!0);for(O=W.length;O--;)W[O].elem===this&&W[O].queue===p&&(W[O].anim.stop(!0),W.splice(O,1));for(O=0;O<Z;O++)K[O]&&K[O].finish&&K[O].finish.call(this);delete A.finish})}});N.each(["toggle","show","hide"],function(p,A){var K=N.fn[A];N.fn[A]=function(O,W,Z){return null==O||"boolean"===typeof O?K.apply(this,arguments):this.animate(gb(A,!0),O,W,Z)}});N.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(p,A){N.fn[p]=function(K,O,W){return this.animate(A,K,O,W)}});N.timers=[];N.fx.tick=function(){var p=0,A=N.timers;for(Mb=Date.now();p<A.length;p++){var K=A[p];K()||A[p]!==K||A.splice(p--,1)}A.length||N.fx.stop();Mb=void 0};N.fx.timer=function(p){N.timers.push(p);N.fx.start()};N.fx.interval=13;N.fx.start=function(){lc||(lc=!0,Qa())};N.fx.stop=function(){lc=null};N.fx.speeds={slow:600,fast:200,_default:400};N.fn.delay=function(p,A){p=N.fx?N.fx.speeds[p]||p:p;return this.queue(A||"fx",function(K,
O){var W=z.setTimeout(K,p);O.stop=function(){z.clearTimeout(W)}})};(function(){var p=Na.createElement("input"),A=Na.createElement("select").appendChild(Na.createElement("option"));p.type="checkbox";F.checkOn=""!==p.value;F.optSelected=A.selected;p=Na.createElement("input");p.value="t";p.type="radio";F.radioValue="t"===p.value})();var Gc=N.expr.attrHandle;N.fn.extend({attr:function(p,A){return Qb(this,N.attr,p,A,1<arguments.length)},removeAttr:function(p){return this.each(function(){N.removeAttr(this,
p)})}});N.extend({attr:function(p,A,K){var O,W,Z=p.nodeType;if(3!==Z&&8!==Z&&2!==Z){if("undefined"===typeof p.getAttribute)return N.prop(p,A,K);1===Z&&N.isXMLDoc(p)||(W=N.attrHooks[A.toLowerCase()]||(N.expr.match.bool.test(A)?sd:void 0));if(void 0!==K){if(null===K){N.removeAttr(p,A);return}if(W&&"set"in W&&void 0!==(O=W.set(p,K,A)))return O;p.setAttribute(A,K+"");return K}if(W&&"get"in W&&null!==(O=W.get(p,A)))return O;O=N.find.attr(p,A);return null==O?void 0:O}},attrHooks:{type:{set:function(p,A){if(!F.radioValue&&
"radio"===A&&e(p,"input")){var K=p.value;p.setAttribute("type",A);K&&(p.value=K);return A}}}},removeAttr:function(p,A){var K=0,O=A&&A.match(wb);if(O&&1===p.nodeType)for(;A=O[K++];)p.removeAttribute(A)}});var sd={set:function(p,A,K){!1===A?N.removeAttr(p,K):p.setAttribute(K,K);return K}};N.each(N.expr.match.bool.source.match(/\w+/g),function(p,A){var K=Gc[A]||N.find.attr;Gc[A]=function(O,W,Z){var ja=W.toLowerCase();if(!Z){var za=Gc[ja];Gc[ja]=wa;var wa=null!=K(O,W,Z)?ja:null;Gc[ja]=za}return wa}});
var td=/^(?:input|select|textarea|button)$/i,ud=/^(?:a|area)$/i;N.fn.extend({prop:function(p,A){return Qb(this,N.prop,p,A,1<arguments.length)},removeProp:function(p){return this.each(function(){delete this[N.propFix[p]||p]})}});N.extend({prop:function(p,A,K){var O,W=p.nodeType;if(3!==W&&8!==W&&2!==W){if(1!==W||!N.isXMLDoc(p)){A=N.propFix[A]||A;var Z=N.propHooks[A]}return void 0!==K?Z&&"set"in Z&&void 0!==(O=Z.set(p,K,A))?O:p[A]=K:Z&&"get"in Z&&null!==(O=Z.get(p,A))?O:p[A]}},propHooks:{tabIndex:{get:function(p){var A=
N.find.attr(p,"tabindex");return A?parseInt(A,10):td.test(p.nodeName)||ud.test(p.nodeName)&&p.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});F.optSelected||(N.propHooks.selected={get:function(p){(p=p.parentNode)&&p.parentNode&&p.parentNode.selectedIndex;return null},set:function(p){if(p=p.parentNode)p.selectedIndex,p.parentNode&&p.parentNode.selectedIndex}});N.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){N.propFix[this.toLowerCase()]=
this});N.fn.extend({addClass:function(p){var A,K,O,W,Z;if(T(p))return this.each(function(za){N(this).addClass(p.call(this,za,hb(this)))});var ja=yb(p);return ja.length?this.each(function(){K=hb(this);if(A=1===this.nodeType&&" "+La(K)+" "){for(W=0;W<ja.length;W++)O=ja[W],0>A.indexOf(" "+O+" ")&&(A+=O+" ");Z=La(A);K!==Z&&this.setAttribute("class",Z)}}):this},removeClass:function(p){var A,K,O,W,Z;if(T(p))return this.each(function(za){N(this).removeClass(p.call(this,za,hb(this)))});if(!arguments.length)return this.attr("class",
"");var ja=yb(p);return ja.length?this.each(function(){K=hb(this);if(A=1===this.nodeType&&" "+La(K)+" "){for(W=0;W<ja.length;W++)for(O=ja[W];-1<A.indexOf(" "+O+" ");)A=A.replace(" "+O+" "," ");Z=La(A);K!==Z&&this.setAttribute("class",Z)}}):this},toggleClass:function(p,A){var K,O,W,Z=typeof p,ja="string"===Z||Array.isArray(p);if(T(p))return this.each(function(wa){N(this).toggleClass(p.call(this,wa,hb(this),A),A)});if("boolean"===typeof A&&ja)return A?this.addClass(p):this.removeClass(p);var za=yb(p);
return this.each(function(){if(ja)for(W=N(this),O=0;O<za.length;O++)K=za[O],W.hasClass(K)?W.removeClass(K):W.addClass(K);else if(void 0===p||"boolean"===Z)(K=hb(this))&&lb.set(this,"__className__",K),this.setAttribute&&this.setAttribute("class",K||!1===p?"":lb.get(this,"__className__")||"")})},hasClass:function(p){var A,K=0;for(p=" "+p+" ";A=this[K++];)if(1===A.nodeType&&-1<(" "+La(hb(A))+" ").indexOf(p))return!0;return!1}});var vd=/\r/g;N.fn.extend({val:function(p){var A,K,O=this[0];if(arguments.length){var W=
T(p);return this.each(function(Z){1===this.nodeType&&(Z=W?p.call(this,Z,N(this).val()):p,null==Z?Z="":"number"===typeof Z?Z+="":Array.isArray(Z)&&(Z=N.map(Z,function(ja){return null==ja?"":ja+""})),A=N.valHooks[this.type]||N.valHooks[this.nodeName.toLowerCase()],A&&"set"in A&&void 0!==A.set(this,Z,"value")||(this.value=Z))})}if(O){if((A=N.valHooks[O.type]||N.valHooks[O.nodeName.toLowerCase()])&&"get"in A&&void 0!==(K=A.get(O,"value")))return K;K=O.value;return"string"===typeof K?K.replace(vd,""):
null==K?"":K}}});N.extend({valHooks:{option:{get:function(p){var A=N.find.attr(p,"value");return null!=A?A:La(N.text(p))}},select:{get:function(p){var A=p.options,K=p.selectedIndex,O="select-one"===p.type,W=O?null:[],Z=O?K+1:A.length;for(p=0>K?Z:O?K:0;p<Z;p++){var ja=A[p];if(!(!ja.selected&&p!==K||ja.disabled||ja.parentNode.disabled&&e(ja.parentNode,"optgroup"))){ja=N(ja).val();if(O)return ja;W.push(ja)}}return W},set:function(p,A){for(var K,O=p.options,W=N.makeArray(A),Z=O.length;Z--;)if(A=O[Z],
A.selected=-1<N.inArray(N.valHooks.option.get(A),W))K=!0;K||(p.selectedIndex=-1);return W}}}});N.each(["radio","checkbox"],function(){N.valHooks[this]={set:function(p,A){if(Array.isArray(A))return p.checked=-1<N.inArray(N(p).val(),A)}};F.checkOn||(N.valHooks[this].get=function(p){return null===p.getAttribute("value")?"on":p.value})});var Hc=z.location,Yc=Date.now(),Rc=/\?/;N.parseXML=function(p){if(!p||"string"!==typeof p)return null;try{var A=(new z.DOMParser).parseFromString(p,"text/xml")}catch(O){}var K=
A&&A.getElementsByTagName("parsererror")[0];A&&!K||N.error("Invalid XML: "+(K?N.map(K.childNodes,function(O){return O.textContent}).join("\n"):p));return A};var Zc=/^(?:focusinfocus|focusoutblur)$/,$c=function(p){p.stopPropagation()};N.extend(N.event,{trigger:function(p,A,K,O){var W,Z,ja,za=[K||Na],wa=X.call(p,"type")?p.type:p;var xa=X.call(p,"namespace")?p.namespace.split("."):[];var Ua=ja=W=K=K||Na;if(3!==K.nodeType&&8!==K.nodeType&&!Zc.test(wa+N.event.triggered)){-1<wa.indexOf(".")&&(xa=wa.split("."),
wa=xa.shift(),xa.sort());var ab=0>wa.indexOf(":")&&"on"+wa;p=p[N.expando]?p:new N.Event(wa,"object"===typeof p&&p);p.isTrigger=O?2:3;p.namespace=xa.join(".");p.rnamespace=p.namespace?new RegExp("(^|\\.)"+xa.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;p.result=void 0;p.target||(p.target=K);A=null==A?[p]:N.makeArray(A,[p]);xa=N.event.special[wa]||{};if(O||!xa.trigger||!1!==xa.trigger.apply(K,A)){if(!O&&!xa.noBubble&&!ra(K)){var jb=xa.delegateType||wa;Zc.test(jb+wa)||(Ua=Ua.parentNode);for(;Ua;Ua=Ua.parentNode)za.push(Ua),
W=Ua;W===(K.ownerDocument||Na)&&za.push(W.defaultView||W.parentWindow||z)}for(W=0;(Ua=za[W++])&&!p.isPropagationStopped();)ja=Ua,p.type=1<W?jb:xa.bindType||wa,(Z=(lb.get(Ua,"events")||Object.create(null))[p.type]&&lb.get(Ua,"handle"))&&Z.apply(Ua,A),(Z=ab&&Ua[ab])&&Z.apply&&Yb(Ua)&&(p.result=Z.apply(Ua,A),!1===p.result&&p.preventDefault());p.type=wa;O||p.isDefaultPrevented()||xa._default&&!1!==xa._default.apply(za.pop(),A)||!Yb(K)||!ab||!T(K[wa])||ra(K)||((W=K[ab])&&(K[ab]=null),N.event.triggered=
wa,p.isPropagationStopped()&&ja.addEventListener(wa,$c),K[wa](),p.isPropagationStopped()&&ja.removeEventListener(wa,$c),N.event.triggered=void 0,W&&(K[ab]=W));return p.result}}},simulate:function(p,A,K){p=N.extend(new N.Event,K,{type:p,isSimulated:!0});N.event.trigger(p,null,A)}});N.fn.extend({trigger:function(p,A){return this.each(function(){N.event.trigger(p,A,this)})},triggerHandler:function(p,A){var K=this[0];if(K)return N.event.trigger(p,A,K,!0)}});var ed=/\[\]$/,ad=/\r?\n/g,wd=/^(?:submit|button|image|reset|file)$/i,
xd=/^(?:input|select|textarea|keygen)/i;N.param=function(p,A){var K,O=[],W=function(Z,ja){ja=T(ja)?ja():ja;O[O.length]=encodeURIComponent(Z)+"="+encodeURIComponent(null==ja?"":ja)};if(null==p)return"";if(Array.isArray(p)||p.jquery&&!N.isPlainObject(p))N.each(p,function(){W(this.name,this.value)});else for(K in p)tb(K,p[K],A,W);return O.join("&")};N.fn.extend({serialize:function(){return N.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var p=N.prop(this,"elements");
return p?N.makeArray(p):this}).filter(function(){var p=this.type;return this.name&&!N(this).is(":disabled")&&xd.test(this.nodeName)&&!wd.test(p)&&(this.checked||!sc.test(p))}).map(function(p,A){p=N(this).val();return null==p?null:Array.isArray(p)?N.map(p,function(K){return{name:A.name,value:K.replace(ad,"\r\n")}}):{name:A.name,value:p.replace(ad,"\r\n")}}).get()}});var yd=/%20/g,zd=/#.*$/,Ad=/([?&])_=[^&]*/,Bd=/^(.*?):[ \t]*([^\r\n]*)$/mg,Cd=/^(?:GET|HEAD)$/,Dd=/^\/\//,bd={},Mc={},cd="*/".concat("*"),
Sc=Na.createElement("a");Sc.href=Hc.href;N.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Hc.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Hc.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":cd,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",
text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":N.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(p,A){return A?Oa(Oa(p,N.ajaxSettings),A):Oa(N.ajaxSettings,p)},ajaxPrefilter:Ma(bd),ajaxTransport:Ma(Mc),ajax:function(p,A){function K(Ab,Rb,nc,ic){var Zb,Db=Rb;if(!hc){hc=!0;ja&&z.clearTimeout(ja);O=void 0;W=ic||"";sb.readyState=0<Ab?4:0;ic=200<=Ab&&300>Ab||304===Ab;nc&&(Zb=Ja(xa,sb,nc));!ic&&-1<N.inArray("script",xa.dataTypes)&&
0>N.inArray("json",xa.dataTypes)&&(xa.converters["text script"]=function(){});Zb=$a(xa,Zb,sb,ic);if(ic)if(xa.ifModified&&((nc=sb.getResponseHeader("Last-Modified"))&&(N.lastModified[Sb]=nc),(nc=sb.getResponseHeader("etag"))&&(N.etag[Sb]=nc)),204===Ab||"HEAD"===xa.type)Db="nocontent";else if(304===Ab)Db="notmodified";else{Db=Zb.state;var tc=Zb.data;var cc=Zb.error;ic=!cc}else if(cc=Db,Ab||!Db)Db="error",0>Ab&&(Ab=0);sb.status=Ab;sb.statusText=(Rb||Db)+"";ic?jb.resolveWith(Ua,[tc,Db,sb]):jb.rejectWith(Ua,
[sb,Db,cc]);sb.statusCode(ub);ub=void 0;za&&ab.trigger(ic?"ajaxSuccess":"ajaxError",[sb,xa,ic?tc:cc]);Gb.fireWith(Ua,[sb,Db]);za&&(ab.trigger("ajaxComplete",[sb,xa]),--N.active||N.event.trigger("ajaxStop"))}}"object"===typeof p&&(A=p,p=void 0);A=A||{};var O,W,Z,ja,za,wa,xa=N.ajaxSetup({},A),Ua=xa.context||xa,ab=xa.context&&(Ua.nodeType||Ua.jquery)?N(Ua):N.event,jb=N.Deferred(),Gb=N.Callbacks("once memory"),ub=xa.statusCode||{},Vb={},$b={},oc="canceled",sb={readyState:0,getResponseHeader:function(Ab){var Rb;
if(hc){if(!Z)for(Z={};Rb=Bd.exec(W);)Z[Rb[1].toLowerCase()+" "]=(Z[Rb[1].toLowerCase()+" "]||[]).concat(Rb[2]);Rb=Z[Ab.toLowerCase()+" "]}return null==Rb?null:Rb.join(", ")},getAllResponseHeaders:function(){return hc?W:null},setRequestHeader:function(Ab,Rb){null==hc&&(Ab=$b[Ab.toLowerCase()]=$b[Ab.toLowerCase()]||Ab,Vb[Ab]=Rb);return this},overrideMimeType:function(Ab){null==hc&&(xa.mimeType=Ab);return this},statusCode:function(Ab){var Rb;if(Ab)if(hc)sb.always(Ab[sb.status]);else for(Rb in Ab)ub[Rb]=
[ub[Rb],Ab[Rb]];return this},abort:function(Ab){Ab=Ab||oc;O&&O.abort(Ab);K(0,Ab);return this}};jb.promise(sb);xa.url=((p||xa.url||Hc.href)+"").replace(Dd,Hc.protocol+"//");xa.type=A.method||A.type||xa.method||xa.type;xa.dataTypes=(xa.dataType||"*").toLowerCase().match(wb)||[""];if(null==xa.crossDomain){p=Na.createElement("a");try{p.href=xa.url,p.href=p.href,xa.crossDomain=Sc.protocol+"//"+Sc.host!==p.protocol+"//"+p.host}catch(Ab){xa.crossDomain=!0}}xa.data&&xa.processData&&"string"!==typeof xa.data&&
(xa.data=N.param(xa.data,xa.traditional));ta(bd,xa,A,sb);if(hc)return sb;(za=N.event&&xa.global)&&0===N.active++&&N.event.trigger("ajaxStart");xa.type=xa.type.toUpperCase();xa.hasContent=!Cd.test(xa.type);var Sb=xa.url.replace(zd,"");xa.hasContent?xa.data&&xa.processData&&0===(xa.contentType||"").indexOf("application/x-www-form-urlencoded")&&(xa.data=xa.data.replace(yd,"+")):(p=xa.url.slice(Sb.length),xa.data&&(xa.processData||"string"===typeof xa.data)&&(Sb+=(Rc.test(Sb)?"&":"?")+xa.data,delete xa.data),
!1===xa.cache&&(Sb=Sb.replace(Ad,"$1"),p=(Rc.test(Sb)?"&":"?")+"_="+Yc++ +p),xa.url=Sb+p);xa.ifModified&&(N.lastModified[Sb]&&sb.setRequestHeader("If-Modified-Since",N.lastModified[Sb]),N.etag[Sb]&&sb.setRequestHeader("If-None-Match",N.etag[Sb]));(xa.data&&xa.hasContent&&!1!==xa.contentType||A.contentType)&&sb.setRequestHeader("Content-Type",xa.contentType);sb.setRequestHeader("Accept",xa.dataTypes[0]&&xa.accepts[xa.dataTypes[0]]?xa.accepts[xa.dataTypes[0]]+("*"!==xa.dataTypes[0]?", "+cd+"; q=0.01":
""):xa.accepts["*"]);for(wa in xa.headers)sb.setRequestHeader(wa,xa.headers[wa]);if(xa.beforeSend&&(!1===xa.beforeSend.call(Ua,sb,xa)||hc))return sb.abort();oc="abort";Gb.add(xa.complete);sb.done(xa.success);sb.fail(xa.error);if(O=ta(Mc,xa,A,sb)){sb.readyState=1;za&&ab.trigger("ajaxSend",[sb,xa]);if(hc)return sb;xa.async&&0<xa.timeout&&(ja=z.setTimeout(function(){sb.abort("timeout")},xa.timeout));try{var hc=!1;O.send(Vb,K)}catch(Ab){if(hc)throw Ab;K(-1,Ab)}}else K(-1,"No Transport");return sb},getJSON:function(p,
A,K){return N.get(p,A,K,"json")},getScript:function(p,A){return N.get(p,void 0,A,"script")}});N.each(["get","post"],function(p,A){N[A]=function(K,O,W,Z){T(O)&&(Z=Z||W,W=O,O=void 0);return N.ajax(N.extend({url:K,type:A,dataType:Z,data:O,success:W},N.isPlainObject(K)&&K))}});N.ajaxPrefilter(function(p){for(var A in p.headers)"content-type"===A.toLowerCase()&&(p.contentType=p.headers[A]||"")});N._evalUrl=function(p,A,K){return N.ajax({url:p,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},
dataFilter:function(O){N.globalEval(O,A,K)}})};N.fn.extend({wrapAll:function(p){this[0]&&(T(p)&&(p=p.call(this[0])),p=N(p,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&p.insertBefore(this[0]),p.map(function(){for(var A=this;A.firstElementChild;)A=A.firstElementChild;return A}).append(this));return this},wrapInner:function(p){return T(p)?this.each(function(A){N(this).wrapInner(p.call(this,A))}):this.each(function(){var A=N(this),K=A.contents();K.length?K.wrapAll(p):A.append(p)})},wrap:function(p){var A=
T(p);return this.each(function(K){N(this).wrapAll(A?p.call(this,K):p)})},unwrap:function(p){this.parent(p).not("body").each(function(){N(this).replaceWith(this.childNodes)});return this}});N.expr.pseudos.hidden=function(p){return!N.expr.pseudos.visible(p)};N.expr.pseudos.visible=function(p){return!!(p.offsetWidth||p.offsetHeight||p.getClientRects().length)};N.ajaxSettings.xhr=function(){try{return new z.XMLHttpRequest}catch(p){}};var Ed={0:200,1223:204},Ic=N.ajaxSettings.xhr();F.cors=!!Ic&&"withCredentials"in
Ic;F.ajax=Ic=!!Ic;N.ajaxTransport(function(p){var A,K;if(F.cors||Ic&&!p.crossDomain)return{send:function(O,W){var Z,ja=p.xhr();ja.open(p.type,p.url,p.async,p.username,p.password);if(p.xhrFields)for(Z in p.xhrFields)ja[Z]=p.xhrFields[Z];p.mimeType&&ja.overrideMimeType&&ja.overrideMimeType(p.mimeType);p.crossDomain||O["X-Requested-With"]||(O["X-Requested-With"]="XMLHttpRequest");for(Z in O)ja.setRequestHeader(Z,O[Z]);A=function(za){return function(){A&&(A=K=ja.onload=ja.onerror=ja.onabort=ja.ontimeout=
ja.onreadystatechange=null,"abort"===za?ja.abort():"error"===za?"number"!==typeof ja.status?W(0,"error"):W(ja.status,ja.statusText):W(Ed[ja.status]||ja.status,ja.statusText,"text"!==(ja.responseType||"text")||"string"!==typeof ja.responseText?{binary:ja.response}:{text:ja.responseText},ja.getAllResponseHeaders()))}};ja.onload=A();K=ja.onerror=ja.ontimeout=A("error");void 0!==ja.onabort?ja.onabort=K:ja.onreadystatechange=function(){4===ja.readyState&&z.setTimeout(function(){A&&K()})};A=A("abort");
try{ja.send(p.hasContent&&p.data||null)}catch(za){if(A)throw za;}},abort:function(){A&&A()}}});N.ajaxPrefilter(function(p){p.crossDomain&&(p.contents.script=!1)});N.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(p){N.globalEval(p);return p}}});N.ajaxPrefilter("script",function(p){void 0===p.cache&&(p.cache=!1);p.crossDomain&&(p.type="GET")});N.ajaxTransport("script",
function(p){if(p.crossDomain||p.scriptAttrs){var A,K;return{send:function(O,W){A=N("<script>").attr(p.scriptAttrs||{}).prop({charset:p.scriptCharset,src:p.url}).on("load error",K=function(Z){A.remove();K=null;Z&&W("error"===Z.type?404:200,Z.type)});Na.head.appendChild(A[0])},abort:function(){K&&K()}}}});var dd=[],Tc=/(=)\?(?=&|$)|\?\?/;N.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var p=dd.pop()||N.expando+"_"+Yc++;this[p]=!0;return p}});N.ajaxPrefilter("json jsonp",function(p,A,K){var O,
W=!1!==p.jsonp&&(Tc.test(p.url)?"url":"string"===typeof p.data&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&Tc.test(p.data)&&"data");if(W||"jsonp"===p.dataTypes[0]){var Z=p.jsonpCallback=T(p.jsonpCallback)?p.jsonpCallback():p.jsonpCallback;W?p[W]=p[W].replace(Tc,"$1"+Z):!1!==p.jsonp&&(p.url+=(Rc.test(p.url)?"&":"?")+p.jsonp+"="+Z);p.converters["script json"]=function(){O||N.error(Z+" was not called");return O[0]};p.dataTypes[0]="json";var ja=z[Z];z[Z]=function(){O=arguments};
K.always(function(){void 0===ja?N(z).removeProp(Z):z[Z]=ja;p[Z]&&(p.jsonpCallback=A.jsonpCallback,dd.push(Z));O&&T(ja)&&ja(O[0]);O=ja=void 0});return"script"}});F.createHTMLDocument=function(){var p=Na.implementation.createHTMLDocument("").body;p.innerHTML="<form></form><form></form>";return 2===p.childNodes.length}();N.parseHTML=function(p,A,K){if("string"!==typeof p)return[];"boolean"===typeof A&&(K=A,A=!1);if(!A)if(F.createHTMLDocument){A=Na.implementation.createHTMLDocument("");var O=A.createElement("base");
O.href=Na.location.href;A.head.appendChild(O)}else A=Na;O=Bb.exec(p);K=!K&&[];if(O)return[A.createElement(O[1])];O=P([p],A,K);K&&K.length&&N(K).remove();return N.merge([],O.childNodes)};N.fn.load=function(p,A,K){var O,W,Z=this,ja=p.indexOf(" ");if(-1<ja){var za=La(p.slice(ja));p=p.slice(0,ja)}T(A)?(K=A,A=void 0):A&&"object"===typeof A&&(O="POST");0<Z.length&&N.ajax({url:p,type:O||"GET",dataType:"html",data:A}).done(function(wa){W=arguments;Z.html(za?N("<div>").append(N.parseHTML(wa)).find(za):wa)}).always(K&&
function(wa,xa){Z.each(function(){K.apply(this,W||[wa.responseText,xa,wa])})});return this};N.expr.pseudos.animated=function(p){return N.grep(N.timers,function(A){return p===A.elem}).length};N.offset={setOffset:function(p,A,K){var O=N.css(p,"position"),W=N(p),Z={};"static"===O&&(p.style.position="relative");var ja=W.offset();var za=N.css(p,"top");var wa=N.css(p,"left");("absolute"===O||"fixed"===O)&&-1<(za+wa).indexOf("auto")?(wa=W.position(),za=wa.top,wa=wa.left):(za=parseFloat(za)||0,wa=parseFloat(wa)||
0);T(A)&&(A=A.call(p,K,N.extend({},ja)));null!=A.top&&(Z.top=A.top-ja.top+za);null!=A.left&&(Z.left=A.left-ja.left+wa);"using"in A?A.using.call(p,Z):W.css(Z)}};N.fn.extend({offset:function(p){if(arguments.length)return void 0===p?this:this.each(function(O){N.offset.setOffset(this,p,O)});var A;if(A=this[0]){if(!A.getClientRects().length)return{top:0,left:0};var K=A.getBoundingClientRect();A=A.ownerDocument.defaultView;return{top:K.top+A.pageYOffset,left:K.left+A.pageXOffset}}},position:function(){if(this[0]){var p,
A=this[0],K={top:0,left:0};if("fixed"===N.css(A,"position"))var O=A.getBoundingClientRect();else{O=this.offset();var W=A.ownerDocument;for(p=A.offsetParent||W.documentElement;p&&(p===W.body||p===W.documentElement)&&"static"===N.css(p,"position");)p=p.parentNode;p&&p!==A&&1===p.nodeType&&(K=N(p).offset(),K.top+=N.css(p,"borderTopWidth",!0),K.left+=N.css(p,"borderLeftWidth",!0))}return{top:O.top-K.top-N.css(A,"marginTop",!0),left:O.left-K.left-N.css(A,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var p=
this.offsetParent;p&&"static"===N.css(p,"position");)p=p.offsetParent;return p||mc})}});N.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(p,A){var K="pageYOffset"===A;N.fn[p]=function(O){return Qb(this,function(W,Z,ja){if(ra(W))var za=W;else 9===W.nodeType&&(za=W.defaultView);if(void 0===ja)return za?za[A]:W[Z];za?za.scrollTo(K?za.pageXOffset:ja,K?ja:za.pageYOffset):W[Z]=ja},p,O,arguments.length)}});N.each(["top","left"],function(p,A){N.cssHooks[A]=pa(F.pixelPosition,function(K,O){if(O)return O=
Q(K,A),Ka.test(O)?N(K).position()[A]+"px":O})});N.each({Height:"height",Width:"width"},function(p,A){N.each({padding:"inner"+p,content:A,"":"outer"+p},function(K,O){N.fn[O]=function(W,Z){var ja=arguments.length&&(K||"boolean"!==typeof W),za=K||(!0===W||!0===Z?"margin":"border");return Qb(this,function(wa,xa,Ua){return ra(wa)?0===O.indexOf("outer")?wa["inner"+p]:wa.document.documentElement["client"+p]:9===wa.nodeType?(xa=wa.documentElement,Math.max(wa.body["scroll"+p],xa["scroll"+p],wa.body["offset"+
p],xa["offset"+p],xa["client"+p])):void 0===Ua?N.css(wa,xa,za):N.style(wa,xa,Ua,za)},A,ja?W:void 0,ja)}})});N.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(p,A){N.fn[A]=function(K){return this.on(A,K)}});N.fn.extend({bind:function(p,A,K){return this.on(p,null,A,K)},unbind:function(p,A){return this.off(p,null,A)},delegate:function(p,A,K,O){return this.on(A,p,K,O)},undelegate:function(p,A,K){return 1===arguments.length?this.off(p,"**"):this.off(A,p||"**",
K)},hover:function(p,A){return this.mouseenter(p).mouseleave(A||p)}});N.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(p,A){N.fn[A]=function(K,O){return 0<arguments.length?this.on(A,null,K,O):this.trigger(A)}});var Fd=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;N.proxy=function(p,A){if("string"===typeof A){var K=p[A];A=p;p=K}if(T(p)){var O=
ba.call(arguments,2);K=function(){return p.apply(A||this,O.concat(ba.call(arguments)))};K.guid=p.guid=p.guid||N.guid++;return K}};N.holdReady=function(p){p?N.readyWait++:N.ready(!0)};N.isArray=Array.isArray;N.parseJSON=JSON.parse;N.nodeName=e;N.isFunction=T;N.isWindow=ra;N.camelCase=f;N.type=D;N.now=Date.now;N.isNumeric=function(p){var A=N.type(p);return("number"===A||"string"===A)&&!isNaN(p-parseFloat(p))};N.trim=function(p){return null==p?"":(p+"").replace(Fd,"$1")};var Gd=z.jQuery,Hd=z.$;N.noConflict=
function(p){z.$===N&&(z.$=Hd);p&&z.jQuery===N&&(z.jQuery=Gd);return N};"undefined"===typeof h&&(z.jQuery=z.$=N);return N})},{}],266:[function(l,M,C){C=l("./lib/utils/common").assign;var z=l("./lib/deflate"),h=l("./lib/inflate");l=l("./lib/zlib/constants");var v={};C(v,z,h,l);M.exports=v},{"./lib/deflate":267,"./lib/inflate":268,"./lib/utils/common":269,"./lib/zlib/constants":272}],267:[function(l,M,C){function z(k){if(!(this instanceof z))return new z(k);k=this.options=D.assign({level:-1,method:8,
chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},k||{});k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&16>k.windowBits&&(k.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new w;this.strm.avail_out=0;var r=v.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(0!==r)throw Error(e[r]);k.header&&v.deflateSetHeader(this.strm,k.header);if(k.dictionary){k="string"===typeof k.dictionary?c.string2buf(k.dictionary):
"[object ArrayBuffer]"===a.call(k.dictionary)?new Uint8Array(k.dictionary):k.dictionary;r=v.deflateSetDictionary(this.strm,k);if(0!==r)throw Error(e[r]);this._dict_set=!0}}function h(k,r){r=new z(r);r.push(k,!0);if(r.err)throw r.msg||e[r.err];return r.result}var v=l("./zlib/deflate"),D=l("./utils/common"),c=l("./utils/strings"),e=l("./zlib/messages"),w=l("./zlib/zstream"),a=Object.prototype.toString;z.prototype.push=function(k,r){var q=this.strm,b=this.options.chunkSize;if(this.ended)return!1;r=r===
~~r?r:!0===r?4:0;"string"===typeof k?q.input=c.string2buf(k):"[object ArrayBuffer]"===a.call(k)?q.input=new Uint8Array(k):q.input=k;q.next_in=0;q.avail_in=q.input.length;do{0===q.avail_out&&(q.output=new D.Buf8(b),q.next_out=0,q.avail_out=b);k=v.deflate(q,r);if(1!==k&&0!==k)return this.onEnd(k),this.ended=!0,!1;if(0===q.avail_out||0===q.avail_in&&(4===r||2===r))if("string"===this.options.to)this.onData(c.buf2binstring(D.shrinkBuf(q.output,q.next_out)));else this.onData(D.shrinkBuf(q.output,q.next_out))}while((0<
q.avail_in||0===q.avail_out)&&1!==k);if(4===r)return k=v.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,0===k;2===r&&(this.onEnd(0),q.avail_out=0);return!0};z.prototype.onData=function(k){this.chunks.push(k)};z.prototype.onEnd=function(k){0===k&&(this.result="string"===this.options.to?this.chunks.join(""):D.flattenChunks(this.chunks));this.chunks=[];this.err=k;this.msg=this.strm.msg};C.Deflate=z;C.deflate=h;C.deflateRaw=function(k,r){r=r||{};r.raw=!0;return h(k,r)};C.gzip=function(k,r){r=r||{};
r.gzip=!0;return h(k,r)}},{"./utils/common":269,"./utils/strings":270,"./zlib/deflate":274,"./zlib/messages":279,"./zlib/zstream":281}],268:[function(l,M,C){function z(q){if(!(this instanceof z))return new z(q);var b=this.options=D.assign({chunkSize:16384,windowBits:0,to:""},q||{});b.raw&&0<=b.windowBits&&16>b.windowBits&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15));!(0<=b.windowBits&&16>b.windowBits)||q&&q.windowBits||(b.windowBits+=32);15<b.windowBits&&48>b.windowBits&&0===
(b.windowBits&15)&&(b.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new a;this.strm.avail_out=0;q=v.inflateInit2(this.strm,b.windowBits);if(q!==e.Z_OK)throw Error(w[q]);this.header=new k;v.inflateGetHeader(this.strm,this.header);if(b.dictionary&&("string"===typeof b.dictionary?b.dictionary=c.string2buf(b.dictionary):"[object ArrayBuffer]"===r.call(b.dictionary)&&(b.dictionary=new Uint8Array(b.dictionary)),b.raw&&(q=v.inflateSetDictionary(this.strm,b.dictionary),q!==
e.Z_OK)))throw Error(w[q]);}function h(q,b){b=new z(b);b.push(q,!0);if(b.err)throw b.msg||w[b.err];return b.result}var v=l("./zlib/inflate"),D=l("./utils/common"),c=l("./utils/strings"),e=l("./zlib/constants"),w=l("./zlib/messages"),a=l("./zlib/zstream"),k=l("./zlib/gzheader"),r=Object.prototype.toString;z.prototype.push=function(q,b){var d=this.strm,g=this.options.chunkSize,m=this.options.dictionary,f=!1;if(this.ended)return!1;b=b===~~b?b:!0===b?e.Z_FINISH:e.Z_NO_FLUSH;"string"===typeof q?d.input=
c.binstring2buf(q):"[object ArrayBuffer]"===r.call(q)?d.input=new Uint8Array(q):d.input=q;d.next_in=0;d.avail_in=d.input.length;do{0===d.avail_out&&(d.output=new D.Buf8(g),d.next_out=0,d.avail_out=g);q=v.inflate(d,e.Z_NO_FLUSH);q===e.Z_NEED_DICT&&m&&(q=v.inflateSetDictionary(this.strm,m));q===e.Z_BUF_ERROR&&!0===f&&(q=e.Z_OK,f=!1);if(q!==e.Z_STREAM_END&&q!==e.Z_OK)return this.onEnd(q),this.ended=!0,!1;if(d.next_out&&(0===d.avail_out||q===e.Z_STREAM_END||0===d.avail_in&&(b===e.Z_FINISH||b===e.Z_SYNC_FLUSH)))if("string"===
this.options.to){var n=c.utf8border(d.output,d.next_out);var u=d.next_out-n;var y=c.buf2string(d.output,n);d.next_out=u;d.avail_out=g-u;u&&D.arraySet(d.output,d.output,n,u,0);this.onData(y)}else this.onData(D.shrinkBuf(d.output,d.next_out));0===d.avail_in&&0===d.avail_out&&(f=!0)}while((0<d.avail_in||0===d.avail_out)&&q!==e.Z_STREAM_END);q===e.Z_STREAM_END&&(b=e.Z_FINISH);if(b===e.Z_FINISH)return q=v.inflateEnd(this.strm),this.onEnd(q),this.ended=!0,q===e.Z_OK;b===e.Z_SYNC_FLUSH&&(this.onEnd(e.Z_OK),
d.avail_out=0);return!0};z.prototype.onData=function(q){this.chunks.push(q)};z.prototype.onEnd=function(q){q===e.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):D.flattenChunks(this.chunks));this.chunks=[];this.err=q;this.msg=this.strm.msg};C.Inflate=z;C.inflate=h;C.inflateRaw=function(q,b){b=b||{};b.raw=!0;return h(q,b)};C.ungzip=h},{"./utils/common":269,"./utils/strings":270,"./zlib/constants":272,"./zlib/gzheader":275,"./zlib/inflate":277,"./zlib/messages":279,"./zlib/zstream":281}],
269:[function(l,M,C){l="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;C.assign=function(v){for(var D=Array.prototype.slice.call(arguments,1);D.length;){var c=D.shift();if(c){if("object"!==typeof c)throw new TypeError(c+"must be non-object");for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(v[e]=c[e])}}return v};C.shrinkBuf=function(v,D){if(v.length===D)return v;if(v.subarray)return v.subarray(0,D);v.length=D;return v};var z={arraySet:function(v,
D,c,e,w){if(D.subarray&&v.subarray)v.set(D.subarray(c,c+e),w);else for(var a=0;a<e;a++)v[w+a]=D[c+a]},flattenChunks:function(v){var D,c;var e=c=0;for(D=v.length;e<D;e++)c+=v[e].length;var w=new Uint8Array(c);e=c=0;for(D=v.length;e<D;e++){var a=v[e];w.set(a,c);c+=a.length}return w}},h={arraySet:function(v,D,c,e,w){for(var a=0;a<e;a++)v[w+a]=D[c+a]},flattenChunks:function(v){return[].concat.apply([],v)}};C.setTyped=function(v){v?(C.Buf8=Uint8Array,C.Buf16=Uint16Array,C.Buf32=Int32Array,C.assign(C,z)):
(C.Buf8=Array,C.Buf16=Array,C.Buf32=Array,C.assign(C,h))};C.setTyped(l)},{}],270:[function(l,M,C){function z(e,w){if(65534>w&&(e.subarray&&D||!e.subarray&&v))return String.fromCharCode.apply(null,h.shrinkBuf(e,w));for(var a="",k=0;k<w;k++)a+=String.fromCharCode(e[k]);return a}var h=l("./common"),v=!0,D=!0;try{String.fromCharCode.apply(null,[0])}catch(e){v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){D=!1}var c=new h.Buf8(256);for(l=0;256>l;l++)c[l]=252<=l?6:248<=l?5:240<=l?4:
224<=l?3:192<=l?2:1;c[254]=c[254]=1;C.string2buf=function(e){var w,a,k=e.length,r=0;for(w=0;w<k;w++){var q=e.charCodeAt(w);if(55296===(q&64512)&&w+1<k){var b=e.charCodeAt(w+1);56320===(b&64512)&&(q=65536+(q-55296<<10)+(b-56320),w++)}r+=128>q?1:2048>q?2:65536>q?3:4}var d=new h.Buf8(r);for(w=a=0;a<r;w++)q=e.charCodeAt(w),55296===(q&64512)&&w+1<k&&(b=e.charCodeAt(w+1),56320===(b&64512)&&(q=65536+(q-55296<<10)+(b-56320),w++)),128>q?d[a++]=q:(2048>q?d[a++]=192|q>>>6:(65536>q?d[a++]=224|q>>>12:(d[a++]=
240|q>>>18,d[a++]=128|q>>>12&63),d[a++]=128|q>>>6&63),d[a++]=128|q&63);return d};C.buf2binstring=function(e){return z(e,e.length)};C.binstring2buf=function(e){for(var w=new h.Buf8(e.length),a=0,k=w.length;a<k;a++)w[a]=e.charCodeAt(a);return w};C.buf2string=function(e,w){var a,k=w||e.length,r=Array(2*k);for(w=a=0;w<k;){var q=e[w++];if(128>q)r[a++]=q;else{var b=c[q];if(4<b)r[a++]=65533,w+=b-1;else{for(q&=2===b?31:3===b?15:7;1<b&&w<k;)q=q<<6|e[w++]&63,b--;1<b?r[a++]=65533:65536>q?r[a++]=q:(q-=65536,
r[a++]=55296|q>>10&1023,r[a++]=56320|q&1023)}}}return z(r,a)};C.utf8border=function(e,w){var a;w=w||e.length;w>e.length&&(w=e.length);for(a=w-1;0<=a&&128===(e[a]&192);)a--;return 0>a||0===a?w:a+c[e[a]]>w?a:w}},{"./common":269}],271:[function(l,M,C){M.exports=function(z,h,v,D){var c=z&65535|0;z=z>>>16&65535|0;for(var e;0!==v;){e=2E3<v?2E3:v;v-=e;do c=c+h[D++]|0,z=z+c|0;while(--e);c%=65521;z%=65521}return c|z<<16|0}},{}],272:[function(l,M,C){M.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,
Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],273:[function(l,M,C){var z=function(){for(var h,v=[],D=0;256>D;D++){h=D;for(var c=0;8>c;c++)h=h&1?3988292384^h>>>1:h>>>1;v[D]=h}return v}();M.exports=function(h,
v,D,c){D=c+D;for(h^=-1;c<D;c++)h=h>>>8^z[(h^v[c])&255];return h^-1}},{}],274:[function(l,M,C){function z(x,H){x.msg=G[H];return H}function h(x){for(var H=x.length;0<=--H;)x[H]=0}function v(x){var H=x.state,I=H.pending;I>x.avail_out&&(I=x.avail_out);0!==I&&(u.arraySet(x.output,H.pending_buf,H.pending_out,I,x.next_out),x.next_out+=I,H.pending_out+=I,x.total_out+=I,x.avail_out-=I,H.pending-=I,0===H.pending&&(H.pending_out=0))}function D(x,H){y._tr_flush_block(x,0<=x.block_start?x.block_start:-1,x.strstart-
x.block_start,H);x.block_start=x.strstart;v(x.strm)}function c(x,H){x.pending_buf[x.pending++]=H}function e(x,H){x.pending_buf[x.pending++]=H>>>8&255;x.pending_buf[x.pending++]=H&255}function w(x,H){var I=x.max_chain_length,J=x.strstart,L=x.prev_length,R=x.nice_match,fa=x.strstart>x.w_size-262?x.strstart-(x.w_size-262):0,ea=x.window,ua=x.w_mask,na=x.prev,Q=x.strstart+258,pa=ea[J+L-1],ia=ea[J+L];x.prev_length>=x.good_match&&(I>>=2);R>x.lookahead&&(R=x.lookahead);do{var ya=H;if(ea[ya+L]===ia&&ea[ya+
L-1]===pa&&ea[ya]===ea[J]&&ea[++ya]===ea[J+1]){J+=2;for(ya++;ea[++J]===ea[++ya]&&ea[++J]===ea[++ya]&&ea[++J]===ea[++ya]&&ea[++J]===ea[++ya]&&ea[++J]===ea[++ya]&&ea[++J]===ea[++ya]&&ea[++J]===ea[++ya]&&ea[++J]===ea[++ya]&&J<Q;);ya=258-(Q-J);J=Q-258;if(ya>L){x.match_start=H;L=ya;if(ya>=R)break;pa=ea[J+L-1];ia=ea[J+L]}}}while((H=na[H&ua])>fa&&0!==--I);return L<=x.lookahead?L:x.lookahead}function a(x){var H=x.w_size,I;do{var J=x.window_size-x.lookahead-x.strstart;if(x.strstart>=H+(H-262)){u.arraySet(x.window,
x.window,H,H,0);x.match_start-=H;x.strstart-=H;x.block_start-=H;var L=I=x.hash_size;do{var R=x.head[--L];x.head[L]=R>=H?R-H:0}while(--I);L=I=H;do R=x.prev[--L],x.prev[L]=R>=H?R-H:0;while(--I);J+=H}if(0===x.strm.avail_in)break;L=x.strm;I=x.window;R=x.strstart+x.lookahead;var fa=L.avail_in;fa>J&&(fa=J);0===fa?I=0:(L.avail_in-=fa,u.arraySet(I,L.input,L.next_in,fa,R),1===L.state.wrap?L.adler=E(L.adler,I,fa,R):2===L.state.wrap&&(L.adler=t(L.adler,I,fa,R)),L.next_in+=fa,L.total_in+=fa,I=fa);x.lookahead+=
I;if(3<=x.lookahead+x.insert)for(J=x.strstart-x.insert,x.ins_h=x.window[J],x.ins_h=(x.ins_h<<x.hash_shift^x.window[J+1])&x.hash_mask;x.insert&&!(x.ins_h=(x.ins_h<<x.hash_shift^x.window[J+3-1])&x.hash_mask,x.prev[J&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=J,J++,x.insert--,3>x.lookahead+x.insert););}while(262>x.lookahead&&0!==x.strm.avail_in)}function k(x,H){for(var I;;){if(262>x.lookahead){a(x);if(262>x.lookahead&&0===H)return 1;if(0===x.lookahead)break}I=0;3<=x.lookahead&&(x.ins_h=(x.ins_h<<x.hash_shift^
x.window[x.strstart+3-1])&x.hash_mask,I=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);0!==I&&x.strstart-I<=x.w_size-262&&(x.match_length=w(x,I));if(3<=x.match_length)if(I=y._tr_tally(x,x.strstart-x.match_start,x.match_length-3),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&3<=x.lookahead){x.match_length--;do x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;
while(0!==--x.match_length);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else I=y._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(I&&(D(x,!1),0===x.strm.avail_out))return 1}x.insert=2>x.strstart?x.strstart:2;return 4===H?(D(x,!0),0===x.strm.avail_out?3:4):x.last_lit&&(D(x,!1),0===x.strm.avail_out)?1:2}function r(x,H){for(var I,J;;){if(262>x.lookahead){a(x);if(262>x.lookahead&&
0===H)return 1;if(0===x.lookahead)break}I=0;3<=x.lookahead&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,I=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);x.prev_length=x.match_length;x.prev_match=x.match_start;x.match_length=2;0!==I&&x.prev_length<x.max_lazy_match&&x.strstart-I<=x.w_size-262&&(x.match_length=w(x,I),5>=x.match_length&&(1===x.strategy||3===x.match_length&&4096<x.strstart-x.match_start)&&(x.match_length=2));if(3<=x.prev_length&&x.match_length<=
x.prev_length){J=x.strstart+x.lookahead-3;I=y._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-3);x.lookahead-=x.prev_length-1;x.prev_length-=2;do++x.strstart<=J&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);while(0!==--x.prev_length);x.match_available=0;x.match_length=2;x.strstart++;if(I&&(D(x,!1),0===x.strm.avail_out))return 1}else if(x.match_available){if((I=y._tr_tally(x,0,x.window[x.strstart-1]))&&
D(x,!1),x.strstart++,x.lookahead--,0===x.strm.avail_out)return 1}else x.match_available=1,x.strstart++,x.lookahead--}x.match_available&&(y._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0);x.insert=2>x.strstart?x.strstart:2;return 4===H?(D(x,!0),0===x.strm.avail_out?3:4):x.last_lit&&(D(x,!1),0===x.strm.avail_out)?1:2}function q(x,H){for(var I,J,L,R=x.window;;){if(258>=x.lookahead){a(x);if(258>=x.lookahead&&0===H)return 1;if(0===x.lookahead)break}x.match_length=0;if(3<=x.lookahead&&0<x.strstart&&
(J=x.strstart-1,I=R[J],I===R[++J]&&I===R[++J]&&I===R[++J])){for(L=x.strstart+258;I===R[++J]&&I===R[++J]&&I===R[++J]&&I===R[++J]&&I===R[++J]&&I===R[++J]&&I===R[++J]&&I===R[++J]&&J<L;);x.match_length=258-(L-J);x.match_length>x.lookahead&&(x.match_length=x.lookahead)}3<=x.match_length?(I=y._tr_tally(x,1,x.match_length-3),x.lookahead-=x.match_length,x.strstart+=x.match_length,x.match_length=0):(I=y._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++);if(I&&(D(x,!1),0===x.strm.avail_out))return 1}x.insert=
0;return 4===H?(D(x,!0),0===x.strm.avail_out?3:4):x.last_lit&&(D(x,!1),0===x.strm.avail_out)?1:2}function b(x,H){for(var I;;){if(0===x.lookahead&&(a(x),0===x.lookahead)){if(0===H)return 1;break}x.match_length=0;I=y._tr_tally(x,0,x.window[x.strstart]);x.lookahead--;x.strstart++;if(I&&(D(x,!1),0===x.strm.avail_out))return 1}x.insert=0;return 4===H?(D(x,!0),0===x.strm.avail_out?3:4):x.last_lit&&(D(x,!1),0===x.strm.avail_out)?1:2}function d(x,H,I,J,L){this.good_length=x;this.max_lazy=H;this.nice_length=
I;this.max_chain=J;this.func=L}function g(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=
this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new u.Buf16(1146);this.dyn_dtree=new u.Buf16(122);this.bl_tree=new u.Buf16(78);h(this.dyn_ltree);h(this.dyn_dtree);h(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new u.Buf16(16);this.heap=new u.Buf16(573);h(this.heap);this.heap_max=this.heap_len=0;this.depth=new u.Buf16(573);h(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=
this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function m(x){if(!x||!x.state)return z(x,-2);x.total_in=x.total_out=0;x.data_type=2;var H=x.state;H.pending=0;H.pending_out=0;0>H.wrap&&(H.wrap=-H.wrap);H.status=H.wrap?42:113;x.adler=2===H.wrap?0:1;H.last_flush=0;y._tr_init(H);return 0}function f(x){var H=m(x);0===H&&(x=x.state,x.window_size=2*x.w_size,h(x.head),x.max_lazy_match=P[x.level].max_lazy,x.good_match=P[x.level].good_length,x.nice_match=P[x.level].nice_length,
x.max_chain_length=P[x.level].max_chain,x.strstart=0,x.block_start=0,x.lookahead=0,x.insert=0,x.match_length=x.prev_length=2,x.match_available=0,x.ins_h=0);return H}function n(x,H,I,J,L,R){if(!x)return-2;var fa=1;-1===H&&(H=6);0>J?(fa=0,J=-J):15<J&&(fa=2,J-=16);if(1>L||9<L||8!==I||8>J||15<J||0>H||9<H||0>R||4<R)return z(x,-2);8===J&&(J=9);var ea=new g;x.state=ea;ea.strm=x;ea.wrap=fa;ea.gzhead=null;ea.w_bits=J;ea.w_size=1<<ea.w_bits;ea.w_mask=ea.w_size-1;ea.hash_bits=L+7;ea.hash_size=1<<ea.hash_bits;
ea.hash_mask=ea.hash_size-1;ea.hash_shift=~~((ea.hash_bits+3-1)/3);ea.window=new u.Buf8(2*ea.w_size);ea.head=new u.Buf16(ea.hash_size);ea.prev=new u.Buf16(ea.w_size);ea.lit_bufsize=1<<L+6;ea.pending_buf_size=4*ea.lit_bufsize;ea.pending_buf=new u.Buf8(ea.pending_buf_size);ea.d_buf=1*ea.lit_bufsize;ea.l_buf=3*ea.lit_bufsize;ea.level=H;ea.strategy=R;ea.method=I;return f(x)}var u=l("../utils/common"),y=l("./trees"),E=l("./adler32"),t=l("./crc32"),G=l("./messages");var P=[new d(0,0,0,0,function(x,H){var I=
65535;for(I>x.pending_buf_size-5&&(I=x.pending_buf_size-5);;){if(1>=x.lookahead){a(x);if(0===x.lookahead&&0===H)return 1;if(0===x.lookahead)break}x.strstart+=x.lookahead;x.lookahead=0;var J=x.block_start+I;if(0===x.strstart||x.strstart>=J)if(x.lookahead=x.strstart-J,x.strstart=J,D(x,!1),0===x.strm.avail_out)return 1;if(x.strstart-x.block_start>=x.w_size-262&&(D(x,!1),0===x.strm.avail_out))return 1}x.insert=0;if(4===H)return D(x,!0),0===x.strm.avail_out?3:4;x.strstart>x.block_start&&D(x,!1);return 1}),
new d(4,4,8,4,k),new d(4,5,16,8,k),new d(4,6,32,32,k),new d(4,4,16,16,r),new d(8,16,32,32,r),new d(8,16,128,128,r),new d(8,32,128,256,r),new d(32,128,258,1024,r),new d(32,258,258,4096,r)];C.deflateInit=function(x,H){return n(x,H,8,15,8,0)};C.deflateInit2=n;C.deflateReset=f;C.deflateResetKeep=m;C.deflateSetHeader=function(x,H){if(!x||!x.state||2!==x.state.wrap)return-2;x.state.gzhead=H;return 0};C.deflate=function(x,H){if(!x||!x.state||5<H||0>H)return x?z(x,-2):-2;var I=x.state;if(!x.output||!x.input&&
0!==x.avail_in||666===I.status&&4!==H)return z(x,0===x.avail_out?-5:-2);I.strm=x;var J=I.last_flush;I.last_flush=H;if(42===I.status)if(2===I.wrap)x.adler=0,c(I,31),c(I,139),c(I,8),I.gzhead?(c(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),c(I,I.gzhead.time&255),c(I,I.gzhead.time>>8&255),c(I,I.gzhead.time>>16&255),c(I,I.gzhead.time>>24&255),c(I,9===I.level?2:2<=I.strategy||2>I.level?4:0),c(I,I.gzhead.os&255),I.gzhead.extra&&I.gzhead.extra.length&&
(c(I,I.gzhead.extra.length&255),c(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(x.adler=t(x.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=69):(c(I,0),c(I,0),c(I,0),c(I,0),c(I,0),c(I,9===I.level?2:2<=I.strategy||2>I.level?4:0),c(I,3),I.status=113);else{var L=8+(I.w_bits-8<<4)<<8;L|=(2<=I.strategy||2>I.level?0:6>I.level?1:6===I.level?2:3)<<6;0!==I.strstart&&(L|=32);I.status=113;e(I,L+(31-L%31));0!==I.strstart&&(e(I,x.adler>>>16),e(I,x.adler&65535));x.adler=1}if(69===I.status)if(I.gzhead.extra){for(L=
I.pending;I.gzindex<(I.gzhead.extra.length&65535)&&(I.pending!==I.pending_buf_size||(I.gzhead.hcrc&&I.pending>L&&(x.adler=t(x.adler,I.pending_buf,I.pending-L,L)),v(x),L=I.pending,I.pending!==I.pending_buf_size));)c(I,I.gzhead.extra[I.gzindex]&255),I.gzindex++;I.gzhead.hcrc&&I.pending>L&&(x.adler=t(x.adler,I.pending_buf,I.pending-L,L));I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=73)}else I.status=73;if(73===I.status)if(I.gzhead.name){L=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&
I.pending>L&&(x.adler=t(x.adler,I.pending_buf,I.pending-L,L)),v(x),L=I.pending,I.pending===I.pending_buf_size)){var R=1;break}R=I.gzindex<I.gzhead.name.length?I.gzhead.name.charCodeAt(I.gzindex++)&255:0;c(I,R)}while(0!==R);I.gzhead.hcrc&&I.pending>L&&(x.adler=t(x.adler,I.pending_buf,I.pending-L,L));0===R&&(I.gzindex=0,I.status=91)}else I.status=91;if(91===I.status)if(I.gzhead.comment){L=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>L&&(x.adler=t(x.adler,I.pending_buf,I.pending-
L,L)),v(x),L=I.pending,I.pending===I.pending_buf_size)){R=1;break}R=I.gzindex<I.gzhead.comment.length?I.gzhead.comment.charCodeAt(I.gzindex++)&255:0;c(I,R)}while(0!==R);I.gzhead.hcrc&&I.pending>L&&(x.adler=t(x.adler,I.pending_buf,I.pending-L,L));0===R&&(I.status=103)}else I.status=103;103===I.status&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&v(x),I.pending+2<=I.pending_buf_size&&(c(I,x.adler&255),c(I,x.adler>>8&255),x.adler=0,I.status=113)):I.status=113);if(0!==I.pending){if(v(x),0===x.avail_out)return I.last_flush=
-1,0}else if(0===x.avail_in&&(H<<1)-(4<H?9:0)<=(J<<1)-(4<J?9:0)&&4!==H)return z(x,-5);if(666===I.status&&0!==x.avail_in)return z(x,-5);if(0!==x.avail_in||0!==I.lookahead||0!==H&&666!==I.status){J=2===I.strategy?b(I,H):3===I.strategy?q(I,H):P[I.level].func(I,H);if(3===J||4===J)I.status=666;if(1===J||3===J)return 0===x.avail_out&&(I.last_flush=-1),0;if(2===J&&(1===H?y._tr_align(I):5!==H&&(y._tr_stored_block(I,0,0,!1),3===H&&(h(I.head),0===I.lookahead&&(I.strstart=0,I.block_start=0,I.insert=0))),v(x),
0===x.avail_out))return I.last_flush=-1,0}if(4!==H)return 0;if(0>=I.wrap)return 1;2===I.wrap?(c(I,x.adler&255),c(I,x.adler>>8&255),c(I,x.adler>>16&255),c(I,x.adler>>24&255),c(I,x.total_in&255),c(I,x.total_in>>8&255),c(I,x.total_in>>16&255),c(I,x.total_in>>24&255)):(e(I,x.adler>>>16),e(I,x.adler&65535));v(x);0<I.wrap&&(I.wrap=-I.wrap);return 0!==I.pending?0:1};C.deflateEnd=function(x){if(!x||!x.state)return-2;var H=x.state.status;if(42!==H&&69!==H&&73!==H&&91!==H&&103!==H&&113!==H&&666!==H)return z(x,
-2);x.state=null;return 113===H?z(x,-3):0};C.deflateSetDictionary=function(x,H){var I=H.length;if(!x||!x.state)return-2;var J=x.state;var L=J.wrap;if(2===L||1===L&&42!==J.status||J.lookahead)return-2;1===L&&(x.adler=E(x.adler,H,I,0));J.wrap=0;if(I>=J.w_size){0===L&&(h(J.head),J.strstart=0,J.block_start=0,J.insert=0);var R=new u.Buf8(J.w_size);u.arraySet(R,H,I-J.w_size,J.w_size,0);H=R;I=J.w_size}R=x.avail_in;var fa=x.next_in;var ea=x.input;x.avail_in=I;x.next_in=0;x.input=H;for(a(J);3<=J.lookahead;){H=
J.strstart;I=J.lookahead-2;do J.ins_h=(J.ins_h<<J.hash_shift^J.window[H+3-1])&J.hash_mask,J.prev[H&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=H,H++;while(--I);J.strstart=H;J.lookahead=2;a(J)}J.strstart+=J.lookahead;J.block_start=J.strstart;J.insert=J.lookahead;J.lookahead=0;J.match_length=J.prev_length=2;J.match_available=0;x.next_in=fa;x.input=ea;x.avail_in=R;J.wrap=L;return 0};C.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":269,"./adler32":271,"./crc32":273,"./messages":279,
"./trees":280}],275:[function(l,M,C){M.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],276:[function(l,M,C){M.exports=function(z,h){var v=z.state;var D=z.next_in;var c=z.input;var e=D+(z.avail_in-5);var w=z.next_out;var a=z.output;h=w-(h-z.avail_out);var k=w+(z.avail_out-257);var r=v.dmax;var q=v.wsize;var b=v.whave;var d=v.wnext;var g=v.window;var m=v.hold;var f=v.bits;var n=v.lencode;var u=v.distcode;
var y=(1<<v.lenbits)-1;var E=(1<<v.distbits)-1;a:do{15>f&&(m+=c[D++]<<f,f+=8,m+=c[D++]<<f,f+=8);var t=n[m&y];b:for(;;){var G=t>>>24;m>>>=G;f-=G;G=t>>>16&255;if(0===G)a[w++]=t&65535;else if(G&16){var P=t&65535;if(G&=15)f<G&&(m+=c[D++]<<f,f+=8),P+=m&(1<<G)-1,m>>>=G,f-=G;15>f&&(m+=c[D++]<<f,f+=8,m+=c[D++]<<f,f+=8);t=u[m&E];c:for(;;){G=t>>>24;m>>>=G;f-=G;G=t>>>16&255;if(G&16){t&=65535;G&=15;f<G&&(m+=c[D++]<<f,f+=8,f<G&&(m+=c[D++]<<f,f+=8));t+=m&(1<<G)-1;if(t>r){z.msg="invalid distance too far back";v.mode=
30;break a}m>>>=G;f-=G;G=w-h;if(t>G){G=t-G;if(G>b&&v.sane){z.msg="invalid distance too far back";v.mode=30;break a}var x=0;var H=g;if(0===d){if(x+=q-G,G<P){P-=G;do a[w++]=g[x++];while(--G);x=w-t;H=a}}else if(d<G){if(x+=q+d-G,G-=d,G<P){P-=G;do a[w++]=g[x++];while(--G);x=0;if(d<P){G=d;P-=G;do a[w++]=g[x++];while(--G);x=w-t;H=a}}}else if(x+=d-G,G<P){P-=G;do a[w++]=g[x++];while(--G);x=w-t;H=a}for(;2<P;)a[w++]=H[x++],a[w++]=H[x++],a[w++]=H[x++],P-=3;P&&(a[w++]=H[x++],1<P&&(a[w++]=H[x++]))}else{x=w-t;do a[w++]=
a[x++],a[w++]=a[x++],a[w++]=a[x++],P-=3;while(2<P);P&&(a[w++]=a[x++],1<P&&(a[w++]=a[x++]))}}else if(0===(G&64)){t=u[(t&65535)+(m&(1<<G)-1)];continue c}else{z.msg="invalid distance code";v.mode=30;break a}break}}else if(0===(G&64)){t=n[(t&65535)+(m&(1<<G)-1)];continue b}else{G&32?v.mode=12:(z.msg="invalid literal/length code",v.mode=30);break a}break}}while(D<e&&w<k);P=f>>3;D-=P;f-=P<<3;z.next_in=D;z.next_out=w;z.avail_in=D<e?5+(e-D):5-(D-e);z.avail_out=w<k?257+(k-w):257-(w-k);v.hold=m&(1<<f)-1;v.bits=
f}},{}],277:[function(l,M,C){function z(f){return(f>>>24&255)+(f>>>8&65280)+((f&65280)<<8)+((f&255)<<24)}function h(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new a.Buf16(320);this.work=
new a.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function v(f){if(!f||!f.state)return-2;var n=f.state;f.total_in=f.total_out=n.total=0;f.msg="";n.wrap&&(f.adler=n.wrap&1);n.mode=1;n.last=0;n.havedict=0;n.dmax=32768;n.head=null;n.hold=0;n.bits=0;n.lencode=n.lendyn=new a.Buf32(852);n.distcode=n.distdyn=new a.Buf32(592);n.sane=1;n.back=-1;return 0}function D(f){if(!f||!f.state)return-2;var n=f.state;n.wsize=0;n.whave=0;n.wnext=0;return v(f)}function c(f,n){if(!f||!f.state)return-2;
var u=f.state;if(0>n){var y=0;n=-n}else y=(n>>4)+1,48>n&&(n&=15);if(n&&(8>n||15<n))return-2;null!==u.window&&u.wbits!==n&&(u.window=null);u.wrap=y;u.wbits=n;return D(f)}function e(f,n){if(!f)return-2;var u=new h;f.state=u;u.window=null;n=c(f,n);0!==n&&(f.state=null);return n}function w(f,n,u,y){var E=f.state;null===E.window&&(E.wsize=1<<E.wbits,E.wnext=0,E.whave=0,E.window=new a.Buf8(E.wsize));y>=E.wsize?(a.arraySet(E.window,n,u-E.wsize,E.wsize,0),E.wnext=0,E.whave=E.wsize):(f=E.wsize-E.wnext,f>y&&
(f=y),a.arraySet(E.window,n,u-y,f,E.wnext),(y-=f)?(a.arraySet(E.window,n,u-y,y,0),E.wnext=y,E.whave=E.wsize):(E.wnext+=f,E.wnext===E.wsize&&(E.wnext=0),E.whave<E.wsize&&(E.whave+=f)));return 0}var a=l("../utils/common"),k=l("./adler32"),r=l("./crc32"),q=l("./inffast"),b=l("./inftrees"),d=!0,g,m;C.inflateReset=D;C.inflateReset2=c;C.inflateResetKeep=v;C.inflateInit=function(f){return e(f,15)};C.inflateInit2=e;C.inflate=function(f,n){var u,y=new a.Buf8(4),E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,
1,15];if(!f||!f.state||!f.output||!f.input&&0!==f.avail_in)return-2;var t=f.state;12===t.mode&&(t.mode=13);var G=f.next_out;var P=f.output;var x=f.avail_out;var H=f.next_in;var I=f.input;var J=f.avail_in;var L=t.hold;var R=t.bits;var fa=J;var ea=x;var ua=0;a:for(;;)switch(t.mode){case 1:if(0===t.wrap){t.mode=13;break}for(;16>R;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}if(t.wrap&2&&35615===L){t.check=0;y[0]=L&255;y[1]=L>>>8&255;t.check=r(t.check,y,2,0);R=L=0;t.mode=2;break}t.flags=0;t.head&&(t.head.done=
!1);if(!(t.wrap&1)||(((L&255)<<8)+(L>>8))%31){f.msg="incorrect header check";t.mode=30;break}if(8!==(L&15)){f.msg="unknown compression method";t.mode=30;break}L>>>=4;R-=4;var na=(L&15)+8;if(0===t.wbits)t.wbits=na;else if(na>t.wbits){f.msg="invalid window size";t.mode=30;break}t.dmax=1<<na;f.adler=t.check=1;t.mode=L&512?10:12;R=L=0;break;case 2:for(;16>R;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}t.flags=L;if(8!==(t.flags&255)){f.msg="unknown compression method";t.mode=30;break}if(t.flags&57344){f.msg=
"unknown header flags set";t.mode=30;break}t.head&&(t.head.text=L>>8&1);t.flags&512&&(y[0]=L&255,y[1]=L>>>8&255,t.check=r(t.check,y,2,0));R=L=0;t.mode=3;case 3:for(;32>R;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}t.head&&(t.head.time=L);t.flags&512&&(y[0]=L&255,y[1]=L>>>8&255,y[2]=L>>>16&255,y[3]=L>>>24&255,t.check=r(t.check,y,4,0));R=L=0;t.mode=4;case 4:for(;16>R;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}t.head&&(t.head.xflags=L&255,t.head.os=L>>8);t.flags&512&&(y[0]=L&255,y[1]=L>>>8&255,t.check=r(t.check,
y,2,0));R=L=0;t.mode=5;case 5:if(t.flags&1024){for(;16>R;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}t.length=L;t.head&&(t.head.extra_len=L);t.flags&512&&(y[0]=L&255,y[1]=L>>>8&255,t.check=r(t.check,y,2,0));R=L=0}else t.head&&(t.head.extra=null);t.mode=6;case 6:if(t.flags&1024){var Q=t.length;Q>J&&(Q=J);Q&&(t.head&&(na=t.head.extra_len-t.length,t.head.extra||(t.head.extra=Array(t.head.extra_len)),a.arraySet(t.head.extra,I,H,Q,na)),t.flags&512&&(t.check=r(t.check,I,Q,H)),J-=Q,H+=Q,t.length-=Q);if(t.length)break a}t.length=
0;t.mode=7;case 7:if(t.flags&2048){if(0===J)break a;Q=0;do na=I[H+Q++],t.head&&na&&65536>t.length&&(t.head.name+=String.fromCharCode(na));while(na&&Q<J);t.flags&512&&(t.check=r(t.check,I,Q,H));J-=Q;H+=Q;if(na)break a}else t.head&&(t.head.name=null);t.length=0;t.mode=8;case 8:if(t.flags&4096){if(0===J)break a;Q=0;do na=I[H+Q++],t.head&&na&&65536>t.length&&(t.head.comment+=String.fromCharCode(na));while(na&&Q<J);t.flags&512&&(t.check=r(t.check,I,Q,H));J-=Q;H+=Q;if(na)break a}else t.head&&(t.head.comment=
null);t.mode=9;case 9:if(t.flags&512){for(;16>R;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}if(L!==(t.check&65535)){f.msg="header crc mismatch";t.mode=30;break}R=L=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0);f.adler=t.check=0;t.mode=12;break;case 10:for(;32>R;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}f.adler=t.check=z(L);R=L=0;t.mode=11;case 11:if(0===t.havedict)return f.next_out=G,f.avail_out=x,f.next_in=H,f.avail_in=J,t.hold=L,t.bits=R,2;f.adler=t.check=1;t.mode=12;case 12:if(5===n||6===n)break a;
case 13:if(t.last){L>>>=R&7;R-=R&7;t.mode=27;break}for(;3>R;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}t.last=L&1;L>>>=1;--R;switch(L&3){case 0:t.mode=14;break;case 1:na=t;if(d){g=new a.Buf32(512);m=new a.Buf32(32);for(Q=0;144>Q;)na.lens[Q++]=8;for(;256>Q;)na.lens[Q++]=9;for(;280>Q;)na.lens[Q++]=7;for(;288>Q;)na.lens[Q++]=8;b(1,na.lens,0,288,g,0,na.work,{bits:9});for(Q=0;32>Q;)na.lens[Q++]=5;b(2,na.lens,0,32,m,0,na.work,{bits:5});d=!1}na.lencode=g;na.lenbits=9;na.distcode=m;na.distbits=5;t.mode=20;
if(6===n){L>>>=2;R-=2;break a}break;case 2:t.mode=17;break;case 3:f.msg="invalid block type",t.mode=30}L>>>=2;R-=2;break;case 14:L>>>=R&7;for(R-=R&7;32>R;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}if((L&65535)!==(L>>>16^65535)){f.msg="invalid stored block lengths";t.mode=30;break}t.length=L&65535;R=L=0;t.mode=15;if(6===n)break a;case 15:t.mode=16;case 16:if(Q=t.length){Q>J&&(Q=J);Q>x&&(Q=x);if(0===Q)break a;a.arraySet(P,I,H,Q,G);J-=Q;H+=Q;x-=Q;G+=Q;t.length-=Q;break}t.mode=12;break;case 17:for(;14>
R;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}t.nlen=(L&31)+257;L>>>=5;R-=5;t.ndist=(L&31)+1;L>>>=5;R-=5;t.ncode=(L&15)+4;L>>>=4;R-=4;if(286<t.nlen||30<t.ndist){f.msg="too many length or distance symbols";t.mode=30;break}t.have=0;t.mode=18;case 18:for(;t.have<t.ncode;){for(;3>R;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}t.lens[E[t.have++]]=L&7;L>>>=3;R-=3}for(;19>t.have;)t.lens[E[t.have++]]=0;t.lencode=t.lendyn;t.lenbits=7;Q={bits:t.lenbits};ua=b(0,t.lens,0,19,t.lencode,0,t.work,Q);t.lenbits=Q.bits;if(ua){f.msg=
"invalid code lengths set";t.mode=30;break}t.have=0;t.mode=19;case 19:for(;t.have<t.nlen+t.ndist;){for(;;){var pa=t.lencode[L&(1<<t.lenbits)-1];Q=pa>>>24;pa&=65535;if(Q<=R)break;if(0===J)break a;J--;L+=I[H++]<<R;R+=8}if(16>pa)L>>>=Q,R-=Q,t.lens[t.have++]=pa;else{if(16===pa){for(na=Q+2;R<na;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}L>>>=Q;R-=Q;if(0===t.have){f.msg="invalid bit length repeat";t.mode=30;break}na=t.lens[t.have-1];Q=3+(L&3);L>>>=2;R-=2}else if(17===pa){for(na=Q+3;R<na;){if(0===J)break a;
J--;L+=I[H++]<<R;R+=8}L>>>=Q;R-=Q;na=0;Q=3+(L&7);L>>>=3;R-=3}else{for(na=Q+7;R<na;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}L>>>=Q;R-=Q;na=0;Q=11+(L&127);L>>>=7;R-=7}if(t.have+Q>t.nlen+t.ndist){f.msg="invalid bit length repeat";t.mode=30;break}for(;Q--;)t.lens[t.have++]=na}}if(30===t.mode)break;if(0===t.lens[256]){f.msg="invalid code -- missing end-of-block";t.mode=30;break}t.lenbits=9;Q={bits:t.lenbits};ua=b(1,t.lens,0,t.nlen,t.lencode,0,t.work,Q);t.lenbits=Q.bits;if(ua){f.msg="invalid literal/lengths set";
t.mode=30;break}t.distbits=6;t.distcode=t.distdyn;Q={bits:t.distbits};ua=b(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Q);t.distbits=Q.bits;if(ua){f.msg="invalid distances set";t.mode=30;break}t.mode=20;if(6===n)break a;case 20:t.mode=21;case 21:if(6<=J&&258<=x){f.next_out=G;f.avail_out=x;f.next_in=H;f.avail_in=J;t.hold=L;t.bits=R;q(f,ea);G=f.next_out;P=f.output;x=f.avail_out;H=f.next_in;I=f.input;J=f.avail_in;L=t.hold;R=t.bits;12===t.mode&&(t.back=-1);break}for(t.back=0;;){pa=t.lencode[L&(1<<t.lenbits)-
1];Q=pa>>>24;na=pa>>>16&255;pa&=65535;if(Q<=R)break;if(0===J)break a;J--;L+=I[H++]<<R;R+=8}if(na&&0===(na&240)){var ia=Q;var ya=na;for(u=pa;;){pa=t.lencode[u+((L&(1<<ia+ya)-1)>>ia)];Q=pa>>>24;na=pa>>>16&255;pa&=65535;if(ia+Q<=R)break;if(0===J)break a;J--;L+=I[H++]<<R;R+=8}L>>>=ia;R-=ia;t.back+=ia}L>>>=Q;R-=Q;t.back+=Q;t.length=pa;if(0===na){t.mode=26;break}if(na&32){t.back=-1;t.mode=12;break}if(na&64){f.msg="invalid literal/length code";t.mode=30;break}t.extra=na&15;t.mode=22;case 22:if(t.extra){for(na=
t.extra;R<na;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}t.length+=L&(1<<t.extra)-1;L>>>=t.extra;R-=t.extra;t.back+=t.extra}t.was=t.length;t.mode=23;case 23:for(;;){pa=t.distcode[L&(1<<t.distbits)-1];Q=pa>>>24;na=pa>>>16&255;pa&=65535;if(Q<=R)break;if(0===J)break a;J--;L+=I[H++]<<R;R+=8}if(0===(na&240)){ia=Q;ya=na;for(u=pa;;){pa=t.distcode[u+((L&(1<<ia+ya)-1)>>ia)];Q=pa>>>24;na=pa>>>16&255;pa&=65535;if(ia+Q<=R)break;if(0===J)break a;J--;L+=I[H++]<<R;R+=8}L>>>=ia;R-=ia;t.back+=ia}L>>>=Q;R-=Q;t.back+=
Q;if(na&64){f.msg="invalid distance code";t.mode=30;break}t.offset=pa;t.extra=na&15;t.mode=24;case 24:if(t.extra){for(na=t.extra;R<na;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}t.offset+=L&(1<<t.extra)-1;L>>>=t.extra;R-=t.extra;t.back+=t.extra}if(t.offset>t.dmax){f.msg="invalid distance too far back";t.mode=30;break}t.mode=25;case 25:if(0===x)break a;Q=ea-x;if(t.offset>Q){Q=t.offset-Q;if(Q>t.whave&&t.sane){f.msg="invalid distance too far back";t.mode=30;break}Q>t.wnext?(Q-=t.wnext,na=t.wsize-Q):na=
t.wnext-Q;Q>t.length&&(Q=t.length);ia=t.window}else ia=P,na=G-t.offset,Q=t.length;Q>x&&(Q=x);x-=Q;t.length-=Q;do P[G++]=ia[na++];while(--Q);0===t.length&&(t.mode=21);break;case 26:if(0===x)break a;P[G++]=t.length;x--;t.mode=21;break;case 27:if(t.wrap){for(;32>R;){if(0===J)break a;J--;L|=I[H++]<<R;R+=8}ea-=x;f.total_out+=ea;t.total+=ea;ea&&(f.adler=t.check=t.flags?r(t.check,P,ea,G-ea):k(t.check,P,ea,G-ea));ea=x;if((t.flags?L:z(L))!==t.check){f.msg="incorrect data check";t.mode=30;break}R=L=0}t.mode=
28;case 28:if(t.wrap&&t.flags){for(;32>R;){if(0===J)break a;J--;L+=I[H++]<<R;R+=8}if(L!==(t.total&4294967295)){f.msg="incorrect length check";t.mode=30;break}R=L=0}t.mode=29;case 29:ua=1;break a;case 30:ua=-3;break a;case 31:return-4;default:return-2}f.next_out=G;f.avail_out=x;f.next_in=H;f.avail_in=J;t.hold=L;t.bits=R;if((t.wsize||ea!==f.avail_out&&30>t.mode&&(27>t.mode||4!==n))&&w(f,f.output,f.next_out,ea-f.avail_out))return t.mode=31,-4;fa-=f.avail_in;ea-=f.avail_out;f.total_in+=fa;f.total_out+=
ea;t.total+=ea;t.wrap&&ea&&(f.adler=t.check=t.flags?r(t.check,P,ea,f.next_out-ea):k(t.check,P,ea,f.next_out-ea));f.data_type=t.bits+(t.last?64:0)+(12===t.mode?128:0)+(20===t.mode||15===t.mode?256:0);(0===fa&&0===ea||4===n)&&0===ua&&(ua=-5);return ua};C.inflateEnd=function(f){if(!f||!f.state)return-2;var n=f.state;n.window&&(n.window=null);f.state=null;return 0};C.inflateGetHeader=function(f,n){if(!f||!f.state)return-2;f=f.state;if(0===(f.wrap&2))return-2;f.head=n;n.done=!1;return 0};C.inflateSetDictionary=
function(f,n){var u=n.length;if(!f||!f.state)return-2;var y=f.state;if(0!==y.wrap&&11!==y.mode)return-2;if(11===y.mode){var E=k(1,n,u,0);if(E!==y.check)return-3}if(w(f,n,u,u))return y.mode=31,-4;y.havedict=1;return 0};C.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":269,"./adler32":271,"./crc32":273,"./inffast":276,"./inftrees":278}],278:[function(l,M,C){var z=l("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=
[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],D=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];M.exports=function(e,w,a,k,r,q,b,d){var g=d.bits,m,f,n,u,y,E,t=0,G=new z.Buf16(16);var P=new z.Buf16(16);var x,H=0;for(m=0;15>=m;m++)G[m]=0;for(f=0;f<k;f++)G[w[a+f]]++;var I=g;for(n=15;1<=
n&&0===G[n];n--);I>n&&(I=n);if(0===n)return r[q++]=20971520,r[q++]=20971520,d.bits=1,0;for(g=1;g<n&&0===G[g];g++);I<g&&(I=g);for(m=u=1;15>=m;m++)if(u<<=1,u-=G[m],0>u)return-1;if(0<u&&(0===e||1!==n))return-1;P[1]=0;for(m=1;15>m;m++)P[m+1]=P[m]+G[m];for(f=0;f<k;f++)0!==w[a+f]&&(b[P[w[a+f]]++]=f);if(0===e){var J=x=b;var L=19}else 1===e?(J=h,t-=257,x=v,H-=257,L=256):(J=D,x=c,L=-1);f=y=0;m=g;var R=q;k=I;P=0;var fa=-1;var ea=1<<I;var ua=ea-1;if(1===e&&852<ea||2===e&&592<ea)return 1;for(;;){var na=m-P;if(b[f]<
L){var Q=0;var pa=b[f]}else b[f]>L?(Q=x[H+b[f]],pa=J[t+b[f]]):(Q=96,pa=0);u=1<<m-P;g=E=1<<k;do E-=u,r[R+(y>>P)+E]=na<<24|Q<<16|pa|0;while(0!==E);for(u=1<<m-1;y&u;)u>>=1;0!==u?(y&=u-1,y+=u):y=0;f++;if(0===--G[m]){if(m===n)break;m=w[a+b[f]]}if(m>I&&(y&ua)!==fa){0===P&&(P=I);R+=g;k=m-P;for(u=1<<k;k+P<n;){u-=G[k+P];if(0>=u)break;k++;u<<=1}ea+=1<<k;if(1===e&&852<ea||2===e&&592<ea)return 1;fa=y&ua;r[fa]=I<<24|k<<16|R-q|0}}0!==y&&(r[R+y]=m-P<<24|4194304);d.bits=I;return 0}},{"../utils/common":269}],279:[function(l,
M,C){M.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],280:[function(l,M,C){function z(Q){for(var pa=Q.length;0<=--pa;)Q[pa]=0}function h(Q,pa,ia,ya,va){this.static_tree=Q;this.extra_bits=pa;this.extra_base=ia;this.elems=ya;this.max_length=va;this.has_stree=Q&&Q.length}function v(Q,pa){this.dyn_tree=Q;this.max_code=0;this.stat_desc=pa}function D(Q,pa){Q.pending_buf[Q.pending++]=
pa&255;Q.pending_buf[Q.pending++]=pa>>>8&255}function c(Q,pa,ia){Q.bi_valid>16-ia?(Q.bi_buf|=pa<<Q.bi_valid&65535,D(Q,Q.bi_buf),Q.bi_buf=pa>>16-Q.bi_valid,Q.bi_valid+=ia-16):(Q.bi_buf|=pa<<Q.bi_valid&65535,Q.bi_valid+=ia)}function e(Q,pa,ia){c(Q,ia[2*pa],ia[2*pa+1])}function w(Q,pa){var ia=0;do ia|=Q&1,Q>>>=1,ia<<=1;while(0<--pa);return ia>>>1}function a(Q,pa,ia){var ya=Array(16),va=0,Ha;for(Ha=1;15>=Ha;Ha++)ya[Ha]=va=va+ia[Ha-1]<<1;for(ia=0;ia<=pa;ia++)va=Q[2*ia+1],0!==va&&(Q[2*ia]=w(ya[va]++,va))}
function k(Q){var pa;for(pa=0;286>pa;pa++)Q.dyn_ltree[2*pa]=0;for(pa=0;30>pa;pa++)Q.dyn_dtree[2*pa]=0;for(pa=0;19>pa;pa++)Q.bl_tree[2*pa]=0;Q.dyn_ltree[512]=1;Q.opt_len=Q.static_len=0;Q.last_lit=Q.matches=0}function r(Q){8<Q.bi_valid?D(Q,Q.bi_buf):0<Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf);Q.bi_buf=0;Q.bi_valid=0}function q(Q,pa,ia,ya){var va=2*pa,Ha=2*ia;return Q[va]<Q[Ha]||Q[va]===Q[Ha]&&ya[pa]<=ya[ia]}function b(Q,pa,ia){for(var ya=Q.heap[ia],va=ia<<1;va<=Q.heap_len;){va<Q.heap_len&&q(pa,
Q.heap[va+1],Q.heap[va],Q.depth)&&va++;if(q(pa,ya,Q.heap[va],Q.depth))break;Q.heap[ia]=Q.heap[va];ia=va;va<<=1}Q.heap[ia]=ya}function d(Q,pa,ia){var ya=0;if(0!==Q.last_lit){do{var va=Q.pending_buf[Q.d_buf+2*ya]<<8|Q.pending_buf[Q.d_buf+2*ya+1];var Ha=Q.pending_buf[Q.l_buf+ya];ya++;if(0===va)e(Q,Ha,pa);else{var qa=J[Ha];e(Q,qa+256+1,pa);var Qa=E[qa];0!==Qa&&(Ha-=L[qa],c(Q,Ha,Qa));va--;qa=256>va?I[va]:I[256+(va>>>7)];e(Q,qa,ia);Qa=t[qa];0!==Qa&&(va-=R[qa],c(Q,va,Qa))}}while(ya<Q.last_lit)}e(Q,256,pa)}
function g(Q,pa){var ia=pa.dyn_tree,ya=pa.stat_desc.static_tree,va=pa.stat_desc.has_stree,Ha=pa.stat_desc.elems,qa,Qa=-1;Q.heap_len=0;Q.heap_max=573;for(qa=0;qa<Ha;qa++)0!==ia[2*qa]?(Q.heap[++Q.heap_len]=Qa=qa,Q.depth[qa]=0):ia[2*qa+1]=0;for(;2>Q.heap_len;){var Xa=Q.heap[++Q.heap_len]=2>Qa?++Qa:0;ia[2*Xa]=1;Q.depth[Xa]=0;Q.opt_len--;va&&(Q.static_len-=ya[2*Xa+1])}pa.max_code=Qa;for(qa=Q.heap_len>>1;1<=qa;qa--)b(Q,ia,qa);Xa=Ha;do qa=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],b(Q,ia,1),ya=Q.heap[1],Q.heap[--Q.heap_max]=
qa,Q.heap[--Q.heap_max]=ya,ia[2*Xa]=ia[2*qa]+ia[2*ya],Q.depth[Xa]=(Q.depth[qa]>=Q.depth[ya]?Q.depth[qa]:Q.depth[ya])+1,ia[2*qa+1]=ia[2*ya+1]=Xa,Q.heap[1]=Xa++,b(Q,ia,1);while(2<=Q.heap_len);Q.heap[--Q.heap_max]=Q.heap[1];qa=pa.dyn_tree;Xa=pa.max_code;ya=pa.stat_desc.static_tree;va=pa.stat_desc.has_stree;Ha=pa.stat_desc.extra_bits;var gb=pa.stat_desc.extra_base,S=pa.stat_desc.max_length,ma,Ea=0;for(ma=0;15>=ma;ma++)Q.bl_count[ma]=0;qa[2*Q.heap[Q.heap_max]+1]=0;for(pa=Q.heap_max+1;573>pa;pa++){var La=
Q.heap[pa];ma=qa[2*qa[2*La+1]+1]+1;ma>S&&(ma=S,Ea++);qa[2*La+1]=ma;if(!(La>Xa)){Q.bl_count[ma]++;var hb=0;La>=gb&&(hb=Ha[La-gb]);var yb=qa[2*La];Q.opt_len+=yb*(ma+hb);va&&(Q.static_len+=yb*(ya[2*La+1]+hb))}}if(0!==Ea){do{for(ma=S-1;0===Q.bl_count[ma];)ma--;Q.bl_count[ma]--;Q.bl_count[ma+1]+=2;Q.bl_count[S]--;Ea-=2}while(0<Ea);for(ma=S;0!==ma;ma--)for(La=Q.bl_count[ma];0!==La;)ya=Q.heap[--pa],ya>Xa||(qa[2*ya+1]!==ma&&(Q.opt_len+=(ma-qa[2*ya+1])*qa[2*ya],qa[2*ya+1]=ma),La--)}a(ia,Qa,Q.bl_count)}function m(Q,
pa,ia){var ya,va=-1,Ha=pa[1],qa=0,Qa=7,Xa=4;0===Ha&&(Qa=138,Xa=3);pa[2*(ia+1)+1]=65535;for(ya=0;ya<=ia;ya++){var gb=Ha;Ha=pa[2*(ya+1)+1];++qa<Qa&&gb===Ha||(qa<Xa?Q.bl_tree[2*gb]+=qa:0!==gb?(gb!==va&&Q.bl_tree[2*gb]++,Q.bl_tree[32]++):10>=qa?Q.bl_tree[34]++:Q.bl_tree[36]++,qa=0,va=gb,0===Ha?(Qa=138,Xa=3):gb===Ha?(Qa=6,Xa=3):(Qa=7,Xa=4))}}function f(Q,pa,ia){var ya,va=-1,Ha=pa[1],qa=0,Qa=7,Xa=4;0===Ha&&(Qa=138,Xa=3);for(ya=0;ya<=ia;ya++){var gb=Ha;Ha=pa[2*(ya+1)+1];if(!(++qa<Qa&&gb===Ha)){if(qa<Xa){do e(Q,
gb,Q.bl_tree);while(0!==--qa)}else 0!==gb?(gb!==va&&(e(Q,gb,Q.bl_tree),qa--),e(Q,16,Q.bl_tree),c(Q,qa-3,2)):10>=qa?(e(Q,17,Q.bl_tree),c(Q,qa-3,3)):(e(Q,18,Q.bl_tree),c(Q,qa-11,7));qa=0;va=gb;0===Ha?(Qa=138,Xa=3):gb===Ha?(Qa=6,Xa=3):(Qa=7,Xa=4)}}}function n(Q){var pa=4093624447,ia;for(ia=0;31>=ia;ia++,pa>>>=1)if(pa&1&&0!==Q.dyn_ltree[2*ia])return 0;if(0!==Q.dyn_ltree[18]||0!==Q.dyn_ltree[20]||0!==Q.dyn_ltree[26])return 1;for(ia=32;256>ia;ia++)if(0!==Q.dyn_ltree[2*ia])return 1;return 0}function u(Q,
pa,ia,ya){c(Q,ya?1:0,3);r(Q);D(Q,ia);D(Q,~ia);y.arraySet(Q.pending_buf,Q.window,pa,ia,Q.pending);Q.pending+=ia}var y=l("../utils/common"),E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],t=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=Array(576);z(x);var H=Array(60);z(H);var I=Array(512);z(I);var J=Array(256);z(J);var L=Array(29);z(L);var R=Array(30);z(R);var fa,ea,ua,
na=!1;C._tr_init=function(Q){if(!na){var pa,ia,ya,va=Array(16);for(ya=ia=0;28>ya;ya++)for(L[ya]=ia,pa=0;pa<1<<E[ya];pa++)J[ia++]=ya;J[ia-1]=ya;for(ya=ia=0;16>ya;ya++)for(R[ya]=ia,pa=0;pa<1<<t[ya];pa++)I[ia++]=ya;for(ia>>=7;30>ya;ya++)for(R[ya]=ia<<7,pa=0;pa<1<<t[ya]-7;pa++)I[256+ia++]=ya;for(pa=0;15>=pa;pa++)va[pa]=0;for(pa=0;143>=pa;)x[2*pa+1]=8,pa++,va[8]++;for(;255>=pa;)x[2*pa+1]=9,pa++,va[9]++;for(;279>=pa;)x[2*pa+1]=7,pa++,va[7]++;for(;287>=pa;)x[2*pa+1]=8,pa++,va[8]++;a(x,287,va);for(pa=0;30>
pa;pa++)H[2*pa+1]=5,H[2*pa]=w(pa,5);fa=new h(x,E,257,286,15);ea=new h(H,t,0,30,15);ua=new h([],G,0,19,7);na=!0}Q.l_desc=new v(Q.dyn_ltree,fa);Q.d_desc=new v(Q.dyn_dtree,ea);Q.bl_desc=new v(Q.bl_tree,ua);Q.bi_buf=0;Q.bi_valid=0;k(Q)};C._tr_stored_block=u;C._tr_flush_block=function(Q,pa,ia,ya){var va=0;if(0<Q.level){2===Q.strm.data_type&&(Q.strm.data_type=n(Q));g(Q,Q.l_desc);g(Q,Q.d_desc);m(Q,Q.dyn_ltree,Q.l_desc.max_code);m(Q,Q.dyn_dtree,Q.d_desc.max_code);g(Q,Q.bl_desc);for(va=18;3<=va&&0===Q.bl_tree[2*
P[va]+1];va--);Q.opt_len+=3*(va+1)+14;var Ha=Q.opt_len+3+7>>>3;var qa=Q.static_len+3+7>>>3;qa<=Ha&&(Ha=qa)}else Ha=qa=ia+5;if(ia+4<=Ha&&-1!==pa)u(Q,pa,ia,ya);else if(4===Q.strategy||qa===Ha)c(Q,2+(ya?1:0),3),d(Q,x,H);else{c(Q,4+(ya?1:0),3);pa=Q.l_desc.max_code+1;ia=Q.d_desc.max_code+1;va+=1;c(Q,pa-257,5);c(Q,ia-1,5);c(Q,va-4,4);for(Ha=0;Ha<va;Ha++)c(Q,Q.bl_tree[2*P[Ha]+1],3);f(Q,Q.dyn_ltree,pa-1);f(Q,Q.dyn_dtree,ia-1);d(Q,Q.dyn_ltree,Q.dyn_dtree)}k(Q);ya&&r(Q)};C._tr_tally=function(Q,pa,ia){Q.pending_buf[Q.d_buf+
2*Q.last_lit]=pa>>>8&255;Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=pa&255;Q.pending_buf[Q.l_buf+Q.last_lit]=ia&255;Q.last_lit++;0===pa?Q.dyn_ltree[2*ia]++:(Q.matches++,pa--,Q.dyn_ltree[2*(J[ia]+256+1)]++,Q.dyn_dtree[2*(256>pa?I[pa]:I[256+(pa>>>7)])]++);return Q.last_lit===Q.lit_bufsize-1};C._tr_align=function(Q){c(Q,2,3);e(Q,256,x);16===Q.bi_valid?(D(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf&255,Q.bi_buf>>=8,Q.bi_valid-=8)}},{"../utils/common":269}],281:[function(l,
M,C){M.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],282:[function(l,M,C){(function(z,h){"object"===typeof C&&"undefined"!==typeof M?M.exports=h():z.PointerEventsPolyfill=h()})(this,function(){function z(S,ma){ma=ma||Object.create(null);var Ea=document.createEvent("Event");Ea.initEvent(S,ma.bubbles||!1,ma.cancelable||!1);S=2;for(var La;S<k.length;S++)La=
k[S],Ea[La]=ma[La]||r[S];Ea.buttons=ma.buttons||0;S=ma.pressure&&Ea.buttons?ma.pressure:Ea.buttons?.5:0;Ea.x=Ea.clientX;Ea.y=Ea.clientY;Ea.pointerId=ma.pointerId||0;Ea.width=ma.width||0;Ea.height=ma.height||0;Ea.pressure=S;Ea.tiltX=ma.tiltX||0;Ea.tiltY=ma.tiltY||0;Ea.twist=ma.twist||0;Ea.tangentialPressure=ma.tangentialPressure||0;Ea.pointerType=ma.pointerType||"";Ea.hwTimestamp=ma.hwTimestamp||0;Ea.isPrimary=ma.isPrimary||!1;return Ea}function h(){this.array=[];this.size=0}function v(S,ma,Ea,La){this.addCallback=
S.bind(La);this.removeCallback=ma.bind(La);this.changedCallback=Ea.bind(La);G&&(this.observer=new G(this.mutationWatcher.bind(this)))}function D(S){return"body /shadow-deep/ "+c(S)}function c(S){return'[touch-action="'+S+'"]'}function e(S){return"{ -ms-touch-action: "+S+"; touch-action: "+S+"; }"}function w(S){if(!f.pointermap.has(S))throw S=Error("InvalidPointerId"),S.name="InvalidPointerId",S;}function a(S){for(var ma=S.parentNode;ma&&ma!==S.ownerDocument;)ma=ma.parentNode;if(!ma)throw S=Error("InvalidStateError"),
S.name="InvalidStateError",S;}var k="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget pageX pageY".split(" "),r=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],q=window.Map&&window.Map.prototype.forEach?Map:h;h.prototype={set:function(S,ma){if(void 0===ma)return this.delete(S);this.has(S)||this.size++;this.array[S]=ma},has:function(S){return void 0!==this.array[S]},delete:function(S){this.has(S)&&(delete this.array[S],this.size--)},
get:function(S){return this.array[S]},clear:function(){this.size=this.array.length=0},forEach:function(S,ma){return this.array.forEach(function(Ea,La){S.call(ma,Ea,La,this)},this)}};var b="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget buttons pointerId width height pressure tiltX tiltY pointerType hwTimestamp isPrimary type target currentTarget which pageX pageY timeStamp".split(" "),d=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,
0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],g={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},m="undefined"!==typeof SVGElementInstance,f={pointermap:new q,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(S,ma){var Ea=ma.events;Ea&&(Ea.forEach(function(La){ma[La]&&(this.eventMap[La]=ma[La].bind(ma))},this),this.eventSources[S]=ma,this.eventSourceList.push(ma))},register:function(S){for(var ma=this.eventSourceList.length,
Ea=0,La;Ea<ma&&(La=this.eventSourceList[Ea]);Ea++)La.register.call(La,S)},unregister:function(S){for(var ma=this.eventSourceList.length,Ea=0,La;Ea<ma&&(La=this.eventSourceList[Ea]);Ea++)La.unregister.call(La,S)},contains:function(S,ma){try{return S.contains(ma)}catch(Ea){return!1}},down:function(S){S.bubbles=!0;this.fireEvent("pointerdown",S)},move:function(S){S.bubbles=!0;this.fireEvent("pointermove",S)},up:function(S){S.bubbles=!0;this.fireEvent("pointerup",S)},enter:function(S){S.bubbles=!1;this.fireEvent("pointerenter",
S)},leave:function(S){S.bubbles=!1;this.fireEvent("pointerleave",S)},over:function(S){S.bubbles=!0;this.fireEvent("pointerover",S)},out:function(S){S.bubbles=!0;this.fireEvent("pointerout",S)},cancel:function(S){S.bubbles=!0;this.fireEvent("pointercancel",S)},leaveOut:function(S){this.out(S);this.propagate(S,this.leave,!1)},enterOver:function(S){this.over(S);this.propagate(S,this.enter,!0)},eventHandler:function(S){if(!S._handledByPE){var ma=S.type;(ma=this.eventMap&&this.eventMap[ma])&&ma(S);S._handledByPE=
!0}},listen:function(S,ma){ma.forEach(function(Ea){this.addEvent(S,Ea)},this)},unlisten:function(S,ma){ma.forEach(function(Ea){this.removeEvent(S,Ea)},this)},addEvent:function(S,ma){S.addEventListener(ma,this.boundHandler)},removeEvent:function(S,ma){S.removeEventListener(ma,this.boundHandler)},makeEvent:function(S,ma){this.captureInfo[ma.pointerId]&&(ma.relatedTarget=null);S=new z(S,ma);ma.preventDefault&&(S.preventDefault=ma.preventDefault);S._target=S._target||ma.target;return S},fireEvent:function(S,
ma){S=this.makeEvent(S,ma);return this.dispatchEvent(S)},cloneEvent:function(S){for(var ma=Object.create(null),Ea,La=0;La<b.length;La++)Ea=b[La],ma[Ea]=S[Ea]||d[La],m&&("target"===Ea||"relatedTarget"===Ea)&&ma[Ea]instanceof SVGElementInstance&&(ma[Ea]=ma[Ea].correspondingUseElement);S.preventDefault&&(ma.preventDefault=function(){S.preventDefault()});return ma},getTarget:function(S){var ma=this.captureInfo[S.pointerId];if(!ma)return S._target;if(S._target===ma||!(S.type in g))return ma},propagate:function(S,
ma,Ea){for(var La=S.target,hb=[];La!==document&&!La.contains(S.relatedTarget);)if(hb.push(La),La=La.parentNode,!La)return;Ea&&hb.reverse();hb.forEach(function(yb){S.target=yb;ma.call(this,S)},this)},setCapture:function(S,ma,Ea){this.captureInfo[S]&&this.releaseCapture(S,Ea);this.captureInfo[S]=ma;this.implicitRelease=this.releaseCapture.bind(this,S,Ea);document.addEventListener("pointerup",this.implicitRelease);document.addEventListener("pointercancel",this.implicitRelease);var La=new z("gotpointercapture");
La.pointerId=S;La._target=ma;Ea||this.asyncDispatchEvent(La)},releaseCapture:function(S,ma){var Ea=this.captureInfo[S];if(Ea){this.captureInfo[S]=void 0;document.removeEventListener("pointerup",this.implicitRelease);document.removeEventListener("pointercancel",this.implicitRelease);var La=new z("lostpointercapture");La.pointerId=S;La._target=Ea;ma||this.asyncDispatchEvent(La)}},dispatchEvent:function(S){var ma=this.getTarget(S);if(ma)return ma.dispatchEvent(S)},asyncDispatchEvent:function(S){requestAnimationFrame(this.dispatchEvent.bind(this,
S))}};f.boundHandler=f.eventHandler.bind(f);var n={shadow:function(S){if(S)return S.shadowRoot||S.webkitShadowRoot},canTarget:function(S){return S&&!!S.elementFromPoint},targetingShadow:function(S){S=this.shadow(S);if(this.canTarget(S))return S},olderShadow:function(S){var ma=S.olderShadowRoot;!ma&&(S=S.querySelector("shadow"))&&(ma=S.olderShadowRoot);return ma},allShadows:function(S){var ma=[];for(S=this.shadow(S);S;)ma.push(S),S=this.olderShadow(S);return ma},searchRoot:function(S,ma,Ea){if(S){var La=
S.elementFromPoint(ma,Ea),hb;for(hb=this.targetingShadow(La);hb;){if(S=hb.elementFromPoint(ma,Ea))return La=this.targetingShadow(S),this.searchRoot(La,ma,Ea)||S;hb=this.olderShadow(hb)}return La}},owner:function(S){for(;S.parentNode;)S=S.parentNode;S.nodeType!==Node.DOCUMENT_NODE&&S.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(S=document);return S},findTarget:function(S){var ma=S.clientX,Ea=S.clientY;S=this.owner(S.target);S.elementFromPoint(ma,Ea)||(S=document);return this.searchRoot(S,ma,Ea)}},u=Array.prototype.forEach.call.bind(Array.prototype.forEach),
y=Array.prototype.map.call.bind(Array.prototype.map),E=Array.prototype.slice.call.bind(Array.prototype.slice),t=Array.prototype.filter.call.bind(Array.prototype.filter),G=window.MutationObserver||window.WebKitMutationObserver,P={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};v.prototype={watchSubtree:function(S){this.observer&&n.canTarget(S)&&this.observer.observe(S,P)},enableOnSubtree:function(S){this.watchSubtree(S);S===document&&"complete"!==document.readyState?
this.installOnLoad():this.installNewSubtree(S)},installNewSubtree:function(S){u(this.findElements(S),this.addElement,this)},findElements:function(S){return S.querySelectorAll?S.querySelectorAll("[touch-action]"):[]},removeElement:function(S){this.removeCallback(S)},addElement:function(S){this.addCallback(S)},elementChanged:function(S,ma){this.changedCallback(S,ma)},concatLists:function(S,ma){return S.concat(E(ma))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===
document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(S){return S.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(S){var ma=y(S,this.findElements,this);ma.push(t(S,this.isElement));return ma.reduce(this.concatLists,[])},mutationWatcher:function(S){S.forEach(this.mutationHandler,this)},mutationHandler:function(S){"childList"===S.type?(this.flattenMutationTree(S.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(S.removedNodes).forEach(this.removeElement,
this)):"attributes"===S.type&&this.elementChanged(S.target,S.oldValue)}};var x=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],H="",I=window.PointerEvent||window.MSPointerEvent,J=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,L=f.pointermap,R=[1,4,2,8,16],fa=!1;try{fa=1===(new MouseEvent("test",{buttons:1})).buttons}catch(S){}var ea={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(S){f.listen(S,
this.events)},unregister:function(S){f.unlisten(S,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(S){var ma=this.lastTouches,Ea=S.clientX;S=S.clientY;for(var La=0,hb=ma.length,yb;La<hb&&(yb=ma[La]);La++){var tb=Math.abs(S-yb.y);if(25>=Math.abs(Ea-yb.x)&&25>=tb)return!0}},prepareEvent:function(S){var ma=f.cloneEvent(S),Ea=ma.preventDefault;ma.preventDefault=function(){S.preventDefault();Ea()};ma.pointerId=this.POINTER_ID;ma.isPrimary=!0;ma.pointerType=this.POINTER_TYPE;return ma},prepareButtonsForMove:function(S,
ma){var Ea=L.get(this.POINTER_ID);S.buttons=0!==ma.button&&Ea?Ea.buttons:0;ma.buttons=S.buttons},mousedown:function(S){if(!this.isEventSimulatedFromTouch(S)){var ma=L.get(this.POINTER_ID),Ea=this.prepareEvent(S);fa||(Ea.buttons=R[Ea.button],ma&&(Ea.buttons|=ma.buttons),S.buttons=Ea.buttons);L.set(this.POINTER_ID,S);ma&&0!==ma.buttons?f.move(Ea):f.down(Ea)}},mousemove:function(S){if(!this.isEventSimulatedFromTouch(S)){var ma=this.prepareEvent(S);fa||this.prepareButtonsForMove(ma,S);ma.button=-1;L.set(this.POINTER_ID,
S);f.move(ma)}},mouseup:function(S){if(!this.isEventSimulatedFromTouch(S)){var ma=L.get(this.POINTER_ID),Ea=this.prepareEvent(S);if(!fa){var La=R[Ea.button];Ea.buttons=ma?ma.buttons&~La:0;S.buttons=Ea.buttons}L.set(this.POINTER_ID,S);Ea.buttons&=~R[Ea.button];0===Ea.buttons?f.up(Ea):f.move(Ea)}},mouseover:function(S){if(!this.isEventSimulatedFromTouch(S)){var ma=this.prepareEvent(S);fa||this.prepareButtonsForMove(ma,S);ma.button=-1;L.set(this.POINTER_ID,S);f.enterOver(ma)}},mouseout:function(S){if(!this.isEventSimulatedFromTouch(S)){var ma=
this.prepareEvent(S);fa||this.prepareButtonsForMove(ma,S);ma.button=-1;f.leaveOut(ma)}},cancel:function(S){S=this.prepareEvent(S);f.cancel(S);this.deactivateMouse()},deactivateMouse:function(){L.delete(this.POINTER_ID)}},ua=f.captureInfo,na=n.findTarget.bind(n),Q=n.allShadows.bind(n),pa=f.pointermap,ia={events:["touchstart","touchmove","touchend","touchcancel"],register:function(S){ya.enableOnSubtree(S)},unregister:function(){},elementAdded:function(S){var ma=S.getAttribute("touch-action"),Ea=this.touchActionToScrollType(ma);
Ea&&(S._scrollType=Ea,f.listen(S,this.events),Q(S).forEach(function(La){La._scrollType=Ea;f.listen(La,this.events)},this))},elementRemoved:function(S){S._scrollType=void 0;f.unlisten(S,this.events);Q(S).forEach(function(ma){ma._scrollType=void 0;f.unlisten(ma,this.events)},this)},elementChanged:function(S,ma){var Ea=S.getAttribute("touch-action"),La=this.touchActionToScrollType(Ea);ma=this.touchActionToScrollType(ma);La&&ma?(S._scrollType=La,Q(S).forEach(function(hb){hb._scrollType=La},this)):ma?
this.elementRemoved(S):La&&this.elementAdded(S)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(S){var ma=this.scrollTypes;if("none"===S)return"none";if(S===ma.XSCROLLER)return"X";if(S===ma.YSCROLLER)return"Y";if(ma.SCROLLER.exec(S))return"XY"},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(S){return this.firstTouch===S.identifier},setPrimaryTouch:function(S){if(0===pa.size||1===pa.size&&
pa.has(1))this.firstTouch=S.identifier,this.firstXY={X:S.clientX,Y:S.clientY},this.scrolling=!1,this.cancelResetClickCount()},removePrimaryPointer:function(S){S.isPrimary&&(this.firstXY=this.firstTouch=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var S=function(){this.clickCount=0;this.resetId=null}.bind(this);this.resetId=setTimeout(S,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(S){var ma=0;if("touchstart"===
S||"touchmove"===S)ma=1;return ma},touchToPointer:function(S){var ma=this.currentTouchEvent,Ea=f.cloneEvent(S),La=Ea.pointerId=S.identifier+2;Ea.target=ua[La]||na(Ea);Ea.bubbles=!0;Ea.cancelable=!0;Ea.detail=this.clickCount;Ea.button=0;Ea.buttons=this.typeToButtons(ma.type);Ea.width=2*(S.radiusX||S.webkitRadiusX||0);Ea.height=2*(S.radiusY||S.webkitRadiusY||0);Ea.pressure=S.force||S.webkitForce||.5;Ea.isPrimary=this.isPrimaryTouch(S);Ea.pointerType=this.POINTER_TYPE;Ea.altKey=ma.altKey;Ea.ctrlKey=
ma.ctrlKey;Ea.metaKey=ma.metaKey;Ea.shiftKey=ma.shiftKey;var hb=this;Ea.preventDefault=function(){hb.scrolling=!1;hb.firstXY=null;ma.preventDefault()};return Ea},processTouches:function(S,ma){var Ea=S.changedTouches;this.currentTouchEvent=S;S=0;for(var La;S<Ea.length;S++)La=Ea[S],ma.call(this,this.touchToPointer(La))},shouldScroll:function(S){if(this.firstXY){var ma=S.currentTarget._scrollType;if("none"===ma)ma=!1;else if("XY"===ma)ma=!0;else{S=S.changedTouches[0];var Ea="Y"===ma?"X":"Y";ma=Math.abs(S["client"+
ma]-this.firstXY[ma])>=Math.abs(S["client"+Ea]-this.firstXY[Ea])}this.firstXY=null;return ma}},findTouch:function(S,ma){for(var Ea=0,La=S.length,hb;Ea<La&&(hb=S[Ea]);Ea++)if(hb.identifier===ma)return!0},vacuumTouches:function(S){var ma=S.touches;if(pa.size>=ma.length){var Ea=[];pa.forEach(function(La,hb){1===hb||this.findTouch(ma,hb-2)||Ea.push(La.out)},this);Ea.forEach(this.cancelOut,this)}},touchstart:function(S){this.vacuumTouches(S);this.setPrimaryTouch(S.changedTouches[0]);this.dedupSynthMouse(S);
this.scrolling||(this.clickCount++,this.processTouches(S,this.overDown))},overDown:function(S){pa.set(S.pointerId,{target:S.target,out:S,outTarget:S.target});f.enterOver(S);f.down(S)},touchmove:function(S){this.scrolling||(this.shouldScroll(S)?(this.scrolling=!0,this.touchcancel(S)):(S.preventDefault(),this.processTouches(S,this.moveOverOut)))},moveOverOut:function(S){var ma=pa.get(S.pointerId);if(ma){var Ea=ma.out,La=ma.outTarget;f.move(S);Ea&&La!==S.target&&(Ea.relatedTarget=S.target,S.relatedTarget=
La,Ea.target=La,S.target?(f.leaveOut(Ea),f.enterOver(S)):(S.target=La,S.relatedTarget=null,this.cancelOut(S)));ma.out=S;ma.outTarget=S.target}},touchend:function(S){this.dedupSynthMouse(S);this.processTouches(S,this.upOut)},upOut:function(S){this.scrolling||(f.up(S),f.leaveOut(S));this.cleanUpPointer(S)},touchcancel:function(S){this.processTouches(S,this.cancelOut)},cancelOut:function(S){f.cancel(S);f.leaveOut(S);this.cleanUpPointer(S)},cleanUpPointer:function(S){pa.delete(S.pointerId);this.removePrimaryPointer(S)},
dedupSynthMouse:function(S){var ma=ea.lastTouches;S=S.changedTouches[0];this.isPrimaryTouch(S)&&(S={x:S.clientX,y:S.clientY},ma.push(S),ma=function(Ea,La){La=Ea.indexOf(La);-1<La&&Ea.splice(La,1)}.bind(null,ma,S),setTimeout(ma,2500))}};var ya=new v(ia.elementAdded,ia.elementRemoved,ia.elementChanged,ia);var va=f.pointermap,Ha=window.MSPointerEvent&&"number"===typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,qa={events:"MSPointerDown MSPointerMove MSPointerUp MSPointerOut MSPointerOver MSPointerCancel MSGotPointerCapture MSLostPointerCapture".split(" "),
register:function(S){f.listen(S,this.events)},unregister:function(S){f.unlisten(S,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(S){var ma=S;Ha&&(ma=f.cloneEvent(S),ma.pointerType=this.POINTER_TYPES[S.pointerType]);return ma},cleanup:function(S){va.delete(S)},MSPointerDown:function(S){va.set(S.pointerId,S);S=this.prepareEvent(S);f.down(S)},MSPointerMove:function(S){S=this.prepareEvent(S);f.move(S)},MSPointerUp:function(S){var ma=this.prepareEvent(S);f.up(ma);
this.cleanup(S.pointerId)},MSPointerOut:function(S){S=this.prepareEvent(S);f.leaveOut(S)},MSPointerOver:function(S){S=this.prepareEvent(S);f.enterOver(S)},MSPointerCancel:function(S){var ma=this.prepareEvent(S);f.cancel(ma);this.cleanup(S.pointerId)},MSLostPointerCapture:function(S){S=f.makeEvent("lostpointercapture",S);f.dispatchEvent(S)},MSGotPointerCapture:function(S){S=f.makeEvent("gotpointercapture",S);f.dispatchEvent(S)}};if(window.navigator.msPointerEnabled){var Qa=function(S){w(S);a(this);
0!==f.pointermap.get(S).buttons&&(f.setCapture(S,this,!0),this.msSetPointerCapture(S))};var Xa=function(S){w(S);f.releaseCapture(S,!0);this.msReleasePointerCapture(S)}}else Qa=function(S){w(S);a(this);0!==f.pointermap.get(S).buttons&&f.setCapture(S,this)},Xa=function(S){w(S);f.releaseCapture(S)};var gb=function(S){return!!f.captureInfo[S]};(function(){if(I){x.forEach(function(ma){String(ma)===ma?(H+=c(ma)+e(ma)+"\n",J&&(H+=D(ma)+e(ma)+"\n")):(H+=ma.selectors.map(c)+e(ma.rule)+"\n",J&&(H+=ma.selectors.map(D)+
e(ma.rule)+"\n"))});var S=document.createElement("style");S.textContent=H;document.head.appendChild(S)}})();window.PointerEvent||(window.PointerEvent=z,window.navigator.msPointerEnabled?(Object.defineProperty(window.navigator,"maxTouchPoints",{value:window.navigator.msMaxTouchPoints,enumerable:!0}),f.registerSource("ms",qa)):(Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),f.registerSource("mouse",ea),void 0!==window.ontouchstart&&f.registerSource("touch",ia)),f.register(document));
window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:Qa},releasePointerCapture:{value:Xa},hasPointerCapture:{value:gb}});return{dispatcher:f,Installer:v,PointerEvent:z,PointerMap:q,targetFinding:n}})},{}],283:[function(l,M,C){(function(z){(function(){(function(h,v){"object"===typeof C&&"undefined"!==typeof M?M.exports=v():h.Popper=v()})(this,function(){function h(U){var ca=!1;return function(){ca||(ca=!0,window.Promise.resolve().then(function(){ca=
!1;U()}))}}function v(U){var ca=!1;return function(){ca||(ca=!0,setTimeout(function(){ca=!1;U()},ma))}}function D(U){var ca={};return U&&"[object Function]"===ca.toString.call(U)}function c(U,ca){if(1!==U.nodeType)return[];U=U.ownerDocument.defaultView.getComputedStyle(U,null);return ca?U[ca]:U}function e(U){return"HTML"===U.nodeName?U:U.parentNode||U.host}function w(U){if(!U)return document.body;switch(U.nodeName){case "HTML":case "BODY":return U.ownerDocument.body;case "#document":return U.body}var ca=
c(U);return/(auto|scroll|overlay)/.test(ca.overflow+ca.overflowY+ca.overflowX)?U:w(e(U))}function a(U){return 11===U?La:10===U?hb:La||hb}function k(U){if(!U)return document.documentElement;for(var ca=a(10)?document.body:null,ba=U.offsetParent||null;ba===ca&&U.nextElementSibling;)ba=(U=U.nextElementSibling).offsetParent;return(ca=ba&&ba.nodeName)&&"BODY"!==ca&&"HTML"!==ca?-1!==["TH","TD","TABLE"].indexOf(ba.nodeName)&&"static"===c(ba,"position")?k(ba):ba:U?U.ownerDocument.documentElement:document.documentElement}
function r(U){return null!==U.parentNode?r(U.parentNode):U}function q(U,ca){if(!(U&&U.nodeType&&ca&&ca.nodeType))return document.documentElement;var ba=U.compareDocumentPosition(ca)&Node.DOCUMENT_POSITION_FOLLOWING,aa=ba?U:ca,sa=ba?ca:U;ba=document.createRange();ba.setStart(aa,0);ba.setEnd(sa,0);ba=ba.commonAncestorContainer;if(U!==ba&&ca!==ba||aa.contains(sa))return U=ba.nodeName,U="BODY"===U?!1:"HTML"===U||k(ba.firstElementChild)===ba,U?ba:k(ba);aa=r(U);return aa.host?q(aa.host,ca):q(U,r(ca).host)}
function b(U){var ca="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",ba=U.nodeName;return"BODY"===ba||"HTML"===ba?(ba=U.ownerDocument.documentElement,(U.ownerDocument.scrollingElement||ba)[ca]):U[ca]}function d(U,ca){var ba=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,aa=b(ca,"top"),sa=b(ca,"left");ba=ba?-1:1;U.top+=aa*ba;U.bottom+=aa*ba;U.left+=sa*ba;U.right+=sa*ba;return U}function g(U,ca){ca="x"===ca?"Left":"Top";var ba="Left"===ca?"Right":
"Bottom";return parseFloat(U["border"+ca+"Width"])+parseFloat(U["border"+ba+"Width"])}function m(U,ca,ba,aa){return Math.max(ca["offset"+U],ca["scroll"+U],ba["client"+U],ba["offset"+U],ba["scroll"+U],a(10)?parseInt(ba["offset"+U])+parseInt(aa["margin"+("Height"===U?"Top":"Left")])+parseInt(aa["margin"+("Height"===U?"Bottom":"Right")]):0)}function f(U){var ca=U.body;U=U.documentElement;var ba=a(10)&&getComputedStyle(U);return{height:m("Height",ca,U,ba),width:m("Width",ca,U,ba)}}function n(U){return Ma({},
U,{right:U.left+U.width,bottom:U.top+U.height})}function u(U){var ca={};try{if(a(10)){ca=U.getBoundingClientRect();var ba=b(U,"top"),aa=b(U,"left");ca.top+=ba;ca.left+=aa;ca.bottom+=ba;ca.right+=aa}else ca=U.getBoundingClientRect()}catch(sa){}ca={left:ca.left,top:ca.top,width:ca.right-ca.left,height:ca.bottom-ca.top};aa="HTML"===U.nodeName?f(U.ownerDocument):{};ba=U.offsetWidth-(aa.width||U.clientWidth||ca.width);aa=U.offsetHeight-(aa.height||U.clientHeight||ca.height);if(ba||aa)U=c(U),ba-=g(U,"x"),
aa-=g(U,"y"),ca.width-=ba,ca.height-=aa;return n(ca)}function y(U,ca){var ba=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,aa=a(10),sa="HTML"===ca.nodeName,Ba=u(U),Aa=u(ca),ka=w(U),X=c(ca),Y=parseFloat(X.borderTopWidth),B=parseFloat(X.borderLeftWidth);ba&&sa&&(Aa.top=Math.max(Aa.top,0),Aa.left=Math.max(Aa.left,0));Ba=n({top:Ba.top-Aa.top-Y,left:Ba.left-Aa.left-B,width:Ba.width,height:Ba.height});Ba.marginTop=0;Ba.marginLeft=0;!aa&&sa&&(sa=parseFloat(X.marginTop),X=parseFloat(X.marginLeft),
Ba.top-=Y-sa,Ba.bottom-=Y-sa,Ba.left-=B-X,Ba.right-=B-X,Ba.marginTop=sa,Ba.marginLeft=X);if(aa&&!ba?ca.contains(ka):ca===ka&&"BODY"!==ka.nodeName)Ba=d(Ba,ca);return Ba}function E(U){var ca=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,ba=U.ownerDocument.documentElement,aa=y(U,ba),sa=Math.max(ba.clientWidth,window.innerWidth||0),Ba=Math.max(ba.clientHeight,window.innerHeight||0),Aa=ca?0:b(ba);ca=ca?0:b(ba,"left");return n({top:Aa-aa.top+aa.marginTop,left:ca-aa.left+aa.marginLeft,width:sa,
height:Ba})}function t(U){var ca=U.nodeName;return"BODY"===ca||"HTML"===ca?!1:"fixed"===c(U,"position")?!0:(U=e(U))?t(U):!1}function G(U){if(!U||!U.parentElement||a())return document.documentElement;for(U=U.parentElement;U&&"none"===c(U,"transform");)U=U.parentElement;return U||document.documentElement}function P(U,ca,ba,aa){var sa=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1,Ba={top:0,left:0},Aa=sa?G(U):q(U,ca&&ca.referenceNode?ca.referenceNode:ca);if("viewport"===aa)Ba=E(Aa,sa);else{if("scrollParent"===
aa){var ka=w(e(ca));"BODY"===ka.nodeName&&(ka=U.ownerDocument.documentElement)}else ka="window"===aa?U.ownerDocument.documentElement:aa;sa=y(ka,Aa,sa);"HTML"!==ka.nodeName||t(Aa)?Ba=sa:(ka=f(U.ownerDocument),Aa=ka.height,ka=ka.width,Ba.top+=sa.top-sa.marginTop,Ba.bottom=Aa+sa.top,Ba.left+=sa.left-sa.marginLeft,Ba.right=ka+sa.left)}ba=ba||0;sa="number"===typeof ba;Ba.left+=sa?ba:ba.left||0;Ba.top+=sa?ba:ba.top||0;Ba.right-=sa?ba:ba.right||0;Ba.bottom-=sa?ba:ba.bottom||0;return Ba}function x(U,ca,ba,
aa,sa){var Ba=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===U.indexOf("auto"))return U;Ba=P(ba,aa,Ba,sa);var Aa={top:{width:Ba.width,height:ca.top-Ba.top},right:{width:Ba.right-ca.right,height:Ba.height},bottom:{width:Ba.width,height:Ba.bottom-ca.bottom},left:{width:ca.left-Ba.left,height:Ba.height}};Ba=Object.keys(Aa).map(function(X){var Y=Aa[X];return Ma({key:X},Aa[X],{area:Y.width*Y.height})}).sort(function(X,Y){return Y.area-X.area});var ka=Ba.filter(function(X){var Y=X.height;
return X.width>=ba.clientWidth&&Y>=ba.clientHeight});Ba=0<ka.length?ka[0].key:Ba[0].key;ka=U.split("-")[1];return Ba+(ka?"-"+ka:"")}function H(U,ca,ba){var aa=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,sa=aa?G(ca):q(ca,ba&&ba.referenceNode?ba.referenceNode:ba);return y(ba,sa,aa)}function I(U){var ca=U.ownerDocument.defaultView.getComputedStyle(U),ba=parseFloat(ca.marginTop||0)+parseFloat(ca.marginBottom||0);ca=parseFloat(ca.marginLeft||0)+parseFloat(ca.marginRight||0);return{width:U.offsetWidth+
ca,height:U.offsetHeight+ba}}function J(U){var ca={left:"right",right:"left",bottom:"top",top:"bottom"};return U.replace(/left|right|bottom|top/g,function(ba){return ca[ba]})}function L(U,ca,ba){ba=ba.split("-")[0];U=I(U);var aa={width:U.width,height:U.height},sa=-1!==["right","left"].indexOf(ba),Ba=sa?"top":"left",Aa=sa?"left":"top",ka=sa?"height":"width";aa[Ba]=ca[Ba]+ca[ka]/2-U[ka]/2;aa[Aa]=ba===Aa?ca[Aa]-U[sa?"width":"height"]:ca[J(Aa)];return aa}function R(U,ca){return Array.prototype.find?U.find(ca):
U.filter(ca)[0]}function fa(U,ca,ba){if(Array.prototype.findIndex)return U.findIndex(function(sa){return sa[ca]===ba});var aa=R(U,function(sa){return sa[ca]===ba});return U.indexOf(aa)}function ea(U,ca,ba){(void 0===ba?U:U.slice(0,fa(U,"name",ba))).forEach(function(aa){aa["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var sa=aa["function"]||aa.fn;aa.enabled&&D(sa)&&(ca.offsets.popper=n(ca.offsets.popper),ca.offsets.reference=n(ca.offsets.reference),ca=sa(ca,aa))});
return ca}function ua(U,ca){return U.some(function(ba){var aa=ba.name;return ba.enabled&&aa===ca})}function na(U){for(var ca=[!1,"ms","Webkit","Moz","O"],ba=U.charAt(0).toUpperCase()+U.slice(1),aa=0;aa<ca.length;aa++){var sa=ca[aa];sa=sa?""+sa+ba:U;if("undefined"!==typeof document.body.style[sa])return sa}return null}function Q(U){return(U=U.ownerDocument)?U.defaultView:window}function pa(U,ca,ba,aa){var sa="BODY"===U.nodeName;U=sa?U.ownerDocument.defaultView:U;U.addEventListener(ca,ba,{passive:!0});
sa||pa(w(U.parentNode),ca,ba,aa);aa.push(U)}function ia(U,ca){Q(U).removeEventListener("resize",ca.updateBound);ca.scrollParents.forEach(function(ba){ba.removeEventListener("scroll",ca.updateBound)});ca.updateBound=null;ca.scrollParents=[];ca.scrollElement=null;ca.eventsEnabled=!1;return ca}function ya(U){return""!==U&&!isNaN(parseFloat(U))&&isFinite(U)}function va(U,ca){Object.keys(ca).forEach(function(ba){var aa="";-1!=="width height top right bottom left".split(" ").indexOf(ba)&&ya(ca[ba])&&(aa=
"px");U.style[ba]=ca[ba]+aa})}function Ha(U,ca){Object.keys(ca).forEach(function(ba){!1!==ca[ba]?U.setAttribute(ba,ca[ba]):U.removeAttribute(ba)})}function qa(U,ca){var ba=U.offsets,aa=ba.popper,sa=Math.round,Ba=Math.floor,Aa=function(Y){return Y};ba=sa(ba.reference.width);var ka=sa(aa.width),X=-1!==["left","right"].indexOf(U.placement);U=-1!==U.placement.indexOf("-");Ba=ca?X||U||ba%2===ka%2?sa:Ba:Aa;sa=ca?sa:Aa;return{left:Ba(1===ba%2&&1===ka%2&&!U&&ca?aa.left-1:aa.left),top:sa(aa.top),bottom:sa(aa.bottom),
right:Ba(aa.right)}}function Qa(U,ca,ba){var aa=R(U,function(Ba){return Ba.name===ca});U=!!aa&&U.some(function(Ba){return Ba.name===ba&&Ba.enabled&&Ba.order<aa.order});if(!U){var sa="`"+ca+"`";console.warn("`"+ba+"` modifier is required by "+sa+" modifier in order to work, be sure to include it before "+sa+"!")}return U}function Xa(U){var ca=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,ba=Ja.indexOf(U);ba=Ja.slice(ba+1).concat(Ja.slice(0,ba));return ca?ba.reverse():ba}function gb(U,ca,
ba,aa){var sa=[0,0],Ba=-1!==["right","left"].indexOf(aa);U=U.split(/(\+|\-)/).map(function(ka){return ka.trim()});aa=U.indexOf(R(U,function(ka){return-1!==ka.search(/,|\s/)}));U[aa]&&-1===U[aa].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var Aa=/\s*,\s*|\s+/;U=-1!==aa?[U.slice(0,aa).concat([U[aa].split(Aa)[0]]),[U[aa].split(Aa)[1]].concat(U.slice(aa+1))]:[U];U=U.map(function(ka,X){var Y=(1===X?!Ba:Ba)?"height":"width",B=!1;return ka.reduce(function(F,
T){return""===F[F.length-1]&&-1!==["+","-"].indexOf(T)?(F[F.length-1]=T,B=!0,F):B?(F[F.length-1]+=T,B=!1,F):F.concat(T)},[]).map(function(F){var T=F.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var ra=+T[1];T=T[2];if(ra)if(0===T.indexOf("%")){switch(T){case "%p":F=ca;break;default:F=ba}ra*=n(F)[Y]/100}else ra="vh"===T||"vw"===T?("vh"===T?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*ra:ra;else ra=F;return ra})});
U.forEach(function(ka,X){ka.forEach(function(Y,B){ya(Y)&&(sa[X]+=Y*("-"===ka[B-1]?-1:1))})});return sa}var S="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,ma=function(){for(var U=["Edge","Trident","Firefox"],ca=0;ca<U.length;ca+=1)if(S&&0<=navigator.userAgent.indexOf(U[ca]))return 1;return 0}(),Ea=S&&window.Promise?h:v,La=S&&!(!window.MSInputMethodContext||!document.documentMode),hb=S&&/MSIE 10/.test(navigator.userAgent),yb=function(){function U(ca,ba){for(var aa=
0;aa<ba.length;aa++){var sa=ba[aa];sa.enumerable=sa.enumerable||!1;sa.configurable=!0;"value"in sa&&(sa.writable=!0);Object.defineProperty(ca,sa.key,sa)}}return function(ca,ba,aa){ba&&U(ca.prototype,ba);aa&&U(ca,aa);return ca}}(),tb=function(U,ca,ba){ca in U?Object.defineProperty(U,ca,{value:ba,enumerable:!0,configurable:!0,writable:!0}):U[ca]=ba;return U},Ma=Object.assign||function(U){for(var ca=1;ca<arguments.length;ca++){var ba=arguments[ca],aa;for(aa in ba)Object.prototype.hasOwnProperty.call(ba,
aa)&&(U[aa]=ba[aa])}return U},ta=S&&/Firefox/i.test(navigator.userAgent),Oa="auto-start auto auto-end top-start top top-end right-start right right-end bottom-end bottom bottom-start left-end left left-start".split(" "),Ja=Oa.slice(3),$a=function(){function U(ca,ba){var aa=this,sa=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof U))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(aa.update)};this.update=
Ea(this.update.bind(this));this.options=Ma({},U.Defaults,sa);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=ca&&ca.jquery?ca[0]:ca;this.popper=ba&&ba.jquery?ba[0]:ba;this.options.modifiers={};Object.keys(Ma({},U.Defaults.modifiers,sa.modifiers)).forEach(function(Aa){aa.options.modifiers[Aa]=Ma({},U.Defaults.modifiers[Aa]||{},sa.modifiers?sa.modifiers[Aa]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(Aa){return Ma({name:Aa},aa.options.modifiers[Aa])}).sort(function(Aa,
ka){return Aa.order-ka.order});this.modifiers.forEach(function(Aa){if(Aa.enabled&&D(Aa.onLoad))Aa.onLoad(aa.reference,aa.popper,aa.options,Aa,aa.state)});this.update();var Ba=this.options.eventsEnabled;Ba&&this.enableEventListeners();this.state.eventsEnabled=Ba}yb(U,[{key:"update",value:function(){if(!this.state.isDestroyed){var ca={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};ca.offsets.reference=H(this.state,this.popper,this.reference,this.options.positionFixed);ca.placement=
x(this.options.placement,ca.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);ca.originalPlacement=ca.placement;ca.positionFixed=this.options.positionFixed;ca.offsets.popper=L(this.popper,ca.offsets.reference,ca.placement);ca.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";ca=ea(this.modifiers,ca);if(this.state.isCreated)this.options.onUpdate(ca);else this.state.isCreated=!0,this.options.onCreate(ca)}}},
{key:"destroy",value:function(){this.state.isDestroyed=!0;ua(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[na("transform")]="");this.disableEventListeners();this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper);return this}},{key:"enableEventListeners",value:function(){if(!this.state.eventsEnabled){var ca=
this.reference,ba=this.state;ba.updateBound=this.scheduleUpdate;Q(ca).addEventListener("resize",ba.updateBound,{passive:!0});ca=w(ca);pa(ca,"scroll",ba.updateBound,ba.scrollParents);ba.scrollElement=ca;ba.eventsEnabled=!0;this.state=ba}}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=ia(this.reference,this.state))}}]);return U}();$a.Utils=("undefined"!==typeof window?window:z).PopperUtils;$a.placements=Oa;$a.Defaults=
{placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(U){var ca=U.placement,ba=ca.split("-")[0];if(ca=ca.split("-")[1]){var aa=U.offsets,sa=aa.reference;aa=aa.popper;var Ba=-1!==["bottom","top"].indexOf(ba);ba=Ba?"left":"top";Ba=Ba?"width":"height";sa={start:tb({},ba,sa[ba]),end:tb({},ba,sa[ba]+sa[Ba]-aa[Ba])};U.offsets.popper=Ma({},aa,sa[ca])}return U}},offset:{order:200,enabled:!0,fn:function(U,
ca){var ba=ca.offset,aa=U.offsets;ca=aa.popper;var sa=aa.reference;aa=U.placement.split("-")[0];ba=ya(+ba)?[+ba,0]:gb(ba,ca,sa,aa);"left"===aa?(ca.top+=ba[0],ca.left-=ba[1]):"right"===aa?(ca.top+=ba[0],ca.left+=ba[1]):"top"===aa?(ca.left+=ba[0],ca.top-=ba[1]):"bottom"===aa&&(ca.left+=ba[0],ca.top+=ba[1]);U.popper=ca;return U},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(U,ca){var ba=ca.boundariesElement||k(U.instance.popper);U.instance.reference===ba&&(ba=k(ba));var aa=na("transform"),
sa=U.instance.popper.style,Ba=sa.top,Aa=sa.left,ka=sa[aa];sa.top="";sa.left="";sa[aa]="";var X=P(U.instance.popper,U.instance.reference,ca.padding,ba,U.positionFixed);sa.top=Ba;sa.left=Aa;sa[aa]=ka;ca.boundaries=X;var Y=U.offsets.popper,B={primary:function(F){var T=Y[F];Y[F]<X[F]&&!ca.escapeWithReference&&(T=Math.max(Y[F],X[F]));return tb({},F,T)},secondary:function(F){var T="right"===F?"left":"top",ra=Y[T];Y[F]>X[F]&&!ca.escapeWithReference&&(ra=Math.min(Y[T],X[F]-("right"===F?Y.width:Y.height)));
return tb({},T,ra)}};ca.priority.forEach(function(F){var T=-1!==["left","top"].indexOf(F)?"primary":"secondary";Y=Ma({},Y,B[T](F))});U.offsets.popper=Y;return U},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(U){var ca=U.offsets,ba=ca.popper;ca=ca.reference;var aa=U.placement.split("-")[0],sa=Math.floor,Ba=-1!==["top","bottom"].indexOf(aa);aa=Ba?"right":"bottom";var Aa=Ba?"left":"top";Ba=Ba?"width":"height";ba[aa]<
sa(ca[Aa])&&(U.offsets.popper[Aa]=sa(ca[Aa])-ba[Ba]);ba[Aa]>sa(ca[aa])&&(U.offsets.popper[Aa]=sa(ca[aa]));return U}},arrow:{order:500,enabled:!0,fn:function(U,ca){var ba;if(!Qa(U.instance.modifiers,"arrow","keepTogether"))return U;ca=ca.element;if("string"===typeof ca){if(ca=U.instance.popper.querySelector(ca),!ca)return U}else if(!U.instance.popper.contains(ca))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),U;var aa=U.placement.split("-")[0],sa=U.offsets,Ba=
sa.popper,Aa=sa.reference,ka=-1!==["left","right"].indexOf(aa);aa=ka?"height":"width";var X=ka?"Top":"Left";sa=X.toLowerCase();var Y=ka?"left":"top",B=ka?"bottom":"right";ka=I(ca)[aa];Aa[B]-ka<Ba[sa]&&(U.offsets.popper[sa]-=Ba[sa]-(Aa[B]-ka));Aa[sa]+ka>Ba[B]&&(U.offsets.popper[sa]+=Aa[sa]+ka-Ba[B]);U.offsets.popper=n(U.offsets.popper);Aa=Aa[sa]+Aa[aa]/2-ka/2;var F=c(U.instance.popper);B=parseFloat(F["margin"+X]);X=parseFloat(F["border"+X+"Width"]);X=Aa-U.offsets.popper[sa]-B-X;X=Math.max(Math.min(Ba[aa]-
ka,X),0);U.arrowElement=ca;U.offsets.arrow=(ba={},tb(ba,sa,Math.round(X)),tb(ba,Y,""),ba);return U},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(U,ca){if(ua(U.instance.modifiers,"inner")||U.flipped&&U.placement===U.originalPlacement)return U;var ba=P(U.instance.popper,U.instance.reference,ca.padding,ca.boundariesElement,U.positionFixed),aa=U.placement.split("-")[0],sa=J(aa),Ba=U.placement.split("-")[1]||"",Aa=[];switch(ca.behavior){case "flip":Aa=[aa,sa];break;case "clockwise":Aa=Xa(aa);
break;case "counterclockwise":Aa=Xa(aa,!0);break;default:Aa=ca.behavior}Aa.forEach(function(ka,X){if(aa!==ka||Aa.length===X+1)return U;aa=U.placement.split("-")[0];sa=J(aa);var Y=U.offsets.popper;ka=U.offsets.reference;var B=Math.floor;ka="left"===aa&&B(Y.right)>B(ka.left)||"right"===aa&&B(Y.left)<B(ka.right)||"top"===aa&&B(Y.bottom)>B(ka.top)||"bottom"===aa&&B(Y.top)<B(ka.bottom);var F=B(Y.left)<B(ba.left),T=B(Y.right)>B(ba.right),ra=B(Y.top)<B(ba.top);B=B(Y.bottom)>B(ba.bottom);Y="left"===aa&&F||
"right"===aa&&T||"top"===aa&&ra||"bottom"===aa&&B;var Na=-1!==["top","bottom"].indexOf(aa),Ta=!!ca.flipVariationsByContent&&(Na&&"start"===Ba&&T||Na&&"end"===Ba&&F||!Na&&"start"===Ba&&B||!Na&&"end"===Ba&&ra);F=!!ca.flipVariations&&(Na&&"start"===Ba&&F||Na&&"end"===Ba&&T||!Na&&"start"===Ba&&ra||!Na&&"end"===Ba&&B)||Ta;if(ka||Y||F){U.flipped=!0;if(ka||Y)aa=Aa[X+1];F&&("end"===Ba?Ba="start":"start"===Ba&&(Ba="end"));U.placement=aa+(Ba?"-"+Ba:"");U.offsets.popper=Ma({},U.offsets.popper,L(U.instance.popper,
U.offsets.reference,U.placement));U=ea(U.instance.modifiers,U,"flip")}});return U},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(U){var ca=U.placement,ba=ca.split("-")[0],aa=U.offsets,sa=aa.popper;aa=aa.reference;var Ba=-1!==["left","right"].indexOf(ba),Aa=-1===["top","left"].indexOf(ba);sa[Ba?"left":"top"]=aa[ba]-(Aa?sa[Ba?"width":"height"]:0);U.placement=J(ca);U.offsets.popper=n(sa);return U}},hide:{order:800,
enabled:!0,fn:function(U){if(!Qa(U.instance.modifiers,"hide","preventOverflow"))return U;var ca=U.offsets.reference,ba=R(U.instance.modifiers,function(aa){return"preventOverflow"===aa.name}).boundaries;if(ca.bottom<ba.top||ca.left>ba.right||ca.top>ba.bottom||ca.right<ba.left){if(!0===U.hide)return U;U.hide=!0;U.attributes["x-out-of-boundaries"]=""}else{if(!1===U.hide)return U;U.hide=!1;U.attributes["x-out-of-boundaries"]=!1}return U}},computeStyle:{order:850,enabled:!0,fn:function(U,ca){var ba=ca.x,
aa=ca.y,sa=U.offsets.popper,Ba=R(U.instance.modifiers,function(F){return"applyStyle"===F.name}).gpuAcceleration;void 0!==Ba&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");ca=void 0!==Ba?Ba:ca.gpuAcceleration;Ba=k(U.instance.popper);var Aa=u(Ba);sa={position:sa.position};var ka=qa(U,2>window.devicePixelRatio||!ta);ba="bottom"===ba?"top":"bottom";aa="right"===aa?"left":"right";var X=na("transform"),Y=void 0,
B=void 0;B="bottom"===ba?"HTML"===Ba.nodeName?-Ba.clientHeight+ka.bottom:-Aa.height+ka.bottom:ka.top;Y="right"===aa?"HTML"===Ba.nodeName?-Ba.clientWidth+ka.right:-Aa.width+ka.right:ka.left;ca&&X?(sa[X]="translate3d("+Y+"px, "+B+"px, 0)",sa[ba]=0,sa[aa]=0,sa.willChange="transform"):(sa[ba]=B*("bottom"===ba?-1:1),sa[aa]=Y*("right"===aa?-1:1),sa.willChange=ba+", "+aa);U.attributes=Ma({},{"x-placement":U.placement},U.attributes);U.styles=Ma({},sa,U.styles);U.arrowStyles=Ma({},U.offsets.arrow,U.arrowStyles);
return U},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(U){va(U.instance.popper,U.styles);Ha(U.instance.popper,U.attributes);U.arrowElement&&Object.keys(U.arrowStyles).length&&va(U.arrowElement,U.arrowStyles);return U},onLoad:function(U,ca,ba,aa,sa){aa=H(sa,ca,U,ba.positionFixed);U=x(ba.placement,aa,ca,U,ba.modifiers.flip.boundariesElement,ba.modifiers.flip.padding);ca.setAttribute("x-placement",U);va(ca,{position:ba.positionFixed?"fixed":"absolute"});return ba},
gpuAcceleration:void 0}}};return $a})}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],284:[function(l,M,C){(function(z){function h(){}function v(a,k){for(var r=a.length;r--;)if(a[r].listener===k)return r;return-1}function D(a){return function(){return this[a].apply(this,arguments)}}function c(a){return"function"===typeof a||a instanceof RegExp?!0:a&&"object"===typeof a?c(a.listener):!1}var e=h.prototype,w=z.EventEmitter;
e.getListeners=function(a){var k=this._getEvents(),r;if(a instanceof RegExp){var q={};for(r in k)k.hasOwnProperty(r)&&a.test(r)&&(q[r]=k[r])}else q=k[a]||(k[a]=[]);return q};e.flattenListeners=function(a){var k=[],r;for(r=0;r<a.length;r+=1)k.push(a[r].listener);return k};e.getListenersAsObject=function(a){var k=this.getListeners(a);if(k instanceof Array){var r={};r[a]=k}return r||k};e.addListener=function(a,k){if(!c(k))throw new TypeError("listener must be a function");a=this.getListenersAsObject(a);
var r="object"===typeof k,q;for(q in a)a.hasOwnProperty(q)&&-1===v(a[q],k)&&a[q].push(r?k:{listener:k,once:!1});return this};e.on=D("addListener");e.addOnceListener=function(a,k){return this.addListener(a,{listener:k,once:!0})};e.once=D("addOnceListener");e.defineEvent=function(a){this.getListeners(a);return this};e.defineEvents=function(a){for(var k=0;k<a.length;k+=1)this.defineEvent(a[k]);return this};e.removeListener=function(a,k){a=this.getListenersAsObject(a);var r;for(r in a)if(a.hasOwnProperty(r)){var q=
v(a[r],k);-1!==q&&a[r].splice(q,1)}return this};e.off=D("removeListener");e.addListeners=function(a,k){return this.manipulateListeners(!1,a,k)};e.removeListeners=function(a,k){return this.manipulateListeners(!0,a,k)};e.manipulateListeners=function(a,k,r){var q,b,d=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!==typeof k||k instanceof RegExp)for(q=r.length;q--;)d.call(this,k,r[q]);else for(q in k)k.hasOwnProperty(q)&&(b=k[q])&&("function"===typeof b?
d.call(this,q,b):a.call(this,q,b));return this};e.removeEvent=function(a){var k=typeof a,r=this._getEvents(),q;if("string"===k)delete r[a];else if(a instanceof RegExp)for(q in r)r.hasOwnProperty(q)&&a.test(q)&&delete r[q];else delete this._events;return this};e.removeAllListeners=D("removeEvent");e.emitEvent=function(a,k){var r=this.getListenersAsObject(a),q,b;for(b in r)if(r.hasOwnProperty(b)){var d=r[b].slice(0);for(q=0;q<d.length;q++){var g=d[q];!0===g.once&&this.removeListener(a,g.listener);var m=
g.listener.apply(this,k||[]);m===this._getOnceReturnValue()&&this.removeListener(a,g.listener)}}return this};e.trigger=D("emitEvent");e.emit=function(a){var k=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,k)};e.setOnceReturnValue=function(a){this._onceReturnValue=a;return this};e._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};e._getEvents=function(){return this._events||(this._events={})};h.noConflict=function(){z.EventEmitter=
w;return h};"object"===typeof M&&M.exports?M.exports=h:z.EventEmitter=h})("undefined"!==typeof window?window:this||{})},{}]},{},[1])(1)});
